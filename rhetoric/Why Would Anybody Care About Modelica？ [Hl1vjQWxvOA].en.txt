hello everyone my name is michael tiller
and uh i'm going to give a talk that
i've titled why would anybody care about
modelica
i'm going to talk about my journey to
modeling and simulation
and given the generational divide here
since much of what i'm going to talk
about here happened before most of you
were born
i'll be covering some historical context
as well
so this talk is really broken down into
two parts
the first part is how i came to be
involved in modeling simulation and
ultimately in modelica
and then the second part i'm going to
talk about a real world application of
modelica that i was involved in
now my goal here i have a couple of them
first one is
to explain what motivated me to get into
modeling and simulation
and also to tell an interesting story
about a real world product that
some of you may have even used or
come in contact with that had to do with
my work at ford motor company
but mostly what i really wanted to do is
hopefully inspire at least some of you
as the next generation of engineers to
apply modeling and simulation to
real-world problems in the
same way that i have and hopefully have
as
a career as as interesting and
satisfying as i've had as well
i was talking with my wife the other day
about giving this talk and it reminded
me of this
uh this scene from the movie real genius
i think the young people enjoy it when i
get down
verbally don't you all right
let's get started here um i'll start
here's a picture of me
in graduate school actually no sorry
that
is not me that is the eniac computer
it was the first computer ever made
that was a little bit before i went to
graduate school
and i want to talk about sort of
why this computer came to exist okay
there's an important lesson here
so i'm going to start with a quiz on
this
so the question for you as you know
the audience here since again many of
these things
these historical things are before you
were born i want you to
to see if you can figure this out the
question is why were computers invented
okay so i'll give you a few options here
and you just pick from the one that you
think is
is is the most likely
okay now you may be disappointed to find
that the answer is in fact none of the
above
in fact computers were invented to model
artillery it used to be back in the old
days
i'll be talking a lot about the old days
because that's what i know
in the old days you had these tables
and they would use them when they were
firing artillery to try and
figure out for a given muzzle angle and
a given amount of
of charge in the shell and the wind
velocity and direction they're trying to
figure out where this thing was going to
go
this had obvious practical applications
so it turned out people realized that
you could use a computer to calculate
these things
i'm not quite sure how they calculated
them before i have this vision of people
sitting in
on on one of these guns in a in a remote
desert location firing these things
under various conditions and then just
getting out like a measuring tape or
something and figuring out
exactly where everything landed but
somehow you know they made these tables
but
ultimately i think computers made these
better
now my first
real application for these kinds of
things
i involved modeling gravity and orbital
dynamics
and i i would try and write programs
this isn't one of them but
they they were similar
and the idea was to use the math and the
physics to predict the motion of these
bodies
under gravitational forces i did this
stuff
on my apple computer this
is back before apple made phones
this is when they made just boxy ugly
computers
they've come a long way in that regard
but this is also my first taste of a
practical application
now i i remember actually making a game
like this again this isn't
this isn't actually an image from my
childhood per se
at least of anything that i created but
i remember making a program like this on
the apple ii
and it was it would allow you to
model the behavior of this this lunar
lander
and so it turns out i say this is
a a practical application because in
fact
i mean we've obviously landed a lunar
lander on the moon
the terrain wasn't quite as rugged shall
we say as what you see here
um but um
there's a there's a real world problem
to be solved here and and there's not
only the physics of this problem there's
a control problem
there's an optimal control problem uh
there are constraints in the system
so it's it's really interesting um
and it got me thinking about about the
power of these kinds of
of computers to do these kinds of things
the way i try and describe it to people
is to me modeling and simulation is like
this amazing crystal ball
you can use it to look into the future
you can use the computer to set up
an initial value problem and then you
just let it go
and what unfolds is the future given
those initial conditions
and i just think that's a fascinating
thing and there are so many ways that
you can use it as a crystal ball
um that it's it's almost magical
so i went uh to do my undergraduate work
then
and i was a student in mechanical
engineering so all of my degrees are in
mechanical engineering
but what was a little unusual was that i
worked in the medical school
and i worked on neuroscience research so
this was in the department of physiology
at the university of minnesota and the
work that i did
was in the modeling of nerve cells now
you may not recognize this but it just
so happens that you're made of billions
of these
this is uh there's a different kind of
neural network than you've probably
heard of
by that i mean it's a real one it's not
some
computer science notion of what a neural
network is this is this is what neurons
really look like
i used to joke when i worked in in this
area that i'd say it's not brain surgery
but it's pretty close what we would do
is we would take
nerve cells and we would i inject them
with dye
and then we would look at them under a
confocal microscope
and we would record their their
morphology their structure
and then we would translate that data
into what are called compartmental
models
which were essentially electrical
circuits
where each segment of this neuron and we
would break it up into lots of different
segments
each segment would be composed of a
series of resistances capacitances
and really most importantly non-linear
voltage sources and resistance or
conductance pathways
these were the what are called ion
channels that exist in the membranes of
nerve cells
for which hodgkin and huxley won the
nobel prize in fact
and it's pretty interesting it's a it's
an electrochemical
system and obviously it's powering me
and everybody listening to me right now
so it's
it's pretty interesting and it was
during this time really that
my mind was blown uh and it wasn't
it wasn't the neuroscience that blew my
mind in this case
it um it wasn't the brain part it was
the modeling part
i first came in contact with a modeling
language during this time
it was a language called mast and uh i
dug up an old manual from it you can see
a little fragment of the
the code i think it's it's pretty um
pretty boring when shown next to
modelica which i think is a
much richer language but nevertheless it
was
at the time it was pretty mind blowing
to me i came at this from the standpoint
of
a programmer and programming this stuff
was actually a lot of work and this
approach of using a modeling language
made life so much easier and made the
modeling and simulation so much more fun
that uh it really was a turning point
for me in my
career
so you know what what's the big deal
here why is it so
significant well i was used to writing
imperative code
by that i mean like for loops and if
statements and assignments and
subroutines and
things like that and doing all this math
myself
so in order to solve the the underlying
physics equations
i had to write a whole bunch of stuff to
a bunch of code i had to
manipulate all my equations into a
certain form and then i had to connect
them to some kind of solver and i had to
pick tolerances and i had to
pick time steps and it was just it was a
lot of work
and this approach was declarative i just
wrote the equations right out of the
textbook
and it just solved them and i didn't
have to do anything with all of this
this other programming it was it was
really just it wasn't a step-by-step set
of instructions it was just
this is the way it is and it would sort
it out from there so that's what i mean
when i talk about it being declarative
now it turned out that
this was really for me significant
because it was no more thinking about
discretization schemes and figuring out
how to plug my equations into these
off-the-shelf solvers and having to do
all this serious rewriting of
calculations and so on
you know i i i didn't want any part of
that but you know what if
what it brought me to was a place where
i was just writing textbook equations
for each of these components drawing a
diagram with those components in it and
then pushing simulate i could then
easily change the connections i could
change the parameters i could change the
components that were
in there it was just a lot higher level
and a lot faster
in fact sort of an interesting aside as
an undergraduate
i i took this idea to one of my
professors and i said hey you know
can i do some kind of independent study
project and use this kind of
technology to build a library of
thermodynamic components in
a modeling language because i was a
mechanical engineering student and i was
studying thermodynamics at the time
and thermodynamics is pretty challenging
i think i probably would have bitten off
more than i could chew
but the professor saved me from that
because he looked at me
you know very you know sort of as like i
was
i was pathetic and said oh that's all
been done before you know like you
thought that was an original idea but
you know
sorry kid well it's funny because i
don't think he really understood
what i wanted to do it was i guess true
enough that
tools existed to do this kind of thing
but i don't think he understood
that what i wanted was the power to
create the tool myself
i mean using the modeling image to
actually create these components i
wanted to be empowered
to create not just a library for
modeling these kinds of things
but a library that could be extended
without having to
essentially program it not in the
conventional sense
and he just didn't get that he said you
know yeah programmers have written
things like this before and i and that
wasn't the point
i wanted it so that engineers could
create stuff like this
and uh it's funny because that was
probably around 1990
and it was 15 years later that
i was organizing a conference where
people were presenting exactly what i
had been talking about
and so this is a paper from that
conference one of the many conferences
actually and you can see it says gas
turbine applications using thermal fluid
and it's full of thermodynamic
components compressors and
pumps and you know valves so on so this
is what i was hoping to do
and um you know and it took 15 years
to develop an ecosystem that
would allow me to do this or at least
allow somebody to do this
i did work in similar sorts of work
actually at ford which i'll talk about
in a minute
i then went on to graduate school um
and that that allowed me to then joke
with people i would say you know the
work i'm doing
isn't rocket science but it's close
because
i did finite element modeling and
solidification modeling that was funded
by nasa
and as part of that developed
computational models of an experiment
that went up in the space shuttle and
that brings me to a
i want to point out a little known fact
here which is you know you may not
be aware of this being so young but
the us actually had a space program
before elon musk came along
and so i was involved in that a little
bit
so um i left
to go work for ford motor company it
turns out
after graduating from graduate school i
had two job offers in hand one was to go
work for
a computer gaming company that made 3d
games
and the other was to go work for ford
and this sort of
shows you how boring i am i chose to go
work for ford
so that work involved a lot of things
one was engine modeling so i
i mentioned earlier that i eventually
got a chance to do a bunch of
interesting thermodynamic modeling and
that was in modeling of internal
combustion engines
i also did transmission modeling i did
some battery modeling
and i did some work on a hybrid electric
vehicle
and i'll talk about that in just a
minute but during this time there was
another sort of pivotal moment
for me you see um
yeah i was i was i worked with a bunch
of smart people and i was
walking down the hall one day and a
colleague
asked me you know in passing he says
have you ever heard of a tool called
daimla
apparently they have some kind of
symbolic approach to modeling
he'd heard about this from somebody else
i think was somebody at toyota in fact
and i said no no i've never heard of it
but i can't see how that could possibly
work in practice
and i would say that my whole career
following that is really a testament to
what an idiot i was
for saying that um
you know i i i said that and then
i mean literally my whole career i i
proved that
so wrong i i
on reconsideration let's say i looked at
it and i saw some examples of this in
practice and i thought
wow this is really significant what
these guys are doing
this is in fact the future of modeling
and simulation
but of course i didn't see it that way
at first so this is an actual picture of
me
uh in the corner with my dunce cap on
that by the way
no color photography yet at this point
in history and it's uh
the photo here believe it or not was not
taken on a phone either that's a that's
an actual photo with a camera
anyway um moving on so
so i mentioned daimler so daimler was
the language associated with a tool also
called daimla
by a small swedish company called
dynasim
and the owner of that company realized
that being a small swedish company
it was going to be hard for him to
compete with a lot of the larger
companies
but he had this idea of trying to create
an open
multi-domain modeling language so
he offered up the essentially the
intellectual property that he had
accumulated in the form of his
daimler modeling language
and offered it up as a starting point
for this effort to create
an open multi-domain modeling language
which would eventually become modelica
and he pulled together a lot of
interesting people actually
people who are now been friends of mine
for about 20 years
um to to work on this and to use it in
their own tools and so today we
there are a whole bunch of tools on the
market that support modelica
as a result of that
okay so um
what did this change well
the world before that was really tools
like simulink where you had block
diagrams with
fixed causalities and you had these
purely numerical approaches to
simulation where
you'd try you'd have a candidate state
and you'd punch in a bunch of numbers
and you calculate some residual
and then you'd go back and you'd run
some nonlinear solver and iterate on it
and um you know it was the the
simulations weren't as efficient as they
could have been there was also
the it wasn't just the symbolics and the
numerics that were
the issue it was also the fact that
the whole approach just ignored
20 years of computer science in in the
sense that these were tools that
weren't really languages most of the
other tools i'm not talking about the
modelica stuff but the stuff the
the alternatives to madelica they
weren't really languages they were
proprietary
they didn't have these notions of
inheritance or
object oriented or type systems or
anything and so
a lot of the reuse of components in
those days was just people copying and
pasting
bits of diagrams into other bits of
diagrams so
it really wasn't you know it was better
than
than the eniac and it was you know
arguably better than
than a lot of what you had in the in the
50s 60s and 70s i suppose
but it really wasn't as good as it could
have been
and and this kind of changed with
madelica
modelica allowed for symbolic
manipulation
of these systems to optimize
calculations in fact it's kind of an
interesting story
hildemphist who's the the father of
medelica he actually started this work
in in modeling languages back when he
was in graduate school
which i think was 1979 i think
and the computers just simply weren't
powerful enough to do it
and he literally took 10 years off
of that topic and worked in industry and
came back to it
waiting for the computers to catch up to
the idea
so this symbolic manipulation stuff came
about really when computers started to
get more and more memory
because it required more memory than
computers in the 70s had
but modelica brought in other things
like a causal connection semantics which
by the way uh masked
the the modeling language i referred to
earlier that i worked with when i was
doing physiology work
um that also had a causal connection
semantics but the thing that
differentiated it from me
from mast was that mast as a modeling
language was
really about simulating
electrical systems you could kind of do
some chemical stuff but it was mostly
for electrical systems
and modelica was able to do mechanical
systems like
3d rigid body motion and fluid systems
so things like
you know compressible flow two-phase
flow
and this was really powerful to me as a
mechanical engineer
and the fact that you could combine
these things you could have a mechanical
system connected to a fluid system
connected to an electrical system
connected to a control system
all in the same environment it was
pretty pretty cool but it also had
these things i mentioned before of
inheritance replaceability
component hierarchies the parts that got
their influence from the computer
science side
so this is all you know a huge
improvement now in a second i'm going to
talk about an application but
i don't want to get into that
without first mentioning the fact that
there's a lot of really interesting
fundamental research to be done
in the area of the algorithms involved
in this kind of stuff there's a lot of
graph theory that's required in order to
be able to solve these kinds of physical
systems and
i'm not going to go into what all these
things are here but they're they're
really fascinating and so if you're
if you're not really so interested in
the the physics and you're more
interested in the math and the computer
science
there's plenty of room for you as well
so with that i want to talk about this
car so
this car is is dear to my heart because
it was developed while i was at ford
motor company this is the ford hybrid
escape
it was the first production hybrid in
the united states
it was the first hybrid suv in the world
and i had the great pleasure of working
with the team
that developed it and in fact a little
bit of a boast
not about me but about my wife she won
the henry ford technology award
which is the highest technical award
that ford motor ford motor company gives
out
for her work on developing the
supervisory control systems in this
vehicle
so as i said it's dear to my heart for
many reasons and
the interesting thing that happened with
this vehicle within ford motor company
is that we had produced conventional
vehicles up until this point in just
typical
combustion engines internal combustion
engines and
this vehicle actually created a vacuum
within ford monitor company
a vacuum because although we had
developed tools for conventional
vehicles
uh in the past they were not shall we
say agile enough to make the pivot to
dealing with the issues that you had on
hybrid vehicles
and so as a result there was just a lack
of tools and analysis capabilities
within the company
for hybrid vehicles which i was more
than happy to try and fill
with madelica and in fact i did
so it turns out there were numerous
applications on the hybrid escape
um one involved gear rattle another one
that i wrote a paper on was about the
overall system efficiency taking into
account the mechanical and the
electrical
power flows and efficiencies or
inefficiencies as the case may be
in that system and being able to analyze
what the sort of overall
efficiency of the transmission that was
in
in different use cases but the big one
that i worked on
was this split mew winter testing issue
and so to set the stage here we were
about to go
to production and we were doing the last
round of winter testing
with this particular vehicle now
this is our last chance to do winter
testing before the release of the
vehicle
and it turns out that during testing
during certain kinds of hard braking
maneuvers and i misspelled braking there
i apologize
braking as in brakes not as in to break
something although
there's a little bit of irony there's a
bit of a double entendre coming here
um the um but during these braking
maneuvers
uh especially breaking maneuvers on low
traction surfaces the engine mount
brackets
would fracture so that's the that's the
braking maneuver part
where something actually breaks now
you probably aren't familiar with engine
mount brackets but they're they're
pretty solid pieces of metal
and they don't normally break at all
they
are mainly meant to fasten the engine
to the frame and that's not done just to
be clear it's not done
rigidly there are some essentially some
springs that are in there uh some
bushings that allow the
the engine to to move a little bit and
um
but the weird thing about this problem
was it was only seen on the hybrid
we made a conventional hybrid escape
you know with a normal combustion engine
in it and it didn't have this problem
you could drive it around on
split mu surfaces and low traction
surfaces all day and it would be fine
but you took the hybrid out and
boom um in addition to the engine mount
bracket braking we were finding the half
shafts were yielding the half shafts of
the parts that connect the transmission
on the transaxle on a front-wheel drive
car to the to the
wheels themselves they were yielding
that means they were permanently
deforming
also not good also does not normally
happen
in a vehicle so um
so management demanded an investigation
into this issue because
the thing about a car company is that if
you ever hold
up production of a vehicle uh
you will get a lot of serious and
negative attention
and so nobody wanted to be the person
who
was responsible for delaying the release
of this vehicle especially such a
prestigious program
so you know we we went into
investigative mode
and um so i'm going to tell you about
that experience and what we some of the
things we learned and why
modelica actually was important in that
context but first i want to explain
this power split architecture so the
ford hybrid escape is what's called the
power split
transmission that's ford's name for it
it's a very simple transmission actually
it's
it's quite elegant there are two
electric machines
in this system there's a single
planetary gear and there are no clutches
so you've got an internal combustion
engine which i'll
sort of point these things out here
you've got this internal combustion
engine
labeled here then you've got a single
planetary and the um
the engine is on what's called the the
carrier or the planets in this planetary
gear
and there's an electric motor built in
around the sun
gear of this system and then the ring
gear
connects to another gear these are what
are called reversing gears here
that you see and one of those reversing
gears also had a motor connected to it
and all of this goes down to the tires
now there's a little misleading the way
this is drawn but i'll
sort of correct it in a minute here um
but this is this is the basic thing
there's no clutches
it's it's actually quite simple uh and
the the
the lack of clutches or a torque
converter really helps in terms of the
the energy efficiency too these are all
rigid connections there's
not a lot of friction and fluid losses
okay so that's
that's what's what it looks like now
there's something wrong with this
picture here uh
and it's sort of a classic mistake that
i see
uh i you know take a minute to sort of
look at this
thing and and think about what's missing
um i don't know how many people have
actually worked with mechanical systems
so if your area is electrical
engineering you
may not really spot something like this
a lot of mechanical engineers don't
really think about it
but but it turns out it's quite
important you've
probably hopefully maybe modeled gears
at some point in your life and learned
this notion that
the the thing about a gear is that it
amplifies torque and so you often write
an equation that says okay well the
torque out of this gear is going to be
equal to
some gear ratio times the torque that
goes into it
and and this is partially true that's
definitely an
effect of gears is to amplify torque but
this equation itself isn't quite right
the reason it's not quite right is that
it doesn't really conserve momentum if
you take a step back and think about
this from first principles
torque itself is a flow of something
that's conserved it's the flow of
angular momentum
so if you're used to electrical circuits
think about current
you know current is also the flow of a
conserved quantity and so you've got
this component here where you've got a
certain amount of this conserved
quantity flowing in
and then you've got a different amount
of this conserved quantity flowing out
well how does that happen i mean it's a
conserved quantity
you can't just make angular momentum in
the same way you can't just
make electrons so where is it coming
from and and
it's there it's just not in this
equation it turns out
that a gear actually has
sort of two equations that go into it
one is the conservation of angular
momentum and one is
effectively something you can derive
from conservation of energy but the net
result is
that a proper gear model will not only
talk about this torque amplification
but this will actually only happen if
the
housing of the gear is rigid which
is not the case in most applications in
fact there's a something called a
reaction torque on gears
and that torque uh
essentially results from this kind of
thing so anytime you have a gear like
this and you're getting this torque
amplification
there's these reaction torques or these
torques and the reaction torques
are sort of acting against things and
you have to take this into account so
let me be a little more concrete here
with a diagram
all these things in this diagram have
another piece that's not shown
the engine itself has a block and
connected to the block are the engine
mounts um
the the motor has a stator so it's not
just the rotor it's the stator and the
stator has to be connected something you
can't just float in the air like this
the gears themselves have a housing and
that housing has to be attached to
something
the brakes are connected to the
suspension
and it's it's easy if you're creating a
simple model to overlook all these
things but when you create a simple
model of this system
you will get the wrong answer because it
turns out that
these effects these reaction torques are
important
and we'll come back to that in in a
little while
but before we get to that i want to
explain how
anti-lock brake systems work which may
seem like
uh i'm suddenly going off on a tangent
but
it's relevant trust me so
let's talk about brakes so i think the
best way to visualize
the way the brakes are working in this
system is is like this
you see you've got you've got a tire
here as part of the wheel and another
tire here that's part of this wheel
i'm going to refer to the angular
velocity of this wheel as omega l
and the angular velocity of this wheel
as omega r
okay this is the right wheel in the
middle
in this diagram unfortunately they show
a gear
this is not how a a driveline works
in any axle in a car you will have
what's called the differential
so just imagine this is a picture of a
differential even though it's not so
there is a differential in the actual
system
now what does that mean well a
differential is a really interesting
device and i'll try and explain with
some pictures here what's really going
on so if it turns out that your
left wheel's speed is zero and your
right wheel's speed is zero
then your transmission speed will be
zero
okay now on the other hand
if you are driving straight down the
road and you have a certain velocity
in both of the wheels and if you're
driving straight they'll be equal
then the speed of your transmission will
be effectively the average of those two
and so you just draw a line between them
and that's the speed of the transmission
so in the trend when i say the speed of
the transmission i'm talking about the
input shafts that are coming in here
i think it's it may actually be twice
there may be a factor of two but that's
not important for the the discussion
here
um so you can just think of this that
what's going on here as being the
average of what's going on here and
what's going on here
so conceptually at least that's that's
the way to think about it
now um it turns out that the
differential exists for a very good
reason and that is when you're turning
the wheels do not spin at the same rate
if they did if you just had an axle and
they forced the wheels to spin at the
same rate
then you would get an effect called
scrubbing and you will see this on
four-wheel drive cars
if you lock the differential or you lock
the transfer case if you take a car like
that that has
locking differentials or transfer case
and you try and turn it you'll hear this
grinding of the the tire rubbing against
whatever surface you're driving on
that's called scrubbing and you don't
want to do that and that's why the
differential exists
is to prevent that so when you're going
down the road you don't get this
this scrubbing and
um and so as a result what you see
is that the left wheel can operate at a
different speed as the right wheel
and the differential will just operate
in between so
again that's just how differentials work
now why is all this important
well let's get into the braking part
so normally you probably think about
braking as something where you put your
foot on the
brake and the car sort of uniformly
slows down and that's the normal way
that brake systems behave if you're
on a dry surface so you apply the brakes
and that essentially drives the speeds
down for both of these tires
until they're zero okay and then you're
you've stopped
so that's great and again that's normal
behavior if you're driving on a dry
surface however i want to talk a little
bit about
the the way that this actually happens
in this system because each of these is
a rotating element
the the this wheel here is a rotating
element this wheel here is rotating
element and this is actually a rotating
element
but one of the important things in a
conventional vehicle is that
this wheel has a very significant
rotational inertia i mean it's it's
it's a tire plus the hub okay so and
plus the half shaft i mean it's got some
significant rotational inertia
and similarly the right has this
approximately the same rotational
inertia
however what's going on in the
differential there are pinions inside
the differential
they're not very big and they're
connected yeah to shafts inside the
transmission but they're not very big
when you consider
them against the size of a wheel and the
radius of
a wheel so um i mean a wheel just to
give you a sense the radius of it of a
normal tire is
is on the order of a third of a meter
right so
it's uh you know so it's you know like a
foot
so that's a pretty big rotating thing
compared to these little metal shafts
that are inside
so the point i'm trying to make with
this diagram is that the
inertia of the tires is large and the
inertia of
whatever mechanisms are upstream of this
differential are relatively small
in a conventional vehicle now it turns
out
the ford hybrid escape is not a
conventional vehicle it's a hybrid
and that means that it has an electric
machine in the driveline
and that electric machine is
has a spinning inertia right i mean it's
it's all done with magnets here so this
thing is a
spinning significant metal object
but it's worse than that it's worse than
that because if you're this differential
over here
you there are two problems created here
the gear ratio between you
and this guy because of these
intermediate gears that gear ratio is
about
ten to one let's say it's a little bit
more probably ten to one now why is that
well it's
um the the effect is that you want to
give this motor some mechanical
advantage in fact a
mechanical advantage of ten to one so
you put these gears in here
but part of that part of the consequence
of that is that this rotational inertia
actually spins
10 times faster than the upstream side
of this
differential so why is that a problem
it's a problem because you have this
notion in mechanical systems what's
called
effective inertia imagine you're this
differential
then there's some other inertia in this
system
that you're rigidly connected to i mean
these are gears there's no
clutches there's no fluid couplings it's
just a rigid connection right
so you're connected here and just
imagine you're the brake system
on this tire and you need to go stop
this
this wheel okay but the problem is
you've also got this guy up here
and if you're trying to stop him from
spinning you have to understand
this thing is spinning very fast again
the gear ratio dictates its spin
10 times faster than the this speed
and so it's got 10 times the momentum it
would have if it were on the other side
of this gear
because the momentum is j omega and
omega is 10 times faster than it would
be if it was here
but it's worse than that because it
turns out that if you're here
and you're trying to slow this guy down
you're at a mechanical disadvantage of a
factor of 10.
so this is a well-known effect in
mechanical systems that the
effective inertia of this guy is going
to be
the gear ratio squared larger than if it
were here
again because these two effects it has
more momentum because it's spinning 10
times faster and it's harder to stop
because you have a mechanical
disadvantage that's a factor of 10
which are both the gear ratio this 10
here
so what does that mean it means this
thing's big it means that if you look at
the system again like this if you
consider this to be the rotational
inertia of the tire
each this is the rotational inertia of
that motor it's
four tires combined together okay
effectively
so it's not this tiny little shaft
anymore it's a it's a big giant rotating
inertia right here effectively
okay so why is that important well it's
important because what happens is
you know there's this notion things that
rest remain at rest and things emotion
remain in motion
well that's inertia and when you have a
very large inertia
it's hard to change its speed and what
that means in practice
in a system like this is that it acts
like a fulcrum so what i mean by that
is if you apply the brakes to one side
and i'll i'll get back to why we do this
but an anti-lock brake system
actually works independently on each of
the of the wheels
so it's not only possible but it's quite
common
for you to be applying the brakes to
only one
wheel that may seem a little unintuitive
to to you but
trust me it's true whenever you feel
that of your anti-lock brake system
kicking in
that's what it's doing so it acts it
controls each wheel independently so you
you hit the brakes on one wheel
well what's going to happen is that the
other wheel
is actually going to speed up in the
hybrid in a normal vehicle this wouldn't
happen because you wouldn't have this
fulcrum effect
in a normal vehicle this tire would
resist changing speed
and uh and the transmission instead
would just
be the difference between them but again
the balance of power has shifted here
this guy is is the big guy on the block
and he doesn't want to change speeds so
now you get this fulcrum effect
you slow this tire down this one speeds
up
this means that you get what you could
think of as
crosstalk across this this
axle that you wouldn't normally get in a
conventional vehicle so this is our
first hint of
you know why the hybrid is different
than the conventional vehicle
okay so in simple terms what happens is
you apply the brakes
on one side you cause the other
wheel to speed up right very unintuitive
but true now the problem here is i said
each of these brake systems
acts independently so it turns out this
can happen the other way around
the guy on the right might apply the
brakes and the tire on the left speeds
up
now normally actually on a dry surface
this isn't so much of an issue
because the this tire
grips the road and this tire grips the
road so
the the um the you can think of it as
the
the inertia of the earth combines with
the inertia of the tires
and makes each of these wheels rather
large
and so they can still kind of bully the
the transmission to go up and down not
as easily but they can do it
but here's the here's where it gets
tricky when you're on
a split mu or a low mu surface when that
happens
the tire doesn't really interact with
the road it's slippery right it doesn't
it can't get any grip on the road
and so the inertia of the road no longer
plays a role
and now suddenly this tire is a lot
smaller
and it gets pushed around so this effect
i'm showing you
here happens really when the tires get
kind of isolated from the ground because
they're on a slippery surface
then this guy you know is in charge
and he doesn't want to move and so this
this seesawing effect
kicks in in that case now
this kind of goes back and forth the
problem that you have here is that the
way anti-lock brake systems work
is that when you apply the brakes they
watch the wheel speed and if the wheel
speed starts to dip
really quickly they know that the
wheel's about to lock up they know that
it's on a slippery surface this doesn't
happen when you're driving on a
on a dry road you hit the brakes and the
tires take a while to slow down
but when you're on a slippery surface
and the brake systems look for this
on a slippery surface when you hit the
brakes suddenly the wheel speed just
you know it decelerates very quickly and
that's because the ground
isn't slowing it down and it it it locks
up
and so the brake system sees this and it
lets go
and what it does and this is where it
gets tricky
what it does is it says i'm going to
wait until that tire starts to speed
back up again
the reason it's doing this is it it
wants to minimize the slip between the
tire and the road because that's when it
gets the best traction
a tire that's locked up doesn't have any
traction so it doesn't want that
so it says i'm not even going to bother
bother applying the brakes if the tires
are locked up or even
locking up i'm going to let go because
it's better
that's this is what anti-lock brakes do
it's better to actually wait for the
tire to speed up and then apply the
brakes when you have something
when you have some degree of traction so
why is that important here it's
important here because remember i told
you if you
apply the brake on one wheel the other
wheel speeds up
well to an anti-lock brake system the
wheel speeding up
is an indication of traction but that's
not what's going on here
this isn't speeding up because of
traction it isn't speeding up because
it's
part of the tire got onto a nice dry
surface and now has traction
it's speeding up because of this seesaw
effect
and it totally confuses the antibiotic
brake system and this brake says
oh we're on a dry surface now i'm going
to apply the brakes again well
you're not on a dry surface you're still
on the ice now you might think
you know that this how could this
confusion happen well it turns out these
systems function at like
one to five hertz i mean they're they're
pulsing back and forth you've probably
felt it on your brakes
they pulse back and forth very quickly
and so
all this can be happening in the blink
of an eye and so they go
back and forth back and forth and it
also this is compounded by the fact that
they're generally
out of phase this guy is is is hitting
the brakes
and this guy's letting when this guy's
letting go and then this guy's hitting
the brakes when this guy's letting go
and the fact that they're 180 degrees
out of phase means that what was
a brake system actuating at four hertz
is now an excitation into the system
of eight hertz and this will become
important in just a second
um and so you know we went on this long
excursion here we were talking about
reaction torques and then i seem to just
get amnesia and totally forget about
that but we are in fact coming back to
it this is where it all comes back
together
all of this back and forth across the
transaction it turns out
is sending essentially you can think of
them almost as like shock waves back
up the driveline that eight hertz stuff
i was talking about
and it turns out that in this system
the i mentioned that the engine and the
transmission and so on
the engine is for example not rigidly
connected to the frame of the vehicle it
is connected via these engine mounts
these bushings i mentioned before
and lo and behold the natural frequency
of that
engine or actually the transaxle as we
formally call it
the natural frequency of that in this
case is about eight hertz
so what you end up with is a bunch of
reaction torques
significant reaction torque going into
that system
exciting that system and the abs systems
it just turns out by just sort of bad
luck here
actually start effectively a self-tuning
effect
they actually start acting
at the frequencies of this resonance
and they they sort of narrow down to
that they they
they're driven to it and that creates a
self-tuning effect
so if you've got an excitation a
self-tuning excitation
at the resonant frequency of your system
then uh
boom then then things start breaking and
that's exactly what happened
i mentioned this engine mount bracket
breaking the half shafts yielding
all of that was a consequence of this
violent
uh resonance in the system and i it was
violent i was in the vehicle doing some
of this testing
and uh and it was kind of nauseating the
thing would just
would buck and shake and it was it was
very unpleasant
so um so yeah it was pretty ugly
but the thing is we figured it out
right so you know a lot of you
this happened probably before you were
born you know this was around
2001. so um
you know i'll ask you know did anybody
remember hearing about this and i'm
sure most of you didn't because you
weren't born
but if you had been around you wouldn't
have heard about it
okay you wouldn't heard about it because
modeling because this problem was
identified
using modeling specifically a modelica
model and
and it was that model was pivotal
in figuring out how to fix it how to
work around it and
in fact i ended up getting uh eight
different patents out of this work
for this system and uh so
you know modeling saved the day now
some of you probably saw this image in
the last week and
i wanted to sort of reinforce the point
here
um you know looking back at this
you ask yourself okay this this looks
pretty bad how many people died as a
result of this
well nobody nobody died
um and and these kinds of things
actually happen
with regularity and i always
point out this is another case of a
plane that didn't crash and a bunch of
people who didn't die
all because some engineers somewhere
knew what they were doing
now looking at this you might think that
an engine in this state is not
not an exemplar for for good engineering
but
in fact it is because things will fail
and you have to engineer into these
systems a certain amount of resilience
robustness fault tolerance and
in my childhood again old man here but
i have vivid memories of planes crashing
i mean i was i lived in texas and the
day i moved from texas back to minnesota
a plane crashed right outside my house i
lived in irving texas and the airport is
near there
and you can see the smoke from this
plane that crashed when i was a kid
there was a plane that was taking off
from
chicago and it lost an engine and it
crashed
and so i'm just saying my childhood is
full of memories of planes crashing and
today you're hard-pressed to find a
plane that crashes the 737 max is
is an example and none of those even
crashed you know in the u.s which
you know doesn't diminish the cost of
life i'm just saying the
examples i gave were all in the u.s um
and they weren't the only ones
so the thing is i would bet
that you could draw a straight line
between
the lives of the people on this plane
being saved
and modeling and simulation i don't
think there's any way
that this plane survived this
catastrophic failure without
somebody having worked out a model and
demonstrated
that that the system could be engineered
to survive such a failure
it just doesn't seem conceivable to me
now um
so just yet another example of of a
problem that's
that was essentially fixed by uh by
modeling
so in conclusion you know all of these
problems
and many more can be solved using tools
like modelica
and that the thing that i really like
about mondelic is it allows
the modeler to focus on understanding
the physics of the problem
and it gives the computer the job of
figuring out how to solve it
and this allows you as an engineer to
move quickly and to innovate instead of
getting bogged down
in in tedious time-consuming and
error-prone aspects
of coding up these things
at the end of the day i look at these
modelica components
as something akin to legos
you know they when you look at a pile of
legos and you just see
the all the possibilities right in this
system you can combine them to make a
a power plant or a refinery or a
distillery
you can use them to to model a space
station
you can use them to model renewable
energy systems
and of course standard applications like
for transportation like
cars or trains all of these
things are on offer okay they and and
that power is
is right there at your fingertips um
and and so you know my my question to
you is
what will you build what will you take
this technology and apply it to
because it's it's there for the taking
and it's there to be used
and there are no doubt an endless list
of potential applications for this
technology moving forward
okay so
that's the end of my talk um thanks for
listening to the
to the ramblings of an old man and um
although it's the end of my talk
hopefully it's just the beginning
of your work in modeling and simulation
and i hope this
gives you some insights and perhaps even
some inspiration
in doing that so thanks for your time
thanks for listening
