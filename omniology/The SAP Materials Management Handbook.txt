The SAP
Materials
Management
Handbook
Ashfaque Ahmed

The SAP
Materials
Management
Handbook


The SAP
Materials
Management
Handbook
Ashfaque Ahmed

CRC Press
Taylor & Francis Group
6000 Broken Sound Parkway NW, Suite 300
Boca Raton, FL 33487-2742
© 2014 by Taylor & Francis Group, LLC
CRC Press is an imprint of Taylor & Francis Group, an Informa business
No claim to original U.S. Government works
Version Date: 20140203
International Standard Book Number-13: 978-1-4665-8163-0 (eBook - PDF)
This book contains information obtained from authentic and highly regarded sources. Reasonable efforts have been 
made to publish reliable data and information, but the author and publisher cannot assume responsibility for the valid-
ity of all materials or the consequences of their use. The authors and publishers have attempted to trace the copyright 
holders of all material reproduced in this publication and apologize to copyright holders if permission to publish in this 
form has not been obtained. If any copyright material has not been acknowledged please write and let us know so we may 
rectify in any future reprint.
Except as permitted under U.S. Copyright Law, no part of this book may be reprinted, reproduced, transmitted, or uti-
lized in any form by any electronic, mechanical, or other means, now known or hereafter invented, including photocopy-
ing, microfilming, and recording, or in any information storage or retrieval system, without written permission from the 
publishers.
For permission to photocopy or use material electronically from this work, please access www.copyright.com (http://
www.copyright.com/) or contact the Copyright Clearance Center, Inc. (CCC), 222 Rosewood Drive, Danvers, MA 01923, 
978-750-8400. CCC is a not-for-profit organization that provides licenses and registration for a variety of users. For 
organizations that have been granted a photocopy license by the CCC, a separate system of payment has been arranged.
Trademark Notice: Product or corporate names may be trademarks or registered trademarks, and are used only for 
identification and explanation without intent to infringe.
Visit the Taylor & Francis Web site at
http://www.taylorandfrancis.com
and the CRC Press Web site at
http://www.crcpress.com

v
Contents
Preface................................................................................................................................ xxv
Author.............................................................................................................................. xxvii
  1	 Introduction to SAP Materials Management and Navigation......................................1
Introduction....................................................................................................................... 1
What Is SAP?...................................................................................................................... 1
Importance of Enterprise Resource Planning...................................................................... 2
What Is SAP MM?............................................................................................................. 2
SAP Is Not Easy................................................................................................................. 3
Complexity Issues for End Users............................................................................... 3
Complexity Issues for SAP Consultants..................................................................... 3
Typical Nature of SAP Transactions.......................................................................... 3
Typical SAP User Screens.......................................................................................... 4
Difficult Language..................................................................................................... 5
Navigation.......................................................................................................................... 5
Log On...................................................................................................................... 5
User Screen Elements................................................................................................. 6
Menu................................................................................................................ 6
Standard Tool Bar............................................................................................ 7
Title Bar........................................................................................................... 8
Application Tool Bar........................................................................................ 8
Screen Body...................................................................................................... 8
Status Bar......................................................................................................... 8
Standard Tool Buttons............................................................................................... 8
Personalization.................................................................................................................... 9
Transaction Codes.............................................................................................................. 9
Help Functions..................................................................................................................10
  2	 Business Mapping in SAP Materials Management and Job Advice............................11
Introduction......................................................................................................................11
Business Function Mapping in SAP MM......................................................................... 12
Purchase Requisition................................................................................................13
Purchase Order.........................................................................................................13
Request for Quotation..............................................................................................13

vi  ◾  Contents
Contract...................................................................................................................13
Scheduling Agreement..............................................................................................13
Invoice......................................................................................................................14
Material Requirement Planning................................................................................14
Reservation...............................................................................................................14
Material Document..................................................................................................14
Financial Document.................................................................................................14
Core and Central Functions..............................................................................................15
Minimal Customization Required in SAP MM.................................................................15
Real World and SAP..........................................................................................................15
Job Advice..........................................................................................................................15
How to Learn SAP............................................................................................................16
Project Management and SAP Responsibilities..................................................................17
  3	 SAP MM Masters and Organizational Structure........................................................19
Introduction......................................................................................................................19
Material Master................................................................................................................ 20
Material Master Setup Information......................................................................... 22
Material Master Views............................................................................................. 22
Basic Data View 1.......................................................................................... 22
Basic Data View 2.......................................................................................... 24
Sales Organization Data View 1..................................................................... 26
Sales Organization Data View 2..................................................................... 27
Sales: General Plant Data View...................................................................... 27
Purchasing View............................................................................................. 28
MRP Views.................................................................................................... 29
General Plant Data Views................................................................................31
Accounting Views........................................................................................... 32
Costing Views.................................................................................................33
Material Types.................................................................................................................. 37
Important Material Types........................................................................................ 37
Additional Material Types....................................................................................... 38
Material Group................................................................................................................. 39
Plant................................................................................................................................. 40
Storage Location............................................................................................................... 42
Purchasing Organization.................................................................................................. 43
Purchase Group................................................................................................................ 48
Purchasing Value Key....................................................................................................... 48
Vendor Master.................................................................................................................. 49
Source List.........................................................................................................................52
Info Records..................................................................................................................... 54
Info Record at Plant or Purchasing Organization Level........................................... 56
Info Record Structure...............................................................................................57
Procurement Types in Info Record...........................................................................57
Info Record Net Price and PO Net Price..................................................................57
Creating Info Records............................................................................................. 58
Net Price Simulation............................................................................................... 58

Contents  ◾  vii
Conditions........................................................................................................................ 58
Condition Groups....................................................................................................59
Variant Conditions...................................................................................................59
Pricing (Condition Technique)..........................................................................................59
Quota Arrangement.......................................................................................................... 60
Quota Arrangement Calculation............................................................................. 60
  4	 SAP MM Purchasing Management.............................................................................61
Introduction......................................................................................................................61
Integration Points............................................................................................................. 62
Make to Stock versus Make to Order................................................................................ 63
Complete Purchasing Cycle.............................................................................................. 64
Purchase for Stock versus Purchase for Consumption........................................................65
Automatic Account Determination................................................................................... 66
Configuration Steps..................................................................................................67
Account Assignment for Purchase Documents........................................................ 68
Account Assignment Category................................................................................. 69
Similar Names but Different Entities................................................................................ 69
Item Category................................................................................................................... 70
Item Category Characteristics.................................................................................. 70
Release Procedure............................................................................................................. 70
Release Procedure for PR......................................................................................... 71
Release Procedure without Classification for PR...................................................... 71
Release Codes................................................................................................. 71
Release Indicator............................................................................................ 72
Assign Release Indicator................................................................................. 72
Release Points (prerequisites).......................................................................... 72
Determine Release Strategy............................................................................ 72
Release Procedure with Classification for PRs......................................................... 72
Create Characteristics..................................................................................... 72
Create Class and Assign Characteristics to Class............................................ 73
Create Release Groups.................................................................................... 73
Create Release Codes...................................................................................... 73
Create Release Indicators................................................................................ 73
Create Release Strategies..................................................................................74
Assign Release Codes to a Release Point (Create Workflow)............................74
Source Determination........................................................................................................74
Source Determination Sequence...............................................................................74
Purchase Documents........................................................................................................ 75
Type of Purchase Documents.................................................................................. 75
Purchase Document Structure................................................................................. 75
Document Types......................................................................................................76
Purchase Document Numbering..............................................................................76
Purchase Document Screens.....................................................................................76
Enjoy Interface.................................................................................................................. 77
Features of Enjoy Interface...................................................................................... 77
Document Overview............................................................................................... 78

viii  ◾  Contents
Purchase Requisition........................................................................................................ 79
Fund Availability..................................................................................................... 79
Parts of a PR............................................................................................................ 80
Request for Quotation.......................................................................................................81
RFQ Document Structure........................................................................................81
Prerequisites for RFQ.............................................................................................. 82
RFQ Creation Manually......................................................................................... 82
RFQ Creation Using Reference Document............................................................. 83
Creating a Delivery Schedule for an RFQ............................................................... 83
Comparing Quotations............................................................................................ 83
Rejecting Quotations............................................................................................... 84
Selecting Quotation................................................................................................. 84
Outline Agreement........................................................................................................... 84
Structure of Outline Agreement Document.............................................................85
Creating Outline Agreement Documents.................................................................85
Changing, Cancelling, and Blocking Outline Agreement Document...................... 86
Contract........................................................................................................................... 86
Structure of Contract Document............................................................................. 87
Central Contracts.................................................................................................... 87
Partner Roles........................................................................................................... 88
Item and Account Assignment Categories in Contracts........................................... 88
Distributed Contract............................................................................................... 89
How Distributed Contracts Work........................................................................... 89
Contract Distribution with Classification................................................................ 90
How to Create Contract Distribution with Classification........................................ 90
Contract Release Order........................................................................................... 90
Scheduling Agreement.......................................................................................................91
Advantages of Scheduling Agreements......................................................................91
Item and Account Assignment Categories in Scheduling Agreements.......................91
Procurement Types in Scheduling Agreements.........................................................91
A Scheduling Agreement Document Structure........................................................ 92
Creating Scheduling Agreements............................................................................. 92
Time Zones in Schedule Lines in Line Items in Scheduling Agreements................. 92
Scheduling Agreement Release................................................................................ 93
Messages for SA Release........................................................................................... 94
Scheduling Agreement with Centrally Agreed Contract.......................................... 94
Purchase Order................................................................................................................. 94
Procurement Types in PO....................................................................................... 95
PO Creation Scenarios............................................................................................ 96
Prerequisites for Creating PO.................................................................................. 96
PO with Zero Value................................................................................................. 96
Important Considerations in PO Life Cycle............................................................ 96
Cancelling a PO...................................................................................................... 97
Blocking a PO......................................................................................................... 97
Monitoring a PO..................................................................................................... 97
Archiving of PO...................................................................................................... 98
PO with Enjoy Interface.......................................................................................... 98

Contents  ◾  ix
GR-Based Invoice Verification.......................................................................................... 98
Returns............................................................................................................................. 98
Invoicing Plan................................................................................................................... 99
Periodic Invoicing Plan............................................................................................ 99
Partial Invoicing Plan.............................................................................................. 99
Important Considerations for Invoicing Plans....................................................... 100
Automatic Settlement of Invoicing Procedure........................................................ 100
  5	 SAP MM Inventory Management.............................................................................101
Introduction to Inventory Management...........................................................................101
Inventory Management in a Nutshell...............................................................................102
Integration Points............................................................................................................102
Stock Item versus Consumable Item................................................................................103
Movement Types.............................................................................................................104
Material Document.........................................................................................................105
Accounting Document....................................................................................................106
Quality Management in Inventory Management.............................................................106
Material Status.................................................................................................................106
Goods Movements in SAP MM–IM...............................................................................106
Goods Receipt.................................................................................................................107
Planning for GR.....................................................................................................107
Planning GR with POs...........................................................................................107
Planning GR with Production Orders....................................................................107
Planning GR with Reservations..............................................................................108
Tracking GRs against POs.....................................................................................108
PO Creation for GR........................................................................................................108
Steps to Create GR from PO..................................................................................108
Steps to Create GR from Shipping Notification......................................................109
Results of GR.........................................................................................................109
Under/Over Delivery and Final Delivery................................................................109
Many GRs per PO Line Item.................................................................................110
GR for Nonvaluated Materials................................................................................110
Order Unit of Measure and Unit Price...................................................................110
Entering a Freight Supplier.....................................................................................111
Shelf Life and Batch Management in GR...............................................................111
Releasing Material from Blocked Stock..................................................................111
GR for Production Orders......................................................................................112
GR for By-Products................................................................................................112
Other GRs..............................................................................................................112
Goods Issue.....................................................................................................................113
GI General..............................................................................................................113
Account Assignment...............................................................................................113
GI without Reference Document............................................................................114
GI for Scrapping.....................................................................................................114
Taking Sample........................................................................................................115
GI with Reference to Reservation...........................................................................115
GI for Production Order.........................................................................................115

x  ◾  Contents
GI against BOM.....................................................................................................115
Results of GI...........................................................................................................116
Reversing a Planned GI..........................................................................................116
Return Delivery to Vendor.....................................................................................116
Return Delivery in Goods Delivery-Based Invoice.................................................117
Stock Transfer..................................................................................................................117
Planning Stock Transfer Using Reservation............................................................117
Storage Location-to-Storage Location Stock Transfer: One-Step Procedure...........118
Storage Location-to-Storage Location Stock Transfer: Two-Step Procedure...........118
Situation at Issuing Storage Location.............................................................118
Situation at Receiving Storage Location........................................................118
Plant-to-Plant Stock Transfer: One-Step Procedure................................................119
Plant-to-Plant Stock Transfer: Two-Step Procedure................................................119
Company Code-to-Company Code Stock Transfer................................................119
Withdrawal Rules...................................................................................................119
Transfer Posting..................................................................................................... 120
Transfer Posting: Material to Material.......................................................... 120
Transfer Posting: Stock to Stock................................................................... 120
Reservation..................................................................................................................... 120
Type of Reservations.............................................................................................. 120
Batch Management..........................................................................................................121
Batch Number Levels.............................................................................................121
Advice on Batch Number Settings......................................................................... 122
Structure of Batch Data......................................................................................... 122
Batch Status Management..................................................................................... 123
GR for a Batch-Managed Material........................................................................ 123
GI for a Batch-Managed Material.......................................................................... 123
Stock Transfer and Transfer Posting of Batch-Managed Materials......................... 124
Batch Classification............................................................................................... 124
Batch Determination.................................................................................... 124
Batch Search Strategies...........................................................................................125
Goods Movement of Split-Valuated and Batch-Managed Materials........................125
Stock Determination...................................................................................................... 126
Create Stock Determination Strategy.................................................................... 126
Material Valuation.......................................................................................................... 127
Joint Valuation....................................................................................................... 127
Implementing Split Valuation................................................................................ 127
Serial Numbers in Goods Movements............................................................................ 128
Goods Movement via Shipping....................................................................................... 128
Materials Requirement Planning.....................................................................................129
Safety Stock and Reorder Point..............................................................................129
  6	 Customizing in Material Masters..............................................................................131
Introduction....................................................................................................................131
SPRO and IMG for SAP MM.........................................................................................132
Transaction Variants in Material Master..........................................................................132

Contents  ◾  xi
Field Display Characteristics...................................................................................132
Enterprise-Level Setup.....................................................................................................133
Plant and Valuation Area Setup..............................................................................133
Define Valuation Level..................................................................................133
Define, Copy, Delete, and Check Plant.........................................................133
Define Location (for Plant)........................................................................... 134
Define, Copy, Delete, and Check Division....................................................135
Storage Location and Purchasing Organization Set Up..........................................135
Maintain Storage Location............................................................................135
Maintain Purchasing Organization.............................................................. 136
Assigning Plant and Valuation Area....................................................................... 136
Assign Plant to Company Code.................................................................... 136
Assign Business Area to Plant/Valuation Area and Division..........................137
Assigning Purchase Organization...........................................................................137
Assign Purchase Organization to Company Code.........................................137
Assign Purchase Organization to Plant..........................................................138
Assign Standard Purchase Organization to Plant...........................................138
Assign Purchase Organization to Reference Purchase Organization..............139
Material Master in Logistics General Setup.....................................................................139
Field Selection for Changing Material Master View...............................................139
Data Screen for Field Selection Group...........................................................140
Field Selection for Data Screen......................................................................141
Define Industry Sector and Industry Sector-Specific Field Selection.............142
Define Plant-Specific Field and Screen Selection...........................................142
Define Lock Relevant Indicator.....................................................................142
Material Master Basic Settings.........................................................................................143
Define Output Format of Material Numbers..........................................................143
Make Global Settings.............................................................................................144
Maintain Company Codes for Materials Management...........................................144
Define Attributes of System Messages.....................................................................145
Material Type Setup...............................................................................................146
Define Attributes of Material Types..............................................................146
Assign Material Types to Special Material Creation Transactions..................146
Define Number Ranges for Each Material Type............................................147
Key Material Master Field Settings..................................................................................147
Define Material Groups..........................................................................................147
Maintain External Material Groups.......................................................................147
Define Divisions.....................................................................................................148
Define Material Statuses.........................................................................................148
Extend ABC Indicator............................................................................................148
Define Laboratories and Offices..............................................................................149
Define Basic Materials............................................................................................149
Define Storage Conditions......................................................................................149
Define Temperature Conditions.............................................................................150
Define Container Requirements.............................................................................150
Define Units of Measures Groups...........................................................................150

xii  ◾  Contents
International Article Numbers................................................................................151
Define Number Ranges for EANs/ Universal Product Codes (UPCs)...........151
Define Number Ranges for Perishable EANs (Four Digits)...........................151
Define Number Ranges for Perishable EANs (Five Digits)............................152
Define Prefixes for EANs...............................................................................152
Define Attributes of EANs............................................................................153
Enter Standard Article Numbers...................................................................153
Maintain Process Mapping............................................................................154
GTIN Mapping......................................................................................................154
Maintain Field Catalog..................................................................................154
Maintain Condition Tables...........................................................................155
Maintain Access Sequences...........................................................................155
Maintain Condition Types............................................................................155
Maintain Determination Procedures.............................................................156
Assign Procedure to Document Type............................................................156
Maintain GTIN Variant Type.......................................................................156
Materials Management General Settings.........................................................................157
Set Material Block for Material Movement.............................................................157
Exclusive Material Block................................................................................157
Late Material Block.......................................................................................157
Set Up Material Block for Invoice Verification.......................................................158
Activate Consignment Prices via Info Records........................................................158
  7	 SAP MM Customizing—MRP.................................................................................159
Introduction....................................................................................................................159
Consumption-Based Planning.........................................................................................159
Define Parallel Processing in MRP.........................................................................159
Plant Parameters.....................................................................................................160
Carry Out Overall Maintenance of Plant Parameters....................................160
MRP Groups..........................................................................................................160
Carry Out Overall Maintenance of MRP Groups.........................................160
Define MRP Group for Each Material Type.................................................161
Number Ranges......................................................................................................161
Define Number Ranges for Planning Run.....................................................161
Define Number Ranges for Manual Processing.............................................162
Master Data............................................................................................................162
Define MRP Controllers...............................................................................162
Check MRP Types........................................................................................163
Define Special Procurement Types................................................................163
Maintain Planning Calendar.........................................................................164
Reference Plant for Access to Central Master Data Tables.............................164
MRP Areas.............................................................................................................165
Define MRP Areas........................................................................................165
MRP Planning Settings..........................................................................................166
Activate MRP................................................................................................166
Define Scope of Planning for Total Planning................................................167
Define Creation Indicator..............................................................................167

Contents  ◾  xiii
Define Floats (Scheduling Margin Key).........................................................167
Parameters for Determining Basic Dates.......................................................168
Activate Runtime Statistics............................................................................168
Define the Maximum MRP Period...............................................................168
Indicator for Only Firm Transmitted Schedule Lines....................................169
Maintain Correction Factors for Forecast......................................................169
Define Start Time of Sporadic Background Jobs...........................................170
Define the Storage Location MRP per Plant.................................................170
MRP Calculation...................................................................................................170
Define Planning Horizon..............................................................................170
Define Rescheduling Horizon.......................................................................171
Define Error Handling..................................................................................171
Define Range of Coverage Profiles (Dynamic Safety Stock)..........................172
Define Period Profile for Safety Time/Actual Range of Coverage..................172
Safety Stock Planning.............................................................................................172
Define Safety Stock Availability....................................................................172
Define Stock in Transfer and Blocked Stock Availability...............................173
Lot-Size Calculation...............................................................................................173
Define Lot-Sizing Procedure..........................................................................173
Maintain Rounding Profile...........................................................................174
Procurement Proposal.............................................................................................175
Define External Procurement........................................................................175
Define Line Item Numbers............................................................................175
Procurement Proposals....................................................................................................175
Define Order Profile...............................................................................................176
Define Conversion for Planned Orders into Purchase Requisition..........................176
Define Conversion of Purchase Requisitions into Purchase Orders.........................176
Evaluations......................................................................................................................177
Check Texts for MRP Elements..............................................................................177
Define Receipt Elements for Receipt Days’ Supply.................................................178
Define Screen Sequence for Header Details............................................................178
Define Navigation Profiles......................................................................................179
Define MRP Views.................................................................................................180
Activate Workflow for Mail to MRP Controller.....................................................180
Exception Messages................................................................................................181
Define and Group Exception Messages.........................................................181
Check Exception Group Texts.......................................................................181
Period Totals...........................................................................................................182
Define Individual Period Split for Period Totals............................................182
Define Period Display for Period Totals.........................................................182
Filters......................................................................................................................183
Define Selection Rules...................................................................................183
Define Display Filters....................................................................................183
Forecast...........................................................................................................................184
Weighting Groups for Weighted Moving Average...................................................184
Define Splitting of Forecast Requirements for MRP..............................................185

xiv  ◾  Contents
Assign Forecast Errors to Error Classes...................................................................185
Historical Data and Postdistribution Forecast........................................................185
Delivery Relationship for External or Internal Material Group..............................185
Control of Alternative Historical Data and Postdistribution Forecast............186
Define Profile for Determining Delivery Relationship...................................186
Delivery Relationship for Plants.............................................................................186
Profile for Determining Delivery Relationship for Plants..............................186
Document Types for Delivery Relationship Determination...........................187
Authorization and Performance.......................................................................................187
Material Requirements Planning............................................................................187
Check for Performance Settings..............................................................................188
Check Storage Mode for MRP List...............................................................188
  8	 SAP MM Customizing—Purchasing........................................................................189
Introduction....................................................................................................................189
General Purchasing Functions.........................................................................................189
Create Purchasing Groups......................................................................................189
Maintain Search Help for Purchasing Documents.................................................190
Define External Representation of Item Categories................................................191
Define Default Values for Document Type.............................................................192
Define Link to External Documents.......................................................................193
Purchasing Functions: Environment Data.......................................................................193
Define Attributes of System Messages (SIMG_CFMENUOLMEOME0).............193
Define Default Values for Buyers............................................................................194
Define Tax Jurisdiction...........................................................................................198
Maintain Display Type for Date/Period..................................................................199
Web Services ID and Description...........................................................................199
Purchasing Functions: Material Master.......................................................................... 200
Define Shipping Instructions................................................................................. 200
Define Purchasing Value Keys............................................................................... 200
Define Manufacturer Part Profile...........................................................................201
Define Reasons for Blocking Approved Manufacturer Part................................... 202
Entry Aids for Items without a Material Master.................................................... 203
Inventory Managed MPN..................................................................................... 203
Define Manufacturer Part Profile................................................................. 203
Change Characteristics of System Messages................................................. 204
Purchasing Functions: Vendor Master............................................................................ 205
Define Terms of Payment...................................................................................... 205
Check Incoterms.................................................................................................... 206
Define Text Types for Central Texts...................................................................... 206
Define Text Types for Purchasing Organization Texts........................................... 207
Info Record........................................................................................................... 207
Define Number Ranges................................................................................ 207
Define Screen Layout................................................................................... 209
Maintain Inspection Certificate Categories...................................................213
Define Price History......................................................................................214
Maintain Search Helps..................................................................................215

Contents  ◾  xv
Text for Info Records..............................................................................................215
Define Texts..................................................................................................216
Define Copying Rules...................................................................................216
Source list........................................................................................................................217
Define Source List Requirements at Plant Level.....................................................217
Maintain Search Helps...........................................................................................218
Quota Arrangement.........................................................................................................218
Define Number Ranges..........................................................................................219
Define Quota Arrangement Usage..........................................................................219
RFQ/Quotation.............................................................................................................. 220
Define Number Ranges......................................................................................... 220
Define Document Types.........................................................................................221
Define Screen Layout at Document Level.............................................................. 222
Maintain Quotation Comments............................................................................ 222
Define Tolerance Limit for Archiving.................................................................... 223
Release Procedure for RFQ.................................................................................... 224
Edit Characteristics............................................................................................... 224
Edit Classes........................................................................................................... 225
Define Release Procedure for RFQs....................................................................... 226
Check Release Strategies........................................................................................ 227
Texts for RFQ/Quotations..................................................................................... 228
Define Text Types for Header Texts...................................................................... 228
Define Copying Rules for Header Texts................................................................ 228
Define Text Types for Item Texts........................................................................... 229
Define Copying Rules for Item Texts.................................................................... 229
Purchase Requisition...................................................................................................... 230
Define Number Ranges......................................................................................... 230
Define Document Types.........................................................................................231
Purchase Processing Time..................................................................................... 232
Define Screen Layout at Document Level.............................................................. 232
Define Tolerance Limit for Archiving.....................................................................233
Maintain Search Help........................................................................................... 234
Set Up Authorization Check for G/L Accounts..................................................... 234
Release Procedure for PR........................................................................................235
Set Up Release Procedure without Classification.......................................... 236
Release Procedure with Classification for PR......................................................... 238
Edit Characteristics...................................................................................... 238
Edit Classes.................................................................................................. 239
Set Up Procedure with Classification............................................................ 240
Check Release Strategies............................................................................... 243
Text for PR............................................................................................................ 243
Define Text Types........................................................................................ 243
Define Copying Rules.................................................................................. 244
Set Up Stock Transport Requisition.......................................................................245
Create Checking Rules..................................................................................245
Define Checking Rule.................................................................................. 246
Assign Checking Rule.................................................................................. 246

xvi  ◾  Contents
Purchase Order................................................................................................................247
Define Number Ranges..........................................................................................247
Define Document Types.........................................................................................247
Set Tolerance Limit for Price Variance................................................................... 248
Define Screen Layout at Document Level...............................................................249
Define Tolerance Limit for Archiving.....................................................................249
Set Up Subcontract Order......................................................................................250
Define Reasons for Ordering..................................................................................250
Define Reasons for Cancelling................................................................................250
Set Up Authorization Check for G/L Accounts......................................................250
PO Release Procedure.............................................................................................251
Create Characteristics....................................................................................251
Create Class...................................................................................................252
Define Release Procedure for POs.................................................................252
Check Release Strategies................................................................................253
Text for PO............................................................................................................253
Define Text Types for Header Texts..............................................................253
Define Copying Rules for Header Texts....................................................... 254
Define Text Types for Item Texts.................................................................. 254
Define Copying Rules for Item Texts........................................................... 254
Set Up Stock Transport Order................................................................................255
Define Shipping Data for Plants....................................................................255
Create Checking Rules..................................................................................255
Define Checking Rules..................................................................................256
Assign Delivery Type and Checking Rules....................................................256
Assign Document Type, One-step Procedure, under Delivery Tolerance.......257
Define Requirement Profile...........................................................................257
Activate Automatic Delivery Creation and Customer Relationship 
Management (CRM) Billing.........................................................................257
Activate Automatic Delivery Creation for PO Type and Shipping Point.......258
Stock Transfer between Storage Locations..............................................................258
Activate Stock Transfer between Storage Locations.......................................258
Assign Delivery Type and Checking Rule according to Storage Location......259
Define Shipping Data for Stock Transfer between Storage Locations............259
Invoice Plan............................................................................................................259
Maintain Data IDs........................................................................................259
Maintain Date Proposal for Partial Invoice Plan.......................................... 260
Define Rules for Date Determination........................................................... 260
Define Invoice Blocking................................................................................261
Invoice Plan Type...................................................................................................261
Maintain Periodic Invoice Plan Types.......................................................... 262
Maintain Partial Invoice Plan Types............................................................. 262
Date Categories..................................................................................................... 263
Maintain Date Categories for Invoice Plan Type.......................................... 263
Define Default Date Categories for Invoice Plan Type................................. 263

Contents  ◾  xvii
Appointment (Door Usage)................................................................................... 263
Maintain Appointment (Door Usage) Profile............................................... 263
Assignment of Profile to Warehouse Number............................................... 264
Reasons for Date Variance............................................................................ 264
Returns Order........................................................................................................265
Returns to Vendor.........................................................................................265
Store Return/Return Plant to Plant...............................................................265
Progress Tracking...................................................................................................265
Define Standard Events................................................................................ 266
Define Event Scenarios................................................................................. 266
Maintain Relationship between Events in a Scenario................................... 266
Assign Default Scenario to Material Group...................................................267
Maintain Profiles for an Event.......................................................................267
Define Progress Tracking Profile...................................................................267
Define Status Info Types.............................................................................. 268
Number Range Status Information.............................................................. 268
User-Defined Evaluation.............................................................................. 268
Empties Management............................................................................................ 268
Activate Empties Management..................................................................... 269
Contract......................................................................................................................... 269
Define Number Ranges......................................................................................... 269
Define Document Types........................................................................................ 269
Define Screen Layout at Document Level...............................................................270
Set Up Authorization Check for G/L Accounts......................................................270
Release Procedure for Contract...............................................................................271
Texts for Contract...................................................................................................271
Criteria for Archiving Contracts.............................................................................271
Scheduling Agreement.....................................................................................................271
Release Procedure for Scheduling Agreements....................................................... 272
Texts for Scheduling Agreements........................................................................... 272
Criteria for Archiving Scheduling Agreements....................................................... 272
Set Up Stock Transport Scheduling Agreement..................................................... 272
Confirmations................................................................................................................ 273
Define External Confirmation Categories.............................................................. 273
Define Internal Confirmation Categories.............................................................. 273
Set Up Confirmation Control................................................................................ 273
Set Up Quantity Difference Profiles (Automotive)..................................................274
Define Packaging Material Type.............................................................................274
Conditions.......................................................................................................................275
Define Condition Control at Plant Level................................................................275
Automatic Document Adjustment..........................................................................275
Define Extent of Change for Message Category CONDBI...........................275
Activate Change Pointer for Message Category CONDBI.............................275
Control Document Adjustment..............................................................................276
Control Purchasing Document Adjustment..................................................276

xviii  ◾  Contents
Define Price Determination Process.......................................................................276
Define Access Sequences................................................................................276
Define Condition Types............................................................................... 277
Define Limits............................................................................................... 277
Define Exclusion Indicators.......................................................................... 278
Define Calculation Schema.......................................................................... 278
Define Schema Group.................................................................................. 279
Define Schema Determination..................................................................... 279
Define Transaction/Event Keys.................................................................... 279
Define Condition Exclusion......................................................................... 280
Maintain Condition Table............................................................................ 280
Extend Field Catalogue for Condition Tables................................................281
Copy Control for Conditions........................................................................281
Scope of List for Conditions.................................................................................. 282
Define Sequence........................................................................................... 282
Define Scope of List Parameters................................................................... 283
Assign to Conditions.................................................................................... 284
Configure Condition Index................................................................................... 284
Change Condition Types.............................................................................. 284
Define Permitted Fields................................................................................ 285
Edit Condition Index Tables........................................................................ 285
Activate Condition Index Tables................................................................... 285
Rebuild Condition Index Tables................................................................... 286
Define Overviews......................................................................................... 286
Assign Overviews......................................................................................... 286
Account Assignment....................................................................................................... 287
Maintain Account Assignment Categories............................................................. 287
Define Combination of Item Categories/Account Assignment Categories............. 288
Set Subscreen for Account Assignment Block........................................................ 288
Assign Default Values for Asset Classes................................................................. 289
Statistics.......................................................................................................................... 289
Maintain Purchase Order History Categories........................................................ 289
Define Update Groups........................................................................................... 290
Assign Update Groups to Item Categories............................................................. 290
Define Grid for Quantity Variances.......................................................................291
Define Grid for Delivery Date Variances................................................................291
Messages..........................................................................................................................291
Assign Output Devices to Purchasing Groups....................................................... 292
Fields Relevant to Printouts of Changes................................................................. 292
Texts for Messages...........................................................................................................293
Define Texts for RFQ....................................................................................293
Define Texts for PO......................................................................................293
Define Text for Contract.............................................................................. 294
Define Texts for Scheduling Agreements...................................................... 294
Define Text for Purchasing Organization..................................................... 295
Define Change Texts.................................................................................... 295

Contents  ◾  xix
Forms for Messages................................................................................................ 296
Adjust Form for Purchasing Documents...................................................... 296
Assign Form and Output Program for RFQ................................................. 296
Assign Form and Output Program for PO................................................... 297
Assign Form and Output Program for Contract........................................... 297
Assign Form and Output Program for Schedule Agreement Delivery 
Schedule....................................................................................................... 298
EDI for Messages................................................................................................... 298
Set Up Partner Profile................................................................................... 298
Profiles for Sending Stock/Sales Data........................................................... 299
Output Control..................................................................................................... 299
Maintain Requirement for Message Control................................................ 299
Condition Tables................................................................................................... 300
Define Condition Table for RFQ................................................................. 300
Define Condition Table for Request for PO..................................................301
Define Condition Table for Request for Outline Agreement.........................301
Define Condition Table for Request for Schedule Agreement Release.......... 302
Define Condition Table for Inbound Delivery............................................. 302
Access Sequence..................................................................................................... 303
Define Access Sequence for RFQ................................................................. 303
Define Access Sequence for Request for PO................................................. 303
Define Access Sequence for Request for Outline Agreement........................ 304
Define Access Sequence for Request for Schedule Agreement Release.......... 304
Define Access Sequence for Inbound Delivery.............................................. 304
Message Types....................................................................................................... 304
Define Message Types for RFQ.................................................................... 305
Define Message Types for Request for PO.................................................... 305
Define Message Types for Request for Outline Agreement........................... 305
Define Message Types for Request for Schedule Agreement Release............. 306
Define Output Types for Inbound Delivery................................................. 306
Message Determination Schema............................................................................ 307
Define Message Schemas for RFQ................................................................ 307
Define Message Schemas for Request for PO............................................... 307
Define Message Schemas for Request for Outline Agreement....................... 308
Define Message Schemas for Request for Scheduling Agreement Release..... 308
Define Message Schemas for Inbound Delivery............................................ 309
Partner Roles per Message Type............................................................................. 309
Define Partner Roles for RFQ...................................................................... 309
Define Partner Roles for Request for PO.......................................................310
Define Partner Roles for Request for Outline Agreement..............................310
Define Partner Roles for Request for Scheduling Agreement Release.............311
Define Partner Roles for Inbound Delivery...................................................311
Source Determination......................................................................................................311
Define Regular Vendor...........................................................................................312
Define Supply Regions............................................................................................312
Assign Plants to Supply Regions.............................................................................313
Set Up Determination of Supplying Plant via Availability Check...........................314

xx  ◾  Contents
Taxes................................................................................................................................314
Set Tax Indicator for Material.................................................................................314
Set Tax Indicator for Plant......................................................................................315
Set Tax Indicator for Account Assignment.............................................................315
Assign Tax Indicator for Plant................................................................................315
Assign Tax Indicator for Account Assignment........................................................315
Subsequent Settlement.....................................................................................................316
Define Number Ranges..........................................................................................316
Set Up Condition Techniques for Subsequent Settlement.......................................316
Define Overview Condition for Subsequent Settlement.........................................317
Control of the Subsequent Settlement Process........................................................317
Maintain Company Code for Subsequent Settlement at Purchasing 
Organization Level.................................................................................................318
Maintain Residence Time for Archiving.................................................................318
Agreements.............................................................................................................319
Maintain Calendar for Rebate Arrangements................................................319
Define Business Volume Tolerance Groups....................................................319
Maintain User Groups and Assign Business Volume Tolerance Groups........ 320
Define Business Volume Comparison Type.................................................. 320
Maintain Aggregation Level and Sort Sequence............................................321
Define Text Types.........................................................................................321
Define Rebate Agreement Types for Subsequent Settlement......................... 322
Output Determination.......................................................................................... 322
Define Requirements.................................................................................... 322
Assign Output Devices and Printer Parameters..................................................... 323
Storing Printouts................................................................................................... 323
Message Determination for Rebate Arrangement.................................................. 323
Maintain Condition Tables...........................................................................324
Maintain Message Types...............................................................................324
Maintain Access Sequence.............................................................................325
Assign Partner Roles to Message Types..........................................................325
Maintain Message Determination Schema....................................................325
Message Determination for Settlement Run.......................................................... 326
Maintain Condition Tables.......................................................................... 326
Maintain Message Types.............................................................................. 326
Maintain Access Sequence.............................................................................327
Assign Partner Roles to Message Type...........................................................327
Note.................................................................................................................................327
  9	 SAP MM Customizing—Inventory Management.....................................................329
Introduction....................................................................................................................329
General Settings..............................................................................................................329
Plant Parameters.....................................................................................................329
Define Attributes of System Messages.................................................................... 330
Field Selection for Goods Movement Initial/Header Screens..................................331
Define Document Life............................................................................................331

Contents  ◾  xxi
Number Assignment........................................................................................................332
Define Number Assignment for Accounting Document.........................................332
Define Number Assignment for Material and Physical Inventory Documents........332
Define Number Assignment for Reservations.........................................................332
Define Number Assignment for Goods Receipts/Issue Slips...................................333
Goods Movement Settings...............................................................................................333
Field Selection for MIGO.......................................................................................333
Field Selection per Movement Type....................................................................... 334
Settings for Transactions and Reference Documents............................................. 334
Goods Issue/Transfer Posting..........................................................................................335
Create Storage Location Automatically...................................................................335
Set Manual Account Assignment............................................................................335
Define Screen Layout..............................................................................................335
Maintain Copy Rules for Reference Documents.................................................... 336
Set Up Dynamic Availability Check...................................................................... 336
Generate Physical Inventory Documents for Goods Movements........................... 336
Allow Negative Stocks........................................................................................... 336
Goods Receipt.................................................................................................................337
Set Tolerance Limits...............................................................................................337
Create Storage Location Automatically...................................................................338
Create PO Automatically........................................................................................338
Set Manual Account Assignment............................................................................338
Define Screen Layout..............................................................................................339
Maintain Copy Rules for Reference Documents.....................................................339
Set Dynamic Availability Check............................................................................ 340
Set Delivery Completed Indicator......................................................................... 340
Set Missing Parts Check........................................................................................ 341
For GR-based Invoice Ver. Reversal of GR Despite Invoice................................... 341
Set Expiration Date Check.................................................................................... 341
Price Differences for Subcontract Order at Goods Receipt.................................... 342
Activate Storage of Incoming Documents.............................................................. 342
Movement and Movement Types.................................................................................... 343
Create Storage Location Automatically.................................................................. 343
Set Manual Account Assignment........................................................................... 343
Define Screen Layout............................................................................................. 344
Generate Physical Inventory Documents for Goods Movements........................... 344
Set Missing Parts Check........................................................................................ 344
Set Expiration Date Check.....................................................................................345
Reservation......................................................................................................................345
Define Default Values.............................................................................................345
Maintain Copy Rules for Reference Documents.................................................... 346
Set Dynamic Availability Check............................................................................ 346
Physical Inventory........................................................................................................... 346
Field Selection for Physical Inventory.................................................................... 346
Default Values for Physical Inventory.................................................................... 347

xxii  ◾  Contents
Settings for Physical Inventory.............................................................................. 347
Default Values for Batch Input.............................................................................. 348
Maintain Copy Rules for Reference Documents.................................................... 348
Allow Freezing of Book Inventory Balance in Storage Location............................. 348
Define Tolerances for Physical Inventory Differences............................................ 349
Activities....................................................................................................... 349
Cycle Counting......................................................................................................350
Activate Distribution of Consumption Differences.................................................350
Inventory Sampling.........................................................................................................351
Create Inventory Sampling Profiles.........................................................................351
Define Stock Management Levels...........................................................................351
Define Stock Management Level in WMS.............................................................352
Movement Types.............................................................................................................353
Record Reason for Goods Movements....................................................................353
Copy Change Movement Type...............................................................................353
Set Subscreen for Account Assignment (Coding) Block..........................................354
Stock Determination.......................................................................................................355
Define Strategies for Stock Determination..............................................................355
Stock Overview................................................................................................................355
Inventory Management...........................................................................................355
Production Order...................................................................................................356
Repetitive Manufacturing.......................................................................................356
Pull List..................................................................................................................357
KANBAN..............................................................................................................357
Delivery..................................................................................................................357
Warehouse Management........................................................................................358
Reporting........................................................................................................................359
Define Stock List Display.......................................................................................359
Define Field Selection for Material Document List................................................359
Set Up Print Functions for Reporting.................................................................... 360
Group Movement Type for Stock List.....................................................................361
Account Assignment and Valuation.................................................................................361
Define Price Control for Movement Type...............................................................361
Configure Price Change in Previous Period........................................................... 362
Configure Dynamic Price Changes....................................................................... 363
Reasons for Price Changes..................................................................................... 363
Set Up Material Price Dispatch............................................................................. 364
Define Document Type and Number Ranges for Price Change............................ 364
Define Document Type and Number Ranges for Material Debit.......................... 364
Maintain Number Ranges for Material Ledger Documents...................................365
Split Valuation........................................................................................................365
Activate Split Valuation......................................................................................... 366
Configure Split Valuation...................................................................................... 366
Account Determination..........................................................................................367
Account Determination Wizard....................................................................367
Account Determination without Wizard.......................................................367
Define Valuation Control.......................................................................................367

Contents  ◾  xxiii
Group Together Valuation Areas........................................................................... 368
Define Valuation Classes....................................................................................... 368
Define Account Grouping for Movement Types.................................................... 369
Configure Automatic Postings................................................................................370
10	 Business Scenarios.....................................................................................................371
Introduction....................................................................................................................371
Standard and Customized Business Scenarios..................................................................371
Complete Procurement Process...............................................................................372
Inventory Management Cycle.................................................................................372
Consignment Cycle..........................................................................................................373
Customization, Configuration, and Master Data Setup..........................................373
Process Demonstration.......................................................................................... 380
Subcontracting Cycle...................................................................................................... 387
Customizing Settings............................................................................................ 388
Calculation Schema...................................................................................... 388
Document Type........................................................................................... 390
Master Data Setting..................................................................................... 390
Info Record...................................................................................................391
Testing the Subcontracting Cycle...........................................................................392
Pipeline Process.............................................................................................................. 399
Intercompany Transfer.................................................................................................... 399
Master Data Setting............................................................................................... 400
Sales Area..................................................................................................... 400
Document Type............................................................................................401
Bill-to Partner............................................................................................... 402
Vendor.......................................................................................................... 402
Tax Code and Tax Rate................................................................................ 404
Program Parameters for Invoice Verification................................................. 404
Partner Profile for Bill-to and Vendor Partner and Inbound Parameters................ 405
Billing Document.................................................................................................. 405
Invoice Document................................................................................................. 406
Index................................................................................................................................. 407


xxv
Preface
Systems, Applications, and Products (SAP) application has been implemented by thousands of 
customers worldwide over the years since it was introduced in 1972 by SAP AG. There are thou-
sands of SAP consultants who implement SAP application for their customers. They must have 
learned SAP somewhere using some learning tools such as books, online portals, and training 
classes.
Yet it baffles me that many good books are not available in the market, especially for SAP 
materials management (SAP MM). I still have no idea why it is so but I have decided to bridge the 
gap. So I have put my effort in the form of this book. I hope it will be extremely useful to the aspir-
ing SAP MM consultants. The book includes a complete flow of business transactions involved in 
SAP MM. It also provides a detailed explanation of all the steps involved in SAP MM. 
This book discusses the following aspects:
◾
◾Complete guide on features related to SAP MM including procurement of materials and 
inventory management with screen shot of real-time SAP environment.
◾
◾Complete guide on customization required for procurement of materials and inventory 
management with screen shots of real-time SAP environment.
◾
◾Business scenarios related to SAP MM such as subcontracting cycle and consignment 
cycle, and a complete step-by-step guide to do it yourself with live SAP environment 
with screenshots.
This book is designed to be your dependable reference for SAP MM. There are many tricky busi-
ness transactions in SAP MM that cannot be performed without thorough understanding of how 
particular SAP MM features work. For example, the feature “Release procedure for purchase 
requisition” is used to release a purchase requisition by all authorized personnel before it can be 
released to be used by the purchase department for further processing; it is a good example that 
can never be implemented without the knowledge of all steps involved in setting up a release pro-
cedure for this document. Similarly, setting up a subcontract order requires knowledge of all steps 
involved in setting up a subcontract order in SAP.
Experienced SAP MM consultants can set up complex business scenarios related to business 
requirements of their customers. However, due to complexity and a large number of ways any 
business scenario can be set up in SAP, newbie SAP MM consultants find it almost impossible to 
implement them. This book will definitely be of great help for these people.
There are two aspects to implementing any business software application: (1) to have a good 
knowledge about business processes so that the users find it useful when the software application 

xxvi  ◾  Preface
gets implemented and (2) to have in-depth knowledge about the features of the SAP system. 
It is possible that a SAP MM consultant may be good at understanding business requirements 
but lacks the knowledge of SAP MM features. Similarly, a SAP MM consultant may be good at 
understanding SAP features but has little experience of business processes and thus lacks good 
knowledge about business requirements. In either case, the consultant will not be a successful 
one. The consultant must have good knowledge and experience of business processes related to 
purchasing and inventory management. If he uses this book, he will definitely find it easy to bridge 
the gap between the knowledge of business requirements and SAP MM features. After practice, 
he can be a good SAP MM consultant.
I hope this book will help you to become a successful SAP MM consultant.

xxvii
Author
Ashfaque Ahmed obtained his bachelor of engineering from the National Institute of Technology, 
Raipur, India, in 1988 and his MBA in marketing management from Indira Gandhi National 
Open University in 1997. He has more than 25 years of experience in the steel industry and 
­software application development. He started his career as a management trainee in Steel Authority 
of India Limited, the largest and most admired company in the steel industry in India. He learned 
production management, inventory management, and marketing management in the Indian 
steel industry. Later he moved to the software industry as a programmer analyst and worked for 
a Canadian software company based in Montreal. In the software industry, he learned about 
­software programming and how software helps run a brick-and-mortar business. Then he moved 
to software testing and worked as a software testing manager and software project manager.
In 2005, he learned SAP materials management (SAP MM) module and became a SAP MM 
consultant. Since then, he has been working with Global Steel Holdings Limited and SAP Nigeria 
for implementing SAP solutions for their customers. In his career as SAP MM consultant, he has 
worked on some challenging assignments that involve the implementation of variants of standard 
business scenarios in the context of local country-specific customizations of SAP MM features.
He is a well-known and popular author. He has written two books and many research papers. 
His books Software Testing As a Service (2009) and Software Project Management: A Process-Driven 
Approach (2011) were published by CRC Press.


1
Chapter 1
Introduction to SAP Materials 
Management and Navigation
Introduction
If you are pursuing to become a SAP materials management (SAP MM) consultant, you may 
already know something about SAP. So we will quickly and briefly go over what is SAP and move 
over to SAP MM, and discuss some preliminary points about it. Later we will see some advance 
topics related to customizing SAP MM. Finally, we will see some business scenarios related to MM 
and understand how SAP MM is used to solve these scenarios.
I welcome you to this edition of text on SAP MM. You are going to read and learn a lot about 
SAP MM. But first we will learn what is SAP all about and some basic understanding about SAP 
MM as well as how to navigate SAP screens as a user and as a business analyst.
What Is SAP?
SAP stands for Systems, Applications, and Products for enterprise data processing. In 1972, five 
former IBM employees formed this company in Germany. The company name is SAP AG and 
the product that was developed is called SAP. Initially, SAP application was built to run on IBM 
mainframe computers, and this release of the application was termed as SAP R/1. Then in 1978, 
SAP AG launched R/2 version of its product. Finally, in 1992, SAP released its R/3 version. There 
was a fundamental shift with this release. While earlier versions of SAP were built to run on IBM 
mainframes, SAP R/3 was built to run on UNIX platforms; hence, there was a paradigm shift from 
the mainframe era to the client–server one. Since then SAP AG has kept releasing many versions of 
its product catering to different technologies and different businesses. In 1999, SAP AG introduced 
mySAP.com, a ­technological initiative to join the era of Internet and client independent computing.
SAP AG has also been kept adding new functionalities to its product. Initially, there was 
only accounting package in its product. Later it added advanced financial features. For order and 
front office management, it introduced sales and distribution (SD) module to its product. Later it 
introduced the feature to take care of back office work related to supply chain management such 

2  ◾  The SAP Materials Management Handbook﻿
as inventory management, shipment management, and warehouse management (WM). Similarly, 
it added mobile platform to integrate mobile devices to the backbone application so that users can 
use mobile devices to process transactions online.
SAP AG also developed the modules for human resource management, customer relationship 
management, advance planning and optimization, components for mobile integration and opera-
tion, and so on over the years as technology and customer requirements evolved from time to time.
Importance of Enterprise Resource Planning
In any enterprise that deals with procuring, processing, production, or distribution of materials, 
transactions such as purchase order, purchase requisition, contracts, inventory count, inventory 
valuation, vendor management, and material requirement planning take place.
These transactions can be done using a paper and a pencil if the operations involved may be 
very small. For instance, a small retail shop may have 500 items, and every week it needs to order 
70 items from its supplier. In this case, these transactions can easily be taken care of by using a 
paper and a pencil. Now assume that the owner of this shop expands, and suddenly now there 
are three shops located at different parts of the city. The number of items increased to 5000 and 
the number of items on orders to suppliers also increased to 700 per week. In this case, a small 
software package can be used to take care of these transactions.
Now assume that this retail store chain expands again over the years. There are 30 stores 
located at different parts of the state. There are 7000 items on orders per week. How will the 
management of the retail store chain handle these increased transactions? Maybe they will go for a 
larger software package to take care of the larger number of transactions. In fact, nowadays there 
are global business houses that are so large that the number of transactions for their different busi-
ness units runs in billions per day. The organization structures at these houses also tend to be very 
complex. There may be many legal business units which are, for all purposes, separate business 
units from each other. Yet, because of the same ownership, they do business with each other differ-
ently than they do business with other business houses. Then these global business houses operate 
in many countries. Each country has its own legal and commercial requirements.
Despite all these complex issues, a business house needs to have a system that can tie all of its 
diverse operations together. Thus, running the business becomes easier. The top management can 
make decisions instantly based on the information they get from such a system that provides revenue, 
expenses, and future commitments, and all such information. The top management of a global enter-
prise may need all these information from all of its global operations. This information is current, 
instant, and available at a touch of a button. These global business houses also need to provide legally 
binding information to governments and public on a quarterly or a yearly basis about their business 
operations. It is simply impossible to provide these pieces of information without the help of a good 
enterprise software application that helps these business houses to do instant transactions, and at the 
same time make available information about these transactions.
SAP is one of such an enterprise system. This system is known as enterprise resource planning 
(ERP) system. In fact, SAP is the most successful of these ERPs.
What Is SAP MM?
SAP ERP consists of financial, logistics, and human capital management core areas. SAP MM 
is part of the SAP ERP logistics system, which consists of SAP production planning (SAP PP), 

Introduction to SAP Materials Management and Navigation  ◾  3
SAP plant maintenance (SAP PM), SAP WM, SAP SD, SAP logistics execution (SAP LE), and 
SAP MM. SAP MM covers the areas of purchase and inventory management.
To fulfill these tasks associated with purchase and inventory management, SAP MM needs 
master data to be defined for materials, vendors, plants, storage locations, and purchase organization. 
These master entities need to be configured in conjunction with the client and company codes, 
which are two top-level organization entities in SAP.
Apart from these master data, SAP also needs to create master data for
	
1.	Linking vendor to materials
	
2.	Creating a list of all available sources of supply of materials so that sourcing for these materi-
als can be optimized
SAP purchase management deals with the transactions associated with creation and maintenance 
of purchase documents. The set of purchase documents contain transaction data. SAP needs mas-
ter data to produce this transaction data.
In essence, SAP MM is all about purchase transactions, inventory management transactions 
and the transaction data being generated during these transactions.
SAP Is Not Easy
If you think that learning SAP is easy, you are mistaken. SAP is one of the most complex software 
applications, and thus, it is difficult to learn. For an end user, it may be a complex and difficult 
product, but for a SAP consultant, it is even harder.
Complexity Issues for End Users
Even at the end user level, SAP presents very complex user screens. There are thousands of transac-
tions which an end user is supposed to perform on a daily basis. For these transactions, there are 
too many options available in the implemented system. At the same time, on each user screen, there 
are too many elements. These factors make the SAP environment difficult to learn and understand.
Complexity Issues for SAP Consultants
SAP consultants need to use implementation guide (IMG) to configure the SAP application as per 
customer requirements. On top of already complex end user screens, there are too many options 
available in the IMG guide to configure the application. Definitely this makes the job of a SAP con-
sultant difficult. Understanding what each of the options available in the IMG does for implement-
ing a business process is a labor-intensive work. It may never happen that a SAP consultant may have 
to implement many of these options ever on any of the projects he/she may have worked. Thus, he/she 
may be aware of a limited number of options which he/she may have ever implemented.
Typical Nature of SAP Transactions
Learning SAP is also difficult because transactions in SAP are done in a typical way. So if a consultant 
or user has experience in using or implementing any other ERP system, he/she may find it difficult 

4  ◾  The SAP Materials Management Handbook﻿
to migrate to SAP. For instance, a consignment cycle done in SAP is very different from how it is 
done in any other ERP system. In SAP, a consignment cycle is implemented in the following steps:
	
1.	Activate consignment payment via info records in the IMG.
	
2.	Create info record of consignment type.
	
3.	Check general ledger account setting for consignment payable and stock posting.
	
4.	Create a consignment contract (with item category type “K”).
	
5.	Create a purchase requisition referencing the above created contract.
	
6.	Create a purchase order referencing the above created purchase requisition for ordering the 
consignment material into consignment stock.
	
7.	Post goods receipt for the purchase order. The material will be received in consignment 
stock. At this point, a material document will be created.
	
8.	Post goods issue to move material from the consignment stock to customer’s own stock. At 
this point, a material document and an accounting document will be created.
	
9.	Do settlement of consignment payment to vendor.
If you go through the above steps, you will ask what is info record, what is item category, and what 
is material document? You will appreciate that SAP has its own terminology and way of doing 
things. You will learn about all the SAP terms mentioned here in the later chapters.
Typical SAP User Screens
A user screen for purchase order is shown in the below figure.
You can see that the screen is indeed complex and contains a large number of screen elements. 
A new user will have to master and understand all these screen elements to work in SAP 
environment. Definitely learning and mastering such a large number of user screen elements is 
a difficult task.

Introduction to SAP Materials Management and Navigation  ◾  5
Difficult Language
SAP application has been developed by German people in German language for German companies. 
Later it was translated into English so that people from English-speaking countries can use it. So the 
German influence on SAP application is unmistakable. Icons, screen layouts, and screen elements 
definitely have a German imprint. This makes learning SAP a bit difficult proposition for people 
from English-speaking countries.
Navigation
Navigation in SAP consists of menus, file directories, and iconic button commands. The entire 
screen in any SAP program is divided into many parts. User can navigate from one screen to 
another by using either drop-down menus, iconic button commands, or the file directories.
Menus are divided into four types: system menu, application menu, context-sensitive menu, 
and drop-down menu. System menu consists of menus related to entire system. They are always 
present at the top of all SAP screens. But they also change with the application being run.
Log On
In SAP, you need to log on first to access it. Every user of a SAP system is provided with a user name 
and a password to access it. It is also necessary to provide a connection string so that a user terminal 
(with either a SAPGUI or a WebGUI) can be connected with a server that hosts the SAP application.
A SAPGUI is the front end to access SAP application using standard windows interface. It can 
be installed on any user computer. A WebGUI is the front end that uses Web browser instead of 
SAPGUI. Any supported Web browser can be directed to a server running SAP application using 
a network connection through Internet or Intranet.

6  ◾  The SAP Materials Management Handbook﻿
User Screen Elements
User screen elements are slightly different from what you have experienced with usual computer 
applications such as MS Office or even Web applications. So much attention should be paid to the 
screen elements and their functions as shown in the below figure.
Menu
There are two types of menus in SAP application. One is the standard menu at the top of 
the window screen which is known as menu bar. The menu bar contains both fixed and 
­application-specific menus. The fixed menus in the menu bar include Menu, Edit, Favorites, 
Extras, System, and Help. These main menus also include their respective submenus. The 
application-specific menus are displayed when corresponding screen is chosen and displayed. 
For example, when a purchase order screen is opened, specific menus of purchase order are also 
displayed in the menu bar.

Introduction to SAP Materials Management and Navigation  ◾  7
The other menu can be invoked by pressing the right click after pointing on a screen element. 
This menu is context driven and depends on the screen element for which the user invokes the menu.
Standard Tool Bar
Standard tool bar in SAP screen contains tool buttons in transaction code box: Enter, Save, 
Cancel, and Exit.

8  ◾  The SAP Materials Management Handbook﻿
Title Bar
Title bar contains no menu or tool buttons. It contains only a title for the screen displayed.
Application Tool Bar
Application tool bar contains tool buttons specific to the application and the screen displayed. All 
tool buttons get changed according to their application and screen displayed.
Screen Body
Screen body is where most of the screen elements are located.
Status Bar
Status bar is at the bottom of the screen. It contains two parts: The left part displays status mes-
sages and the right part contains boxes. These boxes contain information for system, SAP imple-
mentation version, SAP window number, and overwrite/insert switch.
Standard Tool Buttons
In SAP, a standard set of tool buttons is used for the application. It is important to understand 
what these tool buttons do and how to use them.

Introduction to SAP Materials Management and Navigation  ◾  9
Personalization
The standard SAP screen interface can be modified to suit the needs of different users. There are 
many tools available which can be used to change SAP screens.
Transaction Codes
In SAP, you can invoke any transaction either by clicking the menu or by using a transaction code 
and writing it in the transaction code box located in the standard tool bar. The transaction codes 
are usually four characters long, which may contain letters or numbers or a combination of let-
ters and numbers. For example, transaction code ME21 can be used to invoke “Create Purchase 
Order” transaction.

10  ◾  The SAP Materials Management Handbook﻿
Help Functions
Any SAP system has two kinds of help functions: Application Help and SAP Library. The 
Application Help is available within the installed SAP system, whereas the SAP Library can be 
accessed from online portal with the help of an Internet connection.
Application Help is again of various types. F1 help provides help on any field located on any 
SAP screen. Search help is available in the form of matchcodes. Matchcodes are a string of values 
that are provided by the user in any help box and the system searches for appropriate documents 
based on the values in the search string.

11
Chapter 2
Business Mapping in SAP 
Materials Management 
and Job Advice
Introduction
Any business requires that the revenues and expenses for all business activities performed across all 
business units, departments, and so on are captured accurately and instantly. Apart from the financial 
aspect, businesses also require accounting information as to what expenses are accrued for which 
material or activity. For materials management (MM), information about how inventory is located at 
different locations and the availability of these materials should always be available to make ­decisions 
about their usage. For purchasing functions, information about vendors, procurement materials, their 
prices, and so on should be readily available to make appropriate procurement decisions.
Some of these business activities and their solutions in SAP can be categorized as follows:
◾
◾Sales and marketing transactions (customer orders, enquiries, customer payments, etc.) are 
captured in the sales and distribution (SAP SD) module.
◾
◾Production, material processing, and material requirement planning (MRP) are captured in 
the production planning (SAP PP) module.
◾
◾Procurement and inventory management are captured in the SAP MM module.
◾
◾Transportation, distribution, and shipment of finished goods are captured in the transporta-
tion management module together with the SAP MM and SAP SD modules.
◾
◾Warehouse management (WM) is captured in the SAP WM module.
◾
◾Human resources and payroll are captured in the human capital management (SAP HCM) 
module.
◾
◾Finance and costing are captured in the finance and accounting and controlling (SAP FI 
and CO) module.
Apart from these modules, there are several core and related modules available in SAP. Depending 
on the needs of a company, these modules are also implemented apart from the core modules of SAP.

12  ◾  The SAP Materials Management Handbook﻿
Business Function Mapping in SAP MM
In procurement activities, user departments request the purchase of materials and services through 
either manual or automated process such as MRP in the form of purchase requisitions (PRs). 
After getting approval from the approving authorities, these PRs will be converted into external 
purchase documents by the purchasing department. These external purchase documents will then 
be sent to vendors. Once a purchase is made and the material is received, an invoice will be gener-
ated. Payment will then be made after the verification of the invoice by the finance department.
The received materials will be either consumed without stocking or put into stock. Materials 
will then be consumed through goods issue.
Sometimes, goods received from vendors will be put tested for quality. If the quality is not 
good, then the goods will be returned back to the vendor; if the quality is good, then the goods 
will be sent to stock.
When a service is procured, there will be no goods receipt or goods issue. The process starts 
with a request for service to the bidder (supplier). Once you get quotation from the bidder, you 
create a purchase order (PO). The bidder starts delivering service, and the time and expenses are 
logged over the delivery time of the service. During the delivery of service as well as at the end 
of service, invoices will be sent by the bidder. These invoices will be verified and payment will be 
made to the bidder. For enabling the suppliers in the bidding process as well as for logging the 
time and expenses, a self-service portal can be created in SAP and connected to the SAP back end.
SAP has all kinds of business scenarios that you want to implement, for example, be it ­consignment 
cycle, subcontracting cycle, request for quotation (RFQ) cycle, long-term contracts, scheduling 
agreements, stocking strategies, invoicing plans, and so on. SAP has elaborate ­functionalities. 
SAP MM takes care of all kinds of procurement and inventory management strategies.
You will have to learn how to map all these business processes in SAP. Most of these business pro-
cesses and in fact the entire life cycle of these processes are already mapped and available in the standard 
SAP installation. However, in cases when the business process of your customer cannot be mapped 
using the standard SAP functionality, you can use the Implementation Guide (IMG) to map the busi-
ness process by modifying the standard functionality. If even this approach does not help, then you can 
document it under gap analysis. Then you can find out if the functionality can be achieved by either 
using enhancements [Business Add-Ins (BAdI)] made by SAP or writing custom code.
Many features in SAP sometimes are cumbersome to deal with. For instance, each of the mate-
rial master views contains so many fields which an end user may not need at all. When he/she 
creates a material master, it will be much easier for him/her if these unnecessary fields are removed 
from his/her screen, which is possible to do in SAP. Many times the user does not need all the 
screens provided by SAP for making a transaction. In SAP, it is perfectly possible to remove these 
screens using screen variants. Similarly, screen layouts can be changed using personalization in SAP.
Now let us discuss about custom development and BAdI. For instance, you need to make a 
report based on a table in SAP. You find out that the values you want to get for the report do not 
appear in any of the fields inside that table. In that case, you can add a column in that table and 
populate that column using some queries in your custom code. After that you get data from this 
column for your report. To achieve this, you will need to find out the place where you can write 
your code into the source code directory. The place where you will be writing your source code is 
known as the user exit in SAP.
Many third-party vendors have developed tools that can be easily plugged into your SAP 
installation. These tools help the end users in the form of easier screen flows, printing, saving or 
formatting documents, and so on.

Business Mapping in SAP Materials Management and Job Advice  ◾  13
Now, to get you familiar with business documents and how they are represented in SAP, we 
will discuss some important documents in SAP.
Purchase Requisition
PRs are basically notes of requirements from user departments. In plants, user departments need 
raw materials to make finished goods. So users create PRs and send them to the purchasing 
department. The purchasing department finds out the vendors from where the raw materials can 
be procured. Then they convert the PRs into POs and send them to the vendors.
PRs contain information such as material, quantity, required date, plant, storage location, 
and material group. PRs can be either created manually or generated automatically from MRP 
systems. PRs are internal purchase documents as they are used only for internal communication. 
They are never sent to vendors. PRs can also be created for services.
Purchase Order
The PO is the most widely used instrument for purchasing. The purchasing department creates 
POs from PRs. POs can be either created from scratch or adopted from documents such as PRs 
or contracts. In addition to the information contained in PRs such as account assignment cat-
egory, item category, plant, storage location, material group, delivery date, material name, material 
description, quantity, purchase organization, and purchase group, you also need to include header 
information such as delivery, vendor address, payment processing, and partner information.
Request for Quotation
RFQ is used when for any material no vendor information is available or when the purchasing 
department wants to get the best price for any material. The purchasing organization creates a 
quotation and sends it to selected vendors. Vendors then fill the quotation form and send it back 
to the purchasing department that evaluates the received quotation and compares it for price and 
any other criteria. Finally, the purchasing department selects the best quotation and then invites 
the selected vendor and rejects other quotations.
Contract
Contract is used by the purchasing department to enter into a long-term purchasing agreement with a 
vendor. The vendor agrees to supply the required material quantities at stipulated time intervals to the 
customer. For each purchase, transaction at these intervals is done using a call-off order (a type of PO).
In SAP, there are two types of contracts: (1) quantity contract and (2) value contract. The 
­quantity contract is for a stipulated quantity over a time period and is used for procuring ­materials. 
The value contract is based on the total value of the contract in terms of dollars or any other 
­monetary unit and is used for procuring services.
Scheduling Agreement
Scheduling agreement is a type of contract. Here, a purchase document known as scheduling 
agreement is created. This document contains scheduling lines. The purchasing department main-
tains these scheduling lines based on the firmed and planned requirements and keeps informing 

14  ◾  The SAP Materials Management Handbook﻿
the vendor about the firmed and planned requirements by sending them the latest and updated 
scheduling agreement document.
Scheduling agreements are used when there is a close working relationship between the cus-
tomer and the vendor.
Invoice
When a vendor supplies material to the customer, it also sends an invoice for the payment to be 
made to the vendor for the material supplied. The customer then verifies the invoice by comparing 
the PO with goods receipt.
Material Requirement Planning
MRP used by manufacturing companies are of various types. Many MRPs are based on forecasts for 
material required at a future date. Some other MRPs are based on the consumption of materials in the 
past. In SAP, this latter type of MRP is used. The consumption-based MRP can be further divided 
into reorder point based, forecast based, master production schedule (MPS) based, and so on.
When you run MRP, it generates a plan that shows all the required materials with quantity 
which the production department needs over the planning period. The plan also shows the time 
when a particular material is needed. To procure or to make the required material, the MRP 
that is run produces planned material orders. If the material is to be procured externally, then 
the planned order is converted into PR either manually or automatically. If you need to convert 
planned orders into PRs automatically, then you will need to configure this functionality in IMG.
Reservation
Reservation functionality is used to plan the consumption of material from material stocks. If a 
material stock exists, MRP and other programs try to consume material from this stock. Many 
times, these programs may not find the required material in the stock because some other programs 
have already consumed the material and exhausted the stock. So there will be a mismanagement 
as to how the material gets consumed from the stock. To overcome this problem, programs do not 
consume material directly from stock. If any program requires material, then this requirement is 
logged and kept in a queue. When material is available in the stock, the request in the queue with 
highest priority gets the material issued. This queue is known as reservation. Thus, goods issue and 
inventory management can be planned and managed in a good way.
Material Document
Material documents are generated for each inventory transaction in SAP. When goods are received, a mate-
rial document is generated, which shows the material received and its quantity in the stock. Similarly, 
when goods are issued to the production department, a material document is generated, which shows the 
material issued and its quantity. Material documents are used to manage inventory.
Financial Document
When there is an inventory transaction and the transaction is valuated, a financial document 
is generated. The financial document contains information about which general ledger (G/L) 
account is credited and which G/L account is debited.

Business Mapping in SAP Materials Management and Job Advice  ◾  15
Core and Central Functions
SAP system is divided into many modules. But to enable the system to function across the 
­enterprise and all these modules requires that there should be some central functions that sit on 
top of these modules such as organization structure, user roles, and some other cross-application 
functions. These functions are not part of any module and in fact are organized separately from 
these modules as central functions. However, each module has its own set of functions. These 
functions are known as core functions.
Since SAP MM is a module in the SAP system, it has its own set of core functions. The core 
functions in SAP MM are broadly divided into two groups: procurement management core func-
tions and inventory management core functions.
Minimal Customization Required in SAP MM
One good news for the newbie SAP MM consultants is that SAP has built a lot of features using 
the standard SAP functionality. So customization efforts are minimal on any SAP MM imple-
mentation project. In fact, customization is not required at all for many large SAP implementation 
projects, whereas customization to the tune of 10% of all implementation effort may be required 
for some other projects. The guideline is that you should not customize unnecessarily. You should 
customize only when user requirements are not met through the standard SAP functionality. The 
reason is that there are two side effects of customization: (1) the implementation project effort and 
cost goes higher with increase in customization required and (2) the support cost and effort also 
goes higher than what can be achieved with standard SAP functionality.
During blueprinting, try to map all user requirements that are available in the standard SAP 
functionality. Mark requirements as “Gaps” only when a requirement cannot be met in the standard 
SAP functionality. These gaps can then be achieved through customization.
Real World and SAP
If a software system is developed which has fancy screens and a lot of highly interesting features 
for doing everyday business transactions but lacks features required to do business transactions, 
then this kind of system will never be useful. On the other hand, if a software system is developed 
which is used for everyday business transactions and has the required features such as robustness 
and transaction integrity then the software system will definitely be very useful.
Job Advice
SAP application is very large and therefore divided into many modules. Learning and master-
ing all modules available in SAP application is not possible. That is why SAP consultants learn 
and master any of the modules. So there can be a SAP consultant who has learned and mastered 
SAP SD module. Similarly, there can be a consultant who has learned and mastered SAP MM 
module. In SAP, consultants are known by the module which they master. So we have SAP 
MM consultants who master in SAP MM module, SAP SD consultants who master in SAP SD 
­module, and so on.

16  ◾  The SAP Materials Management Handbook﻿
If you are thinking of learning SAP, then you should first decide which module you want 
to learn and master. It also helps if you have some prior functional experience. People who have 
experience in inventory and MM or in purchasing should opt for SAP MM module. People who 
may have experience in order management, customer management, shipping, and so on should 
opt for SAP SD module.
To get into a SAP consultant career, SAP certification is helpful. A SAP certification makes 
sure that the employers know that the consultant has good grasp of SAP concepts.
How to Learn SAP
The best method to learn any subject is to first get to know as to how the user will be using the 
application provided by you. The best implemented application will fail if the user is not using 
it properly due to reasons such as too complex to use, too many clicks and fields to fill for doing 
any transaction, and difficult to understand screens and fields even when a good documentation 
is provided in the shape of a user guide. Many users may end up having difficulties in navigation, 
filling forms, and so on, if the application is too cumbersome. There are always bugs or defects that 
prevent the end user in suing the application effectively.
For a beginner who wants to be a SAP MM consultant, it is advisable to learn SAP as a user. 
He/she will become familiar with the nomenclature, screen flows, typical SAP transaction styles, and 
so on. Once he/she is familiar with the application, he/she can be introduced to customize the stan-
dard SAP interface and transactions to make the application specific to the user needs of the customer.
A SAP MM consultant needs to customize the SAP application as per customer needs and 
then train the end users so that they can use the customized application effectively. Tasks involved 
in the customization project includes requirement gathering of user needs for the application, 
making a blueprint of these needs, making necessary changes (customization) in the standard 
application, testing the application, and finally installing it at customer premises so that users can 
start using it. For all these activities, a SAP consultant needs to have expertise and experience so 
that he/she can be efficient in all these project activities. Generally, a project team consists of a 
project manager and SAP consultants. For each module of SAP, there could be a module lead as 
well if the project is large. There could be a team of SAP consultants under the module lead. For 
instance, there could be a module lead for SAP MM and under him/her there could be a team of 
SAP MM consultants.
SAP projects can be categorized as follows:
◾
◾Implementation projects
◾
◾Support projects
◾
◾Roll-out projects
Implementation projects are the one in which a customer wants to implement a SAP system for its 
own internal use. These projects are further divided into two types: green field projects and brown 
field projects. Green field projects are the one in which the customer does not use any kind of 
software application before going for SAP implementation. In this case, no legacy data from the 
previous system need to be migrated to the SAP system. In case of brown field projects, customer 
already uses some legacy application, which needs to be migrated to the SAP system. In this case, 
legacy data need to be ported to SAP. Generally, porting legacy data is a major effort as legacy data 
need to be cleansed and formatted, and then only it can be made portable.

Business Mapping in SAP Materials Management and Job Advice  ◾  17
Support projects are the one in which SAP has been already implemented by the customer and 
users have now started using it. These users need technical support on a day-to-day basis. At the 
same time, for enhancement or repair of defects, SAP technical skills are required. Similarly, an 
older version of SAP implementation may need to be ported to a new version, which also requires 
SAP technical skills. All of these activities are taken care of in support projects.
Most of SAP implementations are done in a phased manner. First, SAP is implemented at 
some divisions (legal entity) of any corporate entity where users are ready to use it. Later, other 
divisions also go for SAP. Implementations at these divisions are covered under roll-out projects. In 
these projects, the effort required for implementation is significantly lower than that required for 
SAP implementation at the initial corporate division. It is because, in roll-out projects, most of the 
features of SAP that are implemented at initial division are simply replicated.
A SAP consultant should know about the environment in which he/she is supposed to work. 
So he/she should be aware of the differences among implementation, roll-out, and support ­projects. 
Skills required to work on these different kinds of projects also vary as it is evident from the 
­explanation of these kinds of projects outlined above.
Project Management and SAP Responsibilities
SAP implementation projects follow a project methodology known as accelerated SAP (ASAP). 
The entire implementation project is divided into project phases. In project initiation phase, ­project 
team formation, project estimation, project charter, formation of project steering ­committee, and 
similar tasks are performed. In blueprinting phase, requirement gathering, mapping requirements 
into SAP ­features, gap analysis, and so on are done. In realization phase, requirements are con-
verted into SAP ­functions by configuring and customizing SAP application. In final prepara-
tion phase, unit ­testing, integration testing, end user training, training documentation, end user 
documentation, and so on are done. In go-live phase, data migration from legacy systems, system 
installation, user ­hand-holding, and so on jobs are done.
A SAP MM consultant thus needs to perform all of these activities during the entire life cycle 
of the implementation project. He/she will have to gather requirements related to all MM func-
tions. Then he/she has to make a blueprint in which he/she has to map these requirements to fit-
ting SAP features or when a gap exists then to create a specification so that the feature can be either 
accomplished through customization of a SAP function or custom developed to bridge the gap.
During realization phase, a SAP MM consultant will configure SAP features as per require-
ments. He/she will also again customize SAP features as per requirements. He/she will also work 
with Advanced Business Application Programming (ABAP) consultants for features that need to be 
custom developed. In final preparation phase, he/she will test his/her module as well as test integra-
tion points of his/her module with other SAP modules. For instance, SAP MM module is integrated 
with SAP FI/CO, SD, PP, and other modules. So he/she has to test his/her module to make sure that 
the integration of SAP MM module is fine with other modules. He/she will also prepare end user 
manuals. During go-live (also known as cutover phase), he/she will provide end user training on the 
configured SAP system. He/she will migrate legacy data to SAP. Then he/she will do consistency test-
ing to make sure that the migrated data are working fine.


19
Chapter 3
SAP MM Masters and 
Organizational Structure
Introduction
To master SAP, first it is important to master the foundation on which SAP transactions and 
reports are built upon. When it comes to SAP MM, material master, vendor master, plants, storage 
locations, purchasing organizations, purchasing groups, and so on are the entities that need to be 
created as masters in SAP. Further, there are masters for purchasing part of the SAP MM module, 
which are used for purchasing documents. They include purchasing info records, purchasing source 
lists, and conditions.
Of course, the SAP MM masters are also part of the overall organizational structure of 
SAP. In real life, large global business empires consist of many legal entities, representing 
different companies in their own right. But ownership of all these legal entities is the same. 
It makes sense to incorporate all of them within one umbrella. The way they do business 
with each other is different than they do with other legal entities, which are not part of the 
same ownership. These separate legal entities belonging to the same ownership may share 
information with each other. It also makes sense that although they do business with each 
other and share information by using the same platform, they hide some sensitive informa-
tion from each other. To enable this kind of scenario, in SAP you can create many legal enti-
ties in the same instance of SAP application. In SAP, the umbrella organization is created 
as client. Inside one client, there can be many company codes, which can represent separate 
legal ­companies. Inside each of these company codes, there can be various plants, purchasing 
organizations, storage locations, and so on. Masters such as material master and vendor master 
are attached to the company codes and plants.

20  ◾  The SAP Materials Management Handbook﻿
Material Master
Material master is the most important master data in SAP MM and in fact for the whole logistics 
area. Material master holds data about material characteristics, material type, department infor-
mation, material batch, and so on.
To create a material master, certain information is required. This includes “Industry sector” 
and “Material type.” If there is an external material numbering system, the material number is to 
be provided.
Material information is needed for a company and its departments. For instance, the sales 
department needs information about price, location, date of manufacturing, size, order unit of 
measure, and so on for each material that is sold to customers. The costing department may need 
information about cost of production, material purchase price, and so on. To facilitate the infor-
mation relevant to each department, each material has many views in SAP. Each of these views 
contains relevant information for these departments. Therefore, when you create a material, the 
material master shows a large number of material views. In each of these views, you need to create 
and maintain relevant material data.
Let us discuss about all of these aspects when we create or maintain master data for a material. 
To create a material, you can use transaction code MM01 or you need to follow the menu path: 
SAP Menu → Logistics → Materials Management → Material Master → Material → Create 
(General) → MM01 - Immediately.

SAP MM Masters and Organizational Structure  ◾  21
Once you double click the menu, you will be navigated to the “Create Material” screen as shown 
in the below figure.
You select the Industry sector and Material type from the drop-down box on the screen. There 
is also an option to create a change number. You can also create a new material by copying an 
existing material. You can do this by mentioning the material number in the Copy from text box. 
Once you are done, press Enter. A new window will appear as shown in the below figure to enter 
the organizational data.

22  ◾  The SAP Materials Management Handbook﻿
Remember that when you log in to the SAP application in which you have already entered the 
client. So client information is displayed when you navigate to this screen. Now when you have 
to enter plant on this screen, you need to know the company code of which the plant is part of 
the organizational structure for which you are creating the material. Click on the Copy button 
next to the Plant text box (you will get this button after you click on the Plant text box). You will 
be taken to a screen where you can select the company code and subsequently the plant. After 
selecting the plant, you need to choose the storage location. Now click on the Storage Location 
text box to get the Copy button. Now click this Copy button and select your storage loca-
tion from the selection screen. If you are maintaining material requirements planning (MRP) 
profile, enter your MRP profile in the MRP profile text box. MRP profile is the SAP feature 
that is defined using the menu path: SAP Easy Access → SAP Menu → Logistics → Materials 
Management → Material Master → Profile → MRP Profile → Create. The transaction code is 
MMD1. MRP profile is used in connection with MRP. MRP profile is used to keep data related 
to MRP for maintenance purposes.
Once you enter the organizational data on this screen, click on the right arrow button. The 
organization level window will close and a window displaying the selection list of material views 
will pop up.
Material master data are divided into many views, which are organized such that all data 
related to one department are covered in one view. From the material views selection window, 
select the views for which you want to create data and then click on the right arrow button. The 
material views selection window will close and you will see the main window displaying your 
selected views.
Each department maintains its own material master views. The basic data views 1 and 2 are 
common to all departments. From SAP MM perspective; purchasing, purchase order (PO) text, 
MRP1, MRP2, MRP3, MRP4, plant data/storage location 1 and 2, accounting 1 and 2, and 
costing 1 and 2 views are important. Other views are also referred by SAP MM consultants when 
they need to check integration points with other modules. But most often SAP MM integration 
with finance, controlling, production planning, and quality are more common, and thus, SAP 
MM consultants refer material views for these departments. Due to these reasons, we will not 
study all material views but restrict ourselves to the views related to MRP, purchasing, finance, 
and controlling.
Let us discuss these views in detail. But before we begin, let us first see the setup information. 
Depending on the material type, you will see different fields on material views.
Material Master Setup Information
For this tutorial, I have selected industry sector as “Chemical Industry” and material type as “Raw 
Materials.”
Material Master Views
Basic Data View 1
The first material view is the basic data view 1. You will see many text boxes to fill on this view as 
shown in the below figure.

SAP MM Masters and Organizational Structure  ◾  23
The mandatory fields on this view are material name, basic unit of measure, and material group. 
First of all, enter a suitable name for your material in the material name field. Enter a basic unit 
of measure for the material that will be used by your organization. You can also use the drop-
down box and select your basic unit of measure. The basic unit of measure is the primary unit 
of measure, which can later be used by other types of units of measure such as alternate unit of 
measure and order unit of measure. You can define these units of measure by using a conversion 
factor.
The material groups are the group of materials that are often purchased together. You can 
define material groups in a separate IMG activity which is discussed later in this chapter. You can 
select the material group to which your new material belongs to.
Apart from these three mandatory fields, other optional fields include old material number, 
external material number, division, and so on. Let us see how these fields are used.

24  ◾  The SAP Materials Management Handbook﻿
Old material number. If the material being created in fact is an old material having a material 
number already in the system, enter this old number here.
External Material Group. If you are using a material number that is being used by some other 
system for the material you are creating, enter this external material number here.
Division. Enter the division number or select from the list the division of your business to which 
the material belongs to.
Lab/Office. Enter the laboratory number where this material will go for quality inspection.
Product allocation. If a material is scarce and needs to be allocated among selected customers, 
a decision is taken at sales and operations planning and an allocation is done. If this is the 
case, select the allocation strategy from the drop-down box.
X-plant material status. When a material gets blocked for purchasing or for any inventory opera-
tion, this field displays the status. This field can also be used for some other conditions such 
as when a material is to be used for pilot projects and commercial use. For these cases, select 
the appropriate reason from the drop-down list. Whenever the material is used, a warning 
message will be displayed.
Valid from. If you want this material to be used for a future date, enter the date here.
Gross Weight. Enter the gross weight of the material for each unit in terms of weight unit of 
measure.
Weight unit. Enter the weight unit for gross weight.
Net Weight. Enter the net weight of the material here.
Volume. Enter the volume of the material for each unit in terms of volume measure of unit.
Volume unit. Enter the volume unit of measure for the volume of the material.
Size/dimensions. Enter the dimensions and size information for each unit of the material.
EAN/UPC. Enter the International Article number (EAN)/Universal Product Code (UPC) 
here for the material.
EAN Category. Enter or select the EAN category of the material.
There are some fields related to packaging of the material.
Important tip. Before we move on to the next material view, let us see how SAP application 
works. If you have not entered all the mandatory fields, and you try to go to the next view, SAP 
will not allow you to do so. You can move from the current view to the next view only after you 
have entered all the mandatory fields in the view. After you have entered all the mandatory fields 
and you hit “Enter” on your keyboard, SAP will take you to the next view. You can also move to 
the next view by clicking on the tab of the view.
Basic Data View 2
On basic data view 2 screen, there are no compulsory fields as you can observe in the below figure. 
All the fields on this screen are optional. Let us see how these fields are used.

SAP MM Masters and Organizational Structure  ◾  25
DG indicator profile. If the material being created is a dangerous goods, you can create a profile 
or select it from the drop-down list.
Environmentally relevant. If the material affects the environment, check this box.
In bulk/liquid. If the material is in liquid or gas form, check this box.
Highly viscous. If the material is viscous, check this box.
Document. In design drawing section, if there is a design document created, enter the name of 
the document.
Document type. Enter the name of the design document type here.
Document versions. Enter the version number of the design document here.
Page number. Enter the page number of the design document here.

26  ◾  The SAP Materials Management Handbook﻿
Cross-plant CM. If the material is configurable and available at more than one plant, select the 
cross-plant change management configuration of the material.
Material is configurable. Check this box if the material is configurable.
Sales Organization Data View 1
On sales organization data view 1, most of the fields are not mandatory. Let us see how these fields 
are used.
Sales Org (mandatory field). Select your sales organization in this field.
Distribution Chl (mandatory field). Select your distribution channel here.
Basic Unit of Measurement. Already taken from basic data view 1.
Division. Already taken from basic data view 1.
Sales unit. Enter the unit of measurement for sales.
Unit of Measure Grp. Select the unit of measurement group.
X-distr. chain status. If the material needs to discontinue or is part of a pilot project in the dis-
tribution system or for any other reason, and you want to display a warning signal to the 
user when he/she uses this material in any part of the cross-chain distribution system across 
plants, select the appropriate message to display from the drop-down list
DChain-specific status. If the material needs to discontinue or is part of a pilot project in the distri-
bution system or for any other reason, and you want to display a warning signal to the user when 
he/she uses this material, select the appropriate message to display from the drop-down list.

SAP MM Masters and Organizational Structure  ◾  27
Valid from. For both X-distr. chain status and Dchain-specific status, enter the valid from date.
Delivering Plant. Enter the number of the plant from where the material will be procured.
Material Group. Already taken from basic view.
Cash discount. If cash discount is applicable, check the check box.
Tax data. Enter the tax data for each of your tax categories.
Min. order qty. Enter the minimum order quantity for this material here.
Min. dely qty. Enter the minimum delivery quantity for this material here.
Sales Organization Data View 2
On this screen only material description is mandatory. All other fields are optional. This view is 
used by sales department people. On this view, there are fields related to the areas for grouping of 
the material along with material group, material statistical group, volume rebate group, material 
pricing group, account assignment group, item category group, and so on.
Sales: General Plant Data View
On this screen only material description is mandatory. All other fields are optional. This view is 
used by sales department people. The main fields on general plant data view include Qualified 
Free Goods Distribution, batch management, negative stock, and so on.

28  ◾  The SAP Materials Management Handbook﻿
Purchasing View
The fields on the purchasing view are listed as follows:
Material Group. Material group is a group of materials that are purchased together. Enter the 
material group for the material in this field.
Purchasing Group. Purchasing group is responsible for purchasing materials for the department. 
Select the purchasing group for your material.
Plant-sp. matl status. When a material is being discontinued or used for pilot project or any 
special purpose, and you want to display a warning message to the user when he/she tries to 
use this material, select the appropriate material status from the drop-down list.
Automat. PO. Select this checkbox if you want to generate automatic POs from purchase req-
uisitions (PRs) for this material.
Batch management. Select this checkbox if you want to have batch management enabled for this 
material.
Purchasing value key. It sends reminder to the vendor when a material to be delivered by the 
vendor gets delayed.
GR Processing Time. Define how many days a goods receipt processing takes.
Post to inspection stock. Define whether the material can be posted to inspection stock after 
goods receipt instead of posting to open stock. Select checkbox if you want to post this mate-
rial in inspection stock after goods receipt.
Source list. Check this box if you want to maintain a source list for this material.

SAP MM Masters and Organizational Structure  ◾  29
MRP Views
MRP views belong to production planning department. MRP type, reorder point, and so on are 
included on MRP view 1. MRP view 2 includes special procurement, bulk material, ­co-product, and 
so on. MRP view 3 contains information on forecasting and procurement planning for the material. 
MRP view 4 contains information on bill of material (BOM) and storage location for the material.

30  ◾  The SAP Materials Management Handbook﻿

SAP MM Masters and Organizational Structure  ◾  31
General Plant Data Views
General plant data/storage location view 1 contains information related to storage locations, 
shelf life, and so on. General plant data/storage location view 2 contains information about plant 
parameters and weight and volume of the material.

32  ◾  The SAP Materials Management Handbook﻿
Accounting Views
Accounting view 1 contains information related to valuation category, valuation class, price control, 
cost estimate, and so on. This is one of the most important views about the material. Accounting view 2 
contains information about taxes; last-in, first-out (LIFO)/first-in, first-out (FIFO) valuation; and so on.

SAP MM Masters and Organizational Structure  ◾  33
Costing Views
Costing view 1 contains information if costing required, costing lot size, and so on. Costing view 2 
contains some of the important data about the material such as cost estimates, planned prices, and 
valuation data. Valuation data include valuation class, price control, price unit, valuation category, and 
so on. Apart from the main views for the material master, there are also additional views available.

34  ◾  The SAP Materials Management Handbook﻿

SAP MM Masters and Organizational Structure  ◾  35

36  ◾  The SAP Materials Management Handbook﻿

SAP MM Masters and Organizational Structure  ◾  37
Material Types
Material types are important from the point of view that it influences every aspect related to a 
material right from procurement to inventory management to picking, packing, and packaging. In 
standard SAP, a large number of material types are defined to take care of different kinds of needs 
right through the supply chain. A material type has an identifier consisting of four characters.
Important Material Types
	
1.	Configurable materials (KMAT)
	
	 Configurable materials are materials that can have different variants. For example, a com-
puter can have different types of CPU, memory, and motherboard.
	
2.	Empties (industry LEER, retail LGUT)
	
	 Empties are a type of returnable transport packaging generally subject to a deposit. They can 
consist of several components grouped together in a BOM, which are assigned to a full prod-
uct. For example, an empty crate and empty bottles are assigned to the full product cold drink. 
Each of the components in the BOM has a separate material master record.
	
3.	Finished products (FERT)
	
	 Finished products are produced in-house. Since they cannot be ordered by purchasing, a 
material master record of this material type does not contain purchasing data.
	
4.	KANBAN containers (CONT)
	
	 This material type is recommended for creating KANBAN containers as a material. In the 
standard R/3 system, only the basic data view is offered. Using this material type makes it 
easy to search for KANBAN containers.
	
5.	Manufacturer parts (HERS)
	
	 Manufacturer parts are materials that can be supplied by different manufacturers and/or 
vendors who use different manufacturer part numbers to identify the materials.
	
6.	Nonstock materials (NLAG)
	
	 Nonstock materials are not held in stock because they are consumed immediately.
	
7.	Packaging materials (VERP)
	
	 Packaging materials are used to transport goods and are not changed and so are free of cost to 
customer. A material master record of this material type is managed on both a quantity basis 
and a value basis.
	
8.	Perishables (FRIP)
	
	 Perishables are goods that are perishable in an assortment.
	
9.	Pipeline materials (PIPE)
	
	 Materials such as oil, power, or water that flow into the production process directly from a 
pipeline, line, or other type of conduit. Since pipeline materials are always available, they are 
not planned.
	 10.	Product groups (PROD)
	
	 Product groups aggregate materials according to certain freely definable criteria. For 
­example, the products may be similar to each other in some way, or they may be finished 
products that were produced on the same machine.
	 11.	Production resources/tools (FHMI)
	
	 Production resources/tools are procured externally and used in production or plant maintenance. 
A material master record of this material type can contain purchasing data but not sales data. It is 
managed on a quantity basis.

38  ◾  The SAP Materials Management Handbook﻿
	 12.	Raw materials (ROH)
	
	 Raw materials are always procured externally and then processed. A material master record 
of this type contains purchasing data but not sales data since they cannot be sold.
	 13.	Semifinished products (HALB)
	
	 Semifinished products can be procured externally and manufactured in-house. They are 
then processed by the company. A material master record of this material type can contain 
both purchasing and work scheduling data.
	 14.	Services (DIEN)
	
	 Services can be performed internally or procured externally (outsourced). They cannot be 
stored or transported.
	 15.	Trading goods (HAWA)
	
	 Trading goods are always procured externally and then sold. A material master record of this 
material type can contain purchasing data and sales data.
	 16.	Value-only articles (WERT)
	
	 A value-only article represents a group of articles whose inventory is not managed on an article 
basis. All goods movements for this group of articles are posted to the value-only article.
Additional Material Types
	
1.	Additionals (VKHM)
	
	 Additionals are assigned to a material that is to be sold to ensure its effective presentation to 
customers, for example, clothes hangers, care labels, and services such as pressing clothing 
for display or arranging it on hangers.
	
2.	Advertising media (WERB)
	
	 Advertising media is a means of presentation used in advertising and grouping together adver-
tising messages about a number of materials, for example, printed mail order catalogs, ­computer 
catalogs on CD-ROM, and promotional fliers.
	
3.	Apparel, seasonal (MODE)
	
	 These material types are used exclusively for apparel goods like shirts, pants, jackets, and so on. These 
goods are seasonal in nature.
	
4.	Beverages (FGTR)
	
	 Beverages material types include wine, coffee, tea, and so on.
	
5.	Competitive products (WETT)
	
	 Observing and evaluating the activities of your competitors is essential for optimum market 
analysis. You can enter the basic data on the products of your competitors in material master 
records of this material type. By specifying a competitor number, you can assign the product 
to a particular competitor.
	
6.	Foods excluding perishables (FOOD)
	
	 Some food items like cereals are not treated as perishable as they have a long shelf life. In 
such cases, this material type is used for these materials.
	
7.	Full products (VOLL)
	
	 Full products are the counterpart to empties. For example, with a crate of lemonade, 
the full product is the lemonade itself, whereas the empties are the individual bottles and 
the crate.
	
8.	Intra materials (INTR)
	
	 Intra materials exist only temporarily between two processing steps. A material master 
record of this material type contains neither purchasing nor sales data.

SAP MM Masters and Organizational Structure  ◾  39
	
9.	Maintenance assemblies (IBAU)
	
	 Maintenance assemblies are not individual objects but logical elements to separate technical 
objects into more clearly defined units in plant maintenance. For example, an automobile 
can be a technical object, and the engine, gearbox, chassis, and so on are the maintenance 
assemblies. A material master record of this material type can contain basic data and clas-
sification data.
	 10.	Nonfoods (NOF1)
	
	 Nonfoods are items sold in grocery stores other than food.
	 11.	Nonvaluated materials (UNBW)
	
	 Nonvaluated materials are managed on a quantity basis but not by value.
	 12.	Operating supplies (HIBE)
	
	 Operating supplies are procured externally and required for the manufacture of other 
­products. A material master record of this material type can contain purchasing data but 
not sales data.
	 13.	Process materials (PROC)
	
	 Process materials are used in the manufacture of coproducts. They are not physical entities 
but represent production processes. They are useful if production is initiated by the avail-
ability of input materials and capacities, and not by MRP.
	 14.	Spare parts (ERSA)
	
	 Spare parts are used to replace defective parts. They may be kept in stock. A material master 
record of this material type can contain purchasing data but not sales data.
Material Group
Material groups are a mechanism to provide a common classification for similar materials in SAP. 
Material group is a key that is used to group together several materials or services with the same 
attributes. Each material or service is assigned to a particular material group. Material group is 
used for reporting purposes, and you can restrict the scope of analyses and search material master 
records via search helps.
Material groups are important when you want to create any purchase document, but you 
do not have material master created for the material you want to procure. The material group is 
used to create purchase documents in such cases without specifying the material on the purchase 
document.

40  ◾  The SAP Materials Management Handbook﻿
Plant
In standard SAP configuration, you cannot define or maintain a plant. It is customized by going 
to IMG (SAP customizing). Once you define the plant, you need to assign it to the organizational 
structure (company code).

SAP MM Masters and Organizational Structure  ◾  41

42  ◾  The SAP Materials Management Handbook﻿
When you define plants, you should be aware of the relationship between a plant and other orga-
nization elements.
A plant can be defined as follows:
◾
◾It is assigned to one company code. A company code can have several plants.
◾
◾It can have many storage locations.
◾
◾It is assigned to a single business area.
◾
◾It is assigned to a single division.
◾
◾It is assigned to many combinations of sales organizations and distribution channels.
◾
◾It can have many shipping points. A shipping point can have many plants.
Important tip. Plant is one of the major deciding factors for creating the organizational struc-
ture in SAP. Some of the thought-provoking questions that need to be answered for creating 
plants:
◾
◾What are the delivery addresses for purchased materials or services? Delivery address on 
purchase documents comes from the address provided for a plant. So if your delivery address 
is different from that of the plant you want to set up, you should also create another plant 
with the delivery address.
◾
◾What are your MRP and forecast data for materials?
◾
◾Do you need different valuation methods for your materials?
◾
◾Do you have more than one physical location from/to which you ship materials?
Storage Location
Similar to plant, storage location is not part of the standard configuration available in SAP 
system. You need to define and maintain storage locations from IMG. Once you have defined 
a storage location, you do not need to assign it to a plant as it is done already at the initial 
screen.

SAP MM Masters and Organizational Structure  ◾  43
A storage location in SAP is a physical place where you keep your stock of materials. Even though 
in SAP a storage location has an address; however, on purchase documents, this address does not 
appear. Address on purchase documents for delivery comes from plant address.
Some important points regarding the storage location are as follows:
◾
◾Stocks are managed on a quantity basis at storage location level and on a value basis at either 
plant level or company code level (depending on your configuration for stock valuation).
◾
◾Physical inventory is always done at storage location level.
◾
◾Quantity of any inventory is at storage location level, but value of inventory is at plant level. 
If warehouse management is active, physical location of the inventory will be at warehouse/
storage type/bin level.
◾
◾You must create at least one storage location per plant even if no inventory is kept at any 
storage location.
Purchasing Organization
Purchasing organization is the organization unit that procures materials and services on behalf of the 
organization from external sources such as vendors and negotiates favorable buying prices with them. 
Depending on the needs of the organization, the purchasing organization can be set up and attached 

44  ◾  The SAP Materials Management Handbook﻿
at the corporate, company, or plant level. SAP is very flexible as to how one or more purchasing 
­organizations can be set up. In global and large organizations, a central procurement is set up so that 
they can take advantage of negotiating with vendors at a global level as well as buying in large bulks. 
These factors can reduce procurement costs substantially. For smaller organizations, it makes sense to 
buy from locally available vendors. To reduce procurement costs, they can deploy strategies to reduce 
order costs by having a lean purchasing organization and efficient ordering processes.
Enterprise
(client)
Company
code 1
Company
code 2
Plant 1
Local purchase
organization 1
Central
purchase
organization 2
Central
purchase
organization 1
Reference
purchase
organization
Local purchase
organization 2
Plant 2
In SAP, you can set up your purchasing organizations in many ways to ensure that your needs are 
fulfilled.
◾
◾Reference (centralized) purchasing organization: To enable a purchasing organization to 
procure for the entire enterprise or for all plants within a company code
◾
◾Decentralized (local) purchasing organization: To enable a purchasing organization to pro-
cure for a plant
Some important points about purchasing organizations are as follows:
◾
◾A purchase organization can be assigned to many plants.
◾
◾A purchase organization can be assigned to many company codes or no company codes at all. 
When no company code is assigned to a purchase organization, it is at the enterprise (client) 
level. In this case, this purchase organization can do procurement for all plants under all of 
the company codes within the client.
◾
◾A purchase organization can be linked to many purchase organizations.
◾◾Vendor, info record, and pricing conditions can be maintained at the purchase organization level.
◾
◾Authorization to purchase organizations can be maintained using security available in SAP.
Purchasing organization is not part of the standard configuration of SAP. It has to be defined and 
maintained through IMG.

SAP MM Masters and Organizational Structure  ◾  45
Enterprise
(client)
Company
code 1
Reference
purchase
organization
Company
code 2
Purchase
organization 2
Purchase
organization 1
Plant 1
Plant 2

46  ◾  The SAP Materials Management Handbook﻿
Once you have created purchasing organization, you need it to assign to either company code or 
plant, or to a reference purchase organization.

SAP MM Masters and Organizational Structure  ◾  47
This menu name is a misnomer. Here, one particular purchase organization is being selected as 
the default purchase organization for a plant out of many purchase organizations which may be 
attached to that plant. If you see the screen name, it is correctly claimed as “Default purchasing 
organization.” In SAP, there is a particular significance of standard purchasing ­organization. 
In source determination for consignment and stock transfer, the system automatically selects 
the standard purchasing organization when you create a purchase document. In case of goods 
issue for a pipeline material, the purchasing info record of the standard purchasing organiza-
tion is read.

48  ◾  The SAP Materials Management Handbook﻿
Purchase Group
Purchase groups are entities that are used to denote a group of buyers who are responsible for 
­buying similar materials or services. For instance, purchase groups can be configured in such a 
way that each department in a plant can have its own purchase group. All purchasing for that 
department will be done through the purchase group.
Purchasing Value Key
In the material master record, you can store the rules governing the following:
	
1.	The issue of reminders and urging letters (expediters) with respect to nearly due and overdue 
deliveries
	
2.	The admissibility of over and under deliveries (“overages” and “underages”)
	
3.	Order acknowledgment requirements for PO items
	
4.	Shipping/packaging instructions
You stipulate these rules in the purchasing value key. These data appear as default data in purchas-
ing documents and are taken from the material master record (unless a purchasing info record 
exists, in which case it is taken from the latter source).

SAP MM Masters and Organizational Structure  ◾  49
Vendor Master
You can create a vendor in two ways depending on your needs. If you want to create a vendor that 
will be linked to your company code, and thus, the vendor will become a central vendor for all 
of your plants and purchasing organizations, it is possible to do so. Otherwise you can create a 

50  ◾  The SAP Materials Management Handbook﻿
vendor attached to a purchasing organization. In this case, if the vendor is also a vendor for other 
purchasing organizations in your company, you will have to copy this vendor and attach with each 
of your purchasing organization.
If you have a central purchasing organization for your entire company, creating a central ven-
dor makes sense. If this is not the case, creating a vendor at the purchasing organization level is 
the choice.

SAP MM Masters and Organizational Structure  ◾  51

52  ◾  The SAP Materials Management Handbook﻿
Source List
Source list is part of the purchasing system. For any material, SAP maintains a list in which all 
sources of supply for that material are kept. From info records and outline agreements, you can 
create a source list for a material automatically by using transaction ME05. You can also create an 
entry in the source list for a material directly from an outline agreement by selecting “maintain 
source list option.” Similarly, from info record screen, you can create the source list entry by ­clicking 
“Choose Extra” menu and opt for source list. You can also create entries in this list manually.

SAP MM Masters and Organizational Structure  ◾  53
In the source list, available sources for a material are listed with preferences. You can make 
a source as the preferred source for a material by selecting the “Fix” checkbox in the source list 
overview screen. You can also block a source by selecting the “Blocked source of supply” checkbox. 
You can also select a source for making MRP. In this case, MRP will allocate all sources of supply 
for a material regardless of any preferences made for any source.
Some important points for any SAP MM consultant to deal with source lists and sources of supply 
are as follows:
◾
◾When you create a source list manually, an existing info record or outline agreement is not 
required. You may create one later if you want.
◾
◾At PR creation, if you want the system to assign a source of supply, you have to check 
“Source List” in material master record.
◾
◾If you have vendors in source list but without valid info record or outline agreement, these 
will not be included in the sources of supply search.
◾
◾If there is no vendor in the source list with valid info record or outline agreement, the system 
will look for vendors in info record and outline agreement, but you will get an error/warning 
message because the vendors are not in the source list if the “Source List” option is checked 
in Purchase Requisition.
◾
◾If quota arrangement (explained later in this chapter) is also being maintained for a material, 
the system always looks for quota arrangement first and then the source list.
The gist of the matter is that we can have source list without info record, but it is not completely 
maintained.

54  ◾  The SAP Materials Management Handbook﻿
Info Records
Info records are used to link a material to a vendor and price. Info records can be kept at plant 
level or purchasing organization level. Info records in turn are linked to source lists. When a user 
searches for a material to create a PR or a PO and if the source list is enabled on the PR or PO 
document and when the material is selected on the document then price and vendor information 
will be copied automatically on the PR or PO document. This information comes from the info 
record if the info record is created for the combination of vendor–material.
There are four types of info records: standard, subcontracting, pipeline, and consignment 
depending on the procurement type for which you want to create the info record.

SAP MM Masters and Organizational Structure  ◾  55

56  ◾  The SAP Materials Management Handbook﻿
Info Record at Plant or Purchasing Organization Level
Info records can store information about a material and a vendor either at purchasing organiza-
tion level or at plant level. There are many implications about how and at what level the infor-
mation about the material and vendor is stored in an info record. If the information is stored at 
the plant level, the price of the material from a vendor is applicable locally only for the specific 
plant. However, if the information is stored at the purchasing organization level, the price of 
a material from a vendor can be applied centrally throughout the organization. This function-
ality can be achieved in case when a central contract is made by the customer with a vendor. 
A central purchasing organization (reference purchasing organization) can make the contract 
with a vendor, and then the contract becomes available to local purchasing ­organizations. In 
this case, the info record created on the contract is adopted by the local purchasing organiza-
tions. Thus, the negotiated price in the info record becomes available to the local purchasing 
organizations.
Apart from the benefits of info records created at the purchasing organization level, there are 
some limitations as well. Since it is at the central level, the local influences on the price of the mate-
rial cannot be incorporated. Price components such as freight costs and local taxes are different for 
different locations, and thus, a flat central pricing is not possible. To overcome this problem, the 
price components can be split into two groups: price components that are same for any location 
and price components that are specific to a location.
Once we have this clarity, we can create two types of info records: (1) Info records at the central 
level contain price components that are not affected by local conditions and (2) info records at the 
local level contain price components specific to the local conditions. The central contract will have 

SAP MM Masters and Organizational Structure  ◾  57
the info record (at purchasing organization level) of first type where price components do not get 
affected by local conditions. Then we can create info records at the plant level which contain price 
components that are specific to local conditions.
Info Record Structure
Info records contain vital information related to vendor, material, and material price. They 
also contain information related to last PO number, tolerance limits for under and over 
deliveries, planned delivery lead time, vendor evaluation data, preferred vendor for a mate-
rial, vendor subrange, availability period, quotation data, ordering data, material price data, 
and so on.
Procurement Types in Info Record
The procurement types in info record are as follows:
Standard. Standard info records can be created for standard POs. Standard info record can 
be made for both material and services. It is not necessary that material or service master is 
available beforehand to create standard info record.
Subcontracting. Subcontracting info record is used for subcontracting POs. If any part of your 
assembly is subcontracted, the subcontractor’s price for doing assembly will be available in 
the info record.
Pipeline. Some kinds of material are unique in that they cannot be measured using conven-
tional measuring devices. For example, some materials are either in a liquid or gaseous 
form or in an intangiable form and need a conduit for transportation. Materials such as oil, 
water, electricity, and liquid chemicals are such materials. In SAP, a material type “pipeline” 
is exclusively defined for this purpose. A pipeline info record contains information on a 
vendor’s commodity that is supplied through a pipeline or similar means. The info record 
contains the vendor’s price for consumption of the material by the buyer. It is also possible 
to keep different prices for the material for different time periods.
Consignment. In consignment arrangement, the vendor keeps and manages the inventory of 
his/her material at customer premises. The customer is not the owner and not liable for the 
stock of this material, but it is the vendor who is the owner and responsible for this stock of 
material. In the info record, the vendor’s price of the material is kept. This price is specific 
to the stock of the consigned material. The price of the material also available in any other 
storage location belonging to the owner may be different from the price of the consigned 
material.
Info Record Net Price and PO Net Price
When information about the price from the info record is copied to a PO, the net price in the 
PO may not be the same as that in the info record. It is because some components of the price 
may include bulk discounts. For example, suppose that we have a material that is gross priced at 
$10 per piece. There is a bulk discount of 20% on the gross price if the quantity ordered is in excess 
of 100 pieces. So the net price in the info record is $10. If the customer has ordered 200 pieces, 
his/her total price will be ($10 × 200 − $10 × 0.20 × 200 = $1600) and the net price per piece 
will be ($1600/200 = $8).

58  ◾  The SAP Materials Management Handbook﻿
If the price in the PO is adopted from an info record and subsequently the price in the info 
record is changed by any user, the price in PO and info record will be different. The info record 
will now contain new price with the new effective date, whereas the PO will contain the old price.
Creating Info Records
Info records can be created either manually or automatically if “Info update” field on quotation, 
PO, or outline agreement is checked. Once an info record is created, order information is always 
updated in the info record.
Before you can create an info record, you need to know the material number (or material 
group + material short text + order unit, in case material master does not exist), the vendor 
­number, and the plant or purchasing organization (where info record needs to be created).
Net Price Simulation
Simulating and comparing the prices of a material from all sources helps in procurement decision 
making. Similarly, displaying the prices of all materials from a vendor helps in finding out cost-
effective alternative materials from the same vendor.
In SAP, you can do these functions in net price simulation. Use the following menu path 
to compare the prices of a material from different vendors: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Purchasing → Master Data → Info Record → List 
Displays → By Material.
Use the following menu path to compare the prices of all materials from a vendor: SAP Easy 
Access → SAP Menu → Logistics → Materials Management → Purchasing → Master Data → 
Info Record → List Displays → By Vendor.
When you get the list, you can see which materials are supplied by which vendors for purchas-
ing organizations or plants. You also have the option to select the price in the last PO or quotation. 
You can select the info records from the list to see the details of each info record. After selection, 
use the menu path: Edit → Price Simulation.
Conditions
Conditions are the elements that contain pricing and discounts information about a material from 
a vendor. Pricing about any material is very important as the purchasing department has to get 
materials at the most economical costs. At the same time, the accounting department must get the 
exact cost figures for each and every material for accounting purposes.
Cost components include gross price, discounts, taxes, cash discounts, shipment costs, sea-
sonal rebates, and so on. How each of the cost component impacts the net or effective price of 
any material depends on how it is calculated. In SAP, conditions help in not only identifying 
the cost components but also calculating the net or effective cost even in the most complex 
situations.
Conditions are of two types: time-dependent and non-time-dependent conditions. Time-
dependent conditions have a defined time period in which duration the condition is applicable. 
Outside this time period, the condition is not applicable. Time-dependent conditions can be 
used on purchase documents (PO, PR, etc.) and purchase master data (info records). Non-time-
dependent conditions are used in the info records.

SAP MM Masters and Organizational Structure  ◾  59
There are cases when payment for vendors is made after a settlement period. So in these cases, we 
have conditions that are predefined but are not applicable before the settlement is done.
Condition Groups
Sometimes a price component of any material depends on market conditions. For example, due to 
changes in government tax changes, the price of similar input materials may get changed by 7%. You 
need to update this price change in every info record for each material. Instead if you have kept this 
price component in a group condition and included this condition in price condition of each material, 
you only need to update the group condition once and the prices of all materials may reflect the change.
Conditions that are not directly included in an info record but instead are linked to several 
info records are called condition groups.
Variant Conditions
Variant conditions are used in conjunction with variant materials. Many variations of the same 
material may have different prices. To take care of this scenario, we use variant conditions. For 
example, the price of a metallic colored car may be different compared to that of a nonmetallic 
colored car. In this case, we can define the discount or surcharge for material variations. These 
surcharges or discounts can be applied to the material price using a variant condition.
Pricing (Condition Technique)
Conditions together with calculation schemas form condition technique that is used for deriving 
the net and effective price for a material. Each condition type is part of a price determination 
procedure. Access sequence determines information from which document (info record, contract 
or outline agreement) the pricing information is to be taken.
The steps involved in price determination procedure are as follows:
◾
◾The relevant calculation schema is determined and available on the purchase document (PO, 
PR, and contract).
◾
◾Condition records are searched from condition tables for condition types mentioned in the 
calculation schema.

60  ◾  The SAP Materials Management Handbook﻿
◾
◾The search is done as per the access sequence (search order).
◾
◾Price is calculated after the condition record is found.
In SAP MM, there are three kinds of prices: gross price, net price, and effective price. Gross 
price of a material is the price excluding taxes, discounts, or surcharges. Net price is the price 
derived after adding or deducting taxes, discounts, and surcharges from gross price of the material. 
Effective price also known as landed price is derived from the net price after considering shipment 
charges, cash discounts, and so on.
Quota Arrangement
Quota arrangement is used when you have more than one source of supply for a material or service 
at any given time. It helps in distributing the procurement among the available sources of supply.
One word of caution here! When we speak of distributing a requirement for a material or 
service, it does not mean the individual requirements. It means that the total requirements over a 
period of time are distributed among all the sources of supply as per the distribution arrangement. 
For example, suppose there are two vendors A and B for a material M. In quota arrangement, the 
distribution is allocated as 70% to A and 30% to B. When a requirement for material M comes 
for, say, 100 parts from the customer, it will be allocated to vendor A. Next time if a requirement 
comes for 200 parts, which vendor will be allocated as a source? At this point, allocation realiza-
tion is 100% to vendor A and 0% to vendor B. If we allocate this requirement to vendor B, alloca-
tion realization will be 33% to vendor A and 67% to vendor B. This allocation realization will be 
against the quota arrangement that has been defined (70% to A and 30% to B). So this require-
ment will again go to vendor A. Now if the next requirement is for 200 parts, it will definitely go 
to vendor B. The quota arrangement logic works this way.
When source determination is done, quota arrangement takes precedence over other source 
categories such as source list, outline agreement, and info records.
Quota Arrangement Calculation
Quota arrangement calculation is done to find out the quota rating of any vendor for a material at 
any given time within a valid period. Depending on the quota rating of vendors, the system finds 
out which vendor will be allocated to the next sourcing requirement for a material out of all valid 
sources (vendors).
Quota arrangement in SAP is divided into allocation quota, splitting quota, maximum lot size, 
priority, and maximum release quantity.

61
Chapter 4
SAP MM Purchasing 
Management
Introduction
Purchasing or procurement is one of the fundamental activities of SAP materials management 
(MM). SAP MM enables purchasing functions for materials and services through a wide range of 
features available in the standard SAP as well as through customized features.
If you log in to the SAP system, you will see a menu structure. This menu structure corre-
sponds to various functionalities available in the standard SAP. These functionalities are divided 
on the lines of modules and then submodules. Finally, each submodule contains the features and 
functionalities.
From a business perspective, purchasing functions require to keep information about vendors, 
materials, material prices, contracts with vendors, scheduling agreements with vendors, and so on. 
Purchase information for all purchasing needs to be kept. From user departments, information 
about purchase requisitions (PRs) also needs to be kept.
Each user department has a set of requirements, which create PRs to fulfill their needs. 
They send these PRs to the respective purchase departments. Purchase departments then place 
purchase orders (POs) to the appropriate vendors. Vendors ship the required material to the user 
departments. Once the material is received, the invoice sent by the vendor needs to be verified. 
After verification of invoices, accounting department makes payment to the vendors for the 
purchase done.
In cases where the price of a material is not known, for the purpose of getting the best price, 
a purchase organization can raise the request for quotation (RFQ) and place it to some selected 
vendors. Vendors in turn send the quotation for the requested material or service. The price from 
all these vendors is then compared. The best priced quotation is selected and rejection letters are 
issued to other vendors.
In any organization, projects are undertaken to create assets. For these projects, material is 
issued to the subcontractor, who builds the asset using these materials. Once the asset is built, the 
surplus material is returned back along with the asset. So for each project, accounting for both 
material and financial is done to ensure that there is no wastage of material.

62  ◾  The SAP Materials Management Handbook﻿
In many instances, there is a fixed vendor for a particular material. In these cases, a con-
tract is established with the vendor. In the contract, either the total quantity of material or the 
total value of service is mentioned for a specific period of time. As long as the contract is valid, 
material is received at time intervals and running quantity of material is maintained. When the 
received quantity of material becomes equal to the agreed quantity in the contract, the contract 
terminates. For service contracts, the contract terminates when the value of service (in terms of 
money) received becomes equal to the value mentioned in the contract. Settlement of quantities of 
materials received during the contract period can be governed by creating POs each time material 
is received.
In industries such as automobiles, vendors are supposed to deliver fixed quantity of automobile 
parts at fixed intervals. For fulfilling this need, a contract is made between the customer and the 
vendor. This contract is known as scheduling contract. It is very similar to the normal contract 
with the scheduling part attached to the contract.
In some industries, the vendor manages the inventory to the point when the material is con-
sumed by the customer. So even though the inventory of a material lies at the premises of the 
customer, it is actually owned by the vendor. In such cases, the material is counted in inventory 
balance of the customer, but payment for it is done only after it is consumed.
In some industries such as oil, water, various liquids, and electrical supply, the material is con-
tinuously consumed. It is almost like the source of supply contains infinite quantity of material 
and from where a fixed rate of quantity is being tapped. These kinds of materials are known as 
pipeline materials.
For optimized buying, a business needs to have a central contracting purchasing organization 
that can make contracts with the vendors for the entire enterprise. This contract can be used by 
various business entities within the entire enterprise so that the benefits of central buying can be 
achieved. Similarly, whenever buying for a material is required, information about the best price 
for that material should be available.
One more aspect about buying is that the enterprise should have a list of known sources of 
supply of any material. This ensures flexibility in procurement function.
For accounting purposes, pricing for any purchase must be broken into various heads such as 
gross price, discounts if any, surcharge if any, transportation cost, and taxes. For each purchase, 
debit or credit must be done in corresponding ledger accounts. For this purpose, various ledger 
accounts are maintained so that appropriate transactions can be posted in these accounts. These 
are some of the aspects any business entity faces in its everyday business. In SAP, most of these 
activities can be captured easily.
Integration Points
The purchasing component of SAP MM is integrated with other SAP modules. The touch points 
are as follows:
	
1.	Controlling (SAP CO). When a PR is made, the user has to specify the account assignment 
for directly consumed items. Through account assignment, the consumable item is con-
nected to the cost center.
	
2.	Financial Accounting (SAP FI). Vendor data contain both procurement and financial data. 
Whenever a purchase is made from the vendor, a financial credit is made in the bank 

SAP MM Purchasing Management  ◾  63
account of the vendor, which is maintained in the financial data for the vendor after invoice 
­verification. At the same time, through account assignment, the general ledger (G/L) account 
is debited.
	
3.	Sales and distribution (SAP SD). Material requirement arising due to sales can be 
linked to purchasing. Similarly, when a PR is created, it can be directly assigned to a 
sales order.
	
4.	Production planning (SAP PP). Production orders created by the SAP PP module can be 
automatically or manually converted into PRs.
	
5.	Quality management (SAP QM). The quality management in procurement component is 
integrated with material by way of quality check of the material before the material can be 
received.
Similarly, purchasing part of SAP MM module is integrated with other SAP modules such 
as SAP human capital management (SAP HCM), and SAP advance planning and optimizer 
(SAP APO).
Make to Stock versus Make to Order
Manufacturers adopt a make-to-stock or a make-to-order strategy for production for fulfilling 
the customer demands. When they produce only against confirmed customer orders, it is known 
as a make to order. In contrast when they produce against forecast, it is known as make to stock. 
In case of make to stock, the manufacturer produces materials and keeps them in its warehouse. 
Whenever a customer order comes, the salespeople search the warehouse and find the suitable 
material, and deliver the material to the customer.
SAP MM purchasing component can be aligned with the manufacturing strategy of the 
­manufacturer. To this end, SAP MM contains functionalities such as long-term contracts, 
­scheduling agreements, consignment stocks, RFQ, direct consumable items, reference purchasing 
organization, and distributed contracts.
	
1.	Long-term contracts. When a manufacturer negotiates a long-term contract with 
a ­vendor, invariably it leads to lower procurement costs. In SAP MM, there are two 
types  of contracts: value contracts and quantity contracts. Generally, for materials, 
a quantity ­contract is used where the vendor agrees to supply a fixed quantity of mate-
rials over  a  fixed  time interval. Value contracts are usually used for service contracts 
where the vendor agrees to supply ­services amounting to the agreed value over a fixed 
time period. Long-term ­contracts are more suitable for make-to-stock manufacturing 
strategy.
	
2.	Scheduling agreements. When a manufacturer keeps a very close association with its sup-
pliers, it can go for scheduling agreements. The vendors agree to provide raw materials or 
components at predefined intervals. This kind of arrangement is used in industries such as 
automobiles and electronics. This arrangement minimizes both PO costs and inventory-
carrying costs. This arrangement suits make-to-order environments.
	
3.	Consignment stocks. In consignment stock arrangement, the vendor takes care of inventory 
of raw materials and the manufacturer pays for raw material only when it is consumed. 

64  ◾  The SAP Materials Management Handbook﻿
The vendor is responsible for shipping the inventory up to the manufacturing site as well 
as taking care of this inventory. In this arrangement, the procurement cost is high for the 
manufacturer, but he saves inventory-carrying costs. This arrangement suits assemble-to-
order environments as well as retail industry.
	
4.	RFQ. RFQs are the most common scenario for purchase of assets and building of assets. For 
procurement of low-value goods, this is not suitable as the procurement costs are very high. 
However, if the volume of purchase is expected to be large in future, it can be used to find 
suitable vendors. The initial high procurement costs can be offset in long term by using it in 
such a scenario.
	
5.	Direct consumable items. Direct consumable items are used when the procured mate-
rial is not needed to be kept in inventory and is used immediately after goods receipt 
(GR). In this arrangement, no tracking and management of received materials is possible. 
Naturally, it is not suitable for any kind of material processing where inventory manage-
ment is required. This arrangement is suitable for materials such as office supplies and 
small value consumables.
	
6.	Reference purchasing organization. When a manufacturer has many manufacturing sites, cre-
ating a central purchasing organization makes sense as this central purchasing organization 
can negotiate contracts with vendors for all the manufacturing plants. This arrangement 
makes use of a central contract that can be referenced by plants for procuring goods and tak-
ing benefit of already negotiated contracts. This arrangement is extremely suitable for global 
organizations.
	
7.	Distributed contracts. Sometimes, there could be more than one instance of SAP instance in 
your organization. For instance, there is a subsidiary in your organization that has its own 
instance of SAP. If this subsidiary wants to use a contract made by your organization, a copy 
of the contract will be copied to this instance of SAP. In this case, plants within your sub-
sidiary will use the copy of the contract available on this instance of SAP. This arrangement 
is known as distributed contract.
Complete Purchasing Cycle
Purchasing cycle varies from organization to organization depending on their particular needs. 
Then, again in any organization, purchasing differs from one material to another material depend-
ing on the material usage.
Purchasing cycle starts when a user department creates a PR. This requisition is sent to the 
­purchase department, which then finds out if known sources of procuring the required mate-
rial exist. If not, the purchase department creates an RFQ and follows the RFQ process to pro-
cure the material. If the source of the material is known, the purchase department finds out 
whether the long-term procurement plan for the material is required. Then it finds out whether 
the fixed time delivery of the material is required. If this is the case, it creates a scheduling agree-
ment with the vendor. If fixed time deliveries are not required, the purchase department makes a 
contract with the vendor.
Once long-term agreement is in place, a type of PO or scheduling agreement can be used to 
procure the material from time to time. If each installment of procurement needs to be approved 
by approving authorities, a release procedure can be used.

SAP MM Purchasing Management  ◾  65
The whole procurement cycle is depicted in the below figure.
PR
If source
exists?
If long-term
procurement?
If ﬁxed interval
delivery?
Convert to RFQ
Maintain and release
quotations
Compare
quotations
Select best quotation
and reject others
Convert best
quotation to PO
Release PO as per release strategy
Create PO or scheduling agreement
Scheduling
agreement
Outline agreement
(contract)
GR and invoice verification
Yes
No
No
No
Yes
Yes
Purchase for Stock versus Purchase for Consumption
When any company buys any material, the material can be either consumed immediately or put 
in stock and used later. This aspect impacts the way financial accounting has to be done for 
the purchase. In SAP, there is a concept known as movement type, which will be discussed in 
Chapter 5. There is also a concept known as valuation of material. Through this movement type 
along with the valuation of material, both financial and material accounting posting is done for 
ledger accounts and storage location inventory balance, respectively. In SAP, directly consumable 
materials are not linked to the movement type. When purchase is done for immediate consump-
tion, this movement type is not linked on the PO. So when the PO is to be posted, it will not be 

66  ◾  The SAP Materials Management Handbook﻿
known to which account financial posting is to be done. Of course, there will not be any posting 
to any storage location as the material is not a stockable material. That is why when a PO is made 
for any directly consumable material, appropriate ledger account must be mentioned in the PO so 
that financial account entry is done when payment is made for the purchase.
When a purchase is made for directly consumable material, account assignment has to be done 
manually on the PO by specifying the G/L account where posting has to be done at the time of 
invoice verification. Also account assignment category has also to be mentioned on the PO.
In case of materials that are to be stored, there is always a movement type linked. So for any kind of 
transaction, for example, a purchase transaction or an inventory movement transaction, both financial 
and material accounting is taken care of automatically. So when a PO for a stockable material is made, 
ledger account is not mentioned on the PO. This concept is known as automatic account determination.
When purchase is made for stockable material, no manual account assignment has to be done 
during inventory movement (in most cases during GR), account assignment will be determined 
automatically by linking to the movement type. So manual account assignment entry is not needed 
on the PO for the material. Of course, you will need to set up automatic account determination 
for the material first before you use it.
Stockable
material
Movement type
attached
Automatic
account
determination
Consumable
material
No movement
type attached
No automatic
account
determination
Automatic Account Determination
Automatic account determination is one of the most complex subjects in SAP. Why is it so? 
Is there any simpler way to connect your materials with financial accounts?
But first let us see as to why do we need automatic account determination. Every time a trans-
action with financial implications is run, postings must be made to financial accounts. This is an 
integration point between MM and accounting. It is quite possible that the user can enter the GL 
account each time an invoice or GR is posted. But this arrangement will be quite unsatisfactory. 
The reason is that the user will have to keep a table of all possible combinations of movement types 
and transaction types for the material type and the organizational structure, and finally find out 
the suitable GL account to be posted. It will be quite daunting as this table could be enormously 
large. Also remember that the user who will be doing these postings belongs to either a purchase 
department or an inventory management department. So for him/her, knowing all the ledger 
accounts will be a difficult task. So this arrangement is not acceptable!
Instead SAP has a better arrangement. For all invoice and GR postings, the system will deter-
mine what account to post depending on a number of factors, such as company code, valuation 
area (plant or company code), material type, transaction or business event, and movement type.
No doubt, with all these variables, the solution will be extremely complex. But if this complex-
ity is kept under wraps (and exposed only to technical guys who will implement the system), it is 
still possible to provide the use of a simple interface to do his/her daily chores comfortably and 
easily. SAP has done it exactly this way.

SAP MM Purchasing Management  ◾  67
To implement the automatic account determination, SAP MM consultant will have to sit with 
the SAP FI consultant and find out what all the accounts are there and how and when each of the 
accounts should be posted to. Both have to discuss all five of the categories above. Once all the cor-
responding data and functionalities of SAP FI and SAP MM are tallied and links are established 
between the two, SAP MM consultant can begin the SAP configuration.
Configuration Steps
To set up an automatic account determination, we need to configure SAP. Entities that need to be 
configured include valuation control, valuation class, and so on.
To set up a valuation grouping code, use the menu path: IMG → Materials Management → 
Valuation and Account Assignment → Account Determination → Account Determination 
Without Wizard → Define Valuation Control.
We have to specify whether the system should consider the valuation grouping code in its 
determination procedures. The valuation grouping code is a collection of valuation areas that will 
have the same account determination. Since a valuation area can be a company code or plant, we 
can say that a valuation grouping code represents a group of plants or company codes that have 
the same account determination.
If you do not use the valuation grouping code, you will have to set up an account determi-
nation for each plant or company code in SAP. If you are using the valuation grouping code, 
jump into “group together valuation areas” and assign your company codes or plant a code. 
These codes should be already in the drop-down list automatically. All you have to do is to 
select the code.
The next step is to manage different account determination per material type. This is where it 
can get complicated if you let it. The valuation class is linked to an account category reference. The 
account category reference is an artificial code that allows flexibility in linking material types with 
valuation classes.
We could relate the GL account directly to the material type. This would be easy to set up for 
a few material types, but would take a huge amount of time for many material types, and would 
be hard to understand if changes need to be made.
We could use the valuation class, assign the GL account to it, and then assign valuation classes 
to material types. This is better since we could, for instance, have a “Raw Materials” valuation class 
and a “Finished Materials” valuation class and then simply link all the various material types under 
each category to the valuation class. This would make updates and initial loads easier, but there is 
still one thing missing—a material type can be part of one valuation class and can post to only one 
account.
However, in the real world, a material type may post to different accounts depending on plant, 
movement type, or indeed any of the factors above.
So, we have an account category reference that is linked to a material type. This account cat-
egory reference, as well as the GL account, is then linked to a valuation class. Thus, a material type 
can be linked to one or more valuation classes (and hence GL Accounts) and in turn, a valuation 
class can be linked to multiple material types.
This can be done by to the the menu path: IMG → Materials Management → Valuation and 
Account Assignment → Account Determination → Account Determination Without Wizard → 
Define Valuation Classes. Here you can first define your valuation classes and account category 
references, and then assign them to material type. Then go to your material types and assign your 
account category reference to the material types.

68  ◾  The SAP Materials Management Handbook﻿
At this point, we should consider another factor: the actual business event that is occurring 
and its effect on account determination. This is another area where you have to try and see through 
the impenetrable fog of terminology.
Each time “something” occurs in the system, it produces a “key” for each of the postings that 
need to be made (i.e., debit and credit). This “key” is entered in our account determination proce-
dure so that postings for credit and debit go to different accounts.
When the “something” can be called “transaction key” or “event key” and the “key” can be 
called “value string,” “posting rule,” or “posting string for values,” and the column header in SAP 
for the “key” says “Trans,” you have hit the bulls eye.
The combinations of movement type and “keys” and how they are determined are all internally 
programmed by SAP. So we have to care about the account modifier or “account grouping code.”
The account grouping code (account modification code, modifier, or general modifier) is a 
three-character code. In SAP, it has no direct link with the posting strings key. Instead, an indi-
rect connection is coming through connection of the account grouping code to the plant or com-
pany code (ultimately it comes back to the plant through connection of the plant to the company 
code!), connection of the plant and the valuation areas, and then connection of the valuation area 
to the valuation class. Valuation class in turn has a link to value string. So we have an indirect 
connection with this value string to the account grouping code. Once all these settings are done, 
we can break down the account determination by movement type.
For example, by default in SAP, if the system says for movement type 101 and posting key 
PRD, there is no modification. So the account determination is not different based on the move-
ment type. However, a code AAA against the movement type 101 and posting key PRD and a 
code BBB against the movement type 102 and PRD can be entered.
Then in “Configure Automatic Postings,” when we go into posting key PRD, we will make entries 
for “general modifier” AAA GL account number 100000, and BBB GL account number 100001. 
Here an entry for a “blank” modifier is needed, which should cover all the other movement types.
Now you need to go through and for each combination of posting key and movement type, 
follow the steps given above and assign GL account number.
Account assignment steps are as follows:
	
1.	Create and assign valuation group code to company code.
	
2.	Establish automatic posting for inventory posting (Tcode: BSX).
	
3.	Establish automatic posting for offsetting entry of inventory posting (Tcode: GBB).
	
4.	Establish automatic posting for cost/price differences (Tcode: PRD).
Account Assignment for Purchase Documents
Generally, payment terms for purchasing vary considerably. Once GR happens for purchasing, the 
customer has to pay either in full or in installments, or periodically.
In SAP, we have POs for which the customer has to pay in full once GR happens. In case of 
outline agreements, the payment is based on GR. In case of scheduling agreements, the payment 
is done periodically. Payment is also not based on GR.
In essence, in some cases, payment depends on GR and in some cases, payment does not 
depend on GR. This is valid for all goods that are kept in stock.
In SAP, account assignment is mandatory for all purchases for which payment is based on GR. 
Whenever there is a GR, through account assignment, the linked GL account is debited. In case 
of purchases for which payment is not based on GR, arrangement is made so that payment is made 

SAP MM Purchasing Management  ◾  69
periodically for all purchases during that period. For example, a material is received five times in 
a month and then payment for all these five purchases will be made at the end of that month. At 
the time of periodic payment, all GRs are counted for that period.
In SAP, payment for PO and outline agreements is based on GR. So in these cases, account 
assignment is made (automatic account determination for valuated stock materials and manu-
ally assigning account in the PO in case of consumable and nonvaluated materials). In case 
of scheduling agreements, payment is not based on GR and payment is done periodically. So 
account assignment is not necessary for scheduling agreements. Similarly, when services are 
procured, there is no GR for these services. So account assignment is not needed for procure-
ment of services.
Account assignment is also needed for PRs because the user departments do not know the 
details about the ledger accounts for the required material. Through account assignment, mate-
rial can be linked to accounts automatically by the system without the knowledge of the end 
users.
Account Assignment Category
Account assignment for materials and services is categorized for different needs of materials and 
services. Cost objects such as assets, production orders, cost centers, and sales orders need different 
kinds of account assignment. Depending on the requirements of GRs and invoice receipts (IRs), 
account assignment will differ as follows.
◾
◾In case of asset, the main asset number and subnumber are needed for account assignment.
◾
◾In case of order generated by MRP (order in SAP), the order number and G/L account num-
ber are needed for account assignment.
◾
◾In case of production order (generated by SAP PP– shop floor [SF] component), the produc-
tion order number is needed for account assignment.
◾
◾In case of business process, the business process number and G/L account number are 
needed for account assignment.
◾
◾In case of cost center, the cost center number and G/L account number are needed for 
account assignment.
◾
◾In case of sales order, the sales order number and G/L account number are needed for 
account assignment.
◾
◾In case of project, the project number and G/L account number are needed for account 
assignment.
Similar Names but Different Entities
In SAP, there are some names that appear for different entities, which are as follows:
	
1.	Procurement types: Procurement types are consignment, subcontracting, standard, external 
service, and stock transfer. They are used in creation of document types such as PO and 
scheduling agreements. They are important because they specify what kind of input materi-
als or services may be required for the required material to be delivered.
	
2.	Info records: Info records are of consignment, subcontracting, standard, and pipeline 
types.

70  ◾  The SAP Materials Management Handbook﻿
	
3.	Item categories: Item categories are used in conjunction with account assignment ­categories 
in PO. They determine whether a material number, account assignment, stock item, non-
stock item, GR, or IR is required. They include standard, consignment, subcontracting, 
stock transfer, third party, and limit.
Item Category
Item category is an important concept in SAP. For any material or service, it identifies how the 
material or service can be procured. It determines whether a material requires a material number, 
an account assignment, GR, or IR, or whether a material is stock managed/consumed immediately.
Item Category Characteristics
The characteristics of item category are as follows:
◾
◾If the item category is standard, GR and IR are possible.
◾
◾If the item category is consignment, material number and GR are mandatory, account 
assignment and IR are not required, and material is stock managed.
◾
◾If item category is subcontracting, GR is possible and IR is mandatory.
◾
◾If the item category is of stock transfer type, goods are transferred from one plant to other. 
A stock transport order (STO) is created for the goods movement.
◾
◾If the item category is of third party type, goods are ordered by the customer on behalf of a 
third party (customer of customer). Goods recipient is the third party, and thus, on the PO, 
delivery address is that of the third party.
The limited item categories are for blanket POs (also known as PO with limits or limit orders). 
In cases where order costs are very high compared to the cost of goods or services, creating and 
maintaining separate PO for each item is not feasible; we can use blanket PO in which one PO line 
item may contain several schedule lines, each containing partial quantities of materials or service 
jobs. The entire line item may be subject to a maximum value limit. At the line item level, instead 
of a delivery date, a delivery period can be specified. At the schedule line level, specific delivery 
dates can be maintained. Blanket POs have the document type “FO” in SAP.
GR in case of materials or service entry in case of services is not required. The IR is PO based 
and not GR based. The value limit is applied at the time of IR.
Release Procedure
In any organization, users from various departments raise their requirements for materials and 
services. These requirements are converted into PRs. Depending on the value of the PRs, they 
need to be sanctioned (approved) by relevant authorities. Once a chain of authorities approves a 
PR, it can be sent to the purchase department. Each requisition line item on a PR may need to be 
sanctioned separately. Sometimes, all line items on a PR can be sanctioned together so there is no 
need to sanction each and every line item.
When a sanctioned PR reaches the purchase department, the PR can be converted into a PO, 
an RFQ, or a long-term contract, depending on the procurement type to be followed. Here again, 

SAP MM Purchasing Management  ◾  71
the PO, RFQ, or contract may need to be sanctioned (approved) by the authorities in the purchase 
­department before any of these documents needs to be sent to the vendors. But since these documents 
are to be sent to external parties, no line item approval is possible. So these documents are approved in 
whole. For instance, suppose a PO is approved at the line item level. Now when each of the line items 
is approved separately, many documents with the same PO number will be sent to the vendors. This is 
simply not possible. That is why these documents can be approved in whole and not in part.
In SAP, there is a default configuration for the release procedure associated with approval pro-
cess for PRs. If this default release procedure is not suitable for customer needs, a release procedure 
can be defined and implemented through customization.
Release Procedure for PR
There are two types of release procedure for PRs: the release procedure with classification and 
the release procedure without classification. The default preconfigured release procedure avail-
able in standard SAP is the release procedure without classification. When a release procedure 
class is created and attached to a release procedure, it is known as the release procedure with 
classification.
Before we proceed to discuss the two types of release procedures, let us discuss as to how to use 
a release procedure. A release procedure creates release groups, release conditions, release strategy, 
release code, release indicator, and release prerequisites.
If you want to use either of the two types of release procedure, you will have to touch the cus-
tomization zone and need to set up all the entities listed above in the IMG activities. Only then 
you will be able to use the release procedure of any type.
Release Procedure without Classification for PR
Release procedure without classification works only at the item level. It can be used when the 
number of line items in PRs is small. At the same time, the total number of PRs should also not 
be large. Generally, when a user department has a large number of PRs, it is tedious to release 
each line item one by one. This is especially true if the value of each line item is very small, say $10 
or even less. It is much better to release PRs in these cases at the header level so that the approving 
authorities do not bother about approving small value line items.
The steps involved in creating a release procedure without classification are as follows:
	
1.	Create release codes.
	
2.	Create release indicator.
	
3.	Create release strategies and assign release indicator to release strategies.
	
4.	Release points (prerequisites): relate release codes and release indicator to release 
strategies.
	
5.	Determine the release strategy: relate release strategy to material group, plant, PR value, and 
account assignment category.
Release Codes
The release codes are the approval authority roles that you define. These roles are not related to the 
existing users in SAP application. So there is no workflow involved (no e-mail or messages are sent 
to the approving authorities for approving PO line items).

72  ◾  The SAP Materials Management Handbook﻿
You need to create as many release codes as you need. It depends on the number of approval 
levels. The number of approval levels can be up to eight. The hierarchy of approval depends on the 
way it is set up in customizing.
Release Indicator
The release indicator is the place where you define a release indicator ID that is linked to a set of 
selections to decide whether you want the release procedure to allow changes in PR by MRP runs 
or the PR is converted into an RFQ or PO document after it is released. There is also a field selec-
tion option, which can be used to change fields related to release procedure on a PR.
There is also an option to reset the release strategy or allow changes in the PR, which happen 
after it is released. You can set a tolerance limit for the changes made in the value of a PR for which 
the release strategy will work even after changes in the PR, which are within the tolerance limit.
Assign Release Indicator
In this step, you create a release strategy and assign it to release indicator.
Release Points (prerequisites)
In this step you make a relationship among release codes, release indicators and release strategies.
Determine Release Strategy
In this step you test your release strategies by assigning material groups, plants, account assign-
ment category, and purchase requisition value (in dollar terms) to a release strategy and run it to 
see if it is working perfectly.
Release Procedure with Classification for PRs
In release procedure with classification, you create characteristics that represent various release 
strategies and then embed them into classes. Then these classes are linked to release strategies.
The steps involved in creating a release procedure with classification are as follows:
	
1.	Create characteristics.
	
2.	Create class and assign characteristics to class.
	
3.	Create release groups.
	
4.	Create release codes.
	
5.	Create release indicators.
	
6.	Create release strategies.
	
7.	Assign release codes to a release point (creates workflow).
Create Characteristics
You create characteristics depending on the corporate PR approval matrix. The approval matrix 
depends on departments that make request for purchase and the amount of purchase to be 

SAP MM Purchasing Management  ◾  73
made. In one department, you can have a hierarchy of approvers and approval may be con-
trolled by the amount of the purchase and the approval limit of each of the approver in the 
hierarchy (Table 4.1).
If your purchasing group is same as your department, the purchasing group will be one of the 
components of the characteristics. The other component of the characteristics will be the amount 
approval limit.
In the table CEBAN in SAP, various fields are available to store characteristics values you make 
for creating release procedure.
Create Class and Assign Characteristics to Class
In this step, you create a class and assign the already created characteristics to this class. This class 
will later be linked to release strategy.
Create Release Groups
Release groups are a collection of authority levels for a release strategy. For example, from the 
data given in Table 4.1, we can have a release group consisting of a line manager from production 
department and accountant from finance department. In this case, a release strategy can be set so 
that when a PR is released by the line manager, the accountant in the finance department can only 
make decision regarding the release of the PR.
Create Release Codes
Release codes are the authorities who determine if a PR can be released for further processing 
based on the value of the PR or any other criteria. You create release codes for each level of author-
ity needed in releasing a PR.
Create Release Indicators
Release indicators are the decision indicators when a PR is processed for release. A release indicator 
can be a green, red, or yellow signal to denote if a PR is released, on hold, or not released.
Table 4.1  Hierarchy and Approval Limit for Approvers at Different Departments
Department
Position
Amount
Production
Line manager
Up to $15,000
Production
Director
Up to $50,000
Production
President
Above $50,000
Finance
Accountant
Up to $5,000
Finance
Controller
Up to $20,000
Finance
Director
Above $20,000

74  ◾  The SAP Materials Management Handbook﻿
Create Release Strategies
Release strategies are the complete release procedures which while running can determine if the 
release of a PR will be complete or not. A release strategy relates release indicators and release 
codes, and compares the value of a PR stored in a characteristic inside a class.
Assign Release Codes to a Release Point (Create Workflow)
Release codes need to be linked to SAP user ID of the authorizer who releases PR so that he/she 
can get notifications of the pending PR for approvals in his/her e-mail ID. Whenever a PR needs 
to be approved, an e-mail will be generated and sent to the authorizer.
Source Determination
When a user department or purchase group needs a material or service, it needs to know the sources 
from where it can be procured quickly and cost-effectively. Finding the right sources (vendors or internal 
procurement via stock transfer) is difficult without proper help. In SAP, there are many avenues for find-
ing the right sources. Source determination in fact is a vital feature in SAP. Any user can easily find the 
right sources including vendors, existing outline agreements, or internal sourcing through stock transfer.
Outline agreements. In SAP, there are many types of outline agreements including contracts (quan-
tity and value contracts) and scheduling agreements. All these types of outline agreements help any user 
to find the right source. For instance, once a user identifies a contract as the right source, he/she can 
assign the PR to the contract and the system will generate a release order. If the source identified is a 
scheduling agreement, a scheduling agreement delivery schedule will be released for the PR.
Info record. If an info record exists for a material or service, the prices and conditions in the 
info record are suggested on the PO when you create the PO referencing your PR.
Plant. If you have plants that produce material which can be sourced to your plant, the plant 
can be an option for your procurement. If the plant has been identified as the right source of sup-
ply, you can create an STO or just a transfer posting (one or two steps).
Quota arrangement. If you have more than one vendor for supplying the same material, you 
can create a quota arrangement among your vendors so that at any point in time, you can always 
have more than one source available.
Source list. It contains a list of sources of supply for any material or service over certain periods 
of time. You can also assign one of the sources as your preferred source by checking “Fixed” field 
on the list against the source.
Source Determination Sequence
When you run source determination, the different categories of sources (quota arrangement, source 
list, outline agreement, and info record) run one after the other. In SAP, there is a predefined sequence 
in which they run. One category of source has precedence over the other. If a source is found in the first 
category, it will not search for other sources and thus will not run other categories of sources. However, 
if it does not find any sources in the first category, it goes to the second category and vice versa.
The precedence sequence from higher precedence to lower precedence when source ­determination 
is run is as follows.
Quota Arrangement → Source List → Outline Agreement → Info Record.

SAP MM Purchasing Management  ◾  75
When you run source determination to find the best source for procurement, the system first 
searches if any valid quota arrangement exists for the material. If a quota arrangement is found, 
this will be the preferred source and will be selected. If no valid quota arrangement is found, the 
system searches for any valid source list. If a valid source list is found, this will be the preferred 
source and will be selected. If no valid source list is found, the system will search for outline agree-
ment and info records.
When the system reaches at this stage, there are many branches of logic involved. The 
outline agreements are mainly of two types: contracts (value contracts and quantity contracts) 
and scheduling agreements. The system can find more than one outline agreement. Similarly, 
the system can find more than one info record for a material or service (one info record for 
one purchasing organization, second info record for another purchasing organization, one for 
plant, etc.).
Because of this possibility of finding more than one source for both info records and outline 
agreements, they have been clubbed together. Thus, if more than one source is found, the system 
suggests all of them in a dialog box. User then can select a source out of all suggested sources.
If source determination is being done in the background, the system must find a source and 
select it and complete source determination automatically. This functionality is achieved by giving 
a precedence to any valid outline agreement over info records. If more than one outline agreement 
is found, the system checks if one of them is from a regular vendor. If so, this outline agreement is 
selected automatically. If this is not the case, the system does not assign any source to the PR and 
then it has to be done manually.
When an info record is found as a valid source, the system checks for supply region and regular 
vendor. If the plant on the info record belongs to the supply region of the vendor as per the ven-
dor master record, the info record will be a valid source. If not, the info record will be discarded. 
Similarly, if the vendor on the info record is the preferred vendor for the material (in customizing 
if the preferred vendor is specified), the info record will be selected. If not, the info record will be 
rejected as a valid source.
Purchase Documents
Type of Purchase Documents
SAP has a number of purchase documents to cater to the needs of various kinds of procurements. 
These documents can be divided into internal and external documents. Internal documents are 
the documents that are used inside the organization. All forms of PRs are examples of inter-
nal purchase documents. These documents are never transmitted outside the organization.
External documents need to be transmitted outside the organization so that purchase can be 
made. These documents are transmitted to and fro between the organization and the vendors. PO, 
RFQ, outline agreement, and scheduling agreement are examples of external purchase documents.
Purchase Document Structure
Purchasing document contains a lot of data. These data can be segregated into three types: (1) data 
that belong to the entire document are called header data, (2) data that show all line items on that 
particular document are called overview data, and (3) data that belong to the specific line item are 
called item details.

76  ◾  The SAP Materials Management Handbook﻿
These three types of data are contained inside a section of the user screen. The section containing 
the header data is known as “Header.” The section containing the line items is called “Item Overview” 
and the section containing the details of a line item is called “Item details.” On any screen in SAP, you 
can either collapse or expand any of these three sections. When you click on any line item in “Item 
Overview” section, the “Item details” section shows the details of that particular line item.
Header data contain information such as vendor, document number, document date, move-
ment type, terms of the purchase, and document type. The overview data contain information 
such as material or service number, material or service description, material quantity, unit of 
measure, plant, storage location, and delivery date. The item details contain information such as 
material details, delivery details, and account assignment details.
Each kind of purchase document contains all three sections. One exception to this rule is PR 
documents, which do not contain any information in the Header.
Each line item of “Item Overview” is considered a unit of procurement. All purchasing 
operations including requisitioning, ordering, and follow-on processes deal on a item-specific 
basis. In fact you can select one line item from all line items in the “Item Overview” area for 
processing.
Document Types
In SAP, there is a concept called document type. Depending on the document type, purchasing 
documents differ from each other, and the document number ranges and fields on the document 
screen are determined.
Each kind of purchasing documents such as RFQ, PO, and PR has its own document types. 
Many document types are already defined in the standard SAP system. For example, the docu-
ment type “NB” is defined for PO. The customer can also define his/her own document types.
Purchase Document Numbering
Purchase documents are numbered uniquely. The document numbers can be an alphanumeric 
code and can be assigned to the documents internally or externally. When an internal number is 
used, SAP generates numbers and assign them to the document when you save them. If the system 
is customized for external numbering, the user has to supply the document number.
Purchase Document Screens
When any purchase document is invoked using the transaction code (e.g., ME21N for PO) 
or the menu path SAP Easy Access → SAP Menu → Logistics → Materials Management → 
Purchasing → Purchase Order → Create → ME21N Vendor/Supplying Plant Known, the user 
can see the screen for that purchase document. This screen is known as the “initial screen.” If no 
document of this type has been opened recently, the screen may contain no data. But the screen 
may contain data from the previously opened document. These data are copied from the last pur-
chase document.
If the user has referenced any other purchase document to open a purchase document (e.g., 
opening a PO from a PR), data from the original document are copied to the new document. In 
SAP, this is known as adopting. In cases where release orders are created based on the outline 
agreement, data present on the outline agreement are copied to the release orders.

SAP MM Purchasing Management  ◾  77
This feature of SAP is very useful to the user. It reduces data entry to be done by the user so 
productivity of the user gets increased. It also reduces the chances of error in data entry.
Enjoy Interface
From release 4.6, SAP introduced a user interface for purchasing documents named Enjoy. This 
interface is very interactive and productive. It supports fast and straightforward completion of 
working with purchase documents. One important feature introduced in the Enjoy interface is 
named document overview. The user screen is divided into two panes: The left-hand side pane 
contains the purchase document and all its elements, and the right-hand side pane contains an 
overview of purchasing documents.
Document overview feature is very useful. You can select a criterion based on which this 
pane will display a list of documents you need to work on. This feature makes searching for 
­documents redundant. For example, you want to keep a list of all contract documents for produc-
tion ­department. You select your criterion by clicking on the icon for document list selection. This 
will result in display of all contracts for production department. From this list, you can display 
or copy any document, which will be displayed on the left pane. You can work on the displayed 
document. Once you are finished working with this document, you can save or post it. Now you 
are ready to work with other document. Again you can go to the document overview pane and 
open another document to work on.
The Enjoy interface is integrated with the follow on functions in the SAP MM–IM and invoice 
verification (when the subsequent user actions lead to screens belonging to SAP MM-IM or SAP 
Invoice verification). The restriction in the Enjoy interface includes the inability of the customer to 
include their own fields in the account assignment overview for any line item. For service items, no 
facility of “Hold” or changing plant or vendor on POs is provided. For batch input, conventional 
PR and PO screens are used.
Features of Enjoy Interface
Document overview pane, Header, Item Overview, and Item Detail sections constitute the top 
structure of any Enjoy interface. Inside this structure, there are many features that are extremely 
useful for the user:
Personal settings. Any user can invoke personal settings from the “Personal Setting” button. 
Personal settings allow the system to keep in memory the last document that was opened 
along with the state in which it was closed. So unfinished documents that were closed earlier 
get open with partial data, which the user may have entered in his/her last session.
Sorting and filtering items. There are three icons at the bottom of the Item Overview section for 
sorting and filtering of line items in the item overview. You can sort PO items in ascending 
or descending order. For example, you might want to see the PO items with the highest price 
at the top of the list. You can also display the PO items according to certain criteria. You can 
use all the fields of the PO items as filter criteria. For example, you wish to see only items 
destined for your Houston plant with an order quantity of up to 30 pieces. If you want to 
see all the PO items again, you can remove the filter.

78  ◾  The SAP Materials Management Handbook﻿
Simplification of data entry. Functions such as correction of faulty entry, entry of names instead 
of numbers, and material searches using fragments of material short text help users in enter-
ing their data on the purchase documents.
Messages. If you do not want to receive distracting messages while you are working on any docu-
ment, you can turn off messaging functionality while working. You can later see the error 
log and rectify the mistakes made while entering the data where he entered data has fault. 
It also displays description of the error so that the user can rectify the error. There is a display 
of three lights resembling traffic signal. This traffic signal is displayed at the document level 
on the top of the document header as well as at each line item. This helps the user in know-
ing as to which line item has an error. The error is shown as a red light much like the traffic 
signal. When all details pertaining to a line item are OK, the green light is shown. To dif-
ferentiate between the warning and the error, the amber and red lights are used, respectively. 
If the user encounters an error, he/she must correct the error; otherwise he/she will not be 
able to save or post the document. When the user gets warning, he/she can check the fields 
on the document; if he/she finds that the things are OK, he/she can proceed to save or post 
the document.
Error log. An error log keeps the user informed about the fields that have error.
Copy or adopt. You can adopt document from a document which you are referencing. For 
example, you can open a PR and then make a PO document by adopting the PR. All data 
on the PR get copied to the PO document.
Simplified navigation. Double clicking any relevant field on the purchase document will display 
master record. For example, if you double click on a material number, the material master 
will be displayed. An Environment menu has been added from where you can access infor-
mation about many master records for master data such as info record, changes in item, 
stock, source list, material, and vendor.
Text editor. The new text editor allows automatic line breaks and search for and replacement of 
text functionalities.
Help. The help area is adjacent to the application and you do not need to get help by going to 
another help window.
Document Overview
Document overview is indeed a very neat feature inside the Enjoy interface. You can have all kinds 
of purchase documents in the document list inside the document overview such as PO, RFQ, PR, 
outline agreements, scheduling agreements, PO on hold, POs, and PRs.
In document overview, you can define which data to be displayed on the chosen document. You 
can display the document number, vendor, material, and so on. You can specify the way to display 
data. For example, you can specify that you want only to display POs that were ­created ­yesterday. 
You can create, modify, or delete selection variants. For example, you can create ­selection variant 
to display POs for a certain purchase group. Later you can modify this selection variant to display 
POs for another purchase group. From the list of documents (based on your selection variant), you 
can open or adopt any document by either double clicking on it or clicking the Adopt button. You 
can also search for documents by clicking on the Search icon. You can also refresh the document 
list by clicking on the Refresh button.
Document overview is a very strong tool for working with purchase documents. To work with 
it, first of all you need to put it in “Document Overview On” mode by clicking on the “Document 
Overview On” button. This will display the document overview if it was in off mode previously. 

SAP MM Purchasing Management  ◾  79
Then you can use selection variant to select a list of files you want to work on by clicking on the 
selection variant icon. Once your files are in the file list, you can then decide what kind of data on 
these documents you want to work on.
Purchase Requisition
PR is created by the user departments to fulfill their needs for either material or service. A PR can 
be either created manually or generated automatically through the application system. The appli-
cation can generate a PR automatically against a production order (if MRP system is installed) or 
sales order (if trading system is installed). A PR can be for an external purchase or for an internal 
procurement. Let us see the life cycle of PR.
PR created
manually
PR created
automatically
PR release
RFQ
Scheduling
agreement
One-time PO
Purchase
department
Sanctioning
authority
User
department
Contract (outline
agreement)
The PR created by the user department (manually or automatically) is released by the sanction-
ing authority. Once the PR is released, it comes to the purchase department, which then finds 
out what kind of purchase strategy is needed for the particular PR. If there is no source available 
for the requested material or service in the PR, it opts for RFQ. If the known source is avail-
able and the requested material needs to be delivered at fixed intervals over a period of time, a 
scheduling agreement will be created. If delivery of materials is not required at fixed intervals 
(may be linked to safety stock requirement and whenever minimum safety stock level is reached, 
order needs to be placed), a contract (also known as outline agreement) will be ­created. In case 
the PR is raised for only one-time purchase, a PO can be created directly from the released PR.
Fund Availability
It is very important for the user to know if funds are available in the company for the material or 
service he/she wants to procure. Once he/she knows that funds are available, he/she can go ahead 
and make the PR. On the other hand, if funds are not available for a purchase, the user will not 
be able to post the PO for further processing.
There are options to find out the availability of funds. One option is to have funds management 
module of SAP implemented in your system so that you can find out the fund availability for any 
purchase (this option is beyond the scope of this book to discuss.). The other option is to use internal 
order. If this option is not available, you will have to consult your finance department. But to get help 
from your finance department, you will have to know some information about the cost center or asset.

80  ◾  The SAP Materials Management Handbook﻿
Of course, if the procurement is for stockable material, fund availability check is not needed 
because in SAP these materials are procured using automatic account determination. The G/L 
account to which the budget for procurement for these materials is connected gets automatically 
deducted when GR is done.
Parts of a PR
Let us discuss all the elements of a PR in SAP.
Material
number
Item detail tab
Plant
Storage location
Purchase group
Account
assignment tab
Material
description
Material
quantity
Unit of measure
Delivery date
Material group
Material number. If you know your material number, you can directly enter it here or you can 
select your material from the drop-down list. If PR is generated automatically from an MRP 
run, this field will be populated automatically.
Material description. Material description gets populated automatically when you select your 
material number.
Material quantity. You can enter your material quantity here in the base unit of measurement 
specified in the material master.
Unit of measure. After you enter the material number and hit “Enter” on your keyboard, the base unit 
of measure will be populated in the field. Or you can also change the unit of measure manually.
Some other important elements of PR document include delivery date, material group, item detail tab, 
account assignment tab, plant, storage location, purchasing group, purchasing organization, and so on.

SAP MM Purchasing Management  ◾  81
Request for Quotation
When a purchase organization receives a PR and cannot identify a source for the material required as 
per the PR, it has no choice but to raise an RFQ from a selected list of vendors. This happens when a 
new material is requested on a PR or request has come for a material that has not been ordered for a 
long time and so the current price of the material or vendors who can supply the material is not known.
In such cases, the purchase organization can go for RFQ. The purchase organization can 
prepare an RFQ document and send it to prequalified vendors. The RFQ document contains a 
request for material or service and a clause for terms and conditions for delivery of the requested 
material or service. The vendors who receive the RFQ then make quotation. They use the same 
RFQ document sent by the customer (purchase organization) to make the quotation. They send 
the quotation back to the customer.
Once all quotations are received by the customers, they compare the quotations. Then they 
select the best quotation as per their needs (price/terms, etc.). They reject other quotations and 
award the contract to the best quotation. To do so, they create a PO from the quotation and send 
it to the selected vendor. The RFQ process can be subjected to a release procedure.
RFQ Document Structure
An RFQ document structure contains a header and the line items. The header contains general 
information such as information about vendor including the address, RFQ number, purchasing 
group, purchase organization, RFQ date, and so on.
Each line item contains information about material or service, quantity, delivery date, and 
so on. It may contain a complete delivery schedule made up of all schedule lines. Each schedule 
line contains material quantity that will be delivered on a specified delivery date.
RFQ document does not contain an account assignment because RFQ documents are used as 
quotations, which are not subject to invoice processing or GRs. RFQ documents in fact are con-
verted into a PO after the bidding process, and at this stage, account assignment will be done on 
the PO.
Any RFQ document can be created manually or referencing to the existing RFQ, PR, 
or ­outline agreement.
Get PR from user
department
Create RFQ
Send RFQ to
vendors
Receive quotations
from vendors
Maintain and
release quotations
Compare
quotations
Select best quotation
and reject others
Convert into PO

82  ◾  The SAP Materials Management Handbook﻿
Prerequisites for RFQ
Before creating RFQ document, you must have information about vendors to send RFQ to meet 
deadlines by which the quotation should be submitted, RFQ number assignment should be inter-
nally or externally assigned, a collective number should be assigned to all bids to track and manage 
easily, manufacturer part number (MPN), and so on.
RFQ Creation Manually
When you have to enter data on an RFQ document, you should be familiar with all the fields on 
the document and all the screens associated with the RFQ document.
When you invoke the RFQ document by using the menu path, you can see the initial screen: 
SAP Easy Access → SAP Menu → Logistics → Materials Management → Purchasing → RFQ/
Quotation → Request for Quotation → ME41 Create.
On the initial screen the following fields are present:
RFQ type: You need to enter the document type of RFQ in this field. The default RFQ type is 
“AN.” The customer can also define his/her own RFQ types.
RFQ number: You can enter your own RFQ number if you use an external RFQ number in 
organization. Otherwise internal RFQ number will be assigned automatically by the system 
when you save the document.
Organization data: Enter the purchase organization and purchase group as organizational 
data.
Default value: If you put some default values such as delivery date, the default value will be 
populated for each line item on the RFQ document.
When you click Enter, you will proceed to the next screen which is the Item Overview Screen. The 
fields on this screen and their explanation are as follows:
Item: You will see blank lines with columns on the screen for doing data entry. Each of these 
lines is for entering a line item for the RFQ document. On each line you have to enter the material 
number, quantity, delivery date, receiving plant number, storage location, and so on. If you are 
making RFQ for a material that has no material master, you have to leave the material number 
field blank. But you will have to enter the material short text, order unit, and material group as 
these fields are mandatory in this case.
If you want to review item details for any line item, select the line item and then go to the 
menu path: Item → Details. If you need to review the header information such as deadline date 
or enter the collective number, go to the menu path: Header → Details.
Once you are done with Item Overview screen, you can go to the menu path Header → 
Vendor Address or click on the Vendor Address icon. Once you are on the vendor details screen, 
enter the vendor number and press Enter. If vendor master already exists for this vendor, all the 
vendor details on this screen will be filled by the system. Otherwise you will have to enter all data 
manually and save the data. For each vendor to whom you are sending the RFQ, create and save 
vendor data.
Now the RFQ, as well as the messages for the vendors, is created. You can send the messages 
containing the RFQ to vendors using electronic data interchange (EDI) or any other communica-
tion mechanism configured for your system.

SAP MM Purchasing Management  ◾  83
RFQ Creation Using Reference Document
If you have an existing RFQ, you can copy it to create a new RFQ document. If you want to create 
RFQ from the existing PR or outline agreement, you can adopt it to create a new RFQ document. 
The only catch is that the referencing document must be released if it is subject to get released.
You go to the following menu path to create RFQ with reference: SAP Easy Access → SAP 
Menu → Logistics → Materials Management → Purchasing → RFQ/Quotation → Request for 
Quotation → ME41 Create. On the initial screen, enter the deadline for submission of RFQ and 
also enter the purchase organization and purchase group. Now go to the menu path RFQ → Create 
with Reference → Choose, either with reference to PR or with reference to outline agreement. 
Suppose you have chosen with reference to PR, enter the PR number and the reference documents 
to be adopted in the dialog box. Now press Enter and the RFQ Item Overview screen will appear. 
The PR may contain more than one line item, and thus, on the Item Overview screen, you may have 
more than one line item. Select the line item you want to adopt. If you want to make some changes 
in the selected line items, go to the menu path: Edit → Adopt + Details. Make your changes on 
the Item detail screen that appears now. Now go to the menu path: Edit → Adopt. Item Overview 
screen will appear. If you want to add more line items on the Item Overview screen, use the menu 
path: RFQ → Create with Reference → With Reference to PR. Do the same steps as above. Once 
you have all the line items on your RFQ document, you can proceed further and go to the Vendor 
Address screen by clicking on the Vendor Address icon. Enter the vendor number here and press 
Enter. If the vendor is a one-time vendor, you have to enter the vendor address manually and save 
the RFQ. Repeat the procedure to create RFQ for other vendors.
Creating a Delivery Schedule for an RFQ
If the total quantity of material to be supplied for the RFQ to a prearranged schedule, you 
can enter the delivery dates and material quantity in several schedule lines for each line item 
in the RFQ.
To create a schedule, select the line item in the Item Overview and go to the menu path: 
Item → Delivery Schedule. On the next screen, enter the delivery date, delivery time spot, and 
scheduled quantity.
Comparing Quotations
Once you receive quotations from vendors, you can enter these quotations in the system manually. 
If you receive quotations via EDI and the system gets updated, you can use these quotations for 
comparison. The system will generate a price comparison list from the received quotations. Before 
using the price comparison list, ensure that all quotations have prices for the same line items. When 
you have prices from all quotations, the system will generate a mean and a total value for the line 
item. If any vendor is using other currency that is not used by purchasing ­organization, the other 
currency will be automatically converted into the currency used by the purchasing ­organization. 
Make sure that your currency exchange rates are up to date in the system.
To generate price comparison list, go to the menu path: Easy Access → SAP Menu → Logistics → 
Materials Management → Purchasing → RFQ/Quotation → Quotation → Price Comparison list. 
You will get selection screen for price comparison list. Enter RFQ numbers or use collective num-
ber to get price comparison list for all quotations. By selecting vendors or material, you can also do 
price comparison list. Now choose the comparison values to be used. One option is to use reference 

84  ◾  The SAP Materials Management Handbook﻿
quotation. Here you can choose one of the quotations as reference and all other quotation prices will 
be compared against the prices maintained for this quotation. The result will show the percentage 
deviation in prices of quotations against the reference quotation. The other way to compare quota-
tions is to use mean/minimum value of quotation. Here, a mean or minimum price (depending on 
your choice) will be generated by the system by taking into account prices of all quotations and this 
price will be given to a fictitious quotation. You can also compare the prices on a percentage basis.
All components of price may not be included when prices are compared because of business 
requirements. Components that should not form the comparison list should be removed from 
prices. For example, freight charges can be removed from price and then prices can be compared.
Once you have done your settings for price comparison, go to the menu path Program → 
Compute and price comparison list will be generated. From the generated price comparison list, 
you can not only compare prices of material but also do vendor evaluation and various analyses.
Rejecting Quotations
Once you have evaluated all the quotations and found out the best quotation based on your analy-
sis, it is time to reject other quotations.
You can do it using the menu path: Easy Access → SAP Menu → Logistics → Materials 
Management → Purchasing → RFQ/Quotation → Quotation → Maintain. Enter quotation 
number to reject on the screen and press Enter. The Item Overview screen will appear. Set the 
rejection indicator (column R in the line item) for each line item you want to reject.
Once you post the document, the system saves the reject information and generates a message. 
If our message transmission is configured, the message will be sent to the vendor automatically. 
Otherwise you can do it manually.
Selecting Quotation
When you finally select the best quotation, you invite the vendor, make a PO, and then transmit 
it to the vendor. The PO will contain the line items adopted from the line items of the successful 
quotation.
To create the PO, use the transaction code ME21N. In document overview, open the success-
ful quotation by supplying the RFQ number and adopt this RFQ. The line items and header of the 
RFQ will be copied to the PO. Now you can process the PO as usual. Refer the section “Purchase 
Order” as to how to work on a PO.
Outline Agreement
Outline agreement is a broad term used in SAP to cover most of the long-term purchasing agree-
ments by the customers with their vendors. It includes contract-based purchasing agreements 
which are commonly known as blanket orders, framework orders, contract, and so on. In SAP, 
these kinds of agreements are termed as contract.
There are other types of long-term agreements where a fixed quantity of material is to be sup-
plied by the vendor to the customer at fixed intervals of time. Here, the payment terms are also 
periodic and are not based on GR. The agreement document contains fully legal binding and no 
other document is needed for the supply and receipt of goods. In SAP, this kind of arrangement is 
known as scheduling agreement.

SAP MM Purchasing Management  ◾  85
In SAP, contract agreement is of two types:
	
1.	Quantity contract. This contract will be created when a fixed quantity of material is to 
be purchased over a period of time. This type of contract is usually used for purchasing 
materials.
	
2.	Value contract. This contract will be created when a fixed value (in monetary terms) of service 
is to be purchased over a period of time. This type of contract is usually used for purchasing 
services.
Released PR
Contract
If contract quantity is
greater than cumulative PO
quantity?
Yes
No
Raise POs
against contract
Close contract
Structure of Outline Agreement Document
Similar to the structure of other purchase documents, outline agreements also have a header and 
an item overview. The header contains information such as document number, vendor, purchase 
organization, header text, and header condition information.
The line items (items in SAP) are contained in the Item Overview section. Each line item con-
tains information about the material or service, quantity, unit of measure, plant, storage location, 
and so on.
Header area contains the text called header text, which can be either suggested by the system 
or entered manually. Item overview area also contains the text known as item text.
Texts are divided into text types. The text type determines the print sequence on the document 
printout. Some types of text include shipping instructions, handling instructions, extra material 
description, and so on.
Creating Outline Agreement Documents
Outline agreements can be created manually from scratch or can be copied or adopted from other 
purchasing documents (existing PR or RFQ) by reference.
When you create an outline agreement document by referencing other purchasing docu-
ments, the vendor and purchasing organization must be the same as those on the referencing 
document.
If you want to create outline agreement document referencing an existing RFQ, use the 
following menu path to create an outline agreement document: Easy Access → SAP Menu → 
Logistics → Materials Management → Purchasing → Outline Agreement → Contract  → 
Create. On the initial screen, use the menu path: Outline Agreement → Create with 
Reference → To RFQ. In the dialog box, enter the RFQ number. You also specify the fields 

86  ◾  The SAP Materials Management Handbook﻿
that you want to adopt from the RFQ document in the dialog box. After pressing Enter, the 
Header data screen appears. Enter validity period and target value of the contract. When you 
press Enter, the Item Overview screen appears. Select the line items to be copied from the RFQ 
document. If you want to change some fields later on these line items, use the menu path: 
Edit → Selections → Edit → Adopt + details. Now you can make changes on the line items. 
If you want to select the line items only from the RFQ document, use the menu path: Edit → 
Selections → Edit → Adopt. You can now enter additional line items if required and save the 
document.
The contract will be created in the system. The system also generates a message that can be sent 
automatically if the system is configured or you can send the document externally.
Changing, Cancelling, and Blocking Outline Agreement Document
Before you can think of changing, cancelling, or blocking an outline agreement document, you 
need to make sure that the change notice to the vendor is possible. If the vendor has already made 
deliveries, you cannot change goods quantity less than what was originally agreed. The quantity 
can be made more but not less than the agreed. If an invoice has already been received or paid, you 
cannot change the price of goods, which will not have any effect. For a price change, the vendor 
must send a new invoice.
If you want to stop all users who are involved in creating release orders or making delivery 
schedules against the outline agreement before you make the price or quantity change, you must 
block the outline agreement document. Once the changes to the outline agreement are made and 
affected, you can again unblock the document and the users can perform their activities again for 
the outline agreement.
Use the following menu path to make changes to your outline agreement document: Outline 
Agreement → Contract → Change. Enter the outline agreement document number and press 
Enter. Now you can make your changes to the document such as entering new line items, deleting 
line items, or making changes in field values in any line item. After making changes, you can save 
the document.
When you make any changes in the document, all activities are logged in the log sheet. The 
log sheet shows the time stamp when changes were made, who made those changes, and what were 
changed. To view the log sheet, go to the menu path: Item → Statistics → Changes.
You can delete any line item on an outline agreement only if no deliveries or invoices were 
outstanding for that line item.
Contract
Contract in SAP is a type of outline agreements. Contract is a broad agreement with vendors by 
a customer to purchase goods on a long-term basis. It is more like a template and cannot be used 
to actually purchase goods or services. So in SAP there is a mechanism in which release orders are 
issued against this contract to actually purchase goods or services.
These release orders are a type of PO which reference the contract and take all information 
from the contract. The release orders contain the information of partial material quantity instead 
of total material quantity mentioned in the contract. Similarly, they will not have a validity period, 
and instead they will have a firm delivery date. In case of services, the release order will contain a 
partial value instead of the total value mentioned in the contract.

SAP MM Purchasing Management  ◾  87
The contract contains the information for validity period during which the contract is valid. 
The contract also has information for value limit or quantity of service or material to be supplied 
over the validity period.
In industry and common parlance, the terms such as blanket order, systems contract, and 
period contract are also used for similar concept.
Structure of Contract Document
Like other purchase documents in SAP, a contract document also consists of a header and an item 
overview. The item overview contains line items. Each line item contains the information about 
material to be procured, material group, and material quantity. In case of service contracts, instead 
of material, it is service and service value.
Item categories play an important role in defining each line item as to how it will be procured 
and whether GR, IR, and so on, may be required. Item category types include subcontracting, 
consignment, sales order, external service, and so on. You can learn more about item categories in 
the section “Item category” in this chapter. Account assignment is used to apportion the total cost 
of a contract among various cost objects.
When release orders are issued against the contract, an instance for each release order is main-
tained in the release documentation log. This log is mostly used to calculate the total amount in 
local currency or the total quantity received so far against the contract. This total value indicates 
how much of the contract has been fulfilled and how much still remains.
As explained in the “Outline Agreement” section, contracts are of two types: value contracts 
for services and quantity contract for materials. So each contract always contains either upper 
value limit or quantity limit. Once this limit is reached, the contract is closed.
Again there are two types of contracts based on whether a contract is valid for just one plant 
or for more than one plant. When a local purchasing organization belonging to a plant makes a 
contract, it is valid only for that plant and other plants cannot use it.
But when a central purchasing organization belonging to a company code makes a contract 
with a vendor, this contract is valid for all plants belonging to that company code. This kind of 
contract is known as central contract. In this case, the central purchasing organization is not 
attached to any plant. To take benefit of the central contract, there should be local purchasing 
organizations attached to each plant.
When the purchasing organization does not belong to any company code and instead it serves 
the entire organization represented through a client, it can make contracts with vendors and this 
contract is valid for all plants belonging to all company codes within that client.
Central Contracts
You can create contracts in any SAP system, which are not assigned to any plant. On the contrary, 
if you do not have a central purchasing organization, the local purchasing organization creates the 
contract for the plants that are attached to this purchasing organization. In this kind of contract, 
the plant that will receive the purchased goods is always mentioned.
But when you create a central contract meant for many plants, you do not mention the plant 
in the contract. When any purchase organization creates a release order against this contract, the 
plant that will receive the purchased goods is mentioned.
It is also possible that the price of the material will be different for different plants because 
of their proximity or distance from the vendor site as well as other conditions such as different 

88  ◾  The SAP Materials Management Handbook﻿
taxes applicable to different geographies. To achieve this functionality, you can maintain separate 
price conditions for different plants in the central contract. It is also possible that different plants 
may receive materials from different sites of the same vendor. So we need to maintain many 
addresses of the same vendor. To achieve this, we can maintain many partner profiles of a vendor 
on the main SAP instance where the central contract is located. When a release order is created, 
an appropriate partner profile is selected so that the right address of the vendor is selected in the 
release order.
Partner Roles
Partner roles are well defined in Chapter 3 in the section “Vendor Master.” This section pro-
vides a brief ­discussion  on how partner roles can be utilized with central and distributed 
contracts.
Partner roles (or functions) include the roles of “ordering address,” “goods supplier,” and 
“invoicing party.” These roles are defined in the vendor master in the “Partner Roles” view and 
apply generally to purchasing organization. These roles can also be maintained at plant and vendor 
subrange level. Of all partner roles, a role applicable to a release order against a contract is deter-
mined at the time and the release order is created.
Item and Account Assignment Categories in Contracts
Because contracts are high-level purchase documents (more of a template), specification for mate-
rial, time period, account assignment, and so on need to be kept at group level. Thus, the contract 
can be versatile and the same contract can be used for purchasing similar materials or services. 
When a release order is created against the contract, the buyer may need to give exact specification 
for purchase.
Item categories and account assignment categories help significantly in achieving this goal. 
These aspects are described as follows:
◾
◾Item category “M” is used for procuring similar materials with the same price but different 
material numbers, for example, procurement of different kinds of car tires with almost the 
same price but each having its own material master. Since no material number is entered in 
the contract in this case, you must enter material short text, target quantity, unit of measure, 
and price.
◾
◾Item category “W” is used when the material is known but the quantity or value is 
unknown. In contracts with this item category, you can enter material group instead of 
material ­number. This makes it possible that you can save the contract without price or 
value for the same.
◾
◾Item category “D” is used only for service procurement. With this item category, you need 
to specify the service specification, value, and unit of measure.
◾
◾Item category “K” is used for consignment material.
◾
◾Item category “L” is used for subcontracting material.
◾
◾Account assignment category “U” is used when for any line item account assignment is 
required but cannot be specified in the contract. The account assignment can be specified at 
the time of release order creation against this contract. This account assignment category is 
useful for procuring consumption of materials that have been negotiated with a vendor but 
actual purchasing agreement has not been made yet.

SAP MM Purchasing Management  ◾  89
Distributed Contract
A central contract made by a central purchasing organization that is not attached to any company 
code is good for all plants belonging to all company codes within the client. What if the organization 
has some subsidiaries or due to some legal obligations does not want all companies to be on the same 
client? If these entities are on some other SAP client or SAP box altogether, how can they benefit 
from the central contracts? How can they use the central contract?
Well! In SAP, there is a solution for this kind of scenario. It is known as distributed contracts. Using 
IDOC, the central contract can be copied to these separate SAP instances. Once this central contract 
is available on the local SAP instance, the purchasing organizations attached to these SAP instances 
can use it. One catch here is that the material master, vendor master, purchasing organization, and 
purchasing group on the local SAP instance should be set up exactly the same as the ones located on 
the central SAP system. Distributed contracts are of a different document type than local contracts.
How Distributed Contracts Work
Suppose Mars Corporation has two plants, Plant A and Plant B, on the central SAP system and it 
has a subsidiary called Mars One that has one plant, Plant C, attached to it. Mars One has its own 
SAP instance, which is separated from the central SAP system. Mars Corporation has a vendor V 
and a central contract has been made with V to supply 20,000 units of widget W. A copy of this 
central contract was copied onto the local instance of SAP at Mars One from the central contract 
via IDOC. Exactly identical master data for material, vendor, purchasing organization, and pur-
chasing group were also created on SAP instance at Mars One. Conditions (price conditions) are 
also created for each plant on the central instance of SAP as well as on other instances of SAP.
Plant A requisitioned 2000 units of W and using the central contract received these widgets 
through release order. Then Plant B requisitioned 5000 units of W and using the central contract 
received the requested widgets through a release order. Plant C also made a requisition for 5000 
units of W. Purchasing organization at Mars One used their local copy of central contract to create 
a release order. This release order is sent to the vendor V similar to the way the release orders were 
sent to the vendor from purchasing organization belonging to Mars Corporation. Plant C received 
5000 units of W.
Now let us see the inner workings at the two instances of SAP and how this scenario works 
out. First of all, the central system distributes the contract and conditions and any changes it 
undergoes subsequently to local instance of SAP via IDOC. Whenever a release order is placed on 
the vendor against the central contract, a message is sent to the main instance of SAP where the 
original central contract is placed. This is true for both the release orders generated on the main 
SAP instance at Mars Corporation and the instance of SAP at Mars One. When a release order was 
placed for plant A for 2000 units, the central release order documentation log on the main SAP 
instance got updated. Now whenever any new requisition request for widget W received by the 
main SAP instance, it will check the central release documentation log. So after the release order 
of 2000 units of W by Plant A, 18,000 units of W remain. After the release order of 5000 units of 
W by plant B, 13,000 units of W remain to be requisitioned. After the release order of 5000 units 
by plant C, 12,000 units of W remain to be requisitioned.
You can now see as to how the central release order documentation log is maintained. It will 
have entries for all release orders from all local SAP instances. Release order documentation log 
for local instances is also maintained. Each local release order documentation log will have entries 
for all local release orders issued on its own.

90  ◾  The SAP Materials Management Handbook﻿
Contract Distribution with Classification
Classification system allows you to distribute the contracts from the central SAP system to local 
systems selectively. A contract distribution system with classification ensures that when a new 
local system is added, it starts getting contracts copied automatically. Also if a local system is 
present but the contract is never copied on it, the contract will get copied. A contract distribution 
system with classification also prevents from copying on already existing local system if it already 
has a copy of the contract.
In this arrangement, the central SAP instance first checks whether a copy of the central 
­contract exists on a local system. Only after ensuring that a copy of the contract does not exist, 
it ­copies it there.
It is also possible to make several classes and assign individual local systems to these 
classes. On the central system, if you assign a new contract to a particular class, a copy of 
the contract will be made only on those local systems that are assigned to that particular class. 
No copy of the contract will be made on local systems that are not assigned to that particular 
class.
How to Create Contract Distribution with Classification
First you need to create a class with class type “055” (Contract Class) and assign the class to 
desired logical systems. Once you have assigned classes to appropriate logical SAP systems, you 
can determine the dependencies and filtering of messages between the central system and the local 
systems. Now you can maintain the distribution model in such a way that classes and dependen-
cies between message categories are taken.
For example, suppose you have Plant A and Plant B on the central system and Plant C on a local 
system which is a separate SAP instance. To enable purchasing organization attached to Plant C, 
you have to create a Contract Class “Contract_Class_01.” Later you have to assign Plant C to this 
class (membership to this class). In this case, your filter group will consist of Plant A, Plant B, 
and distribution via class Contract_Class_01. You also have to configure the message category 
MATMAS so that your material master data are linked to this class.
Now you can distribute your contract either to Plant A or B directly or via class Contract_
Class_01 to plant C. To assign a contract to a class, use the menu path: Header → Details → 
Contract → Classify. Via the class, the contract will be copied to the purchasing organization on 
the local SAP instance.
You can assign several classes to a contract as well as several systems to a class. Thus, you can 
model your contract distribution system that is very flexible and convenient.
Contract Release Order
Contracts are just agreements to procure materials or services from a vendor with an upper limit 
on quantity or value and within a validity period. POs are created against this contract and sent to 
the vendor to actually purchase the material or service with specified delivery dates. These POs are 
referred as release orders in SAP. In industry, these documents are also known as blanket release, 
contract releases, call-off orders, and so on.
You need to know the contract number to create a release order. You will specify the delivery 
date and quantity or value on the release order. All information such as vendor, vendor address, 
and price is adopted from the contract.

SAP MM Purchasing Management  ◾  91
On the release order, you can specify additional line items apart from the line item consisting 
of release order against the contract. This is useful when you want to return some material to the 
vendor that is defective.
Scheduling Agreement
Scheduling agreements are a type of long-term agreements with a vendor to procure goods at 
regular (fixed) intervals within a validity period. The time intervals or exact dates, as well as the 
partial quantity to be procured on those dates or intervals, are fixed in the agreement. Scheduling 
agreements are a type of outline agreements in SAP.
Contracts are like a template, and thus, release orders are to be made to actually do ­procurement. 
In contrast to the contracts, scheduling agreements are concrete purchase documents. They 
­contain all information to actually do a purchase. In form and content, they are more like POs 
with scheduling lines.
Advantages of Scheduling Agreements
Scheduling agreements reduce purchase cycle time and allow a paperless procurement process. One 
scheduling agreement can replace a large number of discrete POs or even contract release orders.
Scheduling agreements are particularly useful for manufacturing industries where just-in-
time (JIT) manufacturing principles can be easily adopted. The vendor also needs less time in 
preparing and making deliveries. He gets a firm delivery plan in form of schedule lines well up 
to long periods in future, and he knows when and how much material he needs to supply. The 
buyers do not have to devote much time on a scheduling agreement as the process is almost 
automatic. If you are using SAP PP component or SAP APO, the system can automatically 
create MRP or master production schedule (MPS) and can subsequently be converted into a 
scheduling agreement either automatically or manually.
If you want to work with JIT schedules, you must check “JIT delivery schedule” indicator in 
material master. This indicator must also be checked in the additional data view for scheduling 
line items in the scheduling agreement. If the schedule lines in the scheduling agreement need 
to be generated automatically, the source list for the material must be maintained and MRP 
indicator be checked.
Item and Account Assignment Categories in Scheduling Agreements
Since scheduling agreement documents are complete purchasing documents and can be used 
directly to procure from vendors, item and account assignment categories are used directly for the 
material and not for the material group. Item categories used are subcontracting, consignment, 
standard, and stock transfer.
Procurement Types in Scheduling Agreements
Procurement types used for scheduling agreements are subcontracting, consignment, standard, 
and stock transfer. In case of subcontracting, you can create schedule lines that can be used by the 
subcontractor to deliver goods, and at the same time, you can issue goods to the subcontractor so 
that he/she can process them and return them back to you.

92  ◾  The SAP Materials Management Handbook﻿
A Scheduling Agreement Document Structure
Scheduling agreement documents consist of many line items. Each line item has an item category, 
an account assignment category (if required), a material number, a material quantity, a unit of 
measure, a plant, a storage location, a number of schedule lines, and so on. The total quantity of 
material as per the agreement is spread over on these schedule lines with firm delivery dates. Price 
conditions can apply both at document and at line item level.
A scheduling agreement can be worked with or without release documentation. Without 
release documentation, the scheduling agreement is fairly automatic. When you save the schedul-
ing agreement, a message is created and sent to the vendor. In case of scheduling agreement with 
release documentation, you can change scheduling lines without ever sending any message to the 
vendor. A message will be sent to the vendor only when you create a release.
Use or no use of release documentation depends on document type. If release documentation is 
applied, any buyer can refer the documentation to see whether the vendor complied with schedule 
and what was his performance in delivering as per the schedule. The document type of the sched-
uling agreement with release documentation is “LPA” and without release documentation is “LP.”
Creating Scheduling Agreements
You can create scheduling agreement either manually or using an existing PR, RFQ, contract, or any 
other scheduling agreement as a reference document. Apart from creating scheduling agreements 
with vendors, you can also create stock transport scheduling agreements with your own plants.
Before starting to create a scheduling agreement, you must have account assignment data, 
account assignment category, purchasing organization, and purchasing group.
To create scheduling agreement manually, use the menu path: Easy Access → SAP Menu → 
Logistics → Materials Management → Purchasing → Outline Agreement → Scheduling Agreement 
→ Create. On the initial screen, enter the necessary data. In the Agreement Type field, you will have 
to specify whether you want a scheduling agreement with or without release documentation. In the 
standard system, LPA (with release documentation) and LP (without release documentation) options 
are available. Your company can define and use customer-specific agreement types as well.
Once you press Enter, the Header screen appears. Enter the duration of the scheduling agree-
ment and other data such as terms of payment and header conditions.
After pressing Enter, the Item Overview screen appears. Enter all the required data such as 
material number, target quantity, price, plant, account assignment, and conditions (if required). If 
you are entering a material without a material master, enter the material short text, material group, 
and account assignment apart from other data.
Once your line items are created and saved, you can go to item details of any line item by using 
the menu path: Item → Details. Enter the conditions for line items (discounts, surcharges, etc.) 
by using the menu path: Item → Conditions. Also enter any additional data if required and save 
the document.
When you save the scheduling agreement document, a message is generated, which can be sent 
to the vendor.
Time Zones in Schedule Lines in Line Items in Scheduling Agreements
Each line item in the scheduling agreement contains multiple schedule lines. These lines are either 
entered manually or generated automatically from MRP/MPS planning components.

SAP MM Purchasing Management  ◾  93
Schedule lines coming out of MRP/MPS planning components can be forecast or JIT 
­schedules. Thus, fresh schedule lines are mostly planned data for future requirements. When date 
and time mentioned in these schedule lines fall near procurement cycle start, these schedule lines 
are firmed up, and subsequently the vendor sends delivery against these schedule lines. Based on 
these scenarios, the schedule lines can be categorized into three time zones.
	
1.	Firm zone (zone 1)—go ahead for production. The schedule lines in this zone are considered 
to be binding on the vendor, and the customer and vendor will send delivery against the 
schedule lines. If the customer cancels any schedule lines in firm zone, he/she will have to 
pay the vendor for the costs associated with production and the procurement for making his/
her material.
	
2.	Trade-off zone (zone 2)—go ahead for procurement of input materials. When the schedule lines 
fall in this zone, the vendor can go ahead for procuring his/her input materials so that he/
she can manufacture the materials required by the customer. If the customer cancels any 
schedule line in this zone, he/she will be liable for procurement cost incurred by the vendor.
	
3.	Planning zone (zone 3)—forecast. All schedule lines that do not fall within zone 1 or 2 fall in 
this zone. The schedule lines in this zone are future procurement requirements and ­tentative. 
Customer can make changes in schedule lines here without incurring any liability with the 
vendor.
To define a zone for a scheduling line, select the line item for which you want to define delivery 
schedule time zones and use the menu path: Item → More Functions → Additional Data. You 
will see two fields on the additional data screen: Firm Zone and Trade-Off Zone. Here you need 
to enter the number of days in each field. The system will then find which schedule lines will fall 
in which zone as of today’s date. For example, suppose you enter 6 in Firm Zone field and 5 in 
Trade-Off Zone field. If today’s date is January 5, 2013, all schedule lines that are in the time zone 
of January 12–17 will be in Trade-Off Zone. All schedule entries beyond January 17 will be in 
Planning Zone. Entries from today (5th January) to January 11 will be in Firm Zone.
There is one more field on this screen “Binding on MRP.” If you check this box, the MRP 
program cannot change the schedule lines that fall within the Firm and Trade-Off zones. Once 
you have defined your fields on this screen, save you data.
Scheduling Agreement Release
Scheduling agreement release (SA release) creates a release documentation that is very useful to the 
buyer. The release documentation helps buyers to see which schedule lines in the Firm zone have 
been transmitted to the vendor during the last accounting period. The buyers can then check GRs 
against these released schedule lines and find out if any inconsistency exists. If any inconsistency is 
found, it can be corrected. SA release contain finalized information from the vendor about mate-
rial quantities and exact delivery dates.
There are two types of SA release: forecast delivery schedule and JIT delivery schedule. 
Forecast delivery schedule is a long-term plan for the vendor so that he/she can plan for pro-
curement and production of the required material for the customer. The delivery dates here 
are approximate and are mentioned in terms of weeks or months. The JIT delivery schedule is 
the exact requirement of the customer, and thus contain exact material quantities and delivery 
dates. The delivery dates are mentioned in terms of exact date and optionally exact time on the 
given date.

94  ◾  The SAP Materials Management Handbook﻿
SA release can be activated by choosing the document type LPA (SA schedule with release). For 
JIT delivery schedule, “Activate JIT schedule” should be checked in Material Master Purchasing 
or MRP2 view.
SA release information is available in the standard SAP system via EDI message, fax, hard 
copy, or mail. It is also possible for the vendor to access SA releases via the Internet. To enable the 
Internet messaging system, you need to implement the vendor workplace module of SAP.
Messages for SA Release
When you work with SA release, you have to send message to the vendor about JIT and forecast 
schedules regularly. Depending on the customization in your system, a message can be generated 
and sent to the vendor on each SA release item or one message for all release items.
Scheduling Agreement with Centrally Agreed Contract
The benefit of scheduling agreements is that you can plan with your vendor well in advance so that 
your vendor knows when and how much material or components you need in near as well as in far 
future. This makes sure that even when the vendor may need considerable time in procurement 
and production of material you need, he/she will be ready to fulfill your needs and your produc-
tion plans are not halted because of want of procurement.
The limitation of scheduling agreements is that they are for local procurement. You cannot do 
procurement centrally for all of your plants using scheduling agreements.
However, you can mix the advantages of scheduling agreements with the advantages of central 
procurement using centrally agreed contracts. You can reference a centrally agreed contract to 
create a scheduling agreement with a vendor. The conditions of the centrally agreed contract from 
the reference purchasing organization are used by local purchasing organizations to create sched-
uling agreements for their respective plants. Thus, the prices negotiated with vendors through the 
central contract are carried to scheduling agreements for local procurement. Make sure that the 
conditions used in scheduling agreements are time dependent.
To create a scheduling agreement with reference to a contract, use the menu path: Outline 
Agreement → Scheduling Agreement → Create → Vendor Known. After filling information on 
the initial screen and clicking on the submit button, you will be taken to the scheduling agreement 
main screen. You can now create your scheduling agreement.
Purchase Order
PO can be adopted or created manually or with reference from PR, RFQ, contract, or schedul-
ing agreement. A PO contains all the information that is required for completing formalities of a 
purchase.
In the classic example, a purchase department of the customer organization creates and 
sends a PO to a vendor. The vendor receives the PO and sends the requested material as per 
the quantity and date of delivery requested on the PO. The customer organization receives the 
material as well as the invoice sent by the vendor and then verifies the invoice. After invoice 
verification, the customer makes payment to the vendor. Once settlement completes, the PO 
closes.

SAP MM Purchasing Management  ◾  95
In reality, however, there are many variations to the classic example. For instance, in some 
cases, a PO can act like a contract where, instead of a delivery date, a delivery period can be 
defined in the PO so that goods can be scheduled to be delivered over a span of time.
Organizations procure goods and services in a variety of ways. Procured materials can be 
consumed immediately or can be put into stock and consumed later. Sometimes customers never 
manage inventory themselves so they ask the vendors to manage the inventory up to the produc-
tion shop floor. This is known as vendor managed inventory (VMI) or consignment. In some 
cases, the customer procures goods or services not for himself but for his customer. This kind of 
deal can be termed as a third-party transaction. In some other cases, the customer can procure 
goods and issue them to a subcontractor. The subcontractor processes these goods and makes some 
assets, and hand these assets back to the customer.
 POs can help organizations to procure goods and services in a variety of ways. There are many 
ways any organization procures goods and services externally as well as internally. When a vendor 
supplies goods or services, the procurement is external. When another plant or storage location 
belonging to the same organization can fulfill the procurement requirement, the procurement is 
internal. In both cases, you can use a PO for your procurement.
A PO has a complete life cycle. First, it is created and transmitted to the vendor. The vendor 
supplies the required goods and services. The customer then receives the goods or service, makes an 
invoice for payment, and finally pays to the vendor. The PO is updated in all these transactions. Once 
payment is made in full, the procurement cycle completes. The PO is also closed and later archived.
Procurement Types in PO
In SAP, procurement types of consignment, subcontracting, standard, stock transfer, and external 
services are supported for POs.
A procurement type can be defined for each line item in a PO. Each line item can have a 
schedule where partial material quantities out of the total agreed quantity can be spread over many 
delivery dates.
◾
◾In case of standard type procurement, both GR and IR are possible.
◾
◾In case of consignment type procurement, no account assignment is required for the line 
items. Consignment stocks are managed separately from company stocks and are not 
valuated.
◾
◾In case where line items are being supplied back from the subcontractor, you need to specify 
the required input materials at planned delivery dates to the subcontractor so that the sub-
contractor can process or assemble.
◾
◾In case of external service type procurement, the customer engages a vendor to perform a 
service in the specified time period. In this case, instead of a material, the line item contains 
a specified service that needs to be performed. Instead of price, a service is provided with a 
value. A service specification may consist of a schedule in a hierarchical structure. This struc-
ture is referred as a service outline. The outline consists of a number of levels. Each service 
line or level will have a job to be performed and its schedule and the value. In cases when the 
complete service outline cannot be correctly broken down into service levels, a value limit 
for the entire service can be specified.
◾
◾If the service itself is part of a service contract and being released against the contract, a value 
limit for this entire service can also be specified.

96  ◾  The SAP Materials Management Handbook﻿
The price conditions can be applied at the PO document level and even at line item level. In case of 
services, the condition can also be applied at the third level where service jobs or tasks are specified.
Account assignment in the PO document is done as per setting in the system. If the PO is 
subjected to a release (approval) procedure, the authorities must release the PO. Only after the PO 
is fully released, it can be transmitted to the vendor.
PO Creation Scenarios
You can create a PO in different ways. If you know the vendor for whom the PO is being created, 
you can use the transaction code ME21N to create a PO manually. It is also possible to create a 
PO referencing an existing PO, outline agreement, or PR.
If you do not know the vendor, you can search the vendor in the system. The system 
­suggests the possible vendors, and then you can choose the vendor who is most probable for 
the PO.
You can manually create PO from the assigned PR to your purchasing group that has already 
been assigned to a vendor.
In case of VMI, you can create PO based on EDI message from the vendor about how much 
material has been consumed by your organization.
Prerequisites for Creating PO
Before you can create PO, you should have delivery date, account assignment category and account 
assignment data (in case of consumable material), material number (or material description, 
account assignment information, and material group), MPN material number (if MPN material 
number is required), plant, storage location, external number (if using external number for PO), 
material price, and vendor.
PO with Zero Value
If a material is to be delivered free of cost, you create a PO for this material in the same way you 
create for any normal delivery. The only difference is that in the Item Overview, you need to check 
“Free of charge” indicator. When you do this, invoice will not be generated for this material.
Important Considerations in PO Life Cycle
PO that is already created and fully paid is closed after it has completed its life cycle. But before 
closing the PO, you need to check and ensure that indeed all line items and the PO itself have no 
open-ended issues left.
Sometimes a PO needs to be changed due to wrong data entered. In some other instances, a 
PO needs to be blocked when some commitment has not been fulfilled. To take care of some of 
the real-life problems during processing of a PO, in SAP there are some unique features that help 
in circumventing these problems.
If any change is being done by the customer in the PO that has already been sent to the 
vendor, a change notice is generated in the system and a message is outputted and sent to 
the vendor.

SAP MM Purchasing Management  ◾  97
If goods have been delivered in full or partially by the vendor against any line item in the PO 
and now if you want to make changes in the PO, you still have some options. If you want 
additional quantity of material than what was mentioned in the PO, you can do this change 
and a change notice will be generated and sent to the vendor. However, you cannot reduce 
the quantity of material on the PO than what was mentioned originally. If goods have 
already been received in full and invoice has been settled, there is no option for you to make 
any changes in the PO.
To make sure that all your closed POs have no open issues, you can always open the PO archive 
and check for errors.
Cancelling a PO
You can cancel a PO after receiving partial goods if you no longer need more material anymore. 
For instance, you made a PO for 20 pieces of a material and you have already received 20 pieces. 
Now you no longer need five more pieces of the material. In this case, you can change the PO and 
cancel the remaining five pieces.
One aspect that needs to be taken care of when you cancel the PO is to make sure that the 
material quantity on GR and IR tally with the material quantity mentioned on the PO. Suppose 
you actually received 21 pieces and the invoice is for 19 pieces. In this case, you can cancel only 
four pieces and at the same time you need to pay for two pieces.
In another scenario, suppose you have received 19 pieces and so far received invoice for 
21 pieces. In this case, you can cancel five pieces and still you can receive one more piece. Here 
again you will need to pay for two additional pieces.
The change notice of the PO will be sent to the vendor.
Blocking a PO
You can block a PO if you do not want to receive goods for this PO. You can block individual line 
items of a PO where no goods or invoices have already been received.
To block a PO, go to the menu path: Purchase Order → Change. On the initial screen, enter 
the PO number and press Enter. The Item Overview screen will appear. Select the line item you 
wish to block and then choose the menu path: Edit → Block. The system will insert “S” in the 
column “D” of the line item. Finally, you save the PO.
Monitoring a PO
You can monitor any PO from the PO archive. The archive contains all the information for the 
entire life cycle of the PO. Even the documents that are related to a PO (invoices, GRs, etc.) are 
also linked to the PO.
Some of the views available with a PO include invoices and their clearing values, quantity in 
blocked stock, delivery costs, assignment of GR and IR documents in case of GR-based invoice 
verification, and so on.
Using analyzing capability of the PO history functionality, you can list a range of material 
numbers, purchasing groups, requirement tracking numbers, material groups, and so on. All 
POs with account assignments for any cost center or any other cost object can also be listed and 

98  ◾  The SAP Materials Management Handbook﻿
analyzed. The total values of POs for any criteria (account assignment, material, etc.) can also be 
displayed and analyzed.
Archiving of PO
It is important to understand the terminology associated with history, closing, or archiving of 
POs. All these concepts have important differences among each other.
PO history is used and available when the PO is still not closed. It can be invoked 
using the menu path: Item → Statistics → PO History. When all line items of a PO are closed 
after GR and invoice verification and the PO no longer has any open quantities, the PO is closed.
The closed POs are still available in the system with open POs and can be opened and ana-
lyzed. You need to deactivate a PO to archive it. Inactive POs are deactivated periodically by the 
system administrator, who deactivates a PO when all items of the PO are cancelled or the ordered 
quantity has been delivered and invoiced or the “Delivery Completed” indicator in the PO is 
set. The deactivated POs can be archived using the menu path: Purchase Order → Follow on 
Functions → Archive.
Once a PO is archived, it still remains in the system. It can then be archived on an optical 
archiving system using SAP ArchiveLink.
PO with Enjoy Interface
Using the personal settings and document overview, you can set up your working environment to 
work on your POs.
GR-Based Invoice Verification
Invoice verification can be done against either the PO or the GR. In GR-based invoice 
­verification, the invoice relates to the individual deliveries and not to PO. In such cases, the ref-
erence document is not the PO but the delivery note or the GR document (material document). 
GR-based invoice verification is useful when a PO consists of many partial deliveries.
In GR-based invoice verification, you should check the “GR-based IV” indicator in the PO for 
the relevant line item. To ensure that each delivery is against the relevant PO, please check the PO 
number on each GR document. The PO number should be the same for all deliveries linked to the 
particular PO. Also check that the total delivered quantities tally with the quantity on the PO. In 
customizing, ensure that the “delivery completed” indicator is also configured correctly so that 
whenever a delivery is done against the PO, the PO itself gets updated correctly and the “delivery 
indicator” invokes when the total quantities delivered tally with the quantity mentioned on the PO.
Returns
Returns can happen from many sources. Origin and destination of goods in a return process differ 
greatly as follows:
	
1.	Return from consumer to retail store
	
2.	Return from retail store to external vendor

SAP MM Purchasing Management  ◾  99
	
3.	Return from retail store to manufacturer distribution center
	
4.	Return from external customer
	
5.	Return from distribution center to external vendor
When the return is from external consumer, the return process is handled in SAP SD—Billing. When 
the return is from retail store consumer, the return process is handled in SAP IS—Retail. When the 
return is to the vendor, on the PO you can check “R” indicator on the line item that represents 
the return. You can use the same PO where you receive goods from the vendor at the same time you 
enter return items to the vendor. When invoice verification is done, the return items appear as negative 
stock in the invoice. If shipping is also required for returns, you can specify it on the PO line item.
Invoicing Plan
Invoicing plan is a facility in SAP by which the invoicing schedule dates are planned and executed 
independently of GRs of services or materials. Invoicing plan lists the dates on which you can 
create and pay invoices. It allows you to invoice and pay to the vendor instead of waiting for the 
vendor to send invoices. The system automatically generates invoices based on the data available 
on the POs already sent to vendors.
There are two types of invoicing plan available in SAP: periodic and partial.
Periodic Invoicing Plan
Periodic invoicing plans involve invoice generation and payment to the vendor on a regular time 
interval, for instance, a monthly invoicing plan. Here the invoice is generated at the end of each 
month (due date), and all POs issued during the month are counted and a total value of all these 
POs is calculated. The invoice includes payment for this total value.
Generally, periodic invoicing plans are used in cases where a vendor is contracted to do a regular 
servicing (e.g., maintaining/cleaning office buildings) or a regular supply of material (e.g., office 
supplies). Rental, leasing, or subscription of services can also be covered by periodic invoicing plans.
Evaluated receipt settlement (ERS) mechanism is used for periodic invoicing plan in SAP. This 
process is automatic in which invoice creation and settlement of payment take place in the invoice 
verification process.
You can also customize to generate the due date by the system or you can enter the due date 
manually each time.
Partial Invoicing Plan
For large projects, the payment terms include partial payment at the start, at the completion of 
certain percentage of project (e.g., 60% completion), and at the end of the project. For instance, 
the payment term of a project is 30% payment at the start, 20% payment at 50% completion, 
and rest 50% payment at the completion of the project. In such cases, a partial invoicing plan 
is used.
In a project plan, there are tasks that contain information such as start date, end date, resources 
required, and cost. Based on these data, the percentage of project completion on any given date 
can be computed. When the project starts its execution, it is possible to track whether on any given 

100  ◾  The SAP Materials Management Handbook﻿
date how much of the project will actually get completed. So if any partial invoices are planned 
during execution of the project, these invoices can be raised on these due dates or the actual date 
of completion of those tasks. Payment for these invoices can be done after verifying the progress 
of the project.
It is also possible to flag the due dates as advance payments. Thus, the amounts in advance pay-
ments do not have certain percentage completion of project tasks as a requirement. When invoices 
are raised as advance payments, invoice verification is not needed. In fact, when the tasks get com-
pleted for which the advance payments were made, the invoice can be verified either at completion 
of the entire project or after completion of the task. At the same time, when invoice is raised at 
completion of certain percentage of the project and if this task against which advance payment is 
already made also falls into this invoice, this task and the payment for it are not included in the 
invoice.
The concept of advance payment against certain task is tightly integrated in partial 
invoice planning. So there will be no chances that for one task in the project, payment is made 
twice (advance payment plus payment at completion of task; if advance payment is already 
availed).
The PO line item for a project will always contain schedule lines for taking care of partial pay-
ments over time. The sum total of the values of the project is thus broken down into many partial 
payments.
Important Considerations for Invoicing Plans
The PO of “FO” type is used to work with invoicing plans. An extended validity period and the 
reasons for cancellation are defined in the header of this type of PO. The extended validity period 
feature is used to plan for invoicing. However, if you are using a standard type PO, you will have 
to maintain date determination rules as this type of PO does not have an extended validity period 
that can be used to define invoicing plan.
If you want automatic settlement with invoicing plans, you must check “Evaluated Receipt 
Settlement” indicator in vendor master record for the vendor. If you want to enter the invoicing 
dates manually, you need not check the indicator.
PO line items for which you are using invoicing plans must have an account assignment irre-
spective of whether it is for a material (with or without material master) or for a service.
The GR/IR facility must be set up so that no GR is required at the time of invoice settlement. 
This is done in the Item Detail of the PO line item.
Automatic Settlement of Invoicing Procedure
You can do it using the menu path: Easy Access → SAP Menu → Logistics → Materials 
Management → Logistics Invoice Verification → Automatic Settlement → Settle Invoicing 
Plan. On the selection screen, enter the company code, plant, vendor, purchasing document 
number (PO number), and line item. Now you can choose the mode of invoice document by 
selecting per vendor, per purchase document, or per PO item. Now you can start settlement 
accounting process either online or in the background. Before actually doing settlement, you 
can also do simulation to see if everything is set up correctly. To do so, check the “Test mode” 
indicator on the screen.
While running the settlement, an error log is created. After running the settlement, if you 
want to see the errors and rectify them, you have to refer to this error log.

101
Chapter 5
SAP MM Inventory 
Management
Introduction to Inventory Management
In any organization that procures, processes, or sells goods, inventory management (IM) is used 
in some form or other. Goods need to be received, stored, and issued for various purposes. While 
storing, goods need to be kept in bins in such a way that when required for goods issue (GI), it will 
be easy and convenient to do so. For goods that have a shelf life (expiry date), it is important to 
keep them in batches so that all goods with the same expiry date are kept at one place. Similarly 
batch-produced goods needs to be kept in batches so that goods from one batch is not get mixed 
with another batch. The quality of one batch differs from that of another batch.
IM in SAP starts either from material requirement planning (MRP) order or from manually 
created purchase requisitions (PRs). These MRP orders or PRs are then converted into purchase 
order (PO) or production order. Goods purchased or produced internally based on these POs or 
production orders will then be received at storage locations. These goods are then issued for vari-
ous kinds of consumption or restocking.
During purchasing, two documents are created in SAP: one document for financial transac-
tion (invoice) and the other document for stock management (material document). Based on the 
invoice document, the customer (manufacturer) makes payment for the goods purchased from the 
supplier. Based on the material document, the stock for a particular storage location gets increased 
for the amount mentioned in the material document.
IM includes activities such as managing goods receipts (GRs), GI, stock control, physical 
IM, goods return management, batch management, expiry date management, material valua-
tion, and stock transfer. For GI, reservation in the existing stock of any material is used so that 
stock control is done efficiently. It is because there are many sources where specific amounts of 
a particular material may be needed and allocation of these amounts of material to all required 
sources must be controlled. Otherwise some activities may be hampered due to unavailability of 
material, and at the same time, material may be kept unused at some other locations. Making 
a reservation in the stock of a material at a storage location for specific requirement solves these 
problems.

102  ◾  The SAP Materials Management Handbook﻿
Inventory Management in a Nutshell
IM for stock items starts from MRP. For consumable items, manual PRs is the starting point.
MRP
Financial accounting
Financial
accounting
Consumption/
sales
Inventory/warehouse
External
procurement
Invoice receipt
Invoice
veriﬁcation
Goods receipt
Goods
issue
Transfer
posting
Internal procurement
(stock transfer)
In MRP, you can define whether the required material can be procured from external sources 
(to buy) or can be procured internally (produced). If the required material needs to be purchased 
through GR, the material defined as a stock item can be received at a storage location, whereas 
the material defined as a consumable item can be received at a defined receiving location.
Integration Points
The IM component of SAP materials management (MM) is integrated with other SAP modules as 
well as its subcomponents. The touch points are as follows:
	
1.	SAP MM. IM (SAP MM–IM) is integrated directly with MRP, purchase, and invoice veri-
fication. SAP MM–IM provides information to MRP so that MRP gets information about 
physical stock position as well as all planned material movements (goods requirements and 
GRs). When a material is ordered from a vendor, IM posts the delivery as a GR with refer-
ence to the PO. The vendor invoice is processed later by invoice verification. Here, the quan-
tities and values from the PO and the GR document are checked to ensure that they match 
with those in the invoice.
	
2.	Controlling (SAP CO). When any inventory movement happens through movement type, 
the material gets connected to the cost center through automatic account assignment.

SAP MM Inventory Management  ◾  103
	
3.	Financial accounting (SAP FI). Whenever an inventory movement happens (GR, GI, or 
stock transfer), a financial document is made. At the same time, through account assign-
ment, the general ledger (G/L) account is debited for the storage location from where the 
goods are received and the G/L account is credited for the storage location from where goods 
are issued.
	
4.	Sales and distribution (SAP SD). Material requirement arising due to sales is linked to 
IM through creation of delivery against a sales order. Delivery quantity is deducted 
from the total stock when the GI is posted. Availability check for material when a sales 
order is being booked directly gets connected to IM. It is also possible to create sales 
order stock.
	
5.	Production planning (SAP PP). Production orders created by the SAP PP module (using 
MRP or any other program) can be linked to a GI when in-house production of any mate-
rial fulfills that production order. Thus, IM is responsible for staging of the components 
required for production orders. The receipt of the finished products in the warehouse is 
posted in IM.
	
6.	Quality management (SAP QM). The QM in procurement component is integrated with 
material by quality check of the material before the material can be issued or a GR to a stock 
can be made. When a quality check is required, a corresponding activity is initiated in the 
QM system.
	
7.	Plant maintenance (SAP PM). It is possible to post goods movements with reference to 
­equipment bill of materials (BOMs) that are part of SAP PM and to withdraw parts for 
maintenance orders. When serial number management is active, the individual serial num-
bers are entered in case of every goods movement. Serial numbers are managed in the PM 
system.
	
8.	Logistics information system (SAP LIS). With the inventory controlling component, the LIS 
offers a tool for collecting, compressing, and evaluating IM data.
	
9.	Warehouse management (SAP WM). Inventory movements originate in SAP IM, and 
when SAP WM is implemented, move over to SAP WM. So when a GR happens for a 
­material that is procured from a vendor, the GR is done in SAP IM. Then this material is 
moved into SAP WM using transfer orders. Similarly when GI for a production order is 
made, it is entered into SAP IM. Through transfer order, the request for goods is entered 
into SAP WM.
Similarly, IM part of SAP MM module is integrated with other SAP modules such as SAP human 
capital management (SAP HCM) and SAP advance planning and optimizer (SAP APO).
Stock Item versus Consumable Item
In organizations, goods are either bought for stocking or consumed immediately without the 
need to store them. For instance, spare parts of an equipment used in manufacturing need not 
be stored. So when a spare part is needed for this equipment, it can be bought and used immedi-
ately. Similarly when a project is undertaken to build some assets, the material required to build 
the assets can be bought and used immediately. These materials need not be stored and later 
consumed.

104  ◾  The SAP Materials Management Handbook﻿
But in manufacturing, a large quantity or number of items are needed either continuously or 
in batches. So these materials get consumed regularly and are needed almost continuously month 
after month and year after year. Procurement of these materials may have some lead time. Keeping 
a stock of these materials at a manufacturing site makes sense; otherwise manufacturing lines may 
get stopped for the need of these materials.
In SAP, a distinction is made between stock items and consumable items because in SAP 
account assignment for buying transaction of these two types of items is different, which is dis-
cussed in detail in the section “Account Document.”
Account determination and debit flow for consumable items are as follows:
	
1.	PO Creation → Debit account to be mentioned on PO
	
2.	Goods Receipt → No account determination as no movement type is defined
	
3.	Invoice Verification → Account determination and debit from account
Account determination and debit flow for stock items (valuated) are as follows:
	
1.	PO Creation → Debit account not to be mentioned on PO
	
2.	Goods Receipt → Account determination from movement type defined
	
3.	Invoice Verification → Debit from account
Account determination and debit flow for stock items (nonvaluated) are as follows:
	
1.	PO Creation → Debit account to be mentioned on PO
	
2.	Goods Receipt → No account determination as the item is nonvaluated
	
3.	Invoice Verification → Account determination and debit from account
Movement Types
In SAP, a concept called movement type deals with material movements when transactions hap-
pen. Any material can be received by the customer, when it is sent by the vendor. Similarly from 
a stock lying at any storage location, a material can be issued for consumption or for transfer to 
another plant or storage location.
There are also cases where there is no physical material movement but status of the material 
gets changed. This happens, for instance, when a material is allowed for unrestricted use after 
quality inspection. Here, the material was in a blocked status due to a pending quality inspection. 
After quality inspection is done and if the result shows that the material quality is within the 
norms, the material can be used by using the SAP function of transfer posting.
For each of these movements, some entries need to be done in either material document or finan-
cial document or both. In SAP, movement types help in doing all kinds of inventory transactions 
associated with movement of inventory. Movement types are denoted by a three-digit number. A 
large number of movement types are already defined in the standard SAP. Customers can also define 
and use their own movement types apart from these available movement types already defined.
Movement type 101 is used for GRs of all kinds of POs. Movement type 201 is used for GI to 
a cost center. Movement type 321 is used for release of stock from quality inspection stock.
Movement types play an important role in updating the quantity fields on all documents that have 
material quantity fields, whenever stocks of that material get updated due to any material movement. 

SAP MM Inventory Management  ◾  105
Movement types also help in updating stock and consumption accounts. On any purchasing or ­IM 
document, movement types help in determining which fields are displayed.
When a goods movement is posted, the following will happen in the system:
◾
◾A material document is generated, which is used as proof of the movement and as a source 
of information for any other applications involved.
◾
◾If the movement is relevant for financial accounting, one or more accounting documents 
are generated.
◾
◾The stock quantities of the material are updated.
◾
◾The stock values in the material master record are updated, as are the stock and consump-
tion accounts.
◾
◾Additional updates are carried out in participating applications if they are connected. All 
these updates are based on the information contained in material and accounting documents.
Material Document
In the IM system, when a goods movement is posted, a material document is generated, which 
serves as proof of the movement and as a source of information for any applications that follow. 
A material document consists of a header and at least one item. The header contains general data 
about the movement (e.g., its date). Each item describes one movement.
Once you have posted a goods movement, you can no longer change the document. You can 
only enter additional information in the document, such as the reference to the original docu-
ment, or a comment on the event. If you want to reverse the movement or change the quantity of 
material moved, you must enter a new document. A material document is identified by a docu-
ment number and the material document year.
You can change, display, or cancel a material document. Changes on a material document can 
only happen for entering additional information or for printing GR/GI for the material document. 
Sometimes, after saving a material document, you realize that you entered wrong information on 
the document. Once saved, the material document cannot be changed. In these cases, you will 
need to cancel (reverse) the material document. You can reverse a material document in two ways: 
you can reverse the material document referencing the original material document or you can 
reverse without referencing the original material document. The advantage of reversing the docu-
ment with reference is that you can copy the values in the fields in the original document to the 
reverse document. Reversals of GIs, transfer of postings, and GRs without reference in the system 
are posted with the value of the original document.
Reversals of GRs with reference to a PO or production order are posted with the value speci-
fied in the PO/production order. You can also reverse a material document using reversal move-
ment type. In this case, you do not reference an already available material document. Instead, you 
enter all data manually. As there is no reference to a material document, the system redetermines 
the value of the posting. If the material price has been changed, the new material price is used, for 
example, for a GI reversal.
To create a reversal material document with reference to a material document, use the menu 
path Material Document → Cancel from the Inventory Management menu. To create a reversal 
material document with reverse movement type, use the menu path Goods Movement → Goods 
Issue from the Inventory Management menu. On this screen, enter reversal movement type 202 
and all data required for document reversal.

106  ◾  The SAP Materials Management Handbook﻿
Accounting Document
If the movement is relevant for financial accounting (i.e., if it leads to an update of the G/L 
accounts), an accounting document is created parallel to the material document. In some cases, 
several accounting documents are created for a single material document. This might be the case, 
for example, if you have two material document items with different plants that belong to different 
company codes.
The G/L accounts involved in a goods movement are updated through an automatic account 
assignment.
For GRs of the POs, goods movements for stock transport orders (STOs), and consignment 
withdrawals, business partners may have different local currencies.
Therefore, in addition to the local currency, the accounting document must also contain 
another currency for processing and postings. For this purpose, accounting documents created 
as a result of these goods movements will automatically be managed in the local currency and 
the document currency. You can switch between both currencies by choosing the menu path: 
Settings → Currency display.
An accounting document is identified by the company code, the document number, and the 
fiscal year.
Quality Management in Inventory Management
In IM, QM component of SAP works at two places: during the receipt of goods after purchase 
(procurement) and before GI by way of material inspection.
If QM is active for procurement, when goods receiving is being performed, the system asks for 
a quality certificate. If certificate is issued and entered in the system, GR is possible. In the material 
master itself, this quality certificate is defined and the user can activate it.
If QM is active at the time of GR, an inspection lot is automatically created during GR posting. 
Only after the quality is verified, you can do GI. In such a situation, the material is not posted into 
unrestricted lot at the time of GR, but instead it is posted into a blocked stock. Only after inspec-
tion result, it can be transferred into unrestricted lot by way of a transfer posting.
Material Status
In SAP, any material can be in a state of the following:
◾
◾Unrestricted-use stock: If material is in this state, it can be used and transferred.
◾
◾Blocked stock: This is a state above unrestricted-use and inspection stock. From blocked 
stock, any material can be transferred to either inspection or unrestricted-use stock.
◾
◾Inspection stock: When an inspection of a material is required, it is put into inspection stock.
Goods Movements in SAP MM–IM
In SAP, materials movements are handled in the form of GRs, GIs, stock transfers, and stock 
transfer postings. Let us discuss all of these movements.

SAP MM Inventory Management  ◾  107
Goods Receipt
A GR is a goods movement with which the receipt of goods from a vendor or from production is 
posted. A GR leads to an increase in warehouse stock. A GR can be with reference to a reservation, 
an order, or some other form of GRs.
Planning for GR
Unless receipts are planned, the system cannot track materials that have been ordered. Planned 
receipts, therefore, are crucial to regulating the level of inventory in the warehouse and are 
also important for determining whether you have received materials promised by the vendors or 
in-house production. Without them, the system cannot establish a link between the orders and 
the received material.
When goods are received against POs (and the PO is created in the system), there is no need to 
make manual planning for materials to be received because through POs GRs are already planned 
ahead. All you need to do is to look at the POs in the system and find out the date and time when 
goods will be expected to be received. The expected receipts will be open PO quantities and the 
dates when goods will be expected to be received.
When goods are received against production orders (through SAP PP module), no manual 
planning is needed. Through production order information already in the system, GRs are already 
planned. All you need to do is to look at the PP reports and find out the date and time when goods 
will be expected to be received. The expected receipts will be open production order quantities and 
the dates when goods will be expected to be received. In case of reservations, the planned receipts 
will give you the idea about expected material receipts.
If you do not have either the purchasing component or the PP component in your system, you 
can plan your material receipt using reservations. Here you can plan reservations for receiving 
goods either from vendors or from your production department.
Planning GR with POs
Information for material receipt planning comes from POs and shipping notifications. Information 
on a PO that is vital for material receipt planning includes GR indicator, vendor, GR message, mate-
rial, material quantity, under delivery and over delivery tolerance, planned delivery day or week, 
latest possible delivery date, goods destination, shipping instructions, shelf life, batch, and so on.
Information on a shipping note helps to plan material receipt with more precision compared 
to a PO because it contains more precise information about delivery date, means of transport, 
material number used by vendor, International Article Number/Universal Product Code (EAN/
UPC) code, and so on.
If the GR is for consumption, the unloading point or the recipient is mentioned on the PO.
Planning GR with Production Orders
If you use the production order component to plan production orders, this component provides a 
source of information for planning the receipt of goods manufactured in-house.
On a production order, information that is useful for GR planning includes GR indicator, 
plant, material, material quantity, under delivery and over delivery tolerances, planned delivery 
date, destination of goods, goods posting into stock, and so on.

108  ◾  The SAP Materials Management Handbook﻿
Planning GR with Reservations
When you create reservation for GR, you are creating it only for materials that go to the stock. You 
do not make reservation for nonstock (consumable) materials. So reservations for GR are meant 
only for stockable materials.
Since you are making reservations manually, you choose the appropriate information for the 
GRs yourself. No information will be available to you automatically.
Tracking GRs against POs
The PO is not only the document with which the purchasing department orders goods from the 
vendor but also an important planning and tracking tool for the following departments: purchas-
ing, MRP, IM, and invoice verification.
 GRs against POs must reference the purchase for which the GR is being done. It is important 
because
	
1.	Goods receiving can check whether the delivery actually corresponds to the order.
	
2.	The system can propose data from the PO during the entry of the GR (e.g., the material 
ordered, its quantity, etc.). This simplifies both data entry and checking (over deliveries and 
under deliveries).
	
3.	The delivery is marked in the PO history. This allows the purchasing department to monitor 
the PO history and initiate the reminder procedures in the event of a late delivery.
	
4.	The vendor invoice is checked against the ordered and delivered quantities.
	
5.	The GR is valuated based on the PO price or the invoice price.
The PO number is usually listed on the delivery note, which is attached to the ordered goods and 
passed on by the vendor to the goods receiving point. If the PO number is not on the delivery note, 
you can search in the system for the PO that initiated the delivery using the material number or 
vendor number.
If the GR is for stock, the material can be received either into an unrestricted-use or block stock 
or into a quality inspection lot. The PO contains this information. If the GR is for blocked stock, 
the stock is not updated. You can also post goods return to the vendor using the movement type 161.
PO Creation for GR
Sometimes, a material is required urgently and there is no time for the creation of PO. In this 
case, the vendor may deliver the material without a PO. It is possible in SAP to do so. For this 
functionality, you need to customize the SAP.
Automatic PO creation for GRs is only applicable to GRs for unrestricted-use and valuated 
stocks. SAP plans to enable this functionality for nonvaluated materials as well in the future release.
Steps to Create GR from PO
You can create GR from PO by using the menu path: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movements → Goods 
Receipt → For Purchase Order → PO Number Known (or PO Number Unknown). You can also 
use the transaction code MIGO.

SAP MM Inventory Management  ◾  109
This menu will take you to the initial screen of the goods movement. Enter header data and 
then select movement type (101 for GRs for PO). If you want to receive goods in blocked stock, 
select the movement type as PO to blocked stock. Similarly if you want to receive goods into a 
warehouse, choose the movement type as PO to warehouse. Now enter the PO number. If you had 
selected PO Number Unknown, you can specify the search criteria to find out your PO number. 
Then you can enter your PO number. Now you can select your PO line items. When you post the 
line items, GR will be generated for the selected line items.
Steps to Create GR from Shipping Notification
You can create GR from shipping notification by using the menu path: SAP Easy Access → SAP 
Menu → Logistics → Materials Management → Inventory Management → Goods Movements → 
Goods Receipt → For Purchase Order → PO Number Unknown. You can also use the transac-
tion code MIGO.
Enter the header and movement type data on the initial screen. If the GR is not for 
­unrestricted-use stock and instead is for blocked stock, choose the movement type as PO for 
blocked stock. Now enter shipping notification number in the “Delivery” field. Line item selection 
list is displayed. Select the line items you want to do GR for.
Results of GR
Once GR is posted, a material document and a financial accounting document are created. You 
can also print GR/goods slip document. If “GR message” indicator on the PO is ticked, a message 
will be sent to the buyer after GR.
Stocks are updated after GR is posted. It depends on which configuration is set up in the 
system. If the GR is for unrestricted-use stock, stock where material will be posted gets updated. 
If the GR is for blocked stock, no stock update takes place. Only the blocked stock shown in PO 
history gets updated.
If automatic creation of storage location is enabled and if the stock destination is a new storage 
location, the storage location will be created by the system and stock will be delivered in that stor-
age location. If automatic storage location creation is not enabled, you will have to create storage 
location manually.
From a financial point of view, a financial accounting document will be created and the G/L 
account will be updated. In case of consumption items, corresponding cost center, order, asset, 
and so on will also be updated.
Finally, the PO data also get updated after GR is posted. The PO history will be updated. If 
“Delivery completed” indicator is set in material document, the open PO quantity for the line 
item in the PO will be set to zero and the line item is considered closed.
Under/Over Delivery and Final Delivery
Open PO quantity is the quantity of material that is still not delivered and needs to be delivered. 
The quantity of the material mentioned in the PO (ordered quantity) becomes equal to the open 
PO quantity when the GR happens. The delivered quantity is then compared with this open PO 
quantity. If any differences occur, it can be compared with the allowed under or over delivery tol-
erances. If the delivered quantity is within this tolerance, the system accepts the GR. Otherwise it 
needs to be taken care of manually. In case when goods delivery happens in several lots for a PO, 

110  ◾  The SAP Materials Management Handbook﻿
this open PO quantity keeps getting updated whenever goods are received. When the delivered 
quantity becomes equal to the ordered quantity, the open PO quantity equals zero.
The under delivery tolerance works as follows: When a GR is posted, the delivered quantity is 
compared with the open PO quantity. For instance, if the ordered quantity is 10 pieces, the under 
tolerance limit is 5 pieces, and the delivered quantity is 6 pieces, the system accepts it as a partial 
delivery. Now the system knows that more deliveries are expected as the open PO quantity is now 
four pieces. Once 10 pieces are delivered, the system will show the open PO quantity as zero, and 
thus will close the PO. Here the full delivery has happened.
However if in the initial delivery, the delivered quantity is four then the system will reject this 
GR as the under delivery tolerance limit is violated. The user will thus get a warning message. You 
can customize the system so that if you receive delivery that is within under tolerance limit; the 
system will treat it as a full delivery and so will close the PO.
To deal with over deliveries, SAP has two options. Any PO can have an unlimited delivery 
indicator. You can also set over delivery tolerance limit. You can customize your system to take 
care of many scenarios dealing with delivery tolerances. In many instances, even if it is under 
delivery but within tolerance limit, you can allow the “Delivery completed” indicator to set and 
thus close the PO. In cases when you have returns to vendor, the “Delivery completed” indicator 
is reset.
Many GRs per PO Line Item
When goods are received against a PO, the system converts every PO line item into a GR. So if we 
have five line items on the PO, the system generates five GRs. This is the standard functionality in 
SAP. But in many cases, we need to have more than one GR per line item of PO. When we need 
to send a partial quantity for quality inspection, the delivered quantity consists of many batches or 
we need to receive material in many storage locations; in these cases, we need to have more than 
one GR per line item of PO.
There are two strategies that can be used in such cases. We can distribute quantities among 
storage locations or batches.
GR for Nonvaluated Materials
If the stock of a material is managed on a quantity basis and not on a value basis and when you 
receive stock through a GR for a PO, you will have to make account assignment in the PO because 
when goods movement (GR) is done, there will not be any value string attached with the move-
ment. So the system will not know which G/L account needs to be updated. That is why account 
must be assigned on the PO.
Order Unit of Measure and Unit Price
Sometimes the order unit of measure and unit of price are different on a PO line item. For instance, 
there is 50 kg of steel on the PO line item with price quoted as US$10 per pound. In such cases, 
you must enter the GI in both units. In the system, the GR is valuated based on the GR quantity 
in the order price unit and the invoice verification is based on the GR quantity in the order price 
unit. Entering the GR in the order price quantity allows the system to immediately detect and 
report variances in the order price quantity during the GR. That is why in GR you should enter 
both units.

SAP MM Inventory Management  ◾  111
Two types of variance tolerance limits can be set up for order price unit in customizing: One 
for error messages and another for warning messages. If the variance is greater than the tolerance 
limit for warning message but lesser than that for error message, the user can still post the GR. If 
the tolerance is greater than the one set for error message, the user cannot post the GR and has to 
take some manual measures to correct the PO before posting the GR.
Entering a Freight Supplier
If the freight supplier is a third-party logistics provider, it is possible to make entries during the 
GR. The prerequisite for entering a freight supplier is that the freight supplier is defined in the 
condition type on the PO. The delivery cost should also include the freight cost in the conditions 
defined on the PO.
To enter a freight supplier on the detail screen for the PO line item, use the menu path: 
Go To → Freight Supplier.
Shelf Life and Batch Management in GR
At the time of the GR, you can check whether the goods you are receiving still have shelf life 
remaining. This functionality is good for perishable goods such as food. On the material master 
record, there are two parameters related to shelf life: One is related to the remaining shelf life in 
days and another is related to the total shelf life in days. During GR, either enter the remaining 
shelf life or enter the date of production. The system will calculate the remaining shelf life and 
expiration date.
Sometimes batch management may not be active for a material with shelf life. In these cases, 
GR with shelf life check is also possible. It is done in the same way as for materials with batch 
management.
You can generate a list of batches of materials with shelf life expiration date (SLED) using the 
menu path: SAP Easy Access → SAP Menu → Logistics → Materials Management → Inventory 
Management → Environment → Stock → Expiration Date List.
Releasing Material from Blocked Stock
When you receive goods into blocked stock, you must release the material to unrestricted-use 
stock so that it can be consumed. You can release these materials either using the PO from where 
you received the material or from the material document which was the result of the GR. If you 
are using the material document, you can release only the material that is shown on the material 
document. You cannot release the material that is on any other material document.
To release material from material document, use the menu path: SAP Easy Access → SAP 
Menu → Logistics → Materials Management → Inventory Management → Material Document → 
Release Blocked Stock. On the initial screen, enter the material number and document year and 
press Enter. The item selection list is displayed. This list contains all the items that were posted into 
the blocked stock. Select the items you want to post and then post the document.
To release material from PO, open the PO using the transaction code MIGO and change the 
movement type to 105. When you press Enter, the item selection list is displayed. From the item 
selection list, select the items you want to release and then post the document. When you post the 
document, a material document and a financial document will be created. The G/L account and 
the stock will be updated. The PO will also be updated.

112  ◾  The SAP Materials Management Handbook﻿
GR for Production Orders
Goods are received against production orders in much the same way as goods are received against 
POs. To make a GR from a production order, use the menu path: SAP Easy Access → SAP 
Menu → Logistics → Materials Management → Inventory Management → Goods Movement → 
Goods Receipt → For Order. Enter header data, movement type, and order number, and then 
choose Continue. You will get a list of production orders. Choose the production order you want 
to receive goods against and then adopt the document. Before adopting the document, you will 
also have to specify the storage location and storage type. Now you can post the document. 
A material document and a financial account document will be generated.
GR for By-Products
During production process, a product may be created automatically along with the main product. 
This material is known as by-product. During GR of the main product produced, you can also 
receive the by-product. GR for by-product can be either planned or unplanned depending on 
whether the by-product and its quantity are mentioned on the production order. If the by-product 
is unplanned, you have to manually enter the GR for the by-product.
If the by-product is planned, you can enter the GR for the same at the same time when the GR 
for the main product is done. A by-product can be planned in the order as a component with negative 
quantity. For this component, a reservation item is created automatically with the movement type 531 
(receipt of by-product). You can also do GR for the by-product manually. When you do the GR manu-
ally for the by-product, you can reference either the production order or the reservation item.
To receive the unplanned by-product, use the menu path: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movement → Goods 
Receipt → Other. On the initial screen, enter the header data and choose Movement Type → 
Receipt → By-product → To Unrestricted (531) or From Network to Unrestricted (581). On the 
screen, enter the plant and storage location data and choose Continue. A collective screen will 
appear. On this screen, enter the line items to be posted and the production order number or the 
network order number and post them.
To receive the planned by-product, use the menu path: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movement → Goods 
Issue. On the initial screen, enter the header data and then choose Goods Issue → Create with 
Reference → To Order or To Reservation. In the dialogue box, enter either the order number or 
the reservation number (depending on your menu selection). In the by-product field, enter the 
value 1 so that the system also takes the by-product reservation line item into account.
Other GRs
Apart from GRs for production orders and POs, you can also do GRs for free goods, initial entry 
of stock balances, external GRs without PO, internal GRs without a production order, GRs for 
by-products, returns from customers, and so on.
When a new SAP instance is implemented, you can transfer the existing book inventory 
­balances from the existing SAP instance using GR. You can do initial entry of stock balances 
for  unrestricted-use stock, stock in quality inspection, and blocked stock. Use movement 
type 561 for ­unrestricted-use stock, movement type 563 for stock in quality inspection, and 565 
for blocked stock.

SAP MM Inventory Management  ◾  113
If your company does not use the MM purchasing component, you enter an external receipt as 
a miscellaneous GR. Use the menu path SAP Easy Access → SAP Menu → Logistics → Materials 
Management → Inventory Management → Goods Movement → Goods Receipt → Other for 
entering the GRs without POs. Use movement type receipt without PO.
If your company does not use the PP Production orders component, you enter a receipt from 
production as a miscellaneous (other) GR. Use the menu path SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movement → Goods 
Receipt → Other for entering the GRs without production orders. Use movement type receipt 
without production order.
GRs for by-products can also be entered as miscellaneous GRs. If you receive a delivery from 
a vendor free of charge for which no PO was placed, you must enter the receipt of the goods as a 
miscellaneous (other) GR. Returns from customers can be handled through returns delivery. Even 
without a returns delivery, you can post returns from a customer into blocked stock returns.
When invoice verification is PO based, each PO has one invoice receipt regardless of the num-
ber of GRs generated for each PO. There can be more than one GR for one PO when goods for the 
PO are not received in one lot, and in fact there are instances of many GRs for that PO.
Material document is generated for each GR. So for one PO, there could be many material 
documents. When invoice verification is GR based, every GR is settled separately. In this case, 
there could be more than one invoice receipt for one PO.
Goods Issue
A GI is a goods movement with which a material withdrawal or material issue, a material con-
sumption, or a shipment of goods to a customer is posted. It leads to a reduction in warehouse 
stock. It can be used for withdrawal of material for production, scrapping, sampling, return deliv-
ery to vendor, internal staging of material, delivery to vendors without shipping (SAP SD compo-
nent), and so on.
Let us discuss below the various types of GI handled in SAP.
GI General
When GI is posted for finished goods from warehouse (and not from IM), SAP SD component 
handles the transactions, which include withdrawal, picking, packing, and shipping of goods. 
Goods issued from the warehouse are for customer. However, if your company is not using SAP 
SD component, there are two ways in which SAP MM–IM can handle these transactions using 
“Consumption to sales” and “Consumption to sales order” transactions.
GI transaction is mostly used with withdrawing material for production orders. The goods 
are issued referencing the production order for which the goods will be issued. Materials can also 
be used for internal staging purposes in cases related to issue to cost center, maintenance order, 
subcontracting, and so on.
Account Assignment
When you issue goods, it is most important for you to know as to which financial account will be 
credited. For this purpose, whenever you issue goods, you must specify the account and so account 
assignment is most important for each and every GI movement.

114  ◾  The SAP Materials Management Handbook﻿
In the system, G/L accounts are maintained for each credit or debit transaction. Linking a 
transaction to the correct G/L account is a complex phenomenon because there are many factors 
that come into play during transaction processing. The material type, the movement type, and the 
material valuation together with the organizational structure (chart of accounts) determine the 
link between the G/L account and the transaction. Fortunately in SAP, the complexity of assign-
ing G/L account to a transaction is taken care of when the system is configured. The end user only 
needs to specify the movement type and the relevant cost center or the relevant asset number, and 
the system will link the transaction with the appropriate G/L account.
Table 5.1 lists all the movement types and the data to be entered for each GI transaction.
GI without Reference Document
When you enter GR, you reference the production order or reservation. When you issue the 
components for a BOM, you need to know the details about that particular BOM. When goods 
are being issued, it is important to reference the document based on which GI is to be done. This 
will ensure that a check will be made for each GI against the required material for the production 
order or the reservation or the BOM. If you do not know the document number of your reference 
document, you can search the system using the material number or account assignment number.
To issue goods without reference document, use the menu path: SAP Easy Access → SAP 
Menu → Logistics → Materials Management → Inventory Management → Goods Movement → 
Goods Issue. On the initial screen, enter the header data and select the movement type as 
Consumption and the options available for the movement type. Enter the plant and storage loca-
tion, and press Enter. The collective screen will appear. Enter the account assignment and select 
the items. Now post the document.
GI for Scrapping
A material can be scrapped due to poor quality, wearing, or out of date. In SAP, it is possible to 
scrap a material from the unrestricted-use stock, quality inspection stock, or blocked stock. Once 
you scrap a material, the system will be updated for stock and the value of scrapped material will 
be posted from stock account to scrap account and assignment to cost center.
Table 5.1  Movement Types for GI
Movement Type
Consumption For
Data to Be Entered
201
Cost center
Cost center
221
Project
WBS elements/network
231
Sales order
Sales order number, sales order item
241
Asset
Asset number, asset subnumber
251
Sales
Cost center
261
Order (production order)
Order number
281
Network
Network/operation
291
Other account assignment
Account assignment number

SAP MM Inventory Management  ◾  115
To scrap a material, use the menu path SAP Easy Access → SAP Menu → Logistics → Materials 
Management → Inventory Management → Goods Movement → Goods Issue and post the scrap-
ping using an appropriate movement type.
Taking Sample
In SAP, if you want to take a sample of a material, you need to use GI transaction. If after doing 
quality inspection, the material is still usable, you can post it back using the GR from quality 
inspection. Otherwise the material quantity used for sampling is lost after GI and you do not need 
to take it back. At the most, if required, you can post it to a scrap account. You can take a sample 
from the unrestricted-use stock, quality inspection stock, or blocked stock.
To take a sample of a material, use the menu path: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movement → Goods 
Issue. Enter the header data and select the movement type issue as “To Sampling” and the stock 
type. Enter the plant, storage location, cost center, and items, and post the document.
GI with Reference to Reservation
GI can be done either directly from available stock or with reference to a reservation. For good 
practice, it is always preferable to do GI with reference to a reservation. Use the menu path SAP 
Easy Access → SAP Menu → Logistics → Materials Management → Inventory Management → 
Goods Movement → Goods Issue and enter the header data. You do not need to enter the plant 
or movement type as these are copied from the reservation.
If you issue the total reserved quantity for a reservation item, the final issue indicator is set 
automatically in the reservation item when you post the GI. If you issue only a partial quantity 
for a reservation item but want the item to be considered completed, you have to set the final issue 
indicator manually either in the reservation or at the time of the GI. You can set or reset this indi-
cator on the collective entry screen or the detail screen.
GI for Production Order
When you issue goods for production order, there could be three possibilities: unplanned GI, 
planned GI, or backflushing. Planned GI always happens against a production order or a reser-
vation. Sometimes, a component is needed for production due to damage or over consumption 
of the already planned component. This component is now to be issued unplanned. In case of 
multilevel BOM, some components are already planned and delivered along with their parent 
components. So separate GI planning for these components is not needed. This is known as 
backflushing.
GI against BOM
To withdraw all components of a BOM (production BOM or equipment BOM), you can reference 
the relevant BOM. In this case, all of the components in the BOM are automatically copied for GI.
To issue goods against a BOM, use the menu path SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Goods Movement → Goods 
Issue and enter the header data. Then select the movement type as consumption plus the desired 
movement type. Enter the plant and storage location. Now select the menu path GI → Create 

116  ◾  The SAP Materials Management Handbook﻿
W. Reference → To BOM. A dialog box will appear. Enter the BOM, material or equipment, and 
material quantity. Adopt the document and post it.
Results of GI
After a GI, the following take place in the system:
	
1.	A material document is created.
	
2.	An accounting document is created.
	
3.	A GI slip is created (optional).
	
4.	Stock is updated.
	
5.	Update of G/L account takes place.
	
6.	Consumption update takes place.
	
7.	Reservation information is updated.
	
8.	Production order is updated.
	
9.	Other connected applications are updated.
	 10.	Transfer requirement is created if WM system is connected.
	 11.	Inspection lot is created when QM module is connected.
Reversing a Planned GI
It is possible that a GI needs to be reversed due to reasons such as unforeseen production situation. 
In such cases, GI can be reversed with reference to either the material document or the reserva-
tion. In both cases, the system references the reservation during reversal; the “old” reservation is 
reactivated and the open required quantity in the reservation is increased by the quantity reversed.
If during the reversal you reference the material document with which the GI was posted, the 
system proposes for reversal only the quantity withdrawn with this material document. If during 
the reversal you reference the reservation, the system proposes for reversal of the total quantity with-
drawn to date, even if several withdrawals (material documents) were posted or reservation made.
After you post the reversal, a material document and a financial accounting document are cre-
ated. The total valuated stock, the unrestricted-use stock, and the reserved stock are increased. The 
consumption of the material is decreased by the amount reversed.
Return Delivery to Vendor
Sometimes, due to quality issues, a material needs to be returned back to the vendor. The return 
can be done using SAP Shipping (SAP SD) for picking, packing, and shipping. The return delivery 
can be made from unrestricted-use stock, quality inspection stock, blocked stock, and GR blocked 
stock. When you return the delivery, you should reference the PO or the material document.
Before you enter a return delivery with reference to a PO, you have to determine whether the 
goods were posted to stock or consumption or whether they were posted into GR blocked stock. 
If you posted the goods to a particular stock type at GR (e.g., quality inspection stock), you have 
to return them from the same stock type.
After you return a delivery to a vendor, the vendor may send the substitute delivery. If you 
receive a substitute delivery after you have returned the goods to a vendor, it is advisable to refer-
ence the associated return delivery by using a reverse posting when you post the new GR. This 

SAP MM Inventory Management  ◾  117
enables the system to suggest and update the data for this particular business process. This is 
particularly important in GR-based invoice verification so that the link among the GR, the return 
delivery, and the invoice remains intact.
Return Delivery in Goods Delivery-Based Invoice
When GR-based invoice verification has been defined, every GR is settled separately. This means 
that an invoice always refers to a material document. When you want to return material, you 
therefore have to reference the material document that you used to post the GR.
Stock Transfer
A stock transfer is the removal of material from one storage location and its transfer to another stor-
age location. Stock transfers can occur either within the same plant or between two plants. Stock 
transfer can happen from company code to company code, plant to plant, or storage location to stor-
age location. When we speak about the transfer from company code to company code, the transfer 
actually happens between a plant of one company code to another plant of any other company code.
A stock transfer from plant to plant leads to a change in stock quantity in both plants; if both 
plants are assigned to different valuation areas, an accounting document is also created. This type 
of stock transfer can only be carried out from the unrestricted-use stock of the issuing plant to the 
unrestricted-use stock of the receiving plant. Stock transfers from plant to plant are relevant for 
materials planning, since materials planning operates at plant level.
A stock transfer from storage location to storage location in the same plant simply causes an 
update of the stock quantities in both storage locations. The stock value remains unchanged, and 
the event is not relevant for accounting. A stock transfer from storage location to storage location 
is possible for all stock types.
You can transfer stock in SAP in a two-step or one-step procedure. You can also use STO for 
this purpose. To carry out a stock transfer from plant to plant for a material that is subject to split 
valuation at the receiving point, you have to use the one-step procedure or an STO.
During a one-step stock transfer, the system creates two material document items for every 
item you enter: an item for removal from the storage at the issuing point and an item for placement 
into the storage at the receiving point.
During a two-step stock transfer, two material documents are created. Upon the removal from 
the storage at the issuing point, the system creates a material document. For every item you enter, 
two material document items are created: an item for removal from the storage at the issuing point 
and an item for placement into the stock in transfer at the receiving point. Upon placement into 
the storage at the receiving point, the system again creates a material document. For every item 
you enter, only one material document item is created because the quantity is only transferred 
from the stock in transfer to the unrestricted-use stock at the receiving point.
Planning Stock Transfer Using Reservation
You can plan stock transfers using stock transfer reservations. Stock transfer reservations are reser-
vations that plan the GI from the issuing point. They are intended for one-step stock transfers only 
and cannot be used for transfer postings because transfer postings are not planned in advance. 
Stock transfer reservations can also be created automatically by MRP. The reserved quantity is 

118  ◾  The SAP Materials Management Handbook﻿
managed in the unrestricted-use stock and the reserved stock of the issuing point. In MRP, the 
reserved quantity reduces the available stock in the issuing plant.
Storage Location-to-Storage Location Stock Transfer: One-Step Procedure
The one-step stock transfer procedure without reservation reduces the corresponding stock type at the 
issuing storage location and increases the same stock type at the receiving storage location. At plant 
level, the stock level does not change, except that the stock is distributed differently among the storage 
locations in the plant. The system does not create an accounting document for the material document.
The one-step stock transfer procedure with reservation reduces the unrestricted-use stock and 
the reserved stock at the issuing storage location and increases the same stock at the receiving stor-
age location. At plant level, the stock level does not change, except that the stock is distributed 
differently among the storage locations in the plant. The system does not create an accounting 
document for the material document. The quantity becomes available again for materials planning.
Storage Location-to-Storage Location Stock Transfer: Two-Step Procedure
In the first step, posting a stock transfer in two steps involves the removal from storage at the issu-
ing storage location. In the second step, you enter the placement into storage at the receiving stor-
age location. In the two-step procedure, you can only transfer material from the unrestricted-use 
stock at the issuing storage location to the unrestricted-use stock at the receiving storage location.
Reservations are not possible with this procedure. After posting the removal from storage, 
the quantity is deducted from the issuing storage location. The quantity is managed in the stock 
at the receiving storage location (not in the unrestricted-use stock, but in the stock in transfer). 
In ­addition, at plant level, the quantity is not available for unrestricted use.
When the goods are actually received at the receiving storage location, the quantity is taken 
over from the stock in transfer to the unrestricted-use stock.
Situation at Issuing Storage Location
Posting the removal from storage at the issuing plant changes the stock situation both at plant and 
at storage location level. At plant level, the unrestricted-use stock is reduced by the posted quantity 
because the goods are in transit at the moment and are therefore managed as stock in transfer. 
The quantity has been deducted from the unrestricted-use stock at the issuing storage location. The 
quantity is already managed in stock, but is not yet available for unrestricted use at the receiving stor-
age location. It is contained in the stock in transfer at storage location level. Since the stock transfer 
occurs within the plant, no accounting document is created in addition to the material document.
Situation at Receiving Storage Location
You have the option of entering the placement into storage at the receiving storage location with 
or without reference to stock removal document. Posting the placement into storage changes the 
stock situation both at plant and at receiving storage location level. At plant level, the transferred 
quantity is now part of the unrestricted-use stock. At receiving storage location level, the quantity 
from the stock in transfer has been posted to the unrestricted-use stock. Since the stock transfer 
occurs within the plant, no accounting document is created in addition to the material document.

SAP MM Inventory Management  ◾  119
Plant-to-Plant Stock Transfer: One-Step Procedure
A stock transfer from plant to plant generally takes place within a company code. It can, however, 
also take place between the two company codes, if the plants are assigned to different valuation 
areas, which belong to different company codes.
Unlike a stock transfer from storage location to storage location, a stock transfer from plant 
to plant affects both accounting and materials planning. Accounting is affected if both plants are 
assigned to different valuation areas. This means that a stock transfer leads not only to a quantity 
update but also to a value update (stock value, G/L accounts). Thus, parallel to the material docu-
ment for stock transfer, an accounting document is created. Materials planning is affected because 
a change of plant stock is taken into account by MRP.
You can enter this stock transfer using either the one-step or the two-step procedure. But only 
the one-step procedure can be planned with a reservation. If the material is split valuated, a two-
step procedure is not possible. Either one-step procedure or an STO may be used in this case.
Plant-to-Plant Stock Transfer: Two-Step Procedure
You can post a stock transfer from plant to plant using the two-step procedure. In the first step, 
you post the removal from storage at the issuing plant and then the quantity being transferred 
is managed in the stock in transfer at the receiving plant. However, It is not yet part of the 
­unrestricted-use stock.
In the second step, you post the placement into storage at the receiving plant. Only then the 
event is completed and the transferred quantity is part of the unrestricted-use stock.
Company Code-to-Company Code Stock Transfer
When you transfer goods from one plant belonging to one company code to another plant belong-
ing to some other company code but inside the same client, you are doing a stock transfer almost 
in the same way as you do from one plant to another plant in the same company code. During this 
stock transfer, two documents for each plant are generated: one document for materials manage-
ment and another for accounting management in the issuing plant. Again material and account-
ing documents are generated at the receiving plant.
Similar to the plant-to-plant stock transfer, one-step or two-step procedure can be applied 
in the company code-to-company code stock transfer. STO can also be used for these kinds of 
transfers.
Withdrawal Rules
When you want to withdraw material for consumption (using already discussed stock transfer 
strategies such as storage location to storage location, plant to plant, and company code to com-
pany code), you can do it from an unrestricted-use stock. You cannot withdraw from a blocked 
stock or a quality inspection stock. From the quality inspection or blocked stock, you only with-
draw for either sampling or scrapping.
However, there are exceptions when it comes to transfer postings (material to material or stock 
to stock). For example, a material is in a blocked stock pending a quality inspection. After qual-
ity inspection, it needs to be made available for consumption. In this case, the material must be 
transferred from the blocked stock to the unrestricted-use stock.

120  ◾  The SAP Materials Management Handbook﻿
Transfer Posting
A transfer posting is a general term for stock transfers and changes in stock type or stock category 
of a material. It is irrelevant whether the posting occurs in conjunction with a physical movement. 
Examples of transfer postings are as follows:
◾
◾Transfer postings from material to material
◾
◾Release from quality inspection stock
◾
◾Transfer of consignment material into company’s own stock
Transfer Posting: Material to Material
Sometimes a material may change over time and thus need to be classified as a different material. To 
take care of such scenarios, in SAP there is a provision to transfer the original material to a new material. 
Such a transfer posting is always carried out in one step and without advance planning. The posting can 
only be carried out from the unrestricted-use stock of the issuing material to the ­unrestricted-use stock 
of the receiving material. The unit of measure should be the same for both materials.
Transfer Posting: Stock to Stock
A material may be transferred from one stock to another for cases such as transferring from ­quality 
inspection to unrestricted-use stock and transfer from consignment stock to company stock.
Reservation
With the reservation component, you make a request to the warehouse to keep the materials ready for 
withdrawal at a later date and for a certain purpose. This simplifies and accelerates the GR process. 
A reservation for GI can be requested by various departments for various account assignment objects 
(such as cost center, order, and asset). It is also important that reservations are taken into account by 
MRP, which means that the required materials are procured in time if they are out of stock.
A reservation document consists of a header and at least one item. The header contains general 
data about the reservation (creator, movement type, account assignment). The items describe the 
individual planned movements (material, quantity, requirement date). You can create a reservation 
for exactly one purpose only; that is, in a reservation, you can enter only one movement type and 
one account assignment object (e.g., a cost center).
The system makes reservations at plant or storage location level. For materials handled in 
batches, you can also create reservations at batch level.
Type of Reservations
SAP has two types of reservations: (1) automatic reservations and (2) manual reservations. Again 
automatic reservations are of two types. When a production order, network element, or project 
element is created, a reservation is made automatically for the production order, network element, 
or project element [work breakdown structure (WBS) item]. If reorder point planning is used at 
storage location level and the available stock on hand falls below the reorder point, the system 
generates a stock transfer reservation in the plant for the replenishment quantity.

SAP MM Inventory Management  ◾  121
After a reservation is made, the system creates a reservation document, which serves as proof 
of the request. In the material master record, the total stock and unrestricted-use stock of the 
material remain unchanged. The reserved stock is increased by the reserved quantity. In MRP, the 
available stock is reduced by the reserved quantity. This is visible in the current stock/requirements 
list. The reservation causes an entry to be made in the requirements planning file.
Batch Management
Some materials are always treated the same. You pick a piece of the material from inventory at one 
storage location and compare it with the same material at another material location. More or less, 
they are the same in physical, chemical, or any other characteristics. But some materials are not the 
same. You will observe the differences. Although they are same in physical, chemical, or any other 
material attribute, they may be different in the expiration date. For example, a piece of medicine 
manufactured on December 22, 2011, may expire on December 21, 2012, as its expiration life is 
1 year. Another piece of the same medicine may have been manufactured on July 22, 2011, and 
will expire on July 21, 2012. So these two pieces of the medicine are different in their expiration 
date though their physical or chemical attributes may be same.
Generally, pieces of these kinds of materials are differentiated based on the batches. In the 
medicine example cited above, we can keep all piece of information in batches at one place based 
on the date of manufacture. Similarly, if two pieces of the materials manufactured on different 
dates, they may need to be kept at different places. In real life, batches are differentiated based on 
the production lot. In process industries where batch management is primarily used, a production 
run happens when a material lot is produced continuously with the same machine settings and raw 
material feeding. Material pieces in this production lot are very similar to each other. So making a 
batch of these pieces makes sense. If there are any problems with the quality of the material, these 
can easily be tracked through the batch number.
Some more examples of batch-managed materials include food items, chemical products, 
hygiene products, and so on. In most cases, these materials are differentiated on attributes such as 
expiration date, color shades, chemical composition, and physical appearance.
In SAP, these kinds of materials can be managed when the batch management indicator in the 
material master is activated. Once batch management for a material gets activated, all stocks of the 
material must be managed in batches. This means that if you receive goods from vendors, you have 
to assign a batch number to these goods. Similarly, the in-house produced goods should also be 
assigned a batch number. When a material is moved from one storage location to another or from 
one stock type to another (blocked stock, unrestricted-use stock, or quality inspection stock), the 
batch number of the material remains the same.
Batch Number Levels
In SAP, the material number is unique at client level, which means that you cannot have the same 
material number used for different materials in different plants even if the plants belong to differ-
ent company codes. When batch management is active for a material, the material number along 
with the batch number makes a unique combination at the client, material, or plant level, depend-
ing on the settings in customizing.
In SAP system, you can assign the batch number to materials at various levels depending on 
your customization. The three levels of batch numbering are client level (unique batch number for 

122  ◾  The SAP Materials Management Handbook﻿
the client), material level (unique batch number for client/material combination), and plant level 
(unique combination at client/material/plant).
To understand these settings, let us discuss an example. You have a material ABC and another 
material DEF. You set the batch number generation level at the plant level. In this case, you can 
have a batch number 123 for material ABC for plant A. If this batch of material is transferred to 
plant B that belongs to the same company code (or any other company code), the batch number is 
not recognized at plant B. A new batch number will be generated.
Now you set the batch number generation at material level. If the batch number 123 is trans-
ferred to plant B, the batch number is recognized in plant B. Thus, the material will be stocked 
there with the same batch number 123.
Consider now that the batch number generation is set at client level. If the batch number 123 
is transferred to plant B, the batch number will be recognized at plant B. Thus, the material will 
be stocked there with the same batch number 123.
There is a difference between the material-level and the client-level batch number generation. 
Let us assume that material B has a batch number. In case of batch number generation at mate-
rial level, we can have the batch number 123 for both materials A and B. The batch number is 
unique only for a material but not across materials. The same is not true for setting when we have 
batch number generation at client level. If our setting is at client level, material B must not have the 
batch number 123 as this batch number is already allocated to material A.
Advice on Batch Number Settings
Setting up your batch number generation management at any of the following three levels depends 
on your customer’s needs. If your customer has a lot of transfer of material among plants and the 
material is batch managed, you should set up the batch number generation at either client or mate-
rial level. If you want to keep the batch number unique across all company codes for any material, 
you should set the batch number level at client level. If you want to keep combination of batch 
number and material unique across all plants, use the material-level batch number.
In case of finished goods that are batch managed, the batch number must be unique. The same 
batch number should not be assigned to any other material. For example, finished foods and phar-
maceutical items must have unique batch number. The same batch number should not be assigned 
to any other material. In such cases, the batch number should be at client level. But in case of 
semifinished materials, two different materials may have the same batch number. Of course, they 
are different because of different combination of batch number and material number.
For all other materials that do not need unique batch number across plants or company codes, 
a plant-level batch number is sufficient. One word of caution here! If you transfer a material from 
one plant to another plant and if the batch number level is at plant level, it is possible that the other 
plant is using the same batch number that is being used for the material being transferred. In this 
case, although the batch number is the same, the material inside the batches will have different 
specifications, which will create problem. If you are sure that there will not be any stock transfer 
between plants, you should use the batch number at plant level. Otherwise use the batch number 
at a higher level (client or material).
Structure of Batch Data
A batch of a material contains information related to the inventory as well as the material. Inventory 
information may contain stock quantity of a batch located at different storage locations. Material 

SAP MM Inventory Management  ◾  123
information may contain shelf life, material valuation, last GR date, chemical properties of the 
material in the batch, and so on.
The inventory data of a batch is known as master batch data. Depending on the ­customization 
for setting batch number generation, this batch master data will be unique at plant, material, 
batch, or client level. When you enter material number on any inventory or purchase document, 
you will also have to specify the batch number.
Batch number and stock data of a batch are created automatically when the first GR hap-
pens. But if the user wants to modify any batch information, he/she can do it manually as well. 
For batch-managed materials, stocks can be managed in unrestricted-use stock, blocked stock, 
restricted-use stock, quality inspection stock, stock in transfer, and blocked stock returns.
Batch Status Management
If you activate batch status management, there will be two statuses of any batch in the system. 
A batch can be either in unrestricted use or in restricted use. When a batch is created first, it is 
in unrestricted use. After a goods movement, the batch status may change to restricted use if the 
movement leads to stock types of blocked stock or quality inspection stock. You can also change a 
batch status using “change batch” function. The status is stored centrally as part of the batch and 
is used as a batch characteristic in classification, which in turn is responsible for batch selection in 
batch determination.
If you try to issue goods from a restricted-use stock, the system may issue a warning or an error 
message depending on your customization. If it is a warning message, you can issue goods. If it is 
an error message, you cannot issue goods.
A batch can have either restricted-use or unrestricted-use stock. It cannot have both statuses 
at the same time.
GR for a Batch-Managed Material
When you enter GR for a batch-managed material, you have to enter the batch number along 
with the material number. If the GR for a PO is assigned to an account, the batch number is not 
needed. But if “batch where used list” is active, you can enter the batch number to track the receipt 
and consumption from the batch.
If the batch does not exist, it will be created automatically. If the batch already exists, the GR 
will be posted to the batch in the specified storage location.
There will be updates in the system after GR is posted for the batch. GR date will be recorded 
for the batch and will be used for selecting a batch according to the batch selection strategy [last 
in, first out (LIFO), first in, first out (FIFO), etc.] defined in the system for batch determination. 
If shelf life is activated for the material, you have to enter the production date on the GR. If batch 
classification is active, you have to enter classification values for the batch in the GI. If GR consists 
of several batches of the material, you have to create separate material document for each batch.
GI for a Batch-Managed Material
When you issue goods from a batch managed material, first you have to deal with the reservation 
of material. The reservation can be at plant, storage location, or batch level. When reservation is 
at plant level, you do not specify the storage location or batch. This is done during GI and not 
during reservation. When reservation is to be made at storage location, you do not specify the 

124  ◾  The SAP Materials Management Handbook﻿
batch. During GI, the plant and storage location are copied from the reservation, and then you 
specify the batch. When reservation is made at batch level, the plant, storage location, and batch 
are ­specified. During GI, you cannot change the plant, storage location, or batch.
Stock Transfer and Transfer Posting of Batch-Managed Materials
Stock transfers from plant to plant and from storage location to storage location are possible with 
batch-managed materials as well as transfer postings from material to material. The transfer always 
happens at the batch level and you have to specify the issuing and receiving batch. Except for a 
two-step stock transfer from plant to plant, the issuing batch number is copied and used as receiv-
ing batch number.
In case of two-step plant-to-plant transfer, the inventory is managed at plant level. When 
material is removed at the issuing plant, the receiving storage location or the batch is not known. 
Only the receiving plant is known. At the time of goods receiving at the receiving plant, you 
specify the storage location and batch. In all other cases including one-step plant-to-plant transfer 
or storage location-to-storage location transfer, the receiving plant, storage location, and batch are 
known in advance.
If batch status management is active and even if the issuing batch is in restricted use, the 
receiving batch will be in unrestricted use.
Batch Classification
Batch classification data may include material properties such as active chemical ingredient, 
­viscosity, and color. It is also possible to include inventory-related data (master batch data) such as 
GR date, batch status, and shelf life in the classification.
Batch classification data help in batch determination. How a batch of material is to be stored, 
picked, packed, and delivered can be refined by the batch classification data. If the batch classifi-
cation data are not present, you can handle a batch of a material only on the information related 
to GR date.
To classify batches, you have to define the characteristics of a material that is batch managed 
and include them in classes. These classes are then linked to batches.
For example, the viscosity of a material varies from batch to batch. Let us assume that the aver-
age viscosity for a batch is 0.9. The viscosity of the material varies from 0.6 to 1.1. We can create 
a characteristic for this material for which the viscosity value is mentioned. Now we will create a 
class and include this characteristic. When you create a class, you also define the class type. Class 
type 022 is for plant level and class type 023 for client/material level. Once you have the class 
defined, you can link the class to the material. Now when a batch is created or modified to include 
this characteristic of viscosity, you can go to the menu path Batch → Change from the material 
master menu.
Batch Determination
Batch determination is used for GI for a batch-managed material. If you are looking for a batch 
that contains specific characteristics, you can enter “*” in the batch field to search for an appro-
priate batch automatically. The system then searches for batches with appropriate characteristics 
such as viscosity and shelf life. The system searches and finds suitable batches of the material. 
The system also suggests how to distribute the requested quantity among the batches found. 

SAP MM Inventory Management  ◾  125
The user can either accept the system’s proposal for the goods movement or distribute the quantity 
­manually. If there are problems in definition of batches (faulty characteristic definition) or no 
batches ­available with requested characteristics, the system is not able to find any batches and then 
the user can search a batch without selection criteria. In this case, the system will list all batches 
of the material and the user can choose a batch manually.
Batch Search Strategies
If you need to search batches effectively, you must define good search strategies for batches. In a search 
strategy, you need to define the characteristic values based on which batches can be searched. You can 
define the strategy types in customizing and then assign a strategy type to your search strategy.
A strategy type can help a search strategy to work at plant or movement type level or at plant 
or movement type or material level or any other level defined in the customizing for strategy type. 
Basically, a strategy type is a combination of keys.
To define a search strategy for batches, it is important to understand how users search for 
batches. If a user is searching for a batch for GI to a cost center, he/she will look for batches with 
unrestricted use (movement type 201). If he/she is looking for batches for scrapping, he/she will 
be looking for batches with restricted use (movement type 551). If he is looking for a batch of a 
material with viscosity of 0.9, he/she will search for batches that have a viscosity range of 0.8–1.0. 
In this case, the movement type will be 201.
Generally, the users will restrict their search at the plant level. So plant is also a criterion 
for search strategy. Thus, plant, movement type, material, status, and material characteristics 
(e.g., viscosity) are some of the criteria for the search of a batch.
To create a search strategy, go to the menu path: SAP Easy Access → SAP Menu → 
Logistics → Materials Management → Inventory Management → Environment → Batch Search 
Strategy → Create. On the initial screen, select a strategy type and press Enter. A list of strategy 
types will be displayed. When you select a strategy type, you will be prompted to enter the values 
of the key combinations that make the strategy type. For example, if you select the strategy-type 
plant, movement type, material, or status, you can enter “1000” for plant, “201” for movement 
type, “XYZ” for material, and “unrestricted use” for status. Then press Enter. The system will now 
suggest the values of the strategy types and will also prompt you to select “Via selection criteria” or 
“Via Sort” which can be used to search for batches. Now you can save the search strategy.
Goods Movement of Split-Valuated and Batch-Managed Materials
Split valuation of a material allows the user to keep different prices of a material at different storage 
locations. For example, a material can be procured externally as well as built in-house. Generally, 
the price of the material will be different depending on whether it was procured externally or built 
in-house. Similarly, the price of a material is different if it was procured from different vendors. In 
other cases, a vendor may quote the price of the same material differently for different locations of 
the same organization.
To take care of these scenarios, in SAP a material can be set up to have split valuation. When 
a split-valuated material is also batch managed, goods movement of this material has to take care 
of this aspect.
You enter goods movements of split-valuated materials in the same way you do for batch mate-
rials. In the Batch field, you simply enter the valuation type instead of a batch number. To display 
a list of valid valuation types for the material, enter “*” in the Storage location or Batch field.

126  ◾  The SAP Materials Management Handbook﻿
If the material is handled in both batches and split valuated, the system prompts you to enter 
the batch and then allocate the batch to a valuation type.
Stock Determination
When you want to withdraw goods for issue, transfer, or scrapping, you need to have good idea about 
your stocks at various storage locations inside your plants that may be spread over many company 
codes. For this purpose, you can make various stock strategies to find and locate various kinds of stocks 
across your organization. Manually determining the right stock and its location is difficult and time 
consuming. Making good stock determination strategy will help you find your stocks automatically.
The system makes decision on material withdrawal based on the material, plant, and 
­business process when you define your stock determination strategy. You can make stock deter-
mination strategy for unrestricted use, vendor consignment, pipeline material, sales order, and 
project stocks.
Let us see some of the stock determination scenarios. When you need a material for your MRP, 
the material could be found at any of your storage locations or could be procured from a preferred 
vendor, any other vendor, or another plant. One strategy could be to find the material first at any 
storage location inside your plant. If the material is not found, you can search it at other plants. 
If the material is still not in other plants, you can procure the material from the preferred vendor. 
If it is still not found, you can approach any other vendor. You can make a stock determination 
strategy that can do all these searches and then find out as to how to source the material. Since this 
search will be online and in real time, you can keep your inventory buffers lean as this program 
runs only when you need the particular material.
If split valuation is active for your material, you can always search among your vendors to find 
the lowest priced vendor and place a PO with him.
Stock determination component is tightly integrated with many modules of SAP system. First 
of all, it is an integral component of SAP MM–IM. It is integrated with SAP WM so that your 
search for material also includes your warehouses. Stock determination is then integrated with 
SAP SD so that availability check for stocks can be performed when taking orders. It is inte-
grated with SAP LO–BM so that batches can be searched when stock determination is performed. 
Similarly, components of SAP PP such as production orders (PP-SFC), Kanban (PP-KAB), and 
repetitive manufacturing (PP-REM) are integrated with stock determination so that materials 
required for PP can be found out using stock determination.
Create Stock Determination Strategy
To create a stock determination strategy, you have to find the transaction, stock determination strategy 
rule, material, and various inventory parameters. The transaction or event for various types of stocks 
such as consignment, unrestricted use, pipeline material, project, or sales order has to be defined. Then 
you have to define the storage location from where the stock has to be issued. You can make a stock 
determination strategy online or in background. When a list of probable stock storage locations is 
found, you have to define the sort criterion so that the most preferred locations are selected first. You 
can also link this sort criterion to parameters such as batch determination or storage type search. If 
split valuation is active, you can include the valuation of stocks in the search criteria.
SAP has also built enhancements so that the search criteria can take vendor or valuation type 
into consideration.

SAP MM Inventory Management  ◾  127
Material Valuation
Any material for any organization is procured from different sources. It can also be built in-house. 
Due to differences in procurement, a material can have different prices for different kinds of sourc-
ing. To handle this functionality, in SAP split valuation concept for materials is implemented.
In SAP, there is a concept called valuation category. Using valuation category, you can dif-
ferentiate various sources from where the material is procured. A material can be either procured 
externally or built in-house. Similarly, different vendors will have different prices for the same 
material. Again, a batch of material will have a different price compared to another batch. All these 
factors can determine the valuation category for a material.
Within each valuation category, there could be differentiating factors. For example, due to 
proximity of one supplying location of a vendor, the price for a material is lower compared to that 
for another location. This differentiation in price of the material can be taken into consideration 
in a concept called valuation type.
In SAP, material valuation helps in determining the value of any stock stored at any storage 
location. It also helps in determining new value if a stock of a material is transferred from one 
location to another. Material valuation is done using the concepts of valuation category, valuation 
type, value string, and valuation class.
Valuation category. It is the top-level structure for valuation. It determines whether the same ­material 
at different storage locations can be valued together or separately. For example, if the material is 
procured externally as well as produced internally, the price for the two will be different.
Valuation type. It is a subtype of valuation category. It is used in conjunction with split valua-
tion. Together with split valuation, there is also a batch concept involved. So one batch of 
material will have a different price than another batch of material.
Value string. Value string is the key combination of valuation type, valuation class and valuation 
category. It is formed automatically by SAP and is used internally by SAP for identifying the 
correct G/L account for any inventory transaction.
Valuation class. It is used for assigning G/L accounts to materials. So the same material with dif-
ferent batch numbers will be assigned to different G/L accounts. At the same time, different 
materials belonging to the same material type can be assigned to the same G/L account. For 
example, all externally procured raw materials, whether same or different, can be assigned to 
the same G/L account maintained for one vendor. Similarly, all semifinished goods can be 
assigned to the same G/L account.
Joint Valuation
Joint valuation is the opposite of split valuation. Here, all stocks of a material are valuated (priced) 
exactly the same. So at any given point of time, value of all stocks of a material for a plant or stor-
age location will be the average value derived from standard calculation. Whenever any goods 
issue is done from any of the stocks, the valuation will be done based on this average value and not 
on individual value of any stock.
Implementing Split Valuation
In split valuation, each stock of the material is valuated separately. If you are keeping stock of 
the material at five places separately, you have five separate valuations for the same material. In 
material master, you can define the valuation category and valuation type. To do it, first create a 

128  ◾  The SAP Materials Management Handbook﻿
material master record that will serve as a template to create material masters for each valuation 
type. In this material master, you will enter the valuation category. This material master is known 
as valuation header record. You will have to create one valuation header record for each of your 
plant or company code. This will depend on how your system is customized for valuation. If your 
valuation level is at company code, there will be one valuation header record per company code. 
If the valuation level is at plant, each plant will have one valuation header record. In the valuation 
header record, the price control is “V” (moving average price).
Now extend the material master. On the “Organization levels” dialog box, enter your plant, 
storage location, valuation category, and valuation type, and save your data. You will extend the 
material master for each of the valuation type.
Valuation type data contain three sets of data: One set of data contains valuation data such as 
valuation price, total stock quantity, and total stock value. Each valuation category will have one 
such set of data at valuation area level. The other set of data is stored at storage location level. If 
batch management is also active for the material, a third level of data will also be present at the 
batch level.
Serial Numbers in Goods Movements
If assignment of serial numbers is mandatory and you enter a goods movement, a dialog box will 
appear where you either enter your own serial number for each serialized material or have the 
numbers assigned by the system. For example, if you post three pieces of a material, you must enter 
three serial numbers (or have them assigned by the system).
A stock transfer (plant to plant) of materials with serial number management is only possible 
if the same profile is assigned to the material in both plants. For goods movements for STOs with 
no involvement of the Shipping component, you must enter the serial numbers manually.
When goods movements for STOs involve Shipping, there are two scenarios. When a GI is 
posted for a delivery, the serial numbers are taken from the delivery. When a GR is posted for a 
delivery, the serial numbers are also taken from the delivery. If you enter the GR referencing the 
PO and not the delivery, however, you must enter the serial numbers manually.
Goods Movement via Shipping
Goods movements with shipping are required when you want to have activities such as pick-
ing, packing, and transportation in the goods movements. For goods movements via shipping, 
there must be some prerequisite data in the system. These include plant data, sales organization, 
distribution channel, shipping point, and division in SAP SD module. SD data should also be 
there in material master. The customer field in vendor master as the vendor is also a customer 
in this case.
In goods movement via shipping functionality you can issue goods for a delivery, stock transfer 
using STOs, returns from customers, return deliveries to vendors, and returns for STOs. You enter 
these goods movements from the Shipping menu (transaction code VL01N for Create Outbound 
Delivery with Reference to Order or transaction code VL01NO for Create Outbound Delivery 
Without Reference to Order). Goods movements via shipping are represented in the system by the 
movement type 6XX. You can find an overview of all the movement types in the Copy/Change 
Movement Types step in the Implementation Guide (IMG) for Inventory Management.

SAP MM Inventory Management  ◾  129
Materials Requirement Planning
There are many ways to plan the requirement of materials But first let us understand the concepts 
of safety stock and reorder point, which are central to MRP in SAP.
Safety Stock and Reorder Point
In some industries, confirmed sales orders make the basis for calculating the required quantity of 
raw materials and semifinished materials. In this case, there is no need to keep safety stocks. But 
it rarely happens because there is a lead time involved in getting the raw materials from vendors. 
To cover for this lead time, a buffer in the form of safety stock is required at the production site.
In many industries, forecast of sales orders makes the basis for calculating the required quan-
tity of raw materials. Based on this forecast of sales orders, a forecast of required raw materials is 
calculated. Due to the lead time in procurement process, a safety stock is calculated. But more 
importantly, a safety stock is also needed to cover for uncertainty in the forecast. For instance, 
if the forecast accuracy is predicted at ±10%, the safety stock should also be ±10% more or less 
than the forecasted quantity of raw materials required.
One more kind of raw MRP is based on consumption. From the past consumption of raw 
materials, future required quantities of materials are calculated. In this case, the MRP does not 
take into consideration the sales orders or forecasted sales orders.
In SAP, various kinds of MRP methods are available. But all of these are basically variations 
of consumption-based planning. MRP is not based on master production schedule (MPS). So 
the MRP calculations are not driven by MPS planned independent or dependent requirements. 
Instead, it is triggered when the stock falls below a safety stock level or when a material is planned 
in MRP by including it manually.


131
Chapter 6
Customizing in Material 
Masters
Introduction
In SAP, there are many features by default which can be immediately used when you install it. 
SAP generates the default data for all the masters that can be used immediately. However, your 
customer may have different requirements from what is available in this standard installation of 
SAP system. In such cases, you need to customize your installation of SAP system.
SAP system customization is done using SAP Customizing Implementation Guide (IMG) 
using the command SPRO → IMG.
Any SAP system can be customized in many ways, some of which are as follows:
◾
◾Changing or creating settings in IMG
◾
◾Using variants (screen variant, standard variant, and transaction variants)
◾
◾Using field selection (hide, display, required entry or optional entry)
◾
◾Using Business Add Ins (BAdI)
◾
◾Through programming using Application Linking and Embedding (ALE), Business 
Application Programming Interface (BAPI), and other Advanced Business Application 
Programming (ABAP) workbench components
ABAP programming is out of scope for this book. We will only cover non-programming 
­methods for changing standard user screens. We will show you examples of using ­variants and 
field ­selections to customize your implementation of SAP system. But before that, we will show 
complete listing of settings available in IMG for materials management and how to change those 
settings and what it means to change those settings. Whatever you see in the SAP standard sys-
tem is the result of the default settings in the IMG. As per the requirement of your customer, 
you can change these settings and achieve a desired functionality in your SAP implementation.

132  ◾  The SAP Materials Management Handbook﻿
SPRO and IMG for SAP MM
In SAP, if you want to customize the user screen from the standard SAP, you have to use SPRO. 
SPRO stands for SAP project reference object. Inside SPRO, you can find any SAP object or 
source code to modify. It is the complete repository of not only what SAP has provided but also 
the changes the customer has brought by introducing new source code or linking third-party 
applications.
IMG stands for Implementation Guide for R/3 Customizing. Inside IMG, you can see the 
entire directory of each and every source code and object and their settings. It is the place where 
you need to do new settings of objects and insert new source code. In IMG, there are three menu 
paths where settings related to SAP MM are done:
	
1.	SPRO → IMG → Enterprise Structure
	
2.	SPRO → IMG → Logistics General → Material Master
	
3.	SPRO → IMG → Materials Management
In the SPRO → IMG → Enterprise Structure command, you can define and maintain various 
SAP MM-specific organization entities such as plants, purchase organizations, and vendors. Other 
top-level organization entities such as company codes, controlling structure, profit center, and 
sales organization are also created and maintained here by consultants in SAP finance (FI), SAP 
controlling (CO), SAP sales and distribution (SD), and so on.
Apart from creating and maintaining organization entities, there is also a facility to link the 
entities by assigning these entities to higher level entities so that complete organizational structure 
can be made.
Apart from these three menu paths, you also need to use the menu path SPRO → IMG → 
SAP NetWeaver when you have to set variants of transactions and screens.
Transaction Variants in Material Master
An example of a transaction variant could be configuring a purchase order (PO) type which your 
company uses and which is not available in the standard configuration. You can make this trans-
action variant as default so that when the user runs the transaction code, he/she gets this variant 
in place of the standard transaction. For example, if you have created a transaction variant named 
“Call-off order” which you have created from standard PO, when you run the transaction code 
ME21N, this “Call-off order” will be displayed instead of the standard PO. This functionality is 
known as standard variant.
Field Display Characteristics
There are two menu paths in SAP IMG to change standard screens, transactions, and fields:
	
1.	SPRO → IMG → SAP NetWeaver → General Settings → Field Display Characteristics → 
Configure Application Transaction Fields
	
2.	SPRO  → IMG  → Logistics General  → Material Master  → Configuring the Material 
Master → Field Selection

Customizing in Material Masters  ◾  133
In fact, at SPRO → IMG → Logistics General → Material Master, there are loads of set-
tings which you as the SAP MM consultant can use to configure SAP in many ways. We 
will see how this is done in the section on material master field selection section later in this 
chapter.
Enterprise-Level Setup
At enterprise level, valuation level, plant, storage location, and purchasing organization are set up 
from SAP MM. Other entities, such as company code, charts of accounts, sales organization, and 
so on, are set up by the respective SAP module teams.
Plant and Valuation Area Setup
Menu path: SPRO → IMG → Enterprise Structure → Definition → Logistics–General
Define Valuation Level
Valuation level can be set up either at company code level or at plant level. Once it is set up, it can-
not be changed. If valuation level is set up at plant, each plant can have its own valuation of stock 
of materials. So the prices of the same material at different plants can be different. If the valuation 
is at company code level, the prices of the same material across all plants belonging to the company 
code will be the same
Define, Copy, Delete, and Check Plant
You can create, maintain, and delete the plants here. When you define a new plant, it is better to 
copy from an existing one.

134  ◾  The SAP Materials Management Handbook﻿
Define Location (for Plant)
You can define the location of the plant.

Customizing in Material Masters  ◾  135
Define, Copy, Delete, and Check Division
You can define the division here. The division could be a line of business.
Storage Location and Purchasing Organization Set Up
Menu path: SPRO → IMG → Enterprise Structure → Definition → Materials Management
Maintain Storage Location
Storage location is a place where inventory is kept. All stocks of any material must be kept at one 
of the storage locations. You can define and maintain the storage locations for each plant.

136  ◾  The SAP Materials Management Handbook﻿
Maintain Purchasing Organization
You can create and maintain the purchasing organizations here. Purchasing organizations are 
responsible for all external procurement needs of any company.
Assigning Plant and Valuation Area
Menu path: SPRO → IMG → Enterprise Structure → Assignment → Logistics–General
Assign Plant to Company Code
After defining the plants, you need to assign each plant to one of the company codes. Only then 
the plant can be used for transactions in the SAP system.

Customizing in Material Masters  ◾  137
Assign Business Area to Plant/Valuation Area and Division
You can assign the business areas to plants, valuation area, and division here.
Assigning Purchase Organization
Menu path: SPRO → IMG → Enterprise Structure → Assignment → Materials Management
Assign Purchase Organization to Company Code
Purchasing organizations can be used under a client at many levels. But in general a purchasing 
organization belongs to one company code. So in this IMG activity, you assign a purchasing 
organization to a company code. In this scenario, a purchasing organization can procure for many 
plants.

138  ◾  The SAP Materials Management Handbook﻿
Assign Purchase Organization to Plant
It is possible that a purchasing organization is not attached to a company code, and instead it is 
attached to a plant. In this scenario, a purchasing organization can procure for just one plant.
Assign Standard Purchase Organization to Plant
Standard purchasing organization is used when a pipeline, consignment, or stock transfer order 
is used and you want to ensure that a particular purchasing organization will do the procurement 
for the plant (out of all purchase organizations which can do procurement for that plant). In such 
case, you make this purchase organization as the standard purchase organization for that plant.

Customizing in Material Masters  ◾  139
Assign Purchase Organization to Reference Purchase Organization
In central procurement organizations where a central purchase organization is responsible to make 
central contracts for all purchase organizations that are attached to all company codes inside the 
client code, you create a reference purchase organization and assign all other purchase organiza-
tions to this purchase organization. Now the central contracts created by the reference purchase 
organization will be available to all purchase organizations.
Material Master in Logistics General Setup
Field Selection for Changing Material Master View
In SAP, there are many screens that are cluttered with too many fields. This makes the users 
get confused and also reduces their productivity. Many of these fields in fact are not used by 
the end users. So it is better to have screens with less fields so that the users will have a better 
experience.
This functionality can be achieved by using field selections. We can add necessary fields and 
delete unnecessary fields from each user screen. A good place to apply this strategy is the material 
master views. These views contain a lot of fields, most of which are not required by the end users. 
We can remove all the fields that are not required.
The steps that are required to be performed for achieving this functionality are as follows:
◾
◾Assigning fields to field selection groups
◾
◾Maintaining field selection for data screens

140  ◾  The SAP Materials Management Handbook﻿
◾
◾Defining industry sectors for specific industry field selection
◾
◾Defining plant specific field selection
◾
◾Defining plant-specific screens
◾
◾Specifying lock relevant fields
Let us discuss one example of field display customization. Use the transaction code SPRO and 
choose the menu path IMG → Logistics General → Material Master → Field Selection → Assign 
Fields to Field Selection Groups. Now click on “New entries” button. On this screen, enter your 
data and then save it. This will create a new group field that can later be used to group fields on 
any screen to either display or hide when you include it in your customization. In SAP, you can 
have a dummy field on any screen that can contain all information of the screen in a long text. 
Thus, you can in fact hide the entire screens if no input is required on that screen. In such case, the 
system will take the user from the previous screen to the next screen without showing the current 
hidden screen.
The next step is about creating data screens. Data screens define how field selection groups 
behave. Any field selection group can be hidden, optional, display only or required. These 
field values are known as field reference values. These field references can apply to a material 
type, an industry sector, or a transaction code. A field can be found on many user screens. 
For example, the field “batch managed” can be found on the material master views. On some 
of the screens, this field can be “optional,” on some other screens, it can be “required,” and 
so on. In the database, there can be only one value out of these field references. Which one 
will be saved in the database and thus will be the correct value for the field out of all these 
values? To solve this problem, in SAP there is a priority associated with these field references. 
The top priority value will be written to the database and will thus be the actual value for the 
field. The top priority field reference value is “Hide” followed by “Display,” “Required,” and 
finally “Optional.” So if a field has a field reference value of “Hide” on one screen and some 
other value on other screens, it will have field reference value “Hide” and other values will be 
discarded.
For data screens, use the transaction code SPRO and then choose the menu path IMG → 
Logistics General → Material Master → Field Selection → Maintain Field Selection for Data 
Screen. Here you can create your own data screen. But it is better to copy data screen from the 
existing transactions. It will be advisable to copy from a transaction that is a default in the stan-
dard SAP. This will make sure that your transaction works fine. For example, you can copy from 
material type KMAT to create your own material type. All the field references of KMAT will be 
copied to your own material type.
Data Screen for Field Selection Group
Now you will be able to choose which field selection groups will be optional, hidden, required, or for 
display by selecting the appropriate field reference in the “Change view: fields groups overview” and 
“Change View: Field Selection for Data Screen” screens as shown in the figures given on next page.

Customizing in Material Masters  ◾  141
Field Selection for Data Screen
The next step is to define field selection by industry sector. Both industry sector and material type 
determine the behavior of any field when a material master record is created. Follow these steps to 
define the field selection by the industry sector.

142  ◾  The SAP Materials Management Handbook﻿
Define Industry Sector and Industry Sector-Specific Field Selection
Use the transaction code SPRO and then choose the menu path IMG → Logistics General → 
Material Master → Field Selection → Define Industry Sector and Industry Sector Specific Field 
Selection. Here you can create your own industry sector that may differ from the industry sectors 
defined in the standard SAP. You can either create field selection from scratch or copy from an 
existing industry sector.
In the next step, you define field selection for plant. Use the transaction code SPRO and then 
choose the menu path IMG → Logistics General → Material Master → Field Selection → Define 
Plant-Specific Field Selection and Plant-Specific Screen Selection.
Define Plant-Specific Field and Screen Selection
Here you can restrict maintenance statuses of plant-specific fields. The maintenance statuses 
­pertain to views, tabs, or user departments available for entry on the material master.
Define Lock Relevant Indicator
In the next step, you define the lock relevant fields. Lock relevant fields are the fields in which you define 
a specific value for the field only once, and this value will remain the same and cannot be changed.

Customizing in Material Masters  ◾  143
Material Master Basic Settings
The material master basic setting section includes defining output format of material numbers, 
making global settings, maintaining company codes for materials management, defining attri-
butes of system messages, and so on.
Menu path: SPRO → IMG → Logistics General → Material Master → Basic Settings
Define Output Format of Material Numbers
You can define how long and in what pattern the material numbers should be kept in the system. 
In this IMG activity, you define the material number template and the length of the material 
number.

144  ◾  The SAP Materials Management Handbook﻿
Make Global Settings
Global setting is the place where you define many characteristics that are available when you 
create a material in the material master. This setting determines how the administrative data for 
technical data are updated when material master records are processed, defines the document 
type for design drawings if your company uses the document management system, specifies the 
remote function call (RFC) destination used to access the external purchasing catalog or search 
help function module, and determines whether the administrative data for a material are updated 
asynchronously for outstanding maintenance statuses and for technical data when transferring 
data in the background. The setting is also done for what materials may be used as a reference, for 
example, when the consumption values of another material may be used as a basis for forecasting.
If you do not want to use a particular reference material, that is, to cancel the indicator for the 
material concerned, the corresponding fields are hidden in the material master. The system can 
also dispense with certain checks, thus improving performance. You can set the indicator again 
at any time.
Maintain Company Codes for Materials Management
In SAP system, for financial documents the financial module takes care of year closing, year start 
month, monthly closing, and so on. For materials management, the same functionality associated 
with year closing, year start month, monthly closing, and so on is defined for each company code 
in this IMG activity.

Customizing in Material Masters  ◾  145
Define Attributes of System Messages
System messages can be set as warning, error, or no messages when any error is encoun-
tered ­during transactions in the system. In this IMG activity, you can define these attributes 
of system messages when any error is encountered during transactions related to materials 
management.

146  ◾  The SAP Materials Management Handbook﻿
Material Type Setup
Material type is the most important attribute for any material because it determines how a ­material 
behaves and how the material can be handled in the system. For example, a finished material has 
attributes that help the sales department to create orders for this material. A raw material has 
attributes that helps the procurement department to procure it from internal or external sources. 
A packaging material has attributes that help to take care of this material during shipping because 
if it has to be returned, the system allows the user to do so.
Menu path: SPRO → IMG → Logistics General → Material Master → Basic Settings → 
Material Types
Define Attributes of Material Types
In this IMG activity, you need to do a lot of settings to control a material type that you create or 
modify a default material type. You can define here what material views will be available to the 
user departments (accounting view, purchasing view, sales view, plant view, etc.), material status, 
price control, material quantity and value updating in valuation areas, and so on.
Assign Material Types to Special Material Creation Transactions
In this IMG activity, you can create a special material creation transaction in which you do not have 
to specify the material type when you create a material master. The material type will be supplied 
automatically.

Customizing in Material Masters  ◾  147
Define Number Ranges for Each Material Type
You can define a material type group, which may contain material types. You can then define 
external and internal number ranges for this group. Whenever you create a new material master, 
you either assign an external number from the number range or let the system assign an internal 
number from the number range.
Key Material Master Field Settings
Menu path: SPRO → IMG → Logistics General → Material Master → Settings for Key Fields
Define Material Groups
Material groups are different from material types. They are used to group together similar 
­materials. On any purchase document, if material master is not created for the material you want 
to procure, you can use the material group along with material description to create the purchase 
document.
Maintain External Material Groups
Sometimes, material groups are not defined internally and are kept externally. In such cases, these 
externally maintained material groups can be defined here.

148  ◾  The SAP Materials Management Handbook﻿
Define Divisions
You can define business divisions in your company. Material groups can be assigned to these 
divisions.
Define Material Statuses
You can define material statuses to denote if a material is blocked for some reason or if a material 
is not to be used for some purpose.
Extend ABC Indicator
ABC analysis is used to find out a detailed accounting of costs occurred in production or any inter-
nal or external activity, which results in the occurrence of costs to the company. Cost occurrence 
can be classified as very costly (A category), costly (B category), or least costly (C category). All 
materials can be classified in the ABC analysis if ABC indicator is used for all materials.

Customizing in Material Masters  ◾  149
Define Laboratories and Offices
You can define laboratories and offices in this activity. These laboratories and offices can then be 
used in conjunction with quality management.
Define Basic Materials
You can define basic materials. Based on these basic materials, you can define other materials 
that will be considered as secondary materials. This is often used with materials that are batch 
managed.
Define Storage Conditions
You can define storage conditions. These definitions can then be used to store materials in a 
warehouse.

150  ◾  The SAP Materials Management Handbook﻿
Define Temperature Conditions
Perishable materials need to be kept in frozen or temperature-controlled environments. You can 
define the temperature conditions that can be used to indicate which materials are to be kept in 
temperature-controlled environments in the warehouse.
Define Container Requirements
Many types of materials need to be placed in a specific manner inside containers for transporta-
tion. You can define these container requirements here.
Define Units of Measures Groups
You can define and maintain the units of measure groups that help in assigning the units of mea-
sure to materials for various purposes.

Customizing in Material Masters  ◾  151
International Article Numbers
International article numbers (EANs) are used to assign specific numbers to various materials for 
identification.
Menu path: SPRO → IMG → Logistics General → Material Master → Settings for Key 
Fields → International Articles Numbers (EANs)
Define Number Ranges for EANs/Universal Product Codes (UPCs)
You can define the number ranges for the EANs here.
Define Number Ranges for Perishable EANs (Four Digits)
Perishable materials have a different set of EANs. In this IMG activity, you can define EANs of 
four digits.

152  ◾  The SAP Materials Management Handbook﻿
Define Number Ranges for Perishable EANs (Five Digits)
Perishable materials have a different set of EANs. In this IMG activity, you can define EANs of 
five digits.
Define Prefixes for EANs
EANs can have a prefix. Here you can define the prefix which you use.

Customizing in Material Masters  ◾  153
Define Attributes of EANs
You can define the attributes of EANs that can be used to segregate materials based on origin, 
­manufacturing/trading, or any other criteria. At the same time, similar materials can have similar 
EANs.
Enter Standard Article Numbers
Standard article numbers (SANs) are used in retail industry. They are similar to EANs.

154  ◾  The SAP Materials Management Handbook﻿
Maintain Process Mapping
Process mapping is used to map the messages to basic message types and the direction of the mes-
sage (customer/vendor or inbound/outbound).
GTIN Mapping
Global trade item number (GTIN) is an identifier for trade items developed by GS1 (comprising 
among others of the former EAN International and Uniform Code Council) to identify, and classify 
trading goods for international trade.
Menu path: SPRO → IMG → Logistics General → Material Master → Settings for Key 
Fields → International Articles Numbers (EANs) → GTIN Mapping
Maintain Field Catalog
GTIN field catalog contains entries for customer information, originating country, destination 
country, sales organization, distribution channel, and so on. Entries in the field catalog are then 
used for making condition tables.

Customizing in Material Masters  ◾  155
Maintain Condition Tables
The condition table of GTIN contains fields that are defined in the field catalog.
Maintain Access Sequences
An access sequence contains condition tables with access sequence defined for them. How and 
when any of the condition tables are accessed depends on the access sequence defined.
Maintain Condition Types
In this IMG activity, you can define the condition types for GTIN mapping. You can also define 
the access sequence for each condition type and specify the fields that the SAP system checks while 
searching for valid condition records.

156  ◾  The SAP Materials Management Handbook﻿
Maintain Determination Procedures
The determination procedure defines the condition types that must be used during the ­determination 
process. The sequence of condition types is defined using the classification ­properties: step and 
counter. While executing the determination process, the system processes the condition types in 
the sequence of these properties.
The system stops GTIN mapping as soon as it finds a condition record. If the system finds sev-
eral condition records for the same access, it uses the condition record having the highest priority.
Assign Procedure to Document Type
The system performs GTIN mapping during the IDoc inbound process for the specified sales 
document types. In this step, you can specify if GTIN mapping should be performed for each 
individual sales document type.
Maintain GTIN Variant Type
GTIN variant types can be used in condition tables and can be filled in during maintenance of 
condition records. You can use them to control the order in which the condition records for GTIN 
mapping are applied.

Customizing in Material Masters  ◾  157
Materials Management General Settings
Materials management general settings are top-level settings at materials management level. They 
are above purchasing and inventory management levels.
Menu path: SPRO  → IMG  → Materials Management  → General Setting for Materials 
Management
Set Material Block for Material Movement
The system uses the material block to prevent more than one goods movement being posted at a 
time for the same material, thereby preventing inconsistencies between the stock quantities and 
the stock values. There are two types of material block: exclusive material block and late material 
block.
Exclusive Material Block
In this procedure, when the material master data are read for the first time for a goods movement, 
the plant data and the accounting data are locked exclusively up to the end of the goods movement 
posting. Another user cannot work with the material during this time. This ensures that the goods 
movement is valuated correctly and that the stock quantities and values are updated correctly. The 
disadvantage of this procedure is the long locking time (from the time when the material master 
data are read for the first time during the entry of the goods movement up to the closing of the 
update posting).
Late Material Block
This procedure provides for optimization of the material block due to the following reasons:
◾
◾The materials are no longer blocked exclusively, the only exception being when actual data 
is to be saved.
◾
◾The material is blocked exclusively at the latest time possible to keep the blocking time as 
short as possible.
The advantage of this procedure is that several users can enter goods movements at the same time. The 
disadvantage of this procedure is that the material master record is read several times and, in the case 
of an outward movement, lock entries of other users in the available to promise (ATP) server must be 
taken into consideration. These additional accesses have a negative effect on performance.

158  ◾  The SAP Materials Management Handbook﻿
Set Up Material Block for Invoice Verification
In this step, you specify at what point materials are blocked in invoice verification. During the 
allocation phase, all materials present in the invoice are blocked. During simulation or posting, 
materials whose stocks are to be changed are blocked and are read again when you post. When you 
post directly to a material, the given material is blocked immediately in all settings.
Activate Consignment Prices via Info Records
When you have consignment arrangement with any of your vendors, the price of the materials will 
be different from the price of the same materials when procured conventionally. This is because the 
vendor gives you an extra service by providing an inventory of the material and you do not have to 
keep the inventory yourself. The vendor in exchange charges you extra for this service.
To invoke special pricing for consignment, you need to activate the consignment prices via info 
record in this IMG activity.

159
Chapter 7
SAP MM Customizing—MRP
Introduction
Material requirements planning (MRP) is a system that is responsible for finding out purchasing 
requirements for any plant. MRP takes the quantities of finished products to be made to fulfill 
the customer orders. From these quantities, it calculates the required quantities of raw materials to 
make the production order quantities of finished products.
MRP generates planned orders for required raw material quantities on dates. These planned 
orders can be manually or automatically converted into purchase requisitions. The purchase req-
uisitions can in turn be manually or automatically converted into purchase orders or any other 
external purchasing documents such as contracts and request for quotation (RFQ).
Consumption-Based Planning
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning
Define Parallel Processing in MRP
By using the parallel processing techniques, you can significantly improve the run time of the 
total planning run. For this purpose, you can choose various sessions on one server or several serv-
ers. The parallel processing procedure runs according to packages using the logic of the low-level 
codes: A package (size to be defined) is distributed over the individual servers/tasks. Once the 
server/session has processed one package, it starts processing the next one of the same size.

160  ◾  The SAP Materials Management Handbook﻿
Once the low-level code has been completely processed, the finished tasks must wait until the last 
task in the package has finished processing to avoid inconsistencies. Then the next low-level code 
is processed package by package. The parallel processing technique is switched on from the initial 
screen of the total planning run.
Plant Parameters
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → Plant 
Parameters
Carry Out Overall Maintenance of Plant Parameters
In this IMG activity, you perform several tasks. These tasks include defining the number ranges, 
MRP controllers, special procurement, floats for time horizons in planning, conversion of planned 
orders to purchase requisitions, conversion of purchase requisitions to purchase orders, reschedul-
ing, planning horizons, stock availability checks, error handling during planning, and so on.
Whenever there is a change in any parameter related to these tasks, you maintain these tasks.
MRP Groups
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → MRP 
Groups
Carry Out Overall Maintenance of MRP Groups
For each MRP group, you need to do maintenance of planning tasks regularly because one 
planning parameter or the other gets changing from time to time. These planning tasks include 

SAP MM Customizing—MRP  ◾  161
scheduling document type for external procurement, rescheduling horizon, planning horizon, 
maximum MRP interval for MRP runs, safety stock check, MRP planning creation indicator, 
project plan inclusion in MRP planning run, and so on.
Define MRP Group for Each Material Type
Each material type needs to have an MRP group defined. This is done in the IMG activity.
Number Ranges
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Number Ranges
Define Number Ranges for Planning Run
The planning run for MRP generates a lot of documents. These documents include planned orders, 
purchase requisitions, MRP lists, dependent requirements, total requirements, simulative depen-
dent requirements, and so on. Each of these kinds of document needs to be tracked. The system 
generates a unique number that is attached to the generated documents. These unique numbers 
help in tracking these documents. You can define the number ranges for each kind of documents 
in this IMG activity.

162  ◾  The SAP Materials Management Handbook﻿
Define Number Ranges for Manual Processing
In the preceding IMG activity, we defined the number ranges for documents wherein the num-
bers are automatically generated. But it is also possible that you can maintain an external number 
range and assign the numbers manually to the documents generated during MRP planning. In 
this IMG activity, you can define the number ranges which you assign to the documents manually.
Master Data
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Master Data
Define MRP Controllers
MRP tasks are performed by an MRP controller who maintains MRP parameters and runs MRP. 
In this IMG activity, you define the roles of MRP controller for all MRP areas and assign them to 
users who will act as MRP controllers.

SAP MM Customizing—MRP  ◾  163
Check MRP Types
In this IMG activity, you can define various types of MRP in the system. MRP types are defined 
by selection of MRP procedure, firming of plan type, forecast inclusion in planning, calculation 
of safety stock and reorder point, and so on.
Define Special Procurement Types
Procurement types can be special when you have consignment, subcontracting, and pipeline type 
of procurement. In this IMG activity, you can define for which plant special procurement type 
needs to be created. Additionally you can also define if any of the procured material needs to be 
part of a Bill of Materials (BOM).

164  ◾  The SAP Materials Management Handbook﻿
Maintain Planning Calendar
For MRP planning purpose, you need to create a planning calendar for each plant or MRP area. 
You can name the calendar and specify the dates for planning run, planning periods, and so on.
Reference Plant for Access to Central Master Data Tables
The reference plant is used to reduce maintenance effort for the master data including planning 
calendar, planning cycle, range of coverage profile, and rounding profile.

SAP MM Customizing—MRP  ◾  165
Using the function, “reference plant,” you only need to maintain this master data in one plant (in 
the reference plant). The other plants that use the same master data only need to refer to the refer-
ence plant. In this way, all the master data that have been maintained in the reference plant are 
automatically available for the assigned plants.
MRP Areas
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Master Data → MRP Areas
Define MRP Areas
In this IMG activity, you define the MRP area for every plant for which you would like to carry 
out MRP separately. You assign the materials to the MRP areas by creating a segment for the MRP 
area in the material master record.
There are three types of MRP areas: type 01 for plant, type 02 for storage locations, and type 03 
for subcontractors.
Type 01 for Plant
The plant MRP area initially contains the plant together with all its storage locations and stock 
with subcontractors. It is created automatically when you convert the existing planning file entries 
to the planning file entries for MRP areas.
When you have defined MRP areas for storage locations and subcontractors, and assigned the 
materials, the plant MRP area is reduced by exactly this number of subcontractors and storage 
locations, as they are now to be planned separately.

166  ◾  The SAP Materials Management Handbook﻿
If you have not assigned a material to an MRP area, that is, you have not created an MRP 
area segment in the material master record, the material will continue to be planned in the plant 
MRP area.
Type 02 for Storage Locations
You choose this type for MRP areas that consist of one or more storage locations. A storage loca-
tion can only be assigned to one MRP area.
Type 03 for Subcontractors
You choose this type if you would like to define an MRP area for a subcontractor. You can only 
assign one subcontractor to an MRP area of the subcontractor type.
MRP Planning Settings
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Planning
Activate MRP
In this step, you make the settings for activating MRP, setting up planning file, and carrying out 
consistency check for planning file. These are required for carrying out the planning run. MRP 
planning will be made for which plants, if incremental or complete planning run will be done, and 
so on, considerations are thought out for the planning run.
The planning file controls the total planning run for the planning procedures “net change 
­planning” and “net change planning in the planning horizon.” It contains all materials that can 
be relevant for the planning run. A material is automatically recorded in the planning file with the 
valid MRP type when it is created. The planning file uses various indicators to control whether the 
material is included in the planning run.
Check for planning file is done to ensure that whether MRP is deactivated, materials planning 
for material master records by using the MRP type “No planning” are deactivated, or material 
master records that were previously set to “No planning” with a valid MRP type are activated.

SAP MM Customizing—MRP  ◾  167
Define Scope of Planning for Total Planning
In this IMG activity, you define all plants and all MRP areas that will be included in the planning 
run. For example, you can exclude an MRP area that belongs to a plant but include other MRP 
areas for the same plant in the planning run. If a plan has many MRP areas and you have selected 
only plant, MRP run will be done for all the MRP areas for that plant.
Define Creation Indicator
On the initial screen for the planning run, you can use creation indicators to determine whether 
purchase requisitions are always to be created in the planning run, whether they are only to be 
created in the opening period, or whether schedule lines are to be created. In this step, you can 
define special creation indicators for the MRP groups for purchase requisitions, MRP lists, and 
schedule lines.
Define Floats (Scheduling Margin Key)
Floats are schedule margins for production because the required parts are available on time for 
departments that consume these parts as raw materials. Floats can be time period either before 
production or after production.

168  ◾  The SAP Materials Management Handbook﻿
Parameters for Determining Basic Dates
In this step, you can determine per plant that the system will not automatically switch to the 
forward scheduling for calculating the basic dates if the planned start date lies in the past. If this 
indicator is set, the system will only use the backward scheduling procedure for calculating the 
basic dates, even if the start date ends up in the past.
Activate Runtime Statistics
In this step, you define and activate the runtime statistics. These statistics are used to check the 
run time of the planning run. For every plant, you can determine whether a statistic check is to be 
carried out or for which materials an entry should be made in the runtime statistics list during the 
planning run. An entry in the statistics is then made for the multiple of this value.
Define the Maximum MRP Period
Maximum MRP period is the regular period for which you make MRP plan for external or in-
house production procurement. The implication is for the lot size of the planned materials. You 
can use the maximum MRP period to avoid a situation where order proposals that were created 
with the long-term lot size move into the short-term area as no changes have been made which are 
relevant to the planning run.

SAP MM Customizing—MRP  ◾  169
Indicator for Only Firm Transmitted Schedule Lines
For scheduling agreements, the firmed schedule lines are those which come within the planning 
time horizon. All other schedule lines that are outside the planning time horizon are still tentative. 
They will become firm when the planning horizon moves within the dates in which these schedule 
lines fall. This is a continuously moving phenomenon.
The firmed schedule lines can be transmitted to the vendor if the indicator is set in this activity.
Maintain Correction Factors for Forecast
The forecast used in MRP planning is based on past consumption. To make the forecast more 
accurate, a correction factor can be applied over the result of the required materials obtained from 
the forecast. This correction factor is based on experience taking into account seasonal, promo-
tional, and other factors. So in this IMG activity, you maintain correction factors for each plant 
for each time period of the year.

170  ◾  The SAP Materials Management Handbook﻿
Define Start Time of Sporadic Background Jobs
Background jobs in the MRP include MRP record for changing BOM explosion numbers. In this 
IMG activity, you can define at what time of the day this background job can start.
Define the Storage Location MRP per Plant
The storage locations of each plant which should be considered for MRP planning can be defined 
in this IMG activity. Some storage locations can be completely excluded and some can be consid-
ered for separate stock replenishment per MRP run.
MRP Calculation
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Planning → MRP Calculation
Define Planning Horizon
You can define planning horizon for each plant or MRP group. In this kind of planning run, the 
system only plans the materials that have undergone a change in the planning horizon that is rel-
evant to MRP. In such cases, the material receives a net change planning indicator in the planning 
file. You make this specification for a plant. You can determine an alternative planning horizon for 
the MRP groups. The length of the planning horizon should at least include the period in which 
sales orders are received, the delivery times, or the total lead times of the materials.

SAP MM Customizing—MRP  ◾  171
Define Rescheduling Horizon
For each plant, you can define rescheduling time horizon to make net changes for requirement. 
The net changes in requirement may result in change or creation of a scheduling time horizon.
The rescheduling horizon is the period in which the SAP system checks whether the exist-
ing dates still suit the requirements situation for the elements received which can no longer be 
automatically changed in the planning run. If the dates of a particular element are no longer suit-
able, exception messages are created depending on the requirements situation. If the date of the 
requirement lies before the date of the receipt element, bring the element forward. If the date of 
the requirement lies after the date of the receipt element, postpone the element. If the requirement 
no longer exists, delete the element.
Define Error Handling
In the standard SAP system, the following error handling is defined by default:
	
1.	Material does not exist
	
2.	Error reading the forecast parameters
	
3.	Error reading the forecast values
In these three cases, the system generates the error and MRP planning run is stopped. You can 
define error messages for other types of situations.

172  ◾  The SAP Materials Management Handbook﻿
Define Range of Coverage Profiles (Dynamic Safety Stock)
Using the range of coverage functions, you can determine a safety stock level that is based on 
the requirements and the range of coverage. The dynamic safety stock is automatically adjusted 
to make changes in requirements and is fully available for MRP. The calculation of the dynamic 
safety stock can be limited—by entering the maximum and minimum ranges of coverage and by 
determining the various periods for the validity of the range of coverage.
Define Period Profile for Safety Time/Actual Range of Coverage
During promotions or seasonal demand, safety time or actual range of coverage is higher because 
of higher demand compared to normal demand at other times of the year. So you define the period 
profile for normal and peak demand periods accordingly.
Safety Stock Planning
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Planning → MRP Calculation → Stocks
Define Safety Stock Availability
In this IMG activity, you define the percentage of the safety stock to be available for planning. 
This function is used to avoid a situation where orders proposals are created unnecessarily by the 

SAP MM Customizing—MRP  ◾  173
system to cover small shortage of quantities. In MRP, the system usually carries out the lot-size 
calculation for every shortage and creates an appropriate order proposal or, if already available, a 
firm receipt with a rescheduling proposal.
Define Stock in Transfer and Blocked Stock Availability
When calculating the required quantities of material in MRP, you should also indicate if some 
stock is in transfer state or a plant or some stock is in blocked state so that MRP can take care of 
these quantities and calculate the material quantities accordingly.
Lot-Size Calculation
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Planning → Lot-Size Calculation
Define Lot-Sizing Procedure
Apart from actual quantities of the required material, it is also important to consider lot sizes 
because many materials cannot be delivered in just any quantity but they are handled in lot sizes. 
It makes sense because the economie costs of transportation, order, and so on are involved. So even 
if the actual quantity required is say 35 pieces of a component but from an order economics point 
of view a minimum of 100 pieces needs to be ordered. In such a situation, the MRP will generate 
a required quantity of 100 pieces.

174  ◾  The SAP Materials Management Handbook﻿
Maintain Rounding Profile
If many units of measures are maintained for a material, converting them during planning may 
require rounding the quantity. For example, if the order unit is kilogram but stock-keeping unit is 
pieces, the number of pieces that may fit into 1 kg may not be a round figure. The system will then 
calculate the conversion as per the rounding profile. Two types of rounding values are maintained: 
(1) threshold value and (2) rounding value. The threshold value is the value from which the system 
rounds up to the next deliverable quantity. If the threshold value is not reached, the system rounds 
the quantity according to the next lower level. If the lowest level is not reached, the system rounds 
up to a multiple of the rounding value; in such case, the requirements quantity is larger than 
the threshold quantity. Otherwise, the requirements quantity remains unchanged. The rounding 
value is the value to which the system rounds the quantity if the threshold value is exceeded.

SAP MM Customizing—MRP  ◾  175
Procurement Proposal
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Planning → Procurement Proposals
Define External Procurement
For each plant, you can define an external procurement profile in which you define the purchase 
process time, planned delivery time, account assignment for nonvaluated materials, and so on.
Define Line Item Numbers
If you define line item numbers for each plant, these line item numbers will be assigned to the 
automatically created purchase requisitions and reservations.
Procurement Proposals
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Procurement Proposals

176  ◾  The SAP Materials Management Handbook﻿
Define Order Profile
Order profile consists of parameters such as order type, procurement type, special procurement 
type, and account assignment category. You must group together these parameters to control 
procurement.
Define Conversion for Planned Orders into Purchase Requisition
You need to specify the number of planned orders that will form one purchase requisition.
Define Conversion of Purchase Requisitions into Purchase Orders
In this IMG activity, you define as to how conversion of purchase requisitions to purchase 
orders will take place and which steps in the conversion process will be automatic and which 
steps will be manual. The steps involved in the conversion process include selecting the pur-
chase requisition items before the transfer, transferring the purchase requisition items into the 
purchase order, and transferring the purchase requisition items into the purchase order and 
post the document.

SAP MM Customizing—MRP  ◾  177
Evaluations
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Evaluations
Check Texts for MRP Elements
In this IMG activity, you will define texts that will be used for MRP elements.

178  ◾  The SAP Materials Management Handbook﻿
Define Receipt Elements for Receipt Days’ Supply
The receipt days’ supply is calculated in each MRP run and when the stock/requirements list is 
accessed or changed online. Two receipt days’ supplies are displayed in the evaluations of the MRP 
run. They are calculated using different receipt elements. In the safety stock field, you can also 
define that the days’ supply is calculated up until the physical warehouse stock is fallen short of. 
You can define this for the range of coverage and the receipt days’ supply. The system then docu-
ments the number of days until the stock sinks below 0. The standard setting is such that the days’ 
supply is calculated until the safety stock is fallen short of.
Define Screen Sequence for Header Details
The MRP type controls the screens that are displayed in the evaluations of MRP. The screen 
sequences are given a number, which is assigned to the MRP type. This enables you to display 
different master data for the evaluation of consumption-based materials from the evaluation of 
planning-based materials.

SAP MM Customizing—MRP  ◾  179
Define Navigation Profiles
The navigation profile can be created for individual MRP roles. The navigation profile contains the 
number of the transaction call (if applicable), the indicator for the MRP element (only for transac-
tion calls per MRP element), the transaction code (if applicable), the icons, the icon text, the menu 
text, the information text, the parameters (which enable you to skip the initial screen of the trans-
action), the conditions (which must be given for the transaction call to be offered—only for gen-
eral transaction calls), and the application component (operational and/or long-term planning).

180  ◾  The SAP Materials Management Handbook﻿
Define MRP Views
You can create separate MRP views for MRP controllers, vendors, or product groups. The view can 
be restricted for fields such as MRP date, processing date, stock days’ supply, and first receipt days’ 
supply or second receipt days’ supply.
Activate Workflow for Mail to MRP Controller
MRP controllers can receive all notifications related to MRP messages and issues through e-mail 
if you activate this functionality.

SAP MM Customizing—MRP  ◾  181
Exception Messages
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Evaluations → Exception Messages
Define and Group Exception Messages
In this IMG activity, you can define exception messages for MRP runs and handle the errors. You 
can also group exceptions so that one message handling can handle all related exceptions.
Check Exception Group Texts
In this IMG activity, you can define the texts for exceptions. One text line can be defined to 
handle a group of exceptions.

182  ◾  The SAP Materials Management Handbook﻿
Period Totals
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Evaluations → Period Totals
Define Individual Period Split for Period Totals
In this step, you can define whether a period split takes place for the period totals display in the 
MRP list and the stock/requirements list. This means whether a less-detailed period split is divided 
and displayed in a more detailed period split at particular time intervals. These time intervals can 
be in months, weeks, or even days.
Define Period Display for Period Totals
In this step, you can specify which periods are to be displayed in the period totals display of the 
MRP list and the stock/requirements list. If you want to split the monthly or the weekly display 
into a finer split, you must define this split in the section “Define Individual Period Split for Period 
Totals.”

SAP MM Customizing—MRP  ◾  183
Filters
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Evaluations → Filters
Define Selection Rules
In this step, you can define specific business views in selection rules for all the information in the 
stock/requirements list and the planning table in repetitive manufacturing. The MRP elements for 
which you can define selection rules include planned order requirements, quotations, sales docu-
ments, dependent requirements, reservations, and so on.
Define Display Filters
In this IMG activity, you can define display filters for MRP elements.

184  ◾  The SAP Materials Management Handbook﻿
Forecast
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Forecasts
Weighting Groups for Weighted Moving Average
For forecasting purpose, you assign weight to various forecasting elements. In this IMG activity, 
you can define the weighting groups for weighted moving average values for forecasting elements.

SAP MM Customizing—MRP  ◾  185
Define Splitting of Forecast Requirements for MRP
For each plant, you can define the future time periods that you want to forecast. You also define 
how minutely you want to define the forecasts in terms of days or weeks.
Assign Forecast Errors to Error Classes
You can maintain error classes and assign forecast errors to these classes.
Historical Data and Postdistribution Forecast
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Forecast → Alternative Historical Data and Postdistribution Forecast → General Setting
Delivery Relationship for External or Internal Material Group
Accuracy of forecast is important for making realistic MRP planning. To create accurate forecasts, 
you need to consider historical data to correct the forecast data. In this IMG activity, you create a 
delivery relationship for material groups either externally or internally.

186  ◾  The SAP Materials Management Handbook﻿
Control of Alternative Historical Data and Postdistribution Forecast
If you want to use alternative historical data, define it at MRP-type level. You use the method to 
determine how and which data are to be loaded from a SAP business (data) warehouse (SAP BW) 
system. You define a method using closed loop customizing. If you do not select a method, you 
can load data using a Business Add-In (BAdI).
Define Profile for Determining Delivery Relationship
In the delivery relationship profile, you define whether and how recipients are to be included in 
the process.
Delivery Relationship for Plants
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Forecast → Alternative Historical Data and Postdistribution Forecast → Delivery Relationship 
for Plants
Profile for Determining Delivery Relationship for Plants
In this IMG activity, you can define the method for determining plants, the level for determining 
plants, the method for determining customers, and the level for determining customers. You use 
the profile for determining the delivery relationship to define which recipients are to be deter-
mined and which method is to be used to do this.

SAP MM Customizing—MRP  ◾  187
Document Types for Delivery Relationship Determination
If you have set the method “determination using existing documents,” you use the document type 
for determining the delivery relationship to define which document types are relevant for each 
document category. The document types include purchasing document types and sales document 
types. The purchasing document types are used for delivery relationship with vendors and the sales 
document types are used for delivery relationship with customers.
Authorization and Performance
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Authorization Management
Material Requirements Planning
There are many authorization objects for controlling access to various MRP and MRP-related 
objects in the system. In this IMG activity, you can use the authorization objects to restrict access 
to information such as display of stock/requirement lists, display planned orders, and firming 
planned orders for MRP.

188  ◾  The SAP Materials Management Handbook﻿
Check for Performance Settings
Menu path: SPRO → IMG → Materials Management → Consumption-Based Planning → 
Check for Performance Settings
Check Storage Mode for MRP List
In this IMG activity, you can check the storage mode for MRP lists. The system is set as standard 
to aggregate the MRP lists for storage in the database. The indicator Transp.MRP (Transparent 
storage: MRP lists) is not selected. In this case, the whole table is stored in a standard format as a 
data cluster and can no longer be read immediately. Aggregated storage has the advantage that less 
memory space is needed and higher performance is achieved. However, if you would like to store 
the MRP lists in a transparent format (table), that is, not aggregated, you have to set the indicator 
Transp.DL.

189
Chapter 8
SAP MM 
Customizing—Purchasing
Introduction
In SAP, procurement or purchasing is one of the two main functions available in SAP materials 
management (MM) along with inventory management. The purchasing part of SAP MM con-
sists of purchase requisitions (PRs), purchase orders (POs), contracts, scheduling agreements, 
and so on.
Document types of all the documents (PRs, POs, contracts, etc.) can be customized as per 
customer needs in many ways. Similarly, the material masters included in SAP MM purchasing 
(vendor, info records, source lists, purchase organization, purchasing group, etc.) can also be cus-
tomized as per customer needs. In this chapter, we discuss most of the customizations that can 
be done.
This chapter consists of the hierarchy of the menu structure and its functionalities that are 
grouped in the customization part of SAP system. So it will be easier for you to look at and practice 
these customization tasks, and thus to learn faster.
General Purchasing Functions
Create Purchasing Groups
Purchasing customization starts with customizing purchasing groups. In this activity, you create 
purchasing groups. Purchasing groups are the organization elements that are responsible for pur-
chasing similar kinds of materials or services. So we can have a purchasing group that is respon-
sible for procuring all services for the corporate office procuring materials for the production 
department.
Menu path: SPRO → IMG → Materials Management → Purchasing

190  ◾  The SAP Materials Management Handbook﻿
Maintain Search Help for Purchasing Documents
Search help enables the user to find all kinds of purchase documents that satisfy certain criteria 
sought by the user. The user can search for request for quotation (RFQ)/quotation, contract, PR, 
PO, scheduling agreement, and service entry sheet in the system. When you maintain or create 
any search help, you are actually making the fields on the purchase document searchable, that 
is, you are assigning any field on any purchase document to the search help. Then you limit your 
search function for a type of purchase document. For example, you can create a search help so that 
all POs containing a specific material should come in a search list.
In SAP, there is a default search help ASH_MEKK that belongs to a collective search help MEKK.

SAP MM Customizing—Purchasing  ◾  191
Define External Representation of Item Categories
Item categories define how a material is procured. For example, an item category “Consignment” defines 
that the material having this item category is procured from vendors using consignment strategy.
Internally, in SAP, item categories are represented by a one-character field (e.g., “3” for the 
Subcontracting item category). When you define an external representation of the item category, you 
can use a different identifier for the item categories (e.g., “L” for the Subcontracting item category).
External representation of item categories is displayed on SAP screens.

192  ◾  The SAP Materials Management Handbook﻿
Define Default Values for Document Type
In SAP, all purchase documents have a default document type. When a user uses a transaction code 
or the menu to open a purchase document, this default document type is opened. Using customiza-
tion, you can change and set a new document type. Now when the user uses the transaction code 
to open the document, he will open this new type of document instead of the previous default type. 
For example, the default PO document type in standard SAP is “NB” document type. This docu-
ment type gets opened when the user uses the transaction code ME21N. If you change it to some 
defined document type, say “NB10,” the users will open this document type instead of “NB” type.

SAP MM Customizing—Purchasing  ◾  193
Define Link to External Documents
If you have external documents that are related to a purchase document, you can provide a 
link on the purchase document so that these external documents can be accessed from the 
purchase document.
Purchasing Functions: Environment Data
Menu path: SPRO → IMG → Materials Management → Purchasing → Environment Data
Define Attributes of System Messages (SIMG_CFMENUOLMEOME0)
You can create custom messages for purchase documents so that when the user encounters any 
problem in processing the document, an appropriate message is displayed as either a warning or 
an error. Here you give a message number, application component to which the message is to be 
linked, message text, and message category (warning or error).

194  ◾  The SAP Materials Management Handbook﻿
Define Default Values for Buyers
Each user can be presented with different screens or fields on the screens of purchase docu-
ments depending on the default values you provide here. You enter the name or key of the 
default value and select the screens or fields. Now you save this default value. You can invoke 
the user profile of a user and save this default value key in the user profile. When this user 

SAP MM Customizing—Purchasing  ◾  195
works with the purchase documents, these user preferences will always be applied and he will 
see different screens and fields.
Similarly, in the tab “Fast processing,” there are settings for copying and adopting documents. 
For example, you can make settings such that a PR is adopted to a PO with all fields of the PR 
being copied to the PO.
You go to the menu in the IMG. When the initial screen appears, click on “New entries.” 
You will see a screen with seven tabs. On the first tab “Indicator,” you see choices for “Info 
record update” and “Order acknowledgement requirement.” If you check “Purchase order” 
or “Quotation” for “Info record update,” the user will see “Info record update” field on the 
PO or the quotation. It updates the PO price history for the combination of vendor, mate-
rial, plant, purchase organization, and also item category of PO (Standard, Subcontracting, 
Consignment, etc.).
When you click on the “Define default values for buyers” menu in the IMG activity, you will 
get a pop-up screen with two values: Settings for default values and Maintain users. When 
you double click the “Settings for default values” menu, you get a list of settings for the sets of 
default values. On the same screen, there is a button “New entries.” Clicking on this button, 
you will get a new screen that has seven tabs. The first tab is titled “Indicators” as shown in the 
below figure. The indicator screen is divided into two parts: “Info record update” and “Order 
acknowledgement requirement.” “Info record update” has “purchase order” and “quotation” 
records. You can set values for both POs and quotation. For example, you can set values of either 
“No update” or “Update with or without plant” or “Update with plant” or “Update without 
plant.” If you (the consultant) select “No update” for PO and save the record, then for the buyer 
(whose default values are set as “No update”) the info record values on all his POs will never be 
updated when any info record is updated. This means that the buyer will be purchasing goods 
or services at older prices than the current prices that are set in the info record currently. This 
kind of functionality is required when the buyers do purchases at the price negotiated with a 
vendor and not at the current prices.

196  ◾  The SAP Materials Management Handbook﻿
Similarly, the buyers use the functionality update with plant of info record in cases when there 
exists an info record for plants as well as for purchase organization, and the buyer wants to update 
the info record at plant level as well as at purchase organization level.
“Overview Screen” tab is divided into four parts: Item Overview, Confirmation, Sched. Lines 
(1 Line), and Sched. Lines (2 Lines). If you set any entries by selecting any of the options given 
inside any part of this screen, all buyers whose purchase screen options are set by the set of values 
maintained in this group will see the screen options set here. For example, if “Item Overview” for 
PO is selected and saved, all buyers will have PO screens with “Item Overview” in open mode when 
they open a PO.

SAP MM Customizing—Purchasing  ◾  197
The “Fast Processing” tab contains values to be set for purchasing documents for the group of 
buyers so that adopting functions from one purchase document type to another can be done, 
and thus, the values of screen elements in purchase document type can be copied over to another 
purchase document type.
The options available here enable the buyers to set their prices by either copying from another 
document type or entering manually in the purchase document.
When you create a PR or PO (when vendor is unknown), you need to select the source from where 
the goods or services will be procured. This functionality can be achieved automatically or can be 
done manually by the buyer. If you select the “automatic source determination” here, the system 
will search and find the source for your procurement automatically.

198  ◾  The SAP Materials Management Handbook﻿
Define Tax Jurisdiction
For determining taxes applicable for each procurement, you need to define the address and tax 
jurisdiction for each plant or distribution center.

SAP MM Customizing—Purchasing  ◾  199
Maintain Display Type for Date/Period
For printing and on-screen display purpose, you need to set up the day and date format for pur-
chase documents. These settings are done here.
Web Services ID and Description
If you use Web services for displaying documents or elements of any document, you need to set 
up a connection with the portal where the required element or information is stored with the pur-
chase document. You will provide all this information here.

200  ◾  The SAP Materials Management Handbook﻿
Purchasing Functions: Material Master
In this section, we discuss about setting up our environment for material master-related entries 
that are required on purchasing documents.
Menu path: SPRO → IMG → Materials Management → Purchasing → Material Master
Define Shipping Instructions
Some of the options you set here include printable shipping instruction, default shipping instruc-
tion, and whether short and long text is allowed or not.
Define Purchasing Value Keys
Purchasing value keys include delivery date deadline monitoring, goods receipt/invoice receipt 
(GR/IR) control, and vendor ­evaluation. In deadline monitoring, you can define things such as 

SAP MM Customizing—Purchasing  ◾  201
after how many days of sending PO to the vendor, the buyer can send remainder to the vendor 
about the delivery. In GR/IR control, you can define how much percentage a delivery quantity can 
be tolerated for under as well as over delivery.
Define Manufacturer Part Profile
Whenever a manufacturer part profile is required to be attached with the material you are pro-
curing, you need to define manufacturer part profile and attach it to the material. The options 
available to define a manufacturer part profile include defining whether changes are allowed in 
manufacturer part number (MPN) or not, info record creation for MPN, quality management 
processing for MPN, and so on.

202  ◾  The SAP Materials Management Handbook﻿
Define Reasons for Blocking Approved Manufacturer Part
Here you can maintain a list of reasons for blocking any approved manufacturer part.

SAP MM Customizing—Purchasing  ◾  203
Entry Aids for Items without a Material Master
Many times when the buyer creates purchase document, he does not have the material number 
­available because the material master is not created for the material at that time. In such cases, it is 
possible to still create the purchase document without entering the material number on the document.
To help the users, you can define valuation class, purchase value key, and so on at the material group 
level. When you create the purchase document with only entering the material group on the document, 
all these values associated with the material group become available to the document while saving.
Inventory Managed MPN
Menu path: SPRO → IMG → Materials Management → Purchasing → Material Master → 
Inventory Managed Manufacturer Part Number
Define Manufacturer Part Profile
This functionality is the same as that explained earlier in this chapter in the section “Define 
Manufacturer Part Profile.”

204  ◾  The SAP Materials Management Handbook﻿
Change Characteristics of System Messages
System messages are extremely important to control the usage of the application and warn 
users when some system problem is encountered. In cases when it is not possible to provide any 
option to the end user to proceed further in executing his transaction, it is better to present 
him with an error message so that the user has to abort the transaction. However, if there are 
options available so that the user can still proceed with his transaction, a warning message can 
be invoked. If the user feels to proceed ahead with his transaction, he can dismiss the warning 
message.

SAP MM Customizing—Purchasing  ◾  205
In SAP, default messages are set at transaction points when something goes wrong. You can change 
these default messages and set them as per the requirement of the customer.
Purchasing Functions: Vendor Master
Many functions that are relevant for purchasing are available in the standard SAP related to vendor 
master. You can change these default vendor master functions as well as create one in this section.
Menu path: SPRO → IMG → Materials Management → Purchasing → Vendor Master
Define Terms of Payment
In this IMG activity, you can define many terms of payment options to the vendor. The options 
can include installment payment, payment method, payment blocking mechanism, and so on.

206  ◾  The SAP Materials Management Handbook﻿
Check Incoterms
Incoterms are used to define the mode of payment over delivery. It defines how delivery for an 
order is made and how payment for the order is paid. Some popular Incoterms include FOB (free 
on board), EXW (ex works), and so on.
You can define the list of Incoterms that can be used on purchase documents.
Define Text Types for Central Texts
Here you can define the text types that can be used on purchase documents. The text type can be 
accounting texts, purchase memos, and so on.

SAP MM Customizing—Purchasing  ◾  207
Define Text Types for Purchasing Organization Texts
Here you maintain a list of text types that can be used to purchase organization-specific information.
Info Record
Info records need to be maintained in the system so that they can be used properly.
Menu path: SPRO → IMG → Materials Management → Purchasing → Info Records
Define Number Ranges
The first thing which can be used to manage info records effectively is to define number range and 
their intervals for different kinds of info records.

208  ◾  The SAP Materials Management Handbook﻿
You can define the number ranges for info records for different kinds of materials, for instance, a 
number for stockable materials and another number range for nonstock materials.
You can thus group the number ranges for info records and use the numbers in different number 
ranges.

SAP MM Customizing—Purchasing  ◾  209
Define Screen Layout
In this IMG activity, you can set up each screen used in creating, maintaining, and deleting info 
records. You can set each screen element as required entry, optional, or display only on these 
info record screens.
On this screen, you see a list of field selection groups. These groups include GR/IR control, basic 
data, reference data, administrative data, quantities, delivery monitoring, and texts. You can select 
any of the groups by clicking on it, and on the next screen, you can set the behavior of individual 
screen elements.

210  ◾  The SAP Materials Management Handbook﻿
The GR/IR control group of fields only includes valuation type. You can set it as required, optional, 
or display only.
The basic data field selection group contains fields such as vendor, material, purchase organization, 
plant, and info category. You can set these fields as optional, required, or display only as per your 
requirements.

SAP MM Customizing—Purchasing  ◾  211
The reference data field selection group contains fields such as RFQ, purchase group, material 
group, and quotation date. You can set these fields as optional, required, or display only as per 
your requirements.
The administrative data field selection group contains fields such as rejection indicator, vendor 
material group, return agreement, deletion indicator, and timely consumption. You can set these 
fields as optional, required, or display only as per your requirements.
The quantity data field selection group contains fields such as order unit, base unit of measure, 
variable PO unit, minimum order quantity, and lot size. You can set these fields as optional, 
required, or display only as per your requirements.

212  ◾  The SAP Materials Management Handbook﻿
The conditions data field selection group contains fields such as net price, condition group, input 
tax code, amortization plan data, and price determination date. You can set these fields as optional 
or required or display only as per your requirements.
The delivery monitoring field selection group contains fields such as over delivery tolerance, unlim-
ited over delivery, shipping instruction, order acknowledgement requirement, and GR-based invoice 
verification. You can set these fields as optional, required, or display only as per your requirements.

SAP MM Customizing—Purchasing  ◾  213
The text field selection group contains fields such as sort term, texts, fixed indicator, and indicator no 
material text. You can set these fields as optional, required, or display only as per your requirements.
Maintain Inspection Certificate Categories
Here, you can define the inspection certificate categories that can be used to maintain inspection 
certificates for materials. You can maintain inspection certificate categories based on certificate 
number, certificate date, country of origin for the material, and custom tariff number.

214  ◾  The SAP Materials Management Handbook﻿
Define Price History
Price history for any material can be maintained at purchase organization level. The price history 
is also available in purchase documents if it is maintained.

SAP MM Customizing—Purchasing  ◾  215
You can choose to maintain the price history for materials at purchase organization level using 
this functionality here.
Maintain Search Helps
To facilitate searching and finding info records, you can maintain search help texts.
Text for Info Records
Menu path: SPRO → IMG → Materials Management → Purchasing → Info Records → Text 
for Info Records

216  ◾  The SAP Materials Management Handbook﻿
Define Texts
You can maintain search text for both info records and POs.
Define Copying Rules
You can define the copying rules for info records as well as POs. When you copy info records or 
POs from other purchase documents, info records, or POs, it is not required to copy every element 
from the source document to the copied document. You can make rules here for copying the ele-
ments you want to copy from the source documents to destination documents.

SAP MM Customizing—Purchasing  ◾  217
Source list
Menu path: SPRO → IMG → Materials Management → Purchasing → Source List
Define Source List Requirements at Plant Level
Source lists contain sources from where procurement can be done for particular materials of spe-
cific plants. For optimizing purchasing functions, source lists are required to be maintained in 
the system. Source lists allow the system to find the best possible source for procurement of any 
material for any plant.
In this IMG activity, you can define whether you want to maintain source lists for specific 
plants.

218  ◾  The SAP Materials Management Handbook﻿
Maintain Search Helps
To find sources inside source lists, you can define and maintain search help. You can maintain the 
rules for creating and maintaining search help here.
Quota Arrangement
Menu path: SPRO → IMG → Materials Management → Purchasing → Quota Arrangements

SAP MM Customizing—Purchasing  ◾  219
Define Number Ranges
To maintain and search quota arrangements, you need to create and maintain number ranges and 
range intervals for all quota arrangement lists.
Define Quota Arrangement Usage
Quota arrangement is basically ensuring more than one source for procurement of materials or 
services. This policy ensures that the customer is not dependent on one supplier (vendor), and thus, 
any manipulation attempts by the supplier can be easily avoided.

220  ◾  The SAP Materials Management Handbook﻿
Quota arrangement can be applied for POs, scheduling agreements, planned orders, PRs, MRP, 
or production order. You can enable any kind of purchasing you want to use quota arrangement 
in this IMG activity.
RFQ/Quotation
RFQ is a time-tested procurement method used by manufacturers for a long time. RFQ ensures 
that the manufacturer gets the best possible sources for its procurements. In this section, we will 
see how we can customize RFQ functions using IMG.
Menu path: SPRO → IMG → Materials Management → Purchasing → RFQ/Quotation
Define Number Ranges
Each RFQ is assigned a unique identity number by the system by default. You can change the 
default number by using your own number ranges. In this IMG activity, you can create the num-
ber ranges for RFQs that suite your purpose.

SAP MM Customizing—Purchasing  ◾  221
Define Document Types
You can create and maintain different types of RFQ document types for various purposes. For 
example, you can have an RFQ document type for creating consignment-type RFQ documents or 
third-party RFQ documents, and so on.
When you create a new RFQ document type, it is added to the existing list of RFQ document 
types.

222  ◾  The SAP Materials Management Handbook﻿
Define Screen Layout at Document Level
In this IMG activity, you can adjust various screens of RFQ documents so that they become user-
friendly as per your needs. This is achieved using screen layout adjustment program in this IMG activity.
Maintain Quotation Comments
Whenever an RFQ is approved or rejected, you need to keep a reason for taking that action. This 
statement is kept as a comment attached to that RFQ. You should always keep standard comments 
to be used on all RFQs.

SAP MM Customizing—Purchasing  ◾  223
In this IMG activity, you can create standard comments which you can use on RFQs.
Define Tolerance Limit for Archiving
Each RFQ is closed after successful or unsuccessful bidding process. Closed RFQs need to be 
archived. You need to create a rule as to when an RFQ should be archived. For example, a rule is 
created to find out the number of days taken to archive an RFQ after it closes. This rule is created 
in this IMG activity.

224  ◾  The SAP Materials Management Handbook﻿
Release Procedure for RFQ
RFQs can be subjected to a release procedure if you want to use a hierarchy of approval authori-
ties for approving RFQs depending on RFQ value, RFQ type, or any other criteria. In this IMG 
activity, you will be creating framework for release procedures to be used with RFQs. With RFQs, 
release procedures are always created with characteristics.
Menu path: SPRO → IMG → Materials Management → Purchasing → RFQ/Quotation → 
Release Procedure for RFQs
Edit Characteristics
To create a release procedure for RFQ, first you need to create characteristics that will be attached 
to release classes.

SAP MM Customizing—Purchasing  ◾  225
Characteristics play important role in any release procedure. The values defined in the ­characteristics 
or values attached to any characteristics (e.g., values coming from some database tables) determine 
how the workflow associated with the release procedure works. For example, if the release proce-
dure has a workflow where the value of the RFQ (in terms of dollars) determines who in the hier-
archy of approval authorities needs to approve a release procedure, a value stored in a characteristic 
can be compared with the value of the RFQ and the workflow thus determines the next approval 
authority.
Edit Classes
Classes are the containers that hold the characteristics and their values. You need to create classes 
that will be attached to the release strategy.

226  ◾  The SAP Materials Management Handbook﻿
Define Release Procedure for RFQs
This is not a single IMG activity, but instead it is a collection of many activities. You need to create 
release groups, release codes, release indicator, release strategies, and workflow.
◾
◾Release groups are the hierarchy of approval levels for any release procedure.
◾
◾Release codes are the individual releasing authorities.
◾
◾Release indicators are the status of any release procedure at any given point of time during 
which the approval hierarchy is invoked depending on the release strategy.
◾
◾Release strategies are the combination of rules that determine the approval levels and approval 
hierarchy for any release procedure.
◾
◾Workflow is a process that governs the passing of approval levels for any release procedure 
during the entire releasing activity for an RFQ.

SAP MM Customizing—Purchasing  ◾  227
You can find a detailed discussion on release procedures in Chapter 4.
Check Release Strategies
Once you have defined a release strategy, you need to check whether it is working fine. In this 
IMG activity, a release procedure is run through simulation.
If a release strategy has any logical or consistency problems, detailed errors are shown during the 
simulation run of the release strategy.

228  ◾  The SAP Materials Management Handbook﻿
Texts for RFQ/Quotations
For creating and maintaining comments, notes, and important messages during processing of RFQs, 
we need to create and maintain a list of texts. These texts are used in either header or body of any RFQ.
Menu path: SPRO → IMG → Materials Management → Purchasing → RFQ/Quotation → 
Texts for RFQs/Quotations
Define Text Types for Header Texts
In this IMG step, we can create text types. These text types are then used to classify various texts.
Define Copying Rules for Header Texts
You can define copying rules for header texts so that you can copy header text data from one docu-
ment to a new document when adoption of the original document is done.

SAP MM Customizing—Purchasing  ◾  229
Define Text Types for Item Texts
You can define text types that you can attach to any text maintained on RFQ documents. Some 
examples of text types include material text for POs, instructions to vendors, and so on.
Define Copying Rules for Item Texts
Any item text can be copied from source document to destination document. You can define rules 
so that the copying of text takes place as per the rules set here. Some options for copying rules 
include text automatically adopted, text manually adopted, or text never adopted.

230  ◾  The SAP Materials Management Handbook﻿
Purchase Requisition
In SAP, PR documents have been developed with a large number of options. PRs can be used in 
many scenarios easily as SAP has developed many optional features for PRs. Many of these features 
are already integrated in the standard SAP. Many more features are available which can be custom-
ized through the IMG activities which we will discuss in this section.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Requisition
Define Number Ranges
As we have seen in previous sections, purchase documents are assigned with unique identification 
numbers for managing them internally. Sometimes, users also keep external numbering systems for 
PRs. You can define all internal and external number ranges in this IMG activity.

SAP MM Customizing—Purchasing  ◾  231
Define Document Types
PR documents are used in many scenarios. To cater to the needs of those scenarios, you can main-
tain many document types for PRs.
You can differentiate PRs based on item category, document category, and so on. So you can use 
these factors in creating different document types for your PRs.

232  ◾  The SAP Materials Management Handbook﻿
Purchase Processing Time
In this IMG activity, you can define the number of days it takes to process a purchase transaction 
for each of your plants.
The purchase processing time can then be used to calculate how many days in advance that you 
need to create PRs for your required materials.
Define Screen Layout at Document Level
We have already discussed on adjusting the screen layout for purchase documents such as contracts 
and RFQs. With PRs, you can achieve the same kind of adjustment of screens so that they are 
more user-friendly and more productive.

SAP MM Customizing—Purchasing  ◾  233
Define Tolerance Limit for Archiving
We have already discussed the tolerance limit for archiving for other purchase documents in this ­chapter. 
Tolerance limit for archiving of PRs is very similar and so does not need to be discussed separately.

234  ◾  The SAP Materials Management Handbook﻿
Maintain Search Help
We have already discussed on creating and maintaining search help for purchasing documents 
in this chapter. Search help for PRs is very similar and thus does not need to be discussed 
separately.
Set Up Authorization Check for G/L Accounts
For vendor and other partner payments for procurement, G/L accounts are maintained in the 
­system. G/L accounts are also maintained for internal management of inventory. For example, 
when inventory is moved from one storage location to another or transferred from one plant to 
another, you need to maintain G/L accounts for the inventory so that the valuation of inventory 
always reflects the current position.

SAP MM Customizing—Purchasing  ◾  235
In some company codes, you may not need to make an authorization check for viewing G/L 
reports. But in some other company codes, you may need to restrict as to who can view which 
G/L account reports. In this IMG activity, you can set the check for access to G/L accounts at 
company code level.
Release Procedure for PR
Release procedure is an important activity for PRs because it enables the management to make 
a setup so that any PR created must be authorized before procurement operation can take place 
on it. Generally, in dollar terms, companies make sure that large purchases must be approved 
by managers who are responsible for procurement or operations of their business lines as well as 
people from the finance department. In SAP, release procedure for PRs is implemented to take 
care of many aspects during approval process for PRs.
Menu path: SPRO  → IMG  → Materials Management  → Purchasing  → Purchase 
Requisition → Release Procedure

236  ◾  The SAP Materials Management Handbook﻿
Set Up Release Procedure without Classification
A release procedure for PRs can be implemented in two ways: release procedure without classifica-
tion and release procedure with classification. Release procedure without classification for PRs is 
discussed in detail in Chapter 4.
You start this IMG activity using the menu given in the above figure. When you double click the 
link on the menu, a list of tasks will be displayed.
The first thing you need to do is to create release codes.

SAP MM Customizing—Purchasing  ◾  237
The next activity is to create release indicators. Each release indicator is created using the entry 
sheet.
Once you have created release indicators, you have to link the release codes and release indicators 
by creating release point prerequisites.

238  ◾  The SAP Materials Management Handbook﻿
The last activity is to create release strategy. Based on prerequisites, release codes and release indi-
cators, you can create release strategy.
Release Procedure with Classification for PR
Release procedure with classification for PRs is used to create classes and keep the values of certain 
criteria for invoking the release steps in characteristics. This is discussed in detail in Chapter 4.
Menu path: SPRO  → IMG  → Materials Management  → Purchasing  → Purchase 
Requisition → Release procedure → Procedure with Classification
Edit Characteristics
You create characteristics based on the values related to the value of PR or any other criteria.

SAP MM Customizing—Purchasing  ◾  239
Once characteristics are made, they are attached to classes.
Edit Classes
You create a class and attach all your characteristics to this class.

240  ◾  The SAP Materials Management Handbook﻿
Set Up Procedure with Classification
Once your characteristics and classes are made and saved, you start building your release procedure.
Release group is a group of release codes that form a decision hierarchy for any release procedure. 
You define the release groups and later add the release codes to each release group.

SAP MM Customizing—Purchasing  ◾  241
Release codes are the roles defined in SAP using which a decision-making person can authorize 
or release any PR.
Release indicator is a step in the release procedure and determines when a release procedure is 
complete for any PR. In the intermediate steps, when a release procedure is still not completed, 
the release indicator will show the incomplete status of any PR to the user.

242  ◾  The SAP Materials Management Handbook﻿
Release strategy is related to release group and release codes to release prerequisites, release sta-
tuses, and classification system to make the entire release procedure work.

SAP MM Customizing—Purchasing  ◾  243
Check Release Strategies
In check release strategy, a release procedure is run in a simulated environment to check if the 
release procedure works or not. During simulation, if any errors are encountered, a detailed error 
message is shown in a log sheet.
Text for PR
For acknowledgement, instruction, or status of any PR, users write and keep some text messages 
with PRs. These text messages can be of many types, and in the IMG activity, these types need 
to be defined.
Menu path: SPRO  → IMG  → Materials Management  → Purchasing  → Purchase 
Requisition → Texts for purchase requisition
Define Text Types
You first create a list of text types that can be used later on PRs and create rules as to how these 
texts on any PR document can be copied to another kind of documents or to another PRs when 
you need to adopt a PR to another document.

244  ◾  The SAP Materials Management Handbook﻿
Define Copying Rules
Similarly, how a text associated with a purchase document should be copied to a PR during adopt-
ing the document needs to be controlled through some rules. These rules are defined in this IMG 
activity.

SAP MM Customizing—Purchasing  ◾  245
Set Up Stock Transport Requisition
Stock transport requisition is created to transfer inventory from one plant to another plant. Before you 
can use this feature, you need to set up stock transfer rules between supplying and receiving plants.
Menu path: SPRO  → IMG  → Materials Management  → Purchasing  → Purchase 
Requisition → Set Up Stock Transport Requisition
Create Checking Rules
In this IMG activity, we create only the definition of checking rules for stock transport order.

246  ◾  The SAP Materials Management Handbook﻿
Define Checking Rule
Once checking rules have been defined, you can assign the checking rules to different kinds of PR 
document types. This makes it easy to create document type-specific availability checks.
Assign Checking Rule
In this step we assign the already defined checking rules for stock transport order (in the previous 
step) for each destination location.

SAP MM Customizing—Purchasing  ◾  247
Purchase Order
POs are the most widely used external purchasing documents. Even other types of purchasing 
documents are very often converted into POs or use POs in the purchasing cycle. For example, an 
RFQ is finally converted into a PO when the selected supplier is offered the contract. Similarly, in 
outline agreements, call-off orders (a type of POs) are used when actual purchase document needs 
to be sent to the vendor.
Due to an extensive use of POs, a lot of features have been developed to cater to the various 
scenarios in which POs are used. In the IMG activity related to POs, you will see a lot of these 
features in action.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order
Define Number Ranges
Like other types of documents, in SAP, POs are also assigned a unique number by the system 
to track them. You can create and maintain both externally maintained PO numbers and inter-
nally created and assigned PO numbers. Thus, you can maintain many sets of number ranges 
for POs.
Define Document Types
To use POs in many scenarios, it is better to create many types of PO documents. This ensures 
that user productivity gets increased and it prevents mistakes made by users when they select 
wrong values for fields such as PO type and account assignment category.

248  ◾  The SAP Materials Management Handbook﻿
Document types are used to restrict users from selecting values for fields on a PO. This function-
ality is achieved by giving permission to use only specific types of PO documents to specific user 
roles.
Set Tolerance Limit for Price Variance
When you set tolerance limit for price variance, the system will check the price of material being 
purchased against the set prices of those materials for a company code.

SAP MM Customizing—Purchasing  ◾  249
Define Screen Layout at Document Level
The default screen layout for PO documents can be changed as per user requirements by changing 
the document elements and their characteristics.
Define Tolerance Limit for Archiving
The closed POs need to be archived. The archiving tolerance limit function helps you define how 
and when the closed POs should be archived.

250  ◾  The SAP Materials Management Handbook﻿
Set Up Subcontract Order
When a subcontract order is used, the PO document carries not only the finished material being 
sent by the subcontractor but also the raw material sent by the customer to the subcontractor. For 
this kind of peculiar functionality for the PO, you need to set up the PO to take care of this aspect.
Define Reasons for Ordering
Creating orders for purchasing can be done for many reasons such as safety stock replenishment, 
urgent material requirement, and material supply at agreed time.
Define Reasons for Cancelling
Cancelling a PO is done in many circumstances. You can create and maintain all kinds of reasons 
for cancelling purchases.
Set Up Authorization Check for G/L Accounts
Not all POs should be visible to all users. They should be visible to only a certain group of people. 
Similarly, only a limited group of people should have authorization to execute POs. So access to 
G/L accounts should be restricted at company level.

SAP MM Customizing—Purchasing  ◾  251
PO Release Procedure
POs use release procedures with classification only. So first you need to create characteristics and then 
attach these characteristics to classes. Later these classes are compared against release prerequisites to 
kick release indicators. A detailed discussion on release procedures for POs is discussed in Chapter 4.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Release Procedure
Create Characteristics
Characteristics correspond to what values of POs will require releases by a series of release codes. 
So characteristics should be created accordingly.

252  ◾  The SAP Materials Management Handbook﻿
Create Class
All characteristics are attached to a class of release strategy type. So you create a release strategy 
type class and attach your characteristics to this class.
Define Release Procedure for POs
To define a release procedure for POs, you need to perform a list of tasks according to the figure 
given below.

SAP MM Customizing—Purchasing  ◾  253
The tasks include creating release groups, release codes, release indicators, release strategies, and 
a workflow.
Check Release Strategies
Once your release procedure is created, you need to check whether it is working properly. A simu-
lation facility is available to perform this task.
Text for PO
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → Text 
for PO
Define Text Types for Header Texts
POs contain informative texts at header level when the text is useful for the entire document. You 
can define text types that can be used at the header level.

254  ◾  The SAP Materials Management Handbook﻿
Define Copying Rules for Header Texts
You can define how the inserted text at the header should be copied when the PO document is 
adopted to create other kinds of documents. Copying rules can be created so that the header text 
is entirely copied as it is entered in the PO or should not be copied at all.
Define Text Types for Item Texts
The text entered at item level is good only for the item for which it is entered. You can define text 
types that are relevant at the item level.
Define Copying Rules for Item Texts
Similar to the header text, you can define copying rules for the item text.

SAP MM Customizing—Purchasing  ◾  255
Set Up Stock Transport Order
Stock transport orders are used to transport material from one plant to another. This can be 
achieved in various ways. Stock transport orders are a type of POs and you can define this type of 
order by using the steps given below.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Set Up Stock Transport Order
Define Shipping Data for Plants
If any material transfer happens for a plant, shipping data must be created for the respective plant.
Create Checking Rules
Checking rules enable to perform availability check when transfer is needed from one plant to 
another.

256  ◾  The SAP Materials Management Handbook﻿
Define Checking Rules
In this step we define checking rules for stock transport order for delivery type.
Assign Delivery Type and Checking Rules
Delivery type must be assigned to checking rules so that transfer of material from one plant to 
another can take place.

SAP MM Customizing—Purchasing  ◾  257
Assign Document Type, One-step Procedure, under Delivery Tolerance
You also need to define delivery tolerance because if more quantity of material is shipped than 
the tolerance limit, the system will not allow the shipment. You also need to assign the document 
type to the transport order so that the users can create and manage transport orders productively.
Define Requirement Profile
In this step you define requirement profile for procuring any material from supplying plants.
Activate Automatic Delivery Creation and Customer Relationship 
Management (CRM) Billing
The supplying plant must be defined as the vendor and the receiving plant as the customer in the 
system. When a transport order is received by the customer plant, it should be able to receive the bill 
sent by the vendor plant and will be able to process it.

258  ◾  The SAP Materials Management Handbook﻿
Activate Automatic Delivery Creation for PO Type and Shipping Point
If automatic delivery creation is activated for a shipping point defined for a plant and a transport 
order is created, the delivery document will be created automatically.
Stock Transfer between Storage Locations
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → Set 
Up Stock Transport Order → Stock Transfer between Storage Locations
Activate Stock Transfer between Storage Locations
Stock transfer between storage locations of the same plant can happen if the situation demands it. 
For this to happen, you need to activate this functionality using this IMG activity.

SAP MM Customizing—Purchasing  ◾  259
Assign Delivery Type and Checking Rule according to Storage Location
Once you activate the stock transfer between storage locations, you can assign the checking rule to 
the storage location and then the storage location will come on the search list when the user wants 
to transfer material to this storage location.
Define Shipping Data for Stock Transfer between Storage Locations
Once storage locations are enabled for stock transfer, you can link the shipping points that are 
used for sending and receiving material to the storage locations.
Invoice Plan
For most of the services as well as some kind of manufacturing, invoices are used for receiv-
ing payments for the services rendered. Invoice plans are periodic in nature so an invoice plan 
is in place between the service receiver and the service provider. This service plan agreement 
consists of fixed or variable payment at mutually agreed fixed time intervals. Let us see the 
various kinds of customizations that are available in the standard SAP for invoice plans in 
this section.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Invoice Plan
Maintain Data IDs
Data IDs are the heads for any type of services or any kind of payment mode to be used. For 
example, rent, engineering service, maintenance service, and so on are the different kinds of data 
IDs you can create and maintain.

260  ◾  The SAP Materials Management Handbook﻿
Maintain Date Proposal for Partial Invoice Plan
When you create proposals for invoice plan, you include information such as due dates of partial 
payments, start date, and if the due date is fixed or can vary. You can maintain all of these data in 
the proposal for invoice plans.
Define Rules for Date Determination
You can create rules for calculating due dates, baseline date, calendar type for fixing due dates 
when a nonworking day is encountered, and so on.

SAP MM Customizing—Purchasing  ◾  261
Define Invoice Blocking
You can also create rules for blocking invoice. You can create reasons and use these reasons to 
block any invoice when it arrives for payment.
Invoice Plan Type
Invoices are of two types: periodic and partial. In periodic invoice type, invoices are created and 
paid on regular intervals of time. In partial invoice type, partial invoices are prepared and paid 
during the course of completion of any service agreement. Generally, partial invoice type is used 
on projects where there is a definite start date and finish date of the project and partial payments 
for the project are paid at some fixed dates between the start and end dates of the project.
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Invoice Plan → Invoice Plan Type

262  ◾  The SAP Materials Management Handbook﻿
Maintain Periodic Invoice Plan Types
Periodic invoice types must contain the fixed time intervals at which invoices need to be created 
and paid. Apart from this aspect, other considerations include the start date, the time horizon 
(contract period), the deadline dates for payments, and so on.
Maintain Partial Invoice Plan Types
Partial invoice plans are simpler in nature than periodic invoice plans. Partial invoice plans must 
include information regarding percentage or lump sum of the total payment to be paid on what 
dates; criteria, if any, for these payments; and so on.

SAP MM Customizing—Purchasing  ◾  263
Date Categories
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Invoice Plan → Date Categories
Maintain Date Categories for Invoice Plan Type
In this IMG step, you relate data categories to invoice plan types. This makes sure that you can use 
data categories for both types of invoice plans.
Define Default Date Categories for Invoice Plan Type
The default data category is selected when you create an invoice plan.
Appointment (Door Usage)
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Appointment (Door Usage)
Maintain Appointment (Door Usage) Profile
A door usage profile is used whenever a warehouse is linked to a transportation and shipping plan. 
In the appointment (door usage) profile, you can define the type of dock doors that can accom-
modate trucks for loading/unloading, the type of materials that can be received at different dock 
doors, and so on.

264  ◾  The SAP Materials Management Handbook﻿
Assignment of Profile to Warehouse Number
Once door usage profile is created, it can be assigned to a warehouse.
Reasons for Date Variance
There can be delays in transportation of goods by any transport mode. All kinds of reasons for the 
delay can be defined here.

SAP MM Customizing—Purchasing  ◾  265
Returns Order
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Returns Order
Returns to Vendor
In this IMG activity, you can define the kinds of purchase documents that can be used for goods 
which are to be returned to vendors.
Store Return/Return Plant to Plant
In this IMG activity, similar to returns to vendor, you can define the kinds of purchase documents 
that can be used for goods which are to be returned to plants from stores.
Progress Tracking
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Progress Tracking

266  ◾  The SAP Materials Management Handbook﻿
Define Standard Events
During transportation, there could be delays. To understand the cause of any kind of delay clearly, 
we can create milestones along the travel so that the delays can be avoided in future. If any mile-
stone is missed for some reason, the event that caused the delay can be logged. For this purpose, 
events are defined in the system.
Define Event Scenarios
Delaying events can occur in many scenarios. All these scenarios for each event should be defined 
and created so that the exact scenario that causes an event can be booked and analyzed later.
Maintain Relationship between Events in a Scenario
At different times, different events can occur during transportation of goods. In this IMG activity, 
you can make a relationship among the entities and the scenarios in which they took place.

SAP MM Customizing—Purchasing  ◾  267
Assign Default Scenario to Material Group
You can create a relationship between a material group and a scenario for an event.
Maintain Profiles for an Event
You can create profiles for events and attach these profiles to the event types so that you do not 
need to define detail of the event, each time an event occurs. The profile can contain all these 
details that will be available to the event when the profile is attached to an event.
Define Progress Tracking Profile
Profiles for progress tracking can also be created and then attached to different kinds of progress 
tracking.

268  ◾  The SAP Materials Management Handbook﻿
Define Status Info Types
Events or milestones can be achieved during transportation of goods. A status of any event defines 
whether the milestone is achieved or not.
Number Range Status Information
You can maintain the number ranges for defining the event status so that the system can track 
these events.
User-Defined Evaluation
If the status of any event is managed externally, the user can maintain the status of the event using 
the externally defined status.
Empties Management
Empties management is different from managing transportation of goods. Empties first go with 
goods to customer sites and can be either returned to the vendor or kept with the customer. In 
most cases, empties need to be returned. Tracking the movement of empties thus requires special 
consideration.

SAP MM Customizing—Purchasing  ◾  269
Menu path: SPRO → IMG → Materials Management → Purchasing → Purchase Order → 
Empties Management
Activate Empties Management
First of all, empties management needs to be activated in the system only then empties can be 
managed. So in this IMG activity, you have to activate it.
Contract
Contract is a form of purchasing that allows a customer to enter into a long-term purchasing con-
tract with the vendor. In SAP, contracts are also known as outline agreements.
Menu path: SPRO → IMG → Materials Management → Purchasing → Contract
Define Number Ranges
To manage contract documents, you need to maintain either external numbers or depend on the 
system to generate internal numbers. You can manage both types of arrangements, by creating and 
managing number ranges.
Define Document Types
You can define many document types for contracts to be used in different purchasing scenarios.

270  ◾  The SAP Materials Management Handbook﻿
Define Screen Layout at Document Level
You can change the default layout by changing the screen elements in this IMG activity.
Set Up Authorization Check for G/L Accounts
You can define the rules to make sure that only authorized persons can have access to G/L accounts 
while making purchasing transactions.

SAP MM Customizing—Purchasing  ◾  271
Release Procedure for Contract
Like all other types of external purchasing documents, contracts also use release procedure with 
classification.
Menu path: SPRO → IMG → Materials Management → Purchasing → Contract → Release 
Procedure for Contract
Release procedure for contract is similar to that for PO as discussed in the section “Define 
Release Procedure for POs.” See Chapter 4 to receive a detailed knowledge on this subject.
Texts for Contract
You can create and maintain many text types so that they can be used for information during 
execution of contract documents.
Menu path: SPRO → IMG → Materials Management → Purchasing → Contract → Texts 
for Contract
Criteria for Archiving Contracts
Contracts are archived when they are closed. Like other purchase documents, create or maintain 
rules as to how the closed contract documents should be archived.
Menu path: SPRO → IMG → Materials Management → Purchasing → Contract → Criteria 
for Archiving
Scheduling Agreement
Scheduling agreements are a type of contracts that enable vendors to work closely with their 
customers. This is achieved by engaging the vendors continuously with the expected demand of 
materials from the customer over a time horizon spanning several months. As the customer keeps 
firming up his planning for the required material over a period of time, the vendors are kept 
informed about the same. This enables the vendors to plan for preparing their own manufacturing 
and procurement so that the customer demand can be met.
Menu path: SPRO → IMG → Materials Management → Purchasing → Scheduling Agreement
◾
◾Define number ranges
◾
◾Define document types
◾
◾Define screen layout at document level
◾
◾Set up authorization check for G/L accounts
◾
◾Maintenance release creation profile for scheduling agreement with release document
We will not go in depth for each and every IMG activity for customizing scheduling agreements 
as these IMG activities are similar to customizing other purchasing documents such as POs and 
contracts that have already been discussed in the sections “Purchase Order” and “Contract,” 
respectively.

272  ◾  The SAP Materials Management Handbook﻿
Release Procedure for Scheduling Agreements
Menu path: SPRO → IMG → Materials Management → Purchasing → Scheduling Agreement → 
Release Procedure for Scheduling Agreement
◾
◾Edit characteristics
◾
◾Edit classes
◾
◾Define release procedure for scheduling agreement
◾
◾Check release strategies
Release procedure for scheduling agreements are similar to that for contracts and POs, which 
have already been discussed in the sections “Release Procedure for Contract” and “PO Release 
Procedure,” respectively.
Texts for Scheduling Agreements
Menu path: SPRO → IMG → Materials Management → Purchasing → Scheduling Agreement → 
Texts for Contract
◾
◾Define text types for header text
◾
◾Define copying rules for header text
◾
◾Define text types for item text
◾
◾Define copying rules for item text
Texts for scheduling agreements are similar to those for POs and contracts, which have already 
been discussed in the sections “Text for PO” and “Texts for Contract,” respectively.
Criteria for Archiving Scheduling Agreements
Menu path: SPRO → IMG → Materials Management → Purchasing → Scheduling Agreement → 
Criteria for Archiving
◾
◾Define tolerance limit for archiving
◾
◾Set up additional checks
◾
◾Further processing for summarized purchase documents
Criteria for archiving scheduling agreements are similar to the ones for contracts, which have 
already been discussed in the section “Criteria for Archiving Contracts.”
Set Up Stock Transport Scheduling Agreement
Menu path: SPRO → IMG → Materials Management → Purchasing → Scheduling Agreement → 
Set Up Stock Transport Scheduling Agreement
◾
◾Define shipping data for plants
◾
◾Create checking rules
◾
◾Define checking rules

SAP MM Customizing—Purchasing  ◾  273
◾
◾Assign delivery type and checking rules
◾
◾Assign document type
Set up stock transport scheduling agreement is similar to that for POs, which have already been 
discussed in the section “Set Up Stock Transport Order.”
Confirmations
Confirmations are the mechanism through which messages are sent and received after goods are 
received or during transportation.
Menu path: SPRO → IMG → Materials Management → Purchasing → Confirmations
Define External Confirmation Categories
External confirmation categories are texts which are part of messages. These messages are not 
managed internally by the system and are user defined.
Define Internal Confirmation Categories
Internal confirmation categories for confirmations are the one which are managed internally by 
the system. You create these categories to categorize your confirmations.
Set Up Confirmation Control
For each company code, you can set up the types of confirmations that will be used by the com-
pany code.

274  ◾  The SAP Materials Management Handbook﻿
Set Up Quantity Difference Profiles (Automotive)
Quantity difference is the difference between the dispatched quantity and the received quantity. 
To take care of this aspect, you can set up the quantity difference profiles for different types of 
goods movements.
Define Packaging Material Type
For transportation purpose, you define various packaging material types. The same packaging 
material types can then be used in your messages.

SAP MM Customizing—Purchasing  ◾  275
Conditions
Conditions are a mechanism to control the price mechanism of materials and services. Depending 
on the criteria for calculating the price, the calculated final price from the price components is the 
price of the material or service. Conditions make the criteria for this price calculation.
Menu path: SPRO → IMG → Materials Management → Purchasing → Conditions
Define Condition Control at Plant Level
Conditions also act as filters for price components to be included or excluded during computation 
of price. When conditions are allowed at plant level, any material price components will come into 
picture during price computation of that plant. If conditions are not allowed at plant level, condi-
tions that are defined at purchasing organization level will be applied for all material and services 
when price for them is calculated.
Automatic Document Adjustment
Menu path: SPRO → IMG → Materials Management → Purchasing → Conditions → Automatic 
Document Adjustment
Define Extent of Change for Message Category CONDBI
Message category related to conditions applies when conditions get invoked for price calculation.
Activate Change Pointer for Message Category CONDBI
The condition pointers that have to be activated for price calculations can be controlled using this 
IMG activity.

276  ◾  The SAP Materials Management Handbook﻿
Control Document Adjustment
Menu path: SPRO → IMG → Materials Management → Purchasing → Conditions → Automatic 
Document Adjustment → Control Document Adjustment
Control Purchasing Document Adjustment
Conditions are part of info records. Info records in turn are used on purchase documents. To con-
trol any type of info record that can access a particular condition type, you need to link different 
info records with different condition types.
Define Price Determination Process
This IMG activity is the most important aspect about conditions. Conditions determine how price 
for a material or service should be calculated in the given situation. Price determination process is 
the most important function of conditions.
Menu path: SPRO  → IMG  → Materials Management  → Purchasing  → Conditions  → 
Define Price Determination Process
Define Access Sequences
You can define a structure like a profile for prices for material groups. In each profile, you can 
define how different condition types can be assigned a sequence for price calculation.

SAP MM Customizing—Purchasing  ◾  277
Define Condition Types
A very finely defined condition type is used in complex price calculation scenarios. You can define 
condition types based on condition class, category, rounding rule, manual changes allowed/not 
allowed, basis for price scales, rebates allowed, currency conversion formulas, and so on.
Define Limits
Each condition type for a calculation type should be defined with upper and lower limits so that 
the actual price after price calculation falls within acceptable limits.

278  ◾  The SAP Materials Management Handbook﻿
Define Exclusion Indicators
Condition types are part of an access sequence for price calculation. For a particular type of price 
calculation, some conditions need to be excluded from price calculation. For example, when taxes 
need to be excluded from price calculation for gross price, the conditions related to taxes should 
not be used in price calculation. Attaching exclusion indicators to conditions ensures this aspect.
Define Calculation Schema
Calculation schema links a condition type to a calculation type, exclusion indicators, and other fac-
tors along with access sequence for the conditions to arrive at a calculated price for any purchasing 
document. Calculation schema thus acts as the final step in building the formula for calculating price.

SAP MM Customizing—Purchasing  ◾  279
Define Schema Group
Schema groups function as the linking method for calculation schemas to vendors or purchasing 
organization. There are separate schema groups for vendors and purchasing organization.
Define Schema Determination
Schema determination links a pricing schema procedure to a vendor and the purchasing organiza-
tion. It is used to calculate the price on PO or stock transport order, or determine the market price 
for any material or service.
Define Transaction/Event Keys
Transaction/event keys link calculation schemas to pricing procedure.

280  ◾  The SAP Materials Management Handbook﻿
Define Condition Exclusion
You can define the condition exclusion for pricing schemas and condition types.
Maintain Condition Table
Condition table holds information about calculation schema, access sequence, and condition types.

SAP MM Customizing—Purchasing  ◾  281
Extend Field Catalogue for Condition Tables
In this IMG activity, you can extend the condition table by adding additional fields in the table.
Copy Control for Conditions
In this IMG activity, you can make copying rules for both condition types and conditions.

282  ◾  The SAP Materials Management Handbook﻿
Scope of List for Conditions
Menu path: SPRO → IMG → Materials Management → Purchasing → Conditions → Scope of 
List for Conditions
Define Sequence
There are many condition tables defined for various types of info records. These tables are arranged 
in a sequence with a sequence number assigned to each table.

SAP MM Customizing—Purchasing  ◾  283
Define Scope of List Parameters
Conditions can be extended by deriving a new condition from an existing condition.

284  ◾  The SAP Materials Management Handbook﻿
Assign to Conditions
Extended condition can be assigned to original condition. It can then replace the original ­condition 
in calculation schema.
Configure Condition Index
Menu path: SPRO → IMG → Materials Management → Purchasing → Conditions → Configure 
Condition Index
Change Condition Types
Condition types can be maintained or created using the condition components of calculation type, 
condition class, condition category, rounding rule, manual changed allowed/not allowed, and so on.

SAP MM Customizing—Purchasing  ◾  285
Define Permitted Fields
In this IMG activity, you can define the fields that can be used for building the condition index tables.
Edit Condition Index Tables
In this IMG activity, you can create, change, or delete the condition index tables.
Activate Condition Index Tables
In this IMG activity, you can activate a newly created condition index table.

286  ◾  The SAP Materials Management Handbook﻿
Rebuild Condition Index Tables
If your condition index tables get corrupted, you can rebuild your condition index tables in this 
IMG activity.
Define Overviews
In this IMG activity, you can define new views for your condition tables.
Assign Overviews
In this IMG activity, you can assign newly created views for your condition tables.

SAP MM Customizing—Purchasing  ◾  287
Account Assignment
In SAP, account assignment is an activity of linking material groups to G/L accounts so that 
credit/debit for purchase of the materials can be done to the correct G/L accounts.
Menu path: SPRO → IMG → Materials Management → Purchasing → Account Assignment
Maintain Account Assignment Categories
To maintain account assignments, you first create account assignment categories. Later you can 
assign account assignment categories to each account assignment.
Account assignment categories are very important because the buyers use the account assign-
ment categories during purchasing transactions. They must be made carefully so that correct G/L 
accounts are credited/debited for all purchasing transactions such as goods receipt, goods issue, 
and invoice receipts.

288  ◾  The SAP Materials Management Handbook﻿
Define Combination of Item Categories/Account Assignment Categories
In this IMG activity, you link your item categories (document types) to account assignment categories.
Set Subscreen for Account Assignment Block
When you create account assignment categories, you opt for values for goods movement types, G/L 
posting types, invoicing types, and so on. You can change the screen elements as per your need.

SAP MM Customizing—Purchasing  ◾  289
Assign Default Values for Asset Classes
In this IMG activity, you can define asset types (asset classes) and link them to material groups.
Statistics
Statistics contains the archived data for purchasing documents. You can define how and when 
purchasing data need to be archived. You can also define how archived data can be accessed when 
needed.
Menu path: SPRO → IMG → Materials Management → Purchasing → Statistics
Maintain Purchase Order History Categories
In this IMG activity, you create a definition for PO history categories so that PO data can be 
archived in these categories.

290  ◾  The SAP Materials Management Handbook﻿
Define Update Groups
In this IMG activity, you define update groups for statistical updating. In the later IMG activity you 
assign these update groups to item categories.
Assign Update Groups to Item Categories
You can archive purchase documents in many ways, but making strategy for searching them is the most 
crucial aspect. An easy search of archived document is far better than just keeping the archived docu-
ments in folders. In this IMG activity, you can create an item category and link it to an update group so 
that archived documents can be kept according to their item category and update groups.

SAP MM Customizing—Purchasing  ◾  291
Define Grid for Quantity Variances
For each purchasing organization, you can create a quantity variance grid. All archived documents 
can now be kept with respect to their quantity variance and can be easily searched based on the 
criteria related to quantity variance.
Define Grid for Delivery Date Variances
For each purchasing organization, you can create a delivery date variance grid. All archived docu-
ments can now be kept with respect to their delivery date variance and can be easily searched based 
on the criteria related to delivery date variance.
Messages
In SAP, messages are meant for printing devices, display devices, sending electronic date inter-
change (EDI) messages, and so on.
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages

292  ◾  The SAP Materials Management Handbook﻿
Assign Output Devices to Purchasing Groups
Printing, scanning, or any other device can be assigned to a purchasing group. All of the messages 
from that purchasing group will now be received by that device only.
Fields Relevant to Printouts of Changes
Purchase documents sometime change after they are created and even sent to the vendor. In these 
cases, changes need to be made in the original document. It is not possible to change everything 
in a purchase document. Only a few fields are allowed to be changed. This IMG activity defines 
which fields can be allowed to be changed.

SAP MM Customizing—Purchasing  ◾  293
Texts for Messages
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Texts for 
Messages
Define Texts for RFQ
RFQ documents have both header and item texts. In this IMG activity, you can define all of the 
texts at both header and item levels.
Define Texts for PO
PO documents have both header and item texts. In this IMG activity, you can define all of the 
texts at both header and item levels.

294  ◾  The SAP Materials Management Handbook﻿
Define Text for Contract
Contract documents have both header and item texts. In this IMG activity, you can define all of 
the texts at both header and item levels.
Define Texts for Scheduling Agreements
Scheduling agreement documents have both header and item texts. In this IMG activity, you can 
define all of the texts at both header and item levels.

SAP MM Customizing—Purchasing  ◾  295
Define Text for Purchasing Organization
Purchasing organization text includes heading, footer, sender, and close types.
Define Change Texts
Sometimes a purchase document is made and sent to vendor or customer. When some changes 
take place in the document, the document contents need to be changed. You can define a list of 
standard texts that can then be used in the modified documents.

296  ◾  The SAP Materials Management Handbook﻿
Forms for Messages
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Forms 
(Layouts) for Messages
Adjust Form for Purchasing Documents
For printing purpose, you can adjust the purchasing documents by controlling spooling, adjusting 
cover page, selecting printer, and so on.
Assign Form and Output Program for RFQ
For RFQ rejection, reminder, acceptance, and so on, you can set the form output so that each of 
them can be printed out differently.

SAP MM Customizing—Purchasing  ◾  297
Assign Form and Output Program for PO
For printing material label, dunning, and other forms of POs, you can set the form accordingly.
Assign Form and Output Program for Contract
For distributed contracts, dunning, and other types of contracts, you can adjust the form so that 
different types of contract documents can be printed.

298  ◾  The SAP Materials Management Handbook﻿
Assign Form and Output Program for Schedule Agreement 
Delivery Schedule
For printing firmed quantity, forecast quantity, and schedule lines of a scheduling agreement, you 
can adjust the form for each type of document.
EDI for Messages
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → EDI
Set Up Partner Profile
For purchasing, you work with different kinds of partners such as banks, third-party providers, 
and vendors. You need to set up a profile for each type of partners so that EDI can be set up and 
EDI messages can be sent to and received from partners.

SAP MM Customizing—Purchasing  ◾  299
Profiles for Sending Stock/Sales Data
You can set up profiles for sending stock/sales data to partners. The profile can contain the data 
related to stock/sales that can be sent via EDI.
Output Control
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control
Maintain Requirement for Message Control
The type of messages that can be sent to partners can be set up in this IMG activity. Some of the 
message types include order confirmation, delivery note, quotation, and so on.

300  ◾  The SAP Materials Management Handbook﻿
Condition Tables
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control → Condition Tables
Define Condition Table for RFQ
In the condition table for RFQ, you can choose fields such as plant, material, and ordering address.

SAP MM Customizing—Purchasing  ◾  301
Define Condition Table for Request for PO
In the condition table for PO, you can choose fields such as plant, material, and ordering address.
Define Condition Table for Request for Outline Agreement
In the condition table for outline agreement, you can choose fields such as plant, material, and 
ordering address.

302  ◾  The SAP Materials Management Handbook﻿
Define Condition Table for Request for Schedule Agreement Release
In the condition table for scheduling agreement, you can choose fields such as plant, material, and 
ordering address.
Define Condition Table for Inbound Delivery
In the condition table for inbound delivery, you can choose fields such as vendor, material, and 
ordering address.

SAP MM Customizing—Purchasing  ◾  303
Access Sequence
Access sequences for output control enable the document type that has a higher priority than other 
document types.
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control → Access Sequence
Define Access Sequence for RFQ
All document types of RFQ will be assigned a sequence number based on their priority.
Define Access Sequence for Request for PO
All document types of PO will be assigned a sequence number based on their priority.

304  ◾  The SAP Materials Management Handbook﻿
Define Access Sequence for Request for Outline Agreement
All document types of outline agreements will be assigned a sequence number based on their 
priority.
Define Access Sequence for Request for Schedule Agreement Release
All document types of scheduling agreement will be assigned a sequence number based on their 
priority.
Define Access Sequence for Inbound Delivery
All delivery types of inbound deliveries will be assigned a sequence number based on their priority.
Message Types
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control → Message Types

SAP MM Customizing—Purchasing  ◾  305
Define Message Types for RFQ
In this IMG activity, you can define the message types for RFQs. Some of the message types for 
RFQ include reminders, quotation rejection, and so on.
Define Message Types for Request for PO
In this IMG activity, you can define the message types for POs. Some of the message types for 
POs include reminders, dunning, and so on.
Define Message Types for Request for Outline Agreement
In this IMG activity, you can define the message types for outline agreements. Some of the mes-
sage types for outline agreements include reminders, distributed contracts, and so on.

306  ◾  The SAP Materials Management Handbook﻿
Define Message Types for Request for Schedule Agreement Release
In this IMG activity, you can define the message types for scheduling agreement. Some of the message 
types for scheduling agreement include schedule lines, firmed demand, forecast demand, and so on.
Define Output Types for Inbound Delivery
In this IMG activity, you can define the message types for inbound delivery. Some of the message 
types include unloading handling, count list, delivery information, and so on.

SAP MM Customizing—Purchasing  ◾  307
Message Determination Schema
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control → Message Determination Schemas
Define Message Schemas for RFQ
You can create a message schema for RFQ documents by linking condition type with document 
type (rejection, dunning, scheduling line, etc.) and giving priority to this combination.
Define Message Schemas for Request for PO
You can create a message schema for PO documents by linking condition type with document 
type (material label, dunning, scheduling line, etc.) and giving priority to this combination.

308  ◾  The SAP Materials Management Handbook﻿
Define Message Schemas for Request for Outline Agreement
You can create a message schema for outline agreements documents by linking condition type 
with document type (distributed contract, dunning, scheduling line, etc.) and giving priority to 
this combination.
Define Message Schemas for Request for Scheduling Agreement Release
You can create a message schema for scheduling agreement documents by linking condition 
type with document type (forecast, firmed, scheduling line, etc.) and giving priority to this 
combination.

SAP MM Customizing—Purchasing  ◾  309
Define Message Schemas for Inbound Delivery
You can create a message schema for inbound delivery documents by linking condition type with 
delivery type (count list, delivery information, unloading, etc.) and giving priority to this combination.
Partner Roles per Message Type
Menu path: SPRO → IMG → Materials Management → Purchasing → Messages → Output 
Control → Partner Roles per Message Type
Define Partner Roles for RFQ
Partner roles can be linked to condition types available for RFQs.

310  ◾  The SAP Materials Management Handbook﻿
Define Partner Roles for Request for PO
Partner roles can be linked to condition types available for POs.
Define Partner Roles for Request for Outline Agreement
Partner roles can be linked to condition types available for outline agreements.

SAP MM Customizing—Purchasing  ◾  311
Define Partner Roles for Request for Scheduling Agreement Release
Partner roles can be linked to condition types available for scheduling agreements.
Define Partner Roles for Inbound Delivery
Partner roles can be linked to condition types available for inbound deliveries.
Source Determination
Menu path: SPRO → IMG → Materials Management → Purchasing → Source Determination

312  ◾  The SAP Materials Management Handbook﻿
Define Regular Vendor
For each plant in your company, you can define a regular or default vendor. This vendor will be 
automatically selected on purchase documents whenever a purchase is made for that particular plant.
Define Supply Regions
You can define the supply regions for each vendor. The vendor will be selected for plants that 
appear in the supply region.

SAP MM Customizing—Purchasing  ◾  313
Assign Plants to Supply Regions
You can assign plants to supply regions. All of their purchasing requirements will be met from the 
selected supplying region.

314  ◾  The SAP Materials Management Handbook﻿
Set Up Determination of Supplying Plant via Availability Check
If no source is defined for a plant and material is available at the supplying plant, the requirement 
can be fulfilled from this supplying plant.
Taxes
Price of materials and services include applicable taxes. The taxes that will be applicable to a pur-
chase are determined by the location of the vendor and the plant.
Menu path: SPRO → IMG → Materials Management → Purchasing → Taxes
Set Tax Indicator for Material
You can set the indicator for tax for a material. For each material, you can define the tax rate 
depending on the country or region of destination.

SAP MM Customizing—Purchasing  ◾  315
Set Tax Indicator for Plant
Depending on the region of country where a plant is located, the tax rate can be set.
Set Tax Indicator for Account Assignment
When an account assignment category is defined for a purchase, you can set the corresponding 
tax rate.
Assign Tax Indicator for Plant
The defined tax indicator can now be assigned to the plant in this activity.
Assign Tax Indicator for Account Assignment
The defined tax indicator can now be assigned to the account assignment category in this activity.

316  ◾  The SAP Materials Management Handbook﻿
Subsequent Settlement
In SAP, subsequent settlement is a term used for cash rebates at the end of a promotion period.
Menu path: SPRO → IMG → Materials Management → Purchasing → Subsequent (End of 
Period) Settlement
Define Number Ranges
Subsequent settlements can be managed internally when the system generates an automatic num-
ber and assigns this number to the subsequent settlement. External numbers can also be assigned to 
subsequent settlements. You can define the number ranges for both internal and external numbers.
Set Up Condition Techniques for Subsequent Settlement
You can create a condition technique for subsequent settlements. You need to maintain a field 
catalog, define access sequence, create condition types, define condition table, define upper/
lower limits for conditions, and maintain settlement schema, schema determination, and account 
determination.

SAP MM Customizing—Purchasing  ◾  317
Define Overview Condition for Subsequent Settlement
You can create views for conditions for subsequent settlement. Some condition overviews include 
condition rate, sales promotion, term of payment, and so on.
Control of the Subsequent Settlement Process
There are a lot of activities to define the control of subsequent settlement process. You need to 
define the document types for vendor billing, create the arrangement type for vendor billing 
document, define the sales document types, define the billing types, flag the billing types for 
subsequent settlement, copy the control for sales documents to billing documents, and assign the 
company code to plants.

318  ◾  The SAP Materials Management Handbook﻿
Maintain Company Code for Subsequent Settlement 
at Purchasing Organization Level
Purchase organization needs to be linked to the company code for subsequent settlement.
Maintain Residence Time for Archiving
An archiving rule is created to find out the following: for how long closed subsequent settlement 
documents need to be kept in the live system and how these documents need to be archived.

SAP MM Customizing—Purchasing  ◾  319
Agreements
Menu path: SPRO → IMG → Materials Management → Purchasing → Subsequent (End of 
Period) Settlement → Agreements
Maintain Calendar for Rebate Arrangements
You can use standard calendars available in the system for rebate arrangement.
Define Business Volume Tolerance Groups
For long-term agreements with vendors, you can define the minimum and maximum business 
volumes per agreement period to make sure that vendors are delivering as per agreements.

320  ◾  The SAP Materials Management Handbook﻿
Maintain User Groups and Assign Business Volume Tolerance Groups
For each defined business volume tolerance group, you can maintain user groups.
Define Business Volume Comparison Type
Business volumes for each vendor can be compared with desired business volume or with business 
volume with other vendors.

SAP MM Customizing—Purchasing  ◾  321
Maintain Aggregation Level and Sort Sequence
You can set aggregation levels for business volumes and also create a sorting rule to compare busi-
ness volumes of different vendors.
Define Text Types
You can define various types of texts for subsequent settlements at header, item, material, and so 
on levels for info records, pricing conditions, sales documents, and so on.

322  ◾  The SAP Materials Management Handbook﻿
Define Rebate Agreement Types for Subsequent Settlement
You can define and fine-tune various types of rebate agreements for subsequent settlements.
Output Determination
Menu path: SPRO → IMG → Materials Management → Purchasing → Subsequent (End of 
Period) Settlement → Output Determination
Define Requirements
You can define the requirements for output determination by linking application area (cost center, ship 
to party, customers, etc.) to routine or document type (delivery note, contract, order confirmation, etc.).

SAP MM Customizing—Purchasing  ◾  323
Assign Output Devices and Printer Parameters
In this IMG activity, you can define your printers and output devices that will be used for printing 
or display of purchase documents.
Storing Printouts
Scanned copies of printouts or a copy of transmitted documents needs to be stored in the system. 
In this IMG activity, you can define the folder structure and document types for which they need 
to be stored in the system.
Message Determination for Rebate Arrangement
Menu path: SPRO → IMG → Materials Management → Purchasing → Subsequent (End of 
Period) Settlement → Output Determination → Maintain Message Determination for Rebate 
Arrangement

324  ◾  The SAP Materials Management Handbook﻿
Maintain Condition Tables
In the condition table, you maintain a condition schema for rebate arrangement and a field catalog 
of messages for rebate arrangement.
Maintain Message Types
You create message types for partner roles, material, and routine (document types).

SAP MM Customizing—Purchasing  ◾  325
Maintain Access Sequence
You need to maintain access sequence for all subsequent settlement (a settlement arrangement for 
periodic invoice settlement) credit and debit.
Assign Partner Roles to Message Types
Partner roles are assigned to partner functions (approver, shipping point, vendor hierarchy, 
­customer hierarchy, etc.).
Maintain Message Determination Schema
Message determination schema connects message usage (pricing, output, account determination, 
rebate, material determination, etc.) to application (cost centers, customers, vendors, ship to party, 
etc.) and control data in procedures for subsequent settlement.

326  ◾  The SAP Materials Management Handbook﻿
Message Determination for Settlement Run
Menu path: SPRO → IMG → Materials Management → Purchasing → Subsequent (End of Period) 
Settlement → Output Determination → Maintain Message Determination for Settlement Runs
Maintain Condition Tables
Similar to maintain message determination for rebate processing, you need to create condition 
tables for message determination for actual settlement run.
Maintain Message Types
Message types for subsequent settlement runs by combining partner roles, routines, and so on 
with application.

SAP MM Customizing—Purchasing  ◾  327
Maintain Access Sequence
Access sequence for settlement run is similar to the one for rebate arrangement.
Assign Partner Roles to Message Type
Assigning partner roles for settlement run are similar to the one for rebate arrangement.
Note
Purchasing is one of the most comprehensive subjects in SAP. The customizing section itself is vast and cover-
ing all of the topics in purchasing customizing is next to impossible. I have tried to cover as many topics 
as possible in this chapter.


329
Chapter 9
SAP MM Customizing—
Inventory Management
Introduction
Inventory management and physical inventory part of materials management in SAP have many 
important functions that are used extensively. The main components of inventory management 
are goods issue, goods receipt (GR), reservation, sampling, stock overview, movement types, 
and so on.
In this chapter, we will see the customization part of valuation, account assignment, account 
determination, and so on, although they are separate from inventory management.
General Settings
General settings for inventory management include plant parameter setup, message setup, field 
selection setup for inventory screens, inventory management document archiving setup, number 
range setup for inventory documents, and so on.
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory
Plant Parameters
Many settings need to be done related to inventory management for each plant in your company 
organization. These settings are very important as they influence the behavior of inventory man-
agement functions for each plant. Some of the settings required to be done for each plant include 
automatic creation of storage locations, missing parts, automatic GR account assignment, negative 
stocks allowed, movement types allowed, and so on.

330  ◾  The SAP Materials Management Handbook﻿
Define Attributes of System Messages
It is very important to set up system messages for taking care of the errors encountered during 
transactions related to inventory management. You will set up errors and warning messages for 
various inventory management transactions here.

SAP MM Customizing—Inventory Management  ◾  331
Field Selection for Goods Movement Initial/Header Screens
In this IMG activity, you will set up field selection for initial/header screens for create delivery, bill 
of lading, GR, goods issue, reservation, and so on.
Define Document Life
Inventory management documents such as material document, financial document, GR, goods 
issue, reservation, and so on need to be archived after they get closed. You will create archiving 
rules for these documents here.

332  ◾  The SAP Materials Management Handbook﻿
Number Assignment
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Number Assignment
Define Number Assignment for Accounting Document
You can manage accounting document by assigning external numbers or internally generated num-
bers. You can create and maintain the number ranges for both external and internal number ranges.
Define Number Assignment for Material and Physical Inventory Documents
You can manage material and physical inventory document by assigning external numbers or 
internally generated numbers. You can create and maintain the number ranges for both external 
and internal number ranges.
Define Number Assignment for Reservations
You can manage reservation document by assigning external numbers or internally generated num-
bers. You can create and maintain the number ranges for both external and internal number ranges.

SAP MM Customizing—Inventory Management  ◾  333
Define Number Assignment for Goods Receipts/Issue Slips
You can manage GR/goods issue document by assigning external numbers or internally generated 
numbers. You can create and maintain the number ranges for both external and internal number 
ranges.
Goods Movement Settings
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Settings for Enjoy Transactions → Settings for Goods Movements
Field Selection for MIGO
MIGO screen is used for all kinds of movement types, especially for goods issue/GR transactions. 
In this IMG activity, you can change the MIGO screen as per your requirement.

334  ◾  The SAP Materials Management Handbook﻿
Field Selection per Movement Type
In this screen, for each movement type, you can set the MIGO screen by changing/setting fields 
as per your requirement.
Settings for Transactions and Reference Documents
For each MIGO transaction, you can set the reference document used/required.

SAP MM Customizing—Inventory Management  ◾  335
Goods Issue/Transfer Posting
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Goods Issue/Transfer Posting
Create Storage Location Automatically
For each plant or movement type, you can set the storage locations can be created automatically.
Set Manual Account Assignment
For each movement type, you can control the account assignment is to be done automatically or 
to be set manually.
Define Screen Layout
For each kind of inventory management transaction, you can set the screen layout by changing 
field attributes.

336  ◾  The SAP Materials Management Handbook﻿
Maintain Copy Rules for Reference Documents
For each inventory management transaction, you can set the copying rules for copying the data of 
reference documents to screen elements.
Set Up Dynamic Availability Check
For each movement type, you can set the availability check that is to be done automatically.
Generate Physical Inventory Documents for Goods Movements
For each plant or movement type, you can set the physical inventory document that is generated 
whenever any goods movement happens.
Allow Negative Stocks
Negative stocks are helpful when a GR is done after actual arrival of goods, and at the same time, 
you need to issue goods. Even though you have goods in stock, it is not shown in stock balances. 
In these circumstances, you should allow negative stocks.

SAP MM Customizing—Inventory Management  ◾  337
Goods Receipt
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Goods Receipt
Set Tolerance Limits
Many times, vendors send materials in quantities that do not match with the quantity mentioned 
on purchase order (PO). To receive goods in these circumstances, we need to set tolerance limits 
for under and over delivery. If goods received in quantities that are within these tolerance limits, 
the goods should be allowed to be received.

338  ◾  The SAP Materials Management Handbook﻿
Create Storage Location Automatically
In the system, you define storage locations for various materials. Sometimes a new material that is 
received will have no defined storage location. In such cases, you either have to create the specific 
storage location manually or let the system to create it automatically.
Create PO Automatically
For various goods movements, you can set up the system to create PO automatically. In such a 
scenario, no manual creation of PO is needed and the system will create PO automatically.
Set Manual Account Assignment
For each movement type, you can set the account assignment as automatic or manual. Automatic 
account assignment is practical for goods that are stored as well as valuated. Stored goods can have 
automatic assignment because for both GR and goods issue, there will be distinct movement types 
to ensure that account assignment is happening correctly. In cases when goods are directly con-
sumed or when goods are stored without valuation, account assignment should be done manually.

SAP MM Customizing—Inventory Management  ◾  339
Define Screen Layout
Screen layout can be changed as per user requirements for all kinds of goods movements.
Maintain Copy Rules for Reference Documents
Reference documents are needed for transactions and the data are copied from the reference docu-
ments. In this IMG activity, you can do this functionality for each plant.

340  ◾  The SAP Materials Management Handbook﻿
Set Dynamic Availability Check
For each plant or movement type, you can set dynamic availability check so that the system can 
check whether the required material is available at any storage location for the goods movement 
transaction to happen.
Set Delivery Completed Indicator
Delivery completed indicator can be automatically set when the total quantity in the GRs becomes 
equal to the stated material quantity in the PO. In automatic delivery completed indicator, the 
user does not have to set the delivery completed indicator manually. You can do this functionality 
for each plant.

SAP MM Customizing—Inventory Management  ◾  341
Set Missing Parts Check
When goods are received, they are checked if all pieces of goods are received and no parts are 
missing. If any parts are missing from the GR compared to shipping note, these missing parts are 
logged in the system. If missing parts check is enabled for a plant and any parts are found missing 
in GR, a corresponding PO can be automatically created for them.
For GR-based Invoice Ver. Reversal of GR Despite Invoice
GR-based invoice verification is done in cases where there is more than one GR for a PO. For 
each movement type, you can decide if GR can be reversed even after invoice verification is done. 
Goods movement types “GR for PO reversal,” “GR from blocked reversal,” “return to vendor,” 
and “GR return reversal” can have this option.
Set Expiration Date Check
Perishable goods have an expiration date. So expiration date check must be enabled for these 
goods.

342  ◾  The SAP Materials Management Handbook﻿
Price Differences for Subcontract Order at Goods Receipt
If the standard price varies for externally performed service (subcontracting service) from the cost 
of internal manufacturing, this price difference should be reflected in the total cost on the PO 
and subsequently the GR. Thus, subcontract orders should have this price difference incorporated.
Activate Storage of Incoming Documents
Incoming purchase documents (GRs, GR for PO reversal, GR into blocked stock, GR from 
blocked stock, etc.) can be stored in the file system. You can activate when you want to store these 
incoming documents.

SAP MM Customizing—Inventory Management  ◾  343
Movement and Movement Types
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Automatic Movements
Create Storage Location Automatically
Whenever a GR happens for a material that is to be stored in a storage location, a designated stor-
age location should be available for the material. If no designated storage location is available, the 
material cannot be received. You have to either create a storage location manually in the system or 
define automatic storage location creation in the system.
Set Manual Account Assignment
You can set manual account assignment for movement types when automatic account assignment 
is not possible.

344  ◾  The SAP Materials Management Handbook﻿
Define Screen Layout
For each movement type, you can change the screen layout as per your requirement.
Generate Physical Inventory Documents for Goods Movements
For each movement type, you can generate physical inventory documents if required.
Set Missing Parts Check
For each movement type, you can set the missing part check when a part is found missing during 
inventory movement. The automatic supplementary material document can then be generated for 
the missing parts.

SAP MM Customizing—Inventory Management  ◾  345
Set Expiration Date Check
For perishable goods, you can set the expiration date check active so that you can manage inven-
tories of these goods.
Reservation
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Reservation
Define Default Values
You can define default values for reservation to allow goods movements for reservations, delete 
reservations, create storage location stock data automatically for reservations, and so on.

346  ◾  The SAP Materials Management Handbook﻿
Maintain Copy Rules for Reference Documents
When a reservation is adopted from a reference document, you can set up a copy rule for the data 
to be copied from the reference document.
Set Dynamic Availability Check
Dynamic availability check allows searching of stock at all storage locations automatically when 
you want to make reservation for any goods issue.
Physical Inventory
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Physical Inventory
Field Selection for Physical Inventory
You can set the fields that are displayed on the physical inventory screen.

SAP MM Customizing—Inventory Management  ◾  347
Default Values for Physical Inventory
For doing cycle counting or any other physical inventory task, you can set default values for 
modifiable fields on these screens.
Settings for Physical Inventory
When entering the values for physical inventory for a stock, you can define the alternative unit of 
measurement, batch jobs in background reason for difference in counted versus reported stock, 
and so on.

348  ◾  The SAP Materials Management Handbook﻿
Default Values for Batch Input
For all batch-enabled jobs for physical inventory, you can define the issue log, the maximum num-
ber of document items, the planned counting date, the stock types, and so on.
Maintain Copy Rules for Reference Documents
For physical inventory tasks, you can use reference documents from where you can copy data on 
the physical inventory document. You can define a copy rule for this purpose.
Allow Freezing of Book Inventory Balance in Storage Location
In this step, you determine whether the book inventory balances of items in a physical inventory 
document, which have not yet been counted, can be frozen in the storage location. The frozen 

SAP MM Customizing—Inventory Management  ◾  349
inventory balance is recorded in the physical inventory document. It is relevant to the calculation 
of inventory differences.
For example, you have physically counted all items in a physical inventory document but have not 
yet entered the count results in the system for all items. For one of these items, the book inventory 
balance is 100 pieces. Only 90 pieces were counted, corresponding to a difference of 10 pieces. 
You freeze the book inventory balance of 100 pieces in the physical inventory document.
Before you enter the count, a GR of 20 pieces is posted. The current book inventory balance 
is now 120 pieces. For the physical inventory document, however, the book inventory balance of 
100 pieces continues to be relevant. If the inventory balance had not been frozen, there would have 
been a difference of 30 pieces for the item.
Define Tolerances for Physical Inventory Differences
In this step, you can create user groups and define value tolerances for the user groups for the post-
ing of inventory differences. You can specify two tolerances:
	
1.	Maximum amount per physical inventory document
	
2.	Maximum amount per document item
If a document exceeds the document tolerance defined for the user group, the user is not allowed 
to post any inventory differences for this document. If the total value of the document lies below 
the document tolerance, but some items exceed the maximum amount per item, the user may not 
post the differences for these items and can process the other items.
Activities
Under Physical inventory tolerance group, you define the individual user groups with the cor-
responding value tolerances per company code and currency. Under User name, you assign the 
individual users to a group. If you want to assign an inventory tolerance group to all existing users, 
you can enter “*” instead of entering the users individually.

350  ◾  The SAP Materials Management Handbook﻿
Cycle Counting
In this step, you complete the system settings for the physical inventory method of cycle counting 
by defining the individual cycle counting indicators for the given plant. The cycle counting indica-
tors are used to group the materials together into individual categories.
Activate Distribution of Consumption Differences
You can only select inventory documents for distribution if you have activated distribution of 
usage variances. The settings for distribution of usage variances appear only on the Create inven-
tory document screen if the default indicator 1 is set. If you set the hide distribution indicator, the 
settings cannot be changed on the Create inventory document screen.
For some applications such as warehouse management or Business Application Programming 
Interface (BAPI), create your inventory documents in the background. If the revaluation of con-
sumption is active and the indicator is set as “1” (binding) then these inventory documents are 
automatically relevant for distribution.

SAP MM Customizing—Inventory Management  ◾  351
Inventory Sampling
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Physical Inventory → Inventory Sampling
Create Inventory Sampling Profiles
When creating an inventory sampling, the user has to specify an inventory sampling profile. Here, 
the currency and the default values for the parameters of the inventory sampling are defined.
Define Stock Management Levels
When creating an inventory sampling, the user has to specify the stock management units that are 
covered by the given inventory sampling. This allocation of stock management units to an inven-
tory sampling is carried out through stock management levels.

352  ◾  The SAP Materials Management Handbook﻿
Under “allocation of stock management units to an inventory sampling”, you define the stock 
management levels that can be selected when creating an inventory sampling. These specifications 
apply only to inventory sampling in the inventory management area.
Define Stock Management Level in WMS
When creating an inventory sampling, the user has to specify the stock management units that are 
covered by the given inventory sampling. This allocation of stock management units to an inven-
tory sampling is carried out through stock management levels.
Under “allocation of stock management units to an inventory sampling”, you define the stock 
management levels that can be selected when creating an inventory sampling. These specifications 
apply only to inventory sampling in the warehouse management system (WMS).

SAP MM Customizing—Inventory Management  ◾  353
Movement Types
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Movement Types
Record Reason for Goods Movements
In this step, you can carry out the following for each movement type:
	
1.	Maintain the input status of the Reason field
	
2.	Store a key that gives a reason for the movement (e.g., reason for return delivery) and a cor-
responding text
When you enter a goods movement, you can only enter reasons that have been defined for the 
movement type here.
Copy Change Movement Type
In this step, you can do the following:
	
1.	Change the setting of existing movement types
	
2.	Define new movement types

354  ◾  The SAP Materials Management Handbook﻿
When you enter a goods movement, you must always enter the movement type. The movement 
type has important control functions in inventory management. It is essential for
	
1.	Updating the quantity fields.
	
2.	Updating the stock and consumption accounts.
	
3.	Selecting the fields used for entering documents.
	
4.	Printing GR/issue slips.
Set Subscreen for Account Assignment (Coding) Block
In SAP system, account assignment transactions use subscreens that contain the various account 
assignment fields. When generating the screens for these transactions, the system searches for the 
most suitable subscreen, that is, the one containing the most required fields. If there is no subscreen 
that contains all the necessary fields, you have to enter the additional fields in a separate dialog box.
You can define your own subscreens in this step, that is, you can structure your subscreens to 
suit your own requirements and thus avoid entering the account assignment fields in an additional 
dialog box.

SAP MM Customizing—Inventory Management  ◾  355
Stock Determination
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Stock Determination
Define Strategies for Stock Determination
In this step, you make all the settings that are required for a stock determination strategy. You 
determine a strategy at plant level using the stock determination group and the stock determina-
tion rule. (The terms “rule” and “group” correspond to the checking group and the checking rule 
logic in the availability check, respectively.)
The stock determination group is assigned to the material in the material master record. 
However, you maintain the stock determination rules in the individual applications, that is, you 
can use different strategies depending on the material or on a business event.
Stock Overview
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Stock Determination → Assign Stock Determination Rule in the Application
Inventory Management
You assign a stock determination rule to each movement type for which you want to allow auto-
matic stock determination. You can establish only one stock determination rule for each move-
ment type. The strategy that is used in the application is determined in combination with the stock 
determination group for each material.

356  ◾  The SAP Materials Management Handbook﻿
Production Order
In this step, you define parameters for the automatic stock and batch determination for each plant, 
order type, and business transaction, and assign a stock determination rule. You can switch stock 
or batch determination off.
The business transactions for production orders are as follows:
	
1.	Backflushing of components for confirmations
	
2.	Picking
Repetitive Manufacturing
In this step, you assign a stock determination rule to a predefined repetitive manufacturing profile.

SAP MM Customizing—Inventory Management  ◾  357
Pull List
In this step, you assign a stock determination rule to a predefined pull list for each plant.
KANBAN
In this step, you assign a stock determination rule to a predefined stock transfer strategy for each 
plant.
Delivery
In this IMG activity, you assign a stock determination rule to a delivery item category. There are 
four possible scenarios in delivery processing:

358  ◾  The SAP Materials Management Handbook﻿
	
1.	There is no stock determination using stock determination module.
	
2.	Stock determination is performed in WM during picking.
	
3.	The vendor is manually predefined in LEAN-WM during confirmation.
	
4.	Stock determination is performed by goods issue.
Warehouse Management
In this step, you assign a stock determination rule for each warehouse to each movement type.

SAP MM Customizing—Inventory Management  ◾  359
Reporting
Menu path: SPRO → IMG → Materials Management → Inventory Management and Physical 
Inventory → Reporting
Define Stock List Display
In this step, you define the fields that are displayed in stock lists. The SAP system distinguishes 
between stock lists using version numbers. For each version number, you can open up to three 
windows in which you can display different stock lists. For each window, you can define up to 
three stock types (e.g., blocked stock returns or unrestricted-use stock).
The following list versions are preset in the standard SAP R/3 system:
	
1.	Standard display, long
	
2.	Standard display, short
	
3.	Special display
Define Field Selection for Material Document List
The fields that are ready for input on the selection screen for the reports include material number, 
plant, storage location, batch number, vendor account number, customer account number, move-
ment type, special stock indicator, posting date in document, user name, and transaction/event type.

360  ◾  The SAP Materials Management Handbook﻿
Set Up Print Functions for Reporting
In this step, you can define the additional information that should be included when the output 
list is printed for the reports in inventory management. You also specify whether the detail list 
(nonhierarchical list) of a report should be printed in a different format (ALV Grid Control). 
The alternative format means that detail lists are more convenient to work with and offer more 
options, such as those that are familiar with from spreadsheet programs, which include changing 
the columns using drag and drop, adjusting column width using drag and drop, scrolling using 
the vertical scroll bar, using the context menu via the right-hand mouse button for column headers 
and lines, selecting multiple columns with the Control and Shift keys, and calculating subtotals 
via item characteristics.

SAP MM Customizing—Inventory Management  ◾  361
Group Movement Type for Stock List
Movement types can be grouped in particular movement type groups for analysis purposes. For 
example, you can group all movement types pertaining to purchasing under PUR or all movement 
types relating to sales and distribution under SD.
Account Assignment and Valuation
Menu path: SPRO → IMG → Materials Management → Account Assignment and Valuation
Define Price Control for Movement Type
There are two types of price control in the SAP R/3 system: V stands for moving average price/
periodic unit price and S for standard price. For each material, you must specify the price control 
in the material master record according to which the material is to be valuated. You do so using the 
price control indicator. Under the menu option “Price control,” you can specify for each material 
type that, when creating a material of this material type, a certain price control indicator is either 
proposed or stipulated.

362  ◾  The SAP Materials Management Handbook﻿
Configure Price Change in Previous Period
In case of a price change in the previous period or the previous year, you must define whether the 
change also applies to the current period. You have two options:
	
1.	The price change applies only in the previous period or previous year and does not affect the 
current period.
	
2.	The price change also applies to the current period and the price in the current period is thus 
also changed automatically.

SAP MM Customizing—Inventory Management  ◾  363
Configure Dynamic Price Changes
In this activity, you can specify in each valuation area that a planned price is activated as the valuation 
price on the first goods movement in a new posting period as long as the validity date of the planned 
price has been reached. The planned prices are handled by the system with the following priority:
	
1.	Marked standard cost estimates
	
2.	Future valuation prices
Reasons for Price Changes
In this step, you enter the reasons for a price change. You can assign one posting reason and 
one account grouping code to the transactions MR21 Price Changes and MR22 Credit/Debit 
Material. The account grouping code allows you to post the booking, irrespective of the booking 
reason, to a revaluation account that differs from the one in the standard settings.

364  ◾  The SAP Materials Management Handbook﻿
Set Up Material Price Dispatch
Material price dispatch is accomplished using Application Link Enabling (ALE). This is done 
when material prices are to be distributed among many instances of SAP systems.
Define Document Type and Number Ranges for Price Change
When a price is changed, the SAP R/3 system creates a document in financial accounting. For 
this, you must define a document type for the price change and assign it to a number range.
In the standard SAP system, the document type “PR” is preset for price changes. The number 
range 48 from 4,800,000,000 to 4,899,999,999 is assigned to this document type for 1 year.
Define Document Type and Number Ranges for Material Debit
The R/3 system creates a document in financial accounting when a material has been debited or 
credited. Under the menu option “Deb./cred.material,” you define a document type for the mate-
rial debit/credit and allocate it to a number range.

SAP MM Customizing—Inventory Management  ◾  365
In the standard SAP system, the document type “PR” is preset for material debit and credit. 
The number range 48 with the year-related interval 4,800,000,000 to 4,899,999,999 is assigned 
to this document type.
Maintain Number Ranges for Material Ledger Documents
Even if you do not use the actual costing/material ledger component, you still have to define 
the number ranges for price changes and material debits and credits. In addition to creating an 
accounting document for these transactions, the system also creates a material ledger document.
Split Valuation
Split valuation of material stocks is a technique in the SAP R/3 system for valuating different 
material stocks within a plant differently depending on their origin. It is often used with batch 
management. Thus, each batch of a material will have a different price compared to other batches 
of the same material.
Menu path: SPRO → IMG → Materials Management → Account Assignment and Valuation → 
Split Valuation

366  ◾  The SAP Materials Management Handbook﻿
Activate Split Valuation
In this step, you activate split valuation for the entire client (a client encompasses all company 
codes, plants, purchasing organizations, etc.). You can distinguish between partial stocks of a 
material according to certain criteria and valuate them separately. The material stock is divided 
according to valuation category and valuation type.
Configure Split Valuation
For each valuation category, you define valuation types. The valuation category determines how 
the partial stocks are divided, that is, according to which criteria. The valuation type describes the 
characteristics of the individual stocks.

SAP MM Customizing—Inventory Management  ◾  367
Using the function “Setting,” you can determine the following:
	
1.	Which valuation categories exist in your company (global categories)
	
2.	Which valuation types exist in your company (global types)
	
3.	Which valuation types belong to which valuation category
	
4.	Which valuation categories exist in a valuation area (local categories)
Account Determination
Menu path: SPRO → IMG → Materials Management → Account Assignment and Valuation → 
Account Determination
Account Determination Wizard
Account determination wizard allows you to determine the accounts for movement types, material 
groups, grouping of valuation areas, valuation classes, automatic postings, and so on.
Account Determination without Wizard
Menu path: SPRO → IMG → Materials Management → Account Assignment and Valuation → 
Account Determination → Account Determination without Wizard
Define Valuation Control
For account determination, you can group valuation areas together by activating the valuation 
grouping code. This makes the configuration of automatic postings much easier.

368  ◾  The SAP Materials Management Handbook﻿
Group Together Valuation Areas
In this step, you assign valuation areas to a valuation grouping code. The valuation grouping 
code makes it easier to set automatic account determination. Within the chart of accounts, you 
assign the same valuation grouping code to the valuation areas of the same account. Valuation 
grouping codes either reflect a fine distinction within a chart of accounts or correspond to a chart 
of accounts. Within a chart of accounts, you can use the valuation grouping code to define indi-
vidual account determination for certain valuation areas (company codes or plants) or to define 
common account determination for several valuation areas (company codes or plants).
Define Valuation Classes
In this step, you define the valuation classes that are allowed for a material type. If a user 
creates a material, he or she must enter the material’s valuation class in the accounting data. 

SAP MM Customizing—Inventory Management  ◾  369
The enterprise resource planning (ERP) system uses your default settings to check whether 
the ­valuation class is allowed for the material type. The valuation class is a group of mate-
rials with the same account determination. If a transaction is to be posted to different 
accounts  ­depending on the valuation class, you create an account determination for each 
valuation class in the “Create Automatic Postings” step.
The valuation classes that are allowed depend on the material type. Several valuation classes 
are generally allowed for one material type. A valuation class can also be allowed for several mate-
rial types. The link between the valuation classes and the material types is set up via the account 
category reference. The account category reference is a combination of valuation classes. Precisely, 
one account category reference is assigned to a material type.
Define Account Grouping for Movement Types
In this activity, you can assign an account grouping to movement types. The account grouping is 
a finer subdivision of the transaction/event keys for the account determination.

370  ◾  The SAP Materials Management Handbook﻿
Configure Automatic Postings
In this step, you enter the system settings for inventory management and invoice verification 
transactions for automatic postings to general ledger accounts. You can then check your settings 
using a simulation function.

371
Chapter 10
Business Scenarios
Introduction
In SAP, business scenarios are a series of transactions for a particular business cycle. For example, 
a business scenario in SAP MM could be a procurement cycle in which a customer chooses a ven-
dor for a material, makes and sends a purchase order (PO) for the material to the vendor, receives 
material against the PO, and finally makes payment to the vendor. Similarly, a business scenario 
could be as follows: A customer procures material from a vendor on behalf of his/her own cus-
tomer, and thus the material needs to be shipped to the customer of the customer but not to the 
customer.
Business scenarios depict real-world examples as to how to use SAP system to perform every-
day business tasks. So a business analyst needs to know both sides of the coin so that he knows 
which features of SAP solve a particular business scenario. He also knows well about the features 
of SAP and can thus find out ways to use them in different business transactions.
In this chapter, we will see some business scenarios and how they are implemented in SAP. We 
will have a scenario for consignment, a scenario for subcontracting, a scenario for third-party sales, 
a scenario for pipeline sales, a scenario for intercompany stock transfer, and so on. Each of these 
business scenarios will be demonstrated completely with all the configuration settings required in 
the system.
Standard and Customized Business Scenarios
SAP has built-in business scenarios for many business functions available in the standard SAP. 
Various types of business scenarios can be implemented by customizing the SAP system. If any 
business scenario cannot be mapped even by customizing, either custom development is needed or 
a third-party solution that is available can be used.
In real life, there can be so many variations in the business model or the way a local business 
unit does its business; mapping all these business models and providing prebuilt solution are 
­neither possible nor cost-effective.

372  ◾  The SAP Materials Management Handbook﻿
A novice business analyst first learns and implements simple and standard business scenarios. After 
gaining some experience, he can map and implement more complex business scenarios. Seasoned 
business analysts are capable of mapping and implementing almost any business scenario in their field.
Likewise SAP consultants also do mapping and implementation of simple and standard 
­business models to most complex ones based on the experience level. Entry-level SAP consul-
tants get engaged on mapping and implementing simple business scenarios, whereas seasoned SAP 
­consultants take on the most complex ones.
The most difficult business scenarios to implement in SAP MM include approval release 
­procedure for purchase documents, setting pricing procedure for purchase, subcontracting, 
­consignment, tax procedures for various countries, and so on.
Complete Procurement Process
SAP MM deals with procurement and inventory management functions. The complete procure-
ment cycle is as follows:
	
1.	Determination of requirements: Requirement for materials comes either from material 
requirement planning (MRP) systems automatically or from user departments manually. 
The requirement can be in the form of production orders or purchase requisitions (PRs).
	
2.	Source determination: The sources for the required material is then determined once you have 
the requirements. Sources can be determined by long-term purchasing agreements or past 
POs. Request-for-quotation (RFQ) facility can be used if known sources are not identified.
	
3.	Vendor selection and quotation comparison: The created RFQs are sent to vendors who 
return back the RFQs with their quotations. These quotations are compared and the best 
quotation is selected.
	
4.	PO processing: The selected quotation is converted into a PO and processed to make the 
purchase. In case of long-term purchase agreements such as contracts, POs are generated 
against the contract. In case of scheduling agreements, the agreement itself is a PO against 
which periodic delivery of goods is done.
	
5.	PO follow-up: The SAP system is preconfigured to generate reminders for purchases (goods 
receiving at predefined time intervals) at the time intervals the user has defined. The user is 
also provided with status of all POs, PRs, quotations, and so on.
	
6.	Goods receiving and inventory management: Complete inventory management functionality. 
Goods receiving happens when some material reaches to the customer after the purchase is 
made. The received material is then consumed after it is issued from inventory.
	
7.	Invoice verification: Invoices can be verified by matching the invoices against POs and goods 
receipts (GRs).
Inventory Management Cycle
Inventory management cycle consists of the following activities:
	
1.	MRP is run to generate production/procurement orders.
	
2.	Procurement orders are converted into PR → PO and GR is done against PO.
	
3.	Goods issue (GI) is done for production orders.
	
4.	Transfer posting of goods from one plant to another is performed when procurement is done 
from internal sources.

Business Scenarios  ◾  373
Consignment Cycle
In many industries such as automotive, retail, and so on, manufacturers prefer a very close association 
with their vendors. They do not want to manage inventory of the components purchased from 
their vendors. Instead, they want their vendors to manage the inventory. So the vendors do not 
ship these components to the manufacturer. Instead, the manufacturer provides a warehouse space 
for the vendor at the manufacturing site (plant) so that the vendor can keep an inventory of com-
ponents needed for the plant. The plant uses this inventory and the vendor keeps an account of the 
number of components used by the manufacturer. Billing for the number of components used by 
the manufacturer is done by the vendor periodically.
In SAP, complete consignment cycle can be done easily in the standard system because default 
settings are already done so that the business cycle of consignment can be run without changing 
or setting any configuration in the Implementation Guide (IMG) area.
The steps required to do the complete consignment cycle are as follows:
	
1.	Create info record of consignment type (mandatory).
	
2.	Create consignment PO with item category “K” and maintain info record number.
	
3.	Create GR movement type “101K.”
	
4.	Create GI movement type “201K.”
	
5.	Do consignment settlement with Tcode “MRKO.”
However, if you want to configure the consignment cycle in the IMG area, the complete business 
configuration and the subsequent testing steps will be as follows:
	
1.	Activate consignment payment via info records in the IMG.
	
2.	Create info record of consignment type for the material that is to be procured from the 
consignment vendor.
	
3.	Check general ledger (G/L) account setting for consignment payable and stock posting.
	
4.	Create a consignment contract (with an item category type “K”).
	
5.	Create a PR referencing the above-created contract.
	
6.	Create a PO referencing the above-created PR for ordering the consignment material into 
consignment stock.
	
7.	Post GR for the PO. The material will be received in consignment stock. At this point, a 
material document will be created.
	
8.	Post GI to withdraw material from consignment stock to customer’s own stock. At this 
point, a material document and an accounting document will be created.
	
9.	Do settlement of consignment payment to vendor.
Based on the need for customization and subsequent testing of the configured system, the tasks 
that need to be done are described in the following sections.
Customization, Configuration, and Master Data Setup
Master data are required for the consignment cycle. You need to create a quantity contract in SAP. 
The agreement type should be MK. You should have vendor, company code, purchasing orga-
nization, and cost center created. You also need to create a PR with document type “NB.” Item 

374  ◾  The SAP Materials Management Handbook﻿
category for both contract and PR should be “K.” Material, plant, storage location, and purchasing 
group should also be created in the system.
First you go to the “Accounting view 1” of the material using the transaction code MM02 
or the menu path: SAP Easy Access → SAP Menu → Logistics → Materials Management → 
Material Master → Material → Change → Immediately (MM02).
On this screen, you can see that the valuation class is “3000.” This class of material belongs to raw 
material and helps to determine the G/L account of the material.
The next task is to create info record of consignment type. If it is already created, you can 
change the info record using the transaction code ME12 or the menu path: SAP Easy Access → 
SAP Menu  → Logistics  → Materials Management  → Purchasing  → Master Data  → Info 
Record → Change (ME12).

Business Scenarios  ◾  375

376  ◾  The SAP Materials Management Handbook﻿

Business Scenarios  ◾  377
You need to set up a source list. Use the transaction code ME01 to maintain the source list 
or the menu path: SAP Easy Access → SAP Menu → Logistics → Materials Management → 
Purchasing → Master Data → Source List → Maintain (ME01).
On the initial screen, enter the plant and material. You will then go to overview screen, which 
is shown in the below figure.
After you have checked master data entries, you need to perform some customizing ­activities. 
First, you need to activate consignment prices via info record in this customizing ­activity. Use the 
transaction code OMEV. You can also use the transaction code SPRO or the customizing menu 
path: IMG → Materials Management → General Settings for Materials Management → Activate 
Consignment Prices via Info Records → Activate Consignment Prices via Info Records.
Now you need to configure and check G/L account determination for posting the consignment 
prices for the material. Use the transaction code OMBW for this purpose. You can also use 
the transaction code SPRO or the customizing menu path IMG → Materials Management → 
Valuation and Account Assignment → Account Determination → Account Determination with-
out Wizard → Configure Automatic Postings.
After you hit Enter, you will get the “Configure automatic posting” screen. Click on Cancel 
button on this screen. Now click on the Account assignment button. Here you will see the 
“Configuration account maintain: Automatic posts—Procedures” screen as shown in the below 
figure.

378  ◾  The SAP Materials Management Handbook﻿
You will get a list of accounts here. We need to configure and check only two accounts: the 
account settings for inventory offsetting and the account settings for consignment payables. 
For finding the account settings for inventory offsetting, double click on “GBB” entry in the 
list (for “Offsetting entry for inventory posting”). A pop-up window will be displayed. Enter 
“INT” as the chart of accounts here (configurations have been set for this chart of accounts 
under company code 0001). Now hit Enter. You will get the screen “Configuration accounting 
maintain: Automatic posts—Accounts” as depicted in the below figure. On this screen, you 
can see that there is an entry for valuation class “3000.” There are entries for debit and credit 
for this class, which are G/L account numbers. So whenever there is an inventory posting and 
there is a financial document created, the financial transaction will result in either debit or 
credit into these G/L account numbers.

Business Scenarios  ◾  379
We also need to set up G/L account for consignment transaction postings by going back to the 
“Configuration accounting maintain: Automatic posts—Procedures” screen. Here there is an 
entry “KON” for “consignment payables.” On double clicking this entry, you will get a screen 
similar to the one given below.

380  ◾  The SAP Materials Management Handbook﻿
On this screen, there is an entry for general modification as “PIP” and there is an entry for account 
against “PIP.” This is the G/L account that will be credited or debited whenever there is a transac-
tion posting (invoice payment in case of consignment).
Process Demonstration
Once we have done setup as well as customization for master data, we are ready to demonstrate 
the consignment cycle.
First we need to create a quantity contract. For this, use the transaction code ME31K or 
the menu path: SAP Easy Access  → SAP Menu  → Logistics  → Materials Management  → 
Purchasing → Outline Agreement → Contract → Create (ME31K).

Business Scenarios  ◾  381
Now you will need to create a PR. For this, use the transaction code ME51N or the menu path: 
SAP Easy Access → SAP Menu → Logistics → Materials Management → Purchasing → Purchase 
Requisition → Create (ME51N).

382  ◾  The SAP Materials Management Handbook﻿
Then you will need to create a PO from the PR you just created. For this, use the transaction 
code ME21N or the menu path: SAP Easy Access  → SAP Menu  → Logistics  → Materials 
Management → Purchasing → Purchase Order → Create → Vendor/Supplying Plant Known 
(ME21N).

Business Scenarios  ◾  383
When you select the selection variant “Purchase Requisitions,” you will be taken to the selection 
screen. Enter your PR number and click on the “Execute” button. You will return back to the 
Create purchase order screen. In the document overview pane, you can see your PR number. Select 
it and click on the “Adopt” button. Your data from the purchase requisition will be copied to the 
PO and you will see the screen as depicted in the below figure.

384  ◾  The SAP Materials Management Handbook﻿
Now you will need to post GR. But before doing GR, you need to check the stock of the mate-
rial in the consignment stock. You can make sure that the consignment stock gets increased 
by the amount of material you receive after GR transaction. To do it, you will need to use the 
transaction code MMBE or the menu path: SAP Easy Access → SAP Menu → Logistics → 
Materials Management  → Inventory Management  → Environment  → Stock  → Stock 
Overview (MMBE).

Business Scenarios  ◾  385
Select the plant and material and then push the “Execute” button.
On this screen, you can see that for this material, there is stock available with the vendor as con-
signment stock. On clicking the Consignment stock button, you will get a detailed report on this 
consignment stock as shown in the below figure.
Now use the menu path Logistics → Materials Management → Inventory Management → Goods 
Movement → Goods Movement (MIGO) to do GR of material into consignment stock.
Once goods are received in the consignment stock, the consignment stock quantity will 
reflect it. You can now use the transaction code MB54 to check it.

386  ◾  The SAP Materials Management Handbook﻿
Now you need to transfer some stock from the consignment stock to your own stock when 
­consumption of the material is needed in production. For this, you can do GI to the cost center. 
Once GI happens, a material document as well as an accounting document is generated.

Business Scenarios  ◾  387
It is because the consignment stock is owned by the vendor and not by the customer. When a GR 
is made to this consignment stock, there is no financial transaction. The financial transaction hap-
pens when a GI is made from the consignment stock to the customer’s own stock.
Subcontracting Cycle
Subcontracting cycle is used when some material needs to be processed by a subcontractor and 
then the finished material will be returned back to the customer. Subcontracting is also used when 
assembling of parts needs to be done by a subcontractor and the assembled component is returned 
to the customer. The standard method of process flow is to create a PO then receive goods (create 
GR) and finally issue goods (GI). But in subcontracting process this process is not followed. Here, 
a PO is created on the subcontractor as vendor for the finished goods. In the PO, the parts or the 
material needed to be sent to the subcontractor is specified. To do this, the PO contains an item 
category as “L” (subcontracting). Subsequently, a GI needs to be done so that the subcontractor 
receives the material or assembly parts for his work. Once the subcontractor finishes his work, he 
will send the finished material or assembly to the customer. This process is done through a GR.

388  ◾  The SAP Materials Management Handbook﻿
So you can see that the subcontracting process has process elements that are arranged in a very 
different way compared to a standard purchase process. Now let us discuss the complete subcon-
tracting process as how it is done in SAP.
Customizing Settings
Calculation Schema
Calculation of price for a purchase transaction is triggered from calculation schema stored at 
purchase organization and vendor master records. We need to check whether these records exist 
before we go ahead and do next setup steps.
Use the transaction code MK03 or the menu path Logistics → Materials Management → 
Purchasing → Master Data → Vendor → Purchasing → Display (Current) to check vendor cal-
culation schema. You need to specify the vendor (subcontractor) and purchasing organization for 
the schema group which will define the price for subcontracting.

Business Scenarios  ◾  389
You can see in the above screen that the schema group for vendor 1100 for purchasing ­organization 
1000 is 01.
Now you need to set up schema group for purchasing organization. Use the menu 
path  IMG  → Materials Management  → Purchasing  → Conditions  → Define Price  → 
Determination Process  → Define Schema Group  → Assignment of Schema Group to 
Purchasing Organization. On this screen, you can see that there is a schema group correspond-
ing to the schema group for the vendor. It means that the schema group for the purchasing 
organization is defined.

390  ◾  The SAP Materials Management Handbook﻿
The subcontracting process is demonstrated based on sending delivery from plant to a warehouse 
through inbound delivery. The condition record for inbound delivery should also be set up.
Document Type
You also need to set up the document type for the subcontract order. This step is optional as you 
can also use a standard PO of type “NB” with an item category “L” for subcontracting. But if you 
define a document type exclusively for subcontract order, the end users will not have a chance to 
make any error when they create a PO for subcontracting.
To set up the document type, use the menu path: IMG  → Materials Management  → 
Purchasing → Purchase Order → Set Up Subcontract Order. You need to specify the supplying 
plant from where the assembly parts or material for processing will be delivered and select the 
document type. The document type for subcontracting is “ZLB” (also known as delivery type for 
provision of material for subcontracting).
Master Data Setting
You need to create material master data for the component materials and the assembled or finished 
materials. If a bill of materials (BOM) is required, it should be created and the relationship of 
­parent material and children material should be defined in the BOM.
Parent material 101-100 (finished assembly) is created in the system. Assembly components 
101-110 and 101-120 are also created in the system.

Business Scenarios  ◾  391
Info Record
You need to set up info record of subcontracting type for the finished material so that the ­vendor 
can  charge the customer. Use the menu path Logistics  → Materials Management  → Master 
Data → Info Record → Change as there is an info record already created.

392  ◾  The SAP Materials Management Handbook﻿
Testing the Subcontracting Cycle
Once your master data and testing transaction data are set up, you can start testing the subcontracting 
cycle. First, you need to create a PO with an item category “L.” In the PO, you need to specify how 
much quantity of the assembled products needs to be sent by the subcontractor to the customer. The 
customer needs to supply the parts required for the assembly. These parts and their quantity are men-
tioned on the PO. If a BOM exists, through BOM explosion the assembly parts and their quantities are 
determined. If no BOM exists, the assembly parts and their quantities are entered manually on the PO.
We need to check the bin status for the initial stock position in the bin of the warehouse where 
the material will be sent.
After the PO is entered and saved in the system, the customer can do GI for the assembly parts. 
These assembly parts are transferred to the subcontractor stock through GI transaction. Once the 
subcontractor receives the assembly parts, the assembling process is started.

Business Scenarios  ◾  393

394  ◾  The SAP Materials Management Handbook﻿

Business Scenarios  ◾  395
Once assembling process is complete, the subcontractor will post GR to the customer. The assem-
bled and finished products will be received by the customer through the GR transaction. The 
subcontractor will be paid for the assembling service. Unused or overconsumed assembly parts 
will be taken care of by a 541 or 543 movement type.

396  ◾  The SAP Materials Management Handbook﻿

Business Scenarios  ◾  397

398  ◾  The SAP Materials Management Handbook﻿
The invoice settlement will be done after GR.

Business Scenarios  ◾  399
Pipeline Process
There are many kinds of materials that are consumed in a very different way than what we observe 
with normal kind of materials. In normal circumstances, any material is first procured using a 
purchase process, then it is received, and finally it is consumed. In SAP, there are corresponding 
processes of PO, GR, and GI for taking care of the entire life cycle of these materials.
But materials such as electricity, liquids, and gases are consumed continuously (when liquids 
and gases are not bottled and instead are supplied through pipes). Since they are continuous in 
supply, there is no procurement process in batches or in single units at a time. At fixed or regular 
intervals, the quantity of material consumed is measured and a bill is generated. The customer 
then pays the bill. So no invoices and GRs are involved. The only regular transaction involved is 
the GI process.
A list of actions that are need to test a pipeline process is as follows:
	
1.	Create a material master record of material type “PIPE.”
	
2.	Create an info record of type “Pipeline” (mandatory).
	
3.	Create GI with movement type “201P.”
	
4.	Do settlement with Tcode “MRKO.”
Intercompany Transfer
Procurement of materials can be done from either external sources or internal sources. Suppose 
a company has more than one plant. In one plant, the company manufactures some intermedi-
ate products, which are then further processed in some other plant. In such case, the company 

400  ◾  The SAP Materials Management Handbook﻿
transfers the material from one plant to another plant. In SAP, the transfer of material from one 
plant to another plant can be done in three ways:
	
1.	Stock transfer in one step
	
2.	Stock transfer in two steps
	
3.	Using stock transport order (STO)
Stock transfer in one step is used when plants are located nearby so tracking of in-transit goods is 
not required. GI and GR are done in the same step in one transaction.
When plants are located far away and in-transit goods need to be tracked, a two-step 
stock transfer procedure is used. In the first step, goods are issued from one plant. In the 
next step, goods are received in the receiving plant. After GI is done, the state of material is 
changed into in-transit. At the time of GR, the state is again changed from in-transit to goods 
received.
STO is one more option for stock transfer between plants. Here, the supplying plant acts as 
the vendor and the receiving plant acts as the customer. Just like sales order (SO), the receiving 
plant creates a transfer order and the supplying plant receives this order. Based on the order, the 
supplying plant ships the goods to the receiving plant. The receiving plant then receives the goods 
against the transfer order.
In cases where the stock transfer happens between two plants that belong to two different 
company codes (though belonging to the same promoters under the umbrella organization 
structure), STO is the best option. STO helps in keeping accounting and financial entries at 
both company codes. It is very much like normal sales between a customer and a vendor. STO 
is also known as intercompany transfer when it happens between plants belonging to two 
­different company codes.
In this tutorial, we will use STO or intercompany transfer to transfer stock from one plant 
belonging to one company code to a plant belonging to another company code.
Master Data Setting
Sales Area
The supplying plant needs to be set up as a vendor. So in the SAP system, you need to set 
up a sales area for the vendor (supplying) plant so that goods can be sold. Use the menu 
path: IMG  → Materials Management  → Purchasing  → Purchase Order  → Setup Stock 
Transport Order → Define Shipping Data for Plants. Using this menu, you can set data for 
customer number—plant, vendor number—plant, purchasing organization, shipping point, 
and ­receiving point.

Business Scenarios  ◾  401
Document Type
You can define the document type for intercompany transfer billing using the menu path: 
IMG  → Sales and Distribution  → Billing  → Intercompany Billing  → Define Order types 
For Intercompany Billing. In our case, the assignment of intercompany billing document type 
(type IV) is of SO type.

402  ◾  The SAP Materials Management Handbook﻿
Bill-to Partner
The plant that will receive the goods is the customer so a customer number will be needed for this 
plant. To create a customer number for the receiving plant, use the menu path: IMG → Sales and 
Distribution → Billing → Intercompany Billing → Define Internal Customer Number by Sales 
Organization.
Vendor
The plant that will supply the goods is the vendor so a vendor number will be needed for this 
plant. Also enterprise data interchange (EDI) message should be set for the vendor plant for 
­billing using the menu path: IMG → Sales and Distribution → Billing Intercompany Billing → 
Automatic Posting to Vendor Account (SAP-EDI) → Assign vendor. For financial invoice posting, 
the ­company code of the plant is needed and this information is obtained here.

Business Scenarios  ◾  403

404  ◾  The SAP Materials Management Handbook﻿
Tax Code and Tax Rate
For financial invoice posting, you need to consider applicable taxes and tax rates for the purchase 
of goods. To do this, you need to configure the system so that taxes are calculated properly for pur-
chases. Use the menu path IMG → Materials Management → Logistics Invoice Verification → 
EDI → Assign Tax Codes to set taxes and tax rates.
Program Parameters for Invoice Verification
For invoicing the bill-to partner, the vendor plant uses an invoice document type and posting keys. 
These are to be set up in customizing. Use the menu path IMG → Materials Management → 
Logistics Invoice Verification → EDI → Enter Program Parameters to set up the posting keys and 
choose the document type.

Business Scenarios  ◾  405
Partner Profile for Bill-to and Vendor Partner and Inbound Parameters
Menu path: Tools → ALE → ALE Administration → Runtime Settings → Partner Profiles
You set up EDI messages for partner profile so that the partner can be billed as well as inbound 
delivery can be received.
Billing Document
Menu path: Logistics → Sales and Distribution → Billing → Billing Document → Display
The final step in intercompany transfer is to bill the receiving plant. The supplying plant issues 
the bill and the receiving plant pays the bill.
The vendor plant can bill the receiving plant for the goods sent. The billing document through 
EDI message will contain all the billing information.

406  ◾  The SAP Materials Management Handbook﻿
Invoice Document
Menu path: Accounting → Financial Accounting → General Ledger → Document → Display.
Based on the billing, an invoice document is generated. The invoice can be verified against the 
GR and the PO.

 Business Management / Enterprise Resource Planning
Although tens of thousands of global users have implemented Systems, Applications, 
and Products (SAP) for enterprise data processing for decades, there has been a need for a 
dependable reference on the subject, particularly for SAP materials management (SAP MM). 
Filling this need, The SAP Materials Management Handbook provides a complete 
understanding of how to best configure and implement the SAP MM module across various 
types of projects. It uses system screenshots of real-time SAP environments to illustrate the 
complete flow of business transactions involved with SAP MM. Supplying detailed explanations 
of the steps involved, it presents case studies from actual projects that demonstrate how to 
convert theory into powerful SAP MM solutions.
• Includes tips on the customization required for procurement of materials  
and inventory management 
• Covers the range of business scenarios related to SAP MM, including the  
subcontracting cycle and consignment cycle 
• Provides step-by-step guidance to help you implement your own SAP MM module 
• Illustrates the procure to pay lifecycle 
• Depicts critical business flows with screenshots of real-time SAP environments
This much-needed reference explains how to use the SAP MM module to take care of the 
range of business functions related to purchasing, including purchase orders, purchase requi-
sitions, outline contracts, and request for quotation. It also examines all SAP MM inventory 
management functions such as physical inventory, stock overview, stock valuation, move-
ment types, and reservations—explaining how SAP MM can be used to define and maintain 
materials in your systems. 
ISBN: 978-1-4665-8162-3
9 781466 581623
90000
6000 Broken Sound Parkway, NW 
Suite 300, Boca Raton, FL 33487
711 Third Avenue 
New York, NY 10017
2 Park Square, Milton Park 
Abingdon, Oxon OX14 4RN, UK
an informa business
www.crcpress.com
K18886
www.auerbach-publications.com

