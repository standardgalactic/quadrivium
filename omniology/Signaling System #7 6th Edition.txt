Chapter
1
Signaling System #7
Signaling System 7 (SS7) has become one of the most important assets within any 
carrier’s network. Already deemed important for interconnecting calls from one net-
work to the next, SS7 also has become a network rich in user data.
SS7 is really a control protocol, used to provide instructions to the various elements 
within a telephony network. These instructions may be how to route a call through the 
network, what features a caller has subscribed to, or in the case of number portability, 
which carrier will be used to handle the call.
In order to provide this level of instruction, a great deal of information must be sent 
from one element to another. Everything from the caller’s telephone number to his or 
her calling card number, as well as other pertinent data, is sent through the network 
to the various network elements involved in connecting the caller to his or her destina-
tion. If there were a means of trapping all this information and storing it for analysis 
(which, of course, there is), carriers would find a rich resource for identifying the users 
of their network.
The data can be used for determining new marketing campaigns, the success of new 
feature offerings, and much more. In fact, I often refer to these data as the three W’s: 
who is using the network, when they are using the network, and why they are using 
the network. These data are crucial to the success of any business to ensure that it is 
meeting the needs of its customers.
Many carriers are just now realizing the benefits of mining the data traversing the 
SS7 network and are using these data to maintain revenue assurance in all aspects of 
the business. SS7 has even become an important revenue source for carriers who have 
learned to tap its links and interface to back-office billing systems.
What was once an obscure, little-known technology has become one of the industry’s 
most prized possessions. However, SS7 will not live forever. Particular aspects of SS7 
will continue to thrive throughout the signaling networks, but already the lower layers 
of the SS7 protocols are being replaced by protocols based on the Transmission Control 
Protocol/Internet Protocol (TCP/IP). 
1
www.allitebooks.com

In addition to changes in the transport layer, the industry already has begun to 
evolve the network itself to a new architecture designed to support not just voice but 
all forms of media, including video and messaging. Much as the Intelligent Network (IN) 
was designed to support the delivery of voice services under the control of SS7, the IP 
Multimedia Subsystem (IMS) has been developed to support the delivery of all services, 
using all types of media, under the control of a new call control protocol known as the 
Session Initiation Protocol (SIP). 
Still, SS7 is a long way from obsolescence and is extremely important to understand 
if one plans on making a career out of telecommunications. To fully understand how 
and why SS7 is used, one first must understand the basics of telephony as well as basic 
signaling.
Introduction to Telephony Signaling
Why is signaling needed? To understand the answer to this question, you must first 
understand the mechanics of a telephone call. When a subscriber picks up a telephone 
receiver, an electric signal is sent over a wire to a telephone switch. The telephone 
switch detects the electric current on this wire and interprets this “signal” as a request 
for a dial tone.
But let’s say the subscriber wants to transmit data over this same line using packet 
switching rather than an analog modem. The information sent to the telephone switch 
has to define the transmission as digital data and not voice before the switch can de-
termine how to handle the call. This is only one portion of the call.
To transmit the data to another network, the switch must determine first how the 
data are to be routed (to what destination) and which circuits to use to reach the desti-
nation. After this has been determined, some form of request must be sent to the tele-
phone switch on the other end of the circuit to establish a connection. This continues 
all the way through the network, with the same requirements at each leg of the call. 
Telephone switches need the capability to signal one another and share information 
regarding the type of transmission, how the transmission is to be routed (call destina-
tion), and what the contents of the transmission are (audio, video, data, and so on).
If there is to be special handling or routing for a call, the telephone switches involved 
in routing the call must be able to obtain these instructions. Rather than store routing 
instructions for every single telephone number in the world within each and every tele-
phone switch, each network is responsible for its own network database. The telephone 
switches then need the capability to connect and communicate with these databases to 
obtain the special instructions.
This is a high-level view of what signaling networks really do. They enable tele-
phone switches (and now packet switches) to communicate directly with one another 
and share information needed to process any type of call autonomously. SS7 was 
designed originally for the analog telephone network, but it has undergone continu-
ous changes and enhancements to accommodate the ever-changing world of telecom-
munications. Today, SS7 is used for data, video, voice, audio, and even Voice-over-IP 
(VoIP) networks.
2      Chapter 1
www.allitebooks.com

Signaling System #7      3
Ever since the beginning of the telephone, signaling has been an integral part of 
telephone communications. The first telephone devices depended on the receiving party 
standing next to the receiver. Early telephones did not have ringers like today’s tele-
phones and used crude speakers to project the caller’s voice into the room. If the person 
being called was not within close proximity of the speaker, he or she would have no 
indication of an incoming call.
After the formation of the Bell Telephone Company, Alexander Graham Bell’s faith-
ful assistant, Thomas Watson, invented the telephone ringer. The ringer served one 
purpose: to alert the called party of an incoming call. When the called party lifted the 
receiver, a direct-current (dc) battery and ground were used to indicate that the called 
party had answered the telephone and completed the circuit. Although not having an 
immediate impact, this method became important when the first telephone exchange 
was created. Lifting the receiver and allowing a dc current to flow through the phone 
and back through the return of the circuit would light a lamp on the operator’s switch-
board. This signaled the operator when someone needed to place a telephone call and 
often was accompanied by a buzzer.
Once the operator answered the switchboard, information was exchanged with the 
operator. The person calling was identified so that a record of the call could be made 
(for billing if it was a long-distance call), and the person being called was identified 
so that the operator knew how to connect the call. This is not much different from 
telephone signaling today, although signaling has evolved over the decades to include 
significantly more information than these early methods could.
Consider the typical long-distance telephone call today. When a caller dials the area 
code and prefix of the telephone number, the local exchange must determine how to 
route the call. In addition, billing information must be passed to a central database. If 
the caller is using a contemporary digital facility [such as T1 or an Integrated Services 
Digital Network (ISDN)], information regarding the digitization of the line also must 
be provided.
Early signaling methods were analog and had a limited number of states, or values, 
that could be represented. They also were limited to audible tones because they used 
the same circuit for both signaling and voice. The tones sometimes would interfere with 
the call in progress, and sometimes the voice transmission itself would be interpreted 
as part of the signaling and release the call.
Another problem with early signaling methods was the fact that the circuit used for 
the call would be busy from the time the caller started dialing until the call was com-
pleted. Since the signaling was sent through the same circuit as the voice transmission, 
it was necessary to connect the facility end to end even if there was no voice transmis-
sion. For example, if the number being called was busy, the facility still would be con-
nected end to end so that a busy tone could be sent through the circuit to the caller. 
This is not an efficient use of facilities, and as the demand grew for telephone service, 
it placed a heavy burden on telephone companies with limited facilities.
Many telephone companies in metropolitan areas such as Los Angeles were facing 
substantial investments to add new facilities to support the millions of customers who 
were creating an enormous amount of traffic. The telephone companies had to find  
www.allitebooks.com

4      Chapter 1
a way to consolidate their facilities, making more efficient use of what they had. In ad-
dition, they needed a service that would vastly improve their network’s capability and 
support the many new services being demanded by subscribers.
Europe had already begun the process of digitizing the network in the early 1960s. 
One of the first steps was to remove signaling from the voice network and place the 
signaling on a network all its own. In this way, the call setup and teardown procedures 
required for every call could be faster than the previous methods, and voice and data 
circuits could be reserved for use when a connection was possible rather than maintain-
ing the connection even when the destination was busy. Common Channel Signaling 
(CCS) paved the way for services the early pioneers of signaling never dreamed of. CCS 
is the concept that ISDN and SS7 are based on.
The concept is simple. Rather than use voice trunks for signaling and voice trans-
mission, they are used only when a connection is established and voice (or data) trans-
mission takes place. For instance, when a call is placed to a distant party using con-
ventional signaling, the signaling for that call begins from the time the caller lifts the 
receiver and goes off-hook until the caller goes back on-hook. After the end office has 
received the dialed digits, an outgoing trunk to the destination end office is seized, 
based on a routing-table entry and the digits dialed.
The voice circuit remains connected and in use by the telephone switch, even if the 
distant party never answers the call, until the calling party hangs up. Meanwhile, other 
circuits are being tied up in a similar fashion. By removing the signaling from the voice 
network and placing it on a network of its own, the voice circuit remains available for a 
longer period of time. This means that the availability of voice circuits is higher, and the 
need for additional circuits decreases. The facilities used for signaling provide signaling 
for many voice circuits, hence the name CCS.
Other efficiencies are provided by SS7 (albeit not always implemented). Take the 
case of service tones and intercept recordings. Typically, when a caller dials a number 
that is busy, he or she receives a busy tone from the destination (terminating) switch. 
This, of course, requires use of the voice circuit (or at least one side of the circuit) for 
the audible tone. The same is true for intercept recordings.
With SS7, the caller’s local office could provide these tones and recordings at the 
command of the distant office. This implementation would offer even more efficiencies 
than the present method used throughout North America (voice circuits are two-way 
transmission circuits, with a transmit and receive, so that tones and recordings are 
sent in one direction).
SS7 does provide much faster connections and teardowns than conventional signal-
ing methods. Even if voice circuits do get connected, with the speed of the signaling 
network, circuits can be disconnected and quickly connected again for a new call. This 
is especially true of long-distance calls, where many segments of circuits are bridged 
between multiple switches to connect a call end to end. Each segment is connected and 
released individually, making it available for other calls.
Signaling today uses existing digital circuits. By using existing digital circuits, sig-
naling for many circuits can be consolidated onto one signaling link using a fraction 
of the bandwidth required if conventional signaling were used. One digital data link 
www.allitebooks.com

Signaling System #7      5
can carry the signaling information for thousands of trunks and maintain thousands 
of telephone calls. When TCP/IP is used as the transport for signaling, this number 
increases significantly.
With SS7, the amount of information that can be provided is virtually unlimited. This 
opens the potential for many more uses of the signaling data. Signaling takes place in two 
parts of the telephone network: between the subscriber and the local end office and from 
switching office to switching office within the telephone company network. The signaling 
requirements are similar, although interoffice signaling can be more demanding.
As the telephone network grew more sophisticated, the signaling methods grew as 
well. Signaling between the subscriber and the central office now includes the calling-
party number, which is forwarded to the called party and displayed before the phone is 
even answered. Interoffice signaling now includes information obtained from regional 
databases pertaining to the type of service a subscriber may have or billing informa-
tion. In fact, the first use of SS7 in the United States was not for call setup and tear-
down but for accessing remote databases. The opposite is true of Europe and other 
international communities, where C7 is used for call setup and teardown, but the con-
cept of centralized databases for custom call routing is still new. In the 1980s, the U.S. 
telephone companies offered a new service called Wide Area Telephone Service (WATS), 
which used a common 800 area code regardless of the destination of the call. This posed 
a problem for telephone-switching equipment, which uses the area code to determine 
how to route a call through the Public Switched Telephone Network (PSTN).
To overcome this problem, a second number is assigned to every 800 number. This 
second number is used by the switching equipment to actually route the call through 
the voice network. But the number must be placed in a centralized database where all 
central offices can access it. When an 800 number is dialed, the telephone company 
switching equipment uses a data communications link to access this remote database 
and look up the actual routing number. The access is in the form of a message packet, 
which queries the network for the number. The database then responds with a response 
message packet providing the routing telephone number as well as billing information 
for the 800 number. The switching equipment then can route the call using conven-
tional signaling methods.
SS7 provides the data communications link between switching equipment and tele-
phone company databases. Shortly after 800 number implementation, the SS7 network 
was expanded to provide other services, including call setup and teardown. Still, the 
database-access capability has proven to be the biggest advantage behind SS7 and is 
used widely today to provide routing and billing information for all telephone services, 
including 800 numbers, 900 numbers, 911 services, custom calling features, caller iden-
tification, and many new services still being defined.
800 numbers at one time belonged to one service provider. If subscribers wanted to 
change service providers, they had to surrender their 800 number. This was due to the 
location of the routing information. All routing information for 800 numbers is located 
in a central database within the carrier’s network and is accessed via the SS7 network. 
SS7 is now used to allow 800 numbers to become transportable and to provide subscrib-
ers the option of keeping their 800 numbers even when they change service providers.
www.allitebooks.com

6      Chapter 1
When someone dials an 800 number today, the telephone switch sends a query to a 
network database to first determine which carrier the 800 number belongs to. After 
the switch receives this information, it can direct a query to the network of the carrier 
owning the 800 number and translate the 800 number into an actual routing number. 
This concept was later extended to support number portability.
Without SS7, number portability would be impossible. Local Number Portability 
(LNP) is a service mandated by the Federal Communications Commission (FCC) in 
1996 that requires telephone companies to support the porting of a telephone number. 
The intent of this mandate was to open the various markets to competition and provide 
customers with more incentive to switch service providers without any disadvantage 
(such as losing the telephone number already printed on stationary).
If customers wish to change their service from Plain Old Telephone Service (POTS) to 
ISDN, they normally would be forced to change telephone numbers. This is so because 
of the way telephone numbers are assigned in switching equipment, with switches as-
signed ranges of numbers.
The same is true if a subscriber decides to change to a new carrier offering local ser-
vice in his or her area. Changing telephone companies would require surrendering your 
old telephone number and receiving a new number from the new carrier. With number 
portability, subscribers can keep their old numbers and still change carriers.
This requires the use of a database to determine which switch in the network is now 
assigned the number, which is very similar to the way 800 numbers are routed. Future 
implementations of LNP will support subscribers moving from one location to another 
without changing their telephone number (even if they move to a new area code). This 
makes obsolete the former numbering plan and the way calls are routed through the 
telephone network.
Another use for this type of database is being implemented today. As more and more 
people begin using their computers and the Internet for making telephone calls, the 
need to route calls to these devices becomes more complex. The Internet does not use 
telephone numbers as part of the addressing but employs IP addresses instead. To 
route calls to these devices, a database (Electronic NUMbering, or ENUM) that is ca-
pable of translating IP addresses to some form of a telephone number that can be used 
within the traditional PSTN is required.
In addition to database access, the SS7 protocol provides the means for switching 
equipment to communicate with other switching equipment at remote sites. For exam-
ple, if a caller dials a number that is busy, the caller may elect to invoke a feature such 
as automatic callback. When the called party becomes available, the network will ring 
the caller’s phone. When the caller answers, the called-party phone is then rung. This 
feature relies on the capabilities of SS7 to send messages from one switch to another 
switch, allowing the two systems to invoke features within each switch without setting 
up a circuit between the two systems.
Cellular networks use many features requiring switching equipment to communicate 
with each other over a data communications network. Seamless roaming is one such 
feature of the cellular network that relies on the SS7 protocol.
www.allitebooks.com

Signaling System #7      7
Cellular providers use the SS7 network to share subscriber information from their 
home location registers (HLRs) so that cellular subscribers no longer have to register 
with other service providers when they travel to other areas. Cellular providers can 
access each other’s databases and share the subscriber information so that subscribers 
can roam seamlessly from one network to another.
Before deploying SS7, cellular providers were dependent on X.25 networks to carry 
signaling information through their networks. This did not enable them to interconnect 
through the PSTN because the X.25 network was not compatible with the PSTN signaling 
network (SS7). Wireless carriers own some of the largest SS7 networks deployed today.
Calling-card validation is another important function of these databases and pro-
vides security against telephone fraud. Personal identification numbers are kept in a 
subscriber database and verified every time a call is placed using a calling card.
Today, SS7 has been deployed throughout the world and has become a necessity for 
connecting telephone calls from one network to another. This makes SS7 the world’s larg-
est data communications network, linking telephone companies, cellular service provid-
ers, and long-distance carriers together into one large information-sharing network.
We have discussed the basics of signaling previously. Several forms of signaling are 
used for different aspects of a telephone call. Conventional dc signaling, in-band sig-
naling, out-of-band signaling, digital signaling, and CCS are all used for different ap-
plications. It is important to understand all aspects of signaling, how it is used, and the 
relationships between the various signaling methods.
To fully understand what SS7 is about, one must understand the conventional signal-
ing methods used prior to SS7 in telephone networks. The following discussion explains 
the signaling methods used prior to SS7.
Conventional Signaling
Conventional signaling relies on many different types of mechanisms, depending 
mostly on the location within the network. Dual-tone multifrequency (DTMF) is used 
between the subscriber and the end office. Single frequency (SF) is used between tele-
phone company offices. Following is an example of how conventional signaling is used 
to process a call.
Dc signaling relies on a dc current to signal the distant end. The simplest example of 
dc signaling is used in POTS between the subscriber and the local end office. When a 
subscriber goes off-hook, a dc current from the central office is allowed to flow through 
the telephone (the switch-hook provides the contact closure between the two-wire inter-
face) and back to the central office. The central office switch uses a dc current detector 
to determine when a connection is being requested.
In the case of special circuits (such as tie lines), two separate circuits are used for the 
purpose of signaling (referred to as the E and M leads). For these circuits, the M lead 
is used to send a 48-Vdc current or ground to the distant switch (implementation-
dependent). The M lead of one switch must be connected to the E lead of the distant 
switch. When the distant switch detects a current on its E lead, it closes a relay contact 
www.allitebooks.com

8      Chapter 1
and enables the current to flow back to the sending switch through its M lead. When 
the sending switch detects the current flow on its E lead, the connection is considered 
established, and transmission can begin on the separate voice pairs.
The central office acknowledges receipt of the loop current by sending a dial tone. A 
dial tone signals the subscriber to begin dialing the telephone number. This can be done 
using a rotary dial or a DTMF dial. Rotary dials use a relay to interrupt the current, 
creating pulses (10 pulses per second). The central-office switch counts each series of 
pulse “bursts” to determine the number dialed.
When DTMF is used, the dial creates a frequency tone generated by mixing two fre-
quencies together (hence the name dual tone). The central-office switch “hears” these 
tones and translates them into dialed digits.
After the telephone number has been dialed, the central-office switch must deter-
mine how to connect to the destination. This may involve more than two central offices. 
A facility (or circuit) must be connected between every telephone company office in-
volved in the call. This circuit must remain connected until either party hangs up. The 
originating office determines which circuits to use by searching its routing tables to see 
which office it must route the call through to reach the final destination. That office, in 
turn, will search its routing tables to determine the next office to be added to the call.
Once the circuits are all connected, the distant party can be alerted by sending volt-
age (80 Vac at 20 Hz) out to the telephone. This activates a ringer inside the telephone. 
At the same time, the distant telephone company switch sends a ringback tone to the 
originator to alert the caller that the called party’s phone is being rung. When the dis-
tant party answers, the ringback tone is interrupted, and the circuits now carry the 
voice of both callers.
If the called party’s line is busy, the same facilities are used so that the far-end office 
can send a busy tone back to the originator. This means that those facilities cannot be 
used for any other calls and are being tied up to send the busy tone.
The limitations of dc signaling are somewhat obvious. For example, the telephone 
number of the originator cannot be sent to the called party (at least not without long 
delays in setup). Signaling is limited to seizing circuits, call supervision, and discon-
nect. Because dc signaling uses the voice trunk, the trunks are kept busy even when 
the two parties are never connected.
In-Band Signaling
In-band signaling is used when dc signaling is not possible, such as in tandem offices.  
In-band signaling uses tones in place of a dc current. These tones may be single- 
frequency (SF) tones, multifrequency (MF) tones, or DTMF. The tones are transmitted 
with the voice. Because these tones must be transmitted over the same facility as the 
voice, they must be within the voice band (0–4 kHz). There is the possibility of false 
signaling when voice frequencies duplicate signaling tones. The tones are designed for 
minimal occurrence of this, but this is not 100 percent fault-tolerant. Signal delays and 
other mechanisms are used to prevent the possibility of voice frequencies imitating SF 
signals. This method of signaling is also highly susceptible to fraud.
www.allitebooks.com

Signaling System #7      9
SF signaling is used for interoffice trunks. Two possible states exist: on-hook (idle 
line) or off-hook (busy line). To maintain a connection, no tone is sent while the circuit 
is up. When either party hangs up, a disconnect is signaled to all interconnecting offices 
by sending a tone (2.6 kHz) over the circuit. Detectors at each end of the circuits detect 
the tone and drop the circuit.
SF signaling has become the most popular of all the in-band methods and the most 
widely used of all signaling methods. SF is still in use today in some parts of the telephone 
network. However, as deployment of the SS7 network spreads, SF is no longer needed.
MF is much like DTMF and is used to send dialed digits through the telephone net-
work to the destination end office. Because voice transmission is blocked until a connec-
tion to the called party is established, there is no need for mechanisms that prevent the 
possibility of voice imitating signaling tones. MF is also an interoffice signaling method 
used to send the dialed digits from the originating office to the destination office.
Out-of-Band Signaling
Out-of-band signaling has not shared the popularity and widespread use of SF signal-
ing. Out-of-band signaling was designed for analog carrier systems, which do not use 
the full 4-kHz bandwidth of the voice circuit. These carriers use up to 3.5 kHz and 
can send tones in the 3.7-kHz band without worrying about false signaling. In other 
words, some frequencies within the 4-kHz bandwidth are left as “buffers” and are not 
used for anything. This is where out-of-band signaling takes place, using audible tones. 
It is called out-of-band signaling because the signaling takes place outside the voice-
frequency bands; however, it is still sent on the same facility as the voice. Out-of-band 
signaling is an analog technology and is of no advantage today.
SS7 is often referred to as out-of-band signaling. This is not an accurate label for SS7 
because the messages sent in SS7 are not sent in the frequency band outside the voice 
band. From a purist perspective, SS7 is best described as CCS because it is sent on a 
completely separate facility from the voice.
Digital Signaling
As digital trunks became more popular, signaling methods evolved that greatly en-
hanced the reliability of the network. One technique used in digital trunks (such as 
DS1) is the use of signaling bits. A signaling bit can be inserted into the digital voice 
bitstream without sacrificing voice quality. One bit is “robbed” out of designated frames 
and dedicated to signaling (robbed-bit signaling). The digitized voice does not suffer 
from this technique because the loss of one bit does not alter the voice signal enough to 
be detectable by the human ear.
Because of its digital nature, digital signaling is much more cost-effective than SF. SF 
requires expensive tone equipment both for sending and for detection, whereas digital 
signaling can be detected by any digital device loaded in the switching equipment and 
can create any kind of signaling information. This has fueled efforts to make carriers 
digital rather than analog.
www.allitebooks.com

10      Chapter 1
Digital signaling has another fundamental difference. It does not use messages as 
SS7 and other message-based protocols do. Rather, it uses a limited number of bits to 
represent simple connection-specific data. This limits the type of signaling data it can 
provide. This form of signaling is used to maintain the connection of a digital facility 
and does not contain any information about the call itself (therefore, it can be classified 
as transmission-level signaling).
Common Channel Signaling (CCS)
CCS uses a digital facility but places the signaling information in a time slot or channel 
separate from the voice and data it is related to. This enables signaling information to 
be consolidated and sent through its own network apart from the voice network. It is 
this method that is used in SS7 today.
In addition, this method of signaling is capable of sending and receiving large amounts 
of data within packetized messages, supporting an unlimited number of signaling val-
ues. This is what adds value to SS7 today. By sending data messages that are rich in 
detail, the network can operate much more intelligently than with any other method of 
signaling. Even information retrieved from a remote database can be transferred from 
one entity to another using CCS.
It was mentioned earlier that SS7 is sometimes referred to as out-of-band signaling. 
When one compares the methods used to transmit SS7 with conventional out-of-band 
signaling, it becomes clear why SS7 is best defined as CCS. Of course, out-of-band sig-
naling is also an analog method, whereas CCS is digital.
To understand how signaling is used, you must understand the various hierarchies of 
telephone networks and the basics of telephony. The next section provides an overview 
of telephony.
Basic Telephony
Telephony is the science of transmitting voice over wires electronically (or close any-
way). Telecommunications is often used to refer to both the voice and data industry. 
This section will deal primarily with voice telephony, outlining the various aspects of 
the telephone network and the carriers responsible for those networks.
Bell System Hierarchy
The telephone network can be divided into several distinct functions: signaling, data, 
video, audio, and voice switching. The signaling network is the SS7 network. Data 
transmission is routed away from the telephone switches onto separate data networks, 
either owned and maintained by the telephone company or leased through a data pro-
vider. The video network is used for transmitting programs from television studios out 
to their transmitters. This is usually over DS4/5 facilities. An audio transmission is 
done through radio broadcasts and is also transmitted from the studio out to the radio-
tower transmitters. The switching network is the portion used for the transfer of voice 
from one subscriber to another through the telephone service providers’ networks.
www.allitebooks.com

Signaling System #7      11
It is important to understand this separation of networks because what is happening 
today with the convergence of networks has a big impact on how telephone companies 
manage these different media. Telephone networks were designed for voice transmis-
sion. The typical engineering rule used when building a voice network is to provide 
enough capacity for the typical number of phone calls within a given period of time. 
There is a limited duration of time applied to each phone call as a principle and a 
specific number of calls per hour per circuit. Without getting into all the equations for 
these engineering rules, the point is this: Telephone networks were not designed for 
long sessions dialed into the Internet!
Internet traffic is now “offloaded” from the switch network right at the local tele-
phone office and is routed immediately to an Internet service provider (ISP) through 
dedicated circuits leased by the local telephone company from the ISP. This enables the 
telephone company to remove any and all Internet-related traffic from the backbone 
switching network, saving the company millions in equipment and facility costs. This 
also opens new opportunities for data-network providers.
Television and radio transmissions are sent over dedicated cables to their respective 
destinations rather than through the switched network. This limits where the signals 
can be sent, but given the nature of the signals, this limitation is acceptable.
A hierarchy exists within the switching network to ensure the efficient use of trunk 
facilities and to provide alternate circuits in the event of failures or congestion. Before 
the divestiture of the Bell System in 1984, the hierarchy was much different from 
what it is today. Remember that the Bell System provided both local and long-distance 
services, so it owned the entire network. After divestiture, this was changed. The Bell 
companies were no longer allowed to provide both local and long-distance services, so 
the network had to be split. Outside the United States, many telephone companies still 
provide both local and long-distance services. 
The old hierarchy provided five levels of switching offices, with class 5 offices des-
ignated as the end office or local office (Figure 1.1). The class 5 office was capable of 
connecting to other end offices within its calling area but relied on the class 4 office 
to connect to offices outside its calling area. The calling area was not defined by area 
codes but was a geographic service area drawn by the Bell System. Service access areas 
have since been reallocated as Local Access Transport Areas (LATAs) by the Justice 
Department as a result of the Bell System divestiture.
The class 4 office allowed the telephone company to aggregate its facilities and use 
high-capacity trunks to interconnect to other class 4 offices. In this way, the class 5 
office did not require high-capacity facilities and handed off the bulk of its calls to 
the class 4 office. This also prevented the need for the class 5 office to have trunks to 
every other class 5 office in the service area. The class 4 offices also were known as 
toll centers.
As shown in Figure 1.1, the class 4 office provided two paths for a telephone connec-
tion. The interconnection of these various offices depended mostly on distance. There 
were many occurrences of a class 5 office connecting directly to a class 1 office.
The toll office searched for an available trunk as low in the hierarchy as possible. If one 
was not available, it would search for a trunk to the primary center in the destination  

12      Chapter 1
calling area. If there were no available trunks to the primary center, then the last 
choice would be an overflow trunk to its own primary center.
The class 3 office, or primary center, was part of the toll network. This office connected 
to class 2 offices, or sectional offices, but also provided a path to other class 3 and class 4 
offices. This office served as an overflow-switching center in the event that other routes 
lower in the hierarchy were not available.
The class 2 office also was known as the sectional center and provided access to the 
regional center. Only two routes were available at this level, one to its peer in the des-
tination calling area and one to the regional switching center, or class 1 office.
The class 1 office was known as the regional center and was used for toll calls. The 
regional center also provided access to the long-distance network. A typical toll call 
required an average of three trunks. The maximum number of trunks allowed in a 
connection was nine.
Postdivestiture Switching Hierarchy In the mid-1980s, technology enabled many of the 
functions just described to be combined. As switching equipment was improved, sys-
tems were given the capability to function as local switches, tandems, and even toll 
switches. In addition to better routing functionality, these switches also were given 
the capability to record billing records and perform alternate routing in the event of 
congestion or failures.
The new hierarchy consists of fewer levels, consolidating many of the functions of 
the previous hierarchy into two or three layers (Figure 1.2). Long-distance access is 
accomplished through a point-of-presence (POP) office. The long-distance carrier has a 
similar multilevel hierarchy, which may be several layers as well.
1
2
1
1
2
1
1
3
2
2
4
5
1
2
3
4
5
3
Figure 1.1 The Bell System switching hierarchy prior to divestiture of the Bell System. The priority of the 
routes is indicated by the numbers.

Signaling System #7      13
Packet-switched networks are much different. A hierarchy still exists in the packet-
switched world, but there are fewer layers to deal with and, of course, no switching 
within the network. Everything is transmitted over the same facilities. We will talk 
about packet-switched networks later on.
Local Access Transport Areas (LATAs)
After divestiture, the telephone companies’ service areas (or exchanges, as they some-
times were called) were redrawn by the Justice Department so that telephone compa-
nies would have evenly divided service areas with equal revenue potential. These areas, 
called LATAs, were divided according to census information as well as the amount of 
capital already invested in each area by existing carriers in the form of network equip-
ment. Each Regional Bell Operating Company (RBOC) and each independent telephone 
company received a service area or combination of areas (more than one LATA could be 
assigned to a carrier) that would provide it a fair and equal market. LATAs are smaller 
in most cases than the service areas carved out by the RBOCs but still permit telephone 
companies to maintain their original network investments. There were originally 146 
LATAs, but as changes take place in the networks, the number of LATAs is growing.
To maintain fairness between local and long-distance telephone companies, all traffic 
that crosses the boundaries of a LATA must be connected through a long-distance car-
rier. The local operating companies and independents are not allowed to carry traffic 
from one LATA to another. This ensures that the local telephone companies do not in-
terfere with long-distance competition and provides the long-distance companies with 
a fair and profitable boundary for which they can compete with other carriers.
Figure 1.2 The much flatter switching hierarchy used after divestiture of the Bell System. The End Office 
(EO) is what was formerly known as the class 5 switch, whereas the Access Tandem (AT) serves the function 
of class 4. The Tandem Office (TO) provides the services of a class 3 switch.
IXC
POP
TO
EO
EO
EO
AT
EO
EO
EO
TO

14      Chapter 1
The Telecommunications Act of 1996 enables long-distance companies to provide local 
telephone service in their markets only after they pass specific criteria. This reverses 
the legislation put into place by Judge Green when divestiture of the Bell System 
reshaped the nation’s telephone industry and limited long-distance companies from 
offering local service.
At the same time, the Telecommunications Act of 1996 enables local telephone com-
panies to offer long-distance (inter-LATA) service in their market areas. They must 
demonstrate that they have allowed competition in their market areas and pass cri-
teria set in the Telecommunications Act before offering such service. The result of this 
sweeping new legislation is still unfolding, but many anticipate that local telephone 
companies will partner and merge with long-distance companies, taking advantage of 
one another’s markets.
To promote competition in long-distance service, the telephone companies were forced 
in the 1980s to provide long-distance carriers equal access to the telephone network. This 
was accomplished in the current switching hierarchy by establishing a POP, which serves 
as an interface to all interexchange carriers into the LATA. Every LATA must have one 
POP. The telephone companies collect access fees from the long-distance carriers for this 
interface into their networks to offset the cost of equipment and ensure a revenue stream 
from long-distance traffic. They also will bill the long-distance carrier for all traffic that 
comes from the long-distance network and terminates in the local network. This has be-
come an important source of revenue for local telephone companies. The local telephone 
companies further divided each LATA into a local market and a toll market. The toll 
market is within the LATA (intra-LATA) but is considered by the telephone company 
as a long-distance call because of the distance from one city to another or the distance 
between central offices handling the call. These toll calls are currently very expensive 
and have been opened for competition recently. These are the only long-distance calls lo-
cal telephone companies are allowed to provide. Many states have allowed long-distance 
carriers to compete in this market, opening up the LATA to competition.
Over 300 LATAs are presently defined throughout the United States. Throughout 
these LATAs are hundreds of telephone companies competing for revenue. Many of the 
smaller independent companies are investing capital to get connected to the SS7 net-
work so that they can offer the same types of advanced calling features that the larger 
service providers offer. These independent companies have joined forces, forming tele-
phone associations across the nation. This allows them to represent their industry in 
standards committees and voice their concerns to the government as a collective body 
rather than a lone voice. These associations also pool their resources and build their 
own networks using monies from the member companies to pay for the cost of the net-
works. This is how many small independent companies are getting involved in SS7.
Who Are the Players?
A number of companies offer telephone services of some type today. To fully under-
stand their business, we need to understand their roles in the network. Let’s define 
what these companies do so that we can understand the services they provide. Some of  

Signaling System #7      15
these companies, by the way, offer their services to other telephone companies and do 
not have any subscribers connecting to their networks.
Regional Bell Operating Companies (RBOCs) These are the companies resulting from 
the divestiture of the Bell System. Only a couple of these companies are left now ow-
ing to mergers and acquisitions. Southwestern Bell (now known as SBC) has acquired 
Southern New England Telephone (SNET), Ameritech, Pacific Bell, and AT&T. It will 
assume the name AT&T going forward. Bell Atlantic merged with NYNEX and acquired 
GTE to become Verizon. Under the Verizon name, the company recently acquired MCI 
to compete with its rival AT&T. Bellsouth continues to operate on its own and has not 
made any acquisitions. The RBOCs provide local telephone service, but as they open up 
their territories for competition (meeting the requirements of the Telecommunications 
Act of 1996), they are starting to provide long-distance service.
Local Exchange Carriers (LECs) Typically, these are the independent telephone com-
panies offering local service where the RBOCs do not provide service. An example of 
a LEC is General Telephone (GTE). Many other LECs throughout the United States 
are considerably smaller in size. They continue to operate today as small, independent 
telephone companies, typically in the smaller, rural areas of America.
Incumbent Local Exchange Carriers (ILECs) An ILEC is a local telephone company, usu-
ally one of the independents, not affiliated with any of the RBOCs. ILECs fall under the 
same guidelines as the RBOCs and have been given territories like the RBOCs.
Competitive Local Exchange Carriers (CLECs) The CLECs are new entrants into a 
service area. They are usually small startups offering local telephone service in a few 
LATAs. They typically start as resellers of long-distance service and then begin invest-
ing in their own telephone networks as they build their customer bases. They target 
specific LATAs to offer service in and then expand out. Hundreds of CLECs exist in the 
United States today, and many more are starting. With new packet-switching networks 
rolling out, the number of CLECs is increasing sharply owing to the decrease in network 
deployment costs associated with packet switching.
Interexchange Carriers (IXCs) The IXCs are the long-distance carriers providing long-
distance service between LATAs. They started out as long-distance service providers 
in specific areas, but now many of them have expanded their markets by offering local 
telephone service. AT&T, MCI, and Sprint are all examples of IXCs. It is also important 
to note that these IXCs also provide services to other carriers and also may be classified 
as CLECs (if they are providing local telephone service).
Data Competitive Local Exchange Carriers (D-CLECs) You don’t hear much about  
D-CLECs, but this is big business. These companies take the Internet and data traffic 
from the local telephone companies and route it through their own packet-switched net-
works. The RBOCs are big customers of D-CLECs because they do not want to manage 

16      Chapter 1
this data traffic in their own networks. ISPs are also big users of these networks because 
they save them from having to build huge nationwide networks to provide service in ev-
ery city. They can use a D-CLEC in every city, route the traffic through these networks 
to one national backbone network, and save the equipment and facility costs associated 
with nationwide network buildouts.
Hub Providers Another emerging business is the hub-provider business. These are 
carriers who provide facilities and interconnections to other telephone companies. For 
small telephone companies entering into a new market, this is usually the most eco-
nomical way to get started because there is little capital investment for them to make. 
They simply lease the services they need from the hub provider.
A hub provider provides switching and circuits to other networks for an access fee. 
The hub provider also will provide database services such as calling name (CNAM) and 
800 applications. Hub providers collect fees from the networks they connect to based 
on the amount of traffic they send into other networks as well as the amount of traffic 
they terminate in their own networks. Several hub providers provide SS7 services in 
the United States and are expanding their services rapidly around the world.
Many of the RBOCs have entered into the hub provider business themselves, recog-
nizing this as a new source of revenue. The market has become very competitive for hub 
providers, forcing a reduction in access fees and other fees collected.
Hierarchy of the Synchronization Network
All digital networks rely on timing mechanisms to maintain integrity of the data trans-
mission. Because all digital transmissions are multiplexed and based on time division, 
accurate timing is critical. This is especially true when DS0A links are used in SS7. 
DS0A links must have accurate timing sources in order for them to synchronize and 
carry signaling traffic.
Digital facilities must have reliable, accurate clock sources to determine proper bit 
timing. These clocks must be synchronized with the same source and are deployed 
throughout the telephone network. To maintain timing in the telephone network, a 
separate synchronization network has been defined (Figure 1.3).
The source for a clock signal is referred to as the primary reference source (PRS). 
These clock sources reside in the various regions of the telephone network. They are 
highly accurate clocks, usually cesium-beam- or rubidium-based clocks. These clocks 
must be resynchronized and verified continuously using a universal time source. Many 
companies currently use Loran-C and the Global Positioning System (GPS) to check 
the accuracy of their clocks. The distribution of clock signals is implemented at differ-
ent levels, referred to as strata. The highest stratum obtainable is stratum 1, which is 
the primary clock source (primarily meaning that it is referenced directly from Loran 
or GPS sources).
Clock signals are distributed in a primary/secondary relationship to all other levels. 
This means that central-office switching equipment at stratum 2 distributes its clock 
signal to equipment at stratum 3. Equipment that sits downstream of the clock signal 

Signaling System #7      17
will not receive as accurate a clock signal as those connected directly to the source 
(stratum 1).
The PRS distributes clocking signals to toll offices. The toll office is considered stra-
tum 2 and must redistribute the clock to end offices within its LATA. Each LATA must 
have at least one stratum 2 clock. Whenever a clock is redistributed, it loses some accu-
racy. Yet the clock signal is accurate enough to operate throughout the network reliably 
despite the loss of accuracy. End offices are considered stratum 3.
The end office will distribute clock signals to other users of digital transmission facil-
ities, such as private branch exchanges (PBXs) and channel banks. These are considered 
to be at stratum 4. In some cases, devices at this level can redistribute the clock signal 
to other adjunct equipment. These devices are considered to be at the lowest level of 
the hierarchy, stratum 5.
Within a central office, clocks are distributed through a building-integrated tim-
ing system (BITS). BITS is a distribution system for clock signals and is distributed 
throughout the office to switching equipment in that office. BITS is critical to the proper 
operation of DS0A links in the SS7 network. Failure of this clock signal will result in 
the failure of the signaling links.
Digital Signaling Hierarchy
The telephone network also has a digital hierarchy for all digital transmission 
facilities. This digital hierarchy is a means for expressing the capacity of these various 
facilities. Typically, the highest level of the hierarchy is an aggregate of the levels below  
it. Thus the lowest digital signal in the hierarchy is multiplied to establish the next 
level, which is multiplied to obtain the next level, and so forth. Table 1.1 illustrates the 
correlations between levels in the hierarchy.
The SS7 network uses DS0As for signaling links. This is a 56- or 64-kbps data link, ca-
pable of sending voice or data. The DS0A in the United States is always 56 kbps because 
Figure 1.3 To maintain synchronized timing throughout the digital network, the RBOCs use this timing 
network.
PRS
PRS
Stratum 1
Stratum 2
Stratum 3
Stratum 4
Sync Region
Sync Region
Sync Region
Sync Region
Toll Office
DCS
End Office
DCS
PBX SLC
Channel
Bank
PRS

18      Chapter 1
the telephone company uses 8 kbps for control information. This control information is 
used by the transmission equipment to maintain the integrity of the data link. Some 
studies have been underway regarding the use of 64 kbps, but the multiplexers used 
throughout the telephone network today do not support 64-kbps links.
In order for equipment to use the DS0A, special digital interfaces that are capable of 
sending and receiving signals at this level must be installed. If a DS1 is used, a device 
called a channel bank must be used as the interface. The channel bank divides the 24 
time slots of the DS1 into 24 separate DS0As, which then can be distributed to their 
proper destinations. Other types of multiplexers/demultiplexers exist that perform the 
same task depending on the location in the network.
Currently, the DS0A level is used most commonly in the SS7 network. As asyn-
chronous transfer mode (ATM) is deployed in the public networks, signaling traffic is  
migrating to these new facilities. The current digital facilities are being replaced, and 
the signaling network is becoming integrated with the new broadband network. The 
first step is to support DS1 speeds over an ATM interface. This is currently deployed 
in some larger networks and is gaining acceptance in some smaller networks as well. 
Originally, it was thought that ATM would be the technology of choice for telephone 
companies migrating to broadband networks. However, TCP/IP has entered into the 
picture most recently as a more efficient and cost-effective technology for signaling and, 
in some cases, voice and data. Of course, TCP/IP can be packetized and sent over ATM 
backbone networks, which seems to be the choice for many network operators today.
As shown in Table 1.1, the DS1 facility provides a total bandwidth of 1.544 Mbps. 
New TCP/IP facilities provide 100 Mbps of bandwidth and are being deployed around 
the world as the next-generation network choice. The existing network will require 
new hardware as well as software upgrades to support these new technologies. The SS7 
protocol is being modified to adapt to the TCP/IP network as well, with new transport 
protocols replacing the current Message Transfer Part (MTP) used today.
Fiberoptics is also playing a significant role in the evolution of the telecommunica-
tions network. Fiberoptics has the capability to transmit at much higher data rates 
than copper and is critical to the success of technologies such as broadband and ATM. 
Synchronous Optical NETwork (SONET) is currently found in telephone company net-
works worldwide and has become the transmission medium of choice. SONET provides 
data rates of up to 2.4 Gbps and will support broadband ISDN, TCP/IP, and ATM. 
SONET is also being used to link local-area networks (LANs) through the PSTN.
TABLE 1.1 North American Hierarchy
Digital Signal 
Destination Bandwidth 
Channels (DSOs) 
Carrier Designation
DS0 
64 kbps 
1 channel 
None
DS1 
1.544 Mbps 
24 channels 
T1
DS1C 
3.152 Mbps 
48 channels 
T1c
DS2 
6.312 Mbps 
96 channels 
T2
DS3 
44.736 Mbps 
672 channels 
T3
DS4 
274.176 Mbps 
4032 channels 
T4

Signaling System #7      19
As seen in Table 1.2, SONET is also divided into different levels of service, each level 
being an aggregate of the levels below it. Two designations are used for these levels: 
the electrical signal itself and the optical signal. They are terms used for different 
reasons. Electrical signals are directly related to the optical signals and therefore can 
be used almost synonymously in most discussions. In this book we will always refer to 
the optical signal.
When compared with the digital signal hierarchy, there is a stark difference (Table 1.3). 
Even at the lowest level of the optical hierarchy, 28 DS1s can be supported on one facility. 
This represents a significant cost savings to telephone companies. At OC-1, 672 time slots 
are supported for voice, data, or even signaling.
A single SONET facility is not dedicated entirely to one application. One channel 
may be used for signaling, whereas the remainder may carry voice, data, and video. 
This practice enables telephone companies to use existing transmission facilities be-
tween offices rather than deploying a special link just for SS7.
Current Trends in Telecommunications Technology
Today’s telecommunications industry has changed dramatically. The Internet has pro-
vided a new communications vehicle and spawned new services. To support these many 
new services, the signaling network must realize changes as well.
TABLE 1.2 SONET Digital Hierarchy
Electrical Signal 
Optical Signal 
Data Rate (Mbps) 
ITU Designation
STS-1 
OC-1 
    51.84
STS-3 
OC-3 
  155.52 
STM-1
STS-9 
OC-9 
  466.56 
STM-3
STS-12 
OC-12 
  622.08 
STM-4
STS-18 
OC-18 
  933.12 
STM-6
STS-24 
OC-24 
1244.16 
STM-8
STS-36 
OC-36 
1866.24 
STM-12
STS-48 
OC-48 
2488.32 
STM-16
TABLE 1.3 Optical and Digital Compared
Digital Signal 
Optical Signal
DS0 (64 Kbps) 
OC-1 (51.84 Mbps) 
DS1 (1.544 Mbps) 
OC-3 (155.52 Mbps) 
DS1c (3.152 Mbps) 
OC-9 (466.56 Mbps) 
DS2 (6.312 Mbps) 
OC-12 (622.08 Mbps) 
DS3 (44.736 Mbps) 
OC-18 (933.12 Mbps) 
DS4 (274.176 Mbps) 
OC-24 (1244.16 Mbps)
 
OC-36 (1866.24 Mbps)
 
OC-48 (2488.32 Mbps)

20      Chapter 1
The signaling network has become more than just a services enabler. Because of the 
rich information provided in the signaling network, SS7 has become a rich source of 
data used by all departments within a carrier. Subscriber profiles, usage measurements 
used to verify billing, and traffic analysis are a few examples of how signaling informa-
tion is being used.
The architecture of an Intelligent Network (IN) has changed somewhat, although the 
concept remains the same. The concept of an IN is to move the service logic out of the 
switching platforms and onto platform-agnostic servers. The switches then can deter-
mine how individual calls are to be handled by accessing these servers and receiving 
instructions. Convergent networks that depend on TCP/IP for the transport of voice 
and data follow this model.
The ultimate goal is to provide one network capable of transferring all kinds of in-
formation regardless of the bandwidth necessary and sending it through the network 
just as if it were placing a telephone call. To support this level of service, the network 
must be changed.
Again, TCP/IP has quickly become the technology of choice for these networks. There 
are several reasons for this development. First, TCP/IP is widely available. Virtually 
every major corporation using e-mail of some type is connected to a TCP/IP network, 
usually its own.
Second, TCP/IP is a proven technology. Originally developed for use by the Defense 
Department for its data networks, TCP/IP has quickly migrated into the private sector 
and gained widespread popularity because of the Internet. However, TCP/IP is not well 
suited for real-time applications such as voice transmission and must undergo changes 
to support voice transmission without noticeable delays in the transmission. 
The Internet Engineering Task Force (IETF) answered this need by developing a 
peer protocol to TCP designed for real-time applications such as voice and video. The 
Stream Control Transmission Protocol (SCTP) is now being used throughout the world 
to enable the use of IP-based networks for the transmission of SS7. A number of new 
companies are emerging who use TCP/IP as their primary network for all traffic. These 
companies are driving a new and fast-growing market.
As a result, a number of new equipment vendors have found themselves in the te-
lephony business. They are building a new generation of switches that are based on 
computer platforms rather than on the conventional switching platforms used in older 
legacy networks. This new breed of switches enables small companies to enter the tele-
phone business and deploy their own networks quickly and a lot more cheaply than 
conventional telephone companies.
The IN is also evolving to support TCP/IP. The same vendors who developed the 
legacy computer systems used in the IN are quickly adding TCP/IP interfaces to sup-
port access to their products through both the Internet and intranets. SS7 itself is being 
adapted to meet the demands of this fast-growing market.
But the architecture defined in this book for the IN will be changed. A new function 
known as the Call Session Control Function (CSCF) has been defined to replace the STP 
and call-control functions found in today’s switches, and the SCP is being replaced by ap-
plication servers. The entire network is controlled by a new protocol, known as SIP.
www.allitebooks.com

Signaling System #7      21
Introduction to the Intelligent Network
The IN was developed as a means of delivering new services to subscribers without the 
cost of implementing those services on every switch in the network. Prior to the IN, if 
an operator wanted to add a new service such as 800 dialing, software would have to 
be added to every single switch in the network, and the translations supporting the 
function would have to be replicated. 
The intent then was to create a network where instructions on call treatment could 
be stored in a central location in the network, and the switches in the network could 
access this “intelligence” using a communications protocol. The protocol developed for 
this purpose was SS7. 
What the IN has been able to provide is a means for creating and implementing 
new services quickly. Ordering an 800 line for two weeks’ usage is now easy and can 
be implemented within hours instead of days. The IN makes it easier because now, 
when subscribers order new services, technicians do not have to be dispatched to add 
programming to the switching equipment and to cross-connect the circuits.
In the IN, everything is controlled or configured by workstations with user-friendly 
software interfaces. Telephone service representatives can create new services and 
tailor a subscriber’s service from the terminal while talking with the customer. The 
changes are implemented immediately in the switches. Circuits are cross-connected 
using digital cross-connect systems, which are also controlled by the workstation. 
Customers today can order high-speed communications, video, audio, and digital voice 
facilities on an as-needed basis.
Networks were not always equipped to handle such demand. But switch manu-
facturers have added new features to switching equipment that enable services to 
be added to subscriber lines by simple commands at a terminal. Some new products 
even enable customers to order services and features by dialing a sequence of codes 
on their telephones. Soon, ordering an 800 line will be as simple and as fast as order-
ing a pizza. Welcome to the age of the IN. The IN is just what its name implies: intel-
ligent. Services and features can be changed or deployed using simple procedures 
through a terminal rather than through expensive programming changes made by 
certified technicians. All the customer needs is the facility (trunks) to use the new 
services. With TCP/IP, the customer needs only enough bandwidth to handle the 
traffic.
Imagine a small business with fewer than 100 employees. By building a TCP/IP 
network and using computers equipped for Internet telephony, this company can inter-
connect all its employees over the company’s computer network. Now imagine if that 
same company were to extend its computer network out to the local telephone company. 
Suddenly, everyone connected to the local telephone company could access this small 
business through the same computer network.
If the local telephone company were to extend this same network to other telephone 
companies, the small business suddenly would find itself connected to a huge computer 
network with access to thousands of computers equipped to send not only data but 
also voice. This is an oversimplified explanation of computer telephony, but the basic 
concept has changed the telephone industry overnight.

22      Chapter 1
Still, computer networks do not provide the telephone services we depend on daily. 
This is where the IN comes into play. The IN can be deployed into this same computer 
network and used to deliver services and features to computer telephony devices.
As more and more customers line up to deploy ATM and TCP/IP, the IN will become 
as commonplace as touch tone dials. Yet little is understood about the IN. To under-
stand what the IN is about, let us first examine the architecture of such a network. The 
IN consists of a series of intelligent nodes, each capable of processing at various levels 
and each capable of communicating with one another over data links.
The IN relies on the SS7 network, which forms its backbone. SS7 provides the basic 
infrastructure needed for the service switching point (SSP), which provides the local 
access, as well as an ISDN interface; for the signal transfer point (STP), which provides 
packet switching of message-based signaling protocols for use in the IN; and for the 
service control point (SCP), which provides the service logic to be used in determining 
how to handle calls. The SCP is connected to a Service Management System (SMS), 
which provides a human interface to these databases. The SMS uses a command-line 
interface or a graphic user interface (GUI) and a human-to-machine language to build 
services and manage the network. The SMS also can be used in some applications as 
a central control point for updating multiple databases and controlling the updates to 
those databases from a central authority.
One additional node used in the IN that is not seen in the SS7 architecture is the 
intelligent peripheral (IP). The IP provides resource management of devices such as 
voice-response units, voice announcers, and DTMF sensors for caller-activated services. 
The SCP accesses the IP when services demand its interaction. IPs provide the IN with 
the functionality to enable customers to define their network needs themselves without 
the use of telephone company personnel.
When a call is placed in the IN, a request for call-handling instructions is sent to 
the SCP using the Transaction Capabilities Application Part (TCAP) protocol. The da-
tabase provides the instructions for handling the call based on the customized service 
instructions the subscriber has programmed and sends them to the end-office switch. 
The end-office switch then communicates to the IP using the ISDN protocol to attain 
the use of resources such as recordings and other devices. The call setup and teardown 
is handled using conventional SS7 protocols.
Advanced Intelligent Networks (AINs) in Figure 1.4 provide many components not 
found in the earlier versions of INs. One of the key components is the service-creation 
environment (SCE). In the AIN standard, SCE defines the look and feel of the software 
used to program end-office switches to provide a new service. This look and feel defined in 
the AIN standard provides a GUI, which uses icons, for building customized services. AIN 
administrators then can tailor services to meet the customers’ specific needs by clicking 
network-capability icons rather than programming via commands on a command line.
Eventually, this terminal and the SCE will be extended to the customer premises, 
enabling large and small companies with special network needs to tailor their services 
on an as-needed basis without telephone company assistance. This concept has already 
intrigued many large companies with large volumes of inbound and outbound calls, 
especially those in the telemarketing industry, whose network needs vary from week 

Signaling System #7      23
to week. The first uses of an IN were in the early 1980s when AT&T deployed a central-
ized database for all 800 numbers. End offices wishing to handle 800 calls would have 
to access this database through the SS7 network.
In addition to 800 services, AT&T launched a calling-card application using centralized 
databases to qualify calling cards as valid or invalid. Control of the network was provided 
by operations support systems (OSSs) that used intelligent workstations to provide main-
tenance and administration for the network databases and other network nodes.
AIN offers a variety of other services to the consumer, such as redirecting the desti-
nation of calls on a per-line basis. This can be altered by dialing a code through a phone 
and entering in the destination telephone number. This feature would be of huge value 
to marketing firms with large inbound-call volumes. Many companies offer a Web por-
tal allowing subscribers to access the features they subscribe to and customize their 
services (such as inbound-call management) whenever they want. 
Other features currently available include call screening (Do Not Disturb), selec-
tive call acceptance, calling name delivery, and spoken caller identification. The many 
services and features offered to customers are based on databases linked to the SS7 
network through SCPs. Local end offices and other networks access these databases by 
sending TCAP database query messages through the SS7 network to the SCP. The SCP 
replies to the query after accessing the information from the appropriate database and 
sending the requested information in an SS7 message format through the SS7 network 
to the requesting end office. Based on the information received, the end office (or service 
node) is then able to create the requested services.
Figure 1.4 The AIN relies on SS7 for the interconnection of network switches.
SSP
SMS
SMS
SSP
SSP
SSP
SSP
SSP
SSP
SSP
SCP
SCP
STP
STP
STP
STP

24      Chapter 1
Here are some other examples of applications available:
■ Find Me service
■ Follow Me service 
■ Computer security service 
■ Call pickup service
■ Store locator service
■ Call routing service 
■ Multilocation extension dialing 
■ Name delivery
■ Outgoing call restriction
Find Me Service This service enables calls to be forwarded to another location. The 
difference between this feature and today’s call-forwarding feature is the capability to 
screen unwanted calls from forwarding. Only authorized callers are forwarded to the 
new location.
Follow Me Service Similar to call forwarding, this enables a number to be forwarded 
on a time schedule. The subscriber determines the time forwarding is to take place 
when the feature is invoked. Destinations can include cellular telephones or Personal 
Communications Services (PCS) handsets.
Computer Security Service This feature prevents unauthorized callers from accessing 
a computer via modem. Only callers with the authorized access code or calling from 
an authorized number can access the computer. The SS7 network delivers the calling-
party number to the destination end office. This number is then checked in a database 
located with an SCP and, if authorized, is allowed to connect with the modem.
Call Pickup Service When a call is placed to a number and is unanswered, the called 
party can be paged via radio pager. The called party then can dial a code from any 
telephone at any location and be connected immediately with the waiting caller. Some 
manufacturers already have developed two-way pagers that connect the caller with the 
party being paged. The pager is a two-way transceiver capable of receiving calls (pages) 
and connecting the caller with the paged party (similar to the voice pagers used a few 
years back, but this pager enables two-way conversation).
Store Locator Service Businesses can advertise one number, and callers are trans-
ferred automatically to the nearest location based on their own telephone number. The 
telephone company provides the routing service based on the prefix of the calling-party 
number. This enables businesses to advertise nationwide for all locations without spe-
cial ads based on geography. The calling-party number is matched in a routing data-
base located at an SCP. The SCP provides the end office with the routing instructions 
based on the calling-party number.

Signaling System #7      25
Call Routing Service This enables businesses to reroute calls when congestion occurs 
or after business hours. It is an excellent feature for telemarketing and reservation 
centers with multiple locations. Automatic call distribution (ACD) switches can be in-
terfaced to the end office by SS7 data links. This enables the ACD to send network 
management messages via SS7 protocols to a database located by an SCP. Calls then 
are rerouted around the call center based on the routing instructions in the database.
Multilocation Extension Dialing This enables the use of abbreviated extension numbers 
to reach personnel regardless of their location and without PBX equipment. Subscribers 
receive personal numbers that can be used to reach them no matter where they go.
Name Delivery As a call rings the telephone, the caller’s name is displayed on a digital 
display. This is offered to residential and business customers alike. The digital display 
is built into a digital phone or is an adjunct to any standard telephone. This is some-
what different from the controversial Automatic Number Identification (ANI) feature, 
which displays the caller’s telephone number. ANI enables telemarketing companies to 
store calling-party numbers in their databases, which are later sold to other telemar-
keting companies. Name delivery delivers the name only, retrieved from a line-sub-
scriber database or dedicated calling-name database.
Outgoing Call Restriction This feature enables the restriction of specific numbers or 
prefixes and area codes, allowing customers to restrict long-distance calls and service 
numbers such as 900 and 976 numbers from being dialed on their phones. The sub-
scriber can enter telephone numbers to be blocked from his or her telephone keypad.
It is important to note that AIN does not define the features and services but how 
those features and services will be deployed. The features and services are defined by 
the service providers themselves and may or may not be consistent from one telephone 
company to another. They are limited, however, to the capabilities of the equipment 
used in their networks.
Centrex is a service operators have been offering for a number of years as an alter-
native to the PBX. Customers are able to create their own service definitions without 
the capital investment of a PBX. While Centrex does not provide the many features of 
a PBX, Centrex customers can tailor their specific service requirements within hours 
instead of days. With features such as networked voice mail and ACD, Centrex can be 
a powerful competitor to the PBX. Presently, Centrex is difficult to market against the 
PBX because of the limited feature set offered with Centrex. However, with VoIP and 
softswitch technology, Centrex options can be enriched, providing a viable competitor 
to the PBX.
When Centrex is offered with IN support, subscribers can take advantage of the 
telephone network to provide them with seamless end-to-end call-handling capabili-
ties. Callers can be routed to noncongested calling centers depending on traffic and/or 
time of day. Voice mail can be linked so that users can reach their voice mail from any 
phone at any company location without dialing into the system from an outside line. 
Even station detailed message recording (SMDR), the feature that provides the calling 
records of every extension in the system, can be bridged to include all extensions in the 

26      Chapter 1
corporation rather than just those within a specific office handled by one carrier. The 
IN will enable Centrex to provide many of the same features previously seen only in 
the PBX environment.
The Integrated Services Digital Network (ISDN)
The term ISDN was used originally to refer to the entire IN, including SS7. Originally, 
the creators of SS7 thought of extending the SS7 network all the way to the subscriber. 
This was abandoned, however, over concern for security and network fraud, as dis-
cussed later. The solution was to create an intelligent interface, compatible with SS7, 
that could offer the same services and intelligence as the SS7 network to subscribers 
(Figure 1.5). It was this that spurred creation of the ISDN protocol.
Perhaps the most important application for ISDN is the concept of connecting PBXs 
within a private network. When SS6 was first deployed, there was the thought that the 
network signaling could be extended to the local PBX. This would enable the PBX to 
send its signaling information directly to a central office switch using the same mes-
sage packet-switching protocol used by SS7 today.
This concept was quickly dropped, however, owing to security issues. Instead, a 
separate access protocol was developed. With a specialized access protocol, signaling 
could be extended through the PSTN to distant PBXs without sacrificing security of  
Figure 1.5 ISDN and broadband ISDN (BISDN) extend the services of the IN out to the subscriber prem-
ises. They both act as interfaces to the signaling network (SS7) without providing direct links.
U
ISDN/BISDN
ISDN TERMINAL
T
TE1
S
SONET/ATM
NT1
NT1
NT2
ISDN TERMINAL
SSP
SSP
STP
STP
STP
STP
NT2
TE1

Signaling System #7      27
the PSTN. ISDN was created as the access protocol to deliver PBX signaling through 
the network to distant PBXs, enabling large companies with multiple PBXs to bridge 
their switches together transparently. The United Kingdom already uses the Digital 
Private Network Signaling System (DPNSS), an ISDN protocol designed to extend PBX 
signaling through the SS7 network to distant PBXs.
ISDN offers many services to the subscriber. The basic levels of service are defined 
as the following:
Transport elements. Enable information to be transported through the telephone ser-
vice provider’s network and its switches, routers, multiplexers, and other network 
equipment transparently without alteration to the original data.
Control elements. Support real-time operations of transport capabilities (connection 
establishment and database queries).
Network management elements. Provide procedures and capabilities to administer, 
maintain, and operate the communications infrastructure. Includes the provision-
ing of transmission facilities, fault management, congestion control, and adminis-
tration of databases and routing tables.
Communications applications environment. Provides a development environment 
for programmers from which applications can be developed using the other three  
elements.
Transport. Provides the lower three layers of the Open Systems Interconnection 
(OSI), providing the allocation of bandwidth, routing, relaying, and error detection/ 
correction.
To understand how ISDN can be a significant benefit to PBX networks, consider this 
example. Many large corporations own several PBXs at different locations. Tie lines 
are often used to tie the PBXs together. This enables users to access extensions in any 
other company location by dialing an access number (to access the tie line) and dialing 
the extension. Many digital PBXs enable callers to dial extension numbers of remote 
extensions without dialing an access code. Automatic routing features provide software 
to determine which trunk the call must be routed to.
Another advantage of tying PBXs together is that long-distance calls can be routed 
over tie lines to a PBX in the calling area of the dialed number. The call then is routed to 
a trunk in the remote PBX as a local call. This can save corporations thousands of dol-
lars in long-distance charges. The problem is that the remote PBX does not know what 
class of service the calling phone has been assigned. The class of service is a software 
feature that determines what numbers a phone is allowed to dial. This programming 
takes place in the PBX terminating the telephone.
ISDN enables this information to be passed along to the remote PBX. In addition, 
other information regarding the privileges of a telephone and even features can be 
passed from one PBX to another. This enables corporations to create their own propri-
etary network without expensive facilities between PBX locations.

28      Chapter 1
ISDN never got a good start and has not shared the popularity of other service offer-
ings mostly because it was somewhat premature in its release. Many telephone service 
providers tried to market this service to residence subscribers but failed because of the 
prohibitive cost and lack of intrinsic value. To truly take advantage of ISDN capabili-
ties, the signaling information must be able to travel from the originating end to the 
distant end. Without SS7, this is not possible. When ISDN was first introduced, SS7 
was not yet fully deployed, leaving “islands” of ISDN service that could not be connected 
with other ISDN networks.
Now, with SS7 deployed in all the RBOCs’ networks, as well as those of many of 
the independent telephone companies, ISDN finally can be used to its full potential. 
Unfortunately, the telephone companies still do not understand how to market ISDN 
and often cite the many features ISDN provides rather than real applications.
One feature often used in marketing ISDN is ANI. For a short period, there was a 
lot of interest in ANI as telemarketing companies scrambled for databases that could 
provide names and addresses of callers triggered by the calling-party information sup-
plied by the ISDN network. All interest in ANI was quickly lost as the states began leg-
islation blocking ANI or at least forcing telephone companies to provide ANI blocking 
at no charge. Without the guarantee that at least a majority of the calls would provide 
ANI information, and without any other substantial advantages in the way of features, 
ISDN faded quickly into the background.
The problem was that most areas could not provide the calling-party information. 
This was due to the fact that many central offices had not yet been upgraded to digi-
tal switches and were not capable of passing this information through the SS7 net-
work. By the time networks caught up with ISDN and the SS7 network bridged all the  
“islands,” digital switch vendors began offering features in their central-office switches 
that would support not only the delivery of the calling parties’ telephone numbers but 
also their names without having an ISDN interface. Calling Name (CNAM) continues 
to be a popular feature today, possibly because of the SS7 network.
Another plague of ISDN has been the failure of manufacturers to follow a standard. 
Unfortunately, many manufacturers created ISDN terminals and devices that were 
proprietary and did not share the concept of open interconnection, making interoper-
ability difficult, if not impossible.
The North American ISDN User’s Forum (NIUF) later addressed this in June 1988. 
The NIUF consists of industry vendors and service providers. This forum agreed on a 
set of features and how they would be deployed in the ISDN network and ratified a 
new ISDN standard, now known as National ISDN-1. This standard is an agreement 
among ISDN vendors in the United States to standardize the equipment interfaces, 
interoperability, and features, guaranteeing ISDN’s success in North America. Still, 
ISDN continues to be marketed for its features rather than for true applications. What 
ISDN really offers to any business with a PBX is the ability to consolidate its trunk-
ing requirements to one or more digital spans, or T1s. Using the ISDN protocols, they 
can take advantage of end-to-end digital communications for both voice and data. This 
allows owners of PBX equipment to rid themselves of costly dedicated lines for data 
communications, facsimile, and videoconferencing. ISDN can provide all these services 

Signaling System #7      29
and more with a common facility, eliminating the need for special circuits. In addition, 
these same facilities can be assigned dynamically on an as-needed basis.
Digital Subscriber Line (DSL) has had a big impact on ISDN, providing bandwidth 
(hence higher speeds) to residential customers looking for high-speed Internet access. 
DSL is cheaper and simpler to deploy for small companies and residential custom-
ers. Larger corporations with higher bandwidth requirements are adopting IP as their 
central network for voice and data and are deploying newer “softswitches” in place of 
traditional PBXs. This allows them to take advantage of the Internet for all communi-
cations, bypassing the telephone networks entirely. As voice-packet telephony evolves, 
this trend will escalate until IP becomes the primary means of interconnection. 
There are two classes of ISDN service: basic rate (BRI) and primary rate (PRI). BRI 
service provides two 64-kbps bearer channels (B channels) and one 16-kbps signal-
ing channel (D channel). This service is designed for residential and small-business 
use. PRI offers twenty-three 64-kbps B channels and one 64-kbps D channel. PRI is 
designed for larger businesses with large call volumes. Many PBX manufacturers al-
ready provide ISDN-compatible trunking interfaces for their equipment, making ISDN 
a good choice for companies that need end-to-end voice and data communications.
ISDN cannot be successful by itself. As we have already seen, without SS7, ISDN 
remains a local digital service providing a limited number of features and applications. 
With the addition of SS7, ISDN can become an extension of the telephone network to 
the customer premises, offering true end-to-end voice and data communications with 
no boundaries.
The ISDN standards can be found in the International Telecommunications Union–
Telecommunication Standardization Sector (ITU-TS) I series. The signaling standards 
are defined in Publication Q.921 (which defines the link-access procedure—D channel) 
and Publication Q.931 (which defines the ISDN call-control procedures at layer 3).
The Wireless Network and SS7
Wireless networks have evolved into several different network technologies. The differ-
ences between the various wireless networks lie primarily in the frequency allocation as 
well as in the services supported. The trend is to support data and voice using wireless 
phones. There have been previous attempts to use technologies such as cellular digital 
packet data (CDPD), but the industry today is moving toward support of TCP/IP. There 
are many obstacles to supporting Internet access on wireless phones. The bandwidth 
required to support Web access is not yet available in North America (although Japan 
and many other countries are already enjoying this level of access). Carriers through-
out North America and Europe are phasing in new technology that will support this type 
of access. You will hear talk of second-generation (2G), 2.5G, and third-generation (3G)  
wireless. These all refer to the network changes required to provide the extra  
bandwidth and features, as well as the protocols, needed to support these networks.
In this book we will focus on the role SS7 plays in these networks rather than on the 
various network technologies themselves. Many North American wireless networks 
began deploying SS7 in the late 1980s and early 1990s, replacing their X.25 networks. 

30      Chapter 1
The networks use SS7 somewhat differently than their wireline counterparts because 
of the way calls are originated and terminated in the wireless network. The Mobile 
Application Part (MAP) is used for the origination and termination of calls involving 
wireless subscribers. This protocol uses the SS7 TCAP for transport. The Integrated 
Services Digital Network User Part (ISUP) is used to connect calls to the wireline 
network.
One other common use for SS7 in wireless networks is transport for Short Messaging 
Service (SMS), which uses TCAP and the SS7 network to deliver short text messages 
to subscriber devices.
The Global Systems Mobile (GSM) Network European wireless networks always have re-
lied on SS7 for their signaling requirements and have enjoyed a much more robust and 
feature-rich network because of SS7. GSM is deployed in several networks in North 
America as well but has not shared the same popularity as in Europe. It is possible 
now to purchase a GSM wireless telephone in the United States. Provided you have a 
service agreement that supports use in Europe, you can use the same telephone when 
you travel (Figure 1.6).
The GSM wireless network consists of two different segments: the radio segment 
and the switching segment. The radio segment consists of the wireless telephone itself, 
or transceiver, and the antenna system used to receive and aggregate signals within a 
geographic location. This antenna is referred to as the cell site.
Figure 1.6 The GSM network is the standard for cellular networks outside the United States. Many U.S. 
cellular providers are now looking at GSM for new PCS networks.
BS - Base Station
BSC - Base Station Controller
MSC - Mobile Switching Center
HLR - Home Location Register
VLR - Visitor Location Register
EIR - Equipment Identity Register
AC - Authentication Center
PSTN - Public Switched Telephone Network
STP - Signal Transfer Point 
SS7
BS
BSC
MSC
STP
PSTN
MSC
BS
BSC
BS
BSC
BS
BSC
VLR
EIR
AC
HLR
www.allitebooks.com

Signaling System #7      31
Cell sites use different types of antennas, depending on the coverage required. 
Omnidirectional antennas provide coverage in a circular pattern, radiating in all di-
rections from the cell site. Directional antennas can be used to cover a specific sector 
and normally cover an area of 120 degrees.
All cell sites consist of the antenna and the radio transceiver, as well as interface 
equipment. This equipment is referred to as the base transceiver station (BTS) and the 
base station controller (BSC). The combination of both the BTS and the BSC is called 
the base station subsystem (BSS).
The BTS is actually the radio transceiver used to communicate with the wireless 
telephone. When a caller is connected with a cell site, the BTS measures the strength 
of a supervisory audio tone (SAT), which is sent at a much higher frequency than the 
actual voice transmission. The SAT is sent at regular intervals by wireless telephones 
and is received by multiple cell sites. Each cell site reports the strength of the signal it 
receives to the mobile switching center (MSC), which then determines the cell site that 
will take possession of the call. If a call is in progress and the wireless phone moves 
into a new cell-site coverage area, the call is handed off by signaling messages through 
the MSC to the new cell site.
The handoff is controlled by the MSC, which communicates with all cell sites within 
its geographic area. The MSC does not communicate directly with the BTS but commu-
nicates with the BSC, which serves as an interface between the radio segment and the 
switching segment. The BSC uses digital facilities to communicate with the MSC. The 
interface between the BTS and the BSC is called the A-bis interface. The A-bis interface 
is a 64-kbps digital link and uses four protocols:
■ Link Access Procedure on the D Channel (LAPD)
■ Base Transceiver Station Management (BTSM)
■ A-bis Operations and Maintenance (ABOM)
■ Direct Transfer Application Part (DTAP)
The LAPD protocol is used as the layer 2 transport protocol and provides the node-
to-node communications necessary to send packets through the network. The BTSM 
protocol is used for managing the radio equipment resident at the base station as well 
as the interface between the base station and the MSC. Data and other signaling infor-
mation are sent from the base-station equipment via the DTAP.
In addition to the PSTN, the MSC also must interface with other entities within the 
wireless network. These entities include
■ Home Location Register (HLR)
■ Visitor Location Register (VLR)
■ Operation and Maintenance Center (OMC)
The HLR is a database used to store the subscriber information for all subscribers 
within the home service area of the service provider. In European GSM networks, the 

32      Chapter 1
HLR is linked to other service areas so that subscriber information may be shared be-
tween networks. Networks in North America now can offer the same seamless roaming 
through interconnection agreements with other wireless providers. It has been only the 
last four years or so that this has been possible in North America.
The VLR is used to store information about visiting subscribers who are not in their 
home service area. This is where the roaming number information gets stored so that 
subscribers may use their wireless phones while in another city. This is also linked to 
other networks so that this information may be shared. While subscribers are in this 
network, the information regarding their service will remain in the VLR. This informa-
tion is retrieved from the home HLR by the network.
SS7 protocols are used throughout the wireless network to provide the signaling 
information required to establish and disconnect circuit connections, as well as share 
database information from one entity to another. In addition to the MTP and the 
Signaling Connection Control Part (SCCP), the following protocols are used from the 
MSC to other entities within the network:
■ Mobile Application Part (MAP)
■ Base Station Subsystem Mobile Application Part (BSSMAP)
■ DTAP
■ TCAP
Wireless Entities The HLR is a database used to store information regarding the us-
ers of the wireless network. When a wireless telephone is purchased, the phone must 
be activated before it can be used on the network. The purpose of the activation is to 
program its serial number into the HLR database.
Whenever the wireless telephone is activated (powered on), the serial number is 
transmitted to the closest cell site. This information is used to identify the location of a 
wireless station so that incoming calls can be routed to the appropriate cell site for re-
ception by the destination wireless phone. The wireless phone continues to transmit its 
identification at regular intervals so that the network always knows the whereabouts 
of all active wireless phones. This is in addition to the SAT, used by the MSC to measure 
the signal strength of wireless telephones as they move from one cell area to another.
The VLR is a database used to store information regarding wireless telephones being 
used in the coverage area that are not normally registered to operate in this home area. 
With the advent of ANSI-41, roaming now can be seamless. No advance provisions are 
necessary; the user just carries the wireless telephone from one area to the next. This 
technology is deployed widely in many wireless networks today. ANSI-41 provides the 
signaling protocols necessary for wireless providers to share database information.
The OMC is used to access the Equipment Identity Register (EIR) and the Authentication 
Center (AC). The EIR stores the identification serial number of all wireless telephones  
activated within the coverage area. The AC stores a security key embedded into all wire-
less phones. This code is transmitted along with the serial number when the phone is 
activated and prevents unauthorized phones from being used on the network.

Signaling System #7      33
So far we have discussed only the wireless network, which must connect to the PSTN 
at some point. The signaling information used to request service and connect calls 
within the public network is sent through the SS7 network. The MSC connects to the 
SS7 network via an STP and the ISUP, TCAP, and MTP protocols. The SS7 network is 
instrumental in connecting all the wireless providers together and allowing their vari-
ous databases to be shared with one another.
The ANSI-41 Network In the United States, moving from one calling area to another 
no longer requires prior negotiations with the service providers. When the calling area  
belongs to another service provider, access to subscriber records is achieved using 
ANSI-41, and subscribers are able to use their wireless phones as if they were in their 
own home network. To support seamless roaming, wireless providers have negotiated 
interconnect agreements that provide access to each other’s databases.
To provide for seamless roaming between calling areas, the Electronic Industries 
Association/Telecommunication Industry Association (EIA/TIA) developed the ANSI-
41 protocol [endorsed by the Cellular Telecommunication Industry Association (CTIA)]. 
ANSI-41 is really an application entity that relies on the TCAP and the SCCP protocols 
to travel through the network. The standard is divided into a series of recommenda-
tions presented by the TIA 45 subcommittee (TR45). The same subcommittee is respon-
sible for PCS standards.
The principal differences between ANSI-41 and GSM lie in the protocols used to 
communicate between the various entities and the frequencies of the telephone units 
themselves. The network topology is virtually the same (Figure 1.7).
ANSI-41 aligns with the American National Standards Institute (ANSI) version of SS7, 
using the TCAP protocol from the SS7 protocol stack to communicate with databases and 
Figure 1.7 A typical cellular network in the United States.
BS - Base Station
MTSO - Mobile Telephone Switching Office
PSTN - Public Switched Telephone Network
BS
MTSO
PSTN
MTSO
BS
BS
BS

34      Chapter 1
other network entities. These are the same databases found in the GSM network, the 
HLR, VLR, and EIR. The ISUP and MTP are also used in the ANSI-41 network to con-
nect wireless calls to the PSTN and to connect wireless circuits from the MSC to the base 
stations.
The ANSI-41 network uses an MSC, as does the GSM network, for connecting to 
other networks and databases. Little has changed functionally within the MSC other 
than the fact that the data stored in the HLR now can be shared with other MSCs 
across the SS7 network. This requires a transport protocol (TCAP) to move the data 
through the SS7 network. The HLR and VLR can be collocated with the MSC.
The biggest advantage to ANSI-41 is the passing of wireless telephone information 
needed when wireless subscribers wander from one service provider’s calling area to 
another. Previously, users had to call ahead and arrange for a special roaming number. 
Callers then had to call the roaming number when the user was in a different area. 
With ANSI-41, the information stored in each service provider’s network is shared by 
passing signaling information between wireless networks.
In essence, the wireless networks were much like ISDN was several years ago. Every 
service provider could provide service within its own network but was not connected 
with other service providers. This created a bunch of individual “islands” of service. 
ANSI-41 is the “bridge” that enables service providers to share database informa-
tion with other networks and eliminate the need for setting up roaming in advance. 
Subscribers now can move from calling area to calling area without worrying about 
coverage.
The PCS Network PCS is a new type of wireless communication based on the same 
philosophy as wireless but with significant differences (Figure 1.8). The most apparent 
difference is in the distance between the base station and the handset.
PCS is really a combination of the IN and wireless networks with a different to-
pology. The PCS network relies heavily on the IN for delivery of custom features on  
Figure 1.8 The PCS network being proposed by many cellular providers today.
MSC
MSC
MC
MC
MC
MC
MC
MC
HLR
VLR
AC
EIR
STP

Signaling System #7      35
a demand basis. The PCS network offers many new features not currently available in 
the wireless network. These features include
■ Available mode
■ Screen
■ Private
■ Unavailable
Available Mode This enables all calls, except for a minimal number of telephone num-
bers, which can be blocked from reaching the PCS subscriber. Available mode relies 
on the delivery of the calling-party number, which is checked against a database. The 
subscriber updates the database through the dialpad of a PCS handset.
Screen The name of the caller appears on the display of the PCS handset, enabling 
PCS subscribers to screen their own calls. Unanswered calls are forwarded to voice 
mail or another number. The subscriber determines the forwarding destination.
Private All calls can be forwarded, except for a limited list of numbers that are al-
lowed to ring through. The list is maintained by the subscriber and can be changed at 
any time through a special set of codes, which are input by the subscriber through the 
dialpad of the handset.
Unavailable Here, no calls are allowed to get through to the subscriber. In the wireless 
network, a cell site is deployed to cover a wide area (typically 4 to 8 miles). This distance 
between the subscribers’ handsets (which uses radio technology) does not support the 
same level of quality as terrestrial lines. In PCS networks, the area of coverage is much 
smaller (only a radius of about a quarter of a mile). This allows calls to be of a much higher 
quality than in the traditional wireless network. In addition, PCS handsets use digital 
technology, which is quieter than analog and supports advanced services such as SMS.
The disadvantage of this type of deployment is in the cost of the network. To cover 
such a small area in a metropolitan area requires many more antennas and transceiv-
ers than in a wireless network. The positioning of these antennas is also critical. Large 
towers, such as those currently used for wireless, are not acceptable in most neighbor-
hoods, which is where many of these PCS antennas may have to be located. The base 
station communicates with other networks (whether wireless or the PSTN) through 
the PCS Switching Center (PSC). The PSC connects directly to the SS7 network with 
a signaling data link to an STP. PCS networks rely heavily on the SS7 network for 
internetworking, as well as for database access.
The most important function within the network is its many databases. These da-
tabases support the revenue-generating services used by subscribers. The problem in 
wireless networks is that database access takes place through the mobile switching 
center, and the databases are a noncompatible mixture of mainframes and minicom-
puters deployed in proprietary networks. In the case of PCS, the database is located 

36      Chapter 1
in the SS7 network itself. The SS7 SCP acts as the interface point to these databases. 
These databases also store data for the PSTN, such as calling-card information and 
subscriber data, and also are capable of providing information to all networks regard-
ing PCS telephones.
This is an improvement over wireless, in which each network has its own database. 
In theory, the database in PCS networks can be centrally located so that all service pro-
viders can share it equally, but in practice, however, each service provider has deployed 
its own database services and charges other service providers an access fee for sending 
queries to their database.
The purpose of having quick access to the telephone network databases is to allow 
subscribers of PCS services to define their own call-handling instructions and tailor 
their services to meet their immediate needs. For example, a subscriber may want to 
be left undisturbed during an important meeting yet is expecting an important phone 
call from the president of a new client company and wants to receive that call during 
the meeting. The telephone number of the company president could be entered into the 
database with a service that normally would route all calls to voice mail, except that 
the call from the president would be routed to the PCS subscriber immediately.
The PCS radio spectrum is much higher than the 900-MHz wireless network. In 
1993, the FCC allocated 160 MHz of bandwidth in the 1850- to 2200-MHz range. The 
FCC divided this range into licensed frequencies and unlicensed frequencies. The li-
censed frequencies have been further divided into seven separate bands.
The service areas have been drawn according to Rand McNally’s boundaries for major 
trading areas (MTAs) and basic trading areas (BTAs). There are 51 MTAs and 492 BTAs 
in the United States. A debate is taking place over the service areas and is related to the 
fairness of trading areas versus the LATAs created by the Justice Department during di-
vestiture of the Bell System. Many service providers argue that it is unfair to use different 
boundaries for PCS than those issued for local telephone companies. Others argue that the 
LATAs are a better approach because they represent a more fair and equitable market.
To add to the subscribers’ confusion in this market, consumers are now faced with 
the decision of whether to buy 49-MHz cordless telephones, 900-MHz wireless tele-
phones, or PCS communications devices. The manufacturing community has resolved 
this problem by developing handsets that are dual mode, working in both analog wire-
less networks and digital PCS networks. Several carriers have used the tried and true 
GSM technology for their networks, allowing subscribers to use their phones in Europe 
and Latin America, which are predominantly GSM networks. Although there has not 
been widespread acceptance and deployment, GSM networks are growing, and cover-
age with GSM is now available in all the major markets.
Video and the Telephone Network
During the early to mid-1990s, there was a lot of activity between cable television com-
panies and telephone companies. The cable companies own lots of coaxial cable that 
is already installed in nearly every American home. In fact, statistics show that cable 
companies already pass 90 percent of the homes in the United States.

Signaling System #7      37
Along with that, coaxial cable is a healthy fiberoptic backbone, capable of handling 
lots of high-speed data. Although the cable network may be inadequate for broadband 
data services, it certainly can handle the demands of most telecommuters today. In fact, 
with a bandwidth of at least 10 Mbps, cable telephony is the answer for many of those 
who must reach LANs from their homes. Cable modems are now readily available from 
all the major cable companies and have proven to be more popular than ISDN or DSL. 
The cable companies today already have deployed voice services successfully using 
their fiberoptics network, supporting voice, data, and cable television to the subscriber’s 
premises. Rather than deploy expensive switching equipment as used by the RBOCs 
today, cable companies have been deploying cheaper TCP/IP-based packet networks to 
deliver voice and data.
Another application is multimedia. Multimedia enables video to be combined with 
graphics and a user interface that enables the user to make selections by choosing icons 
on the television screen. When an icon is selected, a database is accessed to retrieve 
specific information. The medical profession is a big supporter of this type of service. 
Distance learning and teleconferencing are also likely candidates. However, the medi-
cal profession already has begun using this technology for patient diagnoses.
For example, let’s say that a doctor is sitting in his office in Fargo, North Dakota, 
diagnosing a patient with possible heart disease. For a second opinion, the doctor di-
als a specialist in New York City. By using a video camera connected to the telephone 
and a computer connected to the same interface, the doctor can video the entire office 
visit live to the specialist in New York City. The specialist can ask pertinent questions 
regarding the patient and view the patient through video as if the specialist were in 
the office with the patient.
The patient’s medical records can be transmitted in seconds to the specialist while 
the office examination is underway using the computer. The specialist can even add 
comments to the file and send it back to the patient’s doctor. Sound futuristic? This is 
already in use today not only in the medical field but also in many other professions. In 
fact, Web conferencing has grown in popularity over the last year or so, allowing meet-
ing participants in diverse geographic locations to gather together, sharing documents 
and presentations through a Web-based server (accessed from their desktop computers) 
while discussing the information over a voice conference call.
SS7 is in the background during all this activity, quietly setting up connections and 
accessing databases. Information needed by the telephone companies to complete the 
videoconference is provided by SS7 by accessing an SCP where all the information is 
stored and sending it to the requesting end office. SS7 will provide the connection con-
trol and billing services needed for such services.
Broadband Data Communications
Broadband (Figure 1.9) is formally defined as any data communications with a data 
rate from 45 up to 600 Mbps. While SS7 does not carry the actual user data, it does 
provide the services necessary to connect the end-to-end telephone company facilities 
required for data transfer between two end points. The specific requirements of SS7 

38      Chapter 1
have been defined (see Chapter 9) and are being used in networks where switched ATM 
is deployed.
ATM is a transport protocol that relies on upper-layer protocols for functions above 
and beyond layer 3. The ATM technology was created to support broadband ISDN 
(BISDN) but has found favor with a number of other networking protocols as well. 
Frame Relay, with speeds up to 155 Mbps, has been used as a solution for those requir-
ing a Private Virtual Circuit (PVC) service. These work much like a dedicated special 
circuit and are not typically switched but can be.
TCP/IP also has found new popularity as new telephone companies build entire net-
works based on this protocol for both voice and data. Many of the hurdles, such as 
delays and poor quality of service, have been resolved today, and VoIP has proven to be 
a very viable and competitive alternative to traditional voice networking. One very in-
teresting implementation of this is voice over the Internet between two computers. The 
voice quality is amazing, and many subscribers are using this method for international 
calling. Of course, the Internet does not rely on SS7, and therefore, these call types are 
under the control of SIP rather than SS7.
BISDN provides fast data transmission for services such as video dial tone. With the  
bandwidth of BISDN, video and audio can be transmitted simultaneously on the  
P
B
X
P
B
X
Extensions
ISDN
ATM or
BISDN
Switch
ATM or
BISDN
Switch
BISDN
Router
Router
Lans
Lans
Extensions
Sonet/ATM Transport
ISDN
BISDN
Telco
CCS7
CCS7
CSS7
Links
Regional STP
Telco
Figure 1.9 A typical broadband network. The subscriber side of the network may consist of these components 
or others. The SS7 network is used to control the connection of circuits between exchanges (end to end).

Signaling System #7      39
same facility. A point that often gets lost among all the marketing hype over ATM is the 
purpose of this technology. Talk of a new telephone network is nothing new. Telephone 
company officials have been planning for many years to upgrade their old analog net-
works to support the services and applications under much demand. Subscribers are no 
longer satisfied with slow data transmission and expensive special circuits for sending 
data and other information through the network.
ATM was developed to eliminate the need for time division multiplexed (TDM) cir-
cuits used in telephone networks between switching centers. The concept is to support 
one common network rather than several distinct networks serving specialized applica-
tions such as television broadcast and voice transmission. Many vendors have placed 
ATM switches in the hands of the consumer (philosophically), thinking that this will 
meet the needs of every business and become a necessity in office buildings everywhere. 
Some have even been so bold as to claim that ATM will replace the LAN.
In reality, ATM is found at customer premises where nothing else will deliver the 
bandwidth required for video and data services. ATM is too expensive for the average 
business to deploy in place of a LAN and certainly constitutes overkill for most daily 
business activities. For the university needing the 600 Mbps of bandwidth and the 
hospital using the telephone network to send high-resolution medical images, however, 
ATM and BISDN can be an integral part of their networks.
Narrowband ISDN is still used as the customer interface for many subscribers, 
whereas ATM has become the transport mechanism within the telephone network to 
the destination. DSL technology is now being deployed as a better (and more afford-
able) alternative to narrowband ISDN. One of the attractions of DSL is that existing 
twisted-copper wire can be used. Likewise, with the popularity of the Internet, TCP/IP 
transmission over DSL or modem cables has become equally popular.
ATM requires a transmission facility capable of carrying the bandwidth (600 Mbps 
and higher). SONET is being deployed as the physical medium for ATM.
The Information Highway
No book on telecommunications networking would be complete without some discus-
sion on the Information Highway. The Information Highway is a phrase coined by the 
Clinton administration in describing the technologies required to provide information 
services to all citizens. The requirements for the Information Highway are unclear. The 
only criterion with which politicians seem to agree is the ability for all citizens, regard-
less of status or wealth, to have access to a wealth of information using a variety of 
media, all accessible through the PSTN.
This Information Highway in itself requires a major investment in the telephone 
network infrastructure. Certainly, this task could be achieved today if private networks 
were used and if information was somewhat centralized. This is not the philosophy of 
the Internet, and this has driven transformation of the telephone network into an all-
purpose information network capable of providing access to telephones, databases, and 
video sources anywhere in the world.
The challenge is not how to access information from a variety of locations. This can 
be done today through packet switching. The challenge is how to provide this access 

40      Chapter 1
through the PSTN to anyone anytime and to support all forms of media, whether it be 
audio, video, high-resolution graphics, or data.
The telephone network was not designed to handle much more than voice and some 
data transmission. The telephone companies have embarked on a major upgrade of the 
existing infrastructure. This upgrade has been implemented in phases.
The first phase is to upgrade the carrier facilities. Telephone switching offices typi-
cally use DS1 or DS3 circuits for interoffice trunks. These facilities carry voice, data, 
and signaling traffic between exchanges. Video and high-speed data require more band-
width than any of these facilities provide, and for this reason, fiberoptic facilities are 
now replacing the previous DS1s and DS3s.
This fiberoptic technology, called SONET, provides the bandwidth necessary to meet 
almost all applications. Yet another technology will be necessary for the switching and 
routing functions to carry the information from originator to destination across the 
backbone network. ATM has been developed for this reason.
ATM provides the mechanism for transporting information in all forms of media from 
one exchange to another and eventually to the subscriber. ATM development has been 
slow as telephone companies battle with the cost of the existing infrastructure and the 
cost of replacing that infrastructure with new technology.
There was much talk about the Information Highway, ATM, video on demand (VOD), 
and high-speed data being available to every household by the end of the Clinton ad-
ministration. But this development did not happen as fast as most would have liked. 
An existing technology suddenly has gained popularity for voice transmission. VoIP 
has been pushed into the limelight by what began as a means of bypassing the existing 
telephone network (and associated long-distance costs) by making telephone calls over 
the public Internet. Many technical issues associated with using the public Internet 
have been resolved, and many operators are capitalizing on the benefits of TCP/IP.
If there is any technology that will enable us to realize the Information Highway, it is 
TCP/IP. Already being deployed nationwide by a number of carriers, these networks will 
enable subscribers to send and receive packetized voice, data, audio, and video on com-
puter terminals operating with software that supports telephone applications as well as 
audio and video. The following section describes packet telephony in more detail.
Convergent Networks and Packet Telephony
The Internet has spawned a completely new telephone network. VoIP has become a 
reality, with several companies currently providing VoIP services as an alternative to 
local telephone companies. Some of these companies are providing their network to 
other telephone companies, routing packetized voice over the public Internet.
TCP/IP brings many benefits to telephone service providers today. For new compa-
nies deploying new networks, packet-switched technology is much more affordable (and 
more efficient) than the older legacy switching systems. The earlier issues of delay have 
been resolved, and the quality of service on IP networks has improved vastly.
A surprising number of new telephone companies are popping up all over the world, 
building their entire voice and data networks with TCP/IP. Rather than use expensive 
www.allitebooks.com

Signaling System #7      41
TDM-based switches, they are deploying next-generation computer platforms designed 
specifically for voice and data transmission in carrier networks. This new generation 
of switches is fully programmable, much more scalable, and of course, much cheaper, 
enabling new startups to deploy many switches in markets they otherwise would not be 
able to afford. Many existing carriers are looking at TCP/IP for a different reason. They 
have realized that in many parts of their network, TCP/IP will save them money. Because 
many networks rely on databases to deliver services to their customers, and because 
these databases are deployed on computer platforms that support TCP/IP, carriers are 
finding that connecting SS7 networks to these databases via TCP/IP makes good sense.
Even STPs can be connected via TCP/IP today, reducing the cost of facilities within 
the SS7 network, as well as increasing the bandwidth of these switches to 100 Mbps 
per link (rather than 56/64 kbps supported by DS0A links).
Using TCP/IP as a transport for SS7 provides huge benefits to carriers. SS7 is noth-
ing more than packet data, and TCP/IP is a packet-network protocol. Sending SS7 
traffic over TCP/IP can be much cheaper because the facilities are less expensive than 
conventional channelized facilities. Another advantage to TCP/IP is the fact that every 
network supports it for data transmission (and Internet access). TCP/IP is everywhere, 
so finding a network to connect to is much easier than finding an existing ATM net-
work. Some issues still exist, however. The Internet Engineering Task Force (IETF) has 
defined a new set of TCP/IP-based protocols (SIGTRAN) specifically for use in trans-
porting SS7 (level 4 protocols) over TCP/IP networks.
Carriers are already deploying TCP/IP into their networks today as a transport for 
SS7 as well as data. By moving data traffic away from the existing interoffice facili-
ties onto TCP/IP networks, carriers save money they normally would have to spend to 
expand their switching equipment in order to support the growing number of callers 
making long-duration data calls.
A number of companies are working on standards to support this new networking 
trend. This has had an impact on the telephone industry more than any other technol-
ogy and warrants discussion in this book. The impact on SS7 will be significant, but by 
no means will packet telephony make SS7 obsolete overnight. While SIP has earned its 
place as the SS7 equivalent in packet networks, it still will take many years before SS7 
is replaced completely in the world’s networks. In the meantime, the two technologies 
will continue to interwork with each other. 
New Architecture
There are numerous proposals for the new converged networks. The data world tends 
to follow the architecture of data networks, whereas the telephony world leans toward 
architectures more similar to the existing circuit-switched networks. There are pros 
and cons for both. To understand the basic concepts of next-generation networks and 
the factors that will cause this architecture to evolve, one must first understand why 
the industry is moving in this direction.
Traditional circuit-switching equipment used in today’s legacy networks provides 
three core functions: transmission, call control, and switching. The call control is the 

42      Chapter 1
most expensive component, requiring powerful processors duplicated throughout the 
switch. If this function could be removed from the switch and placed in a more central 
location, the function of transmission becomes more manageable, scalable, and less 
expensive. In the next-generation network, the gateway supports transmission and 
switching functions, whereas the media gateway controller (MGC) provides call logic for 
the media gateways. One MGC then can interface with many media gateways.
There are many other benefits to this type of design, all related to centralizing your 
intelligence source. When one thinks of all the support systems needed to maintain the 
network and provide back-office functions such as billing and service creation, central-
izing call control makes a lot of sense, rather than distributing it all over the network. 
Routing SS7 through TCP/IP networks presents an entirely different set of problems. 
As we examine the SS7 MTP protocol, we will find that the SS7 network sends continu-
ous messages to every node in the network. The purpose of these messages is to deter-
mine whether the node is still capable of handling traffic. If a node fails, the network 
knows about the failure immediately, and notification of adjacent nodes is already tak-
ing place. The SS7 MTP protocol is much more proactive than TCP/IP routing protocols, 
although SIGTRAN answers many of these issues.
The best approach for converging networks is to centralize the intelligence of the net-
work, as shown in Figure 1.10. By centralizing the SS7 to IP conversion, you minimize 
the administration within the network. You also provide a central point of access for 
applications such as network monitoring, billing, and data mining.
This architecture also lowers the cost of network equipment. By moving the intel-
ligence up in the network, you maintain simplicity in the edge equipment. Because 
there are more of these devices than databases and STPs, this is where the cost should 
be minimized.
If legacy equipment must be interfaced, some vendors offer front ends. These devices 
are more like scaled-down signaling gateways, providing a conversion between SS7 and 
TCP/IP. This is much more economical than developing modules to incorporate into ven-
dors’ products and provides a faster path to market than if development were required. 
ITU-TS H.323 H.323 is really a suite of standards defining a variety of media types 
through packet networks. These standards cover everything from voice to data, fac-
simile, and even video. They define how the signals are to be converted from analog to 
digital and what signaling is to be used. It is this set of standards that is being adopted 
for VoIP networks throughout the world, with the exception of North America, which 
follows the ANSI standards.
In Figure 1.11 we see the various recommendations from the ITU for the applications 
to be supported. For the most part, these recommendations come from the H.323 suite 
of recommendations.
The ITU has defined several entities for the converged packet telephony network. 
The four principal components are the terminal, gateway, gatekeeper, and signal-
ing gateway. Each of these components has distinct functions, and various proto-
cols are being defined to operate between the various components. Although similar  

Signaling System #7      43
Figure 1.10 A centralized approach for network intelligence, supporting cheaper, nonintelligent devices at 
the network edge.
SG
Gatekeeper
800
CNAM
LNP
Monitoring System
Billing
Gatekeeper
Gateway
Gateway
Gateway
Gateway
Terminal Terminal Terminal
Terminal
Terminal
Terminal
Zone A
Zone B
IP
Figure 1.11 The protocol stack for H.323 applications.
Data
T. 
Share
T. 
126
T. 
127
T.124
T.122/T.125
T.123
TCP/UDP
IP
LAN
Audio
G.711 
G.722 
G.728 
G.723 
G.729
RTP/RTCP
TCP/UDP
IP
LAN
Video
H.261
H.263
RTP/RTCP
TCP/UDP
IP
LAN
Conference & 
Call Control 
Signaling
H.245
Q.931
RAS
TCP/UDP
IP
LAN

44      Chapter 1
functions are defined in the IETF standards, they are not identical to those defined 
by H.323.
Terminals. These are the actual telephone devices themselves. They can be part of a 
computer terminal or some other form of device with the responsibility of support-
ing voice transmission over the packet-switched network. The voice is digitized and 
transmitted over the network using the Real-Time Protocol (RTP), which is defined 
in TCP/IP. Think of terminals as computers on a LAN, even though in actuality the 
standards are referring to a logical function rather than a physical entity.
Gateways. This is the gateway that is used to connect to other networks. It provides 
protocol conversion (say, from an ANSI protocol to an ITU version of the same pro-
tocol) and uses Q.931 and Q.2931 (both defined in the ISDN recommendations) or 
a version of the Media Gateway Control Protocol (MGCP) for sending call control 
and signaling between terminals and gateways.
Gatekeepers. Gatekeepers are deployed and assigned to zones, much like a tandem 
telephone switch. The gatekeeper is the central point for all calls within its own 
zone and interconnects with gatekeepers in other zones using Q.931/Q.2931 or 
some other similar protocols such as MGCP, Megaco, or the Session Initiation 
Protocol (SIP). Gatekeepers communicate with the PSTN network through a sig-
naling gateway (Figure 1.12).
GKPR
GWY
GKPR
GWY
GWY
GWY
T
T
T
T
T
T
T
T
T
T
T
T
T
T
T
T
Zone A
Zone B
LAN 
Segment A
LAN
Segment B
LAN 
Segment C
LAN
Segment D
SG
SG
Figure 1.12 The role of the gatekeeper and the gateway and how they tie networks together.

Signaling System #7      45
Signaling Gateway. The signaling gateway acts as a bridge between the PSTN and 
the packet telephony network. Standard SS7 messages are received from the PSTN 
and are converted to TCP/IP-based messages. The upper levels of SS7 can remain 
the same as they are in the PSTN (ISUP, SCCP/TCAP), but the MTP is not usable 
in packet telephony and must be eliminated. The IETF has developed SIGTRAN 
protocols specifically for this purpose. SIGTRAN protocols provide the services of 
MTP2 and MTP3, as well as SCCP. Since TCP does not support real-time applica-
tions, the IETF also developed a peer protocol for use in real-time applications, the 
Stream Control Transmission Protocol (SCTP). 
Internet Engineering Task Force (IETF) The IETF has defined components similar to the 
ITU, but it uses entirely different terminology.
Media Gateway (MG). The MG is synonymous with the terminal. It supports the 
digitization and transmission of voice over the packet network. Many vendors are 
using Q.2931, MGCP, Megaco, or some other derivative for call control between 
MGs and MGCs. RTP is being used for the voice transmission over IP.
Media Gateway Controller (MGC). The MGC is much like the gateways and gatekeep-
ers defined by the ITU. They are used to connect to other networks and provide 
interworking between dissimilar networks. The MGC interfaces with the signal-
ing network, receiving information about the call from the media gateway (us-
ing Q.2931 or SIP). Several competing protocols are being introduced as possible 
standards for these components to use for call control between one another, but 
none actually has been adopted as yet. It is important to understand that these 
protocols really do not replace SS7 because they will not work in the PSTN world. 
Rather, they interface to SS7 through the SG.
Signaling Gateway (SG). This component is the same as in the ITU world and is used 
to bridge the PSTN networks with the packet networks. The SG uses mapping 
tables to map SS7 point codes to the appropriate IP address. The gateway must 
be able to maintain current network status information as part of these routing 
tables to ensure proper routing of messages during failure modes. In the future, as 
new protocols such as MGCP and SIP are ratified by the IETF as standards to be 
used for signaling within the network, the SG also may be responsible for convert-
ing these protocols to SS7, and vice versa.
Some vendors have built SS7 interfaces into their MGCs. However, they still may rely 
on TCP/IP as the transport for upper-level SS7 protocols. This means that something 
must replace the lower levels of SS7 used as a transport (the MTP).
M2UA, M3UA, SUA, and SCTP are presently being defined as replacements for MTP 
by the IETF, providing the same services as MTP but in a packet network. SCTP is 
a peer protocol to the User Datagram Protocol (UDP) and TCP, providing connection-
oriented services to guarantee the delivery of messages. The M2UA and M3UA proto-
cols provide replacements to SS7 MTP, providing the same services as MTP in packet  

46      Chapter 1
networks, including message delivery, network management, routing management, and 
routing. SUA provides delivery services for the TCAP, as SCCP does today.
Standards Organizations
The ITU commissioned the then International Telegraph and Telephone Consultative 
Committee (CCITT) to study the possibility of an all-digital IN. The result was a series 
of standards known now in the United States as SS7. These standards have paved the 
way for the IN and, with it, a variety of services, many yet to be unveiled.
The ITU-TS (once known as the CCITT) developed a digital signaling standard in the 
mid-1960s called Common Channel Interoffice Signaling System 6 (CCIS6) that would 
revolutionize the telephone industry. Based on a proprietary high-speed data commu-
nications network, CCIS6 later evolved into C7 (known as SS7 in the United States), 
which now has become the signaling standard for the entire world.
The secret to its success lies in the message structure of the protocol and the network 
topology. The protocol uses messages, much like X.25 and other message-based proto-
cols, to request services from other entities. These messages travel from one network 
entity to another, independent of the actual voice and data they pertain to, in an enve-
lope called a packet, using a different facility than the voice transmission itself.
CCIS6 was implemented in the United States in the 1960s using 2.4-kbps data links 
and later changing to 4.8-kbps data links. The first implementation of CCIS6 was for 
establishing trunk connections for voice calls. The CCIS6 protocol used packets (or 
signal units) arranged in groups of 12 and consisting of 28 bits each. The group of 12 
signal units was arranged as one data block.
SS7 was derived from the earlier CCIS6, which explains the similarities. SS7 pro-
vides much more capability than CCIS6. Where CCIS6 used fixed-length signal units, 
SS7 uses variable-length signal units (with a maximum-sized length), providing more 
versatility and flexibility. SS7 also uses higher-speed data links (56 kbps). This makes 
the signaling network much faster than CCIS6. In international networks, the data 
links operate at 64 kbps. Recently, high-speed links (HSLs) operating at 1.544 Mbps 
have been deployed in the United States, conforming to a Telcordia (formerly Bellcore) 
standard. TCP/IP also has been introduced as a transport for SS7 over 100-Mbps facili-
ties. As of 1983, CCIS6 was still being deployed throughout the U.S. telephone network, 
even though SS7 was being introduced. As SS7 began deployment in the mid-1980s, 
CCIS6 was phased out of the network. SS7 was used in the interoffice network and was 
not deployed in the local offices until many years later.
Standards such as SS7 and TCP/IP do not happen quickly. They are the result of 
years of research and development conducted by standards committees. These organi-
zations usually are composed of government agencies or industry representatives from 
manufacturers and service providers.
To understand the various standards available today, one first must understand the 
purpose of new standards and how they are developed. There are two different types of 
standards: de jure and de facto.
The de jure standard is formed by committee. These standards take many years to de-
velop because the processes used in committees are long and bureaucratic. Nonetheless, 

Signaling System #7      47
many of the standards used today are the result of standards committees. A de facto 
standard is the result of a manufacturer or service provider monopolizing a market. 
A good example of a de facto standard is the personal computer. Microsoft was instru-
mental in saturating the market with its operating system and applications but also, 
more importantly, with encouraging third-party vendors to use its operating system in 
their PC platforms. The result of this marketing strategy is still felt by its competitors 
today. There are so many Windows-based computers in the market that introducing 
a new platform requiring a different operating system is a high risk. Yet there are no 
standards in existence that define the use of Windows in all PCs. De jure standards 
and de facto standards can be voluntary or regulatory standards. Voluntary standards 
are adopted by companies on a voluntary basis. There are no rules that say all manu-
facturers and service providers must comply with a voluntary standard. However, the 
advantages are many. Voluntary standards help to ensure that everyone developing 
networking products builds their products for interconnectivity. Without this inter-
connectivity and interoperability, only a few equipment manufacturers would win the 
market—those with the largest install base.
Interoperability is another issue in data communications. Interoperability is the ca-
pability for equipment to communicate with equipment from different vendors in a 
network environment. Often vendors will implement varying protocol versions in their 
equipment that are noncompliant with the standards. When this occurs, other equip-
ment cannot communicate with the noncompliant system because it uses a proprietary 
interface, forcing carriers to purchase all their equipment from the same manufacturer. 
Voluntary standards help to ensure the interoperability of all networking equipment. 
With voluntary standards, all those participating in the technology can have a voice 
in the final “product.” The organizations responsible for creating these voluntary stan-
dards usually are made up of industry representatives. These representatives work for 
the same companies who build the equipment. As the technologies evolve, companies 
participating in the development of the standards also can get a sneak preview of what 
the final standards will consist of and can be the first to market with a product that is 
compliant with the standards.
Regulatory standards are created by government agencies and must be conformed 
to by the industry. These standards do not hold any major advantage to the service 
provider or the manufacturer but are in place in most cases to protect the consumer. 
Regulatory standards are monitored by government agencies such as the FCC. These 
agencies ensure the protection of the public and other network users by enforcing stan-
dards covering safety, interconnectivity, and in some cases, health (e.g., radiation emis-
sion from computer terminals and wireless phones).
SS7 networks use standards from a variety of organizations and standards commit-
tees. Some of the standards used in SS7 networks were developed for other applications 
as well, not specifically for SS7. The following organizations have written standards 
directly related to SS7:
■ ITU 
■ Alliance for Telecommunications Industry Solutions (ATIS)

48      Chapter 1
■ Telcordia (formerly Bellcore) 
■ IETF
In addition to these organizations, many other standards have been written that af-
fect SS7. The following standards organizations have contributed to the SS7 network 
with standards not written specifically for SS7 but used by equipment in the network. 
These organizations are responsible for the standards that govern the quality of cables, 
quality standards for manufacturing practices, electrical specifications, and interfaces 
used to interconnect telecommunications equipment:
■ Electronic Industries Association (EIA) 
■ ATM Forum
■ FCC
■ Underwriters Laboratories (UL) 
■ Canadian Standards Association (CSA)
■ International Organization for Standardization (ISO)
In addition to these standards organizations, many new forums have evolved. As the 
industry begins to understand the importance of standards bodies and compliance with 
these standards, new industry forums evolve consisting of vendors and service provid-
ers in the industry with a vested interest in the technology.
These forums often are commissioned by the ITU-TS and ANSI to develop new stan-
dards on their behalf (such as ATM) or work on issues with existing standards (such 
as ISDN). In many cases these forums can develop standards much faster than the 
standards committees themselves, saving the committees years in development time.
The rest of this section will look at these organizations in greater detail. The pur-
pose of describing these organizations is to provide a better understanding of who the 
players are and what significance they carry. The major organizations are described in 
greater detail than some of the less significant ones.
International Telecommunications Union–Telecommunications Standardization Sector (ITU-TS) 
Formerly known as the CCITT, this organization is a part of the ITU, which is a United 
Nations (UN) Treaty organization. The purpose of the ITU-TS is to provide standards 
that will allow end-to-end compatibility between international networks regardless 
of the countries of origin. The standards are voluntary standards, but many countries 
require full compliance to connect to their networks.
The members of the ITU-TS are government representatives from the various na-
tions. The representative for the United States is the Department of State. In addition 
to government agencies, manufacturers and service providers carry some influence as 
well. Membership is limited to four categories:
■ Administrations of a country’s public telephone and telegraph companies
■ Recognized private operating agencies 

Signaling System #7      49
■ Scientific and industrial organizations 
■ Standards organizations
The ITU was reorganized into three sectors: the Radiocommunication Sector (ITURS), 
the Telecommunication Development Sector (ITU-D), and the Telecommunication 
Standardization Sector (ITU-TS). The ITU-TS is the sector responsible for defining 
SS7 (or C7, as it is known internationally) standards and other related standards.
The ITU-TS standards for SS7 have been embraced by every country that is de-
ploying SS7, yet not every country’s network is the same. One would think that with 
international standards in place, interconnectivity would not be an issue. Yet every 
country creates its own standards to meet the requirements within its own networks. 
Because of this independence within individual countries, the SS7 network hierar-
chy consists of an international network and many national networks. The national 
networks are based on the ITU-TS standards but are modified for use within indi-
vidual countries. The United States uses the ANSI standards as its national standards. 
The ANSI standards are based on the ITU standards but with several differences.  
The differences between the ANSI standards and the ITU-TS standards are mainly  
in the addressing (point codes) and in network management procedures. Telcordia also 
has published a set of standards based on and endorsed by ANSI. The ANSI standards 
and the Telcordia standards are virtually the same except for the additions and modi-
fications added by Telcordia to ensure network reliability and diversity.
The ITU-TS C7 standards were first defined in 1980. These are referred to as the 
Yellow Book. ITU-TS standards were once published every 4 years in a set of documents 
that are color-coded to indicate the year in which they were published. The color code 
is as follows:
■ 1980 Yellow Book
■ 1984 Red Book
■ 1988 Blue Book
■ 1992 White Book
The ITU has changed the way it releases updated standards today. Rather than wait 
4 years, the ITU has adopted the model used by ANSI and releases new updates and 
standards as soon as contributions have been adopted and agreed on by the members. 
The C7 standards can be found in the ITU-TS documents numbered Q.701 through 
Q.741. The following list identifies all the documents that are SS7 standards or are 
related to SS7:
■ Q.700–Q.709 Message Transfer Part (MTP) 
■ Q.710 PBX Application
■ Q.711–Q.716 Signaling Connection Control Part (SCCP) 
■ Q.721–Q.725 Telephone User Part (TUP)

50      Chapter 1
■ Q.730 ISDN Supplementary Services 
■ Q.741 Data User Part (DUP) 
■ Q.761–Q.766 ISDN User Part (ISUP)
■ Q.771–Q.775 Transaction Capabilities Application Part (TCAP) 
■ Q.791–Q.795 Monitoring, Operations, and Maintenance 
■ Q.780–Q.783 Test Specifications
The ITU-TS has changed the documentation structure from previous years. There 
should be no effect, however, on existing older SS7 standard publications.
It also should be noted here that the ITU sponsors the world’s largest telecommuni-
cations trade show every 4 years in Geneva. This trade show (as well as the associated 
conferences) has become the highlight of the industry, with companies from all over the 
world assembling to discuss the latest technologies and products available.
American National Standards Institute (ANSI)
The ANSI (Figure 1.13) is responsible for approving standards from other standards or-
ganizations for use in the United States. Many organizations are considered accredited 
standards bodies by ANSI, including Telcordia and ATIS. ANSI is divided into committees. 
Committee T1 Telecommunications
Advisory 
Group (T1AG)
T1 
Secretariat
Technical Sub- 
committee
Work Group
Subwork 
Group
Technical Sub- 
committee
Work  Group
Subwork 
Group
Subwork 
Group
Technical Sub- 
committee
Work Group
Figure 1.13 The ANSI organization chart.
www.allitebooks.com

Signaling System #7      51
The ANSI Accredited Standards Committee T1 is responsible for standards associated 
within the telecommunications industry.
The T1 committee’s responsibilities include developing standards for the intercon-
nection and interoperability of telecommunications networks. The T1 committee is 
divided into seven technical subcommittees that receive their direction from the T1 
Advisory Group (T1AG).
The T1AG meets on a bimonthly basis and is responsible for the establishment  
and administration of procedures for the committee’s activities. As illustrated in  
Figure 1.13, the T1AG reports to the T1 committee.
The secretariat provides support functions to the subcommittees and interacts with 
ANSI to get approval and publication of the standards created by the subcommit-
tees. Duties of the secretariat include scheduling committee meetings and approving  
memberships.
The following is a description of each of the seven subcommittees along with their 
missions, according to the T1 Committee Procedures Manual.
Technical Subcommittee T1E1 This subcommittee defines standards for network inter-
faces, concentrating on physical layer interfaces. This includes the electrical, optical, 
and magnetic specifications of data communications interfaces as well as telephony 
interfaces. It consists of four working groups, all of which work closely with each other 
and with other groups within the T1 committee:
■ T1E1.1 Analog Access
■ T1E1.2 Wideband Access
■ T1E1.3 Connectors and Wiring Arrangements
■ T1E1.4 DSL Access
Technical Subcommittee T1M1 This subcommittee’s primary focus is on the processes 
and procedures used in the operations, maintenance, and administration of telecom-
munications networks. This includes the testing of facilities, measurements, routine 
maintenance, and traffic-routing plans. The committee’s standards focus on engineer-
ing and planning functions, network resources, and support systems. There are four 
working groups in this subcommittee:
■ T1M1.1 Internetwork Planning and Engineering
■ T1M1.2 Internetwork Operations
■ T1M1.3 Testing and Operations Support Systems and Equipment
■ T1M1.5 OAM&P Architecture, Interfaces, and Protocols
Technical Subcommittee T1P1 This subcommittee provides support services and pro-
gram management for the rest of the T1 subcommittees. It provides high-level descrip-
tions, high-level overviews and architectures, and scheduling for interactive sessions 

52      Chapter 1
between subcommittees and publishes support of standards and reference models. It 
also determines T1 endorsement of programs.
Technical Subcommittee T1Q1 This subcommittee focuses on performance issues of 
network traffic, switching, transmission, maintenance, availability, reliability, and res-
toration. Its performance specifications are standards used from carrier to carrier and 
from carrier to customer interfaces. There are four working groups:
■ T1Q1.1 4-kHz Voice and Voiceband Data
■ T1Q1.2 Survivability
■ T1Q1.3 Digital Packet and ISDN 
■ T1Q1.5 Wideband Program
Technical Subcommittee T1S1 The T1S1 subcommittee is involved directly with SS7 
signaling standards as well as ISDN and other related services, architectures, and sig-
naling. It reviews international standards and makes decisions on how those standards 
will be implemented in the United States. In addition, it works closely with the ITU-
TS in developing standards for the international community. There are four working 
groups in this subcommittee:
■ T1S1.1 Architecture and Services
■ T1S1.2 Switching and Signaling Protocols 
■ T1S1.3 Common Channel Signaling 
■ T1S1.5 Broadband ISDN
Technical Subcommittee T1X1 The members of this subcommittee define the standards 
used to define the hierarchy of digital networks and synchronization networks. This sub-
committee defines the standards used for internetworking, focusing on the functions nec-
essary to interconnect at the network transport level. There are four working groups:
■ T1X1.1 Synchronization Interfaces 
■ T1X1.4 Metallic Hierarchical Interfaces 
■ T1X1.5 Optical Hierarchical Interfaces 
■ T1X1.6 Tributary Analysis
Technical Subcommittee T1Y1 This subcommittee defines standards not covered by any 
of the other subcommittees and serves as a sort of miscellaneous standards committee. 
Specialized video and audio services, including broadcast services, teleconferencing, 
and graphics, as well as specialized voice and data processing, are within this group’s 
jurisdiction. There are three working groups:

Signaling System #7      53
■ T1Y1.1 Specialized Video and Audio Services
■ T1Y1.2 Specialized Voice and Data Processing
■  T1Y1.4 Environmental Standards for Exchange and Interexchange Carrier 
Networks
The ANSI publications regarding SS7 define the function of the protocols. Telcordia 
has published numerous other documents detailing the specific requirements of all SS7 
entities and management procedures. Telcordia protocol chapters and ANSI publica-
tions for SS7 are numbered as follows:
■ T1.110 Signaling System 7 (SS7), General
■ T1.111 Message Transfer Part (MTP)
■ T1.112 Signaling Connection Control Part (SCCP) 
■ T1.113 ISDN User Part (ISUP)
■ T1.114 Transaction Capabilities Application Part (TCAP) 
■ T1.115 Monitoring and Measurements
■ T1.116 Operations, Maintenance, and Administration Part (OMAP)
An ANSI catalog is available for all ANSI publications by contacting the ANSI orga-
nization in New York City.
Alliance for Telecommunications Industry Solutions (ATIS)
ATIS is the organization responsible for the development of the SS7 protocol in the 
United States. Consisting of members from operating companies as well as equipment 
vendors, the various committees define changes to the SS7 protocol as well as submit-
ting proposals for new operations and procedures. 
The work from ATIS is then submitted to ANSI for endorsement as a U.S. standard. 
It is really the ATIS T1 committee that defines the SS7 protocol for use in the United 
States, which is then ratified by ANSI. Telcordia then adopts the standards and writes 
additional requirements for use in larger networks in the United States. These require-
ments usually are based on performance and security. 
Telcordia (Formerly Bellcore)
Telcordia began as the research and development arm for the seven RBOCs (known then 
as Bell Laboratories). These seven companies were divided from the Bell System in 1984 
as part of the divestiture. AT&T was separated from the local exchanges, taking with it 
Bell Laboratories. The new RBOCs then founded what was then named Bellcore to re-
place the services once provided them by Bell Laboratories. Bellcore was later sold and 
separated from the RBOCs and named Telcordia. The seven operating companies were
■ Ameritech
■ Bell Atlantic

54      Chapter 1
■ BellSouth Telecommunications
■ NYNEX 
■ Pacific Telesis
■ Southwestern Bell
■ US West
Through the many mergers and acquisitions over the last few years, this list has 
dwindled down to just a few companies. Today the RBOCs are known as 
■ Verizon
■ AT&T (formerly SBC, Bellsouth, Pacific Bell)
In addition to these regional operating companies, Telcordia also provided services 
to the following “nonowners”:
■ Cincinnati Bell, Inc.
■ Southern New England Telephone Co. 
■ Centel Corporation
■ General Telephone Company and its local telephone companies
■ Sprint and its local telephone companies
■ Canadian local telephone companies
Telcordia publishes standards and recommendations for all kinds of telecommu-
nications services, maintenance and operations procedures, and network architec-
ture. These documents are available for a fee to any individual through the Telcordia  
organization.
Telcordia changed its documentation numbering system a few years ago, so you 
will find that some older documents may not match their newer counterparts. What 
is described next is the former identity used to communicate document phases. The 
three levels described have since been collapsed into one identity known as the Generic 
Requirement (GR). All new Telcordia documents will use this new convention. The for-
mer identity is defined because there are still many documents in circulation using the 
older identification.
Bellcore documents were developed and published in three phases. The first phase of 
publication was the Framework Advisory (FA). Any document beginning with FA is a 
Framework Advisory and is still in draft format. These documents were published and 
submitted to the industry for comments and suggestions.
The second phase was known as the Technical Advisory (TA). These documents 
were preliminary publications and still were subject to minor changes. They were 
submitted to the industry for final comment and suggestions before reaching final 
publication.

Signaling System #7      55
The third phase of publication was the Technical Reference (TR), which was the final 
phase of the document. TRs represent final released versions of a document. All these 
publications were numbered with the following convention: TR-NWT-000082.
The preceding document number is just one example of the document numbering of 
Telcordia publications. The TR indicates that this is a technical reference, the NWT 
indicates that this is a network-related publication, and the six-digit number identifies 
the unique publication. As mentioned previously, Telcordia recently has implemented 
a new document numbering scheme that alleviates the three levels of numbers and 
identifies all new documents as GRs.
In addition to these types, Telcordia also publishes documents on technology findings 
and services offered through its regional companies. These are referred to as Science 
and Technology (ST) publications and Special Reports (SRs).
SRs are issued for a variety of reasons today. Vendors who deal with the RBOCs some-
times are required to have their systems tested by a third party (such as Telcordia) and 
provide the results of the testing through a publication. Telcordia publishes their test 
results through serialized SRs, which are tightly controlled documents (in this case).
They also issue SRs to the general industry when there is an event that the in-
dustry needs to know about. For example, a major network outage is usually inves-
tigated, with the results published in an SR for the industry. This is one means of 
educating the entire industry of potential network problems so that the same event 
will not repeat itself.
A publication regarding Telcordia requirements for interconnectivity within net-
works is called an FR and specifies design requirements as well as the functionality of 
specific network elements. These are classified as
■ LATA Switching Systems Generic Requirements (LSSGR) (FR-NWT-000064)
■ Operator Services Systems Generic Requirements (OSSGR) (FR-NWT-000271)
■ Operations Technology Generic Requirements (OTGR) (FR-NWT-000439)
■ Reliability and Quality Generic Requirements (RQGR) (FR-NWT-000796)
■ Transport Systems Generic Requirements (TSGR) (FR-NWT-000440)
The Telcordia publication GR-246-CORE is a multivolume series that closely matches 
the ANSI publications and defines the SS7 protocol. Telcordia has added many modi-
fications and procedures that enhance the security and reliability of SS7 networks. 
Originally, the Telcordia version identified the Bell System implementation of SS7 and 
identified specific procedures and functions required in these networks.
The chapter numbering is the same as in ANSI publications, allowing cross- 
referencing between publications. The Telcordia version identifies the suggested  
requirements for implementation of SS7 in the United States as adopted by many car-
riers (including the RBOCs) and identifies specific procedures and functions required 
in these networks. The protocol descriptions are identical to the ANSI publications, 
with the addition of Telcordia implementations. A catalog of Telcordia documents is 
available through Telcordia at www.telcordia.com.

56      Chapter 1
Electronic Industries Association (EIA)
The EIA develops standards focused on the physical interfaces used in the telecom-
munications industry. Probably the best example of an EIA standard is RS-232C. This 
standard was created originally for interfacing modems to computer systems, but it 
proved so simple and versatile that it quickly became the de facto standard for any ap-
plication requiring a serial interface.
The EIA has developed many other standards besides RS-232C, including some faster 
interfaces designed to replace RS-232C. The EIA is also responsible for many wireless 
standards, including the wireless standard called ANSI-41. This standard defines the 
interfaces between wireless network entities and the communications protocols used 
at these interfaces. The EIA/TIA Subcommittee TR-45.2, Wireless System Operation, 
developed the ANSI-41 standard.
ATM Forum
The ATM Forum is a voluntary organization consisting of industry and public-sector 
representatives. Its mission is to assist the ITU-TS in developing a standard for interna-
tional use in ATM networks. The ITU-TS has been actively working on this standard but 
was not expected to complete it until the year 2000. The ATM Forum was formed to help 
expedite the process of development in hopes of finishing this standard much sooner.
Much of the work accomplished by the ATM Forum has been submitted and accepted 
(with modification) by the ITU for inclusion in the final ATM standard. It is important 
to understand, however, that the ATM Forum does not write standards. The forum 
writes implementation agreements, which allow vendors to agree on certain aspects of 
the technology and begin development on products prior to the final standards being 
completed. Formed in November 1991, the ATM Forum consists of representatives from 
a wide spectrum of interests. Data communications and telephone companies, service 
providers, and private networking types have joined together in this consortium to 
ensure a standard that meets the needs of all interested industries.
Federal Communications Commission (FCC)
The FCC was created as part of the Communications Act of 1934 and is responsible for 
regulation of the airwaves as well as for regulation of the telecommunications industry. 
There are five commissioners in the FCC, all appointed by the president of the United 
States. Each commissioner serves a term of 5 years. One commissioner is appointed by 
the president to serve as chairperson of the FCC.
Four operating bureaus exist within the FCC organization, with a total staff of 1700 
personnel. Each operating bureau serves a specific function: mass media, common 
carrier, field operations, and private radio. The common carrier bureau regulates all 
aspects of the telecommunications industry, including paging, electronic message ser-
vices, point-to-point microwave, wireless radio, and satellite communications.
The FCC regulates the access of interconnect companies and determines the type of 
interfaces to be used. The FCC does not necessarily create standards, but it enforces 

Signaling System #7      57
regulations regarding the interconnection of networks and network devices. The FCC 
also issues licenses for radiotelephone circuits and assigns frequencies for their opera-
tion. The FCC has allocated new frequencies for the PCSs being deployed in the United 
States by many major wireless service providers. Rather than create new frequencies, 
the FCC has reallocated frequencies previously used by microwave.
The FCC also supervises charges and practices of the common carriers, approves 
applications for mergers, and determines how the carriers will maintain accounting 
for their operations. The FCC also governs the types of services that a service provider 
can provide.
A good example of how the FCC regulates the telecommunications industry is the 
registered jack program. All manufacturers of telephone equipment or any equipment 
that connects to the telephone network must have their equipment registered with the 
FCC. The FCC then determines which type of interface [registered jack (RJ)] the equip-
ment must use to connect to the network.
The former Bell System sometimes gets credit for these interfaces because it is usu-
ally the one that install and maintain them. But the FCC determines how these in-
terfaces will be used and who must use them. The RJ-11, used to connect single-line 
telephones to the central office line, is found in every home across the United States 
today. Most of us refer to them as modular jacks.
The Network Reliability Council (NRC) was formed to monitor network outages and 
seek resolutions through industry vendors and service providers. This council works 
closely with the key corporations in resolving key issues that can be related to service 
outages in the nation’s SS7 networks. This information is published and shared with all 
service providers to prevent future outages from occurring owing to common failures. 
The FCC formed the NRC after several network outages in the SS7 network shut down 
telephone service in several major cities in 1991.
Today, all outages must be reported by the service providers to the NRC. This in-
formation is then disseminated among service providers as an information-sharing 
mechanism. The FCC hopes that sharing information regarding software deficiencies 
from the various vendors can help to deter many network outages.
Underwriters Laboratories (UL)
The UL is a not-for-profit organization that began in 1984. The UL uses a suite of tests 
and gives approval to any equipment that passes the minimal requirements set by the 
test suite.
UL approval is not required in the United States but is sought after by most manu-
facturers of electrical or electronic equipment. The UL label certainly influences buying 
decisions, and in most building codes, it is a requirement for electrical equipment.
Canadian Standards Association (CSA)
The CSA is Canada’s equivalent of the UL. The CSA approves all electrical and elec-
tronic products for sale in Canada. Manufacturers in the United States who plan to 
sell their equipment in Canada usually have the equipment approved by the CSA.  

58      Chapter 1
If the equipment is sold in the United States as well, the equipment must be approved 
by both the UL and the CSA.
As with the UL, CSA approval is not a requirement. However, in the telecommunica-
tions industry, most buyers will require CSA approval before purchasing equipment. 
This is their guarantee that the equipment they are buying went through some level of 
testing for electrical compliance.
International Standards Organization (ISO)
The ISO is an international standards organization responsible for many data commu-
nications standards, including the OSI model. The OSI model was developed after SS7 
and was not adopted as a standard until 1984. However, layering was well understood 
and practiced during the early to late 1970s, which is when the work was being done on 
SS7 protocols. The OSI model is still used today to define the functions of the various 
levels within a protocol stack.
The ISO consists of other standards bodies from various countries, mostly  
government agencies responsible for setting communications standards within their 
own governments. The U.S. representative is ANSI.
The ISO does not limit itself to just data communications standards. It has created 
many other types of standards as well. One of its most recent contributions to the 
industry is the ISO 9000 quality standards. ISO 9000 defines processes to be used in 
manufacturing to ensure quality production. Again, these are not mandatory standards 
but are essential for companies selling products in Europe because most European buy-
ers now require ISO 9000 compliance.
Internet Engineering Task Force (IETF)
This organization has the responsibility of defining all standards related to the Internet. 
The standards are published in the form of Recommendations for Comments (RFCs). 
Anyone can submit RFCs; however, they do not become adopted standards without 
approval from the IETF working committees. Thousands of RFCs cover hundreds of 
protocols used in TCP/IP networks. The IETF also validates through testing that the 
proposed RFCs actually will work within the TCP/IP networks.
IETF has three different areas of concern: applications, transport, and security. 
Signaling is being addressed through the transport working groups. Several groups 
are involved in defining transport protocols: SIGTRAN, SIP, and Megaco.
SIGTAN is defining the protocols to be used with SS7. This includes M2UA, M3UA, 
SCTP, and SUA. It should be noted that these protocols are being defined for use as a 
transport for SS7 protocols ISUP and TCAP, eliminating the TDM-based protocol MTP.
The SIP working group is responsible for SIP to be used between MGCs within a 
network. This protocol will enable call setups from gateway to gateway when MGC 
domains have to be traversed. SIP today is evolving as the replacement to SS7 in the 
IMS network, the predessors to SS7 and the IN. 

Signaling System #7      59
The Megaco working group is responsible for defining the protocol to be used between 
the MG and the MGC. This started as the MGCP but since has been adapted and re-
named as Megaco.
Other Agencies
In addition to the standards organizations, other agencies have had a significant im-
pact on the telecommunications network. These agencies are responsible for ensuring 
reliability in our telecommunications network. The following are the most prominent 
agencies.
Network Reliability Council (NRC) First commissioned by the FCC in 1992, this council 
was chartered to investigate network outages and report them to all network providers 
as well as to vendors. The council was put into existence only after numerous network 
outages caused telephone service to be out for extended periods of time, costing many 
corporations millions of dollars (including Wall Street in New York) and even neces-
sitating the closing of an airport.
The charter was to have expired in 1994, but the NRC received a new charter by the 
FCC and is still tasked with the investigation of network outages. The council is made 
up of CEOs from leading carriers and manufacturers and provides reports regarding 
the reliability of the nation’s network as well as explanations for outages and how they 
can be prevented in the future.
Network Operations Forum (NOF) The Network Operations Forum (NOF) was formed 
in 1984 over concerns as to who would track and clear trouble reports that crossed net-
work boundaries. The forum has since expanded its operations to include definitions for 
interoperability testing and interworking issues. The forum also meets with manufac-
turing companies to resolve issues regarding the reliability of network equipment.

www.allitebooks.com

Chapter
2
The SS7 Network
The Signaling System 7 (SS7) network is a packet-switched network (separate from 
the voice network) that is used solely for the purpose of connecting telephone calls. 
It provides two types of services: circuit-related and non-circuit-related services. 
Circuit-related signaling is used for the setup and teardown of voice connections 
in both time division multiplexing (TDM) networks and packet-switched networks 
[voice-over-IP (VoIP)]. Non-circuit-related services are all the other services provided 
by the network, such as database access for translations and subscriber information 
and network management.
The network is deployed as two distinct levels or planes: the international plane, 
which uses the International Telecommunications Union–Telecommunications 
Standardization Sector (ITU-TS) standard of the SS7 protocol, and the national plane. 
The national plane uses whatever standard exists within the country in which it is de-
ployed. For example, in the United States, the American National Standards Institute 
(ANSI) is the standard for the national plane. Telcordia standards are an extension of 
the ANSI protocol and ensure the reliability required to interwork with networks of the 
regional Bell operating companies (RBOCs).
Other nations may have one or several different versions of national protocols for 
SS7. In situations where these national variants must interwork with one another, a 
protocol converter is sometimes used. The protocol converter maps parameters from 
one country variant to another. All countries are capable of communicating with one 
another through gateways that convert the national version of the SS7 protocol to the 
international version. This ensures that all nations can interwork with one another 
while still addressing the requirements of their own distinct networks.
All nodes in the SS7 network are called signaling points. A signaling point has the 
capability to perform message discrimination (read the address and determine if the 
message is for that node) and to route SS7 messages to another signaling point. Every 
signaling point has a unique address called a point code. In SS7 messaging, both the 
61

62      Chapter 2
origination point code and the destination point code are provided. There are three dif-
ferent types of signaling points:
■ Service switching point (SSP) 
■ Signal transfer point (STP) 
■ Service control point (SCP)
Service Switching Point (SSP)
The SSP is the local exchange in the telephone network. An SSP can be the combination 
of a voice switch and an SS7 switch or an adjunct computer connected to a voice switch. 
Using adjuncts enables telephone companies to upgrade their SS7 signaling points with-
out replacing expensive switches, supporting a modular approach. Upgrades typically are 
limited to software loads because these devices require very little hardware. With the ad-
vent of packet telephony, this has become less of an issue because new-generation switches 
are server-based and a fraction of the cost of legacy circuit-switched equipment. The SSP 
function is now found in multiple devices throughout the packet-switched network.
The SSP communicates with the voice switch using primitives. The SSP must convert 
signaling from the voice switch into SS7 signaling messages, which then can be sent 
to other switches in the network (Figure 2.1). The switch typically will send messages 
related to its voice circuits to the switches with a direct voice trunk connection to it. In 
the case of database access, the SSP will send database queries through the SS7 net-
work to computer systems located centrally to the network (or regionally).
SSP
SSP
SSP
SSP
SSP
SSP
SSP
SSP
Figure 2.1 The relationship of the SSP to the SS7 network.

The SS7 Network      63
The SSP function uses the information provided by the calling party (such as di-
aled digits) to determine how to connect a call. A routing table in the switch itself will 
identify which trunk circuit or Transmission Control Protocol (TCP) socket to use to 
connect the call and at which switch this trunk terminates. An SS7 message must be 
sent to this adjacent switch requesting a circuit connection on the specified trunk or 
socket. The circuit identification [referred to as the circuit identification code (CIC)], 
the calling and called telephone numbers, and information about the voice transmis-
sion method used are in this SS7 message. There is also information about the type 
of call, the type of decoding used in the voice transmission, and possibly any switch 
features needed during the call.
The adjacent switch grants permission to connect this trunk or socket by sending 
back an acknowledgment to the originating switch. Using the called-party informa-
tion in the setup message, the adjacent switch then can determine how to connect the 
call to its final destination. The same process is followed using a setup message to any 
adjacent switches and circuits connecting those switches. The entire call may require 
several connections between several switches. The SSP function in each switch man-
ages these connections but really has no knowledge of the status of remote connections 
(nonadjacent connections). The SSP only has visibility of its own connections and does 
not maintain the status of all the connections needed to connect and maintain a call.
Very few SS7 features are required of an SSP. The capability to send messages using 
the ISDN User Part (ISUP) protocol and the Transaction Capabilities Application Part 
(TCAP) protocol is the only requirement besides the network management functions. 
SSPs are responsible for the management of ISUP messages specifically, which may 
include different variants of ISUP standards. Specific Telcordia requirements for an 
SSP can be found in Telcordia publication GR-024-CORE, “Service Switching Points 
(SSPs) Generic Requirements.”
Signal Transfer Point (STP)
All SS7 packets travel from one SSP to another through the services of an STP. The STP 
serves as a router in the SS7 network. To maintain redundancy and diversity in the 
network, STPs are always deployed in pairs. Should one STP node fail, the other node 
assumes all the traffic. Both STPs in a pair process traffic using load sharing.
An STP does not usually originate messages. In fact, the STP does not process any 
upper-layer protocols (ISUP or TCAP, for instance). The STP only processes the trans-
port layers [Message Transfer Part (MTP) or TCP/IP-based protocols]. The STP routes 
SS7 messages as received from the various SSPs throughout the network to their ap-
propriate destinations (Figure 2.2).
The STP can be an adjunct to a voice switch or a standalone packet switch. Many 
tandem switches provide both switching functions and STP functions (through the use 
of an adjunct computer). Although several manufacturers provide STP equipment, very 
few provide a standalone STP. A standalone solution offers many benefits.
By using a standalone STP, companies can centralize many important revenue-
generating functions on their network. This includes services provided by SCPs and 

64      Chapter 2
monitoring of the entire SS7 network. Updates to SS7 are much simpler and more 
cost-effective when standalone STPs are used because the entire switch must be 
upgraded when this function is integrated into a tandem switch. Many carriers have 
changed their network architecture, replacing switched STPs with standalone STPs 
for this very reason.
In large networks, multiple STPs sometimes are deployed in a hierarchical fashion. 
In these cases, three levels of STPs can be used:
■ National STP 
■ International STP 
■ Gateway STP
The national STP exists within a national network and is capable of transferring 
messages using the same national standard or protocol. Messages may be passed to 
another level of STP, the international STP, but the national STP has no capability to 
convert messages into another version or format. The conversion typically is MTP only 
because STPs do not process the upper layers of the SS7 protocol. At least one manu-
facturer provides the protocol conversion on the STP itself, eliminating the need for two 
STPs (one national and one international).
The international STP functions the same as the national STP but is used in the 
international network. The international network provides the interconnection of all 
countries using the ITU-TS standard for MTP. This ensures interconnectivity between 
STP
STP
STP
STP
Figure 2.2 The relationship of the STP to the SS7 network.

The SS7 Network      65
worldwide networks despite the use of different point-code structures and network 
management. All nodes connecting to the international STP must use the ITU-TS pro-
tocol standard.
The gateway STP serves as the interface into another carrier’s network. For example, 
long-distance service providers may have access to a local telephone company’s data-
base for subscriber information, or the local service provider may need access to the 
long-distance service provider’s database. In any event, this access is accomplished 
through a gateway STP.
The gateway STP also may provide protocol conversion from a national MTP standard 
to the ITU-TS MTP standard or some other national standard. A gateway STP often is 
used to access the international network, providing access and the conversion of mes-
sages to the ITU-TS protocol standard. This eliminates the need for adjunct protocol con-
verters on the network. Gateway STPs must be able to work using both the international 
standard and the national standard, depending on the location of the STP.
Gateway STPs are also used in wireless networks. Many wireless networks use X.25 
as a transport protocol between their mobile switching centers (MSCs) and databases. 
The X.25 networks were private networks and did not provide support for accessing 
other wireless providers’ networks.
X.25 networks have other limitations that do not lend themselves well to the ap-
plications of the wireless network. All information transfers in X.25 networks require 
connection-oriented services. Trying to connect to multiple networks and entities in 
various locations can become somewhat cumbersome. Many messages that originated 
in wireless or SS7 networks do not require connection-oriented services.
For this reason, many wireless providers have eliminated the old X.25 networks and 
have replaced them with SS7. The MSCs now exchange information about the loca-
tion of mobile phones and update their databases using the TCAP protocol, which is 
much better suited to this task. More important, SS7 has enabled wireless providers 
to share their location databases with other wireless carriers, supporting roaming ar-
rangements that would not be possible otherwise.
The purpose of the gateway STP is to provide a single interface into a network for 
network security. The gateway STP uses screening features to determine which carriers 
are allowed access to the network. Screening is the capability to examine all incoming 
and outgoing packets and allow only those SS7 messages that are authorized. This is 
determined through a series of gateway screening tables that must be configured by the 
service provider. Gateway screening also prevents messages from unstable networks 
that have not been approved by the service provider from entering into the network and 
causing service conflicts. This function only exists on STPs and is extremely important 
in any network to prevent the unauthorized use of a carrier’s SS7 network.
In the international network, gateway STPs may provide an additional function. 
International SS7 is based on the ITU-TS standard, yet every country uses a national 
version that is not 100 percent compliant with the ITU-TS standard. For example, in 
the United States, we are ITU-compliant, yet the ITU-TS standard has been modified 
for use here. The major difference between the two standards is in addressing and the 
network management functions of the protocol.

66      Chapter 2
The gateway STPs that connect us to other countries do not deviate from the ITU-TS 
standard. They must be 100 percent compliant. They can perform a protocol conver-
sion, enabling ITU-TS messages into the network by converting the messages into the 
national format before transferring them into the network. This is true gateway func-
tionality, yet not all gateway STPs must perform protocol conversion.
Routing to databases is another important STP function. Although a carrier may 
only have one SCP, this SCP may provide many services (Figure 2.3). For example, the 
SCP may support calling cards, 800 routing, and calling-name display. Each of these 
services in the SCP must have a unique address. The STP uses a function called global 
title translation (GTT) to determine which database will receive the queries generated 
by SSPs.
It may seem easier for the SSP to know the specific address of each and every da-
tabase in the network, but this increases the amount of administration that must be 
managed. Every time a database is added or changed, the address information would 
have to be added to every SSP on the network. By using an STP and GTT, the SSPs 
only need to know the address of the STP. By using this type of architecture, SCPs can 
be changed or added, affecting only the STP.
In larger networks, there may be multiple GTTs. STPs that are deployed regionally 
may provide a partial GTT (routing the query to a central STP) that provides the final 
GTT. The purpose of using partial and final GTT is to eliminate unnecessary adminis-
tration on the network.
This is important to hub providers as well. Imagine that you were a hub provider 
who supported many SCPs and had to notify hundreds of carriers to update the rout-
ing information in their SSPs to reflect the new addressing information. By using the 
SCP
SCP
Figure 2.3 The relationship of the SCP to the SS7 network.

The SS7 Network      67
global title feature in an STP, the changes to the hub provider network are completely 
transparent to the carriers.
The SSP sends a database query to the local STP with the destination address of 
the STP. The STP looks at the dialed digits in the Signaling Connection Control Part 
(SCCP) portion of the message signal unit (MSU) (or global title digits as they are often 
called) and determines the address of the database through its own translation tables. 
The GTT consists of the subsystem number (address) of the database and the point code 
of the SCP that interfaces with the database.
An STP is the most important investment carriers can make for their networks. 
Carriers who use hub providers rather than investing in their own STPs are missing 
out on the opportunity to be more responsive to their subscribers and provide unique 
services that are not provided by hub providers. For specific information regarding 
Telcordia requirements for an STP, refer to Telcordia Publication GR-082-CORE, 
“Signal Transfer Point (STP) Generic Requirements.”
Service Control Point (SCP)
The SCP serves as an interface to telephone company databases. These databases pro-
vide the storage of information about subscribers’ services, the routing of special service 
numbers (such as 800 and 900 numbers), calling-card validation, and even Advanced 
Intelligent Network (AIN) services.
The SCP is actually a function of the computer used as a front end to the database 
application itself. The SCP does not necessarily have to be a standalone computer sys-
tem. Some new SCP database applications are being implemented in STPs, providing 
an integrated solution. In all cases, the address of the SCP is a point code, whereas the 
address of the database is a subsystem number. Entities within the network route to 
SCPs using the SCCP protocol.
The SCP function does not necessarily store all the data, but it is the interface to the 
mainframe or minicomputer system that is used for the actual database. These computer 
systems usually are linked to the SCP through X.25 or Internet Protocol (IP) links.
The SCP communicates with the database application through the use of primitives. 
A primitive is an interface that provides access from one level of the protocol to another 
level. In the case of the database, the database is considered an application entity, and 
TCAP is the protocol used to access and interface with this application entity.
The type of database depends on the network. Each service provider has different re-
quirements, and their databases will differ. Telcordia has defined some basic models of 
databases for achieving the network needs of the RBOCs. In addition to the RBOC net-
works, wireless providers also use databases for the storage of subscriber information. 
The databases used most commonly within either of these networks are as follows:
■ Call Management Services Database (CMSDB)
■ Local Number Portability (LNP) 
■ Line Information Database (LIDB) 

68      Chapter 2
■ Calling Name (CNAM)
■ Business Services Database (BSDB) 
■ Home Location Register (HLR) 
■ Visitor Location Register (VLR)
Each database is given a unique address called a subsystem number. The subsystem 
number is used to route queries from SSPs through the SS7 network to the actual 
database entity. The subsystem numbers are defined by the service provider and are 
fixed. The following databases are not absolutes; in other words, not every network 
must have these specific databases. These are the databases used within the networks 
of the RBOCs, and they are mentioned here as a model of database types.
Call Management Services Database (CMSDB)
The CMSDB provides information relating to call processing, network management, 
and call sampling (for traffic studies). The call-processing portion defines the routing 
instructions for special service numbers such as 800, 976, and 900 numbers. In addi-
tion to routing instructions, this database also provides billing information, such as the 
billing address or third-party billing procedures.
CMSDB also provides certain network management functions used to prevent con-
gestion on the network. When congestion occurs on the SS7 network, this database 
can provide important routing instructions for rerouting messages around the con-
gested node.
Call sampling is used to create reports that indicate the types of telephone calls 
being made in the telephone network. These reports then are used in traffic studies 
to determine if additional facilities are needed to handle the voice traffic. The service 
management system (SMS) schedules reports for automatic printing and enables ad-
ministration personnel to update the database records through a terminal interface.
Local Number Portability (LNP)
The Communications Act of 1996 mandated LNP. The purpose of LNP is to enable 
subscribers to change telephone companies without having to change their telephone 
numbers. This, of course, changes the way telephone calls have been routed for years.
Telephone numbers were assigned to carriers in blocks. These number blocks then 
were assigned to switches in the network (also in blocks). For example, the NNX of 550 
(and all the telephone numbers 550-0000 through 550-9999) may have been assigned 
to a rural switch. The switches within the telephone network were then programmed 
to route all calls to telephone numbers in this range to the specific switch.
With LNP, a subscriber may decide to change to another carrier. The new carrier 
must then assign the subscriber’s telephone number to its own switch. This, of course, 
means that the old (donor) carrier must remove the one telephone number from its own 
switch (which is usually flagged as vacant).

The SS7 Network      69
When a call is initiated, the originating exchange first must search its routing table 
to determine if the called number has been flagged as ported. If the NNX has been 
flagged as ported, then a query must be sent to an LNP database to determine if the 
actual called number has been ported and, if so, how the call is to be routed. Even if only 
one telephone number within an NNX has been ported, the entire NNX is considered 
ported, and a query must be generated for each and every call made to that NNX.
If the called number has been ported, then the database will identify the new termi-
nating switch by giving its local routing number (LRN). The LRN works the same as 
the NNX code did, providing a unique identity for each and every exchange in the net-
work. This information is then returned to the originating exchange so the call can be 
routed. If the telephone number has not been ported, then the call is routed normally.
LNP also has an impact on how numbers are assigned. A clearinghouse assigns tele-
phone numbers to telephone companies. Numbers are issued in much smaller blocks 
than before. A database is used for number pooling as well. The concept of number pool-
ing is very similar to LNP, but in this case the database identifies the carrier to which 
a particular number has been assigned.
The implementation of LNP is now taking place in international networks. Spain 
already has implemented LNP on its networks, and many other European countries 
are quickly following. International number portability presents many new challenges 
to vendors because every country uses a different implementation, so what may work 
in Spain most likely will not work in Great Britain.
Line Information Database (LIDB)
The LIDB provides information regarding subscribers, such as calling-card service, 
third-party billing instructions, and originating line-number screening. Billing is the 
most important feature of this database. Third-party billing instructions, collect-call 
service, and calling-card service all determine how subscribers will be billed for their 
telephone calls in real time.
In addition to billing instructions, the LIDB also provides calling-card validation, 
preventing the fraudulent use of calling cards. The user’s personal identification number 
(PIN) is stored in this database for comparison when a user places a call.
Originating line-number screening provides information regarding custom calling 
features such as call forwarding and speed dialing. These features carry from network 
to network because each service provider provides its own distinct calling services.
Calling Name (CNAM)
SS7 automatically enables carriers to provide their subscribers with the calling-party 
number because this information is carried in call-setup messages. However, the name 
of that calling party is not included. This database provides the name of the calling 
party based on information from LIDB databases.
The RBOCs typically are the owners of these databases; however, a number of com-
panies are looking to provide their own databases by using many sources. There are 

70      Chapter 2
also a number of companies providing the database entries themselves, and updates 
to CNAM databases are given weekly. Some of these information providers have more 
accurate information than the RBOCs themselves.
CNAM is a very popular feature and a great revenue-generating service for any car-
rier. The subscriber must possess a specially equipped telephone or external display 
device to receive the information sent from the end-office switch, but this equipment 
can be found for a very reasonable cost in most retail stores that sell telephones.
Business Services Database (BSDB)
This database is mentioned only as a model because the last publication of Telcordia 
recommendations still had not defined the applications for this database. The purpose 
of this database is to enable subscribers to store call-processing instructions, network 
management procedures, and other data relevant only to their own private network. 
The telephone company could offer this database as an extra service, enabling large 
corporate customers to create their own private networks linking private branch ex-
change (PBX) equipment across the country. With their own proprietary databases, 
corporations can alter traffic routing by time of day or congestion modes without alter-
ing software in the PBX equipment.
This type of database would be a valuable asset to companies using the flexibility of 
service-creation environments (SCEs). The network management function can provide 
special routing instructions for calls destined to congested PBXs, a feature popular with 
inbound call centers using automatic call distributors (ACDs).
Home Location Register (HLR)
The HLR is found in wireless networks and is used to store information regarding a 
wireless subscriber. Subscribers are assigned to a home area under the control of the 
home HLR. Billing and feature information is stored in this database along with loca-
tion information. The HLR identifies the MSC (the wireless switch) currently provid-
ing service to a subscriber. The actual location (cell site) of the subscriber is found in a 
dynamic database called the visitor location register (VLR).
When a wireless telephone is activated, a cell site receives a signal from the cell 
phone containing the mobile identification number (MIN) and other identification. The 
MIN is equivalent to a Plain Old Telephone Service (POTS) number. This information 
is sent to an MSC, which then determines the HLR to which the MIN belongs (using 
an internal routing table).
Every few minutes the wireless phone resends this signal. As the car moves from one 
cell site to another, the MSC monitors which MSC is servicing the subscriber, and if the 
subscriber moves to an area serviced by another MSC, the HLR database is updated. 
When a call is received into the network for a mobile telephone, the home HLR must 
determine which MSC to route the call to. The home HLR informs the MSC of the loca-
tion, and the call is connected using voice circuits through the appropriate MSC to the 
cell site servicing the wireless subscriber at that time.
www.allitebooks.com

The SS7 Network      71
Visitor Location Register (VLR)
The VLR is used for determining the location of a wireless subscriber in real time. As a 
subscriber roams outside of his or her home network, the MSCs will not have any infor-
mation regarding the subscriber. A query is sent to the subscriber’s home HLR, which 
authenticates the subscriber and sends pertinent information to the roaming network. 
The VLR is then updated with this information. As long as the subscriber is active in 
this network, the information remains in the VLR. This enables the MSC to keep data 
about the roaming subscriber without having to make changes to its own HLR. Think 
of the VLR as temporary database storage for visiting wireless subscribers.
The VLR may or may not be colocated with every MSC. In some networks there is one 
VLR and one HLR. The only requirement is that all MSCs need to be able to access all 
HLR and VLR databases using the SS7 protocol. For specific Telcordia requirements re-
lating to SCPs, refer to the Telcordia Publication TR-NWT-001244, “Supplemental SCP.”
Operations Support Systems (OSS)
The entire telephone network relies on back-office equipment for provisioning, mainte-
nance, and other administrative functions. Monitoring the signaling network is crucial 
to ensuring service without interruption. Problems in the signaling network mean ser-
vice interruptions for subscribers and, in some cases, complete network failures.
The RBOCs have established remote maintenance centers for the monitoring and 
management of their SS7 and voice networks (Figure 2.4). The remote maintenance 
centers give them a view of the entire network from one central location and enable 
them to quickly identify and troubleshoot network problems without dispatching tech-
nicians. This is especially helpful where equipment is located in an unmanned central 
office or a colocation facility.
Telcordia has defined a standard set of commands for use in all its network equip-
ment, SS7 and otherwise, enabling its maintenance personnel to learn one set of com-
mands for accessing all devices on the network. This eliminates the need for training 
on specific equipment. However, this has proven to be an expensive alternative for most 
carriers and has not been accepted widely, although it is a very sound concept.
Some vendors have developed graphic user interfaces (GUIs) for provisioning sys-
tems that enable carriers to use diverse mixes of equipment and to access and provision 
the equipment through the GUI. This eliminates the need for a common command set, 
which limits the vendor choice for the carrier.
To update the SCP databases and monitor the performance of the databases, an SMS 
is used. The SMS is a standard interface consisting of a command set and GUI that can 
be used to administrate the database, monitor the status of the database, and retrieve 
measurements pertaining to performance from the database. The SMS also provides a 
central point for making updates to multiple databases. The database changes are made 
within the SMS and then propagated to all the databases in the network. This eliminates 
the need to visit each and every database site to incorporate new changes and ensures 
consistent database updates. It is also an important method to ensure that updates have 
been tested prior to being sent to all the database elements in the network.

72      Chapter 2
Network Monitoring
Network monitoring systems have become important tools to all carriers. Even carri-
ers that do not have their own SS7 networks need visibility to what is coming into and 
leaving their networks.
The monitoring system serves two functions. The first is to provide visibility to the 
entire network and everything that goes on within the network. The other function is 
data collection.
Data collection is still somewhat of a new concept for network monitoring systems. 
Although they have had this capability for a while, the concept of capturing signaling 
data for use other than maintenance and troubleshooting is slowly catching on.
The monitoring system serves as a central interface to these data, using probes con-
necting to every signaling link in the network to access the data. The MSUs are copied 
and stored on a server for historical traces and analysis.
Monitoring systems also can be used for creating call-detail records (CDRs). Each 
time a call is completed, the switch that originated the call creates a CDR. However, 
switches are not a dependable source for CDRs for a variety of reasons.
Signaling networks, on the other hand, are the best source for CDRs. Every call gen-
erates a signaling message that is captured by the monitoring system. The monitoring 
system then can be used to interface to a number of business applications.
SSP
OSS
OSS
SSP
SSP
SSP
SSP
SSP
SSP
SSP
SCP
SCP
STP
STP
STP
STP
Figure 2.4 The OSS is typically adjacent to an STP and accesses the network via a signaling link to the 
STP. Using TCAP and SCCP, the OSS is then capable of sending an SS7 message to any entity within its 
own network.

The SS7 Network      73
Fraud detection/management is one of the more popular applications in this scenario. 
Revenue-assurance groups use this to detect and stop fraud of all types in both wireline 
and wireless networks.
Traffic-analysis tools use CDRs as well as traffic reports generated by the monitoring 
system to ensure quality of service (QoS), which may be of significant importance when 
a carrier has service-level agreements (SLAs) with customers or other carriers. The 
most powerful use of signaling data is data mining. When you examine the contents of 
a signaling message, you find virtually everything a carrier needs to know about the 
subscribers using the network. Data mining is used by marketing, sales, engineering, 
operations, and finance departments. It is by far the most important tool a carrier can 
have for revenue assurance.
Signaling Data Links
All signaling points are interconnected via signaling data links. These links are 56/ 
64-kbps, 10/100-Mbps, and 1.536-Mbps data facilities (the exception to this rule is 
Japan, where 4.8-kbps links are used). Links are bidirectional, using transmit and 
receive pairs for simultaneous transmission in both directions.
Links always should be terrestrial, although satellite links are supported in the stan-
dards. Satellite links are unfavorable because of the delay introduced. In the event 
that satellite links are used, the labeling and functions of the links remain the same. 
Network management procedures are the same except for the procedures used at level 2 
of the protocol (link alignment and error detection/correction).
Satellite links use a different method of error detection/correction than terrestrial 
links. Basic error detection/correction is used for all terrestrial links, and preventive 
cyclic redundancy (PCR) is used for satellite links. The difference between the two lies 
in the retransmission mechanism. In basic error detection/correction, an indicator bit 
is used to indicate retransmission. In PCR, if an acknowledgment is not received for 
transmitted signaling units within a specific time, all unacknowledged signaling units 
are retranslated.
There are three modes of signaling. These three modes depend on the relationship be-
tween the link and the entity it services. The simplest mode is referred to as associated 
signaling. In associated signaling, the link is directly parallel with the voice facility for 
which it is providing signaling. This, of course, is not the ideal because it would require 
a signaling link from the end office to every other end office in the network. However, 
some associated modes of signaling do exist (mostly in Europe).
Nonassociated signaling uses a separate logical path from the actual voice, as shown 
in Figure 2.5. Multiple signaling nodes usually are used to reach the final destination, 
whereas the voice may be a direct path to the destination. Nonassociated signaling is 
used commonly in many SS7 networks.
Quasi-associated signaling (Figure 2.6) uses a minimal number of nodes to reach 
the final destination. This is the most favorable method of signaling because each node 
introduces additional delays in signaling delivery. For this reason, SS7 networks favor 
quasi-associated signaling.

74      Chapter 2
Signaling data links (Figure 2.7) are labeled according to their relationship in the 
network. There is no technical difference between the various links; they are only dif-
ferent in the way the links are used during message transfer and how network manage-
ment interacts with the links (Figure 2.8).
Links are placed into groups called linksets. All the links in a linkset must have the 
same adjacent node. The switching equipment alternates transmission across all the 
links in a linkset to ensure equal use of all facilities. Up to 16 links can be assigned to 
one linkset.
In addition to linksets, a signaling point must define routes. A route is a collection of 
linksets used to reach a particular destination. A linkset can belong to more than one 
route. A collection of routes is known as a routeset.
A routeset is assigned to a destination. Routesets are necessary because if only a single 
route existed and that route became unavailable, an alternate route would not be defined, 
and no signaling could be sent to that destination. A routeset provides alternate routes to 
the same destination in the event that any one route becomes unavailable.
STP
STP
Signaling Path
Voice Trunk
SSP
SSP
Figure 2.5 Nonassociated signaling involves the use of STPs to reach the remote exchange. As depicted in 
this figure, to establish a trunk connection between the two exchanges, signaling messages would be sent via 
SS7 and STPs to the adjacent exchange.
Figure 2.6 In quasi-associated signaling, both SSPs connect to the same STP. The signaling path is still 
through the STP to the adjacent SSP.
STP
Signaling Path
Signaling Path
Voice Trunk
SSP
SSP

The SS7 Network      75
A destination is an address entered into the routing table of a signaling point. The 
destination does not have to be directly adjacent to the signaling point, but it must 
be a point code that can be reached by the signaling point. A signaling point does not 
have to know all point codes in between itself and its destinations; it only has to know 
which link or linkset to use to reach its destination. A signaling point can have multiple 
addresses if it is necessary to partition a signaling point into multiple functions. For 
example, a gateway STP used to enter the international network may have multiple 
point codes: one for the gateway function and another for GTT services.
It may sound as if an STP would have to know millions of point codes, but in actual-
ity, this is not the case. If a carrier connects to another carrier’s network, the STP only 
needs to know the point codes on that network. It becomes the other carrier’s responsi-
bility to make sure that connections are made on other networks.
Figure 2.7 In some cases it may be better to connect two SSPs directly via a signaling link. All SS7 mes-
sages related to the circuits connecting the two exchanges are sent through this link. A connection is still 
provided to the home STP using other links to support all other SS7 traffic.
Voice Trunk
Signaling Circuit
SSP
SSP
Figure 2.8 All signaling links are labeled according to their location on the network. There is no real physi-
cal difference between different links other than network management treatment.
A E
E
D
D
D
D
E
F
D
C
B
B
B
D
SCP
SCP
STP
STP
STP
STP
STP
SSP
SSP
SSP
SSP
STP
A
A
A
A
A
A
C
C
A

76      Chapter 2
Link Implementation
The secret to the SS7 network and to making sure that the network is always opera-
tional is to provide alternate paths in the event of failures. These alternate paths pro-
vide the reliability needed in a network of this nature and ensure that SS7 messages 
always reach their destinations (Figure 2.9).
When a node has links to a mated STP pair, the links are assigned to two linksets, 
one linkset per node. Both linksets then can be configured as a combined linkset. A 
combined linkset contains links to both STP pairs, which means that their adjacent 
signaling point addresses (point code) will be different. Combined linksets are used 
for load sharing, where the sending signaling point can send messages to both pairs, 
spreading the traffic load evenly across the links (Figure 2.10).
SSP
SSP
STP
STP
STP
STP
SSP
SSP
SCP
SCP
SSP
SSP
SSP
SSP
Figure 2.9 A typical SS7 network with multiple bridge links (B-links) and access links (A-links).
SSP
Combined
Linkset
STP
STP
Figure 2.10 A combined linkset connects an adjacent pair. Each link in this figure connects to a different 
signaling point but has the same destination.

The SS7 Network      77
Alternate linksets are used to provide alternate paths for messages. An alternate 
linkset or link is defined in the signaling points’ routing tables and is used when con-
gestion conditions occur over the primary links. Figure 2.11 illustrates a typical con-
figuration using alternate links to other nodes in the network, providing diversity in 
the event of node congestion.
Links are labeled according to their relationship on the network. Although there is 
no technical difference between these different links, there are differences in how the 
links are engineered. Six different types of links are used in SS7:
■ A-links
■ B-links
■ Cross links (C-links) 
■ Diagonal links (D-links) 
■ E-links
■ F-links
Access Links (A-Links)
A-links (Figure 2.12) are used between the SSP and the STP or the SCP and the STP. 
These links provide access into the network and to databases through the STP. There 
are always at least two A-links, one to each of the home STP pairs. In the event that 
STPs are not deployed in pairs, there can be one A-link; however, this is highly unusual. 
The maximum number of A-links to any one STP is 16. A-links can be configured in a 
combined linkset that has 16 links to each STP, providing 32 links to the mated pair.
When connecting switches in a network to hub providers, A-links are used. When 
trying to determine how many A-links are required, the easiest formula is to calculate 
the number of access lines supported by the switch. One simple formula is to calculate 
one signaling link for every 9600 access lines. Many other formulas are used, but this 
simple formula will provide close enough results for general use.
SSP
E
F
SSP
SSP
SSP
Figure 2.11 In this figure, the extended links (E-links) and fully associated links (F-links) are alternate links 
that would be used when the primary links become unavailable or are congested.

78      Chapter 2
Bridge Links (B-Links)
B-links are used to connect mated STPs to other mated STPs at the same hierarchical 
level. B-links are deployed in a quad fashion, as shown in Figure 2.13, which is why 
they are often referred to as quad links. A maximum of eight B-links can be deployed 
between mated STPs. Although this practice is followed closely in North America, 
European networks do not use B-links as depicted. Mated STPs are connected to an-
other mated pair via one set of links, but each STP does not have a connection to each 
of the other mated STPs.
Cross Links (C-Links)
C-links (Figure 2.14) connect an STP to its mate STP. C-links are always deployed in 
pairs to maintain redundancy on the network. Normal SS7 traffic is not routed over these 
links, except in congestion conditions. The only messages to travel between mated STPs 
during normal conditions are network management messages. If a node becomes isolated 
and the only available path is over the C-links, then normal SS7 messages can be routed 
over these links. A maximum of eight C-links can be deployed between STP pairs.
Diagonal Links (D-Links)
D-links (Figure 2.15) are used to connect mated STP pairs at a primary hierarchi-
cal level to another STP mated pair at a secondary hierarchical level. For example, 
a carrier may have STPs deployed in every Local Access Transport Area (LATA). 
A
A
A
A
A
A
A
A
Figure 2.12 A-links connect end-signaling points to the SS7 network.

The SS7 Network      79
B
B
B
Figure 2.13 B-links connect a mated pair of STPs to another mated pair of STPs.
C
C
C
Figure 2.14 C-links connect an STP to its mate STP, creating a mated pair. Mated pairs are identical in 
function and configuration and have the capability to assume the traffic of their mate in the event that the 
mate fails. C-links are used to share network management messages and, when no other route is available, 
to signal traffic.

80      Chapter 2
The carrier then could deploy STPs in regions, acting as concentrators. This would 
prevent the need to interconnect every STP to every other STP. The LATAs within a 
defined region all would connect to one STP, which would provide connections to the 
other regional STPs. This hierarchical approach would be found only in very large 
SS7 networks.
Not all networks deploy D-links because not all networks use a hierarchical network 
architecture. D-links are deployed in a quad arrangement like B-links. A maximum of 
eight D-links can be used between two mated STP pairs.
Extended Links (E-Links)
E-links (Figure 2.16) are used to connect to remote STP pairs from an SSP. The SSP 
connects to its home STP pair but, for diversity, also may be connected to a remote STP 
pair using E-links. E-links then become the alternate route for SS7 messages in the 
event that congestion occurs within the home STP pairs. A maximum of 16 E-links can 
be used between any remote STP pairs.
Fully Associated Links (F-Links)
F-links (Figure 2.17) are used when a large amount of traffic exists between two SSPs 
or when an SSP cannot be connected directly to an STP. F-links enable SSPs to use 
the SS7 protocol and access SS7 databases even when it is not economical to provide a 
direct connection to an STP pair.
D
D
D
D
D
D
Figure 2.15 D-links connect a mated pair of STPs to another mated pair of STPs that are deployed on a 
higher level in the network hierarchy. In this figure, the D-links are used to connect to a pair of regional STPs, 
which provide access to a regionally located database.

The SS7 Network      81
E
E
Figure 2.16 E-links connect an SSP with an STP that is not considered its home STP. This is done for di-
versity and provides an alternate route around its home STP pair. This configuration also can be used when 
there is a high volume of traffic to a particular destination to prevent the home STP pair from becoming 
congested.
F
Figure 2.17 F-links connect two STPs directly, enabling signaling traffic to follow the same path as (in 
parallel with) the voice circuits. This is found commonly where there is a large volume of signaling traffic 
(ISUP) between two exchanges. This configuration also can be used when there is no direct access to the SS7 
network.

82      Chapter 2
When traffic is particularly heavy between two end offices, the STP may be bypassed 
altogether, provided that both SSPs are local to each other. Only call setup and tear-
down procedures would be sent over this linkset.
Link Performance
Links must remain available for SS7 traffic at all times and have minimal downtime. 
When a link fails, the other links within its linkset must take the traffic. Likewise, if 
an SS7 entity (such as an STP) fails, its mate must assume the load. This means that 
links can be burdened suddenly with more traffic than they can handle. For this reason, 
SS7 links are engineered for 40 percent bandwidth. The links obviously will handle 100 
percent capacity, but when existing links approach 40 percent capacity, additional links 
should be added.
To determine when additional links are needed, traffic studies should be used. This 
is no different than with voice circuits. Consistent monitoring and measurements of all 
links in the network are crucial to understanding the needs of the network.
You can calculate the number of messages that a link will support by first determin-
ing the average length (in bytes) of each message. For example, if a DS0 link is being 
used, the transmission rate of that link is 56 kbps. If you divide 56,000 bits into 1 byte 
(8 bits), you will see that a link can support 7000 bytes per second. Given this constant, 
you must now consider that the link is engineered to carry 40 percent traffic, which 
comes to 2800 bytes per second.
If the average message length is 40 bytes (as is the case with most ISUP messages), 
your link can carry 70 ISUP messages per second (2800/40 = 70). You can use this 
simple formula to calculate the capacity of any link, which becomes important when 
you are sizing your network.
Calculating link utilization is just as simple. Given the same rules we already discussed, 
you can use the following formula. First, you will need to know the number of bytes (or oc-
tets) sent or received on a link over a specific time frame. Choose any interval, but for this 
example we will use 15 minutes. You also must know the link speed (i.e., 56 or 64 kbps).
Let’s say that over a 15-minute interval there were 151,694 octets sent and received 
on a 56-kbps link. The equation then would be as follows:
[(x/(y/8 × 60 × m))] × 100 
where 
x = the number of octets sent and received 
 
 
y = the link speed
 
  
8 = 8 bits per octet or byte
 
 
60 = 60 seconds in a minute 
 
 
m = the number of minutes
Therefore, the equation for our example would look like the following:
[(151,695)/(56,000/8 × 60 × 15)] × 100 = 2.4 percent utilization

The SS7 Network      83
There are also rules regarding the amount of downtime allowed on a link. A maxi-
mum of 10 minutes downtime a year is allowed for any one linkset. This downtime 
relates to the capability to send SS7 messages to the destination using levels 2 and 3 of 
the protocol stack. These are stringent rules and are specified in Telcordia Publication 
GR-246-CORE.
Physical Link Interfaces
The signaling data links are connected to network equipment using electrical inter-
faces. These interfaces are industry-standard interfaces defined by standards bodies 
such as ITU-TS and the Electronic Industries Association (EIA). The interface type will 
depend on the type of equipment used with the links. For example, if a data service unit 
(DSU) is used, a V.35 interface will be needed to connect the DSU to the signaling point. 
Interfaces operate at level 1 of the SS7 protocol stack and provide the electrical/optical 
medium for transmission of data packets within the SS7 network. The following are 
descriptions of the most commonly used interfaces in the SS7 network. 
V.35
This interface is used commonly from a DSU to the SS7 signaling point. The V.35 in-
terface also can be used from a digital x-connect (DSX) panel. V.35 provides data rates 
up to 56 or 64 kbps. Slower data rates are supported as well.
The V.35 interface was intended originally for use with high-speed modems. Interfacing 
analog modems to a digital line at 48 kbps was the first implementation of this inter-
face. Later, the ITU-TS adopted this interface for use in all digital lines, with data rates 
of 48, 56, 64, and 72 kbps.
The ITU-TS Blue Book considers this interface obsolete and no longer recommends 
its use. Instead, the ITU-TS Blue Book recommends the use of V.36 or other similar 
standards. The V.35 interface is still very common, however, and is found in many 
equipment types (Figure 2.18).
When using a V.35 interface, a clock source must be provided. This clock source typi-
cally is provided by the switch itself, but it can be provided from an external source. 
One side of the V.35 connection must be defined as master (clock source) and the other 
Pin 1 - Protective Ground
Pin 2 - Transmitted Data
Pin 3 - Received Data
Pin 4 - Request to Send
Pin 5 - Ready for Sending
Pin 6 - Data Set Ready
Pin 8 - Receive Line Signal Detect
Pin 15 - Tx Signal Element Timing
Pin 17 - Rx Signal Element Timing
Figure 2.18 The ITU V.35 interface may use a 37-pin or a 15-pin connector.

84      Chapter 2
as slave (uses master clock). If the master side fails, a mechanism should be provided 
to enable the slave to become master and provide its own clocking.
DS0A (Digital Signal 0)
This is a 56/64-kbps channel located in a DS1 (or higher) facility. The link can be carried 
with an existing DS1/DS3 circuit between offices as long as one of the DS0As is dedi-
cated to SS7 signaling. A DSU/CSU is required to terminate the DS1/DS3 and separate 
the various DS0As from the circuit.
The DSU/CSU is usually located close to the entrance point of the digital facility into 
the telephone company building. From there, the various DS0As are cross-connected 
through a DSX to their final destinations.
This is the most commonly used interface in U.S. SS7 networks. Signaling points on 
the network usually have the capability to terminate the DS0A circuit without inter-
face adapters. The maximum cable length for a DS0A is 1500 feet. This limitation is not 
a transmission limitation but a consideration owing to propagation delay. The Telcordia 
requirements also specify the nominal impedance as 135 ohms with a balanced trans-
mission path in each direction.
In the future, DS0A with clear-channel capability may be used. At the time of this 
writing, this standard has not yet been written. However, work is being accomplished 
in the area of 64-kbps DS0s. The designation for a 64-kbps DS0 is DS0C.
Clear channel means that the data source can transmit a full 64 kbps without any 
restrictions on ones density or all zeros. Currently, the DS1 level, which carries the DS0 
signal, enforces the ones-density rules.
Because DS0A is a digital facility, clocking is critical. For this reason, whenever a 
DS0A is used on the SS7 network, the DS0A must be synchronized according to the 
Digital Synchronization Network Plan (TA-NPL-000436, “Digital Synchronization 
Network Plan,” Issue 1, November 1986). Network synchronization was explained in 
Chapter 1.
Synchronization is accomplished at two different levels: bit synchronization and byte 
synchronization. Bit synchronization ensures that the transmitter and receiver are 
operating at the same data rate. Byte synchronization ensures that the receiver can 
define the alignment of frames properly. This is critical in defining the beginning and 
the end of a received frame.
The DS0A used within the central office uses bipolar encoding. The nominal pulse 
width of this signal is 15.6 µs and has rise and fall times of 0.5 ms. Clocking is provided 
by the building-integrated timing system (BITS).
The DS0A interface provides the reliable digital transfer of data. There are no con-
figurable options to worry about in DS0A circuits, except for encoding schemes and 
data rates. The encoding method used will vary from network to network depending on 
the type of multiplexer used.
There has been some discussion about replacing DS0A with a full DS1 interface. This 
would provide 1.544 Mbps on one link. This is not necessary today, but as the traffic mix 
changes and becomes more complex, this may become a requirement.

The SS7 Network      85
The major obstacle in DS0A links is timing. When a DS3 is used between two ex-
changes, four multiplexers must be used (end to end) before the DS0A signal can get to 
the signaling point. Whenever this many multiplexers are present, timing synchroniza-
tion can become a problem.
When the timing on a link is not synchronized between any two multiplexers, the links 
cannot carry data properly because the signaling point will not be able to read the data. 
Remember that timing is used to delineate between bits. If the synchronization between 
any two devices is not correct, it causes the receiving device to see bits that do not exist.
When using DS0A links, the most common problem encountered is related to losing the 
clock synchronization, which causes the links to be taken out of service. The fastest correc-
tion is to reset all the multiplexers and enable them to resynchronize with one another.
High-Speed Links
Three interfaces are defined to support Asynchronous Transfer Mode (ATM) in the 
SS7 networks: Synchronous Optical NETwork (SONET), DS1, and DS3. This provides 
a migratory path for telephone companies looking to deploy ATM in their signaling 
networks. The transmission rates vary.
DS1 supports transmission rates of 1.544 Mbps, whereas DS3 supports transmission 
rates of 44.736 Mbps. SONET supports much higher transmission rates. For SS7 signal-
ing links, transmission rates of 51.840, 155.520, and 622.080 Mbps and 2.48832 Gbps 
have been defined using the ATM Signaling ATM Adaptation Layer (SAAL) protocol in 
place of MTP levels 1 and 2. A subset of MTP level 3 is used to deliver broadband ISUP 
(BISUP) messages over these links. Refer to Telcordia Publication GR-1417-CORE for 
more details on the ATM interface.
Telephone companies can deploy ATM on their SS7 networks in two ways. Currently, 
only the ATM interface has been implemented because SS7 does not require the amount 
of bandwidth provided by the other options.
TCP/IP Links
The industry has moved rapidly toward deploying TCP/IP facilities for the use of 
telecommunications rather than traditional TDM-type circuits. TCP/IP facilities are 
a fraction of the cost of traditional TDM circuits mainly because there is a significant 
difference in how these circuits are billed. Cost is only one factor.
Packet networks are far more efficient than channelized facilities because they provide 
more efficient use of the available bandwidth. In channelized facilities, a 56-kbps link is 
used for one purpose, whether or not the full bandwidth is being used. In packet networks, 
everything is sent over the same facilities, enabling that the full bandwidth is used.
Using TCP/IP for SS7 does present some problems. The TCP/IP protocols do not 
support real-time applications such as voice. SS7 also requires a higher QoS, which 
is mandating changes to the TCP/IP protocols. MTP levels 2 and 3 provide many ser-
vices not currently supported in TCP/IP. The Internet Engineering Task Force (IETF) 
and the ITU are actively defining new protocols to replace MTP levels 2 and 3. MTP2 

86      Chapter 2
User Adaptation Layer (M2UA) and MTP3 User Adaptation Layer (M3UA) replace 
MTP levels 2 and 3, SCCP User Adaptation (SUA) replaces SCCP, and Stream Control 
Transmission Protocol (SCTP) is a peer protocol to TCP.
TCP/IP links use an Ethernet connection at level 1, supporting bandwidth of 10 or 
100 Mbps. Eventually, all networks will be based on TCP/IP, eliminating legacy chan-
nelized equipment. This migration has already begun and is widespread throughout 
the industry both in North America and internationally.
Miscellaneous Interfaces
V.35 and DS0A are the most commonly used interfaces for connecting links to network 
nodes today, and TCP/IP is gaining popularity. Other interfaces are used for intercon-
necting adjunct equipment such as terminals and communications equipment. They 
are mentioned here so that you can understand their use.
RS-232/V.24 The RS-232 interface is a serial interface designed originally for connect-
ing modems to computer equipment. Over the years, the RS-232 has found many other 
uses as a serial interface. Printers, terminals, and other devices requiring a serial in-
terface can use the RS-232. The RS-232 provides a separate transmit and receive path 
as well as flow control. However, there are limitations. The maximum cable distance 
for the RS-232 is 50 feet. In many cases this is not a problem. However, in the central 
office, this may be unacceptable because terminal equipment and switches often are 
placed in different areas. In addition to the distance limitation, RS-232 has a maximum 
data rate of 19.2 kbps.
The signals provided by the RS-232 interface are divided into four categories: data 
signals, control signals, timing signals, and grounds. Data signals consist of transmit 
and receive paths for the user data.
The RS-232 provides eight control signals. Not all these control signals are needed 
because some were developed for use with modems specifically. Request to send (RTS), 
clear to send (CTS), and data set ready (DSR) typically are used with printers and ter-
minals for flow control. Data terminal ready (DTR), ring indicator, data carrier detec-
tor, data modulation detector, and speed selector are all optional control signals used 
specifically for modems. The mechanical requirements of the RS-232C call for a 25-pin 
connector (typically the DB-25 type). Most any connector fitting the application and the 
equipment can be used. The DB-25 is the most common connector used; however, many 
smaller connectors are being sought because equipment is getting smaller.
The electrical requirements of the RS-232C are specified as follows:
Binary 1 Voltage more negative than 3 V 
Binary 0 Voltage more positive than 3 V 
Signal rate  20 kbps
Distance rate 15 m
The functional requirements call for an unbalanced transmission path. One ground 
is provided as a return for both data leads. The other ground is a protective isolation 
ground. Synchronous transmission is accomplished by sending timing signals over the 
leads designated as receiver signal element timing.

The SS7 Network      87
An unbalanced line means that one lead is used to transmit the data while the com-
mon ground is used as the return path. Interference can cause signals to be altered, and 
because the signal path is only over one lead, the voltage difference can be damaging 
to the data. In a balanced circuit, the data are sent over one lead, and another lead is 
used as the return for the same circuit. This means that current is carried in one direc-
tion (data flow) and returned on another lead, creating a complete circuit. Interference 
may occur, but it will not affect both leads. Thus balanced circuits are better for data 
transmission over long distances. RS-232 is limited to short distances because of its use 
of unbalanced transmission circuits.
When a device is ready to send data, the RTS lead goes high. The receiving device 
acknowledges RTS and raises the CTS lead high. These are the minimal signaling 
requirements of the RS-232C. Many other signaling and control leads can be incorpo-
rated, but most manufacturers find that RTS and CTS are all that are needed. Modems 
require most of the leads indicated for reliable transmission.
In a modem configuration, connections are established in a different fashion. Modems 
are used most often by maintenance personnel wanting to connect to a remote SS7 sig-
naling point from their computer workstation. They can then perform maintenance and 
administration tasks from their location. To understand the sequences that take place 
when a modem is concerned, let’s look in more detail at the steps involved.
When the craftsperson is ready to connect to the modem, he or she will choose a com-
munications software application on the workstation. The application will perform the 
steps necessary to connect to the modem. The interface will go through various stages 
before transmission actually begins. When the computer is ready to transmit, the DTR 
lead from the workstation will go high.
The modem now has been alerted that the workstation wants to place a call. The 
workstation will need to send the telephone number of the signaling point to the mo-
dem. This can be accomplished over the transmitted data (TD) pins of the interface. 
The modem then dials the number over the analog telephone line. Most modems will 
have a speaker incorporated into the modem so that the user actually can hear the dial 
tone as the modem goes off-hook and begins dialing the number. This can be extremely 
helpful when trouble is encountered because you can hear whether the call actually 
went through.
When the line begins ringing, the distant modem should detect a ring generator on 
the line. When it detects the ring generator, the distant modem will raise the ring indi-
cator lead to high to alert the signaling point that there is an incoming call.
The signaling point then should raise the DTR lead high to indicate that it is ready 
to receive data. This indicates to the modem that it should answer (go off-hook) and 
establish a connection with the distant modem.
The distant modem then answers the line and places a carrier signal to the calling 
modem. At the same time, the called modem raises the DSR lead high to indicate to the 
signaling point that it has answered the incoming call and is ready to communicate. The 
calling modem then sets DSR high to indicate to the workstation that a connection has 
been established and it is ready to transmit data. The calling modem will return a carrier 
signal to the called modem so that full-duplex transmission can be established. The called 
modem will set the carrier detect (CD) lead high to indicate receipt of a carrier signal.

88      Chapter 2
The workstation then sets RTS high, indicating that it is ready to transmit data. 
The modem responds and sets CTS high. This is an acknowledgment to the worksta-
tion. The workstation then begins transmitting the data in serial fashion (one bit at a 
time) over the TD lead using the carrier signal to send the data. The carrier signal is 
modulated (using any means of modulation) to represent the bit stream in an audible 
tone. The called modem receives the modulated data, demodulates it, and sends it to the 
signaling point over the received data (RD) lead. When the transmission is complete, 
either modem can drop the connection. The RTS lead is set low (off), which causes the 
called modem to set CTS low. The carrier is dropped, and the connection is released.
This entire procedure can be monitored at any end of the circuit by using a breakout 
box or RS-232 monitoring device [a simple device with a series of light-emitting diodes 
(LEDs) for each circuit]. Whenever a modem is connected to a signaling point or any 
other communications equipment on the network, it is strongly suggested that such a 
tool be kept in the toolkit for troubleshooting the connection. Most modem troubles can 
be detected and isolated through the use of such a tool.
V.24 is the ITU version that the RS-232 was designed after. The V.24 interface pro-
vides the same functions as the RS-232 interface plus additional signals for automatic 
calling. In addition to the RS-232 signals, the V.24 provides many more signals for tim-
ing, control, and data transmission.
RS-449 The RS-449 interface was intended to replace the RS-232, providing increased 
distance and higher data rates. However, because manufacturers have been using the 
RS-232 for so long and a large number of these interfaces are already in use today, 
the RS-449 has not shared widespread acceptance. In the PC market, there really is 
no incentive for the RS-449 because distance is not a problem. Devices using a serial 
interface typically are found right next to the computer. However, where distance and 
speed are issues, the RS-449 is a better interface.
RS-449 supports distances up to 200 feet with a data rate of 2 Mbps. In addition to 
the enhanced performance, the RS-449 interface provides 37 basic circuits and 10 ad-
ditional circuits to support loopback testing and other maintenance functions.
The mechanical requirements specified for the RS-449 call for a 37-pin connector for 
the basic interface and a separate 9-pin connector if the secondary channel is used. The 
electrical requirements show a significant improvement over RS-232 interfaces, which 
are limited to an unbalanced line.
The RS-423-A standard specifies an unbalanced mode for the RS-449 interface, 
whereas the RS-422-A standard specifies the balanced mode. In a balanced mode, the 
electrical characteristics are as follows:
100 kbps at 1200 m
10 Mbps at 12 m
In an unbalanced mode, the performance is not as good, but it is still an improvement 
over the RS-232 standard. In unbalanced mode, the performance rating is as follows:
3 kbps at 1000 m
300 kbps at 10 m

Chapter
3
Overview of a Protocol
Before looking at the Open Systems Interconnections (OSI) model, let us examine the 
functions of a protocol. A protocol is a set of rules governing the way data are trans-
mitted and received over data communications networks. Protocols must provide reli-
able, error-free transmission of user data as well as network management functions. 
Protocols packetize the user data into data envelopes. Some have fixed lengths and 
others have variable lengths depending on the protocol used.
Protocols are used whenever a serial bit stream is used. The protocol defines the  
order in which the bits will be sent and also appends information for use in routing and 
managing the network. This appended information is only used by the protocol and is 
transparent to the user.
Some protocols, such as Signaling System 7 (SS7), actually send predefined messages 
to the other nodes in the network. Messages can be used at any layer above layer 1 
and are found commonly at layers 2 and 3. A typical example of a protocol message is 
the initial address message (IAM) sent by the SS7 protocol to establish a connection 
on a voice circuit between two end offices. Other messages exist for SS7 and will be 
discussed in greater detail in later chapters. Predefined messages are an excellent way 
to send network management functions and handle data error procedures.
Other functions of a protocol include the segmentation of blocks of data for easier 
transmission over the network and reassembly at the receiving node. When sending 
multiple blocks of associated data, procedures must be provided that enable the blocks 
to be identified in the order they were sent and reassembled. In large networks, these 
data blocks can be sent in order but are received out of order.
There are three basic modes of operation for a protocol depending on the type of net-
work. A circuit-switched network protocol establishes a connection on a specific circuit 
and then sends the data on that circuit. The circuit used depends on the destination of 
the data. A good example of a typical circuit-switched network is the Public Switched 
Telephone Network (PSTN), which uses various circuits for the transmission of voice 
from one exchange to another.
89

90      Chapter 3
Once the transmission has been completed, the circuit is released and is ready to 
carry another transmission. The protocol must manage the connection and release it 
when transmission has been completed. It also must maintain the connection during 
the data transmission.
Another type of network is a local-area network (LAN). LANs use different types of 
protocols, but the method of transmission is usually very similar. A LAN usually has a 
bus topology or a ring topology. In both topologies, the data are transmitted out on the 
LAN with an address attached in a protocol header.
When a data terminal recognizes its address, it reads the data. Some mechanism 
must be used within the protocol to remove the data from the LAN once it has been 
read. This differs from one protocol to the next. These types of networks only permit 
one message at a time to be transmitted across the LAN.
Packet-switching networks provide multiple paths to the same destination. Each 
message has an originating and a destination address. The addresses are used to route 
the message through the network. Unlike LANs, a packet-switched network enables 
many messages to be transmitted simultaneously across the network.
The circuits used for this type of network are always connected, and transmission 
takes place continuously. The direction the message takes from one node to the next 
depends on the packet address. Each packet provides enough information regarding 
the data to enable the packet to reach its destination without establishing a connec-
tion between the two devices. The X.25 and SS7 networks are both packet-switched 
networks. Several layers of addressing are used in any protocol stack. Typically, at least 
three layers of addressing can be found. Each device on the network must have its own 
unique physical address. The node address identifies the particular device within its 
own network. The layer 2 protocols use this address because they are responsible for 
routing one device to the next adjacent device.
The next address layer is that of the network itself. This address is used when send-
ing messages between two networks. This address usually can be found in layer 3 of 
most protocols. The network address is used by those devices that interconnect two or 
more networks (such as a router).
Once a message reaches its final destination, the logical address within the destina-
tion node must be provided to identify which operation or application entity within the 
node should receive the data. An application entity is a function within a network node, 
such as file transfer or electronic mail. Application does not imply something like word 
processing (in the network sense).
In the SS7 network, application entities are objects such as IS-41, which enables 
mobile switching centers (MSCs) in the wireless network to exchange data from one to 
the other using the services of SS7 protocols.
As the information is handed from one layer to the next, the protocol appends control 
information. This control information is used to ensure that the data are received in 
the same order in which they were sent and enables the protocol to monitor the status 
of every connection and automatically correct problems that may occur.
Control information includes sequence numbering and flow control. This function is 
usually found at layers 2 through 4, but it also can be found at higher layers. In the SS7 
protocols, levels 2 through 4 provide varying levels of control.

Overview of a Protocol      91
As mentioned earlier, segmentation and reassembly are also tasks of the protocol. 
This is necessary when large blocks of data must be transmitted across the network. 
Large blocks of data can be time-consuming, and if an error occurs during transmission, 
they can cause congestion on the network while retransmitting.
For this reason, blocks are broken down into smaller chunks, which make it faster 
and easier to control and transmit through the network. When a retransmission be-
comes necessary, only a small portion of the original data must be retransmitted, saving 
valuable network resources.
Encapsulation is the process of appending the original data with additional control 
information and protocol headers. This information is stripped off the message by the 
receiving node at the same layer it was appended. This information is transparent to 
the user.
Connection control is one of the most important tasks of a protocol. Connections usu-
ally must be established not only between two devices but also between two application 
entities. These logical connections must be maintained throughout the data transmis-
sion. The establishment of a logical connection ensures reliable data transfer. The use 
of positive and negative acknowledgments informs the adjacent node of transmission 
status. Sequence numbering is also used in these types of services to ensure that data 
are received in the same order in which they were transmitted. This type of protocol 
service is referred to as connection-oriented. Each node may have multiple logical con-
nections established at one time.
When the data transmission is complete, the logical connection must be released to 
enable another application entity to establish a connection and transmit data. Protocol 
messages (such as connect requests and disconnects) are used to manage these logical 
connections.
Connectionless services are supported in many protocols. Connectionless services 
enable data to be transmitted without establishing a logical connection between two 
application entities. The data are simply transmitted with enough information to en-
able the receiver to know how to process the data.
Sequence numbering and retransmission are not used with connectionless services. 
This type of service is not reliable and typically is found in applications such as elec-
tronic mail.
The SS7 network provides support for both types of services but uses mostly connec-
tionless services for data transfer. However, despite its use of connectionless services, 
the protocol in SS7 provides mechanisms that enable the emulation of connection- 
oriented services.
Flow control is used in most protocols to control the flow of messages to a particular 
node. This function is particularly important in SS7 networks because it is used to pre-
vent congestion in any one signaling point. With flow control, protocol messages can be 
used to alert adjacent nodes of the congestion situation and invoke rerouting functions. 
Stopping the flow of messages to any one node is also necessary in some cases when a 
node becomes unavailable and is unable to process messages. The protocols in SS7 are 
able to perform this task without human intervention. Often, congestion or outages can 
occur and routing can be changed without anyone even knowing what occurred until 
after the events have taken place and the problem has been resolved.

92      Chapter 3
Error detection and correction are ways for protocols to determine if the data they 
are carrying have been corrupted. The methods for error detection vary, but they almost 
always rely on some technique such as a cyclic redundancy check (CRC). This runs an 
equation on the bit stream before it is transmitted and places the sum into a check-sum 
field. When the data are received by the distant node, the same equation is run on the 
data again. The receiving node then checks the sum and compares it against the sum 
in the check-sum field. If they match, no error occurred. If they do not match, then an 
error occurred, and the packet or data are discarded.
Overview of the OSI Model
The OSI model was developed and published in 1982 by the International Standards 
Organization (ISO) for use in mainframe environments. This protocol provides the pro-
cedures and mechanisms necessary for mainframe computers to communicate with 
other devices, including terminals and modems. Because the OSI model was developed 
after SS7, there obviously will be some discrepancies between the two protocols. Yet the 
functions and processes outlined in the OSI model were already in practice when SS7 
was developed (such as layering protocol functions).
The OSI model divides data transmission into three distinct functions. There is the 
application itself, which is not included in any of these three functions. The application, 
or process, may be something like file transfer or electronic mail. The process is the user 
of the protocol and the entity transmitting data over the network.
The process will depend on a service or function within the protocol that will allow 
it to pass its data to the network for transmission. Before this can happen, informa-
tion must be appended, and certain tasks must be performed first. These tasks are the 
responsibility of the process layers.
The process layers use protocols that are unique to the application that uses them. 
The application has specific requirements of the protocol, yet the protocols used at the 
lower layers need not be concerned with any of these functions, so they remain inde-
pendent and transparent to the process layers.
The process layers interface with the transport layers, which provide the mechanisms 
necessary to reliably transfer data over the network. The transport layers include error de-
tection and correction, as well as other tasks such as sequencing the individual segments.
Process layers are not dependent on any particular network protocol. In fact, a suc-
cessful protocol should be able to use the services of any network protocol. This is the 
main objective behind the OSI model. The various layers should be independent of one 
another and be able to use any protocol over the network.
The network protocol provides the mechanisms for actually routing the data over the 
network and getting the data to the destination node. The network protocol has no knowl-
edge of the process addresses and does not work with any of the transport information. 
Its only concern is moving the packet from one node to another node within the net-
work. Routing is accomplished by reading the device address and the network address. 
This is the only information needed by the network protocol. Some sequencing also may 
be used, but this is not to be confused with the sequencing used by the process layers.  

Overview of a Protocol      93
The sequencing at this layer is used simply to ensure that all the packets that were trans-
mitted were indeed received. The numbering does not necessarily imply any order.
The network protocols usually are divided into two parts: node-to-node transfer and 
network-to-network routing. Node-to-node transfer is concerned only with the trans-
mission of a data packet between two physical entities. This takes place over a physi-
cal connection between the two entities, which ensures that the sequenced data are 
received in the proper order.
The network-to-network part is concerned with the routing of information between 
two networks. This layer typically uses the network addressing and is not concerned 
with the device address in many cases. In fact, with many LAN protocols, the network 
layer does not know the device address because it is located in a different layer of the 
protocol header.
This layered approach provides specific functions and is used for specific applications. 
By using a layered approach, changes to the protocol do not affect all the layers. This is 
important to network users. Network equipment works at specific layers rather than at 
all layers. If a change is made to the protocol, the equipment needs to be changed only 
if the change affects the layer at which the equipment operates.
As you look at the OSI model, you will begin to see how the tasks assigned at each 
layer easily can be independent of the other layers. Begin thinking of simple devices 
used in networks (such as routers and bridges) and what their functions are in the 
network, and then match these devices to the layer at which they operate.
The OSI model addresses all the functions previously mentioned and divides the func-
tions into seven different layers. Each layer provides a service to the layer above and 
below it. For example, the physical layer provides a service to the data-link layer. The 
data-link layer provides a service to the network layer. Yet each layer is independent, 
and if the function changes at any one layer, it should not affect the other layers.
The OSI model defines the following seven layers, as shown in Figure 3.1:
■ Physical (layer 1) 
■ Data link (layer 2) 
■ Network (layer 3) 
■ Transport (layer 4) 
■ Session (layer 5) 
■ Presentation (layer 6) 
■ Application (layer 7)
First, we will look at the bottom layer: the physical layer.
Physical Layer
The physical layer is the layer responsible for converting the digital data into a bit 
stream for transmission over the network. The physical layer must provide the elec-
trical characteristics needed to transmit over the interface being used. Conversion of 

94      Chapter 3
the digital signal from electrical to audible (as in the case of a modem) and even light  
(as in fiberoptics) is the responsibility of the physical layer.
The responsibilities of the physical layer can be divided into several tasks. The most 
basic of these tasks is mechanical. The interface itself is a mechanical connection from 
the device to the physical medium that will be used to actually transmit the digital bit 
stream.
The mechanical specifications depend on the standard used. An RS-232 interface 
may use a DB-25 type of connection, whereas a V.35 may use an AMP connector. The 
mechanical specifications do not specify the electrical characteristics of the inter-
face. The electrical characteristics are called out separately and do not depend on the  
connector.
The electrical characteristics of an interface depend on the medium being used and 
the type of interface. Other factors, such as distance and the type of signals being trans-
mitted, also play an important part when choosing a standard. The electrical properties 
of an interface include the signals used to actually transmit the bit stream and the 
control signals used to maintain the connection.
In the case of interfaces such as RS-232 and V.35, the data are transmitted on sepa-
rate wires from the control signals. These control signals have nothing to do with the 
control information found in the upper layers of the protocol. In fact, they are also 
completely independent of the upper layers.
Application
Entity
Application
Entity
Application
7
6
5
4
3
2
1
7
6
5
4
3
2
1
Presentation
Session
Transport
Network
Data Link
Physical
Network
Network
Data Link
Physical
Application
Presentation
Session
Transport
Network
Data Link
Physical
Figure 3.1 The OSI model defines seven layers of functions. The first three layers are primarily network 
functions that are used to transport information from source to destination.

Overview of a Protocol      95
The control signals at the physical layer are hardware-controlled and are used for 
flow control and maintaining a connection between the two devices. These signals may 
include data terminal ready (DTR) or request to send (RTS).
The upper layers have no knowledge of the control signals at the physical layer and 
do not attempt to influence their status at any time. The physical layer must be able to 
work on its own. This independence enables changes to be made to the physical layer 
(such as changing an interface type) without affecting the upper layers.
Although the control signals are independent of the upper layers, the physical layer 
has the responsibility to report any error conditions or line-loss events to the data-link 
layer. For example, if a clock signal is suddenly lost on the interface, the physical layer 
will report the loss of clock to the data-link layer, which should invoke some sort of  
error-recovery procedure (usually a reset of the hardware).
Electrical signals in their purest form consist of two states: on or off. To be more 
specific, an interface uses two voltage levels to represent binary digits. These levels 
remain constant until the binary digit changes to an opposite value. This is known as 
nonreturn-to-zero (NRZ). As long as a binary 1 is being represented, the voltage level 
remains high. When a change in the bit stream appears and a binary zero occurs, the 
voltage level changes to low.
Two terms are used to describe these transitions. The bit rate is the number of actual 
bits that can be transmitted over a line in 1 second. This is significantly different from 
the baud rate. The baud rate has nothing to do with the digital connection. A baud 
is a measure of analog transitions that occur when using a device such as a modem. 
When using a modem, the digital signals are converted into analog audible tones that 
are transmitted at varying frequencies over the telephone line. Each time there is a 
frequency change, this is known as a baud. Understanding this fundamental difference 
between these two terms is important.
Many professionals mistake the two terms as being the same. Actually, it is quite 
possible to have a baud rate that is higher than a bit rate. When speaking of all-digital 
facilities, where modems are not used, the proper term is bit rate. The baud rate is 
measured after the digital interface on the analog side of the line.
Line encoding is the process of altering the bit stream to force more transitions or 
fewer transitions depending on the method of line encoding used. Line encoding be-
comes necessary for two reasons.
Digital signals cannot travel long distances and maintain their voltage levels. After 
some distance, the voltage level begins to drop. This can be critical when there are long 
series of consecutive 1s. To correct this problem, additional power can be applied to 
increase the wattage, which provides more push to the signal. This is also unfavorable 
because it requires larger power supplies, which give off more heat.
The optimal solution is to be able to use low power and maintain communications over 
long distances. Many types of line encoding are available to accomplish this. The simplest 
method is called alternate-mark inversion (AMI). With AMI, every occurrence of a binary 1 
causes the voltage level to change. For example, if the voltage level is at a positive level 
and there is another binary 1 in the bit stream, then the signal changes to a negative 
value. The use of negative voltages enables lower power requirements to be met.

96      Chapter 3
Many other methods are used at the physical layer to overcome problems that occur 
when transmitting digital signals over long and short distances. None of these tech-
niques is defined in the OSI model. The OSI model simply defines the processes that 
must take place, the various functions of the physical layer, the mechanical and electri-
cal descriptions, and the services provided by the interface.
Data-Link Layer
The OSI model defines the data-link layer as the means to provide reliable communi-
cations between two devices. It is important to understand that the data-link layer is 
only concerned with the data transmission between two devices, not the entire network. 
Communications through a network are handled at a higher layer.
The data-link layer provides the services and functions necessary to transmit a bit 
stream between two devices using some method of sequencing and error detection and 
correction. Any management functions provided are only from the perspective of the 
physical interface used to interconnect the two devices. There is no knowledge of any 
other connections to the two devices from the perspective of the data-link layer.
In addition to providing the services for reliable data transfer between two devices, 
the data-link layer also must interface with the network layer above it and the physi-
cal layer below it. This is accomplished through the use of primitives. A primitive is a 
protocol between two layers. Because this interface is primarily software-controlled, 
these primitives remain transparent to the end user.
The primitive to the network layer is used to pass received data from the physical 
layer to the network layer. Before these data are passed along, any information ap-
pended by the data-link layer at the distant device must be removed. This includes 
sequence numbers and check-sum fields.
When data are to be transmitted, the data are passed to the data-link layer from the 
network layer using this same interface. The data-link layer then must append infor-
mation to the original data. This information may include a device address, sequence 
number, and check-bit sum. The address does not have to be that of the adjacent device. 
In fact, it would not make much sense if the address always was that of the adjacent 
device because that is the only destination known at this layer.
The destination address usually is the final destination for this data transmission. 
When received by another device, the device must search a routing table to determine 
how to route the data to the destination address provided at the data-link layer.
Not all protocols use addressing at the data-link layer. In SS7, the addressing is 
somewhat different from that of other protocols. This will be discussed with the net-
work layer because the routing function typically is found at layer 3, the network layer. 
Sequencing in SS7 is provided at layer 2 to ensure that data are received in the same 
order in which they were transmitted. If data transmission always was reliable and 
never errored, sequencing would not be necessary. However, this is never the case, and 
data transmission can get lost. When this occurs, the distant device has no indication 
that data were transmitted and lost.

Overview of a Protocol      97
Sequence numbering in SS7 provides a mechanism by which the distant device can 
tell if data were transmitted and then lost because the next data packet received will 
contain a sequence number that is not sequential with the previously received packet. 
Sequence numbers can be of any range, although they usually fall within two ranges. 
Modulo 8 provides sequencing in the range 0 to 7. Modulo 128 provides sequencing in 
the range 0 to 127.
However, even though the protocol enables 127 packets to be transmitted without 
acknowledgment, very few networks will permit this. A window size is configured in all 
network equipment to prevent the retransmission of too many packets. The idea is to 
send a burst of packets (15, for example) and, if acknowledgment is not received after  
n seconds, to retransmit the 15 packets. This is better than retransmitting 115 packets.
When acknowledging receipt of a message, the sequence number of the received packet 
is provided in the acknowledgment. Not every sequence number is acknowledged individ-
ually. One acknowledgment can be sent for a range of sequence numbers. For example, if 
an acknowledgment is sent with the sequence number of 6 and the last acknowledgment 
had a value of 3, the acknowledgment is for sequence numbers 4, 5, and 6.
Errors can be detected by using a check-sum field. When an error is detected, the 
recovery procedure requests a retransmission from the originator of the errored packet. 
The errored packet then is discarded. Many methods are available for requesting a 
retransmission depending on the protocol used.
When a message is received, the data-link layer must determine where the packet 
begins and what type of packet it is. Some sort of delimiter or flag precedes each packet. 
A flag is a specific bit pattern used before every packet. This bit pattern may never be 
duplicated in the packet itself because the data-link layer will consider that octet as 
the beginning of a new packet.
For this reason, whenever a pattern is used for a flag, there must be some technique 
for ensuring that the bit pattern is never duplicated. The most common method is the 
use of bit stuffing. Bit stuffing inserts a bit in a fixed location (such as after every fifth 
consecutive binary 1).
The packet type will vary depending on the protocol. In some protocols, there are many 
different types of packets. A packet may be a supervisory packet, information packet, or 
unnumbered packet. SS7 uses three types of packets (called signal units in SS7).
The most important function of the data-link layer is link management. The data-
link layer must be responsible for the integrity of the data link. When an error is dis-
covered by the physical layer (such as a loss of timing), the data-link layer is notified. 
The data-link layer then invokes some method of error recovery to restore the link. In 
the case of a loss of timing, the link may be taken out of service and then reset. This 
enables the link to realign itself with the source clock.
Flow control is an important part of link management. In the data-link layer, flow 
control can be performed through the use of protocol messages. In SS7 networks, spe-
cial signal units are used with protocol messages that indicate congestion conditions 
at an adjacent node or that an adjacent node is out of service and unable to process 
any messages.

98      Chapter 3
Flow control initiates the rerouting of messages by the upper layers of the protocol 
stack so that messages will not be lost. This is not a function of the data-link layer, but 
the data-link layer must report congestion and out-of-service events to the network 
layer so that routing procedures can be invoked.
So far we have only discussed the procedures of a point-to-point configuration. Not 
all protocols and networks use point-to-point configurations. Many network topologies 
also may use multipoint configurations that have duplex or half-duplex transmission. 
The data-link layer is affected by the configuration, and its services and functions will 
differ depending on the configuration.
For the purposes of this book, we will only discuss point-to-point transmission be-
cause all SS7 networks use point-to-point configurations between signaling points. A 
full-duplex link enables transmission in both directions simultaneously, as is the case 
in SS7 networks. This requires two separate paths per link. A half-duplex link uses only 
one path, but simultaneous bidirectional transmission is not possible.
SS7 networks use a simple data-link layer protocol. Because of the point-to-point con-
figuration and the nature of the transmissions, this layer does not require much complex-
ity. In other networks, it may be necessary for the data-link layer to inquire before send-
ing a data packet. Without a positive acknowledgment, transmission cannot take place.
In SS7, data are transmitted continuously from a variety of sources. This transmis-
sion is always asynchronous in nature and does not require a session to be established 
with the receiving device. In fact, SS7 protocols are all connectionless-type protocols. 
Connection-oriented services are not used in today’s SS7 networks.
Network Layer
The network layer provides routing services for data packets received from another 
node. In the case of a packet-switched network, packets may come into a node from a 
variety of locations. It is up to the network layer to examine the destination address 
and determine the link to be used to reach that destination.
The network layer is responsible for data transmission across networks. The trans-
port layer provides a connection to an entity within a device, whereas the network layer 
provides a transparent transfer of the data for the transport layer. The network layer 
helps the transport layer free itself from the worries of internetwork data transfer.
There are two methods of reaching a destination. Some protocols require the estab-
lishment of a virtual connection with another node. Other protocols use datagrams, 
which are packets of information that contain all the control information necessary to 
advise the destination about how to process the received packet.
A virtual connection is established by sending a call request to another node. The 
purpose of the virtual circuit is to establish a consistent path through the network for 
all associated messages to follow. This method is used to overcome the inherent problem 
with packet switches, routing associated messages in multiple directions resulting in 
packets being received out of sequence.
When a virtual circuit has been established, the packets that follow use the same path 
through the network, ensuring that all messages are received in the same sequence they 

Overview of a Protocol      99
were sent. This method is not favorable because it reduces the reliability factor in the 
network. If a node in the path becomes congested, messages are delayed. If a circuit fails, 
there are no alternate circuits, and the message is lost.
Many packet-switching networks use datagram services to route packets throughout 
the network. This enhances the performance of the network because messages can be 
routed dynamically based on the status of the circuits and the nodes in the network. 
When congestion occurs at any one node, messages are quickly rerouted in another 
direction, avoiding the congested node.
This is much like the routing used in SS7. Although SS7 uses a datagram-type ser-
vice, it also uses certain procedures for specific types of messages that emulate a virtual 
circuit. The difference is in the network management of SS7. Even though a message is 
routed over a virtual circuit, if a circuit fails in that path or a node becomes congested, 
it can be rerouted. SS7 enjoys the best of both worlds.
The addressing at this layer typically incorporates a multitier addressing scheme. 
The station or nodal address is found in the data-link layer, whereas the network layer 
provides a higher level of addressing. Above the network layer is yet another layer of 
addressing: the logical connection, which is the final destination for all protocol mes-
sages. The logical address resides within a network entity.
SS7 addressing differs from this in that all addressing is located within the network 
layer. Addressing the node, the network, and even a group of signaling points within a 
regional area is accomplished with what is called a point code. The point code uniquely 
identifies all entities in the ANSI SS7 network.
Quality of service (QoS) is a parameter that is used by the routing function to identify 
the quality of transmission that must be provided. For example, if a particular message 
requires sequencing and special handling, the network layer must identify the level of pro-
cessing required to route the message throughout the network. This parameter is used by 
the network management function when congestion occurs or when messages get lost.
The SS7 protocol provides several mechanisms for QoS, including a priority param-
eter for prioritizing message types. The priority of a message determines when a mes-
sage can be discarded and when it must be routed no matter what.
There are also network management functions at the network layer. When we dis-
cussed the data-link layer, we discussed management procedures at the link level. 
Remember that the data-link layer has no knowledge of the rest of the network. It is 
only concerned with the adjacent node to which it is connected.
Link management is the sole responsibility of the data-link layer. As we discussed 
earlier, the status of the link is not broadcast throughout the network. This is of local 
significance only. However, if the status of the node itself should be affected (perhaps 
by causing congestion), then the rest of the network must be notified.
This is the responsibility of the network layer. The network layer sends network 
management messages throughout the network or, at least, to all its adjacent nodes to 
inform them of degrading service at that node. This enables other nodes to make deci-
sions about routing messages in different directions around the troubled node.
In many cases the affected node sends a network management message to all its ad-
jacent nodes. They, in turn, must decide whether or not another network management 

100      Chapter 3
message needs to be sent to all their adjacent nodes, hence broadcasting out to the rest 
of the network. This usually depends on the type of network management message that 
is received.
As is the case with all levels, an interface to the layer above and below it is necessary. 
The OSI model talks about the use of service data units (SDUs). These are messages 
sent between layers of the protocol stack that contain the actual user data and infor-
mation appended by the protocol (such as control information). This is passed in either 
direction depending on the flow of the message. If a message has been received, it is 
always passed in the upward direction. If a message is being prepared for transmission, 
it is always passed in the downward direction.
In networks that use point-to-point architecture, there is little use for a network 
protocol. This is certainly the case in LANs. For this reason, protocols used in LANs do 
not use this layer unless other networks are bridged to the LAN. When other networks 
must be accessed by the LAN (internetworking), the network layer becomes a necessity. 
In the SS7 network, the network layer is also important because this network consists 
of many individual networks all bridged together.
The OSI model also talks about the difference between data terminal equipment 
(DTE) and data communications equipment (DCE). In OSI terms, the DTE is an entity 
that originates a data message and uses the services of the network to send these data 
to their destination—another DTE.
The DCE is the network device responsible for the actual handling and relaying of 
the message through the network. A DCE device can be a modem, router, packet switch, 
or any other intermediate node in the network for which the message is not the destina-
tion. The purpose of the DCE is to route the message to its destination, nothing else. A 
DTE device is further defined to work at all seven layers of the OSI model, whereas a 
DCE device works only at the first three layers of the OSI model. These first three lay-
ers are the only layers necessary for actually transmitting data over the network.
In these simple terms, we can easily identify the service-switching point (SSP) in the 
SS7 network as a DTE device. The signaling-transfer point (STP) could be considered 
a DCE (although there are some functions of the STP that also might qualify it as a 
DTE). The service-control point (SCP) could be considered a DTE.
The easiest way to remember this is to identify the endpoints of the network. The 
endpoints are where messages originate and terminate. The intermediate devices in 
the network work only at the first three layers and are considered DCEs.
In the world of networking, one of the most difficult achievements is the ability to 
interwork with other networks despite the differences in the protocols. This means that 
network layer and data-link layer procedures must be converted. Conversion is not as 
simple as it may seem. Frequently, one protocol may have procedures and functions 
that are not found in another.
When a message is received into a network from another, unlike the network layer, 
the interface between the two networks (the gateway) must provide direct one-to-one 
mapping of the message and all its parameters to the equivalent in the other protocol. 
This can be difficult if such procedures and parameters do not exist and have no equiva-
lents. The rule is to try to provide some sort of alternative when possible.

Overview of a Protocol      101
The conversion always must be transparent to the upper layers, which are not typi-
cally affected. Remember that the network layer operates independently of the upper 
layers, providing a service to the upper layers. When this service changes, the upper 
layers should not be affected.
In the SS7 network, interworking sometimes occurs at all levels of the protocol stack. 
Not only does the network layer require conversion, but the application layers also 
must be converted in order for the upper layers to be compatible between networks. 
This is done through the use of gateway STPs or protocol converters.
Understanding the network layer can help you to understand the routing and net-
work management that must take place within any network. Let us now take a look at 
the transport layer.
Transport Layer
The transport layer is used to ensure reliable communications over the network. This 
means that data must be received without error, in sequence, and without the loss of 
segments. The transport layer can be sophisticated or simple. However, if layer 3 is not 
capable of providing reliable transfer of data, then layer 4 must possess the capability 
to fulfill the role.
In essence, the transport layer relies on the reliability of the network layer so that it 
does not have to concern itself with this role. When a reliable network layer is provided, 
the transport layer is very simple. However, when the network layer is not reliable, the 
reliability factor must be built into the transport layer. Such is the case with protocols 
such as Frame Relay, which does not use any of the control parameters found in other 
protocols.
Addressing at this layer consists of the service access point (SAP). The SAP is a logical 
address within a node. The logical address is the interface from the network segments 
of the protocol to the upper layers.
Because the connection is taking place between two different devices, the trans-
port layer must have some knowledge about the addresses in the other device. 
This is accomplished in a couple of different ways. The easiest method is to use 
predefined addresses for common entities. By using predefined addresses, all sys-
tems can address logical entities at the transport layer without having to query 
the distant device about addressing. Another method is to broadcast the address 
any time a new function is added. This is commonly used in some LAN protocols 
today and enables functions not commonly used or too specialized to be predefined 
to notify other nodes of their function and address. The transport layer is the only 
layer that needs this information because it is responsible for the connection and 
termination.
The OSI model also talks about a naming convention in which the particular task 
or logical function is called by name. This means that another device must provide the 
lookup capability of finding the physical address for the task name. This is used com-
monly in SS7 networks, where the signaling points may not know the actual address 
but know the task with which they want to interface.

102      Chapter 3
This is a very favorable method in large networks because it enables nodes to route to 
a function without having to know every address in the network. If another entity can 
provide the physical address, it saves memory space at each of the end nodes.
In X.25 networks, the transport layer also provides a multiplexing service. Virtual 
circuits may be used by many users, but only one transport service is used by all. 
The transport service must be able to multiplex its services among the many different  
users, even if they all come in on the same link. The transport service then splits the 
users to their various SAPs.
This function is not used in SS7 networks. In fact, the transport layer function is not 
even defined in SS7 today. As we will discuss a little later, the transport layer is not used 
in SS7 networks because SS7 does not currently support connection-oriented services. 
Connection-oriented services, even with reliable network protocols, require the services 
of the transport layer to ensure connection establishment and maintain the connection. 
Flow control is included in this layer to manage the data flow through the connection. 
The data flow is controlled to the layer below, the network layer.
It is clear that the OSI intended the transport layer to be used as a backup to the 
network layer, providing additional mechanisms for reliable data transfer. In today’s 
networks, this is not an issue. Today’s networks use reliable media and do not suffer 
from the maladies of networks 5 years ago. This is certainly evident to those who use 
modems for network access.
Not too many years ago, modem transmission was very unreliable at high speeds. 
Today, modem speeds of 14.4 kbps are possible because the telephone circuits have been 
improved. This is also the case with network media.
With protocols such as Frame Relay, where there are no control parameters, the 
transport layer becomes important. The philosophy in many of these networks is to let 
the upper layers worry about flow control and error detection/correction. This enables 
the lower layers to be simple and thus faster and cleaner. With dependable facilities, 
error detection does not become much of an issue.
Session Layer
The session layer is responsible for establishing a dialog, or session, with another en-
tity. The session layer also must define the type of dialog to be established. This in itself 
implies a connection-oriented service.
The session layer also provides flow-control procedures. Flow control at this layer is 
imposed on the interface to the transport layer. The peer entity at the remote destina-
tion does not interact with this flow control because it is of local significance only.
The session layer also manages what is called synchronization points. These are 
dialog units. An example of a dialog unit may be multiple file transfers, with each file 
representing one dialog unit. For example, if an entity needs to send several files to 
another remote entity, the session layer can establish each file as one synchronization 
unit. The entity can require that an acknowledgment be received for each synchroniza-
tion unit before another can be sent. This is to ensure that each file is received properly 
before sending more data.

Overview of a Protocol      103
If a large data transfer is to take place and the transmission must be interrupted 
(for maintenance purposes or another task of a higher priority), the session layer must 
remember where the file transfer was interrupted so that it may start up at the place 
it left off. The session layer is not responsible for saving any data received; it is only 
responsible for marking the place of interruption and continuing on from that point.
The OSI model also specifies the use of a token at the session layer. The token is 
passed by the session layer to grant permission to transmit data. Several types of 
tokens are defined. One token grants permission to transmit data, another sets the 
synchronization points, and a third releases a connection.
Tokens are passed from one session layer user to another. Only the holders of a token 
may transmit data (if they are holding the data token). The holder of a token also may 
pass the token to the adjacent user.
As with the transport layer, the session layer is needed only when using connection-
oriented protocols. If only connectionless services are provided, there is no reason to 
use this layer. In SS7 networks, the session layer is not necessary because SS7 does not 
support connection-oriented services.
Presentation Layer
While the application layer is concerned about the user’s perspective, or view, of data, 
the presentation layer concerns itself with the view taken by the lower-layer protocols. 
Data encryption and compression are found at this layer.
Perhaps the best description of the presentation layer is to consider the function of 
compression. If data must be compressed before they are transmitted over the network, 
the presentation layer must perform the compression and provide a format (or syntax) 
that the session layer is going to be able to use.
The syntax of the data at the presentation layer does not necessarily match that of the 
layer above. The only requirement at this layer is to provide the data in a syntax that can 
be sent over the network and received at the distant node. The peer presentation layer at 
the distant node must be capable of decompressing the data for the upper layers.
Another function at this layer is encryption. Encryption involves scrambling the data 
in some format that can be descrambled at the distant end. The purpose of encryption 
is to provide security over the network.
The encryption technique used must be transparent to the session layer and to all lay-
ers below it. The presentation layer at the distant end is responsible for descrambling the 
data. In today’s networks, encryption and compression are about the only applications 
really suited for this layer. In previous networks, where mainframes had to communicate 
with terminals, the presentation layer was used to present the data on the terminal.
Syntax is used by programmers who must write the procedures in software code for 
the various network devices. A standard notation for data is used in most programming 
languages. This layer uses an abstract syntax [such as Abstract Syntax Notation One 
(ASN-1)] to represent data types.
ASN-1 is the syntax used in SS7 applications. This syntax is found commonly in 
many network protocols and is used widely throughout the industry.

104      Chapter 3
Application Layer
The application layer in the OSI model is the interface between the application entity 
and the OSI model. This interface is the first stage in processing the received data for 
transmission over the network.
The services listed in the OSI model relating to the application layer include informa-
tion transfer, identification of the intended receiver, availability of the receiver, and any 
other functions not already defined in the lower layers. Some examples of applications 
provided by the application layer include file transfer, job transfer, message exchange, 
and remote login. This layer also ensures that once an addressed entity commits to 
another entity, it cannot be interfered with by another entity. A database could be left 
in an unknown state if this were allowed.
Another principle to remember about this layer is that the application layer views 
data from the same perspective as the user. In other words, whereas the rest of the lay-
ers view the data from a network transmission perspective, this layer must view the 
data the way the user will see them. Thus the data must be reconstructed as they were 
originally before they can be passed on to the application.
Overview of the SS7 Protocol Stack
This section will define the functions of the SS7 protocol in a conventional network based 
on time-division multiplexing (TDM). The SS7 protocol differs somewhat from the OSI 
model (Figure 3.2). The OSI model consists of seven different layers, whereas the SS7 
standard uses only four levels. The term level is used in the same context as layers.
The functions carried out by these four levels correspond with the OSI model’s seven 
layers. Some of the functions called for in the OSI model have no purpose in the SS7 
network and therefore are undefined.
It also should be noted that the functions in the SS7 protocol have been refined 
over the years and tailored for the specific requirements of the SS7 network. For this  
Application Entity
OSI Model
Layer 7
Layer 4, 5, & 6
Layer 3
NSP
TCAP
ASP
SCCP
Network
T 
U 
P
I 
S 
U 
P
B 
I 
S 
U 
P
Data Link
MTP
Physical
Layer 2
Layer 1
CCS7 Level
Level 4
Level 3
Level 2
Level 1
Figure 3.2 The SS7 protocol stack consists of only four levels and does not align perfectly with the OSI 
model. This is due in part to the fact that SS7 was developed before the OSI model. Many of the principles 
were in place, however, which explains the similarities.

Overview of a Protocol      105
reason, many discrepancies exist between the two protocols and their corresponding 
functions. Regardless of the differences, the SS7 protocol has proven to be a highly reli-
able packet-switching protocol, providing all the services and functions required by the 
telephone service providers. This protocol continues to evolve as the network grows and 
the services provided by the telephone companies change. The following descriptions 
apply only to SS7 networks deployed using TDM circuit-switching networks. Networks 
using true packet-switching facilities [such as the Transmission Control Protocol/
Internet Protocol (TCP/IP)] do not use the same techniques.
Level 1: Physical Level
The physical level in SS7 is virtually the same as that of the OSI model. The OSI 
model does not specify any specific interface to be used because this always will dif-
fer from network to network. In SS7, we can specify which interfaces will be used 
because the Telcordia standard and the ANSI standards all call for one of two types of  
interfaces—the DS0A or V.35.
The DS0A interface is the most favored for this application in North America, whereas 
the V.35 is used widely throughout the world. There is no inherent value in using DS0A 
in SS7 networks other than the fact that DS0A is already available. Because central of-
fices are already using DS3 and DS1 facilities to link to one another, the DS0A interface 
is readily available in all central offices.
Many carriers have begun using Asynchronous Transfer Mode (ATM) as a transport 
for SS7, but only when high concentrations of data links are needed owing to heavy 
signaling traffic. Telcordia and Lucent have defined standards using an unchannel-
ized DS1 at the physical level and ATM at the transport level. These are referred to 
as high-speed links (HSLs). As we have already discussed, TCP/IP also has received 
wide acceptance throughout the industry for use in SS7 networks. The SS7 standard 
does not specify the use of any one interface. In fact, the standards enable the pro-
tocol to use any interface at any rate. Performance requirements have an impact on 
Telcordia requirements for switching entities, and in some cases, even the International 
Telecommunications Union–Telecommunications Standardization Sector (ITU-TS) per-
formance standards will determine the type of interface to be used.
The theory, however, is that the protocol should be able to use any type of interface 
and any type of medium, maintaining true transparency throughout the layers. The 
other factors, of course, are the distance and transmission rates needed to support the 
traffic mixes in each unique network.
Level 2: Data-Link Level
The data-link level of the SS7 protocol stack provides the SS7 network with error  
detection/correction and sequenced delivery of all SS7 message packets. As with the 
OSI model, this level is only concerned with the transmission of data from one node to 
the next in the network. It does not concern itself with the final destination of the mes-
sage. As the message travels from node to node, each node examines the dialed digits  

106      Chapter 3
(contained in level 4) and uses that information to determine the next route for the mes-
sage. Level 2 is given the information by level 3, which determines message routing. 
Level 2 then provides the functions necessary to transmit the packet to the next node.
Level 2 does not provide the routing for SS7. This is a level 3 function. Level 2 only 
provides the mechanisms needed to ensure reliable transfer of the data over the net-
work. This is accomplished in several ways. First, level 2 provides the sequencing of 
messages between nodes. The sequence numbering is only of significance on one link. 
Each link uses its own sequencing series and is independent of the other links.
The sequencing numbering is used by this layer to determine if any messages have 
been lost during transmission. A lost message indicates an error, which is counted by 
an error counter maintained by level 3. After significant errors, the link is taken out of 
service, and the network begins diagnostic and recovery procedures.
Another error-checking function maintained at level 2 is the frame-check sequence 
(FCS). SS7 uses CRC-16 for error checking of the user data. The purpose of this mecha-
nism is to maintain data integrity. The bit stream is subjected to the CRC-16 equation, 
and the remainder is placed into the FCS field. When the distant node receives the 
message, the same equation is used again, but this time the value is compared with the 
value in the FCS field of the received message.
If there is an error in a message or a message is lost, level 2 is responsible for request-
ing a retransmission. The retransmission may be accompanied by a message containing 
user data (user data in this context refers to level 4 information). Unlike most protocols, 
where retransmissions are unique messages that do not carry any bearer information, 
the SS7 method maintains this function at the lower level, enabling the upper layers 
to function independently.
This enables retransmission requests to be sent to the distant node while also send-
ing a layer 4 message. This also allows a higher throughput of SS7 traffic rather than 
network management messages.
A length indicator is provided to enable level 3 to determine what type of packet 
(signal unit) it is receiving. Level 2 must know the type of signal unit being received 
so that it knows how to process the message. If it determines that there is information 
intended for a higher layer, then this level will pass the contents of the message up to 
the network level, or level 3. In packet-switched networks using TCP/IP, the MTP2 User 
Adaptation Layer (M2UA) protocol is used to provide many of the preceding services.
Level 3: Network Level
The network level provides three functions: routing, message discrimination, and dis-
tribution. All three functions depend on the services of level 2. When a message is 
received, it is passed by level 2 to level 3 for message discrimination.
Message discrimination determines to whom the message is addressed. If the mes-
sage contains the local address (of the receiving node), then the message is passed to 
message distribution. If the message is not addressed to the local node, then it is passed 
to the message-routing function. The message-routing function reads the called- and 
calling-party addresses in the message to determine which physical address to route to.  

Overview of a Protocol      107
The called- and calling-party addresses can be considered logical addresses, and the 
physical address can be considered the node address.
The physical address in SS7 networks is referred to as a point code. Every node in the 
network must have a unique point code. The routing function determines which point 
code to route the message to based on information stored in its administrable routing 
tables. These routing tables are maintained by the service providers themselves and 
are network-dependent.
The point code in many cases is not the final destination for a message but the adja-
cent point code for this node. This enables messages to be routed through the network 
and rerouted to another node in the event of a network failure. The routing scheme is 
determined by the network providers and can vary depending on philosophy.
Message distribution is used when message discrimination determines that the ad-
dress is a local address. Message distribution is responsible for identifying which user 
part the message is addressed to (based on the service-information octet field of the 
message) and routes the message to its internal user.
There are three network management functions at level 3: link management, route 
management, and traffic. Each type of network management uses different mecha-
nisms to achieve results.
The link management function uses the link-status signal unit (LSSU) to notify ad-
jacent nodes of link problems. A link problem does not necessarily mean that the link 
cannot transmit messages. Software errors or processor problems on link interface 
cards can cause a link to become unusable.
When this occurs, it is quite possible for a link to remain operational at level 2 and 
even level 3 but nonoperational at level 4. When this occurs, the adjacent node must be 
notified that the indicated link cannot be used for traffic because there is a problem at 
the affected signaling point.
Level 3 sends LSSUs via level 2 to the adjacent node, indicating the problems with the 
link and advising of its status. The link can be removed from service (which means that 
no MSUs are transmitted over the affected link), and diagnostics can begin. Diagnostics 
consist of realigning the link or resynchronizing the link.
Realignment occurs when traffic is removed, all counters are reset to zero, all timers 
are reset to zero, and fill-in signal units (FISUs) are transmitted for a prescribed dura-
tion of time, which is called the proving period. The duration of the proving period de-
pends on the type of link being used. Telcordia has specified that the proving period for a 
DS0 at 56 kbps is 2.3 seconds for normal proving and 0.6 second for emergency proving 
periods. At 64 kbps, the normal proving period duration is defined at 2.0 seconds, and the 
emergency proving period is defined at 0.5 second. When a 1.536-Mbps link is used, the 
normal proving period is defined at 30 seconds, and the emergency proving period is de-
fined at 5 seconds. During the proving period, any errors that may occur with the FISUs’ 
transmission are counted. When link management has determined that too many errors 
have occurred on the link, the entire process begins over again, and timers and counters 
are reset to zero and FISUs are transmitted for a prescribed duration of time.
Another form of link management entails the use of changeover and changeback 
messages. These are sent using message signal units (MSUs) and advise the adjacent 

108      Chapter 3
node to begin sending traffic over another link. The alternate link must be within the 
same linkset. During the time that all MSUs are being rerouted over different links, 
the affected link is being realigned by level 3.
A changeback message is sent to tell the adjacent node that traffic may be sent over 
the affected link once again because it has been restored to service. The changeback 
message typically is followed by a changeback acknowledgment message.
Route management provides the mechanisms for rerouting traffic around nodes that 
have failed or have become congested. This is a function of level 3 and works with the 
link management function.
Usually, when a link management message has been received, if the route of the node 
is affected, it may trigger the generation of a routing message depending on the impact 
on other nodes. Route management is used to inform other nodes in the network of the 
status of a particular node that has become unavailable or congested. This differs from 
link management, which only notifies an adjacent node about link status.
Route management messages use the MSU and are generated by nodes that are adja-
cent to affected nodes and not usually by the affected nodes themselves. These messages 
are the transfer-prohibited, transfer-restricted messages and are discussed in Chapter 6.
Traffic management is used as a flow-control mechanism. Flow control is used in 
the event that a node has become congested, but only at a single level. For example, if 
a particular user part is not available [such as the ISDN User Part (ISUP)], a traffic 
management message can be directed at adjacent nodes informing them that ISUP at a 
particular node is not available without having any impact on Transaction Capabilities 
Application Part (TCAP) messages to the same node.
Traffic management, then, is different from the previous two functions in that it 
deals with a specific user part within an affected node rather than with the entire 
entity. This mechanism enables the network to control the flow of certain messages 
based on protocols without impeding other traffic that should not be affected. In packet-
switched networks using TCP/IP, MTP3 User Adaptation Layer (M3UA) provides many 
of the previous services.
Level 4: User Parts
Level 4 in the SS7 network consists of several different protocols, which are all called 
user parts and application parts. For basic telephone call connection and disconnection, 
the Telephone User Part (TUP) or ISUP protocols are used. TUP is used in Europe and 
other countries following ITU-TS standards, whereas ISUP is used primarily in North 
America (but is replacing TUP worldwide).
To access network databases, the TCAP protocol is used. TCAP supports the func-
tions required to connect to an external database, perform a query of the database, and 
retrieve information. The data or information retrieved then is sent back in the form of 
a TCAP message to the signaling point that requested it.
TCAP also supports the remote control of other entities on the network. A network 
switch can invoke a feature or a function in another network switch by sending a TCAP 
message from one entity to another.

Overview of a Protocol      109
TCAP is being used more and more as the network evolves into a more intelligent 
network that is capable of many self-invoked functions. With the inclusion of wireless 
networks into the SS7 networks, the use of TCAP will increase for roaming and other 
wireless functions.
The Operations, Maintenance, and Administration Part (OMAP) is really an applica-
tion entity that uses the services of the TCAP. The standard describes the syntax used 
for OMAP, relying on the ASN-1 standard. This is used to provide communications and 
control functions throughout the network via a remote operations center terminal. This 
terminal typically is located in a remote maintenance center, where control over all 
network elements is possible. The administration of system databases, maintenance 
access, and performance monitoring are all part of these centers.
The Mobile Application Part (MAP) is a relatively new level 4 protocol used in GSM 
wireless networks. The purpose of this protocol is to provide a mechanism that enables 
wireless subscriber information to be passed from one wireless network to another. The 
MAP parameters include information such as the mobile identification number (MIN) 
and the serial number of the radio unit itself. In North America, the IS-41 protocol is 
used for Code Division Multiple Access/Time Division Multiple Access (CDMA/TDMA) 
wireless networks.
Other level 4 functions exist and will be discussed in much greater detail in later chap-
ters. For now, an understanding of the differences between the OSI model and the SS7 
protocol stack is all that is necessary. While all the functions called for in the OSI model 
are addressed in the SS7 protocols, the SS7 protocol stack is condensed and does not ad-
dress connection-oriented services used to establish a session with another user.
In addition to providing connection requests in the voice network, SS7 also provides 
for database access from any entity on the network. This is the most important feature 
of the SS7 network and the main reason why SS7 has been deployed in the PSTN all 
over the world—so that all telephone companies can share subscriber information and 
call-handling procedures on a call-by-call basis.
SS7 Protocols
Now that we have discussed the various layers, or levels, of the SS7 protocol, let us 
examine the protocols used within these levels to accomplish the specific functions 
required at each level. The protocols used within SS7 each have a specific application 
and are used according to the services they provide the network.
In TDM-based signaling networks, levels 1, 2, and 3 are combined into one part: the 
Message Transfer Part (MTP). MTP provides the rest of the levels with node-to-node 
transmission, providing basic error-detection/correction schemes and message sequenc-
ing. In addition, MTP also provides routing, message discrimination, and distribution 
functions within a node.
In packet-switched networks using TCP/IP, M2UA and M3UA protocols replace the 
MTP protocols, providing the same services in the packet telephony environment. SCCP 
User Adaptation (SUA) has been defined to replace the Signaling Connection Control 
Part (SCCP), whereas the Simple Control Transmission Protocol (SCTP) is used as a 

110      Chapter 3
transport for these protocols to guarantee delivery of these protocols [a peer protocol to 
TCP and the User Datagram Protocol (UDP)].
When a database transaction is requested, MTP is accompanied by another higher-level 
protocol: the SCCP protocol. SCCP provides the addressing necessary to route a message 
to the correct database. Database addresses are called subsystem numbers and are the 
logical addresses used by the protocols to route to the appropriate database entity.
In the event that an originating node does not know the subsystem number, the 
dialed digits or other similar information is provided in a called-address field. This 
information is then used for routing the message through the network. At some point, 
before the database is reached, the called-party address must be translated into a point 
code and a subsystem number.
The point code is of the SCP connecting to the database, and the subsystem number 
is the logical address of the database itself. Once the SCP is reached, the subsystem 
number may be sent over another type of network, such as an X.25 network.
The SCCP message is then returned with the proper routing instructions to the end 
office requesting the global title. SCCP is also used as the level 3 protocol supporting 
TCAP, which is the protocol used for all database transactions. SCCP is required for 
routing TCAP messages to their proper database.
Another function of the SCCP protocol is to provide end-to-end routing, which is not 
possible with MTP. SCCP provides the means for routing a message transparently 
through the network using intermediate nodes as routers without the need to know the 
individual addresses of each of the intermediate nodes.
The addressing provided in the SCCP field enables each of the intermediate nodes to 
route based on the address in the SCCP protocol. The signaling points then base their 
routing on the SCCP address and generate the routing label for use by level 3 routing. 
Although the standards often show a correlation between SCCP and the ISUP, there 
is no current definition supporting such services. SCCP at this time is used only in 
conjunction with TCAP protocol messages.
ISUP is the protocol used to set up and tear down telephone connections between 
end offices. This protocol was derived from the TUP, which is the ITU-TS equivalent to 
ISUP, but offers the added benefit of supporting Intelligent Networking (IN) functions 
and Integrated Services Digital Network (ISDN) services. ISUP is used throughout the 
United States today and provides not only call connection services within the PSTN 
but also links the wireless network and the Personal Communications Service (PCS) 
network to the public telephone network.
Broadband ISUP (BISUP) is used for setting up and tearing down connections on 
ATM facilities. Because ATM and other broadband facilities identify virtual circuits 
rather than circuit numbers, a different protocol that matches these requirements is 
needed. BISUP identifies virtual circuits instead of TDM circuit codes.
Through the use of these protocols, SS7 is able to provide a variety of services that 
are not obtainable with the previous signaling methods. SS7 is a message-based packet-
switching network that is capable of growing with the technology it must support. 
Because of SS7, the telephone companies have had to change their philosophies regard-
ing service and are now finding themselves in a new industry—data communications.

Chapter
4
Overview of Signal Units
Overview of Signal Units
There are three basic methods of switching in a network: circuit switching, message 
switching, and packet switching. Circuit switching uses a physical connection between 
two entities for transmitting a data stream. The circuit remains connected until both 
entities have completed the transmission. A good example of a circuit-switching net-
work is the Public Switched Telephone Network (PSTN).
Message switching came about in the 1970s and 1980s and uses a message structure 
to route data through a network. The data are accompanied by an address and a mes-
sage (which serves as an instruction to the receiver). The data are sent in their entirety 
and do not include any error-checking schemes or flow control.
Packet switching arranges the data into a packet or a group of packets and transmits 
them in the form of a complete packet, providing all the information needed to route 
and process the received data. Network management and error detection/correction are 
included in packet-switching networks.
Signaling System 7 (SS7) is a packet-switching technology and uses data packets just 
like X.25 and other packet-switching technologies. A packet contains all the informa-
tion necessary to route data through a network without establishing a connection to 
the destination.
Packet switching is a more efficient way of networking, and it makes better use of 
facilities. In the event of network failures or any other problems in the network, the 
packet protocol can change the routing for a particular destination dynamically and 
can provide higher reliability through error checking and correction.
Usually, packet-switching networks use different types and formats of packets de-
pending on the purpose of the network. For example, if you send a data packet in an 
X.25 network, the packet type is called an information frame. The information frame 
has a distinct format and provides parameters that are specific to the transfer of data 
through the network.
111

112      Chapter 4
If a packet is received in error and the packet must be retransmitted, a supervisory 
frame is used to inform the originator of the data packet that the data were in error 
and that the originator needs to retransmit the errored packet. The supervisory frame 
contains the parameters needed to inform another node of an error, but it does not sup-
port the transmission of any data. This packet serves a very unique purpose and cannot 
be used for anything else.
SS7 uses three different structures of packets, which are called signal units. These 
signal units provide three different levels of service in the SS7 network. The SS7 pro-
tocol uses all three signal units for the transmission of network management informa-
tion, depending on the level of management. Information is sent using only one type 
of signal unit.
Another unique aspect of SS7 networks is the source of information. In most net-
works, we are sending data from one user to another. In SS7 networks, the user is the 
telephone network. The information is control and signaling information from tele-
phone company switches and computers, which must be shared from one device to 
another. This makes the SS7 network a machine-to-machine network rather than a 
user-to-user network. There is very little human intervention in this network because 
most of the procedures and processes are automated and do not require any operator 
control.
A signal unit is nothing more than a packet, but SS7 has many applications requiring 
different packet structures and capabilities. The applications found in the SS7 network 
vary from standard networks. SS7 has circuit-related applications and non-circuit- 
related applications. These are the two basic foundations used to identify the functions 
within the network.
Circuit-related applications are related directly to the connection and disconnection 
of telephone circuits used to connect telephone subscribers. These circuits can be analog 
voice trunks or digital data circuits. They are located on a separate network outside the 
signaling network and are used for the sole purpose of connecting telephone subscrib-
ers to other telephone subscribers.
The SS7 network does not have anything to do with the voice and data in these cir-
cuits other than identifying the type of data and voice transmission that will take place 
(e.g., data rates and encoding methods used at the voice interfaces). Non-circuit-re-
lated applications consist of all other traffic in the SS7 network. To support the circuit- 
related functions of the PSTN, telephone switches must be able to communicate with 
one another. Whether they are requesting information from a database stored in a cen-
tral computer system or invoking a feature in a remote telephone switch, there needs 
to be a protocol for all other aspects of the telephone network that are not related to a 
specific circuit.
Network management information is another type of communication that must be 
supported within the network. This is the automated part of the network, which enables 
signaling points within the network to recover automatically from failures and signaling 
point outages. Network management is completely autonomous in SS7 networks.
All signal units in networks based on time-division multiplexing (TDM) rely on the 
services of the Message Transfer Part (MTP) for routing, network management and  

Overview of Signal Units      113
link management, and basic error detection and correction. Transmission Control 
Protocol/Internet Protocol (TCP/IP) networks use IP-based protocols. The Internet 
Engineering Task Force (IETF) actually has created new protocols to provide the func-
tions of MTP in the TCP/IP network environment [such as the MTP2 User Adaptation 
Layer (M2UA), the MTP3 User Adaptation Layer (M3UA), the SCCP User Adaptation 
(SUA), and the Stream Control Transmission Protocol (SCTP)].
Anytime information is transferred through the network from one signaling point 
to another, the message signal unit (MSU) is used. It is called the message signal unit 
because SS7, like many protocols, uses data messages to convey information to another 
entity in the network. Information is considered control information or network man-
agement information.
The MSU provides the fields of the MTP protocol, including two fields: the service 
indicator octet (SIO) and the service information field (SIF). The SIO is used by level 3 
to identify the type of protocol used at level 4 [such as the ISDN User Part (ISUP) 
or the Transaction Capabilities Application Part (TCAP)] and the type of standard. 
A standard can be national or international. If the protocol at level 4 is based on the 
International Telecommunications Union–Telecommunications Standardization Sector 
(ITU-TS) standard, then the SIO field indicates that this is an international standard. 
If the protocol was any other type of protocol [such as American National Standards 
Institute (ANSI)], the SIO field indicates that this is a national protocol.
This information is used by level 3 and the message discrimination function to deter-
mine the type of signal unit, the protocol, and how it should be decoded. The SIO field 
also has spare bits that can be used for priorities in the ANSI standard or for other 
functions in private networks.
The SIF is used to transfer control information and the routing label used by level 3. 
Consider this the payload of SS7. This field can contain up to 272 octets and is used by 
all upper-level protocols such as ISUP and TCAP.
Not all information in this field is considered level 4 information. For example, in the 
case of network management information, it is level 3. The same is true if the Signaling 
Connection Control Part (SCCP) is used to transport TCAP. The SCCP portion of the 
message is found in the SIF field of the MSU. SCCP is considered level 3 information. 
Link status information is carried using another signal-unit type called the link status 
signal unit (LSSU). The LSSU is actually used by level 3 at one node to transmit the 
status regarding the link on which it is being carried to its adjacent node. The LSSU is 
never used to carry link status messages through the network. It is only used to com-
municate this status between two adjacent signaling points.
When no traffic is being sent and the network is idle, the fill-in signal unit (FISU) 
is sent to provide constant error checking on the link. This enables the SS7 network 
to maintain its high reliability because even though no information is being sent, the 
signaling points still can perform error detection on the FISU to determine if the link 
is beginning to deteriorate.
In addition to the FISU transmission, the MTP protocol is constantly monitoring 
the status of the link. The MTP is used in all three signal units. These signal units are 
explained in more detail in the following section.

114      Chapter 4
Fill-In Signal Unit (FISU)
The lowest-level signal unit—that is, the one that provides the lowest level of service—
is the FISU. The FISU acts as a flag in TDM-based SS7 networks. FISUs are sent when 
there is no payload to be delivered and the network is idle (Figure 4.1).
This is different from any other network, where flags are transmitted. A flag is usu-
ally a 1-byte pattern consisting of a 0, six 1s, and a 0 (01111110). This 1-byte pattern 
is used to maintain clock synchronization in many asynchronous networks. There is no 
intelligence in this type of pattern, however, so it serves no other purpose.
In the event that a data link begins to degrade, there is no indication that the link 
can carry traffic any longer until a transmission is attempted. By this time, it is too late. 
The transmission will fail, and the link will have to go through diagnostics.
In order to maintain a high level of reliability, the FISU is used in TDM-based SS7 
networks. Besides being used for synchronization of the link, this signal unit is also 
used to acknowledge receipt of MSUs. The sequence numbers are used to acknowledge 
a previous signal unit.
The most significant field in the FISU is the frame-check sequence (FCS) field. This 
field is used by level 3 to determine if there are any errors in the FISU. This is based 
on the bits in all the fields of the FISU. The FCS is found in all signal units and is used 
to transport the remainder of the CRC-16 equation performed by the transmitting 
signaling point.
The CRC-16 is the error-checking mechanism implemented by all transmitting sig-
naling points when transmitting a signal unit. The purpose is to provide the remainder 
of the cyclic redundancy check (CRC) equation to the receiver of a signal unit. The re-
ceiver then uses the same CRC equation and compares it with the value received.
By using this field for error checking in the FISU, the MTP can constantly evaluate 
the status of any link, even during periods of idle traffic. In the event that a link has 
degraded to a point where it is causing too many errors, the link can be taken out of 
service by the MTP link management function before it is needed for actual traffic.
The FISU also can be used to acknowledge a previously received signal unit. This is 
done by sending an FISU with a backward sequence number (BSN) that is equal to the 
forward sequence number (FSN) of the signal unit being acknowledged. In other words, 
the BSN identifies the sequence number of the last good signal unit received.
In the event that a signal unit is received and rejected by the MTP at level 2, 
the FISU can be used to send back a negative acknowledgment. A negative ac-
knowledgment requires the use of a backward indicator bit (BIB). Usually, the BIB 
and the forward indicator bit (FIB) have the same value. However, when there is  
Number of bits
FCS
LI
FIB
FSN
BIB
BSN
FLAG
8
2
6
1
7
1
7
8
Figure 4.1 The FISU consists of the components necessary for routing (per MTP level 3) and is sent dur-
ing idle periods instead of flags. By sending the FISU, a signaling point can verify the integrity of a link by 
checking the FCS field for errors.

Overview of Signal Units      115
a negative acknowledgment, the BIB is toggled, assuming an opposite value from the 
FIB. This signifies a retransmission request.
The receiver of an FISU or any other signal unit with opposite values in the indicator 
bits examines the BSN to determine which signal units need to be retransmitted. This is 
more efficient than using the specialized supervisory frames that other protocols use.
When there are no errors, the indicator bits maintain the same value; that is, both 
the FIB and the BIB are exactly the same. When a retransmission occurs, the retrans-
mitted signal unit is sent with the indicator bits set to the same value.
When the retransmission is acknowledged, the originator of the retransmission re-
quest toggles the FIB to match the BIB and maintains this value until another retrans-
mission is required. This procedure is explained in full detail in Chapter 5.
The FISU is never retransmitted if it is found in error. In fact, when FISUs are sent 
through the network, the sequence numbers do not increment (FSNs). There is no rea-
son to retransmit these signal units because they do not provide any user information. 
They are only used to maintain the integrity of a signaling link.
The FSN assumes the value of the last MSU sent by the transmitting signaling 
point and stays at the same value until another MSU or LSSU is transmitted. The 
BSN follows the same procedure unless it is used to acknowledge a previously received 
MSU. The length-indicator field in the FISU is always set to zero. The length indicator 
identifies the type of signal unit being received. The length is that of the information 
field, which does not exist in the FISU. The total length of an FISU is static at 48 bits. 
Although many drawings and publications show both an opening and closing flag, there 
is only one opening flag and no closing flag. The opening flag of one signal unit is the 
closing flag of the previous signal unit. This is defined in Telcordia Publication GR-246-
CORE. In TCP/IP networks, the FISU is not used. A keep-alive signal is still needed, 
however, to make sure that all entities on the network are still in service. The TCP/IP 
protocol does report when nodes fail; however, it may take several seconds before a 
node’s status is reported. This is not acceptable for SS7, so the M2UA protocol provides 
a mechanism for constantly checking nodes on the network as the FISU does.
Link Status Signal Unit (LSSU)
The LSSU is sent between two signaling points to indicate the status of the signaling 
link on which it is carried. Therefore, the LSSU is only of significance between two 
signaling points and is not broadcast through the network (Figure 4.2).
When a link is determined to have failed, the signaling point that detects the error 
condition is responsible for alerting its adjacent signaling point that the link is no 
Number of bits
FCS
SF
LI
FIB
FSN
BIB
BSN
FLAG
8
2
8 or 16
6
1
7
1
7
8
Figure 4.2 The LSSU is used by MTP level 3 to send link status information to an adjacent signaling point. 
The LSSU is not broadcast to any other signaling points.

116      Chapter 4
longer available. The types of error conditions that warrant this procedure are align-
ment problems.
Alignment of a link means that all signal units received are of the correct length and 
that there are no ones-density violations. A ones-density violation occurs when the bit 
stream has more than five consecutive 1s, which is considered by the protocol as a flag. 
With link management and level 2 functionality, this should never occur. When it does, 
the link must be taken out of service and realigned.
Realignment is the procedure used by levels 2 and 3 to correct a link problem. The 
real problem is usually within a processor at either end of the link. Therefore, the pro-
cessor that is at fault must be corrected. The first step is to remove all traffic from this 
link. The LSSU is sent to the adjacent signaling point to inform the adjacent node that 
all traffic should be removed from the link and that the link should be realigned. No 
acknowledgment is required; this is simply an information signal unit.
This procedure is necessary for two reasons. To begin with, the two signaling points 
run independently of one another. Each end of a signaling link has its own processor. 
This processor and its accompanying software provide the functionality of levels 2 and 
3. If the processor fails or is unable to process any more MSUs, only that processor 
would be aware of the trouble. The adjacent processor thinks that the link is working 
fine and is capable of carrying traffic. It is for this reason that the LSSU is necessary. 
When level 2 determines that there is a problem (as notified by level 3), it will transmit 
an LSSU identifying the problem. The status indicators in the status field (SF) of the 
signal unit identify the specific status of the link; that is, the link is in alignment or 
there is a processor outage at the originating node.
The fact that the link is capable of sending this LSSU indicates the capability to send 
lower-level traffic despite the incapability to process upper-level traffic. Depending on 
the status of the link, the receiving signaling point may send a network management 
message in the backward direction (to its adjacent signaling points) indicating the in-
capability to reach a particular signaling point. This would occur only if the route to a 
certain destination became inaccessible because of the link failures.
This means that the LSSU works in conjunction with other network management 
functions. The link management function uses the LSSU to notify adjacent signaling 
points of link status, whereas the route management function uses the MSU to notify 
adjacent signaling points of problems with a route to a destination.
The LSSU consists of the same components as the FISU, with the addition of the SF. 
The SF carries the link status information for the link on which it is carried. The LSSU 
is not transmitted on parallel links and does not carry information about other links. 
The SF indicates the status of the link on which the LSSU is carried.
Again, this implies that the link did not have a hard failure. A hard failure is one in 
which no traffic can be carried by the link, as in the case of a backhoe digging up a facil-
ity with SS7 links. The LSSU relies on levels 2 and 3 still being functional on the link. As 
with the FISU, when an error occurs within the signal unit, the LSSU is not retransmit-
ted. An errored LSSU is discarded, and the error is counted as an error on the link.
The value of the length indicator in an LSSU is either a 1 or 2. Currently, the LSSU 
SF is always one octet in length. Until further definitions are made for additional sta-
tus indications, this rule probably will not change.

Overview of Signal Units      117
Message Signal Unit (MSU)
The MSU (Figure 4.3) provides the structure for transmitting all other protocol types. 
This includes the ISUP, the TCAP, and the Mobile Application Part (MAP). The differ-
ence between the MSU and the previous two signal units is the addition of the SIO 
and SIF.
The SIO is used by level 3 message discrimination to determine the type of protocol 
being presented in the MSU. This enables message discrimination to identify the user 
at level 4. For example, if the SIO indicates that the protocol is ISUP, then ISUP will 
be the user at level 4.
The SIO also identifies the version of protocol being presented: international or na-
tional. The international protocol applies only to protocols compliant with ITU-TS stan-
dards. This is used when connecting to the international plane of the SS7 network. 
The national protocol applies to all other standards, including the ANSI standard used 
in the United States. It should be noted, however, that national does not imply ANSI. 
Many national standards are used throughout the world. For example, in Germany, the 
national standard is 1TR7; in Hong Kong, it is the Hong Kong standard; and in New 
Zealand, it is the New Zealand standard.
The use of two planes in the network enables all nations to internetwork on the  in-
ternational level using a gateway signaling point [usually a signal transfer point (STP)] 
to gain access into the international network from the national side, and vice versa. 
Individual countries then can use their own individual flavors of the SS7 protocols de-
pending on the requirements of their own unique networks without affecting the entire 
SS7 network worldwide.
All nations must comply with the ITU-TS standards at the international plane and 
use some method of interworking between the two planes. Interworking almost al-
ways requires protocol conversion. The SIO can be used to determine when this will be  
necessary.
Another reason this parameter is important is because of the difference between the 
point codes used between international and national. International point codes are 
formatted as a 3-bit zone identification, an 8-bit area or network identification, and a 
3-bit signaling-point identification. National point codes can be any variation as long as 
the total field length remains the same. The ANSI standard is an exception to this rule, 
where the point code is a 24-bit point code—8 bits for network identification, 8 bits for 
cluster identification, and 8 bits for member identification.
The MSU provides a signaling information field with a capacity of up to 272 octets of 
user data. In the case of SS7, user data consist of any data from an upper layer (such 
as ISUP or TCAP). The SIF does not necessarily have to be used for level 4 information. 
FCS
SIF
SIO
LI
FIB
FSN
BIB
BSN
FLAG
8
8
2
8 to 272
6
1
7
1
7
8
Figure 4.3 The MSU is used to deliver level 4 information to its destination. Level 4 information is found 
in the variable SIF.

118      Chapter 4
Network management also uses the signaling information field. Network management 
is a function of level 3.
The length indicator of the MSU can be any value over 2 and up to 64. The length 
indicator is a 6-bit field, which limits it to the range it can represent. Yet the SIF can 
be up to 272 octets long. In TCP/IP-based signaling networks, this limitation no longer 
applies.
When the SIF exceeds 64 octets in length, the length indicator of the MSU remains 
at 63. This is not an issue with the protocol because the only purpose of this field is to 
allow level 3 message discrimination to be able to determine the type of signal unit be-
ing received. There is no other use for this field.
Based on this fact, it is safe to say that any value in the length indicator over 2 is al-
ways an MSU, and any value over 2 is really insignificant. There is no reason to expand 
this field because the exact length is not important to level 3.
Primitives
In order for the various levels to interface with one another, some method of standard 
interfacing must be implemented. The use of primitives is not unique to SS7, although 
the particular primitive types used in this protocol are unique.
Communications between levels 2 and 3 and between levels 3 and 4 are all software-
controlled. We do not see any communications over the network, although we will see 
the results over the network. A primitive is the method used by software to pass infor-
mation to the next level in either direction.
The important thing to understand is that a primitive is pure software. There is noth-
ing for us to see or examine unless we are looking at the source code of a signaling point 
itself. Primitives are discussed here for those who are actively writing software for SS7 
network products and need to understand the full picture of what is taking place.
As seen in Figure 4.4, the primitive provides four fields. The first field, marked by the 
X, indicates the originator of the primitive. If the MTP were passing information up to 
the ISUP, the first field would indicate MTP. 
The next field is the generic name. The generic name identifies the type of informa-
tion being provided. For example, if information regarding the address of the originator 
(such as the calling-party address) is being sent from ISUP to MTP, the generic name 
would be unitdata. The generic name will differ depending on the level. For example, 
the SCCP will have different generic names than, say, the ISUP. The functionality re-
mains the same.
X
Generic Name
X = MTP or N (SCCP)
Specific Name
Parameter
Figure 4.4 Primitives are used to communicate with the various levels of the protocol stack within a net-
work entity. Primitives are not seen in the network but reside in software at each signaling point. This figure 
depicts the structure of a primitive.

Overview of Signal Units      119
The field after the generic name is the specific name. The specific name describes the 
action that is to take place. The specific name can be any one of the following:
■ Request 
■ Indication 
■ Response 
■ Confirmation
A request is used to invoke some type of service from another level. For example, in 
the case of network management, there may be the need to start a procedure. The re-
quest would be used to invoke that procedure at a higher level.
An indication is used to inform the requesting level that the requested service has 
been invoked. This is like an acknowledgment between levels. Using the preceding case, 
when a user part invokes a management procedure, it will send an indication to MTP 
to inform MTP of the invocation.
A response is sent to complete a particular transaction between a service element and 
a user. A user, in this sense, is the protocol, whereas the service element is something 
such as SCCP or the upper user parts. The response is used only when a service has 
been invoked previously and an indication has been sent.
A confirmation is sent to inform the user part that a connection has been established 
or a requested service has been invoked. Confirmation, in some aspects, is similar to 
an acknowledgment.
Many procedures surround the various primitives depending on the level with which 
they are communicating and to which user part they are interfacing. The purpose of 
the primitive, once again, is to provide a means of communication between the various 
protocol levels within a signaling point.
Overview of SS7 Protocols
As we have discussed in previous chapters, the SS7 network uses many different proto-
cols. Each protocol is used for a specific purpose and provides the necessary functional-
ity to accomplish specific tasks.
In this section we will look at the various protocols used in SS7 networks and discuss 
their use and applications. This section will only provide an overview of the various 
protocols. For a more specific explanation of these protocols, refer to their respective 
chapters.
The SS7 network provides some basic services to the PSTN. The impetus behind 
deploying this network was to remove all signaling information away from the voice 
network. In the early days of common-channel signaling, this certainly seemed enough 
to justify the use of another network. However, the SS7 network slowly evolved into 
much more than just a signaling network. It also has evolved into a control network. 
The word control implies many different things. From a voice network standpoint, con-
trol refers directly to the capability to control features and tasks in a remote telephone 

120      Chapter 4
switch or centralized computer. The user of this remote control capability is usually 
another telephone switch or computer system.
This network obviously forms the basis for an Intelligent Network (IN). In this discus-
sion, IN is not referring to the IN or Advanced Intelligent Network (AIN) standards but 
rather to a network capable of supporting intelligent services through the use of call 
logic and/or service databases. Without the mechanisms for supporting remote control 
or other network entities, this would not be possible.
In today’s convergent network, call control has evolved. Next-generation switches 
are computer platforms controlled by software. The media gateway (MG) provides ac-
cess to the subscriber and transforms analog voice into digitized voice for transmission 
over the TCP/IP network [or the Asynchronous Transfer Mode (ATM) network in some 
cases]. Call control is distributed throughout the network to lower the cost of these 
network switches. The call control is now more centralized in media gateway controllers 
(MGCs), eliminating the need for expensive processing resources in the MGs. A control 
protocol such as Megaco or Media Gateway Control Protocol (MGCP) is used to com-
municate call control information between the MG and MGC.
However, the initial purpose of signaling cannot be ignored either, especially because 
this is currently the principal function of this network. As networks evolve and the 
many features and services being added require more intelligence, this will change 
gradually.
The SS7 network evolved from the earlier CCS6 network, which was more limited 
yet of similar technology. The primary difference between the two technologies is in 
the protocols used and the structures of the technologies. CCS6 used a very stringent 
structure that had fixed-length signal units. This did not allow for variable-length 
signal units and limited the protocol as far as the type of information that could be 
provided.
It was for this reason that SS7 was structured the way it is today. By providing 
a basic structure that various protocols can depend on for transport, it enables the  
upper-level protocols to be more dynamic. This means that they can grow and evolve 
with the network without affecting the transport mechanism. This, of course, was the 
main limitation in CCS6 networks. The structure was too constrained and did not allow 
for sufficient growth of any kind in the upper layers owing largely to the absence of an 
independent transport function.
Message Transfer Part (MTP)
The MTP is the transport protocol used by all other SS7 protocols in the TDM SS7 
network. This protocol actually is divided into three different levels. In comparison 
with the Open Standards Interface (OSI) model, MTP provides the same functionality 
as layers 1, 2, and 3.
The physical level of MTP (level 1) allows for the use of any digital-type interface 
supporting the data rate required by the networks. The bandwidth requirements are 
based on a number of variables related to the number and size of packets. Common 
interfaces in most SS7 networks today include DS0A and V.35.

Overview of Signal Units      121
For the most part, MTP works independently of all other levels. This enables the 
upper levels to evolve to meet the ever-changing demands of the network without af-
fecting the interface.
There is one exception to this rule: broadband networks. Existing TDM links are 
limited not only in bandwidth but also by the fact that a maximum of 32 links can be 
supported to any one network entity (this is less in some cases, as explained later). To 
overcome this limitation, high-speed links are used (ATM- and IP-based).
There are two standards (one by Telcordia and one by Lucent) for the use of DS1 fa-
cilities employing ATM. Both are referred to as high-speed-link ATM (HSL-ATM) with 
subtle differences. The DS1 bandwidth is 1.544 Mbps with no channelization.
Standards for IP are still evolving; however, a number of networks are already trans-
porting SS7 over IP using Tekelec’s TALI interface. The IETF Sigtran group is working 
on M2UA, M3UA, SUA, and SCTP to support the transport of SS7 over IP networks. 
The level 2 function of MTP provides the functions necessary to provide basic error 
detection and correction for all signal units. This protocol is concerned only with the 
delivery of signal units between two exchanges or signaling points. There is no consid-
eration outside the signaling link.
This implies that level 2 has no knowledge of the final destination. This is a fair 
assumption. Level 2 does not need to concern itself with this information. In the true 
spirit of the OSI model, this is left up to the upper levels. Level 2 provides reliable 
transfer of information over a signaling link to the adjacent signaling point. Once the 
information reaches the adjacent signaling point, it is up to level 2 to determine how to 
route the message any farther.
Level 2 is maintained at the signaling-link level. Each circuit card in an SS7 device 
must be able to provide and support this functionality independently of the rest of the 
system. For example, if several links are connecting to the same signaling point, each 
link runs independently and does not concern itself with the activities of the other 
links. Sequence numbering is a function found at this level. Now that we understand 
that this level works independently of all other levels and all other links, we can as-
sume that the sequence numbering is significant only on each particular link. In other 
words, if one link is transmitting messages using sequence numbers 1, 2, and 3, there is 
no synchronization of sequence numbers on the other links. They may use a completely 
different range of numbers as long as they are all sequential. Each link maintains its 
own sequence numbering.
This is also true for the adjacent signaling point on the same link. One signaling 
point can send sequence number 10, whereas the adjacent signaling point sends se-
quence number 121. This is so because these links have independent processing that is 
not synchronized, enabling links to be much more efficient.
Another function of level 2 is error checking. Two methods of error checking are avail-
able: basic and preventive cyclic redundancy (PCR). Basic error detection/correction is 
used with all terrestrial signaling links. This is by far the most favorable because it is 
much more efficient than PCR.
PCR is used only with satellite signaling links, and it uses constant retransmis-
sion rather than error checking. With basic error detection/correction, when an error  

122      Chapter 4
is detected, a retransmission is requested. The sequence number is provided for the 
last received signal unit that was good, enabling the originator of the bad signal unit 
to determine which signal units to retransmit.
In PCR, all transmitted signal units are retransmitted automatically during idle 
periods until they are acknowledged. Once they have been acknowledged, they are 
dropped from the transmission buffer. They are retransmitted continuously until the 
distant end acknowledges them. This, of course, is not efficient use of the network and 
creates a lot of overhead.
The reason for this method lies in the propagation delay introduced when using 
satellite signaling links. If a signal unit is sent, a retransmission may cross an ac-
knowledgment because of the delay encountered. This would lead to some confusing 
situations in which a signal unit is retransmitted (owing to a timeout, for example) and, 
at the same time, an acknowledgment is received. The receiving end also would find 
itself somewhat confused if it sent an acknowledgment, only to find the same signal 
unit being retransmitted.
Procedures to alleviate this are implemented whenever a satellite is used. The gen-
eral rule is not to use a satellite for signaling links whenever possible, but when there 
are no other alternatives, the protocol supports the use of satellites and microwaves. 
Level 2 also detects the presence of an opening flag for the delineation of an incoming 
signal unit. The flag is always a fixed pattern of 01111110 and is located in the first 
octet of the signal unit. As mentioned earlier, the opening flag is also the closing flag of 
the previous signal unit.
MTP level 3 provides four functions: message routing, message discrimination, mes-
sage distribution, and network management. Network management is probably the 
most important. Network management maintains the integrity of individual signaling 
links by continuously monitoring them and counting the number of errors that occur 
on any single link.
When excessive errors have been counted, the link is removed from service (messages 
are blocked from the link), and the link is reinitialized. Because most errors are the 
result of clock signal degeneration and other related factors, resynchronization of the 
link usually resolves any problems that may occur.
When a link is said to be functioning properly and messages are of the correct length, 
the link is in alignment. When messages are received that are not the correct length, or 
if there is a ones-density violation, the link is out of alignment.
Network management can rectify this problem. There are several functions within 
network management. Each function looks after a specific area of the network.  
They are
■ Link management 
■ Traffic management 
■ Route management
Link management is concerned with the integrity of an individual link. Although 
this is a level 3 function, it relies on the service of level 2 to notify adjacent nodes when 

Overview of Signal Units      123
there is a problem on a link. The types of problems typically are errors, such as signal 
unit length and synchronization.
Link management blocks messages from being transmitted over the affected link, 
routing traffic to other links within the same linkset. It also generates messages about 
the status to be sent to the node on the other end of the link. The adjacent node per-
forms the same functions.
Only adjacent signaling points are notified about link troubles. Link management 
does not inform other signaling points on the network. Therefore, link management is a 
local function and does not affect the performance of the overall network directly. There 
is a subtle impact, however, on the rest of the network when links fail. Link failures 
cause traffic to reroute to another link, possibly causing that link to become congested. 
If too much traffic is directed to other links and the processor cannot keep up with it, 
the signaling point can enter congestion.
When a signaling point becomes congested, the adjacent signaling points are notified 
to reroute all traffic around the congested signaling point. This can result in delays in 
the network and can even create congestion in other signaling points.
Link management is also responsible for activating and deactivating links and, in 
some cases, even automatic allocation. Automatic allocation is a feature offered in some 
service switching points (SSPs) that provide both voice circuits and SS7 links. Automatic 
allocation removes voice circuits from service and automatically places them in service 
as SS7 signaling links. The circuits must be preconfigured for this capability. Not all 
systems offer this capability, but when it is offered, it can be valuable in temporarily 
handling sudden bursts in link demand.
Traffic management provides the mechanisms for routing traffic around failed links 
within a linkset. Traffic management uses the MSU to send changeover and change-
back messages to an adjacent node, informing the adjacent node of the failed links.
This is not to be confused with link management, which is responsible for turning 
links up and taking links out of service. Link management is what controls the status 
of a link and informs the adjacent signaling point of the link status. The difference lies 
in the mechanism used to inform the adjacent signaling point.
Link management uses the LSSU, which is carried on the link that is affected. Traffic 
management uses another link within the same linkset and is used when a link fails for 
any reason to advise the adjacent signaling point to use another link within the same 
linkset. This mechanism is necessary when a link is unable to carry any level of traffic, 
such as when a backhoe digs up a link facility.
Route management is used to inform other signaling points on the network about 
the incapability of one signaling point to reach another signaling point. For example, 
if a signaling point becomes inaccessible to an adjacent signaling point, the adjacent 
signaling point will send a route management message to its adjacent signaling points 
to tell them that it can no longer reach the specified point code.
Transfer-restricted and transfer-prohibited messages are two of the most commonly 
used route management messages. In the event that a link becomes unavailable and 
link management sends a link management message to an adjacent signaling point, it 
is possible that, in time, if congestion occurs, route management will be implemented 

124      Chapter 4
to alert other signaling points on the network (only those adjacent to the originat-
ing signaling point) that the destination (or affected signaling point) can no longer  
be reached.
Besides the network management procedures just described, three other major func-
tions are within level 3:
■ Message discrimination 
■ Message distribution 
■ Message routing
First, message discrimination uses the routing label of the MSU to determine to 
whom a message is addressed. If the routing label contains the address of the local 
signaling point, then the message is handed off to message distribution. If the address 
is of another signaling point, the message is handed off to message routing.
Message distribution uses the SIO to determine the user of a message. If the SIO 
indicates that the user part is ISUP, the message is handed off to the ISUP. If the SIO 
indicates that the user part is the TCAP, the message is handed off to TCAP.
Message routing attaches a new routing label to an outgoing message and deter-
mines which signaling link should be used to route the call. The signaling point’s rout-
ing table works with this function in determining the destination point code and the 
linkset that should be used to reach the destination.
M2UA
M2UA was developed by the IETF to be used to support the back haul of SS7 traf-
fic over an IP facility. Currently in draft stage, this protocol will rely on SCTP or an 
equivalent transport.
One example of where this protocol would be used is between a signaling gateway 
(SG) and an MGC, where the SG is terminating conventional SS7 links (using MTP 
level 2). The SG would send messages to devices resident on an IP network. These are 
referred to as application servers (ASs), running multiple application server processes 
(ASPs). An example of an AS would be a server supporting services to telephone service 
subscribers.
The M2UA at the SG is responsible for maintaining the state of all ASPs that have 
been configured in the SG as destination addresses. They can be active ASPs (receiving 
traffic from the SG) or inactive ASPs (backup or redundant ASPs). In the event that 
there is more than one active ASP for a specific application, the SG is responsible for 
declaring one as active and the other as standby. Three redundancy modes for ASPs are 
supported: active/standby, load sharing, and broadcast.
Although the M2UA protocol does not specifically resolve the reliability and integrity 
of data sent/received, the document does specify the use of redundant servers whenever 
servers are used, as well as the diversity of logical connections wherever possible. This 
is the same philosophy followed with traditional SS7 networks.

Overview of Signal Units      125
M2UA also supports client/server implementation, which means that the protocol 
stack itself can be run on servers configured as either client or server. The default 
configuration calls for the SG to be configured as server and ASPs to be configured as 
clients.
The mapping between interface identifiers and physical link interfaces is also the 
responsibility of M2UA. This is vital to ensuring that messages from the SS7 network 
are routed to the proper ASP residing on the proper AS. Each SS7 link can be assigned 
to one SCTP stream, allowing for a one-to-one correlation between links and SCTP 
streams. The standard also enables a link to be split across multiple SCTP streams (as 
would be necessary for broadband links).
One area not defined in M2UA is flow control and congestion. These are currently 
left to individual implementations, which could be an area of concern when performing 
interoperability testing.
M2PA
This is a new edition from the Sigtran committee that is designed for use with nodes 
connecting via IP without any TDM-based SS7 connections. In this case, messages are 
never sent to a conventional SS7 network.
An SG can connect to other nodes within its own network using nothing but IP 
connections. When this is the case, a point code is assigned to the SG, and it behaves 
the same as an STP in conventional SS7 networks without using TDM facilities. This 
protocol is used in place of MTP2 and even supports functions of MTP3, such as data 
retrieval for changeover procedures.
M3UA
This protocol provides the functions of MTP level 3 in TCP/IP networks used for SS7 
transport. Address mapping from SS7 point codes to IP addresses is provided by this 
protocol. The actual mapping takes place at the SG. Routing is based on several param-
eters depending on whether or not the message is ISUP or TCAP.
For ISUP messages, routing is based on the destination point code (DPC), origination 
point code (OPC), SIO, and circuit identification code (CIC). These parameters are used 
to determine the IP address associated with MGCs on the IP network.
For SCCP/TCAP messages, routing is based on the DPC, OPC, SIO, and subsystem 
number (SSN). These parameters are used to determine the IP address associated with 
service control points (SCPs) on the IP network.
One significant difference between MTP3 and M3UA is the absence of protocol length 
limitations. MTP3 is limited to 256 bytes, whereas M3UA supports longer lengths. The 
broadband ISUP (BISUP) and BICC (ISUP1) protocols allow these longer lengths for 
broadband applications. Of course, when connecting to an IP-enabled STP within the 
network, messages of over 272 octets will not be able to convert to MTP-based SS7; 
therefore, the larger message size is only used when interconnecting within IP. M3UA 
uses the services of the SCTP.

126      Chapter 4
SCCP User Adaptation (SUA)
This protocol provides support for the transport of TCAP messages coming from or go-
ing to the SS7 network via an IP-based signaling network. The protocol provides full 
support for SCCP connectionless and connection-oriented services depending on the 
protocol being carried in the upper levels (such as MAP, INAP, and so on).
SUA was intended for use where telephone databases are connected to SGs using 
IP rather than conventional TDM-based signaling links. This is a favored approach 
in many networks owing to the current bottleneck that exists when using TDM-based 
links. Only 32 links can be supported on any one database platform, creating a huge 
throughput issue for services such as Local Number Portability (LNP). By using IP, this 
bottleneck is eliminated, and carriers can take advantage of 100 Mbps of bandwidth 
supported by IP.
If we look at the hierarchy of protocols in the preceding scenario, IP would be the 
transport, and SCTP would be the protocol providing services to SUA. The SUA proto-
col, in turn, provides services to TCAP or any other SCCP user.
The use of IP to connect to multiple servers providing a variety of network services 
is expanding and will continue to be one of the first implementations for IP in many 
networks.
Simple Control Transmission Protocol (SCTP)
Also developed by the IETF, this protocol is used as a transport in IP networks and is 
used in association with M2UA and M3UA protocols. SCTP is used in place of TCP or 
the User Datagram Protocol (UDP) and has been developed specifically for use in SS7 
networks where IP is the transport.
The difference between TCP and SCTP is in the delivery mechanism. SCTP uses 
packet-oriented delivery, whereas TCP uses stream-oriented delivery. SCTP also pro-
vides a means to protect against masquerade attacks, where messages are injected into 
the network from unknown points using false addresses (or addresses from other nodes 
on the network).
Network flooding is another concern in IP networks. Network flooding could occur 
when a network is attacked from unknown sources by sending thousands of messages 
(i.e., network management messages to several destinations on a network). SCTP de-
tects and prevents network flooding.
One of the unique features of MTP is the use of FISUs as keep-alive signals. As long 
as FISUs are detected on a link, the link is known to be capable of carrying live traf-
fic. As soon as a link fails, the transmission of FISUs fails, and network management 
takes over. This provides a means for detecting facility trouble even while the facility 
is idle. The FISUs also provide a means of acknowledgment on links when messages 
are transmitted.
SCTP replaces MTP; therefore, no FISUs are used in the IP portion of the network. 
However, SCTP does provide a keep-alive signal much like MTP to emulate FISUs.
In short, SCTP provides the functions needed to support a real-time protocol such 
as SS7 over IP networks. TCP was not designed for real-time functions and therefore 

Overview of Signal Units      127
does not make a good protocol for SS7 transport. This is what drove the development 
of SCTP. M2UA, M3UA, and M2PA all use SCTP.
Signaling Connection Control Part (SCCP)
The SCCP is only used with the TCAP, although the standards indicate its use with the 
SUP. The purpose of SCCP is to provide a means for end-to-end routing. The MTP is 
only capable of point-to-point routing. This means that a message can be routed based 
only on the physical links available from a signaling point.
SCCP provides the addressing to route a message through the entire network. This 
information is used at each signaling point by MTP level 3 routing to determine which 
linkset to use.
The difference between MTP and SCCP is the way the information is used and the 
nature of the addresses. The MTP provides both the OPC and DPC. In both cases, the 
point code is from a node-to-node perspective.
In the case of SCCP, the address consists of three parts: called/calling party, point 
code, and SSN. The routing can be based on any of the three, although when routing by 
point code, the address is a combination of the point code and SSN.
When routing a TCAP message, the signaling point must be able to identify the 
destination, which is almost always a computer database or a specific signaling point. 
In many cases there may not be any dialed digits associated with the transaction (al-
though in today’s applications this is not the case). SCCP provides the addressing 
needed by MTP to route a TCAP message through the network.
The address information in SCCP remains fairly static unless the point code and 
SSN are unknown to the originator. In this case, an STP will have to provide transla-
tion. This is usually the case when a number is dialed that cannot be routed by the 
network.
The digits provided in the called-party address are called global title digits. When 
the signaling point originating the message does not know the point code or the SSN of 
the database that will be providing a routing number for the requesting exchange, the 
global title digits have to be used by MTP level 3 for routing. At some point the point 
code and SSN have to be provided so that the message can reach its final destination. 
This function is known as global title translation (GTT) and usually is provided by the 
STP adjacent to the destination database.
When a number is dialed, such as an 800 or 900 number, the network cannot route 
the call based on conventional routing methods. This is so because the numbering plan 
uses the area code of a number to determine to which area in the nation’s network the 
call should be routed (the area being handled by a specific toll office). Likewise, the pre-
fix usually denotes a specific central office that can route this call to the subscriber. In 
the case of 800 and 900 numbers, these do not have area codes that denote a toll office. 
The SS7 network will provide a routing number by which the end exchange can route 
the call. This requires the services of the TCAP and SCCP. The called-party address of 
SCCP will provide the dialed digits, although not all the digits are necessary. Only the 
area code (800) and the prefix are necessary.

128      Chapter 4
The number is compared in a database, which provides the routing number to TCAP. 
The routing number is then returned to the requesting exchange via TCAP and SCCP 
so that a connection can be established for the call.
This is just one example of how SCCP can be used. The called-party address does 
not have to be dialed digits. In the wireless network, the mobile identification number 
(MIN) is placed in the called-party address for roaming information.
When used by the ISUP, SCCP enables ISUP messages associated with an already 
established connection to be routed using end-to-end routing, like TCAP messages. 
This functionality has not yet been implemented in SS7 networks; however, with new 
services and the evolution of the IN, this may become necessary.
ISDN User Part (ISUP)
The ISUP is a circuit-related protocol that is used for establishing circuit connections 
and maintaining the connections throughout a call. ISUP is only associated with voice 
and data calls on low-speed facilities. Broadband facilities such as ATM and Frame 
Relay are supported by BISUP.
ISUP supports both analog and digital voice circuits and was adopted by ANSI to 
replace the Telephone User Part (TUP). The TUP does not support data transmission 
or digital circuits. ISUP added the parameters necessary to support digital circuits and 
data transmission [specifically, integrated services digital network (ISDN) facilities, al-
though standard Plain Old Telephone Service (POTS) facilities and virtually all other 
nonbroadband facilities are supported by ISUP].
ISUP is compatible with the ISDN protocol, which was developed as an extension of 
SS7 to the subscriber. There is direct mapping of ISDN Q.931 message types to ISUP 
message types, even though the message types are not the same. The purpose of the 
ISDN compatibility is to enable subscriber switches to send signaling information to 
remote subscriber switches during the call connection phase. After the connection has 
been established, ISUP supports communications between the two endpoint subscriber 
switches. This feature may be necessary to support caller-invoked features, such as 
conference calling or automatic callback. The capability to invoke features and share 
information between two subscriber switches and/or networks is the unique capability 
of ISUP and the purpose for its development.
Broadband ISDN User Part (BISUP)
To support the broadband ISDN (BISDN) and ATM architectures, the ISUP protocol was 
modified. This new version of ISUP provides additional message types and parameters, 
which provide the support necessary for ATM and broadband networks. For example, ad-
dressing in these network protocols is very different from standard telephony, requiring 
changes to the protocols that must establish connections on these facilities.
The most significant difference between the ISUP and BISUP protocols is in the 
circuit-assignment procedures and the types of circuits supported. ATM and BISDN 
circuits are virtual circuits rather than physical circuits. This places new demands 

Overview of Signal Units      129
on the SS7 network because it must be capable of assigning these virtual circuits and 
maintaining them. Because of the number of circuits available in broadband networks, 
a new circuit-numbering convention was adopted.
In addition to the new circuit requirements, broadband networks also support the 
dynamic allocation of bandwidth on a per-call basis. Now, when a call connection is es-
tablished, the available bandwidth for that call is negotiated between the originating 
exchange and the destination exchange.
A few other, more subtle changes appear in this newer version of the ISUP protocol. 
They are described in more detail in Chapter 8. In addition to the procedure descrip-
tions, that chapter also has a section that explains the various message types and their 
parameters.
Telephone User Part (TUP)
The TUP is used in international networks. This protocol is compatible with the 
ISUP, with differences between the two mainly in the message type and parameters. 
Regardless of these differences, the two protocols can be mapped to one another suc-
cessfully, even if a one-to-one mapping relationship does not exist. TUP is being re-
placed by ISUP at the international level as well.
The United States and ANSI decided early on to replace this protocol with the ISUP 
protocol in order to support the evolving services provided in many U.S. networks. The 
international market is slowly evolving to this protocol.
Before ISUP, support for data services and digital facilities was provided through a 
now-obsolete protocol called the Data User Part (DUP). DUP is no longer used in U.S. 
networks and has been omitted from this book. Because of the migration toward ISUP 
at the international level, TUP has been omitted from this book as well.
Probably the most noticeable difference between the structures of ISUP and TUP is 
in the header field. The ISUP protocol uses message types, whereas the TUP protocol 
uses an H0/H1 header. The H0/H1 header was originated from the CCS6 protocols. 
Messages are grouped into classes, which are represented by the H0 field. The H1 field 
denotes the specific message within that class. ISUP uses message types without any 
classification. This provides more flexibility in the protocol and more room for growth.
Transaction Capabilities Application Part (TCAP)
The TCAP is probably the most versatile of all the SS7 protocols. TCAP is used for two 
purposes: accessing remote databases and invoking features in remote network entities.
A network entity does not have to be a switch. Any network device, provided that it 
is equipped with the proper interfaces and can provide all four levels of SS7 support, 
can be accessed by this protocol.
In today’s networks, TCAP is limited to database access, although more networks are 
providing new advanced services that require the use of TCAP to invoke those services. 
Custom calling features provided by the IN most certainly will require the support of 
TCAP to invoke features and services in remote switches.

130      Chapter 4
The TCAP protocol is not being used to its fullest potential today. The mechanisms cur-
rently provided in this protocol reach far beyond database access. As the IN evolves, the 
traffic mix in all SS7 networks will change rapidly to consist of mostly TCAP traffic.
The TCAP protocol has been designed to provide for the remote control of other 
network entities, which holds many possibilities in itself. For example, say that a sub-
scriber wants to change his or her telephone service. Normally, this would require a 
telephone call to the telephone company, which could remotely access the subscriber 
database and add the new service to the customer record. A service order would be 
generated, and the new services would be programmed into the switch serving the 
subscriber. With TCAP capability, subscribers could enter the order-entry system them-
selves. With an interface between the order-entry system and the switch, subscribers 
then could change the program within the switch serving their telephone numbers.
Another use for TCAP is seen widely today. Wireless carriers have found that TCAP 
and SS7 networks are a good use for the transport of simple text messages used with 
pagers and many cell phones. Short Message Service (SMS) sends short text messages 
through the SS7 network using the services of TCAP as an alternative to building out 
more expensive next-generation wireless networks. Known throughout the industry as 
2.5G and 3G networks, these wireless networks are costly to deploy but support the use 
of wireless devices to access Internet services.
Carriers are finding that subscribers are perfectly happy in the short term with 
SMS-based services and do not necessarily need full Internet access through their cel-
lular phones today. For this reason, we will continue to see SS7 networks expand their 
capacity to support the growth of SMS services.

Chapter
5
Message Transfer Part (MTP)
The MTP acts as the carrier for all Signaling System 7 (SS7) messages in networks 
based on time-division multiplexing (TDM), providing the reliable transfer of messages 
from one signaling point to another. This function includes levels 1, 2, and 3. In addition 
to providing signaling-point-to-signaling-point communications, the MTP also provides 
error detection and correction.
The methodologies of MTP are very similar to those used in other bit-oriented pro-
tocols (BOPs), such as X.25. Sequence-numbering and error-checking mechanisms are 
very similar.
The signal-unit structure used in all SS7 messages provides all the information re-
quired by MTP levels 2 and 3. Flow control is provided through the use of a special 
signal unit called the link status signal unit (LSSU), which is described in this chap-
ter. MTP is defined in International Telecommunications Union–Telecommunications 
Standardization Sector (ITU-TS) Publications Q.701 through Q.704, Q.706, and Q.707. 
They can be found in Telcordia Publication GR-246-CORE, Volume 1, Chapter 1, 
Sections 111.1 through 111.8. American National Standards Institute (ANSI) publica-
tions referring to the MTP protocol are numbered T1.111-1992, “Functional Description 
of the Signaling Message Transfer Part (MTP).”
The Telcordia recommendations add reliability and versatility to the network. The 
Telcordia publications are almost identical to the ANSI and ITU-TS publications, other 
than the additions made by Telcordia for network reliability and availability.
Overview of MTP Level 2
The MTP provides all functions of layers 1, 2, and 3 in the Open Systems Interconnection 
(OSI) model. We have already discussed the types of interfaces used at level 1 of the 
SS7 network. These are industry-standard interfaces and do not necessarily require an 
in-depth discussion here. Level 2 of MTP provides error detection/correction as well as 
error checking through the check-bit field.
131

132      Chapter 5
Besides error detection/correction, the MTP also provides link alignment, which 
could be associated with error correction. When a link is deemed unable to carry data 
(which is caused by clock corruption, among other things), the link can be removed from 
service and resynchronized. The following are the functions of the MTP:
■ Signal-unit delimitation 
■ Signal-unit alignment 
■ Signal-unit error detection 
■ Signal-unit error correction
■ Signaling-link initial alignment 
■ Signaling-link error monitoring 
■ Flow control
The purpose of the MTP is to ensure that the transmission facility is always func-
tioning and capable of transmitting data. The MTP possesses the unusual capability 
to detect errors even when no data are being transmitted. This is done through the 
transmission of fill-in signal units (FISUs). The following is a description of the various 
procedures used to monitor the integrity of the data link and how the link is realigned 
in the event the protocol deems it necessary.
Performance
The performance of the entire MTP can be expressed in simple terms. The availability 
of a set of signaling links used to reach a specific route, which is defined to reach a spe-
cific destination, must meet the criteria outlined in the various standards.
Telcordia has defined three possibilities for performance. The network can be divided 
into three segments: the user portion, the network backbone, and the network access. The 
user interface is where switches and databases [service switching points (SSPs) and ser-
vice control points (SCPs)] transmit and receive ISDN User Part (ISUP) and Transaction 
Capabilities Application Part (TCAP) messages. The network access portion involves the 
access links (A-links) from the SSPs and SCPs to the network signal transfer points (STPs). 
The links connecting STPs on the network are considered the network backbone.
User-interface unavailability should not exceed 3 minutes per year per interface. 
Network access unavailability is not to exceed 2 minutes per year. The backbone por-
tion of network unavailability should be a negligible amount of time.
Signaling-Link Error Monitoring
First, there must be a means for determining when a link is no longer capable of carry-
ing traffic reliably. Apart from detection and correction, there also must be a means for 
monitoring the number of errors that occur on a link and making the decision to take 
the link out of service (OOS).

Message Transfer Part (MTP)      133
Three types of error-rate monitors are used (Figure 5.1). Two are used when the link 
is in service, and the other is used when the link is going through an alignment pro-
cedure. The signal-unit error-rate monitor (SUERM) and the errored-interval monitor 
are used while the link is in service, and this is often referred to as the “leaky bucket” 
technique because of the way they decrement the counter after n number of good sig-
nal units or intervals. The SUERM is an incremental counter that is incremented by 1  
whenever an error is encountered. An error includes signal units received out of se-
quence, with a bad cyclic redundancy check (CRC), or of improper length. After 256 sig-
nal units have been received without error (consecutive signaling units), the SUERM 
is decremented by 1.
When the SUERM reaches a value of 64 errors, a link failure is reported to level 3, 
and the link is taken OOS and placed through an alignment procedure. Level 3 controls 
the link management function and directs level 2 during the alignment procedure. 
Level 2 does not initiate the alignment procedure; it simply reports the errors and takes 
direction from level 3 link management.
When 1.536-Mbps links are used, the errored-interval monitor method is used. The 
link is monitored for a determined period of time (defined by Telcordia as 100 ms). If a 
flag is lost during the interval or a signal unit is received in error, then the interval is 
considered in error. An errored interval increments a counter in the same fashion as the 
SUERM. The counter is decremented when 9308 intervals have passed without error 
(also defined by Telcordia). When the counter reaches a value of 144,292 intervals, the 
link is removed from service, and alignment procedures are started. The actual values 
may be different, especially in international networks, but these are the recommended 
values defined by Telcordia.
The alignment error-rate monitor (AERM) is used during the alignment procedure 
and is an incremental counter. Each time an error is encountered during alignment, the 
counter is incremented by 1. When the AERM determines that there have been excessive 
errors, it causes the link to be taken OOS, and the alignment procedure begins again.
User
User 
Interface
User 
Interface
User
A links
A links
Signaling Point
Signaling Point
Trunk
Backbone 
Network 
Segment
Network 
Access 
Segment
User 
Interface 
Segment
User 
Interface 
Segment
Network 
Access 
Segment
Figure 5.1 Relationship between trunks and signaling links.

134      Chapter 5
Signal-Unit Error Detection
Errors are detected using the check-bit field and the sequence number of the signal 
unit. If the check-bit field is in error, the signal unit is discarded, and a negative 
acknowledgment is sent to the originating signaling point. An error is also counted 
by the SUERM.
The level 2 timer T7, which is used for excessive delay of acknowledgment, prevents 
a signaling point from waiting too long for a positive or negative acknowledgment. 
Usually, an acknowledgment is sent when a signaling point becomes idle and does not 
have any more traffic to transmit. When congestion occurs at a signaling point or an 
extreme amount of traffic is present, it is possible that T7 could time out and force the 
retransmission of messages.
The recommended value for T7 is 11.5 seconds. This, of course, depends on the network. 
Although the actual value of T7 is optional, the timer usually is a nonadministrable 
timer, which means that once it is set, it cannot be changed by system administration.
Signal-Unit Error Correction
When an error is detected in a signal unit, the signal unit is discarded. MTP level 2 
counts the error (SUERM or errored-interval monitor) and requests a retransmission if 
basic error control is being used. Preventative cyclic retransmission (PCR) treats errors 
differently and is explained in greater detail later in the section, “Preventative Cyclic 
Retransmission (PCR)” below.
When excessive errors are detected on any one link, the link is taken OOS. The link 
is then placed through an alignment procedure to test the link and place it back into 
service automatically. The link will not be placed back into service until it has passed 
the proving period of the alignment procedure.
Signal-Unit Alignment
A link is considered in alignment when signal units are received in sequence without 
ones-density violations and with the proper number of octets (based on the message 
type). The total length of the signal unit must consist of 8-bit multiples. If the signal 
unit is not in 8-bit multiples or if the signaling information field (SIF) of a message 
signal unit (MSU) exceeds the 272-octet capacity, the signal unit received is considered 
in error [the 272-octet rule only applies in conventional TDM-based SS7 networks and 
is eliminated when the Internet Protocol (IP) is used].
The link is not taken OOS until there has been an excessive number of errors. This 
is determined by the SUERM. This counter is used to count the total number of errors 
on a signaling link. Each link keeps its own unique counter.
The purpose of the counter is to determine when an excessive number of errors has 
occurred (64) and to take the link OOS. The type of error is limited to alignment errors. 
The typical cause of alignment errors is usually clock signals that are not properly 
synchronized on both ends of a link.

Message Transfer Part (MTP)      135
The network management procedure at level 3 is responsible for realigning the link 
(by taking it OOS and resynchronizing it). Level 2 is responsible for reporting any er-
rors to level 3 link management.
When the link is taken OOS, it must be tested for integrity before it is available for 
MSUs again. This process is known as the alignment procedure. Two types of alignment 
procedures are used: normal alignment procedure and emergency alignment procedure. 
Both these methods are discussed in greater detail later in this section.
Signal-Unit Delimitation
Every signal unit is preceded by a flag. The flag is an 8-bit pattern beginning with 0, 
followed by six consecutive 1s, and ending in 0 (01111110). The flag is used to signify 
the beginning of a signal unit and the end of the preceding signal unit. Although the 
protocol actually enables both an opening and closing flag, only one flag is used in the 
United States.
Signal-unit delimitation is important to the upper layers. In most networks, traffic is 
flowing constantly through each signaling point, even though the messages may not con-
tain any information. More detailed information is provided in the following subsection.
Flow Control
Flow control enables traffic to be throttled when level 2 becomes congested at a distant 
signaling point. The LSSU is used to send congestion indications to the transmitting 
nodes. When an LSSU of busy is received, the receiving signaling point stops sending 
MSUs until the congestion is abated.
Flow control also uses a priority for signal-unit types to ensure that important signal 
units such as MSUs are transmitted, even during a congestion condition. Congestion is 
not the only condition indicated by flow control. Processor failures are also indicated by 
level 2, meaning that level 2 can no longer communicate with levels 3 or 4.
Flow control at this level indicates congestion with the specified link, not the signal-
ing points. In addition, flow control at level 2 provides priority consideration for signal 
units, with no regard to the user part.
This is different from level 3 network management, which gives consideration to the 
user of a signal unit. Level 3 network management controls the flow of messages to a 
particular level 4 user, whereas flow control at level 2 controls the flow of messages to 
a link processor.
If the congestion condition should continue, the link will be taken OOS and realigned 
using the alignment procedure. This prevents the link from becoming locked in the 
congestion state.
Structure of MTP Level 2
The signal-unit components used by level 2 are shown in Figure 5.2. These components 
can be found in all three types of signaling units. The backward sequence number (BSN) 
and the forward sequence number (FSN) are used for sequencing packets and are used 

136      Chapter 5
by level 2 to ensure that all transmitted packets are received. They are also used for 
positive and negative acknowledgments. The indicator bits are used to request a re-
transmission. The length indicator (LI) enables level 2 to determine the type of signal 
unit being sent, and the CRC field is used to detect data errors in the signal unit.
Flag
The flag is used to indicate the beginning and end of a signal unit. As mentioned in 
Chapter 4, the flag in U.S. networks is used to indicate both the beginning of one signal 
unit and the end of another. In some other networks, there can be both an opening and 
closing flag.
The flag bit pattern can be duplicated within the information field of an MSU (ones-
density violation), causing an error to occur. To prevent the data from duplicating the 
flag pattern, the transmitting signaling point uses bit stuffing. Bit stuffing is the pro-
cess of inserting an extra bit before transmission after every series of five consecutive 
1s. The bit value is always 0.
By inserting a 0 after every five consecutive 1s pattern before transmitting a signal unit, 
the transmitting signaling point can ensure that there is never an occurrence of six con-
secutive 1s except for the flag, which is inserted just before transmitting the signal unit.
The receiving signaling point, on receipt of a signal unit with five consecutive 1s, 
removes the inserted 0s from the signal unit. Because this is an absolute rule, a 0 is 
always going to be inserted after five consecutive 1s and is always removed after five 
consecutive 1s.
When a ones-density violation occurs, the signal unit is considered out of alignment, 
and level 3 is notified of a link failure. The link then enters what is referred to as octet-
counting mode. During this mode, every octet is counted, and the number of errors per 
octet is monitored rather than errors per signal unit. The link is then taken OOS and 
put through an alignment procedure.
Level 4
Level 3
Level 2
Level 1
User
Part
Message Flow
Signaling Link Functions
Link
Functions
Data
Link
Network
Management
Message
Handling
Figure 5.2 Level 2 MTP is responsible for link functions, which include aligning the link and reporting link 
status to MTP level 3.

Message Transfer Part (MTP)      137
Sequence Numbering
The SS7 protocol uses sequence numbering like many other layer 2 BOPs. The SS7 tech-
nique is just a little different from, say, X.25, but the principle is the same. Sequence 
numbering is achieved in several ways. When 56-kbps links are used, a 7-bit sequence 
number is used. Both an FSN and a BSN are used on these links. The sequence number 
used on 1.536-Mbps links is 12 bits in length (if MTP level 2 is used on these links). If 
Asynchronous Transfer Mode (ATM) links are used, MTP is replaced by the Signaling 
ATM Adaptation Layer (SAAL) protocol, which uses a 24-bit sequence number. Here is 
how sequence numbering works within MTP level 2. The FSN indicates the number of 
the signal unit now being sent. This sequence number is incremented by 1 after every 
signal-unit transmission, except in the case of the FISU or LSSU. The FISU and LSSU 
assume the FSN of the last MSU or LSSU is sent and is never incremented.
The BSN is used to acknowledge received signaling units. For example, if sequence 
numbers 1 through 7 have been sent and received by the distant signaling point, the 
next signal unit sent by the receiving signaling point could have a BSN of 7, which 
acknowledges that all signal units, 1 through 7, were received without error.
The transmitting signaling point maintains all transmitted signal units in its trans-
mit buffer until an acknowledgment is received. When a signal unit is received, the 
BSN is examined to determine which signal units are being acknowledged. All acknowl-
edged signaling units are then dropped from the transmit buffer.
If signal units remain in the buffer unacknowledged, they will remain until timer T7 
times out. When T7 times out, a link-failure indication is given to level 3. This causes 
the link to be taken OOS and placed through the alignment procedure.
Signal units received are checked for integrity [check-bit field (CRC)], and they also 
are checked for proper length. A signal unit must be at least six octets in length, or it 
is discarded, and the error-rate monitor is incremented. A negative acknowledgment 
then is sent to request a retransmission of the bad signal unit. A signal unit’s length 
must be in 8-bit multiples; otherwise, the signal unit is in error.
Indicator Bits
The indicator bits are used to request a retransmission. There are two indicator bits: a 
forward indicator bit (FIB) and a backward indicator bit (BIB). During normal condi-
tions, both indicator bits should be of the same value (0 or 1). When a retransmission 
is being requested, the signal unit being sent by the signaling point requesting the 
retransmission will have an inverted BIB. The FIB retains its original value. This in-
dicates to the distant signaling point that an error occurred and retransmission must 
take place.
The BSN indicates the last signal unit received without error. The receiver of the 
retransmission request then retransmits everything in its transmit buffer with a se-
quence number higher than the BSN of the retransmission request. The indicator bits 
in the retransmitted message are independent of the originating exchange’s indicator 
bits and do not provide any indication. Therefore, they will both be of the same value 
during the retransmission.

138      Chapter 5
When the retransmitted signal units reach the distant exchange that originated the 
retransmission request, an acknowledgment is sent. The FIB in the acknowledgment 
will be toggled to match the BIB and will remain at this value until another retrans-
mission request.
The process we are describing is referred to as basic error detection/correction. These 
procedures are discussed further in the following section.
Length Indicator (LI)
The LI is used by level 2 to determine which type of signal unit is being sent. The values 
of the LI can be –
0 (FISU)
1 or 2 (LSSU)
3 or more (MSU)
The LI should match the length of the field immediately following it before the CRC 
field. This field does not exist in the FISU. In the LSSU, this is the status field (SF), 
which can be one or two octets in length. If the signal unit is an MSU, there are two 
fields: the service indicator octet (SIO) and the SIF. The SIO is an 8-bit field, whereas 
the SIF is a variable-length field used by level 4.
The maximum length of the SIF is 272 octets. Obviously, the LI cannot accommodate 
such a large number. Therefore, whenever the SIF length equals 62 octets or higher, the 
LI is set to the value of 63. Only level 2 uses this LI, and its only purpose is to indicate 
what type of signal unit is being received. LIs can be found throughout the level 4 packet 
to indicate the length of the variable fields within level 4.
Cyclic Redundancy Check (CRC)
The CRC field is the last field in the signal unit. This field is calculated using the fields 
immediately following the flag up to the check-bit field itself. The fundamental process 
is rather simple. The transmitting signaling point performs the check before bit stuff-
ing and transmission. The remainder is carried in the transmission in the frame-check 
sequence (FCS) field. The receiving signaling point then performs a similar calculation 
and compares the remainder to the FCS field of the received signal unit. If there is a 
discrepancy, the signal unit is discarded, and an error is counted in the SUERM. The 
CRC-16 method of error checking is used in SS7.
MTP Level 2 Procedures
The preceding section provides a basic overview of how MTP level 2 works. This section 
will provide more details about the various procedures and functions used within the 
MTP at this level.

Message Transfer Part (MTP)      139
Basic Error-Control Method
So far we have discussed how a link is placed into service when it is started and a little 
about negative acknowledgments and retransmission. After a link has been placed in 
service, error detection/correction is used at level 2 to maintain proper transmission 
of SS7 messages. There are two methods of error control: basic error control and PCR. 
First, we will discuss the basic error-control method.
Basic error detection/correction is used whenever a signaling link uses a terrestrial 
facility. Land links can be of any type of medium—it makes no difference to the MTP 
at this level. Basic error detection/correction is the most favored method.
Basic error control uses the indicator bits within the MTP portion of the signal unit 
to request the retransmission of signal units received with errors (Figure 5.3). When 
an MSU is transmitted, the transmitting signaling point sets the FIB and BIB to be 
the same. This is the state the indicator bits always should be in when there are no 
errors. Both the FIB and BIB should be of the same value, but it makes no difference 
if the value is a 1 or 0.
When a signaling point detects an error, the signal unit in error is discarded, and 
a negative acknowledgment is sent to the transmitting signaling point. The negative 
acknowledgment may use an FISU, LSSU, or MSU. The BIB is inverted to indicate a 
retransmission request. Again, the actual value is of no significance; just the fact that 
the bit is different from the FIB is of significance here.
The BSN should acknowledge receipt of the last good MSU. The BSN then is used 
by level 2 at the transmitting signaling point to determine which signal units in the 
transmit buffer to retransmit. All the signal units that have been acknowledged are 
removed from the buffer, and the remaining signal units then are retransmitted.
When the retransmission begins, the FIB is inverted to match the value of the BIB 
of the received retransmission request. Both indicator bits should now match again. 
They retain this value until a retransmission is requested again, in which case the BIB 
inverts to a value different from the FIB.
Sequence numbers in the SS7 network can be a value from 0 to 127. This is known 
as modulo 128, meaning that 128 sequence numbers can be sent before recycling again. 
The number of sequence numbers that can be sent before an acknowledgment must be 
received is referred to as the window size.
The larger the window size, typically the better is the throughput. This is only true, 
however, when you have reliable transmission. When the link has too many errors, 
retransmissions can congest the signaling point at the link level. When there is a large 
number of signal units to retransmit, the problem is compounded.
FCS
SIF
SIO
LI
FIB 
“0”
FSN
BIB 
“1”
BSN
FLAG
8
8
2
8 to 272
6
1
7
1
7
8
Figure 5.3 In a retransmission request, the BIB has been changed from its previous value, whereas the 
FIB remains the same.

140      Chapter 5
The window size of any signaling point is something that must be determined based 
on the type of transmissions, the capacity of the link, and the average number of re-
transmissions that occur. Figure 5.4 shows a sequence of good transmissions with posi-
tive acknowledgments. The positive acknowledgment is the sending of a signal unit in 
the opposite direction with an acknowledgment (the BSN) for previously transmitted 
signal units. When the acknowledgment is received, the signal units can be dropped 
from the transmission buffer.
It should be mentioned that an acknowledgment does not have to be received after 
every signal unit. A common practice in all asynchronous protocols is to permit several 
signal units to be acknowledged in one acknowledgment.
Likewise, an acknowledgment could be received for only some of the transmitted 
signal units. This does not indicate an error. As seen in Figure 5.5, the acknowledgment 
could come a little later. Sometimes processors get busy and cannot acknowledge every-
thing at once. As long as the T7 timer does not expire, this does not pose a problem.
Preventative Cyclic Retransmission (PCR)
PCR is used whenever satellite transmission is required for signaling links. This is 
not the favored method because it uses a higher number of retransmissions than basic  
error detection/correction does.
PCR does not use the indicator bits when a retransmission is needed. Instead, all 
unacknowledged signal units are retransmitted automatically during an idle period. 
Indicator bits could prove to be a frustrating tool with satellite transmission because 
of the propagation delay introduced with this method of transmission.
Signaling Point A
FIB FSN
BIB
BSN
BSN
BIB
FSN
FIB
1
24
1
32
1
25
1
32
1
26
1
32
1
27
1
32
27
0
33
0
27
0
34
0
Signaling Point B
Figure 5.4 In a successful transmission sequence between two exchanges, the BSN acknowledges receipt of 
the previously sent messages. Unlike most protocols that indicate what sequence number they expect next, 
the BSN value is of the last received sequence number.

Message Transfer Part (MTP)      141
The PCR method waits until there are no more MSUs to be sent and then retrans-
mits everything in its transmit buffer. Only unacknowledged signal units will be in the 
buffer, so, in essence, the signaling point is retransmitting what it perceives to be signal 
units that have not been received.
If a signal unit has been received and another of the same sequence number is re-
ceived, the retransmitted signal unit is discarded. If a signal unit is received with a new 
signal unit, it is processed as normal. Eventually, the distant signaling point will send 
an acknowledgment for all received signal units.
If a signaling point is sending retransmissions and it receives additional MSUs to 
transmit, it stops the retransmission and sends the newly received MSUs. The distant 
signaling point must be capable of determining which are new MSUs and which are 
retransmissions.
If the transmit buffer of a signaling point should become full, it stops sending any 
MSUs and sends the entire contents of the buffer. No new MSUs can be sent during 
this period. If an acknowledgment is still not received, the buffer is retransmitted again 
until an acknowledgment is received. This is known as a forced retransmission.
To prevent this condition from occurring, a counter typically is implemented to allow 
the forced retransmission before the buffer becomes full and MSUs become lost. If the 
buffer is full, MSUs received are going to be discarded, and a signal indicating busy 
status will be sent to adjacent signaling points. By using an administrable counter, a 
threshold can be set to force retransmission when the buffer reaches a predetermined 
capacity.
The only rules in PCR govern the number of signal units that can be sent without 
acknowledgment and the number of octets that can be sent without receiving an ac-
knowledgment. No more than 127 signal units can be sent without acknowledgment. 
The number of octets must not exceed the time to send a signal unit and receive an 
acknowledgment.
Signaling Point A
FIB FSN
BIB
BSN
BSN
BIB
FSN
FIB
1
24
1
32
1
25
1
32
1
26
1
32
24
1
33
1
26
1
34
1
Signaling Point B
Figure 5.5 In this figure, it appears as if there may have been an error; however, no error occurred. Signaling 
point B sent an acknowledgment for sequence number 24 and then sent an acknowledgment for sequence num-
bers 25 and 26. Timers allow this asynchronous acknowledgment of messages without causing retransmission.

142      Chapter 5
Figure 5.6 depicts a sequence of events in which several MSUs have been sent but 
not yet acknowledged. The transmitting signaling point does not have any more MSUs 
to transmit, so it automatically begins retransmitting what is in its transmit buffer. 
During the retransmission, a group of new MSUs is generated. This results in the 
retransmission being stopped and the new MSUs being transmitted. Once these have 
been transmitted, the retransmission begins again.
Finally, the distant signaling point has reached an idle state and begins sending ac-
knowledgments back to the originating signaling point. The theory behind this method 
is that eventually a signal unit will reach the other signaling point, with or without 
retransmission. The retransmission may flood the link and push the link beyond its  
40 percent capacity, but the messages are guaranteed a higher rate of success if they 
are transmitted continuously in this fashion.
Structure of the LSSU
The LSSU, as shown in Figure 5.7, is used at level 2 to notify adjacent nodes of the sta-
tus of level 2 at the transmitting signaling point. Link status is carried over the same 
link for which it applies and is not carried over other links (assuming, of course, that 
the link is functional at level 2).
Timer Expires
FSN
24
25
26
27
28
29
30
31
26
27
28
29
30
31
33
25
33
33
33
33
33
33
32
32
32
32
32
32
32
32
BSN
FSN
BSN
Figure 5.6 With PCR, the transmitting signaling point maintains all messages in its transmit buffer until 
an acknowledgment is received. The signaling point retransmits all unacknowledged messages after expira-
tion of a timer or when there is nothing else to transmit.

Message Transfer Part (MTP)      143
If level 2 fails completely, then nothing is received over the link, including FISUs. 
Level 3 is notified that acknowledgments have not been received, and it initiates a link-
failure recovery. Link recovery is accomplished through the alignment procedure.
The LSSU is transmitted by the hardware and software associated with a particular 
link. The link itself may or may not be at fault. The trouble usually can be found at 
the termination point of the link—for instance, a link interface card. Because this is 
where level 2 software resides, this should be the first point of maintenance testing. A 
hardware or software failure at the link interface card causes level 2 software to initi-
ate LSSUs.
The LSSU provides three types of status information:
Level 2 is congested.
Level 2 cannot access levels 3 or 4 (processor outage). 
The alignment procedure has been implemented.
The SF is used to provide the information to the adjacent signaling point. The infor-
mation does not include the link number, which means that this signal unit cannot be 
used to notify nodes about link status over other signaling links. It pertains only to the 
link on which it was received.
Another important concept with the LSSU is that the status is really level 2 and 
3 status in the transmitting signaling point rather than the transmission facility. 
Throughout the various SS7 publications, when they talk about the signaling-link sta-
tus and signaling-link functions, they are really talking about the level 2 functionality 
in the signaling point itself.
The SF is an 8- or 16-bit field, although only 3 bits are actually used. The three most 
significant bits provide the actual status information, whereas the remaining bits are 
set to 0.
The status indicator of busy (SIB) indicates that level 2 is congested at the transmit-
ting signaling point. When a signaling point receives an SIB, it stops the transmission 
of all MSUs and begins sending FISUs. If the condition persists for 3 to 6 seconds, 
level 3 is informed of a link failure. Level 3 then initiates the alignment procedure to 
begin on the affected link.
The congested signaling point continues sending SIBs at regular intervals (timer T5) 
until the condition abates. Timer T5 has a value of 80 to 120 ms. Any MSUs already 
received by the transmitting signaling point will be acknowledged, but no new MSUs 
should be sent.
Number of bits
FCS
SF
LI
FIB
FSN
BIB
BSN
FLAG
8
2
8 or 16
6
1
7
1
7
8
Figure 5.7 Components of the LSSU.

144      Chapter 5
At the receiving signaling point, the timer T7 is reset every time an SIB is received. 
Timer T7 is used for excessive delay of acknowledgment. If T7 should time out, the link 
is considered at fault, and level 3 initiates the alignment procedure. To prevent this 
from occurring, the T7 timer is reset after every SIB.
To prevent an excessive delay caused by a received SIB, a signaling point begins 
timer T6 on receipt of an SIB. This timer is used to time the congestion period, prevent-
ing congestion at a remote signaling point from causing the network to bottleneck. If 
T6 should time out, the link is considered at fault, and level 3 initiates the alignment 
procedure on the affected link. The value for T6 is 1 to 6 seconds.
To indicate that congestion has subsided and normal processing can begin, the af-
fected signaling point will begin transmitting MSUs again and stop the transmission of 
SIBs. The receiving signaling point recognizes the absence of SIBs and begins receiving 
MSUs as normal.
The status indicator of processor outage (SIPO) indicates that the transmitting sig-
naling point cannot communicate with levels 3 and 4. This could be caused by a central 
processor unit (CPU) failure or a complete nodal failure. If maintenance personnel 
have placed a link OOS manually, the link will send SIPOs to the adjacent signaling 
point as well. Level 2 is usually functional because it resides within the link interface 
hardware. The signaling point sends an SIPO to notify the distant signaling point to 
stop sending MSUs.
On receipt of an SIPO, the transmission of all MSUs is stopped, and FISUs are sent 
to the affected signaling point. The transmitting and receiving nodes stop level 2 timers 
T5, T6, and T7. If the condition persists for too long, then the link has failed, and level 3 
initiates the alignment procedure on the affected link.
Even though there has been a processor outage, level 3 still may be capable of con-
trolling level 2 functions. When this is the case, level 3 may request level 2 to empty its 
buffer (both the receive buffer and the transmission buffer). When this is the case, all 
MSUs in the buffer are discarded. When an MSU is received from a remote signaling 
point, level 2 of the affected signaling point sends an FISU with the FSN and FIB set to 
the same value as the BSN and BIB of the last MSU received from the remote signaling 
point. Normal processing of all messages then resumes.
The LSSU also sends a status indicator of out of alignment (SIO). This condition 
occurs when a signal unit is received that has a ones-density violation (the data field 
simulated a flag) or the SIF has exceeded its maximum capacity of 272 octets. The SIO 
is sent when a link has failed and the alignment procedure is initiated.
An LSSU status indicator of out of service (SIOS) indicates that the sending signaling 
point cannot receive or transmit any MSUs for reasons other than a processor outage. 
On receipt of an SIOS, the receiving signaling point stops the transmission of MSUs 
and begins transmitting FISUs. The SIOS is also sent at the beginning of the align-
ment procedure.
Link status indicator of normal (SIN) or emergency (SIE) indicates that the transmit-
ting signaling point has initiated the alignment procedure. The link is made unavail-
able for MSUs, and only FISUs are transmitted to the affected signaling point until  
a proving period has been passed (see the section “State 03: Proving” below for  

Message Transfer Part (MTP)      145
information on proving periods). After successful completion of a proving period, MSUs 
can be transmitted over the link to the affected signaling point.
In the event that an LSSU is received with errors, the receiving signaling point 
discards the signal unit. Retransmission is not requested of the LSSU. The FSN of an 
LSSU does not increment, but it assumes the value of the last transmitted MSU. The 
BSN does increment when an acknowledgment is being sent to the distant signaling 
point.
The LSSU is processed within level 2 and does not get passed to level 3. However, 
level 2 may pass control information to level 3 depending on the status of the LSSU. 
For example, if an LSSU with a busy status is received, level 2 notifies level 3 to stop 
the transmission of MSUs.
It is also important to remember that the LSSU works independently of network 
management, which is a level 3 function. In fact, network management uses the MSU 
to send management information to other nodes and can use any link or route to reach 
adjacent nodes. Level 3 is used when links have failed altogether and LSSUs cannot be 
transmitted over the affected link.
Most level 2 problems are caused by hardware failures. Therefore, they do not require 
the same level of sophistication as software problems. Level 3 and 4 errors are normally 
software-related, and they require more sophisticated reporting mechanisms. The re-
covery procedures used by maintenance personnel also will be very different for level 3 
and 4 problems from those at level 2.
Signal-Unit Alignment Procedure
The purpose of the alignment procedure is to reestablish the timing and alignment of sig-
nal units so that the affected signaling point can determine where signaling units begin 
and end. In other words, when a node receives a signal unit, it needs to know that a bit 
begins on a particular clock tick. As mentioned previously, the out-of-alignment condition 
occurs when the flag has been simulated within the data (ones-density violation) or the 
SIF is too long (longer than 272 octets), which would indicate that a flag was missed.
The procedure resets both the transmitting and receiving nodes at level 2 and does 
not affect other links at either signaling point. The procedure also provides testing for 
a given period of time to ensure that link transmission is reliable, preventing further 
errors from occurring.
Two alignment procedures are used: normal alignment and emergency alignment. 
Normal alignment is used when other links are associated with the affected link (such 
as in a linkset). The other links must be going to the same destination. An emergency 
alignment is used when no other links to the adjacent signaling point are within the 
linkset. Emergency alignment uses the same procedure but within a shorter time pe-
riod. Level 3 is responsible for determining which alignment procedure to use.
Four states are entered during alignment. Timers associated with each state ensure 
that the signaling point does not get stuck in any one state. When any of the timers 
times out, the alignment starts over again. The following explanation describes each 
state and the events that occur during these states.

146      Chapter 5
State 00: Idle This state indicates that the procedure is suspended, and it is the 
first state entered. State 00 is resumed whenever the alignment procedure is aborted  
(owing to excessive errors). During the time a link is in a proving period, level 3 
network management reroutes signal units to other links. If a link should fail the 
proving period, level 3 places the link back into state 00 for a specified time period 
(level 3 timer T17).
To prevent rapid link oscillation between in-service and out-of-service states, the 
level 3 timer T32 is used. When a link is placed back into the alignment procedure, 
timer T32 is started. If the link fails during T32, the link is placed back into state 00 
until T32 expires. Attempts by the remote signaling point to begin alignment of the link 
are ignored during this time. The signaling point responsible for initiating the state 00 
will transmit LSSUs with the SIOS until timer T32 expires.
State 01: Not Aligned This state is entered when initiated by level 3. The signaling 
point initiating the link state will send an LSSU with an SIOS and start the level 2 
timer T2 (not aligned). Timer T2 for normal alignment is set to 11.5 or 23 seconds (this 
is determined during configuration of the signaling point itself).
In some networks, the signaling points have the capability to make links inactive, al-
locating them for other traffic (such as bearer traffic). When the link is needed owing to 
traffic, it then can be reassigned as a signaling link. This is referred to in the standards 
as automatic link allocation. When signaling points use this function, timer T2 must be 
set with different values at either end of the signaling link. The signaling point contin-
ues to send LSSUs with the value of SIO until level 3 initiates the next state.
State 02: Aligned The aligned state indicates that the link is aligned and is capable of 
detecting flags and signal units without error. Remember that out of alignment means 
that the signaling point can no longer delineate signal units based on receipt of a flag. 
What this really implies is that the link has lost its timing and no longer recognizes the 
beginning and end of a signal unit. This state indicates that the link is now capable of 
detecting flags and recognizes the boundaries within the signal unit itself.
During the time that the link is in state 02, the level 2 timer T3 is started. When the 
link leaves state 02 and enters state 03, T3 is stopped. If T3 should time out, the link 
is returned to state 00, and the process begins all over again.
State 03: Proving The proving period is used to test the integrity of the link and level 2 
at the signaling point. During the proving period, LSSUs with the value of SIN or SIE 
are sent, and errors are counted. There are two proving periods: normal and emergency. 
The normal proving period lasts for 2.3 seconds, during which time no more than four 
errors may occur while in state 03. The AERM keeps count of all errors received during 
the proving period. The AERM is an incremental counter that counts all transmission 
errors, including CRC errors and ones-density violations.
During the proving period, FISUs are sent on the link. The LSSU of normal or emer-
gency (SIN or SIE) is also sent to indicate that the link is in a proving period.

Message Transfer Part (MTP)      147
The emergency proving period lasts for 0.6 second, during which time no more than 
one error may occur. This is also monitored by the AERM. When excessive errors have 
occurred according to the procedure, the link is returned to state 00, and the process 
begins all over again.
If a link cannot be restored, it is returned to the idle state, and the alignment proce-
dure is repeated until either the link is restored or maintenance personnel detect the 
repetitive failure and take corrective action. When a link is found to be continually 
failing or in constant alignment, it usually indicates an equipment failure, which can 
be resolved by manual intervention (replacing the link interface card usually fixes the 
problem). Maintenance personnel always should be monitoring the status of signaling 
links and watching for links that continuously fail. Traffic measurements provided by 
most signaling points can be a useful tool in determining the number of failures during 
a given period of time.
Level 3 Alignment Processes
After a link has passed the alignment procedure successfully, the link is returned to an 
in-service state, where MSUs are transmitted and normal processing is allowed. The 
link is placed into a probationary period by level 3, which lasts a period set by level 3 
timer T33. If the link fails during the probation, it is placed back into suspension  
(state 00), during which time level 1 sends LSSUs with an SIOS. All attempts to place the 
link into alignment are ignored until the level 3 timer T34 expires.
Timer T34, which is the suspension timer for link oscillation, is also used to prevent 
links from rapidly oscillating from an in-service to out-of-service state. These level 3 
timers—T32, T33, and T34—are all used to filter link oscillation and are only required 
in Bell System networks at STPs.
On completion of the alignment procedure at level 2, level 3 begins a signaling link 
test to determine if the link is capable of carrying traffic. This is an option in the ANSI 
recommendations, but it is a requirement within Bell System networks.
Bell System networks also use a mechanism for automatic allocation of signaling 
links in the event that there is a signaling-link failure within the linkset and additional 
links are required. This procedure uses a predefined set of links that are employed for 
other applications (such as voice transmission) and, when needed, places them into the 
alignment procedure for preparation as signaling links within the SS7 network. This 
process ensures that links are always available, even when the designated active links 
have failed and cannot be restored. Level 3 is responsible for activation and restoration 
of these links, as well as for assigning them to the proper linkset. Link management at 
level 3 is the function that looks after this.
Level 2 Signaling-Link Test Procedures
Some automated test messages are used on signaling links to verify the integrity of a 
link as well as to detect possible looping. Looping is a condition that occurs when errors 

148      Chapter 5
are made in provisioning routing tables. They can be difficult to detect and costly to the 
carrier.
The signaling-link-test message (SLTM) is sent on a link whenever the link is ac-
tivated or restored by level 3 (after link alignment, for example). The content of the 
SLTM is a test pattern. The signaling point responsible for activating the link or restor-
ing the link is also responsible for initiating the SLTM and determining whether or not 
the test pattern originally sent actually is returned.
The SLTM is first sent by a signaling point and routed back (via loopback) by the 
adjacent signaling node. The purpose is to verify that the routing in both nodes is cor-
rect (otherwise, the SLTM would be sent to another destination) and that the data 
contained in the SLTM are not corrupt. If the SLTM is sent and returned correctly, the 
link is passed. This test is performed every time timer T2 expires, regardless of the 
congestion status on the link. In other words, this is a mandatory test. The test can be 
performed automatically and manually.

Chapter
6
Message Transfer Part (MTP) Level 3
This chapter discusses Message Transfer Part (MTP) level 3 functions as used in chan-
nelized networks. Some of these functions have been implemented in new Internet 
Protocol (IP) protocols specifically for the transport of Signaling System 7 (SS7) over IP 
networks. The purpose of adding the functions and procedures discussed in this chap-
ter to IP networks is to ensure the reliability of the signaling network and guarantee 
the delivery of signaling messages when using Transmission Control Protocol/Internet 
Protocol (TCP/IP) facilities.
Therefore, it is important to understand MTP level 3 even though you may not be 
using time-division multiplexing (TDM) networks. You will find that MTP level 3 is still 
supported in the signaling nodes [service switching points (SSPs), signal transfer points 
(STPs), and service control points (SCPs)], although IP is the transport.
There are two categories of functionality at this level: signaling message handling 
and signaling network management. Signaling message handling is used for routing 
messages to the appropriate link and determining if messages will be addressed to the 
received node or if they will be forwarded. Signaling network management is used to 
reroute traffic to other links when nodes become unavailable.
MTP level 3 relies on the services of level 2 for the delivery of all messages. The 
interface between the two levels consists of a set of primitives. Primitives enable pa-
rameters to be sent to level 2 for routing over the network in the form of SS7 messages. 
At the same time, primitives enable level 2 to send parameters to level 3 for message 
processing.
Message processing begins at level 3. Level 3 must determine the destination of a 
message and the user of a message and maintain the status of the network. Level 3 
uses primitives to communicate to level 4 users. Parameters are sent to level 4 through 
these primitives.
In the same fashion, primitives enable level 4 to send parameters down to level 3 for 
inclusion in a signal unit and transmission over the network. These primitives use the 
same structure as the primitives used between levels 2 and 3.
149

150      Chapter 6
Message-Handling Overview
Message handling includes three different functions: message discrimination, mes-
sage routing, and message distribution. The interface with level 2 is the message-
discrimination function. Message discrimination determines what the destination 
signaling point is by reading the routing label of the message. If the destination point 
code (DPC) is the same as the signaling point’s self-identification (its own address), the 
received signal unit is given to message distribution.
Message distribution is the mechanism used to deliver a message received by a sig-
naling point when the DPC is its own. The message-distribution function must deliver 
the message to the proper user part or network management function.
The message-handling function uses the routing label found in all level 4 messages 
to determine who the originator is and who the destination is. It should be noted 
that a signaling point may have more than one point code. In addition to its own self- 
identification, the signaling point also can possess a capability point code or an alias 
point code. This enables a signaling point to be partitioned into separate entities. For 
example, it may be advantageous to assign a point code to an STP for gateway services 
and another point code to the same STP for global title services.
The service indicator octet (SIO) is used by message distribution to determine the 
user part. The user (usually level 4, but not always) can be any user part or network 
management. In the case of network management, the SIO indicates whether the user 
is network management or network management testing.
Message routing is used to pass a message back to level 2 for routing over the net-
work. If message discrimination determines that the message is not addressed to the 
receiving signaling point, it sends the message back to message routing. If level 4 has 
generated a message for transmission, it is also given to message routing.
Message-Discrimination Overview
Discrimination applies to all received messages. Message discrimination uses the rout-
ing label of the message signal unit (MSU) to determine the destination of a message. 
The routing label provides the origination address [origination point code (OPC)], the 
destination address (DPC), and the signaling-link code (SLC).
Message discrimination reads the routing label, specifically the DPC, to deter-
mine if the destination is the receiving node or if the message must be transferred 
to another node. If the message is intended for the receiving node, then the message 
is given to the message-distribution function, which must determine which user 
part will receive the message [user part is the level 4 function, such as ISDN User 
Part (ISUP)].
The user is determined by reading the SIO field. This field is divided into two parts: 
the service indicator and the subservice field. The service indicator identifies the user 
part to receive the message. A user part does not have to be a level 4 function. Network 
management and network management testing are level 3 functions that use the in-
formation field of an MSU.

Message Transfer Part (MTP) Level 3      151
The service indicator also can indicate whether special or regular testing messages 
are being sent by network management. This is also used by level 3 network manage-
ment, each requiring a unique procedure.
The SIO subservice field identifies whether this message is from an interna-
tional or national network. This part of the message is used to identify the type 
of point-code structure used so that the discrimination function can determine 
how to read the routing label. If the value of the network indicator in the subser-
vice field indicates an international network, the routing label uses a different 
structure than it would for a national message. The national network indicator 
does not necessarily mean that this message came from an American National 
Standards Institute (ANSI) network. The national network indicator is used by 
the International Telecommunications Union–Telecommunications Standardization 
Sector (ITU-TS) to differentiate between various structures used within different 
countries. This enables each country to use its own point-code structure within its 
own national network while still conforming to the international standard set forth 
by the ITU-TS.
If the SIO indicates that this is a national message, the SIO also can be used to indi-
cate two different versions of a national structure. The spare, or reserved, code in the 
subservice field can be used to indicate a different version of the national structure.
For example, a country may have two unique point-code structures for use in dif-
ferent segments of its network. This could be indicated by using the reserved bits in 
the national indicator of the subservice field. In ANSI networks, these bits are used to 
indicate the priority of an MSU.
Network management during periods of congestion and rerouting procedures uses 
priorities. Recommended values for the priorities are given in the ANSI and Telcordia 
standards, but they can be network-dependent.
If employed in a private network that does not access the Public Switched Telephone 
Network (PSTN), the network indicator does not have to be used (because the network 
is closed). This field then can be used as an extension of the service indicator, providing 
additional user part identification. Implementation of this feature is network-dependent, 
and it is not defined in the ITU, ANSI, or Telcordia standards.
When it is determined that the message is to be routed to another signaling point, 
it is given to the message-routing function. The message-routing function must de-
termine which link to choose to reach the destination node. In many cases the next 
node to receive the message will not be the final destination. Other STPs may receive 
the message before it reaches its destination. A routing table is used to determine the 
shortest path to reach the destination. The objective in routing is to prevent multiple 
hops between nodes, introducing delay in the transmission. The routing table uses a 
priority mechanism for determining the most efficient route, that is, the route with the 
most direct path and the fewest hops.
If the message is for another node and the message-routing function determines 
that it cannot reach the destination, network management must respond. Network 
management is invoked when a signaling-point failure or link failure is detected. We 
will discuss these messages later in this chapter.

152      Chapter 6
If the point code in the routing label of a message is the point code of an alias, the 
message is given by message distribution to the global title translation (GTT) function. 
If the GTT function is not available at the signaling point, the message is given to mes-
sage routing for transmission back onto the network.
The GTT function is provided by STPs and can be located regionally or within several 
STPs. Two levels of GTT exist: partial and final. Partial global title routing provides the 
point code of the STP responsible for providing final global title, whereas final global 
title provides the point code and subsystem of the SCP responsible for providing the 
data being queried.
Message-Distribution Overview
If the DPC is the address of the receiving signaling point, then the message is given to the 
distribution function. Message distribution must determine who the user is for any given 
message. This is determined by examining the SIO service indicator field. As mentioned 
earlier, the user can be a level 4 function or a level 3 network management.
In the event that a user is not available, a user part unavailable (UPU) message is 
sent by network management as an indication to the originating point that the mes-
sage was discarded because the user part function was not equipped at the destina-
tion or was unavailable. The UPU message also provides a cause code, although this 
cause code is not very specific. Three causes are provided: The user part function was 
not equipped at the destination, the user part function was not accessible (i.e., out of 
service owing to a processor outage), or the user part function could not be reached for 
an unknown reason. The UPU message is shown in Figure 6.1.
Some user parts are processes that reside within a central processor at the signal-
ing point. For example, the Signal Connection Control Part (SCCP) may provide GTT, 
which is considered a user part in this case. When the processor at the signaling point 
becomes congested or unavailable, the UPU message is generated.
This does not indicate a problem with the signaling point, however. The signaling 
point may be able to carry on with other processing, such as levels 2 and 3 and even 
level 4. This, of course, depends on the architecture of the signaling point itself. When 
distributed processing is implemented, the impact of a UPU message should be mini-
mal from a signaling-point perspective.
Message-Routing Overview
If a message is received from another destination, then message discrimination passes 
the message onto message routing for transmission back onto the network. This is a 
common function of the STP. An end signaling point, such as an SSP, likely would not 
receive messages that need to be transferred unless full associated links (F-links) 
FCS
Cause User ID Destination H1
H0
SIO
LI
FIB FSN BIB BSN Flag
Routing Label
Figure 6.1 The components of the UPU message.

Message Transfer Part (MTP) Level 3      153
were used. Level 4 uses the routing function to send messages originated by the point 
code out onto the network.
The routing function first must determine what the destination address is by reading 
the routing label and looking for the DPC. In an ANSI network, the subservice field of 
the SIO indicates a national network, which means that the point code will be a 24-bit 
field. If the subservice field indicates that the message came from an international 
network, then the point code will be a 14-bit field.
The international point-code structure is very different from the ANSI structure. The 
first value indicates the zone of the address. The zone is a 4-bit value and can be used 
to address a country or a group of countries. The next field is the area identifier. This is 
an 8-bit field and identifies the network of the address. The third field is the individual 
signaling-point identifier, which identifies the actual member of the network. A member 
is any signaling point on the network.
It is important to note that the international point-code structure is valid only at the 
international hierarchy. Once a particular gateway is reached, messages are converted 
into national formats, where the point-code structure and protocol rules can change. 
This enables each country to deploy SS7 in its network to meet the needs of the indi-
vidual country rather than to define a standard that does not address everyone’s needs. 
The ITU-TS distributes point codes for use in the international network.
In the United States, the national standard is ANSI. The ANSI standard is used in the 
networks of the regional Bell operating companies (RBOCs), but it is modified (as published 
by Telcordia) for the specific requirements set forth by the RBOCs. The point-code structure 
defined for use in the United States is quite a bit larger than the ITU-TS version.
The first field in the point code is the network identifier, and it is used to identify 
the individual network being addressed. This is an 8-bit field. The network identifier is 
reserved for only the largest of service providers. Those who receive a unique network 
identifier also can use all numbers in the cluster and member fields.
Network identifiers 1 through 4 are reserved for medium networks. Network identi-
fier 5 is reserved to identify small network clusters. There is a network cluster code 
associated with each state and territory in the United States and Canada. These are 
used to identify smaller networks. Medium networks are those that do not have enough 
signaling points to warrant the distribution of an entire network number. Currently, 
only network identifiers 1 and 2 actually have been assigned to service providers. The 
cluster field then identifies the individual networks.
The cluster field is also an 8-bit field and is used in two different ways. In the case of 
networks that have their own network identifiers, the cluster number can be used to 
group STPs together to provide more efficient route management. In medium networks 
(network identifiers 1 to 4), the cluster field identifies the individual network. Small 
networks (network identifier 5) use cluster value 1 or 2. The member codes then are 
divided into three code blocks and given to very small networks with only a few signal-
ing points. The codes are assigned in blocks, depending on the location and number of 
signaling points on the network. The member value of 0 is reserved for STPs.
Two forms of routing may be deployed within any signaling point: full-point-code 
routing and partial-point-code routing. In the case of full-point-code routing, the  

154      Chapter 6
signaling point looks at the entire point code to determine how the message will be 
routed. This means that the routing table for that signaling point must include all point 
codes for all connecting signaling points and endpoints on the network.
This can be quite cumbersome in larger networks with many point codes. For this rea-
son, some networks use partial-point-code routing. Partial-point-code routing enables sig-
naling points to route messages based on the network identifier or the cluster identifier.
With cluster routing, only the network identifier and cluster identifiers are en-
tered into the routing tables of intermediate STPs. The STPs are all given the value 
of 00000000. All other signaling points are given full point codes because the STP will 
perform final routing to these destinations.
In some networks, only the network identifier is used for intermediate routing (known 
as network routing). The rules for network routing are the same as with cluster rout-
ing; it can be used only for intermediate routing. Network routing is also beneficial for 
gateway STPs, which provide access into different carriers’ networks.
If the STP is providing global title functions, then the cluster number assigned to the 
STP must be different from the rest of the network. If this is not possible, then an alias 
point code must be used with a different cluster number for global title. This is also a ben-
efit with network management, enabling the STP to be addressed directly by level 3.
Normal Routing Procedures
Before a message is transmitted, the routing table must identify which link and linkset 
to route the message to (Figure 6.2). Every routing table must indicate the primary 
route to a DPC and an alternate route(s). Each route is assigned a priority, which indi-
cates whether it should be the first choice, second choice, and so on. Some equipment 
manufacturers use different techniques for identifying the priority of a route, but the 
basic concept is the same.
The rule is to always choose the most direct route to any destination. The most direct 
route is always the route with the fewest hops through other signaling points. In the case 
SSP
3
1
2
4
1 = Primary Linkset
2 = Alternate #1
3 = Alternate #2
4 = Alternate #3
SSP
SSP
SSP
Figure 6.2 A typical routing scheme for SS7 entities. The numbers indicate the choice, or weighting factor, 
assigned to each of the links. For example, the 1 indicates a first-choice route, and so on.

Message Transfer Part (MTP) Level 3      155
of an end signaling point, if a fully associated link (F-link) is available, it should be first 
choice if it terminates at the destination. If an extended link (E-link) is available, it should 
be the second choice. Access links (A-links) are last-choice routes. Of course, in many cases, 
the A-link may be the only route to a DPC, in which case it will be the first choice.
In networks where traffic is sent through other carriers, the routes are selected based 
on carrier agreements. Depending on the traffic destination, some routes through spe-
cific carriers may be cheaper than other routes (as determined by intercarrier connec-
tion agreements). This also must be considered when creating routing tables.
For an STP, if the destination is an endpoint (endpoints are SSPs and SCPs), then an 
A-link should be first choice. If there are no available A-links to the DCP, then an E-link 
should be used (if one exists). If the message must go through another STP to reach the 
DPC, then the STP that the destination “homes” to should be the next destination for 
the message. The home STP is that which connects directly with the signaling point 
(Figure 6.3).
In the event that the home STP cannot be reached directly, then the message should 
be routed to a primary STP in a two-level hierarchy. The primary STP of the DPC 
should be the STP used to reach the home STP. In the event that the primary STP can-
not be reached, then the primary STP of the message originator should be used.
When IP facilities are used for signaling links, the routing is somewhat different. 
Link selection becomes more of a virtual selection; however, the SLC code is still sig-
nificant. Depending on the protocol being used to provide level 3 services, the SLC can 
be maintained either by encapsulating MTP level 3 into an IP message and transmit-
ting to the distant end for processing or by emulating the SLC by an equivalent code 
within the IP stack.
Link Selection
The signaling link used to route the call is determined by the value of the signaling-
link selection (SLS) field located in the SLC field of the routing label. The SLC code is 
a preassigned code representing a physical link. The SLC is not the link number but is 
a logical connection to a physical link.
All links are assigned an SLC and terminal number. The terminal number is a logical 
connection to a physical link. The SLCs range from 0 to 127. This means that each link 
will have more than one SLC. When a link is deployed, it is up to the equipment software 
A
B
Figure 6.3 In this figure, both A and B have the same home STP. A home STP is one that is directly adjacent 
to the SSP.

156      Chapter 6
to reallocate the SLCs to accommodate the newly equipped link. When a link fails, 
software will reallocate the SLCs again so that the failed link no longer has an SLC.
Before transmission, level 3 routing determines which link will be the next outgoing 
link. This is based on several factors. First, all links within a linkset must carry equal 
traffic (load sharing). This means that no link will carry more than the others. The 
MSU size also must be figured in the traffic capacity of every link so that one link does 
not become burdened with large messages while another only sends small messages.
After a link is selected, the SLC of the physical link is placed in the SLC field of the 
routing label and sent to level 2 for transmission. When the message is received at the 
remote signaling point, the bits in the SLC field are rotated one position to the right by 
level 3 routing. Currently, only the five least significant bits (LSBs) are rotated, even 
though the standards now support an 8-bit SLC field. The three most significant bits 
(MSBs) are used for link selection in networks where 8-bit rotation is supported (this 
is optional today and will be implemented slowly into all networks).
There are exceptions when bit rotation is not to be used. Call setup messages and 
database query messages are examples of messages that should not use bit rotation. 
These messages usually require more than one signal unit to be sent. These signal 
units must be received in order; otherwise, an error will occur. To prevent them from 
taking different routes and being received out of order, the messages relating to one 
transaction or to the same circuit connection always follow the same path (use the same 
links from one signaling point to another signaling point). Cross links (C-links) between 
mated STP pairs do not use bit rotation.
There are also certain maintenance messages that must be routed over specific links. For 
example, a changeover order (COO) is always sent over an alternate link, but the acknowl-
edgment of a changeback order can be routed over any available link. Level 3 routing also 
must take these rules into account before selecting a link and rotating the SLS bits.
Load sharing must be used whenever there is more than one link or one linkset. In 
the event that there is more than one linkset, the LSB is used to select the linkset to be 
used. The remaining 4 bits then identify the link within the linkset. In the event that 
only one linkset exists, the LSB is used as part of the link identifier, but the MSB (bit 
5) is left unused (maintaining a 4-bit link selection code).
In the international network, load sharing is not used. The SLC field is used to iden-
tify the voice circuit identification code (CIC) for all Telephone User Part (TUP) mes-
sages. For Data User Part (DUP) messages, the bearer identification code is identified 
in this field. Bit rotation is not used in international networks.
Network Management Overview
Network management at level 3 provides the procedures and functionality to reroute 
traffic through alternate links and linksets or to control the flow of traffic to a specified 
DPC. Three separate network management functions are used in SS7:
■ Traffic management 
■ Link management 
■ Route management

Message Transfer Part (MTP) Level 3      157
Traffic management is used between two signaling points to divert traffic away from 
failed links. Traffic management messages are originated by the signaling point, which 
detects a problem in a link. The traffic link management message is sent over an alter-
nate link to inform the adjacent signaling point not to route messages over the affected 
link. Traffic management also triggers route management from the receiving signaling 
point to its adjacent nodes.
Traffic management messages are not propagated through the SS7 network. They 
are only point to point. The difference between traffic management and link manage-
ment [which incorporates the use of level 2 link status signal units (LSSUs)] is the fact 
that the LSSU is carried over the signaling link that is in question.
This fundamental difference points out that the link must be capable of carrying 
level 2 traffic before LSSUs can be used while not being able to carry level 3 and 4 traf-
fic. In the event that a link cannot carry level 2 traffic (such as in the case of a complete 
link failure), then level 3 traffic management will be implemented to inform adjacent 
signaling points that the signaling link can no longer be used.
Link management consists of activation and deactivation procedures, as well as link 
restoration. These functions are used with level 2 to restore failed links back into ser-
vice. The link management function triggers level 2 link alignment procedures and 
guides the transitions through the various states of alignment.
Route management is used to divert traffic from a specific signaling point. This is a 
function provided only by STPs, adding an important function to the network. Route 
management does not pertain to any one specific link, as traffic management does, but 
to an entire signaling point. Route management is triggered by traffic management 
messages and is sent to the adjacent STPs when a traffic management message is 
received.
For example, in Figure 6.4, signaling point F has failed its link to signaling point D. 
Signaling point F sends a changeover message to signaling point D through signaling 
point E (traffic management). Signaling point E has no knowledge of what the traffic 
management message is about, nor does it care. It is transferring the message onto its 
final destination.
Signaling point D, on receipt of the changeover message, will send a transfer-
prohibited (TFP) message to its adjacent nodes. The TFP message indicates that the 
DPC is no longer accessible through signaling point D. All adjacent signaling points 
then invoke rerouting procedures to begin routing traffic destined for signaling point F 
through signaling point E because this is the only available route. If other links were 
B
TFP
COO
COO
A
F
C
E
D
TFP
Figure 6.4 Traffic management and route management.

158      Chapter 6
available through signaling point D, then those links would be used to route traffic to 
signaling point F, and the TFP probably would not be sent because signaling point F 
still can be reached through signaling point D.
Link management then is invoked by signaling point F to restore the failed link. This 
triggers level 2 to begin the alignment procedure and controls the transitions from one 
state to the next through the use of timers. When the link has been restored by level 2, 
level 3 link management is notified, and traffic management sends a changeback mes-
sage to restore traffic back to the newly restored link. 
On receipt of a changeback message, signaling point D invokes route management 
to alert adjacent nodes that traffic destined for signaling point F now can be routed 
back through signaling point D. This is only one example of how these three network 
management functions work together. As we discuss each management function, we 
will discuss specific examples in greater detail.
Signaling Network Management Procedures
As we mentioned earlier, there are three types (or categories) of network management. 
Traffic management diverts messages away from failed links, link management is re-
sponsible for the activation and deactivation of signaling links, and route management 
is responsible for the rerouting of messages around failed signaling points. Route man-
agement also controls the flow of messages to a signaling point.
Network management provides a layered approach to managing troubles on the net-
work. Procedures are provided that deal with network congestion and outages from the 
link level all the way up to the route level.
When an error is encountered, level 2 reports the error to level 3, which then must 
determine which procedures to invoke. Procedures begin at the lowest level, the link 
level, and work their way up to the route level.
Link management directs the procedures at the link level. These procedures do not 
have a direct impact on routing or the status of signaling points. They trigger other 
network management events at level 3, however.
Link management does have an impact on other functions, but it is indirect. Traffic 
management is affected by link management primarily because traffic management 
must divert traffic away from a link that link management has failed and removed 
from service. Traffic management ensures the orderly delivery of diverted traffic, pro-
viding for the transfer of unacknowledged messages to another link buffer and the 
retransmission of messages on a different link.
Traffic management does not divert traffic away from a signaling point. The purpose 
of traffic management is to redirect traffic to different links. However, traffic manage-
ment does have an impact on routes and routesets to specific destinations. If a particular 
route is used by another signaling point to reach a destination and traffic management 
has diverted traffic away from that route, adjacent signaling points may have to invoke 
route management procedures.
Route management diverts traffic away from signaling points that have become un-
available or congested. The reasons vary, but regardless of the reason, traffic management 

Message Transfer Part (MTP) Level 3      159
and link management will be involved at the affected signaling point. In the meantime, 
all the signaling points around the affected signaling point invoke route management 
procedures to prevent messages from becoming lost.
This layered approach to network management is what makes SS7 networks as ro-
bust as they are. Very few network troubles actually cause the network to fail. In fact, 
there are very few network outages at all in SS7. The protocol maintains a very high 
level of reliability, which is mostly due to the MTP and the network management pro-
cedures discussed in this section.
In this section we will review each of the messages used in network management, 
as well as the procedures used. We will look at the structure of each message type and 
the parameters used.
Network management messages use the MSU structure, as shown in Figure 6.5. The 
routing label is used for routing the message to the appropriate signaling point. The 
signaling information field (SIF) holds information concerning the point code experi-
encing the failures or the link that has failed. In addition, status codes, priority codes, 
and other maintenance codes can be included.
Because of the nature of these messages, the information field varies from one net-
work management message to the next. As we discuss each type of network message, 
we will discuss the structure of the information field and how it is used.
Link Management Procedures
Link management provides the procedures necessary to manage the individual links 
within a signaling point. Link management does not view links from a linkset or even 
a route perspective but rather from an individual perspective.
The management message (as shown in Figure 6.5) uses an H0 and H1 heading 
code to identify the type of management message being sent. The H0 heading code 
identifies the type of message, whereas the H1 heading code identifies the type of 
message for the procedure being declared. The following are the values for the H0 
heading codes:
0000 Spare
0001  Changeover and changeback 
messages
0010  Emergency changeover  
message
0011  Transfer-controlled and  
signaling-routeset-congestion 
test messages
0100  TFP-allowed and -restricted 
messages
0101  Signaling-routeset-test  
messages
0110  Management-inhibiting  
messages
0111 Traffic restart messages
1000 SDLC messages
1001 Spare
1010  MTP user flow-control  
messages

160      Chapter 6
The link management procedures require the use of MTP level 2 functions or the 
signaling ATM adaptation layer (SAAL) to report failures and link status to an adja-
cent signaling point. These messages are not propagated through the network. Link 
management is only concerned about the local end of a link.
Link management provides three functions:
■ Link activation 
■ Link restoration 
■ Link deactivation
These three functions are explained as follows in greater detail.
Link Activation When a link is first activated, level 3 directs level 2 to begin the 
alignment procedure (as described in Chapter 5) and place the link in service. Before 
messages actually can be transmitted over the link, link management also sends test 
messages over the link to ensure the integrity of the link.
Level 2 is used to inform the adjacent signaling point of the activities at level 3. This 
is accomplished using the LSSU, as described in Chapter 5. The LSSU identifies the 
status of the link but does not instruct the adjacent signaling point on any procedures. 
Once the link has been activated and is considered in service, a signaling-link-test mes-
sage (SLTM) is generated and transmitted over the link. On acknowledgment of the 
SLTM [signaling-link-test acknowledgment (SLTA)], the link is restored to service, and 
traffic is enabled over the link. In the event that the link has a failure (determined and 
reported by level 2), link management invokes the restoration procedures.
Link Restoration Restoration involves the LSSU informing adjacent signaling point of the 
events taking place. The signaling point that detected the errors is responsible for invok-
ing alignment procedures and notifying the adjacent signaling point about the status.
Level 3 timers are used to control the procedures and ensure that the link does not 
get caught in an endless loop of alignment procedures. When a link has passed the 
alignment procedures successfully, level 3 generates an SLTM and transmits the test 
message over the network (as it did during activation). When an SLTA is received for 
the SLTM, the link is considered restored, and level 3 changes the local status to avail-
able and in service.
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
H1
H0 Routing Label
Network Management Information
Variable
4
4
56
Figure 6.5 Network management messages use the MSU. The H0/H1 field is the label that identifies the 
type of network management network message being sent.

Message Transfer Part (MTP) Level 3      161
Link Deactivation Link deactivation is used when a link is found in error and needs to 
be placed in alignment. Link deactivation first must stop all traffic to the link, which 
invokes traffic management procedures (the diversion of traffic from the failed link). 
Link management then disconnects the link from its logical connection (the SLC).
Every link has a logical connection. In any signaling point, a number of logical connec-
tions are available for a link. All logical connections must be associated with an SLS code. 
This code is a dynamic code assignment, which changes according to the link status.
Each link within a linkset is given a unique SLS code, which is used by routing to 
determine which links a message should be routed over. This is directly related to the 
bit-rotation procedure discussed earlier in the section “Message-Routing Overview.”
The bits rotated are the SLS bits. A link may have more than one SLS code. All codes 
must have an assignment because of the way the bit rotation is used to select a link. 
When any link becomes unavailable and must be placed out of service, link manage-
ment must disconnect the link from its logical connection. This means that the table 
will change. One can view this table as a mapping to every link in the system. Each 
signaling point must have a similar table in software that enables it to choose signaling 
links based on status.
Link management changes the table based on the local status (reported by level 2) 
or the remote status (reported by level 2 via the LSSU). When a link becomes available 
again, it is reconnected to its logical connection.
Notice that all links are listed in numerical order. This ensures that the assignment 
is linear and not random, which enables both ends of the link to remain synchronous. 
Because the SLC is transmitted in maintenance messages, the code must be the same 
at both signaling points.
Link management also can drive a function referred to as automatic link allocation, 
which enables links from one linkset to be disconnected (logically) by link management 
and reassigned to another linkset. This requires a link to be connected to the same 
signaling point as the failed link that it is replacing. This feature usually is invoked 
by a threshold value, which is typically administrable. When a linkset falls below the 
predefined threshold, a predefined link can be removed from its linkset and reassigned 
by link management to replace failed links in another linkset.
Automatic link allocation also enables voice circuits to be used as links. The require-
ment is that the facility must be digital and of the same data rate as the failed link. 
This is not a concern because most voice circuits in central offices today are DS0A 
circuits (interoffice trunks, not local trunks).
Link management is able to remove the voice circuit from its connection and reassign 
the voice circuit to a linkset. A predetermined SLS code is assigned to the new link. 
When the failed link returns to service, the voice circuit is removed from the linkset 
and returned to service as a voice circuit.
This feature requires the voice circuit to be connected to the same signaling point 
as the failed link. This could be the case between two signaling points, provided the 
voice circuit was terminated in the same signaling point as the failed link. This forces 
the assumption that the signaling points must be end offices, which provide both voice 
circuits and SS7 circuits (SSPs).

162      Chapter 6
To accommodate link management and automatic allocation, a signaling-data-
link-connection (SDLC) message (Figure 6.6) must be generated and sent to the 
adjacent signaling point to inform the adjacent signaling point of the new assign-
ment. The adjacent signaling point must make the same assignment for the link  
to work.
In the SDLC message, the signaling-link number is the physical link number (such 
as link 1, 2, or 3), which, in turn, may be SLC 0, 6, or 12. When identifying the SLC, 
only the first code is provided. The other SLCs, even though they are assigned to the 
same link, are considered secondary and are not used in network management mes-
sages. Once the SDLC message has been received, an acknowledgment must be sent 
to confirm that the adjacent signaling point has made the same assignment in its own 
database. This is accomplished using one of three messages: connection successful, con-
nection not successful, or connection not possible.
If the connection was successful, then traffic can begin on the newly allocated link. 
If the connection was not successful (for any of the reasons provided), the procedure is 
aborted. In the unlikely event that two signaling points invoke automatic allocation 
simultaneously, the signaling point with the highest point code will be considered first, 
overriding the other signaling point.
To understand the impact that link management has on other portions of the signal-
ing point, we must look at the other network management procedures. Keep in mind 
the layered approach discussed earlier in this section; it will help you to understand 
the individual roles played by all these functions.
Traffic Management Procedures
Traffic management is used to divert traffic away from failed signaling links. It uses 
several messages that are sent using the MSU over adjacent links or adjacent linksets 
to adjacent signaling points.
Traffic management also deals with the source of congestion and provides flow- 
control procedures. The objective of traffic management is to deal with the source of  
a problem whenever possible.
Traffic management also handles problems on a more direct level than other network 
management procedures. In essence, network management is offered at several layers, 
with traffic management in the middle layer.
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
1000
000000
0001
SLC
Signaling-Link Identity
6
4
14
4
4
56
Figure 6.6 The SDLC message uses the network management structure and consists of the components 
shown here.

Message Transfer Part (MTP) Level 3      163
Traffic management provides the mechanisms for managing traffic diversion owing 
to the following:
■ Signaling-link unavailability 
■ Signaling-link availability 
■ Signaling-route unavailability 
■ Signaling-route availability 
■ Signaling-point restriction 
■ Signaling-point availability
Signaling-Link Unavailability In the event that a signaling link should become unavail-
able or be blocked manually, deactivated by network link management, or inhibited, 
traffic management provides for the diversion of all traffic normally routed over the 
affected link to alternate links within the same linkset or other linksets that can route 
to the same destination.
Signaling-Link Availability In the event that a failed, blocked, inhibited, or deactivated 
link should become available again, traffic management diverts messages back to the af-
fected signaling link. Procedures are provided to ensure that messages are not lost, and 
the transmission is controlled to ensure an orderly delivery of all buffered messages.
Signaling-Route Unavailability In the event that an entire route should become unavail-
able, forced rerouting is used to divert the traffic away from the affected route. A route 
is a linkset or group of linksets with a common destination.
Signaling-Route Availability Controlled rerouting is used to divert traffic back to a pre-
viously unavailable route. It involves an entire linkset rather than just an individual 
link. The diversion of traffic to another alternate linkset or route must be conducted in 
an orderly fashion to prevent messages from being lost.
Signaling-Route Restriction When a route becomes restricted, traffic must be diverted 
to a route of equal priority (or cost). In effect, this procedure invokes load sharing over 
two routes to prevent a route from becoming unavailable owing to congestion (from 
multiple link failures, for example).
Signaling-Point Availability The MTP restart procedure is used to divert traffic to a 
signaling point now made available.
Traffic Management Messages The traffic management message provides the SLC of 
the failed link and, in some cases, the forward sequence number (FSN) of the last good 
MSU received on the failed link. This information is sent to adjacent signaling points so 
that they can assume the traffic for the failed link and ensure that no messages are lost.  

164      Chapter 6
In order to ensure that no messages are lost, the traffic management procedure includes 
a method for copying all MSUs remaining in the transmission buffer of a failed link to 
the newly selected link. This procedure will be explained in further detail.
In all cases of traffic management, existing traffic on any one signaling link must not 
be interrupted. This means that the procedures must permit normal traffic to continue 
while links are assuming the traffic of other failed links.
Changeover The changeover message is used to divert traffic away from a failed link. 
LSSUs are sent by level 2 to indicate the status of the link throughout this procedure. 
This enables the two signaling points to maintain current status while the link is being 
realigned. When LSSUs are not being sent, fill-in signal units (FISUs) are transmitted.
Figure 6.7 shows the contents of the changeover message. The FSN is the FSN of 
the last MSU received by the failed link. This serves as an acknowledgment for any 
unacknowledged signal units received on that link. The following are the H1 heading 
codes used for changeover:
0001 COO signal
0010  Changeover acknowledgment 
signal
0011  Extended COO signal (SAAL 
links)
0100  Extended changeover acknowl-
edgment signal (SAAL links)
The SLC identifies the failed link. As we learned in our previous discussions about 
the SLC, this number is not necessarily a physical link number but the logical link 
number assigned to the link.
It also should be mentioned here that all changeover-related messages (changeback, 
acknowledgments, and so on) use the same structure and the same fields. These related 
messages are discussed separately for clarity.
When a link fails (Figure 6.8), there are still MSUs in its transmit buffer that have 
not been acknowledged. Before these MSUs are discarded and the link realigned, they 
need to be dealt with in such a way that the messages will not be lost.
When level 2 detects a link failure, it first performs a buffer update. The messages 
in the transmit buffer of the failed link must be placed in the transmit buffer of the 
alternate link so that they can be retransmitted in the event that an acknowledgment 
is not sent from the adjacent signaling point.
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0001
00000
0001
SLC
FSN of Last MSU
5
4
7
4
4
56
Figure 6.7 The COO consists of an SLC field, indicating the SLC of the failed link, and the FSN of the last 
good MSU received on that link.

Message Transfer Part (MTP) Level 3      165
After the transmit buffer has been updated, the changeover message is sent over the 
alternate link to inform the adjacent signaling point that all messages to the affected 
node must be rerouted over the alternate link. The message will contain the SLC of the 
failed link and the FSN (for MTP L2) or the sequence number of the last sequenced 
data protocol data unit (for SAAL) of the last good MSU received by the affected signal-
ing point. The FSN in this message is used as an acknowledgment to the adjacent node 
so that it does not have to retransmit all MSUs in its transmit buffer.
The traffic is diverted to a link or links within the same linkset if there are any 
links available. However, there are times when there may not be any links available in 
the linkset. If there are no links available in the same linkset, an alternate linkset or 
linksets may be used. The destination must be the same for both linksets. In the event 
that no linksets are available, routing management is triggered to reroute messages 
around the signaling point.
In the event that an STP does not normally carry traffic for the affected signaling 
point (the changeover was to a linkset to a different signaling point), a TFP message 
is sent by route management at the concerned signaling point. This is to prevent mes-
sages from being routed to the concerned signaling point and possibly causing conges-
tion to occur (because the signaling point is now handling twice the traffic).
A TFP message informs adjacent nodes that no traffic addressed to the affected sig-
naling point should be sent to the concerned signaling point. The concerned signaling 
point is that which originated the changeover message and is no longer carrying traffic 
to the affected destination.
The affected destination is that which has the failed link. The affected point code is 
usually provided in network management messages. Note that messages being car-
ried over the concerned point code are being sent from the signaling point that used 
to carry traffic to the destination, but lost its path. The concerned signaling point has 
a path and is now “relaying” those messages but should not be sent all traffic for this 
destination.
A good example of a situation such as this is depicted in Figure 6.9. A signaling point 
that is adjacent to the affected signaling point has received a changeover but does 
not normally carry traffic for this destination; therefore, the concerned signaling point 
sends the TFP message to any adjacent signaling points. When the concerned signaling 
point receives the changeover message, a changeback acknowledgment (CBA) is sent to 
indicate that the changeover was received and that traffic is being diverted.
If no links are available to the affected point code, then a time-controlled diversion 
procedure is implemented. This is also true if a processor outage is received or if the 
signaling link is marked by the signaling point as inhibited but is receiving traffic.  
A
B
COO
Figure 6.8 In this figure, the link indicated by dashes has failed. Signaling point A sends a COO to signaling 
point B indicating the SLC code of the failed link.

166      Chapter 6
The time-controlled diversion procedure prevents the signaling link from being failed 
and realignment from starting.
This is accomplished by setting level 3 timer T1, “Delay to avoid message missequenc-
ing on changeover.” When timer T1 expires, new traffic then can be transmitted on the al-
ternate link. This helps to prevent the missequencing of messages, which may occur dur-
ing a changeover initiated by the receipt of a processor outage or link-inhibited state.
Figure 6.10 shows when the use of time-controlled diversion may be necessary. Notice 
that signaling point A has lost its path to signaling point B, which is the STP for signal-
ing point D. The changeover procedure is diverting traffic through signaling point C, 
which is adjacent to the affected signaling point D.
If the signaling link becomes available and timer T1 has not yet expired, the time-
controlled changeover is canceled, and traffic may resume on the affected link. However, 
if the MTP becomes unavailable at the affected point code, the MTP restart procedure 
is initiated.
MTP restart is used to reset all timers and counters used by the MTP and to resyn-
chronize the link. This means that all sequence numbering and error-rate monitors are 
restarted as if for the first time. MTP restart is discussed in a later section.
If there is a processor outage at the affected link and timer T1 expires, all messages 
that are available for retransmission are discarded. The processor outage means that 
level 4 and possibly level 3 are not functional and the messages could not be processed 
anyway. The affected link will not have any recollection of these MSUs ever being re-
ceived because its receive buffer will have been reset.
If no acknowledgment is received within timer T2 (“Waiting for changeover acknowl-
edgment”), retransmission on the alternate link begins. This means that the change-
over procedure starts without the acknowledgment. Any new traffic will transmit on 
the new link(s). This prevents a bottleneck in the event that the changeover message 
or the changeover acknowledgment was lost.
If a changeover acknowledgment is received but no COO was sent, the acknowledg-
ment is ignored and discarded. No further action is necessary.
Changeback The changeback message is used when a failed link has been restored, and 
traffic may now resume over that link. The message structure, as seen in Figure 6.11, 
A
Concerned SP
COO TFP
TFP
COO
Affected SP
B
Figure 6.9 A COO may be sent through another signaling point, as depicted here. There is no other path 
for the message to get to signaling point B, so it must be sent through an alternate route. The TFP is sent to 
all adjacent signaling points to prevent messages from being sent through A to B.

Message Transfer Part (MTP) Level 3      167
consists of the SLC of the now-restored signaling link and the changeback code. The fol-
lowing H1 heading codes are used in changeback messages:
0101 CBD signal 
 
 
0110 CBA signal
The changeback code is a unique pattern assigned by the originator of the change-
back message. The changeback code enables a signaling point to initiate the change-
back procedure for a number of signaling links. When the acknowledgment is returned, 
the acknowledgment also must carry the unique changeback code. This allows for dis-
crimination between acknowledgments and enables the signaling points to begin send-
ing traffic in relation to each of the individual changebacks.
Without this code, there would be no mechanism to allow for the orderly diversion 
of traffic over multiple signaling links. This is an issue only when there have been 
multiple link failures to one destination and all the signaling links have been made 
available at the same time.
When the changeback is initiated, all transmission of MSUs on the alternate link 
is stopped. The changeback message is sent over the alternate link to the affected 
signaling point to inform it that the changeback procedure has been stopped and that 
transmission over the failed link now will resume (Figure 6.12).
The affected signaling point then must send a CBA (Figure 6.13). This will trigger the 
procedure. All MSUs sent by level 4 or by other links destined to the affected signaling 
point are stored in a buffer until the changeback procedure is complete.
The CBA may be sent over any available link as long as the message is routed to 
the originating point of the changeback message. Once the acknowledgment has been 
received, the MSUs that were stored in the changeback buffer are sent over the now 
A
COO
T1
COO
B
Figure 6.10 When timer T1 expires, the COO is sent to signaling point B. This is time-controlled diversion.
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0001
0000
0101
SLC
Changeback Code
4
4
8
4
4
56
Figure 6.11 The changeback declaration (CBD) is sent to an adjacent signaling point to indicate that the 
link that previously failed has now returned to service.

168      Chapter 6
available signaling link. There is no need to transfer unacknowledged MSUs from the 
alternate-link transmit buffer to the now-available-link transmit buffer.
In the event that the changeback originates from a signaling point that sent a TFP, 
a transfer-allowed (TFA) is sent to adjacent signaling points, enabling messages to be 
routed to the signaling point (Figure 6.14). Likewise, if the affected signaling point 
became isolated owing to the failed link, the signaling point is now made available by 
route management.
If an acknowledgment is not received within timer T4, “Waiting for changeback  
acknowledgment–first attempt,” the CBD is repeated and timer T5, “Waiting for change-
back acknowledgment–second attempt,” is started. If timer T5 should expire before an 
acknowledgment is received, traffic is started automatically on the now-available sig-
naling link. Maintenance functions within the signaling point are alerted in the event 
that there was an error in the acknowledgment transmission.
Emergency Changeover In the event that a changeover procedure is initiated but the 
transmit buffer cannot be read, an emergency changeover procedure is used. The emer-
gency changeover does not provide the FSN (MTP L2) or sequence number (SAAL) of 
the last good MSU received because the buffer has been cleared and that information 
is not available.
The following H1 heading codes are used in emergency changeover messages:
0001 Emergency COO signal 
0010  Emergency changeover acknowledgment 
signal
B
TFP
TFP
CBD
CBD
A
F
C
E
D
Figure 6.12 The CBD being sent to signaling point B by using an alternate link to signaling point C. 
If there had been an alternate link directly to signaling point B, it would have been the path used for 
the CBD.
B
CBA
A
F
C
E
D
Figure 6.13 The CBA is sent over any available link. In this case, the previously failed link is used for 
the CBA.

Message Transfer Part (MTP) Level 3      169
Level 2 begins sending the LSSUs on the failed link and FISUs when the LSSUs are 
not being sent. All new MSUs are diverted to the alternate link or linkset.
As was the case in the changeover procedure, the traffic can be diverted to multiple 
links or alternate linksets. Load sharing is invoked when there is existing traffic on 
these links to prevent a congestion condition on any one link.
In the event that no paths are available to the affected signaling point on which 
changeover and emergency changeover messages may be transmitted, the time- 
controlled diversion procedure is invoked. As mentioned in the description of the 
changeover procedure, time-controlled diversion enables traffic to be diverted without 
failing the link (link status of out of service).
Forced Rerouting The forced-rerouting procedure is initiated in the event that a route 
to a specific destination becomes unavailable. The purpose is to reroute traffic around 
the concerned signaling point to the destination without losing messages or causing 
any other route to become congested.
Figure 6.15 shows MSUs destined for signaling point A. Signaling point A becomes 
unavailable through the route using signaling point C. Signaling point C sends a TFP 
message to signaling points D and E to inform them that the route to signaling point A 
is inaccessible and that messages should be rerouted through an alternate route.
In Figure 6.16, the alternate route is through signaling point B. All traffic to signal-
ing point C (destined to signaling point A) is stopped. The forced-rerouting buffers 
store all MSUs with the destination of signaling point A. When the alternate route is 
determined (signaling point B in this example), all diverted traffic is transmitted to 
signaling point B. The contents of the forced-rerouting buffer are sent first.
When the route to signaling point A through signaling point C becomes available 
again, signaling point C sends a TFA to signaling points D and E (Figure 6.17). Messages 
destined to signaling point A now can be rerouted back through signaling point C or 
signaling point B, depending on the network configuration.
Any existing traffic on the link should not be interrupted in any way. If there is a lot 
of traffic on the alternate route, load sharing is used to spread the traffic evenly over 
the links. This procedure should not cause the alternate route to become inaccessible 
owing to failure or congestion.
If no alternate routes are available, traffic is blocked, and messages stored in the forced-
reroute buffer are discarded. Flow control is used to inform user parts to stop sending 
B
TFA
TFA
MSUs
A
F
C
E
D
Figure 6.14 When MSUs are sent by the affected point code, signaling point B in this example, the TFA is 
sent to all of signaling point B’s adjacent signaling points.

170      Chapter 6
traffic to the affected point code. A TFP message is also sent to the adjacent signaling 
points to stop traffic from being sent to the concerned signaling point (Figure 6.18).
Controlled Rerouting The objective of the controlled-rerouting procedure is to restore 
traffic to the most favorable route in cases where a particular route was restricted pre-
viously. This is probably best explained by Figure 6.19. In the figure, traffic is destined 
to signaling point A. The primary routes to signaling point A from signaling points D 
and E use signaling point C, with signaling point B used as an alternate.
B
MSUs
MSUs
A
F
C
E
D
Figure 6.15 In this figure, MSUs are destined to signaling point A through signaling point C. The link from 
signaling point C to signaling point A has failed. The links from signaling point C to signaling point B have 
failed as well, causing messages to be sent back to signaling point D and signaling point E (circular routing).
B
TFA
TFA
A
F
C
E
D
Figure 6.16 The link from signaling point A to signaling point C has been restored. Signaling point C sends 
the TFA to its adjacent nodes, enabling traffic to signaling point A.
B
TFP
TFP
A
F
C
E
D
Figure 6.17 To prevent circular routing, signaling points D and E send TFPs to signaling point C. This 
prevents signaling point C from sending MSUs destined for signaling point A or signaling point B back to 
signaling points D and E.

Message Transfer Part (MTP) Level 3      171
The route from signaling point C to signaling point A fails. In addition to this route 
failing, the route from signaling point C to signaling point B fails (Figure 6.20). This 
scenario in the preceding example (forced rerouting) caused a TFP message to be sent 
from signaling point C to signaling points D and E. This forces signaling points D and 
E to route all traffic destined for signaling point A through signaling point B.
The route from signaling point C then becomes available. All messages destined for 
signaling point A now can be routed through the primary route, signaling point C. To 
initiate this, a TFA message is sent to signaling points D and E (Figure 6.21).
Signaling points D and E then initiate the controlled-rerouting procedures. To prevent 
circular routing, signaling points D and E send a TFP to signaling point B (Figure 6.22). 
This prevents signaling point B from sending messages destined for signaling point A.
A timer T6, “Delay to avoid message missequencing on controlled rerouting,” is set, 
and after its expiration, the controlled-rerouting buffers at signaling points D and E 
are transmitted to signaling point C (Figure 6.23).
MTP Restart The MTP restart procedure (Figure 6.24) is an addition to the Telcordia 
standards, even though it has been in the ANSI publications for a while. The purpose of 
this procedure is to protect the network and a signaling point in the event that a signal-
ing point becomes isolated for a period of time and then becomes available. When this 
occurs, the signaling point must exchange a great deal of routing status information 
with its adjacent signaling points. The failed signaling point, because of the length of 
B
MSUs
MSUs
MSUs
A
F
C
E
D
Figure 6.18 Once the TFP has been sent, MSUs in the buffers of signaling points D and E can be sent to 
signaling points A through C.
B
A
F
C
E
D
Figure 6.19 The links from signaling point C to signaling point A are primary linksets for routing and 
signaling point A.

172      Chapter 6
B
A
F
C
E
D
Figure 6.20 Links from signaling point C to signaling point A and signaling point C to signaling point B 
have failed.
B
TFA
TFA
A
F
C
E
D
Figure 6.21 The link from signaling point C to signaling point A now has been restored. The TFA is sent to 
signaling points D and E to enable traffic for signaling point A to be sent to signaling point C.
B
TFP
TFP
A
F
C
E
D
Figure 6.22 Signaling points D and E send TFPs to signaling point B to prevent signaling point B from 
sending traffic destined to signaling point A back to signaling points D and E (circular routing).
B
A
F
C
E
D
T6
T6
Figure 6.23 After T6 expires, MSUs resume on the links to signaling point C.

Message Transfer Part (MTP) Level 3      173
time it was out of service, may not have current routing status. Events involving adja-
cent signaling points may have occurred while it was isolated, and because no messages 
were routed to the signaling point, it cannot be aware of congested signaling points or 
other inaccessible signaling points.
To ensure that the signaling point has ample time to update its routing status in-
formation and exchange information with all its adjacent signaling points, the MTP 
restart procedure is implemented with a set of timers. The timers ensure that the sig-
naling point has ample time to retrieve routing status on each linkset or route.
There really are no set rules for when an MTP restart procedure should begin. One 
suggestion by Telcordia is to start the procedure on receipt of an LSSU with a value of 
processor outage (SIPO).
There are two levels of MTP restart: a full restart and a partial restart. It is up to the 
management functions at level 3 to determine which is implemented and under what 
conditions. This is network-dependent and can be implemented in a number of condi-
tions. One of the suggestions by Telcordia for initiating this procedure is that when a 
route becomes available after a remote processor outage, the route initiates a restart 
procedure. This procedure at the remote end of the route involves the use of timers (T25 
and T28), which are initiated on receipt of the first link status of in service (determined 
by level 2).
When a partial restart is initiated at the isolated signaling point, it sends out a TRA 
message to its adjacent signaling points. The remote signaling points then can initiate 
their own restart procedures on the direct routes to this signaling point, as specified in 
the ANSI and Telcordia standards. This procedure involves the use of timers T25 and 
T28 (as mentioned previously).
If a full restart is required, then timer T27, “Minimum duration of unavailability for 
full restart,” is started. This timer is used to ensure that all adjacent signaling points 
see the unavailability of the routes leading to this signaling point and have ample time 
to respond. During the duration of timer T27, the isolated signaling point sends level 2 
processor outage messages to its adjacent signaling points using the LSSU.
After expiration of timer T27, the signaling point then attempts to place predetermined 
links back into service. The primary link of each linkset should be the first to be restored. 
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0001
0001 - Traffic-Restart-Allowed (TRA)
H1
56
0010 - Traffic-Restart-Waiting (TRW)
Figure 6.24 The traffic-restart-allowed (TRA) and the traffic-restart-waiting (TRW) messages are used with 
the MTP traffic-restart procedures. No information is provided other than the management message.

174      Chapter 6
To expedite the alignment procedure on these links, the emergency alignment proce-
dure is suggested for the first links within the linksets.
Once these links have been brought back into service, route management messages 
can be exchanged. The route management messages will enable the isolated signaling 
point to determine the current status of all direct routes. While the in-service links 
are exchanging route status information, the other links can begin their alignment 
procedures.
When the first link in a linkset goes into service, timer T22, “Timer at restarting 
signaling point waiting for signaling links to become available,” and timer T26, “Timer 
at restarting signaling point waiting to repeat traffic restart waiting message,” are 
started. Timer T22 is stopped when sufficient links have become available (sufficient 
links is a network-dependent parameter). If timer T26 expires, a TRW message is sent 
to all adjacent signaling points. Timer T26 then is restarted. This timer (T26) ensures 
that enough time is allowed for the procedure to be completed. Timer T26 is stopped on 
expiration of several other timers, depending on the events taking place.
There are many other timers and events that take place during the MTP restart 
procedure. The intent here is to give you an idea of what this procedure tries to ac-
complish. Without this procedure, each link is left to its own accord, and the alignment 
procedure is begun on a link-by-link basis. When the links are left to their own devices 
to get restored, there is no orderly fashion in which routes are reinstated. This proce-
dure brings more order to the alignment procedure and the procedures that take place 
when an entire signaling point has been isolated.
Management Inhibiting Link management to block a signaling link from level 4 uses 
management inhibiting. The status of the link does not change at level 2. The purpose 
of this procedure is to enable personnel to send test messages over the inhibited link 
or to enable link management to send test messages over the link without interference 
from any of the user parts.
However, inhibiting a link is not permitted if the signaling point is under a conges-
tion status or if no other links are available. If the link being inhibited is the last 
available link, the procedure is denied. If a signaling point suddenly should become 
isolated (owing to other link failures), or, if all other links within the same linkset as 
the inhibited link should become unavailable, inhibiting is canceled and the link is 
returned to normal service.
If no other links fail and the inhibit procedure is uninterrupted, only the originator 
can uninhibit the link. The link inhibition can be initiated either through a command 
entered at a system terminal or by network management.
The link is inhibited by sending an inhibit request to the remote signaling point. 
This informs the remote signaling point that the originator wants to inhibit the link 
and that the remote signaling point should mark the link as inhibited. If, for any of the 
reasons mentioned here, the link cannot be inhibited, the request is denied.
To ensure that the link is marked as inhibited at both ends of the link, both signaling 
points periodically send test messages to check the status of the link at the adjacent 
signaling point. This is accomplished through the inhibit test message.

Message Transfer Part (MTP) Level 3      175
During the time the link is marked as inhibited, the local signaling point sends a  
local inhibit test message. This is to ensure that the link status in the remote signaling 
point is still shown as inhibited. If the remote signaling point does not acknowledge 
the local inhibit test message, the procedure begins again with an inhibit request. The 
local signaling point first must force an uninhibit of the link before inhibiting the link 
can start.
Likewise, the remote signaling point also will send a remote inhibit test message 
periodically. If the remote inhibit test message does not get an acknowledgment, the 
link status at the remote signaling point is changed to available (through a forced unin-
hibit), and traffic is enabled on the link. These two test messages ensure that both ends 
of the link are aligned properly and show the same status. A signaling point is allowed 
two attempts at inhibiting a link.
When the inhibit link message is received by a signaling point, the receiving signal-
ing point initiates a changeover, diverting traffic away from the link onto other links 
within the same linkset or other linksets. If the signaling point receives an inhibit mes-
sage, the link is marked as remotely inhibited.
The originator of the inhibit marks the link as locally inhibited. A changeover proce-
dure is initiated to divert traffic to other links. The local signaling point uses the time-
controlled diversion changeover procedure.
If the local signaling point has not received an acknowledgment of its inhibit mes-
sage within timer T14, “Waiting for inhibit acknowledgment,” the procedure is started 
again. Two consecutive attempts are enabled. If the signaling point is still unsuccess-
ful after two attempts, the inhibit procedure is aborted, and the link remains available  
for traffic.
Inhibiting a link is usually a manual procedure, used by maintenance personnel for 
testing the reliability of a link. Test messages with specific patterns then can be ex-
changed over the inhibited link and checked for accuracy. The signaling point has the 
responsibility of ensuring that the inhibited link does not remain inhibited after testing 
is complete (caused by lost uninhibit messages never received by remote signaling points) 
and that the inhibited link is not the last available link to another signaling point.
Flow Control Flow control at level 3 is used to control the flow of user part messages 
from the source. Much about flow control is implementation-dependent. The procedures 
implemented for congestion or unavailable user parts depend on the manufacturers 
of SS7 equipment. The standards only define the need for such procedures and make 
suggestions as to how they can be addressed.
The intent of these procedures is to deal with congestion at the source, where the 
messages are being generated. This, of course, is at level 4—user parts. The protocol 
has no interaction, really, at this level because these are internal functions. However, 
the protocol does trigger these internal functions.
If a TFP message is received for a particular destination, level 3 will interact through 
network management with the protocol and will direct level 4 as well. Communications 
from the protocol to these internal functions are accomplished through the use of primi-
tives, which were discussed in Chapter 5.

176      Chapter 6
The primitives offer a structured communications format to interact with other lev-
els. In the case of flow control, level 3 must be able to notify level 4 of a congestion 
condition at another signaling point. The result is a reduction in traffic being generated 
for the affected signaling point.
The advantage to this is twofold. Only the user part experiencing the congestion is 
affected rather than the entire signaling point. The congestion flow control is directed 
at a specific user part (such as ISUP) rather than at an entire signaling point. This 
enables other traffic to continue without impedance.
The other advantage is that congestion is dealt with at the source rather than by 
trying to redirect messages around the congestion. If a particular node is causing con-
gestion, the amount of traffic generated by that node is throttled instead of redirecting 
all that traffic to another destination.
There are procedures invoked by route management at level 3 that also deal with 
congestion conditions; however, they deal with signaling-point congestion. Route man-
agement does not communicate with the source, the user parts, directly. Traffic man-
agement deals with the source.
The MTP uses traffic management flow control to deal with traffic destined to a user 
part that has become unavailable. This is from the perspective of the receiver rather 
than that of the source.
If an MSU is received by the MTP and the message discrimination function has de-
termined that the MSU is addressed to the local signaling point, the message is sent to 
message distribution to be given to level 4. However, if message distribution is unable 
to give the message to level 4 because of a congestion condition or because the user part 
at level 4 is not available, traffic management MTP flow control is invoked to inform 
the originator of the problem (Figure 6.25).
An example of how this could occur is best explained using the feature of global title 
translation. An STP performs GTT when it receives an SCCP message with a called-
party address that contains only digits.
These digits are referred to as global title digits. The digits typically are nonroutable 
(that is, 800 number or 900 number). The SCCP must deliver the message to a user part 
(the SCCP in this case) at the receiving signaling point for the GTT function. If the 
processor dedicated to that function has failed, no resources are available to perform 
the global title translation.
The signaling point in this case would return a UPU message to the originator of the 
message indicating that the message processing could not be completed because the 
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
1010
Cause
0001
Destination
User ID
4
24
4
4
56
Figure 6.25 The UPU indicates that a user part is not accessible at the specified destination. The user ID 
is the same value as that provided in the SIO field.

Message Transfer Part (MTP) Level 3      177
necessary resources are not available to perform the function. In Figure 6.25, the UPU 
message provides the DPC (the point code of the failed user part), the user part that 
is not available (the SCCP, ISUP, and so on), and the cause. The MTP user code is the 
same code used in the SIO of the MSU.
There are only three causes today: reason unknown, an unequipped remote user part, 
or the remote user part is inaccessible. The condition for each of these causes is purely 
implementation-dependent and may have different meanings in different networks.
In the event that traffic management should create a routing problem to any other 
signaling point, the routing management function at adjacent signaling points will be 
invoked. Likewise, if a signaling point that has invoked traffic management has lost a 
route to a destination, it also will invoke routing management to resolve routing issues. 
Route management is described in the following section.
Routing Management Procedures
Routing management is used by a signaling point to notify its adjacent signaling points 
of a routing problem. The routing problem usually is attributed to the loss of a signaling 
link or linksets, which together comprise a route.
The purpose of routing management is to redirect traffic around the failed route. This 
is accomplished through the use of transfer messages, which identify the failed destina-
tion by point code and instruct receiving signaling points on how to react (Figure 6.26). 
When a network is using cluster addressing, cluster routing management also can be 
invoked. In cluster addressing, each STP is assigned a unique cluster address. All the 
signaling points that “home” to that STP are assigned the same cluster address, with 
unique member addresses (Figure 6.27).
This enables routing management cluster messages to be sent to an STP and dis-
tributed among all its cluster members. The advantage of cluster routing management 
is that one message can be sent to address an entire group of signaling points rather 
than individual signaling points.
In addition to cluster routing, all networks must use some prioritizing on their routes. 
Typically, this is done by weighting each route in order of efficiency (Figure 6.28). For 
example, all signaling points will have a primary route. The primary route (one for 
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0100
0001 - Transfer-Prohibited (TFP)
H1
56
0010 - Transfer-Cluster-Prohibited (TCP)
Figure 6.26 Both the traffic-prohibited (TFP) and the transfer-cluster-prohibited (TCP) work in much the 
same way. The TDP identifies a single entity, whereas the TCP identifies a cluster of entities.

178      Chapter 6
every destination) is the fastest path to the destination. Therefore, it is considered the 
most efficient.
In addition to the primary route, there also should be a secondary route, which is not 
the most favorable path but provides an alternative in the event that the primary path 
should fail. This is not the best path, but it will get messages to the same destination. 
Additional routes are weighted in a similar fashion. The more paths provided, the more 
reliable is the network. The objective is to provide diverse routes to the same destination 
so that, in the event that a major failure should occur, messages still can be routed to 
their destinations.
SCP
SCP
246-3-2
246-3-3
246-3-5
246-3-6
246-2-2
246-2-3
246-2-4
246-2-5
246-3-0
246-2-0
246-3-1
246-2-1
Figure 6.27 In this figure, the group of SSPs that share the same home STP have the same cluster address. 
Network management messages then can be sent from the home STP concerning the status of the entire 
cluster. Signaling traffic also can be routed by cluster address rather than by the entire point code.
B
A1
B1
B2
B3
A2
A
F
C
E
D
Figure 6.28 In this example, A1 is a primary route to destination F, whereas A2 is the alternate route. For sig-
naling point B, B1 is the primary route to F, and B2 is the secondary route, whereas B3 is an alternate route.

Message Transfer Part (MTP) Level 3      179
When a route fails, a routing management message is sent to adjacent signaling 
points to advise them that the originating signaling point can no longer reach a desti-
nation through its routes and that an alternative should be selected (“Do not send to 
me because I can’t get there”). For normal routing management, the following messages 
are used:
■ TFP 
■ TFA
■ Transfer-restricted (TFR) 
■ Transfer-controlled (TFC) 
■ Signaling-route-set-test (SRST)
■ Signaling-route-set-congestion-test (RCT)
During cluster routing management, the following messages are used:
■ TCP
■ Transfer-cluster-allowed (TCA)
■ Transfer-cluster-restricted (TCR) 
■ Cluster-route-set-test (CRST)
These messages and their accompanying procedures are explained as follows.
TFP The TFP message (H1 heading code 0001) is sent by a signaling point when it 
determines that it can no longer reach a destination (adjacent signaling point). The 
reason for the isolation is loss of an entire route, which connects directly to the affected 
destination.
The message will provide the DPC for the affected signaling point. This enables adja-
cent signaling points to determine which alternate route to select to reach the affected 
destination.
In Figure 6.29, signaling point D can no longer route messages to signaling point F. 
A TFP is sent to signaling points B and C to advise them to select an alternate route. 
When signaling points B and C receive the TFP message, they stop transmission of all 
MSUs to the concerned signaling point (D) with the address of the affected signaling 
point (F) until an alternate route is determined. Once the alternate route has been 
determined, MSUs are transmitted via the alternate route to the affected destination 
(F). Any traffic generated at signaling point D destined for signaling point F is sent to 
signaling point B or C for routing to signaling point F.
This is a very simple example. Depending on the network configuration, this proce-
dure can involve very little rerouting or a lot of rerouting. The objective in any routing 
plan is to keep all routing as direct and as simple as possible.

180      Chapter 6
When the failed route becomes available again, a TFA message is sent to all adjacent 
signaling points by signaling point D, and normal routing is resumed.
TCP Like the TFP message, the TCP message (H1 heading code 0010) is sent by a 
signaling point to a cluster of signaling points. Each STP is assigned a unique cluster 
address, whereas all signaling points that home to the STP have the same cluster ad-
dress as the STP but use unique member addresses.
As shown in Figure 6.30, the home STP sends a TCP message concerning all the sig-
naling points that are homed to the STP. This enables one message to be sent regarding 
the entire cluster rather than numerous messages sent by each signaling point in the 
cluster.
TFA The TFA message (H1 heading code 0101) is used when a route becomes available 
again. This is sent by the originator of a TFP message to indicate that traffic may be 
sent once again to the affected signaling point.
The message structure is the same as the TFP. When received, the TFA should trigger 
a changeback to occur on the concerned link.
TCA The TCA message (H1 heading code 0110) is used to indicate that the route to a 
specified cluster is now available. This is sent by the originator of the TCP message to 
indicate that traffic now may be sent to the affected cluster point code.
TFR The TFR message (H1 heading code 0011) is sent by an STP when it is deter-
mined that messages to a particular destination no longer should be sent to the STP for 
routing to the affected signaling point (Figure 6.31). The TFR is always sent to adjacent 
signaling points.
Figure 6.29 Signaling point D can no longer send MSUs to signaling point F. A TFP is sent to signaling 
points B and C to prevent them from sending traffic for signaling point F to signaling point D. If signaling 
point D gets any traffic from other signaling points, the traffic is sent to signaling point C for routing to 
signaling point F.
B
TFP
MSUs
MSUs to F
A
F
C
E
D
TFP
MSUs

Message Transfer Part (MTP) Level 3      181
In the event that a signaling link to the affected destination experiences a long-term 
failure (such as a processor outage), the STP receives a changeover from the affected 
signaling point ordering all traffic to be diverted away from the link at fault.
The STP then may determine that it is necessary to send the TFR to all its adjacent 
signaling points to prevent traffic from being addressed to the STP for routing to the 
affected signaling point.
The restriction does not prevent messages from being transferred from the STP entirely, 
however. The restriction prevents normal traffic flow and forces other signaling points to 
find an alternate route for traffic destined to the affected signaling point. If no alternate 
routes are available, then traffic still can be routed through the STP normally.
246-3-2
246-3-3
246-3-5
246-3-6
246-2-2
246-2-3
246-2-4
246-2-5
246-3-0
246-2-0
TCP
246-3-1
246-2-1
TCP
Figure 6.30 In this example, STP 246-2-0 has failed and cannot reach any of the signaling points that home 
to it. A TCP message is sent to indicate this condition and cause routing to be forced to STP 246-2-1.
B
TFR
COO
A
F
C
E
D
TFR
Figure 6.31 The TFR message is used to restrict traffic flow. In this example, a link from signaling point 
A to signaling point B has failed, leaving only one link available. A changeover has occurred, and a TFR has 
been sent by the STP to all its adjacent signaling points.

182      Chapter 6
In this preceding case, the TFR is sent using the broadcast method. The broadcast method 
automatically transmits the TFR when the link has been determined to have failed.
When a significant number of links in a linkset fail, a TFR is sent to adjacent signal-
ing points using the response method. The response method sends the TFR when an 
MSU is received on a link for transfer to the affected signaling point.
The criterion for sending a TFR message under these conditions is implementation-
specific. The objective is to restrict traffic to the STP on the linkset that has experienced 
link failure before congestion occurs. Congestion can occur at both the link level and 
the user part level.
If a signaling point was prohibited previously and links become available, the sig-
naling point would be considered restricted, and TFR messages would be sent to all 
adjacent signaling points until the signaling point was 100 percent in service again. 
This means that all signaling links to the affected destination would have to be in 
service. There are cases where traffic on an alternate route would be diverted via the 
controlled-rerouting procedure to the restricted route. This should occur only when the 
restricted route has a higher priority than the alternate route. The priority of a route 
is set by an administration command at each signaling point.
In the event that both routes should be of equal priority and both are restricted, then 
load sharing should be implemented to distribute traffic evenly over both routes. This 
ensures that links are carrying an even amount of traffic and that one link does not 
become burdened with all the traffic from the failed route.
TCR When several routes within a cluster fail or become congested, the TCR message 
(H1 heading code 0100) is used (Figure 6.32). This message indicates to an adjacent 
STP that the concerned cluster should not be routed any messages if possible.
In Figure 6.33, the signaling points attached to STP A have the same cluster address 
as STP A. This means that STP A is their home STP. In the event that one or more 
routes within this grouping of signaling points should become unavailable, STP A 
would send a TCP to any adjacent STPs. This enables control over the traffic to the 
signaling points attached to STP A and any of its concerned signaling points. The same 
rules apply to the TCR as to the TFR.
It should be noted that not all networks use cluster routing. Cluster routing is a 
network management feature and is not implemented for normal message routing. 
However, partial-point-code routing can be used for normal routing of all messages 
through the network. If partial-point-code routing is offered within a network, then, 
most likely, cluster routing is also implemented because the two are closely related.
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0100
0100
56
4
4
24
Destination
Figure 6.32 This is the structure of a TCR message.

Message Transfer Part (MTP) Level 3      183
SRST This message is used to test the status of any prohibited or restricted route. 
When a TFP or TFR is received by a signaling point from an adjacent signaling point, 
a timer T10, “Waiting to repeat signaling-route-set-test message,” is automatically ac-
tivated (Figure 6.34). The following H1 heading codes are used in this message:
0001  SRST signal for prohibited  
destination
0010  SRST signal for restricted  
destination
0011  SRST signal for prohibited 
cluster
0100  SRST signal for restricted  
cluster
At expiration of timer T10, the SRST message is sent to the originator of the TFP or 
TFR (this also applies to TCP and TCR messages). When the SRST is sent, timer T10 
is reset.
The SRST message is retransmitted after every expiration of timer T10 until a TFA 
has been received by the testing signaling point. This procedure is used to ensure that a 
prohibited or restricted signaling point does not get stuck in that condition indefinitely. 
The message contains the status information (from the perspective of the originator) 
for the concerned signaling point as well as the heading code. No other information is 
necessary.
Another use for this message is when a link becomes available but traffic is not restart-
ing. Notification is given by level 2 (LSSU) that the link has started the proving period. 
The adjacent signaling point receives this status and also begins the proving period. 
246-3-2
246-3-3
246-3-5
246-3-6
246-2-2
246-2-3
246-2-4
246-2-5
246-3-0
246-2-0
TCR
246-3-1
246-2-1
TCR
Figure 6.33 Two signaling links to STP 246-2-0 have failed. The failure of these signaling links triggered 
a TCR to be sent to the adjacent STPs.

184      Chapter 6
After the proving period has ended and no other indications of failure are received, the 
link should be considered available.
However, only the signaling point that initiated the proving period can restart traffic 
on the link. The adjacent signaling point typically waits until receipt of an MSU. The 
adjacent signaling point then should send the SRST message to determine if the route 
has become available. The message then would be transmitted every time timer T10 
expires until either an MSU is received or the status is indicated by level 2.
In the event that an SRST message is sent to a previously restricted cluster, the 
receiving STP (considered the home STP for all other signaling points in that cluster) 
will compare the actual status of the cluster with that indicated in the message. If the 
status of the cluster is not prohibited or restricted, the home STP will send a TCA back 
to the originator of the SRST message. The originator of the SRST then updates its sta-
tus indicator for the cluster as available and allows traffic to be routed to the concerned 
STP. This procedure prevents a cluster from erroneously being marked by a signaling 
point as unavailable or restricted when a TFA or TCA message is lost.
If the cluster is not available and there are any signaling points within the cluster 
that are in danger of becoming congested, then the TCR message is sent to the origina-
tor of the SRST message. This prevents further congestion from forcing the signaling 
point into a busy condition.
TFC The TFC message (Figure 6.35) is sent by an STP when it receives an MSU des-
tined for a route that has been marked by the STP as congested. The TFC is addressed 
back to the originator of the MSU.
In Figure 6.36, a signaling point has sent an MSU to an STP to be routed over any 
available route to the destination addressed in the routing label. The STP determines 
that the route for that destination is congested and that there are no other routes to 
the destination.
When the MSU is received on a signaling link, level 3 routing must determine 
which route to send the message out on. If the only route is congested, level 3 network  
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0101
H1
0010 - Signaling-Route-Set-Test-Cluster-Restricted (RCR)
0010 - Signaling-Route-Set-Test-Cluster-Prohibited
0010 - Signaling-Route-Set-Test-Restricted (RSR)
0001 - Signaling-Route-Set-Test-Prohibited (RSP)
Figure 6.34 The message structure of SRST messages.

Message Transfer Part (MTP) Level 3      185
management will discard the message and send the TFC back to the originator of the 
MSU. The TFC should be generated by the link on which the message came in rather 
than using the same processor showing the congestion. In other words, if resources are 
showing a congestion status, sending them additional work compounds the problem. 
Implementation of this procedure will differ from system to system, but the overall 
objective is the same: Reduce the traffic to the congested route.
The reduction is accomplished by returning a congestion status code in the TFC mes-
sage. The congestion status indicates the priority level a message must possess before 
it will be routed over the congested route. Only messages of a higher priority than indi-
cated in the congestion status field will be enabled on the congested route.
The priority is determined by the individual signaling point. Each signaling point 
must assign a congestion status level to a route. The status is a 2-bit code providing 
for a status level of 1, 2, or 3 (0 indicates no congestion). When an MSU is received by 
an STP and is routed to the congested route, the network indicator field of the SIO is 
examined to determine what priority has been assigned to the received message.
Priorities are assigned by the originating signaling point. This coding is  
implementation-dependent. It can be an administrable value or can be assigned auto-
matically based on configuration of the signaling point. Regardless, in ANSI networks, 
this field determines whether or not a message will be enabled to pass through a con-
gested route based on the congestion level of the route.
If we examine the network indicator field, we see that two spare bits are associated with 
the national network indicator. They can have values of 0, 1, 2, or 3 (which correspond  
FCS
SIO
LI
FIB FSN BIB BSN Flag
SIF
Routing Label
0011
000000
0010
Destination
Status
6
24
4
4
4
56
Figure 6.35 Structure of the TFC message.
B
Congestion
TFC
MSU
Outage
A
F
C
MSU Discarded
E
D
Figure 6.36 The link between signaling point C and signaling point E has failed in this example. As a result, 
the link from signaling point C to signaling point D has become congested. MSUs sent by signaling points A 
to C are discarded, and a TFC is sent by signaling point C to signaling point A.

186      Chapter 6
to the congestion-level values). The MSU must have a priority value equal to or greater 
than the current congestion level of the congested route.
The affected destination point code parameter identifies the address of the adjacent 
node that is congested, as well as the status of the congested route. This enables the 
signaling point that originated traffic toward the destination to determine which 
types of messages it can send. If it has any messages to transmit that have a prior-
ity less than the congestion status indicated in the TFC, then the messages are not 
sent. This prevents the STP from receiving unnecessary messages that will have to 
be discarded.
Messages received by the STP for a congested route are not processed and are not 
returned. They are simply discarded, and the TFC message is sent in the backward 
direction to indicate that the messages have been discarded. The only time the TFC is 
sent is when a message has been discarded because of a congested route. If the MSU 
has a priority equal to or higher than the congestion level, the message is enabled to 
pass through the route to its destination, and no TFC message is created.
It also should be noted that if a signaling point received a TFC message and it de-
termined that another route is available to the same destination, then it can choose 
another route to the destination. In this case, the signaling point would mark the route 
on which it received the TFC message as congested and would invoke routing manage-
ment procedures.
The TFC message is sent on a regular basis to update the originating signaling point 
of the congestion status. If timer T15 expires within the originator of an MSU and no 
TFCs have been received within timer T15, the RCT procedure is invoked to determine 
if the route is still congested.
The RCT procedure is explained in full detail in the next section. The concept is to 
send a message (the test message) with a priority value of one less than what the origi-
nator thinks the congestion status is. If the route is still congested, the receiving STP 
will send a new TFC message indicating the congestion level.
If the RCT message gets through and timer T16 expires, then the route is considered 
congested but at a lower congestion level than the test message. The RCT message is 
sent again with a lower priority, and the procedure is repeated until the route is found 
to be at level 0 (no congestion).
RCT In the event that a signaling point receives a TFC message, it needs to periodi-
cally verify that the indicated route is still under TFC procedures. There are no indica-
tions sent by the originator of the TFC message that the route is no longer under TFC 
procedures.
If we look at the big picture of what is happening during this procedure, we can see 
multiple tiers of network management. Procedures have been invoked at the link level, 
which only involve two signaling points directly adjacent to one another.
Traffic management is diverting traffic away from the affected signaling link but, 
again, only between two adjacent signaling points. This sometimes may trigger the 
routing management procedure, which involves adjacent signaling points of an STP 
undergoing any one of the preceding procedures.

Message Transfer Part (MTP) Level 3      187
The TFC procedure, on the other hand, is sent to any signaling point that originates 
an MSU that is received by the concerned signaling point. Without keeping track of 
every TFC message sent and the destination of each message, it is not feasible for a 
signaling point to inform another signaling point to which it is not adjacent of the 
changed congestion status during the TFC procedure. For this reason, the responsibil-
ity is placed on the receiver of the TFC message to monitor the congestion status of a 
route continuously to determine when the status has changed. This is accomplished 
through the use of the RCT message.
The receiver of the TFC must send out the RCT message at expiration of level 3 timer 
T15. This timer is set when the TFC message is first received. When the RCT message 
is sent, the timer is reset.
The message is sent using the structure shown in Figure 6.37. The test message 
provides only the H0/H1 heading code indicating the type of test message. The MSU, 
however, carries the priority level of the concerned congested link. In other words, the 
congested route is considered congested at a specific level, which is determined by the 
concerned signaling points.
This congestion level, as discussed earlier, corresponds to the priority of an MSU. In 
ANSI networks, the priority of an MSU is indicated in the SIO subservice field.
The idea is that the MSU should be sent at the same priority level as the congestion sta-
tus of the concerned route. If the test message is passed through the concerned signaling 
point toward the affected destination, then obviously the status of the route has changed. 
However, there is no indication as to what the current congestion level is (Figure 6.38).
If the congestion status has not changed and the MSU carrying the RCT message 
is received, the receiving STP will discard the message, and a TFC message will be 
returned to the originator of the test message indicating the present congestion status 
level toward the affected destination.
Remember that the MSU must have a priority equal to or greater than the congestion 
status level. With every transmission of the RCT message, the MSU priority is set to 
one less than the perceived value of the concerned route. For example, if the congestion 
status is determined to be at level 3, only MSUs with a priority of 3 will be passed 
through. The message is sent with a priority that is one less than what the originator 
thinks the congestion level is based on the last TFC message received.
B
RCT (Pri 2)
A
F
C
Congestion Status = 3
E
D
Figure 6.37 In this example, signaling point C is under congestion. Signaling point A already has been 
notified by a TFC message of the congestion status. The SRCT message is sent with a priority of one less 
than the actual status of the route.

188      Chapter 6
If the congestion level has not changed, the test message is discarded, and a TFC 
message is returned. If the congestion status has changed, the MSU is passed on to the 
destination. There is no indication or acknowledgment that the message was received 
and routed to the affected signaling point.
To determine when a test message has been enabled to pass through the concerned 
route, the originating signaling point of an RCT message sets timer T16. At expiration 
of timer T16, if no TFC message has been received, it can be assumed that the test mes-
sage has been passed on to the affected signaling point and that the congestion level 
has changed.
There is still no indication of what the new congestion level is. When timer T16 ex-
pires, another RCT message is generated with a priority of one less than the preceding 
test message. This new test message is sent once every time timer T15 expires until the 
congestion status has changed and timer T16 expires with no receipt of a TFC message 
(Figure 6.39).
This procedure continues until the congestion status has abated and the route is 
considered at congestion level zero. The congestion level is not defined by the stan-
dards but by each individual signaling point. This means that congestion levels are 
implementation-dependent and that there are no rules as to what constitutes a level 3 
congestion status versus a level 1 congestion status.
The ANSI and Telcordia standards do indicate what types of messages should be 
allowed during the various congestion levels. The rules state that any network man-
agement messages sent by level 3 always should have a priority of 3. This, of course, is 
the highest priority available and ensures that network management messages always 
reach the affected destinations despite the congestion status.
Any messages that are related to future connections, that is, voice circuit connections 
that have not yet been established, must have of lesser priority than messages related 
to existing connections. This is done to ensure that present connections are maintained 
properly and that any messages related to present connections can be routed through 
the network. Any new connections then would be based on the network’s capability to 
route those requests through the congested route.
B
TFC
A
F
C
E
D
Congestion Status = 3
RCT Discarded
Figure 6.38 The SRCT was received, but because the congestion level has not changed, the SRCT was dis-
carded. A TFC is returned to the originator (signaling point A) indicating the current congestion level.

Message Transfer Part (MTP) Level 3      189
These messages should carry a priority of 0 or 1, being of a much lower priority than 
the existing one. This prevents new connections from being established during conges-
tion periods that require more processing than is available. This, of course, only affects 
the congested route and does not prevent these connections from being established us-
ing other available routes, if any are available.
Any message sent in response to another previously received message, such as an 
acknowledgment, should be of the same priority as the request. For example, if a re-
quest was sent to a signaling point for information relating to an existing connection, 
the response should have the same priority as the request. This also ensures proper 
maintenance of existing connections and prevents messages from being lost and affect-
ing these connections. Any large messages also should be given low priority. A large 
message requires additional processing resources, which adds to the congestion level of 
the route. This should be avoided whenever possible. What constitutes a large message 
is implementation-specific.
The idea is to prevent additional processing requirements on a congested route from tak-
ing the link out of service. The route needs to be able to finish processing the connections it 
is already servicing and should be able to return to a normal state within a reasonable time 
if network management is successful in controlling the traffic flow to that route.
Network Maintenance Procedures
The procedures described earlier are used by the network to maintain the reliability 
of the SS7 network. Usually there is very little that can be done by service person-
nel during any of these procedures because the network is maintaining the status 
and invoking these procedures autonomously. There are occasions, however, when the 
network may not be successful in returning routes and links to service, requiring the 
intervention of service personnel.
This section will explain the big picture in network management, showing a variety 
of events taking place at all levels. The objective of this section is to show all the events 
that may take place during a failure or congestion so that readers may have a better 
understanding of what is taking place and what to watch for on their own networks.
It is not the purpose of this section to prescribe any procedures that should be taken 
in the event that a failure or congestion is experienced because this will depend on your 
B
RCT (Pri 2)
A
F
C
E
D
Congestion Status = 2
T15
Figure 6.39 When the congestion level has decreased, eventually an SRCT will be accepted. Timer T15 
triggers the transmission of SRCT messages.

190      Chapter 6
own company’s maintenance procedures and the equipment used with the network. 
Understanding what is happening will assist you, however, in determining the next 
course of action.
Congestion Management
The use of various test tools can aid in troubleshooting a link and can help to determine 
what types of tests need to be run. The types of test equipment vary, depending on the 
type of interface and the sophistication required. A transmission analyzer looks at 
the transmission from the perspective of the physical layer and does not perform any 
protocol analyzing.
When a high-level view is needed, a protocol analyzer or network monitoring system 
can aid in detecting both transmission problems and protocol problems. A protocol 
analyzer will decode all layers of the protocol and allows a maintenance technician to 
determine at which level the error occurred. The protocol analyzer is best suited for a 
remote maintenance center, where messages can be monitored from and to all points 
on the network.
A network monitoring system usually provides protocol analysis as one of its many 
features, in addition to a number of other useful tools. A monitoring system collects 
data from all points on the network, providing a complete network-wide view of what 
is happening with the links, signaling points, and protocol at all levels. A monitoring 
system is the most effective way to manage and protect a signaling network.
At the various exchanges, a transmission tester is best suited for troubleshooting link 
problems under the direction of the remote maintenance center. When a transmission 
test is performed, the technician is testing the facility for its capability to send and 
receive bit streams to the other end of the link without error.
No addressing or other protocol functions are needed with this type of testing be-
cause the test is being performed between two entities. The purpose of such a test is 
to check the integrity of a signaling link. The SS7 protocol also will be checking link 
integrity whenever the link is active.
In the event that the protocol takes a link out of service, maintenance personnel may 
be required to test the link and isolate the fault. This is not always the case, however, 
because most failures on digital facilities, such as DS0s, are clock-oriented and can be 
resolved through the diagnostics of the protocol.
The procedures used for testing at this level are company-dependent. The only sug-
gestion here is to check each link before placing it into service to alleviate any obvious 
problems that may occur when turning up a signaling point for the first time. Once the 
link has been placed into service, there should be a minimal amount of problems.
The SS7 protocol, as we have already seen, uses a hierarchical approach to network 
management. As we have discussed all through this chapter, there are three levels of 
network management:
■ Link management 
■ Traffic management 
■ Route management

Message Transfer Part (MTP) Level 3      191
Even though we have already discussed these procedures in full detail, we haven’t 
looked at the whole picture during a link failure or during congestion of a route. Let’s 
look first at a congested route and what events could take place.
In Figure 6.40, signaling point D has been notified of a busy condition on one or more 
of the links toward signaling point F. One of the links at signaling point F has expe-
rienced a busy condition. This occurs when too much traffic is sent over one link, and 
the processor used by that link cannot handle all the traffic. When this occurs, the link 
management software initiates an LSSU with a condition of busy. The LSSU is sent 
by level 2 under the direction of level 3 link management. The LSSU is sent every T5 
(level 2 timer), for a period of T6.
During the period in which this link is under congestion, it can still send MSUs, but 
it will not accept any from its adjacent signaling point. In fact, signaling point F in 
this example will hold all acknowledgments and negative acknowledgments until the 
congestion subsides.
Timer T6 prevents the link from remaining in a busy condition for too long. When this 
timer expires, the link is removed from service, and the alignment procedure is started. In 
this example, the link was still in congestion mode when T6 timed out. The link had failed, 
and the level 3 link management software began the alignment procedure (recovery).
Because there are only two links to signaling point F, the failure of one of these links 
has created a problem. Traffic now must be diverted away from the failed link onto the 
adjacent link within the same linkset. However, this link is already near capacity, and 
adding the load of another link possibly will create a congestion condition on this link 
as well.
Level 3 link management places the link out of service by initiating the LSSU out of 
service toward signaling point D. This is done to ensure that signaling point D does not 
send any traffic onto the failed link. The link may be very capable of sending traffic, but 
signaling point F cannot process it. In fact, the link in this case must be able to carry 
traffic because the LSSU is sent on the same link for which it represents the status.
This brings up a good point. When a link has failed, the link is not always at fault. 
When we speak of a link failure, the link processor at either end is included as part of 
the link. Thus, even though the link itself is perfectly fine, the processor at either end 
or the interface card at either end could be at fault.
B
TFC
A
F
C
E
D
LSSU SIB
Figure 6.40 This figure shows a couple of activities. Congestion has occurred on the linkset from signaling point 
D to signaling point F. The single line represents multiple links. A TFC is sent to indicate congestion. Meanwhile, 
one of the other links has become busy, prompting the LSSU with a status indication of busy (SIB).

192      Chapter 6
The LSSU is used at level 2 to inform the adjacent signaling point of the status of the 
link at the other end so that both signaling points can be in synch during the diagnos-
tics phase. Once the link has been removed from service (by transmission of the LSSU 
out of service), signaling point F sends another LSSU with a status of out of alignment. 
This indicates that the link is no longer aligned and cannot be used to carry messages 
other than level 2 messages.
The next LSSU to be sent carries the status of normal alignment, indicating that 
the processor at signaling point F has begun the normal alignment procedure and that 
signaling point D should do the same.
During the proving period, FISUs are sent from signaling point F to signaling point D. 
These FISUs are monitored for errors using the alignment error-rate monitor (AERM) 
during the proving period, which is usually around 2 to 3 seconds.
If there are more than four errors during the proving period, the link has failed, and 
the alignment procedure begins all over again, beginning with the LSSU out of service. 
This procedure will continue until the link has been returned to service or until level 3 
link management removes it from service entirely.
While the FISUs are being sent between the two adjacent signaling points, traffic 
must be diverted away from the failed link. This actually begins before the link begins 
the alignment procedure. This is initiated by level 3 traffic management. The purpose 
is to notify the adjacent signaling point that all traffic that was destined for the failed 
link must be rerouted to a new link. The traffic management message also will instruct 
signaling point D as to which link to use.
Normally, this would not be necessary. However, both ends of the link have a trans-
mitting and a receiving buffer. These buffers hold transmitted and received MSUs until 
an acknowledgment is sent or received. In the case of the transmitting buffer, these 
MSUs have been sent but have not yet received any acknowledgments.
Traffic management at level 3 first will instruct signaling point F to move the contents 
of the failed link’s transmitting buffer to another link. The other link is either a link 
within the same linkset or of another route to the same destination. Once the MSUs have 
been moved to the new buffer, traffic management initiates the changeover procedure.
The COO is sent on the newly selected link, indicating the SLC of the failed link. 
This means that the link-code table within the signaling point also must be modified. 
Every signaling point maintains an SLC table that identifies the link-code assignment 
for every link in the system. Remember that the link code is a logical assignment and 
does not necessarily correspond to the physical link code.
The SLC enables every link to have multiple codes. When a link has failed, the link 
must be removed from this table so that it is not selected by the routing function of level 3.  
All the SLCs then are reassigned accordingly.
The receiver of the changeover message must mark the indicated link as failed, re-
move it from its own SLC table, and transfer the contents of the transmitting buffer 
to the link on which the COO was received. When this has been accomplished, the 
link alignment procedure is able to start on the failed link. Signaling point D sends a 
changeover acknowledgment to signaling point F to indicate completion of the change-
over procedure within itself.

Message Transfer Part (MTP) Level 3      193
All unacknowledged MSUs now can be resent from the transmitting buffer, and 
newly generated MSUs can be sent via the new link as well. This will continue until 
the failed link has been returned to service.
At this point, network management has controlled the traffic between two adjacent 
signaling points and initiated a recovery procedure to return a link to service. No other 
signaling points have been informed of these activities. Unless the failed link creates con-
gestion in the entire route, there is no need for further action. Let’s see what would hap-
pen, however, if the condition did not change and congestion were to occur on the route.
In Figure 6.41, signaling point D has been diverting traffic in the direction of signal-
ing point F to another link. However, signaling point D only has two links in its route 
to signaling point F. With one link carrying all the traffic, signaling point D has become 
congested over that route. This does not mean that signaling point D is under conges-
tion and cannot accept messages but rather that messages destined for signaling point 
F cannot be sent through signaling point D without some method of controlling the 
throughput of these messages.
Two methods are used for controlling messages in this situation. Route management 
is responsible primarily for rerouting traffic away from a congested signaling point (or 
signaling point with congestion on one of its routes). At the same time, route manage-
ment also can throttle the amount and type of MSUs sent to a specific destination. We 
will look at both these procedures.
When signaling point D determines that the route has reached a predetermined 
threshold (usually determined by some configurable percentage assigned at deploy-
ment time), the signaling point sends a TFR message to all adjacent signaling points. 
The TFR indicates a congestion condition to a given destination. Only the DPC is given 
in this message. The receiving signaling points (signaling points B and C in this ex-
ample) then must determine which alternate routes they will use to route messages to 
destination F.
Remember that signaling point D is not the affected signaling point. Signaling point 
D is simply a relay station for messages destined to signaling point F. The signaling 
point is not congested—just its route to signaling point F is congested. Only messages 
destined for signaling point F are affected. All other messages can be sent to signaling 
point D with no impact because they are not routed over the congested route.
B
TFR
A
F
C
E
D
Congestion
Level n
TFR
Figure 6.41 In this example, a link to signaling point F has become congested. Because this link is part of 
a route to F, the route-congestion procedure is invoked.

194      Chapter 6
The TFR indicates that messages destined to signaling point F should not be routed 
through signaling point D. This does not stop signaling point D from receiving messages 
destined for signaling point F. If no other alternate routes are available, messages still 
can be routed through signaling point D to signaling point F. This could compound the 
problem of congestion if too many messages were being routed to signaling point D.
When signaling point D receives an MSU addressed to signaling point F, it must 
examine the congestion level of the affected link. We are no longer talking about the 
failed link because it is still tied up in the alignment procedure. The link that all traffic 
was diverted to now has become the problem. Signaling point D must determine the 
congestion level (0, 1, 2, or 3) for the link and notify the originator of any MSUs.
Congestion levels are also implementation-dependent and can be configurable pa-
rameters based on network performance and the number of links to a given destination. 
In this example, we will say that the signaling link has reached a congestion level of 2. 
Level 3 is the most severe.
Signaling point D will use the congestion level of the link to determine which types 
of messages to allow through. For example, if the congestion level is level 2, only MSUs 
with a priority of 2 or above will be permitted to route through signaling point D to sig-
naling point F. All other MSUs are discarded, and a TFC is sent to their originator. The 
TFC message is sent by signaling point D to the originator of the received MSU. Only 
MSUs received and discarded can trigger the TFC message. The TFC message carries 
with it the current congestion level and the destination of signaling point F.
The receiver of this message then stops generation of all MSUs with a priority of less 
than 2. As discussed in the section on TFC procedures earlier, there are certain types 
of messages that are enabled during this congestion status, and each type of message 
receives a particular priority. To review those priorities, refer to the discussion of the 
TFC procedure earlier.
To determine when the route has become available again, the receiver of the TFC 
message must send the RTC message periodically. This message has a priority of 1 in 
our example (because the TFC indicated the congestion status at level 2). This message 
is resent every T15 until the congestion abates.
We can now see that network management has been performed at various levels: 
the link level, the traffic level, and even the message-origination level. As the severity 
increases, so does the role of network management. In Figure 6.42, the failed link has 
been returned to service, and the congestion is subsiding.
B
A
F
C
E
D
LSSUs
COA
COO
Figure 6.42 After testing a previously failed link by sending an SLTM, signaling point F sends a CBD, 
which is then acknowledged (CBA). Traffic is returned to normal.

Message Transfer Part (MTP) Level 3      195
Let’s start by looking at the link again. The failed link has been through the align-
ment procedure and has passed the alignment procedure successfully. Before the link 
is returned to normal service, level 3 sends an SLTM. This message is also configured 
at deployment time and carries with it a predetermined test pattern. The purpose is to 
ensure the capability of the link to carry level 4 traffic and not just FISUs.
Once the SLTM has been sent and received successfully, the link is returned to ser-
vice. Level 2 does not send any more LSSUs but does enable MSUs through the link. 
Actually, level 3 is the driver here and initiates the transmission of MSUs again. Before 
this can happen, a few procedures must be initiated internally.
First, the link must be reassigned its SLC so that level 3 routing can select this link 
for transmission. Once the link has been restored in the link-code table, level 3 traffic 
management sends a CBD message to signaling point D. The buffers do not need to be 
transferred this time because normal processing can continue on both links.
To indicate the success of the CBD, signaling point D sends a CBA on any available 
link. No other action is necessary. The failed link now has been restored, and traffic 
has been diverted back to the link. Both links are now operational. This means that the 
congestion condition also should be corrected.
As the congestion level subsides, the signaling link begins processing messages of a 
lower priority. No indication is sent by signaling point D of the new congestion level. 
However, any receivers of a TFC are still sending messages. This is their only means of 
determining the current status of the link.
When the congestion level has abated and the route is now free of congestion, the 
congestion should be at level 0. Any signaling points sending messages will find that 
they no longer receive a TFC when they send a test message with a priority of 0. They 
then mark the destination in their routing tables as available and begin normal trans-
mission again.
Throughout this whole series of events, there has been no human intervention. In 
fact, this whole scenario may have taken only a few minutes to complete. By the time 
the events were detected by personnel at the remote maintenance center, the condi-
tion could have been repaired. This is what makes the SS7 network such a robust 
network.
Failure Management
In the preceding subsection we talked about the procedures that would be used to cor-
rect a congestion condition. Now let us talk about the events that could occur during 
a network failure. We will start at the link level and watch as the failure migrates to 
an entire route. In Figure 6.43, signaling point D has detected a failure at one of the 
links to signaling point F. This failure appears to be at the processor level. Level 2 is 
operational, level 3 is functional, but level 4 cannot be reached by level 3 message dis-
crimination.
This failure affects only one link in a two-link linkset. The first event to occur is 
the initiation of the LSSU by level 3 link management. Level 3 link management  
instructs level 2 to send the LSSU with a status of processor outage to signaling link F. 

196      Chapter 6
Signaling link F thinks all is well until it receives the LSSU on the failed link. When 
it receives this message, it holds all MSUs to prevent transmission over the failed 
link. Level 2 has done its job.
Level 3 link management now must begin the recovery procedure on the link. This 
entails marking the link as out of service, which initiates changing the SLC and begin-
ning the changeover procedure.
Level 2 sends the LSSU with a status of processor outage to signaling point F, indi-
cating the processor failure at signaling point D. This should be followed by the LSSU 
of normal alignment. However, before normal alignment can begin, the traffic must be 
diverted away from the failed link.
The changeover procedure is invoked by level 3 traffic management. All unacknowl-
edged messages in the transmit buffer of the link at signaling point D are transferred 
to the new link (in this example, the adjacent link within the same linkset).
When this procedure has been completed, the COO is sent to signaling point F pro-
viding the failed SLC. The COO, as seen in the illustration, is sent on the new link. 
When received, signaling point F transfers the MSUs still in the transmitting buffer 
of the failed link to the new link. The MSUs are then retransmitted over the new link 
in both directions.
To acknowledge completion of the buffer transfer and receipt of the COO, signaling 
point F sends the changeover acknowledgment message to signaling point D. This sig-
nifies that all is completed and that MSUs now can be diverted to the new link.
Now that the messages have been retransmitted and the buffers have been trans-
ferred, the link management recovery procedure can begin. This entails sending the 
LSSU of normal alignment over the failed link and beginning the alignment procedure. 
All timers and counters are set to zero, and the alignment procedure begins.
During the diverting of traffic, the processor-outage problem has migrated to the new 
link. This means that both links to signaling point F are now inaccessible. Levels 2 and 
3 are operational, but level 4 is not. This requires the link management procedures to 
be reported on the other signaling link.
The failure of both links has now isolated signaling point F from the rest of the net-
work. While there is still another route available (through signaling point E), failure of 
signaling point E could cause a major outage.
B
A
F
C
E
D
SLTM
CBA
CBD
Figure 6.43 In this example, one link has failed in a two-link linkset. Level 2 LSSUs are sent on the failed 
link while the changeover procedure begins on the other link.

Message Transfer Part (MTP) Level 3      197
The link management procedure on the last link of the linkset works a little differ-
ently than it did before. Now the emergency alignment procedure is used. This is virtu-
ally the same as the normal alignment procedure, except that the time is much shorter 
(0.6 second), and only one error is allowed during the proving period.
Traffic management now must divert traffic away from the failed link and choose 
another alternate link, but this time the links in this linkset are all out of service. This 
means that link management must choose a link within another linkset going to the 
same destination.
In this example, the other linkset is to signaling point C. The COO is sent to signaling 
point C on the linkset from signaling point D to signaling point C. All MSUs received 
by signaling point D for signaling point F now will be routed through signaling point 
C. Because we have already discussed what events occur during the COO, we will not 
go through them again here.
Traffic is now diverted away from the failed links and rerouted to the linkset from 
signaling point D to signaling point C. However, signaling point D is still receiving 
messages destined for signaling point F. To stop messages from being sent to signaling 
point D for signaling point F, signaling point D route management sends a TFP mes-
sage to signaling points B and C. This will prevent either signaling point from sending 
an MSU destined for signaling point F through signaling point D.
Both signaling points B and C now must search for an alternate route. If there are 
no alternate routes, then the TFP message is sent to their adjacent signaling points to 
indicate that they can no longer reach the destination of signaling point F.
Notice that signaling point B does not need to send a COO to signaling point C. In 
essence, signaling point B is diverting traffic away from one route to an alternate route. 
This is done through routing-table states.
In the event that either signaling point B or signaling point C becomes congested, 
they may enter into a TFC procedure. Hopefully, this will not occur if both signaling 
points have ample links in their alternate routes.
Now let’s see what happens when the links all return to service. The failed links 
between signaling points D and F are restored. This means that they have passed the 
alignment procedure successfully and that they are capable of processing level 4 mes-
sages again. This is determined by level 3 message distribution.
The links first must be assigned the SLCs so that level 3 routing may select them 
during the routing function. Once this has been completed, MSUs can be sent over the 
affected links.
The CBD message must be sent between signaling points D and C. This is to indicate 
to signaling point C that the traffic now should be diverted back to their old routes and 
that all MSUs destined for signaling point F now can be routed through signaling point 
D. At the same time, because the route to signaling point F through signaling point D 
is now accessible, a TFA message is sent by signaling point D to its adjacent signaling 
points (B and C) to indicate the accessibility of the route.
To prevent signaling point D from routing messages destined to signaling point F 
through signaling point C, both signaling points B and C may send a TFP message to 

198      Chapter 6
signaling point D to prevent circular routing. Circular routing could occur if the route 
from signaling point C to signaling point F suddenly became unavailable. Messages 
then would be routed from signaling point D to signaling point C and then back up to 
signaling point B.
Once again, very little or no human intervention is required in such procedures. 
Remote maintenance personnel may redirect traffic through alternate networks, espe-
cially if a two-tiered network is used. In networks of this nature, the second tier enables 
routing through regionally located signaling points to route around clusters or regions 
that may be experiencing difficulty.
The rules for network outages in the RBOC networks are stringent. Any one inter-
face should not be down more than 3 minutes per year. The user interface is the access 
from level 4 to level 3. This means that a processor outage (which indicates failure of 
the interface with level 4) should not render the user part inaccessible for longer than 
3 minutes.
A network access unit should not be down more than 2 minutes per year. This in-
cludes access to signaling points from the central office, such as the SSP. These must 
remain accessible all the time. Failure at any of the access points (end nodes) means 
that telephone calls cannot be made.
TCP/IP Networks
When using TCP/IP for the transport of SS7, network management functions provided 
by level 3 operate somewhat differently. First of all, the network devices themselves 
have no visibility to MTP level 3. In IP networks, these devices are routers and hubs, 
which use their own protocols for maintaining network reliability.
Thus MTP level 3 network management becomes a tool for the signaling nodes them-
selves to maintain virtual link reliability and to provide alternative routing schemes 
should the IP network fail.
At least one protocol used for the transport of SS7 over IP networks provides some 
level 3 functionality: the Transport Adaptation Layer Interface (TALI) developed by 
Tekelec and implemented by many vendors as a de facto standard. The purpose of this 
protocol is to emulate the network management functions of MTP level 3 in an IP en-
vironment, providing a much more robust alternative to IP networking than what has 
been proposed by other working committees (M2UA and M3UA).
Another rather unique approach of TALI is to incorporate some of the inherent fea-
tures of the IP network into signaling nodes. When devices are connected to the signal-
ing network, they automatically register with other devices on the network (provided 
they are running TALI as well). This registration is actually analogous to many of the 
IP routing protocols that routers use to update their routing tables.
The purpose of this registration is to support network routing management in the 
IP environment and provide a means to route traffic around failed nodes within an 
IP network. The TALI protocol continually sends test messages to adjacent devices. 
Should an adjacent device fail to acknowledge within a specific time (determined by an 
administrable timer), the routing table of the node sending the test message flags the 

Message Transfer Part (MTP) Level 3      199
node as failed. Alternate routes then are used until the failed node becomes available 
again and sends a registration to all its adjacent nodes.
The functions of MTP level 3 (and in some cases even MTP level 2) are still just as im-
portant when using IP links because IP networks do not have the same reliability and 
guaranteed service delivery that dedicated point-to-point channelized links provide. 
However, IP facilities do bring considerable advantages over channelized facilities, pro-
viding an equitable trade. As the standards evolve, the functions of MTP levels 2 and 3 
will be incorporated into IP protocols (TALI, M2UA, M2PA, M3UA, and SUA).


Chapter
7
Signaling Transport (SIGTRAN)
As operators began their migration to an Internet Protocol (IP) backbone, the need to 
transport the ISDN User Part (ISUP) and the Transaction Capabilities Application 
Part (TCAP) using the Transmission Control Protocol/Internet Protocol (TCP/IP) be-
came paramount. Operators began deploying IP into their signaling networks as early 
as 1999 for the purpose of signaling transport. The Internet Engineering Task Force 
(IETF) began work on a replacement for the Message Transfer Part (MTP), which works 
well in a time-division multiplexing (TDM) environment but is not suited for TCP/IP 
networking.
The main difference between the Message Transfer Part (MTP) and SIGTRAN (which 
is an acronym for Signaling Transport) lies in the procedures and connection manage-
ment. In addition, the SIGTRAN protocols provide an additional level of security not 
found in existing IP transport. 
As IP networks continue to evolve within the telecommunications space, SIGTRAN is 
becoming more and more prevalent. In a Voice-over-IP (VoIP) network, it is SIGTRAN 
that interfaces between the Public Switched Telephone Network (PSTN)—via a sig-
naling gateway—and Media Gateway Controllers (MGCs) in the VoIP network. The 
signaling gateway provides the function of converting ISUP over MTP to ISUP over 
SIGTRAN. The MGC then receives the ISUP messaging, and creates the equivalent 
Session Initiation Protocol (SIP) messaging for use in the VoIP network (or other pro-
tocol depending on the specific implementation). 
In the IP Multimedia Subsystem (IMS), SIGTRAN plays a role as the interface to 
the PSTN network, much in the same way as it has been implemented for VoIP. In fact, 
the VoIP network elements are used for converting voice into packets as an interface 
between the IP world and the PSTN. This means that, eventually, as voice becomes all 
packetized, there will be no further need for softswitches.
Looking at the protocol stack for Signaling System 7 (SS7), in Figure 7.1 you can see 
that SIGTRAN is used in place of the MTP layers when the physical transport is IP.  
201

202      Chapter 7
We will look into each of the cases as to when these protocols are used in more detail in 
the following sections. 
It should be noted here that not all the SIGTRAN protocols are used. The use of any 
of the SIGTRAN protocols depends on the services being provided on the IP transport. 
When connecting an MGC and a signaling gateway within the SS7 domain, MTP2 is 
replaced with M2UA. The M2UA protocol provides the services found in MTP2 that 
would be expected by a signaling transfer point (STP) in the SS7 network. However, 
when connecting a home location register (HLR) using the IP interface, M2UA is not 
expected nor needed. In this case you will find M3UA and SUA used [along with the 
Stream Control Transmission Protocol (SCTP)] in place of MTP3 and the Signaling 
Connection Control Part (SCCP). 
This is also the reason you will see some replication of messaging between the proto-
cols. While it appears that they are the same, there are in most cases subtle differences 
between the parameter sets that comprise any one message within SIGTRAN proto-
cols. This is why these messages, even though they are named the same, are defined in 
each protocol section. Table 7.1 shows all the message classes that are supported within 
SIGTRAN and which of the SIGTRAN protocols uses each of these message classes.
The request-for-comments (RFC) number is provided for each of the protocols. If you 
are a developer, you will want to verify the primitives supported by each of the protocols 
through these documents. These documents can be found on the Internet Engineering 
Task Force Web site (www.ietf.org).
AIN/INAP
MAP
IS41
TCAP
SCCP
SUA
M3UA
M2UA
M2PA
MTP3
MTP2
SCTP
IP
Ethernet
Physical Layer
MTP1
MTP-3b
SSCF
SSCOP
AAL5
ATM
ISUP
TCAP
Figure 7.1 SS7 with SIGTRAN protocol stack.

Signaling Transport (SIGTRAN)      203
Terminology
Throughout the SIGTRAN documentation, the term association is used to refer to a 
logical connection between two entities. An association is a logical connection between 
two entities in the IP domain. Within the association, there may be many streams. The 
streams can be considered the actual dialogs between the two entities. Both the associa-
tion and the streams are identified for each message sent.
SIGTRAN also makes reference to two entities; the signaling gateway and the appli-
cation server. A signaling gateway acts as a link terminal, terminating the SS7 circuit 
and routing its traffic to the IP circuits based on destination. Of course, the signaling 
gateway also works in the reverse, providing routing from the IP domain to SS7 circuits 
in the SS7 network. 
An application server can be any physical entity including an IP-based HLR or an 
MGC. Each application server has one or more application server processes that handle 
the traffic coming from the signaling gateway. 
Message Formatting
Messages within SIGTRAN all begin with a common header, followed by the actual mes-
sage. Each message also has its own header, consisting of a tag (with a unique identifier for 
the message), the length (in octets) of the entire message, and the message value, consisting 
of one or more parameters. The parameters also begin with a tag and length followed by the 
actual parameter value. This is known as the tag, length, and value (TLV) format. 
The following sections look at each of the SIGTRAN protocols individually, address-
ing the message types, formats, uses, and parameter values. 
MTP2 User Adaptation (M2UA)
M2UA is used to interface an MGC with a signaling gateway using the services of 
SCTP and M2UA. It should be noted here that when connecting two STPs using IP, 
TABLE 7.1 Message Classes Supported in SIGTRAN 
Message Class 
Description 
IUA 
M2UA 
M3UA 
SUA
0 
Management (MGMT) messages 
X 
X 
X 
X
1 
Transfer messages 
 
 
X 
2 
SS7 Signaling Network Management (SSNM) messages 
 
 
X 
X
3 
ASP State Maintenance (ASPSM) messages 
X 
X 
X 
X
4 
ASP Traffic Maintenance (ASPTM) messages 
X 
X 
X 
X
5 
Q.921/Q.931 Boundary Primitives Transport (QPTM) 
X 
 
 
6 
MTP2 User Adaptation (MAUP) messages  
 
X 
 
7 
Connectionless messages 
 
 
 
X
8 
Connection-oriented messages  
 
 
 
X
9 
Routing Key Management (RKM) messages  
 
 
X 
10 
Interface Identifier Management (IIM) messages 
 
X 
 
11–127 
Reserved by the IETF 
 
 
 
128–255 
Reserved for IETF-defined message class extensions 
 
 
 

204      Chapter 7
M2UA is not used. Instead, the MTP2 User Peer-to-Peer (M2PA) protocol is used. M2PA 
is not defined in this book but may be added in a later revision. M2UA is defined in 
RFC-3331.
Routing 
One of the most important tasks of M2UA is to maintain mapping between SCTP 
associations and physical interfaces or ports in the SS7 domain. Since SS7 links are 
terminating at the signaling gateway, inbound messages have to be mapped by M2UA 
from the SS7 links to SCTP associations and the proper streams within that associa-
tion. This is done through the use of an interface identifier. 
The interface identifier (IID) is assigned when an application server process (ASP) 
sends the User Part (UP) message to the signaling gateway, signifying that it is now 
active and able to begin processing traffic for its associated application server (AS). 
Since the state of an ASP can be dynamic, the signaling gateway is also responsible for 
maintaining the state of each of the registered ASPs and managing the flow of traffic 
based on these states. Figure 7.2 depicts the association of an SS7 link to an ASP.
Traffic Management
Another function of M2UA is basic traffic management between the SS7 network and 
the MGC or ASP. This means managing traffic between the SS7 interfaces and the 
SCTP streams. To do this, M2UA must know the state of all ASPs and MGCs, and it 
must be able to manage traffic flowing to these entities. 
For example, if the signaling gateway shows two ASPs available, and the traffic type 
mode is override, then M2UA is responsible for determining which ASP will be active 
and which will be standby. There is no function required to inform the ASP of which is 
active and which is standby. The M2UA simply determines which ASP to route traffic. 
The M2UA also can manage flow control between the IP and SS7 domains. There are 
provisions to allow M2UA to receive IP congestion status from the SCTP and use this 
information to inform entities within the SS7 domain and invoke flow control on the 
SS7 links. This is still implementation-specific and not defined in the RFC. 
IID
IID
SS7 Links
AS
ASP
ASP
Active
Standby
Assoc
Streams
Figure 7.2 Logical view showing the association of an SS7 link to an ASP.

Signaling Transport (SIGTRAN)      205
M2UA Message Formats
This subsection identifies all the messages supported in M2UA. They are grouped by 
message class. As seen in Table 7.1, there are only five message classes used by M2UA. 
These message classes are
■ MTP2 User Adaptation (MAUP)
■ Application Server Process State Maintenance (ASPSM)
■ Application Server Process Traffic Maintenance (ASPTM)
■ Management (MGMT)
■ Interface Identifier Management (IIM)
The following subsections define the message types supported for each of the message 
classes.
Common Header
Each message contains a common header identifying the message class and message 
type, followed by any message specific content. The format for the common header is 
shown in Figure 7.3.
MTP2 User Adaptation (M2UA) Messages
This message class provides information about a link and its state, or it provides data 
from MTP2 received over an SS7 link (see Table 7.2). Since M2UA acts as an extension 
of MTP2 to the MGC, these messages provide a mechanism for the MGC to control the 
SS7 links terminating at the signaling gateway. 
Data This message contains the MTP2 protocol data unit (PDU) beginning with the 
service indicator octet (SIO). There are two parameters in this message, as shown in 
Table 7.3. The parameters themselves are defined in the “Parameters” sections later 
in this chapter.
Establish Request The MGC sends this message to establish a connection with an SS7 
link through the signaling gateway (Figure 7.4). If the signaling gateway already has 
a link established, the signaling gateway takes no further action other than to send 
an establish confirm. This is needed because the MGC controls the status of the SS7 
link. Remember that M2UA is an extension of MTP2 in the IP domain. There are no 
additional parameters for this message. It is identified in the common header.
Message Length
Spare
Version
Message Class
Message Type
Figure 7.3 M2UA common header.

206      Chapter 7
Establish Confirm The establish confirm is sent to the MGC in response to an estab-
lish request after the signaling gateway has established a connection with an SS7 link 
(Figure 7.5). When the MGC sends the establish request, optionally it can start a timer. 
If the timer expires prior to receipt of an establish confirm, the MGC will resend the 
establish request. There are no additional parameters for this message. It is identified 
in the common header. 
Release Request This message is sent by the MGC to release an SS7 channel (Figure 7.6). 
It is used along with the release confirm and the release indication messages. 
Release Confirm The release confirm is sent by the signaling gateway to the MGC to 
confirm that an SS7 channel has been released (Figure 7.7). 
Release Indication The release indication is used to indicate that an SS7 channel has 
been released (Figure 7.8).
TABLE 7.2 MTP2 User Adaptation (M2UA) Messages
0 
Reserved
1 
Data
2 
Establish request
3 
Establish confirm
4 
Release request
5 
Release confirm
6 
Release indication
7 
State request
8 
State confirm
9 
State indication
10 
Data retrieval request
11 
Data retrieval confirm
12 
Data retrieval indication
13 
Data retrieval complete indication
14 
Congestion indication
15 
Data acknowledge
16–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined MAUP extensions
TABLE 7.3 Data Message Parameters 
Protocol data 
Mandatory
Correlation ID 
Optional 
Message Length
Spare
Version = 1
Message Class = 6
Message Type = 2
Figure 7.4 Establish request.

Signaling Transport (SIGTRAN)      207
State Request This is used to manage an SS7 link and to change its state (Figure 7.9). 
The MGC sends this message to the signaling gateway, which, in turn, will use the proper 
link management procedures and generate the appropriate SS7 link management mes-
sages. The state parameter is a mandatory parameter for this message (Table 7.4). 
State Confirm The signaling gateway returns the state confirm message contain-
ing the state value received when it receives a state request message from the MGC 
(Figure 7.10). It uses the same format as the state request message (Table 7.5).
State Indication The state indication message is sent by the signaling gateway to an 
ASP to indicate a state change in a link (Figure 7.11). The message contains the event 
parameter defined in the “Parameters” sections later in this chapter (Table 7.6).
Message Length
Spare
Version = 1
Message Class = 6
Message Type = 3
Figure 7.5 Establish confirm.
Message Length
Spare
Version = 1
Message Class = 6
Message Type = 4
Figure 7.6 Release request.
Figure 7.7 Release confirm.
Message Length
Spare
Version = 1
Message Class = 6
Message Type = 5
Figure 7.8 Release indication.
Message Length
Spare
Version = 1
Message Class = 6
Message Type = 6
State
Tag = 0 × 0302
Length = 8
Figure 7.9 State request message.

208      Chapter 7
Data Retrieval Request This message is used to request the backward sequence number 
(BSN) from the SS7 distant end when a link is going through the changeover procedure 
(Figure 7.12). It is also used to retrieve the protocol data units from the transmit buffer 
of the failed link (Table 7.7). 
Data Retrieval Confirm The data retrieval confirm message is sent by the signaling 
gateway on receipt of the data retrieval message (Figure 7.13). The action parameter 
is simply echoed back to the originator. If the action was to retrieve the BSN, the BSN 
value is provided in the sequence number parameter. If the BSN is retrieved success-
fully, then the result parameter will indicate this success (Table 7.8).
Data Retrieval Indication The data retrieval indication message does not contain any 
sequence numbers, just the protocol data parameter containing a protocol data unit 
(PDU) from the transmit or retransmit queue (Figure 7.14). This is sent by the signal-
ing gateway on a changeover procedure initiated by the SS7 MTP3 procedures on the 
SS7 link (Table 7.9).
Data Retrieval Complete Indication This message is exactly the same as the data re-
trieval indication message except that it also confirms that retrieval is complete.  
TABLE 7.4 State Request Message Parameters
State request 
Mandatory 
TABLE 7.5 State Confirm Message Parameters
State 
Mandatory 
TABLE 7.6 State Indication Message Parameters
State event 
Mandatory 
State
Tag = 0 × 302
Length = 8
Figure 7.10 State confirm.
State Event
Tag = 0 × 303
Length = 8
Figure 7.11 State indication.

Signaling Transport (SIGTRAN)      209
TABLE 7.7 Data Retrieval Request Message Parameters
Action 
Mandatory
Sequence number 
Optional 
TABLE 7.8 Data Retrieval Confirm Message Parameters
Action 
Mandatory
Result 
Mandatory
Sequence number 
Optional 
TABLE 7.9 Data Retrieval Message Parameters
Protocol data 
Mandatory
Action
Tag = 0 × 306
Length = 8
Sequence Number
Tag = 0 × 307
Length = 8
Figure 7.12 Data retrieval request.
Action
Tag = 0 × 306
Length = 8
Result
Tag = 0 × 308
Length = 8
Sequence Number
Tag = 0 × 307
Length = 8
Figure 7.13 Data retrieval confirm.
Protocol Data
Tag = 0 × 300
Length
Figure 7.14 Data retrieval indication.

210      Chapter 7
This message may or may not also include a retrieved PDU within the protocol data 
parameter (Table 7.10). 
Congestion Indication The congestion indication message is sent by the signaling gate-
way to indicate the congestion level of an SS7 link (Figure 7.15). This is used only in 
American National Standards Institute (ANSI) networks supporting congestion levels. 
International Telecommunications Union (ITU) networks to date do not use congestion 
levels (Table 7.11).
Data Acknowledge The data acknowledge message is sent as an acknowledgment that 
a data message was received (Figure 7.16). The correlation ID of the data message is 
returned in the acknowledgment message. If no correlation ID is sent in the data mes-
sage, then this message should not be sent. However, if the correlation ID was sent in 
the data message, an acknowledgment is expected. 
This mechanism is used to prevent message loss. If there are a number of messages 
without an acknowledgment, SS7 will fail the link (link management), and the link will 
enter into a proving period. 
TABLE 7.10 Data Retrieval Complete Indication Message Parameters
Protocol data 
Optional
TABLE 7.11 Congestion Indication Message Parameters
Congestion status 
Mandatory
Discard status 
Optional 
Congestion Status
Tag = 0 × 304
Length = 8
Discard Status
Tag = 0 × 305
Length = 8
Figure 7.15 Congestion indication.
Correlation ID
Tag = 0 × 13
Length = 8
Figure 7.16 Data acknowledge message.

Signaling Transport (SIGTRAN)      211
Application Server Process State Maintenance (ASPSM) Messages
These messages are used for communicating the various states of an ASP (Table 7.12). 
The ASP uses these messages toward the signaling gateway, which is responsible for 
tracking the state of each of the ASPs it is associated with. These messages also will 
have an impact on the routing of M2UA traffic. If an ASP is advertising to the signaling 
gateway that it is not available for processing traffic (ASP DOWN), then the signal-
ing gateway is responsible for finding an alternative ASP to route the traffic. This will 
depend, of course, on the traffic mode type selected for the application server that is 
associated with the reporting ASP. 
ASP Up (UP) The ASP up (UP) message is used to inform the signaling gateway that 
the ASP is now available to process traffic (Figure 7.17). The signaling gateway, in turn, 
will change its state tables to reflect that traffic now can be routed to this ASP and will 
begin sending traffic to the ASP (Table 7.13).
ASP Down (DOWN) This message is used by the ASP to inform remote peers that it 
is no longer capable of processing traffic. These peers are then expected to return an 
acknowledgment (ASP Down ACK). The format is the same as for the ASP Up ACK 
message (Table 7.14).
ASP Identifier
Tag = 0 × 11
Length = 8
INFO String
Tag = 0 × 4
Length
Figure 7.17 ASP up (UP) message.
TABLE 7.12 Application Server Process State Maintenance (ASPSM) Messages
0 
Reserved
1 
ASP up (UP)
2 
ASP down (DOWN)
3 
Heartbeat (BEAT)
4 
ASP up acknowledgment (UP ACK)
5 
ASP down acknowledgment (DOWN ACK)
6 
Heartbeat acknowledgment (BEAT ACK)
7–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined ASPSM extensions
TABLE 7.13 ASP Up (UP) Message Parameters
ASP identifier 
Optional
INFO string 
Optional 

212      Chapter 7
Heartbeat (BEAT) M2UA may use this message in cases where SCTP is not used 
(Figure 7.18). SCTP has its own heartbeat procedure, so in cases using SCTP, this 
would not be necessary. The purpose of the BEAT message is to check the logical con-
nection to a destination periodically to ensure that the association is still available 
and that the destination is still reachable and available (Table 7.15). 
ASP Up ACK (UP ACK) This message is sent on receipt of an ASP up (UP) message. 
The signaling gateway is expected to return an acknowledgment to the ASP when it 
receives an UP (Table 7.16).
ASP Down ACK (DOWN ACK) This message is returned to an ASP originating an ASP 
down (DOWN) message. The INFO string is optional (Table 7.17). 
Heartbeat ACK (BEAT ACK) The heartbeat ACK (BEAT ACK) message is used to return 
to the originator of a BEAT message the heartbeat data parameter. Even if the param-
eter is not used, an acknowledgment is expected by the originator. This is the only way 
the originator can confirm that the destination is still reachable and available. If no 
acknowledgment is received, it is assumed that the destination is no longer reachable. 
The format for this message is the same as the BEAT message (Table 7.18).
TABLE 7.14 ASP Down (DOWN) Message Parameters 
INFO string 
Optional 
TABLE 7.15 Heartbeat (BEAT) Message Parameters
Heartbeat data 
Optional
TABLE 7.16 ASP Up ACK (UP ACK) Message Parameters 
INFO string 
Optional
TABLE 7.17 ASP Down ACK (DOWN ACK) Message Parameters
INFO string 
Optional
TABLE 7.18 Heartbeat ACK (BEAT ACK) Message Parameters
Heartbeat data 
Optional 
Heartbeat Data
Tag = 0 × 0009
Length
Figure 7.18 Heartbeat (BEAT) message.

Signaling Transport (SIGTRAN)      213
Application Server Process Traffic Maintenance (ASPTM) Messages
This class of messages is used for traffic management and is analogous to traffic man-
agement in SS7 (Table 7.19). The purpose of these messages is to communicate the 
ability of an ASP to receive traffic from a signaling gateway. 
ASP Active (ACTIVE) The ASP uses this message to notify a signaling gateway that it 
is active and ready to use (Figure 7.19). The signaling gateway, in turn, is expected to 
return the ACTIVE ACK message. The ASP may reference multiple interface identi-
fiers in this message using a combination of integers, text, and/or ranges (Table 7.20). 
The format for this message when text identifiers are used is different from the format 
for integers, as indicated in Figure 7.20.
ASP Inactive (INACTIVE) The INACTIVE message is sent by an ASP to the signaling 
gateway to inform the signaling gateway that it is no longer available to process traffic 
for its associated application server (Figure 7.21). The signaling gateway will return an 
acknowledgment (INACTIVE ACK) message and either discard all traffic for this ASP 
or store the traffic for a given time period and then discard it if the ASP does not send 
an ACTIVE message within the time period (Table 7.21).
ASP Active ACK (ACTIVE ACK) This acknowledgment is sent in return of an ACTIVE 
message (Figure 7.22). The contents of this message are the same as the ACTIVE mes-
sage, with the values remaining the same as well (Table 7.22). No modification of the 
parameters is performed by the signaling gateway. 
TABLE 7.19 Application Server Process Traffic Maintenance (ASPTM) Messages
0 
Reserved
1 
ASP active (ACTIVE)
2 
ASP inactive (INACTIVE)
3 
ASP active ACK (ACTIVE ACK)
4 
ASP inactive ACK (INACTIVE ACK)
5–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined ASPTM extensions
TABLE 7.20 ASP Active (ACTIVE) Message Parameters
Traffic type mode 
Optional 
Interface identifier 
Optional
INFO string 
Optional 
TABLE 7.21 ASP Inactive (INACTIVE) Message Parameters
Interface identifiers 
Optional 
INFO string 
Optional 

214      Chapter 7
ASP Inactive ACK (INACTIVE ACK) The ASP inactive ACK message is sent by the signal-
ing gateway to the ASP in response to an INACTIVE message. There is no modification 
of the parameters by the signaling gateway. All parameters are echoed back to the ASP 
as part of the confirmation if implementation supports this (parameters are optional). 
The format for this message is the same as the INACTIVE message (Table 7.23).
Management (MGMT) Messages
Only two messages are supported in this class, and they are used to notify users of the 
M2UA of errors that have occurred owing to improper messaging or to notify users of 
M2UA of an event, such as a state change in one of the entities (Table 7.24).
TABLE 7.22 ASP Active ACK (ACTIVE ACK) Message Parameters
Traffic mode type 
Optional
Interface identifier 
Optional
INFO string 
Optional 
Traffic Mode Type
Tag = 0 × b
Length = 8
Interface Identifier (Integer)
Tag = 0 × 1
Length
Interface Identifier Start 1 (Integer Range)
Tag = 0 × 8
Length
Interface Identifier Start 2
Interface Identifier Stop 1
----------------------------------
Interface Identifier Stop 2
Interface Identifier Stop n
Interface Identifier Start n
INFO String
Tag = 0 × 4
Length
Figure 7.19 ASP active (ACTIVE) message. 

Signaling Transport (SIGTRAN)      215
Error (ERR) This message is used to identify errors in messaging between the signal-
ing gateway and an ASP (Figure 7.23). A number of errors are identified by this mes-
sage in the error-code parameter (Table 7.25).
TABLE 7.23 ASP Inactive (INACTIVE) Message Parameters 
Interface identifiers 
Optional
INFO string 
Optional 
TABLE 7.24 Management (MGMT) Messages 
0 
Error (ERR)
1 
Notify (NTFY)
2–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined MGMT extensions
Traffic Mode Type
Tag = 0 × b
Length = 8
Interface Identifier (Text)
Tag = 0 × 3
Length
Interface Identifier Start 1
Tag = 0 × 3
Length
Interface Identifier Start 2
Interface Identifier Stop 1
----------------------------------
Interface Identifier Stop 2
Interface Identifier Stop n
Interface Identifier Start n
INFO String
Tag = 0 × 4
Length
Figure 7.20 ASP active (ACTIVE) message using text.

216      Chapter 7
Notify (NTFY) The notify message is sent by the signaling gateway to users of M2UA 
to notify of specific events (state changes) (Figure 7.24 and Table 7.26).
Interface Identifier Management (IIM) Messages
These are optional messages that are used by M2UA for the automatic allocation of a 
signaling terminal or newly added signaling links (Table 7.27).
Registration Request (REG REQ) This is the message that an ASP sends to a signaling 
gateway when it wishes to register itself and obtain an interface identifier from the sig-
naling gateway (Figure 7.25). The ASP sends a link key, which includes a local link identi-
fier for correlating the request with the response sent back from the signaling gateway.  
Interface Identifier (Integer)
Tag = 0 × 1
Length
Interface Identifier Start 1 (Integer Range)
Tag = 0 × 8
Length
Interface Identifier Stop 1
Interface Identifier Stop 2
Interface Identifier Start 2
----------------------------------
Interface Identifier Stop n
Interface Identifier Start n
INFO String
Tag = 0 × 4
Length
Figure 7.21 ASP inactive (INACTIVE) message. 
TABLE 7.25 Error (ERR) Message Parameters 
Error code 
Mandatory
Interface identifier 
Optional
Diagnostic information 
Optional 

Signaling Transport (SIGTRAN)      217
Figure 7.22 Acknowledgment in return of an ACTIVE message.
Traffic Mode Type
Tag = 0 × b
Length = 8
Interface Identifier (Integer)
Tag = 0 × 1
Length
Interface Identifier Start 1 (Integer Range)
Tag = 0 × 8
Length
Interface Identifier Start 2
Interface Identifier Stop 1
----------------------------------
Interface Identifier Stop 2
Interface Identifier Stop n
Interface Identifier Start n
INFO String
Tag = 0 × 4
Length
Error Code
Tag = 0 × c
Length = 8
Interface Identifier
Tag = 0 × 1, 0 × 3, or 0 × 8
Length
Diagnostic Information
Tag = 0 × 7
Length
Figure 7.23 Error (ERR) message.

218      Chapter 7
Tag = 0 × d
Length = 8
Status Type
Status Information
ASP Identifier
Tag = 0 × 11
Length
Interface Identifier (s)
Tag = 0 × 1
Length
Interface Identifier Start 1
----------------------------------
Interface Identifier Stop 1
Interface Identifier Stop n
Interface Identifier Start n
INFO String
Tag = 0 × 4
Length
Tag = 0 × 8
Length
Figure 7.24 Notify (NTFY) message. 
TABLE 7.26 Notify (NTFY) Message Parameters
Status type 
Mandatory
Status information 
Mandatory
ASP identifier 
Optional
Interface identifiers 
Optional
INFO string 
Optional 
TABLE 7.27 Interface Identifier Management (IIM) Messages 
0 
Reserved
1 
Registration request (REG REQ)
2 
Registration response (REG RSP)
3 
Deregistration request (DEREG REQ)
4 
Deregistration response (DEREG RSP)
5–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined IIM extensions

Signaling Transport (SIGTRAN)      219
The signaling gateway returns a response containing the assigned signaling data ter-
minal and signaling data link identifiers to be used for the ASP (Table 7.28).
Registration Response (REG RSP) This message is sent in response to a registration 
request (Figure 7.26). The signaling gateway will indicate whether or not the registra-
tion sent by the ASP was successful or not, and if it is successful, the gateway will send 
a unique interface identifier as part of the response (Table 7.29).
Deregistration Request (DEREG REQ) The ASP uses this message to request that the 
signaling gateway deregister the indicated interface identifier (Figure 7.27). The sig-
naling gateway will send the deregistration response message in return, which will 
include the results of the deregistration (Table 7.30).
Link Key 1
Tag = 0 × 0309
Length
----------------------------------
Link Key n
Tag = 0 × 0309
Length
Figure 7.25 Registration request message.
TABLE 7.28 Registration Request Message Parameters
Link key 
Mandatory
TABLE 7.29 Registration Response Message Parameters
Registration results 
Mandatory 
Registration Result 1
Tag = 0 × 030d
Length
----------------------------------
Registration Result n
Tag = 030d
Length
Figure 7.26 Registration response message.

220      Chapter 7
Deregistration Response (DEREG RSP) This message is sent by the signaling gateway 
in response to a deregistration request message (Figure 7.28). In this message, the 
signaling gateway will indicate the results of deregistration (Table 7.31).
M2UA Parameters
Tables 7.32 and 7.33 identify the parameters used throughout M2UA.
Action (0x0306) This parameter is used in the retrieval request and the retrieval con-
firm messages to retrieve SS7 protocol data units from the transmit buffers of a failed 
link. This parameter identifies the action to be taken. In the data retrieval confirm mes-
sage, this parameter contains the same value as the data retrieval request (Table 7.34).
Interface Identifier 1
Tag = 0 × 1 or 0 × 3
Length
--------------------------
Interface Identifier n
Tag = 0 × 1 or 0 × 3
Length
Figure 7.27 Deregistration request message.
Deregistration Result 1
Tag = 0 × 030f
Length
--------------------------
Deregistration Result n
Tag = 0 × 030f
Length
Figure 7.28 Deregistration response message.
TABLE 7.30 Deregistration Request Message Parameters
Interface identifier  
Mandatory 
TABLE 7.31 Deregistration Response Message Parameters
Deregistration results 
Mandatory 

Signaling Transport (SIGTRAN)      221
TABLE 7.32 M2UA Parameters
0x00 
Reserved
0x01 
Interface identifier (integer)
0x02 
Unused
0x03 
Interface identifier (text)
0x04 
INFO string
0x05 
Unused
0x06 
Unused
0x07 
Diagnostic information
0x08 
Interface identifier (integer range)
0x09 
Heartbeat data
0x0a 
Unused
0x0b 
Traffic mode type
0x0c 
Error code
0x0d 
Status type/information
0x0e 
Unused
0x0f 
Unused
0x10 
Unused
0x11 
ASP identifier
0x12 
Unused
0x13 
Correlation ID
TABLE 7.33 M2UA Specific Parameters
0x0300 
Protocol data 1
0x0301 
Protocol data 2 (TTC)
0x0302 
State request
0x0303 
State event
0x0304 
Congestion status
0x0305 
Discard status
0x0306 
Action
0x0307 
Sequence number
0x0308 
Retrieval result
0x0309 
Link key
0x030a 
Local Link Key identifier
0x030b 
Signaling Data Terminal (SDT) identifier
0x030c 
Signaling Data Link (SDL) identifier
0x030d 
Registration result
0x030e 
Registration status
0x030f 
Deregistration results
0x0310 
Deregistration status
TABLE 7.34 Action Parameter Values 
Primitive 
Value 
Description
ACTION_RTRV_BSN 
0x1 
Retrieve the backward sequence number
ACTION_RTRV_MSGS 
0x2 
 Retrieve the PDUs from the transmit and retransmit buffers

222      Chapter 7
ASP Identifier (0x11) The ASP identifier is used to identify specific ASPs during ASP 
state maintenance, for example. While this is mostly an optional parameter, it is re-
quired when the signaling gateway is unable to determine the identity of an ASP. This 
could be the case where dynamic addressing is used. The ASP identifier is a unique 
identifier significant to the ASPs serving an application server. 
Congestion Status (0x0304) The congestion status parameter is used in the congestion 
indication message to indicate the level of congestion for an SS7 link. In ITU networks, 
only levels 0 and 3 are supported. ANSI networks supporting congestion levels will 
support all levels. Table 7.35 presents the values for this parameter.
Correlation ID (0x13) The correlation ID is used by the application server for synchro-
nizing traffic in each of the streams as it becomes active. It uniquely identifies the 
message signal unit (MSU) within the application server so that the application server 
can correlate the MSU with other related traffic. 
Deregistration Result (0x030f) This parameter is contained in the deregistration re-
sponse message and provides the results of the request (Figure 7.29).
Deregistration Status (0x0310) The deregistration status parameter is sent as part of 
the deregistration response message contained within the deregistration result pa-
rameter and indicates the success or failure of deregistration. The status values are as 
shown in Table 7.36.
Diagnostic Information (0x07) There is little mention of use for this parameter other 
than it can be used to debug errors. The offending message responsible for the error 
should be included within this parameter in these cases.
Interface Identifier
Tag = 0 × 1 or 0 × 3
Length
Deregistration Status
Tag = 0 × 0310
Length = 8
Figure 7.29 Deregistration result parameter. 
TABLE 7.35 Congestion Status Parameter Values
LEVEL_NONE 
0x0 
No congestion
LEVEL_1 
0x1 
Congestion level 1
LEVEL_2 
0x2 
Congestion level 2
LEVEL_3 
0x3 
Congestion level 3

Signaling Transport (SIGTRAN)      223
Discard Status (0x0305) The discard status parameter is used in the congestion indica-
tion message. Table 7.37 lists the values that are supported for this parameter.
Error Code (0x0c) The error code parameter is used within the ERR message to identify 
the type of error that has occurred. Table 7.38 lists the error codes supported by M2UA.
Invalid version (0x1). This is sent when the M2UA message is of a version not sup-
ported by the receiving entity. The supported version is identified in the common 
header. 
Invalid interface identifier (0x2). This code indicates that the ASP has identified an 
Interface identifier (IID) that is not configured or is invalid for the received message. 
TABLE 7.36 Deregistration Status Parameter Values
0 
Successfully deregistered
1 
Error—unknown
2 
Error—invalid interface identifier
3 
Error—permission denied
4 
Error—not registered
TABLE 7.37 Discard Status Parameter Values
LEVEL_NONE 
0x0 
No congestion
LEVEL_1 
0x1 
Congestion level 1
LEVEL_2 
0x2 
Congestion level 2
LEVEL_3 
0x3 
Congestion level 3
TABLE 7.38 Error Code Values
0x1 
Invalid version
0x2 
Invalid interface identifier
0x3 
Unsupported message class
0x4 
Unsupported message type
0x5 
Unsupported traffic handling mode
0x6 
Unexpected message
0x7 
Protocol error
0x8 
Unsupported interface identifier type
0x9 
Invalid stream identifier
0xa 
Not used in M2UA
0xb 
Not used in M2UA
0xc 
Not used in M2UA
0xd 
Refused—management blocking
0xe 
ASP identifier required
0xf 
Invalid ASP identifier
0x10 
ASP active for interface identifier(s)
0x11 
Invalid parameter value
0x12 
Parameter field error
0x13 
Unexpected parameter
0x14 
Not used in M2UA
0x15 
Not used in M2UA
0x16 
Missing parameter

224      Chapter 7
The invalid IID is included in the ERR message so that the ASP can identify which 
IID was invalid. 
Unsupported message class (0x3). This is sent when a message contains a message 
class identifier that is incorrect based on the standards implemented. 
Unsupported message type (0x4). This is sent when a message contains a message 
type that is incorrect based on the implemented standards.
Unsupported traffic mode (0x5). This is sent when the traffic mode indicated cannot 
be supported by the receiving entity. 
Unexpected message (0x6). This is sent when a message is received while the receiv-
ing entity is in a state that would not be able to process the message. 
Protocol error (0x7). This is sent when there is any error in the format of a received 
message such as a valid parameter being sent in a message that does not use that 
parameter.
Unsupported interface identifier type (0x8). The signaling gateway returns this error 
when the ASP sends the wrong format of IID. For example, the ASP sends a text-
formatted IID, and the signaling gateway only supports integers. 
Invalid stream identifier (0x9). This is sent if a message is received on an SCTP stream 
that is not expected. For example, management messages always should be sent on 
the SCTP stream 0, but if they are received on another stream, an error message 
with the error code invalid stream identifier is returned to the originator. 
Refused—management blocking (0xd). This is used when ASP state messages are 
sent to an entity that has been blocked by the operator for management purposes. 
It is sent when the ASP up or ASP active messages are sent while the entity is 
being blocked. 
ASP identifier required (0xe). This is sent when an ASP up message is received with-
out identifying the ASP. 
Invalid ASP identifier (0xf). This is sent when an ASP up message is received with 
an invalid ASP identifier.
ASP active for interface identifier(s) (0x10). This is sent to an ASP originating a 
deregistration request while the ASP is active for the IIDs specified. 
Invalid parameter value (0x11). This is sent when a message is received containing 
an invalid parameter value.
Parameter field value (0x12). This is sent if a parameter had an invalid length field based 
on the standards implemented, for example, if the version of M2UA implemented 
expects the specified parameter to have a length of 8 bits, and the length is 10 bits. 
Unexpected parameter (0x13). This is used when a message contains an invalid  
parameter. 
Missing parameter (0x16). This is sent when a message is received missing one of its 
mandatory parameters. 

Signaling Transport (SIGTRAN)      225
Heartbeat Data (0x09) This parameter is used only in the BEAT message. The origina-
tor of the BEAT message will send data in this parameter, such as a timestamp, and 
the receiver of the BEAT message simply returns the parameter without modification 
using the BEAT ACK message. The contents of this parameter are implementation-
dependent. 
INFO String (0x04) The INFO string is an optional parameter that currently has not 
been defined. While there are no procedures defined for the use of this parameter, it is 
suggested that this could be used for debugging purposes in the future. 
Interface Identifier (Integer) (0x00) There are two forms for this parameter, one sup-
porting an integer and another supporting a text format (Figure 7.30). Both formats 
identify the interface on which a message was received or is to be sent. The signaling 
gateway maps an inbound message coming from an SS7 link to the proper SCTP as-
sociation and stream based on the destination and availability of the destination. 
Interface Identifier (Integer Range) (0x08) The format for this message is the same as for 
the IID parameters. This parameter supports the use of ranges rather than one identi-
fier. This parameter can be used in the same message as integer- and text-based IIDs. 
Interface Identifier (Text) (0x03) Like the interface identifier parameter supporting an 
integer, this parameter is used for mapping traffic to and from the SS7 network to an 
SCTP association and stream (Figure 7.31). The identification is of significance only 
to the signaling gateway because this is the entity responsible for mapping traffic to 
and from the SS7 network to the IP domain. The use of a text-based value rather than 
integer based is purely implementation-dependent. 
Link Key (0x0309) The link key is used when the ASP is registering with a signaling 
gateway (Figure 7.32). The link key contains several parameters, starting with the 
local link key identifier. This is used by the ASP for correlating multiple registration 
Interface Identifier (Integer)
Tag = 0 × 1
Length = 8
Figure 7.30 Interface identifier parameter (IID) (integer).
Interface Identifier (Text)
Tag = 0 × 3
Length
Figure 7.31 Interface identifier parameter (IID) (text).

226      Chapter 7
requests when responses are received back from the signaling gateway. When the ASP 
is registering multiple link keys, it can send multiple link key parameters in the same 
registration request message. 
Local Link Key Identifier (0x030a) This parameter is assigned by an ASP when it origi-
nates a registration request message. The parameter is used as part of the link key pa-
rameter to enable the ASP to correlate registration responses with registration requests. 
The identifier value must be unique, at least until a response has been received.
Protocol Data 1 (0x0300) This parameter is contained in the retrieval indication mes-
sage and contains messages retrieved from a transmit or retransmit buffer when a link 
changeover procedure has been initiated by MTP3. 
Registration Result (0x030d) The registration result parameter indicates whether reg-
istration was successful or not (Figure 7.33). It contains three parameters, the local link 
key identifier, registration status, and interface identifier. 
Registration Status (0x030e) The registration status parameter is part of the registra-
tion result parameter contained in the registration response message. The status of the 
registration is indicated with one of the values listed in Table 7.39.
Retrieval Result (0x0308) This parameter is carried in the data retrieval confirmation 
message to indicate if the retrieval action was successful or if it failed. Table 7.40 lists 
the values supported.
Sequence Number (0x0307) The sequence number is used in the retrieval request mes-
sage only when the action defined in the action parameter is to retrieve messages from 
the transmit buffer. This parameter contains the forward sequence number (FSN) value 
for the message. When the parameter is used in the data retrieval confirm message, the 
sequence number carries the retrieved BSN value (if the retrieval was successful). 
Local Link Key Identifier
Tag = 0 × 030a
Length = 8
Tag = 0 × 030b
Length = 8
Reserved
Signaling Data Terminal Identifier
Tag = 0 × 030c
Length = 8
Reserved
Signaling Data Link Identifier
Figure 7.32 Link key parameter.

Signaling Transport (SIGTRAN)      227
Signaling Data Link (SDL) Identifier (0x030c) This parameter is part of the link key pa-
rameter and is used when an ASP is registering with a signaling gateway. The identi-
fier itself is a 32-bit field, of which only 12 or 14 bits may be significant (depending on 
the MTP3 variant supported by the ASP).
Signaling Data Terminal (SDT) Identifier (0x030b) This parameter is part of the link key 
parameter and is used when an ASP is registering with a signaling gateway. The identi-
fier itself is a 32-bit field, of which only 12 or 14 bits may be significant (depending on 
the MTP3 variant supported by the ASP). 
State Event (0x0303) The state event parameter is used by the state indication mes-
sage to notify an ASP of a change in link status. It is sent by the signaling gateway 
when the link state changes. Table 7.41 lists the supported values of this parameter.
TABLE 7.39 Registration Status Parameter Values
0 
Successfully registered
1 
Error—unknown
2 
Error—Invalid signaling data link identifier
3 
Error—invalid signaling data terminal identifier
4 
Error—invalid link key
5 
Error—permission denied
6 
Error—overlapping (non-unique) link key
7 
Error—link key not provisioned
8 
Error—insufficient resources
TABLE 7.40 Retrieval Result Parameter Values
Primitive 
Value 
Description
RESULT_SUCCESS 
0x0 
Action was successful
RESULT_FAILURE 
0x1 
Action failed
Local Link Key Identifier
Interface Identifier
Registration Status
Tag = 0 × 030a
Length = 8
Tag = 030e
Length = 8
Tag = 0 × 1 or 0 × 3
Length
Figure 7.33 Registration result parameter.

228      Chapter 7
State Request (0x0302) The state request parameter is used in the state request mes-
sage sent by the MGC when it wishes to change the state of an SS7 link. Table 7.42 lists 
the values and associated primitives that are supported.
Status Type/Information (0x0d) This parameter is used in the NTFY message to inform 
M2UA users of events (such as a change in state for a specified ASP). Only two values 
exist for the first part of this parameter, which is the status type (Table 7.43).
For the status information part of this parameter, there is more detailed information. 
There are two options: If the status type is 0x1, then there is a set of values applicable 
to ASP state changes. If the value, on the other hand, is 0x2, there is a different set of 
values, as indicated in Tables 7.44 and 7.45.
TABLE 7.41 State Event Parameter Values
Primitive 
Value 
Description
EVENT_RPO_ENTER 
0x1 
Remote entered processor outage
EVENT_RPO_EXIT 
0x2 
Remote exited processor outage
EVENT_LPO_ENTER 
0x3 
Link entered processor outage
EVENT_LPO_EXIT 
0x4 
Link exited processor outage
TABLE 7.42 State Request Parameter Values
Primitive 
Value 
Description
STATUS_LPO_SET 
0x0 
Request local processor outage
STATUS_LPO_CLEAR 
0x1 
Request local processor outage recovered
STATUS_EMER_SET 
0x2 
Request emergency alignment
STATUS_EMER_CLEAR 
0x3 
Request normal alignment
STATUS_FLUSH_BUFFERS 
0x4 
Flush or clear receive, transmit, and retransmit queues
STATUS_CONTINUE 
0x5 
Continue or resume
STATUS_CLEAR_RTB 
0x6 
Clear the retransmit queue
STATUS_AUDIT 
0x7 
Audit state of link
STATUS_CONG_CLEAR 
0x8 
Congestion cleared
STATUS_CONG_ACCEPT 
0x9 
Congestion accept
STATUS_CONG_DISCARD 
0xa 
Congestion discard
TABLE 7.43 Status Type Parameter Values
0x1 
Application server state change
0x2 
Other 
TABLE 7.44 Status Information Values for Type 0x1 
1 
Reserved
2 
Application server inactive (AS_Inactive)
3 
Application server active (AS_Active)
4 
Application server pending (AS_Pending)

Signaling Transport (SIGTRAN)      229
Traffic Mode Type (0x0b) The traffic mode type parameter indicates the mode in which 
an ASP is to receive traffic. Only three modes are supported; all will be based on config-
uration. For example, override suggests that the application server is deployed redun-
dantly, and one will serve as the primary, whereas the other will serve as the backup. 
This status may fluctuate back and forth between the two application servers and their 
associated ASPs. 
In load-share mode, it is assumed that the application server is capable of load shar-
ing across all associated ASPs, and if multiple application servers are implemented for 
the same application, load sharing across multiple application servers is supported. 
Traffic is evenly distributed across all ASPs and application servers providing the same 
function when in load-share mode. 
Broadcast mode is used when all traffic is sent to all ASPs and application servers 
supporting the same function. 
MTP3 User Adaptation (M3UA) 
The MTP3 User Adaptation (M3UA) layer (RFC-3332) is used between a signaling 
gateway and an MGC or when connecting from a signaling gateway to an IP-based ap-
plication server within an IP domain. It is used to transport ISUP, SCCP, or Telephone 
User Part (TUP), the actual payload of MTP3. M3UA provides the same set of primi-
tives to the upper layers that MTP3 provides, meaning that to ISUP and SCCP, M3UA 
is transparent, and these layers do not have visibility to the fact that they are actually 
being sent on the IP domain. M3UA is used to extend some of the services of MTP3 to 
entities within the IP domain, but the intent is not to transport MTP3 using M3UA. In 
other words, the payload of MTP3 is delivered, as well as some of the MTP3 network 
management messages, but not the entire MTP3 message.
It is then the responsibility of the signaling gateway to interpret these messages 
and determine if an equivalent M3UA message should be generated. It is also at the 
discretion of the signaling gateway to determine how to interact with the MTP3 on the 
SS7 side and what equivalent messages should or should not be communicated on the IP 
side of the network.
The M3UA layer is also different from its MTP3 counterpart in many different as-
pects. One key difference is that M3UA is not bound by the same 252-octet length limi-
tations found in SS7. However, when interworking with an SS7 network, M3UA does 
have to keep message size to 272 octets to prevent messages from being fragmented. 
When broadband links are being used in the SS7 domain, this boundary limitation can 
be relaxed if the network supports larger message sizes. In an all IP network, there is 
no limitation. 
TABLE 7.45 Status Information Values for Type 0x2
1 
Insufficient ASP resources active in the AS
2 
Alternate ASP active
3 
ASP failure

230      Chapter 7
Routing
For basic routing within the IP domain, there are a couple of principles used. The network 
appearance is a number assigned by the signaling gateway and the ASP that, when used 
along with the signaling point code, uniquely identifies an SS7 node in the SS7 domain. 
This is used when a signaling gateway is connected to multiple networks, and those 
networks are in different countries, for example. When this occurs, the SS7 point codes 
that are assigned could be duplicated. For example, if the node has an appearance in 
France and also in the United Kingdom, the point code advertised in those two net-
works could be duplicated because national point codes are of local significance only. 
For this reason, many STPs support the use of a multiple point-code function that al-
lows the STP to have more than one point code assigned. They also support duplicate 
point codes so as to allow for this multinational network issue. The duplicate point-code 
function takes into account which signaling link the traffic was received on. 
In the case of the signaling gateway, since this is a logical entity, it easily could 
have multiple point codes represented in multiple networks, and, of course, since it is 
multinational, those point codes run the risk of being duplicated. The signaling gate-
way therefore uses the combination of the network appearance and the routing key to 
uniquely identify itself. The network appearance identifies the protocol, its version, and 
its variant (i.e., ANSI, ITU), whereas the routing key identifies the node itself. 
The routing key describes a set of SS7 parameters and their values. This is then used 
to identify what signaling traffic is to be sent to a specific application server. It is a set 
of parameters used to filter the incoming SS7 messages for routing purposes. The rout-
ing key can be made up of several different combinations, all implementation-specific. 
Combinations may be OPC and DPC, DPC and SSN, or even OPC/DPC/ISUP CIC. The 
routing context then identifies a routing key. Think of the routing context as an index 
to routing keys. The routing context is nothing more than a 4-byte integer. 
To aid in the routing of management messages, M3UA uses a signaling point man-
agement cluster (SPMC) to identify associated application servers. This alleviates the 
requirement of having to assign individual addresses to each of the servers and helps to 
eliminate multiple management messages when communicating with the SS7 network. 
For example, M3UA can use the SPMC mechanism for sending availability status, 
congestion, and state information for a set of application servers rather than sending 
several individual messages for each of the servers. 
M3UA also manages the assignment of traffic to individual SCTP streams. When 
these messages require sequenced delivery, they always should be entered into the 
same stream. Part of the criteria for string assignment therefore may be the ISUP CIC 
or even the signal link selection (SLS) value found in MTP3 routing label. 
M3UA Message Formats
Every M3UA message uses a common header. The common header identifies the version 
of M3UA that was used to originate the message, the message class and type, and the 
length of the message (including the header elements and the payload) (Figure 7.34).
Protocol Version (8 Bits) Only one value is currently supported in this field: Version 1.0 
(indicated by a value of 1).

Signaling Transport (SIGTRAN)      231
Message Classes (8 Bits) The message class defines the type of M3UA message being 
sent (Table 7.46). 
Message Type (8 Bits) For each message class, a set of message types is defined. Each 
message type, in turn, will consist of mandatory and optional parameters. Table 7.47 
lists the message types. Their exact formats and parameter definitions are provided in 
the following subsections.
Message Length (32 Bits) The message length field gives the length of the entire M3UA 
message, including the common header and its payload. 
Network Management (MGMT) Messages
Network management messages do not convey network status information but rather 
provide information regarding the transfer of information. For example, if an error oc-
curs when a particular message is sent to another entity, network management will 
return an error message along with the correct error code for that event. 
Only two messages are supported in the network management class. The first is the 
error message, which is used to convey error information. The second is the notify mes-
sage, which is used to convey state changes for an entity. For example, if an ASP fails 
within an application server, than the notify message is sent to all other ASPs within 
the same application server, notifying them of the change in state. 
Error (ERR) The error message is used to notify message originators of errors in pro-
cessing messages (Figure 7.35). The message will contain an error code identifying the 
reason for the error as well as the affected point code(s). There is an optional diagnostic 
Length
Reserved
Protocol Version
Message Class
Message Type
Figure 7.34 M3UA common message header. 
TABLE 7.46 M3UA Message Classes
0 
Management messages
1 
Transfer messages
2 
SS7 Signaling Network Management (SSNM) messages
3 
ASP State Maintenance (ASPSM) messages
4 
ASP Traffic Maintenance (ASPTM) messages
5 
Reserved for other SIGTRAN adaptation layers
6 
Reserved for other SIGTRAN adaptation layers
7 
Reserved for other SIGTRAN adaptation layers
8 
Reserved for other SIGTRAN adaptation layers
9 
Routing Key Management (RKM) messages
10–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions

232      Chapter 7
parameter as well, which could be used, for example, to send a copy of the original  
message for further diagnostics. Most of the error codes are self-explanatory, but a brief 
explanation is provided in the “Parameters” sections. Table 7.48 lists the parameters 
supported.
TABLE 7.47 M3UA Message Types 
 
Management (MGMT) Messages
0 
Error (ERR)
1 
Notify (NTFY)
2–127 
Reserved by the IETF
128–255 
Reserved by IETF-defined MGMT extensions
 
Transfer Messages
0 
Reserved
1 
Payload Data (DATA)
2–127 
Reserved by the IETF
128–255 
Reserved by IETF-defined MGMT extensions
 
Signaling Network Management (SSNM) Messages
0 
Reserved
1 
Destination unavailable (DUNA)
2 
Destination available (DAVA)
3 
Destination state audit (DAUD)
4 
Signaling congestion (SCON)
5 
Destination user part unavailable (DUPU)
6 
Destination restricted (DRST)
7–127 
Reserved by the IETF
128–255 
Reserved by IETF-defined MGMT extensions
 
ASP State Maintenance (ASPSM) Messages
0 
Reserved
1 
ASP up (ASPUP)
2 
ASP down (ASPDN)
3 
Heartbeat (BEAT)
4 
ASP up acknowledgment (ASPUP ACK)
5 
ASP down acknowledgment (ASPDN ACK)
6 
Heartbeat acknowledgment (BEAT ACK)
7–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined ASPSM extensions
 
ASP Traffic Maintenance (ASPTM) Messages
0 
Reserved
1 
ASP active (ASPAC)
2 
ASP inactive (ASPIA)
3 
ASP active acknowledgment (ASPAC ACK)
4 
ASP inactive acknowledgment (ASPIA ACK)
5–127 
Reserved by the IETF
128–255  
Reserved for IETF-defined ASPTM extensions
 
Routing Key Management (RKM) Messages
0 
Reserved
1 
Registration request (REG REQ)
2 
Registration response (REG RSP)
3 
Deregistration request (DEREG REQ)
4 
Deregistration response (DEREG RSP)
5–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined RKM extensions

Signaling Transport (SIGTRAN)      233
Notify (NTFY) The notify message is used to indicate a change in state at a particular 
entity (Figure 7.36). A notify message is sent whenever there is a state change for an 
ASP within an application server. It is sent to all other ASPs that are in the UP state 
within the same application server, but it does not affect the current state of any other 
entities. It is purely for the purposes of notifying the other ASPs of the state change.
The notify message is also sent by signaling gateways to notify other ASPs of these 
state changes. The supported parameters are listed in Table 7.49.
Transfer Messages
There is only one transfer message currently defined. This is the payload data mes-
sage that is used to deliver the M3UA payload. This may include ISUP, TUP, or SCCP 
received from the SS7 network. 
Payload Data (DATA) As indicated above, this message carries the actual payload of 
M3UA, including the MTP3 routing label (Figure 7.37). Table 7.50 lists the parameters 
supported.
SS7 Signaling Network Management (SSNM) Messages 
Destination Unavailable (DUNA) The destination unavailable message is sent by a signal-
ing gateway to all concerned ASPs to notify of a destination that is no longer available 
Figure 7.35 Error message.
Error Code
Affected Point Code 1
Affected Point Code n
Network Appearance
Diagnostic Information
Mask
Mask
Routing Context
Tag = 0 × 000c
Length
Tag = 0 × 0006
Length
Tag = 0 × 0012
Tag = 0 × 010d
Tag = 0 × 0007
Length
Length
Length = 8
---------------------

234      Chapter 7
(Figure 7.38). The signaling gateway also may send this message as a response back 
to the ASP when a message is sent to a destination that the signaling gateway has 
been determined to be unreachable. Table 7.51 lists the parameters used in the DUNA  
message.
TABLE 7.48 Error Message Parameters
Error code 
Mandatory
Routing context 
Mandatory*
Network appearance 
Mandatory*
Affected point code 
Mandatory*
Diagnostic information 
Optional
*Only mandatory for some error codes.
TABLE 7.49 Notify Message Parameters
Status 
Mandatory
ASP identifier 
Optional
Routing context 
Optional
INFO string 
Optional 
TABLE 7.50 Payload Data Message Parameters
Network appearance 
Optional
Routing context 
Optional
Protocol data 
Mandatory
Correlation ID 
Optional 
Routing Context
ASP Identifier
Tag = 0 × 000d
Length = 8
Tag = 0 × 0011
Length = 8
Status Type
Status Information
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.36 Notify message.

Signaling Transport (SIGTRAN)      235
TABLE 7.51 DUNA Message Parameters
Network appearance 
Optional
Routing context  
Optional
Affected point code 
Mandatory
INFO string 
Optional 
Network Appearance
Protocol Data
Correlation ID
Routing Context
Protocol Tag = 0 × 0200
Length = 8
Protocol Tag = 0 × 0006
Length = 8
Protocol Tag = 0 × 0210
Length
Protocol Tag = 0 × 0013
Length = 8
Figure 7.37 M3UA payload data (DATA).
Network Appearance
---------------
Routing Context
Information String
Protocol Tag = 0 × 0200
Length = 8
Protocol Tag = 0 × 0006
Length
Protocol Tag = 0 × 0012
Length
Protocol Tag = 0 × 0004
Length
Mask
Affected Point Code 1
Mask
Affected Point Code n
Figure 7.38 M3UA destination unavailable (DUNA).

236      Chapter 7
Destination Available (DAVA) Both destination unavailable (DUNA) and destination 
available (DAVA) use the same format with the same parameters. The DAVA message 
is used to indicate the availability of a network that was previously unavailable. It is 
sent by the signaling gateway to ASPs, where this message is interpreted to mean that 
traffic to these destinations now can be resumed. 
In the event that the ASP did not have any routes for this destination previously, this 
message then would indicate that this is a new route and that traffic to the specified 
destination now can be sent to the signaling gateway originating this message. Table 7.52 
lists the parameters supported in the DUNA message.
Destination State Audit (DAUD) This message is also related to the DAVA and DUNA 
messages. In the event that the signaling gateway detects that a destination is unavail-
able, it will announce this using the DUNA message back to the associated ASPs in the 
IP domain. The ASPs then have the option of periodically sending this destination audit 
message to determine if the destination has become available.
While it is true that when a destination becomes available, the ASP should receive 
notification, there are scenarios that could prevent this notification from ever reach-
ing the ASP. In this situation, the ASP would never know that the destination has now 
become available and would leave the destination state as unavailable within its own 
routing tables. This, of course, would mean that no traffic would be generated to the af-
fected destination. This audit message allows the ASP to double-check the destination 
and prevent this scenario from occurring. 
On receipt of this message, the signaling gateway, in turn, would generate a signaling- 
route-set-test message in the SS7 domain to determine if the destination actually has 
become available. The DAUD message contains the same parameters as the DUNA and 
DAVA (Table 7.53).
Signaling Congestion (SCON) The signaling congestion message is used by the signal-
ing gateway to indicate that a destination may have become congested, as identified 
TABLE 7.52 DAVA Message Parameters
Network appearance 
Optional
Routing context 
Optional
Affected point code 
Mandatory
INFO string 
Optional 
TABLE 7.53 DAUD Message Parameters
Network appearance 
Optional
Routing context 
Optional
Affected point code 
Mandatory
INFO string 
Optional 

Signaling Transport (SIGTRAN)      237
in the affected point-code field (Figure 7.39). The signaling gateway usually sends this 
as a response to an ASP sending a DATA or DAUD message. This also can be used to 
indicate when there are changes to the congestion state of a network, as seen in ANSI 
networks.
When an ASP wishes to report congestion back to the SS7 domain, it will send this 
message with an optional field, the concerned point-code field. The concerned point-
code field will contain the point code of the ASP that originated the SCON. This point 
code then is used by the signaling gateway to populate the concerned destination field 
in the outgoing SS7 transfer-controlled (TFC) message (sent to the SS7 domain). This 
is the only time that the concerned point-code field is used. 
The congestion-level field is also an optional field that allows networks to identify 
four different levels of congestion (for throttling of higher-priority traffic). This is used 
commonly, for example, in ANSI networks. The congestion-level implementation is up 
to the operator. The supported levels are identified in Table 7.54, and the parameters 
supported in this message are listed in Table 7.55.
Network Appearance
Tag = 0 × 0200
Length = 8
Routing Context
Tag = 0 × 0006
Length
Tag = 0 × 0012
Length
Tag = 0 × 0206
Length = 8
Tag = 0 × 0205
Length = 8
Mask
Affected Point Code 1
Mask
Affected Point Code n
Reserved
Concerned DPC
Reserved
Congestion Level
---------------
INFO String
Tag = 0 × 0004
Length
Figure 7.39 Signaling congestion (SCON) message.

238      Chapter 7
Destination User Part Unavailable (DUPU) The destination user part unavailable mes-
sage is sent by the signaling gateway to all associated ASPs when it is determined that 
there is a processor outage at the SS7 destination (identified by the affected point code) 
(Figure 7.40). When a processor outage occurs, the SS7 facilities are still connected and 
available; therefore, the destination itself appears available to the rest of the network 
but is unable to process any SS7 traffic at the userpart level (i.e., ISUP or TCAP).
Within the unavailability-cause field, the values from the MTP3 message user part 
unavailable parameter are used. These values are listed in Table 7.56.
There is also a user part identity field that identifies which user part was unavailable, as 
defined in Table 7.57. Table 7.58 lists the parameters supported in the DUPU message.
Network Appearance
Routing Context
INFO String
Tag = 0 × 0200
Length = 8
Tag = 0 × 0006
Length
Tag = 0 × 0012
Length = 8
Tag = 0 × 0004
Length
Cause
User
Tag = 0 × 0204
Length = 8
Mask = 0
Affected Point Code
Figure 7.40 Destination UP unavailable (DUPU).
TABLE 7.54 Congestion-Level Field (8 Bits) 
0 
No congestion defined
1 
Congestion level 1
2 
Congestion level 2
3 
Congestion level 3
TABLE 7.55 SCON Message Parameters 
Network appearance 
Optional
Routing context 
Optional
Affected point code 
Mandatory
Concerned destination point code 
Optional
Congestion indicators 
Optional
INFO string 
Optional 

Signaling Transport (SIGTRAN)      239
Destination Restricted (DRST) The destination restricted message is sent by a signaling 
gateway to all ASPs that are associated with the signaling gateway when the signaling 
gateway determines that a destination in the SS7 domain has become restricted as the 
result of an MTP3 network management message such as TFR. It uses the same format 
as the DUNA message, with the parameters listed in Table 7.59.
ASP State Maintenance (ASPSM) Messages
ASP Up (UP) The ASP up (UP) message is used to indicate that an ASP is ready to be-
gin processing traffic for all routing keys serviced by the originating ASP (Figure 7.41). 
Table 7.60 lists the parameters supported by this message.
TABLE 7.56 Unavailability-Cause Field (16 Bits)
0 
Unknown
1 
Unequipped remote user
2 
Inaccessible remote user
TABLE 7.57 User Part Identity Field
0–2 
Reserved
3 
SCCP
4 
TUP
5 
ISUP
6–8 
Reserved
9 
Broadband ISUP
10 
Satellite ISUP
11 
Reserved
12 
AAL type 2 signaling
13 
Bearer Independent Call Control (BICC)
14 
Gateway Control Protocol
15 
Reserved
TABLE 7.58 DUPU Message Parameters 
Network appearance  
Optional
Routing context 
Optional
Affected point code 
Mandatory
User/cause 
Mandatory
INFO string 
Optional 
TABLE 7.59 DRST Message Parameters
Network appearance 
Optional
Routing context 
Optional
Affected point code  
Mandatory
INFO string 
Optional 

240      Chapter 7
ASP Down (DOWN) This message is sent by an ASP to indicate that it is not ready to 
process any traffic. This means that it will not process any DATA, signaling network man-
agement, routing key management, or ASP traffic maintenance messages (Figure 7.42). 
Only one parameter is supported (Table 7.61).
Heartbeat (BEAT) This is an optional message that could be used in cases where SCTP 
is not used (Figure 7.43). SCTP also uses its own BEAT message to periodically test an 
entity to ensure that it is still reachable. The message is not processed by the receiving 
entity, but if received, a BEAT ACK message is expected in return.
ASP Up Acknowledgment (ASPUP ACK) Only one parameter is used by this acknowledg-
ment message, sent when an ASP up message is received (Figure 7.44 and Table 7.62).
ASP Down Acknowledgment (ASPDN ACK) When an entity receives a DOWN message, 
it is expected to return this acknowledgment. Use of the INFO string parameter is op-
tional, and it is used in the same manner as described in other messages (Figure 7.45 
and Table 7.63).
Heartbeat Acknowledgment (BEAT ACK) This message is returned to the originator of a 
BEAT message. It is suggested that it could be used where SCTP transport is not used. 
The receiver of a BEAT message is expected to return this message. The heartbeat data 
parameter from the BEAT message is returned in this acknowledgment without any 
change to the parameters. 
ASP Traffic Management (ASPTM) Messages
ASP Active (ASPAC) An ASP uses this message to notify other ASPs or remote peers 
that it is now up and active and able to process traffic for its associated application 
server (Figure 7.46 and Table 7.64).
TABLE 7.60 ASP Up (UP) Message Parameters
ASP Identifier 
Optional
INFO string 
Optional 
ASP Identifier
Tag = 0 × 0011
Length = 8
INFO String
Tag = 0 × 0004
Length
Figure 7.41 ASP up (UP) message.

Signaling Transport (SIGTRAN)      241
ASP Inactive (ASPIA) An ASP sends this message when it wishes to communicate to 
other entities in the network that it is no longer available and active to process mes-
sages for its associated application server (Figure 7.47 and Table 7.65).
INFO String
Tag = 0 × 0004
Length
Figure 7.42 ASP down (DOWN) message.
Heartbeat Data
Tag = 0 × 0009
Length
Figure 7.43 Heartbeat (BEAT) message.
INFO String
Tag = 0 × 0004
Length
Figure 7.44 ASP up acknowledgment (ASPUP ACK) message.
INFO String
Tag = 0 × 0004
Length
Figure 7.45 ASP down (DOWN) acknowledgment message. 
TABLE 7.61 ASP Down (DOWN) Message Parameters
INFO string 
Optional
TABLE 7.62 ASP UP ACK Message
INFO string 
Optional
TABLE 7.63 DOWN ACK Message Parameters
INFO string 
Optional
TABLE 7.64 ACTIVE Parameters
Traffic mode type 
Optional
Routing context 
Optional
INFO string 
Optional 

242      Chapter 7
ASP Active Acknowledgment (ASPAC ACK) This message is sent when an ACTIVE mes-
sage is received from an ASP (Figure 7.48). The acknowledgment only uses three pa-
rameters, all of them optional (Table 7.66).
ASP Inactive Acknowledgment (ASPIA ACK) This message is used in response to an 
INACTIVE message from an ASP (Figure 7.49). This message is expected by the ASP 
that originated the INACTIVE message (Table 7.67).
Routing-Key Management (RKM) Messages
Registration Request (REG REQ) This message typically is sent by an ASP to the sig-
naling gateway to register a routing key (or multiple routing keys) (Figure 7.50). The 
signaling gateway then returns the registration response message indicating either 
TABLE 7.65 ASP Inactive Parameters
Routing context 
Optional
INFO string 
Optional 
Traffic Mode Type
Tag = 0 × 000b
Length = 8
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.46 ASP active (ACTIVE) message. 
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.47 ASP inactive message. 

Signaling Transport (SIGTRAN)      243
success of the registration or failure. The signaling gateway will assign a routing con-
text to the routing key, which is returned in the registration response when registration 
is successful. 
The routing-key parameter may contain multiple addresses as a grouping. This 
would facilitate multiple addresses being assigned one common routing key and rout-
ing context. There also can be multiple routing keys in one REG REQ message if the 
ASP is registering multiple entities. 
TABLE 7.66 ASP Active Acknowledgment Parameters
Traffic mode type 
Optional
Routing context 
Optional
INFO string 
Optional 
TABLE 7.67 Inactive Acknowledgment Parameters
Routing context 
Optional
INFO string 
Optional 
Traffic Mode Type
INFO String
Routing Context
Tag = 0 × 000b
Length = 8
Tag = 0 × 0006
Length
Tag = 0 × 0004
Length
Figure 7.48 ASP active acknowledgment message.
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.49 ASP inactive acknowledgment message.

244      Chapter 7
The ASP will use the local routing-key identifier contained in the routing-key pa-
rameter as a reference until the signaling gateway returns the registration response 
message containing the routing context (Table 7.68).
Registration Response (REG RSP) This message is returned by the signaling gateway 
on receipt of a registration request from an ASP (Figure 7.51). If the registration was 
successful, the signaling gateway will return this message with the routing context 
assigned to the registered routing key. If the registration failed, the signaling gateway 
will return this message with an error indicated in the registration status parameter 
and a routing context value of 0.
If multiple routing keys were sent within one registration request message, the reg-
istration response will send a registration result parameter for each of the routing keys 
submitted. The local routing key identifier uniquely identifies each of the requests. 
Deregistration Request (DEREG REQ) This is sent by an ASP when requesting the sig-
naling gateway to cancel a registration for a specified routing key (Figure 7.52). The 
associated routing context is given, and a deregistration response is expected (with the 
same routing context) in return as confirmation that the routing key was deregistered 
(Table 7.69).
Network Appearance
Service Indicators
Originating Point Code List
Circuit Range List
----------------
Destination Point Code
Service Indicators
Originating Point Code List
Circuit Range List
Destination Point Code
Traffic Mode Type
Local Routing Key Identifier
Figure 7.50 Registration request (REG REQ) message.

Signaling Transport (SIGTRAN)      245
Deregistration Response (DEREG RSP) This message is sent in response to a deregis-
tration request and carriers the results of the request in one or multiple registration 
results parameters (Figure 7.53). If more than one routing key was indicated in the 
deregistration request message, then the response will carry a separate results param-
eter for each routing key (Table 7.70).
TABLE 7.68 Registration Request (REG REQ) Message Parameters 
Routing key 
Mandatory 
TABLE 7.69 Deregistration Request (DEREG REQ) Message Parameters
Routing context 
Mandatory 
Registration Result 1
Registration Result n
---------------------
Tag = 0 × 0208
Length
Tag = 0 × 0208
Length
Figure 7.51 Registration response (REG RSP) message.
Routing Context
Tag = 0 × 0006
Length
Figure 7.52 Deregistration request (DEREG REQ) message.
Deregistration Result 1
Deregistration Result n
---------------------
Tag = 0 × 0209
Length
Tag = 0 × 0209
Length
Figure 7.53 Deregistration response (DEREG RSP) message.

246      Chapter 7
Parameters
All parameters in M3UA use the same TLV format defined for other SIGTRAN proto-
cols. The TLV format consists of a parameter tag, length, and then value fields. The tag 
is used to uniquely identify the parameter, whereas the length field provides the bound-
ary for the specified parameter. Lengths are given in octets. The supported parameters 
are shown in Table 7.71.
TABLE 7.70 Deregistration Response Parameters
Deregistration result 
Mandatory 
TABLE 7.71 M3UA Parameters
0x0000 
Reserved
0x0001 
Not used in M3UA
0x0002 
Not used in M3UA
0x0003 
Not used in M3UA
0x0004 
INFO string
0x0005 
Not used in M3UA
0x0006 
Routing context
0x0007 
Diagnostic information
0x0008 
Not used in M3UA
0x0009 
Heartbeat data
0x000a 
Not used in M3UA
0x000b 
Traffic mode type
0x000c 
Error code
0x000d 
Status
0x000e 
Not used in M3UA
0x000f 
Not used in M3UA
0x0010 
Not used in M3UA
0x0011 
ASP identifier
0x0012 
Affected point code
0x0013 
Correlation ID
0x0200 
Network appearance
0x0201 
Reserved
0x0202 
Reserved
0x0203 
Reserved
0x0204 
User/cause
0x0205 
Congestion indications
0x0206 
Concerned destinations
0x0207 
Routing key
0x0208 
Registration result
0x0209 
Deregistration result
0x020a 
Local routing key identifier
0x020b 
Destination point code
0x020c 
Service indicators
0x020d 
Reserved
0x020e 
Originating point-code list
0x020f 
Circuit range
0x0210 
Protocol data
0x0211 
Reserved
0x0212 
Registration status
0x0213 
Deregistration status

Signaling Transport (SIGTRAN)      247
Affected Point Code (0x0012) The affected point code parameter identifies which point 
codes are affected, depending on the message type (e.g., if in the DUNA, this parameter 
would identify which point codes are no longer available) (Figure 7.54).
More than one point code can be sent, although this is not mandatory. Certainly, if 
multiple point codes are unavailable, for example, they all can be identified within this 
one message parameter, but the message parameter also supports sending just one 
point code. 
To make it easier to identify multiple point codes, ranges can be used as well. The 
mask field is used to identify ranges within the point code. For example, if the mask 
contains a value of 2, this would indicate that the last two digits of the point code are 
a “wild card.”
ASP Identifier (0x0011) The ASP identifier parameter contains a unique value that is 
used when the signaling gateway sends a notify message, for example. The value is of 
significance only to the ASPs serving a specific application server. This identifier al-
ways should be sent when dynamic addressing is used because the signaling gateway 
will be unable to determine the address or identity of the sending ASP. 
Circuit Range (0x020f) This parameter allows for an ASP to define a range of ISUP 
or TUP circuits for a call during the registration process (Figure 7.55). The signaling 
gateway will assign these as it converts M3UA traffic to MTP3. This is an optional pa-
rameter, and its absence allows for the use of any ISUP or TUP circuits. 
--------------------------
Tag = 0 × 0012
Length
Mask
Affected Point Code 1
Mask
Affected Point Code n
Figure 7.54 Affected point code.
--------------------------
Tag = 0 × 020e
Length
Mask = 0
Originating Point Code 1
Mask = 0
Originating Point Code 2
Mask = 0
Originating Point Code n
Figure 7.55 Circuit range parameter.

248      Chapter 7
A destination point code (DPC) is not necessary for this parameter because the DPC 
is already given as a mandatory parameter within the routing key. Multiple circuit 
identity codes (CIC) ranges can be provided but are not mandatory. 
Concerned Destination (0x0206) This parameter is used only when a signaling con-
gestion message is sent by an ASP to a signaling gateway. The parameter provides 
the point code of the message originator that originated the congestion message. The 
parameter supports 14-, 16-, and 24-bit point codes. 
Congestion Indications (0x0205) This parameter is used to indicate congestion in the 
SS7 domain. The congestion-level field provides the congestion levels as defined by 
MTP3 commonly used in ANSI networks. Since ITU networks do not use congestion 
levels in MTP3, the congestion-level field is not used in these networks. Congestion 
levels are listed in Table 7.72.
Correlation ID (0x0013) The correlation ID is used by the application server for syn-
chronizing traffic in each of the streams as it becomes active. It uniquely identifies the 
message signal unit (MSU) within the application server so that the application server 
can correlate the MSU with other related traffic. 
Deregistration Result (0x0209) This parameter is used in the deregistration response 
message (Figure 7.56). The results parameter will identify whether or not the deregis-
tration was successful and may list multiple routing keys if multiple routing keys were 
listed in the deregistration request message. Each results parameter can reference only 
one routing-key result. 
Routing Context
Deregistration Status
Tag = 0 × 0006
Length = 8
Tag = 0 × 0213
Length = 8
Figure 7.56 Deregistration results.
TABLE 7.72 Congestion-Level Field Values
0 
No congestion or undefined
1 
Congestion level 1
2 
Congestion level 2
3 
Congestion level 3

Signaling Transport (SIGTRAN)      249
Deregistration Status (0x0213) The deregistration status parameter is carried as part 
of the deregistration results parameter and provides the status of a deregistration re-
quest. The values are listed in Table 7.73.
Destination Point Code (0x020b) This is a mandatory parameter for a registration re-
quest and is used to identify the point code associated with the registration (Figure 7.57). 
Incoming SS7 traffic will be routed based on the destination point code within the SS7 
message, which the signaling gateway will map to a routing context. The routing context 
will reference a routing key, which identifies the ASP assigned to process traffic for the 
application server. 
The mask field allows for wild-card assignments. If the wild-card value is a 3, for 
example, the last three digits of the point code are wild-card entries. This allows for 
identifying multiple point codes without having to originate multiple messages for each 
individual point code. 
Diagnostic Information (0x0007) There is little mention of the use for this parameter 
other than it can be used to debug errors. The offending message responsible for the 
error should be included within this parameter in such cases. This is an optional pa-
rameter used in the error (ERR) message only. 
Error Code (0x000c) Error codes are provided as part of the error (ERR) message. This 
is a mandatory parameter in the error message. Table 7.74 lists the error codes defined 
for M3UA.
Invalid version (0x01). This is sent when the M3UA message is of a version not  
supported by the receiving entity. 
Unsupported message class (0x03). This is sent when a message contains a message 
class identifier that is incorrect based on the standards implemented. 
TABLE 7.73 Deregistration Status Values
0 
Successfully deregistered
1 
Error—unknown
2 
Error—invalid routing context
3 
Error—permission denied
4 
Error—not registered
5 
Error—ASP currently active for routing context
Tag = 0 × 020b
Length = 8
Mask
Destination Point Code
Figure 7.57 Destination point-code parameter.

250      Chapter 7
Unsupported message type (0x04). This is sent when a message contains a message 
type that is incorrect based on the implemented standards.
Unsupported traffic mode (0x05). This is sent when the traffic mode indicated cannot 
be supported by the receiving entity. 
Unexpected message (0x06). This is sent when a message is received while the receiv-
ing entity is in a state that would not be able to process the message. 
Protocol error (0x07). This is sent when there is any error in the format of a received 
message, such as a valid parameter being sent in a message that does not use this 
parameter.
Invalid stream identifier (0x09). This is sent if a message is received on an SCTP 
stream that is not expected. For example, management messages always should be 
sent on the SCTP stream 0, but if they are received on another stream, an error mes-
sage with the error code invalid stream identifier is returned to the originator. 
Refused—management blocking (0x0d). This is used when ASP state messages are 
sent to an entity that has been blocked by the operator for management purposes. 
It is sent when the ASP up or ASP active messages are sent while the entity is 
being blocked. 
ASP identifier required (0x0e). This is sent when an ASP up message is received 
without identifying the ASP. 
TABLE 7.74 M3UA Error Code Values
0x01 
Invalid version
0x02 
Not used in M3UA
0x03 
Unsupported message class
0x04 
Unsupported message type
0x05 
Unsupported traffic mode type
0x06 
Unexpected message
0x07 
Protocol error
0x08 
Not used in M3UA
0x09 
Invalid stream identifier
0x0a 
Not used in M3UA
0x0b 
Not used in M3UA
0x0c 
Not used in M3UA
0x0d 
Refused—management blocking
0x0e 
ASP identifier required
0x0f 
Invalid ASP identifier
0x10 
Not used in M3UA
0x11 
Invalid parameter value
0x12 
Parameter field error
0x13 
Unexpected parameter
0x14 
Destination status unknown
0x15 
Invalid network appearance
0x16 
Missing parameter
0x17 
Not used in M3UA
0x18 
Not used in M3UA
0x19 
Invalid routing context
0x1a 
No configured AS for ASP

Signaling Transport (SIGTRAN)      251
Invalid ASP identifier (0x0f). This is sent when an ASP up message is received with 
an invalid ASP identifier.
Invalid parameter value (0x11). This is sent when a message is received containing 
an invalid parameter value.
Parameter field value (0x12). This is sent if a parameter had an invalid length field 
based on standards implemented, for example, if the version of M3UA imple-
mented expects the specified parameter to have a length of 8 bits, and the length 
is 10 bits. 
Unexpected parameter (0x13). This is used when a message contains an invalid pa-
rameter. 
Destination status unknown (0x14). This is sent by the signaling gateway in response 
to a destination audit when the signaling gateway does not know the state of the 
point code for which an audit was requested. 
Invalid network appearance (0x15). This is sent to an ASP by a signaling gateway 
when a message is received with a network appearance that is not configured. 
Missing parameter (0x16). This is sent when a message is received missing one of its 
mandatory parameters. 
Invalid routing context (0x19). This is sent when a message is received with a routing 
context that is not configured. 
No configured AS for ASP (0x1a). This is sent when a message is received without 
any routing context. 
Heartbeat Data (0x0009) The heartbeat data parameter is an optional parameter used 
in the heartbeat (BEAT) message and could contain information such as a timestamp 
(although the exact contents are implementation-specific). This information is created 
and sent by the originator and simply echoed back by the receiver. One possible use 
would be to place a timestamp and, on receipt, calculate the round-trip time.
INFO String (0x0004) There are presently no procedures defined for the use of this pa-
rameter, but it is thought that this parameter may be used in the future for debugging 
purposes. 
Local Routing-Key Identifier (0x020a) The ASP uses this parameter when sending a 
registration request to its associated signaling gateway (Figure 7.58). This is how the 
ASP keeps track of multiple requests until the signaling gateway responds with a  
Local Routing-Key Identifier
Tag = 0 × 020a
Length = 8
Figure 7.58 Local routing-key identifier parameter. 

252      Chapter 7
registration response confirming the successful registration with a routing context. The 
identifier is 32 bits and must be a unique number until the routing context is received, 
at which time the number can be recycled again.
Network Appearance (0x0200) The network appearance parameter is what identifies 
the point-code format for the message, as well as what the network indicator value is, 
and the protocol type and version from the MTP3 header (Figure 7.59). The network ap-
pearance parameter is especially important in networks where the signaling gateway 
may have connections into multiple international networks with various point codes 
for each of those networks.
The network appearance is of significance only to the signaling gateway and the ap-
plication server process to which it is associated and is negotiated between the signal-
ing gateway and ASP on association. There can be multiple service indicators in this 
parameter or only one. Padding is used to fill any unused octets. 
Originating Point Code (OPC) List (0x020e) The OPC list provides a list of originating 
point codes to be used when messages are originated by an application server within 
the IP domain (Figure 7.60). When an application server originates a message, the OPC 
is used from the registration by the signaling gateway.
Destination Point Code
Tag = 0 × 020c
Length
Service Indicator 1
Service Indicator n
0 Padding (If Necessary)
Service Indicator 2
Service Indicator 3
Service Indicator 4
Figure 7.59 Network appearance parameter.
--------------------------
Tag = 0 × 020e
Length
Mask = 0
Originating Point Code 1
Mask = 0
Originating Point Code 2
Mask = 0
Originating Point Code n
Figure 7.60 OPC list.

Signaling Transport (SIGTRAN)      253
Protocol Data (0x0210) This parameter contains the original MTP3 message, including 
the service indicator and the routing label (Figure 7.61). It is used in the DATA mes-
sage only. You will find the following fields in this parameter:
Service indicator. This field contains the value from the MTP3 service indicator  
octet (SIO). 
Network indicator. This field contains the value from the MTP3 network indicator 
field.
Message priority. This field contains the value from the MTP3 message priority 
field. 
Destination point code. This is the DPC found in the MTP3 routing label.
Origination point code. This is the OPC found in the MTP3 routing label. 
Signaling link selection code. This is the SLS found in the MTP3 routing label. 
User protocol data. This is the actual payload from the MTP3 message, such as ISUP, 
TUP, or SCCP. 
Registration Result (0x0208) The registration result is sent in the registration response 
message to indicate either successful or unsuccessful registration by an ASP (Figure 7.62). 
The parameter contains the results for only one routing key, but the registration response 
message can contain multiple registration result parameters. 
The location routing-key identifier is used by the ASP to correlate the results with 
a specific routing key and its associated registration request. It will contain the same 
value as found in the registration request message. 
Registration Status (0x0212) This parameter is used to indicate success or failure of 
a specified registration request and is employed in the registration response message 
(Figure 7.63). The values for status are listed in Table 7.75.
Routing Context (0x0006) The routing context is used for routing of a message and is 
employed by either the signaling gateway or the ASP when determining to which asso-
ciation the message is to be sent. Think of this as an index to registered routing keys. 
Destination Point Code (DPC)
Originating Point Code (OPC)
User Protocol Data
Service Indicator Octet
Network Indicator
Message Priority
SLS
Figure 7.61 M3UA protocol data parameter.

254      Chapter 7
Routing Key (0x0207) The routing key is used to associate traffic with the proper appli-
cation server and ASP (Figure 7.64). During the registration process, an ASP may send 
a registration request containing this routing key, and if registration is successful, the 
signaling gateway will return a routing context. The ASP may send multiple routing 
keys within one parameter, as indicated by Figure 7.64. 
TABLE 7.75 Registration Status Values
 0 
Successfully registered
 1 
Error—unknown
 2 
Error—invalid DPC
 3 
Error—invalid network appearance
 4 
Error—invalid routing key
 5 
Error—permission denied
 6 
Error—cannot support unique routing
 7 
Error—routing key not currently provisioned
 8 
Error—insufficient resources
 9 
Error—unsupported routing-key parameter field
10 
Error—unsupported/invalid traffic-handling mode
Local Routing-Key Identifier
Tag = 0 × 020a
Length = 8
Figure 7.64 Routing-key parameter.
Local Routing Key Identifier
Routing Context
Registration Status
Tag = 0 × 020a
Length = 8
Tag = 0 × 0212
Length = 8
Tag = 0 × 0006
Length = 8
Figure 7.62 Registration result parameter.
Figure 7.63 Registration status parameter.
Registration Status
Tag = 0 × 0212
Length = 8

Signaling Transport (SIGTRAN)      255
The local routing identifier is assigned by the ASP prior to sending the registration 
request and is used to identify the REG REQ until a confirmation has been returned 
with the routing context from the signaling gateway (Table 7.76).
Service Indicators (0x020c) This parameter carries the MTP3 service indicator octet 
from the original SS7 message.
Status (0x000d) The status parameter is used in the notify message to provide the status 
of the specified entity (Figure 7.65). There are two fields in this parameter, the status type 
and the status information field. The status information field provides the current state of 
the entity identified in the routing context of the notify message. Table 7.77 lists the values 
of the status type field, and Table 7.78 lists the values of the status information field.
If the status type field value is “other,” then the values listed in Table 7.79 are used 
in the status information field.
Traffic Mode Type (0x000b) This parameter is sent to a signaling gateway in a reg-
istration request (REG REQ) as part of the routing-key parameter (Figure 7.66).  
Tag = 0 × 000d
Length = 8
Status Type
Status Information
Figure 7.65 Status parameter.
TABLE 7.76 Routing-Key Parameter Fields 
Local routing-key identifier 
Mandatory
Traffic mode type 
Optional
Destination point code 
Mandatory
Network appearance 
Optional
Service indicators 
Optional
Originating point-code list 
Optional
Circuit range list 
Optional
TABLE 7.77 Status Type Field Values
1 
Application server state change
2 
Other 
TABLE 7.78 Status Information Field Values 
1 
Reserved
2 
AS inactive
3 
AS active
4 
AS pending

256      Chapter 7
The purpose is to identify the traffic mode type for the specified ASP within the associ-
ated application server. Three values are listed for this parameter (Table 7.80).
The override mode allows an ASP to take over all traffic for the specified application 
server. This is used in configurations where there is a primary and a backup applica-
tion server. In load-sharing mode, the application servers share traffic equally, as do the 
assigned ASPs. In broadcast mode, all traffic is sent to all ASPs serving an application 
server, provided they are available. 
User/Cause (0x0204) The user/cause parameter is used to indicate the reason why an 
M3UA user is unavailable, as well as what user (protocol) is unavailable (Figure 7.67). 
The cause values align with the MTP3 user part unavailable message, whereas the 
user values align with the MTP3 service indicator. The values for the cause field are 
listed in Table 7.81, and the values for the user field are listed in Table 7.82.
Traffic Mode Type
Tag = 0 × 0000b
Length = 8
Figure 7.66 Traffic mode type parameter.
Tag = 0 × 0204
Length = 8
Cause
User
Figure 7.67 User/cause parameter.
TABLE 7.79 Status Information Values if Type Is “Other”
1 
Insufficient ASP resources active in the AS
2 
Alternate ASP active
3 
ASP failure
TABLE 7.80 Traffic Mode Type Values
1 
Override
2 
Load share
3 
Broadcast 
TABLE 7.81 Cause Field Values
0 
Unknown
1 
Unequipped remote user
2 
Inaccessible remote user

Signaling Transport (SIGTRAN)      257
Signaling Connection Control Part (SCCP) User Adaptation Layer (SUA)
SUA is the protocol used to deliver SS7 SCCP or ISUP into an IP network. While its use 
in relation to ISUP has not been implemented (neither has ISUP over SCCP, but the 
standards do support implementation), it is used widely today to interconnect IP-based 
application servers to the legacy SS7 network.
As seen in Figure 7.68, SUA is used to deliver messages to the ASP, which, in turn, 
manages the connections between ASs and other elements in the network. Usually 
multiple ASPs are associated with any one AS, as shown in the figure, so as to increase 
redundancy and further enhance availability of the application. 
Likewise, an ASP may be connected to multiple signaling gateways, enhancing net-
work diversity. This allows for multiple routes to any one destination, just as we have 
seen practiced in the SS7 network. 
Like SCCP, SUA supports both connectionless and connection-oriented communica-
tions. In fact, many of the processes and procedures defined in the SCCP specifications 
can be found in SUA as well. SUA supports four classes of service:
■ Class 0—unordered transfer of SCCP messages in connectionless mode
■ Class 1—sequenced delivery in connectionless mode
■  Class 2—bidirectional transfer of SCCP via a temporary or permanent connection 
(connection-oriented)
■  Class 3—bidirectional transfer of SCCP via a temporary or permanent connection 
with flow control (connection-oriented)
Two methods can be used for interfacing with the SS7 network. For connection- 
oriented service with a signaling gateway as an endpoint, SCCP and SUA rely on the 
signaling gateway to act as an interface between the two protocols. The signaling gate-
way is a termination point within the SS7 network, meaning that the SS7 network 
has no visibility into the IP domain. The signaling gateway is then responsible for ter-
minating the SS7 traffic and establishing the SCTP association in the IP domain. The 
message then is routed by point code and subsystem number.
TABLE 7.82 User Field Values 
0–2 
Reserved
3 
SCCP
4 
TUP
5 
ISUP
6–8 
Reserved
9 
Broadband ISUP
10 
Satellite ISUP
11 
Reserved
12 
AAL type 2 signaling
13 
Bearer Independent Call Control (BICC)
14 
Gateway control protocol
15 
Reserved

258      Chapter 7
If the signaling gateway is acting as a relay point, then the signaling gateway routes 
based on global title. The destination of the message is transparent to the SS7 network 
and will be based on the global title results. This is a means of interconnecting to for-
eign networks where the network operator is not willing to share internal addressing 
with outside networks. 
Of course, as the network evolves into an all-IP network, the need to interface with 
the SS7 network goes away. SUA still can operate in an all IP domain, allowing opera-
tors to continue using the protocol even after they have eliminated SS7 altogether.
Network Management
The network management procedures defined in SCCP are replicated in the SUA pro-
tocol as well. There are multiple associations between ASPs and ASs, providing for 
enhanced availability in the network. 
ASs can be identified in routing lists as available or active and active or available 
but inactive to support failover routing. If an AS cannot be reached for any reason, the 
message can be routed to another available and active AS. The ASPs maintain the state 
of their associated ASs and manage the routing between applications.
AS 1
ASP1
ASP2
AS 3
ASP1
ASP2
AS 4
ASP1
ASP2
ASP3
AS 2
ASP1
ASP2
ASP3
Figure 7.68 Associations between application servers (ASs) and application server processes (ASPs).

Signaling Transport (SIGTRAN)      259
SUA also interworks with SCCP subsystem management. When the signaling gate-
way receives a network management message from the SS7 network, it looks to see 
if the message affects any of the ASs in the IP domain. The signaling gateway then 
is responsible for the management of messages between the two domains. If an SS7 
endpoint is no longer reachable, becomes congested, or changes status in any way, the 
signaling gateway reports these state changes to the entities in the IP domain. 
If the AS or associated ASP(s) change(s) state, the signaling gateway reports these 
state changes back into the SS7 network using subsystem management. For example, 
if the ASP is not available, the signaling gateway buffers all incoming messages for a 
specified time, determined by timer T(r). After T(r) expires, the message is flushed from 
the buffer, and the signaling gateway returns an error message to the origination point 
in the SS7 network. 
Routing
Routing is accomplished through an Address Mapping Function (AMF). The AMF 
is part of SUA but is implementation-dependent. Operators can use Domain Name 
Servers (DNS), local tables, or other means for supporting routing in the IP domain.
If there is no match in the AMF for a particular SCCP address, the network can 
choose a default ASP to route the message to or drop the message entirely and send 
an error message back to the originator. This also depends on the network operators’ 
implementation. 
AMF resolves incoming SCCP and SUA messages to an SCTP association. The SCTP 
association is held within the ASP. The routing is based on routing keys; messages then 
are routed only to one routing key (messages cannot be sent to multiple routing keys). 
The routing key may consist of the subsystem number, origination point code (OPC), 
destination point code (DPC), service indicator octet (SIO), or transaction identifier 
(TID). IP addresses and hostnames are also supported for all IP networks. A routing 
key can be administered using Management Information Base (MIBs) or using SUA’s 
dynamic registration procedures. Messages destined to the SS7 network are routed 
based on mapping the ASP address to the DPC, status of the SS7 route, availability of 
the signaling gateway, and routing-context configuration tables. 
There is no SUA function for managing the status of the SS7 network or signaling 
gateways. If there is an SCTP association, then it is assumed that the signaling gate-
way is available and accessible. If a failure is impeding access to the signaling gateway, 
the SCTP association would be lost, thereby preventing traffic to the node.
There is the opportunity for circular routing in the network. For this reason, an 
SS7 hop counter is used to prevent messages from being looped around the net-
work. The counter is set by the endpoint (in either the SS7 or the IP domain) to a 
maximum value of 15. Each time the message passes through global title transla-
tion, the counter is decremented by 1, until it reaches a value of 0. The message is 
then discarded, and the error message “Hop counter violation” is returned to the 
originator. Figure 7.69 depicts traffic flow establishing an association prior to any 
message traffic flow.

260      Chapter 7
SUA Messages and Formats
This subsection defines all the SUA messages and their formats. We begin with SUA 
messages, followed by the common parameters used within the messages. There are 
also subparameters that may be used within a parameter itself. These are shown in the 
“Parameters” sections as well. 
SUA (as with all SIGTRAN protocols) uses a format referred to as tag, length, and value 
(TLV). This means that every message and every parameter within a message starts with 
a tag that uniquely identifies the message or parameter itself. This is a numeric identifier 
and is shown with each of the defined messages and parameters in this subsection. 
The next field is the length field, which identifies the length of the entire mes-
sage or parameter beginning with the tag and including the length and value fields. 
Primary ASP
Backup ASP
Establish SCTP Association
Est. SCTP Association
ASP UP
Align SS7 Link
SSA
SSA
UDT
ASP UP Ack
ASP UP
ASP UP Ack
ASP Active
ASP Active Ack
Notify (ASP Active)
Notify (ASP Active)
DAVA
CLDT
Signaling Gateway
Signaling Endpoint
Figure 7.69 SUA connection management flowchart.

Signaling Transport (SIGTRAN)      261
Last is the value field, which contains the various parameters that make up the  
message itself. 
Common Header SUA uses a common (Figure 7.70) header consisting of the following 
fields:
■ SUA protocol version
■ Message class
■ Message type
■ Message length
■ Message data
All SUA messages use this common header. Following are the definitions for each of 
the fields within the common header:
SUA protocol version. This field identifies the version of SUA supported in the mes-
sage itself. This indicates the protocol version that was used to encode the message 
at the origination point. There currently is only one value: 1—SUA version 1.0.
Message class. The message class identifies the type of message being sent. Several 
message classes are supported:
■ SUA management (MGMT)
■ Signaling network management (SNM)
■ ASP state maintenance (ASPSM)
■ ASP traffic maintenance (ASPTM)
■ Connectionless
■ Connection-oriented
■ Routing-key management (RKM)
 
These message classes have defined messages that we will go through in detail. 
Message type. The type of message depends on the message class. Each message class 
has its own set of message types, as seen in Table 7.83.
Message Data
Message Length
Protocol Version
Reserved
Message Class
Message Type
Figure 7.70 SUA common header.

262      Chapter 7
TABLE 7.83 SUA Message Types
 
SUA Management (MGMT) Messages
0 
Error (ERR)
1 
Notify (NTFY)
2–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
 
Signaling Network Management (SNM) Messages
0 
Reserved
1 
Destination unavailable (DUNA)
2 
Destination available (DAVA)
3 
Destination state audit (DAUD)
4 
Signaling congestion (SCON)
5 
Destination user part unavailable (DUPU)
6 
Destination restricted (DRST)
7–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
 
ASP State Maintenance (ASPSM) Messages
0 
Reserved
1 
ASP up (UP)
2 
ASP down (DOWN)
3 
Heartbeat (BEAT)
4 
ASP up acknowledgment (UP ACK)
5 
ASP down acknowledgment (DOWN ACK)
6 
Heartbeat acknowledgment (BEAT ACK)
7–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
 
ASP Traffic Maintenance (ASPTM) Messages
0 
Reserved
1 
ASP active (ACTIVE)
2 
ASP inactive (INACTIVE)
3 
ASP active acknowledgment (ACTIVE ACK)
4 
ASP inactive acknowledgment (INACTIVE ACK)
5–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
 
Connectionless Messages
0 
Reserved
1 
Connectionless data transfer (CLDT)
2 
Connectionless data response (CLDR)
3–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
 
Connection-Oriented Messages
0 
Reserved
1 
Connection request (CORE)
2 
Connection acknowledge (COAK)
3 
Connection refused (COREF)
4 
Release request (RELRE)
5 
Release complete (RELCO)
6 
Reset confirm (RESCO)
7 
Reset request (RESRE)
8 
Connection-oriented data transfer (CODT)
9 
Connection-oriented data acknowledge (CODA)
10 
Connection-oriented error (COERR)
11 
Inactivity test (COIT)
12–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
(Continued)

Signaling Transport (SIGTRAN)      263
Message length. This is a 32-bit field identifying the length of the message including the 
common message header and all padding bytes. The length value is given in octets. 
Message data. This field contains the data. Data consist of message types and their 
associated parameters. In this chapter, any reference to a message is in reference 
to a specific message type and in reference to a parameter associated with the 
parameters defined for each message type. 
Connectionless Message Formats
This subsection defines message types for the connectionless message class. 
Connectionless Data Transfer (CLDT) The connectionless data transfer (CLDT) mes-
sage is used to send data between two SUA endpoints (Figure 7.71). The corresponding 
SCCP messages are the UNITDATA (UDT), extended UNITDATA (XUDT), and long 
UNITDATA (LUDT) messages.
Connectionless Data Response (CLDR) The connectionless data response (CLDR) mes-
sage is used to report an error in a received CLDT message (Figure 7.72). The corre-
sponding SCCP messages are the UNITDATA (UDT), extended UNITDATA (XUDT), 
and long UNITDATA (LUDT) messages.
Connection-Oriented Message Formats
Connection-Oriented Data Transfer (CODT) Message The connection-oriented data 
transfer (CODT) message is used to transfer data from one SUA to another using  
connection-oriented services (Figure 7.73).
Connection-Oriented Data Acknowledgment (CODA) Message The connection-oriented 
data acknowledge (CODA) message is used to acknowledge receipt of data from another 
SUA peer (Figure 7.74). This message type is only used in protocol class 3. 
Connection Request (CORE) Message The connection request (CORE) message is used 
to request a connection with another SUA peer endpoint (Figure 7.75). The correlating 
SCCP message is the connection request (CR). 
TABLE 7.83 (Continued)
 
Routing-Key Management (RKM) Messages
0 
Reserved
1 
Registration request (REG REQ)
2 
Registration response (REG RSP)
3 
Deregistration request (DEREG REQ)
4 
Deregistration response (DEREG RSP)
5–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions
10–127 
Reserved by the IETF
128–255 
Reserved for IETF-defined message class extensions

264      Chapter 7
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Protocol Class (Mandatory)
Parameter Tag = 0 × 0115
Parameter Length
Source Address (Mandatory)
Parameter Tag = 0 × 0102
Parameter Length
Destination Address (Mandatory)
Parameter Tag = 0 × 0103
Parameter Length
Sequence Control (Mandatory)
Parameter Tag = 0 × 0116
Parameter Length
SS7 Hop Counter (Optional)
Parameter Tag = 0 × 0101
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Message Priority (Optional)
Parameter Tag = 0 × 0114
Parameter Length
Correlation ID (Optional)
Parameter Tag = 0 × 0013
Parameter Length
Segmentation (Optional)
Parameter Tag = 0 × 0117
Parameter Length
Message Data (Mandatory)
Parameter Tag = 0 × 010B
Parameter Length
Figure 7.71 Connectionless data transfer (CLDT) message.

Signaling Transport (SIGTRAN)      265
Connection Acknowledgment (COAK) Message The connection acknowledgment 
(COAK) message is sent in acknowledgment of the connection request (CORE) message  
(Figure 7.76). The credit parameter is used only for protocol class 3. The corresponding 
SCCP message is the connection confirm (CC) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
SCCP Cause
Parameter Tag = 0 × 0106
Parameter Length
Source Address (Mandatory)
Parameter Tag = 0 × 0102
Parameter Length
Destination Address (Mandatory)
Parameter Tag = 0 × 0103
Parameter Length
SS7 Hop Counter (Optional)
Parameter Tag = 0 × 0101
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Message Priority (Optional)
Parameter Tag = 0 × 0114
Parameter Length
Correlation ID (Optional)
Parameter Tag = 0 × 0013
Parameter Length
Segmentation (Optional)
Parameter Tag = 0 × 0117
Parameter Length
Message Data (Optional)
Parameter Tag = 0 × 010B
Parameter Length
Figure 7.72 Connectionless data response (CLDR) message.

266      Chapter 7
Connection Refused (COREF) Message The connection refused (COREF) message is 
used to refuse a connection request (Figure 7.77). The destination address is used only 
when the CORE message sends the source address parameter.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Sequence Number (Optional)
Parameter Tag = 0 × 0107
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Message Priority (Optional)
Parameter Tag = 0 × 0114
Parameter Length
Correlation ID (Optional)
Parameter Tag = 0 × 0013
Parameter Length
Message Data (Mandatory)
Parameter Tag = 0 × 010B
Parameter Length
Figure 7.73 Connection-oriented data transfer (CODT) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Receive Sequence Number (Optional)
Parameter Tag = 0 × 0108
Parameter Length
Credit
Parameter Tag = 0 × 010A
Parameter Length
Figure 7.74 Connection-oriented data acknowledgment (CODA) message.

Signaling Transport (SIGTRAN)      267
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Protocol Class (Mandatory)
Parameter Tag = 0 × 0115
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
Destination Address (Mandatory)
Parameter Tag = 0 × 0103
Parameter Length
Sequence Control (Mandatory)
Parameter Tag = 0 × 0116
Parameter Length
Sequence Number (Optional)
Parameter Tag = 0 × 0107
Parameter Length
Source Address (Optional)
Parameter Tag = 0 × 0102
Parameter Length
SS7 Hope Counter (Optional)
Parameter Tag = 0 × 0101
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Message Priority (Optional)
Parameter Tag = 0 × 0114
Parameter Length
Credit (Optional)
Parameter Tag = 0 × 010A
Parameter Length
Data (Optional)
Parameter Tag = 0 × 010b
Parameter Length
Figure 7.75 Connection request (CORE) message.

268      Chapter 7
Release Request (RELRE) Message The release request (RELRE) message is used to re-
lease a connection between two peer endpoints (Figure 7.78). The corresponding SCCP 
message is the connection released (RSLD) message. 
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Protocol Class (Mandatory)
Parameter Tag = 0 × 0115
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
Sequence Control (Mandatory)
Parameter Tag = 0 × 0116
Parameter Length
Credit (Mandatory)
Parameter Tag = 0 × 010A
Parameter Length
Source Address (Optional)
Parameter Tag = 0 × 0102
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Message Priority (Optional)
Parameter Tag = 0 × 0114
Parameter Length
Destination Address (Optional)
Parameter Tag = 0 × 0103
Parameter Length
Data (Optional)
Parameter Tag = 0 × 010b
Parameter Length
Figure 7.76 Connection acknowledgment (COAK) message. 

Signaling Transport (SIGTRAN)      269
Release Complete (RELCO) Message The release complete message acknowledges the 
release between two endpoints and all associated resources (Figure 7.79). The corre-
sponding SCCP message is the release complete (RLC) message.
Reset Request (RESRE) Message The reset request (RESRE) message is used to re-
quest a reset from the peer endpoint, which will then reinitialize sequence numbering 
(Figure 7.80). The corresponding SCCP message is the reset request (RSR) message.
Reset Confirm (RESCO) Message The reset confirm (RESCO) message is used to ac-
knowledge the reset request (RESRE) message (Figure 7.81). The corresponding SCCP 
message is the reset confirmation (RSC) message.
Connection-Oriented Error (COERR) Message The connection-oriented error (COERR) 
message indicates a protocol error (Figure 7.82). The corresponding SCCP message is 
the protocol data unit error (ERR) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
SCCP Cause (Mandatory)
Parameter Tag = 0 × 0106
Parameter Length
Source Address (Optional)
Parameter Tag = 0 × 0102
Parameter Length
Destination Address (Optional)
Parameter Tag = 0 × 0103
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Data (Optional)
Parameter Tag = 0 × 010b
Parameter Length
Figure 7.77 Connection refused (COREF) message.

270      Chapter 7
Connection-Oriented Inactivity Test (COIT) Message The connection-oriented inactivity 
test (COIT) message is used to verify the connection status and to test for data integrity 
(Figure 7.83). The corresponding SCCP message is the inactivity test (IT) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
SCCP Cause (Mandatory)
Parameter Tag = 0 × 0106
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Data (Optional)
Parameter Tag = 0 × 010b
Parameter Length
Figure 7.78 Release request (RELRE) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
Importance (Optional)
Parameter Tag = 0 × 0113
Parameter Length
Figure 7.79 Release complete (RELCO) message.

Signaling Transport (SIGTRAN)      271
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
SCCP Cause (Mandatory)
Parameter Tag = 0 × 0106
Parameter Length
Figure 7.80 Reset request (RESRE) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
Figure 7.81 Reset confirm (RESCO) message.
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
SCCP Cause
Parameter Tag = 0 × 0106
Parameter Length
Figure 7.82 Connection-oriented error (COERR) message.

272      Chapter 7
Signaling Network Management (SNM) Messages
Destination Unavailable (DUNA) Message The destination unavailable (DUNA) message 
indicates that an SCCP service has become unreachable (Figure 7.84). The message is 
sent by the signaling gateway to all adjacent ASPs (or local ASPs). Traffic to the af-
fected destination(s) is stopped by the ASPs on receipt of the DUNA message. 
Only one point code can be provided in the affected point-code parameter if the sub-
system number (SSN) is present. The corresponding SCCP primitive is the N-STATE 
primitive when SSN is provided and the PC-STATE primitive when the SSN is not 
provided. 
Destination Available (DAVA) Message The destination available (DAVA) message is 
sent by the signaling gateway to all concerned ASPs to indicate that a destination that 
was previously unavailable is now available (Figure 7.85). ASPs resume traffic to the 
affected destination on receipt of this message.
Only one point code can be provided in the affected point-code parameter if the SSN 
is present. The corresponding SCCP primitive is the N-STATE primitive when the SSN 
is provided and the PC-STATE primitive when the SSN is not provided. 
Routing Context (Mandatory)
Parameter Tag = 0 × 0006
Parameter Length
Protocol Class (Mandatory)
Parameter Tag = 0 × 0115
Parameter Length
Source Reference Number (Mandatory)
Parameter Tag = 0 × 0104
Parameter Length
Destination Reference Number (Mandatory)
Parameter Tag = 0 × 0105
Parameter Length
Sequence Number (Mandatory)
Parameter Tag = 0 × 0107
Parameter Length
Credit (Mandatory)
Parameter Tag = 0 × 010A
Parameter Length
Figure 7.83 Connection-oriented inactivity test (COIT) message.

Signaling Transport (SIGTRAN)      273
Destination Audit (DAUD) Message The destination state audit (DAUD) message is sent 
by the ASP to periodically check the status and availability of the specified routes 
(Figure 7.86). When the ASP receives a destination unavailable (DUNA) message, it 
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
Subsystem Number (Optional)
Parameter Tag = 0 × 8003
Parameter Length
SMI (Optional)
Parameter Tag = 0 × 0112
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.84 Destination unavailable (DUNA) message.
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
Subsystem Number (Optional)
Parameter Tag = 0 × 8003
Parameter Length
SMI
Parameter Tag = 0 × 0112
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.85 Destination available (DAVA) message.

274      Chapter 7
will periodically send the destination state audit (DAUD) to verify its state in case the 
destination available (DAVA) message is sent but never received by the ASP. The ASP 
also can use the DAUD when it recovers from isolation as a means for determining 
available routes.
The DAUD is really soliciting the N-STATE and PC-STATE primitives depending on 
whether the SSN is present or not present. 
Signaling Congestion (SCON) Message The signaling congestion (SCON) message is 
sent by the signaling gateway to all adjacent ASPs to inform them of congestion status 
to a specified destination in the SS7 network (Figure 7.87). The corresponding SCCP 
primitive is the N-STATE primitive when the SSN is provided and the PC-STATE 
primitive when the SSN is not provided. 
Destination User Part Unavailable (DUPU) The destination user part unavailable (DUPU) 
message is sent by the signaling gateway to notify adjacent ASPs that a remote peer 
in the SS7 network is unavailable (Figure 7.88). The corresponding SCCP primitive is 
the N-PCSTATE primitive. 
Destination Restricted (DRST) Message The destination restricted (DRST) message is 
sent by a signaling gateway to inform adjacent ASPs that a particular destination in 
the SS7 network has become restricted owing to congestion or other conditions and that 
the ASP should send only high-priority traffic (Figure 7.89). The ASP has the option 
of either ignoring this message or sending traffic to the destination through another 
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
Subsystem Number (Optional)
Parameter Tag = 0 × 8003
Parameter Length
User/Cause (Optional)
Parameter Tag = 0 × 010c
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.86 Destination audit (DAUD) message.

Signaling Transport (SIGTRAN)      275
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
Subsystem Number (Optional)
Parameter Tag = 0 × 8003
Parameter Length
Congestion Level (Mandatory)
Parameter Tag = 0 × 0118
Parameter Length
SMI (Optional)
Parameter Tag = 0 × 0112
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.87 Signaling congestion (SCON) message.
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
User/Cause
Parameter Tag = 0 × 010c
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.88 Destination user part unavailable (DUPU) message.

276      Chapter 7
signaling gateway because the congestion could be relevant to the signaling gateway 
originating the DRST. 
If the ASP currently believes that the destination is unavailable (owing to the receipt 
of an earlier DUNA message, for example), and it receives this message, the ASP then 
should assume that traffic could be resumed to the affected destination. Traffic then 
would resume through the signaling gateway originating the DRST. 
The corresponding SCCP primitives are the N-COORD primitive if the SSN is pres-
ent and the N-PCSTATE primitive if SSN is not present. If the SMI is included, then 
the DRST corresponds to the N-COORD request and N-COORD indication primitives. 
If the SMI is not present, then the DRST corresponds to the N-COORD response and 
the N-COORD confirm primitives. 
ASP State Maintenance Messages
ASP Up (UP) Message The ASP up (UP) message is sent to indicate to SUA peers that 
the SUA layer is running (Figure 7.90). When dynamic addressing is used, the ASP 
identifier must be provided in this message because the signaling gateway is unable to 
determine the location of the ASP. 
ASP Up Acknowledgment (UP ACK) Message The ASP up acknowledgment (UP ACK) 
message is sent in response to an UP message (Figure 7.91).
ASP Down (DOWN) Message The ASP down (DOWN) message is sent to indicate a 
remote SUA peer is not running (Figure 7.92). This could mean that the remote SUA 
Routing Context (Optional)
Parameter Tag = 0 × 0006
Parameter Length
Affected Point Code (Mandatory)
Parameter Tag = 0 × 0012
Parameter Length
Subsystem Number (Optional)
Parameter Tag = 0 × 8003
Parameter Length
SMI (Optional)
Parameter Tag = 0 × 0112
Parameter Length
Information String (Optional)
Parameter Tag = 0 × 0004
Parameter Length
Figure 7.89 Destination restricted (DRST) message.

Signaling Transport (SIGTRAN)      277
peer is unavailable or that the associated SCTP connection is down. No SUA messages 
other than management messages should be sent to this ASP when in this state.
ASP Down Acknowledgment (DOWN ACK) Message The ASP down acknowledg-
ment (DOWN ACK) message is sent to acknowledge the receipt of a DOWN message  
(Figure 7.93). This message always will be sent in response to the DOWN message.
Heartbeat (BEAT) Message The heartbeat (BEAT) message is sent by SUA peers to 
periodically check the availability of another peer (Figure 7.94). This is an optional 
message, and its use is implementation-specific.
Heartbeat Acknowledgment (BEAT ACK) Message The heartbeat acknowledgment 
(BEAT ACK) message is sent in response to the BEAT message (Figure 7.95). This 
message must be sent when a peer receives the BEAT message, with the contents of 
the BEAT message included in the heartbeat data field. Otherwise, the BEAT message 
will be considered as failed.
ASP Traffic Maintenance Messages
ASP Active (ACTIVE) Message The ASP active (ACTIVE) message is sent by an ASP to 
indicate to other remote peers that it is up and running (Figure 7.96).
ASP Identifier
Tag = 0 × 0011
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.90 ASP up (UP) message.
Figure 7.91 ASP up acknowledgment (UP ACK) message. 
INFO String
Tag = 0 × 0004
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.92 ASP down (DOWN) message.

278      Chapter 7
Figure 7.93 ASP down acknowledgment (DOWN ACK) message.
INFO String
Tag = 0 × 0004
Length
Figure 7.94 Heartbeat (BEAT) message.
Heartbeat Data
Tag = 0 × 0009
Length
Figure 7.95 Heartbeat acknowledgment (BEAT ACK) message.
Heartbeat Data
Tag = 0 × 0009
Length
Figure 7.96 ASP active (ACTIVE) message.
Traffic Mode Type
Tag = 0 × 000b
Length = 8
Routing Context
Tag = 0 × 0006
Length
TID Label
Tag = 0 × 0110
Length
DRN Label
Tag = 0 × 010f
Length
INFO String
Tag = 0 × 0004
Length

Signaling Transport (SIGTRAN)      279
Active Acknowledgment (ACTIVE ACK) Message The active acknowledgment (ACTIVE 
ACK) message is sent in response to the ACTIVE message (Figure 7.97).
ASP Inactive (INACTIVE) Message The ASP inactive (INACTIVE) is sent by an inactive 
ASP to inform other peers it is no longer processing signaling traffic (Figure 7.98). 
The ASP is up and available, and the SCTP connection is up, but all traffic has been 
stopped for this ASP. No SUA DATA or SNM messages are to be sent to this ASP.
ASP Inactive Acknowledgment (INACTIVE ACK) Message The ASP inactive acknowledgment 
(INACTIVE ACK) message is sent in response to an INACTIVE message (Figure 7.99).
Traffic Mode Type
Tag = 0 × 000b
Length = 8
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.97 Active acknowledgment (ACTIVE ACK) message.
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.98 ASP inactive (INACTIVE) message.
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.99 ASP inactive acknowledgment (INACTIVE ACK) message.

280      Chapter 7
SUA Management Messages 
Error (ERR) Message The error (ERR) message is sent between two SUA peers to indi-
cate an error and possibly to facilitate error logging if the diagnostic information field 
is implemented (Figure 7.100). The routing context, network appearance, and affected 
point-code fields are only mandatory for specific error codes. 
Notify (NTFY) Message The notify (NTFY) message is used to provide autonomous 
indication of events to an SUA peer (Figure 7.101). When dynamic addressing is used, 
the ASP identifier must be provided in this message because the signaling gateway is 
unable to determine the location of the ASP.
Routing-Key Management Messages
Registration Request (REG REQ) Message The registration request (REG REQ) mes-
sage is sent by an ASP to a signaling gateway to request registration using one or more 
routing keys (Figure 7.102). The signaling gateway then responds using the REG RSP 
message containing an associated routing-context value. Multiple routing keys can be 
sent in one REG REQ message. 
---------------------
Tag = 0 × 0012
Length
Mask
Affected Point Code 1
Mask
Affected Point Code n
Error Code
Tag = 0 × 000c
Length
Routing Context
Tag = 0 × 0006
Length
Tag = 0 × 0007
Length
Network Appearance
Diagnostic Information
Tag = 0 × 010d
Length = 8
Figure 7.100 Error (ERR) message.

Signaling Transport (SIGTRAN)      281
Registration Response (REG RSP) Message The registration response (REG RSP) mes-
sage is sent in response to the REG REQ message, providing the results of the regis-
tration requested by the ASP (Figure 7.103). The signaling gateway also will return a 
unique routing context to be used in future SUA messages sent by the ASP. 
Multiple registration-results parameters can be contained in one REG RSP message 
if multiple routing keys were sent in the corresponding REG REQ message. There 
should be one parameter for each of the routing keys sent.
Deregistration Request (DEREG REQ) Message The deregistration request (DEREG 
REQ) message is sent by an ASP to a signaling gateway when the ASP wishes to dereg-
ister a specific routing key (Figure 7.104). The signaling gateway will send a DEREG 
RSP message in response to the DEREG REQ message.
Status Type
Tag = 0 × 000d
Length
ASP Identifier
Tag = 0 × 0011
Length
Routing Context
Tag = 0 × 0006
Length
INFO String
Tag = 0 × 0004
Length
Figure 7.101 Notify (NTFY) message.
Routing Key 1
Tag = 0 × 010e
Length
--------------------
Routing Key n
Tag = 0 × 010e
Length
ASP Capabilities
Tag = 0 × 0109
Length
Figure 7.102 Registration request (REG REQ) message.

282      Chapter 7
Multiple routing contexts can be sent in one DEREG REQ message. The signaling 
gateway will be expected to return an acknowledgment to each of the routing contexts 
in the associated DEREG RESP message.
Deregistration Response (DEREG RSP) Message The deregistration response (DEREG 
RSP) message is sent by the signaling gateway in response to a DEREG REQ message 
(Figure 7.105). Multiple routing contexts can be contained in one DEREG RSP mes-
sage depending on the number of routing contexts contained in the associated DEREG 
REQ message.
Common SUA Parameters
The following parameters are common parameters used in SUA messages, as defined 
in the preceding subsection. 
Global Title (0x8001) Figure 7.106 shows the global title parameter. The parameters 
are very much like those found in the SS7 equivalent message.
Registration Result 1
Tag = 0 × 0014
Length
--------------------
Registration Result n
Tag = 0 × 0014
Length
Figure 7.103 Registration response (REG RSP) message.
Figure 7.104 Deregistration request (DEREG REQ) message.
Routing Context
Tag = 0 × 0006
Length
Figure 7.105 Deregistration response (DEREG RSP) message.
Deregistration Result 1
Tag = 0 × 0015
Length
--------------------
Deregistration Result n
Tag = 0 × 0015
Length

Signaling Transport (SIGTRAN)      283
Global Title Indicator (See Table 7.84.)
TABLE 7.84 Global Title Indicator Field
0000 
Invalid
0001 
 Nature of address is taken over, meaning that the Translation Type will equal unknown and the 
Numbering Plan will be E.164.
0010 
 Translation Type determines nature of address and numbering plan. This is the most commonly 
used method in North American networks.
0011 
 Numbering plan and Translation Type are taken over, meaning that the nature of address will 
equal unknown.
0100 
 All information in the source address is to be populated in the SCCP address. This is the most 
commonly used method in networks outside North America.
Translation Type (See Table 7.85.)
TABLE 7.85 Translation Type Field
0 
Unknown
1–63 
International services
64–127 
Spare
128–254 
National network-specific
255 
Reserved
Numbering Plan (See Table 7.86.)
TABLE 7.86 Numbering Plan Field
0 
Unknown
1 
ISDN/telephony numbering plan (E.163 and E.164)
2 
Generic numbering plan
3 
Data numbering plan (X.121)
4 
Telex numbering plan (F.69)
5 
Maritime mobile numbering plan (E.210, E.211)
6 
Land mobile numbering plan (E.212)
7 
ISDN/mobile numbering plan (E.214)
8–13 
Spare
14 
Private network or network specific numbering plan
15–126 
Spare
127 
Reserved
Figure 7.106 Global title format.
Reserved
Global Title Indicator
Global Title Digits
Tag = 0 × 8001
Length
Number of Digits
Translation Type
Numbering Plan
Nature of Address

284      Chapter 7
Nature of Address (See Table 7.87.)
TABLE 7.87 Nature of Address Field
0 
Unknown
1 
Subscriber number
2 
Reserved for national use
3 
National significant number
4 
International number
5–255 
Spare
Address Range (0x0111) Two parameters are used in the address-range parameter, the 
source address and the destination address. Both are optional parameters. 
Affected Point Code (ID 0x0012) This parameter is used to identify a point code or a 
range of point codes that is unavailable (Figure 7.107). It is used mostly by signaling 
network management (SNM). The parameter supports 14-, 16-, and 24-bit point-code 
formats. For point codes that are less than 24 bits, padding is applied to the left of the 
point-code value. 
The format for this parameter supports the use of a mask field, which is used to 
identify wild-card values within a point code. For example, if the mask value is 3, then 
the last three digits of the point code are wild cards. This allows for identification of 
multiple point codes within one parameter rather than listing individual point codes 
in multiple messages and parameters. The mask field can be used for any of the point-
code formats. 
ASP Capabilities (0x0109) Four fields signify the protocol classes supported by the ASP 
(Figure 7.108). The values for these four fields are
a  Protocol class 3
b  Protocol class 2
c Protocol class 1
d Protocol class 0
--------------------------
Tag = 0 × 0012
Length
Mask
Affected Point Code 1
Figure 7.107 Affected point-code message.
Tag = 0 × 0109
Length = 8
Reserved
0 0 0 0
Interworking
a b c d
Figure 7.108 ASP capabilities parameter.

Signaling Transport (SIGTRAN)      285
The interworking field consists of the following values:
■ 0x0. This indicates no interworking with SS7 networks.
■  0x1. This indicates an IP signaling endpoint (ASP) interworking with SS7  
networks.
■ 0x2. This indicates a signaling gateway.
■ 0x3. This indicates relay-node support.
ASP Identifier (ID 0x0011) The ASP identifier is used in conjunction with the NOTIFY 
message, identifying an ASP when the signaling gateway is not able to identify the ASP. 
Congestion Level (0x0118) This parameter indicates the level of congestion at the MTP 
as experienced by the entity indicated in the affected point-code field of the SCON mes-
sage. The values of this parameter are listed in Table 7.88.
Correlation ID (ID 0x0013) The correlation identifier is used to notify an ASP that is just 
coming online where in the traffic flow of connectionless data messages the ASP is con-
necting. The parameter is sent by the signaling gateway with the first connectionless 
data message sent to an ASP when the signaling gateway is starting traffic to the ASP. 
It uniquely identifies the message signal unit (MSU) within the AS so that the AS can 
correlate the MSU with other related traffic. 
Credit (0x010a) There is one field in this parameter, the credit field. This is a one-octet 
field that carries the value of the window size for flow control. 
Data (0x010b) The data parameter contains the TCAP or Intelligent Network 
Application Part (INAP) message from the SS7 network.
Deregistration Result (ID 0x0014) The deregistration result parameter is used to provide 
results back when DEREG REQ is sent. The parameter consists of a routing context 
and deregistration status fields. The routing context is the same value as the routing 
context found in the associated DEREG REQ message. The deregistration status mes-
sage will identify the success or failure of the deregistration (see the “Deregistration 
Status” below). 
Deregistration Status (ID 0x0016) This parameter is used to indicate the success or 
failure of a deregistration request. Table 7.89 lists its values.
TABLE 7.88 Congestion-Level Field
0 
No congestion or undefined
1 
Congestion level 1
2 
Congestion level 2
3 
Congestion level 3

286      Chapter 7
Destination Address (0x0103) The destination address is identical to the source- 
address parameter in format.
Destination Reference Number (DRN) (0x0105) The destination reference number is the 
equivalent to the source reference number. The number is generated by the destination 
and is used to uniquely identify the SUA message. The number is of significance to the 
destination only. 
Diagnostic Information (ID 0x0007) This parameter is used to identify an error condi-
tion that occurred. When this is used with the adaptation layer identifier or traffic 
handling mode parameters, this parameter will include the parameter values that are 
in error. When in any other mode, it will contain the first 40 bytes of the SUA message 
in error. 
Destination Reference Number (DRN) Label (0x010f) The start and end fields identify the 
start and endpoints of the DRN label in an AS (Figure 7.109). The label-value field is 
a 16-bit identifier that is unique within one AS. This is used by the signaling gateway 
when a message is received with the DRN present. The signaling gateway will extract 
the label and send the message to the associated ASP.
Error Code (ID 0x000C) Error codes identify the type of an error that occurred and are 
sent in the ERR message. The error code parameters are listed in Table 7.90, and the 
values are as follows:
Invalid error (0x01). This is sent when the received message is in a format that is 
invalid or in the wrong version of SUA. The SUA version that is supported is found 
in the common header of the message. If the diagnostic field is included in the ERR 
message, the version of the message that was received and found invalid could be 
included to aid in troubleshooting. 
Unsupported message class (0x03). The ERR message sends this parameter when 
the message class identified in the received SUA message is of a type that is not 
expected by the receiver or is not supported.
Unsupported message type (0x04). The ERR message uses this parameter when the 
SUA message contains a message type that is not supported. 
TABLE 7.89 Deregistration Status Parameter
0 
Successfully deregistered
1 
Error—unknown
2 
Error—invalid routing context
3 
Error—permission denied
4 
Error—not registered
5 
Error—ASP currently active for routing context

Signaling Transport (SIGTRAN)      287
Unsupported traffic handling mode (0x05). This is sent when an ASP sends the traffic 
mode type message with an unsupported traffic mode. For example, if a signaling 
gateway does not support load-sharing mode, it would return the ERR message 
with this parameter back to the ASP, informing the ASP that it does not support 
load sharing. 
Unexpected message (0x06). This is an optional message sent by an ASP or a signaling 
gateway when it receives a message while it is in a state that would not support 
receipt of the message, for example, if an ASP was in ASP INACTIVE mode, and the 
signaling gateway sent a DATA message. Usually, the ASP has the option of simply 
discarding the DATA message, but optionally, it also can return the ERR with the 
unexpected message parameter. If sent, and the DATA message contains a routing 
context(s), then the routing context(s) will be included in the ERR message.
Label Value
End
Start
Tag = 0 × 010f
Length = 8
Figure 7.109 Destination reference number (DRN) label.
TABLE 7.90 Error Code Parameter
0x01 
Invalid version
0x02 
Not used
0x03 
Unsupported message class
0x04 
Unsupported message type
0x05 
Unsupported traffic handling mode
0x06 
Unexpected message
0x07 
Protocol error
0x08 
Not used
0x09 
Invalid stream identifier
0x0a 
Not used
0x0b 
Not used
0x0c 
Not used
0x0d 
Refused—management blocking
0x0e 
ASP identifier required
0x0f 
Invalid ASP identifier
0x10 
Not used
0x11 
Invalid parameter value
0x12 
Parameter field error
0x13 
Unexpected parameter
0x14 
Destination status unknown
0x15 
Invalid network appearance
0x16 
Missing parameter
0x17 
Not used
0x18 
Not used
0x19 
Invalid routing context
0x1a 
No configured AS for ASP
0x1b 
Subsystem status unknown
0x1c 
Invalid load-sharing label

288      Chapter 7
Protocol error (0x07). This parameter is used anytime a message is received that is 
abnormal, such as a message received that is not expected. 
Invalid stream identifier (0x09). This parameter is used when a message is received 
on an unexpected SCTP stream. 
Refused—management blocking (0x0d). If the ASP sends an ASP UP or ASP ACTIVE 
message while it is in management mode, the ASP will return this error message 
to indicate that it is unable to receive such a message.
ASP identifier required (0x0e). This message is sent by the signaling gateway when 
it receives an ASP UP missing the ASP identifier parameter. 
Invalid ASP identifier (0x0f). This parameter is returned in the ERR message when 
an ASP UP message is sent with an invalid ASP identifier.
Invalid parameter value (0x11). This error is sent when a message is received with 
an invalid parameter value.
Parameter field error (0x12). This error is returned when a message containing a 
parameter with an invalid length field is received. 
Unexpected parameter (0x13). This error is sent when a message is received with an 
invalid parameter.
Destination status unknown (0x14). This is an optional error parameter sent by a 
signaling gateway when it receives a request for status information for a specified 
route or destination, and the requesting entity is either not authorized to receive 
the status or the signaling gateway does not wish to provide the information. If 
the signaling gateway does return this message in response to a DAUD, then the 
routing context and network appearance associated with the unauthorized point 
code must be returned as part of the message.
Invalid network appearance (0x15). The signaling gateway sends this error when 
the ASP sends a message with an invalid network appearance value. The invalid 
network appearance is included in the parameter.
Missing parameter (0x16). This is used when a message is received missing a manda-
tory parameter.
Invalid routing context (0x19). The signaling gateway sends this error when the ASP 
sends a message with an invalid routing context value. The invalid routing context 
is sent as part of the error message.
No configured AS for ASP (0x1a). This error is used when a message is received with 
no routing context and no application server (AS) indicated. The sender is unable 
to determine which AS the received message is in reference to. 
Subsystem status unknown (0x1b). This is an optional error parameter sent by a 
signaling gateway when it receives a request for status information for a specified 
subsystem number, and the requesting entity is either not authorized to receive 
the status or the signaling gateway does not wish to provide the information. If 
the signaling gateway does return this message in response to a DAUD, then the 

Signaling Transport (SIGTRAN)      289
unauthorized point code as well as the subsystem number is provided along with 
the routing context and network appearance associated with the unauthorized 
point code.
Invalid load-sharing label (0x1c). This error is returned when a message is received 
containing an invalid load-sharing label.
Heartbeat Data (ID 0x0009) This parameter is sent to determine if the destination is 
reachable and will contain information originated by the sender. The contents in this 
field are only of significance to the sender and are not used by the receiver. The receiver 
of this parameter simply will echo its contents back to the sender without modification. 
Contents could be a timestamp, a sequence number, or any other data depending on 
the implementation.
Importance (0x0113) The importance parameter is used to set message priority 
(Figure 7.110). The value can be between 0 (least important) and 7 (most important).
Information String (ID 0x0004) While there are currently no defined uses for this param-
eter, the information parameter can be used for debugging purposes when employed 
with an ERR message. The parameter can be from 0 to 255 octets in length. 
Local Routing-Key Identifier (0x0018) This parameter is used to correlate the response 
of a registration request with the original registration request message. The ASP as-
signs the value and maintains this value until registration is completed successfully, at 
which time the registration response identifies the routing key.
Message Priority (0x0114) This is an optional parameter in connectionless data trans-
fer (CLDT), connectionless data response (CLDR), connection request (CORE), connec-
tion acknowledge (COAK), and connection-oriented data transfer (CODT) messages  
(Figure 7.111). This parameter is required in ANSI networks supporting priority but is 
optional in all other networks. Priority values are 0 to 3, with 0 being highest priority. 
Importance
Reserved
Tag = 0 × 0113
Length = 8
Figure 7.110 Importance parameter.
MSG Priority
Reserved
Tag = 0 × 0114
Length = 8
Figure 7.111 Message priority parameter.

290      Chapter 7
Network Appearance (0x010d) The network-appearance field in this parameter is a 32-bit 
field that identifies the network context for the routing key. The parameter is used in 
the key parameter field of the routing-key parameter. It identifies the type of SCCP user 
protocol, variant, and version used in the SS7 network. The network-appearance value is 
coordinated between the signaling gateway and the ASP but is of local significance only. 
Protocol Class (0x0115) Bits 1 and 2 signify the protocol class (Figure 7.112). The val-
ues are listed in Table 7.91.
Bit 8 indicates the return-on-error procedure supported and consists of the following 
values:
0x0 No special options 
0x1 Return message on error
Bits 3 through 7 are not used and should be set to 0.
Receive Sequence Number (0x0108) This is used in protocol class 3 to indicate acknowl-
edgment of the last received sequence number. It consists of a 7-bit field for the received 
sequence number. 
Registration Result (0x0014)  There are three main fields (besides the tag and length 
fields) in the registration result parameter:
Routing-key identifier (0x0018). This is the same value as the routing-key parameter 
used in the registration request (REG REQ) message.
Registration status (0x0016). This indicates whether the registration was successful 
or unsuccessful (see “Registration Status” below). 
Routing context (0x0006). This parameter carries the same value as the routing con-
text in the associated routing key if registration was successful. If registration was 
not successful, then the value is 0. 
TABLE 7.91 Protocol Class Field
0 
Class 0—connectionless service
1 
Class 1—connectionless service
2 
Class 2—connection-oriented service
3 
Class 3—connection-oriented service
Figure 7.112 Protocol class parameter.
Protocol Class
Reserved
Tag = 0 × 0115
Length = 8

Signaling Transport (SIGTRAN)      291
Registration Status (0x0016) This is used to indicate whether or not a registration was 
successful. The values are listed in Table 7.92.
The messages “Invalid destination address,” “Invalid network appearance,” and 
“Invalid routing key” are sent by the signaling gateway after it has determined that a 
received routing key is invalid owing to an invalid DPC, network-appearance param-
eter, or routing key. The “Unsupported message type” error is returned when the signal-
ing gateway does not support the registration procedure.
If the signaling gateway determines that it cannot create a unique routing key, it 
will return the error message “Cannot support unique routing.” This could be the case 
when an incoming message to the signaling gateway matches more than one routing 
key, for example. When the signaling gateway does not authorize a registration request, 
it returns the error “Permission denied” to the requesting entity. The error “Routing key 
currently not provisioned” is used when a message is received with a routing key that 
does not exist or has not been provisioned, and the signaling gateway does not support 
dynamic configuration. If the signaling gateway does support dynamic configuration 
but does not have enough capacity to accommodate additional entries, the signaling 
gateway will return the error “Insufficient resources.” If one or more routing-key pa-
rameters are not supported for creating a new routing-key entry, the signaling gateway 
returns the error “Unsupported routing-key parameter field.” When the message con-
tains an unsupported traffic-handling mode, the error “Unsupported traffic-handling 
mode” is used.
Routing Context (0x0006) Whenever a routing context is provided, it usually will be the 
first parameter in the message because it will define the format of parameters contain-
ing either point codes or subsystem numbers. The routing context is a list, or index, of 
traffic that is to be received by an ASP. 
When a logical connection is being made through registration, the routing keys sent 
in the registration request message will define what traffic is to be sent to which des-
tination. These become part of the routing context so that when the ASP receives the 
TABLE 7.92 Registration Status Parameter
 0 
Successfully registered
 1 
Error—unknown
 2 
Error—invalid destination address
 3 
Error—invalid network appearance
 4 
Error—invalid routing key
 5 
Error—permission denied
 6 
Error—cannot support unique routing
 7 
Error—routing key not currently provisioned
 8 
Error—insufficient resources
 9 
Error—unsupported routing-key parameter field
10 
Error—unsupported/invalid traffic mode type
11 
Error—routing-key change refused

292      Chapter 7
traffic, it is able to separate and direct multiple streams of traffic received on one as-
sociation to different ASs. 
In essence, and as described in RFC-3868, a routing context defines a range of signal-
ing traffic that the ASP is currently configured (or registered) to receive. The routing 
context will define the SS7 point-code format (national or international) and also will 
identify the network indicator value from the original SS7 message, as well as the 
SCCP protocol variant and version received from the SS7 network. 
Routing Key (0x010e) The routing-key parameter field (Figure 7.113) optionally con-
tains any of these parameters:
■ Traffic mode type
■ Network appearance
■ Source address
■ Destination address
■ Address range
SCCP Cause (0x0106) The SCCP cause is equivalent to the SCCP release cause, return 
cause, reset cause, error cause, and refusal cause parameters. There are two fields of 
significance, cause type and cause value. The cause type values for SCCP are listed in 
Table 7.93.
The cause values for ITU networks (as defined in ITU Q.713) are listed in Tables 7.94 
through 7.98.
The cause values for ANSI (as defined in ANSI T1.112.3) are listed in Tables 7.99 
through 7.103.
Local Routing-Key Identifier
Key Parameter(s)
Tag = 0 × 010e
Length
Tag = 0 × 0018
Length = 8
Figure 7.113 Routing-key parameter.
TABLE 7.93 SCCP Cause Parameter
0x01 
Return cause
0x02 
Refusal cause
0x03 
Release cause
0x04 
Reset cause
0x05 
Error cause

Signaling Transport (SIGTRAN)      293
TABLE 7.94 ITU Return Cause Values
0000 0000 
No translation for an address of such nature
0000 0001 
No translation for this specific address
0000 0010 
Subsystem congestion
0000 0011 
Subsystem failure
0000 0100 
Unequipped user
0000 0101 
MTP failure
0000 0110 
Network congestion
0000 0111 
Unqualified
0000 1000 
Error in message transport* 
0000 1001 
Error in local processing*
0000 1010 
Destination cannot perform reassembly*
0000 1011 
SCCP failure
0000 1100 
Hop counter violation
0000 1101 
Segmentation not supported
0000 1110 
Segmentation failure
0000 1111 
to 
Reserved for international use
1110 0100 
1110 0101 
to 
Reserved for national networks
1111 1110 
1111 1111 
Reserved
*Only applies to XUDT(S) message.
TABLE 7.95 ITU Refusal Cause Values 
0000 0000 
End user originated
0000 0001 
End user congestion
0000 0010 
End user failure
0000 0011 
SCCP user originated
0000 0100 
Destination address unknown
0000 0101 
Destination inaccessible
0000 0110 
Network resource—QoS not available/nontransient
0000 0111 
Network resource—QoS not available/transient
0000 1000 
Access failure
0000 1001 
Access congestion
0000 1010 
Subsystem failure
0000 1011 
Subsystem congestion
0000 1100 
Expiration of the connection establishment timer
0000 1101 
Incompatible user data
0000 1110 
Reserved
0000 1111 
Unqualified
0001 0000 
Hop counter violation
0001 0001 
SCCP failure
0001 0010 
No translation for an address of such nature
0001 0011 
Unequipped user
0001 0100 
to 
Reserved for international use
1111 0011 
1111 0100 
to 
Reserved for national networks
1111 1110 
1111 1111 
Reserved

294      Chapter 7
TABLE 7.96 ITU Release Cause Values 
0000 0000 
End user originated
0000 0001 
End user congestion
0000 0010  
End user failure
0000 0011 
SCCP user originated
0000 0100 
Remote procedure error
0000 0101 
Inconsistent connection data
0000 0110 
Access failure
0000 0111 
Access congestion
0000 1000 
Subsystem failure
0000 1001 
Subsystem congestion
0000 1010 
MTP failure
0000 1011 
Network congestion
0000 1100 
Expiration of reset timer
0000 1101 
Expiration of receive inactivity timer
0000 1110 
Reserved
0000 1111 
Unqualified
0001 0000 
SCCP failure
0001 0001 
to 
Reserved for international use
1111 0011 
1111 0100 
to 
Reserved for national networks
1111 1110 
1111 1111 
Reserved
TABLE 7.97 ITU Reset Cause Values 
0000 0000 
End user originated
0000 0001 
SCCP user originated
0000 0010 
Message out of order—incorrect P(S)
0000 0011 
Message out of order—incorrect P(R)
0000 0100 
Remote procedure error—message out of window
0000 0101 
Remote procedure error—incorrect (PS) after reinitialization
0000 0110 
Remote procedure error—general
0000 0111 
Remote end user operational
0000 1000 
Network operational
0000 1001 
Access operational
0000 1010 
Network congestion
0000 1011 
Reserved
0000 1100 
Unqualified
0000 1101 
to 
Reserved for international use
1111 0011 
1111 0100 
to 
Reserved for national networks
1111 1110 
1111 1111 
Reserved

Signaling Transport (SIGTRAN)      295
TABLE 7.98 ITU Error Cause Values 
0000 0000 
Local reference number (LRN) mismatch—unassigned destination LRN
0000 0001 
Local reference number (LRN) mismatch—inconsistent source LRN
0000 0010 
Point-code mismatch
0000 0011 
Service-class mismatch
0000 0100 
Unqualified
0000 0101 
to 
Reserved for international use
1111 0011 
1111 0100 
to 
Reserved for national networks
1111 1110 
1111 1111 
Reserved
TABLE 7.99 ANSI Return Cause Values
0000 0000  
No translation for an address of such nature
0000 0001 
No translation for this specific address
0000 0010 
Subsystem congestion
0000 0011 
Subsystem failure
0000 0100 
Unequipped user
0000 0101 
MTP failure
0000 0110 
Network congestion
0000 0111 
Unqualified
0000 1000 
Error in message transport*
0000 1001 
Error in local processing*
0000 1010 
Destination cannot perform reassembly*
0000 1011 
SCCP failure
0000 1100 
SCCP hop-counter violation
0000 1101 
Segmentation not supported
0000 1110 
Segmentation failure
0000 1111 
to 
Spare
1111 0110 
1111 0111 
Message change failure
1111 1000 
Invalid INS routing request
1111 1001 
Invalid ISNI routing request*
1111 1010 
Unauthorized message
1111 1011 
Message incompatibility
1111 1100 
Cannot perform ISNI constrained routing*
1111 1101 
Redundant ISNI constrained routing information*
1111 1110 
Unable to perform ISNI identification*
1111 1111 
Spare
*Only applicable to XUDT and XUDTS.

296      Chapter 7
TABLE 7.100 ANSI Refusal Cause Values 
0000 0000 
End user originated
0000 0001 
End user congestion
0000 0010 
End user failure
0000 0011 
SCCP user originated
0000 0100 
Destination address unknown
0000 0101 
Destination inaccessible
0000 0110 
Network resource—QoS not available/nontransient
0000 0111 
Network resource—QoS not available/transient
0000 1000 
Access failure
0000 1001 
Access congestion
0000 1010 
Subsystem failure
0000 1011 
Subsystem congestion
0000 1100 
Expiration of the connection establishment timer
0000 1101 
Incompatible user data
0000 1110 
Reserved
0000 1111 
Unqualified
0001 0000 
SCCP hop-counter violation
0001 0001 
SCCP failure
0001 0010 
No translation for an address of such nature
0001 0011 
Unequipped user
0001 0100 
to 
Spare
1111 1111 
TABLE 7.101 ANSI Release Cause Values 
0000 0000 
End user originated
0000 0001 
End user busy
0000 0010 
End user failure
0000 0011 
SCCP user originated
0000 0100 
Remote procedure error
0000 0101 
Inconsistent connection data
0000 0110 
Access failure
0000 0111 
Access congestion
0000 1000 
Subsystem failure
0000 1001 
Subsystem congestion
0000 1010 
MTP failure
0000 1011 
Network congestion
0000 1100 
Expiration of reset timer
0000 1101 
Expiration of receive inactivity timer
0000 1110 
Reserved
0000 1111 
Unqualified
0001 0000 
SCCP failure
0001 0001 
to 
Spare
1111 1111 

Signaling Transport (SIGTRAN)      297
Segmentation (0x0117) The segmentation parameter is assigned by the ASP and is 
used to reassemble a segmented message at the receiving end (Figure 7.114). The first/
remain field indicates if this is the first segment (bit 8), how many segments are re-
maining (bits 1–7), and a reference number for tracking all segments in the ASP. First/
remain bits 1–7 values are 0 to 15. First/remain bit 8 values are listed in Table 7.104.
Sequence Control (0x0116) This is used to ensure load sharing across SLS values. The 
value of this field is set to the same value as the sequence control number associated 
with the first message within a message group. 
Segmentation Reference
First/Remain
Tag = 0 × 0117
Length = 32
Figure 7.114 Segmentation parameter.
TABLE 7.102 ANSI Reset Cause Values 
0000 0000 
End user originated
0000 0001 
SCCP user originated
0000 0010 
Message out of order—incorrect P(S)
0000 0011 
Message out of order—incorrect P(R)
0000 0100 
Remote procedure error—message out of window
0000 0101 
Remote procedure error—incorrect P(S) after reinitialization
0000 0110 
Remote procedure error—general
0000 0111 
Remote end user operational
0000 1000 
Network operational
0000 1001 
Access operational
0000 1010 
Network congestion
0000 1011 
Not obtainable
0000 1100 
Unqualified
0000 1101 
to 
Spare
1111 1111 
TABLE 7.103 ANSI Error Cause Values 
0000 0000 
Local reference number mismatch—unassigned destination LRN
0000 0001 
Local reference number mismatch—inconsistent source LRN
0000 0010 
Point-code mismatch
0000 0011 
Service class mismatch
0000 0100 
Unqualified
0000 0101 
to 
Spare
1111 1111 

298      Chapter 7
Sequence Number (0x0107) The sequence number is used to ensure that each of the 
messages that have been segmented is reassembled in the proper order. There are two 
fields of significance in this parameter, the received sequence number P(R) and the sent 
sequence number P(S). The format is shown in Figure 7.115. 
The received sequence number field is a 6-bit field. The received sequence number 
will contain the value of the last received sequence number, which acknowledges all 
previous sequence numbers. In other words, the entity does not have to acknowledge 
each individual sequence number, just the last number received successfully. Bit q of 
this field is the “more” bit, indicating whether additional messages will follow. The 
“more” bit value can be 0 (no more data) or 1 (more data). The sequence number fields 
also are used to acknowledge receipt of previously sent data. 
Subsystem Multiplicity Indicator (SMI) (0x0112) The subsystem multiplicity indicator 
(SMI) parameter is formatted as shown in Figure 7.116.
Source Address (0x0102) This is the source of the message (Figure 7.117). The address 
can consist of any of several variations depending on the values of all three of the pa-
rameter fields as discussed below.
TABLE 7.104 Segmentation Parameter Values
0 
Not first segment
1 
First segment
Sequence Control
Figure 7.115
SMI
Reserved
Tag = 0 × 0112
Length = 8
Figure 7.116 Subsystem multiplicity indicator (SMI) parameter.
Address Parameter(s)
Parameter Tag = 0 × 0102
Parameter Length
Routing Indicator
Address Indicator
Figure 7.117 Source address parameter.

Signaling Transport (SIGTRAN)      299
Routing indicator. This indicates the address to use for routing of the message and 
therefore will dictate what addresses must be present in the source address. Values 
are listed in Table 7.105.
Address indicator. This is used for SS7 interworking. The value of this parameter 
identifies which address parameters are either received from the SS7 message 
in the case of messages from the signaling gateway to an ASP or included in the 
message back to the SS7 network in the case of messages from an ASP to the sig-
naling gateway.
Address parameter(s). This contains the actual address information depending on 
how the message is to be routed. If the message is to be routed based on global title, 
then the global title digits are used. A point code and/or subsystem number are 
optional. If routing is based on point code and subsystem number, then the sub-
system number is given. A point code and/or global title digits are optional. When 
the signaling gateway is sending a message to an ASP, a point code is mandatory. 
If the routing is to be based on hostname, then the hostname will be provided. 
The subsystem number also can be provided but is optional. When routing on IP 
address and subsystem number, then the subsystem number is provided. The IP 
address is optional.
The meaning of address indicator parameter depends on the direction of the mes-
sage. If the message is coming from the SS7 network (signaling gateway to an ASP), 
then the address indicator will identify where the address parameters were derived. 
For example, if a point code is present in the destination address field and bit 2 is set 
to 0, this indicates that the destination address was derived from MTP3 routing label 
and not the SCCP called-party address. If the message is traveling from an ASP to the 
signaling gateway (destined back to the SS7 network), then the address indicator will 
identify what address parameters should be included in the SCCP called-party address. 
The values for the address indicator are
■ Bit 1. This indicates whether the SSN should be included in the SCCP address:
 
 
0 = Do not include SSN when optional
 
 
1 = Include SSN when optional
■ Bit 2. This indicates whether the point code should be included in the SCCP address:
 
 
0 = Do not include the point code regardless of the routing indicator value
 
 
1 = Include the point code
TABLE 7.105 Routing Indicator Field Values
0 
Reserved
1 
Route on global title
2 
Route on SSN and point code
3 
Route on hostname
4 
Route on SSN and IP address

300      Chapter 7
■  Bit 3. This indicates whether the global title should be included in the SCCP  
address:
 
 
0 = Do not include the global title when optional
 
 
1 = Include the global title
All remaining bits are set to zero.
Source Reference Number (0x0104) The source reference number is a unique number 
assigned by the source of the SUA message and is used to identify each individual SUA 
message. The number is of significance only to the source.
SS7 Hop Counter (0x0101) The hop counter is used to detect circular routing  
(Figure 7.118). Each time a global title is performed, this counter is decremented by 
one. When the counter hits zero, the message is rejected, and an error message is re-
turned to the originator. 
Status (ID 0x000D) Status is used by the signaling gateway to notify an ASP of a 
change in status associated with a specific AS or to notify an ASP of a requirement for 
additional resources. The signaling gateway also will use status to notify the ASP when 
an alternate ASP transitions from override mode into ASP ACTIVE mode. It consists 
of four fields: parameter tag field, parameter length field, status type field, and status 
identifier field (Table 7.106).
The inactive state means that no ASPs are in active state, and therefore, the AS has 
stopped receiving application traffic. Active state means that the AS is running and pro-
cessing application traffic and that at least one associated ASP is in active state as well. 
AS pending means that the last active ASP has transitioned from active to inactive 
or down status. A recovery timer is started, and the signaling gateway queues all in-
coming traffic for this AS. The AS moves to the inactive state when the recovery timer 
SS7 Hop Counter
Reserved
Parameter Tag = 0 × 0101
Parameter Length = 8
Figure 7.118 SS7 hop counter.
TABLE 7.106 Status Type and Identifier Values 
Status Type Field
1 
AS state change
2 
Other
Status Identifier Field
1 
Reserved
2 
AS inactive
3 
AS active
4 
AS pending

Signaling Transport (SIGTRAN)      301
expires (provided there is at least one ASP in the inactive state). If not, then the AS is 
placed in DOWN state. 
These are used whenever the status type value is 1 (AS state change). If the status 
type field value is 2 or other, then the following status identifier fields are applicable:
Insufficient ASP resources (1). The signaling gateway uses this to notify the inactive 
ASP that insufficient resources are available and that another ASP is required to 
handle the current traffic load. 
Alternate ASP active (2). The signaling gateway uses this to notify the ASP that an 
alternate ASP has changed to ASP active. This is used only when the traffic mode 
type is override mode. 
ASP failure (3). The signaling gateway uses this to notify another ASP of an ASP 
failure.
Transaction ID Label (0x0110) While the start and end fields identify the start and end 
points of the transaction ID (TID) label in an AS, the label value field is a 16-bit identi-
fier that is unique within one AS. This is used by the signaling gateway to determine 
how to route the incoming message (Figure 7.119).
When messages do not contain a destination (e.g., query, begin, unidirectional) and 
are load shared across multiple ASPs, the TID is used to associate the message with 
the appropriate ASP. 
Traffic Mode Type (0x000B) This parameter is used to identify the traffic mode for a 
specific ASP depending on the configuration of the network and the implementation of 
the AS. There are three modes of operation:
■ Override
■ Load share
■ Broadcast
In override mode, the ASP is operating in primary mode, assuming control of all traf-
fic for the AS. In load-share mode, the ASP is operating in a distributed mode, where 
all traffic is evenly distributed between the active ASPs. In broadcast mode, the ASP is 
copied on all traffic sent to other ASPs currently active in the AS.
The actual algorithm for selecting an ASP depends on implementation and is not de-
fined in the SUA standards. There are a number of possibilities for this, including a round-
robin approach or using the SLS from the SS7 network as part of the selection criteria.
Label Value
End
Start
Parameter Tag = 0 × 0110
Parameter Length = 8
Figure 7.119 TID label. 

302      Chapter 7
User/Cause (0x010c) The user/cause parameter consists of the user field and the cause 
field (Figure 7.120). The user field contains the SCCP IS value. The cause field values 
are listed in Table 7.107.
SCTP
The Stream Control Transmission Protocol (SCTP) was developed as an alternative 
to the Transmission Control Protocol (TCP). The existing TCP does not suit real-time 
applications very well and is subject to various forms of network attacks. When used 
for applications such as voice, the delays are such that users find it more than annoy-
ing. In many cases, TCP is just unusable. For this reason, the IETF created a new peer 
protocol to TCP, the SCTP. 
SCTP can be found in RFC-2960 at the IETF Web site for those who want more de-
tailed descriptions of the various procedures, as well as the primitives that are engaged 
during those procedures. The intent here is to identify the various parameters used 
within the SCTP so that those working on SIGTRAN links can understand how the 
protocol works and what the various values mean.
SCTP is a connection-oriented protocol and is used to establish associations with 
other SCTP entities, as well as to tear down those associations. SCTP also provides
■ Acknowledged delivery
■ Segmentation and reassembly
■ Sequenced delivery
■ Bundling of multiple messages into one SCTP message
■ Congestion control
■ Resistance to flooding/masquerade attacks
TABLE 7.107 User/Cause Parameter
0 
Remote SCCP unavailable—reason unknown
1 
Remote SCCP unequipped
2 
Remote SCCP inaccessible
Parameter Tag = 0 × 010c
Parameter Length = 8
Cause
User
Figure 7.120 User/Cause Parameter.

Signaling Transport (SIGTRAN)      303
A unique benefit of SCTP is its ability to conform to the bandwidth available for 
any given path through fragmentation. It also can bundle multiple messages into one 
packet as another step toward eliminating congestion and using available bandwidth. 
SCTP uses streaming and is capable of receiving bit streams rather than full-byte 
streams as TCP does. 
For security, SCTP uses a four-way handshake mechanism that incorporates the use 
of a cookie during the handshake. This method prevents attacks from someone injecting 
messages into the network toward an already established association. 
A verification tag is added to the initiation process and is used to prevent arbitrary 
packets from entering into the network. This verification tag is a serial number of sorts 
that is assigned by both parties during initiation of the association and must be found 
correctly in all packets received over that association. Because this tag is only known 
by the two endpoints, it is not possible to insert additional packets arbitrarily toward 
an already established association. 
SCTP breaks user data into chunks and then transmits these chunks as streams 
within an SCTP packet. Each SCTP packet can have multiple chunks, and these chunks 
can be of various types, as defined below. Not all chunks are user data. Chunking al-
lows user messages to be sent in multiple SCTP packets along with other user data. 
Think of these as user data segments that are numbered within the SCTP packet for 
identification.
Path management allows SCTP to manipulate the transmission path (or route) 
based on SCTP user instructions, as well as availability (or perceived availability) of 
the destination. When no messages are being received, a heartbeat is sent to determine 
path status and availability. A primary path is determined at association startup and is 
used throughout the association until the association is released. Path management is 
also responsible for verifying that any messages received belong to a valid association 
or connection.
As seen in Figure 7.121, the SCTP packet consists of a header, followed by a chunk 
type and chunk value. The various chunk types will be defined later, but first we will 
examine the SCTP header itself. 
Source Port Number
Destination Port Number
Verification Tag
Checksum
Chunk Value
Chunk Type
Chunk Flags
Chunk Length
Figure 7.121 SCTP packet with header.

304      Chapter 7
Message Formats
The SCTP message header is found in all SCTP messages and consists of the following 
parameters:
Source port number (16 bits). This identifies the port from which the SCTP packet 
was sent. This parameter can be used in conjunction with the source IP address, 
the SCTP destination port, and sometimes even the destination IP address to 
identify which association this packet belongs to. 
Destination port number (16 bits). This identifies the destination port to which the 
SCTP packet is to be sent. The receiver then will send this packet to the appropri-
ate application based on this port number. 
Verification tag (32 bits). This field prevents someone from injecting messages into al-
ready established associations because the verification tag will be unknown in such 
cases. The value of this parameter is set to the value of the initiation tag that was 
received during initialization of the association. There are exceptions to this rule:
 
■ The INIT chunk always must have a verification tag with a value of 0.
 
■  When SHUTDOWN COMPLETE is sent, the verification tag must be the same 
as the value in the SHUTDOWN ACKNOWLEDGMENT if the T-bit is set.
 
■  When sending an ABORT, SCTP may use the verification tag value from the 
chunk that caused the ABORT to occur.
Checksum (32 bits). The checksum is calculated based on the Adler-32 algorithm, 
which is beyond the scope of this book. RFC-2960 will provide more details on how 
this algorithm works.
Chunk type (8 bits). This field identifies the type of chunk(s) contained in the follow-
ing chunk fields. Chunk fields consist of a chunk type, chunk length, and chunk 
value fields. For each SCTP packet, there can be multiple chunks. Each chunk will 
be identified starting with the chunk type field. These are explained below. 
Chunk Types See Table 7.108. If a chunk type is not recognized, the highest order of 
bits is used to determine how to handle the packet. If the values are:
■ 00 =  Stop processing the SCTP packet, discard it, and do not process any other 
chunks within the SCTP packet.
■ 01 =  Stop processing the SCTP packet, discard it, do not process any other chunks 
within the SCTP packet, and report the unrecognized parameter.
■ 10 =  Skip this chunk but continue processing other chunks within the same SCTP 
packet.
■ 11 =  Skip this chunk but continue processing other chunks. Report an error using 
the ERROR chunk type.

Signaling Transport (SIGTRAN)      305
Some chunks also use variable length parameters. These are added to the chunk 
fields immediately following the chunk value. The variable parameters also follow the 
format of type, length, and value. All fixed and variable parameters are defined sepa-
rately from the chunk types below because some of these parameters can be used in 
multiple chunk types. 
DATA (User Data) The DATA chunk uses the format seen in Figure 7.122. It is used to 
send user data to an endpoint. It uses the following fields:
Mandatory fixed parameters
■ Chunk type = 0
■ Reserved (5 bits).  This is set to all zeroes and is ignored by the receiver. 
■  U bit (1 bit). This is referred to as the Unordered bit. If the value is 1, then this is an 
unordered DATA chunk. There is no stream sequence number. The receiver ignores 
the stream sequence number field. No attempt is made to send these chunks in any 
form of order (reorder is not supported because there is no means of determining 
the order). 
Stream Identifier
Stream Sequence Number
Payload Protocol Identifier
User Data
Type = 0
Reserved
TSN
Length
U B E
Figure 7.122 Payload data format.
TABLE 7.108 Chunk Types
 0 
Payload data
 1 
Initiation (INIT)
 2 
Initiation acknowledgment (INIT ACK)
 3 
Selective acknowledgment (SACK)
 4 
Heartbeat request (HEARTBEAT)
 5 
Heartbeat acknowledgment (HEARTBEAT ACK)
 6 
Abort (ABORT)
 7 
Shutdown (SHUTDOWN)
 8 
Shutdown acknowledgment (SHUTDOWN ACK)
 9 
Operation error (ERROR)
10 
State cookie (COOKIE ECHO)
11 
Cookie acknowledgment (COOKIE ACK)
12 
Reserved for explicit congestion notification echo (ECNE)
13 
Reserved for congestion window reduced (CWR)

306      Chapter 7
■  B bit (1 bit). This is the Beginning bit, indicating the beginning of a fragmented 
user message, or the first fragment. 
■  E bit (1 bit). The Ending bit indicates the last fragment of a fragmented user chunk 
(if the value is set to 1). 
■ Chunk length (16 bits)
■ Transmission sequence number (TSN) (32 bits)
■ Stream identifier (16 bits)
■ Stream sequence number (16 bits)
■ Payload protocol identifier (32 bits)
■ User data (variable)
If the B and E bits are both set to the value of 1, then the chunk is not fragmented. If 
both the B and E bits are set to zero, the chunk is the middle portion of a fragmented 
chunk. In other words, in the first fragment the B bit is set to 1 and the E bit is set to 0, 
in subsequent chunks the B and E bits are both set to 0, and on the last fragment the 
B bit is set to 0 and the E bit is set to 1. 
INIT (Initiation) This is used to initiate an SCTP association between two endpoints 
(Figure 7.123 and Table 7.109).
INIT ACK (Initiation Acknowledgment) This is used to acknowledge an INIT chunk. It 
uses two additional variable parameters, the state cookie and the unrecognized param-
eter. The format for the INIT ACK is the same, then, as the INIT for the exception of 
these two additional parameters (Table 7.110).
If the value of the initiate tag is 0, it is treated as an error, and the receiver closes the 
association and returns an ABORT message.
SACK (Selective Acknowledgment) This is used to acknowledge transmission sequence 
number (TSNs) received sequentially up to a break in the sequence (Figure 7.124).  
Type – 1
Chunk Flags
Chunk Length
Number of Outbound Streams
Number of Inbound Streams
Initiate Tag
Initial TSN
Optional/Variable Length Parameters
Advertised Receiver Window Credit
Figure 7.123 INIT chunk format.

Signaling Transport (SIGTRAN)      307
For example, if eight chunks have been received and their TSN values are all sequen-
tial, the SACK will be sent with a cumulative TSN parameter indicating the last TSN 
received sequentially. All others have yet to be received in sequence.
If there is a gap in TSN sequences, but then another block of chunks is received 
sequentially, that block of TSNs can be acknowledged using the gap acknowledgment 
blocks. These parameters acknowledge receipt of additional chunks that are in sequence 
following a break in sequence. 
If duplicate TSNs have been received, these are also identified within the SACK. If, 
for example, TSN 19 is received three times, then the number of duplicate TSNs would 
be set to 2, and there would be two parameters in the duplicate TSN fields with a value 
of TSN 19. The fields are listed in Table 7.111.
HEARTBEAT (Heartbeat Request) This is sent when the sender wishes to determine the 
reachability of the destination. It is sent to a specific transport address, and the sender  
TABLE 7.110 Initiation Acknowledgment Parameters
Chunk type = 2 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Initiate tag (32 bits) 
Mandatory
Advertised receiver of window credit (32 bits) 
Mandatory
Number of outbound streams (16 bits) 
Mandatory
Number of inbound streams (16 bits) 
Mandatory
Initial TSN (32 bits) 
Mandatory
State cookie (variable) 
Optional 
IPv4 address (32 bits) 
Optional
IPv6 address (128 bits) 
Optional
Unrecognized parameters (variable) 
Optional
Reserved for ECN capable (variable) 
Optional
Hostname address (variable) 
Optional
TABLE 7.109 INIT Chunk Parameters
Chunk type = 1 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Initiate tag (32 bits) 
Mandatory
Advertised receiver of window credit (32 bits) 
Mandatory
Number of outbound streams (16 bits) 
Mandatory
Number of inbound streams (16 bits) 
Mandatory
Initial TSN (32 bits) 
Mandatory
IPv4 address (32 bits) 
Optional
IPv6 address (128 bits)  
Optional
Cookie preservative (variable) 
Optional
Reserved for ECN capable (variable) 
Optional 
Hostname address (variable) 
Optional
Supported address types (variable) 
Optional 

308      Chapter 7
expects an acknowledgment in return. The information field contains a parameter that only 
the sender will understand, preventing possible spoofing by a destination (Table 7.112).
HEARTBEAT ACK (Heartbeat Acknowledgment) This is sent in response to a HEARTBEAT 
request. It is always sent to the IP source address sent in the HEARTBEAT request 
(Table 7.113).
ABORT (Abort Association) This is used to abort an association in the event of a cata-
strophic failure. During an ABORT, all packets in the queue are discarded, and the 
association is closed. The ABORT also will contain cause codes to identify the reason 
the association was closed (Table 7.114).
TABLE 7.111 Selective Acknowledgment Parameters
Chunk type = 3 
Mandatory 
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Cumulative TSN acknowledgment (32 bits) 
Mandatory
Advertised receiver window credit (32 bits) 
Mandatory
Number of gap acknowledgment blocks (16 bits) 
Mandatory
Number of duplicate TSNs (16 bits) 
Mandatory
Gap acknowledgment block start (16 bits) 
Mandatory
Gap acknowledgment block end (16 bits) 
Mandatory
Duplicate TSN (32 bits) 
Mandatory
Type – 3
Chunk Flags
Chunk Length
Number of Gap Acknowledgment Blocks = n
Number of Duplicate TSNs = X
Gap Acknowledgment Block #1 Start
Gap Acknowledgment Block #1 End
Gap Acknowledgment Block #N Start
Gap Acknowledgment Block #N End
Cumulative TSN Ack
---------------------------------
---------------------------------
Duplicate TSN 1
Duplicate TSN X
Advertised Receiver Window Credit
Figure 7.124 SACK format. 

Signaling Transport (SIGTRAN)      309
The T bit is used to indicate that a transmission control block was destroyed. If the 
value is 0, then a control block was destroyed. If the value is 1, then no control block 
was destroyed. 
SHUTDOWN (Shutdown Association) This is used to gracefully shut down an associa-
tion. This is different from an ABORT in that the shutdown is a normal release of the 
connection (or association). Any packets in queue will be delivered to their respective 
destinations prior to the association closure. Once a SHUTDOWN has been received, 
only the packets in the queue will be accepted by either entity. This is unlike TCP, where 
halfway connections are supported. A SHUTDOWN means that each peer will stop ac-
cepting new data and that only data in the queue will be delivered (Table 7.115). 
The cumulative TSN acknowledgment cannot be used in place of the SACK chunk. 
This can be used only to acknowledge received chunks prior to closing the association. 
SHUTDOWN ACK (Shutdown Acknowledgment) This is sent in response to a SHUTDOWN 
to indicate closure of an association (Table 7.116).
ERROR (Operation Error) This chunk is sent in response to an error but does not indi-
cate a fatal error. If there is a fatal error requiring closure of an association, then the 
ERROR chunk is sent in conjunction with an ABORT (Table 7.117).
TABLE 7.112 Heartbeat Request Parameters 
Chunk type = 4 
Mandatory 
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Heartbeat information type = 1 
Mandatory
Heartbeat information length (16 bits) 
Mandatory
Heartbeat information (variable) 
Mandatory
TABLE 7.113 Heartbeat Acknowledgment Parameters 
Chunk type = 5 
Mandatory 
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Heartbeat information type (variable) 
Mandatory
Heartbeat information length (variable) 
Mandatory
Heartbeat information (variable) 
Mandatory
TABLE 7.114 Abort Parameters
Chunk type = 6 
Mandatory
Reserved (7 bits) 
Mandatory
T bit (1 bit) 
Mandatory
Chunk length (16 bits) 
Mandatory
Error causes (0 or more) 
Mandatory

310      Chapter 7
COOKIE ECHO (Cookie Echo) This is used only during initialization of an association 
as part of the initialization process. Therefore, this chunk always must be sent prior 
to sending any DATA chunks. It can be bundled with a DATA chunk as long as this 
chunk is received first. The use of a cookie during the initialization process ensures 
that resources are not allocated until a handshake has been completed between the 
two endpoints (Table 7.118). The cookie value must be the same as the cookie received 
in the state cookie parameter of the previous INIT ACK chunk.
COOKIE ACK (Cookie Acknowledgment) This is used during initialization of an associa-
tion and must be received prior to any DATA or SACK chunk. It is used to acknowledge 
receipt of a COOKIE ECHO chunk (Table 7.119).
SHUTDOWN COMPLETE (Shutdown Complete) This is used to acknowledge receipt of 
the SHUTDOWN ACK and is sent at completion of a shutdown (Table 7.120). The 
T bit is set only if a transmission control lock was destroyed by the sender. If no control  
block was destroyed, this bit should equal 1.
TABLE 7.115 Shutdown Parameters
Chunk type = 7 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (8 bits) 
Mandatory
Cumulative TSN acknowledgment (32 bits) 
Mandatory
TABLE 7.116 Shutdown ACK Parameters
Chunk type = 8 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
TABLE 7.117 Error Parameters 
Chunk type = 9 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Error causes (variable) 
Mandatory
Cause code (16 bits) 
Mandatory
Cause length (16 bits) 
Mandatory
Cause specific information (variable) 
Mandatory
TABLE 7.118 Cookie Echo Parameters 
Chunk type = 10 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
Cookie (variable) 
Mandatory

Signaling Transport (SIGTRAN)      311
Fixed Parameter Definitions
Chunk Flags (8 Bits) The chunk type defines the value of this field. Unless specified, 
the value will be 0 and is ignored on receipt.
Chunk Length (16 Bits) Length includes the chunk type, chunk flags, chunk length, and 
chunk value fields in bytes. If the chunk value field is empty or has a value of 0, the 
length then will be a value of 4 bytes. 
Chunk Value (Variable) This has multiple of 4 bytes (including the type, length, and 
value fields). The sender pads the remaining portions of the chunk value with zeroes to 
ensure the multiples of 4 bytes. 
Transmission Sequence Number (TSN)  The TSNs are used to reassemble fragmented 
messages. SCTP uses a TSN for each user data fragment or unfragmented message. The 
TSN is not the same as the stream sequence number, which is assigned to each stream.
Length (16 bits). This indicates the length of the DATA chunk (in bytes) from the 
beginning of the type field to the end of the user data field (excluding padding). 
(This is how the receiver knows where the padding begins.)
Transmission sequence number (TSN) (32 bits). This is used for reassembling frag-
mented chunks. The value must be assigned sequentially by the sender, and when 
the maximum value is reached (4,294,967,295, or 2**32 – 1), then the TSN is reset 
to 0 (and begins again). 
Stream identifier (16 bits). This is used to track the stream to which the user data 
that follows belongs. This is used to reassociate fragmented streams and chunks 
with their appropriate streams. 
Stream sequence number (16 bits). When fragmentation occurs, this field will identify 
the sequence within a stream to which a fragmented message belongs. The same 
stream sequence number is carried in each of the fragmented messages so they 
can be rebuilt during reassembly. 
TABLE 7.119 COOKIE ACK Parameters 
Chunk type = 11 
Mandatory
Chunk flags (8 bits) 
Mandatory
Chunk length (16 bits) 
Mandatory
 TABLE 7.120 SHUTDOWN COMPLETE Parameters
Chunk type = 14 
Mandatory
Reserved (7 bits) 
Mandatory
T bit (1 bit) 
Mandatory
Length (16 bits) 
Mandatory

312      Chapter 7
Payload protocol identifier (32 bits). The upper-layer application uses this field to 
specify what protocol is being used at the upper layer. It is not used by SCTP. It 
can be used by network entities to determine what the payload contains. 
User data (variable length). The length of this field is always in multiples of  
4 bytes, and the sender will pad the remaining bits with all zeroes.
Initiate Tag (32 Bits) This is sent to the receiver, which then uses this in the verification 
tag field of each message it sends during the association or as long as the association 
is connected. The value can be anything other than 0.
Advertised Receiver Window Credit (32 Bits) This is the dedicated buffer space that 
the sender of the INIT has set aside for the association. It should never decrement or 
decrease throughout the duration of the association. 
Number of Outbound Streams (16 Bits)  This identifies the number of outbound streams 
the sender of the INIT will be sending.
Number of Inbound Streams (16 Bits) This is the maximum number of streams the 
sender will allow from the other end of the association. There is actually no negotiation 
between the two endpoints for the number of streams. The two endpoints will use the 
minimum, as explained below. 
Initial TSN (32 Bits) This identifies the initial TSN the sender will use. 
Cumulative TSN Acknowledgment (32 Bits) This contains the last TSN received in se-
quence (prior to a break in the sequence). 
Number of GAP Acknowledgment Blocks (16 Bits) This indicates how many GAP ac-
knowledgment blocks are contained in this SACK. GAP ACK blocks are used to identify 
subsequent TSNs that were received sequentially after a break in the sequence.
Number of Duplicate TSNs (16 Bits) This indicates how many duplicate TSNs were re-
ceived. The duplicate TSNs will be identified in the duplicate TSN parameter following 
the GAP ACK block list.
Gap Ack Block Start (16 Bits) This contains the start offset of a sequential block. To 
determine the actual TSN, add this number to the cumulative TSN acknowledgments. 
The start and end parameters together indicate a sequence of chunks that were re-
ceived successfully.
Gap Ack Block End (16 Bits) This contains the end offset of a sequential block. To deter-
mine the actual TSN, add this number to the cumulative TSN acknowledgments. The 
start and end parameters together indicate a sequence of chunks that were received 
successfully. 

Signaling Transport (SIGTRAN)      313
Duplicate TSN (32 Bits) Each time a duplicate TSN is received, it is listed in this pa-
rameter. If the same TSN is received multiple times, it is listed here multiple times 
corresponding to the number of duplicates that were received. For example, if the TSN 19 
were received three times, it would be listed here as a duplicate two times. This param-
eter is reset to zero after each SACK transmission.
Stream Identifier (16 Bits) This identifies the stream to which the data belong.
Stream Sequence Number (16 Bits) This is the sequence number for the stream within 
the identified stream identifier. When fragmentation and reassembly are used, this 
sequence number is used to make sure that fragmented streams are reassembled cor-
rectly by the receiver. Therefore, this value must be the same for all fragments of the 
same messages. 
Payload Protocol Identifier (32 Bits) This is specified by the upper layers, and therefore, 
the actual values are not defined in the RFC. The IETF has elected to allow standard-
ization of this parameter to be defined by other entities. The purpose of this field is to 
identify the protocol used within the payload so that the upper layer (the application) 
can decode the message properly. 
Variable Parameter Definitions
IPv4 Address (32 Bits) This is the IPv4 address. There can be multiple addresses us-
ing both IPv4 and IPv6 formats in one INIT chunk. Multiple addresses are used when 
multihoming is employed. 
■ Type = 5
■ Length = 8
■ IPv4 address (32 bits)
This also will become the source address field of the IP datagram during the duration 
of this association (in combination with the source port number in the SCTP common 
header). 
In some cases, the IP addresses do not have to be present in the INIT chunk. For 
example, to get an INIT to cross through a Network Address Translation (NAT) box, 
these fields may be deleted. In this case, the source address of the IP datagram must 
be used for routing. 
IPv6 Address (128 Bits) This is the IPv6 address. There can be multiple addresses using 
both IPv4 and IPv6 formats in one INIT chunk.
■ Type = 6
■ Length = 20
■ IPv6 address (128 bits)

314      Chapter 7
Cookie Preservative The sender of the INIT may use this to suggest to the receiver a 
longer life-span for the state cookie. The value consists of a length field and the sug-
gested cookie life-span increment in milliseconds. This is used when a previous attempt 
to initialize an association failed owing to a problem with the cookie. It can be ignored 
by the receiver for security.
■ Type = 9
■ Length = 8
■ Suggested cookie life-span increment (32 bits)
Hostname Address This is used to send the hostname instead of an IP address. The 
receiver then resolves this hostname into an IP address. This is used to make sure that 
the INIT chunk can get through firewalls and NAT boxes, for example. The hostname 
address consists of a length field and the hostname itself. 
If a hostname address is sent with the INIT ACK, all other addresses are ignored. 
Only one hostname address can be provided in the INIT ACK. This is used as an alter-
native to routing by IP address in the case where NATs and firewalls are used. 
■ Type = 11
■ Length (variable)
■ Hostname (variable)
Supported Address Types This parameter consists of a length field and multiple ad-
dress type fields. The supported address types are IPv4, IPv6, etc. Each possesses its 
own unique value (e.g., IPv4 = 5, IPv6 = 6, etc.). 
■ Type = 11
■ Length = (16 bits)
■ Address type 1 (16 bits)
■ Address type 2 (16 bits)
State Cookie The state cookie contains all the state and parameter information neces-
sary to establish an association, as well as a message authentication code (MAC). 
■ Type = 7
■ Length = (variable)
■ Cookie value 
Unrecognized Parameters When the receiver of an INIT cannot determine a 
parameter(s), it uses this parameter to return the unknown parameter, its length field, 
and its type field to the sender.

Signaling Transport (SIGTRAN)      315
■ Type = 8
■ Length = (variable)
■ Parameter value
Heartbeat Information This is used in both the HEARTBEAT request and HEARTBEAT 
acknowledgment chunks. The information parameter contains a set of data known only 
to the sender, including information about the time the request was sent and the des-
tination address to which it was sent. The HEARTBEAT acknowledgment will return 
this parameter exactly the way it was received. 
Cause Code (16 Bits) The cause code fields define the error type in an ABORT or an 
ERROR chunk. Values are listed in Table 7.121.
■  Cause length (16 bits). This includes the cause code, length, and cause-specific 
information fields.
■  Cause-specific information fields (variable). This field contains the specifics regard-
ing an error condition. These cause codes are used with the ABORT and ERROR 
chunk types. The values are based on each cause code as follows:
Invalid stream identifier. This means that the endpoint received a DATA chunk 
directed to a nonexistent stream. It consists of the following fields:
■ Cause code = 1
■ Cause length = 8
■ Stream identifier (16 bits)
■ Reserved (16 bits)
  The stream identifier contains the identification of the invalid stream to which the 
DATA chunk was sent. The reserved parameter is set to all zeroes on transmit and 
is ignored by the receiver.
TABLE 7.121 Cause Code Values
 1 
Invalid stream identifier
 2 
Missing mandatory parameter
 3 
Stale cookie error
 4 
Out of resources
 5 
Irresolvable address
 6 
Unrecognized chunk type
 7 
Invalid mandatory parameter
 8 
Unrecognized parameters
 9 
No user data
10 
Cookie received while shutting down

316      Chapter 7
Missing mandatory parameter. This indicates that one or more parameters are 
missing from a received INIT or INIT ACK. 
■ Cause code = 2
■ Cause length (variable)
■  Number of missing parameters (32 bits). This indicates how many parameters 
are identified in the cause-specific information field.
■  Missing parameter type (16 bits). Each field contains the type number for each 
missing mandatory parameter. There can be multiple of these, one for each 
missing parameter.
Stale cookie error. This indicates that a received valid state cookie has expired. 
■ Cause code = 3
■ Cause length = 8
■  Measure of staleness (32 bits). This indicates in microseconds the difference  
between the current time and the time that the cookie expired. 
Out of resources. This indicates that the sender is out of resources and usually is 
sent in conjunction with an ABORT. Also can be sent as a parameter within an 
ABORT.
■ Cause code = 4
■ Cause length = 4
Unresolvable address. This indicates that the address cannot be resolved by the  
receiver (not supported). Can be used as part of an ERROR with an ABORT or 
sent within an ABORT. 
■ Cause code = 5
■ Cause length (variable)
■ Unresolvable address
■  The address consists of the address type, length, and the value of the address 
or the host name parameter.
Unrecognized chunk type. If the upper layers of the chunk type are set to 01 or 11 
or the receiver does not understand the chunk received, this is returned. 
■ Cause code = 6
■ Cause length (variable)
■  Unrecognized chunk. This contains the unrecognized chunk, including the 
chunk type, flags, and length.
Invalid mandatory parameter. This is sent by the receiver when the mandatory  
parameters of either an INIT or INIT ACK chunk are set to an invalid value. 
■ Cause code = 7
■ Cause length = 4

Signaling Transport (SIGTRAN)      317
Unrecognized parameters. This is sent when the receiver cannot recognize one or 
more optional parameters in the INIT ACK chunk.
■ Cause code = 8
■ Cause length (variable)
■  Unrecognized parameter. This contains the unrecognized parameter, includ-
ing the type, length, and parameter value fields as copied from the INIT ACK. 
This usually will be used bundled with the COOKIE ECHO chunk when 
responding to an INIT ACK, but only if the sender wishes to identify unrec-
ognized parameters.
No user data. This is sent when a DATA chunk is received without any user data. 
This is normally sent in an ABORT chunk.
■ Cause code = 9
■ Cause length = 8
■  TSN value (32 bits). This contains the TSN of the DATA chunk that is being 
reported in error.
Cookie received while shutting down. This is sent when a COOKIE ECHO is sent 
while an association is shutting down. It is usually sent as part of an ERROR 
chunk bundled with a retransmitted SHUTDOWN ACK.
■ Cause code = 10
■ Cause length = 4


Chapter
8
ISDN User Part (ISUP)
The ISDN User Part (ISUP) has been used in U.S. networks for many years now as an 
alternative to the European equivalent, the Telephone User Part (TUP). In early imple-
mentations of Signaling System 7 (SS7), TUP was found to be far too limited for the scope 
of North American networks and was modified to align with the future services of the 
Integrated Services Digital Network (ISDN) and many other network features still under 
development. Today, many of those features are under implementation, and the SS7 net-
work is being used more and more. However, much of its potential is still untapped.
ISUP has been a good protocol for circuit-related messages but is already under 
modification to support new broadband services soon to be offered by major telephone 
companies. The new broadband services being offered for tomorrow’s networks will 
require a new version of ISUP called broadband ISUP (BISUP).
The ISUP is used to set up and tear down all circuits used for data or voice calls in 
the Public Switched Telephone Network (PSTN). In addition to its use in the PSTN, 
ISUP also can be found in wireless networks for establishing trunk connections be-
tween switching centers. ISUP is not used widely throughout the world; in fact, the 
United States was the first to adopt ISUP for use in its networks. The International 
Telecommunications Union (ITU) is currently developing an international version of 
ISUP, which will be used in the international plane. Other countries use ISUP’s pre-
decessor, the TUP.
TUP does not offer the same services and capabilities as ISUP, which was designed 
with the ISDN in mind and is fully compatible with the signaling in ISDN. It was for 
this reason that ISUP quickly replaced TUP in U.S. networks. In fact, the TUP is con-
sidered almost obsolete for those wanting to offer more control over their circuits. TUP 
is good for physical circuit connections but is not capable of handling virtual circuits, 
which are permanent in digital networks.
Another shortcoming of the TUP is its incapability to support bearer circuits. In a 
digital network, there are both physical and logical circuits that depend on the amount 
of data being sent by the user. This bearer traffic determines how many virtual cir-
cuits will be needed to accommodate the data. The ISUP provides the mechanisms for  
319

320      Chapter 8
supporting bearer traffic but does not fully support broadband signaling, which uses a 
different scheme altogether.
Additional work is currently underway to accommodate the new broadband services 
to be offered by the telephone companies. Asynchronous Transfer Mode (ATM) and 
BISDN are making their way into the PSTN, replacing the existing DS3 and DS1 fa-
cilities that were used for so many years between exchanges. These new facilities will 
bring new configuration parameters and choices to be made by the protocol.
Support of BISDN (which will become the subscriber interface to the broadband net-
work) through the SS7 network is accommodated by a new signaling protocol—BISUP. 
Many similarities exist between ISUP and BISUP; in fact, the same procedures and 
message types are used in both. The exception in BISUP lies in additional message 
types and changes in how circuits will be assigned to a call connection.
Another fundamental difference being introduced with broadband signaling is the 
advent of fully associated signaling rather than quasi-associated signaling. Fully as-
sociated signaling is accomplished by using the same path as the voice circuit, such as 
would be the case when a channel from a DS3 circuit is used for signaling, and the other 
channels are used for voice and data. Once ATM has been deployed in the telephone 
networks, SS7 will be sent through the ATM network along with the voice and data.
This will work just fine and accomplishes the same task as quasi-associated sig-
naling, which relies on signal transfer points (STPs) to relay the messages from the 
originating exchange to the destination exchange. ATM will not eliminate the need for 
SS7 networks, but it will change the protocols and add additional functions. Signaling 
ATM adaptation layer (SAAL) will eliminate Message Transfer Part (MTP) level 2, for 
example, on ATM links.
The STP will not disappear, but its role may change somewhat. The STP is still 
needed as a gateway into networks or even as a gateway into certain regions within 
a network. The STP continues to provide global title translation services as well as 
database access. Additional features and functions are likely to be placed on STPs to 
justify their existence.
There is no problem with sending all the BISUP traffic through the ATM network 
and leaving the SS7 network for database access and other control functions. In fact, 
as the Advanced Intelligent Network (AIN) is deployed and implemented in existing 
networks, the traffic mix within the SS7 network will become predominantly based on 
the Transaction Capabilities Application Part (TCAP) and the Signaling Connection 
Control Part (SCCP) anyway. BISUP has been included in this chapter because of its 
similarities with normal ISUP. The new protocol is explained in less detail than normal 
ISUP because the standards are still being defined.
ISUP Services
There are two types of ISUP services: basic and supplementary. Basic service provides 
the support for establishing connections for circuits within the network. These circuits 
can be audio circuits for voice transmission or data circuits for any digital information, 

ISDN User Part (ISUP)      321
voice, or data. Supplementary services are all other circuit-related services, which typi-
cally encompass message transport after a call path is established.
In addition to the two types of services, ISUP uses two methods for end-to-end signal-
ing. End-to-end signaling is the process of sending circuit-related information from one 
exchange to a distant exchange. These two exchanges may be adjacent to each other or 
across Local Access Transport Areas (LATAs).
The method currently used for passing signaling information to the distant exchange 
is called the pass-along method. With the pass-along method, the signaling information 
moves from one exchange to the next. All subsequent information related to the same 
circuit is then passed using the same path that was used to send the initial call-setup 
information. This, of course, means that information must follow the same ISUP hops 
as the setup messages, which is not the most efficient method of routing.
The alternative method is called the SCCP method and uses the services of the SCCP 
protocol to route the message through the network. When using the SCCP protocol, the 
information does not have to follow the same path as the call-setup information. In fact, 
it can follow any path, provided the final destination is the same.
The SCCP method uses true network routing and is probably more favorable for ser-
vices that require information sharing between exchanges when a call is in progress. 
However, this method is not used today.
The ISUP message provides important data regarding the service being requested 
of the remote exchange. These services are related to the circuit specified in the initial 
address message (IAM), which is the initial setup message used in this protocol. The 
receiver of an IAM then must determine if it has the resources necessary to provide the 
type of service being requested.
The IAM provides the distant exchange with the calling- and called-party numbers, 
as well as information regarding the availability of SS7 signaling, whether or not the 
ISUP protocol is required end to end, and the type of network signaling available (if 
SS7 is not used throughout the network). The IAM also indicates whether further in-
formation will be available using subsequent messages.
The ISUP protocol uses the services of the MTP to send signaling messages from one 
signaling point to another. The American National Standards Institute (ANSI) stan-
dards and the ITU standards do allow for the use of SCCP services as well, although 
currently no applications in U.S. networks are available. The concept of using SCCP 
with ISUP is to allow end-to-end signaling without having to send messages to each 
intermediate exchange.
An example of how ISUP messages travel from one exchange to another is found in 
Figure 8.1. This diagram shows that an ISUP setup message or IAM is used to connect 
both ends of the voice trunk between the originating exchange and the next exchange 
or tandem exchange. Once the connection is established, another connection must be 
set up between exchange B and exchange C by sending another ISUP setup message 
(IAM) from exchange B to exchange C.
This continues through the network until there are voice circuits connected from end 
to end. End-to-end signaling using ISUP therefore requires many ISUP hops. If any 

322      Chapter 8
message needs to be sent from one exchange to another exchange during the duration 
of the call, the same path is used.
The reason for this is the limited routing capabilities of the MTP. The MTP routing 
function only has knowledge of the adjacent signaling points and only provides node-
to-node routing. The SCCP routing function knows the final destination of the message 
and is capable of providing routing based on the final destination, or endpoint, without 
having to know all the intermediate signaling points.
This would enable ISUP messages to travel through the network with a minimal 
number of hops and still be able to maintain association with a call in progress with-
out using the same path of the call-setup messages. At this time, it is unknown if this 
feature will ever be implemented, although it is very likely that the Intelligent Network 
(IN) will find this a useful feature.
Another fundamental change in signaling with ISUP is the handling of the service 
tones used by the local exchange. Before ISUP and SS7, when a local call was placed 
to another exchange, the service tones (busy, ring-back, and so on) were set by the 
distant exchange through the voice circuit to the calling party. With SS7, this is no 
longer necessary. In fact, the voice circuit does not need to be connected until the called 
party answers. The service tones can be sent by the originating exchange. This is ac-
complished by the distant exchange sending ISUP messages indicating the status of 
the call [status information is implied within many ISUP messages, such as the ad-
dress complete message (ACM)]. For example, when the distant exchange receives an 
IAM, it will send an ACM in return. The ACM is used as an acknowledgment, and it 
also implies that ringing is being sent to the called party. In most networks, the service 
tones are sent by the destination exchange. The trunk circuits that have been reserved 
along the call path are not yet cut through in both directions, but they are cut through 
in one direction from the destination exchange back to the originating exchange. This 
enables service tones to be sent in the backward direction to the originating exchange. 
If there is no answer or the call is disconnected for any other reason, the trunks can 
be released quickly in the one direction (Figure 8.2). If the calling party or the called 
party is using an ISDN interface, then the call setup and status information can be 
much more complex than with service tones. In an ISDN call, the ISUP protocol is used 
to carry setup information as well as call status information through the PSTN and to  
Figure 8.1 This path of ISUP setup messages for a typical telephone call. The first setup takes place from 
A to B. Exchange B then must initiate a circuit connection toward exchange C.
A
B
C

ISDN User Part (ISUP)      323
the exchange. This is especially advantageous when the called or calling party is ter-
minated at a public branch exchange (PBX). When a PBX is used, the PBX can share 
status and setup information with the distant PBX. This is a feature never before pos-
sible with conventional signaling because conventional signaling was all analog and 
unable to support such a broad base of information.
Even information about the station users within a PBX, such as class-of-service in-
formation and dialing privileges, can be shared through the PSTN to the distant PBX 
through use of the ISUP protocol. Large corporations with multiple PBXs can enjoy the 
benefits of a large network without leasing private lines between PBXs (Figure 8.3).
Figure 8.3 The answer message (ANM) is used to trigger cut through on the voice trunk when the called 
party is within the United States. If it is an international call, the trunk is cut through on receipt of the 
ACM message.
Calling Party
Receives Tone
from Local
Office
Voice Circuit
Not Connected
Until ANM
Received
IAM
ACM
Called Party
Offhook (Busy)
Figure 8.2 The voice circuit is reserved but not cut through. Service tones are sent by the local office instead 
of by the remote exchange. 
Calling Party
Receives Tone
from Destination
Office
Voice Circuit
Connected in
Backward Direction
IAM
ACM
Called Party
Offhook (Busy)

324      Chapter 8
The voice circuit in an ISUP call setup is not actually cut through (connected) in both 
directions until the called party goes off-hook and answers the call. The voice circuit is 
reserved for the call and even can be tested before the setup begins. However, the con-
nection is not made in both directions until the called party answers the call.
The most commonly asked question, then, is: How does SS7 save time in call setup? The 
answer lies in the speed of the digital call setup and teardown versus analog signaling.
Digital messages travel at high speeds, which enable calls to be set up much quicker 
than with analog signaling. If you do not believe this concept, pick up a phone and dial 
a number, and then time how long it takes for the call to connect. Now compare the 
setup time with a call 5 years ago, before SS7 was deployed throughout the network. 
Many times, ring-back is heard as soon as the final digit is dialed.
When a called party is not available because of a busy condition, the reserved voice 
circuit is released and is available immediately for another call. In the meantime, a 
digital message is sent back to the originating exchange notifying the originating ex-
change of the busy condition. The originating exchange then sends a busy tone to the 
calling party.
While the originating exchange is sending a busy tone to the calling party, the voice 
circuit has been released (between the exchanges), and only the circuit between the 
calling party and the local exchange is maintained.
There are many other advantages to using ISUP and TUP for call setup and tear-
down. If you understand the basic concepts of how a call is set up and then released, the 
advantages become much clearer. In the next subsection we will talk in greater detail 
about how a call is set up, providing examples of different call-setup situations.
Call Setup and Teardown
To understand how ISUP works and its advantages, we need to first understand the 
basics of how a call is set up and released in the SS7 network. The ISUP protocol is 
used to accomplish this. These examples will assume that analog lines are being used 
between both parties and the telephone company. We will later examine the procedures 
used with ISDN circuits.
When a caller lifts the receiver, the local exchange (exchange A) determines that 
the caller is off-hook by the presence of a current on the subscriber-line interface  
(dc signaling). The local exchange acknowledges the presence of a loop current by send-
ing a service tone (dial tone) to the calling party.
The calling party then dials digits, which signals to the local exchange the address 
(telephone number) of the distant called party. The local exchange must wait until all 
the digits have been dialed and then examine the first three digits dialed to determine 
if the calling party dialed an area code or a prefix (determined by the North American 
Numbering Plan), as shown in Figure 8.4.
If the exchange determines that the number dialed was a long-distance number, the 
call is routed to a long-distance carrier through a point of presence (POP) in the LATA 
of the calling party. The prefix and the subscriber number (the last four digits of the 
telephone number) then are routed to the distant exchange.

ISDN User Part (ISUP)      325
The local exchange determines how it will connect this call based on information in 
its trunk routing tables. These routing tables identify which voice circuits to use to es-
tablish an end-to-end circuit with the least number of hops. When it determines which 
voice circuits to use, a call-setup message is created and sent to the exchange that will 
provide the first voice connection (exchange B).
This exchange may not be the final destination for this call. In fact, it may be a tan-
dem that is used as an intermediate switch to reach the final destination. Intermediate 
tandem switches are used to prevent all exchanges from needing to have voice circuits 
to all other exchanges within any given LATA.
The call setup is sent using the ISUP protocol through the SS7 network. The STP 
serves as a network router for these messages simply by routing SS7 messages to their 
proper destinations and does not play any significant role in setting up the voice cir-
cuits. In general, the STP has no real knowledge of the ISUP message; it only delivers 
it to the proper exchange.
The IAM is created by the local exchange (exchange A) and sent to the intermediate 
tandem exchange (exchange B). All the information necessary for the tandem exchange 
to establish a connection can be found in this IAM. The IAM does not contain informa-
tion for the final destination because it is not establishing a connection from the origi-
nating exchange A to the destination exchange C.
The tandem exchange will acknowledge receipt of the IAM by sending an ACM to the 
originating exchange A when it has received an ACM from the destination exchange. 
This indicates that the circuit designated as reserved in the IAM has been reserved at 
exchange B, and a connection can be made when ready.
The tandem exchange can begin setting up the next circuit between itself and the 
destination exchange C. This is accomplished by generating another IAM, including the 
called- and calling-party address information provided by the originating exchange A 
and sending the IAM to the destination exchange C.
Figure 8.4 When the calling party finishes dialing digits, the local exchange determines which trunk needs 
to be reserved for the call. An IAM then is generated toward the first exchange. When the ACM has been 
received, the local exchange begins delivering ring-back tone, even before the called party’s telephone begins 
ringing in some cases.
IAM
Trunk A
Trunk B
IAM
ACM
Calling Party
Dials
550-xxxx
IAM
ACM
IAM
ACM
IAM
460
550
513

326      Chapter 8
The IAM also will specify the signaling method to be used for this call. If the IAM 
specifies that the ISUP protocol is to be used end to end (required), then the call must 
be set up using the ISUP protocol. If the tandem exchange (B) cannot set up the call 
using ISUP (in the event that the exchange does not support ISUP to the destination or 
that there are no facilities available that use ISUP), the call is rejected, and a message 
indicating the reason for rejection is sent back to the originator.
If the IAM indicates that ISUP is preferred, the receiving exchange will check for 
available resources to determine if the call can be set up using ISUP. If not, the call is 
still set up, but using a different method, such as multifrequency (MF) signaling or the 
TUP protocol.
The IAM also can indicate that ISUP is not required “all the way,” in which case the 
call is set up using whatever method is available. These methods could be ISUP, TUP, 
or a non-SS7 signaling method such as MF.
An intermediate exchange (such as the tandem in our example) can change some of 
the information in the IAM. The first six digits of the called-party number, information 
regarding the connection (the nature of connection), and the end-to-end method indica-
tor can be modified. All other fields are passed transparently to the distant exchange. 
As is sometimes the case, exchange C does not have to be the final destination. More 
exchanges or tandem exchanges can be required when establishing this end-to-end 
voice circuit, but for simplicity, we will only discuss three connection points.
On receipt of the IAM, the distant exchange must examine the message to determine 
if there will be any further information in subsequent messages. If not, the called-party 
number is examined, and the exchange determines if the called party is available or 
busy. If the called party is busy, a release message (REL) is sent to the originator, and 
the circuit is released immediately for another call.
The distant exchange may find that the called-party number is not included in the 
IAM. When this occurs, the distant exchange (exchange C) must request the called-
party number using the protocol services specified in the IAM. Two methods can be 
used: end to end (SCCP services) or link to link (pass-through using MTP). Currently, 
only the pass-through method is used in ANSI networks.
If the called party is not busy and the call can be accepted, an ACM is sent to ex-
change B. Exchange B then sends an ACM to the originating exchange. The distant 
exchange (exchange C) then signals the called party that there is a call by sending ring-
ing to the called party on its subscriber line (dc signaling).
No message is returned until the called party answers the phone. When exchange 
C determines that the called party has lifted their receiver by detecting loop current  
(dc signaling) on the subscriber interface, an answer message (ANM) is generated and 
returned to the tandem exchange (exchange B). The same path used to send the IAM 
from exchange B to exchange C is used for the ANM. This means that the same links 
and the same STPs are used for all associated ISUP messages. The voice circuit between 
exchanges C and B is cut through immediately when exchange B receives the ANM.
When the tandem exchange receives the ANM, it sends an ANM to the originat-
ing exchange A using the same path on which the IAM was received. The originating  

ISDN User Part (ISUP)      327
exchange then can begin cut through on the voice circuit between itself (exchange A) 
and the tandem exchange (exchange C).
Once the voice circuit is connected, conversation can begin, and no messages are 
necessary through the SS7 network until either party goes on-hook. Some features 
associated with class and some other calling features may require exchanges to share 
information with each other during the duration of the call. Currently, the communica-
tion is handled using the same path as the setup messages. However, the standards 
do allow the use of SCCP to carry such information from one end to the distant end 
without following the call-setup path (Figure 8.5).
The preceding discussion applies to normal routing procedures. Local Number 
Portability (LNP) has changed the way calls are routed. The ISUP protocol has been 
modified to provide additional information needed to route calls to numbers that have 
been ported. Numbers are considered ported when the subscriber changes from one 
local service provider to another, keeping his or her telephone number. In the past, you 
had to give up your telephone number and obtain a new telephone number from the 
new service provider.
With LNP, calls are no longer routed based on the digits dialed. Each call made to 
an NPA-NXX that has a number ported in it requires a database transaction to obtain 
additional routing information. The database will identify whether or not the dialed 
number has been ported and, if so, where to route the call.
For routing purposes, each end office (and tandem) is assigned a 10-digit local routing 
number (LRN). The LRN is usually the same NPA-NXX currently assigned to the end-
office switch, with all zeros for the last four digits. For example, the end office serving 
(919) 460-xxxx will be assigned the LRN of (919) 460-0000.
The called-party number field in the ISUP IAM will now contain the LRN if the 
dialed number has been ported to another carrier’s network. The dialed digits will be 
placed in the generic access parameter (GAP). Before a call can be routed, the end office 
must first access the LNP database within its region and obtain the LRN for the dialed 
number. If the digits dialed are for an international number, the call-setup sequence 
is the same. The only difference is use of the international network to route the call.  
Figure 8.5 If SCCP services are used for ISUP, the intermediate exchange can be bypassed, and ISUP mes-
sages can be sent directly to the remote exchange. This applies only to messages between two exchanges after 
a connection is established and enables the switches at both ends of a call to exchange status information. 
SCCP/
ISUP
SCCP/
ISUP
Voice Trunk
Voice Trunk
460
550

328      Chapter 8
On the international plane, there is no knowledge of the dialed digits other than the 
country and city codes. The STPs on the international plane route messages based 
on their international country and city codes, which are used by the gateway STP to  
determine how to route the call within its own network (Figure 8.6).
The addressing of SS7 entities is virtually the same format. The primary difference 
between national and international addressing is the point-code structure of each SS7 
signaling point. The International Telecommunications Union–Telecommunications 
Standardization Sector (ITU-TS) standard calls for a 14-bit point-code structure that 
is divided as 3-bit zone identification, 8-bit area/network identification, and 3-bit  
signaling-point identification.
National point codes follow a simple 14-bit point code and usually are found to have 
no divisions. The exception to this rule is in the case of the ANSI point-code structure, 
which uses a 24-bit point code, with a network identification, cluster identification, and 
member identification (see Chapter 6).
The call-setup messages must be routed according to the dialed digits (or the LRN 
as in the case of LNP), which then must be translated at some point to a point code. 
The point-code translation within the national plane is usually that of a gateway STP, 
which then translates the point code into an international point code (14 bit) and routes 
the message to the proper gateway STP according to the country code dialed.
When a gateway is used to route a call-setup message into another network, the exit 
message (EXM) is used to indicate that a call connection has been completed in the 
other network. The EXM may include the outgoing trunk group number used to connect 
the voice circuit to the other exchange, although this information is optional.
Figure 8.6 International calls rely on the international SS7 network. This network uses ITU standards, 
which are somewhat different from the national standards. The national standards for each country are 
country-specific and vary somewhat from the ITU standards, but usually these differences are minor. The 
national SS7 standard used in the United States is the ANSI standard.
U.S. Network
National Plane
ANSI and
Bellcore 
SS7 Standards
Gateway STP
International Plane
ITU CCS7 Standards
Gateway STP
National
CCS7 Standard 
(Country Dependent)
Other Country

ISDN User Part (ISUP)      329
The voice circuit in the case of an international connection can be connected as soon 
as the ACM is received. This depends on the network and may or may not be true. In 
theory, the trunk does not have to be cut through until after the called party answers 
the call, but this does not imply the actual practice.
When taking a call down and releasing all circuits associated with that call, several 
steps must take place. When either caller goes on-hook, the subscriber line is released 
immediately (dc signaling). The exchange then sends a suspend message (SUS) to its 
tandem or whichever exchange it is directly adjacent to (exchange B).
When the adjacent exchange (exchange B) receives the SUS, it sends an SUS to its 
adjacent exchange. This continues through the network until the SUS has reached the 
originating exchange. As soon as the calling party returns to an on-hook condition, the 
REL is sent toward the distant exchange.
When an exchange receives an REL, it returns a release complete message (RLC) 
as an acknowledgment. The RLC indicates that the circuit has been returned to an 
idle condition. The tandem exchange in Figure 8.7 then must generate an REL to its 
adjacent exchange (exchange A) and follow the same procedure to release its circuit. 
Exchange A in this example then would generate an RLC. On receipt of the RLC, ex-
change B then would release its circuit.
While all this is going on, the circuit between exchanges B and C has been released 
and could be set up for another connection associated with a different call. With conven-
tional analog signaling, this would not be possible; the circuit would remain seized until 
the distant exchange was ready to release. This often would result in “hung” circuits, 
especially when the calling party did not hang up his or her phone.
Call Setup and Teardown of ISDN Circuits
The ISUP protocol was intended for use with digital subscriber interfaces such as ISDN. 
The intent was to provide a protocol with more versatility, enabling the exchange of 
status information and other forms of circuit data between the local ISDN network and 
the distant ISDN network.
Figure 8.7 Normal call-release procedure.
RLC
REL
RLC
REL
On-hook
A
B
C

330      Chapter 8
If distance and other factors prevent ISDN networks from being connected to one 
another, SS7 can be used to bridge the gap. The ISDN protocol is transparent to SS7 
because there is direct mapping from the ISDN parameters to the ISUP protocol. This 
makes interworking very easy while still maintaining the security of the network.
The procedures for setting up and tearing down an ISDN connection are some-
what simpler than those for conventional signaling or analog subscriber circuits. The 
ISDN messages are compatible with but somewhat different from those used in ISUP.  
Figure 8.8 illustrates how ISDN and ISUP protocol messages map to one another, 
showing a typical call setup and teardown.
In the ISDN circuit, a SETUP message is sent from the originating (calling) party 
to the local exchange. The local exchange telephone switch is capable of interpreting 
ISDN messages at the line-circuit level and converts this into an SS7 IAM. The IAM 
contains the same information as the SETUP message. In fact, there is direct mapping 
from the ISDN protocol to the SS7 protocol, making them compatible interworking 
protocols.
Figure 8.8 How ISDN signaling maps to SS7 signaling. Backward and forward setup messages are used to 
exchange additional information regarding a call between two exchanges.
Install the Phone
B-Channel
Connect
Activate Layer 1
UI (ID Request)
UI (ID Assign)
SABME
UA
I (SETUP)
Make a Phone
Call By Lifting
the Handset
Handset
Ringback
I (Alert)
I (Conn)
I (CONN ACK)
I (DISC)
Disconnect
I (REL)
I (REL COMP)
DISC
UA
Deactivate Layer 1
Release Complete
REL
Answer Message (ANM)
Address Complete 
Message (ACM)
Initiate Activate 
Message (IAM)
ISDN
SWITCH
ISDN
CPE
ISDN
SWITCH
ISDN
CPE
Phone Ring
Answer The
Phone
I (CONN ACK)
I (DISC)
I (REL)
I (REL COMP)
DISC
UA
Deactivate Layer 1
I (Conn)
I (Alert)
UA
SABME
UI (ID Assign)
UI (ID Request)
UI (SETUP)
Activate Layer 1

ISDN User Part (ISUP)      331
The IAM then is sent in the forward direction to the next exchange. As seen in the 
figure, several exchanges may be involved in order for the voice circuit to be connected 
end to end. The IAM must be sent between each exchange and acknowledged between 
each exchange. Additional information may be sent between exchanges before the cir-
cuit has been completed using end-to-end signaling.
When the distant exchange has been reached, the IAM is converted back into an 
ISDN setup message. The setup message then is sent to the called-party device (either 
an ISDN network terminal or an ISDN PBX). When the called party has accepted 
the setup message, the called party returns an ISDN alerting message. This message 
indicates that all the addressing signals have been received and that the ISDN termi-
nal (telephone) is now ringing. No ringing generator is sent from the local exchange 
because ISDN is digital. The ringing is generated at the telephone device itself based 
on receipt of the setup message.
When the exchange receives the alerting message, it is converted into the SS7 ACM, 
which indicates that the SS7 exchange has received all the addressing signals and that 
the called party is being signaled. The ACM at the originating exchange is converted 
into an alerting message.
When an ISDN terminal receives an alerting message, it indicates that the called 
party is being signaled. No further action is necessary, although charging may begin 
after receipt of the ACM. This is optional and not widely acceptable in most cases.
When the called party answers, a connect message (CON) is sent in the backward 
direction. The SS7 equivalent to the CON is the ANM. The ANM is passed through 
each of the exchanges until the originating exchange is reached, where the ANM is 
converted back into a CON.
The CON indicates that the called party has answered, and it usually triggers cut 
through on the voice circuit (this is network-dependent). The ANM usually is used in 
the SS7 network to trigger billing.
When the call has been completed, either party may terminate the call by hang-
ing up. When either party hangs up, the ISDN network creates a disconnect message 
(DISC). The local exchange receives the DISC and converts it to an REL. The REL is 
sent to the next exchange, which acknowledges the REL with an RLC. 
The RLC triggers the actual release of the voice circuit. Note that this continues on 
through the network between each of the exchanges until all the circuits have been 
released. As soon as a circuit has been released, it is available immediately for another 
call. It is quite possible that the local loop can be released and already connected to 
another call before all the circuits from a previous call have been released end to end, 
although timers usually are used to prevent this from occurring and creating trouble.
Call Setup and Teardown of BISDN Circuits
BISDN brings on many challenges for the ISUP protocol. Different addressing schemes 
are used in BISDN that have support of virtual paths as well as virtual connections 
within a virtual path. The ISUP protocol does not support this addressing and has been 
modified as BISUP.

332      Chapter 8
The ANSI standards for BISDN signaling are the same as those formulated by the 
ITU-TS, which is good news for all those in international networks. This means simpler 
provisioning and implementation. This subsection will define the message types and 
procedures used to set up and tear down broadband circuits.
Before a circuit may be assigned for a call, it must be determined which signaling 
point will be responsible for the assignment of bandwidth and virtual path/virtual 
channels for a given circuit. One of the inherent problems in broadband is the possibil-
ity for glare, or dual seizure. This occurs when two signaling points assign calls to the 
same virtual path/virtual connection combination. For this reason, end nodes will share 
the responsibility of assigning these characteristics 50-50.
All odd-numbered virtual path connection identifiers (VPCIs) are the responsibility of 
one signaling point, whereas even-numbered VPCIs are the responsibility of the other 
signaling point. This prevents the possibility of glare, or dual seizure. The exchange 
with the highest point code will be responsible for even-numbered VPCIs.
In the event that no available VPCIs are controlled by an exchange, a setup may be 
issued for a VPCI that is not controlled by the exchange. In this event, the virtual path 
and virtual connection ID are not provided (these parameters are found in the connec-
tion element identifier parameter, which is normally included in the setup message). If 
there is an incoming call on a circuit controlled by the receiving exchange, the connec-
tion element identifier is not included. It is a request for service, and the controlling 
exchange must assign the virtual path and virtual connection. If this information has 
not been provided, then it must be assumed that the originating exchange does not 
have any available virtual paths/virtual connections within its control and needs as-
signment from the other half.
When assigning a circuit, the exchange must determine what bandwidth is neces-
sary for the call. This is determined by reading the parameters in the setup message. 
Once the bandwidth is determined, the exchange assigns the appropriate virtual path 
connection within its control.
As mentioned previously, each exchange is responsible for assignment of virtual path 
connections and bandwidth for one-half the available virtual path connections. If not 
enough bandwidth is available at an originating exchange, that exchange sends a re-
quest to the remote exchange (with which it wants to establish a connection) without 
any virtual path connection information.
The receiving exchange then determines if enough bandwidth is available for the 
connection and, if so, provides the virtual path connection information to the requester. 
If not enough bandwidth is available, then the request is denied using the REL with 
the cause “Cell rate not available.”
Once an exchange has received all the information necessary to establish a con-
nection, the receiving exchange must determine if the call is to be routed to another 
exchange (intermediate exchange) or is to be terminated within itself. If the call is to 
be routed through another exchange, then normal ISUP routing is duplicated. Normal 
ISUP procedures call for the same setup procedures used to establish a connection to 
the first exchange, which must be repeated for all subsequent exchanges and be used 
to reach the final destination. This is also true in the case of BISDN.

ISDN User Part (ISUP)      333
Routing information may be stored within the exchange itself or in a central da-
tabase accessible by all exchanges. The latter is becoming true in wireless networks, 
where the home location register (HLR) used to store location information as well as 
subscriber information is moving to a central location, which is accessible by all other 
wireless providers.
The TCAP then is used to access the centralized database for additional routing 
instructions before call-setup procedures can begin. This allows for fewer resources 
within the exchange and optimizes the individual service providers’ networks.
Several parameters are used to determine the best route for a connection. The called-
party address is the most useful, but the broadband bearer capability and the ATM cell 
rate also must be considered. The ATM cell rate determines which interoffice facility 
will need to be used to get the connection through the PSTN.
So far we have only discussed procedures for assigning virtual path connections 
between two exchanges. The message structures for these procedures are virtually 
the same as those for normal ISDN signaling. The exception is the addition of new pa-
rameters that specifically support BISDN and some new message types that augment 
existing message types.
When service is requested, the IAM is sent to the remote exchange. This IAM is almost 
identical to the one we talked about in the preceding subsection, but it has additional 
parameters supporting BISDN and ATM (see the section “ISUP Parameters” later).
Preceding the BISUP IAM parameter is the routing label, which may or may not 
specify the actual ATM circuit information. According to the rules previously discussed 
about controlling exchanges, the IAM may act as a request. The receiving exchange 
may have to provide the circuit identification.
If this is the case, then an IAM acknowledgment will be sent to the originating ex-
change providing the circuit identification. This is a new message type for ISUP and is 
used only in the BISUP protocol. Once the circuit identification has been provided, an 
ACM can be returned by the originating exchange, which serves as an acknowledgment 
that the addressing information has been received.
Other than additional or different parameters in the various message types, the se-
quence of messages is almost identical to normal ISUP. The major changes have to do 
with assignment of the actual circuit, which is split between the two exchanges. Also 
keep in mind that these are logical connections, not physical connections as in Plain 
Old Telephone Service (POTS). This complicates the procedures somewhat and expands 
the message sizes exponentially.
Message types and parameters for BISDN support are found at the end of this chap-
ter and are labeled as such to differentiate them from normal ISUP messages and 
parameters. 
Interworking with Non-SS7 Networks
Although most PSTNs now use SS7 throughout their networks, some segments are still 
using conventional signaling. Conventional signaling in most of these cases consists of 
MF signaling.

334      Chapter 8
SS7 must be able to function and internetwork with networks using conventional sig-
naling. One of the primary issues is reservation of a voice circuit. Unlike conventional 
signaling, the voice circuit does not get connected until the distant party answers or 
at least until both exchanges have sent and received all the addressing information 
required to connect the call.
In MF signaling, the circuit is connected when the calling party completes dialing 
the digits and is used to signal the distant exchange. Therefore, some method must be 
established for enabling voice circuits to be reserved and tested in conjunction with the 
SS7 protocol.
To accomplish this, a circuit reservation procedure is used. Prior to sending an IAM, 
which is used to send addressing information necessary to establish the circuit connection, 
a circuit reservation message (CRM) is sent to the non-SS7 exchange. This is then con-
verted to MF signaling by that exchange, and MF signaling may be used from that point 
on. The exchange acknowledges receipt of the CRM by sending in the backward direction 
(back to the originating exchange) a circuit reservation acknowledgment (CRA) message.
The originating exchange then can specify a continuity test to be invoked by the 
exchange using MF signaling by sending a continuity check request (CCR) message in 
the forward direction. This message invokes a loopback test at the remote exchange on 
the voice circuit. The results of the continuity test then are returned to the originating 
exchange using the continuity test (COT) message.
After receipt of the COT message, if the continuity test proved successful, an IAM is sent 
by the originating exchange to begin the normal call-setup procedure. The voice circuit is 
reserved even though MF signaling is used and is ready for cut through end to end when 
the calling party answers or the address information has been passed successfully from the 
originating exchange to the destination exchange, depending on network deployment.
Interworking with MF networks is no longer efficient with LNP becoming common-
place nationwide (and in the future worldwide). When the MF network is reached, any 
contents of the ISUP IAM are lost, with the exception of the dialed digits. The LRN 
found in the called-party address is lost, and the dialed digits found in the GAP param-
eter are sent via MF to the distant or adjacent network.
If the adjacent network is equipped with SS7, it then must perform a database query 
to regain the lost routing information. This, of course, is redundant and adds unnec-
essary delay to the call setup. It also places an additional burden on the network re-
sources. This can be of major concern when you consider the number of database que-
ries the adjacent SS7 network is responsible for making.
Consider this scenario: The adjacent SS7 network will be receiving scores of calls 
from the MF network. The SS7 network will have to perform database queries for each 
of those calls, even though other networks already have done this. The burden lies on 
the SS7 network to provide this service when the originating network should have been 
the responsible network.
Circuit Testing
The SS7 network provides several mechanisms for testing circuits and switches re-
motely. This testing usually is performed from the Operations Support Systems (OSSs) 

ISDN User Part (ISUP)      335
located regionally within the network. The tests also can be performed locally by test-
board technicians or maintenance-center technicians.
The OSS is an operations and maintenance center that allows complete network 
monitoring and testing. These are fairly new (within the last 10 years) and have been 
deployed within regional areas of the network.
Before SS7 and automation on the network, testing was conducted using test-board 
positions at every exchange. These test positions were capable of connecting to every 
circuit entering and leaving the central office and allowed technicians to test the con-
tinuity, capacitance, and other properties of the circuit.
Today, these test-board positions have disappeared, and all the testing has been 
moved to remote locations where many exchanges can be tested by one maintenance 
center. The SS7 network is used for passing those maintenance and test messages 
through the network to the remote switches.
The ISUP protocol also provides a means for testing circuits as well as translations 
in various nodes. A translation is a routing instruction that translates dialed digits into 
a routable address, such as a signaling point code. This section describes two of those 
tests: the continuity test and the circuit-validation test.
Continuity Testing
Because SS7 uses a separate facility from the voice circuit for sending information to an-
other exchange, there is no knowledge of the operational status of the voice circuit. Most 
voice switching systems today provide some level of circuit testing and fault isolation, 
providing alarms when a circuit fails. This alarm information enables diagnostics soft-
ware to “busy out” the trunk, preventing calls from being routed to the failed circuit.
In many networks, however, digital circuits are used to carry the voice and data. 
These digital facilities are usually DS1 or DS3 facilities, which require a series of mul-
tiplexers. For example, connecting to the voice switch is a DS0 circuit (64 kbps). This 
DS0 is sent through a multiplexer, which aggregates 24 DS0s and groups them into 
one DS1. The DS1 signal then is sent with other DS1s to another multiplexer, which 
aggregates 28 DS1s into one DS3. The DS3 then is used to reach another exchange, 
where these signals must be demultiplexed back down to their original DS0s.
In order for these circuits to reach the proper switch, they are cross-connected through 
digital cross-connect systems, which enable incoming circuits to be routed electroni-
cally to the appropriate switch in the central exchange. This only adds to the problem 
of circuit testing and diagnostics because the alarm and circuit status information gets 
lost in the multiplexing and cross-connecting and never makes its way through to the 
rest of the network.
To counter this issue, SS7 provides the capability to test the voice circuit before con-
necting a call to it. This takes place even before the IAM is sent. The test is known as 
the continuity test and uses the COT. There are two instances when the continuity test 
procedure may be used: within the same network or when connecting to networks that 
use Exchange Access Signaling (EAS).
EAS uses a series of tones to indicate signaling. This method has been replaced in 
most instances in the United States by the SS7 standard of signaling, but it still may 

336      Chapter 8
exist in some rural areas. Because EAS does not support the digital messages of SS7, 
a conversion must be made that converters the SS7 message into the analog format 
of EAS signaling. The exchange that will perform this conversion will use both EAS 
and dc signaling (a method called the wink, where the polarity of the trunk is reversed 
temporarily and then returned to its original polarity as an acknowledgment).
When it is determined that a continuity test is needed before a call can be set up and 
the call is to another exchange using EAS or some method of signaling other than SS7, 
a reservation message is sent to the adjacent exchange (exchange B). The CRM enables 
the voice circuit to be reserved without actually connecting the circuit. A request for a 
continuity test is sent in the CRM. The acknowledgment expected is the CRA.
The CRM also contains information regarding the nature of the connection to be 
established. This information includes satellite requirements (if any) and information 
regarding the use of echo cancelers and end-to-end ISUP. The nature-of-connection 
parameters are also used in the IAM, which follows the continuity test.
After the circuit has been reserved, the COT message is sent via SS7. The COT mes-
sage indicates to the adjacent switch that the voice circuit should be tested for continu-
ity using conventional testing methods (usually a loopback test). The results of the COT 
test (if successful) are carried in the IAM.
In the event that the circuit fails the continuity test, the circuit is released, and a 
COT message with “Test failed” is returned to the originating exchange (meaning the 
exchange that requested the continuity test to be performed). Another circuit is se-
lected, and the procedure begins again on the new circuit.
As shown in Figure 8.9, the COT is sent in the same direction as the IAM. When the 
voice circuit is tested, the requester of the message will determine whether the test 
was successful. This is done by sending a signal or current on the indicated circuit and, 
when the adjacent switch performs a loopback, by receiving the same signal back at the 
Figure 8.9 MF signaling is not as prominent in U.S. networks as it was 5 years ago. This figure shows the 
interworking of SS7 with an MF signaling network. Prior to the IAM is the COT procedure.
Originating
Exchange
MF Signaling
Access
Tandem
Carrier
Exchange
CCS7 Signaling
SEIZE
WINK
KP2P + FC + 0ZZ + XXX + ST
WINK
KP + (II + ANI) + ST
KP2P + FC + 7/10D + ST
WINK (ACK)
CRM
CRA
COT
IAM

ISDN User Part (ISUP)      337
originating switch. If the signal is the same as the signal that was sent, the continuity 
test is said to be successful.
The continuity test is not required on every call. Its use is network-dependent. Some 
networks will perform a continuity test on every circuit selected before every call, even 
when SS7 is used throughout the network. Other networks will perform a continuity 
test on any one circuit every 100 calls. The network operator must configure the voice 
switch to perform the continuity test at whatever intervals are used in that network. 
An STP has no knowledge of these tests because its function is to pass the information 
along to another service switching point (SSP). This is an SSP function only.
Circuit-Validation Test
The circuit-validation test typically is used when a new facility or translation is added 
to the network. The purpose of this test is to validate the translation data and ensure 
that circuits between two exchanges can be selected by the routing function properly. 
The translation is tested locally first to validate the local routing entry. Once main-
tenance personnel have verified that the circuit can be accessed locally by Common 
Language Location Identifier (CLLI) code, the technician generates a circuit-validation 
test message (CVM) to verify whether the distant end can route to the new entry using 
the new translations.
The distant end will perform various tests on receipt of this test message to verify 
that the physical port of a signaling link can be accessed for the new translation and 
that a CLLI code can be derived from the port. A response is sent to the originating 
exchange providing the results of the test by the circuit-validation response (CVR) 
message.
This test should be part of the routine maintenance check anytime translations are 
added to a signaling point. It also can be helpful in troubleshooting routing problems 
that can occur between two exchanges.
Functionality of the ISUP Protocol
The ISUP protocol is a circuit-related protocol that is used primarily for establishing 
connections between exchanges for the transmission of bearer traffic. The bearer traf-
fic, which usually is generated by subscribers, can consist of voice, data, video, multi-
media, or audio. In today’s network, only voice and data are achievable. Through the 
development of technologies such as ATM and BISDN, video and multimedia also will 
be available through the PSTN.
Regardless of the technology, ISUP provides the mechanism for establishing the con-
nections from the originating exchange to the destination exchange without using the 
bearer circuit itself. In addition to connection establishment, ISUP also provides a means 
for passing information between exchanges associated with a call that is already in prog-
ress. However, the connection already must be established and the information must be 
related to that call’s circuit or services. Any information about the subscriber or network 
features or anything that is not directly related to the circuit itself uses the TCAP. This 
protocol was established (as described in Chapter 10) for non-circuit-related messages.

338      Chapter 8
The type of information provided by the ISUP protocol includes resource require-
ments for completion of the connection (resources such as ISUP all the way through the 
network and echo cancelers on the voice circuit). Bandwidth information and service 
information (call waiting and call forwarding, for example) are service-related and re-
quire that information be sent between both end-to-end exchanges.
Intermediate exchanges do not need to see this information because it does not in-
volve their interaction. The objective of the intermediate exchange is to provide the 
connection through its facilities to the next exchange until an end-to-end path is estab-
lished for the bearer traffic.
ISUP Services
The ISUP protocol provides two methods for reaching the end destination. As men-
tioned earlier in the discussion about ISUP functions and call setups, two types of ser-
vices are provided by ISUP: basic and supplementary services. In addition to these two 
types of services, there are two ways to reach the end destination. End-to-end signaling 
can use either the SCCP method or the pass-along method. Even though these have 
been defined already, we will repeat them here as a reference.
Basic Service Basic service is defined as the setup and teardown of circuits in the 
telephone network. These circuits are used for voice, data, and video transmission. 
Currently, most networks use some form of digital transmission for all transmission, 
regardless of the source. This digital transmission is now being further enhanced by 
the addition of fiberoptics into the network. Basic services still will be used for setting 
up and tearing down these connections as well.
As broadband technologies such as ATM and BISDN are deployed, basic services will 
be used to control these circuits. The protocol does not care what is being transmitted, 
although it does carry some indication of the source and the type of transmission being 
carried.
Supplementary Service Supplementary service is defined as all the other services needed 
to support these circuits. Other services may include sending caller information from 
one endpoint to another while a call is in progress. This information may be feature- or 
caller-related. The IN relies on supplementary service to send information about estab-
lished calls. This is different from the use of TCAP because TCAP is not circuit-related.
End-to-End Signaling
End-to-end signaling is defined as signaling information that must be sent from the 
originating exchange to the final destination exchange. This information may be part 
of basic or supplementary services. End-to-end signaling almost always involves inter-
mediate signaling points, even though they are not concerned with the call itself. There 
are two ways to reach the final destination exchange for end-to-end signaling. These 
are explained in the following subsections.

ISDN User Part (ISUP)      339
SCCP Method SCCP can be used to provide network (layer 3) routing for messages, 
but it is not used in today’s U.S. networks. The use of SCCP for end-to-end signal-
ing would be an enhancement to the current method, however. The SCCP protocol 
enables ISUP messages to be routed to the distant exchange using any route, but 
only for messages related to a circuit already connected end to end. The method 
currently used requires the ISUP message to use intermediate switches, employ-
ing the same path as the messages used to set up the circuit associated with the 
information being sent.
Pass-Along Method The pass-along method is used widely in today’s network. This 
method uses the same path as the setup messages. This method works but requires 
messages to make unnecessary stops at intermediate switches. These stops are not 
necessary because the information does not concern the intermediate switch. It would 
be much more efficient if the message could be sent directly to the exchange through 
STPs by using any available route.
ISUP Message Formats
The ISUP protocol uses message types to indicate the type of message being carried 
as well as the format of the message. Each message type has a distinct format that 
has mandatory and optional parameters (Figure 8.10). The parameters depend on the 
message type.
As in the TCAP protocol, the ISUP uses mandatory fixed parts and mandatory vari-
ables. These are parameters that always must exist, depending on the type of ISUP 
message. Again, the parameters used depend on the message type.
Circuit Identification Code (CIC)
The circuit identification code (CIC) identifies the circuit that is being set up or re-
leased (Figure 8.11). The CIC may be a voice trunk or any other transmission medium 
in the PSTN.
Currently, there are no defined standards for allocating circuit identifiers. These are 
determined by an agreement between the telephone companies. The CIC is provided 
to the originator of the ISUP message (SSP) by the end switch. The end switch may 
be incorporated into the SSP because many of these systems are fully integrated. This 
means that a voice subsystem provides the switching functionality for the voice cir-
cuits, whereas the SS7 subsystem provides all the circuit control.
Message Type Codes for Normal ISUP
This is a one-octet field that is used to define the action that will be taken by the ex-
change. In addition, the message type also implicitly defines the message structure 
(Figure 8.12). The parameters used will depend on the message type.

340      Chapter 8
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Identification Code (CIC) LSB
Spare   CIC (Most Significant Bits)
H
G
F
E
D
C
B
A
Figure 8.11 The CIC is used to identify the trunk circuit that will be connected and associated with this 
message. The CIC is not used in broadband services. Instead, virtual paths and virtual connections are identi-
fied in the BISUP message content. 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Message Type
Figure 8.12 As in TCAP and SCCP, the message type field identifies the nature of the message. Each mes-
sage type consists of specific parameters (both mandatory and optional). 
Figure 8.10 The components and format used for ISUP messages.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Message Type
Mandatory Parameter A
Mandatory Parameter Z
Mandatory Fixed Part
Mandatory Variable Part
Optional Part
Pointer to Variable Parameter A
••
••
••
••
Pointer to Variable Parameter Z
Pointer to Optional Part
Length of Variable Parameter A
Variable Parameter A
Length of Variable Parameter Z
Variable Parameter Z
Optional Parameter Name A
Length of Optional Parameter A
Optional Parameter A
Optional Parameter Name Z
Length of Optional Parameter Z
Optional Parameter Z
End of Optional Parameters

ISDN User Part (ISUP)      341
The message type is found in the mandatory fixed part of the message. The coding of 
the message type follows the same general rule used in other SS7 protocols. Any mes-
sage type intended for national use (internetworking) is to be coded using the upper 
range of the code. The upper range begins at 1111 1111 and works backward.
Table 8.1 lists the message types currently defined for use in SS7 networks. An as-
terisk indicates that no procedures are defined for the message type for use in U.S. net-
works. Several message types that were defined in either ANSI or ITU standards but 
had no procedures defined have been omitted from this book because there is nothing 
to write about and no explanation for their use.
TABLE 8.1 ISUP Message Codes 
Message Types 
H 
G 
F 
E 
 
D 
C 
B 
A
Address complete (ACM) 
0 
0 
0 
0 
 
0 
1 
1 
0
Answer (ANM) 
0 
0 
0 
0 
 
1 
0 
0 
1
Application transport (APM) 
0 
1 
0 
0 
 
0 
0 
0 
1
Blocking (BLO) 
0 
0 
0 
1 
 
0 
0 
1 
1
Blocking acknowledgment (BLA) 
0 
0 
0 
1 
 
0 
1 
0 
1
Call progress (CPG) 
0 
0 
1 
0 
 
1 
1 
0 
0
Circuit group blocking (CGB) 
0 
0 
0 
1 
 
1 
0 
0 
0
Circuit group blocking acknowledgment (CGBA) 
0 
0 
0 
1 
 
1 
0 
1 
0
Circuit group query (CQM) 
0 
0 
1 
0 
 
1 
0 
1 
0
Circuit group query response (CQR) 
0 
0 
1 
0 
 
1 
0 
1 
1
Circuit group reservation (CRM) 
1 
1 
1 
0 
 
1 
0 
1 
0
Circuit group reservation acknowledgment (CRA) 
1 
1 
1 
0 
 
1 
0 
0 
1
Circuit group reset (GRS) 
0 
0 
0 
1 
 
0 
1 
1 
1
Circuit group reset acknowledgment (GRA) 
0 
0 
1 
0 
 
1 
0 
0 
1
Circuit group unblocking (CGU) 
0 
0 
0 
1 
 
1 
0 
0 
1
Circuit group unblocking acknowledgment (CGUA) 
0 
0 
0 
1 
 
1 
0 
1 
1
Circuit validation response (CVR) 
1 
1 
1 
0 
 
1 
0 
1 
1
Circuit validation test (CVT) 
1 
1 
1 
0 
 
1 
1 
0 
0
*Charge information (CRG) 
0 
0 
1 
1 
 
0 
0 
0 
1
Confusion (CFN) 
0 
0 
1 
0 
 
1 
1 
1 
1
*Connect (CON) 
0 
0 
0 
0 
 
0 
1 
1 
1
Continuity (COT) 
0 
0 
0 
0 
 
0 
1 
0 
1
Continuity check request (CCR) 
0 
0 
0 
1 
 
0 
0 
0 
1
Exit (EXM) 
1 
1 
1 
0 
 
1 
1 
0 
1
Facility (FAC) 
0 
0 
1 
1 
 
0 
0 
1 
1
*Facility accepted (FAA) 
0 
0 
1 
0 
 
0 
0 
0 
0
Facility information (FAI) 
0 
0 
1 
1 
 
0 
0 
1 
1
*Facility reject (FRJ) 
0 
0 
1 
0 
 
0 
0 
0 
1
*Facility request (FAR) 
0 
0 
0 
1 
 
1 
1 
1 
1
Forward transfer (FOT) 
0 
0 
0 
0 
 
1 
0 
0 
0
*Identification request (IDR) 
0 
0 
1 
1 
 
0 
1 
1 
0
*Identification response (IRS) 
0 
0 
1 
1 
 
0 
1 
1 
1
Information (INF) 
0 
0 
0 
0 
 
0 
1 
0 
0
Information request (INR) 
0 
0 
0 
0 
 
0 
0 
1 
1
Initial address message (IAM) 
0 
0 
0 
0 
 
0 
0 
0 
1
Loopback acknowledgment (LPA) 
0 
0 
1 
0 
 
0 
1 
0 
0
*Loop prevention (LOP) 
0 
1 
0 
0 
 
0 
0 
0 
0
(Continued)

342      Chapter 8
Each of these message types has a distinct structure that has parameters. The fol-
lowing are descriptions of each of the message types and the message structure that 
accompanies each one. The next subsection provides the one-octet value, which indi-
cates the message type (in bold), followed by the parameter names and the one-octet 
values for the parameter names. Each parameter may have several additional bits 
defining the actual parameter. This subsection only provides the values for the pa-
rameter names.
The parameters shown as optional are supported within each message type, but their 
use depends on the network, and they may or may not be used. Many of these param-
eters may be used in multiple message types, which is why they are discussed in the 
last section of this chapter.
The section “ISUP Message Type Structure” defines the message format and provides 
the basic structure for each message type. The section “ISUP Parameters” will provide 
the detailed structure for each parameter type along with a description of the param-
eter and its use. Refer to the section “Broadband Parameters” for detailed information 
on BISUP parameters. All messages and parameters with an asterisk are defined for 
use in ITU networks and are not defined within ANSI standards.
Address Complete (ACM) The ACM is sent by a distant exchange on receipt of all ad-
dress signals (IAM and any subsequent information sent) needed to establish a connec-
tion on a circuit between the two exchanges (Figure 8.13). The ACM indicates that the 
call is being processed, and the distant exchange checks the availability of the called 
party (Table 8.2). This could mean that the called party’s telephone is being signaled 
(ringing occurs if analog or an alerting message is returned if ISDN). In some networks, 
cut through on the voice circuit can take place after receipt of the ACM.
TABLE 8.1 ISUP Message Codes (Continued)
*Network resource management (NRM) 
0 
0 
1 
1 
 
0 
0 
1 
0
*Overload (OLM) 
0 
0 
1 
1 
 
0 
0 
0 
0
Pass-along (PAM) 
0 
0 
1 
0 
 
1 
0 
0 
0
Prerelease information (PRI) 
0 
1 
0 
0 
 
0 
0 
1 
0
Release (REL) 
0 
0 
0 
0 
 
1 
1 
0 
0
Release complete (RLC) 
0 
0 
0 
1 
 
0 
0 
0 
0
Reset circuit (RSC) 
0 
0 
0 
1 
 
0 
0 
1 
0
Resume (RES) 
0 
0 
0 
0 
 
1 
1 
1 
0
Segmentation (SGM) 
0 
0 
1 
1 
 
1 
0 
0 
0
*Subsequent address message (SAM) 
0 
0 
0 
0 
 
0 
0 
1 
0
*Subsequent directory number (SDN) 
0 
1 
0 
0 
 
0 
0 
1 
1
Suspend (SUS) 
0 
0 
0 
0 
 
1 
1 
0 
1
Unblocking (UBL) 
0 
0 
0 
1 
 
0 
1 
0 
0
Unblocking acknowledgment (UBA) 
0 
0 
0 
1 
 
0 
1 
1 
0
Unequipped circuit identification code (UCIC) 
0 
0 
1 
0 
 
1 
1 
1 
0
*User part available (UPA) 
0 
0 
1 
1 
 
0 
1 
0 
1
*User part test (UPT) 
0 
0 
1 
1 
 
0 
1 
0 
0
*User-to-user information (USR) 
0 
0 
1 
0 
 
1 
1 
0 
1

ISDN User Part (ISUP)      343
TABLE 8.2 ACM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Address complete (ACM) 
0 
0 
0 
0 
 
0 
1 
1 
0
Mandatory fixed parameter(s):
Backward call indicators 
0 
0 
0 
1 
 
0 
0 
0 
1
Optional parameter(s):
*Access delivery information 
0 
0 
1 
0 
 
1 
1 
1 
0
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
*Call diversion information 
0 
0 
1 
1 
 
0 
1 
1 
0
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Cause indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
*CCNR possible indicator 
0 
1 
1 
1 
 
1 
0 
1 
0
*Conference treatment indicators 
0 
1 
1 
1 
 
0 
0 
1 
0
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
*Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
*Generic notification indicators 
0 
0 
1 
0 
 
1 
1 
0 
0
*HTR information 
1 
0 
0 
0 
 
0 
0 
1 
0
Information indicators 
0 
0 
0 
0 
 
1 
1 
1 
1
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
(Continued)
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Address Complete
Backward Call Indicators
Access Transport
Mandatory Fixed Part
Optional Part
Business Group
Call Reference
Cause Indicators
Connection Request
Information Indicators
Network Transport Parameter
Notification Indicator
Optional Backward Call Indicators
Redirection Information
Remote Operations
Service Activation
Transmission Medium Used
User-to-User Indicators
User-to-User Information
End of Optional Parameters
Figure 8.13 ACM message format.

344      Chapter 8
Answer (ANM) The ANM is sent in the backward direction to indicate that the called 
party has answered the call (Figure 8.14). Use of this parameter is really twofold. 
In semiautomatic networks, this parameter is used for call supervision. In automatic 
networks, the ANM is used to begin metering the call for billing purposes. Metering 
domestic and international calls can be activated using this parameter (Table 8.3).
TABLE 8.2 ACM Fields and Codes (Continued)
Network transport parameter 
1 
1 
1 
0 
 
1 
1 
1 
1
Notification indicator 
1 
1 
1 
0 
 
0 
0 
0 
1
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
*Pivot routing backward information 
1 
0 
0 
0 
 
1 
0 
0 
1
Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
Redirection information 
0 
0 
0 
1 
 
0 
0 
1 
1
*Redirection number 
0 
0 
0 
0 
 
1 
1 
0 
0
*Redirection number restriction 
0 
1 
0 
0 
 
0 
0 
0 
0
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
Transmission medium used 
0 
0 
1 
1 
 
0 
1 
0 
1
*UID action indicators 
0 
1 
1 
1 
 
0 
1 
0 
0
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Answer Message
Access Transport
Backward Call Indicators
Business Group
Call Reference
Connection Request
Information Indicators
Network Transport Parameter
Notification Indicator
Optional Backward Call Indicators
Remote Operations
Service Activation
Transmission Medium Used
User-to-User Indicators
User-to-User Information
End of Optional Parameters
Optional Part
Figure 8.14 ANM message format.

ISDN User Part (ISUP)      345
Application Transport (APM) This message is used to send the application transport 
parameters between two application peers (Figure 8.15). Since this is a peer-to-peer 
communication, nothing in this message is of network significance. The message here 
is used purely as a transport between two application servers (Table 8.4). 
Blocking (BLO) No parameters are given in the blocking message (BLO) (Figure 8.16). 
This message enables one exchange to block a voice circuit at a remote exchange, pre-
venting voice calls from being reserved on the voice circuit from the remote end. This 
is different from a CGB because it allows only one circuit to be blocked, whereas CGB 
permits up to 24 (or 32 in ITU networks) circuits to be blocked. The circuit is identified 
in the CIC field (Table 8.5).
TABLE 8.3 ANM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Answer (ANM) 
0 
0 
0 
0 
 
1 
0 
0 
1
Optional parameter(s):
*Access delivery information 
0 
0 
1 
0 
 
1 
1 
1 
0
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
*Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Backward call indicators 
0 
0 
0 
1 
 
0 
0 
0 
1
*Backward GVNS 
0 
1 
0 
0 
 
1 
1 
0 
1
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
*Call history information 
0 
0 
1 
0 
 
1 
1 
0 
1
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
*Conference treatment indicators 
0 
1 
1 
1 
 
0 
0 
1 
0
*Connected number 
0 
0 
1 
0 
 
0 
0 
0 
1
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
*Display information 
0 
1 
1 
1 
 
0 
0 
1 
1
*Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
*Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
*Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
Information indicators 
0 
0 
0 
0 
 
1 
1 
1 
1
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Network transport parameter 
1 
1 
1 
0 
 
1 
1 
1 
1
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
*Pivot routing backward information 
1 
0 
0 
0 
 
1 
0 
0 
1
*Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
*Redirection number 
0 
0 
0 
0 
 
1 
1 
0 
0
*Redirection number restriction 
0 
1 
0 
0 
 
0 
0 
0 
0
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
Transmission medium used 
0 
0 
1 
1 
 
0 
1 
0 
1
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0

346      Chapter 8
Blocking Acknowledgment (BLA) No parameters are given in the blocking acknowledg-
ment message (BLA) (Figure 8.17). This message acknowledges receipt of the BLO and 
indicates that the circuit has been blocked. The voice circuit is identified in the CIC 
field (Table 8.6).
Routing Label
Optional Parameters
CIC
Signaling Information
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Application Transport
Message Compatibility Information
Parameter Compatibility Information
Application Transport
End of Optional Parameters
Figure 8.15 APM message format.
TABLE 8.4 APM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Application transport (APM) 
0 
1 
0 
0 
 
0 
0 
0 
1
Optional parameter(s):
Application transport parameter 
0 
1 
1 
1 
 
1 
0 
0 
0
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Blocking
Figure 8.16 BLO message format.
TABLE 8.5 BLO Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Blocking (BLO) 
0 
0 
0 
1 
 
0 
0 
1 
1

ISDN User Part (ISUP)      347
Call Progress (CPG) The call progress message is used to notify a distant exchange 
that some event has occurred during the progress of a call (Figure 8.18). The event is 
not a catastrophic or error-related event but a call-related event. The event informa-
tion parameter indicates what type of event occurred (an alerting message was re-
ceived, the call was forwarded because of a busy signal, and so on), whereas the optional 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Blocking Acknowledgment
Figure 8.17 BLA message format.
TABLE 8.6 BLA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Blocking acknowledgment (BLA) 
0 
0 
0 
1 
 
0 
1 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Call Progress
Event Information
Access Transport
Backward Call Indicators
Business Group
Call Reference
Cause Indicators
Information Indicators
Network Transport Parameter
Notification Indicator
Optional Backward Call Indicators
Remote Operations
Service Activation
Transmission Medium Used
User-to-User Indicators
User-to-User Information
End of Optional Parameters
Mandatory Fixed Part
Optional Part
Figure 8.18 CPG message format.

348      Chapter 8
parameters provide additional support information required depending on the event  
(Table 8.7).
Circuit Group Blocking (CGB) This message is sent by maintenance personnel from 
an operations terminal to block voice circuits from being used for voice calls during 
maintenance routines (Figure 8.19). The voice circuits are manually busied until main-
tenance procedures are completed, at which point they must be unblocked manually. 
The circuit group supervision message type indicator parameter indicates what type of 
blocking to invoke, and the range and status parameter indicates what range of circuits 
TABLE 8.7 CPG Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Call progress (CPG) 
0 
0 
1 
0 
 
1 
1 
0 
0
Mandatory fixed parameter(s):
Event information 
0 
0 
1 
0 
 
0 
1 
0 
0
Optional parameter(s):
*Access delivery information 
0 
0 
1 
0 
 
1 
1 
1 
0
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Backward call indicators 
0 
0 
0 
1 
 
0 
0 
0 
1
*Backward GVNS 
0 
1 
0 
0 
 
1 
1 
0 
1
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
*Call diversion information 
0 
0 
1 
1 
 
0 
1 
1 
0
*Call history information 
0 
0 
1 
0 
 
1 
1 
0 
1
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
*Call transfer number 
0 
1 
0 
0 
 
0 
1 
0 
1
Cause indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
*CCNR possible indicator 
0 
1 
1 
1 
 
1 
0 
1 
0
*Conference treatment indicators 
0 
1 
1 
1 
 
0 
0 
1 
0
*Connected number 
0 
0 
1 
0 
 
0 
0 
0 
1
*Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
*Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
*Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
Information indicators 
0 
0 
0 
0 
 
1 
1 
1 
1
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Network transport parameter 
1 
1 
1 
0 
 
1 
1 
1 
1
Notification indicator 
1 
1 
1 
0 
 
0 
0 
0 
1
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
*Pivot routing backward information 
1 
0 
0 
0 
 
1 
0 
0 
1
Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
Redirecting number 
0 
0 
0 
0 
 
1 
0 
1 
1
*Redirection number restriction 
0 
1 
0 
0 
 
0 
0 
0 
0
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
Transmission medium used 
0 
0 
1 
1 
 
0 
1 
0 
1
*UID action indicators 
0 
1 
1 
1 
 
0 
1 
0 
0
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0

ISDN User Part (ISUP)      349
will block the status (blocked or unblocked) of the specified circuits. Up to 24 (or 32 in 
ITU networks) circuits can be blocked at one time using this message (Table 8.8).
Circuit Group Blocking Acknowledgment (CGBA) This message is used to acknowl-
edge receipt of a CGB message and indicates that the circuits have been blocked  
(Figure 8.20). The supervision message type indicator shows the type of blocking 
invoked, and the range and status parameter shows the range of circuits that were 
blocked and their present status (blocked) (Table 8.9).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Block
Circuit Group Supervision Msg Type
Mandatory Fixed Part
Range and Status
Mandatory Variable Part
Figure 8.19 CGB message format.
TABLE 8.8 CGB Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group blocking (CGB) 
0 
0 
0 
1 
 
1 
0 
0 
0
Mandatory fixed parameter(s):
Circuit group supervision message type indicator 
0 
0 
0 
1 
 
0 
1 
0 
1
Optional parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
TABLE 8.9 CGBA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group blocking acknowledgment (CGBA)  
0 
0 
0 
1 
 
1 
0 
1 
0
Mandatory fixed parameter(s):
Circuit group supervision message type indicator 
0 
0 
0 
1 
 
0 
1 
0 
1
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Blocking ACK
Circuit Group Supervision Msg Type
Mandatory Fixed Part
Range and Status
Mandatory Variable Part
Figure 8.20 CGBA message format.

350      Chapter 8
Circuit Group Query (CQM) This message is sent to a distant exchange to learn the sta-
tus of a range of voice circuits (blocked or unblocked) (Figure 8.21). The range of voice 
circuits is specified in the range parameter, which normally also has a status subfield. 
However, the status information is not returned with this message; therefore, the sta-
tus field is not used (set to zeros). A circuit query response message (CQR) is used to 
inform the querying exchange of the status information (Table 8.10).
Circuit Group Query Response (CQR) The CQR message is sent in response to a circuit 
query message (CQM) and provides the status of the specified voice circuits (Figure 
8.22). The range of voice circuits is specified in the range parameter, and the status of 
those circuits is provided in the circuit state indicator. The status subfield of the range 
parameter is not used in this message (set to zeros) (Table 8.11).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Reset ACK
Range
Mandatory Variable Part
Optional Part
Circuit Assignment Map
End of Optional Parameters
Figure 8.21 CQM message format.
TABLE 8.10 CQM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit query (CQM) 
0 
0 
1 
0 
 
1 
0 
1 
0
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
Optional parameter(s):
Circuit assignment map 
0 
0 
1 
0 
 
0 
1 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Query Response
Range
Mandatory Variable Part
Circuit State Indicator
Figure 8.22 CQR message format.

ISDN User Part (ISUP)      351
Circuit Group Reservation (CRM) This is used only when interworking with a non-SS7 
network, such as an analog network using MF signaling (Figure 8.23). This is typically 
the case in rural areas in the United States, although rural areas are quickly being con-
verted to SS7 networks. Where SS7 is not available, the exchanges rely on conventional 
signaling methods (such as MF), which require special handling by the SS7 network. 
CRM enables the voice circuit to be reserved for a call. See the section “Interworking 
with Non-SS7 Networks” earlier in this chapter to understand how this works. This 
procedure is used only in ANSI networks (Table 8.12).
Circuit Group Reservation Acknowledgment (CRA) There are no parameters in this mes-
sage (Figure 8.24). This is sent to an exchange after receipt of a CRM as an acknowledg-
ment that the circuit has been reserved for a call. This message applies only when the 
circuit-reservation procedure is incorporated. Circuit-reservation procedures are only 
defined for ANSI networks (Table 8.13).
TABLE 8.11 CQR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit query response (CQR) 
0 
0 
1 
0 
 
1 
0 
1 
1
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
Optional parameter(s):
Circuit state indicator 
0 
0 
1 
0 
 
0 
1 
1 
0
TABLE 8.12 CRM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit reservation (CRM) 
1 
1 
1 
0 
 
1 
0 
1 
0
Mandatory fixed parameter(s):
Nature of connection indicators 
0 
0 
0 
0 
 
0 
1 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Reservation Message
Nature of Connection Indicators
Mandatory Fixed Part
Figure 8.23 CRM message format.

352      Chapter 8
Circuit Group Reset (GRS) This message is used to reset a group of voice circuits when 
the exchange no longer knows the status of the voice circuits (Figure 8.25). This situ-
ation could be the result of memory malfunction or some other error that caused it to 
lose track of the circuits’ status. The range parameter is used to identify the range of 
voice circuits to be reset. Any calls in progress or blocked conditions will be canceled, 
and the voice circuits that were indicated are released. However, they must go through 
diagnostic and alignment procedures (i.e., voice alignment, not SS7 alignment) before 
becoming available for calls again (Table 8.14).
TABLE 8.13 CRA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit reservation acknowledgment (CRA) 
1 
1 
1 
0 
 
1 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Reservation Acknowledgment
Figure 8.24 CRA message format.
TABLE 8.14 GRS Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group reset (GRS) 
0 
0 
0 
1 
 
0 
1 
1 
1
Mandatory fixed parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
Optional parameter(s):
Circuit assignment map 
0 
0 
1 
0 
 
0 
1 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Reset
Range and Status
Mandatory Variable Part
Optional Part
Circuit Assignment Map
End of Optional Parameters
Figure 8.25 GRS message format.

ISDN User Part (ISUP)      353
Circuit Group Reset Acknowledgment (GRA) This message is used to indicate receipt 
of a GRS message (Figure 8.26). This message also indicates that the reset has been 
performed on the circuits identified in the range parameter. The status parameter in-
dicates the current status of those circuits (Table 8.15).
Circuit Group Unblocking (CGU) This message is sent by maintenance personnel from 
an operations terminal to unblock voice circuits that were blocked previously for main-
tenance purposes (Figure 8.27). The circuit group supervision message type indica-
tor parameter indicates what type of unblocking to invoke, and the range and sta-
tus parameter shows the range of circuits that were blocked and their present status 
(blocked) (Table 8.16).
TABLE 8.15 GRA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group reset acknowledgment (GRA) 
0 
0 
1 
0 
 
1 
0 
0 
1
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
Optional parameter(s):
Circuit assignment map 
0 
0 
1 
0 
 
0 
1 
0 
1
TABLE 8.16 CGU Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group unblocking (CGU) 
0 
0 
0 
1 
 
1 
0 
0 
1
Mandatory fixed parameter(s):
Circuit group supervision message type indicator 
0 
0 
0 
1 
 
0 
1 
0 
1
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Reset ACK
Range and Status
Mandatory Variable Part
Optional Part
Circuit Assignment Map
End of Optional Parameters
Figure 8.26 GRA message format.

354      Chapter 8
Circuit Group Unblocking Acknowledgment (CGUA) This message is used to acknowl-
edge receipt of a CGU message and indicates that the circuits have been unblocked 
(Figure 8.28). The supervision message type parameter indicates the type of unblocking 
used, and the range and status parameter indicates the range of circuits that have been 
unblocked and the status of those circuits (unblocked) (Table 8.17).
Circuit Validation Response (CVR) The CVR message is sent in response to a CVM 
(Figure 8.29). The CVR message provides the results of the circuit-validation test. The 
CVM provides a way for maintenance personnel to check the translations at far-end 
exchanges and verify that when a new translation is entered, a CIC can be obtained by 
the exchange when establishing a new call and that the physical port associated with 
TABLE 8.17 CGUA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group unblocking acknowledgment  
 (CGUA)  
0 
0 
0 
1 
 
1 
0 
1 
1
Mandatory fixed parameter(s):
Circuit group supervision message type indicator 
0 
0 
0 
1 
 
0 
1 
0 
1
Mandatory variable parameter(s):
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Unblocking
Range and Status
Mandatory Fixed Part
Mandatory Variable Part
Circuit Group Supervision Msg Type
Figure 8.27 CGU message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Group Unblocking ACK
Range and Status
Mandatory Fixed Part
Mandatory Variable Part
Circuit Group Supervision Msg Type
Figure 8.28 CGUA message format.

ISDN User Part (ISUP)      355
that CIC can be seized. The response message indicates whether this test passed or 
failed. This procedure is used only in ANSI networks (Table 8.18).
Circuit-Validation Test (CVT) There are no parameters for this message (Figure 8.30). 
This message is used to initiate a translations test at a distant exchange. The CVM 
provides the results of the circuit-validation test. The primary purpose of this test is 
to verify that new translations were entered properly and that a physical port can be 
connected between two exchanges. This message is defined only for ANSI networks 
(Table 8.19). 
TABLE 8.18 CVR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit validation response (CVR) 
1 
1 
1 
0 
 
1 
0 
1 
1
Mandatory fixed parameter(s):
Circuit validation response indicator 
1 
1 
1 
0 
 
0 
1 
1 
0
Circuit group characteristic indicators 
1 
1 
1 
0 
 
0 
1 
0 
1
Circuit identification name (sending end) 
1 
1 
1 
0 
 
1 
0 
0 
0
Optional parameter(s):
Common language location identification (CLLI) code 
1 
1 
1 
0 
 
1 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit Validation Response
Circuit Group Characteristic Ind
Circuit Identification Name
CLLI Code
Mandatory Fixed Part
Optional Part
Circuit Validation Response Indicator
End of Optional Parameters
Figure 8.29 CVR message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Circuit-Validation Test
Figure 8.30 CVT message format.

356      Chapter 8
*Charge Information (CRG) This is used for accounting or billing purposes (Figure 
8.31). The ITU standards do not define its use because ITU standards are for national 
implementation rather than at an international level. The standards do mention that 
receipt of these indicators may be used to begin charging mechanisms and accounting  
(Table 8.20). 
Confusion (CFN) The confusion message (CFN) indicates that the exchange has re-
ceived a message that it does not recognize, and it does not know how to handle the 
message (Figure 8.32). The CFN is sent to the originator of the ISUP message. This 
only applies to ISUP messages and does not apply to TCAP, SCCP, or any other protocol 
message other than ISUP. The cause indicators parameter indicates where the CFN 
originated, as well as why the message is being sent (Table 8.21).
TABLE 8.19 CVT Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit-validation test (CVT) 
1 
1 
1 
0 
 
1 
1 
0 
0
TABLE 8.20 CRG Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Charge information (CRG) 
0 
0 
1 
1 
 
0 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Charge Information
Figure 8.31 CRG message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Confusion
Cause Indicators
Mandatory Fixed Part
Figure 8.32 CFN message format.

ISDN User Part (ISUP)      357
*Connect (CON) The connect message is somewhat analogous to the ACM message, 
indicating that all the address signals have been received (the called- and calling-
party numbers, for example), and the connection has been established (Figure 8.33).  
The CON is defined for use in international networks but not ANSI networks  
(Table 8.22).
Continuity (COT) The COT message is used to indicate the success of a continuity test 
(or failure) (Figure 8.34). The continuity test is performed on the voice circuit depend-
ing on criteria set by the network operator at the time of deployment. The COT is used 
TABLE 8.21 CFN Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Confusion (CFN) 
0 
0 
1 
0 
 
1 
1 
1 
1
Mandatory variable parameter(s):
Cause indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
TABLE 8.22 CON Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Connect (CON) 
0 
0 
0 
0 
 
0 
1 
1 
1
Mandatory fixed parameter(s):
Backward call indicators 
0 
0 
0 
1 
 
0 
0 
0 
1
Optional parameter(s):
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Access delivery information 
0 
0 
1 
0 
 
1 
1 
1 
0
Application transport parameter 
0 
1 
1 
1 
 
1 
0 
0 
0
Backward GVNS 
0 
1 
0 
0 
 
1 
1 
0 
1
Call history information 
0 
0 
1 
0 
 
1 
1 
0 
1
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Conference treatment indicators 
0 
1 
1 
1 
 
0 
0 
1 
0
Connected Number 
0 
0 
1 
0 
 
0 
0 
0 
1
Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
HTR information 
1 
0 
0 
0 
 
0 
0 
1 
0
Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Pivot routing backward information 
1 
0 
0 
0 
 
1 
0 
0 
1
Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
Redirection number restriction 
0 
1 
0 
0 
 
0 
0 
0 
0
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
Transmission medium used 
0 
0 
1 
1 
 
0 
1 
0 
1
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0

358      Chapter 8
to indicate the status of the preceding circuit and the circuit selected in the forward 
direction to the next exchange (Table 8.23).
Continuity Check Request (CCR) No parameters are given in the CCR (Figure 8.35). 
The CCR is used to request the continuity check equipment that will be attached to the 
circuit indicated in the CIC field of the message. The equipment is attached to the voice 
circuit for loopback testing. Once loopback has been detected, the status of “successful” 
is sent through the SS7 network using the IAM or the COT, depending on the network 
and the circumstances (Table 8.24).
TABLE 8.23 COT Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Continuity (COT) 
0 
0 
0 
0 
 
0 
1 
0 
1
Fixed mandatory parameter(s):
Continuity indicators 
0 
0 
0 
1 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Connect
Backward Call Indicators
Mandatory Fixed Part
Optional Part
Call Reference
Connected Number
Optional Backward Call Indicators
User-to-User Indicators
User-to-User Information
Figure 8.33 CON message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Continuity Test
Continuity Indicators
Mandatory Fixed Part
Figure 8.34 COT message format.

ISDN User Part (ISUP)      359
Exit (EXM) The EXM is only used when interworking with another network  
(Figure 8.36). When an IAM is sent to a gateway to establish a connection in another 
network, the EXM is sent in the backward direction to indicate that the IAM has 
passed the gateway and is being forwarded to the other network. No ITU procedures 
are defined for this message (Table 8.25). 
Facility (FAC) This message may be sent by either the local or distant exchange to re-
quest an action at that exchange (Figure 8.37). The same message also may be used as 
an acknowledgment that the action was performed successfully. The service activation 
parameter indicates the type of service that is being requested (or has been invoked in 
the case of an acknowledgment). Call waiting is defined in the Telcordia standard, but 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Continuity Check Request
Figure 8.35 CCR message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Exit Message
Outgoing Trunk Group Number
End of Optional Parameters
Optional Part
Figure 8.36 EXM message format.
TABLE 8.24 CCR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Continuity check request (CCR) 
0 
0 
0 
1 
 
0 
0 
0 
1
TABLE 8.25 EXM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Exit (EXM) 
1 
1 
1 
0 
 
1 
1 
0 
1
Optional parameter(s):
Outgoing trunk group number 
1 
1 
1 
0 
 
0 
1 
1 
1

360      Chapter 8
all other codes are considered as network-specific and are undefined in the standards 
(Table 8.26).
*Facility Accepted (FAA) The FAA is sent in response to a facility request (FAR) to in-
dicate that the requested facility has been activated (Figure 8.38). No procedures have 
been defined for use in ANSI networks (Table 8.27). 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Facility Accepted
Figure 8.37 FAC message format.
TABLE 8.26 FAC Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Facility (FAC) 
0 
0 
1 
1 
 
0 
0 
1 
1
Optional parameter(s):
*Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
*Call transfer number 
0 
1 
0 
0 
 
0 
1 
0 
1
*Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
*Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
*Pivot counter 
1 
0 
0 
0 
 
0 
1 
1 
1
*Pivot routing backward information 
1 
0 
0 
0 
 
1 
0 
0 
1
Pivot routing indicator 
0 
1 
1 
1 
 
1 
1 
0 
0
*Pivot status 
1 
0 
0 
0 
 
0 
1 
1 
0
Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
*Redirection number 
0 
0 
0 
0 
 
1 
1 
0 
0
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Facility Accepted
Facility Indicator
Call Reference
User-to-User Indicators
End of Optional Parameters
Mandatory Fixed Part
Optional Part
Figure 8.38 FAA message format.

ISDN User Part (ISUP)      361
*Facility Reject (FRJ) ITU networks use this message to reject a facility request mes-
sage (Figure 8.39). This procedure is not used in ANSI networks (Table 8.28). 
*Facility Request (FAR) This message is sent from one exchange to another to request 
a facility to be activated (Figure 8.40). It is defined only in ITU networks and is not 
defined for use in ANSI networks (Table 8.29). 
TABLE 8.27 FAA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Facility accepted (FAA) 
0 
0 
1 
0 
 
0 
0 
0 
0
Mandatory fixed parameter(s):
Facility indicator 
0 
0 
0 
1 
 
1 
0 
0 
0
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
TABLE 8.28 FRJ Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Facility reject (FRJ) 
0 
0 
1 
0 
 
0 
0 
0 
1
Mandatory fixed parameter(s):
Facility indicator 
0 
0 
0 
1 
 
1 
0 
0 
0
Mandatory variable parameter(s):
Cause indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
Optional parameter(s):
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Facility Rejected
Cause Indicators
Facility Indicator
Call Reference
User-to-User Indicators
Mandatory Fixed Part
Optional Part
End of Optional Parameters
Figure 8.39 FRJ message format.

362      Chapter 8
Forward Transfer (FOT) The forward transfer (FOT) is used in conjunction with opera-
tor services (Figure 8.41). In exchanges where telephone calls are set up automatically, 
an operator is only needed in certain circumstances. This message is sent in the forward 
direction to bring an operator into the circuit when operator assistance is required to 
complete the call. When the call has been completed, the operator can be recalled to 
terminate the call or initiate another call for the same calling party (Table 8.30).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Facility Request
Facility Indicator
Call Reference
User-to-User Indicators
End of Optional Parameters
Mandatory Fixed Part
Optional Part
Figure 8.40 FAR message format.
TABLE 8.29 FAR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Facility request (FAR) 
0 
0 
0 
1 
 
1 
1 
1 
1
Mandatory fixed parameter(s):
Facility indicator 
0 
0 
0 
1 
 
1 
0 
0 
0
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Forward Transfer
Optional Part
Call Reference
End of Optional Parameters
Figure 8.41 FOT message format.

ISDN User Part (ISUP)      363
*Identification Request (IDR) This message is used to activate the malicious call iden-
tification supplementary service in ITU networks (Figure 8.42). When an exchange 
receives an IDR, it returns an IRS containing the called- and calling-party numbers, as 
well as a timestamp for the call. There is also support for holding the call in its present 
state (seized) until the operator intervenes. This could be used for holding a connection 
for emergency purposes, for example (Table 8.31). 
*Identification Response (IRS) The IRS message is sent in response to the IDR message 
and provides the called- and calling-part number for a call, as well as a timestamp for 
the call (Figure 8.43). This procedure is defined for use in ITU networks but is not de-
fined for ANSI networks (Table 8.32). 
TABLE 8.30 FOT Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Forward transfer (FOT) 
0 
0 
0 
0 
 
1 
0 
0 
0
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Identification Request
Optional Parameters
MCID Request Indicators
Message Compatibility Information
Parameter Compatibility Information
End of Optional Parameters
Figure 8.42 IDR message format.
TABLE 8.31 IDR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Identification request (IDR) 
0 
0 
1 
1 
 
0 
1 
1 
0
Optional parameter(s):
MCID request indicators 
0 
0 
1 
1 
 
1 
0 
1 
1
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1

364      Chapter 8
TABLE 8.32 IRS Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Identification response (IRS) 
0 
0 
1 
1 
 
0 
1 
1 
1
Optional parameter(s):
MCID response indicators 
0 
0 
1 
1 
 
1 
1 
0 
0
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Calling-party number 
0 
0 
0 
0 
 
1 
0 
1 
0
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
Charged-party identification 
0 
1 
1 
1 
 
0 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Identification Response (IRS)
Optional Parameters
MCID Response Indicators
Message Compatibility Information
Parameter Compatibility Information
Calling Party Number
Access Transport
Generic Number
Charged Party Identification
End of Optional Parameters
Figure 8.43 IRS message format.
TABLE 8.33 INF Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Information (INF) 
0 
0 
0 
0 
 
0 
1 
0 
0
Fixed mandatory parameter(s):
Information indicators 
0 
0 
0 
0 
 
1 
1 
1 
1
Optional parameter(s):
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Calling-party number 
0 
0 
0 
0 
 
1 
0 
1 
0
Calling party’s category 
0 
0 
0 
0 
 
1 
0 
0 
1
Charge number 
1 
1 
1 
0 
 
1 
0 
1 
1
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Originating line information 
1 
1 
1 
0 
 
1 
0 
1 
0
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Redirection information 
0 
0 
0 
1 
 
0 
0 
1 
1
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0

ISDN User Part (ISUP)      365
Information (INF) The INF is used to pass additional information about a call on re-
quest from the distant exchange (Figure 8.44). The information is requested from an 
exchange using the INR, and the reply is carried in the INF message. The type of infor-
mation is usually call-handling information, such as the number to which to forward a 
call or a billing number (Table 8.33).
Information Request (INR) The information request (INR) can be sent by an exchange 
while a call is in progress to request additional information from another exchange 
(Figure 8.45). The additional information is carried in an information message (INF) 
and may provide redirection instructions (forwarding) or other call-handling information 
(Table 8.34).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Information
Information Indicators
Access Transport
Business Group
Call Reference
Calling Party Number
Calling Party’s Category
Charge Number
Connection Request
Originating Line Information
Redirecting Number
Redirection Information
User-to-User Information
End of Optional Parameters
Mandatory Fixed Part
Optional Part
Figure 8.44 INF message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Information Request
Mandatory Fixed Part
Optional Part
Information Request Indicators
Call Reference
Connection Request
Network Transport Parameter
End of Optional Parameters
Figure 8.45 INR message format.

366      Chapter 8
Initial Address Message (IAM) This is the message used to establish a connection on a 
specified circuit (Figure 8.46). The IAM provides the circuit information that includes 
the carrier identification (the long-distance carrier that will be used for this call) and any 
special requirements to consider in the handling of this call. The IAM is by far the most 
comprehensive of the ISUP messages and has many parameters. Refer to the section 
“Broadband Parameters” later in the chapter for the parameter values and definitions  
(Table 8.35).
TABLE 8.34 INR Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Information request (INR) 
0 
0 
0 
0 
 
0 
0 
1 
1
Fixed mandatory parameter(s):
Information request indicators 
0 
0 
0 
0 
 
1 
1 
1 
0
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Network transport parameter 
1 
1 
1 
0 
 
1 
1 
1 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
TABLE 8.35 IAM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Initial address message (IAM) 
0 
0 
0 
0 
 
0 
0 
0 
1
Mandatory fixed parameter(s):
Calling party’s category 
0 
0 
0 
0 
 
1 
0 
0 
1
Forward call indicators 
0 
0 
0 
0 
 
0 
1 
1 
1
Mandatory variable parameter(s):
Nature of connection indicators 
0 
0 
0 
0 
 
0 
1 
1 
0
Transmission medium requirement 
0 
0 
0 
0 
 
0 
0 
1 
0
Optional parameter(s):
Called-party number 
0 
0 
0 
0 
 
0 
1 
0 
0
User service information 
0 
0 
0 
1 
 
1 
1 
0 
1
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Automatic rerouting 
1 
0 
0 
1 
 
0 
1 
1 
0
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
*Call diversion treatment indicators 
0 
1 
1 
0 
 
1 
1 
1 
0
*Call offering treatment indicators 
0 
1 
1 
1 
 
0 
0 
0 
0
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
*Called directory number 
0 
1 
1 
1 
 
1 
1 
0 
1
*Called IN number 
0 
1 
1 
0 
 
1 
1 
1 
1
Calling geodetic location 
1 
0 
0 
0 
 
0 
0 
0 
1
Calling-party number 
0 
0 
0 
0 
 
1 
0 
1 
0
Carrier identification 
1 
1 
0 
0 
 
0 
1 
0 
1
Carrier selection information 
1 
1 
1 
0 
 
1 
1 
1 
0
Carrier service provider identification 
1 
1 
1 
0 
 
0 
0 
1 
0
CCSS 
0 
1 
0 
0 
 
1 
0 
1 
1
Charge number 
1 
1 
1 
0 
 
1 
0 
1 
1
Circuit assignment map 
0 
0 
1 
0 
 
0 
1 
0 
1
(Continued)

ISDN User Part (ISUP)      367
TABLE 8.35 (Continued)
*Collect call request 
0 
1 
1 
1 
 
1 
0 
0 
1
*Conference treatment indicators 
0 
1 
1 
1 
 
0 
0 
1 
0
Connection request 
0 
0 
0 
0 
 
1 
1 
0 
1
*Correlation ID 
0 
1 
1 
0 
 
0 
1 
0 
1
*CUG interlock code 
0 
0 
0 
1 
 
1 
0 
1 
0
*Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
Egress service 
1 
1 
0 
0 
 
0 
0 
1 
1
*Forward GVNS 
0 
1 
0 
0 
 
1 
1 
0 
0
Generic address 
1 
1 
0 
0 
 
0 
0 
0 
0
Generic digits 
1 
1 
0 
0 
 
0 
0 
0 
1
Generic name 
1 
1 
0 
0 
 
0 
1 
1 
1
*Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
*Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
*Generic reference 
0 
1 
0 
0 
 
0 
0 
1 
0
Hop counter 
0 
0 
1 
1 
 
1 
1 
0 
1
Information request indicators 
0 
0 
0 
0 
 
1 
1 
1 
0
Jurisdiction information 
1 
1 
0 
0 
 
0 
1 
0 
0
*Location number 
0 
0 
1 
1 
 
1 
1 
1 
1
*MLPP precedence 
0 
0 
1 
1 
 
1 
0 
1 
0
*Network management controls 
0 
1 
0 
1 
 
1 
0 
1 
1
*Network routing number 
1 
0 
0 
0 
 
0 
1 
0 
0
*Network specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
Network transport 
1 
1 
1 
0 
 
1 
1 
1 
1
*Number portability forward information 
1 
0 
0 
0 
 
1 
1 
0 
1
Operator services information 
1 
1 
0 
0 
 
0 
0 
1 
0
*Optional forward call indicators 
0 
0 
0 
0 
 
1 
0 
0 
0
Original called number 
0 
0 
1 
0 
 
1 
0 
0 
0
*Original called IN number 
0 
1 
1 
1 
 
1 
1 
1 
1
Originating line information 
1 
1 
1 
0 
 
1 
0 
1 
0
*Origination ISC point code 
0 
0 
1 
0 
 
1 
0 
1 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Pivot capability 
0 
1 
1 
1 
 
1 
0 
1 
1
*Pivot counter 
1 
0 
0 
0 
 
0 
1 
1 
1
*Pivot routing forward information 
1 
0 
0 
0 
 
1 
0 
0 
0
Precedence 
0 
0 
1 
1 
 
1 
0 
1 
0
*Propagation delay counter 
0 
0 
1 
1 
 
0 
0 
0 
1
*Query on release capability 
1 
0 
0 
0 
 
0 
1 
0 
1
Redirect capability 
0 
1 
0 
0 
 
1 
1 
1 
0
Redirect counter 
0 
1 
1 
1 
 
0 
1 
1 
1
Redirect forward information 
1 
0 
0 
0 
 
1 
0 
1 
1
Redirect capability 
0 
1 
0 
0 
 
1 
1 
1 
0
Redirect counter 
0 
1 
1 
1 
 
0 
1 
1 
1
Redirect forward information 
1 
0 
0 
0 
 
1 
0 
1 
1
*Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
Redirecting number 
0 
0 
0 
0 
 
1 
0 
1 
1
Redirection information 
0 
0 
0 
1 
 
0 
0 
1 
1
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
*SCF identification 
0 
1 
1 
0 
 
0 
1 
1 
0
Service code indicator 
1 
1 
1 
0 
 
1 
1 
0 
0
Special processing request 
1 
1 
1 
0 
 
1 
1 
0 
1
Transaction request 
1 
1 
1 
0 
 
0 
0 
1 
1
Transit network selection 
0 
0 
1 
0 
 
0 
0 
1 
1
Transmission medium requirement 
0 
0 
0 
0 
 
0 
0 
1 
0
*Transmission medium requirement prime 
0 
0 
1 
1 
 
1 
1 
1 
0
(Continued)

368      Chapter 8
TABLE 8.35 IAM Fields and Codes (Continued)
*UID capability indicators 
0 
1 
1 
1 
 
0 
1 
0 
1
*User service information 
0 
0 
0 
1 
 
1 
1 
0 
1
User service information prime 
0 
0 
1 
1 
 
0 
0 
0 
0
*User teleservice information 
0 
0 
1 
1 
 
0 
1 
0 
0
*User-to-user indicators 
0 
0 
1 
0 
 
1 
0 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Initial Address Message
Mandatory Fixed Part
Optional Part
Nature of Connection Indicators
Forward Call Indicators
Calling Party’s Category
User Service Information
Called Party Number
Access Transport
Business Group
Call Reference
Calling Party Number
Carrier Identification
Carrier Selection Information
Charge Number
Circuit Assignment Map
Connection Request
Egress Service
Generic Address
Generic Digits
Generic Name
Hop Counter
Information Request Indicators
Jurisdiction Information
Network Transport
Original Called Number
Originating Line Information
Precedence
Redirecting Number
Redirection Information
Remote Operations
Service Activation Parameter
Service Code
Special Processing Request
Transaction Request
Transit Network Selection
User Service Information Prime
User-to-User Information
End of Optional Parameters
Mandatory Variable Part
Figure 8.46 IAM message format.

ISDN User Part (ISUP)      369
Loopback Acknowledgment (LPA) No parameters are given in this message (Figure 8.47). 
This message is used to indicate that loopback equipment has been connected in re-
sponse to a CCR and that loopback testing is being performed. The voice circuit identi-
fication is provided in the CIC field (Table 8.36).
*Loop Prevention (LOP) ITU networks use this message to exchange information as 
required by supplementary services (Figure 8.48). No procedures could be found de-
scribing its exact use; however, it can be assumed that its original purpose was for 
preventing looping of messages (Table 8.37). 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Loopback Acknowledgment
Figure 8.47 LPA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Loop Prevention (LOP)
Optional Parameters
Message Compatibility Information
Parameter Compatibility Information
Call Transfer Reference
Loop Prevention Indicators
End of Optional Parameters
Figure 8.48 LOP message format.
TABLE 8.36 LPA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Loopback acknowledgment (LPA) 
0 
0 
1 
0 
 
0 
1 
0 
0

370      Chapter 8
*Network Resource Management (NRM) This message allows the network to make 
changes to resources dedicated to a call in progress (Figure 8.49). The message can be 
sent in any direction during any phase of a call using an established path (there are no 
procedures defined for this message to establish its own path) (Table 8.38). 
*Overload (OLM) This message is used in ITU networks by exchanges with load con-
trol (Figure 8.50). On receipt of an IAM, the receiving exchange sends this message 
in the backward direction indicating that the trunk identified in the IAM is blocked  
(temporarily) (Table 8.39). 
TABLE 8.37 LOP Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Loop prevention (LOP) 
0 
1 
0 
0 
 
0 
0 
0 
0
Optional parameter(s):
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Call transfer reference 
0 
1 
0 
0 
 
0 
1 
0 
1
Loop prevention indicators 
0 
1 
0 
0 
 
0 
1 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Network Resource Management
Destination Signaling Identifier
Echo Control Information
Figure 8.49 NRM message format.
TABLE 8.38 NRM Fields and Codes
Network resource management (NRM) 
0 
0 
1 
1 
 
0 
0 
1 
0
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Echo control information 
0 
0 
1 
1 
 
0 
1 
1 
1
TABLE 8.39 OLM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Overload (OLM) 
0 
0 
1 
1 
 
0 
0 
0 
0

ISDN User Part (ISUP)      371
Pass Along (PAM) There are no specific parameters associated with this command 
(Figure 8.51). However, when the pass-along message (PAM) type is given, another mes-
sage type normally is contained within (as if parameters). This enables a message to be 
routed to the exchange associated with the specified voice circuit connection so that infor-
mation may be passed along using the same path as that used for the call-setup messages  
(Table 8.40).
Prerelease Information (PRI) This message was developed for use in networks employ-
ing versions of SS7 that would have compatibility issues with newer versions of SS7, 
specifically parameters within the REL message (Figure 8.52). The PRI contains the 
information that would not be compatible with the REL message based on that net-
work’s version of ISUP. The message and parameter compatibility parameters contain 
information on how an exchange should respond in the event that there is information 
within this message that it does not understand (Table 8.41). 
Release (REL) The REL is sent in either direction indicating that one of the parties 
(called or calling) has gone on-hook and that the call is being terminated (Figure 8.53). 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Overload
Figure 8.50 OLM message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Pass-Along Message
Figure 8.51 PAM message format.
TABLE 8.40 PAM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Pass along (PAM) 
0 
0 
1 
0 
 
1 
0 
0 
0

372      Chapter 8
TABLE 8.41 PRI Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Prerelease information (PRI) 
0 
1 
0 
0 
 
0 
0 
1 
0
Optional parameter(s):
Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
Optional forward call indicators 
0 
0 
0 
0 
 
1 
0 
0 
0
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Prerelease Information
Optional Parameters
Application Transport
Message Compatibility Information
Optional Backward Call Indicators
Optional Forward Call Indicators
Parameter Compatibility Information
End of Optional Parameters
Figure 8.52 PRI message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Release
Mandatory Variable Part
Optional Part
Cause Indicators
Access Transport
Automatic Congestion Level
Call Reference
Charge Number
Generic Address
Remote Operations
Service Activation
User-to-User Information
End of Optional Parameters
Figure 8.53 REL message format.

ISDN User Part (ISUP)      373
The REL does not return the circuit back to its idle state, however. An RLC must be 
received before the circuit is returned to idle (Table 8.42).
Release Complete (RLC) No parameters are given in the RLC, only the message type 
field (Figure 8.54). The RLC is used to indicate receipt of an REL message and serves 
as an acknowledgment of the release. Once the RLC has been received, the indicated 
circuit can be released and returned to its idle state. The CIC is sent with this message 
but is not an integral part of the message itself. The CIC is presented just after the 
routing label (Table 8.43).
TABLE 8.42 REL Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Release (REL) 
0 
0 
0 
0 
 
1 
1 
0 
0
Mandatory parameter(s):
Cause indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
Optional parameter(s):
*Access delivery information 
0 
0 
1 
0 
 
1 
1 
1 
0
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Automatic congestion level 
0 
0 
1 
0 
 
0 
1 
1 
1
Automatic rerouting 
1 
0 
0 
1 
 
0 
1 
1 
0
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
Charge number 
1 
1 
1 
0 
 
1 
0 
1 
1
*Display information 
0 
1 
1 
1 
 
0 
0 
1 
1
Generic address 
1 
1 
0 
0 
 
0 
0 
0 
0
*HTR information 
1 
0 
0 
0 
 
0 
0 
1 
0
*Network-specific facility 
0 
0 
1 
0 
 
1 
1 
1 
1
*Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Redirect backward information 
1 
0 
0 
0 
 
1 
1 
0 
0
*Redirect counter 
0 
1 
1 
1 
 
0 
1 
1 
1
*Redirection information 
0 
0 
0 
1 
 
0 
0 
1 
1
Redirection number 
0 
0 
0 
0 
 
1 
1 
0 
0
*Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
*Signaling point code 
0 
0 
0 
1 
 
1 
1 
1 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Release Complete
Figure 8.54 RLC message format.

374      Chapter 8
Reset Circuit (RSC) No parameters are given in the reset circuit message (RSC)  
(Figure 8.55). The purpose of this message is to enable an exchange to reset a circuit 
to the state that exchange thinks the circuit should be in. This is done when a memory 
error occurs at an exchange, and it no longer knows the state of the circuit in question. 
To restart from scratch, the RSC is sent. Any calls in progress or blocked conditions are 
released, and the circuit is returned to an idle state after an alignment procedure (not 
to be confused with the alignment procedure used on SS7 links) (Table 8.44).
Resume (RES) The RES is used in two circumstances (Figure 8.56). In a network where 
interworking is used, RES indicates that the interworking node has reanswered. In a 
network with non-ISDN circuits, the RES indicates that a non-ISDN called party went 
TABLE 8.43 RLC Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Release complete (RLC) 
0 
0 
0 
1 
 
0 
0 
0 
0
TABLE 8.44 RSC Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Reset circuit (RSC) 
0 
0 
0 
1 
 
0 
0 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Reset Circuit
Figure 8.55 RSC message format.
Figure 8.56 RES message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Resume
Mandatory Fixed Part
Optional Part
Suspend Indicators
Call Reference
End of Optional Parameters

ISDN User Part (ISUP)      375
on-hook but then went back off-hook again within a certain time (quickly), and the 
call connection should remain established. Had the called party stayed on-hook past 
the specified time (network-dependent), the SUS message would have been sent in the 
backward direction to begin releasing the circuit (Table 8.45).
Segmentation (SGM) This is used in both ANSI and ITU networks to indicate that an 
ISUP message has been segmented owing to being beyond the allowed ISUP message 
length (Figure 8.57 and Table 8.46). 
TABLE 8.45 RES Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Resume (RES) 
0 
0 
0 
0 
 
1 
1 
1 
0
Mandatory fixed parameter(s):
Suspend/resume indicators 
0 
0 
1 
0 
 
0 
0 
1 
0
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
TABLE 8.46 SGM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Segmentation (SGM) 
0 
0 
1 
1 
 
1 
0 
0 
0
Optional parameter(s):
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1
Generic digits 
1 
1 
0 
0 
 
0 
0 
0 
1
Generic notification indicator 
0 
0 
1 
0 
 
1 
1 
0 
0
Generic number 
1 
1 
0 
0 
 
0 
0 
0 
0
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Segmentation (SGM)
Optional Parameters
Access Transport
Generic Digits
Generic Notification Indicator
Generic Number
Message Compatibility Information
User-to-User Information
End of Optional Parameters
Figure 8.57 SGM message format.

376      Chapter 8
*Subsequent Address Message (SAM) The subsequent address message (SAM) is sent 
in the forward direction after the IAM, providing additional called-party information 
(Figure 8.58). The message is not used in U.S. networks but is used in ITU networks 
(Table 8.47). 
*Subsequent Directory Number (SDN) This message is sent after an IAM when the 
called-party number is provided in the called-directory number parameter. It is used 
only when sending additional called-party information not provided in the IAM. This 
procedure is only defined for ITU networks (Table 8.48).
Suspend (SUS) This message is used when a non-ISDN party is returned to an on-
hook state (Figure 8.59). When an ISDN party is returned on-hook, only the REL is 
used, but with non-ISDN, the SUS is sent first and is followed by the REL and RLC 
after the expiration of timer T6. This allows the network to hold the call connection for 
a specified time before releasing the circuits in the event that there was a “quick” on-
hook/off-hook condition (subscriber accidentally disconnected but then quickly recon-
nected, for example) (Table 8.49). For complete call setup and teardown information, 
review previous sections in this chapter on call setup and teardown.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Subsequent Address Message
Mandatory Fixed Part
Subsequent Number
Figure 8.58 SAM message format.
TABLE 8.47 SAM Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Subsequent address (SAM) 
0 
0 
0 
0 
 
0 
0 
1 
0
TABLE 8.48 SDN Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Subsequent directory number (SDN) 
0 
1 
0 
0 
 
0 
0 
1 
1
Optional parameter(s):
Subsequent number 
0 
0 
0 
0 
 
0 
1 
0 
1
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0

ISDN User Part (ISUP)      377
Unblocking (UBL) No parameters are given in the unblocking message (UBL)  
(Figure 8.60). This message is sent by an exchange to remove a blocking condition at a 
remote exchange. The circuit being unblocked is indicated in the CIC field (Table 8.50).
Unblocking Acknowledgment (UBA) No parameters are given in the unblocking ac-
knowledgment message (UBA) (Figure 8.61). This message is sent to acknowledge 
receipt of the UBL. The acknowledgment also indicates that the circuit has been un-
blocked. The circuit is identified in the CIC field (Table 8.51).
TABLE 8.49 SUS Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Suspend (SUS) 
0 
0 
0 
0 
 
1 
1 
0 
1
Mandatory fixed parameter(s):
Suspend/resume indicators 
0 
0 
1 
0 
 
0 
0 
0 
1
Optional parameter(s):
Call reference 
0 
0 
0 
0 
 
0 
0 
0 
1
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Suspend
Mandatory Fixed Part
Optional Part
Suspend Indicators
Call Reference
End of Optional Parameters
Figure 8.59 SUS message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unblocking
Figure 8.60 UBL message format.
TABLE 8.50 UBL Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Unblocking (UBL) 
0 
0 
0 
1 
 
0 
1 
0 
0

378      Chapter 8
Unequipped Circuit Identification Code (UCIC) There are no parameters in this message 
(Figure 8.62). This message is used to notify a distant exchange that is the originator of 
an ISUP IAM that the CIC it has requested to be connected is not equipped. On receipt 
of this message, the exchange that originated the IAM must select a different CIC while 
marking the first CIC as unavailable (Table 8.52).
*User Part Available (UPA) This is used in ITU networks to indicate the availability of 
a user part that was previously marked as unavailable by network management proce-
dures (Figure 8.63). The UPA is sent in response to the UPT message (Table 8.53). 
TABLE 8.51 UBA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Unblocking acknowledgment (UBA) 
0 
0 
0 
1 
 
0 
1 
1 
0
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unblocking Acknowledgment
Figure 8.61 UBA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unequipped CIC
Figure 8.62 UCIC message format.
TABLE 8.52 UCIC Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Unequipped circuit identification code (UCIC)  
0 
0 
1 
0 
 
1 
1 
1 
0
TABLE 8.53 UPA Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
User part available (UPA) 
0 
0 
1 
1 
 
0 
1 
0 
1
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1

ISDN User Part (ISUP)      379
*User Part Test (UPT) UPT is sent to test the availability of a user part that was previ-
ously indicated as unavailable by network management procedures (Figure 8.64). The 
UPA is returned in response to this message (Table 8.54). 
User-to-User Information (USR) The ITU standards define this parameter for use 
when exchanging signaling between two end users independent of the network sig-
naling (Figure 8.65). For example, two independent networks could use a transiting 
network to connect but exchange signaling transparently from the transiting network  
(Table 8.55).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User Part Available
Destination Signaling Identifier
Figure 8.63 UPA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User Part Test (UPT)
Optional Parameters
Parameter Compatibility Information
End of Optional Parameters
Figure 8.64 UPT message format.
TABLE 8.54 UPT Parameters and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
User part test (UPT) 
0 
0 
1 
1 
 
0 
1 
0 
1
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
TABLE 8.55 USR Parameters and Codes and Fields
 
H 
G 
F 
E 
 
D 
C 
B 
A
User-to-user information (USR) 
0 
0 
1 
0 
 
1 
1 
0 
1
Mandatory variable parameter(s):
User-to-user information 
0 
0 
1 
0 
 
0 
0 
0 
0
Optional parameter(s):
Access transport 
0 
0 
0 
0 
 
0 
0 
1 
1

380      Chapter 8
ISUP Parameters
The preceding subsection defined all the message types and their structures. Each of 
the parameters possible with any one message type was outlined, and the parameter 
name value was provided. However, parameters contain additional information besides 
the parameter name.
Because parameters can be used in multiple message types, it is easier to list them all 
here in alphabetical order. In this subsection, all parameters for both ANSI and ITU-TS 
are listed, along with illustrations showing the message structure of each parameter. To 
find this information in any of the standards publications, you would have to refer to 
several sections because of the way the information is segregated. All the information 
regarding parameters has been grouped here in one section for easy reference.
*Access Delivery Information
Access Transport The access transport parameter is generated by the originating ex-
change and is sent transparently through the network to the terminating exchange. 
The information contained in this parameter is of no significance to the network (there-
fore, it is ignored by tandem switches) but is of significance to the originating and 
terminating exchanges, as well as the user. The exact format of this parameter and its 
contents depends on the implementation, which is left to local definitions. 
Application Transport The purpose of this message is to support the transport of infor-
mation between two remote applications, maintaining transparency to the network. 
The information being exchanged is of significance only to the remote application re-
ceiving the information. This allows applications to exchange information through the 
public network (and between different carriers) without concern about the networks 
interaction with the information (Table 8.56). 
Segmentation local reference. This is a unique value assigned to a call so that seg-
ments in an APM segmentation can be associated and correlated. 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User-to-User Information
Mandatory Fixed Part
Optional Part
User-to-User Information
Access Transport
Call Reference
End of Optional Parameters
Figure 8.65 USR message format.

ISDN User Part (ISUP)      381
APM-user information field. There are a number of fields for this part of the param-
eter, as illustrated in Table 8.56. The values for these fields are variable, as noted 
here. 
Originating address length. The value can be 0 or any value 3 through 20.
Originating address. Several fields comprise the originating address field. Refer to 
the nature of address fields elsewhere in this section, as well as to numbering plan 
and address signals for exact coding.
Destination address length. The value can be 0 or any value 3 through 20.
Destination address. This follows the same format as the originating address. 
Encapsulated application information. This is where the actual application data are 
found. Formatting of this field(s) depends on the application itself.
TABLE 8.56 Application Transport Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Application transport 
0 
1 
1 
1 
 
1 
0 
0 
0
Application context identifier 
 
x 
x 
x 
 
x 
x 
x 
x
Octet 1a 
H 
G 
F 
E 
 
D 
C 
B 
A
Unidentified context and error handling 
 
0 
0 
0 
 
0 
0 
0 
0
PSS1 ASE (VPN) 
 
0 
0 
0 
 
0 
0 
0 
1
Spare 
 
0 
0 
0 
 
0 
0 
1 
0
Charging ASE 
 
0 
0 
0 
 
0 
0 
1 
1
GAT 
 
0 
0 
0 
 
0 
1 
0 
0
BAT ASE 
 
0 
0 
0 
 
0 
1 
0 
1
Enhanced unidentified context and error handling ASE 
 
0 
0 
0 
 
0 
1 
1 
0
Spare 
 
0 
0 
0 
 
0 
1 
1 
1
 
 
 
 
 
to 
 
 
0 
1 
1 
 
1 
1 
1 
1
Reserved for ITU 
 
1 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to 
 
 
1 
1 
1 
 
1 
1 
1 
1
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Application transport instruction indicators  
Release call indicator (RCI) 
Do not release call 
 
 
 
 
 
 
 
 
0
Release call 
 
 
 
 
 
 
 
 
1
Send notification indicator (SNI) 
Do not send notification 
 
 
 
 
 
 
 
0 
Send notification 
 
 
 
 
 
 
 
1 
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
(Continued)

382      Chapter 8
Automatic Congestion Level This is an optional parameter that may be sent in an REL 
to indicate the level of congestion at the originating exchange. The meanings of the levels 
indicated are implementation-dependent. The action taken by the receiving exchange is 
also implementation-dependent. This parameter simply provides an alerting mechanism 
to show that some level of congestion exists in another exchange  (Table 8.57).
Automatic Rerouting This parameter was introduced to allow a switch to pull a call back 
to the switch for rerouting through a different route. This assumes that the function has 
been implemented network-wide. The procedure is referred to as a crank back of a call, 
meaning that a call was routed from an switch to another exchange, but for some reason 
the call could not be completed. On receipt of an REL from the remote exchange, the 
switch can then “crank back” the call to the stage it was at prior to the failed routing and 
try a different route for the call. This procedure could be used in cases where there is con-
gestion, for example, or no route exists for the call at the remote exchange (Table 8.58). 
TABLE 8.56 Application Transport Fields and Codes (Continued)
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
APM segmentation indicator 
Final segment 
 
 
0 
0 
 
0 
0 
0 
0
Indicates the number of following segments 
 
 
0 
0 
 
0 
0 
0 
1
 
 
 
 
 
to 
 
 
 
0 
0 
 
1 
0 
0 
1
Spare 
 
 
0 
0 
 
1 
0 
1 
0
 
 
 
 
 
to 
 
 
 
1 
1 
 
1 
1 
1 
1
Sequence indicator 
Subsequent segment to first segment 
 
0 
 
 
 
 
 
New sequence 
 
1 
 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Octet 3a 
H 
G 
F 
E 
 
D 
C 
B 
A
Segmentation local reference 
 
x 
x 
x 
 
x 
x 
x 
x
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Octet 4 
H 
G 
F 
E 
 
D 
C 
B 
A
APM-user information 
Originating address length 
(see notes below)
Octet 4a: Originating address 
Nature of address indicator 
(see notes below)
Odd/even bits indicator 
(see notes below)
Numbering plan 
(see notes below)
First address signal 
(see notes below)
Second address signal 
(see notes below)
Nth address signal 
(see notes below)
Destination address length 
(see notes below)
Destination address  
(see notes below)
Encapsulated application information 
(see notes below)

ISDN User Part (ISUP)      383
Backward Call Indicators The backward call indicators parameter is sent in the back-
ward direction (back to the originating exchange) to provide information regarding 
charging, the status of the called party, and various other forms of information that 
may be needed to complete the processing of a call (Table 8.59). The charge indicator 
indicates whether the call is a chargeable call. If the call is chargeable, then the num-
ber to which the call is to be charged is also provided. The status parameter indicates 
TABLE 8.57 Automatic Congestion Level Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Automatic congestion level 
0 
0 
1 
0 
 
0 
1 
1 
1
Spare 
0 
0 
0 
0 
 
0 
0 
0 
0
Automatic congestion level 1 
0 
0 
0 
0 
 
0 
0 
0 
1
Automatic congestion level 2 
0 
0 
0 
0 
 
0 
0 
1 
0
Automatic congestion level 3 
0 
0 
0 
0 
 
0 
0 
1 
1
Spare 
0 
0 
0 
0 
 
0 
1 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.58 Automatic Rerouting Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Automatic rerouting 
1 
0 
0 
1 
 
0 
1 
1 
0
Rerouting counter 
Not used 
 
 
0 
0 
 
0 
0 
0 
0
First crank-back attempt 
 
 
0 
0 
 
0 
0 
0 
1
Second crank-back attempt 
 
 
0 
0 
 
0 
0 
1 
0
 
 
 
 
 
to
63rd crank-back attempt 
 
 
1 
1 
 
1 
1 
1 
1
Rerouting inhibit indicator 
No indication 
 
0 
 
 
 
 
 
Do not crank back 
 
1 
 
 
 
 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Octet 1a 
Rerouting reason 
Unknown/not available 
 
0 
0 
0 
 
0 
0 
0 
0
Trunk group data 
 
0 
0 
0 
 
0 
0 
0 
1
Cause code 
 
0 
0 
0 
 
0 
0 
1 
0
Routing data 
 
0 
0 
0 
 
0 
0 
1 
1
Spare 
 
0 
0 
0 
 
0 
1 
0 
0
 
 
 
 
 
to 
 
 
0 
1 
1 
 
1 
1 
1 
1
Spare for national use 
 
1 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
1
Extension bit 
1 
 
 
 
 
 
 

384      Chapter 8
whether the called party is available. If not, then no indication is given in the charge 
field, and the calling party is returned a busy tone. 
The category indicator indicates the category (pay phone, for example) of the called party. 
This information is used during call processing and may imply a special handling of the call 
(e.g., a pay phone may require special handling for billing and operator assistance).
TABLE 8.59 Backward Call Indicators Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Backward call indicators 
0 
0 
0 
1 
 
0 
0 
0 
1
Charge indicators 
No indication 
 
 
 
 
 
 
 
0 
0
No charge 
 
 
 
 
 
 
 
0 
1
*Charge 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Called party’s status indicator 
No indication 
 
 
 
 
 
0 
0 
 
Subscriber free 
 
 
 
 
 
0 
1 
 
*Connect when free 
 
 
 
 
 
1 
0 
 
Excessive delay 
 
 
 
 
 
1 
1 
 
Called party’s category indicator 
No indication 
 
 
0 
0 
 
 
 
Ordinary subscriber 
 
 
0 
1 
 
 
 
*Pay phone 
 
 
1 
0 
 
 
 
Spare 
 
 
1 
1 
 
 
 
End-to-end method indicator 
No end-to-end method available 
0 
0 
 
 
 
 
 
Pass-along method available 
0 
1 
 
 
 
 
 
SCCP method available 
1 
0 
 
 
 
 
 
Pass-along and SCCP methods available 
1 
1 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Interworking indicator 
No interworking encountered 
 
 
 
 
 
 
 
 
0
Interworking encountered 
 
 
 
 
 
 
 
 
1
IAM segmentation indicator 
No indication 
 
 
 
 
 
 
 
0 
Additional info has been received and added to IAM 
 
 
 
 
 
 
 
1 
ISUP indicator 
ISUP not used all the way (end to end) 
 
 
 
 
 
 
0 
 
ISUP used all the way (end to end) 
 
 
 
 
 
 
1 
 
Holding indicator 
Holding not required 
 
 
 
 
 
0 
 
 
*Holding required 
 
 
 
 
 
1 
 
 
ISDN access indicator 
Terminating access non-ISDN 
 
 
 
0 
 
 
 
Terminating access ISDN 
 
 
 
1 
 
 
 
Echo control device indicator 
Incoming half-echo control device not included 
 
 
0 
 
 
 
 
Incoming half-echo control device included 
 
 
1 
 
 
 
 
SCCP method indicator 
No indication 
0 
0 
 
 
 
 
 
*Connectionless method available 
0 
1 
 
 
 
 
 
*Connection-oriented method available 
1 
0 
 
 
 
 
 
*Connectionless and connection-oriented available 
1 
1 
 
 
 
 
 

ISDN User Part (ISUP)      385
The end-to-end indicator is used by the protocol to designate the method of ISUP 
signaling available for this call. The protocol then can use this information to make a 
decision as to which method will be used. In ANSI networks, the pass-along method is 
used most widely. The SCCP method is not supported in ANSI networks.
Interworking encountered means that another signaling system other than SS7 will 
be encountered for this call. For example, an exchange still may be using MF signal-
ing and is needed to complete the path for this call. In this case, the SS7 interworking 
procedures discussed early in this chapter will have to be used.
The ISUP indicator will tell whether ISUP is used through all segments of the net-
work involved with this call. If this field shows that ISUP is used all the way, no inter-
working will be encountered, and vice versa. This parameter also indicates whether 
ISDN is the interface to the subscriber. If ISDN is the subscriber interface, then special 
handling is required at the interface to signal the subscriber being called. There is di-
rect mapping for SS7 signaling to ISDN because the ISDN protocol was developed as 
an extension of SS7.
Echo cancelers are indicated in the echo control device indicator. This informa-
tion may be used by the originating switch when encoding voice signals to prevent 
original signals from being mistaken for noise and may trigger special digitization 
of the voice. The last field is the SCCP method indicator, which indicates the type 
of SCCP method available for this call. Because SCCP services are not supported 
with ISUP in ANSI networks, this should be found only in private and international 
networks.
*Backward Global Virtual Network Service (GVNS) This parameter can be used to ex-
change information regarding a call within a global virtual network. It is sent in the 
backward direction to indicate the access method used for the call. This is an ITU pro-
cedure and is not defined for ANSI networks (Table 8.60). 
Business Group The business group parameter identifies the properties of a group of 
subscriber lines that belong to a common subscriber (such as Centrex services). The 
business group is assigned specific features and restrictions, which must be identified 
through the protocol during call setup and information sharing between exchanges 
(Table 8.61).
TABLE 8.60 Backward GVNS Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Backward GVNS 
0 
1 
0 
0 
 
1 
1 
0 
1
Terminating access indicator 
No information 
 
 
 
 
 
 
 
0 
0
Dedicated terminating access 
 
 
 
 
 
 
 
0 
1
Switched terminating access 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
0 
0 
0 
0 
 
0 
0 
 

386      Chapter 8
TABLE 8.61 Business Group Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Business group 
1 
1 
0 
0 
 
0 
1 
1 
0
Party selector 
No indication 
 
 
 
 
 
0 
0 
0 
0
Calling-party number 
 
 
 
 
 
0 
0 
0 
1
Called-party number 
 
 
 
 
 
0 
0 
1 
0
Connected-party number 
 
 
 
 
 
0 
0 
1 
1
Redirecting number 
 
 
 
 
 
0 
1 
0 
0
Original called number 
 
 
 
 
 
0 
1 
1 
0
Spare 
 
 
 
 
 
0 
1 
1 
0
Spare 
 
 
 
 
 
1 
1 
1 
1
Line privilege information indicator 
Fixed line privileges 
 
 
 
0 
 
 
 
Customer-defined line privileges 
 
 
 
1 
 
 
 
Business group identifier type 
Multilocation business group identifier 
 
 
0 
 
 
 
 
Interworking with private networks identifier 
 
 
1 
 
 
 
 
Attendant status 
No indication 
 
0 
 
 
 
 
 
Attendant line 
 
1 
 
 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 2, 3, and 4 
H 
G 
F 
E 
 
D 
C 
B 
A
Business group identifier 
No indication 
0 
0 
0 
0 
 
0 
0 
0 
0
Public network 
0 
0 
0 
0 
 
0 
0 
0 
1
Network-dependent 
0 
0 
0 
0 
 
0 
0 
1 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
Octets 5 and 6 
H 
G 
F 
E 
 
D 
C 
B 
A
Subgroup identifier 
No subgroups 
0 
0 
0 
0 
 
0 
0 
0 
0
Octet 7 
H 
G 
F 
E 
 
D 
C 
B 
A
If line privileges information indicator = 0 
Terminating line privileges 
Unrestricted 
 
 
 
 
 
0 
0 
0 
0
Semirestricted 
 
 
 
 
 
0 
0 
0 
1
Fully restricted 
 
 
 
 
 
0 
0 
1 
0
Fully restricted, intraswitch 
 
 
 
 
 
0 
0 
1 
1
Denied 
 
 
 
 
 
0 
1 
0 
0
Spare 
 
 
 
 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Originating line restrictions 
Unrestricted 
0 
0 
0 
0 
 
 
 
Semirestricted 
0 
0 
0 
1 
 
 
 
Fully restricted 
0 
0 
1 
0 
 
 
 
Fully restricted, intraswitch 
0 
0 
1 
1 
 
 
 
Denied 
0 
1 
0 
0 
 
 
 
Spare 
0 
1 
0 
1 
 
 
 
 
 
 
 
 
to
 
1 
1 
1 
1 
 
 
 
Customer-defined line privilege codes 
0 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1

ISDN User Part (ISUP)      387
The party indicator identifies the type of number, the called or calling number, the 
original number called (in the case of forwarded numbers), and connected numbers. The 
fixed line privileges indicate the type of restrictions to be applied, those already defined 
(fixed) by the protocol or those defined by the customer.
The business group identifier indicates whether the business group is one of multiple 
locations or if the group requires interworking with a private network. The attendant 
status is also indicated when the business group attendant places calls through the 
network.
The business group identifier and subgroup identifiers are the actual numbers as-
signed to these groups by the network provider. The service provider allocates the 
business group numbers. Binary representation of the actual number assigned may be 
three octets long. 
*Call Diversion Information ITU networks use this parameter to identify why a call is 
being diverted and whether or not there should be any notification to the subscriber 
(Table 8.62).
*Call Diversion Treatment Indicators This parameter identifies whether or not diversion 
is allowed for a call (Table 8.63). 
*Call History Information The call history parameter is used to identify propagation 
delay for any specified call. The propagation delay value is expressed in binary form 
within the parameter.
TABLE 8.62 Call Diversion Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Call diversion information 
0 
0 
1 
1 
 
0 
1 
1 
0
Notification subscription options 
Unknown 
 
 
 
 
 
 
0 
0 
0
Presentation not allowed 
 
 
 
 
 
 
0 
0 
1
Presentation allowed with redirection number 
 
 
 
 
 
 
0 
1 
0
Presentation allowed without redirection number 
 
 
 
 
 
 
0 
1 
1
Spare 
 
 
 
 
 
 
1 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
 
1 
1 
1
Redirecting reason 
Unknown 
 
0 
0 
0 
 
0 
 
 
User busy 
 
0 
0 
0 
 
1 
 
 
No reply 
 
0 
0 
1 
 
0 
 
 
Unconditional 
 
0 
0 
1 
 
1 
 
 
Deflection during alerting 
 
0 
1 
0 
 
0 
 
 
Deflection immediate response 
 
0 
1 
0 
 
1 
 
 
Mobile subscriber not reachable 
 
0 
1 
1 
 
0 
 
 
Spare 
 
0 
1 
1 
 
1 
 
 
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
 
 
Spare 
0 
 
 
 
 
 
 

388      Chapter 8
*Call Offering Treatment Indicators This parameter is used to identify whether call 
offering is permitted. It is used with several other parameters regarding call treat-
ment (depending on implementation), which is the reason for the extension indicator  
(Table 8.64). 
Call Reference The call reference is a number assigned to a call for the tracking of 
messages and for use as a reference for additional information exchanged between two 
offices during the duration of the call. The first octet is the call identity number, which 
uniquely identifies each call. The number is of local significance only. The second octet 
bears the point code that assigned the call identity number. The point code indicated 
would be the only point code for which the identity number is of any significance.
Called-Party Number The called-party address can be as large as needed to accommodate 
the dialed digits. The list in Table 8.65 defines only the first three octets, although the actual 
parameter will be larger. Each of the dialed digits uses 4 bits. The purpose of this parameter 
is to provide the distant exchange of the number of the called party (dialed digits) or the LRN  
TABLE 8.63 Call Diversion Treatment Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Call diversion treatment indicators 
0 
1 
1 
0 
 
1 
1 
1 
0
Call to be diverted indicator 
 
 
 
 
 
 
 
 
No indication 
 
 
 
 
 
 
 
0 
0
Call diversion allowed 
 
 
 
 
 
 
 
0 
1
Call diversion not allowed 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
 
 
 
 
 
 
 
 
Octet continues through the next octet 
0 
 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
 
TABLE 8.64 Call Offering Treatment Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Call offering treatment indicators 
0 
1 
1 
1 
 
0 
0 
0 
0
Call to be offered indicator 
 
 
 
 
 
 
 
 
No indication 
 
 
 
 
 
 
 
0 
0
Call offering not allowed 
 
 
 
 
 
 
 
0 
1
Call offering allowed 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
 
 
 
 
 
 
 
 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      389
TABLE 8.65 Called-Party Number Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Called-party number 
0 
0 
0 
0 
 
0 
1 
0 
0
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
National significant number 
 
0 
0 
0 
 
0 
0 
1 
1
International number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Subscriber number, operator requested 
 
1 
1 
1 
 
0 
0 
0 
1
National number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
0
International number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
1
No number present, operator requested 
 
1 
1 
1 
 
0 
1 
0 
0
No number present, cut-through call to carrier 
 
1 
1 
1 
 
0 
1 
0 
1
950 call from local exchange carrier public station,  
 hotel/motel, or nonexchange access end office 
 
1 
1 
1 
 
0 
1 
1 
0
Test line code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even bits 
Even number of address signals 
0 
 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Reserved 
 
 
 
 
 
0 
0 
0 
0
Numbering plan 
Unknown numbering plan 
 
0 
0 
0 
 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
 
Spare 
 
0 
1 
0 
 
 
 
Reserved ITU-TS data numbering plan 
 
0 
1 
1 
 
 
 
Reserved ITU-TS telex numbering plan 
 
1 
0 
0 
 
 
 
Private numbering plan 
 
1 
0 
1 
 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 3 to n 
H 
G 
F 
E 
 
D 
C 
B 
A
Address signal—first address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
(Continued)

390      Chapter 8
associated with the called party. This parameter can be used in a number of message 
types and usually is used when establishing a connection from one exchange to another.
If the dialed digits are to a ported number, the nature-of-address indicator will indi-
cate a ported number. If this parameter contains the LRN to be used for routing, the 
dialed digits are placed in the GAP parameter.
Calling Geodetic Location The calling geodetic location parameter is used for wireless 
networks to identify the physical location of a subscriber. The information is derived 
from GPS coordinates provided by the subscribers handset and is communicated to the 
network using this parameter (Table 8.66). 
Coordinates are based on the World Geodetic System 1984, where coordinates are 
expressed by longitude and latitude. Longitudes are expressed in the range of –180 to 
+180 degrees, whereas latitudes are expressed in the range of –90 to +90 degrees.
The first two octets of this parameter describe the type of shape (per World Geodetic 
System 1984) and the actual coordinates in relation to the shape. There are several 
subparameters that follow providing the specific coordinates and describing their rela-
tionship to the shape. Refer to ITU-T Q.763 or Telcordia GR-246-CORE for details. 
Calling-Party Number The calling-party address is much the same as the called-party 
address with the exception of the second octet. Some differences also exist in the nature 
of address indicator (Table 8.67).
The screening indicator is used to indicate who provided the dialed digits in the ad-
dress. The digits could have been provided by the subscriber (originating party) or by 
the network (global title translation). 
TABLE 8.65 Called-Party Number Fields and Codes (Continued)
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare  
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

ISDN User Part (ISUP)      391
The purpose of the screening indicator is to provide a means for the network to 
determine the origin of the digits and whether or not this number is viewed by the 
network as the true called-party number or as an alias. In the case of ported numbers, 
the screening indicator field will not contain the LRN of the calling party. The LRN of 
the calling party is found in the jurisdiction information parameter (JIP). 
The address presentation parameter serves the same purpose as in the calling-party 
address. The default for this parameter is “Presentation restricted.” The presentation 
of the dialed digits enables called parties to identify who is calling them (caller-party 
ID). When presentation is restricted, the number still can be presented to another net-
work, but it is restricted from being presented to an end user. This also holds true for 
calling-name display. 
Calling Party’s Category The calling party’s category indicates the type of subscriber 
originating the call. In the case of a special-language operator, the originator of the call 
TABLE 8.66 Geodetic Location Fields and Codes for First Two Octets
 
H 
G 
F 
E 
 
D 
C 
B 
A
Calling geodetic location 
1 
0 
0 
0 
 
0 
0 
0 
1
Screening Indicator 
User provided, not verified 
 
 
 
 
 
 
 
0 
0
User provided, verified and passed 
 
 
 
 
 
 
 
0 
1
User provided, verified and failed 
 
 
 
 
 
 
 
1 
0
Network provided 
 
 
 
 
 
 
 
1 
1
Location presentation restricted indicator (LPRI) 
Presentation allowed 
 
 
 
 
 
0 
0 
 
Presentation restricted 
 
 
 
 
 
0 
1 
 
Location not available 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Spare 
0 
0 
0 
0 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Type of shape 
Ellipsoid point 
 
0 
0 
0 
 
0 
0 
0 
0
Ellipsoid point with uncertainty 
 
0 
0 
0 
 
0 
0 
0 
1
Point with altitude and uncertainty 
 
0 
0 
0 
 
0 
0 
1 
0
Ellipse on the ellipsoid 
 
0 
0 
0 
 
0 
0 
1 
1
Ellipsoid circle sector 
 
0 
0 
0 
 
0 
1 
0 
0
Polygon 
 
0 
0 
0 
 
0 
1 
0 
1
Spare 
 
0 
0 
0 
 
0 
1 
1 
0
 
 
 
 
 
to
 
 
0 
1 
1 
 
1 
1 
1 
1
Reserved for national use 
 
1 
0 
0 
 
0 
0 
0 
0 
 
 
 
 
 
to 
 
 
1 
1 
1 
 
1 
1 
1 
0
Reserved for future expansion 
 
1 
1 
1 
 
1 
1 
1 
1
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 

392      Chapter 8
TABLE 8.67 Calling-Party Number Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Calling-party number 
0 
0 
0 
0 
 
1 
0 
1 
0
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Unique subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
Unique national significant number 
 
0 
0 
0 
 
0 
0 
1 
1
Unique international number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Nonunique subscriber number 
 
1 
1 
1 
 
0 
0 
0 
1
Spare, reserved for national use 
 
1 
1 
1 
 
0 
0 
1 
0
Nonunique national number 
 
1 
1 
1 
 
0 
0 
1 
1
Nonunique international number 
 
1 
1 
1 
 
0 
1 
0 
0
Spare 
 
1 
1 
1 
 
0 
1 
0 
1
Spare 
 
1 
1 
1 
 
0 
1 
1 
0
Test line code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even indicator 
Even number of address signals 
0 
 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Screening 
Reserved (for user provided, not screened) 
 
 
 
 
 
 
 
0 
1
User provided, screening passed 
 
 
 
 
 
 
 
1 
0
Network provided 
 
 
 
 
 
 
 
1 
1
Address presentation 
Presentation allowed 
 
 
 
 
 
0 
0 
 
Presentation restricted 
 
 
 
 
 
0 
1 
 
Spare 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Numbering plan 
Unknown numbering plan 
 
0 
0 
0 
 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
 
Spare 
 
0 
1 
0 
 
 
 
Reserved for ITU-TS data numbering plan 
 
0 
1 
1 
 
 
 
Reserved for ITU-TS telex numbering plan 
 
1 
0 
0 
 
 
 
Private numbering plan 
 
1 
0 
1 
 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 3 to n 
H 
G 
F 
E 
 
D 
C 
B 
A
Address signal—first address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
(Continued)

ISDN User Part (ISUP)      393
(the operator services) will require special handling. The same is true of the pay phone, 
which may require special operator assistance (Table 8.68).
The test call indicator in this parameter is used for the remote testing of translations. 
A technician may initiate a test call from a remote maintenance center terminal to 
test and verify newly added translations or routing information. The IAM then would 
include the calling party’s category parameter with the test call value.
Carrier Identification This parameter is used in ANSI networks to identify the originat-
ing carrier for the call. This information then can be used to determine which carrier 
should be billed for terminating the call, for example. Two formats of codes are sup-
ported, three digit and four digit (Table 8.69).
Carrier Selection Information The carrier identification parameter is used to identify the 
carrier selected by the caller. The selection can be accomplished in one of several ways. All 
subscribers in the United States have preselected carriers listed in the Line Information 
Database (LIDB) as a part of their customer record. This is the carrier that will be used for 
all long-distance calls, except when another carrier is selected manually (Table 8.70).
TABLE 8.67 (Continued)
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12  
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

394      Chapter 8
TABLE 8.68 Calling Party’s Category Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Calling party’s category 
 
 
 
 
 
 
 
Calling party’s category unknown (default) 
0 
0 
0 
0 
 
0 
0 
0 
0
French-language operator 
0 
0 
0 
0 
 
0 
0 
0 
1
English-language operator 
0 
0 
0 
0 
 
0 
0 
1 
0
German-language operator 
0 
0 
0 
0 
 
0 
0 
1 
1
Russian-language operator 
0 
0 
0 
0 
 
0 
1 
0 
0
Spanish-language operator 
0 
0 
0 
0 
 
0 
1 
0 
1
Reserved for network-specific language selection 
0 
0 
0 
0 
 
0 
1 
1 
0
 
0 
0 
0 
0 
 
0 
1 
1 
1
 
0 
0 
0 
0 
 
1 
0 
0 
0
National networks—operator service 
0 
0 
0 
0 
 
1 
0 
0 
1
Ordinary calling subscriber 
0 
0 
0 
0 
 
1 
0 
1 
0
*Calling subscriber with priority 
0 
0 
0 
0 
 
1 
0 
1 
1
*Data call (voiceband data) 
0 
0 
0 
0 
 
1 
1 
0 
0
Test call 
0 
0 
0 
0 
 
1 
1 
0 
1
Spare 
0 
0 
0 
0 
 
1 
1 
1 
0
*Pay phone 
0 
0 
0 
0 
 
1 
1 
1 
1
Spare (ITU-TS) 
0 
0 
0 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
1 
1 
0 
1 
 
1 
1 
1 
1
Emergency service call in progress 
1 
1 
1 
0 
 
0 
0 
0 
0
High-priority call indication 
1 
1 
1 
0 
 
0 
0 
0 
1
National security and emergency preparedness call 
1 
1 
1 
0 
 
0 
0 
1 
0
Spare (ANSI) 
1 
1 
1 
0 
 
0 
0 
1 
1
 
 
 
 
 
to
 
1 
1 
1 
0 
 
1 
1 
1 
1
Network-specific use 
1 
1 
1 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
0
Reserved for expansion 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.69 Carrier Identification Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Carrier identification 
1 
1 
0 
0 
 
0 
1 
0 
1
Network identification 
Unknown 
 
 
 
 
 
0 
0 
0 
0
Three-digit carrier identification code 
 
 
 
 
 
0 
0 
0 
1
Four-digit carrier identification code 
 
 
 
 
 
0 
0 
1 
0
Spare 
 
 
 
 
 
0 
0 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Type of network identification 
Spare 
 
0 
0 
0 
 
 
 
Spare 
 
0 
0 
1 
 
 
 
National network identification 
 
0 
1 
0 
 
 
 
Spare 
 
0 
1 
1 
 
 
 
 
 
 
 
 
to
 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
(Continued)

ISDN User Part (ISUP)      395
TABLE 8.69 (Continued)
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
First digit 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Second digit 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
Third digit 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
(Continued)

396      Chapter 8
Any carrier can be selected by dialing the carrier access code. The carrier access code 
is the 10xxx number assigned to all long-distance carriers. This number enables a caller 
to use any long-distance provider for that call. After the call is finished, the next call 
defaults back to the preselected carrier.
A subscriber also may be calling from a pay phone or some other phone where a long-
distance carrier has not been preselected, but the caller has entered in a 10xxx code for 
carrier selection. This is a rarity in U.S. networks because equal access has required 
that all subscribers have a designated carrier preselected for every line.
Cause Indicators The cause value provides the reason for the message failure. These 
cause codes are grouped as ITU-TS and ANSI codes (Table 8.71). All cause codes are 
divided into two parts; bits ABCD represent the cause, and bits EFG represent the class 
(Tables 8.72 through 8.81).
TABLE 8.69 Carrier Identification Fields and Codes (Continued)
Fourth digit (if four-digit code is used) 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 
TABLE 8.70 Carrier Identification Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Carrier selection information 
1 
1 
1 
0 
 
1 
1 
1 
0
No indication (default) 
0 
0 
0 
0 
 
0 
0 
0 
0
Subscriber’s designated (preselected) carrier 
0 
0 
0 
0 
 
0 
0 
0 
1
Subscriber’s designated carrier as input by caller 
0 
0 
0 
0 
 
0 
0 
1 
0
Subscriber’s designated carrier (undetermined) 
0 
0 
0 
0 
 
0 
0 
1 
1
Carrier designated by caller at time of call 
0 
0 
0 
0 
 
0 
1 
0 
0
Spare 
0 
0 
0 
0 
 
0 
1 
0 
1 
 
 
 
 
 
to 
 
1 
1 
1 
1 
 
1 
1 
1 
0
Reserved 
1 
1 
1 
1 
 
1 
1 
1 
1

ISDN User Part (ISUP)      397
TABLE 8.71 Octet One of the Cause Code Indicator Parameter
 
H 
G 
F 
E 
 
D 
C 
B 
A
Cause code indicators 
0 
0 
0 
1 
 
0 
0 
1 
0
Location 
User 
 
 
 
 
 
0 
0 
0 
0
Local private network 
 
 
 
 
 
0 
0 
0 
1
Local public network 
 
 
 
 
 
0 
0 
1 
0
Transit network 
 
 
 
 
 
0 
0 
1 
1
Remote local network 
 
 
 
 
 
0 
1 
0 
0
Remote private network 
 
 
 
 
 
0 
1 
0 
1
Local interface controlled by this signaling link 
 
 
 
 
 
0 
1 
1 
0
International network 
 
 
 
 
 
0 
1 
1 
1
Network beyond interworking point 
 
 
 
 
 
1 
0 
1 
0
Spare 
 
 
 
0 
 
 
 
Coding standard 
ITU-TS standard (default) 
 
0 
0 
 
 
 
 
Reserved for other international standards 
 
0 
1 
 
 
 
 
ANSI standards 
 
1 
0 
 
 
 
 
Reserved 
 
1 
1 
 
 
 
 
Extension bit 
Parameter continues to next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.72 Codes for Class 0 0 0 and 0 0 1, Normal Event
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 0 0 and 0 0 1, Normal event 
Unallocated (unassigned number) 
 
0 
0 
0 
 
0 
0 
0 
1
No route to specified transit network 
 
0 
0 
0 
 
0 
0 
1 
0
No route to destination 
 
0 
0 
0 
 
0 
0 
1 
1
Send special information tone 
 
0 
0 
0 
 
0 
1 
0 
0
*Misdialed trunk prefix 
 
0 
0 
0 
 
0 
1 
0 
1
Preemption 
 
0 
0 
0 
 
1 
0 
0 
0
Preemption—circuit reserved for reuse 
 
0 
0 
0 
 
1 
0 
0 
1
Normal clearing 
 
0 
0 
1 
 
0 
0 
0 
0
User busy 
 
0 
0 
1 
 
0 
0 
0 
1
No user responding 
 
0 
0 
1 
 
0 
0 
1 
0
No answer from user (user alerted) 
 
0 
0 
1 
 
0 
0 
1 
1
Subscriber absent 
 
0 
0 
1 
 
0 
1 
0 
0
Call rejected 
 
0 
0 
1 
 
0 
1 
0 
1
Number changed 
 
0 
0 
1 
 
0 
1 
1 
0
Redirect to new destination 
 
0 
0 
1 
 
0 
1 
1 
1
Destination out of order 
 
0 
0 
1 
 
1 
0 
1 
1
Address incomplete 
 
0 
0 
1 
 
1 
1 
0 
0
Facility rejected 
 
0 
0 
1 
 
1 
1 
0 
1
Normal—unspecified (default) 
 
0 
0 
1 
 
1 
1 
1 
1

398      Chapter 8
TABLE 8.73 Codes for Class 0 1 0, Resource Unavailable 
ITU-T Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 1 0, Resource unavailable 
No circuit/channel available 
 
0 
1 
0 
 
0 
0 
1 
0
Network out of order 
 
0 
1 
0 
 
0 
1 
1 
0
Temporary failure 
 
0 
1 
0 
 
1 
0 
0 
1
Switching equipment congestion 
 
0 
1 
0 
 
1 
0 
1 
0
Access information discarded 
 
0 
1 
0 
 
1 
0 
1 
1
Requested circuit/channel not available 
 
0 
1 
0 
 
1 
1 
0 
0
Precedence call blocked 
 
0 
1 
0 
 
1 
1 
1 
0
Resource unavailable—unspecified (default) 
 
0 
1 
0 
 
1 
1 
1 
1
TABLE 8.74 Codes for Class 0 0 1, Service or Option Not Available 
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 1 1, Service or option not available 
Requested facility not subscribed 
 
0 
1 
1 
 
0 
0 
1 
0
*Outgoing calls barred within closed user group 
 
0 
1 
1 
 
0 
1 
0 
1
*Incoming calls barred within closed user group 
 
0 
1 
1 
 
0 
1 
1 
1
Bearer capability not authorized 
 
0 
1 
1 
 
1 
0 
0 
1
Bearer capability not currently available 
 
0 
1 
1 
 
1 
0 
1 
0
Inconsistency in designated outgoing access and  
 subscriber class 
 
0 
1 
1 
 
1 
1 
1 
0
Service option not available—unspecified (default) 
 
0 
1 
1 
 
1 
1 
1 
1
TABLE 8.75 Codes for Class 1 0 0, Service or Option Not Implemented 
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 1 0 0, Service or option not implemented 
Bearer capability not implemented 
 
1 
0 
0 
 
0 
0 
0 
1
Requested facility not implemented 
 
1 
0 
0 
 
0 
1 
0 
1
Only restricted digital info bearer capability available 
 
1 
0 
0 
 
0 
1 
1 
0
Service not implemented—unspecified (default) 
 
1 
0 
0 
 
1 
1 
1 
1
TABLE 8.76 Codes for Class 1 0 1, Invalid Message 
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 1 0 1, Invalid message 
*User not member of closed user group 
 
1 
0 
1 
 
0 
1 
1 
1
Incompatible destination 
 
1 
0 
1 
 
1 
0 
0 
0
*Nonexistent closed user group 
 
1 
0 
1 
 
1 
0 
1 
0
Invalid transit network selection 
 
1 
0 
1 
 
1 
0 
1 
1
Invalid message, unspecified (default) 
 
1 
0 
1 
 
1 
1 
1 
1

ISDN User Part (ISUP)      399
TABLE 8.77 Codes for Class 1 1 0, Protocol Error (Unknown Message)
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 1 1 0, Protocol error (unknown message) 
Message type nonexistent or not implemented 
 
1 
1 
0 
 
0 
0 
0 
1
Information element parameter nonexistent/not  
 implemented  
 
1 
1 
0 
 
0 
0 
1 
1
Recovery on timer expiration 
 
1 
1 
0 
 
0 
1 
1 
0
Parameter nonexistent/not implemented—passed on 
 
1 
1 
0 
 
0 
1 
1 
1
Message with unrecognized parameter discarded 
 
1 
1 
0 
 
1 
1 
1 
0
Protocol error, unspecified (default) 
 
1 
1 
0 
 
1 
1 
1 
1
TABLE 8.78 Codes for Class 1 1 1, Interworking Class
ITU-TS Cause Codes (Coding Standard 0 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 1 1 1, Interworking class 
Interworking, unspecified (default) 
 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.79 Codes for Class 0 0 0 and 0 0 1, Normal Event 
ANSI Cause Codes (Coding Standard 1 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 0 0 and 0 0 1, Normal event 
Unallocated destination number 
 
0 
0 
1 
 
0 
1 
1 
1
Unknown business group 
 
0 
0 
1 
 
1 
0 
0 
0
Exchange routing error 
 
0 
0 
1 
 
1 
0 
0 
1
Misrouted call to a ported number 
 
0 
0 
1 
 
1 
0 
1 
0
Number portability query on release (QoR)  
 number not found 
 
0 
0 
1 
 
1 
0 
1 
1
TABLE 8.80 Codes for Class 0 1 0, Resource Unavailable 
ANSI Cause Codes (Coding Standard 1 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 1 0, Resource unavailable 
Preemption 
 
0 
1 
0 
 
1 
1 
0 
1
Precedence call blocked 
 
0 
1 
0 
 
1 
1 
1 
0
TABLE 8.81 Codes for Class 0 1 1, Service or Option Not Available 
ANSI Cause Codes (Coding Standard 1 0) 
H 
G 
F 
E 
 
D 
C 
B 
A
Class 0 1 1, Service or option not available 
Call type incompatibility with service request 
 
0 
1 
1 
 
0 
0 
1 
1
Call blocked due to group restrictions 
 
0 
1 
1 
 
0 
1 
1 
0
Extension bit 
0 
 
 
 
 
 
 

400      Chapter 8
The diagnostics field depends on the cause value (Table 8.82). Not all cause codes will 
require a diagnostics field afterward. The diagnostic field uses the same format as the 
specified parameters (i.e., the called-party number). Table 8.83 lists the cause codes that 
generate a diagnostics field and the parameter structure used for the diagnostic value.
This rather lengthy parameter is full of variables and depends on the cause as to the 
full contents of the parameter (Table 8.84). The parameter can be found in RELs, ACMs, 
or CONs. The purpose is to identify the cause of the failure, disconnect, or message  
rejection. Appendix C provides full explanations for all cause codes and diagnostics.
Charge Number (See Table 8.85)
Circuit Assignment Map The map portion of this parameter provides a 1-bit represen-
tation for each circuit (Table 8.86). If the value of the circuit bit is 1, then the 64-kbps 
circuit is used. If the value is 0, it is not used. Up to 24 circuits may be represented in 
the map fields. All 24 circuits are represented, but they are set to 0 if the circuits are 
not used. This means that this parameter is always of fixed length and not variable.
TABLE 8.82 Diagnostics Field 
 
H 
G 
F 
E 
 
D 
C 
B 
A
Octet 3 
Diagnostics (if applicable) 
0 
0 
0 
0 
 
0 
0 
0 
0
TABLE 8.83 Cause Codes That Generate the Diagnostics Field
Cause Code 
 
 
 
 
Diagnostic 
Structure
0 
0 
1 
0 
1 
1 
0 
Called-party number (new) 
See called-party parameter
0 
1 
0 
0 
1 
1 
0 
Transit network identity 
Transit network selection
0 
1 
0 
1 
0 
1 
0 
Transit network identity 
Transit network selection
0 
1 
1 
1 
0 
0 
1 
Attribute identity 
See below
0 
1 
1 
1 
0 
1 
0 
Attribute identity 
See below
1 
0 
0 
0 
0 
0 
1 
Attribute identity 
See below
TABLE 8.84 Attribute Identity Fields and Codes 
Attribute Identity 
H 
G 
F 
E 
 
D 
C 
B 
A
Information transfer capability 
 
0 
1 
1 
 
0 
0 
0 
1
Information transfer mode 
 
0 
1 
1 
 
0 
0 
1 
0
Information transfer rate 
 
0 
1 
1 
 
0 
0 
1 
1
Structure 
 
0 
1 
1 
 
0 
1 
0 
0
Configuration 
 
0 
1 
1 
 
0 
1 
0 
1
Establishment 
 
0 
1 
1 
 
0 
1 
1 
0
Symmetry 
 
0 
1 
1 
 
0 
1 
1 
1
Information transfer rate (destination to origination) 
 
0 
1 
1 
 
1 
0 
0 
0
Layer identification and corresponding user info 
 
0 
1 
1 
 
1 
0 
0 
1

ISDN User Part (ISUP)      401
TABLE 8.85 Charge Number Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Charge number 
1 
1 
1 
0 
 
1 
0 
1 
1
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Automatic number identification (ANI) of the calling  
 party; subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
ANI not available or not provided 
 
0 
0 
0 
 
0 
0 
1 
0
Octet 1 
H 
G 
F 
E 
 
D 
C 
B 
A
ANI of the calling party; national number 
 
0 
0 
0 
 
0 
0 
1 
1
Spare 
 
0 
0 
0 
 
0 
1 
0 
0
ANI of the called party; subscriber number 
 
0 
0 
0 
 
0 
1 
0 
1
ANI of the called party; no number present 
 
0 
0 
0 
 
0 
1 
1 
0
ANI of the called party; national number 
 
0 
0 
0 
 
0 
1 
1 
1
Spare 
 
0 
0 
0 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even bit 
Even number of address signals 
0 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Reserved 
 
 
 
 
 
0 
0 
0 
0
Numbering plan 
Unknown  
 
0 
0 
0 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
 
Spare 
 
0 
1 
0 
 
 
 
Reserved (ITU data numbering plan) 
 
0 
1 
1 
 
 
 
Reserved (ITU telex numbering plan) 
 
1 
0 
0 
 
 
 
Private numbering plan 
 
1 
0 
1 
 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
First address signal 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Second address signal 
Digit 0 
0 
0 
0 
0 
 
 
 
(Continued)

402      Chapter 8
This parameter is used only when DS0 circuits that are not contiguous are used. 
Noncontiguous means that a full DS1 is not being used for these circuits. There may 
be a partial DS1, or the various DS0s may be split between multiple DS1s. Either way, 
the map indicates which circuits are or are not used within a DS1.
Circuit Group Supervision Message Type This parameter provides instructions to an-
other exchange on the method of circuit blocking to be implemented on the designated 
circuit (Table 8.87). Blocking enables craft personnel to perform tests on a circuit with-
out the change of the circuit being seized for another call.
There are two methods of blocking: blocking with a release (which disconnects any 
call in progress) and blocking without release (which will not send an REL through the 
network).
Circuit Identification Name The circuit identification name parameter is used to iden-
tify the CLLI of a specific trunk to a distant exchange (Table 8.88). This parameter is 
coded using IA5 characters, with each character using one octet.
TABLE 8.85 Charge Number Fields and Codes (Continued)
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 
TABLE 8.86 Circuit Assignment Map Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit assignment map 
0 
0 
1 
0 
 
0 
1 
0 
1
Map type 
Spare 
 
 
0 
0 
 
0 
0 
0 
0
DS1 map format 
 
 
0 
0 
 
0 
0 
0 
1
Spare 
 
 
0 
0 
 
0 
0 
1 
0
 
 
 
 
 
to
 
 
 
1 
1 
 
1 
1 
1 
1
Spare 
0 
0 
 
 
 
 
 
Octets 2 through 4 
Map 
x 
x 
x 
x 
 
x 
x 
x 
x

ISDN User Part (ISUP)      403
Office A is designated as follows:
■  If the trunk is a one-way trunk group, the office that originates the calls for this 
trunk is office A.
■  If the trunk is a two-way trunk, the office with the lower alphanumeric CLLI code 
is office A.
The same rules apply to subgroups that can be one-way or two-way trunks. This 
parameter enables two exchanges to exchange information regarding their identity for 
use in routing tables.
Circuit State Indicator This parameter enables exchanges to send status informa-
tion regarding specific trunk circuits, providing the status of the circuit in the distant 
exchange’s perspective (Table 8.89). The CIC is carried in the field after the routing  
label.
This parameter may be from one octet up to n octets in length. There may be situa-
tions where a two-way trunk will have more than one status indicator. For example, a 
two-way trunk can be incoming circuit busy, active, and also be outgoing circuit busy, 
locally blocked.
TABLE 8.87 Circuit Group Supervision Message Type Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit group supervision message type indicator 
0 
0 
0 
1 
 
0 
1 
0 
1
Block without release 
 
 
 
 
 
 
 
0 
0
Block with immediate release 
 
 
 
 
 
 
 
0 
1
Reserved for national use 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
0 
0 
0 
0 
 
0 
0 
 
TABLE 8.88 Circuit Identification Name Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit identification name 
1 
1 
1 
0 
 
1 
0 
0 
0
Trunk number (first digit) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
Octets 2 through 4 
Trunk number (digits 2 through 4) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
Octet 5 
CLLI code—office A 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octets 6 through 26 
CLLI code—office Z 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 

404      Chapter 8
Circuit Validation Response Indicator The circuit validation response indicator pro-
vides the results of a circuit validation in response to a distant exchange request  
(Table 8.90).
Common Language Location Identification (CLLI) The CLLI parameter is used dur-
ing circuit validation to identify an exchange (Table 8.91). All signaling points on the 
ANSI SS7 network must have a CLLI code. This provides the means for identifying 
by location where a particular signaling point is located. A typical CLLI may look like 
RLGHNCXA03W. All characters are IA5 characters.
Connection Request The connection request parameter is sent in the forward direc-
tion for the SCCP function. This enables the ISUP protocol to establish an end-to-end 
connection on which the SCCP may send TCAP or ISUP messages (if ISUP is using the 
service of SCCP).
TABLE 8.89 Circuit State Indicator Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit state indicator 
0 
0 
1 
0 
 
0 
1 
1 
0
Transient 
0 
0 
0 
0 
 
0 
0 
0 
0
Spare 
0 
0 
0 
0 
 
0 
0 
0 
1
Spare 
0 
0 
0 
0 
 
0 
0 
1 
0
Unequipped 
0 
0 
0 
0 
 
0 
0 
1 
1
Incoming circuit busy, active 
0 
0 
0 
0 
 
0 
1 
0 
0
Incoming circuit busy, locally blocked 
0 
0 
0 
0 
 
0 
1 
0 
1
Incoming circuit busy, remotely blocked 
0 
0 
0 
0 
 
0 
1 
1 
0
Incoming circuit busy, locally and remotely blocked 
0 
0 
0 
0 
 
0 
1 
1 
1
Outgoing circuit busy, active 
0 
0 
0 
0 
 
1 
0 
0 
0
Outgoing circuit busy, locally blocked 
0 
0 
0 
0 
 
1 
0 
0 
1
Outgoing circuit busy, remotely blocked 
0 
0 
0 
0 
 
1 
0 
1 
0
Outgoing circuit busy, locally and remotely blocked 
0 
0 
0 
0 
 
1 
0 
1 
1
Idle 
0 
0 
0 
0 
 
1 
1 
0 
0
Idle, locally blocked 
0 
0 
0 
0 
 
1 
1 
0 
1
Idle, remotely blocked 
0 
0 
0 
0 
 
1 
1 
1 
0
Idle, locally and remotely blocked 
0 
0 
0 
0 
 
1 
1 
1 
1
Spare 
0 
0 
0 
1 
 
0 
0 
0 
0 
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.90 Circuit Validation Response Indicator Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Circuit validation response indicator 
1 
1 
1 
0 
 
0 
1 
1 
0
Successful 
0 
0 
0 
0 
 
0 
0 
0 
0
Failure (default) 
0 
0 
0 
0 
 
0 
0 
0 
1
Spare 
0 
0 
0 
0 
 
0 
0 
1 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1

ISDN User Part (ISUP)      405
The local reference number (LRN) is the number assigned for the specific call and 
is used as a reference in the originating exchange. The LRN enables the exchange to 
monitor all messages and associate them with their proper calls.
The protocol class field identifies the protocol class to be used on this end-to-end 
connection. The protocol class is related directly to the SCCP protocol. The protocol 
class specifies whether the services on this connection will be connection-oriented or 
connectionless.
The credit field is used for changing the window size of the exchange during the con-
nection. This is valid only if class 3 or 4 is specified (connection-oriented services).
Continuity Indicators The continuity indicator parameter indicates whether a conti-
nuity test was successful (Table 8.92). The continuity check may be requested by an 
originating exchange according to predetermined criteria. The criteria for conducting a 
continuity check are found in the continuity check requirements indicator field of the 
circuit group characteristic indicator parameter.
TABLE 8.91 CLLI Code Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Common language location identifier (CLLI) 
1 
1 
1 
0 
 
1 
0 
0 
1
Octet 1 
Town (first character) 
 
0 
0 
0 
 
0 
0 
0 
0
Spare 
0 
 
 
 
 
 
 
Octets 2 through 4 
H 
G 
F 
E 
 
D 
C 
B 
A
Town (second through fourth characters) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 5 
H 
G 
F 
E 
 
D 
C 
B 
A
State (first character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 6 
H 
G 
F 
E 
 
D 
C 
B 
A
State (second character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 7 
H 
G 
F 
E 
 
D 
C 
B 
A
Building (first character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 8 
H 
G 
F 
E 
 
D 
C 
B 
A
Building (second character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 9 
H 
G 
F 
E 
 
D 
C 
B 
A
Building subdivision (first character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 10 
H 
G 
F 
E 
 
D 
C 
B 
A
Building subdivision (second character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 
 
Octet 11 
H 
G 
F 
E 
 
D 
C 
B 
A
Building subdivision (third character) 
 
x 
x 
x 
 
x 
x 
x 
x
Spare 
0 
 
 
 
 
 
 

406      Chapter 8
Egress This parameter is used to send network-specific information regarding a ter-
minating exchange such as the interexchange carrier, the type of terminating access 
service, and the point of interconnection. This information is sent in the forward direc-
tion by the first incoming exchange to the terminating exchange.
End of Optional Parameters The end of optional parameters parameter is the last octet 
in a message containing any optional parameters (Table 8.93).
TABLE 8.92 Continuity Check Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Continuity indicators 
0 
0 
0 
1 
 
0 
0 
0 
0
Continuity indicator 
 
 
 
 
 
 
 
 
Continuity check failed 
 
 
 
 
 
 
 
 
0
Continuity check successful 
 
 
 
 
 
 
 
 
1
Spare 
0 
0 
0 
0 
 
0 
0 
0 
TABLE 8.93 End of Optional Parameters Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
End of optional parameters fields indicator 
0 
0 
0 
0 
 
0 
0 
0 
0
TABLE 8.94 Event Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Event information 
0 
0 
1 
0 
 
0 
1 
0 
0
Event indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Altering 
 
0 
0 
0 
 
0 
0 
0 
1
Progress 
 
0 
0 
0 
 
0 
0 
1 
0
In-band or appropriate pattern now available 
 
0 
0 
0 
 
0 
0 
1 
1
*Call forwarded on busy 
 
0 
0 
0 
 
0 
1 
0 
0
*Call forwarded on no reply 
 
0 
0 
0 
 
0 
1 
0 
1
*Call forwarded unconditional 
 
0 
0 
0 
 
0 
1 
1 
0
Call deflected 
 
0 
0 
0 
 
0 
1 
1 
1
Notification for supplementary service 
 
0 
0 
0 
 
1 
0 
0 
0
Spare 
 
0 
0 
0 
 
1 
0 
0 
1
 
 
 
 
 
to 
 
 
1 
1 
0 
 
1 
1 
1 
0
Service information included 
 
1 
1 
0 
 
1 
1 
1 
1
Spare 
 
1 
1 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Reserved 
 
1 
1 
1 
 
1 
1 
1 
1
Event presentation restricted indicator (restrict) 
No indication 
0 
 
 
 
 
 
 
Presentation restricted 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      407
Event Information (See Table 8.94)
Forward Call Indicators The forward call indicators are sent with an IAM to alert the 
distant exchange of the services required for the call (Table 8.95). The international 
call indicator identifies international calls that have entered through a gateway STP. 
Without this indicator, it would be difficult for the distant exchange to know if the 
call was international (mapping of the dialed digits to a conversion table would be  
necessary).
TABLE 8.95 Forward Call Indicators Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Forward call indicators 
0 
0 
0 
0 
 
0 
1 
1 
1
Incoming international call indicator 
Not an incoming international call 
 
 
 
 
 
 
 
 
0
Incoming international call 
 
 
 
 
 
 
 
 
1
End-to-end method indicator 
No end-to-end method available 
 
 
 
 
 
 
0 
0 
Pass-along method available 
 
 
 
 
 
 
0 
1 
SCCP method available 
 
 
 
 
 
 
1 
0 
Pass-along and SCCP methods available 
 
 
 
 
 
 
1 
1 
Interworking indicator 
No interworking encountered (SS7 all the way) 
 
 
 
 
 
0 
 
 
Interworking encountered 
 
 
 
 
 
1 
 
 
IAM segmentation indicator 
No indication 
 
 
 
0 
 
 
 
Additional info being sent by unsolicited info message 
 
 
 
1 
 
 
 
ISUP indicator 
ISUP not used all the way 
 
 
0 
 
 
 
 
ISUP used all the way 
 
 
1 
 
 
 
 
ISUP preference indicator 
ISUP preferred all the way (default) 
0 
0 
 
 
 
 
 
ISUP not required all the way 
0 
1 
 
 
 
 
 
ISUP required all the way 
1 
0 
 
 
 
 
 
Spare 
1 
1 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
ISDN access indicator 
Originating access non-ISDN 
 
 
 
 
 
 
 
 
0
Originating access ISDN 
 
 
 
 
 
 
 
 
1
SCCP method indicator 
No indication 
 
 
 
 
 
 
0 
0 
*Connectionless method available 
 
 
 
 
 
 
0 
1 
*Connection-oriented method available 
 
 
 
 
 
 
1 
0 
*Connectionless and connection-oriented available 
 
 
 
 
 
 
1 
1 
Spare 
 
 
 
 
 
0 
 
 
Ported number translation indicator 
Number not translated 
 
 
 
0 
 
 
 
Number translated 
 
 
 
1 
 
 
 
No QoR routing attempt in progress 
 
 
0 
 
 
 
 
QoR routing attempt in progress 
 
 
1 
 
 
 
 
Reserved for national use 
0 
0 
 
 
 
 
 

408      Chapter 8
In addition to identifying international calls, the type of end-to-end signaling avail-
able is also indicated through the end-to-end method indicator. This field identifies the 
method of signaling available for use; the pass-along method, SCCP method, or both 
are available. In U.S. networks, only the pass-along method is currently supported. The 
interworking indicator identifies any networks encountered along the way that are not 
SS7 networks. The location of this network is not provided (because that is of no impor-
tance). The distant exchange only needs to be aware of its existence.
The IAM segmentation indicator shows when an IAM has been divided into separate 
messages because of length or any other reason. IAM information can be sent in an 
additional signal unit after the initial IAM.
The ISUP indicators are used to indicate whether ISUP is used end to end, whether 
it is required end to end, and whether the subscriber interface at the originating ex-
change is ISDN. An SCCP indicator is also provided for those networks using the ser-
vices of SCCP for supporting the ISUP. The SCCP method of end-to-end signaling is 
not supported in U.S. networks.
The ported number translation indicator is used with the LNP application. It is used 
to indicate when a specific number has been looked up in the LNP database and to 
prevent unnecessary queries.
Generic Address The GAP identifies the type of address (dialed digits and so on) being 
presented in a call setup (Table 8.96). It also indicates the numbering plan used in the 
address and the actual address. When LNP is provided, the GAP provides the actual 
dialed digits for a ported number. The called-party address then is used for the LRN.
TABLE 8.96 Generic Address Parameter (GAP) Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Generic address parameter (GAP) 
1 
1 
0 
0 
 
0 
0 
0 
0
Octet 1 
Type of address 
Dialed number 
0 
0 
0 
0 
 
0 
0 
0 
0
Destination number 
0 
0 
0 
0 
 
0 
0 
0 
1
Supplemental user provided calling address—failed  
 network screening 
0 
0 
0 
0 
 
0 
0 
1 
0
Supplemental user provided calling address—not  
 screened 
0 
0 
0 
0 
 
0 
0 
1 
1
Completion number 
0 
0 
0 
0 
 
0 
1 
0 
0
ITU spare 
0 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
0 
1 
1 
1 
 
1 
1 
1 
1
Network-specific use 
1 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
1 
0 
1 
1 
 
1 
1 
1 
1
Ported number 
1 
1 
0 
0 
 
0 
0 
0 
0
ANSI spare 
1 
1 
0 
0 
 
0 
0 
0 
1
 
 
 
 
 
to
 
1 
1 
1 
1 
 
0 
1 
1 
1
(Continued)

ISDN User Part (ISUP)      409
TABLE 8.96 (Continued)
Transfer number 6 
1 
1 
1 
1 
 
1 
0 
0 
0
Transfer number 5 
1 
1 
1 
1 
 
1 
0 
0 
1
Transfer number 4 
1 
1 
1 
1 
 
1 
0 
1 
0
Transfer number 3 
1 
1 
1 
1 
 
1 
0 
1 
1
Transfer number 2 
1 
1 
1 
1 
 
1 
1 
0 
0
Transfer number 1 
1 
1 
1 
1 
 
1 
1 
0 
1
Callers emergency service identification (CESID) 
1 
1 
1 
1 
 
1 
1 
1 
0
Reserved for expansion 
1 
1 
1 
1 
 
1 
1 
1 
1
Octet 2 (for dialed digits and destination  
number type of address) 
H 
G 
F 
E 
 
D 
C 
B 
A
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare reserved, for national use 
 
0 
0 
0 
 
0 
0 
1 
0
National (significant number) 
 
0 
0 
0 
 
0 
0 
1 
1
International number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
Abbreviated number 
 
0 
0 
0 
 
0 
1 
1 
0
Spare 
 
0 
0 
0 
 
0 
1 
1 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
1
(For type supplemental user provided calling address)
 
H 
G 
F 
E 
 
D 
C 
B 
A
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Unique subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
Unique national significant number 
 
0 
0 
0 
 
0 
0 
1 
1
Unique international number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Nonunique subscriber number 
 
1 
1 
1 
 
0 
0 
0 
1
Spare, reserved for national use 
 
1 
1 
1 
 
0 
0 
1 
0
Nonunique national number 
 
1 
1 
1 
 
0 
0 
1 
1
Nonunique international number 
 
1 
1 
1 
 
0 
1 
0 
0
Spare 
 
1 
1 
1 
 
0 
1 
0 
1
Spare 
 
1 
1 
1 
 
0 
1 
1 
0
Test line code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
(For completion number type of address)
 
H 
G 
F 
E 
 
D 
C 
B 
A
Nature of address indicators 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
National significant number 
 
0 
0 
0 
 
0 
0 
1 
1
International number 
 
0 
0 
0 
 
0 
1 
0 
0
(Continued)

410      Chapter 8
TABLE 8.96 Generic Address Parameter (GAP) Fields and Codes (Continued)
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Subscriber number, operator requested 
 
1 
1 
1 
 
0 
0 
0 
1
National number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
0
International number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
1
No number present, operator requested 
 
1 
1 
1 
 
0 
1 
0 
0
No number present, cut-through call to carrier 
 
1 
1 
1 
 
0 
1 
0 
1
950 call from local exchange carrier public station,  
hotel/motel, or nonexchange access end office 
 
1 
1 
1 
 
0 
1 
1 
0
Test line code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even indicator 
Even number of address signals 
0 
 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
Reserved 
 
 
 
 
 
 
 
0 
0
Presentation 
Presentation allowed 
 
 
 
 
 
0 
0 
 
Presentation restricted 
 
 
 
 
 
0 
1 
 
Spare 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Numbering plan 
Unknown numbering plan 
 
0 
0 
0 
 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
 
Spare 
 
0 
1 
0 
 
 
 
Reserved ITU-TS data numbering plan 
 
0 
1 
1 
 
 
 
Reserved ITU-TS telex numbering plan 
 
1 
0 
0 
 
 
 
Private numbering plan 
 
1 
0 
1 
 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 4 
H 
G 
F 
E 
 
D 
C 
B 
A
Address signal—first address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
(Continued)

ISDN User Part (ISUP)      411
TABLE 8.96 (Continued)
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 
Octets 5 through n 
H 
G 
F 
E 
 
D 
C 
B 
A
Address signal—first address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

412      Chapter 8
The GAP is also used in LNP applications. When a number has been ported, the 
dialed digits are placed in the GAP parameter. The called-party address contains the 
location number used to route the call to the proper exchange. See Chapter 10 for more 
details on LNP.
The nature-of-address indicator depends on the type of address provided. All the op-
tions are shown for clarity.
Generic Digits The generic digits parameter provides additional numeric data pertain-
ing to supplementary services such as authorization code, the personal identification 
number (PIN), or account code (Table 8.97). The types of digits are found in the first 
octet. These types are related to PBX features and/or business group features. The trans-
fer of these data is possible from an ISDN-compatible PBX to another ISDN-compatible 
PBX through the PSTN using the SS7 ISUP protocol and parameters such as this one.
Generic Name The generic name parameter contains information to be used for name-
display features (Table 8.98). In ANSI networks, calling-name (CNAM) display requires 
the terminating exchange to access a database and search for the name information. 
In some networks (outside the United States), the name information actually is car-
ried in the IAM from the originating exchange. The name information is found in this 
parameter in the IA5 format. Up to 15 characters may be sent.
TABLE 8.97 Generic Digits Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Generic digits 
1 
1 
0 
0 
 
0 
0 
0 
1
Type of digits 
Account code 
 
 
 
0 
 
0 
0 
0 
0
Authorization code 
 
 
 
0 
 
0 
0 
0 
1
Private network traveling class mark 
 
 
 
0 
 
0 
0 
1 
0
ANSI spare 
 
 
 
0 
 
0 
0 
1 
1
 
 
 
 
 
to 
 
 
 
 
 
 
 
0 
 
1 
1 
0 
0
Originating party service provider 
 
 
 
0 
 
1 
1 
0 
1
Bill to number 
 
 
 
0 
 
1 
1 
1 
1
Reserved for network-specific use 
 
 
 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
 
 
1 
 
1 
1 
1 
0
Reserved for extension 
 
 
 
1 
 
1 
1 
1 
1
Encoding scheme 
BCD even 
0 
0 
0 
 
 
 
 
BCD odd 
0 
0 
1 
 
 
 
 
IA5 
0 
1 
0 
 
 
 
 
Binary 
0 
1 
1 
 
 
 
 
Spare 
1 
0 
0 
 
 
 
 
 
 
 
 
 
to
 
1 
1 
1
Octets 2 through n 
H 
G 
F 
E 
 
D 
C 
B 
A
Digits (encoded in the format specified previously) 
 
 
 
 
 
 
 

ISDN User Part (ISUP)      413
Hop Counter The hop counter is used to ensure that ISUP looping does not occur  
(Table 8.99). The initial message is sent in the forward direction with the maximum 
value allowed (network-dependent). As the message is passed through each circuit, 
the counter is decremented by one. When the counter reaches zero, the message is dis-
carded. The counter value is the number of contiguous SS7 circuits that this message 
must pass to reach its destination. This is provided in binary form.
Information Indicators This parameter provides additional information related to a call 
in progress (Table 8.100). It can be sent in either direction and can be a solicited mes-
sage or unsolicited. Solicited indicates that the distant exchange requested informa-
tion (billing information, for example) and the receiving exchange is replying to that 
request. This parameter does not provide the requested information; it simply indicates 
that the information is in this message.
Information Request Indicators The information request parameter is used to request 
specific information regarding a call already in progress (Table 8.101). The response to 
the request parameter is the information indicators, with the appropriate parameters 
providing the actual data.
TABLE 8.98 Generic Name Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Generic name parameter 
1 
1 
0 
0 
 
0 
1 
1 
1
Presentation 
Presentation allowed 
 
 
 
 
 
 
 
0 
0
Presentation restricted 
 
 
 
 
 
 
 
0 
1
Blocking toggle 
 
 
 
 
 
 
 
1 
0
No indication 
 
 
 
 
 
 
 
1 
1
Spare 
 
 
 
 
 
0 
0 
 
Availability 
Name available/unknown 
 
 
 
0 
 
 
 
Name not available 
 
 
 
1 
 
 
 
Type of name 
Spare 
0 
0 
0 
 
 
 
 
Calling name 
0 
0 
1 
 
 
 
 
Original called name 
0 
1 
0 
 
 
 
 
Redirecting name 
0 
1 
1 
 
 
 
 
Connected name 
1 
0 
0 
 
 
 
 
Spare 
1 
0 
1 
 
 
 
 
 
 
 
 
 
to
 
1 
1 
1 
 
 
 
TABLE 8.99 Hop Counter Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Hop counter parameter 
0 
0 
1 
1 
 
1 
1 
0 
1
Hop counter 
 
 
 
x 
 
x 
x 
x 
x
Spare 
0 
0 
0 
 
 
 
 

414      Chapter 8
TABLE 8.100 Information Indicators Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Information indicators 
0 
0 
0 
0 
 
1 
1 
1 
1
Calling-party address response indicator 
Calling-party address not included 
 
 
 
 
 
 
 
0 
0
Calling-party address not available 
 
 
 
 
 
 
 
0 
1
Spare 
 
 
 
 
 
 
 
1 
0
Calling-party address included, hold not provided 
 
 
 
 
 
 
 
1 
1
Hold provided indicator 
Hold not provided (default) 
 
 
 
 
 
 
0 
 
*Hold provided 
 
 
 
 
 
 
1 
 
Spare 
 
 
 
0 
 
0 
 
 
Calling party’s category response indicator 
Calling party’s category not included 
 
 
0 
 
 
 
 
*Calling party’s category included 
 
 
1 
 
 
 
 
Charge information response indicator 
Charge information not included 
 
0 
 
 
 
 
 
*Charge information included 
 
1 
 
 
 
 
 
Solicited information indicator 
Solicited 
0 
 
 
 
 
 
 
Unsolicited 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Multilocation business group info response indicator 
Multilocation business group info not included 
0 
 
 
 
 
 
 
Multilocation business group info included 
1 
 
 
 
 
 
 
TABLE 8.101 Information Request Indicators Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Information request indicators 
0 
0 
0 
0 
 
1 
1 
1 
0
Calling-party address request indicator 
Calling-party address not requested 
 
 
 
 
 
 
 
 
0
Calling-party address requested 
 
 
 
 
 
 
 
 
1
Holding indicator 
Holding not requested 
 
 
 
 
 
 
 
0 
*Holding requested 
 
 
 
 
 
 
 
1 
Spare 
 
 
 
 
 
 
0 
 
Calling party’s category request indicator 
Calling part’s category not requested 
 
 
 
 
 
0 
 
 
*Calling party’s category requested 
 
 
 
 
 
1 
 
 
Charge information request indicator 
Charge information not requested 
 
 
 
0 
 
 
 
Charge information requested 
 
 
 
1 
 
 
 
Spare 
 
0 
0 
 
 
 
 
Malicious call identification request indicator 
Malicious call identification not requested 
0 
 
 
 
 
 
 
*Malicious call identification requested 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Multilocation business group info indicator 
Multilocation business group info not requested 
0 
 
 
 
 
 
 
Multilocation business group info requested  
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      415
This information is used in call processing and billing for the call. Not all these pro-
cedures are currently in use in U.S. networks, yet the functionality is defined in both 
ITU and ANSI standards.
Jurisdiction The jurisdiction parameter (JIP) is used in LNP applications to support 
billing systems (Table 8.102). When an originating number has been ported, billing 
systems may not be able to determine the correct billing for the call (because 1 billion 
systems are still based on the North American Numbering Plan). The JIP provides the 
LRN assigned to the originating number, which is then used to determine proper billing 
for the call. The calling-party number is no longer applicable for the billing of a call in 
the case of ported numbers.
This parameter is a variable-length parameter consisting of address signals only. The 
parameter provides numerical data indicating the geographic origination of the call. 
TABLE 8.102 Jurisdiction Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Jurisdiction 
1 
1 
0 
0 
 
0 
1 
0 
0
Address signal—first address 
 
 
 
 
 
 
 
 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
 
 
 
 
 
 
 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

416      Chapter 8
Message Compatibility Information This parameter provides instructions to an exchange 
processing an ISUP message that it does not understand (Table 8.103). This message 
can be sent in either direction. Additional octets may be added to this parameter at 
another time, but right now these are the only defined parameter values.
Nature-of-Connection Indicators The nature-of-connection indicator is sent in the for-
ward direction to provide information regarding the circuit connection specified in the 
CIC parameter of the message (Table 8.104). The values within this parameter enable 
intermediate exchanges to determine how to handle the processing of this message.
Network Transport As seen previously, this parameter consists of other ISUP param-
eters. It is used to send ISUP parameters through the network transparently without 
involving a call-setup or other mechanism. The objective is to send parameters end to 
end through the network without the intermediate exchanges having to process the 
message.
Network-Specific Facility This field is encoded according to rules set by the network 
operator. Service-related information is transferred transparently in either direction 
between the local exchange and the identified network that provides the service. The 
information is significant to both the user and the identified network.
TABLE 8.103 Message Compatibility Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Message compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
0
Instruction indicators 
Transit at intermediate exchange indicator 
Transit interpretation 
 
 
 
 
 
 
 
 
0
End node interpretation 
 
 
 
 
 
 
 
 
1
Release call indicator 
Do not release call 
 
 
 
 
 
 
 
0 
Release call 
 
 
 
 
 
 
 
1 
Send notification indicator 
Do not send notification 
 
 
 
 
 
 
0 
 
Send notification 
 
 
 
 
 
 
1 
 
Discard message indicator 
Do not discard message (pass on) 
 
 
 
 
 
0 
 
 
Discard message 
 
 
 
 
 
1 
 
 
Pass on not possible indicator 
Release call 
 
 
 
0 
 
 
 
Discard information 
 
 
 
1 
 
 
 
Broadband/narrowband interworking indicator 
Pass on 
 
0 
0 
 
 
 
 
Discard message 
 
0 
1 
 
 
 
 
Release call 
 
1 
0 
 
 
 
 
Reserved, assume 00 
 
1 
1 
 
 
 
 
Extension indicator 
Information continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      417
Notification Indicator This parameter provides information regarding supplementary 
services (Table 8.105). These services are related to business group services (such as 
Centrex) that provide PBX-like features to a group of business lines within a group. 
This parameter provides information regarding the nature of the calling party and its 
origin (forwarded call, call from hold, and so on).
Operator Services Information The operator services parameter is used to identify how a 
caller accessed an operator for assistance and how the call should be billed (Table 8.106). 
For example, if a caller dialed 01 plus the number, special handling may be required. 
Billing also may be affected based on the caller’s interaction with the operator (the caller 
may request the call to be billed to a calling card, for example). The values in this param-
eter are used to identify how the call should be handled in the billing system.
Optional Backward Call Indicators This parameter is sent in the backward direction, 
providing information to another exchange regarding a call in progress (Table 8.107). 
The in-band information indicator is used to alert the distant exchange that in-band 
information such as a recording or a service tone is present on the voice circuit.
The call forwarding parameter is used to indicate that the call may be forwarded if 
the called party does not answer. There are currently no national ANSI procedures for 
this field. The user-network interaction indicator is sent from the originating exchange 
to indicate that additional information is being gathered from the caller (such as a PIN 
number or special code) before routing the call.
Original Called Number This parameter is used when call redirecting (forwarding) occurs 
(Table 8.108). The parameter identifies the address of the party that initiated the redirec-
tion. This parameter also provides information regarding presentation of the calling-party 
number, which is used by the end exchange when connecting the call to its destination.
TABLE 8.104 Nature-of-Connection Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Nature-of-connection indicators 
0 
0 
0 
0 
 
0 
1 
1 
0
Satellite indicator 
No satellite circuit in the connection 
 
 
 
 
 
 
 
0 
0
One satellite circuit in the connection 
 
 
 
 
 
 
 
0 
1
Two satellite circuits in the connection 
 
 
 
 
 
 
 
1 
0
Three or more satellite circuits in the connection 
 
 
 
 
 
 
 
1 
1
Continuity check indicator 
Continuity check not required 
 
 
 
 
 
0 
0 
 
Continuity check required on this circuit 
 
 
 
 
 
0 
1 
 
Continuity check performed on a previous circuit 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Echo control device indicator 
Outgoing half-echo control device not included 
 
 
 
0 
 
 
 
Outgoing half-echo control device included 
 
 
 
1 
 
 
 
Spare 
0 
0 
0 
 
 
 
 

418      Chapter 8
TABLE 8.105 Notification Indicator Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Notification indicator 
1 
1 
1 
0 
 
0 
0 
0 
1
Notification indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
0 
0 
0 
 
0 
0 
1 
1
Call completion delay 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
0 
0 
 
0 
0 
0 
1
Conference established (multipart call) 
 
1 
0 
0 
 
0 
0 
1 
0
Conference disconnected 
 
1 
0 
0 
 
0 
0 
1 
1
Other party added to conference 
 
1 
0 
0 
 
0 
1 
0 
0
Isolated 
 
1 
0 
0 
 
0 
1 
0 
1
Reattached 
 
1 
0 
0 
 
0 
1 
1 
0
Other party isolated 
 
1 
0 
0 
 
0 
1 
1 
1
Other party reattached 
 
1 
0 
0 
 
1 
0 
0 
0
Other party split 
 
1 
0 
0 
 
1 
0 
0 
1
Other party disconnected 
 
1 
0 
0 
 
1 
0 
1 
0
Conference floating 
 
1 
0 
0 
 
1 
0 
1 
1
Spare 
 
1 
0 
0 
 
1 
1 
0 
0
Spare 
 
1 
0 
0 
 
1 
1 
0 
1
Spare 
 
1 
0 
0 
 
1 
1 
1 
0
Conference floating, served user preempted 
 
1 
0 
0 
 
1 
1 
1 
1
Spare 
 
1 
0 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
1 
0 
1 
 
1 
1 
1 
1
Call is a waiting call 
 
1 
1 
0 
 
0 
0 
0 
0
Reserved for transfer in progress 
 
1 
1 
0 
 
0 
0 
0 
1
Reserved for call isolated from conference call 
 
1 
1 
0 
 
0 
0 
1 
0
Reserved for call split from conference call 
 
1 
1 
0 
 
0 
0 
1 
1
Reserved for call reattached to conference call 
 
1 
1 
0 
 
0 
1 
0 
0
Reserved for call added to conference call 
 
1 
1 
0 
 
0 
1 
0 
1
Spare 
 
1 
1 
0 
 
0 
1 
1 
0
 
 
 
 
 
to
 
 
1 
1 
0 
 
1 
0 
0 
0
Call transfer, alerting 
 
1 
1 
0 
 
1 
0 
0 
1
Call transfer, active 
 
1 
1 
0 
 
1 
0 
1 
0
Spare 
 
1 
1 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
0 
0 
1
Remote hold 
 
1 
1 
1 
 
1 
0 
0 
1
Remote hold released 
 
1 
1 
1 
 
1 
0 
1 
0
Call is forwarded/deflected 
 
1 
1 
1 
 
1 
0 
1 
1
Spare 
 
1 
1 
1 
 
1 
1 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Reserved 
 
1 
1 
1 
 
1 
1 
1 
1
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      419
TABLE 8.106 Operator Services Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Operator service information 
1 
1 
0 
0 
 
0 
0 
1 
0
Original access prefix 
0 
0 
0 
1 
 
 
 
 
Unknown 
 
 
 
 
 
0 
0 
0 
0
1 or 011 
 
 
 
 
 
0 
0 
0 
1
0 or 01 
 
 
 
 
 
0 
0 
1 
0
0 
 
 
 
 
 
0 
0 
1 
1
Spare 
 
 
 
 
 
0 
1 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
0 
0 
1
Reserved for national use 
 
 
 
 
 
1 
0 
1 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Bill to information entry type and handling type 
0 
0 
1 
0 
 
 
 
Info entry unknown, unknown handling 
 
 
 
 
 
0 
0 
0 
0
Info entry manual by operator, station handling 
 
 
 
 
 
0 
0 
0 
1
Info entry manual by operator, person handling 
 
 
 
 
 
0 
0 
1 
0
Info entry automated by tone input, station handling 
 
 
 
 
 
0 
0 
1 
1
Info entry unknown, station handling 
 
 
 
 
 
0 
1 
0 
0
Info entry unknown, person handling 
 
 
 
 
 
0 
1 
0 
1
Info entry manual by operator, unknown handling 
 
 
 
 
 
0 
1 
1 
0
Info entry automated by tone input, unknown handling 
 
 
 
 
 
0 
1 
1 
1
Info entry automated by tone input, person handling 
 
 
 
 
 
1 
0 
0 
0
Info entry automated by spoken input, unknown handling  
 
 
 
 
1 
0 
0 
1
Info entry automated by spoken input, station handling 
 
 
 
 
 
1 
0 
1 
0
Info entry automated by spoken input, person handling 
 
 
 
 
 
1 
0 
1 
1
Spare 
 
 
 
 
 
1 
1 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
0 
1
Reserved for network-specific use 
 
 
 
 
 
1 
1 
1 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Bill to type 
0 
0 
1 
1 
 
 
 
Unknown  
 
 
 
 
 
0 
0 
0 
0
Calling card—14-digit format 
 
 
 
 
 
0 
0 
0 
1
Calling card—89c format 
 
 
 
 
 
0 
0 
1 
0
Calling card—other format 
 
 
 
 
 
0 
0 
1 
1
Collect 
 
 
 
 
 
0 
1 
0 
0
Third-party number billing 
 
 
 
 
 
0 
1 
0 
1
Sent paid (prepaid calling card) 
 
 
 
 
 
0 
1 
1 
0
Spare 
 
 
 
 
 
0 
1 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
0 
1 
0
Reserved for network-specific use 
 
 
 
 
 
1 
1 
1 
1
Bill-to specific information 
0 
1 
0 
0 
 
 
 
Spare 
 
 
 
 
 
0 
0 
0 
0
NIDB authorizes 
 
 
 
 
 
0 
0 
0 
1
NIDB reports, verify by automated means 
 
 
 
 
 
0 
0 
1 
0
NIDB reports, verify by operator 
 
 
 
 
 
0 
0 
1 
1
No NIDB query 
 
 
 
 
 
0 
1 
0 
0
NIDB reports unavailable 
 
 
 
 
 
0 
1 
1 
0
No NIDB response—timeout 
 
 
 
 
 
0 
1 
1 
1
(Continued)

420      Chapter 8
TABLE 8.106 Operator Services Information Fields and Codes (Continued)
No NIDB response—eject component 
 
 
 
 
 
1 
0 
0 
0
No NIDB response—ACG in effect 
 
 
 
 
 
1 
0 
0 
1
No NIDB response—SCCP failure 
 
 
 
 
 
1 
0 
1 
0
Spare 
 
 
 
 
 
1 
0 
1 
1
Reserved for network-specific use 
 
 
 
 
 
1 
1 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Special handling 
0 
1 
0 
1 
 
 
 
Unknown  
 
 
 
 
 
0 
0 
0 
0
Call completion 
 
 
 
 
 
0 
0 
0 
1
Rate information 
 
 
 
 
 
0 
0 
1 
0
Trouble reporting 
 
 
 
 
 
0 
0 
1 
1
Time and charges 
 
 
 
 
 
0 
1 
0 
0
Credit reporting 
 
 
 
 
 
0 
1 
0 
1
General assistance 
 
 
 
 
 
0 
1 
1 
0
Spare 
 
 
 
 
 
0 
1 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
0 
1 
0
Reserved for network-specific use 
 
 
 
 
 
1 
0 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Spare 
0 
1 
1 
0 
 
 
 
Accessing signaling 
0 
1 
1 
1 
 
 
 
Unknown  
 
 
 
 
 
0 
0 
0 
0
Dial pulse 
 
 
 
 
 
0 
0 
0 
1
Dual-tone multifrequency (DTMF) 
 
 
 
 
 
0 
0 
1 
0
Spare 
 
 
 
 
 
0 
0 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
1 
0 
0 
1
Reserved for network-specific use 
 
 
 
 
 
1 
0 
1 
0
 
 
 
 
 
to
 
 
 
 
 
 
 1 
1 
1 
1
TABLE 8.107 Optional Backward Call Indicators
 
H 
G 
F 
E 
 
D 
C 
B 
A
Optional backward call indicators 
0 
0 
1 
0 
 
1 
0 
0 
1
In-band information indicator 
No indication 
 
 
 
 
 
 
 
 
0
In-band info or an appropriate pattern is now available 
 
 
 
 
 
 
 
 
1
Call forwarding may occur indicator 
No indication 
 
 
 
 
 
 
 
0 
*Call forwarding may occur 
 
 
 
 
 
 
 
1 
Spare 
 
 
 
 
 
0 
0 
 
Reserved for national use 
 
 
0 
0 
 
 
 
Network excessive delay indicator 
No indication 
 
0 
 
 
 
 
 
Network excessive delay encountered 
 
1 
 
 
 
 
 
User-network interaction indicator 
No indication 
0 
 
 
 
 
 
 
User-network interaction occurs, cut through 
  in both directions 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      421
TABLE 8.108 Original Called Number Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Original called number 
0 
0 
1 
0 
 
1 
0 
0 
0
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Unique subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
Unique national significance number 
 
0 
0 
0 
 
0 
0 
1 
1
Unique international number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Nonunique subscriber number 
 
1 
1 
1 
 
0 
0 
0 
1
Spare, reserved for national use 
 
1 
1 
1 
 
0 
0 
1 
0
Nonunique national significance number 
 
1 
1 
1 
 
0 
0 
1 
1
Nonunique international number 
 
1 
1 
1 
 
0 
1 
0 
0
Spare 
 
1 
1 
1 
 
0 
1 
0 
1
Spare 
 
1 
1 
1 
 
0 
1 
1 
0
Test line test code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even indicator 
Even number of address signals 
0 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Reserved 
 
 
 
 
 
 
 
0 
0
Address presentation 
Presentation 
 
 
 
 
 
0 
0 
 
Presentation restricted (default) 
 
 
 
 
 
0 
1 
 
Spare 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Numbering plan 
Unknown  
 
0 
0 
0 
 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
 
Spare 
 
0 
1 
0 
 
 
 
Reserved (ITU data numbering plan) 
 
0 
1 
1 
 
 
 
Reserved (ITU telex numbering plan 
 
1 
0 
0 
 
 
 
Private numbering plan 
 
1 
0 
1 
 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
First address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
(Continued)

422      Chapter 8
Only the first and second address signals are shown here, but there can be additional 
address signals. The address signal is typically the telephone number assigned to the 
subscriber who initiated the redirecting.
Originating Line Information This information is sent in the forward direction repre-
senting a toll class of service for the call (Table 8.109).
Outgoing Trunk Group Number This parameter provides the trunk number used for an 
interworking call. Interworking means that the call was sent to another exchange in 
another network. The trunk number represents the circuit used at the gateway switch 
into the other network. This parameter is found only in instances where internetwork-
ing occurs.
Parameter Compatibility Information This is sent in either direction to inform an 
exchange on how it should react if a received message contains parameters that 
it cannot decode or does not understand (Table 8.110). Each parameter will be 
identified in the upgraded parameter name field, followed by the instruction codes 
shown above. 
Pivot Capability This parameter identifies whether pivot routing is allowed or not 
(Table 8.111).
TABLE 8.108 Original Called Number Fields and Codes (Continued)
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signals 
 
 
 
 
 
1 
1 
1 
1
Second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

ISDN User Part (ISUP)      423
Pivot Counter The pivot counter identifies the number of pivot attempts (both success-
ful and unsuccessful). The information is expressed in binary form in this one-octet 
parameter. Bits HGF are spare. 
TABLE 8.109 Originating Line Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Originating line information 
1 
1 
1 
0 
 
1 
0 
1 
0
Binary equivalent of the II digits 
0 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
0 
1 
1 
0 
 
0 
0 
1 
1
Reserved for future expansion 
0 
1 
1 
0 
 
0 
1 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.110 Parameter Capability Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Parameter compatibility information 
0 
0 
1 
1 
 
1 
0 
0 
1
Nth upgraded parameter 
Contains the value of the parameter
Instruction indicators 
Transit at intermediate exchange indicator 
Transit interpretation 
 
 
 
 
 
 
 
 
0
End-node interpretation 
 
 
 
 
 
 
 
 
1
Release call indicator 
Do not release call 
 
 
 
 
 
 
 
0 
Release call 
 
 
 
 
 
 
 
1 
Send notification indicator 
Do not send notification 
 
 
 
 
 
 
0 
 
Send notification 
 
 
 
 
 
 
1 
 
Discard message indicator 
Do not discard message (pass on) 
 
 
 
 
 
0 
 
 
Discard message 
 
 
 
 
 
1 
 
 
Discard parameter indicator 
Do not discard parameter (pass on) 
 
 
 
0 
 
 
 
Discard parameter 
 
 
 
1 
 
 
 
Pass on not possible indicator 
Release call 
 
0 
0 
 
 
 
 
Discard message 
 
0 
1 
 
 
 
 
Discard parameter 
 
1 
0 
 
 
 
 
Reserved 
 
1 
1 
 
 
 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Next octet 
H 
G 
F 
E 
 
D 
C 
B 
A
Broadband/narrowband interworking indicator 
Pass on 
 
 
 
 
 
 
 
0 
0
Discard message 
 
 
 
 
 
 
 
0 
1
Release call 
 
 
 
 
 
 
 
1 
0
Discard parameter 
 
 
 
 
 
 
 
1 
1
Spare 
0 
0 
0 
0 
 
0 
0 
 

424      Chapter 8
Pivot Routing Backward Information This parameter provides exchanges with informa-
tion on how to implement pivot routing for the specified call. This parameter is sent in 
the backward (previous) direction. 
Pivot Routing Forward Information This parameter is sent in the forward direction to 
subsequent exchanges to provide information on how to implement pivot routing. 
Pivot Routing Indicators The pivot routing indicators parameter is found in the facility 
(FAC) message and is used to communicate to the next exchange (or the previous ex-
change) what pivot action is to take place (Table 8.112). It also is used (in the backward 
direction) to cancel a pivot request.
Pivot Status This parameter is used to communicate to exchanges the possibility of 
pivot routing at a later time (Table 8.113). 
TABLE 8.111 Pivot Capability Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Pivot capability 
0 
1 
1 
1 
 
1 
0 
1 
1
Pivot possible indicator 
No indication 
 
 
 
 
 
 
0 
0 
0
Pivot routing possible before ACM 
 
 
 
 
 
 
0 
0 
1
Pivot routing possible before ANM 
 
 
 
 
 
 
0 
1 
0
Pivot routing possible any time during the call 
 
 
 
 
 
 
0 
1 
1
Spare 
 
 
 
 
 
 
1 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
 
1 
1 
1
Spare 
 
 
0 
0 
 
0 
 
 
Interworking to redirection indicator 
Allowed (forward) 
 
0 
 
 
 
 
 
Not allowed (forward) 
 
1 
 
 
 
 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.112 Pivot Routing Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Pivot routing indicators 
0 
1 
1 
1 
 
1 
1 
0 
0
No indication 
 
0 
0 
0 
 
0 
0 
0 
0
Pivot request 
 
0 
0 
0 
 
0 
0 
0 
1
Cancel pivot request 
 
0 
0 
0 
 
0 
0 
1 
0
Pivot request failure 
 
0 
0 
0 
 
0 
0 
1 
1
Interworking to redirection prohibited (backward) 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
1
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      425
Precedence Precedence is a feature provided in defense networks, where an individ-
ual of higher rank is given priority for outgoing trunks over someone of lower rank  
(Table 8.114). This feature typically is found in AUTOVON systems but now is being 
offered through the central-office services. This parameter identifies the level of prece-
dence allowed and whether or not the look ahead for busy (LFB) feature is allowed.
TABLE 8.113 Pivot Status Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Pivot status 
1 
0 
0 
0 
 
0 
1 
1 
0
Not used 
 
 
 
 
 
 
 
0 
0
Acknowledgment of pivot routing 
 
 
 
 
 
 
 
0 
1
Pivot routing will not be invoked 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
 
TABLE 8.114 Precedence Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Precedence 
0 
0 
1 
1 
 
1 
0 
1 
0
Precedence level 
Flash override (0) 
 
 
 
 
 
0 
0 
0 
0
Flash (1) 
 
 
 
 
 
0 
0 
0 
1
Immediate (2) 
 
 
 
 
 
0 
0 
1 
0
Priority (3) 
 
 
 
 
 
0 
0 
1 
1
Routine (4) 
 
 
 
 
 
0 
1 
0 
0
Spare 
 
 
 
 
 
0 
1 
0 
1
 
 
 
 
 
to 
 
 
 
 
 
 
 
1 
1 
1 
1
Spare 
 
 
 
0 
 
 
 
Look ahead for busy (LFB) 
Look ahead for busy allowed 
 
0 
0 
 
 
 
 
Look ahead for busy not allowed 
 
1 
0 
 
 
 
 
Path reserved 
 
0 
1 
 
 
 
 
Spare 
 
1 
1 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Multilevel precedence and preemption (MLPP) 
Defense switched network 
 
0 
0 
0 
 
0 
0 
0 
0
Spare 
 
0 
0 
0 
 
0 
0 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
1
Extension 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

426      Chapter 8
Range and Status This part of the parameter is a binary representation of the range of 
circuits that are affected by the status field that follows it (Table 8.115). Because this is 
a zero-based number, the actual circuit number is the binary representation plus one. 
In national circuits (ANSI only), the range is from 0 to 23. International circuits range 
from 0 to 31.
The status field provides the status of the circuits indicated in the range parameter. 
The status bits are numbered from 0 to 23, or 0 to 31 in international circuits. There is 
a direct correlation between the range and status fields. The number of status bits is 
equal to the value of the range field plus 1.
Status bit 0 is located in the first bit position of the status octet. Other status bits 
follow in numerical order. More than one octet can exist in the range field, if the range 
is coded as zero, and the status bit is not provided.
The status bits also depend on the message type for their value. For instance, in a 
CGB message, the status bits are different from those in a CGU message. The status 
bit values are as shown in Table 8.116.
The range and status parameter is found in circuit group supervision messages to 
indicate the range of circuits that are affected by the status indicator and the status of 
those circuits. The status field correlates with the type of circuit group message. The 
status bits are provided in numerical order, with each status bit corresponding with 
the CIC of the affected circuit.
TABLE 8.115 Octet 1 of the Range and Status Parameter
 
H 
G 
F 
E 
 
D 
C 
B 
A
Range and status 
0 
0 
0 
1 
 
0 
1 
1 
0
Octet 1—range 
Range 
x 
x 
x 
x 
 
x 
x 
x 
x
TABLE 8.116 Octet 2 of the Range and Status Parameter
Octet 2—Status 
In-circuit group blocking (CGB) messages 
No blocking 
0
Blocking 
1
In-circuit group blocking acknowledgment (CGBA) messages 
No blocking acknowledgment 
0
Blocking acknowledgment 
1
In-circuit group unblocking (CGU) messages 
No unblocking 
0
Unblocking 
1
In-circuit group unblocking acknowledgment (CGUA) messages 
No blocking acknowledgment 
0
Unblocking acknowledgment 
1
In-circuit group reset acknowledgment (CGRA) messages 
No blocking 
0
Blocked 
1

ISDN User Part (ISUP)      427
As seen in the range field, the range field identifies the actual circuit number  
(or range of circuits) and is used to also identify which status bits are required for each 
circuit. Status bit 0 is the first status bit, which is found in the first bit location of the 
first octet in the status field.
Redirect Backward Information This parameter is sent in the backward direction to 
communicate to the previous exchange why redirect is being (or has been) invoked 
(Table 8.117). 
Redirect Capability This information is sent in the forward direction (Figure 8.118). It 
indicates that the succeeding exchange is allowed to initiate the redirection of a call 
and indicates when the redirection may take place (in relation to the call-processing 
procedures).
Redirect Counter This parameter indicates the number of times a call has been re-
directed within the network (Table 8.119). This may be used to control the maximum 
number of times a number can be redirected as part of a service offering. The number 
is represented in binary.
TABLE 8.117 Redirect Backward Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirect backward information 
1 
0 
0 
0 
 
1 
1 
0 
0
Not used 
0 
0 
0 
0 
 
0 
0 
0 
0
Return to invoking exchange duration 
0 
0 
0 
0 
 
0 
0 
0 
1
Return to invoking exchange call identifier 
0 
0 
0 
0 
 
0 
0 
1 
0
Invoking redirect reason 
0 
0 
0 
0 
 
0 
0 
1 
1
Spare 
0 
0 
0 
0 
 
0 
1 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.118 Redirect Capability Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirect capability 
0 
1 
0 
0 
 
1 
1 
1 
0
Redirection possibility indicator 
Not used 
 
 
 
 
 
 
0 
0 
0
Redirection possible before ACM 
 
 
 
 
 
 
0 
0 
1
Redirection possible before ANM 
 
 
 
 
 
 
0 
1 
0
Redirection possible at any time during the call 
 
 
 
 
 
 
0 
1 
1
Spare 
 
 
 
 
 
 
1 
0 
0
Spare 
 
0 
0 
0 
 
 
 
 
 
 
 
 
 
to
 
 
1 
1 
1
Extension indicator 
Next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

428      Chapter 8
Redirect Forward Information This parameter is used in the forward direction to notify 
exchanges how to handle redirect for the call (Table 8.120). 
Redirect Status This parameter is used to inform exchanges that if redirect is re-
quested, it will be invoked (or not invoked) by the sending exchange (Table 8.121). 
Redirecting Number When call forwarding is applied to a call, this parameter is used 
to indicate the telephone number from which the called number was last forwarded  
(Table 8.122). Call forwarding can be invoked from any telephone, hence the need to 
identify from where the telephone number was last forwarded.
The address signals, as is the case in all parameters with this field, can consist of 
several digits, even though only one octet is shown here. At least four octets are needed 
to represent a telephone number. Any odd number of address signals requires a filler 
for the last half of the octet. The odd/even address indicator identifies addresses that 
do not require a full octet and contain a filler at the end.
TABLE 8.119 Redirect Counter Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirect counter 
0 
1 
1 
1 
 
0 
1 
1 
1
Counter 
 
 
 
x 
 
x 
x 
x 
x
TABLE 8.120 Redirect Forward Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirect forward information 
1 
0 
0 
0 
 
1 
0 
1 
1
Not used 
0 
0 
0 
0 
 
0 
0 
0 
0
Return to invoking exchange possible 
0 
0 
0 
0 
 
0 
0 
0 
1
Return to invoking exchange call identifier 
0 
0 
0 
0 
 
0 
0 
1 
0
Performing redirect indicator 
0 
0 
0 
0 
 
0 
0 
1 
1
Invoking redirect reason 
0 
0 
0 
0 
 
0 
1 
0 
0
Spare 
0 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to 
 
 
 
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.121 Redirect Status Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirect status 
1 
0 
0 
0 
 
1 
0 
1 
0
Not used  
 
 
 
 
 
 
 
0 
0
Acknowledgment of redirection 
 
 
 
 
 
 
 
0 
1
Redirection will not be invoked 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      429
TABLE 8.122 Redirecting Number Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirecting number 
0 
0 
0 
0 
 
1 
0 
1 
1
Nature of address indicator 
Spare 
 
0 
0 
0 
 
0 
0 
0 
0
Subscriber number 
 
0 
0 
0 
 
0 
0 
0 
1
Spare, reserved for national use 
 
0 
0 
0 
 
0 
0 
1 
0
National significant number 
 
0 
0 
0 
 
0 
0 
1 
1
International number 
 
0 
0 
0 
 
0 
1 
0 
0
Spare 
 
0 
0 
0 
 
0 
1 
0 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
0 
0 
0 
0
Subscriber number, operator requested 
 
1 
1 
1 
 
0 
0 
0 
1
National number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
0
International number, operator requested 
 
1 
1 
1 
 
0 
0 
1 
1
No number present, operator requested 
 
1 
1 
1 
 
0 
1 
0 
0
No number present, cut-through call to carrier 
 
1 
1 
1 
 
0 
1 
0 
1
950 call from local exchange carrier public station,  
hotel/motel, or nonexchange access end office 
 
1 
1 
1 
 
0 
1 
1 
0
Test line code 
 
1 
1 
1 
 
0 
1 
1 
1
Reserved for network-specific use 
 
1 
1 
1 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
0
Spare 
 
1 
1 
1 
 
1 
1 
1 
1
Odd/even bits 
Even number of address signals 
0 
 
 
 
 
 
 
Odd number of address signals 
1 
 
 
 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Reserved 
 
 
 
 
 
 
 
0 
0
Address presentation 
Presentation allowed 
 
 
 
 
 
0 
0 
 
Presentation restricted 
 
 
 
 
 
0 
1 
 
Spare 
 
 
 
 
 
1 
0 
 
Spare 
 
 
 
 
 
1 
1 
 
Numbering plan 
Unknown numbering plan 
 
0 
0 
0 
 
 
ISDN numbering plan (Rec. E.164, E.163) 
 
0 
0 
1 
 
 
Spare 
 
0 
1 
0 
 
 
Reserved ITU-TS data numbering plan 
 
0 
1 
1 
 
 
Reserved ITU-TS telex numbering plan 
 
1 
0 
0 
 
 
Spare 
 
1 
1 
0 
 
 
 
Spare 
 
1 
1 
1 
 
 
 
Spare 
0 
 
 
 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
Address signal—first address 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
0
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
(Continued)

430      Chapter 8
Redirection Information This parameter is used with calls where call forwarding has 
been invoked (Table 8.123). The information provided indicates the original reason for 
the forwarding and, in the case where the call has undergone more than one forward, 
the reason for the subsequent forwarding.
It is quite possible for a call to be forwarded a number of times without the caller’s 
knowledge. For example, a telephone number may be forwarded to another telephone 
number. When a caller tries to reach that number, he or she is forwarded to a second 
number. The second number also may be forwarded, resulting in the call being redi-
rected again. This parameter indicates the number of times the call was redirected and 
the reason for the redirection.
Redirection Number This parameter identifies the number to which the called num-
ber is to be redirected. The values contained in this parameter include the nature-of- 
address indicator, the numbering plan, and the telephone number that the call will be 
redirected to. The actual values have not been shown here because they are repeated 
in several other places in this book.
*Redirection Number Restriction This is sent to identify whether presentation is allowed 
when redirection is used (presentation of the number redirected to) (Table 8.124). 
Remote Operations This parameter will indicate the invocation of a supplementary ser-
vice, as well as any error codes if the operation failed (Table 8.125). The supplementary  
TABLE 8.122 Redirecting Number Fields and Codes (Continued)
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Address signal—second address 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 

ISDN User Part (ISUP)      431
TABLE 8.123 Redirection Information Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirection information 
0 
0 
0 
1 
 
0 
0 
1 
1
Spare 
 
 
 
 
 
 
0 
0 
0
Reserved 
 
 
 
 
 
0 
 
 
Original redirecting reason 
Unknown/not available (default) 
0 
0 
0 
0 
 
 
 
User busy 
0 
0 
0 
1 
 
 
 
No reply 
0 
0 
1 
0 
 
 
 
Unconditional 
0 
0 
1 
1 
 
 
 
Deflection 
0 
1 
0 
0 
 
 
 
Spare 
0 
1 
0 
1 
 
 
 
 
 
 
 
 
to
 
1 
1 
1 
0
Reserved 
1 
1 
1 
1 
 
 
 
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirection counter 
No redirection has occurred 
 
 
 
 
 
0 
0 
0 
0
Redirected 1 time 
 
 
 
 
 
0 
0 
0 
1
Redirected 2 times 
 
 
 
 
 
0 
0 
1 
0
Redirected 3 times 
 
 
 
 
 
0 
0 
1 
1
Redirected 4 times 
 
 
 
 
 
0 
1 
0 
0
Redirected 5 times 
 
 
 
 
 
0 
1 
0 
1
Redirected 6 times 
 
 
 
 
 
0 
1 
1 
0
Redirected 7 times 
 
 
 
 
 
0 
1 
1 
1
Redirected 8 times 
 
 
 
 
 
1 
0 
0 
0
Redirected 9 times 
 
 
 
 
 
1 
0 
0 
1
Redirected 10 times 
 
 
 
 
 
1 
0 
1 
0
Redirected 11 times 
 
 
 
 
 
1 
0 
1 
1
Redirected 12 times 
 
 
 
 
 
1 
1 
0 
0
Redirected 13 times 
 
 
 
 
 
1 
1 
0 
1
Redirected 14 times 
 
 
 
 
 
1 
1 
1 
0
Redirected 15 times 
 
 
 
 
 
1 
1 
1 
1
Redirecting reason 
Unknown/not available (default) 
0 
0 
0 
0 
 
 
 
User busy 
0 
0 
0 
1 
 
 
 
No reply 
0 
0 
1 
0 
 
 
 
Unconditional 
0 
0 
1 
1 
 
 
 
Spare 
0 
1 
0 
0 
 
 
 
 
 
 
 
 
to
 
1 
1 
1 
1
TABLE 8.124 Redirection Number Restriction Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Redirection number restriction 
0 
1 
0 
0 
 
0 
0 
0 
0
Presentation not allowed 
 
 
 
 
 
 
 
0 
0
Presentation allowed 
 
 
 
 
 
 
 
0 
1
Spare 
 
 
 
 
 
 
 
1 
0
Spare 
 
 
 
 
 
 
 
1 
1
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

432      Chapter 8
service invoked is identified by an operations code in the component portion of the 
parameter. The parameter is used by an exchange to invoke service at a remote node, 
independent of call control. 
Service Activation This parameter is used to invoke supplementary services from an-
other exchange (Table 8.126). Currently, not many features are called for in this param-
eter, but there is room for expansion.
TABLE 8.125 Remote Operations Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Remote operations 
0 
0 
1 
1 
 
0 
0 
1 
0
Protocol profile 
Spare 
 
 
 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
 
 
 
1 
 
0 
0 
0 
0
Remote operations protocol 
 
 
 
1 
 
0 
0 
0 
1
Spare 
 
 
 
1 
 
0 
0 
1 
0
 
 
 
 
 
to
 
 
 
 
1 
 
1 
1 
1 
1
Spare 
 
0 
0 
 
 
 
 
Extension bit 
Next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
Component (follows same format as TCAP component) 
 
 
 
 
 
 
 
TABLE 8.126 Service Activation Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Service activation 
0 
0 
1 
1 
 
0 
0 
1 
1
Feature code indicators 
Reserved for international use 
0 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
0 
1 
1 
1 
 
1 
0 
1 
1
Call waiting originating invoked 
0 
1 
1 
1 
 
1 
1 
0 
0
Dial call waiting invoked 
0 
1 
1 
1 
 
1 
1 
0 
1
Complete call required, ISUP all the way 
0 
1 
1 
1 
 
1 
1 
1 
0
Complete call required, ISUP not used all the way 
0 
1 
1 
1 
 
1 
1 
1 
1
Network service attached 
1 
0 
0 
0 
 
0 
0 
0 
0
Network service released 
1 
0 
0 
0 
 
0 
0 
0 
1
Coin collect 
1 
0 
0 
0 
 
0 
0 
1 
0
Coin return 
1 
0 
0 
0 
 
0 
0 
1 
1
Network service recall 
1 
0 
0 
0 
 
0 
1 
0 
0
Billing verification 
1 
0 
0 
0 
 
0 
1 
0 
1
Hold available 
1 
0 
0 
0 
 
0 
1 
1 
0
Hold not available 
1 
0 
0 
0 
 
0 
1 
1 
1
Hold request 
1 
0 
0 
0 
 
1 
0 
0 
0
Hold acknowledge 
1 
0 
0 
0 
 
1 
0 
0 
1
Hold release request 
1 
0 
0 
0 
 
1 
0 
1 
0
Hold release acknowledge 
1 
0 
0 
0 
 
1 
0 
1 
1
(Continued)

ISDN User Part (ISUP)      433
Service Code Indicator The service code field is a one-octet field representing the service 
code as assigned by the North American Numbering Plan Administration. Currently, 
this parameter is under further study, but it can be used to identify a specific type of 
service, which a subscriber can invoke either in real time or otherwise. The number in 
this parameter is a binary number representing the decimal equivalent of the service 
code.
Special Processing Request In the event that a call originates on a private network, 
a special number translation or authorization code verification may be necessary. This 
parameter indicates the special processing requirements of such a call (Table 8.127). 
The receiver of this message is a service node in the PSTN from a service node in the 
private network.
Subsequent Number This parameter is used to send additional called-party digits when 
the called-party address is not enough. It follows the called-party address parameter.
TABLE 8.126 (Continued)
Hold continuation request 
1 
0 
0 
0 
 
1 
1 
0 
0
Disconnect request 
1 
0 
0 
0 
 
1 
1 
0 
1
Reconnect request 
1 
0 
0 
0 
 
1 
1 
1 
0
Spare 
1 
0 
0 
0 
 
1 
1 
1 
1
 
 
 
 
 
to
 
1 
0 
0 
1 
 
0 
0 
1 
0
Resume operator services 
1 
0 
0 
1 
 
0 
0 
1 
1
Spare 
1 
0 
0 
1 
 
0 
1 
0 
0
 
 
 
 
 
to
 
1 
0 
1 
1 
 
1 
1 
1 
1
Network-specific use 
1 
1 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
0
Reserved for network-specific use 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.127 Special Processing Request Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Special processing request 
1 
1 
1 
0 
 
1 
1 
0 
1
Spare 
0 
0 
0 
0 
 
0 
0 
0 
0
Reserved for international use 
0 
0 
0 
0 
 
0 
0 
0 
1
 
 
 
 
 
to 
 
 
 
 
0 
0 
0 
0 
 
1 
1 
1 
1
Reserved for national use 
0 
0 
0 
1 
 
0 
0 
0 
0
 
 
 
 
 
to 
 
 
 
 
0 
1 
1 
1 
 
1 
1 
1 
0
Service processing requested 
0 
1 
1 
1 
 
1 
1 
1 
1
Reserved for network-specific use 
1 
0 
0 
0 
 
0 
0 
0 
0
 
 
 
 
 
to 
 
 
 
 
1 
1 
1 
1 
 
1 
1 
1 
0
Spare 
1 
1 
1 
1 
 
1 
1 
1 
1

434      Chapter 8
Suspend/Resume Indicators The suspend/resume indicator is sent in the forward di-
rection to indicate the originator of a suspend or resume (Table 8.128). There are only 
two options: an ISDN subscriber or the network that initiated the message.
Transaction Request This parameter follows the same message structure as seen in 
the TCAP, providing the transaction ID and the SCCP address for messages used to 
carry information regarding a call in progress. This parameter can be used only for calls 
that are already in progress and enables the ISUP protocol to use the services of the 
TCAP protocol to deliver service information relating to a call.
This parameter is carried in the IAM during the circuit connection establishment. 
The receiving exchange then uses this parameter for all subsequent messages related 
to the call on that circuit, such as feature invocation or call handoff procedures.
Transit Network Selection This parameter is sent in the forward direction to indicate 
the long-distance carrier or transit network to be used to carry this call (Table 8.129). 
This is used whenever the call is an inter-LATA call or an international call.
TABLE 8.128 Suspend/Resume Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Suspend/resume indicators 
0 
0 
1 
0 
 
0 
0 
1 
0
ISDN subscriber initiated 
 
 
 
 
 
 
 
 
0
Network initiated (default) 
 
 
 
 
 
 
 
 
1
Spare 
0 
0 
0 
0 
 
0 
0 
0 
TABLE 8.129 Transit Network Selection Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Transit network selection 
0 
0 
1 
0 
 
0 
0 
1 
1
Network identification plan (national ANSI networks) 
Unknown  
 
 
 
 
 
0 
0 
0 
0
Three-digit carrier identification with circuit code 
 
 
 
 
 
0 
0 
0 
1
Four-digit carrier identification with circuit code 
 
 
 
 
 
0 
0 
1 
0
Reserved 
 
 
 
 
 
0 
0 
1 
1
 
 
 
 
 
to
 
 
 
 
 
 
0 
1 
1 
1
Reserved for network-specific use 
 
 
 
 
 
1 
0 
0 
0
 
 
 
 
 
to
 
 
 
 
 
 
1 
1 
1 
1
Network identification plan (international networks) 
Unknown 
 
 
 
 
 
0 
0 
0 
0
Public data network identification code 
 
 
 
 
 
0 
0 
1 
1
Public land mobile network (PLMN) ID code 
 
 
 
 
 
0 
1 
1 
0
Type of network identification 
ITU standardized identification 
 
0 
0 
0 
 
 
 
National network identification 
 
0 
1 
0 
 
 
 
Spare 
0 
 
 
 
 
 
 
(Continued)

ISDN User Part (ISUP)      435
TABLE 8.129 (Continued)
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
First digit 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
1
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
Second digit 
Digit 0 
0 
0 
0 
0 
 
 
 
Digit 1 
0 
0 
0 
1 
 
 
 
Digit 2 
0 
0 
1 
0 
 
 
 
Digit 3 
0 
0 
1 
1 
 
 
 
Digit 4 
0 
1 
0 
0 
 
 
 
Digit 5 
0 
1 
0 
1 
 
 
 
Digit 6 
0 
1 
1 
0 
 
 
 
Digit 7 
0 
1 
1 
1 
 
 
 
Digit 8 
1 
0 
0 
0 
 
 
 
Digit 9 
1 
0 
0 
1 
 
 
 
Spare 
1 
0 
1 
0 
 
 
 
Code 11 
1 
0 
1 
1 
 
 
 
Code 12 
1 
1 
0 
0 
 
 
 
Spare 
1 
1 
0 
1 
 
 
 
Spare 
1 
1 
1 
0 
 
 
 
End of pulse signal 
1 
1 
1 
1 
 
 
 
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
Third digit 
Digit 0 
 
 
 
 
 
0 
0 
0 
0
Digit 1 
 
 
 
 
 
0 
0 
0 
1
Digit 2 
 
 
 
 
 
0 
0 
1 
1
Digit 3 
 
 
 
 
 
0 
0 
1 
1
Digit 4 
 
 
 
 
 
0 
1 
0 
0
Digit 5 
 
 
 
 
 
0 
1 
0 
1
Digit 6 
 
 
 
 
 
0 
1 
1 
0
Digit 7 
 
 
 
 
 
0 
1 
1 
1
Digit 8 
 
 
 
 
 
1 
0 
0 
0
Digit 9 
 
 
 
 
 
1 
0 
0 
1
Spare 
 
 
 
 
 
1 
0 
1 
0
Code 11 
 
 
 
 
 
1 
0 
1 
1
Code 12 
 
 
 
 
 
1 
1 
0 
0
Spare 
 
 
 
 
 
1 
1 
0 
1
Spare 
 
 
 
 
 
1 
1 
1 
0
End of pulse signal 
 
 
 
 
 
1 
1 
1 
1
(Continued)

436      Chapter 8
The carrier ID is a three- or four-digit code administered by Telcordia that uniquely 
identifies each of the long-distance carriers. This is the same code dialed when using 
calling cards (10xxx, where xxx equals the carrier code).
Currently, there are no implications allowing for the use of ISUP in international 
networks such as the public data network or the public land mobile network (PLMN). 
These are for further study.
Transmission Medium Requirement This is sent in the forward direction to inform the 
exchange as to what type of medium is required for the specified connection (Table 8.130). 
If this transmission medium is not available, the fallback transmission medium defined 
in the transmission medium requirement prime parameter is used instead. 
*Transmission Medium Requirement Prime This parameter is used to indicate the fallback 
connection type in the case of fallback (Table 8.131). Should the transmission medium 
requested not be available, the exchange will use the fallback transmission medium in 
its place. In this event, the exchange will change the transmission medium to that iden-
tified in the transmission medium required parameter to the medium identified in the 
transmission medium required prime parameter and then discard this parameter. 
Transmission Medium Used The transmission used in a call setup is sent in the 
backward direction in the event that the original circuit requested could not be used  
(Table 8.132). This parameter then identifies the circuit type and is carried in the ANM, 
ACM, and CPG messages.
*UID Action Indicators The UID actions are used to set up a dialogue between two ap-
plications (Table 8.133). The parameter is sent in the backward direction, allowing the 
dialogue to be connected between forward and preceding exchanges.
*UID Capability Indicators This parameter is sent in the forward direction to inform 
exchanges that this capability is available (Table 8.134).
User Service Information Tables 8.135 through 8.147 list octets 1 through 5 of the ser-
vice information parameter.
The user service information parameter is used when the subscriber is requesting 
data transmission on the voice facility without use of a modem. In this case, the sub-
scriber is using either ISDN or X.25 packet switching as an interface to the PSTN.
TABLE 8.129 Transit Network Selection Fields and Codes (Continued)
Circuit code 
Unspecified 
0 
0 
0 
0 
 
 
 
International call, no operator requested 
0 
0 
0 
1 
 
 
 
International call, operator requested 
0 
0 
1 
0 
 
 
 
Spare 
0 
0 
1 
1 
 
 
 
 
 
 
 
 
to
 
0 
1 
1 
1 
 
 
 
Reserved for network-specific use 
1 
0 
0 
0 
 
 
 
 
 
 
 
 
to
 
1 
1 
1 
1 
 
 
 

ISDN User Part (ISUP)      437
The purpose of this parameter is to send the data transmission parameters to the 
distant exchange so that the called party can receive the same parameters and establish 
the proper connection for receipt of the data. This parameter does not address the re-
quirements of ATM or BISDN. These are addressed through another protocol—BISUP. 
TABLE 8.130 Transmission Medium Required Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Transmission medium requirement 
0 
0 
0 
0 
 
0 
0 
1 
0
Speech 
0 
0 
0 
0 
 
0 
0 
0 
0
Spare 
0 
0 
0 
0 
 
0 
0 
0 
1
64 kbps unrestricted 
0 
0 
0 
0 
 
0 
0 
1 
0
3.1-kHz audio 
0 
0 
0 
0 
 
0 
0 
1 
1
Reserved for alternate speech/64 kbps unrestricted 
0 
0 
0 
0 
 
0 
1 
0 
0
Reserved for alternate 64 kbps unrestricted/speech 
0 
0 
0 
0 
 
0 
1 
0 
1
64 kbps preferred 
0 
0 
0 
0 
 
0 
1 
1 
0
2 × 64 kbps unrestricted 
0 
0 
0 
0 
 
0 
1 
1 
1
384 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
0 
0
1536 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
0 
1
1920 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
1 
0
Spare 
0 
0 
0 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
0 
0 
0 
0 
 
1 
1 
1 
1
3 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
0 
0 
0
4 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
0 
0 
1
5 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
0 
1 
0
Spare 
0 
0 
0 
1 
 
0 
0 
1 
1
7 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
1 
0 
0
8 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
1 
0 
1
9 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
1 
1 
0
10 × 64 kbps unrestricted 
0 
0 
0 
1 
 
0 
1 
1 
1
11 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
0 
0 
0
12 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
0 
0 
1
13 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
0 
1 
0
14 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
0 
1 
1
15 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
1 
0 
0
16 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
1 
0 
1
17 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
1 
1 
0
18 × 64 kbps unrestricted 
0 
0 
0 
1 
 
1 
1 
1 
1
19 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
0 
0 
0
20 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
0 
0 
1
21 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
0 
1 
0
22 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
0 
1 
1
23 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
1 
0 
0
Spare 
0 
0 
1 
0 
 
0 
1 
0 
1
25 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
1 
1 
0
26 × 64 kbps unrestricted 
0 
0 
1 
0 
 
0 
1 
1 
1
27 × 64 kbps unrestricted 
0 
0 
1 
0 
 
1 
0 
0 
0
28 × 64 kbps unrestricted 
0 
0 
1 
0 
 
1 
0 
0 
1
29 × 64 kbps unrestricted 
0 
0 
1 
0 
 
1 
0 
1 
0
Spare 
0 
0 
1 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1

438      Chapter 8
TABLE 8.131 Transmission Medium Required Prime Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Transmission medium requirement prime 
0 
0 
1 
1 
 
1 
1 
1 
0
Speech 
0 
0 
0 
0 
 
0 
0 
0 
0
Spare 
0 
0 
0 
0 
 
0 
0 
0 
1
Reserved for 64 kbps unrestricted 
0 
0 
0 
0 
 
0 
0 
1 
0
3.1-kHz audio 
0 
0 
0 
0 
 
0 
0 
1 
1
Reserved for alternate speech 64 kbps unrestricted 
0 
0 
0 
0 
 
0 
1 
0 
0
Reserved for alternate 64 kbps unrestricted speech 
0 
0 
0 
0 
 
0 
1 
0 
1
Reserved for 64 kbps preferred 
0 
0 
0 
0 
 
0 
1 
1 
0
Reserved for 2 × 64 kbps unrestricted 
0 
0 
0 
0 
 
0 
1 
1 
1
Reserved for 384 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
0 
0
Reserved for 1536 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
0 
1
Reserved for 1920 kbps unrestricted 
0 
0 
0 
0 
 
1 
0 
1 
0
Spare 
0 
0 
0 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
0 
0 
0 
0 
 
1 
1 
1 
1
Reserved 
0 
0 
0 
1 
 
0 
0 
0 
0
 
 
 
 
 
to
 
0 
0 
0 
1 
 
0 
0 
1 
0
Spare 
0 
0 
0 
1 
 
0 
0 
1 
1
Reserved 
0 
0 
0 
1 
 
0 
1 
0 
0
 
 
 
 
 
to
 
0 
0 
1 
0 
 
0 
1 
0 
0
Spare 
0 
0 
1 
0 
 
0 
1 
0 
1
Reserved 
0 
0 
1 
0 
 
0 
1 
1 
0
 
 
 
 
 
to
 
0 
0 
1 
0 
 
1 
0 
1 
0
Spare 
0 
0 
1 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1
TABLE 8.132 Transmission Medium Used Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
Transmission medium used 
0 
0 
1 
1 
 
0 
1 
0 
1
Speech 
0 
0 
0 
0 
 
0 
0 
0 
0
Spare 
0 
0 
0 
0 
 
0 
0 
0 
1
Reserved for 64 kbps unrestricted 
0 
0 
0 
0 
 
0 
0 
1 
0
3.1-kHz audio 
0 
0 
0 
0 
 
0 
0 
1 
1
Reserved 
0 
0 
0 
0 
 
0 
1 
0 
0
Reserved 
0 
0 
0 
0 
 
0 
1 
0 
1
Reserved for 64 kbps preferred 
0 
0 
0 
0 
 
0 
1 
1 
0
Reserved 
0 
0 
0 
0 
 
0 
1 
1 
1
 
 
 
 
 
to
 
0 
0 
0 
0 
 
1 
0 
1 
0
Spare 
0 
0 
0 
0 
 
1 
0 
1 
1
 
 
 
 
 
to
 
1 
1 
1 
1 
 
1 
1 
1 
1

ISDN User Part (ISUP)      439
TABLE 8.133 UID Action Indicators Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
UID action indicators 
0 
1 
1 
1 
 
0 
1 
0 
0
Through-connection instruction indicator 
No indication 
 
 
 
 
 
 
 
 
0
Through-connect in both directions 
 
 
 
 
 
 
 
 
1
T9 timer instruction indicator 
No indication 
 
 
 
 
 
 
 
0 
Stop or not start T9 timer 
 
 
 
 
 
 
 
1 
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.134 UID Capabilities Indicator Fields and Codes
 
H 
G 
F 
E 
 
D 
C 
B 
A
UID capability indicators 
0 
1 
1 
1 
 
0 
1 
0 
1
Through-connection indicator 
No indication 
 
 
 
 
 
 
 
 
0
Through-connection modification possible 
 
 
 
 
 
 
 
 
1
T9 timer indicator 
No indication 
 
 
 
 
 
 
 
0 
Stopping of T9 timer possible 
 
 
 
 
 
 
 
1 
Spare 
 
0 
0 
0 
 
0 
0 
 
Extension indicator 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.135 Octet 1 of the User Service Information Parameter
 
H 
G 
F 
E 
 
D 
C 
B 
A
User service information 
0 
0 
0 
1 
 
1 
1 
0 
1
Information transfer capability 
Speech 
 
 
 
0 
 
0 
0 
0 
0
Unrestricted digital information 
 
 
 
0 
 
1 
0 
0 
0
Restricted digital information 
 
 
 
0 
 
1 
0 
0 
1
3.1-kHz audio 
 
 
 
1 
 
0 
0 
0 
0
7-kHz audio 
 
 
 
1 
 
0 
0 
0 
1
Coding standard 
ITU standardized coding 
 
0 
0 
 
 
 
 
National standard 
 
1 
0 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

440      Chapter 8
TABLE 8.136 Octet 2
Octet 2 
H 
G 
F 
E 
 
D 
C 
B 
A
Information transfer rate 
Code for packet mode calls 
 
 
 
0 
 
0 
0 
0 
0
64 kbps 
 
 
 
1 
 
0 
0 
0 
0
384 kbps 
 
 
 
1 
 
0 
0 
1 
1
1472 kbps (national ANSI only) 
 
 
 
1 
 
0 
1 
0 
0
1536 kbps  
 
 
 
1 
 
0 
1 
0 
1
1920 kbps 
 
 
 
1 
 
0 
1 
1 
1
Multirate (64 kbps based) 
 
 
 
1 
 
1 
0 
0 
0
Transfer mode 
Circuit mode 
 
0 
0 
 
 
 
 
Packet mode 
 
1 
0 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.137 Octet 2a 
Octet 2a 
H 
G 
F 
E 
 
D 
C 
B 
A
Establishment 
Demand (default) 
 
 
 
 
 
 
 
0 
0
Configuration 
Point-to-point (default) 
 
 
 
 
 
0 
0 
 
Structure 
Default (see description) 
 
0 
0 
0 
 
 
 
8-kHz integrity 
 
0 
0 
1 
 
 
 
Service data unit integrity 
 
1 
0 
0 
 
 
 
Unstructured 
 
1 
1 
1 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.138 Octet 2b 
Octet 2b 
H 
G 
F 
E 
 
D 
C 
B 
A
Information transfer rate (destination to origination) 
Code for packet mode calls 
 
 
 
0 
 
0 
0 
0 
0
64 kbps 
 
 
 
1 
 
0 
0 
0 
0
384 kbps 
 
 
 
1 
 
0 
0 
1 
1
1472 kbps 
 
 
 
1 
 
0 
1 
0 
0
1536 kbps 
 
 
 
1 
 
0 
1 
0 
1
1920 kbps 
 
 
 
1 
 
0 
1 
1 
1
Multirate (64 kbps based) 
 
 
 
1 
 
1 
0 
0 
0
Symmetry 
Bidirectional symmetric (default) 
 
0 
0 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      441
TABLE 8.139 Octet 2.1 (Present if Octet 2 Indicates Multirate 64-kbps Base Rate)
Octet 2.1 
H 
G 
F 
E 
 
D 
C 
B 
A
Rate multiplier 
Reserved (0) 
 
0 
0 
0 
 
0 
0 
0 
0
1 to 30 
 
0 
0 
0 
 
0 
0 
0 
1
 
 
 
 
 
to
 
 
0 
0 
1 
 
1 
1 
1 
0
31 to 127 
 
0 
0 
1 
 
1 
1 
1 
1
 
 
 
 
 
to
 
 
1 
1 
1 
 
1 
1 
1 
1
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.140 Octet 3
Octet 3 
H 
G 
F 
E 
 
D 
C 
B 
A
User information layer 1 protocol 
ITU standardized rate adaption V.110/x.30 
 
 
 
0 
 
0 
0 
0 
1
Recommendation G.711 µ-law speech 
 
 
 
0 
 
0 
0 
1 
0
Recommendation G.722 and G.725 7 kHz audio 
 
 
 
0 
 
0 
1 
0 
1
Non-ITU standardized rate adaption 
 
 
 
0 
 
0 
1 
1 
1
ITU standardized rate adaption V.120 
 
 
 
0 
 
1 
0 
0 
0
ITU standardized rate adaption X.31 HDLC flag stuffing  
 
 
0 
 
1 
0 
0 
1
Layer 1 identification 
 
0 
1 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.141 Octet 3a (Present if ITU Standardized Rate Adaption V110/V120)
Octet 3a 
H 
G 
F 
E 
 
D 
C 
B 
A
User rate 
Rate is indicated by E bits specified in Rec. I.460 
 
 
 
0 
 
0 
0 
0 
0
0.6-kbps Recommendations V.6 & X.1 
 
 
 
0 
 
0 
0 
0 
1
1.2-kbps Recommendations V.6 
 
 
 
0 
 
0 
0 
1 
0
2.4-kbps Recommendations V.6 & X.1 
 
 
 
0 
 
0 
0 
1 
1
3.6-kbps Recommendations V.6 
 
 
 
0 
 
0 
1 
0 
0
4.8-kbps Recommendations V.6 & X.1 
 
 
 
0 
 
0 
1 
0 
1
7.2-kbps Recommendations V.6 
 
 
 
0 
 
0 
1 
1 
0
8.0-kbps Recommendations I.460 
 
 
 
0 
 
0 
1 
1 
1
9.6-kbps Recommendations V.6 & X.1 
 
 
 
0 
 
1 
0 
0 
0
14.4-kbps Recommendations V.6 
 
 
 
0 
 
1 
0 
0 
1
16.0-kbps Recommendations I.460 
 
 
 
0 
 
1 
0 
1 
0
19.2-kbps Recommendations V.6 
 
 
 
0 
 
1 
0 
1 
1
32.0-kbps Recommendations I.460 
 
 
 
0 
 
1 
1 
0 
0
48.0-kbps Recommendations V.6 & X.1 
 
 
 
0 
 
1 
1 
1 
0
56.0-kbps Recommendations V.6 
 
 
 
0 
 
1 
1 
1 
1
64.0-kbps Recommendations X.1 
 
 
 
1 
 
0 
0 
0 
0
(Continued)

442      Chapter 8
Many notes and prerequisites are listed in the ANSI standard regarding this param-
eter. Not all of these are listed here. The use of several of the octets depends on the use 
of other octets. For example, octet 3b is used only when octet 3 indicates ITU standard-
ized rate adaptation V.110/X.30. Many of the notes are provided, but the best source for 
this parameter is ANSI Publication of T1.113.
TABLE 8.141 Octet 3a (Present if ITU Standardized Rate Adaption V110/V120) (Continued)
0.1345-kbps Recommendations X.1 
 
 
 
1 
 
0 
1 
0 
1
0.100-kbps Recommendations X.1 
 
 
 
1 
 
0 
1 
1 
0
0.075/1.2-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
0 
1 
1 
1
1.2/0.075-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
0 
0 
0
0.050-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
0 
0 
1
0.075-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
0 
1 
0
0.110-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
0 
1 
1
0.150-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
1 
0 
0
0.200-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
1 
0 
1
0.300-kbps Recommendations V.6 & X.1 
 
 
 
1 
 
1 
1 
1 
0
12-kbps Recommendations V.6 
 
 
 
1 
 
1 
1 
1 
1
Negotiation 
In-band negotiation not possible 
 
 
0 
 
 
 
 
In-band negotiation possible 
 
 
1 
 
 
 
 
Synchronous/asynchronous 
Synchronous at the R interface 
 
0 
 
 
 
 
 
Asynchronous at the R interface 
 
1 
 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.142 Octet 3b (Present if ITU Standardized Rate Adaption V110)
Octet 3b 
H 
G 
F 
E 
 
D 
C 
B 
A
Spare 
 
 
 
 
 
 
 
 
0
Flow control on receive 
Cannot accept data with flow control mechanism 
 
 
 
 
 
 
 
0 
Can accept data with flow control mechanism 
 
 
 
 
 
 
 
1 
Flow control on transmit 
Not required to send data with flow control mechanism 
 
 
 
 
 
 
0 
 
Required to send data with flow control mechanism 
 
 
 
 
 
 
1 
 
Network-independent clock on receive 
Cannot accept data with independent clock 
 
 
 
 
 
0 
 
 
Can accept data with independent clock 
 
 
 
 
 
1 
 
 
Network-independent clock on transmit 
Not required to send data with network  
 independent clock 
 
 
 
0 
 
 
 
Required to send data with network independent clock 
 
 
 
1 
 
 
 
Intermediate rate 
Not used 
 
0 
0 
 
 
 
 
8 kbps 
 
0 
1 
 
 
 
 
16 kbps 
 
1 
0 
 
 
 
 
32 kbps 
 
1 
1 
 
 
 
 
Extension bit 
Octet continues through next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      443
User Service Information Prime This parameter is carried in the IAM and identifies the 
bearer capability that is preferred for a call. The user service information parameter is 
also carried in the IAM, providing the fallback bearer capability requested. 
In the event that the bearer capability requested is not available or possible, then 
this parameter is discarded by the exchange, and the fallback bearer capability identi-
fied in the user service information parameter is provided. 
TABLE 8.143 Octet 3c (Present if ITU Standardized Rate Adaption V.120)
Octet 3c 
H 
G 
F 
E 
 
D 
C 
B 
A
Spare 
 
 
 
 
 
 
 
 
0
In-band/out-of-band 
Not applicable to this standard 
 
 
 
 
 
 
 
0 
Negotiation is done in-band using logical link zero 
 
 
 
 
 
 
 
1 
Assignor/assignee 
Message originator is “Default assignee” 
 
 
 
 
 
 
0 
 
Message originator is “Assignor only” 
 
 
 
 
 
 
1 
 
Logical link identifier (LLI) negotiation 
Default LLI 256 
 
 
 
 
 
0 
 
 
LLI negotiation 
 
 
 
 
 
1 
 
 
Mode of operation 
Bit-transparent mode of operation 
 
 
 
0 
 
 
 
Protocol-sensitive mode of operation 
 
 
 
1 
 
 
 
Multiframe 
Multiframe establishment not supported 
 
 
0 
 
 
 
 
Multiframe establishment supported 
 
 
1 
 
 
 
 
Rate adaption header/no header 
Rate adaption header not included 
 
0 
 
 
 
 
 
Rate adaption header included 
 
1 
 
 
 
 
 
Extension bit 
Octet continues through next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.144 Octet 3d (Present if ITU Standardized Rate Adaption V.110/V.120)
Octet 3d 
H 
G 
F 
E 
 
D 
C 
B 
A
Parity 
Odd 
 
 
 
 
 
 
0 
0 
0
Even 
 
 
 
 
 
 
0 
1 
0
None 
 
 
 
 
 
 
0 
1 
1
Forced to 0 
 
 
 
 
 
 
1 
0 
0
Forced to 1 
 
 
 
 
 
 
1 
0 
1
Number of data bits excluding parity bit 
Not used 
 
 
 
0 
 
0 
 
 
5 data bits 
 
 
 
0 
 
1 
 
 
7 data bits 
 
 
 
1 
 
0 
 
 
8 data bits 
 
 
 
1 
 
1 
 
 
Number of stop bits 
Not used 
 
0 
0 
 
 
 
 
1 stop bit 
 
0 
1 
 
 
 
 
1.5 stop bits 
 
1 
0 
 
 
 
 
2 stop bits 
 
1 
1 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

444      Chapter 8
*User Teleservice Information This parameter is also carried in the IAM to identify the 
higher-layer capability required for the call. 
User-to-User Indicators This parameter is sent in response to a request for user-to-user 
supplementary services.
User-to-User Information This parameter is sent by an application transparently 
through the network to another application (or user). It allows for the exchange of in-
formation between two applications without the knowledge of the network. 
BISUP Message Types
BISUP has been developed to support the use of ATM voice circuits on the PSTN. The 
ISUP protocol was developed to support the connection and teardown of digital chan-
nelized circuits, such as DS1 and DS3. The ISUP protocol provides the data necessary 
TABLE 8.145 Octet 3e (Present if ITU Standardized Rate Adaption V.110/V.120)
Octet 3e 
H 
G 
F 
E 
 
D 
C 
B 
A
Modem type 
Coded according to network-specific rules 
 
 
0 
0 
 
0 
0 
0 
0
Duplex mode 
Half duplex 
 
0 
 
 
 
 
 
Full duplex 
 
1 
 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.147 Octet 5
Octet 5 
H 
G 
F 
E 
 
D 
C 
B 
A
User information (layer 3 protocol) 
ANSI T1.607 
 
 
 
0 
 
0 
0 
1 
0
Recommendation X.25 packet layer 
 
 
 
0 
 
0 
1 
1 
0
Layer 3 identifier 
 
1 
1 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 
TABLE 8.146 Octet 4
Octet 4 
H 
G 
F 
E 
 
D 
C 
B 
A
User information (layer 2 protocol) 
ANSI T1.602 
 
 
 
0 
 
0 
0 
1 
0
Recommendation X.25 link level 
 
 
 
0 
 
0 
1 
1 
0
Layer 2 identifier 
 
1 
0 
 
 
 
 
Extension bit 
Octet continues through the next octet 
0 
 
 
 
 
 
 
Last octet 
1 
 
 
 
 
 
 

ISDN User Part (ISUP)      445
to connect and control these channels in digital circuits, but ATM is based on virtual 
paths and virtual circuits, not on channels.
The BISUP protocol is based on ISUP and uses the same signaling procedures when 
possible. It is important to understand the role of BISUP so as not to confuse its proce-
dures with those used when ATM SS7 links are used. The BISUP protocol is intended 
for the setup and teardown of voice transmissions over ATM, not the management of 
SS7 over ATM links in the same node.
Rather than duplicate the efforts of the preceding subsection, this subsection will 
serve to identify the message types and their parameters used for BISUP signaling 
within the SS7 network. These message types and their parameters are published as 
they are currently defined and could change as the standards continue to evolve.
Table 8.148 lists the message types that are defined for use in broadband networks. 
They are defined in the preceding subsection for the most part with the exception of 
those that are new. The new message types are defined next.
TABLE 8.148  All the BISUP Message Types and Their Indicator Values 
Message Type 
H 
G 
F 
E 
 
D 
C 
B 
A
Address complete 
0 
0 
0 
0 
 
0 
1 
1 
0
Answer 
0 
0 
0 
0 
 
1 
0 
0 
1
Blocking 
0 
0 
0 
1 
 
0 
0 
1 
1
Blocking acknowledgment 
0 
0 
0 
1 
 
0 
1 
0 
1
Call progress 
0 
0 
1 
0 
 
1 
1 
0 
0
Confusion 
0 
0 
1 
0 
 
1 
1 
1 
1
Consistency check end 
0 
0 
0 
1 
 
0 
1 
1 
1
Consistency check end acknowledgment 
0 
0 
0 
1 
 
1 
0 
0 
0
Consistency check request 
0 
0 
0 
0 
 
0 
1 
0 
1
Consistency check request acknowledgment 
0 
0 
0 
1 
 
0 
0 
0 
1
Forward transfer 
0 
0 
0 
0 
 
1 
0 
0 
0
IAM acknowledgment 
0 
0 
0 
0 
 
1 
0 
1 
0
IAM reject 
0 
0 
0 
0 
 
1 
0 
1 
1
Initial address message (IAM) 
0 
0 
0 
0 
 
0 
0 
0 
1
Network resource management 
0 
0 
1 
1 
 
0 
0 
1 
0
Release 
0 
0 
0 
0 
 
1 
1 
0 
0
Release complete 
0 
0 
0 
1 
 
0 
0 
0 
0
Reset 
0 
0 
0 
1 
 
0 
0 
1 
0
Reset acknowledgment 
0 
0 
0 
0 
 
1 
1 
1 
1
Resume 
0 
0 
0 
0 
 
1 
1 
1 
0
Segmentation 
0 
0 
1 
1 
 
1 
0 
0 
0
Subsequent address  
0 
0 
0 
0 
 
0 
0 
1 
0
Suspend 
0 
0 
0 
0 
 
1 
1 
0 
1
Unblocking 
0 
0 
0 
1 
 
0 
1 
0 
0
Unblocking acknowledgment 
0 
0 
0 
1 
 
0 
1 
1 
0
User part available 
0 
0 
1 
0 
 
0 
1 
0 
1
User part test 
0 
0 
1 
1 
 
0 
1 
0 
0
User-to-user information 
0 
0 
1 
0 
 
1 
1 
0 
1
Reserved for narrowband ISDN  
0 
0 
0 
0 
 
0 
0 
1 
1
 
 
 
 
 
to
 
0 
0 
1 
1 
 
0 
1 
1 
1
Reserved for code extension 
1 
1 
1 
1 
 
1 
1 
1 
1

446      Chapter 8
In addition to some changes in message types, some additional parameters have been 
added to support ATM and BISDN circuits. These parameters are illustrated with their 
respective message types and described in the following subsections. The values of the 
various parameters are defined in the Telcordia and ANSI standards, as well as the 
ITU-TS Recommendation Q.2931.
Address Complete (ACM) The ACM has added several new parameters to support the 
VPCIs and additional broadband parameters. These can be seen in Figure 8.66. The 
function has not changed, however. 
Answer (ANM) The ANM also remains the same in function (Figure 8.67). The cut 
through on a voice circuit (VPCI in the case of broadband) does not take place in both 
directions in ANSI networks until the called party goes off-hook and the ANM has been 
received. Tones are passed over the voice circuit in one direction only, meaning that the 
cut through takes place in the backward direction.
Blocking Acknowledgment (BLA) This message type is sent in acknowledgment to a 
blocking message (Figure 8.68). It indicates that the blocking message was received 
and that the user parts have been blocked from using the indicated circuit.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Address Complete
Access Delivery Information
Backward Narrowband Interworking Ind
Call Diversion Information
Call Diversion May Occur
Called Party’s Indicators
Cause Indicators
Charge Indicator
Connection Identifier
Destination Signaling Identifier
Echo Control Information
In-Band Information Indicator
MLPP User Information
Narrowband Bearer Capability
Narrowband High Layer Compatibility
Notification
Progress Indicator
Redirection Number
Redirection Number Restriction
Segmentation Indicator
User-to-User Indicators
User-to-User Information
Figure 8.66 Address complete message format.

ISDN User Part (ISUP)      447
Blocking (BLO) This is a maintenance message used for blocking a particular circuit 
from a connection (Figure 8.69). It can be initiated manually or automatically by net-
work management. It enables a circuit to be removed from service while still being able 
to send traffic over the circuit. Maintenance personnel may choose to block a circuit 
while they send test messages over that circuit.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Answer Message
Access Delivery Information
Additional Connected Number
Backward Narrowband Interworking Ind
Broadband Lower Layer Information
Call History Information
Charge Indicator
Connected Number
Connected Subaddress
Connection Identifier
Destination Signaling Identifier
Echo Control Information
In-Band Information Indicator
Narrowband Bearer Capability
Narrowband High Layer Compatibility
Narrowband Low Layer Compatibility
Notification
Progress Indicator
Redirection Number Restriction
Segmentation Indicator
User-to-User Indicators
User-to-User Information
Figure 8.67 ANM message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unblocking Acknowledgment
Destination Signaling Identifier
Figure 8.68 BLA message format.

448      Chapter 8
Call Progress (CPG) This message enables additional information regarding the status 
of a call to be sent to a remote exchange (Figure 8.70). Used only in broadband, this en-
ables exchanges to send event information in either direction while a call is in progress.
Confusion (CFN) This message is the same as in normal ISUP (Figure 8.71). When a mes-
sage is received that the exchange cannot identify, it returns the CFN message type.
Consistency-Check End (CCE) This parameter indicates the end of a consistency check 
(Figure 8.72). It can be sent only when the consistency check has been completed.  
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Blocking
Origination Signaling Identifier
Resource Identifier
Figure 8.69 BLO message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Call Progress
Backward Narrowband Interworking Ind
Call Diversion Information
Call Diversion May Occur
Called Party’s Indicators
Cause Indicators
Charge Indicator
Destination Signaling Identifier
In-Band Information Indicator
Narrowband Bearer Capability
Narrowband High Layer Compatibility
Notification
Progress Indicator
Redirection Number
Redirection Number Restriction
Segmentation Indicator
User-to-User Indicators
User-to-User Information
Figure 8.70 CPG message format.

ISDN User Part (ISUP)      449
The consistency-check end (CCE) is treated as an acknowledgment that the test has 
been completed.
Consistency-Check End Acknowledgment (CCEA) This is sent in response to a CCE 
message (Figure 8.73). It indicates the end of a test. The acknowledgment cannot be 
sent until the test flow has been stopped.
Consistency-Check Request (CCR) The CCR is sent to request the beginning of a con-
tinuity test on a specified VPCI within a virtual path (Figure 8.74). This is much like 
the continuity check used in the ISUP between two exchanges. The purpose is to ensure 
that a virtual connection can be established on the user plane between two exchanges. 
The test can be initiated by either exchange.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Confusion
Cause Indicators
Destination Signaling Identifier
Figure 8.71 CFN message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Consistency-Check End
Destination Signaling Identifier
Figure 8.72 CCE message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Consistency Check End Ack
Destination Signaling Identifier
Consistency Check Result Information
Figure 8.73 CCEA message format.

450      Chapter 8
Consistency-Check Request Acknowledgment (CCRA) This is sent in response to the CCR 
and establishes the connections necessary to perform the test (Figure 8.75). Once the 
acknowledgment has been received, a test pattern can be sent over the proposed VPCI.
Exit (EXM) This message is virtually the same as in ISUP. It is used when interwork-
ing with other networks to indicate that a message has been passed successfully to 
another network.
Forward Transfer (FOT) This message type is used when an operator is requested dur-
ing direct dial to an international number (Figure 8.76). The operator is also recalled 
when the call is terminated to provide additional assistance. Currently, this is used 
only in international networks.
Initial Address Message (IAM) This is also the same as in normal ISUP (Figure 8.77). 
The main difference between the two protocols and their IAMs is in the procedures. 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Consistency-Check Request
Origination Signaling Identifier
Resource Identifier
Figure 8.74 CCR message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Consistency Check Request Ack
Destination Signaling Identifier
Origination Signaling Identifier
Figure 8.75 CCRA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Forward Transfer
Destination Signaling Identifier
Figure 8.76 FOT message format.

ISDN User Part (ISUP)      451
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Initial Address Message
AAL Parameters
Additional Calling Party Number
ATM Cell Rate
Broadband Bearer Capability
Broadband High Layer Information
Broadband Low Layer Information
Called Party Number
Called Party Subaddress
Calling Party Number
Calling Party Subaddress
Calling Party’s Category
Closed Under Group Information
Connection Identifier
Connection Linc ID Request
Connection Element Identifier
Echo Control Information
Forward Narrowband Interworking Ind
Location Number
Maximum End-to-End Transit Delay
Narrowband Bearer Capability
Narrowband High Layer Compatibility
Narrowband Low Layer Compatibility
Natl/Inl Call Indicator
Network Call Correction Identifier
Notification
OAM Traffic Descriptor
Original Called Number
Origination ISC Point Code
Origination Signaling Identifier
Progress Indicator
Propagation Delay Counter
Redirecting Number
Redirection Information
Segmentation Indicator
Transit Network Selection
User-to-User Indicators
User-to-User Information
MLPP Precedence
Figure 8.77 IAM message format.

452      Chapter 8
Normally, the routing label would identify which trunk circuit is to be used. In broad-
band, it identifies the VPCI if one is available at the originating exchange that will 
accommodate the call being requested. Each exchange (originating and destination) 
is responsible for half the virtual path connections, which prevents the possibility of 
glare.
IAM Acknowledgment (IAA) Unlike the normal ISUP procedures, BISUP requires an 
acknowledgment to an IAM (Figure 8.78). The purpose is twofold. In the event that 
the requesting exchange has assigned the VPCI, then the acknowledgment is used to 
confirm that the connection has been reserved at the remote exchange. However, if the 
originating exchange is unable to assign a VPCI (because enough bandwidth is not 
available within the range of circuits controlled by the originating exchange), then the 
acknowledgment is used to notify the originating exchange, which the VPCI has been 
assigned by the remote exchange.
IAM Reject (IAR) This is used to notify the originator of an IAM that the requested 
bandwidth is not available on any of the VPCIs within control of the remote exchange 
(Figure 8.79). Therefore, a connection cannot be established. Since the originating ex-
change has not assigned the VPCI, it is assumed that the originating exchange does not 
have ample bandwidth within its range of circuits either. The call-connection attempt 
is aborted.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Initial Address Message Ack
Connection Element Identifier
Destination Signaling Identifier
Origination Signaling Identifier
Figure 8.78 IAA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Initial Address Message Reject
Automatic Congestion Level
Cause Indicators
Destination Signaling Identifier
Figure 8.79 IAR message format.

ISDN User Part (ISUP)      453
Network Resource Management (NRM) This message is sent in the backward direction 
whenever the resources allocated to an established call need to be modified (i.e., addi-
tional resources are allocated for additional bandwidth requirements) (Figure 8.80).
Release (REL) The REL has several new parameters (Figure 8.81). All pertain to iden-
tifying the circuit that is to be released. Of course, in this case, these are broadband 
circuits rather than narrowband circuits, hence the need to change the parameters.
Resume (RES) This is used along with the SUS type (Figure 8.82). When the called 
party comes back to the call previously suspended, RES is sent to indicate that the call 
progress can continue as normal.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Network Resource Management
Destination Signaling Identifier
Echo Control Information
Figure 8.80 NRM message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Release
Access Delivery Information
Automatic Congestion Level
Cause Indicators
Notification
Progress Indicator
Redirection Information
Redirection Number
Redirection Number Restriction
Segmentation Indicator
User-to-User Indicators
User-to-User Information
Destination Signaling Identifier
Figure 8.81 REL message format.

454      Chapter 8
Release Complete (RLC) The RLC remains the same and does not change with the 
exception of the destination signaling identifier (Figure 8.83).
Reset (RSM) This is used when memory allocated to a specific VPCI gets corrupted 
and can no longer remember the state of the connection (Figure 8.84). The reset is used 
to start both ends in the same known state. All resources are released, and counters are 
reset, yet the connection is maintained.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Resume
Destination Signaling Identifier
Suspend Indicators
Figure 8.82 RES message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Release Complete
Cause Indicators
Destination Signaling Identifier
Figure 8.83 RLC message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Reset
Origination Signaling Identifier
Resource Identifier
Figure 8.84 RSM message format.

ISDN User Part (ISUP)      455
Reset Acknowledgment Message (RAM) When memory at either end of a connection 
becomes corrupted, the signaling point may lose track of the state of a connection. In 
this case, a reset is requested on the specified VPCI (Figure 8.85). This reset will release 
all resources associated with the connection.
Segmentation Message (SGM) When messages exceed the maximum size of the SS7 
packet (272 octets), the message must be segmented (Figure 8.86). This message type 
is used to send an additional segment to the destination signaling point.
Subsequent Address (SAM) This message type is used in international networks only 
and provides additional addressing information (Figure 8.87). This does not apply to 
U.S. networks.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Reset Acknowledgment
Destination Signaling Identifier
Figure 8.85 RAM message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Segmentation
Additional Calling Party Number
Additional Connected Number
Broadband High Layer Information
Called Party Subaddress
Calling Party Subaddress
Connected Subaddress
Destination Signaling Identifier
N-Band High Layer Compatibility
N-Band Low Layer Compatibility
Notification
Progress Indicator
User-to-User Information
Broadband Low Layer Information
Figure 8.86 SGM message format.

456      Chapter 8
Suspend (SUS) This message is sent in either direction to indicate that the called 
party has been disconnected (Figure 8.88). This would be used only if the connection 
had first been established and then the called party was disconnected. Rather than 
send an REL, the SUS enables the call circuit to be maintained for a period of time 
before initiating the release procedure. For example, if a called party is using call wait-
ing, they may issue a flash hook to answer the other party. The SUS would be sent to 
the first calling exchange to hold the call circuit until a timeout or until the called party 
came back to the original call.
Unblocking (UBL) This is the opposite of the blocking message and is used to unblock 
a circuit (Figure 8.89).
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Subsequent Address Message
Destination Signaling Identifier
Subsequent Number
Figure 8.87 SAM message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Suspend
Destination Signaling Identifier
Suspend Indicators
Figure 8.88 SUS message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unblocking
Origination Signaling Identifier
Resource Identifier
Figure 8.89 UBL message format.

ISDN User Part (ISUP)      457
Unblocking Acknowledgment (UBA) This message indicates receipt of an unblocking 
message (Figure 8.90). This acknowledges receipt of the unblocking message and con-
firms that the circuit identified has been unblocked from the user parts.
User Part Available (UPA) This message is sent in response to a UPT message indicat-
ing that the specified user part is available (Figure 8.91). UPT messages are used to 
verify the status of a given user part.
User Part Test (UPT) This test message is used to verify the status of the specified user 
part (Figure 8.92). The purpose is to ensure that a user part marked as available or 
prohibited at the sending exchange is an accurate representation of the true state of 
the user part at the destination signaling point.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
Unblocking Acknowledgment
Destination Signaling Identifier
Figure 8.90 UBA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User Part Available
Destination Signaling Identifier
Figure 8.91 UPA message format.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User Part Test
Origination Signaling Identifier
Figure 8.92 UPT message format.

458      Chapter 8
User-to-User Information (USIS) There are no procedures currently defined for this pa-
rameter in U.S. networks (Figure 8.93). The purpose of this message is to provide ad-
ditional information to a user part from a remote user part in relation to a call already 
in progress. The term user-to-user refers to two user parts sending information to each 
other.
Broadband Parameters
The following is a description of the parameters that have been identified for use in 
BISUP. The association of these parameters with specific message types is shown in 
the preceding subsection.
Access delivery information. This information indicates that a setup message (ISDN 
protocol) was generated by the destination. Only 1 bit in this octet is used; the rest 
is for future definition. This parameter is defined in the ITU-TS standards but not 
in the ANSI standards.
Additional calling-party number. This parameter provides the additional address 
information required for certain supplementary services. Typically, another ex-
change or another network entity will be providing the supplementary service, 
requiring additional calling-party address information from the other entity. The 
same format as the calling-party address is used. This parameter is defined in the 
ITU-TS standards but not in the ANSI standards.
Additional connected number. This parameter is sent in the backward direction and 
is used in the same manner as the additional calling-party number. The difference 
is that this parameter is associated with an additional connected-party number. 
The same format as the additional calling-party number is used. This parameter 
is defined in the ITU-TS standards but not in the ANSI standards.
ATM adaptation layer (AAL) parameter. This parameter is used to indicate which 
adaptation services will be required for the call. This information is of use to the 
local exchanges, which will be providing the services, as well as the subscriber, 
who will be providing the endpoint connection. The originating subscriber will be 
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
CIC
Signaling Information
User-to-User Information
Destination Signaling Identifier
User-to-User Indicators
User-to-User Information
Figure 8.93 USIS message format.

ISDN User Part (ISUP)      459
providing this information based on the type of data that he or she will be send-
ing and depending on the type of source network being used at the originating 
subscriber’s premise. Adaptation enables protocols such as Ethernet and Token 
Ring to interface with BISDN or ATM circuits seamlessly and transparently. The 
header information is stripped and encapsulated into an ATM header and then 
transported across the network to its destination, where it then can be reassem-
bled to the destination network.
ATM cell rate. This information is used by the receiving exchange in setting up the 
ATM circuit. The receiving exchange must know how many cells per second are 
needed for this particular call to be successful. The originator will specify the 
transmission rate through the BISDN interface using the BISDN setup message, 
which maps to the SS7 IAM.
Automatic congestion level. When an exchange reaches a specified level of conges-
tion, it will use this parameter to indicate which level of congestion it has reached 
to the opposite exchange. The message is not propagated through the network 
and is addressed to the adjacent exchange with which a connection has been  
established.
Backward narrowband interworking indicators. This parameter identifies 
whether ISDN is used as the interface by the subscriber and whether ISUP is  
available end to end within the SS7 network.
Broadband bearer capability. This parameter is used to indicate to the adjacent ex-
change how much bandwidth will be needed on the subscriber interface (BISDN 
interface) to accommodate the call. This applies to the bearer channel only and has 
no meaning to the signaling network.
Broadband low-layer information. The parameters within this parameter are defined 
in the Q.2931 ITU-TS standards. This is used to ensure compatibility at the lower 
layers of the protocol stack at the subscriber interface. They are sent to the distant 
exchange to ensure that the distant exchange is compliant.
Broadband high-layer information. Like the low-layer information parameter, this 
parameter and its contents are defined by ITU-TS Q.2931. The purpose is to en-
sure compatibility at the higher layers of the protocol stack at the subscriber in-
terface at the distant end.
Call diversion information. When a call attempt is unsuccessful, this parameter is 
used to determine what type of treatment to provide for an attempted call. In some 
cases, an announcement may be requested, whereas in others, a busy tone or some 
other service tone may be used. This parameter is defined in the ITU-TS standards 
but not in the ANSI standards.
Call diversion may occur. This parameter is used to indicate that a call diversion 
may be indicated in a later message. This is necessary when interworking with 
narrowband ISDN (NISDN) networks. This parameter is defined in the ITU-TS 
standards but not in the ANSI standards.

460      Chapter 8
Call history information. The purpose of this parameter is to provide a means for 
advising the distant exchange as to how long a call took to reach its destination. 
This is accomplished by providing a time value, sending it to the distant exchange, 
and the distant exchange comparing the time to its own real-time clock. The dif-
ference is considered propagation delay, which is sent to the originating exchange 
for processing. This parameter is defined in the ITU-TS standards but not in the 
ANSI standards.
Called party’s indicators. This is used to identify the type of called party, such as 
a normal subscriber or pay phone, and is used to determine if special treatment 
should be given to the call (e.g., in the case of a pay phone).
Called-party number. This parameter provides the called-party number just as it 
does in normal ISUP. The called-party number now includes a screening param-
eter, which is used to indicate whether the called-party number will be presented 
or screened from view. The telephone company is allowed access to the number 
for routing purposes, but if the number is to be screened, the company cannot 
provide the number to the subscriber. This is used with certain services (such as 
800 services), where the called party may not know what number the calling party 
dialed. The number then would be displayed to called party, enabling him or her 
to determine how the call should be answered.
Called-party subaddress. This information is also defined in ITU-TS Q.2931. This pa-
rameter carries the information defined in that standard through the SS7 network 
for delivery to the distant exchange.
Calling-party number. This is sent in the forward direction during a call setup proce-
dure to identify the calling party. The presentation parameter determines whether 
the calling-party number may be displayed to the called party. If not, the calling-
party number cannot be transferred to the BISDN interface.
Calling party’s category. This parameter identifies the origin of the call, that is, a pay 
phone, a data terminal, or an ordinary subscriber. The parameter also provides 
operators with a language indicator to indicate which language they should use 
when answering the call. Spanish, Russian, French, English, and German are cur-
rently defined within the protocol. Other languages would have to be defined by 
the agencies using the network and be agreed on mutually. The protocol provides 
additional codes to support network-defined languages.
Calling party’s subaddress. This is the same as the called party’s subaddress but is 
sent in the opposite direction.
Carrier identification code. This parameter is used to identify the carrier that a sub-
scriber has selected. It is sent in the forward direction during call setup.
Carrier selection information. This identifies how the carrier selection code was  
selected: by the subscriber dialing digits or through preselection.
Cause indicator. This is used when a call has failed or has been cleared for any  
reason. 

ISDN User Part (ISUP)      461
Charge indicator. This is sent in the backward direction to indicate to the originating 
exchange whether a call is chargeable or not chargeable based on the destination 
and the called-party number.
Charge number. This provides the number to be billed for a call and is sent only in 
the forward direction.
Closed user group information. Currently, no procedures are defined in ANSI net-
works for this parameter. A closed user group treats a group of numbers as if they 
were PBX extensions, much like the way Centrex treats a group of numbers as 
belonging to a business group. The user group then can be assigned specific fea-
tures and privileges, enabling the members to call within the group but possibly 
blocking them from outside access.
Connected line identity request indicator. This is sent in the forward direction to in-
dicate a request for the identity of the connected number rather than the called 
number (such as in the case of a forwarded call). Currently, no procedures are 
defined in ANSI networks.
Connected number. Although no procedures are defined in U.S. networks for this 
parameter, its intended use is to identify the number to which a forwarded call 
actually was connected.
Connected subaddress. This parameter is used along with the connected number and 
provides subaddress information according to ITU-TS Recommendation I.330. As 
mentioned in the connected-number description, these two parameters are used 
to identify which number a call eventually was terminated to, such as in the case 
of a forwarded or a transferred call.
Connection element identifier. This information is sent in the forward direction to 
identify the ATM virtual connection. In the event that the originating exchange 
does not have any virtual connections available within its control, this parameter 
would be sent by the destination exchange indicating which virtual circuit it has 
assigned for the requested call.
Consistency-check request information. This information is used to indicate the result 
of the consistency check. The consistency check is like the continuity check used in 
normal ISUP procedures, but because of the nature of broadband, continuity tests 
can no longer apply. The consistency check is used instead and is capable of testing 
the assignment of the virtual connection as well as the capability to transmit data 
through that virtual connection.
Destination signaling identifier. This parameter is used to associate the signaling 
connection with a virtual connection. This most likely will be used when BISUP is 
employed in a fully associated signaling configuration.
Echo control information. As in the normal ISUP procedures, this parameter indi-
cates whether echo control is required for half the circuit or all of it.
Egress service. This parameter provides information about the network of the termi-
nating exchange.

462      Chapter 8
Forward narrowband interworking indicator. When interworking with an NISDN 
interface, this parameter provides information in the forward direction regarding 
the signaling capabilities on the connection.
Generic address. This is used in supplementary services and can identify a destina-
tion number (dialed number).
Generic digits. These digits can be account codes, authorization codes, or any type of 
number used in supplementary services.
Generic name. This parameter provides specific name-related information used in 
supplementary services.
In-band information indicator. This parameter is used to indicate that in-band signal-
ing information or an appropriate pattern is available on the connection specified.
Jurisdiction information. This is the same as the JIP parameter used in ISUP. It 
provides the LRN of the originating party to be used by billing systems when the 
calling-party number has been ported to another service provider.
Location number. This parameter provides the same information as the called- or 
calling-party number but is associated with a user within an NISDN connection. 
This is used only when interworking with NISDN networks.
Maximum end-to-end transit delay. This parameter indicates the maximum transit 
delay allowed for a message traveling through the network. The maximum delay 
is for an end-to-end transmission.
MLPP precedence. This is used primarily with military networks; this parameter 
indicates the level of precedence supported for the connection. The MLPP supple-
mentary service is used in military installations to enable officers of higher rank 
to seize a trunk in use based on priority. This feature used to be limited to large 
AUTOVON systems installed on military bases but now is offered through tele-
phone service providers.
MLPP user information. This is a one-octet parameter that uses only 1 bit in the en-
tire octet. That 1 bit is used to indicate whether the called party is an MLPP user.
Narrowband bearer capability. During the setup phase of a connection, the origina-
tor may request a specific bandwidth. In some cases, the originator may provide a 
lower bandwidth for the connection only if the requested bandwidth is not avail-
able. This is referred to as the fallback bandwidth. This parameter is used to indi-
cate the fallback bandwidth that has been allocated for the call connection.
Narrowband high-layer compatibility. This parameter is used to ensure compatibility 
between two exchanges. When an exchange requests service to a specific exchange, 
it may request a specific level of service or provide fallback to an available service. 
In the event the requested service is not available and the fallback service is as-
signed, this parameter notifies the distant exchange of the fallback service assign-
ment so that it may set up its end to be compatible.

ISDN User Part (ISUP)      463
Narrowband lower-layer compatibility. This parameter is like the preceding param-
eter but is concerned with compatibility at the lower layers rather than the upper 
layers. This also ensures compatibility at both ends of the exchange.
National/international call indicator. This is used to indicate to a national exchange 
that the origin of the call is from a national or international network. The call-
handling procedures for an international call are somewhat different than they 
are for a national call.
Notification. This parameter may be sent in either direction and is used to notify the 
other exchange of supplementary services such as call diversion procedures. Call 
diversion procedures encompass the use of service tones and announcements if a 
call cannot be completed (such as in the case of a wireless subscriber being away 
from his or her car and the wireless phone being turned off).
Notification indicator. This is used with supplementary services to send notification 
to the user.
OAM traffic descriptor. This parameter indicates the cell rate that is required by 
operations, administration, and maintenance (OAM) traffic on a specified virtual 
connection.
Original called number. When a call has been redirected, whether through forward-
ing or a transfer, this parameter identifies the original called-party number. The 
connected called number also will be provided through that parameter. This is 
used when interworking with NISDN connections.
Originating line information. This information provides the toll class of service for a 
call. It is sent only in the forward direction.
Origination ISC point code. This information is provided in an IAM to indicate the 
originating point code of an international ISC.
Origination signaling identifier. This is sent by the originator of a signaling or control 
message to identify the association with the distant signaling connection.
Originating facility identifier. This information is only used when intranetworking 
and identifies the outgoing facility selected to reach the adjacent network.
Parameter compatibility information parameter. This information is used to inform 
the receiver how to interact in the event that it receives an incorrect parameter it 
cannot recognize.
Progress indicator. This is used to indicate an event that has taken place during the 
lifetime of a call. This is defined in Q.9231.
Propagation delay counter. While transferring through the network, this parameter 
is accumulating timer information. Each time it passes through a network entity, 
the timer information is updated in 1-ms increments. By the time it reaches its 
final destination, the destination exchange can determine the amount of propaga-
tion delay experienced by the message.

464      Chapter 8
Redirecting number. When a call is forwarded to another number, this parameter iden-
tifies the number that forwarded the call. For example, a number may be forwarded 
to another number, which, in turn, has diverted the call to yet another number. The 
number that provided the diversion would be indicated in this parameter.
Redirection information. This parameter is also related to call diverting or call for-
warding. When a call is redirected to another number, this parameter indicates 
the nature of the redirection. For example, if a mobile subscriber is not available, 
then the call is diverted to an announcement. This parameter then would provide 
information as to why the call was diverted and the nature of the call.
Redirection number. When a call is being diverted to another number, this parameter 
identifies the number to which the call has been diverted. This parameter is sent 
in the backward direction.
Redirection number restriction. Also related to diverted calls, this parameter iden-
tifies whether or not the diverted user allows the presentation of the telephone 
number. Because of legislature in many states, telephone companies must provide 
the option of screening the calling-party number identification to the called party. 
This parameter indicates whether that is the case.
Resource identifier. When a resource has been blocked or unblocked (such as an an-
nouncement), this parameter indicates which resource it applies to.
Signaling identifier. The signaling identifier enables each exchange to assign a sig-
naling association independently of one another and correlate messages with each 
signaling association. A signaling association is received over a signaling identifier.
Segmentation indication. When a message is segmented into several messages, this 
parameter is used to indicate that the message is segmented and that there is ad-
ditional segmentation information.
Special processing request. This parameter is sent only in the forward direction when 
special processing is required at the terminating exchange. Special processing 
includes everything from verifying authorization codes to translating private net-
work numbers.
Subsequent number. When the called party requires additional information, this pa-
rameter is used to provide the additional numbers or subsequent addresses.
Suspend/resume indicators. This parameter is sent in either the SUS or RES mes-
sage to indicate whether the SUS or RES message was initiated by an ISDN sub-
scriber or by the network. The SUS is used to temporarily place a circuit into a 
hold state, such as when the subscriber invokes another feature such as call wait-
ing by performing a hook flash. The RES is used to indicate that the circuit is now 
reconnected and that transmission can resume.
Transit network selection. When an IAM is sent, this parameter indicates which tran-
sit network, if any, is to be used to carry the message. A transit network is one 
that is used to access another carrier’s network when network boundaries must 
be crossed.

ISDN User Part (ISUP)      465
User-network interaction indicator. This parameter is sent in the backward direction 
when additional information is needed from the calling party to process a call.
User-to-user indicators. This parameter carries the information defined in ITU-TS 
Q.2931 when the users at each end of the connection have information to share. 
The indicators are used to indicate that such information exists, whereas the fol-
lowing information parameter provides the actual information. The indicators also 
specify whether a reply is to be sent.
User-to-user information. This parameter is used to send information from a user to 
the user at the remote exchange. The information is passed transparently through 
all intermediate exchanges.


Chapter
9
General Description of SCCP Functions
The Signaling Connection Control Part (SCCP) is much like X.25 in the services it 
provides. The only significant feature added by SCCP is global title translation. Many 
applications within the Signaling System 7 (SS7) network rely on this routing feature. 
We will discuss global title translation in full detail a little later.
SCCP is a protocol used for accessing databases within the network. As part of level 4,  
SCCP relies on the services of the Message Transfer Part (MTP) in networks based 
on Time-Division Multiplexing (TDM) or the MTP3 User Adaptation Layer (M3UA), 
MTP2 User Adaptation Layer (M2UA), Simple Control Transmission Protocol (SCTP), 
or Transport Adaptation Layer Interface (TALI) in Internet Protocol (IP) networks. The 
primary difference between MTP and SCCP is in the addressing scheme and routing. 
SCCP also provides connection-oriented and connectionless services, whereas the MTP 
is strictly datagram.
The connectionless services provided by the SCCP are currently supported in 
American National Standards Institute (ANSI) networks. However, if one examines 
the procedures closely, the protocol uses a number of procedures and parameters to 
emulate connection-oriented services. In fact, SCCP has the capability to maintain a 
dialog with another network entity, just as if a virtual connection existed between the 
two resources. SCCP does not, however, establish a connection before beginning the 
dialog—hence the reason it is considered connectionless. Still, the service it delivers is 
very much like connection-oriented service, which is why I classify it as a connection-
oriented-like service.
When we look at the SS7 protocol stack, there is an indication that the ISDN User 
Part (ISUP) also uses the SCCP services to deliver messages on the network. The 
International Telecommunications Union (ITU), ANSI, and Telcordia standards all pro-
vide procedures for ISUP services over SCCP, but these have not yet been implemented. 
The thought is to allow SCCP to deliver end-to-end signaling capabilities for ISUP mes-
sages rather than node-to-node signaling via MTP.
467

468      Chapter 9
When we examine the services provided by SCCP in contrast to MTP, we can begin 
to understand the fundamental differences between the two. MTP provides routing, 
sequencing, and flow control. However, SCCP also provides these functions. The differ-
ence lies in the user of these services.
SCCP relies on MTP to route its payload from one node to another. This means that 
SCCP must provide enough information to MTP that these functions can be carried out. 
SCCP provides the same functions, but the user is either the Transaction Capabilities 
Application Part (TCAP) or ISUP. This means that the functions used by SCCP will be 
somewhat different from those used by MTP. Let’s look at the basic services that SCCP 
provides, and you can refer to Chapter 6 to compare the two.
Services of SCCP
SCCP is divided into five classes of service or protocol classes. Each protocol class 
defines which level of service SCCP is to provide. The five classes of service are as  
follows:
■ Class 0: Basic connectionless 
■ Class 1: Sequenced connectionless 
■ Class 2: Basic connection-oriented
■ Class 3: Flow-control connection-oriented
■ Class 4: Error-recovery and flow-control connection-oriented
The first two classes, class 0 and class 1, support the connectionless environment, 
which is all that is used in today’s networks. Classes 2, 3, and 4 are used for connection-
oriented services, and even though well defined, they are not used on today’s network. 
Class 0 services provide for the basic transport of TCAP messages. (The payload does 
not need to be TCAP, although this is used most commonly today.) No procedures are 
used to segment data or provide any sequencing of data. Typically, class 0 is used to 
deliver noncritical messages (such as database queries) when the guarantee of delivery 
is minimal.
Class 1 is used whenever more than one SCCP message exists for a transaction. A 
transaction is something that takes place at the TCAP level. The best way to define 
a transaction is as a function that is being requested by the application level. For ex-
ample, a feature is to be invoked at a remote switch, TCAP would send a message with 
several components. Each component would direct a particular portion of the switch 
to provide a function. All the functions combined cause the feature to be invoked. The 
entire process is considered a transaction.
When this occurs, the TCAP message may be too big to fit in one SCCP message. 
SCCP then must provide segmentation of the data and possibly sequencing as well. The 
segmentation function divides the TCAP header and the application entity data into 
smaller segments, which then can fit easily within multiple SCCP messages. The TCAP 
header and the application-level information are left intact before the segmentation.

General Description of SCCP Functions      469
In other words, the TCAP header is not duplicated for each of the SCCP messages. 
Rather, it is segmented, as is, right into the payload portion of the first SCCP message. 
The sequencing function is used to ensure that the SCCP messages are received in the 
same order in which they were sent.
The routing function at level 3 examines the protocol class parameter to deter-
mine if the signaling link selection (SLS) field should remain the same or be rotated. 
If messages are part of the same transaction, the SLS is not rotated, ensuring that  
the messages are received in sequence. If rotation of the SLS field is allowed, associated 
messages may be received out of sequence.
To ensure that the messages that are part of the same transaction are delivered 
in sequence, the routing function at level 3 examines the protocol class parameter to 
determine if the SLS field should remain the same or be rotated. If rotation is allowed, 
then a message may be allowed to travel through a different path, whereas if the SLS 
field is not rotated (bit rotation), the messages may be received out of sequence.
Protocol class 2 provides a basic connection-oriented service. A connection first must 
be established between the two entities, and once established, a two-way dialog may 
take place. In the case of SS7, the same physical link may be used to carry multiple con-
nections at the same time. This is the same concept as multiplexing several telephone 
conversations onto one physical facility.
To maintain an order between the various connections, a reference number is estab-
lished at both ends as an index to each of the particular connections. This allows either 
end to determine which virtual connection a message is destined for, much in the same 
way that X.25 uses virtual channels for a connection.
Protocol class 3 provides the same services as class 2 but adds the function of flow 
control and expedited data. Message loss and “missequencing” also can be detected and 
reported to the opposite end of the connection by way of an SCCP management (SCMG) 
message. When such an event occurs, class 3 has the capacity to reset the connection 
and restart transmission of the upper-level messages again.
Protocol class 4 adds error recovery to the class 3 functions. Presently, this has been 
removed from Telcordia standards but is still defined in the ANSI standards. Error 
recovery supports the retransmission of errored messages.
All these protocol classes involve services of SCCP. Primitives are used to convey 
information between the levels, whether between the user part and SCCP or between 
SCCP and MTP. Figure 9.1 illustrates the various functions provided by SCCP. Through 
the use of primitives, all user parts that employ the services of SCCP must discern 
whether they need connection-oriented or connectionless services. A separate interface 
is maintained for either one of these services.
The various routing functions of SCCP are handled by the SCCP routing control 
(SCRC) function, which interfaces directly with MTP. This includes any global title 
translation if the signaling point is equipped with that function. Remember that not 
all signaling points are equipped with global title translation.
The signaling point also may provide the reverse option of global title, which is trans-
lating the calling-party address from point code and subsystem number into nothing 
but global title. This is especially useful for secure networks, where a message is being  

470      Chapter 9
routed outside the network, and only the global title needs to be given to prevent out-
side networks from learning the point codes of internal signaling points. This is a func-
tion that would be provided by a gateway signal transfer point (STP).
MTP sends all received messages to the SCCP routing control for discrimination and 
distribution. If you remember our discussion from Chapter 6, you will remember that 
MTP also has a message discrimination function as well as a distribution function. The 
SCRC function is much like MTP in that it also must discriminate messages at the 
SCCP level and distribute them to a higher level if addressed to the local application.
SCOC
Users
N-Connect Request 
N-Connect Reset 
N-Data Request 
N-Expedited Data Request 
N-Data Acknowledgment Req 
N-Disconnect Request 
N-Reset Request 
N-Reset Reset
N-Inform Request
SCCP
MTP
SCLC
SCMG
SCRC
N-Unitdata Request
N-Unitdata Indication
N-Notice Indication
MTP-Transfer Indication
MTP-Transfer Request
MTP-Pause Indication
MTP-Response Indication
MTP-Status Indication
SCRC-SCCP Routing Control
SCOC-SCCP Connection-Oriented Control
SCLC-SCCP Connectionless Control 
SCMG-SCCP Management
N-Coord Request
N-Coord Reset
N-State Request
N-Connect Indication
N-Connect Confirm
N-Data Indication
N-Expedited Data Indication
N-Data Acknowledgment Ind
N-Disconnect Indication
N-Reset Indication 
N-Reset Confirm
N-Inform Indication
N-Coord Indication
N-Coord Confirm
N-State Indication
N-PC State Indication
N-Traffic Indication
Figure 9.1 This figure illustrates the four functions defined in SCCP and the primitives used to interface 
with other protocols in SS7.

General Description of SCCP Functions      471
The called-party address field provides the addressing information necessary for the 
SCRC to route a particular message to the correct destination. The SCRC is not con-
cerned with which signaling point to route the message to because this is the function 
of MTP. The SCCP level is concerned only with its users, which are at the application 
level. Therefore, the destination point code is not used by the SCRC function. It exists 
simply for the sake of the MTP. The subsystem number is the only information (besides 
the global title, which is passed to the subsystem) that is needed at this point for rout-
ing by the SCRC.
The message distribution function routes the message to the correct user part, as 
defined in the called-address field. Later we will show the values of the various subsys-
tems that have been defined by both Telcordia and ANSI and identify which applica-
tions they represent. Routing is discussed further in the next section.
SCCP connection-oriented control (SCOC) and the SCCP connectionless control 
(SCLC) are both used to control functions such as segmentation and sequencing of 
messages. The user part must determine which service is required for the particular 
transmission. At the present time, only the SCLC function is used.
SCMG is notified any time a message cannot be delivered to a user part. In the case of 
connectionless service, the received message actually is returned to the originator using 
the Unitdata Service (UDTS) or Extended Unitdata Service (XUDTS) message structure. 
In either one of these formats, the payload is also returned to the originator. In the case 
of connection-oriented service, the connection request is denied, and SCMG is notified. 
The data sent are not returned. SCMG may reset the connection, if one has been estab-
lished, or simply return a connection reject message if no connection existed previously.
Routing Services of SCCP
As mentioned earlier, SCCP provides end-to-end routing functions to the TCAP. The 
TCAP protocol, in turn, provides transport services to the application entity with which 
it interfaces [such as the Mobile Application Part (MAP)]. The addressing requirements 
are somewhat different for TCAP than what the MTP is able to provide. MTP bases its 
addressing (the point code in the routing label) on information from SCCP. This infor-
mation is found in a called/calling-party address field in the SCCP message.
The called/calling-party fields provide three forms of addresses. The first consists of 
digits. These digits, referred to as the global title, are usually what the subscriber (calling 
party) dialed (in the case of an 800 number call, for example). However, they do not have 
to be digits dialed. They also can be the mobile identification number (MIN) used in the 
wireless network to identify a wireless subscriber. At any rate, whatever the address is 
(dialed digits or some other form of digits), SCCP provides this information to MTP in 
the form of a primitive. This allows MTP level 3 to determine which signaling point to 
route the SCCP message to. If the destination point code is part of the SCCP called-party 
address, this information is given to the routing MTP.
If this is the only information found in the called-party address, then nothing else is in-
cluded in the primitive to MTP. However, if the called-party address includes a global title 
and subsystem number, then this information is given to MTP for transmission only.

472      Chapter 9
MTP simply includes this information as part of the SCCP header and sends it to the 
destination. If MTP does not get this information, then these fields are filled with zeros. 
Typically, when routing an ISUP message, level 3 MTP knows what the end destination 
will be for a particular circuit. However, remember that MTP needs to know only about 
signaling points that have a direct trunk connection to their location. This is so because 
of the nature of the signaling taking place with ISUP services. The whole basis for this 
protocol is to establish a physical connection between the originating signaling point 
and an adjacent signaling point for a circuit connection (telephone call).
In TCAP transactions, the intent is different. We are no longer interested in circuit-
related transactions. The purpose of TCAP is to provide a means for information ex-
change between two network entities, whether they are a database or another switch. 
This requires different routing procedures.
Global Title Translation
Network databases typically are centrally located within a network (wireline network). 
In order to route messages to these databases from switches, every switch in the net-
work would have to know the routing address of the databases. This is not practical 
and is difficult to maintain (especially when the databases are in another company 
network). To simplify routing tables throughout the network, global title translation is 
used as an alternative.
Not every STP in the network needs to have this capability. In fact, global title trans-
lation is usually a function that is centralized within the network. The capability to 
provide this type of routing at the SCCP level allows MTP routing tables within in-
dividual signaling points to remain condensed, without the need to know every point 
code on the network.
When using the global title translation feature, messages from a service switching 
point (SSP)—which is always the originator of such messages—are routed to an STP, 
which then must translate the SCCP address fields into the point-code/subsystem-
number combination. The message then is given back to the MTP with the additional 
address information so that it may be routed by MTP level 3 to its final destination. 
This method of routing also allows networks to accept messages from other networks 
without disclosing their own internal point codes. For example, a company providing 
a database feature to other carriers may provide the point code of a gateway STP. The 
purpose of the gateway STP is to control who has access to the network (using a secu-
rity feature called gateway screening) and also to provide global title translation.
The carriers route SCCP messages to the database service using only global title 
digits. It is then up to the database service to determine which of its databases will 
receive the messages by performing global title translation on the global title digits and 
routing the message through its own network using the point-code/subsystem-number 
combination.
I should mention here, by the way, that the point code in the called-party address 
field is that of the service control point (SCP), which is providing an interface to the 
actual database. Although it is possible to have a database resident within an SCP, 

General Description of SCCP Functions      473
these devices are usually front-end database servers used to route SCCP messages to 
actual database systems located on an X.25 network or a Transmission Control Protocol 
(TCP)/IP network.
The subsystem number is actually the address of the database itself and is necessary 
to get the TCAP message to the database. Each SCP may interface with a number of 
databases, each with its own subsystem number.
We now can see the fundamental differences between SCCP routing and MTP rout-
ing. SCCP provides a more flexible routing scheme and actually gives three addresses: 
the global title, the point code, and the subsystem number. MTP routes to the point 
code of a signaling point, which has a direct voice facility connection or signaling points 
within a cluster. It also may address signaling points that provide centralized services, 
such as global title translation.
Flow Control
Another fundamental difference between MTP and SCCP is flow control. The MTP net-
work management procedures of level 3 provide flow control to a signaling point. In the 
event that a signaling point experiences a failure at the link or processor level, level 3  
management provides the procedures for routing around the failure.
SCCP also provides flow control, but at a different level. As mentioned previously, 
SCCP interfaces with the TCAP and ISUP protocols, which, in turn, provide services 
to an application entity. The flow control in the SCMG procedures provides manage-
ment of message flow to a user part rather than to a signaling point. In the event that 
a particular user part (today it is only TCAP) becomes congested, the SCMG function 
throttles the traffic destined to that user part. This has no effect on the traffic destined 
to the signaling point unless configuration of the signaling point warrants rerouting.
Certain procedures allow for a database function or application entity function to 
be duplicated or replicated at another mated signaling point. If this is the case, then 
through configuration of the signaling point, the messages destined for a congested 
user part may be redirected to another signaling point. This is not necessarily a feature 
of the protocol other than an indication as to how the message should be handled. (The 
indication is through the multiplicity indicator, located in the SCMG messages.)
The multiplicity indicator tells whether there are duplicated subsystems or not. 
There are no handling procedures other than the indicator. If the indicator says that 
the subsystem is solitary, then messages to a congested user part can be returned to 
the sender by SCCP management. If the subsystem is duplicated, then the signaling 
point configuration can determine the method to be used for handling messages. They 
may be rerouted to the duplicate subsystem, or they may be returned. This, of course, 
depends on the implementation at the signaling point.
In Regional Bell Operating Company (RBOC) networks, messages routed to a  
congested or failed user part must be rerouted to the duplicate subsystem only if the 
duplicate subsystem is available and not under congestion itself. Otherwise, the mes-
sage is discarded and a UDTS or XUDTS message with a return cause is sent to the 
message originator.

474      Chapter 9
Message rerouting is also supported in the ANSI standards but has not made its way 
into the standards publications as of the date of this publication. There is mention of 
the requirements, however, in Telcordia STP Generic Requirements TA-NWT-000082, 
Issue 5, May 1992, Revision 1, July 1992. This document cites the need for rerouting 
SCCP messages per the ANSI T1S1.3 standards group but indicates that the require-
ment has not yet been added to the other standards publications and therefore has 
been included in the STP generic requirements publication.
Flow Control Procedures
Flow control is provided only in connection-oriented procedures. The purpose is to man-
age the number of data units sent on a particular connection. The unique thing about 
SCCP connection-oriented services is the capability to use one transaction to manage 
several connection sections.
The credit parameter in the connection request and connection confirm is used to 
establish the window size for a connection section. There may be multiple connection 
sections within one signaling point at any given time. The connection section is the 
equivalent of a virtual connection within an entity.
During the connection phase, the connection request message sends a credit param-
eter with the requested window size. This is based on the number of the messages that 
need to be sent. The credit may be negotiated between the two entities.
When the connection confirmation is returned, the credit parameter indicates the 
window size that was granted, based on the available resources of the destination 
signaling point. The actual credit granted may be larger or smaller than what was 
requested originally.
The sequence numbering then determines when additional messages may be sent. If 
the window size already has been met, then no other messages may be sent until the sent 
messages can be acknowledged and processed. Once they have been removed from the re-
ceiving signaling point’s buffer, additional messages may be sent. The sequence numbers 
in the SCCP messages are used to notify both entities when messages have been acknowl-
edged. This works the same way as message sequence numbering at the MTP level.
Another unique point about flow control compared with MTP is the fact that flow 
control at SCCP is used to control the flow of messages to a user part and not a 
signaling point. MTP flow control controls the traffic destined to a signaling point, 
whereas SCCP controls traffic to an application. If the resources available to a par-
ticular user part (which serves as the communications interface to applications) 
become congested, then SCCP flow control is used to throttle the messages to the 
affected subsystem.
Connection-Oriented Services
SCCP supports connection-oriented services for TCAP and the ISUP. However, none of 
these uses connection-oriented services in networks today. It is important to remember 
that the protocol defines the procedures and functionality for a great many services, but 

General Description of SCCP Functions      475
only a fraction are actually implemented to date. For the sake of this book, we consider 
the possibility of all these procedures and functions being used at some point in time. 
This is a particularly interesting development because the mechanisms used in the 
connectionless service emulate a connection-oriented protocol. Part of the reason for 
using connectionless versus connection-oriented services lies in the resources required 
to support hundreds of connections at any given time.
Because of the nature of the SS7 network, establishing a virtual connection with 
an application entity for every transaction that takes place in the network and main-
taining that connection through the entirety of the transaction would require far too 
many resources. If the same information could be sent to the application without hav-
ing to establish a connection, then the results would be the same—but with fewer 
resources. Nevertheless, connection-oriented services are defined and described here 
because there may come a time when these services will be needed. Besides, no discus-
sion could be complete without discussing all the capabilities of this network instead 
of what is implemented.
Connection-oriented services provide for two types of connections: permanent and 
temporary. Permanent connections are established for operations, maintenance, and 
administrative functions. These connections must be maintained permanently so that 
continuous real-time information can be exchanged between the network entities 
and the operations centers. In today’s networks, this is not used because connection- 
oriented services are not supported.
Temporary connections are used for all other services and, as the name implies, are 
established on a temporary or as-needed basis. These must be established when a data 
transfer is requested and be released when a data transfer is complete. This works just 
like a telephone call on the Public Switched Telephone Network (PSTN). For example, in 
the case of remote control of another telephone switch, there may be a need to establish 
a temporary connection before transmitting the actual data. This requires the services 
of connection-oriented SCCP, which will send a connection request to the distant end 
and establish a connection with the resources required at the remote switch. Once the 
connection has been established, the actual data, or control information, are sent over 
the established connection (which is actually a virtual connection, or session, if you 
think in mainframe terms).
When the transaction is complete and there is no other control information to be sent, 
the connection can be released. This means that whatever resources were required for 
the transaction are now made available for other entities. Temporary connections, if 
used today, would be the most commonly used connection.
As mentioned already, connection-oriented services are not presently supported in 
ANSI networks, nor in any of the ITU networks known by this author. This may change 
in light of the many new Advanced Intelligent Network (AIN) features being deployed 
throughout the world. To date, no features have been defined that require connection- 
oriented services. Even though connection-oriented services are not supported, the 
connectionless services do emulate many of the features of a connection-oriented 
protocol. Index numbers are used throughout the message in the TCAP portion to  
provide references back to previous transmissions, much in the way that virtual  

476      Chapter 9
circuits are used in X.25. These index numbers are of no significance to the SCCP pro-
tocol. It is important to understand how these work and how TCAP works in general 
so that one may understand the services of SCCP. You may want to read Chapter 10 
first or review this chapter after reading about TCAP.
Connection-oriented services consist of several phases, which represent the various 
activities that take place during transmission of data between two entities. Some of 
these phases are represented during connectionless services as well. The main dis-
advantage of connection-oriented services is the number of resources required for a  
connection-oriented transaction. For example, for two entities to exchange data  
regarding a mobile telephone subscriber (such as location data), a connection would be 
established first, virtually dedicating resources on both ends for the transaction. The 
data then could be transferred and the resources released.
The problem comes when many of these transactions are occurring throughout the 
network. In wireless networks, a mobile subscriber’s phone may send a location update 
message every 3 to 5 minutes. You can imagine the number of such messages that 
must travel through a wireless network supporting 10,000 to 15,000 subscribers! This 
is one of the reasons connectionless services are used so widely in SS7 networks today. 
Nevertheless, let’s look at the procedures of the connection-oriented protocol and dis-
cuss the functions.
Connection-Oriented Procedures
As mentioned earlier, several phases take place during a connection-oriented transmis-
sion. The first phase is the connection-establishment phase. This phase occurs when 
the resources of both entities, the receiver and the originator, are dedicated to the 
transaction.
This is then followed by the data-transfer phase, which is when the data actually 
are being exchanged between the two entities. During this phase, no other entities are 
allowed to send anything to the resource that has been assigned to this transaction. 
Notice that I said resource. Switches and computers have multiple processors and are 
capable of handling many transactions at once. This is a result of the use of distributed 
processing. Following the data-transfer phase is the release phase. This consists of a 
volley of messages exchanged between the two entities, releasing the resources that 
were dedicated for the particular transaction.
To better understand the various phases and the exchange of messages that takes 
place, let’s look a little closer at each of the three phases.
Connection Establishment To understand the events that take place, we must first 
understand the routing of SCCP messages. A discussion of SCCP routing can be found 
in previous sections; here, we need to talk about the differences between routing in 
connection-oriented and connectionless procedures.
In connection-oriented messages, the addressing is somewhat different from that in 
connectionless messages. The address information for all SCCP messages is located in 

General Description of SCCP Functions      477
two fields: the called-party address and the calling-party address. In connectionless 
services, the called- and calling-party addresses represent the originating and destina-
tion point codes for the message. However, in connection-oriented services, each node 
involved in the connection establishes a connection between itself and the next inter-
mediate node.
A good example of how this works is the voice network. A central office usually does 
not have a direct trunk connection to the final destination of the call unless it is a local 
call. To reach the final destination, it must route through any number of intermediate 
switches.
During call setup, a message is sent from the originator to the next intermediate 
node involved with the connection. The connection then is established between these 
two entities. Any messages regarding that connection are directed to the intermediate 
node and not to the final destination.
The intermediate node then is responsible for establishing a connection between 
itself and another intermediate node or the final destination, if possible. This requires 
messages that originated from the intermediate node to travel to the next node in the 
connection. This same scheme is used for SCCP routing when connection-oriented ser-
vices are to be used.
However, with connectionless services, the message can be addressed directly to the 
destination, and regardless of the number of intermediate nodes in the path, the mes-
sage is routed according to the final address. No connection is established, and the 
message addressing consists of the message originator and the final destination of the 
message.
In connection-oriented services, each node will have to establish two connections. The 
first connection is for the incoming message. The second connection is for the outgoing 
message. Both these connections must be correlated with one another. This is referred 
to as a connection section in the protocol. The entity that establishes the connections 
must be responsible for maintaining an association between the incoming and outgoing 
ports used for this connection. Other messages can be received over these facilities and 
be addressed to other entities. This makes this connection section a logical, or virtual, 
connection rather than a physical connection.
To establish a connection between two entities, the originator must send a connection 
request (CR) message. This is sent to the first intermediate node or the final destination 
if a direct connection is available (the destination is an adjacent node to the originator). 
The CR contains the information necessary to define the parameters of the connection. 
This includes the quality of service (QoS)—which is defined by the protocol class—and 
the addresses. The data parameter may contain bearer information to be exchanged 
with the application with which a connection must be established. A maximum of 
130 octets may be sent in the data field. To ensure minimal delay caused by routing 
through an excessive number of intermediate nodes, a hop counter is maintained. This 
hop counter is configured per network and decrements as it passes through each node. 
When the counter reaches zero, the message is in error, the connection is aborted, and 
an error message is returned with a cause code to the originator.

478      Chapter 9
When the connection request is received by the destination, a connection confirmed 
(CC) message is returned. The CC is an acknowledgment that the resources necessary 
to maintain such a connection are available and are now reserved for the transaction. 
In the event that the resources are not available, a connection refusal (CREF) message 
is returned, along with a refusal cause code.
When a connection has been established, a local reference number is assigned to that 
connection (Figure 9.2). This works much the same way as a virtual channel in the X.25 
protocol. Other messages may be received over the physical link, even though this link 
has been established for a connection, but any messages bearing the same address and 
any previously established reference numbers will be handled in the same way as if the 
link were a permanent physical connection. You may think of this as a switched virtual 
circuit, which will be released on termination of the transaction.
The reference number is assigned to both the incoming connection and the outgoing 
connection, but both independent of each other. They are referred to as the source local 
reference number (incoming) and the destination local reference number (outgoing). All 
messages that come in to the signaling point on a connection then are given the source 
local reference number of that signaling point. When a message is returned to that 
entity, it may provide the reference number so that the signaling point then knows to 
which connection the message is relevant.
Reference numbers are of local significance only. In other words, if the reference 
number of a connection at the originating signaling point were sent to the destination 
signaling point, the destination would not know what the number was because it was 
created and corresponds to a connection back at the originating signaling point.
The local reference number is used by the remote node as an address. It becomes the 
destination reference number for all subsequent messages. This address is not found 
in the connection-establishment phase because it has not yet been created. During the 
data-transfer phase, all data-transfer messages will contain a destination local refer-
ence number, which is assigned by the remote entity.
Figure 9.2 An SCCP message being sent to an SCP with a logical reference value of 1. The local reference 
number is only of significance to A, which uses this number much in the same way as logical channels are 
used in X.25. Any responses to this SCCP message will carry the same local reference number.
SCP
F
D
E
B
C
A
Local Ref#1
SCCP - LocRef#1
SCCP - LocRef#1
SCCP - LocRef#1

General Description of SCCP Functions      479
When a connection has been released, the reference number assigned to the connec-
tions section related to that connection is frozen. This means that the number may not 
be reassigned for a certain time. A timer is set to determine when the reference number 
may be unfrozen and available for reassignment to a new connection. This procedure 
is necessary to prevent an incoming message associated with a previous connection 
section from being routed to an incorrect reference number.
Also a part of the connection-establishment phase is negotiation for the QoS. The 
receiver may choose a different QoS based on present conditions within that node and 
the resources available. The QoS is related directly to the protocol class parameter.
If we review for a moment the valid protocol classes, this means that an origina-
tor may propose protocol class 3, which calls for connection-oriented services with se-
quenced delivery and flow control. The receiver instead may assign protocol class 2, 
which provides the sequenced delivery without flow control. The CC message is used 
to indicate which protocol class will be used.
If flow control is provided, the window size of the receiver also may be negotiated. 
This is accomplished using the credit field in the CR message and the CC message. 
When the CR is sent, the credit field is sent with the proposed window size for the con-
nection. The receiver then may assign a different (lower) window size if it wishes. This 
is sent using the connection confirm message credit parameter. The credit parameter 
is also related to the QoS of a message. This is assigned to a connection throughout the 
lifetime of the connection.
Data-Transfer Phase When a message containing data is sent over the established 
connection, the called-party address is used by the SCCP routing control function 
to determine which connection section to route the message over. All subsequent 
data messages with this called-party address will be routed over the same connec-
tion section.
In the event that there is an incoming and outgoing connection section (represented 
by the source local reference number and the destination local reference number), then 
the SCCP routing control must determine which of the outgoing ports is associated 
with the source local reference number, and the SCCP routing control routes the mes-
sage to that destination.
The message, when received by the final destination, is given by MTP to the SCCP 
routing control to determine the address of the message. If it is determined that the ad-
dress is of the signaling point that has received it, then the data are given to the user part 
(TCAP or ISUP) via a primitive. Remember that primitives are used whenever a lower-
level function is passing information up to a higher-level function. The primitive is the 
interface through software that communicates with the other signaling point entities.
Sequence numbering is provided (if the protocol class warrants) by using the  
sequence-number parameters in the data form 1 (DT1) and the data form 2 (DT2) mes-
sages. The sequence numbers act as an acknowledgment for previously received mes-
sages as well. This works much the same way as in other protocols and as sequencing 
works at the MTP level.

480      Chapter 9
The originator of data may send up to 127 data messages through a connection section 
in one direction. Another 127 messages may be sent through the same connection section 
in the opposite direction. At any time, the receiver may change the size of the window,  
depending on resources and other parameters, by changing the value of the credit 
parameter. The credit parameter indicates the number of messages that may be sent 
in any one direction. For example, if the credit parameter has a value of 7, only 7 mes-
sages may be sent in one direction (toward the sender of the credit parameter of 7). 
When the receiver of this credit has sent 7 messages, it must wait until it receives a 
message acknowledging receipt of the previously sent 7 messages. It then may continue 
transmission.
If the credit size has been changed, then the sender is limited to the number of mes-
sages it may send, or if the number has been increased, the sender may be able to send 
more messages. This dynamic window size allows the protocol to control the number 
of messages sent to an entity according to real-time events rather than using a fixed 
parameter that is not sensitive to events that may take place during transmission 
(such as congestion).
Data acknowledgment messages may be sent even when there are no data to be 
transmitted. This allows for the acknowledgment of received messages and allows 
transmission to continue even when it is only in one direction.
Some messages may exceed the capacity of the SCCP envelope. When this occurs, the 
data must be segmented into multiple packets before transmission. Keep in mind that 
the level above SCCP (the user part) includes header information. This header infor-
mation is not included in every single data segment. Rather, the data and the header 
information are sent in their entirety to SCCP routing, and when segmented, the first 
set of bits is encapsulated and transmitted.
The remaining bits are then encapsulated and transmitted, with no knowledge of 
header information. The header information of the user part then will be received along 
with some of the data in the first segment. The header information will be in its entirety. 
The remaining data will be received in subsequent SCCP messages. Segmentation is 
not necessary if the message is equal to or less than 255 octets.
To ensure that data have been received, an expedited data message may be sent in-
stead. The expedited data message allows up to 32 octets of user data to be sent to the 
destination. No further data may be sent, however, until an acknowledgment has been 
received. Once an acknowledgment has been received, then additional expedited data 
messages may be sent.
This is only true on one connection section. Multiple expedited data messages may 
be sent to a node (signaling point) on different connection sections, but only one at a 
time may be sent on any one connection section. This ensures that the transmitted data 
are indeed received without error. Flow control can be accomplished by withholding 
the expedited data message acknowledgment. Expedited data only applies to protocol 
classes 3 and 4.
In the event that two entities are no longer in sync with each other, a reset can be initi-
ated. The reset changes the sequence numbering back to 0 at both ends of the connection,  

General Description of SCCP Functions      481
and it changes the window back to its initial size when the connection was originally 
established. The credit field is also reset to 0.
When a reset message is received, the receiver also resets its sequence numbers back 
to 0. Any data messages received after the reset request are discarded. A confirmation 
must be sent to confirm that the reset has been initiated before data can begin trans-
mitting again. Once the confirmation has been sent, the originator of the reset begins 
sending data using sequence numbers beginning with 1.
Release Phase Once the data transmission has been completed and no further trans-
missions are necessary, a release may be initiated. Either node may initiate the release 
at any time during the life of the connection. However, measures are taken at the user 
part to ensure that a connection is not released prematurely before an entity has com-
pleted its transactions.
The TCAP uses a permission parameter, which is inherent within specific mes-
sage types, to indicate whether an entity has permission to disconnect a connection. 
Permission is not granted when there are additional data to be sent in association with 
a particular transaction.
As mentioned previously, the release may be initiated by either node and by the user 
part or SCCP. When SCCP requests a release, it usually indicates a problem with the 
connection. SCCP may request a release or a pause on the connection, or it also may 
request a release without permission to reestablish the connection.
The release cause parameter indicates the reason for the release and also will im-
plicate the originator of the release. A release must be acknowledged by a release com-
plete before the connection is considered available for another transmission.
Connectionless Services
A connectionless transfer of data using the services of SCCP requires use of the unit-
data and extended unitdata message structures. These message structures provide 
all the information necessary for data to be transferred to and processed by a remote 
entity.
Two protocol classes support connectionless services: protocol class 0 and protocol 
class 1. When protocol class 0 is used, there is no guarantee that the subsequent data 
will arrive in the same order in which they were transmitted. This is so because the 
signaling link selection field in the routing label of the MTP header may be rotated at 
each node. When this occurs, a message may travel a different route than its associated 
messages.
Owing to cross-delay, messages are received out of sequence when this occurs. To pre-
vent this from happening, protocol class 1 can be specified. Any message with a protocol 
class of 1 indicates that the signaling link selection field should not be rotated and that 
any other messages received for the same destination are transmitted over the same 
SLS as the previous associated messages. This ensures that messages that are associ-
ated with one another follow the same path and do not get delivered out of sequence.

482      Chapter 9
There is really only one phase during connectionless procedures: data transfer. There 
is no connection establishment because a connection is not necessary. Data are encap-
sulated into a message envelope with all the information necessary for the receiving 
entity to process the information as it is received.
Subsequent data may be sent in the same fashion as long as there is enough infor-
mation for the receiving entity to process the data. Obviously, connectionless services 
do not require the same resources as connection-oriented services and thus have found 
more favor in SS7 networks today. Let’s look a little closer at the procedures used to 
transfer data with a connectionless protocol.
Connectionless Procedures
The application service element wishing to send data to a remote entity requests con-
nectionless services from SCCP. The application service element can be TCAP or some 
other transport mechanism used by an application entity. The application entity could 
be the Operations, Maintenance, and Administration Part (OMAP) or MAP. The method 
used to transport data between two entities is transparent to the application entity 
and is the responsibility of the application service element, such as TCAP. All routing 
is handled by SCRC, which provides routing parameters to MTP.
In large networks, it is not feasible for every node to know the address of every other 
node. For this reason, the SCCP routing control function can provide additional transla-
tion services. This is known as global title translation and is explained in detail in the 
preceding section on SCCP routing.
When there are too much data to fit into one SCCP envelope, or when it is determined 
that the message should be segmented (this can be determined by network manage-
ment based on network conditions), the extended unitdata (XUDT) is used. The data 
then are divided into equal-length segments. The rule is that the first segment should 
be sized in such a way that the total message length is less than or equal to the size of 
the first segment multiplied by the number of segments being sent. This is to prevent 
buffers from becoming unmanageable.
All subsequent messages are configured with the same address information, and 
protocol class 1 is selected to ensure the in-sequence delivery of all messages. The seg-
mentation parameter in the XUDT message is set to indicate that additional segments 
are to be sent, and the segment number field indicates how many additional segments 
are yet to be transmitted.
In the event that a message is received in error, an error message is returned to the 
originator of the message. The error message is in the form of the UDTS or XUDTS 
messages. The data also are returned, along with a return cause code that indicates 
why the message is being returned.
Unlike connection-oriented services, connectionless services do not assign any logical 
reference numbers to transmissions because there is no connection to be established. 
Therefore, tracking is not important. The only objective is to get the data to their des-
tination. At the user part level, many schemes are used to ensure that messages are 
received without error, and at least in the case of TCAP, indexing schemes keep track 
of associated data.

General Description of SCCP Functions      483
SCCP Management (SCMG)
SCMG is used to maintain the integrity of SCCP services. Although MTP maintains 
link integrity and alerts adjacent signaling points of congestion at another signaling 
point, SCMG is concerned with the status of a subsystem or application entity.
To accomplish this, SCMG is divided into three tasks: signaling-point status, subsys-
tem status, and traffic management. Management messages use the unitdata message 
structure found in connectionless SCCP.
To maintain the status of the signaling point, SCMG relies on information from the 
MTP that is sent to SCMG through primitives. These primitives consist of the MTP-
Pause, MTP-Resume, and MTP-Status primitives and their parameters. Subsystem 
information is gathered by SCMG through primitives from the subsystem directly to 
SCMG.
Probably the most advantageous feature of SCMG is the capability to route messages 
away from a failed or congested subsystem to a mated subsystem in another location. 
This ensures that services are not lost when a subsystem fails, and it guards against 
failures owing to subsystem congestion.
This requires that subsystems be replicated or duplicated and placed in different 
geographic locations. When this has been adhered to, the diversity of the network in-
creases, and reliability increases as well. The protocol now can control message flow to 
the replicated databases.
A database can play several roles within the protocol structure. One is as the domi-
nant subsystem. The dominant subsystem will hold a higher priority than its replicated 
subsystems. All replicated subsystems possess the same subsystem number, so it is up 
to the signaling points to determine how to route to the subsystems. This is decided at 
configuration time, and each signaling point is configured to handle SCCP traffic ac-
cording to these rules.
Each replicated subsystem may have a priority, with the subsystem that has the 
highest priority receiving the bulk of the traffic. Assignment of the dominant subsystem 
may change dynamically or may be a fixed configuration depending on the network. 
One thought is to allow the priority to change based on the current load. This provides 
for a more dynamic routing scheme but could prove difficult to implement.
A solitary subsystem is one that is not replicated and therefore must handle all traf-
fic. In the event that this subsystem fails, traffic may be routed to another network 
or stop altogether. This is the least favorable situation on any network because it in-
creases the single point of failure and decreases reliability on the network.
Another scheme is to have a primary subsystem that receives all traffic until a fail-
ure occurs, in which case all traffic is routed to an alternate. The alternate then would 
handle all SCCP traffic until a failure occurs, in which case it would be marked as inac-
cessible, and all traffic would be routed back to the other alternate.
This uses a standard master/slave relationship, but it is not favorable because there 
is no use of the other subsystem until a failure occurs. This means that the other sub-
system is sitting idle and not being used in any capacity. If something is wrong with 
this subsystem (in terms of being able to handle messages), you will not likely find out 
until it goes online and begins handling messages, which is a little too late.

484      Chapter 9
SCMG also uses a concept referred to as the concerned point code. There are really 
two point codes that are affected by SCCP management. One is the affected point code, 
which is the failed or congested entity. The other is the point code that uses the service 
of the affected point code. The concerned point code must be notified when there is a 
status change at the affected point code so that it knows how to route SCCP messages. 
The concerned point code is updated about an affected point code’s status using SCMG 
messages and connectionless services of SCCP.
SCMG messages are sent to adjacent signaling points (adjacent in the logical sense 
only) to alter the translation functions located within those signaling points. By alter-
ing the translation function, when a protocol class 0 message is received, messages can 
be routed to other replicated subsystems. The action to be taken depends on the type 
of SCMG intervention.
Signaling-Point Status Management
Signaling-point status management is concerned with the status of an SCP. If the SCP 
becomes congested or should fail, then the subsystems adjacent to the SCP cannot be 
reached. Traffic then must be diverted to replicated subsystems.
This requires a series of management messages that provide the status of a signal-
ing point (SCP) and subsystem combination. These messages are not to be confused 
with the messages used by network management at level 3, although there are some 
similarities. Level 3 is concerned more with all the signaling points within the network 
rather than just a select type.
A signaling-point prohibited procedure indicates that the affected signaling point 
has been prohibited and cannot receive any traffic. The signaling point will be an SCP 
rather than an SSP or STP because this is the only entity SCMG is really concerned 
about. When a prohibited message has been received, the receiving node changes its 
translations to route traffic to the replicated subsystems, if any exist, according to the 
configuration of the replicated subsystems (dominant role, alternate role, or solitary).
When the signaling point (SCP) is considered to be “allowed,” the translation tables 
are once again modified according to the roles of the replicated subsystems. Traffic 
then is directed toward the affected signaling point, and subsystem status tests may 
be invoked.
All translation changes are made at adjacent nodes. Adjacency refers to a logical 
adjacency. This means that a path exists from one signaling point to the affected sig-
naling point. An example would be an STP that provides global title translation. This 
entity needs to be kept apprised of the signaling-point status because it will have to 
change its routing tables and translation tables based on the status of the SCPs and 
their subsystems.
Subsystem Status Management
The purpose of subsystem status management is to monitor the status of individual 
subsystems within a signaling point. An SCP may have multiple subsystems. If the  

General Description of SCCP Functions      485
signaling point becomes congested or fails, then none of those subsystems can be 
reached (signaling-point status management). If only one of the subsystems becomes 
congested or fails, then subsystem status management redirects traffic from that one 
subsystem to other replicated subsystems.
This should point out the fundamental difference between signaling-point status man-
agement and subsystem status management. One is concerned with the status of the 
SCP, whereas the other is concerned with the status of the subsystems located within 
or adjacent to the SCP. Translation tables also must be changed to allow routing to be 
diverted away from the failed or congested subsystem and be routed to replicated sub-
systems depending on their role in the network (i.e., solitary, dominant, or alternate). 
The same status is provided for subsystems as is for signaling points. A subsystem 
is either prohibited or allowed. There is no restricted mode, as used by level 3 manage-
ment. If a subsystem is unable to handle traffic owing to congestion or failure, then 
traffic is diverted immediately to replicated systems. The throttling of traffic cannot be 
tolerated given the nature of the transactions taking place at a subsystem.
When a subsystem is marked as prohibited, a status test is used to audit the prohib-
ited subsystem and ensure that the status is correct. The SCP invokes this test so that 
it may keep track of the status of all its subsystems. If for any reason the subsystem 
status has changed and is allowed and the subsequent management messages are not 
received, a subsystem could remain prohibited in the status tables of the adjacent SCP 
while the actual status of the subsystem is allowed.
In addition to testing the status of a subsystem, an SCP also may invoke a broadcast 
that allows the SCP to inform other local subsystems (concerned subsystems) of the 
status of other signaling points or subsystems. This is reserved for local subsystems, 
which means they have a direct adjacency to the SCP and can be reached through the 
use of primitives rather than protocol messages.
Other signaling points can be notified through the use of a broadcast procedure for 
signaling points. This procedure is used to inform concerned signaling points of sta-
tus changes concerning subsystems. Only concerned signaling points are sent status 
updates. A concerned signaling point is that which regularly routes messages to the 
SCP-subsystem combination. Usually, this is an STP, which provides the global title 
translation function for the rest of the network.
Now you can see one of the distinct advantages behind using a centralized STP 
with global title translation rather than spreading the routing function through all the 
nodes. SCMG, as well as routing, can be simplified if only a few of these entities provide 
this functionality.
There is also a procedure that allows for the calculation of traffic mixes, although 
much of this is still under study. Traffic-mix information can be provided as an option 
in ANSI networks and can prove useful to some databases for the purpose of network 
management and network monitoring.
The traffic-mix indication informs end databases as to the type of SCCP traffic  
being routed: normal SCCP traffic or backup. Normal SCCP traffic is what normally  
would be routed to the subsystem without network management intervention. Backup 
traffic consists of all messages routed to the subsystem as a result of an SCCP  

486      Chapter 9
management function. This indicates that the receiving subsystem is a replicate sub-
system and is receiving traffic from another subsystem that is prohibited.
As mentioned earlier, a subsystem is either prohibited or allowed. No procedures are 
currently defined for flow control to a subsystem. Because of the nature of the transac-
tions that take place at a subsystem, flow control may not be a viable option.
SCCP Message Structure
SCCP is divided into several sections, as we saw earlier. In this section we will define 
the various fields and values for these fields and identify where they can be found in 
the SCCP message. These fields are defined according to their location in the SCCP 
message, which has three parts: the mandatory fixed part, the mandatory variable 
part, and the optional part (Figure 9.3). 
The mandatory fixed part consists of the parameters that are mandatory for the 
particular message. Each message will have different parameters that will be fixed 
in length (according to the message type). The message type may have one or several 
octets of parameters. The field will not vary, however, and because of the message type, 
it can be determined how large these parameters will be.
Figure 9.3 The fields in an SCCP message and their locations in relation to the rest of the protocol.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
SCCP
xxxx  0011
TCAP
Message Type
Mandatory Parameter A
Mandatory Parameter Z
Mandatory Fixed Part
Mandatory Variable Part
Optional Part
Pointer to Variable Parameter A
••
••
••
••
Pointer to Variable Parameter Z
Pointer to Optional Part
Length of Variable Parameter A
Variable Parameter A
Length of Variable Parameter Z
Variable Parameter Z
Optional Parameter Name A
Length of Optional Parameter A
Optional Parameter A
Optional Parameter Name Z
Length of Optional Parameter Z
Optional Parameter Z
End of Optional Parameters

General Description of SCCP Functions      487
The mandatory variable part consists of the parameters that are required of a partic-
ular message type but are not of a fixed length. A good example of a mandatory variable 
part is a called- or calling-party address. This field uses length indicators to identify 
the length of each individual parameter field and the beginning of the parameter. Also 
in the mandatory variable part is a pointer that identifies the beginning of the optional 
part. This field consists of the binary representation of the binary offset. An offset is the 
octet count from the beginning of the pointer to the optional part indicator.
Each parameter found in the mandatory variable part is preceded by a length indica-
tor and the parameter indicator. A pointer at the beginning of the mandatory variable 
part points to the octet of each of the individual parameters.
The optional part also uses length indicators after every parameter. The parameter is 
identified by a one-octet indicator, which provides a unique pattern for every parameter 
type.
Following the optional parameter is the length indicator, which provides the length 
for the entire parameter, excluding the parameter indicator. The length indicator then 
is followed by the parameter itself.
Not all SCCP messages will use all these fields. Some SCCP messages will use only 
the mandatory fixed part; others will use only the mandatory fixed and variable parts. 
The following are the definitions for the various parameters found in the SCCP mes-
sage structure.
Mandatory Fixed Part
The mandatory fixed part succeeds the message type code, which identifies which type 
of SCCP message is being sent. As discussed at the beginning of this chapter, two 
types of services are provided by SCCP: connection-oriented and connectionless. The  
connection-oriented classes of service require several different types of SCCP messages, 
whereas connectionless service requires only one. In the United States, connection- 
oriented classes of service are not supported. We will define them here anyway because 
there may be a use for these services in the future. Even though there are no present 
functions for connection-oriented services using SCCP, many functions of SCCP emu-
late connection-oriented services. We will look at the various parameters that are used 
for connection-oriented emulation when we examine the mandatory variable fields and 
the optional parameters.
Mandatory Variable Part
The parameters found in this field will depend on the type of message being sent. Each 
message has different requirements and may or may not require variable parameters. 
Not all SCCP messages will use the mandatory variable part. The mandatory indicates 
that this field may be required for specific message types. The variable indicates that 
the length of these parameters is not fixed in nature and will be variable. This includes 
addresses and other parameters, which will vary from message to message.

488      Chapter 9
Optional Part
The optional part is always a variable-length field and may or may not be used with 
specific message types. Optional indicates that the field is not required for a specific 
parameter but may be used to provide additional information relating to a transaction. 
Length indicators are used before every parameter in this field to delineate between 
the various parameters. By providing these length indicators, the receiving signaling 
point can determine where the beginning and the end of a parameter are without the 
use of pointers.
Message Types
The first field of the mandatory fixed part is the message type. This field is found in all 
SCCP messages. The message type will determine which parameters will be used in 
the mandatory variable part and the optional part.
The mandatory fixed part will be followed by variable and optional fields in some 
situations. This depends on the message type. The various parameters will provide 
additional information, again depending on the message type (the parameters are not 
shown in their entirety in this section).
The following figures describe the message types that are supported for connection-
oriented and connectionless services. These message types and their parameters are 
shown with explanations for the message types and their functions. The parameters 
are explained in their entirety in the next section.
End of Optional
Hop Counter
Data
Clg Party Credit Cld Party Proto Class Src Loc Ref Msg Type
8
24
24 to 3120
32+
24
24+
8
24
8
Connection Request (CR) 
0 
0 
0 
0 
0 
0 
0 
1
Mandatory Fixed Part 
 
 
 
 
 
 
 
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Protocol Class 
0 
0 
0 
0 
0 
1 
0 
1
Mandatory Variable Part 
 
 
 
 
 
 
 
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Optional Part 
 
 
 
 
 
 
 
Credit 
0 
0 
0 
0 
1 
0 
0 
1
Calling-Party Address 
0 
0 
0 
0 
0 
1 
0 
0
Data 
0 
0 
0 
0 
1 
1 
1 
1
SCCP Hop Counter 
0 
0 
0 
1 
0 
0 
0 
1
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0
End of Optional
Data
Cld Party Credit Proto Class Src Loc Ref Dst Loc Ref Msg Type
8
24 to 3120
32+
24
8
24
24
8
Connection Confirm (CC) 
0 
0 
0 
0 
0 
0 
1 
0
Mandatory Fixed Part 
 
 
 
 
 
 
 
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Protocol Class 
0 
0 
0 
0 
0 
1 
0 
1
Optional Part 
 
 
 
 
 
 
 
Credit 
0 
0 
0 
0 
1 
0 
0 
1
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Data 
0 
0 
0 
0 
1 
1 
1 
1
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0

General Description of SCCP Functions      489
End of Optional
Data
Cld Party Cause Dst Loc Ref Msg Type
8
24 to 3120
8
24
8
Connection Refused (CREF) 
0 
0 
0 
0 
0 
0 
1 
1
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Refusal Cause 
0 
0 
0 
0 
1 
1 
1 
0
Optional Part
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Data 
0 
0 
0 
0 
1 
1 
1 
1
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0
End of Optional
Data
Cause Src Loc Ref Dst Loc Ref Msg Type
8
24 to 3120
8
24
24
8
Released (RLSD) 
0 
0 
0 
0 
0 
1 
0 
1
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Release Cause 
0 
0 
0 
0 
1 
0 
1 
0
Optional Part
Data 
0 
0 
0 
0 
1 
1 
1 
1
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0
Src Loc Ref Dst Loc Ref Msg Type
24
24
8
Release Complete (RLC) 
0 
0 
0 
0 
0 
1 
0 
1
Mandatory Fixed Part 
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Data
Seg/Reassembly
Dst Loc Ref Msg Type
16 to 2048
8
24
8
Data Form 1 (DT1) 
0 
0 
0 
0 
0 
1 
1 
0
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Sequencing/Reassembling 
0 
0 
0 
0 
0 
1 
1 
0
Mandatory Variable Part 
Data 
0 
0 
0 
0 
1 
1 
1 
1
Data
Seq/Segment
Dst Loc Ref Msg Type
16 to 2048
16
24
8
Data Form 2 (DT2) 
0 
0 
0 
0 
0 
1 
1 
1
Mandatory Fixed Part 
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Sequencing/Segmenting 
0 
0 
0 
0 
1 
0 
0 
0
Mandatory Variable Part 
Data 
0 
0 
0 
0 
1 
1 
1 
1

490      Chapter 9
Credit
Rev Seq #
Dst Loc Ref Msg Type
8
8
24
8
Data Acknowledgment (AK) 
0 
0 
0 
0 
1 
0 
0 
0
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Receive Sequence Number 
0 
0 
0 
0 
0 
1 
1 
1
Credit 
0 
0 
0 
0 
1 
0 
0 
1
Data
Clg Party
Cld Party
Proto Class Msg Type
16 to 2032
2+
3+
8
8
Unitdata (UDT) 
0 
0 
0 
0 
1 
0 
0 
1
Mandatory Fixed Part 
 
 
 
 
 
 
 
Protocol Class 
0 
0 
0 
0 
0 
1 
0 
1
Mandatory Variable Part 
 
 
 
 
 
 
 
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Calling-Party Address 
0 
0 
0 
0 
0 
1 
0 
0
Data 
0 
0 
0 
0 
1 
1 
1 
1
End of Optional
ISNI
Segment
Data
Clg Party Cld Party
Hop Cntr Proto Class Msg Type
8
24 to 144
48
16 to 2032
2+
3+
8
8
8
Extended Unitdata (XUDT) 
0 
0 
0 
1 
0 
0 
0 
1
Fixed Mandatory Part 
 
 
 
 
 
 
 
Protocol Class 
0 
0 
0 
0 
0 
1 
0 
1
SCCP Hop Counter 
0 
0 
0 
1 
0 
0 
0 
1
Mandatory Variable Part 
 
 
 
 
 
 
 
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Calling-Party Address 
0 
0 
0 
0 
0 
1 
0 
0
Data 
0 
0 
0 
0 
1 
1 
1 
1
Optional Part 
 
 
 
 
 
 
 
Intermediate Signaling Network Identification (ISNI) 
1 
1 
1 
1 
1 
0 
1 
0
Segmentation 
0 
0 
0 
1 
0 
0 
0 
0
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0
Data
Clg Party
Cld Party Return Cause Msg Type
16 to 2032
2+
3+
8
8
Unitdata Service Message (UDTS) 
0 
0 
0 
0 
1 
0 
1 
0
Mandatory Fixed Part
Return Cause 
0 
0 
0 
0 
1 
0 
1 
1
Mandatory Variable Part
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Calling-Party Address 
0 
0 
0 
0 
0 
1 
0 
0
Data 
0 
0 
0 
0 
1 
1 
1 
1
End of Optional
ISNI
Segment
Data
Clg Party Cld Party
Hop Cntr
Rtn Cause
Msg Type
8
24 to 144
48
16 to 2032
2+
3+
8
8
8
Extended Unitdata Service Message (XUDTS) 
0 
0 
0 
1 
0 
0 
1 
0
Mandatory Fixed Part 
 
 
 
 
 
 
 
Return Cause 
0 
0 
0 
0 
1 
0 
1 
1

General Description of SCCP Functions      491
SCCP Hop Counter 
0 
0 
0 
1 
0 
0 
0 
1
Mandatory Variable Part 
 
 
 
 
 
 
 
Called-Party Address 
0 
0 
0 
0 
0 
0 
1 
1
Calling-Party Address 
0 
0 
0 
0 
0 
1 
0 
0
Data 
0 
0 
0 
0 
1 
1 
1 
1
Mandatory Variable Part 
 
 
 
 
 
 
 
Intermediate Signaling Network Identification (ISNI) 
1 
1 
1 
1 
1 
0 
1 
0
Segmentation 
0 
0 
0 
1 
0 
0 
0 
0
End of Optional Parameters 
0 
0 
0 
0 
0 
0 
0 
0
Data
Dst Loc Ref
Msg Type
16 to 264
24
8
Expedited Data Message (ED) 
0 
0 
0 
0 
1 
0 
1 
1
Mandatory Fixed Part 
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Data 
0 
0 
0 
0 
1 
1 
1 
1
Dst Loc Ref
Msg Type
24
8
Expedited Data Acknowledgment Message (EA) 
0 
0 
0 
0 
1 
1 
0 
0
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Reset Cause Src Loc Ref Dst Loc Ref Msg Type
8
24
24
8
Reset Request Message (RSR) 
0 
0 
0 
0 
1 
1 
0 
1
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Reset Cause 
0 
0 
0 
0 
1 
1 
0 
0
Src Loc Ref Dst Loc Ref Msg Type
24
24
8
Reset Confirmation Message (RSC) 
0 
0 
0 
0 
1 
1 
1 
0
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Err Cause
Dst Loc Ref Msg Type
8
24
8
Error Message (ERR) 
0 
0 
0 
0 
1 
1 
1 
1
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Error Cause 
0 
0 
0 
0 
1 
1 
0 
1

492      Chapter 9
Credit
Seq/Segment
Proto Class Src Loc Ref
Dst Loc Ref
Msg Type
8
16
8
24
24
8
Inactivity Test Message (IT) 
0 
0 
0 
1 
0 
0 
0 
0
Mandatory Fixed Part
Destination Local Reference 
0 
0 
0 
0 
0 
0 
0 
1
Source Local Reference 
0 
0 
0 
0 
0 
0 
1 
0
Protocol Class 
0 
0 
0 
0 
0 
1 
0 
1
Sequencing/Segmenting 
0 
0 
0 
0 
1 
0 
0 
0
Credit 
0 
0 
0 
0 
1 
0 
0 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
56
24
24
8
8
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC Affected SSN 0000 0001
Subsystem-Allowed (SSA) 
0 
0 
0 
0 
0 
0 
0 
1
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC Affected SSN 0000 0010
Subsystem-Prohibited (SSP) 
0 
0 
0 
0 
0 
0 
1 
0
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN
0000 0011
Subsystem-Status-Test (SST) 
0 
0 
0 
0 
0 
0 
1 
1
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1

General Description of SCCP Functions      493
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN
0000 0100
Subsystem-Out-of-Service-Request (SOR) 
0 
0 
0 
0 
0 
1 
0 
0
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN
0000 0101
Subsystem-Out-of-Service-Grant (SOG) 
0 
0 
0 
0 
0 
1 
0 
1
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN 1111 1101
Subsystem-Backup-Routing (SBR) 
1 
1 
1 
1 
1 
1 
0 
1
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN
1111 1110
Subsystem-Normal-Routing (SNR) 
1 
1 
1 
1 
1 
1 
1 
0
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1

494      Chapter 9
Data 
SCMG Msg
Clg Party 
SSN=SCMG
Cld Party 
SSN=SCMG
Proto Class
0/NO RTN
Msg Type 
0000 1001
Subsys Mult Ind
Affected PC
Affected SSN 1111 1111
Subsystem-Routing-Status-Test (SRT) 
1 
1 
1 
1 
1 
1 
1 
1
Affected Subsystem Number 
0 
0 
0 
0 
0 
0 
0 
1
Affected Point Code 
0 
0 
0 
0 
0 
0 
1 
0
Subsystem Multiplicity Indicator 
0 
0 
0 
0 
0 
0 
1 
1
SCCP Parameters
The preceding section only identified the parameters that are used by the various mes-
sage types. The actual data found in each parameter were not indicated. In this section 
we will look at each one of the individual parameters and explain the various data 
values possible within each particular parameter.
The parameters differ depending on the message type with which they are used. 
Some parameters are common and can be found in several message types. Others are 
specific to a particular message type and contain information relevant only to the spe-
cific message type.
This section will not attempt to identify which message types use each of these pa-
rameters because that has already been discussed. This section will explain the param-
eters in detail and provide the bit values of each one.
Called/calling-party address
0
0
0
0
0
0
1
1
Octet one
Address indicator
H
G
F
E
D
C
B
A
Subsystem indicator
Address contains subsystem number
1
Address does not contain subsystem number
0
Point code indicator
Address contains point code
1
Address does not contain point code
0
Global title indicator
H
G
F
E
D
C
B
A
No global title included
0
0
0
1
Global title includes translation type,  
 numbering plan, and encoding
0
0
1
0
Global title includes translation type only
0
0
1
0
Not assigned in U.S. networks 
0
0
1
1
to
1
0
0
0
Spare
1
0
0
1
 
to
1
1
1
0
Reserved for extension
1
1
1
1

General Description of SCCP Functions      495
Routing indicator
H
G
F
E
D
C
B
A
Route using global title only
0
Route using point code/subsystem number
1
National/international indicator
Address indicator coded as international
0
Address indicator coded as national
1
The subsystem indicator and the point code indicator are used to indicate whether 
one of these two entities is found in the address. In fact, this entire octet is used to 
indicate which elements of the address are found and which elements are to be used 
by routing.
The routing indicator is used to instruct the routing function as to which element of 
the address to use for routing the message. If the routing indicator is equal to 0, this in-
dicates that global title translation is necessary. The receiving signaling transfer point, 
if it has global title capability, then should provide global title translation. If the STP 
does not have this functionality, it should route the message to its destination. Usually, 
the end STP will provide the global title translation before routing to an adjacent SCP 
for routing to the actual database or application.
Octet two
Subsystem number
H
G
F
E
D
C
B
A
Subsystem number unknown/not used
0
0
0
0
0
0
0
0
SCCP management
0
0
0
0
0
0
0
1
Reserved
0
0
0
0
0
0
1
0
ISDN User Part
0
0
0
0
0
0
1
1
Operations, Maintenance,  and  
 Administration Part (OMAP)
0
0
0
0
0
1
0
0
Mobile Application Part (MAP)*
0
0
0
0
0
1
0
1
Home location register (HLR)*
0
0
0
0
0
1
1
0
Visited location register (VLR)*
0
0
0
0
0
1
1
1
Mobile switching center (MSC)*
0
0
0
0
1
0
0
0
Equipment identification register (EIR)*
0
0
0
0
1
0
0
1
Authentication center*
0
0
0
0
1
0
1
1
Spare
0
0
0
0
1
0
1
1
to
1 
1
1
1
1
1 
1
0
Reserved for expansion
1
1
1
1
1
1
1
1
The subsystem number identifies the application to which the message is being ad-
dressed or from where the message originated. New subsystems have been added re-
cently in the Telcordia recommendations to include the various database functions 
found on the wireless network. The MAP is actually an application entity and uses the 
services of the TCAP and SCCP protocols to deliver control and signaling information 
through the network. MAP is used today in conjunction with IS-41 for seamless roam-
ing and handoff procedures within the wireless network.
*These are implemented in RBOC networks for the use of cellular internetworking.

496      Chapter 9
The registers are actually databases that store information regarding wireless sub-
scribers. The home location register (HLR) stores information regarding subscribers 
within the provider’s calling area. The visited location register (VLR) provides informa-
tion regarding subscribers outside their home calling area using roaming numbers. The 
cell sites constantly update the VLR as the wireless phone broadcasts location signals 
and, in turn, updates the HLR using SCCP and TCAP.
Octet three
Point code
H
G
F
E
D
C
B
A
Member number
0
0
0
0
0
0
0
0
to
1
1
1
1
1
1
1
1
Octet four
Point code
H
G
F
E
D
C
B
A
Cluster number
0
0
0
0
0
0
0
0
to
1
1
1
1
1
1 
1
1
Octet five
Point code
H
G
F
E
D
C
B
A
Network identification
0
0
0
0
0
0
0
0
to
1 
1
1
1
1
1
1
1
The point code is represented in the same format as the destination point code and 
the origination point code address found in the routing label. The same rules apply here 
as to the routing label (regarding the ranges allowed for point codes).
Octet six
(If the global title indicator in the address indicator is equal to 0001, the following format is used 
for the global title parameter.)
Translation Type
H
G
F
E
D
C
B
A
Reserved
0
0
0
0
0
0
0
0
891 Telecommunications credit cards
0
0
0
0
0
0
0
1
14-Digit calling card
0
0
0
0
0
0
1
0
Cellular nationwide roaming service
0
0
0
0
0
0
1
1
Global title point code
0
0
0
0
0
1
0
0
Calling name delivery
0
0
0
0
0
1
0
1
Call management application
0
0
0
0
0
1
1
0
Message waiting application
0
0
0
0
0
1
1
1
Internetwork applications
0
0
0
0
1
0
0
0
to
0
0
0
1
1
1
1
1
Network-specific applications
1
1
0
0
0
0
0
0
to
1
1
1
1
1
0
0
0
Message waiting application
1
1
1
1
1
0
0
1

General Description of SCCP Functions      497
Network-specific applications
1
1
1
1
1
0
1
0
Call management application
1
1
1
1
1
0
1
1
14-Digit calling-card application 
1
1
1
1
1
1
0
1
800 Number LIDB application*
1
1
1
1
1
1
1
0
Translation types help to route messages between networks to the proper function 
within a signaling point. They are optional and network-dependent. The Telcordia rec-
ommendations provide several predefined codes (shown previously), but every network 
can assign its own translation types. The only rule here is that the translation type 
name and the translation type number must be used consistently in any one signaling 
point and across the network.
Octet seven
Encoding scheme
H
G
F
E
D
C
B
A
Unknown
0
0
0
0
Binary-coded decimal, odd number of digits
0
0
0
1
Binary-coded decimal, even number of digits
0
0
1
0
Spare
0
0
1
1
to
1
1
1
1
Numbering plan
H
G
F
E
D
C
B
A
Unknown
0
0
0
0
ISDN/telephony numbering plan
0
0
0
1
Reserved
0
0
1
0
Data numbering plan
0
0
1
1
Telex numbering plan
0
1
0
0
Maritime numbering plan
0
1
0
1
Land mobile numbering plan
0
1
1
0
ISDN/mobile numbering plan
0
1
1
1
The numbering plan identifies the format used for the global title. For example, in the 
United States, telephone numbers use the formula stipulated by the North American 
Numbering Plan. This is classified as the ISDN/telephony numbering plan. Wireless 
networks use the land mobile numbering plan.
The encoding scheme identifies the format used for the digits. Digits are always dis-
played in BCD format (unless the value is unknown). This parameter always must be  
of even length (8-bit multiples) so that an indication of whether the parameter rep-
resents an even or an odd number of digits is provided. In the event that an odd 
number of digits is represented, then the last 4 bits (bits EFGH) are padded with  
all zeros.
*This translation type has already been defined in many networks for 800 number translations. 
However, this number can be used for other network-specific applications. In the event that this 
translation type is being used for something other than 800 number translations, consideration 
toward internetworking should be taken.

498      Chapter 9
Octet eight and beyond
The actual address (which can be dialed digits or any other number) is divided into 4-bit segments 
using BCD numbering. If the address includes an odd number of digits, the last 4 bits of the octet 
are set to all zeros, and the encoding scheme specifies an odd number of digits. 
Address signal
H/D
G/C
F/B
E/A
Digit 0
0
0
0
0
Digit 1
0
0
0
1
Digit 2
0
0
1
0
Digit 3
0
0
1
1
Digit 4
0
1
0
0
Digit 5
0
1
0
1
Digit 6
0
1
1
0
Digit 7
0
1
1
1
Digit 8
1
0
0
0
Digit 9
1
0
0
1
Spare
1
0
1
0
Code 11*
1
0
1
1
Code 12*
1
1
0
0
Spare
1
1
0
1
Spare
1
1
1
0
ST
1
1
1
1
If the global title indicator in the address indicator is equal to 0010, the format is the 
same as previously, except for the absence of the numbering plan and encoding scheme 
parameters.
The address signal provides the first digit in bits ABCD, the second digit in bits 
EFGH, and the third digit in the ABCD bits of the next octet. This pattern is repeated 
for every digit.
The called- and calling-party addresses provide adequate information for receivers 
of all SCCP messages. The originator of a message, providing enough information that 
a response can be returned to the correct signaling point, generates the calling-party 
address.
The calling-party address should include at least the point code and subsystem num-
ber of the originator or the global title if one exists. The objective is to provide enough 
information to identify the originator even after global title translation. If an SCCP 
message is global title translated, then the origination point code may change to that 
of the signaling point providing the global title. However, if the subsystem number of 
the originator and the global title of the originator are provided, then the responses can 
be returned to the true originator of the message.
Credit
0
0
0
0
1
0
0
1
This parameter is a one-octet field, not counting the indicator. Following the 
indicator is a one-octet field indicating the number of messages that may be sent 
*Use of these codes is not fully defined to date and is under further study.

General Description of SCCP Functions      499
without acknowledgment. This parameter is used only with connection-oriented ser-
vices to allow for a sliding window size (flow control).
When an acknowledgment is sent, the sender of the acknowledgment will set the 
credit field to a particular value indicating the number of messages that the origina-
tor may send. This is based on the current status of the signaling point sending the 
acknowledgment.
The originator of the connection then may negotiate for a higher window size if it 
deems it necessary (based on the number of messages it has to send). If no negotiation 
is necessary, then the credit parameter is accepted, and the originator begins sending 
data. An acknowledgment then is expected within the given window size.
The purpose of this parameter is to allow for more flexible flow control. In most proto-
cols, the window size is a preset configuration that may not be changed dynamically ac-
cording to the current status of the node. With this parameter, the protocol may adjust 
its window size using this credit parameter when traffic increases and the signaling 
point needs more control over its resources.
Data
0
0
0
0
1
1
1
1
The data that actually are being carried by SCCP follow this indicator. The data may 
be TCAP or some other protocol. TCAP may be carrying actual application data, as is 
the case with MAP or IS-41. This means that there may be another layer of protocol 
before the actual data.
This should be taken into account when transmitting through the network using the 
services of SCCP and other transport protocols, such as TCAP, because each additional 
protocol will require some of the space in the data field. The maximum size for this 
field is 272 octets.
SCCP management also uses this field to transport management messages. SCCP 
management always will use the unitdata format.
Credit
0
0
0
0
0
0
0
1
Octets one, two, and three. This three-octet field (four, counting the indicator) consists 
of the indicator value and the three-octet number assigned by the destination. This is 
different from the source local reference, which is assigned by the local originator. The 
purpose of this parameter is to identify a connection within a signaling point.
Each entity in a connection assigns a number for reference. There should be a 
source (inbound) and destination (outbound) local reference number. This number 
is used during connection-oriented calls for establishing, maintaining, and releasing  
connections.
The numbers are of local significance only; in other words, they have no meaning to 
other entities other than as the originator of the number. They are included in the mes-
sage so that return messages can reference responses to the numbers.
End of optional parameters
0
0
0
0
0
0
0
0
This parameter is found at the end of every SCCP message that has optional param-
eters. If no optional parameters are used in the message, it is not used.

500      Chapter 9
Error Cause
0
0
0
0
1
1
0
1
Local ref. a mismatch—unassigned destination LRN
0
0
0
0
0
0
0
0
Local ref. a mismatch—inconsistent source LRN
0
0
0
0
0
0
0
1
Point-code mismatch
0
0
0
0
0
0
1
0
Service class mismatch
0
0
0
0
0
0
1
1
Unqualified
0
0
0
0
0
1
0
0
Spare
0
0
0
0
0
1
0
1
to
1
1 
1
1
1
1
1 
1
The error-cause parameter is used only in error messages. The error message is used 
with connection-oriented services. This is returned to the originator of a message that 
was received in error. The error listed is not caused by transmission problems but by 
the originator and represents a protocol error rather than a data error.
Protocol class
0
0
0
0
0
1
0
1
Class indicator
Class 0
0
0
0
0
Class 1
0
0
0
1
Class 2
0
0
1
0
Class 3
0
0
1
1
Message handling (classes 0 and 1 only)
Discard message on error
0
0
0
0
Spare
0
0
0
1
to
0
1
1
1
Return message on error
1
0
0
0
Spare
1
0
0
1
to
1 
1
1
1
The class indicator identifies the types of services to be provided by SCCP. Class 0 is 
basic connectionless service. In basic connectionless service, messages can be delivered 
out of sequence. Most messages use class 0 services on today’s networks.
Class 1 provides sequenced connectionless services. The sequence numbering is pro-
vided through the sequencing/segmenting parameter. MTP has the ultimate respon-
sibility of guaranteeing in-sequence delivery. Using the same route for all sequenced 
messages accomplishes this while not using the bit-rotation scheme for link load shar-
ing. This ensures that all SCCP messages travel the same path, thus guaranteeing in-
sequence delivery.
Messages that must be broken down into smaller messages are segmented and sent 
in multiple SCCP messages. These are then sent using class 1 SCCP. The messages are 
divided into equal lengths so that all SCCP segments are equal in size or as close as 
possible to equal in size.
Class 2 services provide a basic connection-oriented delivery of messages. Basic  
connection-oriented services do not guarantee any specific level of service other than 
establishing a connection and delivering data through the established connection. Once 
the data transmission is complete, the connection is released.

General Description of SCCP Functions      501
Class 3 services add flow control to the connection-oriented function. Flow control al-
lows the starting and stopping of data flow according to resources and their congestion 
status (level 4 resources, not level 3).
Class 4 adds error recovery as well as flow control. Error recovery consists of the 
retransmission of SCCP messages that are received in error. This is also a connection-
oriented service.
U.S. networks do not use any of the connection-oriented services of SCCP. In fact, this 
author does not know of any networks currently using connection-oriented services of 
SCCP.
Receive sequence number
0
0
0
0
0
1
1
1
Spare
0
Sequence number
0
0
0
0
0
0
0
to
1 
1
1
1
1
1
1
This parameter indicates the next expected sequence to be received. It is sent in the 
backward direction to indicate an acknowledgment of received messages. Unlike MTP, 
which uses the backward sequence number as an acknowledgment, this indicates the 
next sequence number that SCCP expects to receive. MTP indicates the last received 
sequence.
Refusal cause
0
0
0
0
1
1
1
0
End user originated
0
0
0
0
0
0
0
0
End user congestion
0
0
0
0
0
0
0
1
End user failure
0
0
0
0
0
0
1
0
SCCP user originated
0
0
0
0
0
0
1
1
Destination address unknown
0
0
0
0
0
1
0
0
Destination inaccessible
0
0
0
0
0
1
0
1
Network resource—QoS available/permanent
0
0
0
0
0
1
1
0
Network resource—QoS not available/transient
0
0
0
0
0
1
1
1
Access failure
0
0
0
0
1
0
0
0
Access congestion
0
0
0
0
1
0
0
1
Subsystem failure
0
0
0
0
1
0
1
0
Subsystem congestion
0
0
0
0
1
0
1
1
Expiration of the connection-establishment timer
0
0
0
0
1
1
1
0
Inconsistent user data
0
0
0
0
1
1
0
1
Not obtainable
0
0
0
0
1
1
1
0
Unqualified
0
0
0
0
1
1
1
1
Spare
0
0
0
1
0
0
0
0
to
1
1
 1
1
1
1 
1
1
The refusal cause parameter is found in the connection-refused message. It indi-
cates the reason that a connection request has been denied. This is used only with the  
connection-oriented class of messages.
The value “Network resource—QoS not available/transient” indicates that the re-
quested QoS could not be provided either on a permanent or a temporary basis.

502      Chapter 9
Release cause
0
0
0
0
1
0
1
0
End user originated
0
0
0
0
0
0
0
0
End user busy
0
0
0
0
0
0
0
1
End user failure
0
0
0
0
0
0
1
0
SCCP user originated
0
0
0
0
0
0
1
1
Remote procedure error
0
0
0
0
0
1
0
0
Inconsistent connection data
0
0
0
0
0
1
0
1
Access failure
0
0
0
0
0
1
1
0
Access congestion
0
0
0
0
0
1
1
1
Subsystem failure
0
0
0
0
1
0
0
0
Subsystem congestion
0
0
0
0
1
0
0
1
Network failure
0
0
0
0
1
0
1
0
Network congestion
0
0
0
0
1
0
1
1
Expiration of reset timer
0
0
0
0
1
1
0
0
Expiration of receive inactivity timer
0
0
0
0
1
1
0
1
Not obtainable
0
0
0
0
1
1
1
0
Unqualified
0
0
0
0
1
1
1
1
Spare
0
0
0
1
0
0
0
0
to
1
1
 1
 1
1
1
1 
1
The release-cause parameter is found in the released message and is used to indicate 
the reason for releasing a specific connection. Keep in mind that these are logical con-
nections and have nothing to do with any voice circuits or any other physical connec-
tions within the PSTN.
The release cause is found only when using connection-oriented services and is used 
only in the released message. All other release or return messages use other specific 
parameters. Although there may be a lot of similarities between these various param-
eters, they serve a significantly different purpose.
The user indicated in the first few cause codes refers to the application entity, which 
may be TCAP or a higher-level user such as MAP.
Reset cause
0
0
0
0
1
1
0
0
End user originated
0
0
0
0
0
0
0
0
SCCP user originated
0
0
0
0
0
0
0
1
Message out of order—incorrect P(s)
0
0
0
0
0
0
1
0
Message out of order—incorrect P(r)
0
0
0
0
0
0
1
1
Remote procedure error—message out of window
0
0
0
0
0
1
0
0
Remote procedure—incorrect P(s) after reinit
0
0
0
0
0
1
0
1
Remote procedure error—general
0
0
0
0
0
1
1
0
Remote end user operational
0
0
0
0
0
1
1
1
Network operational
0
0
0
0
1
0
0
0
Access operational
0
0
0
0
1
0
0
1
Network congestion
0
0
0
0
1
0
1
0
Not obtainable
0
0
0
0
1
0
1
1
Unqualified
0
0
0
0
1
1
0
0
Spare
0
0
0
0
1
1
0
1
to
1
1 
1
 1
1
1
1
1

General Description of SCCP Functions      503
This parameter is found only in the reset request message, which is used for  
connection-oriented services. The parameter provides the reason for requesting the 
reset of a virtual connection. The end user is the application entity, such as the MAP 
that is using the services of SCCP. If the request is successful, the connection is reset, 
and communications are reestablished.
Return cause
0
0
0
0
1
0
1
1
No translation for an address of such nature
0
0
0
0
0
0
0
0
No translation for this specific address
0
0
0
0
0
0
0
1
Subsystem congestion
0
0
0
0
0
0
1
0
Subsystem failure
0
0
0
0
0
0
1
1
Unequipped user
0
0
0
0
0
1
0
0
Network failure
0
0
0
0
0
1
0
1
Network congestion
0
0
0
0
0
1
1
0
Unqualified
0
0
0
0
0
1
1
1
SCCP hop counter violation
0
0
0
0
1
0
0
0
*Error in message transport
0
0
0
0
1
0
0
1
*Error in local processing
0
0
0
0
1
0
1
0
*Destination cannot perform reassembly
0
0
0
0
1
0
1
1
Spare
0
0
0
0
1
1
0
0
to
1
1
1
1
0
1
1 
1
Invalid ISNI routing request
1
1
1
1
0
1
1
1
Invalid ISNI routing request
1
1
1
1
1
0
0
0
Unauthorized message
1
1
1
1
1
0
1
0
*Message incompatibility
1
1
1
1
1
0
1
1
*Cannot perform ISNI constrained routing
1
1
1
1
1
1
0
0
*Redundant ISNI constrained routing information
1
1
1
1
1
1
0
1
*Unable to perform ISNI identification
1
1
1
1
1
1
1
0
Reserved for extension
1
1
1
1
1
1
1
1
This parameter is found only in class 0 and class 1 messages when connectionless 
services are provided. The purpose is to identify the reason that a particular SCCP 
message was returned to the originator.
When an SCCP message is received in error or any one of the preceding events oc-
curs, the original SCCP message is returned with its data to the originator. The UDTS 
or XUDTS message structure is used to return the data and the return cause to the 
message originator. It is then up to the originator to determine a plan of action: either 
retransmit or abandon the transaction.
Segmentation
0
0
0
1
0
0
0
0
Octet one
Remaining segments
H
G
F
E
D
C
B
A
 Last segment
0
0
0
0
 One segment left
0
0
0
1
*Applies only to an XUDTS message.

504      Chapter 9
 Two segments left
0
0
1
0
 Three segments left
0
0
1
1
 Four segments left
0
1
0
0
 Five segments left
0
1
0
1
 Six segments left
0
1
1
0
 Seven segments left
0
1
1
1
 Eight segments left
1
0
0
0
 Nine segments left
1
0
0
1
 Ten segments left
1
0
1
0
 Eleven segments left
1
0
1
1
 Twelve segments left
1
1
0
0
 Thirteen segments left
1
1
0
1
 Fourteen segments left
1
1
1
0
 Fifteen segments left
1
1
1
1
 Spare
0
0
In-sequence delivery option (ISDO)
H
G
F
E
D
C
B
A
 In-sequence delivery
1
 Not in-sequence delivery
0
First bit
 First segment
1
 All other segments
0
The remaining segments parameter identifies how many segments are to follow that 
are associated with this message. This is used whenever the data to be sent by SCCP 
are larger than the 255 octets, and the data are broken into smaller segments for trans-
mission. The segments are as close to equal length as possible.
In addition to the remaining segments parameter, an indicator is provided that  
instructs the originator and any intermediate signaling points whether in-sequence 
delivery is to be used. The first segment is always sent with the first bit parameter  
set to 1.
In-sequence delivery is used with both connection-oriented and connectionless ser-
vices. This parameter is used only with class 1 messages and is part of the extended 
unitdata and the unitdata SCCP messages.
Segmenting/reassembling
0
0
0
0
0
1
1
0
No more data
0
More data
1
Spare
0
0
0
0
0
0
0
This parameter only shows whether additional data or segments are to follow. No 
other information is provided. It is found in the DT1 message only, which is used in a 
connection-oriented data transfer. The remaining 7 bits in this parameter are currently 
reserved for future implementation.
Sequencing/segmenting
0
0
0
0
1
0
0
0
Octet one
Spare
0

General Description of SCCP Functions      505
Sending sequence number—P(s)
0
0
0
0
0
0
0
to
1
1
1
1
1
1
1
Octet two
More data indicator
H
G
F
E
D
C
B
A
 No more data
0
 More data
1
Received sequence number—P(r)
0
0 
0
0
0
0
0
to
1
1
1
1
1
1
1
The first octet of this parameter is used to indicate the sending sequence number. 
This is not the same as what we discussed with the sequence number parameter ear-
lier. This parameter is not used with unitdata messages (connectionless). This param-
eter is used with connection-oriented classes, DT1, and DT2 messages.
The second octet provides the received sequence number, which is the same as an 
acknowledgment. If there is to be another SCCP message carrying additional data 
associated with this particular segment, then the more-data indicator is used. This is 
needed only when the data have been divided among several SCCP segments.
H
G
F
E
D
C
B
A
Intermediate network selection
1
1
1
1
1
0
0
1
Octet one
Mark for identification indicator
Do not identify network
0
Identify network
1
ISNI routing indicator
Neither constrained nor suggested ISNI routing
0
0
Constrained ISNI routing
0
1
Reserved for suggested routing
1
0
Spare
1
1
Reserved for expansion of the IRI field
X
Type indicator
Type zero ISNI parameter format
0
Type one ISNI parameter format
1
Counter
X
X
X
The intermediate network selection (INS) parameter can be used for the routing of 
SCCP messages between specific networks. The network identifier fields are used to 
indicate the network ID and cluster ID as pointers for routing instructions. The SCCP 
message can be directed to these addresses for further addressing and routing. For 
small networks, the network cluster field can be defaulted to all zeroes.


Chapter
10
Overview of TCAP
The Transaction Capabilities Application Part (TCAP) is designed for non-circuit-related 
messages. These messages are destined for database entities as well as actual end-office 
switches. The TCAP protocol provides a means for the reliable transfer of information 
from one application at a switch location to another application within another network 
entity. To understand this, it is probably best to look at some of the actual applications 
and problems that we face in the telephone network today.
The first use of the TCAP protocol was 800 number translation. An 800 number can-
not be routed through the telephone network because the area code 800 does not specify 
any particular exchange. To overcome this problem, the number must be converted into 
a routable number. This requires a database.
The database for 800 numbers provides a routing number that the local office then 
can use to route the call through the Public Switched Telephone Network (PSTN). This 
database usually is centrally located within the service provider’s network. It does not 
make good sense to place this database in too many multiple locations because that 
would make maintenance of the database more difficult.
The problem with centralized databases is providing access to them. All switches in 
the network must be able to access the database and retrieve the routing number for 
the 800 numbers used on their network. To compound the problem, in today’s network, 
all 800 numbers must be routable by all carriers. This means that no matter which tele-
phone company “owns” the 800 number, all other telephone companies must be able to 
access the proper database and retrieve the routing number for that 800 number. This 
is known as a transportable 800 number.
Making 800 numbers transportable also allows subscribers to keep the 800 numbers 
they have had provided by another carrier, even when they change carriers. Prior to the 
transportability ruling, if subscribers changed carriers, they had to surrender their 800 
numbers and obtain new numbers from the new carrier. This is no longer the case.
The TCAP protocol provides the parameters and services to maintain a dialog with 
a database. The protocol contains message types that are used by the service control 
point (SCP) to query a database for specific information. This information is then 
507

508      Chapter 10
carried back to the requesting central-office switch using the same TCAP protocol. In 
short, TCAP messages are designed for accessing either a database or another switch 
and for either retrieving information or invoking features using its parameters and 
message types.
Wireless networks have the same types of needs because they are very dependent on 
databases and the remote control of switch features. The wireless networks have previ-
ously used proprietary networks, prohibiting the capability to access remote databases 
in other networks. It is for this reason that the wireless industry has begun deploying 
Signaling System 7 (SS7).
TCAP provides the mechanism for transferring information from one switch to 
another even if the switches are a substantial distance apart. The information is not 
related to any one circuit [such as in an ISDN User Part (ISUP) message], and the 
information must be transferred through the network using end-to-end signaling.
ISUP messages do not use end-to-end signaling and must follow the same path used 
to establish the circuit connection. This means that the message must be passed along 
from one exchange to another, with intermediate signaling transfer points (STPs) 
through-switching the ISUP messages to the next exchange. This is one of the funda-
mental differences between TCAP and ISUP.
Another difference between the two protocols is the transport used. ISUP uses the 
Message Transfer Part (MTP) for routing messages from one exchange to another. The 
MTP protocol does not support end-to-end signaling, so TCAP must use an additional 
protocol as a transport. The Signaling Connection Control Part (SCCP) protocol is used 
with MTP to route messages end to end.
The SCCP protocol provides the additional controls needed when passing messages 
from end to end. However, MTP also must be used to provide the routing functions from 
one node to the next. The MTP also provides the basic error detection and correction 
needed for a reliable message transfer.
Now that we have identified the mechanism used for through-switching informational 
messages from one exchange to another, we can begin looking at specific applications. 
Many applications exist within the telephone company network. Many of these appli-
cations have not even been developed yet. We will talk about both present and future 
applications.
We have already discussed the use of TCAP for accessing a database (using the 
800 number scenario). Many other databases are used in the telephone network  
besides the 800 database. Every telephone number has records associated with it. 
These records identify who the subscriber is and what types of services the subscriber 
has subscribed to.
These Line Information Databases (LIDBs) belong to the individual telephone com-
panies that provide services to their subscribers. For this discussion, we will use the 
call-forwarding feature as an example. Call forwarding enables subscribers to forward 
their phone calls to other subscriber telephone numbers until the call forwarding  
is canceled. All calls to the subscriber telephone number then are redirected to the 
forwarded number.

Overview of TCAP      509
This feature requires the use of the LIDBs to verify that the subscriber is allowed to 
use the feature. When a subscriber invokes the call-forwarding feature, the information 
about where the call is forwarded to is stored in the end switch. The database is used 
when the feature is accessed (by dialing some sort of feature code). The database veri-
fies that the subscriber is allowed to use the feature.
This is probably the simplest of applications. Let’s look at a more sophisticated func-
tion of TCAP. The TCAP protocol also provides the mechanism to access other remote 
switches and activate features within that switch. The switch must have the feature 
capability already; TCAP only invokes the feature remotely.
Later we talk about a scenario using another feature called automatic callback. In 
this feature, when a subscriber dials a number that is busy, the subscriber can enter 
a feature code and hang up. When the dialed number becomes available, the local 
exchange notifies the caller’s local switch by sending a TCAP message. This TCAP 
message enables the local switch to ring the phone of the caller. The distant switch has 
reserved the called party’s line so that no other phone calls can be routed to it.
When the calling party answers the phone, normal call setup procedures are used to 
establish the connection between the two exchanges. TCAP, in this case, serves as an 
alerting mechanism, sending an informational message (not circuit-related) to another 
entity within the network. This can be extended to many other types of applications 
where remote invocation is an option.
In the wireless network, TCAP has become the solution to roaming. Prior to the  
deployment of SS7 in the wireless network, when wireless subscribers took their phones 
to other areas serviced by other wireless providers, they would have to call ahead and 
obtain roaming numbers. The roaming number was only good for a specific geographic 
area [a regional service area (RSA)].
When the roaming number was dialed, the wireless network immediately knew how 
to route the call because the roaming number could be routed like any other Plain Old 
Telephone Service (POTS) number. The problem was that roaming was not seamless 
and required user intervention.
Some wireless subscribers found themselves having to have two and three numbers 
for their wireless phones depending on where they were. This defeats the purpose of 
having a mobile telephone and was the reason for the seamless roaming.
The missing element was the capability to update the network databases with the 
current location of the wireless telephone subscriber. This information is updated 
every few minutes by the cell site, which sends a message to the mobile switching 
center (MSC) identifying the mobile subscriber and reports the subscriber’s presence. 
An application entity called IS-41 provides procedures for updating databases on the 
status of wireless subscribers. Every wireless subscriber has a home database, called 
the home location register (HLR), that keeps a record of where the wireless subscriber 
is located. This record is what gets updated every few minutes.
TCAP is used to carry these update messages from one database [the visitor location 
register (VLR)] to the subscriber’s HLR. When a call comes in for the subscriber, the 
call is routed to the home regional service area, which then must look at the HLR to 

510      Chapter 10
determine how to connect the call to the subscriber. The HLR then provides the infor-
mation (location and status) so that the PSTN knows how to connect the call.
When the subscriber moves to another area, the TCAP protocol is used once again 
to update the HLR on the new location and cancel the subscriber’s registration in the 
previous RSA. This is completely transparent to the subscriber and allows wireless 
subscribers the freedom to move around the network without ever having to register 
with other service providers. The network keeps track of their locations the entire time 
the wireless phone is activated.
In the Intelligent Network (IN), TCAP is the protocol that will be used to invoke 
features in remote switches. As we discussed earlier with the automatic-callback 
feature, TCAP enables features to be activated and deactivated remotely. In the IN, 
services will be activated and deactivated the same as features.
Services include high-speed data transmission or video circuit connections. TCAP will 
provide access to the database, which will activate these services for the subscriber. As we 
discussed in Chapter 1, subscribers will activate and deactivate these services through a 
terminal located on their premises and connected to the SS7 network via a data link.
TCAP Functionality
The TCAP provides a way for end users in the SS7 network to access other end users 
on a peer-to-peer level. In the SS7 network, end users are seen as applications within 
the network entities.
The SS7 protocol provides a means for database access between signaling points as well 
as access to remote operations. The latter function is somewhat newer to the SS7 protocol 
stack and is slowly finding applications on the network. The Advanced Intelligent Network 
(AIN) will depend heavily on the capability of a signaling point to access another signaling 
point remotely and to invoke an operation or feature within the remote signaling point.
The wireless network also depends today on remote access to other signaling nodes. 
For example, when a wireless switching center needs to hand over control of a call to 
another switching center, signaling information regarding that call must be transferred 
to the remote switching center. SS7 provides the means to accomplish this task. In the 
IN, features such as automatic callback require the capability of an end-office switch to 
send a message to another end-office switch concerning the status of a previously called 
number. SS7 also provides this capability.
The protocol used for these types of transactions is the TCAP. The TCAP protocol 
originally provided database access, yet the intention always has been there to provide 
the facilities within the protocol to invoke remote features and access remote applica-
tions within the signaling network.
Description of TCAP
An application uses an application process to communicate with the other entities in 
the network. The application process then communicates with the TCAP and other 
protocols to transfer the information across the network. The function that enables 

Overview of TCAP      511
applications to communicate with one another is a communications function called the 
application service element (ASE). The TCAP and the Mobile Application Part (MAP) 
are both examples of ASEs (Figure 10.1).
An ASE provides the communications services for applications within any signaling 
point. These communications are peer-level communications. An application process 
acts as the coordinator of network services, such as ISDN call setup and mobile 
services. The application process can be found below the function of applications but 
above the ASE.
An application can use more than one ASE for any one transaction. This is neces-
sary to provide flexibility in the communications function, allowing the addressing 
of multiple entities within one message. Another method of reaching several entities 
within one transaction is the use of subsystem numbers for addressing. The subsystem 
numbers found in the called- and calling-party addresses in SCCP are the addresses of 
applications. By using a subsystem number rather than a point code, the transaction 
message can be sent to multiple signaling points or can even be rerouted by network 
management in the event of a failure.
One of the newest protocols to join TCAP is the MAP. This protocol is found in IS-41 
wireless networks and is used for transporting roaming information and other signal-
ing from one wireless network to another. The TCAP and the MAP protocols are capable 
of transferring information and invoking operations within other entities. This is prob-
ably the most important aspect to understanding that these protocols not only transfer 
Figure 10.1 The ASE provides a communication interface to application entities (AEs) such as the MAP and 
the Operations, Maintenance, and Administration Part (OMAP).
Application Entity
Application Service Elements (ASE)
TCAP
SCCP
MTP
Other

512      Chapter 10
information from one entity to another but also invoke operations (or tasks) within a 
remote entity. An operation may be a particular function within the switching equip-
ment or a database located at an end node.
The TCAP protocol is capable of both invoking an operation and returning the results 
of that operation using the services of the SCCP protocol. SCCP provides the network 
services, whereas the MTP provides the physical layer and data-link layer functional-
ity. An application process is considered a function above layer 7 of the Open Systems 
Interconnection (OSI) model. An example of an application may be the LIDB or OMAP. 
These applications are found in various signaling points depending on the location of 
the signaling point in the network and its function within the network (e.g., STP, gate-
way STP, or translation STP).
In order for an application to send information to and communicate with another 
application at a remote signaling point, a communications protocol must be used. 
This protocol should be able to address the application and invoke an operation or 
task within the application. For example, if a node needs to invoke a CLASS feature 
at a distant node for a call in progress, a message would need to be sent to the distant 
signaling point informing it of the operation needed. The receiving signaling point 
should be given enough information about the call to be able to invoke the specified 
CLASS feature.
The address of the message sent would be of the application providing the operation. 
This address is not an address used within the rest of the network but references only 
the various applications supported within a network. The addressing scheme used for 
these applications is the subsystem number. The subsystem number does not have to 
be known at every node within the network. A global title can be used to route a mes-
sage to the adjacent node of the application, at which point global title translation must 
provide the subsystem number and the point code of the application.
Today only connectionless services (datagrams) are supported. In some cases, a con-
nection with a peer application may be necessary, in which case connection-oriented 
services must be employed to establish a connection with the application and maintain 
the connection until the originating signaling point has completed its transactions.
In the United States, support of connection-oriented services is not yet endorsed. 
Both American National Standards Institute (ANSI) and Bellcore standards mention 
connection-oriented services and even define their functions. Yet no application requir-
ing connection-oriented services has emerged. Connectionless services are supported 
and are what U.S. networks use for communicating between application processes. 
Because datagrams are used for information transfers between applications, some 
sort of reference must be used to associate multiple messages to a single transaction 
and multiple components to a single operation. Two forms of referencing are used: the 
transaction ID and the invoke ID.
A transaction ID is used as a reference within a dialog so that the receiver can  
associate the received message with a transaction in progress. This transaction ID is 
significant only to the local receiver but is sent to the remote as a reference to be used 
in any responses. An invoke ID is used to identify invoke components, which are used to 

Overview of TCAP      513
invoke an operation within the entity. One transaction may consist of several invokes. 
The receiver of an invoke typically is expected to respond with a return result, in which 
case a correlation ID is used to identify which invoke component the result is referencing. 
The correlation ID is a mirror image of the invoke ID.
ASP Services
The Application Service Part (ASP) consists of the layers above the SCCP and below the 
TCAP. It provides the functions of layers 4 through 6 of the OSI model. These functions 
are not presently required in the SS7 network and are under further study; however, 
the International Telecommunications Union–Telecommunication Standardization 
Sector (ITU-TS) and ANSI standards do reference these as viable functions.
The lack of connection-oriented services in today’s network is why the ASP is not 
currently needed. However, as the network matures and new technologies emerge, 
connection-oriented services will become a necessity for certain applications. This will 
force the need for the functions of these middle layers.
TCAP Message Structure
The message units within TCAP are partitioned into three portions: the transaction 
portion, the component portion, and the dialog portion. The transaction portion pro-
vides the information necessary for the signaling point to route the component infor-
mation to its destination. Included in the transaction portion is the transaction ID, 
which is used as a reference for tracking all TCAP messages. The component portion 
gets its information from the operation protocol data unit (OPDU) received from the 
application. The OPDU contains the primitives and parameters necessary to invoke an 
operation or request services from another entity (such as a database query). The dialog 
portion is used to identify the version of the transaction being used. It also provides 
security information if encryption is used on the transaction. The dialog portion is an 
optional field within TCAP.
To fully understand the structure of these primitives, review sections in Chapter 9 that 
discussed about, “Primitives.” This section discusses the use of primitives and interfaces  
between SCCP and MTP. The structure of all primitives is the same throughout the 
layers of SS7. The interface between TCAP and the lower layers of the stack looks  
like this:
P-Unitdata 
Generic Name 
Specific Name 
Parameter
The P indicates the location of the interface. These primitives consist of the same  
generic names described in Chapter 9. The specific names used are described in the 
following paragraphs.
The operation protocol data unit (ODPU) consists of several types of data units. 
Each type indicates the type of service or operation to be invoked by the receiver. 

514      Chapter 10
These OPDUs then are carried through the SS7 network in the form of a TCAP mes-
sage. The component portion of the TCAP message is used to transport these OPDUs 
to their destinations. The following OPDUs are found in TCAP:
■ Invoke
■ Return result 
■ Return error 
■ Reject
The Invoke OPDU is used to request an operation from another application. For 
example, for the MAP to be able to notify a remote MSC to take control of a wireless 
call in progress, an Invoke OPDU must be created from the originating MSC. The 
Invoke OPDU then is used to form a TCAP message that, in turn, is transferred to 
the destination MSC through the SS7 network.
On receipt of the Invoke message, the remote MSC then initiates the operations 
required using the parameters provided in the component portion of the TCAP message. 
The Invoke message may require a return message to indicate successful completion 
of an operation. The Return Result OPDU is used by the destination application to 
indicate successful completion of an operation. This, in turn, creates the appropriate 
TCAP message, with the component portion carrying the Return Result and its 
parameters. If the operation was unsuccessful, a Return Error or Reject OPDU is 
created at the destination MSC and is used to create the TCAP message to be returned 
to the originator of the Invoke message.
TCAP messages contain information elements that are used to convey the informa-
tion being transported to the remote application. These information elements are al-
ways structured the same regardless of their contents. The first field of every informa-
tion element is the tag (referred to as an identifier in ANSI). The tag indicates the type 
of information element being sent and, in doing so, enables the receiver to determine 
how the contents will be interpreted. The tag is one octet and is coded to describe the 
handling of the contents (Figure 10.2).
Following the tag is the length field. The length field indicates the number of octets 
to be found in the contents field. The contents field is the location of the information 
being conveyed. This is not a fixed field, but a variable depending on the type of com-
ponents used.
The contents field consists of one or more components. In the case where more 
than one information element may exist in the contents field, the same structure as  
described previously is used (i.e., tag, length, and contents) for each information element.  
Figure 10.2 Tag class from ITU Q.733.
Tag Class
2 bits
5 bits
1 bit
Tag Code
F

Overview of TCAP      515
However, the length field indicates the length of the individual information element 
rather than the whole information element and all its components. The tag is coded 
with a class, form, and tag code. The tag code may exceed the one-octet length in some 
cases but is usually maintained within the first octet. The structure of a tag is shown 
in Figure 10.2.
Tag Class
The tag class is used to indicate whether this particular information element uses a 
common structure or if the contents are proprietary. This information is used by the 
receiver to determine how the message is to be interpreted and handled. As shown in 
Figure 10.2, the tag class uses bits HG. There are four values in this field:
Universal
0 0
Application-wide
0 1
Context-specific
1 0
Private use
1 1
The universal tag is one that is compliant with ITU-TS Recommendation X.208 
and is used for all types of application entities. Universal tags are compatible with 
other recommendations and can be used with X.400 MHS as well as other ITU-TS 
standards.
Application-wide indicates that the tag can be used with all applications within the 
SS7 standard. These tags do not conform to any other recommendations. Application-
wide tags in the United States refer to the international standardized TCAP.
Context-specific indicates that the context of the received information is determined 
by the preceding component (information element). When more than one component 
is necessary, the first component received indicates how subsequent components are 
to be interpreted (if they carry a tag class of context-specific). The same component 
in a different message may be interpreted differently depending on its use within 
that message. Context-specific is used with components that are part of a series of 
components. These are referred to as constructors, meaning that each component 
builds off another.
The private-use class indicates that the component is specific to a national standard 
(such as ANSI) or a private proprietary standard. ITU-TS recommendations indicate 
that this field is used for national or private use and does not define any of the com-
ponents that use this tag class. The ANSI standards define specific national TCAP 
components not found in ITU-TS that are coded as private class.
Form
An information element may require subsequent information elements or may be a 
single value. The F bit is used to code each information element as either a primitive 

516      Chapter 10
(single value) or constructor (multiple information elements). The values are shown 
as follows:
Primitive
0
Constructor
1
Tag Code
The code indicates the type of information element being sent. This field is expandable 
beyond the 5-bit structure by using extension bits. In the event that an extension is 
needed, the first 5 bits (EDCBA) of the first octet in the identifier are set to 11111. This 
indicates that the tag code is found in the second and subsequent octets. If the second 
octet is extended, bit H is set to 1, indicating an extension. In each subsequent octet, 
bit H indicates whether there is an extension (1) or no extension (0).
In the following discussions, each information element and its contents will be  
described. The coding (national, private, primitive, and so on) will be provided within 
the description.
The TCAP message (Figure 10.3) consists of three parts, as mentioned previously. 
The first part is labeled the transaction portion and provides the information neces-
sary to identify the nature of the transaction. The transaction portion is a mandatory 
field for all TCAP messages. The second part is labeled the dialog portion and is used 
to identify the version of the transaction, as well as security information (in the event 
the transaction is encrypted). This part was added recently to TCAP. The third part is 
labeled the component portion and is the part that contains the contents of the primi-
tives sent down from the various applications. The component portion also contains 
the parameters that identify the specific details of the TCAP message. A dialog is 
maintained by sending a series of components in one or more TCAP messages and 
correlating those that are associated with a specific transaction and operation.
The protocol provides various parameters within the component portion that enable 
it to emulate a logical connection (hence fulfilling the need for connection-oriented ser-
vices without the need for connection-oriented SCCP). Following is a description of all 
the fields within the transaction portion.
Package Type Identifiers
The package type identifier describes the type of transaction being sent (Figure 10.4). 
A transaction may be a one-way transmittal, or it may require a two-way dialog. The 
package type determines these requirements. The following descriptions explain the 
function of each of these package types in a connectionless environment. Connection-
oriented services are discussed separately because these services are not yet imple-
mented in U.S. networks.
The following is a description of each package type identifier and its mandatory  
values. An asterisk in front of a parameter indicates that the field is mandatory but 
may be empty (set to all zeros).

Overview of TCAP      517
Unidirectional
This type of TCAP is sent in one direction only and does not require a return message 
(or response). No transaction identifier is required for unidirectional messages.
Unidirectional messages are used for sending information to an application when a 
transaction does not need to be established. No correlation between multiple components 
Figure 10.4 The package types used in TCAP.
Package Type
Unidirectional
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
1
1
1
1
0
1
1
0
0
1
1
1
0
1
0
1
0
0
Query w/Permission
Query w/out Permission
Conversation w/out Permission
Abort
Conversation w/Permission
Response
H G F E
D C B A
Figure 10.3 The components of a TCAP message.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
SCCP
xxxx  0011
TCAP
Package Type Identifier
Total TCAP Length
Transaction ID Identifier
Transaction ID Length
Transaction Portion
Invoke Component
Parameter Set Sequence
Transaction IDs
Component Sequence Identifier
Component Sequence Length
Component Type Identifier
Component Length
Component ID Identifier
Component ID Length
Component IDs
Operation Code Identifier
Operation Code Length
Operation Code
Parameter Set/Seq Identifier
Parameter Set/Sequence Length
Parameter Identifier
Parameter Length
Parameter

518      Chapter 10
is necessary. The unidirectional TCAP consists of the following fields (an M indicates  
a mandatory field, whereas an O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M)
■ *Transaction identifier (null) (M)
■ *Transaction ID length (null) (M) 
■ Dialog portion (O)
■ Component sequence identifier (M) 
■ Component sequence length (M)
Query with Permission
A Query is used to access information stored within a database. It is also used to initi-
ate the transaction and triggers the assignment of a transaction identifier. If a dialog is 
to take place, a Query will be followed by a Conversation. The dialog allows for informa-
tion to be exchanged between the two applications without impediment.
The receiving signaling point of a Query with Permission is granted permission to 
end a transaction if it deems it necessary. On receipt of a Query with Permission, the 
receiving application must decide whether it wishes to establish a transaction and 
maintain a dialog (using Conversation components). In the event that it does not wish 
to establish a transaction, the Response component is sent. This releases the applica-
tion from any transaction. No transaction ID is established.
If the receiving application does wish to establish a transaction, the Conversation 
component is sent (either with or without permission), and a dialog can be maintained 
between the two applications. When an application needs to enter into a transaction 
with a remote application, and it does not anticipate sending additional components for 
the transaction, a Query with Permission is generated.
The Query with Permission consists of the following fields (an M indicates a mandatory 
field, whereas O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M) 
■ Transaction ID length (M) 
■ Originating transaction ID (M)
■ Dialog portion (O)
■ Component sequence identifier (M) 
■ Comment sequence length (M) 
■ Component sequence (M)

Overview of TCAP      519
Query without Permission
The Query without Permission is identical to the Query with Permission except  
for the permission granted. The receiver of this message is not granted permission to 
end the transaction. This, of course, does not include termination for network man-
agement reasons. As mentioned in the preceding paragraph, ending a transaction is 
accomplished by releasing the transaction ID.
When an application needs to enter into a transaction with a remote application, 
and the originator of the transaction anticipates additional components related to 
the transaction to be sent, a Query with Permission is generated. This prevents the  
remote application from ending the transaction before all the components have  
been received.
The Query without Permission consists of the following mandatory parameters  
(an M indicates a mandatory field, whereas an O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M) 
■ Transaction ID length (M) 
■ Originating transaction ID (M) 
■ Dialog portion (O)
■ Component sequence length (M) 
■ Component sequence identifier (M) 
■ Component sequence (M)
Response
The Response is used to end a TCAP transaction. In the case of a Query, the Response 
is used to return the requested data. In the case of a dialog between two applications, 
the Response is the last transmission sent.
The Response consists of the following parameters (an M indicates a mandatory field, 
whereas O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M)
■ Transaction ID length (M) 
■ Responding transaction ID (M) 
■ Dialog portion (O)
■ Component sequence identifier (M) 

520      Chapter 10
■ Component sequence length (M) 
■ Component sequence (M)
Conversation with Permission
This TCAP message is sent after a Query and is used to carry out a dialog between two 
applications. The package type Conversation continues between the two entities until 
the transaction is complete, at which point a Response is sent by either party.
When the Conversation component is sent, the transaction ID received from the 
originating node is duplicated and placed in the originating transaction ID field. 
Besides the originating transaction ID, the receiving node also creates a transaction ID 
corresponding to the transaction established locally. This transaction ID is significant 
only to the remote application and is placed in the responding transaction ID field.
Once the Conversation component is sent, all subsequent messages must contain one 
of the Conversation components (with or without permission). This component then is 
used to maintain a dialog between the two applications until the transaction is finished 
and one of the applications sends a Response component.
The Permission indicator grants the receiver of this message the ability to end the 
transaction (by releasing the transaction ID). Either party can end the transaction. 
Permission is granted when an application has responded to all components received 
and does not anticipate the need to send further components related to a transaction. In 
essence, the application uses the permission indicator to ensure that the transaction is 
maintained until all the components related to a specific transaction can be sent. This 
prevents the remote application from ending the transaction prematurely.
If an application during a dialog determines the need to gain control over the 
release of a transaction (even if it previously relinquished control), then it may 
send a Conversation without Permission even when it had relinquished control 
previously.
A transaction is ended by an application sending a Response component. The trans-
action can be ended even when permission is not granted in special circumstances 
(resource management intervention, for example). The Conversation with Permission 
consists of the following parameters (an M indicates a mandatory field, whereas O 
indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M) 
■ Transaction ID length (M)
■ Originating transaction ID (M) 
■ Responding transaction ID (M) 
■ Dialog portion (O)

Overview of TCAP      521
■ Component sequence identifier (M)
■ Component sequence length (M) 
■ Component sequence (M) 
Conversation without Permission
This message is the same as the Conversation with Permission except for being able 
to end a transaction. As described previously, this component is sent to prevent the 
remote application from ending a transaction before the originating application has 
completed the transmission of all its components. It consists of the following param-
eters (an M indicates a mandatory field, whereas O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M) 
■ Transaction ID length (M) 
■ Originating transaction ID (M) 
■ Responding transaction ID (M) 
■ Dialog portion (O)
■ Component sequence identifier (M) 
■ Component sequence length (M) 
■ Component sequence (M)
P-Abort
A P-Abort is used when the originating entity must end a transaction. It is important 
to remember that when a transaction is aborted or ended under normal conditions, the 
application is responsible for the action. A transaction can be ended by the protocol or 
by lower layers of the stack in a number of ways. At this level, the TCAP identifies why 
the abort was necessary (as determined by the application) and forwards the reason or 
causes to the remote entity.
The P-Abort consists of the following parameters (an M indicates a mandatory field, 
whereas O indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M)
■ Transaction ID identifier (M) 
■ Transaction ID length (M) 

522      Chapter 10
■ Responding transaction ID (M) 
■ Dialog portion (O)
■ P-Abort cause identifier (M) 
■ P-Abort cause length (M)
■ P-Abort cause (M)
U-Abort
The user abort (U-Abort) is used when the user of TCAP aborts a transaction. It is used 
in the same way as the P-Abort but contains slightly different information. The U-Abort 
consists of the following parameters (an M indicates a mandatory field, whereas O 
indicates an optional field):
■ Package type identifier (M) 
■ Total TCAP message length (M) 
■ Transaction ID identifier (M) 
■ Transaction ID length (M) 
■ Responding transaction ID (M) 
■ Dialog portion (O)
■ U-Abort information identifier (M) 
■ U-Abort information length (M)
■ U-Abort information (M)
Each of the package types identified here contains a number of additional param-
eters (as noted in the preceding descriptions). These parameters contain specific infor-
mation regarding the transaction that is taking place.
These package types are identified in the transaction portion. Following the transac-
tion portion is the dialog portion. The dialog portion contains information regarding 
the version of the transaction and security information if any of the transactions is 
encrypted. The dialog portion is an optional part of TCAP. Following is a listing of each 
of the dialog-portion fields:
■ Protocol version identifier 
■ Protocol version length (O) 
■ Application context identifier (O) 
■ Application context length (O)
■ Application context name (O) 
■ User information identifier (O) 
■ User information length (O) 

Overview of TCAP      523
■ User information (O)
■ Security context identifier (O) 
■ Security context length (O) 
■ Security context (O) 
■ Confidentiality identifier (O) 
■ Confidentiality length (O) 
■ Confidentiality information (O)
The application context fields are used only in unidirectional, query, user abort, and 
the first backward conversation or response TCAP messages.
Following the dialog portion is the component portion, which consists of one or 
more components. The component structures were described earlier as “information  
elements.” Each information element may be a primitive (single value) or a constructor 
(multiple components).
The component types listed consist of the information elements described earlier. An 
identifier is used as a tag for an information element. The parameters for each of these 
fields are described later in this chapter. They are listed here as an introduction to the 
structure of a TCAP message. The following is a listing of each of the component types 
and the fields that are sent with each component. All component fields are mandatory. 
Those with an asterisk indicate mandatory fields that can be empty (all bits set to zero, 
or null). The length indicators provide the number of octets for the fields immediately 
following, not including the length field itself. This and all other fields are explained 
further later in this chapter.
■ Invoke component 
■ Component type identifier 
■ Component length
■ *Component ID identifier
■ *Component ID length
■ *Component IDs 
■ Operation code identifier 
■ Operation code length 
■ Operation code
■ *Parameter set/sequence identifier
■ *Parameter set/sequence length
■ *Parameter set/sequence 
■ Return Result component 
■ Component type identifier 

524      Chapter 10
■ Component length
■ *Component ID identifier
■ *Component ID length
■ *Component IDs
■ *Parameter set/sequence identifier
■ *Parameter set/sequence length
■ *Parameter set/sequence 
■ Return Error component 
■ Component type identifier 
■ Component length
■ *Component ID identifier
■ *Component ID length
■ *Component IDs 
■ Error code identifier 
■ Error code length 
■ Error code
■ *Parameter set/sequence identifier
■ *Parameter set/sequence length
■ *Parameter set/sequence 
■ Reject component 
■ Component type identifier 
■ Component length
■ *Component ID identifier
■ *Component ID length
■ *Component IDs 
■ Problem code identifier 
■ Problem code length 
■ Problem code
■ *Parameter set/sequence identifier
■ *Parameter set/sequence length
■ *Parameter set/sequence
Again, the two portions of the TCAP message are used in different ways. The trans-
action portion is used by the receiver of the message to determine which transaction 

Overview of TCAP      525
this message is associated with (if one is in progress) or to begin a new transaction. 
The component portion is used by the receiver to invoke an operation at a remote  
application. The component portion may consist of one or more information elements 
that provide a sequence of operations to be performed. Each of these information  
elements can be correlated through a correlation ID, which is used to associate multiple 
components to an operation.
Connectionless TCAP Functionality
The connectionless services deployed in today’s networks provide for some connection-
oriented emulation. However, procedures have been defined for connection-oriented 
services in both the ANSI and Bellcore standards. This indicates that there may come 
a day when TCAP and SCCP will need to support full connection-oriented services.
Three levels of identification are provided for transactions and their operations. The 
first and highest level of reference is the transaction ID. The transaction ID is used 
when multiple transactions are sent to an application to correlate the received transac-
tion with other transactions already in progress. However, within a transaction may be 
components related to multiple operations.
The correlation ID is used to correlate multiple components to a component already 
received. The receiver of a TCAP transaction associates the transaction ID with an ear-
lier transaction and then correlates the various components with operations already in 
progress based on the correlation ID. It is also the correlation ID that keeps multiple 
components associated with one another.
When an Invoke component is sent, it may or may not require a response. The 
response sent must reference the Invoke it is associated with. This is done through 
the invoke ID, which is then mirrored in the Return Result component’s correlation 
ID. When a component is responding to an Invoke component, it also must be deter-
mined whether this is the last component or if additional components will be sent as 
a response. This is determined by the TCAP function using the Invoke (last/not last) 
and Return Result (last/not last) components.
You cannot have multiple operations using the same invoke ID. The invoke ID can-
not be reassigned until all the components expected have been received and all Return 
Results have been sent. The application then will inform the application process of the 
end the transaction, which releases all transaction IDs, correlation IDs, and invoke IDs 
associated with the transaction.
The application process provides the necessary data to TCAP for invoking an opera-
tion. When an Invoke is requested, the components and their parameters are provided 
to TCAP for inclusion in an Invoke message. There may be more than one transaction 
at one time, and each transaction may have multiple operations running concurrently. 
TCAP must be able to address these operations individually and as a group.
TCAP can send multiple components and address multiple operations in one TCAP 
transaction. This means that a single TCAP message may contain information for several 
operations that are not associated. The use of the correlation ID and transaction ID keeps 
the various parameters straight within a TCAP transaction.

526      Chapter 10
Handover Procedures
An application can request the application process to send a component or multiple 
components to another remote application entity for processing. When this occurs, a 
handover must be generated by TCAP. The handover may be temporary or permanent. 
The purpose of the handover is to send the information required of the remote applica-
tion in order to perform the operations being requested of it. A single component may be 
all that is required, or several components may be required. In the case of a temporary 
handover, any responses by the new application are sent to the application that initi-
ated the handover.
When a permanent handover occurs, the new application can be directed to send all 
responses directly to the originating application. In essence, the application is directed 
to assume control of the transactions and operations being requested. The application 
does not have any knowledge of the application that requested the handover. All trans-
actions are treated as if they were addressed directly to the application.
The information required of the application is provided in an Invoke compo-
nent, which possesses the handover operation parameter. For example, if a dialog 
is in progress between applications A and B, with application B being the remote  
application and application A being the originating application, application B would 
send an Invoke component to application C with the temporary handover operation. 
Besides the temporary handover operation, the transaction ID of application B, the 
SCCP calling-party address of application B, and the package type that application 
C should use in its messages to application A are all provided as parameters of the 
Invoke component.
Recovery Procedures
In the event that an error occurs, TCAP invokes one of three levels of recovery 
procedures. The three levels of recovery correspond directly with the three types of 
errors that could occur. Errors can be classified as protocol errors, application errors, 
and end-user errors. Application errors are detected first, then application errors, and 
then end-user errors.
TCAP defines only the procedures used to recover from errors between TCAP and 
the application process. Any error procedures within the application process or the  
application are implementation-dependent and beyond the scope of the SS7 standards. 
TCAP is responsible for reporting an error to the application process, which, in turn, 
will report it to the application that determines the correct recovery procedure if the 
error is at the application level.
Protocol Errors
Protocol errors involve incorrect TCAP messages. Incorrect means that the TCAP mes-
sage contained package types or components that are invalid (or unrecognized), called 
for an operation that the application process did not recognize, or referenced a transac-
tion ID or correlation ID that was not in progress.

Overview of TCAP      527
Protocol errors can be detected by TCAP or the application process. Such an error 
is reported to the remote application process using the Reject component. The Reject 
component also must provide the type of error (cause). This is sent to the remote  
application process, which then is responsible for recovering from the error.
These types of errors are different from other protocol errors in the way recovery is 
invoked. In most protocols, when an error is detected by a remote entity, the remote 
entity discards the erred packet and requests a retransmission. In TCAP, the erred 
packet is still discarded, but a Return Result is sent back to the originator to inform 
him or her about why the packet was rejected. It is then up to the originator of the erred 
message to determine if retransmission is necessary. If the application process decides 
to retransmit, the message is resent as if for the first time.
Application Errors
Application errors are errors involving the application process and indicate a violation 
of the application process procedures. These errors also can indicate common resources 
(such as recordings) that are unavailable.
An unexpected sequence of components and an unexpected data value are also 
types of errors that occur at the application process level. These errors mean that the 
application process was expecting components in an order different from how they 
were received (in comparison with a script or some other program). An unexpected 
data value means that data were received that do not match what should have been 
received for the received component.
A missing customer record and overdue reply are also listed as possible causes of  
application errors. These errors are reported using the Return Error component.
End-User Abnormalities
These errors are found last by the application process and indicate an error caused 
by the end user of the application. Two causes cited in the ANSI standard are caller 
abandonment and improper call response. Caller abandonment indicates that a caller 
hung up before the transaction could be completed. This does not necessarily mean that 
an error occurred but that the transaction could not be completed as normal. Improper 
caller response indicates that a caller did not dial the proper information during a call 
where callers are asked by a recording to input some form of information (such as the 
calling-card number when billing a call to a calling card).
Reject Component
The Reject component reports many of these errors. In the Reject component, the type 
of problem is identified, and the problem itself also is identified. The type of problem 
is divided into categories that correspond to the various portions of the TCAP mes-
sage structure. Errors are identified as transaction portion, general, Invoke component, 
Return Result component, or Return Error component.

528      Chapter 10
Errors in the transaction portion are identity errors occurring within the transaction 
portion of the TCAP message. These include the package type and transaction ID. The 
errors are reported using the Reject component, and they report errors in the transac-
tion portion of the message.
The types of errors that can occur in the transaction portion include an unrecognized 
package type, a badly structured transaction portion, an unrecognized transaction ID, 
a permission-release problem, or an unavailable resource. Unknown package types 
indicate that a package type was indicated but is not defined as received in the signaling 
network. In the case of an international network, this would indicate that a package 
type is not defined in the ITU-TS standards. The package type is the parameter that 
identifies what type of TCAP message is being sent and is used by the receiver to 
determine how to handle the received message.
A badly structured transaction portion indicates a problem with the encoding of the 
message. For example, the length may not be as indicated or may be in conflict with the 
expected length for the indicated package type. The total TCAP message length is used 
to indicate the length of the entire TCAP message.
An unrecognized transaction ID indicates that the transaction ID indicated in the 
message is not currently in progress. Either the transaction has been ended and the 
transaction ID released or the message has an incorrect transaction ID. The receiver 
of this message is responding to a previous Invoke or Conversation component that 
provided the transaction ID of the originator. This message also could indicate that the 
originating Invoke component may have had an incorrect originating transaction ID, 
which is mirrored and returned with any responses.
A permission-to-release problem is an error currently under study that is not presently 
defined. The only mention of this error is in the ANSI T1.114 standard. It does not 
appear in the Bellcore TR-NWT-000246 publication.
When applications require other resources, such as recordings, there may come an 
instance when those resources are not available. When this happens, the operation 
being requested is rejected. The originating application then can determine whether 
to try again later.
General problems are related to problems recognizing the component portion, or they 
indicate some problem with the component portion. This includes an unrecognized com-
ponent type, an incorrect component portion, or a badly structured component portion. 
In all these cases, the component portion cannot be recognized and is rejected. These 
errors are not related to problems with the various components inside the component 
portion. These errors indicate a problem with the entire component portion itself.
Along with problems in the component portion, errors may occur within each com-
ponent. The protocol is capable of reporting errors related to specific component types. 
Error reports for Invoke components, Return Result components, and Return Error 
components can be generated when a problem is detected with the component itself. 
A problem with one component does not reflect a problem with the entire transaction, 
only with the specified component. Therefore, the rest of the components that may  
exist within the component portion may be processed without error unless they are all 
associated with the same operation, in which case the whole transaction is affected.

Overview of TCAP      529
Invoke component errors include the receipt of duplicate invoke IDs, unrecognized 
operation codes, incorrect parameters, or unrecognized correlation IDs. Duplicate 
invoke IDs and correlation IDs indicate that these numbers already have been assigned 
for an operation or transaction already in progress and cannot be reused until they are 
released. An unrecognized operation code indicates that the received operation code 
is not presently defined, and an incorrect parameter indicates that a parameter other 
than what was expected was received.
Three types of errors are related to the Return Result component. When a component is 
received with a correlation ID that is not recognized (because it does not match any trans-
actions in progress), an error is returned as an unrecognized correlation ID. An Invoke 
component that was not successful may result in the return of a result that is not expected 
(other than a success indication). In this event, an unexpected return result error is gener-
ated. If a parameter is undefined or unexpected (it does not match what should have been 
received for the type of component), an error of incorrect parameter is returned.
Errors related to the Return Error component include unrecognized correlation IDs, 
unexpected return errors, unrecognized errors, unexpected errors, and incorrect param-
eters. An unrecognized correlation ID indicates that the correlation ID received does 
not match any operation presently in progress.
An unexpected return error occurs when a Return Error component is received that 
does not report a failure of the invoked operation. A return error also may contain an 
unrecognized error, which is one not defined by the application process. If the returned 
error is not applicable to the invoked operation, then it is marked as unexpected. An 
incorrect parameter or unexpected parameter also will generate an error.
Return Error Component
This component is used to report a failure of an operation. It is also possible for this compo-
nent to report the success or the failure of an operation. At any rate, the operation fails.
Included in this component are the error that occurred and the application process 
that was in error. If an invoke ID or a correlation ID was provided in either the Invoke 
component or the Return Result component, then it also is reflected in the Return 
Error component.
Return Result Component
This component reports the success of an operation. It also reports any end-user errors 
that may have occurred. The successful operation is identified, as well as parameters 
that identify the end-user error.
An end-user error does not necessarily cause an operation to fail. The invoked opera-
tion may be successful but may have caused a problem within the application entity. 
This would cause the Return Result to report the end-user failure.
Problems relating to the transaction portion of the TCAP message follow a different 
procedure. Since the transaction portion is what the receiver uses to determine the 
handling of a received TCAP, any errors result in the application process not knowing 

530      Chapter 10
how to handle the message. The usual procedure in this case is to discard the message. 
There are instances, however, when this is not favorable. Whenever enough information 
can be obtained from the message, some sort of error report should be returned to the 
user, indicating the type of error. The Abort component is used to report such errors.
The Abort component is used whenever any type of component is received where 
either the originating and/or responding transaction ID can be derived from the mes-
sage. In all other instances, the TCAP is discarded, with no report to the user. Without 
the transaction ID, any report to the user would be fruitless.
Definition of TCAP Parameters
The preceding section described the various functions of the TCAP message and its 
components. This section identifies the values of these components and their param-
eters. The values given are derived from Bellcore Publication TR-NWT-000246, Issue 2, 
Revision 2, December 1992.
Transaction Portion
The transaction portion (Figure 10.5) identifies whether or not the component portion 
consists of a single transaction or multiple transactions, and it alerts the receiving 
Figure 10.5 The components of the transaction portion.
FCS
SIO
LI
FIB FSN BIB BSN FLAG
SIF
Routing Label
SCCP
xxxx  0011
TCAP
Package Type Identifier
Total TCAP Length
Transaction ID Identifier
Transaction ID Length
Transaction Portion
Invoke Component
Parameter Set Sequence
Transaction IDs
Component Sequence Identifier
Component Sequence Length
Component Type Identifier
Component Length
Component ID Identifier
Component ID Length
Component IDs
Operation Code Identifier
Operation Code Length
Operation Code
Parameter Set/Seq Identifier
Parameter Set/Sequence Length
Parameter Identifier
Parameter Length
Parameter

Overview of TCAP      531
application as to how to handle the message. Important to the receiver is the type of 
structure used within TCAP. This is determined by the package type. Also significant 
is the length of the TCAP message in its entirety.
The transaction portion provides the necessary data for the receiver to be able to 
determine the nature of the message and its relation to any existing transactions in 
progress. The following are the package types and their bit values used in the transac-
tion portion to identify the type of TCAP message being presented.
Package Type Identifiers 
H 
G 
F 
E 
D 
C 
B 
A
Unidirectional 
1 
1 
1 
0 
0 
0 
0 
1
Query with Permission 
1 
1 
1 
0 
0 
0 
1 
0
Query without Permission 
1 
1 
1 
0 
0 
0 
1 
1
Response 
1 
1 
1 
0 
0 
1 
0 
0
Conversation with Permission 
1 
1 
1 
0 
0 
1 
0 
1
Conversation without Permission 
1 
1 
1 
0 
0 
1 
1 
0
Abort 
1 
1 
0 
1 
0 
1 
1 
0
Total TCAP Message Length This indicates the total length of the TCAP message  
(including all components and parameters). Within each component in the component 
message is a length indicator to indicate the length of that individual component. All 
variable parameters also include length indicators.
Transaction ID Identifier (11000111) This indicates that a transaction ID is present and 
will follow this field. It is coded as national and primitive (refer to the discussion in 
the preceding section describing the encoding used for national and international mes-
sages). As mentioned in the discussion at the beginning of this chapter, the transaction 
ID is of local significance only. This identifier only suggests the presence of the transac-
tion ID and does not represent the ID itself.
Transaction ID Length This indicates the length of the transaction ID, including both 
the originating and responding transaction IDs, if applicable. If the package type 
is unidirectional, the length will be equal to zero. Only the unidirectional package 
type will have a length of zero because a transaction ID is not assigned to this 
package type.
If the package type is one that contains only the originating transaction ID, the 
length will be equal to four octets. The originating ID is sent to the remote application 
to be used as a reference in any response.
If the remote application is sending a component that will require a response of 
some nature, then the originating transaction ID and a response ID will be sent. The 
originating transaction ID is sent to associate the response to the transaction of the 
originator. The response transaction ID is sent to be used by the originator when it 
sends a response back to the remote application. These dual transaction IDs occur 
when there is a dialog between two applications, and Invoke components are sent from 
one entity to another.

532      Chapter 10
Transaction IDs The number of transaction IDs given depends on the package type. 
The following indicates when multiple transaction IDs are provided:
Package Type 
Originating ID 
Responding ID
Unidirectional 
No 
No Query with Permission
 
Yes 
No Query without Permission
 
Yes 
No Response
 
No 
Yes Conversation with Permission
 
Yes 
Yes Conversation without Permission
 
Yes 
Yes Abort
 
No 
Yes
Originating Transaction ID This identifies the transaction ID assigned by the originator 
of the message. The length is four octets, and it is the first field when multiple trans-
action IDs are presented. As described previously, this is sent by the originator to the 
remote application to be used as a reference in any responses.
Responding Transaction ID This identifies the transaction ID generated by the respond-
ing application. This is independent of the originating transaction ID and is significant 
to the responding application only. This field is used when the responding application 
expects a response from the originator of an Invoke operation component. This is a four-
octet field and follows the originating transaction ID.
P-Abort Cause Identifier (11010111) This identifier indicates that the Abort cause 
value follows. This identifier is coded as national and primitive. An Abort cause is 
sent when a transaction is aborted before it had time to get completed. An Abort, as 
described earlier, indicates a problem within the application entity rather than a 
protocol error.
P-Abort Cause Length The length does not include this field and the identifier field; 
it includes only the cause field. The cause field is always one octet in length; thus this 
field will always carry a value of one octet.
P-Abort Cause 
H 
G 
F 
E 
D 
C 
B 
A
Unrecognized package type 
0 
0 
0 
0 
0 
0 
0 
0
Incorrect transaction portion 
0 
0 
0 
0 
0 
0 
0 
1
Badly structured transaction portion 
0 
0 
0 
0 
0 
0 
1 
0
Unrecognized transaction ID 
0 
0 
0 
0 
0 
0 
1 
1
Permission to release problem 
0 
0 
0 
0 
0 
1 
0 
0
Resource unavailable 
0 
0 
0 
0 
0 
1 
0 
1
The cause code informs the receiver of an abort and what caused the application 
process at the remote end to suddenly abort a transaction in progress. An unrecognized 

Overview of TCAP      533
package type indicates that the package type received is not currently defined at that 
application entity.
An incorrect transaction portion indicates that an identifier in the transaction por-
tion was unexpected (not what should have been received in comparison with the rest 
of the transaction portion and the transaction in progress).
A badly structured transaction portion indicates that there is a problem with the 
encoding of the transaction portion. This could mean that the transaction portion is not 
of the correct length for the indicated identifiers or that there are missing fields.
An unrecognized transaction ID occurs when a TCAP is received with a transaction 
ID that does not reflect a transaction currently in progress. The receiving application 
does not know to which transaction and operations to associate the message; therefore, 
it will abort the transaction and return the cause to the sender.
The cause permission to release problem is not currently defined and can be used for 
further study. The last cause code, resource unavailable, is returned when a transaction 
is aborted because the resources necessary to perform the operations specified (such as 
recordings or databases) are not available.
User Abort Information Identifier (11011000) The identifier indicates that the user abort 
information field is to follow. This identifier is coded as national and primitive. A user 
can initiate an abort when an unexpected event occurs, such as when the caller hangs 
up before the transaction can be completed. The user in this message is not the calling 
or called party but an application entity.
User Abort Information Length The length does not include this field and the identi-
fier field; it includes only the user abort information field. The information field is  
a variable field.
User Abort Information This variable field is used by TCAP to provide information 
regarding a user abort. The user abort indicates the reason why a user (application) 
aborted a transaction before it could be completed. The abort codes are not defined 
in ANSI or Bellcore because these are implementation-specific codes defined by the 
various manufacturers.
Component Sequence Identifier (11101000) This field is used to notify the receiver that 
a sequence of components will follow this field. This identifier is coded as national 
and constructor. The component sequence identifier does not identify how many com-
ponents are to follow, only that they will follow. This is really used as a header to the 
component portion, and all TCAP messages will contain this identifier.
Component Sequence Length The length of the entire component portion is indi-
cated in this field. The length does not include the length field itself or the identifier  
before it.

534      Chapter 10
Dialog Portion
The dialog portion is an optional part of TCAP. It contains information regarding 
security, encryption, and the protocol version of the data contained in the user part of 
TCAP. The following are the parameters of the dialog portion:
Dialog Portion 
H 
G 
F 
E 
D 
C 
B 
A
Dialog portion 
1 
1 
1 
1 
1 
0 
0 
1
Protocol version 
1 
1 
0 
1 
1 
0 
1 
0
Integer application context 
1 
1 
0 
1 
1 
0 
1 
1
Object identifier application context 
1 
1 
0 
1 
1 
1 
0 
0
User information 
1 
1 
1 
0 
1 
0 
0 
0
Integer security context 
1 
0 
0 
0 
0 
0 
0 
0
Object identifier security context 
1 
0 
0 
0 
0 
0 
0 
1
Confidentiality 
1 
0 
1 
0 
0 
0 
1 
0
Integer confidentiality algorithm 
1 
0 
0 
0 
0 
0 
0 
0
Object identifier
confidentiality algorithm 
1 
0 
0 
0 
1 
0 
0 
1
The dialog portion identifier indicates that a dialog portion is included in the TCAP 
message. This is an optional field used when the user data contained in the TCAP mes-
sage is secure data. Following the dialog portion identifier is the dialog portion length 
field. This provides the length (in octets) of the entire dialog portion of the TCAP message, 
not including this length field or the dialog portion identifier.
The protocol version identifier indicates that the protocol version follows. The protocol 
version length indicates the length of just the protocol version part of the dialog portion. 
The protocol version field indicates which version of the T1.114 protocol is being sent in 
the TCAP message. This enables nodes to determine which TCAP version of the T1.114 
protocol is being sent in the TCAP message. This also enables nodes to determine which 
TCAP version (e.g., ANSI T1.114, 1997) is being used to encode the SS7 message.
The application context identifier indicates that an application context name follows. 
This is used by the applications at the receiving nodes. It is accompanied by user data 
in the user information fields of the dialog portion. The identifier is followed by the 
application context length, which provides the length of the application context name 
only. The user information identifier indicates that user information is provided in the 
dialog portion. The user information length follows, indicating the length of the user 
information portion only, not counting the user information identifier or the length 
fields. The security context identifier indicates that security information is contained in 
the dialog portion. It is followed by the security context length field. The security context 
provides information regarding the encryption of user information when encryption is 
used. This enables the secure transmission of user information when TCAP is being 
used to access databases that may have sensitive data.
The last part of the dialog portion is the confidentiality fields. The confidentiality 
identifier indicates that a confidentiality algorithm follows, after the confidentiality 
length field.

Overview of TCAP      535
Component Portion
The component portion contains one or more components and their associated parameters. 
These components are used to invoke operations and return results to the invoking 
application. A component may consist of the component itself, which indicates how the 
receiver will respond (if any response is necessary), the operation to be performed (optional), 
and any required parameters to be used when invoking the specified operation.
Components always will have an identifier, length field, and contents, which specify what 
the component is asking of the receiver. Their values and descriptions are as follows:
Component Type Identifier 
H 
G 
F 
E 
D 
C 
B 
A
Invoke (last) 
1 
1 
1 
0 
1 
0 
0 
1
Return Result (last) 
1 
1 
1 
0 
1 
0 
1 
0
Return Error 
1 
1 
1 
0 
1 
0 
1 
1
Reject 
1 
1 
1 
0 
1 
1 
0 
0
Invoke (not last) 
1 
1 
1 
0 
1 
1 
0 
1
Return Result (not last) 
1 
1 
1 
0 
1 
1 
1 
0
An Invoke (last) is used to invoke an operation at a remote application entity.  
For example, if a signaling point wanted to invoke some feature (operation) at another 
remote signaling point, a TCAP with an Invoke component would be sent to the remote 
signaling point, which then would act on the Invoke request accordingly. The indication 
last means that there are no more Invoke components for this transaction.
The Invoke (not last) is the same as just described, with the exception of the not last 
indicator, which alerts the receiver that additional Invokes are to be sent in relation to 
this transaction.
The Return Result (last) is used to return the results of an invoked operation.  
Not all operations require the Return Result to be sent. The indicator last means that 
additional results will be sent in response to the specified Invoke and transaction. 
These are usually accompanied by a correlation ID, which is used to associate the 
Return Result with an earlier Invoke component.
Return Error components are used to return an error code in the event of an opera-
tional error. An operational error is one that occurs at the application level and does 
not necessarily indicate a protocol problem.
The Reject component indicates a problem with protocol and means that the compo-
nent was rejected because of an incorrect component portion in an earlier Invoke.
Component Length The length field identifies how many octets are left in the compo-
nent. This field and the identifier are not included in the length. There may be multiple 
components in one component portion; each component includes a component length 
field. This is not the length of the entire component portion (as in the transaction  
portion). This is only the length for this component (in which it is carried).
Component ID Identifier (11001111) This field indicates that a component has an invoke 
ID and, possibly, a correlation ID. As mentioned earlier, these IDs are of local significance 

536      Chapter 10
only and are sent so that Return Result can be correlated with an earlier Invoke request. 
The invoke ID is assigned by the originator of an Invoke and requires that any Return 
Result will require a correlation ID. The correlation ID is the same as the invoke ID and 
is returned within the Return Result so that the originator of an Invoke can correlate 
returns with their respective invokes.
Component ID Length The length field indicates the total length of the component ID 
field only. The ID length may be zero (unidirectional only), four (invoke ID only), or 
eight octets in length (both invoke ID and correlation ID provided). A Return Result 
can have only a correlation ID; therefore, the length for a Return Result always will be 
four octets. The same is true for Return Error and Reject. As shown in the table below, 
only the Invoke can carry both an invoke ID and a correlation ID.
Component IDs The component may have an invoke ID and a correlation ID based on 
the following criteria. These IDs are used to associate multiple components with opera-
tions and transactions already in progress.
Component Type 
Invoke ID 
Correlation ID
Invoke 
Optional 
Yes 
Return Result 
No 
Yes 
Return Error 
No 
Yes
Reject 
No 
Yes
Invoke ID The invoke ID is a one-octet identifier assigned to a component that is invok-
ing an operation. This is an optional field and is of local significance only.
Correlation ID The correlation ID is used whenever a component is responding to 
another component. If responding to a component that contained an invoke ID, the 
correlation ID is mandatory. The correlation ID is a mirror image of an invoke ID and 
is used as a reference for associated invoke IDs with previous invokes.
Operation Code Identifier 
H 
G 
F 
E 
D 
C 
B 
A
National TCAP 
1 
1 
0 
1 
0 
0 
0 
0
Private TCAP 
1 
1 
0 
1 
0 
0 
0 
1
National TCAP operation codes are defined in both ANSI and Bellcore standards. 
These are TCAP messages that must be common in all systems interworking with  
Bell Operating Company (BOC) networks and other ANSI networks.
Private TCAP operation codes are of significance only to private networks and are 
not compatible with any networks that interwork. Private networks cannot be con-
nected to the Public Switched Telephone Network (PSTN) because the message types 
will conflict with national standards.
Operation Code Length The length field identifies the length of the operation code field 
only and does not include itself or the identifier field. If the operation code is national 

Overview of TCAP      537
TCAP, the length will be two octets. If the operation code is private TCAP, there is no 
limitation on the length.
Operation Codes
The operation codes are implementation-specific and are used by the application entities as 
instructions on how to carry out the component action. TCAP as a protocol does not interact 
with the operations; it only delivers them to the appropriate application process.
Operation codes may vary from network to network because they are very network-
dependent. This subsection identifies the operation codes used within Bellcore networks 
as identified in Bellcore Publication TR-NWT-000246, T1.114.5, Issue 2, Revision 3, 
December 1992. The EIA/TIA also has specified operation codes for use in the wireless 
network. The operation codes used in a wireless network provide a means for mobile 
switching centers to pass information from one to another as well as to invoke operations 
at remote MSCs.
The operation code is a two-octet field divided into the operation family and the 
operation specifier. The operation family is a 7-bit field (bits A–G) and identifies the group 
or category related to this operation. Bit H indicates whether a response is expected.
The second octet of the operation code consists of the operation specifier, which is 
used to identify the operation being requested. The specifier is the specific instruction 
being asked of the application.
Operation Families 
G 
F 
E 
D 
C 
B 
A
Parameter 
0 
0 
0 
0 
0 
0 
1
Charging 
0 
0 
0 
0 
0 
1 
0
Provide instructions 
0 
0 
0 
0 
0 
1 
1
Connection control 
0 
0 
0 
0 
1 
0 
0
Caller interaction 
0 
0 
0 
0 
1 
0 
1
Send notification 
0 
0 
0 
0 
1 
1 
0
Network management 
0 
0 
0 
0 
1 
1 
1
Procedural 
0 
0 
0 
1 
0 
0 
0
Operation control 
0 
0 
0 
1 
0 
0 
1
Report event 
0 
0 
0 
1 
0 
1 
0
Miscellaneous 
1 
1 
1 
1 
1 
1 
0
The operation family does not provide enough information for the application to 
process the operation. This only serves as a category for the operation code. As you 
will notice in the rest of this subsection, the operation codes themselves are not all 
unique codes. They each use an ascending order beginning with the binary value 
0000 0001. The operation family field then becomes the delimiter between the various 
operation codes.
Parameter 
H 
G 
F 
E 
D 
C 
B 
A
Provide value 
0 
0 
0 
0 
0 
0 
0 
1
Set value 
0 
0 
0 
0 
0 
0 
1 
0

538      Chapter 10
The parameter family provides instructions on how to use the parameters 
accompanying this parameter. There are two options: provide value and set value. 
The provide value indicator instructs the receiver to provide the requested value for 
the given parameter. The parameter portion of the TCAP message contains the actual 
parameter to which this operation refers.
The option set value instructs the receiver to set the value for the given parameter. 
This is for further study and has not yet been implemented. One example of how this 
operation code may be used is in the case where a signaling point has control of a call 
but does not have the necessary resources available to continue processing (such as 
recordings). A temporary handover procedure is invoked, and the provide value indica-
tor shown here could be included in the parameters sent to the remote application to 
indicate the need for resources.
Charging 
H 
G 
F 
E 
D 
C 
B 
A
Bill call 
0 
0 
0 
0 
0 
0 
0 
1
Presently, there is only one option for this operation code. The bill call option is used 
to notify the receiving application that a billing record is to be created for the calling 
party indicated in the parameters.
Provide Instructions 
H 
G 
F 
E 
D 
C 
B 
A
Start 
0 
0 
0 
0 
0 
0 
0 
1
Assist 
0 
0 
0 
0 
0 
0 
1 
0
This operation code is used to request instructions during an assist procedure. The start 
option is for further study, whereas the assist option indicates that the assist procedure 
has been requested and the receiver of an assist is asking the sender for instructions.
Connection Control 
H 
G 
F 
E 
D 
C 
B 
A
Connect 
0 
0 
0 
0 
0 
0 
0 
1
Temporary connect 
0 
0 
0 
0 
0 
0 
1 
0
Disconnect 
0 
0 
0 
0 
0 
0 
1 
1
Forward disconnect 
0 
0 
0 
0 
0 
1 
0 
0
The four codes used in this operation are grouped into associated pairs. The connect 
and disconnect are related and will require further study. When a connect is issued, the 
disconnect is used to terminate the connection. The temporary connect is used when 
an error is encountered and a connection to another database for the completion of 
processing is required. The temporary connect operation also must be accompanied by 
parameters providing the subsystem number of the database, the routing number of 
the exchange to which a connection is being requested, and a reference number for the 
correlation of transactions between the database and the requesting exchange. When 
the temporary connect is received, the receiving entity knows that the forward discon-
nect will follow. The forward disconnect is used to terminate a temporary connection.

Overview of TCAP      539
Caller Interaction 
H 
G 
F 
E 
D 
C 
B 
A
Play announcement 
0 
0 
0 
0 
0 
0 
0 
1
Play announcement and collect digits 
0 
0 
0 
0 
0 
0 
1 
0
Indicate information waiting 
0 
0 
0 
0 
0 
0 
1 
1
Indicate information provided 
0 
0 
0 
0 
0 
1 
0 
0
The caller interaction family of operations enables announcements to be specified 
and provides a mechanism for application processes to communicate with one another 
regarding the state of expected information. The first two options, play announcement 
and play announcement and collect digits, are identical, with the exception that the 
latter waits and collects dialed digits from the user. The dialed digits then can be routed 
to a voice response unit for processing.
The indicators for information waiting enable one application process to inform an-
other that there is information waiting and, when the information has been trans-
ferred, that the information has been provided.
Send Notification 
H 
G 
F 
E 
D 
C 
B 
A
When party free 
0 
0 
0 
0 
0 
0 
0 
1
The operation in this operation family is used for certain class features, such as automatic 
callback where a caller reaches a busy signal and requests notification from the network 
when the party becomes available. When the called party becomes available by placing the 
receiver back on-hook, the remote exchange is notified via TCAP that the called party is 
available. ISUP call setup then is used to set the call up as if it were a normal call.
Network Management 
H 
G 
F 
E 
D 
C 
B 
A
Automatic code gap 
0 
0 
0 
0 
0 
0 
0 
1
The automatic code gap is used by network management to temporarily inhibit speci-
fied codes for the specified time. Additional parameters indicate the time the codes are 
to be inhibited and the duration between operations.
Procedural 
H 
G 
F 
E 
D 
C 
B 
A
Temporary handover 
0 
0 
0 
0 
0 
0 
0 
1
Report assist termination 
0 
0 
0 
0 
0 
0 
1 
0
Security 
0 
0 
0 
0 
0 
0 
1 
1
This operation family is used to control procedural operations. The temporary hand-
over operation indicates that a temporary handover is presently in progress. When the 
temporary handover procedure has been completed, the receiver of this message then 
will release all resources dedicated to this operation. The report assist termination is 
used to end an assist procedure.
Operation Control 
H 
G 
F 
E 
D 
C 
B 
A
Cancel 
0 
0 
0 
0 
0 
0 
0 
1

540      Chapter 10
The cancel operation is used with the send notification operation to cancel a when 
party free operation. This is presently the only operation that can be canceled. The ser-
vice key parameter accompanies this operation and provides the called-party number.
Report Event 
H 
G 
F 
E 
D 
C 
B 
A
Voice message available 
0 
0 
0 
0 
0 
0 
0 
1
Voice message retrieved 
0 
0 
0 
0 
0 
0 
1 
0
This operation family is used with the Voice Message Storage Retrieval (VMSR) sys-
tem. When a subscriber uses such a service, and the VMSR system is located at another 
exchange (other than the subscriber’s), the voice message available option is used to 
alert the subscriber’s exchange of a message. The calling number of the party that left 
the message can be included, as well as the time the message was left. A Return Result 
is sent when the operation has been successful.
The voice message retrieved operation is used to remove the message-available indi-
cator from a subscriber’s VMSR. Both the subscriber’s number and the identification of 
the VMSR system used by the subscriber are provided with this operation code.
Miscellaneous 
H 
G 
F 
E 
D 
C 
B 
A
Queue call  
0 
0 
0 
0 
0 
0 
0 
1
Dequeue call 
0 
0 
0 
0 
0 
0 
1 
0
Error Codes
These error codes are used to indicate the reason for an unsuccessful completion of an 
operation. The error code is sent in a Return Error component to the originator of the 
operation request. The error codes are coded as either national or private. The following 
error codes are national error codes as defined in Bellcore Publication TR-NWT-000246, 
Issue 2, Revision 2, December 1992:
Error Code 
H 
G 
F 
E 
D 
C 
B 
A
Unexpected component sequence 
0 
0 
0 
0 
0 
0 
0 
1
Unexpected data value 
0 
0 
0 
0 
0 
0 
1 
0
Unavailable resource 
0 
0 
0 
0 
0 
0 
1 
1
Missing customer record 
0 
0 
0 
0 
0 
1 
0 
0
Spare 
0 
0 
0 
0 
0 
1 
0 
1
Data unavailable 
0 
0 
0 
0 
0 
1 
1 
0
Task refused 
0 
0 
0 
0 
0 
1 
1 
1
Queue full 
0 
0 
0 
0 
1 
0 
0 
0
No queue 
0 
0 
0 
0 
1 
0 
0 
1
Timer expired 
0 
0 
0 
0 
1 
0 
1 
0
Data already exist 
0 
0 
0 
0 
1 
0 
1 
1
Unauthorized request 
0 
0 
0 
0 
1 
1 
0 
0
Not queued 
0 
0 
0 
0 
1 
1 
0 
1
Unassigned DN 
0 
0 
0 
0 
1 
1 
1 
0
Spare 
0 
0 
0 
0 
1 
1 
1 
1

Overview of TCAP      541
Notification unavailable 
 to destination DN 
0 
0 
0 
1 
0 
0 
0 
0
VMSR system ID
 did not match user profile 
0 
0 
0 
1 
0 
0 
0 
1
An unexpected component sequence indicates that one or more components were 
received that did not match what should have been received (was expected), considering 
the previous components received from the same originator. Likewise, an unexpected 
data value indicates that data received within a component were not what should have 
been sent, considering the type of component.
When resources required to carry out an Invoke are not available, the receiving appli-
cation will return an error of unavailable resources. The originator then must determine 
if it will petition another application at another signaling point or possibly even within 
the same signaling point. Resources include such things as recordings and databases.
When accessing a database to add information to a customer database or when 
retrieving information from a customer record, the identity of the called party will be 
used to identify the record. If the record does not exist, an error of missing customer 
record will be sent to the originating application. Customer records are used to determine 
the billing options for a call as well as the type of features a subscriber can use. With 
certain class features, the customer record also will provide specific instructions on how 
to handle specific services on a per-call basis. 
Data unavailable could indicate that the database containing requested information 
is not available. This could be the case if there was a failure within the subsystem or 
if the application process failed and was unable to reach the database. Task refused is 
returned when the application entity has been requested to perform some sort of task, 
but the entity chosen cannot perform the task. No reason is given, only the Reject.
With custom calling features and class, certain features require a queue to temporar-
ily store numbers. For example, automatic callback and automatic recall require the 
last dialed number or the last number that was called to be stored in a queue until the 
feature is invoked. The feature (application entity) then accesses this queue to complete 
the processing of the feature. Three states are associated with these queues: queue full, 
no queue, and not queued. Not queued is used when a number is to be removed from a 
called-party queue.
When a parameter is sent with data that already have been received, the reject cause 
will be data that already exist. Only a parameter change operation can change data that 
already have been received. Several reject causes are related to directory numbers (DNs). 
These reject causes are sent for a variety of reasons but usually are related to the lack of 
resources or are unauthorized to access services and/or databases being requested.
A VMSR system is now being offered in many areas. This enables voice-mail equip-
ment to be installed at the central office rather than the subscriber purchasing a 
voice-mail system. The subscriber must purchase the service, and the service must be 
an entry in the customer record before access is allowed. If access is attempted and 
the directory number is not a subscriber to the VMSR system, a reject cause of “VMSR 
system identification did not match user profile” is sent.

542      Chapter 10
Parameters
Parameters are associated with individual components and are the last items in the 
component portion of the TCAP message. There are three elements in any parameter: 
the parameter identifier, length, and contents.
The parameter identifier is used to identify the individual parameters and consists 
of a one-octet field. All parameter identifiers are listed in the following table. The 
length field indicates the length of the contents field, which is a variable field. The 
contents can be one-octet specifiers or implementation-dependent codes. The following 
parameters are found in Bellcore Publication TR-NWT-000246, Issue 2, Revision 2, 
December 1992:
Parameter Name 
H 
G 
F 
E 
D 
C 
B 
A
Timestamp 
0 
0 
0 
1 
0 
1 
1 
1
ACG indicators 
1 
0 
0 
0 
0 
0 
0 
1
Standard announcement 
1 
0 
0 
0 
0 
0 
1 
0
Customized announcement 
1 
0 
0 
0 
0 
0 
1 
1
Digits 
1 
0 
0 
0 
0 
1 
0 
0
Standard user error code 
1 
0 
0 
0 
0 
1 
0 
1
Problem data 
1 
0 
0 
0 
0 
1 
1 
0
SCCP calling-party address 
1 
0 
0 
0 
0 
1 
1 
1
Transaction ID 
1 
0 
0 
0 
1 
0 
0 
0
Package type 
1 
0 
0 
0 
1 
0 
0 
1
Service key 
1 
0 
1 
0 
1 
0 
1 
0
Busy/idle status 
1 
0 
0 
0 
1 
0 
1 
1
Call-forwarding status 
1 
0 
0 
0 
1 
1 
0 
0
Originating restrictions 
1 
0 
0 
0 
1 
1 
0 
1
Terminating restrictions 
1 
0 
0 
0 
1 
1 
1 
0
DN to line service type mapping 
1 
0 
0 
0 
1 
1 
1 
1
Duration 
1 
0 
0 
1 
0 
0 
0 
0
Returned data 
1 
0 
1 
1 
0 
0 
0 
1
Bearer capability requested 
1 
0 
0 
1 
0 
0 
1 
0
Bearer capability supported 
1 
0 
0 
1 
0 
0 
1 
1
Reference ID 
1 
0 
0 
1 
0 
1 
0 
0
Business group 
1 
0 
0 
1 
0 
1 
0 
1
Signaling network identifier 
1 
0 
1 
1 
0 
1 
1 
0
Generic name 
1 
0 
0 
1 
0 
1 
1 
1
Message waiting indicator type 
1 
0 
0 
1 
1 
0 
0 
0
Look ahead for busy 
1 
0 
0 
1 
1 
0 
0 
1
Circuit identification code 
1 
0 
0 
1 
1 
0 
1 
0
Precedence identifier 
1 
0 
0 
1 
1 
0 
1 
1
Call reference identifier 
1 
0 
0 
1 
1 
1 
0 
0
Parameter Values
The following are all the parameters just listed and the values of their contents. 
Parameters complement the components already described and their operation 
codes. Operation codes may choose any number of the following parameters as a set. 

Overview of TCAP      543
These are all national parameters and are defined in Bellcore Publication TRNWT-
000246, Issue 2, Revision 2, December 1992.
Timestamp 
Octets 1–2 
Year in binary (such as 93) 
Octets 3–4 
Month in binary (such as 07) 
Octets 5–6 
Day in binary (such as 28) 
Octets 7–8 
Hour in binary (such as 17) 
Octets 9–10 
Minutes in binary (such as 30) 
Octet 11 
1 or 2 (ahead or behind GMT) 
Octets 12–13 
Hours (see above description) 
Octets 14–15 
Minutes (see preceding description)
The timestamp provides the time and date when an event occurred. Both local time 
and the difference between local time and Greenwich Mean Time (GMT) are provided. 
The first hour and minutes are those of local time, and the second hour and minutes 
fields reflect the difference between local time and GMT. For example, if the local time 
is 1730 and the local time is in Atlanta (which is 5 hours behind Greenwich time), the 
second hour and minutes field would reflect a difference of 20500.
Automatic Code Gap (ACG) 
H 
G 
F 
E 
D 
C 
B 
A
Control Cause Indication
Vacant code 
0 
0 
0 
0 
0 
0 
0 
1
Out-of-band 
0 
0 
0 
0 
0 
0 
1 
0
Database overload 
0 
0 
0 
0 
0 
0 
1 
1
Destination mass calling 
0 
0 
0 
0 
0 
1 
0 
0
Operation Support System
(OSS) initiated 
0 
0 
0 
0 
0 
1 
0 
1
The Automatic Code Gap (ACG) is a network management function that enables the 
network to throttle traffic for a specified period of time. ACG can be initiated manually 
or automatically. The preceding codes indicate the cause for invoking ACG.
Vacant code indicates that calls are being received for an unassigned code. Out-of-band 
is related to calls for a band that a subscriber does not subscribe to. Database overload 
indicates a database that is overloaded, whereas destination mass calling indicates that 
an excessive number of calls is being received for a destination.
When the ACG is initiated manually, it is initiated by an Operations Support System 
(OSS). When this is the case, the cause code will indicate that the OSS initiated  
the ACG.
Duration (in seconds) 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
1 
0 
0  
0 
0 
0 
0 
0  
1
2 
0 
0 
0 
0 
0 
0 
1 
0
4 
0 
0 
0 
0 
0 
0 
1 
1
8 
0 
0 
0 
0 
0 
1 
0 
0

544      Chapter 10
16 
0 
0 
0 
0 
0 
1 
0 
1
32 
0 
0 
0 
0 
0 
1 
1 
0
64 
0 
0 
0 
0 
0 
1 
1 
1
128 
0 
0 
0 
0 
1 
0 
0 
0
256 
0 
0 
0 
0 
1 
0 
0 
1
512 
0 
0 
0 
0 
1 
0 
1 
0
1024 
0 
0 
0 
0 
1 
0 
1 
1
2048 
0 
0 
0 
0 
1 
1 
0 
0
A one-octet field indicates the time duration in seconds in which an ACG should 
be applied.
Gap (in seconds) 
H 
G 
F 
E 
D 
C 
B 
A
Remove gap control 
0 
0 
0 
0 
0 
0 
0 
0
0.00 
0 
0 
0 
0 
0 
0 
0 
1
0.10 
0 
0 
0 
0 
0 
0 
1 
0
0.25 
0 
0 
0 
0 
0 
0 
1 
1
0.50 
0 
0 
0 
0 
0 
1 
0 
0
1.00 
0 
0 
0 
0 
0 
1 
0 
1
2.00 
0 
0 
0 
0 
0 
1 
1 
0
5.00 
0 
0 
0 
0 
1 
0 
0 
0
15.00 
0 
0 
0 
0 
1 
0 
0 
1
30.00 
0 
0 
0 
0 
1 
0 
1 
0
60.00 
0 
0 
0 
0 
1 
0 
1 
1
120.00 
0 
0 
0 
0 
1 
1 
0 
0
300.00 
0 
0 
0 
0 
1 
1 
0 
1
600.00 
0 
0 
0 
0 
1 
1 
1 
0
Stop all calls 
0 
0 
0 
0 
1 
1 
1 
1
A one-octet field indicates the interval between applications of the ACG control. 
Time is measured in seconds.
Standard Announcement 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
Out-of-band 
0 
0 
0 
0 
0 
0 
0 
1
Vacant code 
0 
0 
0 
0 
0 
0 
1 
0
Disconnected number 
0 
0 
0 
0 
0 
0 
1 
1
Reorder (120 pulses/minute) tone 
0 
0 
0 
0 
0 
1 
0 
0
Busy (60 pulses/minute) 
0 
0 
0 
0 
0 
1 
0 
1
No circuit available 
0 
0 
0 
0 
0 
1 
1 
0
Reorder recording 
0 
0 
0 
0 
0 
1 
1 
1
Audible ringing 
0 
0 
0 
0 
1 
0 
0 
0
When an announcement is to be applied to a particular call, either a standard 
announcement or a customized announcement may get requested. The standard 
announcements for a Bellcore network are depicted in the preceding table.

Overview of TCAP      545
Customized Announcement These are implementation-dependent and enable net-
works to address their own network-specific announcements. The parameter consists 
of two elements: the announcement set and the individual announcement. Length  
is variable.
Customized announcements are unique within the network in which they reside. 
Independent companies and private networks may implement their own announcements 
for use within their own networks. Both standard and customized announcements can be 
used within the same network. These two conventions enable either one to be requested 
for a specific call.
Digits
Type of digits
Nature of number
Number plan and encoding
Number of digits
Digits
Type of digits 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
Called-party number 
0 
0 
0 
0 
0 
0 
0 
1
Calling-party number 
0 
0 
0 
0 
0 
0 
1 
0
Caller interaction 
0 
0 
0 
0 
0 
0 
1 
1
Routing number 
0 
0 
0 
0 
0 
1 
0 
0
Billing number 
0 
0 
0 
0 
0 
1 
0 
1
Destination number 
0 
0 
0 
0 
0 
1 
1 
0
LATA 
0 
0 
0 
0 
0 
1 
1 
1
Carrier 
0 
0 
0 
0 
1 
0 
0 
0
Last calling party 
0 
0 
0 
0 
1 
0 
1 
0
Calling directory number 
0 
0 
0 
0 
1 
0 
1 
1
VMSR identified 
0 
0 
0 
0 
1 
1 
0 
0
Original called number 
0 
0 
0 
0 
1 
1 
0 
1
Redirecting number 
0 
0 
0 
0 
1 
1 
1 
0
Connected number 
0 
0 
0 
0 
1 
1 
1 
1
When digits are being received in TCAP for invoking features, the type of digits 
(source) and the coding of the digits (BCD) must be specified so that the receiving entity 
knows how to decode the digits. The preceding types indicate the source type of the 
digits and enable the receiver to determine how to handle the received digits.
In some cases (class features, that is), the subscriber may be requested to dial digits. 
When this is the case, the digits’ type is caller interaction. An example of this would 
be when a caller inputs a calling-card number when requested by an announcement. 
Dialed numbers also can be used for network routing (routing number) or billing infor-
mation (billing number). When information is being requested regarding a particular 
line, the destination number may be provided as a reference to the subscriber who 
owns that line.

546      Chapter 10
Digits also can specify the Local Access Transport Area (LATA) a particular caller is 
calling from that will be used in routing and accessing line information. All carriers 
are numbered as well. When callers wish to dial their long-distance carrier’s operator 
direct, they dial a 10xxx number, the last three digits being the carrier number. These 
digits can be carried through TCAP as well to access a billing record and record use of 
a carrier or when a customer line record is accessed to specify the long-distance carrier 
for that subscriber.
Last calling-party digits identify the last directory number to dial a certain number. 
This is used with class features such as automatic callback to identify the directory 
number of the last party to call a number. Last party called identifies the last party 
that was called (directory number). A VMSR is also identified by digits and is referred 
to in messages accessing and/or invoking a VMSR system for a call.
Redirecting number identifies the number of the party who last invoked a forwarded 
call to a specific number. For example, with follow-me forwarding, a number can be  
reforwarded from any phone whenever needed. The redirecting number indicates the 
last directory number to forward the specified number.
Nature of number 
H 
G 
F 
E 
D 
C 
B 
A
National 
0
International 
1
No presentation restriction 
0
Presentation restriction 
 
1
Encoding 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
Binary-coded decimal (BCD) 
0 
0 
0 
1
IA5 
0 
0 
1 
0 
Numbering plan 
H 
G 
F 
E 
D 
C 
B 
A
Unknown or not applicable 
0 
0 
0 
0
ISDN numbering 
0 
0 
0 
1
Telephony numbering 
0 
0 
1 
0
Data numbering 
0 
0 
1 
1
Telex numbering 
0 
1 
0 
0
Maritime mobile numbering 
0 
1 
0 
1
Land mobile numbering 
 
0 
1 
1 
0
Private numbering plan 
 
0 
1 
1 
1
Number of digits  ` 
H 
G 
F 
E 
D 
C 
B 
A
For BCD encoding: 
2nd digit 
 
 
1st digit
 
nth digit 
 
 
(n + 1)th digit
Digits are coded as follows:
Digit 0 or filler 
 
0 
0 
0 
0
Digit 1 
0 
0 
0 
1
Digit 2 
0 
0 
1 
0
Digit 3 
0 
0 
1 
1

Overview of TCAP      547
Digit 4 
0 
1 
0 
0
Digit 5 
0 
1 
0 
1
Digit 6 
0 
1 
1 
0
Digit 7 
0 
1 
1 
1
Digit 8 
1 
0 
0 
0
Digit 9 
1 
0 
0 
1
Spare 
1 
0 
1 
0
Code 11 
1 
0 
1 
1
Code 12 
1 
1 
0 
0
* 
1 
1 
0 
1
# 
1 
1 
1 
0
ST 
1 
1 
1 
1
All the preceding identify the type of digits as well as the digits themselves. These 
are used when presenting digits into the TCAP message so that the receiver can under-
stand the origin of the digits and know how they are to be decoded. Digits appear in a 
variety of TCAP transactions and are being used more and more as AIN features begin 
working their way into the network.
Standard User Error Code 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
Caller abandon 
0 
0 
0 
0 
0 
0 
0 
1
Improper caller response 
0 
0 
0 
0 
0 
0 
1 
0
User error codes define the reason for a user-induced failure. When a transaction is 
interrupted and aborted because of subscriber actions, these cause codes are used to 
describe the reason. Presently, only two causes are defined. Caller abandon indicates 
that a subscriber (calling party) hung up before the transaction could be completed. 
The transaction could have been a calling-card call to another number, which involves 
TCAP to access the calling-card database for verification and billing. If any type of 
call forwarding or access to a voice-mail system (VMSR) is used, TCAP is required for 
completing the informational transactions.
Improper caller response indicates that the caller was queried to enter digits and did 
not enter the correct digits or entered in the wrong number of digits. A good example 
of this would be entering in a calling-card number when prompted. Another example is 
with VMSR systems where a caller may be prompted by an announcement to enter in 
a callback number but enters in an incorrect number of digits.
Problem Data The problem data field cites the specific reason for the error. This field 
is implementation-dependent and is coded as contextual and primitive. The format 
is the same as for other parameters: a one-octet parameter identifier, the length of 
the parameter contents, and the parameter contents (variable-length field). This is 
provided in the protocol as an optional source of information when a problem occurs. 
Systems can elect to send additional information and codes regarding a specific set of 
problems encountered.

548      Chapter 10
SCCP Calling Party Address This is the address field used by the receiver of a handover 
procedure to determine the calling-party address. The address structure is the same as 
discussed in Chapter 9. The address can consist of global title digits, a point code, or a 
subsystem number. This information is part of the temporary handover parameter.
Transaction ID This is the same format used in the transaction portion. The differ-
ence is that this is used during the temporary handover procedure by the receiver of 
a temporary handover message. This information is part of the temporary handover 
parameter.
Package Type The package type is used here to notify the receiver of the temporary 
handover parameter what package type to respond with. The package type indicated 
here will be used to return some sort of response to the calling-party address (if included 
in the transaction).
Service Key The service key is used to specify which parameters should be used 
to access a record. This is used in database queries, which are employed to access 
customer database records and service records. The service key is coded as contextual 
and constructor.
Busy/Idle Status 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
Busy 
0 
0 
0 
0 
0 
0 
0 
1
Idle 
0 
0 
0 
0 
0 
0 
1 
0
Busy and idle statuses are used to provide information regarding the status of a sub-
scriber line when particular class features and custom calling features are deployed.
Call Forwarding Status 
H 
G 
F 
E 
D 
C 
B 
A
Call forwarding variable
Service not supported 
0 
0
Active 
0 
1
Not active 
1 
0
Spare 
1 
1
Call Forwarding on Busy 
H 
G 
F 
E 
D 
C 
B 
A
Service not supported 
0 
0
Active 
0 
1
Not active 
1 
0
Spare 
1 
1
Call Forwarding Don’t Answer 
H 
G 
F 
E 
D 
C 
B 
A
Service not supported 
0 
0
Active 
0 
1
Not active 
1 
0
Spare 
1 
1

Overview of TCAP      549
Selective Forwarding 
H 
G 
F 
E 
D 
C 
B 
A
Service not supported 
0 
0
Active 
0 
1
Not active 
1 
0
Spare 
1 
1
These call-forwarding parameters present the status of a line using call-forwarding 
features. These are used when custom calling or class is being offered in a calling area. 
A call-forwarding variable is used to forward a call immediately before ringing the 
called party.
Call forwarding on busy will forward a call only if the called party is off-hook. Call 
forwarding don’t answer forwards a call when the called party does not answer within 
the predetermined number of rings (defined by the subscriber). Selective forwarding 
enables only select calls to be forwarded based on criteria defined by the user (such as 
calling-party number).
Originating Restrictions 
H 
G 
F 
E 
D 
C 
B 
A
Denied origination 
0 
0 
0 
0 
0 
0 
0 
0
Fully restricted origination 
0 
0 
0 
0 
0 
0 
0 
1
Semirestricted origination 
0 
0 
0 
0 
0 
0 
1 
0
Unrestricted origination 
0 
0 
0 
0 
0 
0 
1 
1
Restrictions are assigned to business groups (such as Centrex service) to define the 
type of outside calling a station is permitted to make. Denied origination indicates that 
calls are not allowed to be originated from the specified line. Business groups are used 
to define Centrex lines and other similar services.
Fully restricted origination enables a line to originate calls to lines within the busi-
ness group but not to the attendant (the local business group operator, usually at the 
reception desk of a business) and not to lines outside the business group. Semirestricted 
origination enables a line to call outside the business group but not by direct dial. The 
line can be forwarded, conferenced, or transferred via an attendant but cannot direct 
dial an outside line. Unrestricted origination enables a line to call any number within 
the business group or outside the business group. This allows full, unrestricted access 
to any outside line. 
Terminating Restrictions 
H 
G 
F 
E 
D 
C 
B 
A 
Denied termination 
0 
0 
0 
0 
0 
0 
0 
0
Fully restricted termination 
0 
0 
0 
0 
0 
0 
0 
1
Semirestricted termination 
0 
0 
0 
0 
0 
0 
1 
0
Unrestricted termination 
0 
0 
0 
0 
0 
0 
1 
1
Call rejection applies 
0 
0 
0 
0 
0 
1 
0 
0
Terminating restrictions are like the originating restrictions but apply only to incom-
ing calls. Denied termination prevents any calls from being terminated to the line. The 
line may be allowed to dial within the group or may even be allowed to dial outside the 
group (depending on the originating restriction applied).

550      Chapter 10
Fully restricted termination prevents all calls from outside the business group 
being terminated to this line. Calls cannot be transferred from any other line or the 
attendant or forwarded. Semirestricted lines are allowed to receive calls from within 
the business group. Outside calls must be transferred or forwarded to the line. Lines 
outside the business group cannot direct dial this line. Unrestricted termination 
enables full access to the line from within the business group and outside the business 
group. Call rejection enables a line to request a rejection of an incoming call. This is 
communicated using electronic Centrex phones with displays. The display shows the 
calling-party number (ANI), allowing the called party to determine whether to accept 
or reject the call.
Directory Number to Line  
Service Type Mapping
Match status 
H 
G 
F 
E 
D 
C 
B 
A 
Spare 
0 
0
No match 
0 
1
Match 
1 
0
Spare 
1 
1
Line Service Type 
H 
G 
F 
E 
D 
C 
B 
A
Individual 
0 
0 
0 
0 
0 
0
Coin 
0 
0 
0 
0 
0 
1
Multiline hunt 
0 
0 
0 
0 
1 
0
PBX 
0 
0 
0 
0 
1 
1
Choke 
0 
0 
0 
1 
0 
0
Series completion 
0 
0 
0 
1 
0 
1
Unassigned DN 
0 
0 
0 
1 
1 
0
Multiparty 
0 
0 
0 
1 
1 
1
Nonspecific 
0 
0 
1 
0 
0 
0
Temporarily out of service 
0 
0 
1 
0 
0 
1
Line service type identifies the type of line service for a given subscriber line. This 
information must be retrieved from a database line record for a given subscriber line. 
Numbers that are not in service or have been disconnected are also indicated with 
these codes.
Duration 
H 
G 
F 
E 
D 
C 
B 
A
 
Hours 
 
 
Hours 
 
Minutes 
 
 
Minutes 
 
Seconds 
 
 
Seconds
Duration is used for features such as automatic callback, where the called party must 
be monitored until it is free. The duration parameter enables a duration to be set for 
monitoring the called party. After the duration period, if the called party is still busy, 
the feature is restarted for another duration.

Overview of TCAP      551
Bearer Capability Requested This information is related to the type of bearer capability 
a subscriber is allowed. The information is stored in the line information database and 
retrieved via TCAP when queried by an end office.
Octet 1
Extension Indicator 
H 
G 
F 
E 
D 
C 
B 
A
Octet extended to next octet 
1
Octet not extended to next octet 
0
Coding Standard 
H 
G 
F 
E 
D 
C 
B 
A
ITU-TS standardized 
 
0 
0
Reserved for other international standards  
0 
1
National standard 
 
1 
0
Reserved 
 
1 
1
Information Transfer Capability 
H 
G 
F 
E 
D 
C 
B 
A
Speech 
 
 
 
0 
0 
0 
0 
0
Unrestricted digital information 
 
 
 
0 
1 
0 
0 
0
Restricted digital information 
 
 
 
0 
1 
0 
0 
1
3.1-kHz audio 
 
 
 
1 
0 
0 
0 
0
7-kHz audio 
 
 
 
1 
1 
0 
0 
1
15-kHz audio 
 
 
 
1 
0 
0 
1 
0
Video 
 
 
 
1 
1 
0 
0 
0
Octet 2
Extension Indicator 
H 
G 
F 
E 
D 
C 
B 
A
Octet extended to next octet 
 
1
Octet not extended to next octet 
 
0
Transfer Mode 
H 
G 
F 
E 
D 
C 
B 
A
Circuit mode 
 
 
0 
0
Packet mode 
 
 
1 
0
Information Transfer Rate 
H 
G 
F 
E 
D 
C 
B 
A
Channel size 
 
 
 
0 
0 
0 
0 
0
64 kbps 
 
 
 
1 
0 
0 
0 
0
384 kbps 
 
 
 
1 
0 
0 
1 
1
1536 kbps 
 
 
 
1 
0 
1 
0 
1
1920 kbps 
 
 
 
1 
0 
1 
1 
1
The information transfer rate can be used to indicate the transfer rate in both directions 
through the use of octet 2b. When octet 2b is not included, the bidirectional transfer rate 
is symmetric with the rate indicated in octet 2. When octet 2b is included, then the 
transfer rate in the origination to destination direction is the rate indicated in octet 2b. 

552      Chapter 10
This enables the setting of different transfer rates in each direction or the same transfer 
rate in both directions.
Octet 2a
Extension Indicator 
H 
G 
F 
E 
D 
C 
B 
A
Octet extended to next octet 
1
Octet not extended to next octet 
0
Structure 
H 
G 
F 
E 
D 
C 
B 
A
Default (see note for default values) 
 
0 
0 
0
8-kHz integrity 
 
 
0 
0 
1
Service data unit integrity 
 
1 
0 
0
Unstructured 
 
1 
1 
1
Note: The default values assigned (if field 000 or octet 2a is omitted) are as follows:
Transfer Mode 
Transfer Capability 
 
Structure 
Circuit 
Speech 
 
 
 
8-kHz integrity
Circuit 
Unrestricted digital 
 
8-kHz integrity 
Circuit 
Restricted digital  
 
8-kHz integrity 
Circuit 
Audio 
 
 
 
8-kHz integrity 
Circuit 
Video 
 
 
 
8-kHz integrity
Packet 
Unrestricted digital 
 
Service data unit integrity 
Configuration 
H 
G 
F 
E 
D 
C 
B 
A 
Point-to-point 
 
 
 
 
0 
0
Multipoint 
 
 
 
 
1 
0
Establishment 
H 
G 
F 
E 
D 
C 
B 
A
Demand 
 
 
 
 
 
 
0 
 0 
Octet 2b
This octet can be omitted, unless it is desirable to indicate a different transfer rate 
in one direction other than what is specified in octet 2. When this octet is used, the 
transfer rate indicated is applicable to the direction origination to destination.
Extension Indicator 
H 
G 
F 
E 
D 
C 
B 
A
Octet extended to next octet 
1
Octet not extended to next octet 
0
Symmetry 
H 
G 
F 
E 
D 
C 
B 
A
Bidirectional symmetric 
 
 
0 
0
Bidirectional asymmetric 
 
 
0 
1
Unidirectional (origination to destination)  
1 
0
Unidirectional (destination to origination)  
1 
1

Overview of TCAP      553
Information Transfer Rate 
H 
G 
F 
E 
D 
C 
B 
A
Channel size 
 
 
 
0 
0 
0 
0 
0
64 kbps 
 
 
 
1 
0 
0 
0 
0
384 kbps 
 
 
 
1 
0 
0 
1 
1
1536 kbps 
 
 
 
1 
0 
1 
0 
1
1920 kbps 
 
 
 
1 
0 
1 
1 
1
Octet 3
This is an optional octet that can be omitted or repeated. When there is a need to 
identify more than one protocol at higher layers, this field can be repeated to reflect 
each of the other protocols. 
Extension Indicator 
H 
G 
F 
E 
D 
C 
B 
A 
Octet extended to next octet 
1
Octet not extended to next octet 
0
Multiplier or Layer Identification 
H 
G 
F 
E 
D 
C 
B 
A
Bearer capability multiplier 
 
0 
0
User information layer 1 protocol 
 
0 
1
User information layer 2 protocol 
 
1 
0
User information layer 3 protocol 
 
1 
1
User Information Layer 1 
H 
G 
F 
E 
D 
C 
B 
A
Protocol Identification
ITU-TS (CCITT) Rec. I.412 
0 
0 
0 
 
 
 
0 
0
Rate adaptation (see note) 
 
 
 
0 
0 
0 
0 
1
ITU-TS (CCITT) Rec. G.711, u-law 
0 
0 
0 
 
 
 
1 
0
ITU-TS (CCITT) Rec. G.711, A-law 
0 
0 
0 
 
 
 
1 
1
ITU-TS (CCITT) Rec. G.721, 
 
 
 
0 
0 
1 
0 
0
32-kbps ADPCM
ITU-TS (CCITT) Rec. G.722, 
0 
0 
1 
0 
 
 
 
1
G.725, 7-kHz audio
User Information Layer 2 
H 
G 
F 
E 
D 
C 
B 
A
Protocol Identification
Undefined 
 
 
 
0 
0 
0 
0 
0
ITU-TS (CCITT) Rec. Q.921 (I.441) 
 
 
 
0 
0 
0 
1 
0
ITU-TS (CCITT) Rec. Q.710 
 
 
 
0 
0 
0 
1 
1
ITU-TS (CCITT) Rec. X.25 link level 
 
 
 
0 
0 
1 
1 
0
User Information Layer 3 
H 
G 
F 
E 
D 
C 
B 
A
Protocol Identification
Undefined 
 
 
 
0 
0 
0 
0 
0
ITU-TS (CCITT) Rec. Q.931 (I.451) 
 
 
 
0 
0 
0 
1 
0
ITU-TS (CCITT) Rec. X.25 packet level 
 
 
 
0 
0 
1 
1 
0

554      Chapter 10
Note: When the multiplier or layer identification field indicates one of the user 
information layers (1 through 3), the user information protocol identification fields are 
indicated in the same octet. Each of these protocol identifiers is related directly to the 
layer specification in bits GF. For example, if bits GF indicate a layer 1 protocol, then 
bits EDCBA equal that of the appropriate layer 1 protocol, as shown in the preceding 
table under “User information layer 1 protocol identification.”
Bearer Capability Supported 
H 
G 
F 
E 
D 
C 
B 
A
Not used 
0 
0 
0 
0 
0 
0 
0 
0
Bearer capability is supported 
0 
0 
0 
0 
0 
0 
0 
1
Bearer capability is not supported 
0 
0 
0 
0 
0 
0 
1 
0
Bearer capability not authorized 
0 
0 
0 
0 
0 
0 
1 
1
Bearer capability not presently
 available 
0 
0 
0 
0 
0 
1 
0 
0
Bearer capability not implemented 
0 
0 
0 
0 
0 
1 
0 
1
Reference ID This field is used to identify the transaction between the database and 
the exchange during the assist service. The format consists of an identifier, a length 
indicator, and the variable contents field. The contents field carries the identification 
number (four octets) used by this service to correlate the transaction with the database 
access. The identification number is assigned by the database.
Business Group Identifier
Octet 2
Length of parameter
The length indicates the entire length of the parameter, not counting this field.
Octet 3
Attendant Status 
H 
G 
F 
E 
D 
C 
B 
A
No indication 
 
0
Attendant line 
 
1
Business Group Identifier 
H 
G 
F 
E 
D 
C 
B 
A
Multilocation business group 
 
 
0
Interworking private number 
 
 
1
Line Privileges Information 
H 
G 
F 
E 
D 
C 
B 
A
Indicator
Fixed line privileges 
 
 
 
0
Customer-defined line privileges 
 
 
 
1

Overview of TCAP      555
Party Selection 
H 
G 
F 
E 
D 
C 
B 
A
No indication 
 
 
 
 
0 
0 
0 
0
Calling-party number 
 
 
 
 
0 
0 
0 
1
Called-party number 
 
 
 
 
0 
0 
1 
0
Connected-party number 
 
 
 
 
0 
0 
1 
1
Redirecting number 
 
 
 
 
0 
1 
0 
0
Original called number 
 
 
 
 
0 
1 
0 
1
Octet 4 and 5
Subgroup ID 
H 
G 
F 
E 
D 
C 
B 
A
No indication 
0 
0 
0 
0 
0 
0 
0 
0
Customer-assigned subgroup codes 
0 
0 
0 
0 
0 
0 
0 
1
 
 
 
 
       to
 
1 
1 
1 
1 
1 
1 
1 
1
Octet 6
This field is associated with the line privileges field in the preceding table. If the 
line privileges field indicates customer-defined line privileges, then this one-octet field 
is used to indicate those customer-defined line privilege codes. If the line privileges 
field indicates fixed line privileges, this field is divided into two subfields. Bits HGFE 
indicate the terminating restrictions, whereas bits DCBA indicate the originating 
restrictions.
Line privileges 
H/D G/C F/B E/A
Unrestricted 
0 
0 
0 
0
Semirestricted 
0 
0 
0 
1
Fully restricted 
0 
0 
1 
0
Fully restricted intraswitch 
0 
0 
1 
1
Denied 
0 
1 
0 
0
Business groups are used to offer PBX-type services to business customers who do 
not wish to purchase a PBX. Probably the most common type of service offered under 
this category is Centrex. These parameters are used to identify what class of Centrex 
is being used with the specified line.
In addition to defining the business group, these parameters also enable the defi-
nition of the various members within a business group, and they enable lines to be 
placed into subgroups. Subgroups may be located within the same area or may be in 
another calling area. When this is the case, this information must be shared with the 
remote offices.
Signaling Networks Identifier The signaling network identifier is used to indicate to the 
receiver which networks the sender anticipates going through to reach the destination. 

556      Chapter 10
Each network ID requires two octets. The signaling networks identifier is a variable 
parameter.
Generic Name
Type of Name 
H 
G 
F 
E 
D 
C 
B 
A
Spare 
 
0 
0 
0
Calling name 
 
0 
0 
1
Original called name 
 
0 
1 
0
Redirecting name 
 
0 
1 
1
Connected name 
 
1 
0 
0
Spare 
 
1 
0 
1
 
 
 
to
 
 
1 
1 
1
Availability 
H 
G 
F 
E 
D 
C 
B 
A
Name available/unknown 
 
 
 
0
Name not available 
 
 
 
1
Presentation 
H 
G 
F 
E 
D 
C 
B 
A
Presentation allowed 
 
 
 
 
 
 
0 
0
Presentation restricted 
 
 
 
 
 
 
0 
1
Blocking toggle 
 
 
 
 
 
 
1 
0
No indication 
 
 
 
 
 
 
1 
1
Message Waiting 
H 
G 
F 
E 
D 
C 
B 
A
Indicator Type
 
2nd digit 
 
 
1st digit
The message-waiting indicator is a two-octet parameter predefined by the customer. 
This parameter and its contents notify the customer about the type of message waiting 
in a telephone-company-provided voice-mail system. The message-waiting type must 
be defined at service deployment.
Look Ahead for Busy Response
Acknowledgment type 
H 
G 
F 
E 
D 
C 
B 
A
Path reservation denied 
 
0 
0
Negative acknowledgment 
0 
1
Positive acknowledgment 
1 
0
Spare 
1 
1
Location 
H 
G 
F 
E 
D 
C 
B 
A
User 
 
 
 
 
0 
0 
0 
0 
Private network serving the local user 
 
 
 
 
0 
0 
0 
1
Public network serving the local user 
 
 
 
 
0 
0 
1 
0
Transit network 
 
 
 
 
0 
0 
1 
1
Public network serving the remote user 
 
 
 
 
0 
1 
0 
0
Private network serving the remote user 
 
 
 
 
0 
1 
0 
1
Local interface controlled by this signaling link  
 
 
0 
1 
1 
0

Overview of TCAP      557
International network 
 
 
 
 
0 
1 
1 
1
Network beyond interworking point 
 
 
 
 
1 
0 
0 
0
Acknowledgment type 
H 
G 
F 
E 
D 
C 
B 
A
Path reservation denied 
 
0 
0
Negative acknowledgment 
0 
1
Positive acknowledgment 
1 
0
Spare 
1 
1
Circuit Identification Code The circuit identification code (CIC) identifies the trunk 
circuit used to send the voice or data to the called party. The CIC is also indicated in 
any ISUP messages, which are used to set up the connection between end offices. The 
CIC is a two-octet field.
Precedence This is used in military systems to determine the type of call precedence. 
Call precedence enables calls in progress to be terminated and the trunk to be released 
so that those of a higher military rank may use the trunk for an outgoing call. This 
feature enables the military to maintain a low number of trunks at all military instal-
lations while still allowing high-ranking officials access to lines when they need them. 
All lines within the military installation are coded, and all users are prompted to input 
an identification number that identifies their rank and precedence level.
Octet 1
Precedence level 
H 
G 
F 
E 
D 
C 
B 
A
Flash override 
 
 
 
 
0 
0 
0 
0
Flash 
 
 
 
 
0 
0 
0 
1
Immediate 
 
 
 
 
0 
0 
1 
0
Priority 
 
 
 
 
0 
0 
1 
1
Routine 
 
 
 
 
0 
1 
0 
0
Service
These fields are used to indicate the service code as assigned by the code administra-
tor that applies to this call. The service codes are used to identify the type of service 
subscribed to in this particular network.
Call Reference Call references are used only with military installation calls. These 
codes enable the tracking of calls independent of the circuit number. The call reference 
pertains to the identification input when callers dial their IDs and telephone numbers 
(called party). This enables the tracking of both the line number and the individual 
code used to place the call.
This is a six-octet field divided into three-octet sections. The first three octets identify the 
identification number assigned to this call. This identification number is used to identify a 
particular call and is separate from the circuit identification code. The next three octets are 
used to indicate the point code in which the identification code has been assigned. The iden-
tification code is only significant to the signaling point indicated in the last three octets.

558      Chapter 10
Summary
As new services are defined, these parameters and operation codes will grow. The TCAP 
protocol itself is becoming an important aspect of the SS7 network and will become 
more important as the IN grows.
New switches become more and more sophisticated and offer new and improved 
services and features. These features will require the support of TCAP for remote acti-
vation. There is no doubt that TCAP will be an important part of the communications 
network well into the next decade.
The current traffic mix in SS7 networks tends to be primarily ISUP messages with 
some TCAP traffic. This is changing quickly as TCAP becomes the predominant traffic 
generator and as the SS7 network expands and becomes more sophisticated.
Local Number Portability (LNP) has increased the amount of TCAP traffic across 
the SS7 network in giant proportions. As subscribers begin switching to competitive 
local access providers, the amount of TCAP traffic will grow exponentially. As wireless 
services and Personal Communications Services (PCS) become more and more popular, 
they will demand more and more of the network’s resources. TCAP will prove to be the 
most valuable of all the SS7 protocols.

Chapter
11
Mobile Application Part (MAP)
MAP Overview
The Mobile Application Part (MAP) is critical to the operation of wireless networks. 
Communication between the various network entities enabling services, updating 
roamer locations, and supporting short messaging is based on the services provided by 
this protocol. However, the MAP is not compatible between all network technologies. 
The Global System for Mobiles (GSM) and American National Standards Institute 41 
(ANSI-41) networks differ in the messages and services MAP provides, making them 
incompatible with one another. In this chapter we will focus on the GSM specifications 
for the MAP, since GSM is more widespread than ANSI-41. 
MAP uses the services of the Signaling System 7 (SS7) network, specifically the 
Signaling Connection Control Part (SCCP) and the Transaction Capabilities Application 
Part (TCAP). However, MAP itself is a very complex protocol deserving of a book all on 
its own. This chapter will focus on the services provided by MAP and the parameters 
used in these services rather than an exhaustive study on how MAP works. The pur-
pose of this chapter is to provide a handy reference to those working in signaling net-
works to better understand the messages and parameters found in GSM networks.
To understand MAP, we must first examine the GSM network model and the entities 
identified in the GSM network. Note that while some of these entities may appear to 
be stand-alone functions, they can be (and sometimes are) combined with other enti-
ties. For example, the Mobile Switching Center (MSC) and the Visitor Location Register 
(VLR) are often integrated. You will find many references throughout this chapter to 
communications between the MSC and the VLR. Even though they are integrated, 
these communications between the two distinct functions within the switch still take 
place separately as defined here.
The primary functions within the GSM network consist of the radio and the switching 
center. The radio, of course, is the interface to the mobile subscriber. It is how mobile sub-
scribers access the network—through the use of what is really a handheld radio device. 
559

560      Chapter 11
There are two parts to the radio or cell site. The Base Transceiver Station (BTS) is 
the radio portion, which consists of the radio itself and the transmission equipment 
that connects into the wired portion of the network. The Base Station Controller (BSC) 
maintains control of the BTSs within its cell site. One BSC can control several BTSs. 
The BTS and its associated controller form the Base Station Subsystem (BSS), which 
interfaces with the MSC. 
The switching center, on the other hand, is what manages connections to other cell 
sites throughout the network. Wherever a subscriber is, she or he is being serviced by 
a radio base station and its associated switching center. It is the responsibility of the 
switching center and its associated VLR to maintain the status of the mobile subscriber 
the entire time  they are registered in the network (until she or he roams into another 
service area). Figure 11.1 illustrates the association between all of the various func-
tions within the GSM network. 
Figure 11.1 GSM network reference model.
BSS
BTS
BSC
BSS
BTS
BSC
MSC
HLR
VLR
EIR
BSS
BTS
BSC

Mobile Application Part (MAP)      561
As a subscriber roams in the network, she or he will leave the “reception” area of the 
cell site  they are currently connected with and enter into the reception area of another 
cell site. The reception of a cell site is based on the type of antenna, signal strength, 
etc. (and outside the scope of this book). As the subscriber is picked up by another cell 
site, the base station will communicate with the switching center to alert it that the 
subscriber has now moved into that area, and the switching center begins the process 
of “handing over” any call in progress to the next cell site. The MSC will maintain con-
trol of the handover (and any other subsequent handovers) as long as the subscriber is 
registered in the network. 
Some networks also may use a gateway MSC (GMSC). This serves as an access point 
for other networks. For example, when a call is routed from the wireline network, and 
the subscriber location is unknown [because the wireline network cannot query the 
Home Location Register (HLR)], the gateway MSC will receive the call, query the proper 
HLR [based on the Mobile Subscriber Integrated Services Digital Network (MSISDN)], 
and route the call to the appropriate MSC/VLR. 
The HLR is the database that maintains the subscriber profile. It is in this database 
that the subscribers’ privileges are defined (as in what services they subscribe to, whether  
they are allowed to roam, even what calling plans they have). The HLR is a fairly static 
database in that it does get updated with location information, but the subscription data 
are changed through administration efforts, not necessarily by the network.
The location information maintained in the HLR does not define the exact location of a 
subscriber but rather the serving MSC and VLR. This information is updated as the sub-
scriber roams into other networks by the MSC and VLR using various MAP services. 
The subscriber is identified in the HLR by two numbers:
International Mobile Subscriber Identity (IMSI)
Mobile Subscriber Integrated Services Digital Network (MSISDN) 
These two numbers are used by the network for identification of the subscriber and 
for routing. The HLR also contains subscription information such as service restric-
tions, General Packet Radio Service (GPRS) subscription data, routing information, 
and any supplementary services sent to the controlling VLR to enable services for the 
registered subscriber. 
When a subscriber roams into another network or into the service area of another 
MSC and VLR, the HLR notifies the previous VLR to cancel the registration of the 
subscriber in its database. In short, the HLR is the brains of the network, maintain-
ing information about registered subscribers it serves and communicating to the VLR 
and MSCs as subscribers roam into other portions of the network. If you need to know 
where a subscriber is, the HLR will point the way!
The VLR also contains information about subscribers, but only those subscribers 
registered in its service area. While the HLR is programmed with a set of subscribers 
based on their subscription service (subscribers are programmed into their “home” 
HLRs), the VLR maintains information about any mobile subscriber who is registered 
in its area and in its control. 

562      Chapter 11
The VLR usually is integrated with the MSC, although it does not have to be. 
While the standards define communications between the MSC and the VLR, they 
are in most cases in the same device. In reality, a VLR could be associated with 
several MSCs. 
The VLR receives location updates from subscribers roaming in the area controlled by 
the MSC. The VLR uses the IMSI, the MSISDN, and the Temporary Mobile Subscriber 
Identity (TMSI) to identify subscribers in its database. It also will identify the cell site 
that is currently serving the subscriber. The VLR will communicate to the HLR location 
information basically identifying itself as the controlling VLR (but it does not inform 
the HLR of the cell site ID). 
The VLR maintains this information as long as the mobile subscriber is registered in 
its serving area or until the HLR cancels the registration because the subscriber has 
roamed into another part of the network (the HLR is informed of this through location 
updates containing the identification of the VLR now serving the subscriber). 
VLRs can communicate with each other as well, exchanging subscriber identification 
when the TMSI is used. For example, the controlling VLR will query the previous VLR 
to obtain the IMSI and authentication for a subscriber when it receives the TMSI for 
the same subscriber. 
Where GPRS is used, the VLR is replaced with the Serving GPRS Support Node 
(SGSN). The SGSN provides the same functionality of the VLR in the GRPS network, 
communicating with the HLR and the serving MSC. The Gateway GPRS Support Node 
(GGSN) provides an interface to other GPRS networks. 
GSM also supports the transport of Short Messaging Service (SMS). The SMS  
requires an SMS Center (SMS-C) to determine how to route SMS messages. The SMS-C 
examines the destination address for a short message, uses its own internal routing ta-
bles to determine routing instructions for the short message, and then sends the short 
message to the MSC for routing to the subscriber. We’ll save the rest of the details for 
later. The SMS-C also stores messages that are unable to be delivered to a subscriber 
because the subscriber is not available (phone is turned off or  they are outside their 
serving area). 
Another GSM function is the Authentication Center (AUC). This function is usually 
part of the HLR and is used to authenticate subscribers prior to allowing them access 
to the network. 
The Equipment Identity Register (EIR) also may be used to ensure that the subscrib-
er’s mobile unit is not stolen. The EIR is a database consisting of International Mobile 
Equipment Identifiers (IMEI), a serial number programmed into each mobile unit by 
the manufacturer. These numbers are entered in the EIR through an administration 
port by the operator when mobile units are stolen to prevent unauthorized network ac-
cess. When a mobile unit registers with the network after activation, a check is made 
to see if the IMEI is entered in the database. If it is, then the mobile unit is denied 
network access. 
In areas where number portability is supported, the network may include a Number 
Portability Location Register (NPLR). This database provides routing information for 
networks where number portability has been implemented, similar to the number por-
tability database used in fixed networks. 

Mobile Application Part (MAP)      563
Some networks also may have these additional functions:
GSM Service Control Function (gsmSCF)
■  Contains CAMEL service logic for implementation of operations support systems 
(OSSs).
Voice Broadcast Service (VBS)/Voice Group Call Service (VGCS) relay MSC
■ Obtains attributes and other data from associated MSCs for a group call.
■  The VBS/VGCS relay MSC controls all cells within its area belonging to  
a group call.
Group Call Register (GCR)
■  Database in charge of attribute management related to the establishment of 
group calls and broadcast calls.
Serving Mobile Location Center (SMLC)
■  Database function that manages processes used to determine the location of  
a mobile subscriber.
Gateway Mobile Location Center (GMLC)
■  Interfaces with other wireless networks for the purpose of determining location 
of mobile subscribers.
Location Measurement Unit (LMU)
■  Performs location measurements to be used by the SMLC and GMLC for the 
purpose of locating target mobile stations.
GSM Reference Model Interfaces
Figure 11.1 also identifies the various interfaces used within the GSM network. These 
interfaces are identified as reference points. Following is a summary of these interfaces 
and their purposes: 
A interface
■ Used to communicate between the BSS and MSC.
■  Supports BSS management information, call handling, and location 
management.
A-bis interface
■  This reference point lies between the BSC and the Base Station Transceiver 
(BST). 
■ It is also used to communicate between two BSTs under the same BSC.
B interface
■  Used by the MSC to communicate with its associated VLR (this is a logical interface 
and is not recommended by the GSM standards for external implementations).

564      Chapter 11
C interface
■ The interface between a GMSC and an HLR.
■  Used when the fixed network cannot determine the roaming number (TMSI) of 
a subscriber for call completion, for example. The GMSC will query the HLR to 
obtain the TMSI of a roaming subscriber for call routing.
■ Also used by SMS gateway MSCs to interrogate an HLR.
D interface
■  This interface is used by the HLR and the VLR to communicate between one 
another, for sending location updates for example. 
E interface
■  Used between MSCs to communicate during handover procedures.
F interface
■  Used between the MSC and EIR when the MSC is checking the EIR for an  
IMEI match. 
G interface
■  Used by VLRs to communicate to one another when a TMSI is used so as to 
obtain the IMSI and authentication information.
I interface
■ Internal interface within the VBS/VGCS anchor MSC and relay MSC. 
Gb interface
■ This is the GPRS interface used by the SGSN to communicate with the BSS.
Gr interface
■ This is the GPRS interface between the SGSN and the HLR.
Lc interface
■ Connects the Serving Mobile Location Center (SMLCs) with the BSCs.
Ls interface
■ Connects MSCs to SMLCs for computing location of a mobile subscriber. 
The MAP Protocol
Structure
The MAP is different from other signaling protocols commonly found with SS7 in that 
it is a text-based protocol rather than a bit-oriented protocol. In bit-oriented protocols, 
the parameters and values are determined by the positioning of each bit used in the 
protocol message stream. 

Mobile Application Part (MAP)      565
With MAP and other text-based protocols, the protocol is based on defined messages, 
with corresponding parameters. Either one is easy to decode, although text-based 
protocols do not require decoding based on bit positioning, making them easier to 
understand and troubleshoot. 
The MAP uses the naming convention of MAP_Service_Primitive_Name type, where 
type can be any of four values:
■ Request (req)
■ Indication (ind)
■ Response (rsp)
■ Confirm (cnf)
These messages can be either confirmed or unconfirmed services. If it is a confirmed 
service, then there will be four possible sets of messages:
■ Request
■ Indication
■ Response
■ Confirm
Each of these messages will have corresponding parameters, as seen in the tables 
that follow. The unconfirmed services consist of
■ Request
■ Indication
For each of the messages, parameters can be either mandatory, optional, service user 
optional, or conditional. These are indicated in the following tables by the following 
nomenclature:
■ M = mandatory
■ O = optional (indication and confirm primitives)
■ U = service user option (request and response primitives)
■ C = conditional 
■  If the data are received by another entity, they must be included in the service 
being considered.
■  The service provider can determine if they must be included based on the context 
in which the service is used.

566      Chapter 11
■  One of a number of mutually exclusive parameters must be included (parameters 
including a positive result rather than parameters including negative results).
■ (=) = equals
■  Parameter takes the same value as the one to its left. For example, the request for 
an invoke ID will contain the unique identifier for that invocation. The indication 
will contain the same value as the request. 
■ Blank = parameter is not present
There are a number of variables that dictate the procedures associated with each of 
these services. It is not the intent of this book to go into great detail on MAP procedures 
because these are better served in a separate text dedicated to the topic. The intent 
of this book is to identify the messages used, their meanings, and the parameters 
associated with these messages, providing novices and experts alike with a quick 
reference to each.
Services
As with any protocol, MAP provides services to the entities within the network. MAP 
provides a number of services, which can be classified as
■ Mobility services
■ Location management services
■ Paging and search
■ Access management
■ Handover services
■ Authentication management
■ Security management
■ International mobile equipment identities management
■ Subscriber management
■ Identity management
■ Fault recovery
■ Subscriber information
■ Operation and maintenance
■ Subscriber tracing
■ Other operation and maintenance
■ Call handling
■ Supplementary services–related services
■ Short Message Service (SMS) management

Mobile Application Part (MAP)      567
■ Network-requested Packet Data Protocol (PDP) context activation
■ Location service management
Within each of these service classifications, a number of messages are used to com-
municate between the various network entities as defined by each of the message sets. 
Within each message set is a predefined set of parameters. These parameters may be 
optional or mandatory, as defined by the standards. 
The following provides a list of all the MAP services message sets. Each of these 
message sets and their corresponding parameters are described in the next section in 
alphabetical order. 
Common MAP Services Common MAP services are used with all the various services. 
They do not fit within any one category because they can be used in all the categories. 
The messages consist of
■ MAP_OPEN
■ MAP_CLOSE
■ MAP_DELIMITER
■ MAP_U_ABORT
■ MAP_P_ABORT
■ MAP_NOTICE
Mobility Services Mobility services are associated with management of subscribers and 
roaming.  They consist of services used to locate and track the location of mobile subscribers, 
finding subscribers in the network when their location is not known by the HLR/VLR, 
handing subscribers over to other parts of the network as they roam from cell site to cell 
site, authenticating and identifying subscribers as they register with the network, and 
updating the various databases such as the VLR and SGSN.
Location Management Services These are services used to manage updates to the VLR 
and HLR as a subscriber moves about the network. The most commonly used service 
in the network is the MAP_LOCATION_UPDATE service, which updates the VLR and 
HLR on a subscriber’s location. 
■ MAP_UPDATE_LOCATION_AREA
■ MAP_UPDATE_LOCATION
■ MAP_CANCEL_LOCATION
■ MAP_SEND_IDENTIFICATION
■ MAP_DETACH_IMSI
■ MAP_PURGE_MS
■ MAP_UPDATE_GPRS_LOCATION

568      Chapter 11
Paging and Search When a call comes into the network for a subscriber, the network 
will check for the location of the subscriber through the HLR and VLR. However, if the 
location of the subscriber is not known, then paging services are used to broadcast out 
over a service area in an attempt to locate the called subscriber. 
■ MAP_PAGE
■ MAP_SEARCH_FOR_MS
Access Management Access management services are used to initiate subscriber access 
procedures, which basically confirm that the subscriber is allowed to use the network. The 
VLR is the recipient of this service, and the function in the network is to confirm whether 
(by successful completion of the service) a subscriber is granted network access. 
■ MAP_PROCESS_ACCESS_REQUEST
Handover Services As a subscriber moves from MSC to MSC, this service is used to 
manage the transfer of call control between MSCs. 
■ MAP_PREPARE_HANDOVER
■ MAP_ SEND_ END_SIGNAL
■ MAP_PROCESS_ACCESS_SIGNALING
■ MAP_FORWARD_ACCESS_SIGNALING
■ MAP_PREPARE_SUBSEQUENT_HANDOVER
■ MAP_ALLOCATE_HANDOVER_NUMBER
■ MAP_SEND_HANDOVER_REPORT
Authentication Management Subscribers must be authenticated once they register in 
the network and are denied access to the network if proper authentication is not com-
pleted. Authentication consists of ciphering keys, which ensure that subscriber hand-
sets have not been cloned.
■ MAP_AUTHENTICATE
■ MAP_SEND_AUTHENTICATION_INFO
Security Management This service is used to set encryption over the radio interface 
when ciphering is to be used. 
■ MAP_SET_CIPHERING_MODE
International Mobile Equipment Identities (IMEI) Management Another form of security in 
the GSM network is the use of the IMEI. When the MSC does not know the IMEI for a 

Mobile Application Part (MAP)      569
mobile subscriber, this service is used to obtain it from the subscriber handset. It also 
can be used to request the information from the MSC. 
■ MAP_CHECK_IMEI
■ MAP_OBTAIN_IMEI
Subscriber Management The HLR uses this service to update the VLR when events 
call for updating of subscribers data (such as when a subscriber changes their service, 
for example). 
■ MAP_INSERT_SUBSCRIBER_DATA
■ MAP_DELETE_SUBSCRIBER_DATA
Identity Management This service is used to request subscriber identification from  
the MSC. 
■ MAP_PROVIDE_IMSI
■ MAP_FORWARD_NEW_TMSI
Fault Recovery When the HLR or VLR fail, this service is used to recover the  
information lost. 
■ MAP_RESET
■ MAP_FORWARD_CHECK_SS_INDICATION
■ MAP_RESTORE_DATA
Subscriber Information This service is used to retrieve information about a subscriber 
such as status (available, unavailable, etc.) and location in the network. 
■ MAP_ANY_TIME_INTERROGATION
■ MAP_PROVIDE_SUBSCRIBER_INFO
Operation and Maintenance The Operation and Maintenance Center (OMC) uses these 
services for troubleshooting and tracing of subscriber activity. It consists of subscriber 
tracing and other services.
Subscriber Tracing This service is used to initiate the tracing mode within the 
MSC. 
■ MAP_ACTIVATE_TRACE_MODE
■ MAP_DEACTIVATE_TRACE_MODE
■ MAP_TRACE_SUBSCRIBER_ACTIVITY

570      Chapter 11
Other Operation and Maintenance Services This service is used to send the subscriber 
IMSI. 
■ MAP_SEND_IMSI
Call Handling Call-handling services are used for calls in progress or for setting up 
group calls. These services include
■ MAP_SEND_ROUTING_INFORMATION
■ MAP_PROVIDE_ROAMING_NUMBER
■ MAP_RESUME_CALL_HANDLING
■ MAP_PREPARE_GROUP_CALL
■ MAP_PROCESS_GROUP_CALL_SIGNALING
■ MAP_FORWARD_GROUP_CALL_SIGNALING
■ MAP_SEND_GROUP_CALL_END_SIGNAL
■ MAP_PROVIDE_SIWFS_NUMBER
■ MAP_SIWFS_SIGNALING_MODIFY
■ MAP_SET_REPORTING_STATE
■ MAP_STATUS_REPORT
■ MAP_REMOTE_USER_FREE
Supplementary Services–Related Services These services are used to manage supple-
mentary services:
■ MAP_REGISTER_SS
■ MAP_ERASE_SS
■ MAP_ACTIVATE_SS
■ MAP_DEACTIVATE_SS
■ MAP_INTERROGATE_SS
■ MAP_INVOKE_SS
■ MAP_REGISTER_PASSWORD
■ MAP_GET_PASSWORD
■ MAP_PROCESS_UNSTRUCTURED_SS_REQUEST
■ MAP_UNSTRUCTURED_SS_REQUEST
■ MAP_UNSTRUCTURED_SS_NOTIFY
■ MAP_SS_INVOCATION_NOTIFY
■ MAP_REGISTER_CC_ENTRY
■ MAP_ERASE_CC_ENTRY

Mobile Application Part (MAP)      571
Short Message Service Management SMS management is provided through these ser-
vices, which are used for routing of SMS and notifying or transporting SMS to subscribers 
when their handsets become available:
■ MAP_SEND_ROUTING_INFO_FOR_SM
■ MAP_MO_FORWARD_SHORT_MESSAGE
■ MAP_REPORT_SM_DELIVERY_STATUS
■ MAP_READY_FOR_SM
■ MAP_ALERT_SERVICE_CENTER
■ MAP_INFORM_SERVICE_CENTER
■ MAP_SEND_INFO_FOR_MT_SMS
■ MAP_SEND_INFO_FOR_MO_SMS
■ MAP_MT_FORWARD_SHORT_MESSAGE
Network-Requested PDP Context Activation These are services specific to GPRS 
networks for the management of PDP context activations:
■ MAP_SEND_ROUTING_INFO_FOR_GPRS
■ MAP_FAILURE_REPORT
■ MAP_NOTE_MS_PRESENT_FOR_GPRS
Location Service Management Location services are used to notify other entities in the 
network of a subscriber’s location:
■ MAP_SEND_ROUTING_INFO_FOR_LCS
■ MAP_PROVIDE_SUBSCRIBER_LOCATION
■ MAP_SUBSCRIBER_LOCATION_REPORT
MAP Services Definitions
MAP_ACTIVATE_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary service code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
Forwarding information 
 
 
C 
C(=)
Call-barring information 
 
 
C 
C(=)
Supplementary service data 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O

572      Chapter 11
This service is used by the MSC to activate a supplementary service. The MSD will send 
this to the VLR, which, in turn, relays the message to the HLR. The supplementary 
service to be activated is identified in the SS code. Confirmation is sent in the response, 
depending on the type of service that was activated. For example, if forwarding was the 
service to be activated, then the response will contain the forwarding information data. 
If the service to be activated was call waiting, then the supplementary service data  
parameter is returned in the response.
MAP_ACTIVATE_TRACE_MODE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 
Trace reference 
M 
M(=) 
 
Trace type 
M 
M(=) 
 
OMC ID 
U 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to activate subscriber tracing in the VLR as well as in the SGSN. 
The trace reference and trace type are used to uniquely identify each individual trace 
performed. 
There are two ways in which this service can be used. The OMC can activate tracing 
via the HLR as a stand-alone operation, which, in turn, will send the MAP_ACTIVATE_
TRACE_MODE message to the VLR or SGSN. The OMC also may set the trace mode 
in advance if the subscriber is already registered in the network, and the trace mode is 
activated automatically on the next MAP_LOCATION_UPDATE or MAP_RESTORE_
DATA service. This service is deactivated using the MAP_DEACTIVATE_TRACE_
MODE service. 
MAP_ALERT_SERVICE_CENTER
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MSISDN alert 
M 
M(=) 
 
Service center address 
M 
M(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This is activated by the HLR when a subscriber with a message waiting becomes 
active, or memory that was previously full in the mobile subscriber handset becomes 
available. The service is used between the HLR and the interworking MSC.

Mobile Application Part (MAP)      573
MAP_ALLOCATE_HANDOVER_NUMBER
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The MSC uses this message to request a handover number from the VLR. If no hand-
over number is available, the VLR will return this message with the appropriate error 
response. If a handover number is available, the VLR will return the number using the 
MAP_SEND_HANDOVER_REPORT service. 
MAP_ANY_TIME_INTERROGATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Requested info 
M 
M(=) 
 
gsmSCF-address 
M 
M(=) 
 
IMSI 
C 
C(=) 
 
MSISDN 
C 
C(=) 
 
Location information 
 
 
C 
C(=)
Subscriber state 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This MAP service is used to obtain a subscriber’s location and status by the gsmSCF 
(CAMEL server). The information is requested from the HLR, which may use the 
address of the gsmSCF to prevent access to this information (screening). On receipt 
of this service, the HLR sends a MAP_PROVIDE_SUBSCRIBER_INFORMATION to 
the VLR and returns the results from the VLR back to the CAMEL server using the 
MAP_ANY_TIME_INTERROGATION acknowledgment. 
MAP_AUTHENTICATE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
RAND 
M 
M(=) 
 
CKSN 
M 
M(=) 
 
SRES 
 
 
M 
M(=)
Provider error 
 
 
 
O
This MAP service is used to initiate a subscriber’s authentication anytime there is 
a location registration, supplementary service initiation, or other activity requiring 
authentication of a subscriber. The service is used between the VLR and MSC.

574      Chapter 11
MAP_CANCEL_LOCATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
LMSI 
C 
C(=) 
 
Cancellation type 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
As subscribers move from one VLR or SGSN to another, this MAP service is used to 
cancel the subscribers’ data from the old VLR or SGSN. It is also sent to the VLR or 
SGSN when a subscriber service is canceled. 
MAP_CHECK_IMEI
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMEI 
C 
C(=) 
C 
C(=)
Equipment status 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This MAP service is used between MSC and VLR, EIR, and SGSN and EIR to check for 
a subscriber IMEI. When the IMEI is not available, it is requested from the subscriber 
handset and loaded into the EIR. 
MAP-CLOSE
Parameter Name 
Request 
Indication
Release method 
M 
Specific information 
U 
C(=)
This is a common service used to close a dialog between two entities.
MAP_DEACTIVATE_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary service—code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
Forwarding information 
 
 
C 
C(=)
Call-barring information 
 
 
C 
C(=)
Supplementary service—data 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O

Mobile Application Part (MAP)      575
This is sent by the mobile subscriber to the VLR, HLR, and MSC to deactivate a supple-
mentary service. The VLR will relay this message to the HLR. Other MAP services may 
be invoked as well during the deactivation process. 
MAP_DEACTIVATE_TRACE_MODE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 
Trace reference 
M 
M(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used by the HLR to cancel subscriber tracing in the VLR. It is also used 
to cancel subscriber tracing in the SGSN. A successful deactivation message will be 
returned if the mobile subscriber is known and the feature is supported. 
MAP_DELETE_SUBSCRIBER_DATA
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
Basic service list 
C 
C(=) 
 
Supplementary service code list 
C 
C(=) 
 
Roaming restriction due to  
 unsupported feature 
C 
C(=) 
 
CAMEL subscription information  
 withdrawal 
C 
C(=) 
 
Regional subscription data 
C 
C(=) 
 
VBS group indication 
C 
C(=) 
 
VGCS group indication 
C 
C(=) 
 
GPRS subscription data withdrawal 
C 
C(=) 
 
Roaming restricted in SGSN due to  
 unsupported feature 
C 
C(=) 
 
LSA information withdrawal 
C 
C(=) 
 
Regional subscription response 
 
 
C 
C(=)
GMLC list withdrawal 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This is used by the HLR to remove specified subscriber data from the VLR when sub-
scription to supplementary or basic services is canceled. In GPRS networks, the HLR 
uses this service to remove this information from the SGSN. The request usually is sent 
from the operations center when a subscriber’s service has been canceled. The HLR also 
will send a MAP_CANCEL_LOCATION message to the VLR after successfully deleting 
the subscription data from the HLR. 

576      Chapter 11
MAP-DELIMITER
The MAP-DELIMITER service is sent at the end of a MAP-OPEN or MAP-CLOSE service, 
after any specific information parameters. There are no primitives sent by this service.
MAP_DETACH_IMSI
Parameter Name  
Request 
Indication
Invoke ID 
M 
M(=)
Serving cell ID 
M 
M(=)
IMSI 
C 
C(=)
TMSI 
C 
C(=)
When a mobile subscriber turns off the phone, this service is used to notify the VLR 
that the subscriber is no longer reachable and that calls cannot be terminated to the 
subscriber. The VLR then marks this subscriber as unreachable, and when a call comes 
in for the subscriber, it responds accordingly. This service prevents radio paging to find 
subscribers when their state is unknown. 
MAP_ERASE_CC_ENTRY
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary services code 
M 
M(=) 
C(=) 
C(=)
CCBS index 
C 
C(=) 
 
Supplementary services—status 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This MAP service is used between the MSC and VLR to erase data about call completion 
supplementary services and is relayed to the HLR by the VLR. 
MAP_ERASE_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary services code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
Forwarding information 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This MAP service is used to erase data associated with a supplementary service. It is 
used between the MSC and the VLR and relayed from the VLR to the HLR. 

Mobile Application Part (MAP)      577
MAP_FAILURE_REPORT
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
GGSN address 
C 
C(=) 
C 
C(=)
GGSN number 
M 
M(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This MAP service is used by the GGSN to notify the HLR when PDP context activation 
fails. 
MAP_FORWARD_ACCESS_SIGNALING
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
BSS-APDU 
M 
M(=)
This service is used between MSCs when a handover occurs. It is used to pass informa-
tion over the A interface for call control and location management. 
MAP_FORWARD_CHECK_SS_INDICATION
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
This is sent by the HLR to notify mobile subscribers that supplementary services may 
have been altered during a restart. It is an optional service (left to the discretion of the 
operator) that allows notification of subscribers that certain data associated with their 
supplementary services may require updating. The VLR sends this to the MSC, which, 
in turn, forwards the indication to the mobile subscriber.
MAP_FORWARD_GROUP_CALL_SIGNALING
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
IMSI 
C 
C(=)
Uplink request acknowledgment 
C 
C(=)
Uplink request indication 
C 
C(=)
Uplink reject command 
C 
C(=)
Uplink seize command 
C 
C(=)
Uplink release command 
C 
C(=)

578      Chapter 11
This is used for transmission of group-call notifications. It is used between the anchor 
MSC and the relay MSC.
MAP_FORWARD_NEW_TMSI
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
TMSI 
M 
M(=) 
 
Provider error 
 
 
 
O
The VLR uses this service to allocate a new TMSI to a subscriber during call setup, 
location updating, or other transactions that are in progress. The VLR sends this to the 
MSC, which then provides the number assignment to the mobile subscriber. 
MAP_GET_PASSWORD
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Linked ID 
C 
C(=) 
 
Guidance information 
M 
M(=) 
 
Current password 
 
 
M 
M(=)
Provider error 
 
 
 
O
When a subscriber is trying to use a supplementary service requiring a password, then 
the VLR will send this through the MSC to the mobile subscriber for password.
MAP_INFORM_SERVICE_CENTER
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
MSISDN alert 
C 
C(=)
MWD status 
C 
C(=)
This service is used when there is an SMS waiting for a mobile subscriber in the 
SMS center. The MSISDN identifying the mobile subscriber for whom the message is 
destined is delivered from the HLR to the SMS center. 
MAP_INSERT_SUBSCRIBER_DATA
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 

Mobile Application Part (MAP)      579
MSISDN 
C 
C(=) 
 
Category 
C 
C(=) 
 
Subscriber status 
C 
C(=) 
 
Bearer service list 
C 
C(=) 
C 
C(=)
Teleservice list 
C 
C(=) 
C 
C(=)
Forwarding information list 
C 
C(=) 
 
Call-barring information list 
C 
C(=) 
 
CUG information list 
C 
C(=) 
 
Supplementary services data list 
C 
C(=) 
 
eMLPP subscription data 
C 
C(=) 
 
Operator-determined barring  
 general data 
C 
C(=) 
C 
C(=)
Operator-determined barring  
 HPLMN data 
C 
C(=) 
 
Roaming restriction due to  
 unsupported feature 
C 
C(=) 
 
Regional subscription data 
C 
C(=) 
 
VLR CAMEL subscription  
 information 
C 
C(=) 
 
Voice broadcast data 
C 
C(=) 
 
Voice group call data 
C 
C(=) 
 
GPRS subscription data 
C 
C(=) 
 
Roaming restricted in SGSN due  
 to unsupported feature 
C 
C(=) 
 
North American equal access  
 preferred carrier ID list 
U 
C(=) 
 
LSA information 
C 
C(=) 
 
Supplementary services code list 
 
 
C 
C(=)
LMU identifier 
C 
C(=) 
 
LCS information 
C 
C(=) 
 
Regional subscription response 
 
 
C 
C(=)
Supported CAMEL phases 
 
 
C 
C(=)
User error 
 
 
U 
C(=)
Provider error 
 
 
 
O
This service is used by the HLR to update the VLR with subscriber information when 
a number of various events take place, such as
■ Subscription changes
■ Changes to operator-determined barring
■ Subscriber-implemented changes to services
■ GPRS subscriptions have changed
■ Access mode is changed

580      Chapter 11
MAP_INTERROGATE_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary service code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
Supplementary service—status 
 
 
C 
C(=)
Basic service group list 
 
 
C 
C(=)
Forwarding feature list 
 
 
C 
C(=)
CLI restriction info 
 
 
C 
C(=)
EMLPP information 
 
 
C 
C(=)
CCBS feature list 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to retrieve information about a supplementary service and is sent 
by the MSC to the VLR, which then relays the message to the HLR if necessary. 
MAP_INVOKE_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary services code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When call setup is completed and a call is in progress, the MSC uses this message to 
check on a subscriber’s subscription to a supplementary service. The message is sent 
by the MSC to the VLR while a call is in progress. This MAP service is not used when 
a call is not in progress. 
MAP_MO_FORWARD_SHORT_MESSAGE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
SM RP DA 
M 
M(=) 
 
SM RP OA 
M 
M(=) 
 
SM RP UI 
M 
M(=) 
C 
C(=)
IMSI 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to forward mobile-originated short messages to the SMS center. 
When an SMS message is originated by a mobile subscriber, the serving MSC will 
receive the SMS message and forward it on to the gateway or interworking MSC, which, 
in turn, provides access to the SMS center. The gateway or interworking MSC sends 

Mobile Application Part (MAP)      581
the message on to the SMS center, which, in turn, will use the MAP_MO_FORWARD_
SHORT_MESSAGE service to acknowledge receipt of the short message. 
MAP_MT_FORWARD_SHORT_MESSAGE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
SM RP DA 
M 
M(=) 
 
SM RP OA 
M 
M(=) 
 
SM RP UI 
M 
M(=) 
C 
C(=)
More messages to send 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used by the SMS center to forward short messages to mobile sub-
scribers. The SMS center sends this message to the gateway or interworking MSC, 
which, in turn, routes the SMS on to the mobile subscriber. 
MAP_NOTE_MS_PRESENT_FOR_GPRS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
GGSN address 
C 
C(=) 
 
SGSN address 
M 
M(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The HLR uses this service to notify the GGSN that the mobile subscriber is available 
for GPRS again. 
MAP-NOTICE
Parameter Name 
Indication
Problem diagnostic 
M
This parameter is used to identify protocol errors that prevent a service from being pro-
vided. The problem diagnostic parameter identifies the reason for the protocol error.
MAP_OBTAIN_IMEI
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMEI 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O

582      Chapter 11
This service is used to request the IMEI from the MSC or VLR. If the MSC does not 
know the IMEI, it is then requested from the mobile subscriber. 
MAP-OPEN
Parameters 
Request 
Indication 
Response 
Confirm
Application context name 
M 
M(=) 
U 
C(=)
Destination address 
M 
M(=) 
 
Destination reference 
U 
C(=) 
 
Originating address 
U 
O 
 
Originating reference 
U 
C(=) 
 
Specific information 
U 
C(=) 
U 
C(=)
Responding address 
 
 
U 
C(=)
Result 
 
 
M 
M(=)
Refuse—reason 
 
 
C 
C(=)
Provider error 
 
 
 
O
This parameter is used to establish a dialog between two entities. The application 
context name identifies the type of dialog to be established, such as a location update, 
for example. Addressing of the MAP-OPEN primitive is based on SCCP addressing 
according to the rules shown in this table.
MAP-P-ABORT
Parameters 
Indication
Provider reason 
M
Source 
M
This parameter is sent by the service provider to abort an established dialog (instead 
of the service user). 
MAP_PAGE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
Stored location area ID 
M 
M(=) 
 
TMSI 
U 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used for paging a mobile subscriber for call setup and mobile- 
terminated SMS.

Mobile Application Part (MAP)      583
MAP_PREPARE_GROUP_CALL
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Teleservice 
M 
M(=) 
 
ASCII call reference 
M 
M(=) 
 
Ciphering algorithm 
M 
M(=) 
 
Group key number 
C 
C(=) 
 
Group key 
C 
C(=) 
 
Priority 
C 
C(=) 
 
CODEC information 
M 
M(=) 
 
Uplink-free indicator 
M 
M(=) 
 
Group call number 
 
 
M 
M(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When a group call is being set up, the anchor MSC uses this service to set up the 
group call. 
MAP_PREPARE_HANDOVER
Parameter Name  
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Target cell ID 
C 
C(=) 
 
HO number not required 
C 
C(=) 
 
BSS APDU 
C 
C(=) 
C 
C(=)
Handover number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used when a call is being handed over from one MSC to another. 
MAP_PREPARE_SUBSEQUENT_HANDOVER
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Target cell ID 
M 
M(=) 
 
Target MSC number 
M 
M(=) 
 
BSS APDU 
M 
M(=) 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When a subscriber roams to another network or another MSC, this service is used to 
notify the other MSC that a handover is required. 

584      Chapter 11
MAP_PROCESS_ACCESS_REQUEST
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
CM service type 
M 
M(=) 
 
Access connection status 
M 
M(=) 
 
Current location area ID 
M 
M(=) 
 
Serving cell ID 
M 
M(=) 
 
TMSI 
C 
C(=) 
 
Cksn 
C 
C(=) 
 
IMSI 
C 
C(=) 
C 
C(=)
IMEI 
C 
C(=) 
C 
C(=)
MSISDN 
 
 
U 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used when a mobile subscriber is attempting to set up a call or responds 
when paging has been initiated. Service is used between the MSC and VLR. 
MAP_PROCESS_ACCESS_SIGNALING
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
BSS APDU 
M 
M(=)
This service is used to pass information received on the A interface from one MSC  
to another.
MAP_PROCESS_GROUP_CALL_SIGNALING
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
Uplink request 
C 
C(=)
Uplink release indication 
C 
C(=)
Release group call 
C 
C(=)
This service is used to transmit group-call notification between MSCs.
MAP_PROCESS_UNSTRUCTURED_SS_REQUEST
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
USSD data coding scheme 
M 
M(=) 
C 
C(=)

Mobile Application Part (MAP)      585
USSD string 
M 
M(=) 
C 
C(=)
MSISDN string 
U 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This is used to relay information between VLR and MSC, HLR, or HLR and gsmSCF  
to allow unstructured supplementary services.
MAP_PROVIDE_IMSI
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When a mobile subscriber sends a TMSI that is not registered in the VLR, the VLR uses 
this service through the MSC to obtain the IMSI of the subscriber.
MAP_PROVIDE_ROAMING_NUMBER
Parameter Name  
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
MSC number 
M 
M(=) 
 
MSISDN 
U 
C(=) 
 
LMSI 
C 
C(=) 
 
GSM bearer capability 
C 
C(=) 
 
Network signal info 
C 
C(=) 
 
Suppression of announcement 
C 
C(=) 
 
Call reference number 
C 
C(=) 
 
GMSC address 
C 
C(=) 
 
OR interrogation 
C 
C(=) 
 
OR not supported in GMSC 
C 
C(=) 
 
Alerting pattern 
C 
C(=) 
 
CCBS call 
C 
C(=) 
 
Supported CAMEL phases in GMSC 
C 
C(=) 
 
Additional signal info 
C 
C(=) 
 
Roaming number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The HLR uses this service to request a VLR to send back a roaming number so that the 
HLR can route a call to the roaming subscriber. 

586      Chapter 11
MAP_PROVIDE_SIWFS_NUMBER
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
GSM bearer capability 
M 
M(=) 
 
ISDN bearer capability 
M 
M(=) 
 
Call direction 
M 
M(=) 
 
B subscriber address 
M 
M(=) 
 
Chosen channel 
M 
M(=) 
 
Lower-layer compatibility 
C 
C(=) 
 
High-layer compatibility 
C 
C(=) 
 
SIWFS number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The MSC uses this service when an incoming call is received to request IWU resources 
from an SIWFS.
MAP_PROVIDE_SUBSCRIBER_INFO
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Requested information 
M 
M(=) 
 
IMSI 
M 
M(=) 
 
LMSI 
U 
O 
 
Location information 
 
 
C 
C(=)
Subscriber state 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to request the subscriber state and location from the VLR.
MAP_PROVIDE_SUBSCRIBER_LOCATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Location type 
M 
M(=) 
 
MLC number 
M 
M(=) 
 
LCS client ID 
M 
M(=) 
 
Privacy override 
U 
C(=) 
 
IMSI 
C 
C(=) 
 
MSISDN 
C 
C(=) 
 
LMSI 
C 
C(=) 
 
LCS priority 
C 
C(=) 
 

Mobile Application Part (MAP)      587
LCS QoS 
C 
C(=) 
 
IMEI 
U 
C(=) 
 
Location estimate 
 
 
M 
M(=)
Age of location estimate 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to request the location of a mobile subscriber from the VLR in the 
visited network.
MAP_PURGE_MS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
VLR number 
C 
C(=) 
 
Freeze TMSI 
 
 
C 
C(=)
Freeze P-TMSI 
 
 
C 
C(=)
SGSN number 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to prevent incoming calls or SMS messages from reaching a mobile 
subscriber that has been inactive for several days and the subscriber record is going to 
be deleted from the VLR. The HLR shows the subscriber as unreachable.
MAP_READY_FOR_SM
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 
TMSI 
C 
C(=) 
 
Alert reason 
M 
M(=) 
 
Alert reason indicator 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to indicate to the HLR that a mobile subscriber is in radio contact 
with the MSC and has indicated available memory for receipt of messages. The MSC 
sends notification to the VLR when the mobile subscriber indicates memory available 
and sends this notification to the VLR, which, in turn, sends notification to the HLR. If 
the message-waiting indicator is active in the HLR for this subscriber, the service then 
is initiated to send the short message to the subscriber.

588      Chapter 11
MAP_REGISTER_CC_ENTRY
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary  
 service code 
M 
M(=) 
 
CCBS feature 
C 
C(=) 
C 
C(=)
Translated B number 
C 
C(=) 
 
Service indicator 
C 
C(=) 
 
Call info 
C 
C(=) 
 
Network signal  
 information 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This is used to register data for a call-completion supplementary service and is sent 
between the MSC and VLR and then relayed by the VLR to the HLR.
MAP_REGISTER_PASSWORD
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary  
 service code 
M 
M(=) 
 
New password 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used when a subscriber is entering a new password for a service.
MAP_REGISTER_SS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Supplementary  
 service code 
M 
M(=) 
 
Basic service 
C 
C(=) 
 
Forwarded-to number  
 with subaddress 
C 
C(=) 
 
No reply condition time 
C 
C(=) 
 
ELMPP default priority 
C 
C(=) 
C 
C(=)
Forwarding information 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to register data related to a supplementary service and is sent 
between the MSC and VLR and then relayed by the VLR to the HLR.

Mobile Application Part (MAP)      589
MAP_REMOTE_USER_FREE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
Call info 
M 
M(=) 
 
CCBS feature 
M 
M(=) 
 
Translated B number 
M 
M(=) 
 
Replace B number 
C 
C(=) 
 
Alerting pattern 
C 
C(=) 
 
RUF outcome 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used when notifying a subscriber that another subscriber is free and 
available to receive a call. The MAP service is used to indicate to the VLR of the calling 
mobile subscriber that the called subscriber is now free. The message is used between 
the HLR and VLR.
MAP_REPORT_SM_DELIVERY_STATUS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MSISDN 
M 
M(=) 
 
Service center address 
M 
M(=) 
 
Short message delivery outcome 
M 
M(=) 
 
Absent subscriber diagnostic  
 short message 
C 
C(=) 
 
GPRS support indicator 
C 
C(=) 
 
Delivery outcome indicator 
C 
C(=) 
 
Additional short message  
 delivery outcome 
C 
C(=) 
 
Additional absent subscriber  
 diagnostic short message 
C 
C(=) 
 
MSISDN alert 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The gateway MSC uses this service to inform the HLR of short message delivery status. 
It is also used to set message waiting data in the HLR. 
MAP_RESET
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
HLR number 
M 
M(=)
HLR ID list 
U 
C(=)

590      Chapter 11
This service is part of fault recovery services and is used to notify other network entities 
(VLRs or SGSNs) of a failure. The HLR sends this notification after a reset according 
to a list of VLRs/SGSNs. 
MAP_RESTORE_DATA
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
LMSI 
U 
C(=) 
 
Supported CAMEL phases 
C 
C(=) 
 
SoLSA support indicator 
C 
C(=) 
 
HLR number 
 
 
C 
C(=)
Mobile subscriber not  
 reachable flag 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When the VLR receives a MAP_PROVIDE_ROAMING_NUMBER for an unknown 
IMSI, the VLR sends this message to the HLR to request all the data that are to be 
used to update the record in the VLR. If the LMSI is provided, the HLR also will update 
the LMSI record in the HLR.
MAP_RESUME_CALL_HANDLING
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Call reference number 
C 
C(=) 
 
Basic service group 
C 
C(=) 
 
IMSI 
C 
C(=) 
 
Forwarding data 
C 
C(=) 
 
CUG interlock 
C 
C(=) 
 
CUG outgoing access 
C 
C(=) 
 
O-CSI 
C 
C(=) 
 
CCBS target 
C 
C(=) 
 
UU data 
C 
C(=) 
 
UUS CF interaction 
C 
C(=) 
 
All information sent 
C 
C(=) 
 
MSISDN 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This is sent by the visited MSC to the gateway MSC to request the gateway MSC to 
resume call handling for the specified call.

Mobile Application Part (MAP)      591
MAP_SEARCH_FOR_MS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
Current location ID 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The VLR initiates this service to locate a mobile subscriber within the serving area of 
the VLR. When a call is being routed to a mobile subscriber, for instance, but the VLR 
does not have any location information for the subscriber, this service is used to page 
all mobiles in the served area in an attempt to locate the subscriber. 
MAP_SEND_AUTHENTICATION_INFO
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
Authentication set list 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used by the VLR or SGSN to request authentication information 
from the HLR. The HLR, in turn, should provide RAND, Sres, and Kc vectors. If 
the HLR does not have this information, then the HLR will respond with an empty 
response. 
MAP_SEND_END_SIGNAL
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
BSS-APDU 
M 
M(=) 
 
Provider error 
 
 
 
O
When a call roams into the service area of another MSC, the MSC now controlling the 
call will send this to the previous controlling MSC to confirm that radio resources to 
the mobile subscriber have been established and that the previous controlling MSC 
can now drop its radio resources. The originating MSC will remain in control of the 
call, until the call is cleared. It will notify subsequent MSCs using the response of 
this message. For example, the response sent by the previous controlling MSC notifies 
the new MSC that the call has been cleared and that the new MSC can drop the call 
because either the call was released or passed to another MSC. 

592      Chapter 11
MAP_SEND_GROUP_CALL_END_SIGNAL
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 
Provider error 
 
 
 
O
This is a service used for the connection of group calls. The relay MSC uses this service to 
notify the anchor MSC that all resources within the serving area of the relay MSC have 
been allocated for the group call. The response is sent by the anchor MSC and is used to 
notify the relay MSC that the group call should be ended and all resources released. 
MAP_SEND_HANDOVER_REPORT
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Handover number 
M 
M(=) 
 
Linked ID 
M 
M(=) 
 
Provider error 
 
 
 
O
This is used to transfer the handover number to be used to the receiving MSC (MSC-B). 
The VLR is the originator. 
MAP_SEND_IDENTIFICATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
TMSI 
M 
M(=) 
 
IMSI 
 
 
C 
C(=)
Authentication set 
 
 
U 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When a subscriber roams into the area of another VLR, this message is sent to the 
previous serving VLR to retrieve the subscriber IMSI authentication data. 
MAP_SEND_IMSI
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MSISDN 
M 
M(=) 
 
IMSI 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O

Mobile Application Part (MAP)      593
This service is used to retrieve the IMSI of a subscriber from her/his home VLR when 
the subscriber is roaming in another network and the operations center needs to con-
firm the IMSI of the subscriber because only the MSISDN is known. 
MAP_SEND_INFO_FOR_MO_SMS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Service center address 
M 
M(=) 
 
MSISDN 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The MSC uses this service to request information about a subscriber when the MSC 
has to deliver a mobile-originated short message request.
MAP_SEND_INFO_FOR_MT_SMS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
SM RP DA 
M 
M(=) 
 
MSISDN 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The MSC uses this service to request information from the VLR about a subscriber 
when the MSC has received a mobile-terminating short message. 
MAP_SEND_ROUTING_INFO_FOR_GPRS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
GGSN address 
C 
C(=) 
C 
C(=)
GGSN number 
M 
M(=) 
 
SGSN address 
 
 
C 
C(=)
Mobile not  
 reachable—reason 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The GGSN will use this service to request GPRS routing information from  
the HLR. 

594      Chapter 11
MAP_SEND_ROUTING_INFO_FOR_LCS
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MLC number 
M 
M(=) 
 
MSISDN  
C 
C(=) 
C 
C(=)
IMSI 
C 
C(=) 
C 
C(=)
LMSI 
 
 
C 
C(=)
MSC number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The GMLC uses this service to obtain routing instructions for a location service request 
from the servicing VMSC.
MAP_SEND_ROUTING_INFO_FOR_SM
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MSISDN 
M 
M(=) 
 
SM RP PRI 
M 
M(=) 
 
Service center address 
M 
M(=) 
 
SM RP MTI 
C 
C(=) 
 
SM RP SMEA 
C 
C(=) 
 
GPRS support indicator 
C 
C(=) 
 
IMSI 
 
 
C 
C(=)
Network node number 
 
 
C 
C(=)
LMSI 
 
 
C 
C(=)
GPRS node indicator 
 
 
C 
C(=)
Additional number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used by the MSC to obtain routing information from the HLR so that 
short messages may be sent to the SMS center. 
MAP_SEND_ROUTING_INFORMATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Interrogation type 
M 
M(=) 
 
GMSC address 
M 
M(=) 
 
MSISDN 
M 
M(=) 
C 
C(=)

Mobile Application Part (MAP)      595
OR interrogation 
C 
C(=) 
 
OR capability 
C 
C(=) 
 
CUG interlock 
C 
C(=) 
C 
C(=)
CUG outgoing access 
C 
C(=) 
C 
C(=)
Number of forwarding 
C 
C(=) 
 
Network signal information 
C 
C(=) 
 
Supported CAMEL phases 
C 
C(=) 
 
Suppress T-CSI 
C 
C(=) 
 
Suppression of announcement 
C 
C(=) 
 
Call reference number 
C 
C(=) 
 
Forwarding reason 
C 
C(=) 
 
Basic service group 
C 
C(=) 
 
Alerting pattern 
C 
C(=) 
 
CCBS call 
C 
C(=) 
 
Supported CCBS phase 
C 
C(=) 
 
Additional signal information 
C 
C(=) 
 
IMSI 
 
 
C 
C(=)
MSRN 
 
 
C 
C(=)
Forwarding data 
 
 
C 
C(=)
Forwarding interrogation required 
 
 
C 
C(=)
VMSC address 
 
 
C 
C(=)
VMSC CAMEL subscription info 
 
 
C 
C(=)
Location information 
 
 
C 
C(=)
Subscriber state 
 
 
C 
C(=)
Basic service code 
 
 
C 
C(=)
CUG subscription flag 
 
 
C 
C(=)
North American equal access  
 preferred carrier identification 
 
 
U 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
Supplementary services list 
 
 
U 
C(=)
CCBS target 
 
 
C 
C(=)
Keep CCBS call indicator 
 
 
C 
C(=)
Number portability status 
 
 
U 
C(=)
This service is used by the gateway MSC when routing a call to a mobile subscriber. 
The gateway MSC sends this message to the HLR to obtain the necessary routing 
information for the call. 
MAP_SET_CIPHERING_MODE
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
Ciphering mode 
M 
M(=)
Kc 
C 
C(=)

596      Chapter 11
The MSC uses this service when the radio interface is to be encrypted. The MSC sends 
this message to the VLR to set the ciphering mode.
MAP_SET_REPORTING_STATE
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
C 
C(=) 
 
LMSI 
C 
C(=) 
 
CCBS monitoring 
C 
C(=) 
 
CCBS subscriber status 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to set the reporting state between HLR and VLR.
MAP_SIWFS_SIGNALING_MODIFY
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Channel type 
C 
C(=) 
 
Chosen channel 
C 
C(=) 
C(=) 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to send signaling information during a reconfiguration between the 
MSC and shared interworking function server (SIWFS).
MAP_SS_INVOCATION_NOTIFY
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
MSISDN 
M 
M(=) 
 
IMSI 
M 
M(=) 
 
Supplementary service event 
M 
M(=) 
 
Supplementary service event data 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used when a subscriber invokes one of these supplementary services:
■ Call deflection (CD)
■ Explicit call transfer (ECT)
■ Multiparty call (MPTY)

Mobile Application Part (MAP)      597
MAP_STATUS_REPORT
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
CCBS subscriber status 
C 
C(=) 
 
Monitoring mode 
C 
C(=) 
 
Call outcome 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The VLR uses this service to report the status of a call or event back to the HLR. 
MAP_SUBSCRIBER_LOCATION_REPORT
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
LCS event 
M 
M(=) 
 
LCS client  
 identification 
M 
M(=) 
 
MSC number 
M 
M(=) 
 
IMSI 
C 
C(=) 
 
MSISDN 
C 
C(=) 
 
NA-ESRD 
C 
C(=) 
 
NA-ESRK 
C 
C(=) 
 
IMEI 
U 
C(=) 
 
Location estimate 
C 
C(=) 
 
Age of location  
 estimate 
C 
C(=) 
 
LMSI 
U 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
The visited MSC uses this service to notify the gateway mobile location center (GMLC) 
of a mobile subscriber’s location. 
MAP_TRACE_SUBSCRIBER_ACTIVITY
Parameter Name 
Request 
Indication
Invoke ID 
M 
M(=)
IMSI 
C 
C(=)
Trace reference 
M 
M(=)
Trace type 
M 
M(=)
OMC identification 
U 
C(=)
This is used by the VLR to invoke the subscriber tracing function within the MSC. 

598      Chapter 11
MAP-U-ABORT
Parameter Name 
Request 
Indication
User reason 
M 
M(=)
Diagnostic information 
U 
C(=)
Specific information 
U 
C(=)
This parameter is sent by the service user to abort an established dialog.
MAP_UNSTRUCTURED_SS_NOTIFY
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
USSD data coding scheme 
M 
M(=) 
 
USSD string 
M 
M(=) 
 
Alerting pattern 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This message is used to send information associated with a supplementary service 
from a mobile subscriber to the HLR or VLR. The message is sent to an application, 
depending on implementation. 
MAP_UNSTRUCTURED_SS_REQUEST
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
USSD data coding scheme 
M 
M(=) 
C 
C(=)
USSD string 
M 
M(=) 
C 
C(=)
Alerting pattern 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
When a mobile subscriber is invoking an unstructured supplementary service, this is 
used to send subscriber-entered data to the application in the MSC, VLR, or HLR. 
MAP_UPDATE_GPRS_LOCATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
SGSN number 
M 
M(=) 
 
SGSN address 
M 
M(=) 
 
SoLSA support indicator 
C 
C(=) 
 

Mobile Application Part (MAP)      599
HLR number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
In GPRS networks, this service is used by the SGSN to update location information 
in the HLR. This is analogous to the MAP_UPDATE_LOCATION service used in non-
GPRS networks between VLR and HLR. 
MAP_UPDATE_LOCATION
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
IMSI 
M 
M(=) 
 
MSC address 
M 
M(=) 
 
VLR address 
M 
M(=) 
 
LMSI 
U 
C(=) 
 
Supported CAMEL phases 
C 
C(=) 
 
SoLSA support indicator  
C 
C(=) 
 
HLR number 
 
 
C 
C(=)
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to update location information in the HLR. The VLR uses this 
service to update the HLR with the serving MSC address, identifying the subscriber 
with an IMSI and possibly a Local Mobile Subscriber Identity (LMSI). The LMSI is 
used by the VLR as a local subscriber identity (known only to the sending VLR) to 
facilitate faster database access. 
MAP_UPDATE_LOCATION_AREA
Parameter Name 
Request 
Indication 
Response 
Confirm
Invoke ID 
M 
M(=) 
M(=) 
M(=)
Target location area ID 
M 
M(=) 
 
Serving cell ID 
M 
M(=) 
 
Location update type 
M 
M(=) 
 
IMSI 
C 
C(=) 
 
TMSI 
C 
C(=) 
 
Previous location area ID 
C 
C(=) 
 
Cksn 
C 
C(=) 
 
User error 
 
 
C 
C(=)
Provider error 
 
 
 
O
This service is used to update the mobile subscriber’s location information in the VLR. 
It is initiated by the mobile subscriber when  they register in the network (by turning 
on their phone) or when  they change locations (serving MSCs). This service is different 

600      Chapter 11
from the MAP_UPDATE_LOCATION in that the information comes from the mobile 
subscriber to the VLR, whereas the MAP_UPDATE_LOCATION service is used by the 
VLR to update the location information in the HLR. 
Parameters
Parameter Classes
Parameters are divided into the following classes:
■ Common parameters
■ Numbering and identification 
■ Subscriber management
■ Supplementary services
■ Call parameters
■ Radio parameters
■ Authentication parameters
■ Short message parameters
■ Access and signaling system–related parameters
■ System operations parameters
■ Location service parameters
Common Parameters
■ Invoke ID 
■ Linked ID
■ Provider error
■ User error
■ All information sent
Numbering and Identification Parameters
■ IMSI
■ TMSI
■ IMEI
■ Previous location area ID
■ Stored location area ID

Mobile Application Part (MAP)      601
■ Current location area ID
■ Target location area ID
■ Target cell ID
■ Originating entity number
■ MSC number
■ Target MSC number
■ HLR number
■ VLR number
■ HLR ID
■ LMSI
■ MSISDN
■ OMC ID
■ Roaming number
■ Handover number
■ Forwarded-to number
■ Forwarded-to subaddress
■ Called number
■ Calling number
■ Originally dialed number
■ Service center address
■ Zone code
■ MSISDN alert
■ Location information
■ GSMC address
■ VMSC address
■ Group ID
■ North American Equal Access preferred carrier ID
■ SIWFS number
■ B-subscriber address
■ Serving cell ID
■ SGSN number
■ SGSN address
■ GGSN address

602      Chapter 11
■ GGSN number
■ APN
■ Network node number
■ PDP type
■ PDP address
■ Additional number
■ P-TMSI
■ B-subscriber number
■ B-subscriber subaddress
■ LMU number
■ MLC number
Subscriber Management Parameters
■ Category
■ Equipment status
■ Extensible bearer service
■ Extensible teleservice
■ Extensible basic service group
■ GSM bearer capability
■ Subscriber status
■ CUG outgoing access indicator
■ Operator-determined barring general data
■ ODB HPLMN specific data
■ Regional subscription data
■ Regional subscription response
■ Roaming restriction due to unsupported feature
■ Extensible SS info
■ Extensible forwarding information
■ Extensible forwarding feature
■ Extensible SS status
■ Extensible forwarding options
■ Extensible no reply condition timer
■ Extensible call barring information

Mobile Application Part (MAP)      603
■ Extensible call-barring feature
■ CUG info
■ CUG subscription
■ CUG interlock
■ CUG index
■ CUG feature
■ Inter-CUG options
■ Intra-CUG restrictions
■ Extensible SS data
■ Subscriber state
■ Requested info
■ Suppression of announcement
■ Suppress T-CSI
■ GSMC CAMEL subscription info
■ VLR CAMEL subscription info
■ Supported CAMEL phases
■ CUG subscription flag
■ CAMEL subscription info withdraw
■ Voice group call service (VGCS) info
■ Voice broadcast service data
■ ISDN bearer capability
■ Lower-layer compatibility
■ High-layer compatibility
■ Alerting pattern
■ GPRS subscription data withdraw
■ GPRS subscription data
■ QoS subscribed
■ VPLMN address allowed
■ Roaming restricted in SGSN due to unsupported feature
■ Network access mode
■ Mobile not reachable reason
■ Cancellation type
■ All GPRS data

604      Chapter 11
■ Complete data list included
■ PDP context identifier
■ LSA information
■ SoLSA support indicator
■ LSA information withdraw
■ LMU indicator
■ LCS information
■ GMLC list
■ LCS privacy exception list
■ LCS privacy exception parameters
■ External client list
■ Internal client list
■ MO-LR list
■ Privacy notification to MS user
■ GMLC list withdraw
■ Supplementary services parameters
■ SS code
■ SS status
■ SS data
■ Override category
■ CLI restriction option
■ Forwarding options
■ No reply condition timer
■ Forwarding information
■ Forwarding feature
■ Call-barring information
■ Call-barring feature
■ New password
■ Current password
■ Guidance information
■ SS info
■ USSD data coding scheme
■ USSD string

Mobile Application Part (MAP)      605
■ Bearer service
■ Teleservice
■ Basic service group
■ eMLPP information
■ SS event
■ SS event data
■ LCS privacy exceptions
■ Mobile originating location request (MO-LR)
Call Parameters
■ Call reference number
■ Interrogation type
■ OR interrogation
■ OR capability
■ Forwarding reason 
■ Forwarding interrogation required
■ O-CSI
■ Call direction
■ Channel type
■ Chosen channel
■ CCBS feature
■ UU data
■ UUS CF interaction
■ Number portability status
Radio Parameters
■ HO-number not required
Authentication Parameters 
■ Authentication set list
■ RAND
■ Sres
■ Kc

606      Chapter 11
■ Cksn
■ Ciphering mode
Short Message Parameters
■ SM-RP-DA
■ SM-RP-OA
■ MWD status
■ SM-RP-UI
■ SM-RP-PRI
■ SM delivery outcome
■ More messages to send
■ Alert reason
■ Absent subscriber diagnostic SM
■ Alert reason indicator
■ Additional SM delivery outcome
■ Additional absent subscriber diagnostic SM
■ Delivery outcome indicator
■ GPRS node indicator
■ GPRS support indicator
■ SM-RP-MTI
■ SM-RP-SMEA
Access and Signaling System–Related Parameters
■ BSS-apdu
■ CM service type
■ Access connection status
■ External signal information
■ Access signaling information
■ Location update type
■ Protocol ID
■ Network signal information
■ Call info
■ Additional signal info

Mobile Application Part (MAP)      607
System Operations Parameters
■ Network resources
■ Trace reference
Location Service Parameters
■ Age of location estimate
■ LCS client ID
■ LCS event
■ LCS MLC data
■ LCS priority
■ LCS QoS
■ Location estimate
■ Location type
■ NA-ESRD
■ NA-ESRK
■ Privacy override
Parameter Definitions
Absent Subscriber Diagnostic Short Message Used by SMS management, this 
parameter identifies the reason a subscriber is not available. For example, the mobile 
subscriber may have the cell phone turned off.
Access Connection Status This parameter provides status of connections as
■ RR-connection status (established/not established)
■ Ciphering mode (on/off)
■ Authentication status (authenticated/not authenticated)
Access Signaling Information This parameter is used to import any set of data from 
procedures defined in GSM 4.08. 
Additional Absent Subscriber Diagnostic SM This is used with the additional SM delivery 
outcome parameter to indicate the reason for the additional delivery outcome.
Additional Number This can refer to either the SGSN or MSC number.

608      Chapter 11
Additional Signaling Info Transported as external signal information with a protocol ID 
of ETS 300 356, this parameter contains the following elements:
■ Calling-party number
■ Generic number
Additional SM Delivery Outcome When delivery outcome results are being sent for both a 
GPRS and a non-GPRS activity, this parameter is used to provide the delivery outcome. 
Age-of-Location Estimate This indicates how long ago a location estimate was 
obtained.
Alert Reason This identifies why a service center is being alerted. There are two 
possible values:
■ The mobile subscriber is present.
■ Memory is available.
Alert Reason Indicator This is used with the alert reason parameter to indicate that 
the alert reason is sent to the HLR because of GPRS activity.
Alerting Pattern This parameter identifies a specific pattern to be used when notifying 
the subscriber of an incoming call. It is set by the subscriber and can indicate the level 
of alerting or identify a category of alerting to be used. 
All GPRS Data This parameter tells the SGSN that all GPRS subscription data stored 
for a subscriber is to be deleted from the SGSN. 
All Information Sent When a network entity is responding with data to a service user, this 
parameter is sent to indicate that the sending entity has sent all necessary information.
APN This parameter identifies the Domain Name Server (DNS) name assigned to a 
GGSN.
Application Context Name This is the name of the context being issued, such as  
location update.
Authentication Set List This provides a list of authentication parameters for a 
subscriber:
■ RAND
■ Sres
■ Kc

Mobile Application Part (MAP)      609
B-Subscriber Address This is the number used by the SIWFS to route outgoing calls 
to the B-subscriber or the VMSC (when the loop method is used).
B-Subscriber Number This is the number dialed by the subscriber, indicating the 
destination of the call.
B-Subscriber Subaddress This is the subaddress assigned to the destination 
subscriber. 
Basic Service Group Used for supplementary service management, this parameter 
refers to a bearer service or teleservice. If the value is null, it is referring to the basic 
service group with all bearer services and teleservices.
Bearer Service This is used for supplementary service management, referring to a 
specific individual bearer service or multiple bearer services. 
BSS Access Protocol Data Unit (APDU) This is used to identify the protocol used to 
access the network from the BSS. This parameter will contain one or two complete 
concatenated messages.
Call-Barring Feature This parameter gives the status of the call-barring feature for 
each basic service group, providing
■ Basic service group
■ Supplementary services status
Call-Barring Information This is sent in acknowledgment of successful service delivery. 
For each call-barring service, this parameter identifies
■ Supplementary services code
■ List of call-barring feature parameters (one entry for each basic service group)
Call Direction This indicates the direction of a call.
Call Info This is transported as external signal information with a protocol ID of 
GSM 4.08.
Call Reference Number This identifies a reference number assigned by a controlling 
MSC to a call in progress. Each call is assigned a unique identifier by the controlling 
MSC as a reference.
Called Number This is the called-party number or the digits dialed by another 
subscriber.

610      Chapter 11
Calling Number This is the subscriber calling or the originating subscriber number.
CAMEL Subscription Info Withdraw This is used to request the VLR to delete the CAMEL 
subscription information specified. 
Cancellation Type This refers to the reason for location cancellation. 
Category This refers to the calling-party category as defined by ITU Q.767.
CCBS Feature Along with the CCBS description parameter, this is used to indicate 
what additional information is needed to characterize a CCBS request, employing the 
following information:
■ CCBS index
■ B-subscriber number
■ B-subscriber subaddress
■ Basic service group code
Channel Type This is sent by the Shared InterWorking Function Server (SIWFS)  
to the MSC to assign correct radio resources and contains the changed air interface 
user rate.
Chosen Channel This is sent as a response to channel type by the MSC to identify the 
radio resources the SIWFS needs to switch to. 
Ciphering Mode This identifies the ciphering mode for a call:
■ No encryption
■ Ciphering algorithm to be applied
Cksn
■  This is the ciphering key sequence number, used for setting encryption on  
a call. 
CLI Restriction Option This identifies the restriction mode attached to the CLIR 
supplementary services per the subscription option. Values are
■ Permanent
■ Temporary (default restricted)
■ Temporary (default allowed)

Mobile Application Part (MAP)      611
CM Service Type This indicates the service category requested by a subscriber:
■ Mobile-originating call
■ Emergency call establishment
■ Short message service
■ Mobile-originating-call reestablishment
■ Mobile-terminating call
■ Supplementary service request
■ Voice group call setup
■ Voice broadcast setup
Complete Data List Included This is used to instruct the SGSN that all GPRS subscrip-
tion data in memory for a specific subscriber are to be replaced by newly received GPRS 
subscription data.
CUG Feature When the basic service code is present, this parameter refers to two 
parameters associated with that service group. If the basic service group is not included, 
then this parameter refers to all basic services:
■ Preferential CUG indicator
■ Inter-CUG option
■ Basic service group
The preferential CUG indicator identifies the CUG index to be used on outgoing calls 
for the service group, whereas the inter-CUG option identifies if the service group is 
allowed to make calls outside the CUG or receive calls from outside the CUG. 
CUG Info This identifies per closed user group (CUG)
■ CUG subscription list
■ CUG feature list
CUG Subscription For each subscription, this parameter provides the following 
information:
■ CUG index
■ CUG interlock
■ Intra-CUG restrictions
■ Basic service group list

612      Chapter 11
CUG Subscription Flag This indicates that a subscriber with a T-CSI also has a CUG 
subscription. 
Current Location Area ID This is the location area in which the subscriber is currently 
located. 
Current Password This identifies the password used by a subscriber to control a 
supplementary service. 
Delivery Outcome Indicator This indicates that the delivery outcome sent to the HLR 
is for GPRS.
Destination Address This is the SCCP address contained in the global title parameter. 
Actual use is implementation-dependent and in some cases can be the point code of the 
entity actually issuing the primitive.
Destination Reference The destination reference is typically the same as the destination 
address (but can be different), but the intent of this parameter is to identify the destination 
for the MAP level. Only a limited number of services can use this parameter:
■ MAP_REGISTER_SS
■ MAP_ERASE_SS
■ MAP_ACTIVATE_SS
■ MAP_DEACTIVATE_SS
■ MAP_INTERROGATE_SS
■ MAP_REGISTER_PASSWORD
■ MAP_PROCESS_UNSTRUCTURED_SS_REQUEST
■ MAP_UNSTRUCTURED_SS_REQUEST
■ MAP_UNSTRUCTURED_SS_NOTIFY
■ MAP_FORWARD_SHORT_MESSAGE
■ MAP_REGISTER_CC_ENTRY
■ MAP_ERASE_CC_ENTRY
The reference value will be the IMSI identifying the subscriber.
Diagnostic Information This is used with the user reason parameter to identify why 
resources are unavailable. The possible values include
■ Resource limitation (congestion)
■ Resource unavailable (short-term/long-term problem)

Mobile Application Part (MAP)      613
■  Application procedure cancellation (handover cancellation, radio channel release, 
network path release, call release, associated procedure failure, tandem dialog 
released, remote operations failure)
■ Procedure error
eMLPP Information This defines the priority level to be used when establishing a call 
using eMLPP:
■ Maximum entitled priority
■ Default priority
The maximum entitled priority identified the highest priority a subscriber can assign 
to a call, whereas the default priority identifies which priority level to use as a default 
in the event that the subscriber does not enter a priority value. 
Equipment Status This identifies the status of the mobile subscribers’ equipment.
Extensible Basic Service Group Used only for subscriber profile management, this 
parameter refers to either a basic extensible teleservice or a basic extensible bearer 
service. The value of null is used to refer to a group of all extensible teleservices and 
all extensible bearer services. 
Extensible Bearer Service Used for subscriber profile management, this parameter 
refers to a single bearer service, a set of bearer services, or all bearer services. 
Extensible Call-Barring Feature This gives the status of call-barring services per basic 
service group as follows:
■ Extensible basic service group
■ Provisioned supplementary service status
Extensible Call-Barring Information The provides the following information for each 
call-barring service:
■ Supplementary service code
■  List of call extensible barring feature parameters (one item per basic service group)
Extensible Forwarding Feature This applies to each combination of the forwarding 
service with the following information:
■ Extensible basic service group
■ Extensible supplementary services status

614      Chapter 11
■ Forwarded-to number
■ Forwarded-to subaddress
■ Extensible forwarding options
■ Extensible no reply condition timer
Extensible Forwarding Information This parameter identifies
■ The supplementary service code of the call-forwarding service
■ A list of forwarding-feature parameters (one list per basic service group)
Extensible Forwarding Options This refers to forwarding options assigned to supple-
mentary services providing the following information:
■ Notification to forwarding party
■ Redirection notification to the forwarded-to party
■ Notification to calling party
■ Redirecting presentation
■ Forwarding reason
Extensible No Reply Condition Timer This refers to the timer associated with call 
forwarding when there is no reply.
Extensible SS Data This is used to define a supplementary service:
■ Supplementary service code
■ Extensible supplementary service status
■ Extensible override subscription option
■ Extensible CLI restriction
■ Extensible basic service group code
Extensible SS Info Associated with supplementary services, this parameter relates to 
all the information related to supplementary services. Four choices are available:
■ Extensible forwarding information
■ Extensible call-barring information
■ CUG information
■ Extensible SS data

Mobile Application Part (MAP)      615
Extensible SS Status This provides the status of requested supplementary services.
Extensible Teleservice Used only for subscriber profile management, this parameter 
refers to a single teleservice, a set of teleservices, or all teleservices. 
External Client List This is used to identify the external clients that are allowed 
to locate a mobile subscriber for non-call-related location requests (MT-LR).  
An international E.164 address is used to identify each client. If it is indicates that the 
mobile subscriber is to receive notification of any MT-LRs, this parameter also should 
identify whether or not notification or notification with privacy verification is to  
be used. 
External Signal Information This is used by other protocols (as indicated by the protocol 
ID) to carry information via the MAP.
Forward Interrogation Required This is used when the VMSC is requesting the gateway 
MSC to resume call control of a forwarded call. The gateway MSC then queries the HLR 
to determine where a call is to be forwarded. 
Forwarded-to Number This is the number to which a call is to be forwarded, including 
a subaddress if one exists.
Forwarded-to Subaddress This is the subaddress associated with a forwarded-to 
number.
Forwarding Feature This provides forwarding information for each basic service group:
■ Basic service group
■ Supplementary service status
■ Forwarded-to number
■ Forwarded-to subaddress
■ Forwarding options
■ No reply condition timer
Forwarding Information This provides additional information on successful forward-
ing of a call:
■ Supplementary services code for the relevant call-forwarding service
■  List of call-forwarding parameters (if needed, the list can contain one entry for 
each basic service group)

616      Chapter 11
Forwarding Options This identifies which forwarding option is assigned to a supple-
mentary service:
■ Notification to forwarding party
■ Notification to calling party
■ Redirecting presentation
■ Forwarding reason
Forwarding Reason This identifies why a call is to be forwarded:
■ Subscriber busy
■ Subscriber not reachable (mobile only)
■ No subscriber reply
GGSN Address This is the IP address of the GGSN.
GGSN Number This is the ISDN number of the GGSN. If a protocol converter is 
used between the GGSN and HLR, then this represents the number of the protocol 
converter.
GMLC List This contains the addresses of all GMLCs that are allowed to send non-call-
related location requests (MT-LRs) for the indicated mobile subscriber. 
GMLS List Withdraw This instructs the VLR to delete the LCS GMLC data for a sub-
scriber unless received by the SGSN. If received by the SGSN, it is ignored.
GMSC CAMEL Subscription Information This contains CAMEL subscription information, 
letting the GSMC know if CAMEL service should be invoked for an incoming call.
GPRS Node Indicator This indicates that the network node number sent by the HLR 
is the SGSN number.
GPRS Subscription Data This provides a list of PDP contexts to which a subscriber has 
subscribed. 
GPRS Subscription Data Withdraw This indicates that the GPRS subscription data are 
to be deleted from the SGSN. 
GPRS Support Indicator This indicates that the SMS-GMSC supports delivery of SMS 
via MSC and/or SGSN.
Group Identification This is the group or groups to which a subscriber belongs, used to 
indicate what groups a subscriber has subscribed to. 

Mobile Application Part (MAP)      617
GSM Bearer Capability This refers to the GSM bearer capability element. 
GSMC Address This is the E.164 number assigned to a GSMC.
Guidance Information This is used to prompt or guide a subscriber through password 
registration. The following information is given:
■ “Enter password.”
■ “Enter new password.”
■ “Reenter new password again.”
Handover Number This is the number assigned by an MSC during a handover. It is 
used by MSCs for routing of calls during handover.
HLR Identification This is the number associated with an HLR as derived from an IMSI.
HLR Number This is the ISDN number associated with an HLR.
HO Number Not Required This indicates that no handover allocation is required.
IMEI The International Mobile Equipment Identity (IMEI) is a unique number assigned 
by manufacturers to mobile equipment, much like a serial number. 
IMSI The International Mobile Subscriber Identity (IMSI) identifies each mobile 
subscriber for authentication and security. 
Inter-CUG Options This is used to identify what types of calls the subscriber is allowed 
to make inside and outside the CUG. Values are
■ CUG only facility (can only make calls within the CUG)
■ CUG with outgoing access (can make calls outside the CUG)
■ CUG with incoming access (calls from outside the CUG are allowed)
■ CUG both incoming and outgoing access (all calls allowed)
Internal Client List This parameter identifies the internal clients that are allowed to 
locate a mobile subscriber for an NI-LR or MT-LR. This is applicable only for PLMN 
operator privacy class.
Interrogation Type This identifies the type of interrogation for routing information and 
is sent by the GSMC to an HLR. The following values are supported:
■ Basic call
■ Forwarding

618      Chapter 11
When the call has not yet been sent to the VMSC, the basic call value is used to obtain 
call routing information. When a call has been forwarded to another number, the VMSC 
uses the forwarding value.
Intra-CUG Restrictions This identifies any call restrictions a subscriber may have 
within a CUG. Values are
■ No restrictions
■ CUG incoming calls barred (cannot receive calls from within the CUG)
■ CUG outgoing calls barred (cannot make calls within the CUG)
Invoke Identification Consider this the unique identifier for each invoke sent by the 
service user. This is used to correlate responses and additional information regarding 
a transaction associated with a transaction in progress. 
Kc This contains a key to be used for ciphering.
LCS Client ID This is the identity of an LCS client.
LCS Event This is an event associated with triggering of a location estimate.
LCS Information This provides the definition of LCS related to a specific subscriber.  
It contains the following components:
■ GMLC list
■ LCS privacy exception list
■ MO-LR list
LCS MLC Data This identifies GMLCs authorized to send location requests for a 
subscriber.
LCS Priority This identifies the priority of a location request.
LCS Privacy Exceptions This uses distinct supplementary services codes for assign-
ment to a subscriber’s privacy exception list:
■ Universal class
■ Call-related value-added class
■ Non-call-related value-added class
■ PLMN operator class
LCS Privacy Exception List This identifies the class of LCS clients allowed to locate the 
specified mobile subscriber. Each class is defined by the following components:

Mobile Application Part (MAP)      619
■ Supplementary services code
■ List of LCS privacy exception parameters
LCS Privacy Exception Parameters This is used to identify the status of any LCS privacy 
exception class. The following information is provided:
■ Provisioned supplementary services status
■ Privacy notification to mobile subscriber 
■ External client list
■ Internal client list
LCS QoS This provides the QoS for LCS:
■ Response time
■ Low delay
■ Delay tolerant
■ Horizontal accuracy
■ Vertical coordinate
■ Vertical accuracy
Linked Identification When linking services, the link identification will assume the 
value of the invoke identification to which it is being linked.
LMSI This is allocated by a VLR as a local identifier for a subscriber and is used inter-
nally by the VLR for data management. Used in GPRS networks.
LMU Indicator This indicates the presence of an LMU.
LMU Number This is the local number assigned by the SMLC to an LMU.
Location Estimate This provides universal coordinates for a subscriber and indicates 
the accuracy of the coordinates.
Location Information This identifies the location of a subscriber. 
Location Type This indicates the type of location estimate:
■ Current location
■ Current or last known location
■ Initial location for emergency services call

620      Chapter 11
Location Update Type This identifies the location update type:
■ Normal
■ Periodic
■ IMSI attach
LSA Information This identifies the localized service areas a subscriber may be a mem-
ber of, as well as what privileges the subscriber has in these localized serving areas. 
Also includes
■ Priority
■ Preferential access indicator
■ Active mode support indicator
■ Active mode indication
LSA Information Withdraw This instructs the VLR or the SGSN to delete the LSA in-
formation stored for a subscriber. 
MLC Number This is the ISDN number assigned to the MLC.
Mobile Not Reachable Reason This identifies why a mobile subscriber was unreachable 
when a short message delivery was attempted by either the MSC and/or the SGSN.
Mobile-Originating Location Request (MO-LR) This is used to assign unique supplemen-
tary service codes to several classes of MO-LR:
■ Basic self-location
■ Autonomous self-location
■ Transfer to third party
MO-LR List This identifies the classes of MO-LR that exist for each mobile subscriber 
for which there is a subscription. The supplementary services code is provided. 
More Messages to Send This indicates whether the SMSc has more messages to be sent.
MSC Number This is the ISDN number associated with an MSC.
MSISDN This is one of the ISDN numbers assigned to a subscriber.
MSISDN Alert This identifies the MSISDN of a subscriber who has a message-waiting 
indicator in the HLR. The HLR uses this information to notify the service center when 
a subscriber is attainable again.

Mobile Application Part (MAP)      621
MWD Status This indicates whether the originating address of the service center is 
present in the message-waiting data file. It also contains status information for
■ Memory capacity exceeded flag (MCEF)
■ Mobile subscriber not reachable flag (MNRF)
■ Mobile station not reachable for GPRS flag (MNRG)
NA-ESRD This provides the Emergency Services Routing Digits for North American 
Emergency Call Services.
NA-ESRK This is used for emergency calls in North America, providing the Emergency 
Services Routing Key.
Network Node Number This identifies the ISDN number of either the MSC or the 
SGSN.
Network Resources This refers to a class of network service:
■ PLMN
■ HLR
■ VLR (current or previous)
■ MSC (controlling or current)
■ EIR
■ Radio subsystem
Network Signal Information This is transported as external signal information with a 
protocol ID of ETS 300 102-1.
New Password This refers to a password that a subscriber has just registered in the 
network that is used by the subscriber for supplementary service control. 
No Reply Condition Timer This refers to the timer used to forward a call when there is 
no reply from the subscriber.
North American Equal Access Preferred Carrier Identification This is the carrier selected 
by the subscriber to be used for outgoing, roaming, and forwarded calls. This becomes the 
default carrier ID for all calls unless the subscriber dials a carrier code during call setup.
Number Portability Status This indicates the number portability status of a subscriber 
(has the subscriber’s number been ported or not). 
O-CSI This indicates that the subscriber has initiated CAMEL services.

622      Chapter 11
OMC Identification This identifies an Operations and Maintenance Center (OMC).
Operator-Determined Barring (ODB) HPLMN Specific Data This is used in the same man-
ner as the ODB General Data parameter, but the values are generic, providing the 
operator with a means of defining their own definitions for the parameter values. There 
are four possibilities:
■ Operator-Determined Barring Type 1
■ Operator-Determined Barring Type 2
■ Operator-Determined Barring Type 3
■ Operator-Determined Barring Type 4
Operator-Determined Barring (ODB) General Data This refers to the set of subscriber 
features that the VLR or SGSN can control. These feature values are
■ All outgoing calls barred
■ International outgoing calls barred
■ International outgoing calls except those to the home PLMN country barred
■ Interzonal outgoing calls barred
■ Interzonal outgoing calls except those to the home PLMN country barred
■  Interzonal and international outgoing calls except those directed to the home 
PLMN country barred
■ Premium rate information outgoing calls barred
■ Premium rate entertainment outgoing calls barred
■ Supplementary service access barred
■ Invocation of call transfer barred
■ Invocation of chargeable call transfer barred
■ Invocation of internationally chargeable call transfer barred
■ Invocation of interzonally chargeable call transfer barred
■ Invocation of call transfer where both legs are chargeable barred
■  Invocation of call transfer if there is already an ongoing transferred call for the 
served subscriber in the serving MSC/VLR barred
Optimally Routed (OR) Capability This indicates which level of optimal routing is sup-
ported by the GMSC.
Optimally Routed (OR) Interrogation This indicates that the MSC interrogating the HLR 
is not in the same PLMN as the HLR and therefore that optimal routing will be used. 

Mobile Application Part (MAP)      623
Originally Dialed Number In the event that the called number is changed to reflect 
number portability or if a call has been forwarded, this parameter will identify the 
digits originally dialed by a subscriber.
Originating Address This is the SCCP address contained in the global title parameter. 
The actual use is implementation-dependent and in some cases can be the point code 
of the entity actually issuing the primitive.
Originating Entity Number This is the ISDN number of a system component.
Originating Reference As is the case with the destination reference, the originating refer-
ence is typically the same as the originating address but also can be the point code of the 
entity issuing the primitive. Only a limited number of services can use this parameter:
■ MAP_REGISTER_SS
■ MAP_ERASE_SS
■ MAP_ACTIVATE_SS
■ MAP_DEACTIVATE_SS
■ MAP_INTERROGATE_SS
■ MAP_REGISTER_PASSWORD
■ MAP_PROCESS_UNSTRUCTURED_SS_REQUEST
■ MAP_REGISTER_CC_ENTRY
■ MAP_ERASE_CC_ENTRY
The reference value will be the ISDN address string.
Override Category This refers to the restriction level of a subscriber attached to a 
supplementary service. Two values are supported:
■ Enabled
■ Disabled
PDP Address  This identifies the address of the data protocol used by the mobile 
subscriber. 
PDP Context Identifier This identifies a PDP context for a subscriber.
PDP Type This identifies the protocol used by the mobile subscriber (GSM 3.60). 
Previous Location Area Identification This identifies the area from which a roamer came 
from prior to roaming into the network.

624      Chapter 11
Privacy Notification to MS User When a mobile subscriber receives an MT-LR that 
is restricted and the mobile subscriber has non-call-related privacy class defined, 
this parameter indicates whether the mobile subscriber can accept or override  
the restriction. If a call-related privacy class is defined, then this parameter 
identifies whether notification or notification with privacy verification should  
be used. 
Privacy Override This indicates if privacy override is supported when the gateway 
MLC and VMSC for an MR-LR are in the same country.
Problem Diagnostic This identifies the source of a protocol error, consisting of the 
following values:
■ Abnormal event detected by the peer
■ Response rejected by the peer
■ Abnormal event received from the peer
■ Message cannot be delivered to the peer
Protocol Identifier This identifies the protocol that is contained in the external signal 
information as follows:
■ 4.08
■ 8.06
■ ETS 300 102-1
Provider Error When there is a protocol error, the service provider will send this 
parameter indicating what type of error occurred. The values can be
■ Duplicated invoke ID
■ Not supported service
■ Mistyped parameter
■ Resource limitation
■ Initiating release
■ Unexpected response from the peer
■ Service completion failure
■ No response from the peer
■ Invalid response received
When the initiating release value is used, it indicates that a peer has already requested 
a release of the dialogue, and therefore, the dialogue must be released.

Mobile Application Part (MAP)      625
Provider Reason This identifies why the service provider is aborting a dialog. The fol-
lowing parameters are used:
■ Provider malfunction
■ Supporting dialog/transaction released
■ Resource limitation
■ Maintenance activity
■ Abnormal MAP dialog
■ Version incompatibility
Provider Reason
Source
Corresponding Event
Provider malfunction
MAP
The peer entity has a failure at the MAP level.
TCAP
The following will coincide:
Unrecognized message type
Badly formatted transaction portion
Incorrect transaction portion sent in TC-P-ABORT 
Abnormal dialog
Network service
The peer entity has a failure at the network level.
Supporting dialog/ 
 transaction released
TCAP
Unrecognized transaction ID sent in TC-ABORT 
Resource limitation
MAP
Congestion toward MAP peer service user
TCAP
Resource limitation received in TC-P-ABORT
Maintenance activity
MAP
Maintenance at MAP peer service user
Network service
Maintenance at network peer service level
Abnormal MAP dialog
MAP
The MAP dialog does not follow the specifications
 for the specified application context 
Version incompatibility
TCAP
No common dialog portion sent in TC-P-ABORT
 when a dialog is being established
Refuse Reason If the dialog is refused by the destination entity, this parameter will 
identify why the dialog was refused. The value will be one of the following:
■ Application context not supported
■ Invalid destination reference
■ Invalid origination reference
■ No reason given
■ Remote node not reachable
■ Potential version incompatibility
Release Method There are only two values for this service:
■ Normal release
■ Prearranged end

626      Chapter 11
Responding Address If the responding entity is different from the destination address, 
then this parameter will contain that address.
Result This indicates whether the dialog request was accepted or not. 
Source This is used in the MAP_P_ABORT service to identify the source of an abort. 
It is used along with the provider reason parameter. The following table identifies the 
corresponding events that can be expected for each of the provider reasons, along with 
the source for the corresponding event.
Specific Information Specific user information can be passed using this parameter. 
Operations are defined by the service provider and are not defined by the GSM standards.
User Reason There are four values:
■ Resource limitation
■ Resource unavailable
■ Application procedure cancellation
■ Procedure error
Resource limitation indicates that the user resource is congested, whereas resource 
unavailable is used to indicate all other reasons. The application procedure cancellation 
will indicate cancellation of a procedure because of reasons identified in the diagnostic 
information parameter. Procedure error indicates just that.
QoS Subscribed This parameter identifies what QoS is subscribed for a specific service. 
Rand This is a random number used for authentication of a subscriber.
Regional Subscription Data This parameter consists of a list of zone codes identifying 
the areas a subscriber is allowed to roam. 
Regional Subscription Response This parameter can mean either that the regional 
subscription data cannot be handled or that the entire SGSN or MSC is restricted.
Requested Information This identifies the subscriber information being requested.
Roaming Number The number is assigned to roamers.
Roaming Restriction due to Unsupported Feature This indicates that a subscriber is 
not allowed to roam in a specific area. This is also used by the HLR if a nonsupported 
service is requested of the VLR. 

Mobile Application Part (MAP)      627
Service Center Address This is the address of an SMS service center.
Serving Cell Identifier This identifies the cell currently providing a subscriber with 
service.
SGSN Address This is the IP address of an SGSN. 
SGSN Number  This is the ISDN number of an SGSN.
SIWFS Number This is the number used to route a call between the MSC and SIWFS.
SoLSA Support Indicator This indicates whether the SGSN or VLR supports an SoLSA 
subscription. 
SM Delivery Outcome When a subscriber is unavailable for a short message, this 
parameter is used to indicate why the message-waiting data have been set. The 
following values are supported:
■ Absent subscriber
■ Mobile subscriber memory capacity exceeded
■ Successful transfer
SM-RP-DA When the short message service sublayer protocol is used, this parameter 
represents the destination address. The supported values are
■ IMSI
■ LMSI
■ MSISDN
■ Roaming number
■ Service center address
SM-RP-MTI This is used to distinguish between a normal mobile-terminating short 
message and a short message sent to a mobile subscriber to acknowledge a mobile-
originated message sent by the same subscriber. 
SM-RP-OA When the short message sublayer protocol is used, this parameter contains 
the originating address. Two values are supported:
■ MSISDN
■ Service center address

628      Chapter 11
SM-RP-PRI This indicates whether message delivery is to be attempted when there is 
an SMSc address in the message-waiting file.
SM-RP-SMEA This provides the short message entity address of the entity that origi-
nated a short message. 
SM-RP-UI When the short message sublayer protocol is used, this parameter repre-
sents the user data of the message. 
Sres This provides the response to an authentication request.
SS Code This is used in other parameters to identify supplementary services. Its uses 
vary depending on the MAP service being provided. For example, it may be used to 
identify a service to deactivate or to activate. Values are
■ Calling-line identification presentation service (CLIP)
■ Calling-line identification restriction service (CLIR)
■ Connected-line identification presentation service (COLP)
■ Connected-line identification restriction service (COLR)
■ Calling-name presentation (CNAP)
■ All call-forwarding services
■ Call waiting (CW)
■ Call hold (HOLD)
■ Multiparty service (MPTY)
■ Closed user group
■ All charging services
■ All call-restriction services
■ Explicit call-transfer service (ECT)
■ Enhanced multilevel precedence and preemption service (eMLPP)
■ Completion of calls to busy subscriber, originating side (CCBS-A)
■ Completion of calls to busy subscriber, destination side (CCBS-B)
■ All LCS privacy exceptions
■ Mobile-originated location request (MO-LR)
SS Data This is used to classify a supplementary service or acknowledge that a supple-
mentary service was activated and provides:
■ SS code
■ SS status

Mobile Application Part (MAP)      629
■ Override subscription option
■ Calling-line identification (CLI) restriction
■ Basic service group code
SS Event This is used to indicate the supplementary service that an invocation notifi-
cation has been sent to the gsmSCF. There are three values:
■ Explicit call transfer (ECT)
■ Call deflection (CD)
■ Multiparty call (MPTY)
SS Event Data This provides additional information when supplementary services are 
invoked:
■ List of all called-party numbers involved (ECT)
■ The called-party number involved (CD)
SS Information This refers to all the information available for a supplementary 
service:
■ Forwarding information
■ Call-barring information
■ CUG information
■ Supplementary service data
■ eMLPP information
SS Status This identifies the status of individual supplementary services. 
Stored Location Area Identifier This is the location area in which the subscriber is  
assumed to be located.
Subscriber State This defines the state of the mobile subscriber. 
Subscriber Status This refers to the barring status of a subscriber. Values are
■ Service granted
■ Operator determined barring
Supported CAMEL Phases This identifies which CAMEL phases are supported. 
Suppress T-CSI This suppresses terminating CAMEL services.

630      Chapter 11
Suppression of Announcement This identifies whether an announcement should be 
suppressed. 
Target Cell Identifier This is the cell ID where a call is to be handed over.
Target Location Area Identifier This is the location area in which the subscriber intends 
to roam.
Target MSC Number This is the ISDN number of the MSC to which a call is to be 
handed over.
Teleservice Used by supplementary service management, this parameter refers to an 
individual teleservice, group of teleservices, or all teleservices.
TMSI The Temporary Mobile Subscriber Identity (TMSI) is used to identify a sub-
scriber within the VLR. 
Trace Reference This is managed by OMC and provides a unique reference number 
associated with a trace.
Trace Type This identifies the type of trace.
User Error This identifies errors initiated by the service user. There are several classes 
of errors:
■ Generic errors
■ Identification or numbering problem
■ Subscription problem
■ Handover problem
■ Operation and maintenance problem
■ Call setup problem
■ Supplementary services problem
■ Short message problem
■ Location services problem
Generic errors:
■  System failure. An entity has failed, usually identified by the network resource 
parameter.
■  Data missing. An optional parameter that is required for the specific function or 
transaction is missing.

Mobile Application Part (MAP)      631
■  Unexpected data value. The value of the parameter may be syntactically correct 
but does not match the current context.
■  Resource limitation. The requested resource does not have capacity to complete the 
transaction.
■  Initiating release. The receiving entity already has begun the release process and 
is disconnecting the dialogue.
■ Facility not support. The facility requested is not supported by the network.
■ Incompatible terminal. The facility requested is not supported by the terminal.
Identification or numbering problem:
■ Unknown subscriber. Subscriber does not exist.
■  Number changed. The requested subscriber number has been changed, or the  
subscription does not exist at the requested number.
■ Unallocated roaming number 
■ Unknown equipment
■ Unknown location area
Subscription problem:
■  Roaming not allowed. A subscriber is attempting a location update in an area not 
supported by the plan.
■  Illegal subscriber. The subscriber failed authentication.
■  Bearer service not provisioned. The bearer service being requested has not been 
provisioned in the network.
■  Teleservice not provisioned. The teleservice being requested has not been provi-
sioned in the network.
■  Illegal equipment. The IMEI of a subscriber is either blacklisted or not present in 
a white list.
Handover problem:
■ No handover number available 
■ Subsequent handover failure. A handover to a third MSC has failed.
Operation and maintenance problem:
■  Tracing buffer full. Tracing cannot be performed because the buffer used for 
tracing is full.

632      Chapter 11
Call-setup problem:
■  No roaming number available. All available numbers are in use, and therefore a 
number cannot be allocated.
■  Absent subscriber. The subscriber either has initiated the detach service or has 
been detached by the network.
■ Busy subscriber. Subscriber cannot be reached due to busy condition.
■ No subscriber reply. The subscriber does not reply to the network.
■  Forwarding violation. The number already has been forwarded the maximum 
number of times supported by the service.
■  CUG reject. The number called belongs to a closed user group, and the call was 
rejected for reasons identified. May be because incoming calls are barred or because 
the number is not a member of the closed user group (CUG).
■  Call barred. Either the call is barred by the subscriber or the operator has blocked 
the call. SMS also can be barred if the originator is not valid or allowed to send 
SMS to this network.
■  Optional routing not allowed. The entity does not support optimal routing proce-
dures, or the HLR does not support optimal routing interrogation.
■  Forwarding failed. When the HLR was queried for forwarding information, an er-
ror was returned.
Supplementary services error:
■ Call barred 
■ Illegal SS operation
■ SS error status
■ SS not available
■ SS subscription violation
■ SS incompatibility
■ Negative password check
■ Password registration failure
■ Number of password attempts
■ USSD busy
■ Unknown alphabet
■ Short-term denial
■ Long-term denial

Mobile Application Part (MAP)      633
Short message problem:
■ Delivery failure due to
■ Memory capacity exceeded
■ Mobile subscriber protocol error
■ Mobile subscriber not equipped
■ Unknown service center
■ Service center congestion
■ Invalid SME address
■ Subscriber is not a service center subscriber
■ Message waiting list full. No more service center addresses can be added.
■  Subscriber busy for SMS MT. The subscriber is unable to receive a mobile termi-
nated SMS because
■  The subscriber is already receiving an SMS, and the delivery node does not 
support message buffering.
■  The subscriber is already receiving an SMS, and the message cannot be buffered 
for later delivery.
■  The message was buffered but cannot be delivered before it expires.
■  Absent subscriber short message. The network cannot contact the subscriber; 
therefore, the message cannot be delivered.
Location services problem:
■ Unauthorized requesting network 
■ Unauthorized LCS client with detailed reason
■ Unauthorized privacy class
■ Unauthorized call unrelated external client
■ Unauthorized call related external client
■ Privacy override not applicable
■ Position method failure with detailed reason as follows:
■ Congestion
■ Insufficient resources
■ Insufficient measurement data
■ Inconsistent measurement data
■ Location procedure not completed

634      Chapter 11
■ Location procedure not supported by target mobile subscriber
■ Quality of service not obtainable
■ Position method not available in network
■ Position method not available in location area
■ Unreachable or unknown LCS client
Unstructured Supplementary Service Data (USSD) Coding Scheme This information con-
tains the alphabet and language used for USSD, coded in accordance with the Cell 
Broadcast Data coding scheme.
USSD String This is unstructured data sent either by the subscriber or by the network 
and coded according to the USSD coding scheme.
UU Data This is used to send user-to-user data.
UUS CF Interaction This indicates if call forwarding or call deflection has been initiated 
after UUS1 has been requested.
Voice Broadcast Service (VBS) Data This identifies what groups a subscriber is allowed to be 
a member of, as well as what privileges are allowed (listen only or be an active member). 
Voice Group Call Service (VGCS) Data This identifies a group or groups that a sub-
scriber can be a member of for group voice calls. 
VLR CAMEL Subscription Information This is used to indicate that the subscriber has 
CAMEL services invoked by the MSC.
VLR Number This is the ISDN number associated with a VLR.
VMSC Address This is the E.164 address of a VMSC.
VPLMN Address Allowed This identifies whether a subscriber is allowed a dynamic 
address allocated within the PLMN. 
Zone Code Location codes are provided for each area in which a subscriber is allowed 
to roam. These codes are used by the VLR or SGSN to determine quickly if roaming is 
permitted for any one subscriber in specific areas. The VLR or SGSN will have a com-
plete list of zone codes for each subscriber.
MAP Procedures
To understand how the MAP works, it helps to understand what happens when a mobile 
subscriber activates the phone and initiates a call. While this section does not provide 
an exhaustive description of the many processes and procedures that occur within the 

Mobile Application Part (MAP)      635
GSM network, it does provide a high-level overview of some of the procedures to further 
your understanding of MAP. 
The first and most important step to being able to make and receive wireless calls 
is registering with the network. When a mobile telephone is powered up, a signal is 
sent from the mobile telephone to the network. This signal provides registration infor-
mation, which is stored in the home HLR and VLR and, if the mobile telephone is in 
another network, in the visiting VLR as well.
The registration is sent to the MSC, which manages the registration of all mobile 
phones in its network. The MSC checks the HLR to determine whether the mobile 
phone should receive service. The MSC forwards the message to the VLR. The VLR 
updates an existing record if one exists. If there is no existing record for this mobile 
subscriber (remember that the VLR is dynamic), a record is created. The VLR notifies 
the home HLR and requests a service profile to be used for the new record. The HLR 
sends the profile after authentication has been completed (a check to make sure that 
there are no flags on record to deny service to the specified subscriber).
There is always a chance that the mobile phone is registered in another VLR some-
where. The HLR knows the last serving MSC and can determine if a record exists in 
another VLR somewhere. In this case, the home HLR must send a message to that VLR 
instructing it to flush the record from its database.
When you dial a mobile telephone number, the office code of that number identifies 
the MSC that is registered as the home MSC for the subscriber. The subscriber may or 
may not be in that network, and the MSC must determine how to route the call. When 
the MSC receives the call, it examines the called number and queries its HLR. The HLR 
will identify the last MSC to serve the mobile phone. If the last MSC was the home 
MSC, the MSC can query the VLR to determine exactly which cell the mobile phone is 
now in. If it is registered in another MSC, the home MSC must transfer the call to the 
serving MSC.
Before the transfer can take place, the home VLR must determine how to route the 
call to the now-serving MSC. The home VLR queries the serving MSC to determine how 
to connect the call and receives a temporary local directory number (TLDN) from the 
serving MSC. This TLDN is entered into the VLR, which then will update the HLR for 
future calls. The home HLR then sends the TLDN to the home MSC, which forwards 
the call to the TLDN.
The VLR in the visited area identifies which cell is serving the mobile phone and 
determines whether the mobile phone is active or inactive. If it is active, the MSC sends 
a signal out to the BSC requesting that the mobile phone be paged. The BSC will order 
the BTS to send a paging signal out to the mobile phone on the control channel for that 
cell. The paging signal will tell the mobile phone which frequency to use to receive the 
call on.
When the mobile phone receives the paging signal, it switches to the proper fre-
quency and sends confirmation to the BTS, which, in turn, sends confirmation to the 
BSC. The call now can be routed from the MSC all the way through to the mobile phone. 
All this does take time, longer than wireline services would. You will notice a delay in 
the call setup when you dial a mobile telephone number, especially if the person you 
are calling is out of his or her home area.

636      Chapter 11
As the subscriber moves about the network, he or she eventually moves out of range 
of the serving MSC and associated BSS and roams into the service area of another 
MSC. If this takes place while a call is in progress, the call in progress must be “handed 
over” to the now-serving MSC. 
The trick is maintaining the call connection while the handover takes place, but the 
GSM services manage the connections along the way to ensure that the call connec-
tion is not lost throughout the entire call handover procedure. Once the handover is 
complete, any registration records in the VLR that was serving the subscriber previ-
ously need to be erased from the VLR. This, of course, is done under the command of 
the now-serving VLR. 
This is a rather simplistic view of some of the simpler procedures supported under 
MAP. There are many more complex procedures that are outside the context of this 
chapter. Hopefully, this brief explanation gives an idea of what MAP is all about and 
how it keeps the wireless network operating.

Chapter
12 
Applications, Monitoring, and OSS
One of the promises of the Intelligent Network (IN) has been the creation of new 
services. These services take many different forms and certainly have changed how 
we communicate. If not for the IN and the underlying protocols of Signaling System 7 
(SS7), we would not be able to realize the many features we take for granted today. For 
example, take the simple function of displaying one’s name on a telephone display when 
a call is received. Without the ability to tap into a database and compare the telephone 
number with a list of names, we would be limited to sharing the caller identification, 
and even this would not be possible without SS7. 
Just as important are the systems that sit behind the network. Operational Support 
Systems and Business Support Systems (OSS/BSS) have become critical to ensuring the 
integrity of the network, as well as being able to bill for even basic services. Even these 
systems have evolved through the years to include signaling in many new aspects. SS7 
now has become a vital source of intelligence, in addition to controlling the network 
and its services. In the following section we will look first at how applications in the 
network work and what role SS7 plays in these applications. Then we will look at OSS/
BSS and examine how these have evolved to become critical business tools.
Network Services and Applications
In this section we will discuss the various features supported by the network itself, for 
example, the display of the calling party’s name on the terminating phone. This and the 
other features we will talk about are possible because of the functions of SS7 and the net-
work elements in the IN. There are many other examples of applications supported by the 
network, but for brevity, we will limit our discussion to these mainstream applications. 
Number Portability
Number portability was mandated in the United States in 1997 to support competition 
among operators. The concept was that subscribers would be more likely to change 
637

638      Chapter 12
telephone service providers if they did not have to change their numbers when doing 
so. Until that time, telephone numbers were assigned to operators in large blocks. The 
operators assigned the numbers in ranges to specific class 5 switches. This is why areas 
were divided into exchanges in the early days of telephony. Each exchange supported a 
specific range of numbers beginning with the exchange prefix (the first three numbers 
of the telephone number, right after the area code). 
Because of this method of number assignment, it was easy to determine where a call 
was coming from simply by the telephone number. Specifically, you could look at the 
area code and the exchange and know immediately where the call was originated. In 
today’s Internet-based society, there is no longer any concept of geography. Someone 
could be communicating from anyplace, and you, as the recipient of that communica-
tion, have no idea where the communication originated. 
The deployment of number portability [referred to as local number portability (LNP) 
in the United States] was completed in the top 100 markets by December of 1998. It 
was not until November of 2003 that mobile number portability was completed in the 
top 100 markets in the United States, among much controversy and many stalls. Today, 
several countries have adopted the policy of number portability and have begun their 
own implementations. 
There are three types of portability: service-provider portability, service portability, 
and location portability. The first type to be implemented was service-provider por-
tability. This allows a subscriber to change service providers without changing their 
telephone number. The subscriber’s location does not change, just their service provider. 
This means that the subscriber’s telephone number can no longer be tied to the switch 
serving their location. The telephone number becomes a virtual number (more on how 
this works in a minute). 
With service portability, a subscriber is allowed to change services without chang-
ing numbers. This became necessary when subscribers who currently had Plain Old 
Telephone Service (POTS) but wanted to change to Integrated Services Digital Network 
(ISDN) could not because they would have to change telephone numbers. The switches 
providing them with dial tone did not support ISDN, so their service would have to be 
moved to another switch that did support ISDN, requiring a number change. This also 
was supported in the initial implementation of LNP. 
The last form of portability is location portability, and this is still a controversial sub-
ject today. The idea is that subscribers can move from location to location, maintaining 
the same telephone number. The industry has fought the implementation of location 
portability, citing technical difficulties, as well as issues regarding the impact on other 
parts of the telephone network, such as back-office billing systems (where everything 
is geographically based). 
Ironically, location portability is one of the key attractions to Voice-over-IP (VoIP) 
service offerings. A subscriber to a VoIP service can have a telephone number from any 
city and can receive calls from anywhere in the world as long as they are connected to 
the Internet. It is not likely that we will ever see location portability adopted for use  
in the legacy telephone network, but certainly it will remain as one of the key drivers 
for those moving to VoIP service providers. 

Applications, Monitoring, and OSS      639
Figure 12.1 shows the architecture as deployed in the United States. There is one 
central authority in the United States and Canada responsible for the negotiation of 
number “porting” between operators and for communicating when a number is ported 
to all the other operators. This is the Number Portability Administration Center (NPAC) 
operated by Neustar.
Each operator connects its Service Order Administration (SOA) to the NPAC. When 
subscribers calls the operator and asks to have their service changed to a new operator 
and to have their number ported, the service provider enters this order into its SOA. 
The NPAC then is notified of the subscriber request and, in turn, notifies the current 
service provider for the subscriber and informs it of the service request. The current 
service provider then negotiates the “porting date” and time with the new operator 
through the NPAC. 
On the day the number porting takes place, the NPAC will send an update consisting 
of all the numbers added to the NP database to all connected operators. A connection 
requires an operator to pay a monthly fee to Neustar and to add a new service ele-
ment in its network called the Local Service Management System (LSMS). The LSMS 
receives all updates from the NPAC on a regular basis and manages the download of 
data to the various databases within an operator’s network.
Figure 12.1 Number portability architecture.
Operator A
Operator B
STP
Text
Text
STP
Text
Text
Number Portability Administration Center (NPAC)
Service Order
Administration
(SOA)
Service Order
Administration
(SOA)
LSMS
LSMS
Number
Portability
Database
Number
Portability
Database

640      Chapter 12
An operator may have multiple databases, especially if it covers a large geographic 
area. All these databases connect into one (or more) LSMSs. The NPAC will send all 
updates to each of the operator’s LSMSs partitioned into eight different partitions. 
Each partition covers a geographic area. The LSMSs are responsible for downloading 
the updates by NPAC region to the appropriate databases. For example, an operator 
may have two databases, one in NPAC region 1 and the other in NPAC region 4. The 
operator does not want all the updates, only those that have an impact on its two 
regions of coverage. The operator then would provision its LSMS to download updates 
for region 1 into its database located in that region, whereas updates for region 4 would 
be downloaded to the database in that region. 
The concept of NPAC regions is unique to the United States. Other countries have 
chosen slightly different models. In Europe, there is no one central authority respon-
sible for the number portability database. Each country is responsible for managing 
these itself. Some countries have adopted a model where each operator manages its 
own database updates and has the responsibility of working with other operators to 
synchronize their databases. This is not a problem in Europe because there are so few 
operators in most countries. 
The last element is the database itself. The database only contains the numbers 
actually ported to another operator. This is sometimes confusing because, as you will 
see, there are cases where every call requires a query to the portability database, but 
only to determine if the called number is resident in the portability database. This will 
become clearer when we look at actual call flows.
You are probably wondering at this point what all this has to do with SS7? 
When a call is made, the originating switch must determine how to route the call. 
In the days prior to LNP, the decision was based on the digits dialed. The area 
code would determine which network the call had to be routed to, and the prefix 
would determine which switch in the network would receive the call. This is legacy 
geographic-based routing. 
With LNP, the switch is unable to determine where the call is to be routed, so a 
database must be queried to determine how to route the call. The database will check 
to see if the dialed number has been ported to another operator and, if so, what the 
new routing number is. A routing number is just what it says, a second telephone 
number assigned in the LNP database for the purposes of routing the call using 
legacy routing techniques. This routing number is referred to as the Local Routing 
Number (LRN). 
If the number has not been ported, then the switch is notified by the LNP database 
to route the call using normal procedures (dialed digits). The party responsible for the 
actual database query depends largely on the implementation model chosen. To better 
understand this concept, we need to first define a few terms. 
The donor switch is the switch that surrendered the number to another operator. 
The donor switch will mark the number in its own translation tables as ported so that 
any calls received for that number can be rerouted. The switch receiving the number is 
referred to as the recipient switch. 

Applications, Monitoring, and OSS      641
There are four methods of routing:
■ Onward routing
■ Query on release
■ Drop back
■ All-call query
With onward routing, the originating switch routes the call based on the dialed digits 
(Figure 12.2). This means that the call will follow normal routing procedures and be 
routed to the donor switch. When the donor switch receives the call [through an initial 
address message (IAM)], it determines that the number has been ported. The donor 
switch then has the responsibility of sending a query to the LNP database to determine 
the location for the dialed number. 
After querying the LNP database, the donor switch receives the LRN for the number 
and forwards the call on to the recipient switch. This is depicted in the call flow in 
Figure 12.2. The fundamental flaw with this routing is in the number of trunks  
required to complete the call. This is not an efficient means of routing by any means. 
Query on release requires the call to be routed to the donor switch, and when the donor 
switch recognizes the number as ported, it sends a release message (REL) message with 
a cause code of “ported” back to the originating switch (Figure 12.3). The originating 
switch then must query the LNP database to determine the LRN for the number. Once 
the LRN is retrieved, the originating switch then reoriginates the call to the recipient 
switch. Obviously, this method of routing introduces unnecessary delay in setting up 
the call, as well as changes to the ISDN User Part (ISUP) protocol, and therefore was 
not implemented in the United States. 
Originating Switch
Call Routed to
Donor Switch
Donor “dips” Database
Database Returns LRN
Call Routed to Recipient Switch
Donor Switch
NP Database
Recipient Switch
Figure 12.2 Onward-routing call flow.

642      Chapter 12
Another method is known as drop back (Figure 12.4). The originating switch routes 
the call to the donor switch. The donor switch determines that the number has  
been ported and queries the number portability database to determine the LRN. 
Once the LRN is known, the donor switch returns this information to the originat-
ing switch in the form of an REL. The originating switch then reoriginates the call 
using the LRN to the recipient switch. This method also introduces postdial delay 
into the call.
Drop back was never actually implemented because it would require special changes 
to the ISUP protocol that allow the donor switch to send the LRN back to the originat-
ing switch. It also places the burden of a database query on the operator who lost the 
subscriber to begin with. This is not a fair practice because there is a cost associated 
with each query. 
Figure 12.3 Query-on-release call flow.
Originating Switch
Call Routed to
Donor Switch
Donor “dips” Database
Database Returns LRN
Call Routed to Recipient Switch
Donor Switch
NP Database
Recipient Switch
Figure 12.4 Drop-back call flow.
Originating Switch
Call Routed to Donor Switch
Donor Switch Returns LRN
Donor Switch
“dips” NP Database
Call Routed to Recipient Switch
Donor Switch
NP Database
Recipient Switch

Applications, Monitoring, and OSS      643
The last method is all-call query and has been implemented in the United States 
(Figure 12.5). While it introduces some postdial delay, this was the method operators 
felt was the most efficient. With all-call query, every call requires a query to the LNP 
database. This is done usually when one number within a number block has been ported 
to another operator. The operators then mark this number block in their switches as a 
ported block, which requires all calls to numbers within the number block to be queried 
prior to routing. 
The originating switch sends a query to the LNP database prior to routing the call 
to determine the LRN for the call. In the United States, it has been mandated that the 
n – 1 switch (next to the last switch in the call) ultimately is responsible for perform-
ing this query, but any switch along the way can perform the query if the operator  
so chooses. 
Even though this method of routing also introduces additional postdial delay, it still 
was seen as the most favorable method because it did not require changes to ISUP, the 
donor network was not involved in the query process, and in the long run this method 
had the least impact on all the networks involved. 
When a switch determines the LRN for a call, changes must be made to the SS7 ISUP 
IAM message. The dialed digits are no longer used for routing, but they are still used 
to determine jurisdiction for the call, which is used by billing systems for call rating. 
For this reason, the area code and prefix from the dialed digits (or, more accurately, the 
NPA-Nxx of the originating switch) are added to the jurisdiction parameter (JIP) in the 
IAM message. This allows billing systems to determine where the call originated and 
what digits were dialed originally, since the called-party number changes.
The LRN we spoke about earlier gets populated in the called-party number of the 
IAM message, which is why the JIP is needed for billing purposes. This LRN identifies 
the switch that now owns the number dialed. Every switch is assigned a unique LRN, 
just as every switch was assigned a block of numbers. 
The actual dialed digits are moved from the called-party address to the generic access 
parameter (GAP) in the SS7 ISUP IAM message. This is what the recipient switch uses 
to route the call to the subscriber.
Figure 12.5 All-call query call flow.
Originating Switch
Originating Switch
“dips” Database
Database Returns LRN
Call Routed to Recipient Switch
Donor Switch
NP Database
Recipient Switch

644      Chapter 12
When the originating switch queries the LNP database, it is using Transaction 
Capabilities Application Part (TCAP) and Signaling Connection Control Part (SCCP) 
services for the query. Depending on the location of the database (in the operator’s net-
work or in someone else’s network), the query may require global title. If the database is 
in an external network, the operator originating the query typically will route the query 
to a gateway signal transfer point (STP), which is responsible for performing the global 
title. The global title then provides the final routing (SCCP addressing) for the query. 
While this is just an overview of LNP, it should be clear where SS7 plays an impor-
tant role in this application. Without SS7, there would be no way for a switch to query 
the LNP database to determine where to route the call. This concept also can be applied 
to services such as least-cost routing (LCR). 
In LCR, the switch queries the routing database to determine the best route for the 
call based on any number of conditions provisioned by the operator. Conditions could 
include time of day, day of week, actual traffic levels to the destination, quality of ser-
vice, and many other factors. 
Freephone
Freephone is one of the first services offered when SS7 was deployed originally. The 
concept is simple. To reach a major company or any entity subscribing to the service, 
callers dial a special number (800 and 877 in the United States). These numbers are 
free to the caller, but charges are applied to the called party. They are used commonly 
for service centers, reservation centers, and order lines.
The number, however, does not facilitate routing in the PSTN because the digits 
(NPA-Nxx) do not equate to any geographic location. These numbers are, in fact, virtual 
numbers that can be dialed anywhere in the United States (or in Europe if dialing a 
European Freephone number) at no charge. The originating switch first must deter-
mine which operator the number belongs to so that it can direct the call to the right 
network. This is where the first query takes place. 
The first query directs the call to the appropriate carrier, which then will perform the 
final dip to determine the final routing of the call. The final routing may be based on 
a number of different factors depending on the carrier’s capability. For example, calls 
could be routed based on time, date, and even level of traffic at the destination. 
During the final query, an actual routing number is delivered back to the switch via 
the TCAP query response. This routing number allows the switch to route the call using 
normal routing procedures. The routing number becomes the called-party number in the 
ISUP IAM, and the dialed digits are moved to the original called-number parameter. 
Calling Name
When ISDN was first introduced, one of the “killer applications” cited by many a salesper-
son was the ability to identify the number that was calling you. This is so because with 
ISDN, the information that was resident in the ISUP IAM could be extended out to the sub-
scriber. ISDN was developed originally as an extension of SS7 to the customer premises. 

Applications, Monitoring, and OSS      645
Unfortunately, many sold ISDN prior to having SS7 fully implemented. Without SS7, 
the caller identification could not be supported because there was no way of getting 
this information through the network from the originating switch to the terminating 
switch. Prior to SS7, switches communicated only dialed digits to one another using a 
series of tones, so not much else could be communicated between switches. 
Today this is a fundamental service that is expected by almost everyone. Phones 
come equipped with a display for this purpose, where the caller’s telephone number 
appears. As an additional enhancement, the caller’s name was added. This would 
require a database where the switch could look up the name of the subscriber based 
on the calling-party number. Let’s first look at caller ID and how it works, and then we 
will look at calling name. 
Caller ID is the simplest to implement because the information needed is already 
contained in the SS7 ISUP IAM message. When the call is originated, the originating 
switch will determine if the caller has blocked caller ID. If so, then this is reflected in the 
IAM message sent to the terminating switch. The calling-party number is received by 
the terminating switch and then, using a special protocol developed for this application, 
is sent through the subscriber’s line to a special display either in the telephone itself or 
attached to the telephone during the first and second rings. That was easy.
To add the name to the calling number, the originating switch again checks to see if 
the calling party has blocked caller ID, and if not, the call is routed to the destination 
(terminating switch) with no modifications in the IAM (Figure 12.6). The terminating 
switch determines that the called subscriber has calling name service and, prior to ringing 
the telephone, sends a query to the calling-name database. This is usually a database 
either resident in the operator’s network or offered by other operators as a service. 
The query contains the calling-party number, which then is used to look for a match 
in the database. A match will provide the name to be displayed on the telephone device. 
If there is no name, the database typically will provide the originating city and/or state 
as an alternative. The results of the query are returned back to the terminating switch 
for display on the telephone or on the caller ID display. 
The most difficult aspect of this service is maintaining the calling-name database. 
Since changes are made to services every day, keeping the calling-name database up to 
Figure 12.6 Calling-name call flow.
Originating Switch
Tandem
IAM
ACM
IAM
ACM
TCAP Query
TCAP Response
ANM
Terminating Switch
CNAM Database

646      Chapter 12
date can be a challenge. This is why today there are still discrepancies in the accuracy 
of the database, but given the huge number of queries and the sheer number of sub-
scribers, the error rate is surprisingly slow. 
The calling-name database resides in a Service Control Point (SCP), just as LNP does, 
and is maintained through a Service Management System (SMS). The SMS sends updates 
to the database(s) as provisioned by the operator. There may be just one database location 
or several (typically more than one for redundancy purposes). Many operators choose to 
purchase this as a service from another service provider, in which case they will query 
through the SS7 network to the other provider’s calling-name database. 
Personal Ringback Tone
This is a new service offering that has captured the interest of many subscribers. The 
idea is to allow the subscriber to select music, a celebrity voice, or any other form of 
audio to be played to callers in place of the traditional ringing played by the switch. 
This requires a storage device capable of playing the music and an SCP capable of con-
trolling the device [usually an Integrated Voice Recorder (IVR)]. 
The actual content (music) resides on the IVR, whereas the subscriber accesses the 
SCP to select the actual tones to be used. When the call is originated, and it reaches 
the destination switch, and the destination switch recognizes that the called-party 
number subscribes to this service and queries the SCP to determine what music is to 
be played. The SCP will return the port of the IVR to which to route the call for special 
audio treatment. 
The IVR then plays the music to the calling party until an answer message (ANM) is 
received indicating that the called party has answered the line. At this point the IVR is 
released from the call, and the two parties are connected through the facilities negoti-
ated during call setup. 
Support of this service does require that the switches also support the Intelligent 
Network Application Part (INAP) protocol because it is INAP that typically is used 
(with TCAP) to access and control the service. 
Summary
These have been much generalized descriptions of how these services work, but hope-
fully such descriptions show that supporting such services are not complex and are 
possible because SS7 allows switches to have a dialog with one another, as well as with 
databases and service platforms. With this ability, many different types of services 
are possible. The problem has always been in the cost of these services and the cost in 
providing IN capability (triggers) in all the network switches. It is these triggers that 
allow the switches to query the databases and determine call treatment. 
As the network moves to an Internet Protocol (IP)–based network, such services become 
simpler and certainly much more economical. This is one of the drivers behind moving 
to the IP Multimedia Subsystem (IMS) architecture, supporting many different types of 
unique services without the cost of today’s legacy network and its requirements. 

Applications, Monitoring, and OSS      647
Overview of Monitoring Systems
Monitoring systems began in the early 1980s as an outgrowth of protocol analyzers. 
These test systems were connected to various points in the network for the pur-
pose of troubleshooting the various network segments, but they were not permanent  
installations by any means, requiring technicians to move them from switch to switch 
where trouble occurred. 
A protocol analyzer is capable of capturing signaling traffic and decoding that 
traffic into plain English so that technicians can determine what events took place 
at the specified time. Protocol analysis can be an important diagnostic application 
when trying to determine why various network segments fail. For example, when 
connecting a link for the first time, the link may not synchronize with the distant 
end, causing the link to oscillate. Without a protocol analyzer, it may be next to  
impossible to determine what is causing the link oscillation. With the protocol ana-
lyzer and its decode capability, however, the technician can decode level 2 to deter-
mine which node is dropping the link and causing it to oscillate, isolating the problem 
to the correct node. 
Another important function of the monitoring system is link status monitoring 
and alarming. This function watches the protocol events to determine when a link 
has failed or even when a node in the network has failed. Because the system is rely-
ing on protocol events rather than on the node itself, the monitoring system some-
times can be more accurate, and in many cases (such as when a node never produces  
an alarm), the monitoring system could provide the only visibility to failures in  
the network. 
The problem with a protocol analyzer is that it does not provide a view of the entire 
network. A protocol analyzer is usually a small test box connected to one part of the 
network, maybe to only one or two links. To capture signaling in another segment of 
the network requires a technician to move the protocol analyzer to that segment, rein-
stall the unit, and collect data. This eliminates the opportunity of collecting signaling 
in real time to learn what events took place prior to the analyzer being installed. 
The early pioneers of monitoring systems (Tekelec certainly was one of these pio-
neers) began experimenting with the concept of connecting these protocol analyzers to 
a local-area network (LAN) and using a server to access multiple systems at one time. 
In this way, the individual test systems could be installed at various sites permanently 
and accessed remotely from a network operations center anytime they were needed 
(Figure 12.7). 
With this centralized control, the protocol analyzers could be used to collect signal-
ing data and backhaul this information to a central monitoring point. With the ability 
to generate alarms, the systems could now report events in real time rather than after 
failure. In addition, because these systems are collecting signaling continuously, the 
data can be analyzed historically to determine what events took place prior to any 
failures in the network.
This concept has been accepted widely, and most large operators have some form of 
monitoring in place today for their SS7 networks. As the networks evolve, the monitoring 

648      Chapter 12
systems will evolve as well, supporting multiple technologies within one system (this is 
already the case with several vendors such as Tekelec). 
As Figure 12.7 illustrates, today’s monitoring systems can monitor and collect signal-
ing from multiple networks and multiple technologies. In fact, today’s implementations 
require the support of many different protocols and signaling architectures, including 
wireline and wireless, Signaling System 7 (SS7)/Intelligent Network (IN) and Session 
Initiation Protocol (SIP)/IP Multimedia Subsystem (IMS). Not only are today’s monitor-
ing systems able to provide diagnostics in these networks, but they also can produce 
detail records of all varieties, increasing the value of a monitoring system beyond that 
of a diagnostic tool. 
As time evolved, so did these early systems. The test systems became probes capable 
of connecting to the network passively (and in some cases intrusively) and connecting 
back to an administration server located anywhere on the LAN. This allowed for moni-
toring of the entire network remotely and gave operators a unique tool that they could 
use to troubleshoot in real time.
To understand these systems, let’s first look at the components of a monitoring 
system. Then we will examine the various applications and some actual case studies.
Figure 12.7 Typical monitoring system implementation.
Switch
Switch
Switch
MG
MG
MG
MGC
MGC
Signaling
Gwy
I-CSCF
P-CSCF
S-CSCF
HSS
Monitoring Probes
Correlation
Correlation
Correlation
Application
Monitoring
Application
Application
HLR
VLR
AS
AS
AS

Applications, Monitoring, and OSS      649
Data Acquisition
The first step is to capture the signaling itself. After all, the purpose of the monitor-
ing system is to capture the signaling traffic itself and provide some form of analysis. 
Before an analysis can be performed, the traffic must be captured and stored in a for-
mat that the applications will be able to read. 
This is referred to as data acquisition, and it is the job of the network probe to con-
nect to the signaling links in the network and copy the messages as they traverse the 
link. These probes can be located anywhere in the network, although they typically are 
placed where they can capture the most network traffic for the least amount of capital 
outlay. If a network has STPs, this is usually the best place to put probes because all 
the SS7 traffic will be routed through the STPs. 
Probes are passive, meaning that they simply copy SS7 messages but do not have the 
ability to interfere with the actual traffic itself. They typically connect to the monitor-
ing port of the cross-connect itself. Because they are passive, they do not introduce any 
delay into the traffic. 
The probe must collect SS7 messages and forward them to a server where the mes-
sages can be collected and correlated. However, there are some vendors whose probes 
do some preliminary correlation right at the probe. Whether or not the probe provides 
correlation is neither an advantage nor a disadvantage because final correlation still 
must be completed further down the path. 
At least two vendors have introduced an integrated approach where the probe is 
eliminated and their STPs provide the data acquisition. This makes a lot of sense be-
cause the traffic must traverse the STP anyway. The Alcatel STP simply feeds copies of 
all SS7 traffic through an IP port that can be accessed by a probe mounted within the 
frame (or externally). This is not quite integrated, but it eliminates the requirements 
of an external connection to the cross-connect. 
Tekelec, on the other hand, provides this function as a part of the STP itself. The STP 
copies all SS7 messaging, transports these messages to a server internal to the STP 
(connected directly to the bus rather than to an IP port), and then connects these serv-
ers to an IP network for connection to the rest of the monitoring system. This approach 
has become very popular and is in widespread use today.
Whatever the approach, integrated or probed, access to the signaling links is para-
mount to capture the data. Once the data have been captured, they can be processed 
and forwarded to a correlation engine for further processing. In their raw format, the 
data are not much use to anyone because software would be required to filter through 
millions of SS7 messages before the data could be of any use. 
Data Correlation
Remember that a simple call requires at least five SS7 messages: The IAM, the address 
complete message (ACM), the ANM, and finally, the REL and release complete message 
(RLC). More complex calls or calls requiring LNP queries and calling-name (CNAM) 
queries obviously involve more messages. If the purpose of capturing the SS7 traffic is 
to use this information for other applications, then these messages must be correlated 

650      Chapter 12
into one record. Correlation is also needed if a call is being traced using SS7 traffic 
rather than the switch itself. All the messages associated with one telephone call need 
to be collected and correlated.
This is the job of a correlation server. The correlation server typically will connect 
to multiple probes in the network depending on the network configuration. Since SS7 
traffic can be routed through multiple STPs (the signaling for one call does not fol-
low the same path), then all the traffic associated with that call has to be captured, 
requiring the correlation server to be in a location where it will see all the traffic  
associated with a call. There are a number of different configurations for this idea and 
many variations.
The correlation server also may create a call-detail record (CDR). The CDR contains 
all the data related to a call (in some cases it may include TCAP transactions as well) 
in one record. This record then can be sent to other applications and used for many 
different purposes. There are no real standards for the formatting of CDRs, although 
there are some standards for billing formats. This means that some form of mediation 
typically is required at the application before it can read the CDR format. 
Detail Records
As mentioned earlier, the CDR contains all the details for a telephone call. There really 
are no standards defining the exact contents of a CDR, although there are some billing 
standards for the format of a billing record (a form of CDR). Usually vendors will pro-
vide some means of mediation that can convert the CDR format into a form that their 
application can use to read the record. 
There are a number of uses for SS7-based CDRs and many justifications for using 
these as your source for applications. First and most important, remember that SS7 
is the way switches communicate with one another regarding call connection. If a 
call is connecting between two switches, a trunk is required. The trunk does not get 
connected without signaling. The signaling is SS7, and if captured, it provides the 
most accurate and indisputable record one could ask for. SS7 is not created as an 
afterthought, but it is an integral part of the telephone call itself. It is required to 
make the call connection. 
There are several different forms of CDRs depending on the type of call. For example, 
the TCAP transactions related to a call are commonly referred to as transaction-detail 
records (TDRs), whereas those related to Session Initiation Protocol (SIP) calls are re-
ferred to as session-detail records (SDRs). Their contents vary depending on the vendor 
specification, but most will provide all the pertinent data related to a call or session or 
transaction. 
What makes these records important is that they contain the contents of several 
signaling messages in one record. They also contain some form of intelligence derived 
by the correlation engine, such as call duration. These records are needed by adjunct 
applications to eliminate the need for the application to process all the signaling traffic, 
but more important, this prevents the need to backhaul signaling traffic to a central 
location or to an application server, which would be bandwidth-limiting. 

Applications, Monitoring, and OSS      651
A number of operators are using these detail records for actual billing. This is dis-
cussed in the section below on applications. Detail records derived from signaling pro-
vide much more accuracy than those created by the switch for a number of reasons, but 
perhaps the most compelling is the fact that the switch has to be told to create a record 
for a call (through switch translations, which is a manual process), whereas signaling 
is autonomous. The network requires signaling to connect calls; therefore, it already 
exists in the network. If one can collect the signaling data and create detail records 
from them, one can feed those records into a billing system. 
Data Warehousing and Storage
For a long time, mass storage was the key to maintaining detail records for any length 
of time. Certainly once a company has acquired all this traffic, it will want to keep these 
data for some period of time for postcall processing. The problem lies in storage capac-
ity. If there are a lot of calls in a network, the number of records will be substantial, 
requiring a lot of online storage. For this reason, many operators choose to move the 
data to an offline storage source. 
However, there is a new trend over the last few years. Rather than store the data for 
mining later, many operators are using data warehousing. This allows them to use pow-
erful search tools to constantly mine the data for use across the entire enterprise. More 
important, data warehousing is not limited to signaling-detail records. Warehousing 
allows for data from many different sources. For example, a company wishing to use 
signaling for its revenue assurance initiative may want to analyze not only its signaling 
data but also its inventory. This would require an input from the company’s network 
inventory system but also would require the ability to compare the inventory system 
with the CDRs for use analysis. 
By adding multiple sources of data into the warehouse, companies will realize a much 
richer source of data for analyzing and a much more powerful set of applications that 
can be used across all disciplines within the enterprise. 
Applications
There are many different applications today that rely on detail records derived from 
the signaling network. Certainly we have seen a rise in revenue assurance activity, but 
perhaps the most interesting has been in the area of fraud and security. 
The applications are typically back-office support systems that reside either in the 
operations center or within the financial offices depending on their focus. But applica-
tions are not limited to just back-office support. There are also some clever ways signal-
ing can be used in conjunction with back-office systems. 
Since signaling is a vital part of call control, it provides a unique opportunity if 
signaling systems somehow can be tied to back-office systems. For example, in one 
case, Tekelec connected a fraud management system to an STP running a black-list 
application. This black-list application resides within the STP itself and therefore has 
visibility to all the signaling traffic traversing the network. 

652      Chapter 12
The fraud system provides analysis of calls in progress, and if a call matches the 
criteria for a fraudulent or suspect call, the system sends a record containing the origi-
nating number to the black-list application residing in the STP. This allows the STP to 
block further calls from this number. 
Another example is the use of a traffic-monitoring tool that models and analyzes 
traffic levels in the network and then forwards this information to a routing application 
in the STP. The routing application then can make decisions regarding the routing of 
traffic based on actual conditions in the network, as well as quality of service (QoS) in 
the network. In essence, these back-office systems are being used to collect signaling 
information, provide an analysis of these data, and then report this intelligence to 
a signaling application that can make decisions about how to handle the traffic in  
the network. 
Let’s look at some other uses of signaling in applications. 
Revenue Assurance and Signaling
Revenue assurance initiatives have become widespread throughout the industry over 
the last few years. But most companies are still relying on call records that were 
generated from their switches rather than their signaling network. The tier 1 operators 
certainly have learned the advantages that signaling can provide in their revenue 
assurance efforts. There are several key reasons for this:
■  Signaling data are indisputable when operators have to go to litigation for 
interconnect billing.
■  Detail records based on signaling tend to be somewhat more accurate than switch-
based detail records.
■  Signaling provides more information about a telephone call than basic billing 
records.
There are many reasons why signaling is indisputable, but maybe the principal rea-
son for this is the fact that signaling is required to connect trunks between switches 
and therefore becomes a key part of the call connection. I have asked many different 
operators in different regions about their success using signaling for billing disputes, 
and to date, I have not found anyone who has not been successful when they brought 
signaling as evidence. 
As to why signaling is more accurate than switch-based records, there could be much 
debate over this. Usually the argument is that billing records are the most tested part 
of the switches’ software because it is tied to an operator’s revenue and therefore must 
be very reliable. 
This, of course, is true, but the fact still remains that someone must program the 
switch to create a billing record for different call types. This is not an automatic func-
tion, and while many operators check and double-check their translations, many dif-
ferent companies have reported that they went for as long as a month without billing 
for calls because someone made a mistake in the translations. 

Applications, Monitoring, and OSS      653
Signaling, on the other hand, is automatic. There is no programming for signaling, 
and no one has to turn it on for billing. Since signaling is an integral part of call control, 
it is a natural candidate as a source for revenue and revenue management. 
The amount of information that can be derived from signaling is very comprehensive. 
For example, it can determine if a call is forwarded, if a call is disconnected owing to 
network problems, if a subscriber has elected to block caller ID, and much more. Look 
at the parameters for ISUP alone, and you can find a wealth of information that can 
be derived if you collect this information. The following subsections look at some more 
specific applications for signaling data and how they can be used. 
Facility Management
Capturing circuit usage and tracking that usage are paramount to maintaining prof-
itability in today’s competitive environment. In days gone by, we built our networks 
based on the worse-case scenario. This worse-case scenario was based on traffic levels 
on the nation’s busiest holiday; usually Mother’s Day here in the United States. 
The concept was simple. The telephone network must support the highest levels of 
traffic ever thrown at it, meaning that on the busiest of days the network must be able 
to support the traffic levels. This, of course, meant overengineer the networks consider-
ably, but because the operators operated as monopolies, the cost was not an issue. 
Today, this is no longer the case. Companies cannot afford to overengineer their net-
works. They must be able to support the traffic levels of their networks during peak 
hours of normal days, but they can no longer afford to overengineer their networks to 
support one day of the year. 
For this reason, many operators have implemented software that allows them to 
monitor the traffic levels in their network in real time. More important, they are able 
to determine where traffic is being originated so that they can route the traffic more 
effectively in their networks. If traffic peaks in one segment of the network during spe-
cific hours of the day, the operator can see this shift in real time and take appropriate 
measures to reroute the traffic through another less busy segment, for example. 
Here is how it works. Signaling data are collected through probes and network ele-
ments such as STPs (in the case of integrated monitoring) and passed to the correlation 
engines for correlation. Once the signaling messages have been correlated, xDRs are 
created and passed to a traffic management solution. The traffic management solution 
then performs an analysis on the xDRs to determine the traffic levels for each of the 
circuits under review. 
This usually involves building a filter that will search through the xDR database for 
specific traffic. In the case of traffic management, an operator will filter based on the 
circuit ID. Input from a reference database (such as an inventory system) may be used 
as part of the reference data. 
The traffic management software then calculates the amount of traffic over these 
circuits based on timestamps assigned to the records. For example, the correlation 
engine can calculate the connect time by capturing the timestamp associated with the 
ANM and the timestamp association with the REL/RLC. This time period would be 
calculated as talk time or connect time. 

654      Chapter 12
The time from the IAM until the ANM would be the postdial delay (PDD). This is the 
time it takes from dialing the phone until the terminating switch receives the dialed 
digits and the call is connected. This information is used to determine if the routing is 
possibly incorrect, causing circular routing or unnecessary routing delays. 
By incorporating the local exchange routing guide (LERG) as part of the reference 
data, the operator also can determine traffic levels by route. The LERG will identify 
the various network routes by operator. For example, it may identify that operator A is 
used for routing international calls to Mexico, whereas operator B is used to route calls 
to Europe. Incorporating this as reference data means getting meaningful reports with 
operators identified rather than a bunch of codes and numbers not recognized normally. 
Monitoring traffic levels across all circuits is important to maintaining profitability, 
but so is the monitoring of traffic routing. An error in the routing tables in a tandem 
can be a costly mistake if traffic is suddenly routed over the most expensive route to 
a destination. Managing interconnect traffic involves the monitoring of traffic routing 
and understanding how that traffic is being handled by the interconnect partner. 
For wireless operators, signaling can provide important statistics on resource usage 
(such as the number of location updates sent by roaming partners). These data can 
become an integral part of roaming agreements because those agreements are based 
on traffic volumes. Without signaling data, operators have to make assumptions as to 
exactly how much roaming traffic they actually realize during specific time periods. 
These data also help in understanding expansion plans in the network. For example, 
if building out a General Packet Radio Service (GPRS) network to accommodate more 
roamers, signaling data can provide the exact number of roamers for any segment of 
the network, allowing planners to engineer the Gateway GPRS Serving Node (GGSNs) 
in these segments using more accurate statistics. 
The same holds true of other segments of the network such as Short Message Centers 
(SMS-cs). Without understanding the dynamics of Short Message Service (SMS traffic), 
it is impossible to understand the impact on the signaling network when a new opera-
tor is connected into the network. The additional short message traffic could have a 
significant impact on network capacity, and throughput that is invisible to the operator, 
unless it has the type of traffic and the destination of the traffic. 
In short, it is impossible to engineer a network with any confidence in the eco-
nomics of the design without full visibility to the traffic the network must support. 
Signaling provides that visibility, and systems that collect the signaling and correlate 
its messages can provide powerful data used to accurately engineer every aspect of 
the network. 
Interconnection Management 
Interconnect management is one of the main focuses of a revenue assurance team 
because it represents large costs when not monitored regularly. For example, interna-
tional traffic being routed over a local trunk group means that an operator is losing 
substantial revenues from tariffs than otherwise would have been collected if the traffic 
had been routed properly over a tariff facility. 

Applications, Monitoring, and OSS      655
But this is only one scenario that could cost operator revenues. Routing also can be 
costly if not monitored properly. Every destination requires a route, and every route has 
a negotiated cost. A single destination usually has several different routes with several 
different costs associated with them. A simple routing mistake could mean routing all 
traffic to a single destination through the most expensive negotiated route. When ser-
vice to this destination is running under thin margins, this ends up costing the operator 
precious revenues it cannot afford. 
There are several metrics in this area that one needs to monitor. The most important, 
of course, is to ensure that all traffic contains proper identification. What I mean by 
this is that the calling-party number is provided and is accurate (not some fictitious 
number or an invalid number), and the jurisdiction parameter is present. This allows 
an operator to determine where the call originated from when calls traverse multiple 
networks so that it can rate the call properly and determine which operator should be 
billed for terminating the call (as well as what the operator should be billed). 
Finding this is as simple as tracking all traffic on all circuits and looking for any 
calls missing this information. However, just because a call does not contain the 
calling-party number does not mean that the call is suspect. There could be legitimate 
reasons for the call signaling not containing the proper identification. What operators 
have found is that looking for shifts in the traffic is a more accurate means of 
identifying arbitrage.
Arbitrage is the act of shifting traffic from one trunk group to another route or an-
other trunk group (such as a local trunk group) to bypass paying termination fees. 
There are a number of different flavors of arbitrage, and identifying these types of 
calls can be tricky. Certainly they will be void of proper identification, but as mentioned 
earlier, this is not enough. 
One characteristic, however, is that traffic will shift from one route to another. By 
monitoring all inbound routes and measuring on a regular basis the traffic levels on 
these inbound routes, an operator will identify when traffic shifts occur. There is always 
a one-for-one correlation between traffic shifts from a tariff facility to a local facility, for 
example. If traffic drops on the international inbound route by 10 percent, and traffic 
levels on a local route increase by 10 percent, you can be assured that this is because 
of arbitrage. We have already discussed how SS7 can be used to monitor traffic levels 
in the network. 
Another metric that can be derived from signaling is the quality of service (QoS). The 
QoS is derived from the REL message in ISUP. Each REL contains a cause code that 
describes the reason for releasing a call. Calls can be released for “normal” reasons (e.g., 
the subscriber was busy) or abnormal reasons (e.g., no trunks available). 
The metric looks at the total number of call attempts to a destination (such as Mexico) 
and the number of successful calls to this destination versus the number of unsuccess-
ful calls. Two different metrics are used. The answer seizure ratio (ASR) looks at call 
attempts versus calls completed (ANM was received). Many operators are using this 
metric in their interconnect agreements for service level agreements (SLAs); however, 
this is a rather poor metric because it includes normal conditions such as a call not be-
ing completed because the subscriber was busy. 

656      Chapter 12
A more accurate picture of the network can be determined through use of the network 
efficiency ratio (NER). This metric looks at the total call attempts versus calls not con-
nected for abnormal call clearing. The entire cause-code class of “Normal call clearing” 
is not considered for this equation. 
This metric allows an operator to determine how many calls are being dropped by an-
other operator because of network conditions (such as not having enough trunks provi-
sioned for traffic levels). An NER of 100 percent would be a perfect score, indicating that all 
calls attempted were either answered (complete) or cleared for normal reasons (subscriber 
not available). Refer to Appendix C for a complete listing of all cause codes by class. 
Billing Analysis
Operators have been using signaling for billing and billing analysis for some time now. 
There is no better source of intercarrier billing data than SS7 in today’s market. This 
is especially true for operators providing network services to other operators. For ex-
ample, the hub providers here in the United States rely on SS7 for calculating usage 
statistics employed later for billing other operators. 
Indeed, the first mention of using SS7 for use measurements was in the International 
Telecommunications Union (ITU) standards back in the late 1980s. However, the idea 
has been slow to take off for some reason, and it was not until the last 5 years that we 
have begun to see more operators placing equipment to collect the SS7 data, correlate 
them, and produce detail records for billing. 
Usage measurement is nothing more than a tally of the number of messages sent 
through an operator’s network. For example, an operator offering SS7 services to a carrier 
will want to track how many ISUP messages were sent through its network, how many 
TCAP messages, and maybe get more specific by tracking TCAP messages by type. 
Certainly, if other services are being offered, it is not uncommon to tally the number 
of LNP queries sent into the network, how many CNAM queries, and how many mo-
bile transactions. This is simple to tally by counting the number of messages sent to a 
specific destination address with a specific subsystem number (the subsystem number 
identifying the type of query being sent). The called-party address in the SCCP header 
is a key element in this tally because it will identify the entity being queried. 
The called-party number can be tracked for short-code dialing as well. Short codes are 
used in the wireless world for accessing certain services and content. There are a number 
of content providers in operation today that have connections to the network through an 
IP-based protocol called the Short Message Packet Protocol (SMPP). This connection is 
used to gain access to the SS7 network and to an operator SMS-cs and MSCs. 
When a subscriber wishes to download a ring tone or other content from the content 
provider, there is typically a short code (in the United States, short codes are five-digit 
numbers) assigned to the content the subscriber wishes to purchase. By using the cell 
phone, the subscriber sends an SMS message and uses the short code as the destination. 
This short code then becomes the called-party number in the SCCP address header. 
By tracking the called-party number address in the SCCP header, operators can 
track the short-code activity in their networks and even use these data for short-code 
accounting. 

Applications, Monitoring, and OSS      657
However, there is another use for SS7 in the area of billing. It is also a reliable source 
for auditing. Intercarrier bills have long been known to be inaccurate, and until op-
erators began using their signaling data to compare their intercarrier bills, there was 
really no reliable source to compare against. Now many operators have increased the 
accuracy of their billing by auditing their intercarrier bills against their SS7 usage 
measurements. 
This practice ensures that the traffic being billed for actually occurred, and again, 
because the SS7 data are indisputable, you could not ask for a more accurate source. 
This does not apply to retail billing, unfortunately. SS7 is used only when connecting 
two switches via trunks. In the case of an intraswitch call, no trunks are involved and 
hence no SS7 either. However, there is no reason why SS7 cannot be used for interna-
tional and long-distance billing. 
Another area where SS7 has proven more accuracy is in call duration. There is a 
simple explanation for this. Switches have very accurate billing software; however, 
there are timers that must be set to dictate when billing should begin. Prior to SS7, 
switch vendors added a guard timer, which prevented the start of billing for a number 
of seconds to allow time for the call to get connected. 
The default for the guard timer is around 2 seconds, and if not changed, the switch 
does not begin calculating talk time for 2 seconds. Of course, many operators have 
found that when they upgrade their switches, despite all the routines and procedures 
they have written to prevent errors, this is one of the translations that often is missed. 
It is easy to fix but often pops up again during the next upgrade. 
This may not seem like a lot of call duration to deal with, but when you add millions 
of calls, the seconds can add up quickly, and so can the revenues. This has been one 
of the areas audit teams have gone looking into when comparing switch-based billing 
records with SS7 detail records. In fact, there is software now that will make this com-
parison automatically (see www.tekelec.com for one example). 
Automating the comparison between SS7 and switch-based records ensures that the 
problem is found quickly without the cost of a switch audit. This software also has the 
ability to fix the problem automatically, augmenting the billing record with the more 
accurate details from the SS7 stream and producing an output from both the switch 
records and the SS7 signaling records. 
Fraud Detection
Fraud and security are an excellent application for signaling. With all fraud, there is a 
fingerprint. This fingerprint is unique depending on the type of fraud being committed. 
If an operator is monitoring its traffic, it should be able to pick up on anomalies that 
represent fraudulent activity in its network. 
Of course, knowing what those anomalies are is critical to fraud analysis. Without 
going into too much detail here, it is safe to say that a large increase in traffic to specific 
destinations (or high-cost destinations) is one key indicator that there could be fraudu-
lent activity within the network. Of course, any abnormal fluctuations in traffic could 
be fraud indicators, but they also could be normal traffic anomalies. The ability to dig 
deeper and analyze the traffic in detail is a key component of any system. 

658      Chapter 12
As operators expand their networks to support more and more content, the track-
ing of fraud becomes even more critical. Content provides much smaller margins 
than traditional voice services, which means that operators offering content must be 
much more diligent in managing their content and monitoring for fraud. Operators 
simply cannot afford to lose large sums of revenue to thieves downloading content 
for free. 
The same monitoring systems used today to gather signaling data from the SS7 
network support other forms of signaling such as SIP, as well as IP-based protocols 
such as File Transfer Protocol (FTP) and HyperText Transfer Protocol (HTTP). Add the 
transactions from HTTP networks, and suddenly an operator can determine where sub-
scribers are surfing the Internet for content. They can monitor Web activity by Uniform 
Resource Locator (URL) or by subscriber. They can even determine if subscribers are 
downloading content from these sites. Combine this visibility with the accounting abili-
ties we talked about earlier (such as short-code accounting), and one can determine if 
subscribers are purchasing content from other content providers and downloading this 
content through their networks. 
Address spoofing has become an issue in many networks where operators connecting 
into another operator’s network send traffic into the network using addressing that is 
spoofed or faked. I will not go into details as to how this is done, but suffice it to say that 
this is a big enough problem to earn the focus of the Global System for Mobiles (GSM) 
Association, as well as the Communications Fraud Control Association (CFCA). 
The best means to prevent this type of fraud is to add to the fraud center an SS7 
monitoring tool with the ability to track all forms of traffic (not just SS7, but SIP, 
DIAMETER, HTTP, FTP, SMTP, and much more). This will allow fraud investigators 
to view network events rather than focusing on subscriber activity. 
Marketing
Many marketing professionals in our industry today must rely on reports from sales so 
that they can understand what subscribers are purchasing. However, these data do not 
provide the intelligence needed to understand a subscriber’s behavior, how subscribers 
use the network, what their calling patterns look like, or whether they use services 
from other operators. Only signaling can provide this level of detail. 
It is surprising, then, that even the largest of operators has yet to discover the ben-
efits that signaling can provide to marketing organizations. Consider these scenarios. 
There is a prepaid operator offering service to Mexico in the metropolitan New Jersey 
area. The local operator uses SS7 data to track the calling patterns of subscribers in 
this area. The operator sees numbers of calls to the 800 number of the prepaid operator 
and is able to determine through the dialed digits in the ISUP message what area the 
subscriber is calling. 
By placing these data into a data warehouse, the operator then is able to track the 
number of calls to the prepaid operator for calls to Mexico (or any other destination), 
and since the local operator knows the retail value of these calls, it can calculate the 
value of those calls through the prepaid operator. 

Applications, Monitoring, and OSS      659
These data then are used to determine how much revenue is lost to the prepaid op-
erator and to build a business case for the operator providing such a service in competi-
tion with the prepaid operator. In fact, using these data, the local service provider even 
can forecast the impact on revenues if the service is successful or unsuccessful and use 
these data to create a number of models for the business case. 
Let’s say that the operator is a wireless provider and that it is contemplating the 
addition of a new service to its subscribers. This new service will require cell phones 
equipped with specific functionality. The operator reviews the sales data over the last 
year to determine how many cell phones have been sold with this functionality by 
building reports on sales for specific manufacturer models.
The problem with this method is that many subscribers may have purchased these 
phones and replaced them with newer or different phones. Or they may have left the 
network all together. There is a more accurate means for determining how many of 
these handsets are active in the network. 
All manufacturers assign an Equipment Serial Number (ESN) when they build hand-
sets. These ESNs typically are assigned in ranges; in other words, a particular range 
of ESNs will be assigned to Motorola phones of a specific model type. The operator has 
access to this information and can use this information to determine how many phones 
of any specific model type are active in the network during any given time. The ESN 
is transmitted as part of the registration process in the Mobile Application Part (MAP) 
protocol, which is carried in the SS7 network over TCAP. 
Thus now the operator not only can determine what types of phones are being  
actively used in the network but also can determine when these various model types 
are being used, how often they are being used, and what they are being used for. This 
same information can be used to determine the success of a new phone introduction. 
These data also can be applied to the business case for a new service. If the operator 
discovers that it sold 5000 phones equipped with the functionality needed to support 
the network service but only 3500 remain active in the network, this could make or 
break a business case for the new service. 
Let’s apply the same principle to rate plans. Marketing knows what the competition 
rate plans look like and must determine how best to compete with these rate plans. If 
marketing personnel could apply calling behavior to their models, they would be much 
better equipped to understand the impact of any rate-plan changes to the bottom line. 
They also would be able to provide a return-on-investment (ROI) analysis after a given 
period to executive management based on real traffic statistics.
These are just a few of the ways that signaling can be used in the area of marketing. 
There are many scenarios like these—just use your imagination. The message is this: 
Signaling is a rich source of data for many aspects of the business. When applied to all 
departments, signaling can provide the business intelligence needed to improve profit 
margins across the board and provide marketing and sales with the ammunition they 
need to better understand their customers’ behaviors and habits. This can only lead to 
more creative offerings and a better understanding of customer needs. 


Chapter
13
SS7 and the IP Multimedia  
Subsystem (IMS)
Over the last few years, operators have begun the biggest technological change in 
telephone history: the evolution of the telephone network to an Internet Protocol (IP) 
backbone. This evolution has changed the way we use communications and will continue 
to change every aspect of how we communicate. 
Perhaps the biggest impact will be how our networks operate and what services will 
be offered. While this may not seem like the subject for this book, it does have a profound 
impact on Signaling System 7 (SS7). Ironically, there are also some similarities in what 
is driving the change in network architecture to what drove the industry to implement 
SS7—the need for new, robust, and powerful services that end users could control 
themselves. While that promise was never fulfilled through the Intelligent Network 
(IN), it is quickly being realized with Voice-over-IP (VoIP). 
I added this chapter as an overview of what is to become the signaling network 
beginning now. This is not futuristic because many networks are already beginning 
their migration. Many more networks have been launched based solely on VoIP 
technology. This is a movement that I have been involved in since I began my career in 
data communications and then later in telephony. The convergence of voice and data 
has finally come to realization, and it is looking more and more like the Internet. But 
this does not come without hurdles.
As the telephone networks of the world began to adopt the Transmission Control Protocol 
(TCP)/IP as their transport, one thing became clear. The industry was lacking any form of 
implementation standardization. Every vendor had a different model in mind, and every 
operator was deploying their VoIP networks using a vast combination of technologies.
This was not only a nightmare when trying to interconnect with other networks, but 
it also became clear that when it came time to deploy services in these new networks, 
interconnection would become an issue within an operator’s own network. To make 
matters worse, adding services such as video on demand (VoD), messaging, and other 
real-time applications required overlay networks, making interworking a challenge. 
661

662      Chapter 13
Many systems used in the back office had to be duplicated for these overlay networks, 
and maintenance instantly became a challenge. 
The wireless industry was first to step up to the plate and develop a standard 
template for its deployments. This template is really a model rather than a technology 
that provides guidance to all operators on how they should be implementing VoIP 
technology. The key to this model is to ensure the interconnection and control points 
for all services using a common medium regardless of whether the service supported is 
voice, text, audio, video, or messaging. 
This is where the IP Multimedia Subsystem (IMS) was born. Today it is catching on 
fast not only within wireless circles but within wireline as well. IMS provides a frame-
work from which operators can build their services network using one architecture and 
one set of support and back-office systems and deliver any service type regardless of 
the medium. In reality, this is what the Intelligent Network (IN) promised many years 
ago but was unable to deliver for many reasons (one being the cost). 
In fact, if one looks back to the many presentations given by vendors and the stan-
dards for IN themselves, the intent was to build a common control plane that could be 
used for the delivery of all services. This control plane did not care about the transport 
layers below it and could control connection points regardless of the technology used 
for transport. SS7 did provide this capability and is still used for this function today, 
but with limited services when one compares with VoIP. 
When it comes to services, SS7 can deliver services and does, but it is still very limited 
in the types of services it can support. SS7 certainly could provide control of a VoD 
service, for example, but if the subscriber wished to maintain several connections while 
watching that video, SS7 would not be able to maintain the status of the subscriber and 
each of his or her connections. 
This is one of the reasons SS7 does not play a major role in the IMS, but it is necessary 
to interconnect at some point into the legacy network, and to do that, operators still must 
connect into the SS7 network. It is for this reason that this chapter exists. The intent 
is to explain what IMS is and illustrate where SS7 plays a role in the IMS. It is not the 
intent to provide a comprehensive description of the IMS and all its functions. 
Overview of IMS
The IMS provides a model by which operators can deploy multiple services within 
their networks. The objective is simple: Support multiple forms of media for multiple 
types of services using the same infrastructure without deploying multiple networks 
for these services. 
The IMS does not represent a new technology. It simply defines a means for implement-
ing existing VoIP technologies such as Session Initiation Protocol (SIP) for the delivery 
of different services such as messaging, video, and voice. The IMS does introduce a new 
function within the network, which is defined below in the section on architecture.
SS7 does not play a role in the IMS other than to provide a connection point back into 
the legacy network. Other forms of signaling take the place of SS7 in the IMS, such as 
the Session Initiation Protocol (SIP) and Q.931. 

SS7 and the IP Multimedia Subsystem (IMS)      663
Origins
The IMS was first developed by the Third Generation Partnership Project (3GPP). This 
is a wireless organization that develops standards for the implementation of third- 
and fourth-generation technologies in wireless networks. The intent was to define 
a model that could be used by wireless operators for the implementation of VoIP in 
wireless networks. Wireless networks must be able to support many different types of 
services, so the 3GPP set out to create a model that would allow operators to deploy 
VoIP technology for use in delivering these different services. 
When you look at the model, you can see that while the transport may change, the 
session control remains consistent. This is the key to the IMS. No matter how many 
services a subscriber is using, the same control can be used to maintain connections for 
those services and ensure service delivery, even if the transport should change between 
services. In other words, the control is transport-agnostic. 
The 3GPP work continues today; however, wireline operators began to see advantages to 
the IMS model that 3GPP had created, and so several other organizations began adopting 
the IMS for their own implementation. This includes the International Telecommunications 
Union (ITU) and the Alliance for Telecommunications Industry Solutions (ATIS). 
The 3GPP2 project is a collaboration of partners focusing on American National 
Standards Institute (ANSI) implementations and is comprised of ANSI and many other 
organizations with an interest in Coded Division Multiple Access (CDMA) and IPv6. 
The framework established by 3GPP2 is almost identical to the work of 3GPP with few 
exceptions. Given that the focus of this group is ANSI networks, there are differences 
based on the CDMA standards (3GPP is GSM-focused). 
While these organizations focus on the core of IMS, the Open Mobile Alliance (OMA) 
focuses on the services and a common framework from which all service providers can 
use for security, billing, management, control, and quality of service. Their focus is to 
standardize services that will be built on top of the IMS, defining standard interfaces and 
mechanisms that all vendors then can adhere to, making the service implementation 
experience painless for the service provider regardless of the vendor(s) selected. 
Status
While work still continues on definition of the standards themselves, implementation 
has begun. Deployments already have started; focusing on simple basic services first 
and then expanding to more comprehensive service offerings going forward. 
In 2005, there were trials and test implementations, whereas 2006 has seen more 
production deployments. The IMS will continue for many years, expanding until the 
current networks have all but disappeared from the major markets. SS7, by the way, 
eventually will be replaced by the SIP as IMS continues to grow, but it will take many 
years for this to be completed and for SS7 to become an obsolete technology. It typically 
takes a new technology 10 to 20 years to realize the deployment rate that SS7 enjoys 
today, which means that we will need to continue supporting SS7 networks for many 
years to come. This will give us time to understand SIP and its underlying technologies 
and become more acquainted with IP networking. 

664      Chapter 13
Subscriber Identity 
To make sense of the architecture, one needs to understand subscriber identity in both 
the SIP and the IMS world. Identifying a subscriber in IP is very different from the 
trusted means of identifying subscribers in the legacy SS7 world and in many cases 
does not even involve a telephone number anymore. 
To understand the addressing for subscribers, it helps to know that the protocols 
used in VoIP and the IMS were derived from existing Internet protocols. For example, 
SIP was derived from the HyperText Transfer Protocol (HTTP), which is used to browse 
the Web, and the Simple Mail Transport Protocol (SMTP), which is used to transport 
e-mails through the Internet. Many of the addressing schemes used in these protocols 
were used in the VoIP and IMS world as well. 
However, IMS borrowed a lot from the GSM network too. The IMS has adopted a 
“home” and “visited” network concept, where subscribers “belong” to a home network, 
where their identities are stored in network elements and queried by network elements 
in visited networks as subscribers roam from network to network. 
In GSM Mobile Application Part (MAP) one will even find that multiple identities 
associated with subscribers depending on the use of the identity. For example, in 
MAP, subscribers are given a Mobile Subscriber Integrated Services Digital Network 
(MSISDN), which is their public identity and is used to route calls to the subscriber. 
However, the MSISDN is not used for security or charging the subscriber for services. 
Rather, the GSM network uses a private identity known as the International Mobile 
Subscriber Identity (IMSI) for charging and for identifying the subscription itself. A 
subscriber may have multiple subscriptions (one for work, with specific services, and 
another for home, with a completely different set of services). The IMSI is assigned to a 
Subscriber Identity Module (SIM). The SIM is the little chip that is inserted into a GSM 
phone that identifies the subscription (for billing of services and defining what services 
are allowed but not for routing). There is also an Equipment Serial Number (ESN) used 
for security to verify that the handset is not stolen (added to GSM networks later). 
In the VoIP (SIP-based) network and the IMS, there are also private and public 
identities with similar uses. The public identity is used to route to the subscriber and 
for maintaining sessions associated with the subscriber, whereas the private identity 
is used for authentication and charging of services to a subscriber (or, in other words, 
identifying the subscription more than the person associated with the subscription). 
The Uniform Resource Identifier (URI) is used to identify a subscriber in both VoIP 
(SIP-based) networks and in the IMS. The URI looks much like your e-mail address, using 
the form of yourname@domain.com. This is used to route sessions within the network 
to a subscriber, much like your e-mail. A subscriber may have several different public 
identities with different URIs, for example, one for personal use and one for the office. 
In the meantime, subscribers also will have a private identity used by the network 
itself for the subscription. Subscribers will have multiple identities here as well 
depending on how many subscriptions they have. For example, they will have one 
subscription for their personal account and one for their work account but maybe 
also another for a hobby or special interest. These identities represent subscriptions 

SS7 and the IP Multimedia Subsystem (IMS)      665
within the network and are used by the network for authenticating the subscriber and 
identifying what services he or she has subscribed to. 
A subscriber’s private identity will map to her or his public identities as well. I may  
want to have personal calls sent to my work address during business hours, for ex-
ample, so the network needs to know that callers going to my personal URI should be 
routed to my subscription associated with my public and private identities used for 
work. Thus it is possible to have a public identity associated with two different private 
identities, and vice versa.
At some point a subscriber URI will need to be associated with a telephone number. 
If someone in the Public Switched Telephone Network (PSTN) tries to reach someone in 
the VoIP world, their phone will lack the ability to type in a URI, requiring a telephone 
number instead. 
This is the job for the Electronic Number (ENUM) database. ENUM will provide the 
translation from URI to telephone number, and vice versa, in VoIP networks. It also will 
provide the IP address for VoIP subscribers so that calls can be routed correctly. 
Architecture
The IMS is really a framework for an architecture that enables the delivery of all 
services using a common infrastructure that is packet-based. This includes voice as a 
service, meaning that voice is delivered over an IP network instead of the traditional 
circuit-switched network as it is today. 
While IMS eliminates the need for circuit-switched networks altogether, it also 
provides some vital functions that are needed to enable disparate services over a 
common network. Subscriber status is crucial when services and mobility are combined, 
and this is where IMS excels. 
This section looks at the infrastructure of the IMS and its elements and gives a brief 
description of each of these functions. Keep in mind that the IMS standards define the 
functions rather than the actual network elements themselves. Indeed, some functions 
are combined in one network element, or they may be deployed as separate elements 
altogether. 
Call Session Control Function (CSCF)
The CSCF is the heart of the IMS. When a subscribers register with the network by 
activating their phone (or other device), it is the CSCF that they first communicate with. 
The CSCF then has the responsibility of determining which functions to route service 
requests to based on the subscriber’s request, the permissions within the subscription, 
and the type of service being requested. Three different CSCF functions are defined:
■ Proxy
■ Interrogating
■ Serving

666      Chapter 13
Each CSCF type has specific functions that it supports within the network; however, 
the CSCF may be deployed as a single entity. Even in the case where the CSCF is a 
single entity, the various functions still are defined within the entity itself (in other 
words, there may be one box in the network defined as a CSCF, but all three functions 
will be carried out separately within the entity). 
Proxy Call Session Control Function (P-CSCF) This is the first point of contact a sub-
scriber has within the network. The P-CSCF can be deployed as a single entity in the 
network, or there may be many of them depending on the size of the network and the 
number of subscribers that have to be supported. 
Think of the P-CSCF as a network access point. This is the place from which 
subscribers will request services. The P-CSCF then has the responsibility of routing 
the service requests to the appropriate elements within the network. 
As subscribers roams into other networks, they will reach the P-CSCF serving the 
area they are in and will communicate with that specific P-CSCF until they roam 
into another service area, where another P-CSCF will pick up the subscriber. This 
is much like the cell sites within the wireless network, which hand off subscribers 
and their associated calls as they roam through the network. Each time they roam 
into another area, they must register in that network through the P-CSCF in the 
visited network.
The first action taken by the P-CSCF is to route the subscriber’s SIP REGISTRATION 
to the appropriate Interrogating Call Session Control Function (I-CSCF). The I-CSCF 
then must determine how to route the registration message back to the subscriber’s 
“home” Serving Call Session Control Function (S-CSCF; this will make a little more 
sense in a minute when you read the description for the S-CSCF). 
This means that another function is necessary to determine where the subscriber’s 
“home” CSCF is located. This also will be where the subscriber’s Home Subscriber 
Server (HSS) is located, which will contain subscription information for each subscriber 
in that part of the network. 
Think of how wireless works today. There is a “home” network that consists of 
databases with authentication and subscription information for each subscriber 
that belongs in that part of the network. No matter where subscribers access the 
wireless network, their registration and other transactions must be routed to the home  
network elements to determine if the subscriber has permission to use the services 
requested, to determine how to route calls to the subscriber, and for billing of services. 
This is the same in the IMS network, with very similar functions as seen in the 
wireless network. The P-CSCF becomes the entry or access point to begin all these 
transactions. 
Interrogating Call Session Control Function (I-CSCF) The I-CSCF sits at the edge of 
a network and provides a routing service for each network domain. Requests from 
SIP servers in other networks do not query the HSS of another network to deter-
mine how to route to subscribers. They send their requests to that network’s I-CSCF, 
which then determines where the HSS and home S-CSCF are for the requesting 
subscriber. 

SS7 and the IP Multimedia Subsystem (IMS)      667
Think of the I-CSCF as an access point for SIP servers into a network. It sits at the 
edge of the network, and SIP servers looking to route messages into that network are 
given the address of the I-CSCF rather than the specific S-CSCF and HSS assigned 
to individual subscribers. This allows networks to hide their topology and network 
elements. The I-CSCF then takes care of routing SIP requests from other networks 
into the visited network. 
Serving Call Session Control Function (S-CSCF) Subscribers in the network are assigned 
to a “home” S-CSCF. This is where all requests for service are routed to for the assigned 
subscribers. Even when they roam into other networks, the various requests are routed 
by the P-CSCF in the other network to the S-CSCF in the subscriber’s home network 
[much as is the case in today’s wireless networks, where subscribers are assigned to a 
home Mobile Switching Center (MSC)]. 
The S-CSCF provides session control for each of the subscribers’ sessions. Keep in 
mind that in IMS, subscribers may have many sessions concurrently, allowing them to 
play games while they interact with other players through a voice service and receive 
video of their opponents through yet another set of sessions. They can even communicate 
with each of the individual players separately through individual sessions, all under 
the control of the S-CSCF. 
All communications to and from the subscriber handset (via SIP) go through the 
subscriber’s S-CSCF. The S-CSCF then decides if these SIP messages need to be routed 
to other network elements such as application servers or the HSS. When a subscriber 
registers with the network, the S-CSCF will interface with the HSS to determine if the 
subscriber is who they say they are (authentication) and is authorized access to the 
network. The S-CSCF also controls the level of access a subscriber is permitted and 
what services they are allowed to access.
Home Subscriber Server (HSS)
The HSS is where the subscriber profile is held. The subscriber profile identifies all 
the services the subscriber is allowed to access, authentication information, and the 
subscriber’s identity. Subscribers within the IMS have both a public user identity and 
a private user identity. The public user identity is what other parties use to reach a 
subscriber in the IMS. The private user identity is used within the IMS to route services, 
to perform accounting for service usage, and to store other proprietary information. 
The HSS also stores the subscriber location, as well as the address of the home  
S-CSCF. Each subscriber is assigned to a home HSS, just as subscribers are assigned 
to a home HLR in the GSM network. In fact, the HSS is really an HLR in the IMS 
network. Each network can support just one HSS or multiple HSSs depending on the 
number of subscribers and the capacity of the HSS. 
Subscription Locator Function (SLF)
This function is needed only when there is more than one HSS. The SLF contains the 
address of the HSS for each subscriber. When subscribers register in the network and 

668      Chapter 13
their public user identity is known, their public user identity is mapped within the SLF 
to determine which HSS they are assigned. 
Multimedia Resource Function (MRF)
The MRF is what enables the use of announcements, combined media for conference 
bridges, transcode between codecs, and other similar functions. There are two parts to 
the MRF:
Multimedia Resource Function Controller (MFRC). This interfaces with the S-CSCF 
using the SIP and manages the resources in the MRFP using the H.248 protocol. 
Think of the MFRC as a SIP agent. 
Multimedia Resource Function Processor (MRFP). This is what provides the resource 
such as announcements, etc. 
Application Server (AS)
It is at the AS that services reside. These are the databases within the network that are 
used to deliver the plethora of services promised by the IMS. While a true AS supports 
the SIP, as its primary interface into the network, it also must support legacy networks; 
therefore, there are a couple of different types of ASs.
Most mobile networks today rely on the Customized Applications for Mobile network 
Enhanced Logic (CAMEL) for enabling services within the network. In the IMS, the 
AS will assume this role, but to ensure seamless migration from legacy to IMS, there is 
an IP Multimedia-Service Switching Function (IM-SSF). This AS will support SIP on 
one side toward the IMS (to the S-CSCF) while supporting CAMEL on the other side 
(toward the GSM network). The intent is to allow the GSM Service Control Function 
(gsm-SCF) to control the service within the IMS using the CAMEL interface. The AS 
then will serve as a gateway of sorts on the IMS side. Both the SIP-based AS and the 
IM-SSF-based AS use the DIAMETER protocol for communicating with the HSS. 
There are also networks that rely on Open Service Access–Service Capability Servers 
(OSA-SCS). In the IMS world, the AS will support OSA-SCS toward the GSM network 
while supporting SIP on the IMS side toward the S-CSCF. The OSA-SCS AS uses the 
Mobile Application Part (MAP) to communicate with the HSS. 
The AS communicates with the HSS to download or upload subscriber information 
needed to enable services. It can be located anywhere in the network or in a third-party 
network (as in the case of content providers). When the HSS is located outside the home 
network, it will not connect to the HSS (maintaining privacy of the HSS database). 
There will be many different ASs because these are the elements used to enable the 
many different services within the IMS. In reality, the AS is not really considered an 
element of the IMS, but because the AS is considered a key element in enabling services 
in the IMS, it is shown in the IMS Reference Model. Looking at the IMS Reference 
Model, the AS is found in the application plane. 

SS7 and the IP Multimedia Subsystem (IMS)      669
Breakout Gateway Control Function (BGCF)
Whenever a call originated by an IMS subscriber is to be terminated in the PSTN, the 
session must be routed through the BGCF. The BGCF then must select routing for the 
session (based on telephone numbers) where interworking can occur with the PSTN 
(either through another network or through a circuit-switched gateway). 
Media Gateway Control Function (MGCF)
This is where SIP is converted to either the ISDN User Part (ISUP) or BICC when calls 
are to be terminated in the PSTN. The underlying signaling transport toward the PSTN 
is SIGTRAN (specifically, SCTP over IP), which means it supports ISUP over SCTP/IP 
or BICC over SCTP/IP. The Message Transfer Part (MTP) is not used. The signaling 
gateway function provides the conversion of MTP into SCTP/IP for the MGCF so that 
when the ISUP or BICC message is sent toward the PSTN, it can be sent using ISUP 
or BICC over MTP. The MGCF also must control the IMS media gateway. This is done 
through the H.248 protocol. 
Signaling Gateways (SGWs)
This is the main signaling interface into the PSTN. The interface on the PSTN side is 
ISUP or BICC over MTP. The SGW converts this to ISUP or BICC over SCTP/IP. The 
SGW then interfaces with the MGCF, which will be responsible for converting the ISUP 
or BICC into SIP messages for the IMS network. 
This is the only place where SS7 plays a role in VoIP, for the sole purpose of termi-
nating VoIP calls back into the legacy network. As legacy networks begin to evaporate, 
there will be less and less demand for SS7 connections. 
Nonetheless, these SGWs play an important role today in the evolution of VoIP and 
IMS. Many of these platforms (such as Tekelec’s EAGLE platform) will themselves 
offer new functionality such as CSCF and even ASs. Do not think of these systems as 
obsolete; they will be an important element in your IMS deployments. 
IP Multimedia Subsystem Media Gateway Function (IMS-MGW)
The IMS-MGW must convert the Real Time Protocol (RTP) stream of voice into pulse-
code modulation for transport to the PSTN. This is done under the control of the MGCF. 
Protocols of the IMS
Session Initiation Protocol (SIP)
The principal protocol in the IMS is the SIP. This is used throughout the IMS for 
session control. Other protocols also are used, however, depending on the function. We 
have already seen the use of other protocols between the various entities.

670      Chapter 13
SIP was derived from SMTP and HTTP, the two most widely used and popular 
protocols of the Internet. One can draw many similarities between these protocols and 
SIP, especially in the routing. SIP is an end-to-end protocol, meaning that one protocol 
is used from the subscriber handset (or terminal) through the entire network to the 
terminating terminal. This makes implementation and expansion must simpler.
One can think of SIP as the SS7 of the IMS. SIP maintains control of all multimedia 
sessions in the IMS and replaces any need for SS7 in the network.
H.248
This protocol is used to control nodes within the media plane of the network. Originally, 
this was known as MEGACO (or MEdia GAteway COntrol). It is different from SIP 
because SIP is concerned only with session control, regardless of the media type, 
whereas H.248 manages the nodes connecting to the media (media gateways).
DIAMETER
This protocol came from RADIUS and is used for authentication, authorization, and 
accounting (AAA). You will find DIAMETER used to connect between the ASs and the 
S-CSCF, for example.
Real Time Protocol (RTP)
This is the protocol used for the transmission of voice and other real-time media such 
as video and audio. The RTP uses Real Time Protocol Control (RTCP) for controlling the 
transmission (different from H.248, which controls the nodes responsible for RTP).
Real Time Control Protocol (RTCP)
This protocol is used in conjunction with RTP and serves as the control channel for 
each RTP channel. Quality of Service (QoS) and other data (such as jitter, round-trip 
time, etc.) can be found in the RTCP, making this an important protocol to monitor for 
performance and QoS.
Summary
This has been a high-level overview of the IMS. While this is not a book on VoIP, I felt 
that it was important to show the evolution of signaling because I have faced the ques-
tion many times, “Where is SS8?” There is no SS8 or SS9, but there is SIP, and it is the 
signaling protocol of the future.
What is truly ironic is that SIP is based completely on data networking protocols 
developed for the Internet, and now it will be controlling our world’s telecommunications 
networks supporting not just voice but also video, audio, text, and any other medium 
we choose to communicate with.

