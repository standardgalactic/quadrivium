BRICS RS-96-3
J. van Oosten: The Modiï¬ed Realizability Topos
BRICS
Basic Research in Computer Science
The Modiï¬ed Realizability Topos
Jaap van Oosten
BRICS Report Series
RS-96-3
ISSN 0909-0878
February 1996

Copyright c
 1996, BRICS, Department of Computer Science
University of Aarhus. All rights reserved.
Reproduction of all or part of this work
is permitted for educational or research use
on condition that this copyright notice is
included in any copy.
See back inner page for a list of recent publications in the BRICS
Report Series. Copies may be obtained by contacting:
BRICS
Department of Computer Science
University of Aarhus
Ny Munkegade, building 540
DK - 8000 Aarhus C
Denmark
Telephone:+45 8942 3360
Telefax:
+45 8942 3255
Internet:
BRICS@brics.dk
BRICS publications are in general accessible through WWW and
anonymous FTP:
http://www.
bri
cs
.dk
/
ftp
ftp.brics.
dk
(cd
pub/BRICS)

The
Mo
died
Realizabilit
y
T
op
os
Jaap
v
an
Oosten
BRICS

Departmen
t
of
Computer
Science,
Univ
ersit
y
of
Aarh
us
Denmark
F
ebruary
,
		
Abstract
The
mo
died
realizabili
t
y
top
os
is
the
seman
tic
(and
higher
order)
coun
terpart
of
a
v
arian
t
of
Kreisel's
mo
died
realizabili
t
y
(	).
These
y
ears,
this
realizabili
t
y
has
b
een
in
the
limelight
again
b
ecause
of
its
p
os-
sibiliti
es
for
mo
delling
t
yp
e
theory
(Streic
her,
Hyland-Ong-Ritter)
and
strong
normalization.
In
this
pap
er
this
top
os
is
in
v
estigated
from
a
general
logical
and
top
os-
theoretic
p
oin
t
of
view.
It
is
sho
wn
that
Mo
d
(as
w
e
call
the
top
os)
is
the
close
d
c
omplement
of
the
eectiv
e
top
os
inside
another
one;
this
turns
out
to
ha
v
e
some
logical
consequences.
Some
imp
ortan
t
sub
categories
of
Mo
d
are
describ
ed,
and
a
general
logical
principle
is
deriv
ed,
whic
h
holds
in
the
larger
top
os
and
implies
the
w
ell-kno
wn
Indep
endence
of
Premiss
principle.
In
tro
duction.
The
notion
of
\mo
died
realizabilit
y"
originates
with
Kreisel's
[Kre]
(see
also
[Kre]).
While
Kreisel
in
tended
to
giv
e
a
consistency
pro
of
for
the
system
HA
!
and,
accordingly
,
dened
a
straigh
tforw
ard
extension
of
Kleene's
realizabilit
y
to
this
t
yp
ed
system,
to
da
y's
meaning
of
the
term
`mo
di-
ed
realizabilit
y'
deriv
es
from
T
ro
elstra's
collapse
of
this
realizabilit
y
([T
ro]).
Let
me
briey
indicate
what
this
is.
In
Kreisel's
notion,
one
denes
for
eac
h
form
ula
'
of
HA
!
a
t
yp
e

(');
realizers
of
'
ha
v
e
to
b
e
found
in
this
t
yp
e.
F
or
example,

(	x

:')
=



(')
and

('
!
 
)
=

(')
!

( 
).
No
w
it
is
p
ossible
to
in
terpret
the
whole
of
HA
!
in
rst
order
arithmetic
HA,
using
the
mo
del
of
hereditarily
recursiv
e
op
erations.
Then
one
expresses

Basic
Researc
h
in
Computer
Science,
cen
ter
of
the
Danish
National
Researc
h
F
oundation.
P
art
of
the
researc
h
w
as
carried
out
at
the
Departmen
t
of
Mathematics
of
Utrec
h
t
Univ
ersit
y
,
The
Netherlands


Kreisel's
realizabilit
y
in
HA,
and
since
HA
is
a
subsystem
of
HA
!
,
one
obtains
another
realizabilit
y
in
terpretation
for
HA,
v
ery
dieren
t
from
Kleene's
one.
The
resulting
in
terpretation
is
form
ulated
with
`p
oten
tial'
and
`actual'
real-
izers;
the
set
of
p
oten
tial
realizers
of
a
form
ula
'
is
the
collapse
of
the
t
yp
e

('),
and
the
actual
realizers
are
a
subset
of
these.
In
the
follo
wing
formal
denition,
U
a
(')
and
U
p
(')
are
the
sets
of,
resp
ectiv
ely
,
the
actual
and
p
oten
tial
realizers
of
',
and
for
subsets
A;
B
of
I
N
w
e
use
the
abbreviations:
A

B
=
fha;
bij
a

A;
b

B
g
A
!
B
=
fej
a

A	n:T
(e;
a;
n)
&
U
(n)

B
g
Then
b
y
induction,
the
rst
clause
for
prime
form
ulas:
U
a
(P
)
=
fn

I
NjP
g
U
p
(P
)
=
I
N
U
a
('
^
 
)
=
U
a
(')

U
a
( 
)
U
p
('
^
 
)
=
U
p
(')

U
p
( 
)
U
a
('
!
 
)
=
U
a
(')
!
U
a
( 
)\
U
p
(')
!
U
p
( 
)
U
p
('
!
 
)
=
U
p
(')
!
U
p
( 
)
U
a
(	x')
=
S
nI
N
[fng

U
a
('(n))]
U
p
(	x')
=
S
nI
N
[fng

U
p
('(n))]
U
a
(x')
=
T
nI
N
[fng
!
U
a
('(n))]
U
p
(x')
=
T
nI
N
[fng
!
U
p
('(n))]
In
this
denition,
the
in
tersection
in
the
clause
dening
U
a
('
!
 
)
reects
Kreisel's
denition
that

('
!
 
)
=

(')
!

( 
)
i.e.
realizers
of
an
implication
m
ust
b
e
glob
al
elemen
ts
of
this
function
t
yp
e.
Of
course,
the
clause
is
also
reminiscen
t
of
the
denition
of
in
tuitionistic
implication
in
a
Kripk
e
structure:
'
!
 
is
only
true
in
a
no
de
p
if
for
all
q

p,
if
'
is
true
in
q
then
 
is
true
in
q
.
The
follo
wing
observ
ation
is
basically
due
to
T
ro
elstra.
Prop
ositi
on
0.
Supp
ose
our
G
odel
numb
ering
of
p
artial
r
e
cursive
functions
and
our
primitive
r
e
cursive,
bije
ctive
p
airing
is
such
that:
'
0
(x)
=
0
for
al
l
x
h0;
0i
=
0
Then
0

U
p
(')
for
al
l
'.
F
rom
this
observ
ation,
Gra
yson,
in
an
unpublished
man
uscript
([Gra]),
ga
v
e
a
sk
etc
h
ho
w
to
build
a
mo
died
realizabilit
y
trip
os
and
consequen
tly
a
top
os,
in
de
st
yle
of
Hyland's
([Hy])
eectiv
e
top
os.
In
m
y
thesis
([vO	])
I
lled
in
some
details
left
blank
b
y
Gra
yson,
and
I
observ
ed
that
the
Gra
yson
top
os
is
a
sheaf
subtop
os
of
\the
eectiv
e
top
os
built
o
v
er
Set
!
".
In
the
nineties,
in
terest
in
mo
died
realizabilit
y
w
as
reviv
ed.
Streic
her
([Str	])
links
the
idea
of
actual
and
p
oten
tial
realizers
to
an
in
terpretation
of
fully
in
tensional
t
yp
e
theory
,
via
his
category
of
mo
died
assem
blies.


Hyland
and
Ong
([HyO	],
see
also
Ong
&
Ritter,
[OR	])
giv
e
an
accoun
t
of
mo
died
realizabilit
y
top
oses
based
on
conditional
partial
com
binatory
alge-
bras.
They
dev
elop
some
theory
,
analogous
to
[Hy],
and
record
the,
at
rst
sigh
t
surprising
fact
that
there
are
two
em
b
eddings
of
Set
in
to
the
mo
died
realizabilit
y
top
os:
one
is
the
\logical"
one,
dened
from
the
logic
of
the
trip
os;
and
the
other
is
the
direct
image
of
the
em
b
edding
of
Set
as
::-shea
v
es
in
the
top
os.
Among
others,
this
fact
is
accoun
ted
for
in
this
pap
er.
After
setting
up
the
top
os,
I
relate
it
to
the
top
os
E
f
f
!
whic
h
is
the
\eectiv
e
top
os
constructed
on
shea
v
es
o
v
er
Sierpinski
space",
Set
!
,
and
sho
w
that
the
mo
died
realizabilit
y
top
os,
called
Mo
d,
is
the
closed
complemen
t
of
the
eectiv
e
top
os
in
E
f
f
!
.
The
t
w
o
em
b
eddings
of
Set
in
to
Mo
d
come
from
the
t
w
o
p
oin
ts
of
Sierpinski
space.
Some
imp
ortan
t
sub
categories
of
Mo
d
are
describ
ed,
and
Streic
her's
Mo
d-
ied
Assem
blies
turn
out
to
liv
e
(as
a
full
sub
category)
in
E
f
f
!
rather
than
Mo
d.
The
pro
jectiv
es
in
Mo
d
are
describ
ed.
Mo
d
is,
lik
e
man
y
realizabilit
y
top
oses,
an
exact
completion.
A
generalization
of
T
ro
elstra's
\Indep
endence
of
Premiss"
principle
(see
[T
ro]),
form
ulated
in
the
con
text
of
E
f
f
!
,
is
deriv
ed.

Denition
of
Mo
d
and
basic
prop
erties
This
section
con
tains
some
trip
os-theoretic
terminology
.
In
sofar
as
this
remains
unexplained,
the
reader
is
referred
to
[HJP0].
Con
v
en
tion
.
F
rom
no
w
on
w
e
assume
the
conditions
of
prop
osition
0.
to
hold,
i.e.
0
x
=
0
(that's
ho
w
w
e'll
write
partial
recursiv
e
application)
and
h0;
0i
=
0.
W
e
also
use
the
abbreviations
A
!
B
and
A

B
for
subsets
A;
B
of
I
N,
as
dened
in
the
in
tro
duction,
and
()
0
,
()

for
in
v
erses
of
the
pairing:
z
=
h(z
)
0
;
(z
)

i.
Let
R
b
e
the
set
fU
=
(U
a
;
U
p
)

P
(I
N)

j
U
a

U
p
&
0

U
p
g.
F
or
U;
V

R
w
e
put
U
)
V
=
(U
a
!
V
a
\
U
p
!
V
p
;
U
p
!
V
p
)
F
or
ev
ery
set
X
w
e
dene
a
preorder
on
R
X
b
y:
'
`
 
i
\
xX
('(x)
)
 
(x))
a
=
;
Apart
from
)
w
e
ha
v
e
the
follo
wing
op
erations
on
R
X
:
'
^
 
=
x:('(x)
a

 
(x)
a
;
'(x)
p

 
(x)
p
)
'
_
 
=
x:('(x)
a
+
 
(x)
a
;
'(x)
p
+
 
(x)
p
)
where,
for
A;
B

I
N,
A
+
B
=
(f0g

A)
[
(fg

B
).
Moreo
v
er,
w
e
ha
v
e
the
elemen
ts
>
X
=
x:(I
N;
I
N)
and
?
X
=
x:(;;
I
N).


Prop
ositi
on
.
With
the
structur
e
();
^;
_;
>
X
;
?
X
),
R
X
is
a
Heyting
pr
e-
algebr
a.
Giv
en
f
:
X
!
Y
there
is
a
order-preserving
map
R
Y
R
f
!
R
X
.
This
map
has
b
oth
adjoin
ts.
Dene
for
'

R
X
:
f
(')
=
y
:(
T
f
(x)=y
I
N
!
'(x)
a
;
T
f
(x)=y
I
N
!
'(x)
p
)
	f
(')
=
y
:

(fig;
fi;
0g)
^
(
S
f
(x)=y
'(x)
a
;
S
f
(x)=y
'(x)
p
)
f
 
(y
)
=
;
(;;
f0g)
f
 
(y
)
=
;
where
i
is
some
xed,
standard
co
de
for
the
iden
tit
y
function.
W
e
ha
v
e
that
	f
a
R
f
a
f
;
b
y
w
a
y
of
example
I
sho
w
the
rst
adjunction.
Supp
ose
	f
(')
`
Y
 
,
sa
y
n

T
y
Y
(	f
(')(y
)
)
 
(y
))
a
.
Then
m:nhi;
mi

\
xX
('(x)
)
 
(f
(x)))
a
for
let
m

'(x)
a
,
then
hi;
mi

	f
('(f
(x))
a
so
n
hi;
mi

 
(f
(x))
a
;
same
calculation
for
m

'(x)
p
;
therefore
'
`
R
f
( 
).
Con
v
ersely
supp
ose
'
`
R
f
( 
),
sa
y
n

T
xX
('(x)
)
 
(f
(x)))
a
.
Then
w
=
z
:(z
)
0

(n(z
)

)

\
y
Y
(	f
(')(y
)
)
 
(y
))
a
for
let
y

Y
,
z

	f
(')(y
)
a
.
Then
f
 
(y
)
=
;
and
z
is
of
form
hi;
(z
)

i
with
(z
)


S
f
(x)=y
'(x)
a
whence
n
(z
)


[
f
(x)=y
 
(f
(x))
a
=
 
(y
)
a
so
w
z
=
(z
)
0
(n
(z
)

)
=
n
(z
)


 
(y
)
a
.
Moreo
v
er,
if
z

	f
(')(y
)
p
then
either
f
 
(y
)
=
;
in
whic
h
case
z
=
0
=
h0;
0i,
n
0
is
dened
since
w
e
ma
y
assume
X
=
;
(if
X
=
;
there
is
nothing
to
pro
v
e)
and
n

T
xX
'(x)
p
!
 
(f
(x))
p
,
whence
w

z
=
0
(n
0)
=
0

 
(y
)
p
;
or
f
 
(y
)
=
;
in
whic
h
case
(z
)
0

fi;
0g
and
(z
)


'(x)
p
for
some
x
with
f
(x)
=
y
.
Then
n
(z
)

is
dened
and
n
(z
)


 
(y
)
p
so
(z
)
0

(n(z
)

)
is
either
0
or
n(z
)

,
in
b
oth
cases
in
 
(y
)
p
.
So
	f
('
`
Y
 
.
Ho
w
ev
er,
if
f
is
surjectiv
e,
as
most
pro
jections
are,
	f
(')
and
f
(')
are
isomor-
phic
to
y
:(
S
f
(x)=y
'(x)
a
;
S
f
(x)=y
'(x)
p
)
and
y
:(
T
f
(x)=y
'(x)
a
;
T
f
(x)=y
'(x)
p
).
Prop
ositi
on
.
The
assignment
X
!
R
X
,
(X
f
!
Y
)
!
R
f
,
denes
a
trip
os
on
Set.


W
e
call
the
top
os
represen
ted
b
y
this
trip
os,
Mo
d.
W
e
shall
ha
v
e
use
for
the
follo
wing
general
construction.
F
or
this,
it
is
necessary
to
kno
w
that
the
notion
of
a
trip
os
is
v
alid
o
v
er
an
y
category
C
with
nite
limits
(nite
pro
ducts
suce,
in
fact),
not
just
Set;
if
P
is
a
trip
os
on
C
,
the
top
os
represen
ted
b
y
P
is
called
P
 C
.
The
\constan
t
ob
jects"
functor
is
the
functor

or

P
:
C
!
P
 C
de-
ned
on
ob
jects
b
y
(x)
=
(x;
	
(>
x
))
where

:
x
!
x

x
is
the
diagonal,
and
on
maps
b
y:
(x
f
!
y
)
is
the
map
represen
ted
b
y
the
functional
relation
	
hid
x
;f
i
(>
x
)

P
(x

y
).
The
follo
wing
theorem
is
due
to
Andy
Pitts
([Pit]):
Theorem
.
Supp
ose
P
is
a
trip
os
on
C
and
R
a
trip
os
on
P
 C
such
that

R
:
P
 C
!
R (P
 C
)
pr
eserves
epimorphisms.
Then
the
c
omp
osite
R


op
P
(as
a
pseudofunctor:
C
op
!
Cat)
is
a
trip
os
on
C
,
and
the
top
oses
R (P
 C
)
and
(R


op
P
) C
ar
e
e
quivalent
by
an
e
quivalenc
e
which
c
ommutes
with
the
's
involve
d.
W
e
only
use
this
theorem
to
obtain
the
follo
wing
easy
consequence:
Corollary
.
L
et
S
b
e
the
set
f(A;
B
)

P
(I
N)

j
A

B
g
and
dene
)
on
S
just
as
for
R,
as
wel
l
as
the
pr
e
or
der
on
S
X
.
The
assignment
X
!
S
X
yields
a
Set-trip
os,
and
the
top
os
r
epr
esente
d
by
this
trip
os
is
the
ee
ctive
top
os
built
on
Set
!
,
which
we
denote
by
E
f
f
!
Prop
ositi
on
.
Ther
e
is
a
ge
ometric
inclusion
of
trip
oses
R
X
/
S
X
o
;
henc
e,
Mo
d
is
a
she
af
subtop
os
of
E
f
f

!
Pro
of.
Since
R

S
w
e
ha
v
e
R
X

S
X
.
Left
adjoin
t
to
this
is
the
map
induced
b
y
the
function

:
S
!
R:
(A;
B
)
=
(A
+
;
B
+
[
f0g)
where
A
+
=
fa
+
j
a

Ag.
The
adjunction
is
immediate,
and

X
preserv
es
nite
meets.
There
is,
in
complete
analogy
to
the
inclusion
Set
!
E
f
f
,
an
inclusion
of
top
oses
Set
!
!
E
f
f

!
.
Let
(r

)

:
Set

!
!
E
f
f
!
b
e
dened
as
follo
ws:
(r

)

(X

!
Y
)
=
(X
t
Y
;
=)
where
X
t
Y
is
the
disjoin
t
union
of
X
and
Y
,
and
[
[
z
=
z
0
]
]
=

>
>
<
>
>
:
(I
N;
I
N)
if
z
;
z
0

X
and
z
=
z
0
()
(;;
I
N)
if
not
();
but


id

(z
)
=


id

(z
0
)

Y
(;;
;)
otherwise
F
or
a
morphism

=
X
/

0


X
0


0
Y
/


Y
0
its
image
(r

)

(
)
is
represen
ted
b
y
the


functional
relation
F

S
(X
tY
)(X
0
tY
0
)
where
F
(z
;
z
0
)
=

>
>
<
>
>
:
(I
N;
I
N)
if
z

X
;
z
0

X
0
and

0
(z
)
=
z
0
()
(;;
I
N)
if
not
(),
but





id

(z
)
=


0
id

(z
0
)

Y
0
(;;
;)
otherwise
F
or
(X
;
=)
an
ob
ject
of
E
f
f
!
,
write
=
0
;
=

for
the
t
w
o
comp
onen
ts
of
=,
i.e.
[
[
x
=
x
0
]
]
=
([
[
x
=
0
x
0
]
];
[
[
x
=

x
0
]
]).
Then
(r

)

(X
;
=)
is
X
0
d
!
X

where
X
i
=
fx

X
j
[
[
x
=
i
x
]
]
=
;g=

i
,
x

i
x
0
i
[
[
x
=
i
x
0
]
]
=
;,
and
d
the
ob
vious
map.
There
are
two
em
b
eddings
from
Set
in
to
Mo
d.
The
constan
t
ob
jects
functor

sends
the
set
X
to
(X
;
=

)
where
[
[
x
=

x
0
]
]
=

(fig;
fi;
0g)
if
x
=
x
0
(;;
f0g)
if
x
=
x
0
There
is
another
functor,
r
:
Set
!
Mo
d,
dened
b
y
r(X
)
=
(X
;
=
r
)
where
[
[
x
=
r
x
0
]
]
=

(I
N;
I
N)
if
x
=
x
0
(;;
I
N)
if
x
=
x
0
As
noted
b
y
Hyland
and
Ong,
since
the
top
os
R
( )
is
	-standard
(see
[HJP0]),
b
y
.
of
that
pap
er
r
is
direct
image
of
a
geometric
morphism
Set
!
Mo
d,
the
in
v
erse
image
of
whic
h
is
the
global
sections
functor.
This
geometric
morphism
is
an
inclusion,
and
presen
ts
Set
as
::-shea
v
es
in
Mo
d.
The
top
os
Set
!
,
b
eing
shea
v
es
o
v
er
Sierpinski
space,
has
t
w
o
p
oin
ts
0;

:
Set
!
Set
!
.
W
e
ha
v
e
0

(X
)
=
(X
id
!
X
),


(X
)
=
(X
!
!
),
0

(X
f
!
Y
)
=
Y
and


(X
f
!
Y
)
=
X
.
Moreo
v
er,
there
is
a
-cell

:

)
0
(Recall
that
in
the
-category
T
op
of
top
oses
and
geometric
morphisms,
a
-cell

:
f
)
g
is
a
natural
transformation


:
f

)
g

,
equiv
alen
tly
,
a
natural
transformation


:
g

)
f

).
Let
us
denote
the
inclusion
Mo
d
!
E
f
f
!
b
y
i.
Prop
ositi
on
.
The
functors
r
and

ar
e
isomorphic
to
i

(r

)



and
i

(r

)

0

r
esp
e
ctively.
Pro
of.
Easy
v
erication.
W
e
can
extend
the
picture.
W
e
ha
v
e
also
a
geometric
morphism
E
f
f

!
E
f
f
!
,
induced
b
y
the
diagonal
em
b
edding
of
P
(I
N)
in
to
S
and
the
map
bac
k,
whic
h
sends
(U;
V
)
to
V
.
Moreo
v
er
there
is
a
geometric
morphism
v
:
Mo
d
!
E
f
f
induced
b
y
the
maps
(U;
V
)
!
U
:
R
!
P
(I
N)
and
A
!
(A
+
;
A
+
[
f0g)
:
P
(I
N)
!
R.
The


triangle
of
geometric
morphisms:
Mo
d
/
i
"
v
E
E
E
E
E
E
E
E
E
f
f
!
E
f
f
;

w
w
w
w
w
w
w
w
do
es
not
comm
ute,
but
there
is
a
-cell

:
i
)

v
.
The
comp
onen
t


:
i

)
v



is
induced
b
y
the
en
tailmen
t
(U
+
;
V
+
[
f0g)
`
(V
+
;
V
+
[
f0g)
in
R

;
i.e.,


is
the
comp
osition
i

i


)
i











)
w








=
w



where
the
last
t
w
o
arro
ws
are
isomorphisms.
Therefore,


is
an
isomorphism
on
ob
jects
in
the
image
of


,
i.e.


?


:
i



)
v






=
v

is
an
isomorphism.
Let
us
denote
the
inclusions
of
Set
in
to
Mo
d
and
E
f
f
b
y
r
E
,
r
M
resp
ectiv
ely
.
Prop
ositi
on
.
The
diagr
ams
Mo
d
/
i
E
f
f

!
Set
O
r
M
/

Set
!
O
r

E
f
f
/

E
f
f
!
Set
O
r
E
/
0
Set
!
O
r

Mo
d
/
v
E
f
f
Set
b
r
M
E
E
E
E
E
E
E
E
=
r
E
z
z
z
z
z
z
z
z
c
ommute
up
to
natur
al
isomorphism.
Mor
e
over,
the
-c
el
ls
r


and

?
r
M
c
oincide
mo
dulo
these
natur
al
isomorphisms,
i.e.
the
c
omp
osites
r



r


)
r


0
and
r




=
i

r
M

?r
M
)


v

r
M

=


r
E

=
r


0
ar
e
e
qual.
It
follo
ws,
that
the
functor

:
Set
!
Mo
d
is
isomorphic
to
v

(r
E
)

,
for
w
e
ha
v
e


=
i

(r

)

0


=
i



(r
E
)



?

(r
E
)

)
v





(r
E
)


=
v

(r
E
)

and
w
e
kno
w
that


?


is
a
natural
isomorphism.



E
f
f
and
Mo
d
as
subtop
oses
of
E
f
f
!
Let
U
=
(fg;
=)
b
e
the
sub
ob
ject
of

in
E
f
f
!
dened
b
y
[
[

=

]
]
=
(;;
I
N).
Prop
ositi
on
.
.
E
f
f
is
the
op
en
subtop
os
of
E
f
f
!
determine
d
by
the
obje
ct
U
,
and
Mo
d
is
its
close
d
c
omplement;
.
The
two
c
ommuting
squar
es
in
pr
op
osition
.
ar
e
pul
lb
ack
squar
es
in
T
op.
Pro
of.
W
e
ha
v
e

in
ternal
top
ologies
in
E
f
f
!
whic
h
I
denote
b
y
k
0
;
k

;
k

;
k
E
;
k
M
;
they
corresp
ond
resp
ectiv
ely
to
the
inclusions
Set
r

0
!
E
f
f
!
,
Set
r


!
E
f
f
!
,
Set
!
r

!
E
f
f
!
,
E
f
f

!
E
f
f
!
and
Mo
d
i
!
E
f
f
!
.
F
or
eac
h
j

f0;
;
;
E
;
M
g,
k
j
is
induced
b
y
a
map
K
j
:
S
!
S
.
These
maps
are
giv
en
b
y:
K
0
(A;
B
)
=
(fn

I
Nj
B
=
;g;
fn

I
Nj
B
=
;g)
K

(A;
B
)
=
(fn

I
Nj
A
=
;g;
I
N)
K

(A;
B
)
=
(fn

I
Nj
A
=
;g;
fn

I
Nj
B
=
;g)
K
E
(A;
B
)
=
(B
;
B
)
K
M
(A;
B
)
=
(A
+
;
B
+
[
f0g)
No
w
clearly
,
in
S
S
,
the
maps
K
E
and
(A;
B
)
!
((;;
I
N)
)
(A;
B
))
are
iso-
morphic,
whence
k
E
is
in
ternally
giv
en
as
w
:

:u
)
w
,
u
b
eing
the
p
oin
t
of

whic
h
classies
the
inclusion
U
!
.
By
the
denition
of
op
en
subtop
oses
([Joh]),
E
f
f
is
the
op
en
subtop
os
determined
b
y
U
.
Lik
ewise,
the
map
K
M
is
isomorphic
(in
S
S
)
to
(A;
B
)
!
((;;
I
N)
_
(A;
B
)),
so
k
M
is
in
ternally
the
top
ol-
ogy
w
:

:u
_
w
,
whic
h
is
the
complemen
t
(in
the
lattice
of
in
ternal
top
ologies)
of
k
E
.
This
pro
v
es
statemen
t
.
F
or
the
second
statemen
t,
since
b
oth
diagrams
are
diagrams
of
inclusions,
it
is
enough
to
pro
v
e
that
k

is
the
join
of
k

and
k
M
,
and
k
0
is
the
join
of
k

and
k
E
.
This
is
immediate
from
the
equalities
K

=
K


K
M
and
K
0
=
K


K
E
.
Corollary
.
Every
k
M
-close
d
sub
obje
ct
is
k
E
-dense,
and
every
map
fr
om
a
k
M
-sep
ar
ate
d
obje
ct
to
a
k
E
-sep
ar
ate
d
obje
ct
is
c
onstant.
In
fact
there
are
t
w
o
other
top
ologies
whic
h
b
elong
in
the
picture,
viz.
the
meets
k

^
k
E
and
k

^
k
M
.
Abusing
notation,
k

^
k
E
(A;
B
)
=

(B
;
B
)
if
A
=
;
(;;
B
)
else
and
k

^
k
M
(A;
B
)
=

(A
+
;
B
+
[
f0g)
if
B
=
;
(;;
;)
else


and
w
e
ha
v
e
>
=
w
:

:>
k
0
o
o
o
o
o
o
o
o
o
o
o
o
o
k

O
O
O
O
O
O
O
O
O
O
O
O
O
k
E
w
w
w
w
w
w
w
w
w
k

O
O
O
O
O
O
O
O
O
O
O
O
O
O
o
o
o
o
o
o
o
o
o
o
o
o
o
o
k
M
H
H
H
H
H
H
H
H
H
H
k

^
k
E
o
o
o
o
o
o
o
o
o
o
o
o
o
H
H
H
H
H
H
H
H
H
k

^
k
M
v
v
v
v
v
v
v
v
v
O
O
O
O
O
O
O
O
O
O
O
O
O
?
=
id

o
o
o
o
o
o
o
o
o
o
o
O
O
O
O
O
O
O
O
O
O
O
as
a
sublattice
of
the
lattice
of
in
ternal
top
ologies
in
E
f
f
!

Sub
ob
jects
of
r's,
's
and
pro
jectiv
es
in
Mo
d
In
this
section
I
c
haracterize
the
full
sub
categories
of
Mo
d
on
resp
ectiv
ely:
the
ob
jects
whic
h
are
sub
ob
ject
of
a
r(X
),
those
whic
h
are
sub
ob
ject
of
a
(X
)
and
the
pro
jectiv
e
ob
jects.
The
c
haracterization
of
the
sub-r's
w
as
already
giv
en,
without
pro
of,
b
y
Hyland
and
Ong.
F
or
completeness'
sak
e
and
for
understanding,
I
giv
e
a
pro
of.
The
global
sections
functor
 :
Mo
d
!
Set
can
b
e
rendered
as:
 (X
;
=)
=
X
0
=
where
X
0
=
fx

X
j
[
[
x
=
x
]
]
a
=
;g
and
xx
0
i
[
[
x
=
x
0
]
]
a
=
;;
if
F
:
X

Y
!
R
represen
ts
a
morphism
f
:
(X
;
=)
!
(Y
;
=)
then
 (f
)
sends
the
class
[x]
to
the
unique
class
[y
]
for
whic
h
F
(x;
y
)
a
=
;.
Giv
en
a
function
f
:
 (X
;
=)
!
Y
in
Set,
its
transp
ose:
(X
;
=)
!
r(Y
)
is
represen
ted
b
y
F
(x;
y
)
=

[
[
x
=
x
]
]
if
x

X
0
&
f
([x])
=
y
(;;
[
[
x
=
x
]
]
p
)
o.w.
Therefore
the
unit

:
(X
;
=)
!
r (X
;
=)
is
represen
ted
b
y
H
:
X

X
0
=
!
R
where
H
(x;
[x
0
])
=
[
[
x
=
x
]
]
if
x

[x
0
],
and
(;;
[
[
x
=
x
]
]
p
)
otherwise.
Prop
ositi
on
.
F
or
an
obje
ct
(X
;
=)
of
Mo
d,
the
fol
lowing
ar
e
e
quivalent:
.

(X;=)
is
a
monomorphism;
.
(X
;
=)
is
::-sep
ar
ate
d;
.
(X
;
=)
is
isomorphic
to
an
obje
ct
(Y
;
=)
of
the
form:
[
[
y
=
y
0
]
]
=

(A
y
;
B
)
if
y
=
y
0
(;;
B
)
o.w.
	

with
A
y
=
;
for
al
l
y

Y
,
and
B
c
onstant
(of
c
ourse,
0

B
and
al
l
A
y

B
)
Pro
of.

)
:
supp
ose

mono,
so
H
(x;
[z
])
^
H
(x
0
;
[z
])
)
x
=
x
0
holds.
Supp
ose
a
is
an
actual
realizer
of
this.
F
urthermore
supp
ose
b
0

[
[
x
=
x
]
]
0
,
b


[
[
x
0
=
x
0
]
]
0
and
b


::[
[
x
=
x
0
]
]
0
.
Then
[x]
=
[x
0
],
b
0

H
(x;
[x]),
b


H
(x
0
;
[x
0
])
so
a
hb
0
;
b

i

[
[
x
=
x
0
]
]
0
;
similar
for
p
oten
tial
realizers.
So
x
=
x
^
x
0
=
x
0
^
::(x
=
x
0
)
)
x
=
x
0
holds
and
(X
;
=)
is
::-separated.

)
:
supp
ose
a
is
an
actual
realizer
of
x
=
x
^
x
0
=
x
0
^
::(x
=
x
0
)
)
x
=
x
0
.
Let
Y
=
 (X
;
=)
and
put
A
y
=
S
x;x
0
y
[
[
x
=
x
0
]
]
a
and
B
=
S
x;x
0
X
[
[
x
=
x
0
]
]
p
.
Then
(X
;
=)
and
(Y
;
=)
are
easily
seen
to
b
e
isomorphic,
via
F
:
X

Y
!
R
where
F
(x;
y
)
=

([
[
x
=
x
]
]
a

A
y
;
[
[
x
=
x
]
]
p

B
)
if
x

y
(;;
[
[
x
=
x
]
]
p

B
)
o.w.
The
implication

)

is
left
to
the
reader.
The
full
sub
category
of
Mo
d
on
the
::-separated
ob
jects
can
b
e
describ
ed
as
follo
ws:
ob
jects
are
triples
(X
;
fA
x
j
x

X
g;
B
)
where
X
is
a
set,
;
=
A
x

B

I
N
and
0

B
;
maps
from
(X
;
fA
x
j
x

X
g;
B
)
to
(Y
;
fC
y
j
y

Y
g;
D
)
are
functions
f
:
X
!
Y
suc
h
that
(
T
xX
A
x
!
C
f
(x)
)
\
(B
!
D
)
is
nonempt
y
.
As
to
the
sub-'s,
the
description
of
the
ob
jects
is
almost
as
simple,
but
the
morphisms
are
dieren
t.
Thomas
Streic
her
dened
the
follo
wing
category
,
whic
h
he
calls
the
category
of
mo
die
d
assemblies
Mo
dAss:
Deniti
on
.
(Streic
her)
A
mo
die
d
assembly
is
a
p
air
(X
;
)
with
X
a
set
and

:
X
!
R
such
that
(x)
a
=
;
for
al
l
x

X
.
A
morphism
of
mo
die
d
assemblies
(X
;
)
!
(Y
;
 
)
is
a
function
f
:
X
!
Y
which
is
tr
acke
d
in
the
sense
that
\
xX
((x)
)
 
(f
(x)))
a
is
nonempty.
Mo
die
d
assemblies
and
morphisms
form
a
c
ate
gory
Mo
dAss.
There
is,
as
will
b
e
seen
explicitly
b
elo
w,
an
em
b
edding
Mo
dAss
!
Mo
d
whic
h
lands
in
the
sub-'s;
as
(X
;
)
is
sen
t
to
a
sub
ob
ject
of
(X
).
The
question
therefore
arises
whether
Mo
dAss
is
equiv
alen
t
to
the
full
sub
category
of
Mo
d
on
the
sub-'s.
There
are
t
w
o
obstacles
here.
0

The
rst
one
is
the
requiremen
t
that
(x)
a
=
;
for
all
x

X
.
Consider
the
ob
ject
(I
N;
=)
where
[
[
n
=
m
]
]
=

<
:
(fn
+
g;
f0;
n
+
g)
if
n
=
m
&
n

K
(;;
f0;
n
+
g)
if
n
=
m
&
n

K
(;;
f0g)
else
(K
is
the
halting
set)
Clearly
,
(I
N;
=)
is
a
sub
ob
ject
of
(I
N)
but
it
is
not
isomorphic
to
an
y
ob
ject
in
the
image
of
Mo
dAss,
since
that
w
ould
imply
the
decidabilit
y
of
K
.
The
other
obstacle
is
that
the
em
b
edding
Mo
dAss
!
Mo
d
is
not
full.
Consider
the
t
w
o
ob
jects
(X
;
)
and
(Y
;
 
)
of
Mo
dAss
with
X
=
fx

;
x

g,
Y
=
fy

;
y

g,
(x

)
=
 
(y

)
=
(fg;
f0;
g),
(x

)
=
(fg;
f0;
;
g
)
and
 
(y

)
=
(fg;
f0;
g).
There
is
a
morphism
in
Mo
d
b
et
w
een
them,
represen
ted
b
y
the
function
F
:
X

Y
!
R
dened
b
y
F
(x

;
y

)
=
(fg;
f0;
g)
F
(x

;
y

)
=
(;;
f0g)
F
(x

;
y

)
=
(;;
f0;
g)
F
(x

;
y

)
=
(fg;
f0;
g)
Strictness
and
totalit
y
of
F
are
realized
b
y
(a
co
de
of
)
the
iden
tit
y
function.
Relationalit
y
is
easy
,
and
single-v
aluedness
is
realized
b
y
sending
the
pair
hn;
mi
to
n
if
n
=
m,
and
to
0
otherwise.
No
w
this
morphism
cannot
come
from
a
Mo
dAss-morphism
whic
h
is
a
function
f
:
X
!
Y
;
supp
ose
e

T
xX
((x)
)
 
(f
(x)))
a
.
Since


(x

)
a
\
(x

)
p
,
w
e
m
ust
ha
v
e
e

 
(f
(x

))
a
\
 
(f
(x

))
p
whic
h,
b
y
insp
ection
of
(Y
;
 
),
implies
that
f
(x

)
=
f
(x

);
but
then
F
can
not
represen
t
the
image
of
f
.
Con
v
en
tion
.
F
rom
no
w
on,
in
talking
ab
out
Mo
dAss,
w
e
drop
the
require-
men
t
on
ob
jects
(X
;
')
that
'(x)
a
=
;
for
all
x

X
.
Ev
ery
'

R
X
is
automatically
a
relation
for
the
equalit
y
=

and
determines
therefore
a
sub
ob
ject
of
(X
),
viz.
the
ob
ject
(X
;
=)
where
[
[
x
=
x
0
]
]
=
'(x)
^
[
[
x
=

x
0
]
],
and
ev
ery
sub
ob
ject
of
(X
)
arises
in
this
w
a
y
.
The
predicate
'(x)
^
[
[
x
=

x
0
]
]
is,
in
R
X
X
,
isomorphic
to
the
function
whic
h
sends
x;
x
0
to
('(x)
+
a
;
'(x)
+
p
[
f0g)
if
x
=
x
0
,
and
to
(;;
f0g)
else;
therefore,
ev
ery
sub-
is
isomorphic
to
an
ob
ject
(X
;
=)
where
[
[
x
=
x
0
]
]
=

'(x)
if
x
=
x
0
(;;
f0g)
else
for
some
'

R
X
suc
h
that
0

'(x)
a
for
all
x.
I
call
ob
jects
of
this
form
c
anonic
al
sub-'s.
So
ev
ery
sub-
is
the
i

-image
of
an
ob
ject
(X
;
=
'
)
of
E
f
f
!
where
no
w
[
[
x
=
'
x
0
]
]
=

'(x)
if
x
=
x
0
(;;
;)
else


for
some
'

R
X
arbitrary
.
The
ob
jects
(X
;
=)
of
E
f
f
!
suc
h
that
[
[
x
=
x
0
]
]
=
(;;
;)
whenev
er
x
=
x
0
are
precisely
the
sub
ob
jects
of
some
(r

0)

(X
);
the
fact
that
'

R
X
rather
than
S
X
means
that
the
(X
;
=
'
)
are
the
k
M
-closed
sub
ob
jects
of
ob
jects
in
the
image
of
(r

0)

.
No
w
an
y
morphism
in
E
f
f
!
b
et
w
een
suc
h
ob
jects
is
uniquely
determined
b
y
a
function
on
the
underlying
sets
whic
h
is
trac
k
ed
in
the
sense
of
Mo
dAss.
Therefore
w
e
ha
v
e,
noting
that
(r

0)

is
the
inclusion
of
the
::-shea
v
es
in
E
f
f

!
:
Prop
ositi
on
.
Mo
dAss
is
e
quivalent
to
the
ful
l
sub
c
ate
gory
of
E
f
f
!
on
those
obje
cts
which
ar
e
a
k
M
-close
d
sub
obje
ct
of
a
::-she
af.
The
full
sub
category
of
Mo
d
on
the
sub-'s
is
a
lo
calization
of
this
b
y
a
calculus
of
fractions.
F
reely
in
v
ert
those
arro
ws
in
Mo
dAss
whic
h
are,
from
the
p
oin
t
of
view
of
E
f
f

!
,
k
M
-almost
iso
(i.e.
their
i

-image
is
iso).
This
is
b
ecause
of
the
isomorphism
of

and
i

(r

0)

:
a
sub-
is
the
same
thing
as
a
k
M
-closed
sub
ob
ject
of
some
(r

0)

(X
).
No
w
the
sub-'s
are
closed
under
pro
ducts
in
Mo
d,
so
if
A
f
!
B
is
a
map
b
et
w
een
sub-'s
in
Mo
d,
the
graph
of
f
,
as
sub
ob
ject
of
A

B
,
is
also
a
sub-
and
corresp
onds
therefore
to
a
k
M
-closed
sub
ob
ject
of
some
(r

0)

(X
),
with
pro
jections
to
the
ob
jects
corresp
onding
to
A
and
B
resp
ectiv
ely
,
the
rst
b
eing
k
M
-almost
iso.
I
w
an
t
to
giv
e
a
concrete
description
of
the
sub-'s
in
terms
of
Mo
dAss.
W
e
need
some
structure
of
Mo
dAss
(famili
ar
from
ordinary
assem
blies)
and
a
rep-
resen
tation
of
Mo
dAss-morphisms
whic
h
are,
in
E
f
f

!
,
k
M
-dense
inclusions.
Mo
dAss
is
regular:
the
pullbac
k
of
(Y
;
 
)

g
(X
')
/
f
(Z
;
)
is
(X

Z
Y
;
!
)
with
!
(x;
y
)
=
h'(x);
 
(y
)i
and
X

Z
Y
is
the
pullbac
k
in
Set.
A
morphism
(X
;
')
f
!
(Y
;
 
)
is
regular
epi
i
\
y
Y
( 
(y
)
)
(
[
f
(x)=y
'(x)
a
;
[
f
(x)=y
'(x)
p
))
a
=
;
T
o
describ
e
the
k
M
-dense
inclusions
w
e
recall
that
k
M
=
!
:

:u
_
!
and
dene:
Deniti
on
.
Given
an
obje
ct
(X
;
')
of
Mo
dAss,
a
relativ
ely
recursiv
e
sub-
set
of
'
is
a
set
P
such
that
S
xX
'(x)
a

P

S
xX
'(x)
p
and
ther
e
is
a
p
ar-
tial
r
e
cursive
function
f
,
dene
d
on
S
xX
'(x)
p
,
such
that
P
=
(
S
xX
'(x)
p
)
\
f
 
(0).
Given
such
P
,
we
dene
the
obje
ct
(X
P
;
'
P
)
wher
e
X
P
=
fx

X
j
'(x)
p
\
P
=
;g
and
'
P
(x)
=
('(x)
a
;
('(x)
p
\
P
)
[
f0g)


(X
P
;
'
P
)
is
an
ob
ject
of
Mo
dAss,
the
inclusion
(X
P
;
'
P
)
!
(X
;
')
is
k
M
-dense
and
ev
ery
k
M
-dense
mono
in
Mo
dAss
is
isomorphic
to
one
of
this
form.
Prop
ositi
on
.
L
et

b
e
the
class
of
Mo
dAss-morphisms
(X
;
')
f
!
(Y
;
 
)
such
that:
.
Ther
e
is
a
r
elatively
r
e
cursive
subset
P
of
 
such
that
f
factors
as
(X
;
')
f
0
!
(Y
P
;
 
P
)
!
(Y
;
 
)
and
f
0
is
a
r
e
gular
epi
in
Mo
dAss;
.
if
(Z
;
)
/
/
(X
;
')
is
the
kernel
p
air
of
f
,
ther
e
is
a
r
elatively
r
e
cursive
subset
Q
of

such
that
the
c
omp
osite
(Z
Q
;

Q
)
!
(Z
;
)
!
(Y
;
 
)
is
monic.
Then
the
ful
l
sub
c
ate
gory
of
Mo
d
on
the
sub-'s
is
e
quivalent
to
Mo
dAss[
 
].
Pro
jectiv
es
in
Mo
d.
The
study
of
pro
jectiv
es
in
Mo
d
is
facilitated
b
y
the
fact
that
the
functors
i

:
Mo
d
!
E
f
f
!
and
(r

)

:
Set
!
!
E
f
f
!
b
oth
preserv
e
epi's;
their
left
adjoin
ts
therefore
preserv
e
pro
jectiv
es.
As
the
pro
jectiv
es
in
Set
!
are
exactly
the
monic
arro
ws
in
Set,
a
pro
jectiv
e
ob
ject
(X
;
=)
in
E
f
f
!
will
ha
v
e
[
[
x
=
x
0
]
]
p
=
;
whenev
er
[
[
x
=
x
0
]
]
a
=
;,
for
x
=
x
0
.
In
complete
analogy
to
the
situation
for
E
f
f
(see
[RR	0])
w
e
arriv
e
at
the
c
haracterization
of
pro
jectiv
e
ob
jects
in
E
f
f

!
as,
up
to
isomorphism,
ob
jects
(X
;
=)
suc
h
that
[
[
x
=
x
0
]
]
=
(;;
;)
if
x
=
x
0
,
and
[
[
x
=
x
]
]
is
(;;
fng)
or
(fng;
fng)
for
some
n.
Ev
ery
ob
ject
of
E
f
f
!
is
co
v
ered
b
y
a
pro
jectiv
e
ob
ject
so
ev
ery
ob
ject
of
Mo
d
is
co
v
ered
b
y
a
pro
jectiv
e
ob
ject.
This
easily
implies
that
the
pro
jectiv
es
in
Mo
d
are
of
form
(X
;
=)
where
[
[
x
=
x
0
]
]
=
(;;
f0g)
if
x
=
x
0
,
and
[
[
x
=
x
]
]
is
either
(;;
f0;
n
+
g)
or
(fn
+
g;
f0;
n
+
g)
for
some
n:
that
is,
the
i

-image
of
a
pro
jectiv
e
in
E
f
f
!
.
Supp
ose
F
:
X

Y
!
R
represen
ts
a
morphism
in
Mo
d
b
et
w
een
t
w
o
suc
h
ob
jects
(X
;
=)
and
(Y
;
=).
There
are
partial
recursiv
e
functions
tot
and
sv
suc
h
that
tot

T
xX
([
[
x
=
x
]
]
)
(
S
y
Y
F
(x;
y
)
a
;
S
y
Y
F
(x;
y
)
p
))
a
sv

T
xX;y
;y
0
Y
(F
(x;
y
)
^
F
(x;
y
0
)
)
[
[
y
=
y
0
]
])
a
Let
P

S
xX
[
[
x
=
x
]
]
p
b
e
dened
b
y
P
=
fn

[
xX
[
[
x
=
x
]
]
p
j
sv(htot(n);
tot(n)i)
=
0g
Then
P
is
a
relativ
ely
recursiv
e
subset
for
[
[

=

]
]
since
S
xX
[
[
x
=
x
]
]
a

P
.
F
or
X
P
=
fx

X
j
[
[
x
=
x
]
]
p
\
P
=
;g,
the
predicate
F
determines
a
function
f
:
X
P
!
Y
.
If
Y
is
a
one-elemen
t
set,
this
is
the
unique
function;
if
Y
has
more
than
one
elemen
t,
since
sv
(htot
(0);
tot
(0)i)
=
0,
for
x

X
P
and
n
unique
with
n
+


[
[
x
=
x
]
]
p
\
P
,
there
is
a
unique
y
with
tot(n)

F
(x;
y
).


Then
the
predicate
[
[
x
=
x
]
]
^
[
[
f
(x)
=
y
]
]
is
a
functional
relation
whic
h
is
isomorphic
to
(the
restriction
to
X
P

Y
of
)
F
.
Th
us
w
e
arriv
e
at
the
follo
wing
c
haracterization
of
the
pro
jectiv
es
in
Mo
d,
in
the
st
yle
of
[RR	0]:
Prop
ositi
on
.
L
et
C
b
e
the
c
ate
gory
given
by:

Obje
cts
ar
e
diagr
ams
X
/
Y
/
I
such
that
X
!
Y
is
an
inje
ctive
function
of
sets
and
Y
!
I
is
a
surje
ction
of
Y
onto
a
subset
of
I
N;

morphisms
ar
e
c
ommuting
diagr
ams
X
/

Y
/

I

'
X
0
/
Y
0
/
I
0
with
'
p
artial
r
e
cursive.
L
et

b
e
the
class
of
morphisms
X
/

=
Y
0
/

J

X
/
Y
/
I
for
which
J
!
I
is
an
inclusion
of
a
subset
which
c
ontains
the
image
of
X
and
is
mor
e
over
such
that
for
some
p
artial
r
e
cursive
f
,
defne
d
on
I
,
J
=
I
\
f
 
(0);
and
the
right
hand
squar
e
is
a
pul
lb
ack
squar
e
in
Set.
Then
the
c
ate
gory
C
[
 
]
is
e
quivalent
to
the
ful
l
sub
c
ate
gory
of
Mo
d
on
the
pr
oje
ctive
obje
cts.

A
general
\Indep
endence
of
Premiss"
prin-
ciple
for
E
f
f
!
Deniti
on
.
L
et
us
c
al
l
an
obje
ct
(Y
;
=)
of
E
f
f

!
diagonal
if
\
y
Y
([
[
y
=
y
]
]
p
!
[
[
y
=
y
]
]
a
)
=
;
Ev
ery
diagonal
ob
ject
is
isomorphic
to
an
ob
ject
(Y
;
=)
suc
h
that
[
[
y
=
y
]
]
is
of
the
form
(A;
A).
Ev
ery
k
E
-sheaf
(i.e.,
ob
ject
of
E
f
f
)
is
diagonal,
but
also
ob
jects
in
the
image
of
(r

)

are.
All
diagonal
ob
jects
are
quotien
ts
of
k
E
-shea
v
es.
Prop
ositi
on
.
A
n
obje
ct
of
E
f
f
!
is
diagonal
if
and
only
if
its
k
E
-sep
ar
ate
d
r
ee
ction
is
alr
e
ady
a
k
E
-she
af;
e
quivalently,
if
its
c
anonic
al
map
to
its
k
E
-
she
ac
ation
is
an
epimorphism.


Prop
ositi
on
.
L
et
(X
;
=)
and
(Y
;
=)
b
e
obje
cts
of
E
f
f
!
with
(Y
;
=)
diago-
nal;
let
A(x)
a
k

-close
d
sub
obje
ct
of
(X
;
=)
and
B
(x;
y
)
an
arbitr
ary
sub
obje
ct
of
(X
;
=)

(Y
;
=).
Then
the
principle
x

(X
;
=):[(A(x)
!
	y

(Y
;
=):B
(x;
y
))
!
	y

(Y
;
=):(A(x)
!
B
(x;
y
))]
holds.
Pro
of.
Let's
write
E
(x),
E
(y
)
for
[
[
x
=
x
]
],
[
[
y
=
y
]
].
Since
A(x)
is
k

-closed
there
is
a
partial
recursiv
e
function
f
suc
h
that
for
all
x

X
and
n

E
(x)
p
,
f
(n)

[
[
A(x)
]
]
p
and
moreo
v
er,
if
n

E
(x)
a
and
[
[
A(x)
]
]
a
is
nonempt
y
,
then
f
(n)

[
[
A(x)
]
]
a
.
Let
g

T
y
Y
E
(y
)
p
!
E
(y
)
a
and
'
b
e
the
partial
recursiv
e
function
n:w
:hg

(w

f
(n))
0
;
v
:(w

f
(n))

i
I
claim
that
'
is
an
actual
realizer
of
the
principle
in
the
prop
osition,
whic
h
I
abbreviate
as
x

(X
;
=):[(x)
!
(x)].
W
e
ha
v
e
to
sho
w:
)
n

E
(x)
p
)
'(n)

(x)
p
!
(x)
p
)
n

E
(x)
a
)
'(n)

(x)
a
!
(x)
a
As
to
),
let
n

E
(x)
p
,
w

(x)
p
.
Since
f
(n)

[
[
A(x)
]
]
p
,
w
f
(n)
is
dened
and
in
[
[
	y

(Y
;
=):B
(x;
y
)
]
]
p
so
for
some
y

Y
,
(w

f
(n))
0

E
(y
)
p
and
(w
f
(n))


[
[
B
(x;
y
)
]
]
p
.
Then
g
(w

f
(n))
0

E
(y
)
a

E
(y
)
p
,
and
v
:(w
f
(n))


[
[
A(x)
]
]
p
!
[
[
B
(x;
y
)
]
]
p
,
so
'(n)

(x)
p
!
(x)
p
.
As
to
),
let
n

E
(x)
a
.
W
e
ha
v
e
f
(n)

[
[
A(x)
]
]
p
and
if
[
[
A(x)
]
]
a
is
nonempt
y
,
then
f
(n)

[
[
A(x)
]
]
a
.
Let
w

(x)
a
.
Again,
w
f
(n)
is
dened,
and
there
is
y

Y
with
g

(w
f
(n))
0

E
(y
)
a
and
(w

f
(n))


[
[
B
(x;
y
)
]
]
p
.
But
if
v

[
[
A(x)
]
]
a
then
f
(n)

[
[
A(x)
]
]
a
so
w

f
(n)

[
[
	y

(Y
;
=):B
(x;
y
)
]
]
a
,
i.e.
for
some
y

Y
,
g
(w
f
(n))
0

E
(y
)
a
and
(w

f
(n))


[
[
B
(x;
y
)
]
]
a
.
So
v
:(w
f
(n))


[
[
A(x)
]
]
a
!
[
[
B
(x;
y
)
]
]
a
.
The
rest
is
left
to
the
reader.
T
ro
elstra
([T
ro])
calls
the
follo
wing
principle
in
arithmetic:
(:A(x)
!
	y
:B
(x;
y
))
!
	y
:(:A(x)
!
B
(x;
y
))
the
Indep
endenc
e
of
Pr
emiss
principle
(IP).
He
sho
ws
that
IP
is
v
alid
under
mo
died
realizabilit
y
(a
fact
whic
h
is
also
quoted
in
[HyO	]).
This
is
a
conse-
quence
of
prop
osition
.,
since
(for
u


as
in
prop
osition
.)
u
is
k

-closed
and
so
is
therefore
A(x)
!
u,
whic
h
is
the
meaning
in
E
f
f
!
of
the
negation
in
Mo
d;
and
the
natural
n
um
b
ers
ob
ject
in
E
f
f
!
is
a
k
E
-sheaf,
so
diagonal.
F
urther
directions
In
this
section
I
men
tion
some
further
issues
and
topics
for
researc
h.


.
Mo
d
o
v
er
E
f
f
Since
ev
ery
ob
ject
of
Mo
d
is
a
sub
quotien
t
of
some
(X
)
and


v

r
E
,
ev
ery
ob
ject
of
Mo
d
is
a
sub
quotien
t
of
some
v

(X
);
this
is
to
sa
y
that
v
:
Mo
d
!
E
f
f
is
lo
c
alic
and
that
Mo
d
is
shea
v
es
(in
E
f
f
)
on
the
in
ternal
lo
cale
v

(
)
in
E
f
f
.
Y
et
another
w
a
y
of
sa
ying
this
is
that
Mo
d
is
the
classifying
top
os
for
a
prop
ositional
theory
in
E
f
f
.
It
w
ould
b
e
nice
to
ha
v
e
a
description
of
this
theory
.
A
natural
w
a
y
to
start
is
to
lo
ok
at
the
ob
ject
of
p
oin
ts
of
v

(
),
but
this
did
not
bring
me
m
uc
h
enligh
tenmen
t.
.
In
ternal
complete
categories
in
Mo
d
There
should
b
e
sev
eral
of
these,
and
it
is
probably
easier
to
consider
them
from
the
p
oin
t
of
view
of
E
f
f

!
.
Hyland
and
Ong
in
tro
duce
the
category
of
\PER-
extension
pairs":
these
are
ob
jects
(X
;
fA
x
j
x

X
g;
B
)
as
in
the
description
of
the
::-separated
ob
jects
in
Mo
d
(prop
osition
.),
satisfying
A
x
\
A
y
=
;
for
x
=
y
.
In
E
f
f

!
these
are
the
k

-separated
sub
quotien
ts
of
the
ob
ject
(I
N;
=)
with
[
[
n
=
m
]
]
=
(fng;
I
N)
if
n
=
m,
and
(;;
I
N)
else;
that
is
the
k

-separated
reection
of
the
natural
n
um
b
ers
ob
ject
in
E
f
f

!
.
A
pro
of
that
this
giv
es
an
in
ternal
complete
category
(at
least
with
resp
ect
to
the
::-separated
ob
jects
in
Mo
d)
should
b
e
p
ossible
via
the
orthogonalit
y
approac
h,
basically
due
to
P
eter
F
reyd,
and
giv
en
in
[HRR	0].
.
Mo
d
o
v
er
a
c-p
ca
As
Hyland
and
Ong
sho
w,
one
can
build
a
mo
died
realizabilit
y
top
os
o
v
er
a
structure
w
eak
er
than
a
partial
com
binatory
algebra,
namely
a
partial
applica-
tiv
e
structure
with
elemen
ts
k
and
s
where
the
applications
sf
and
sf
g
need
not
b
e
dened.
They
p
oin
t
out
that
the
construction
of
an
eectiv
e
top
os
o
v
er
suc
h
a
c-p
ca
fails,
and
for
the
same
reason
the
construction
of
E
f
f
!
fails.
It
seems
to
me
legitimate
to
ask,
whether
ma
yb
e
ev
ery
c-p
ca
U
can
b
e
em
b
edded
in
a
partial
com
binatory
algebra
A
suc
h
that
they
yield
equiv
alen
t
mo
died
realizabilit
y
top
oses.
.
Axiomatization
of
mo
died
realizabilit
y
A
straigh
tforw
ard
axiomatization
for
mo
died
realizabilit
y
can
b
e
giv
en,
in
a
system
of
rst
order
arithmetic
extended
b
y
a
prop
ositional
constan
t
u
(for
the
ob
ject
U
of
prop
osition
.).
This
will
b
e
done
in
a
subsequen
t
pap
er.


Ac
kno
wledgem
e
n
t
I
am
indebted
to
Thomas
Streic
her
for
asking
me
questions
and
man
y
discus-
sions.
References
[Gra]
R.
Gra
yson,
Mo
die
d
r
e
alisability
top
oses,
man
uscript,
M

unster
	
[Hy]
J.M.E.
Hyland,
The
Ee
ctive
T
op
os,
in:
A.S.
T
ro
elstra
&
D.
v
an
Dalen
(eds),
The
L.E.J.
Brou
w
er
Cen
tenary
Symp
osium,
North-
Holland
	
[HJP0]
J.M.E.
Hyland,
P
.T.
Johnstone
&
A.M.
Pitts,
T
rip
os
The
ory,
Math.Pro
c.Cam
b.Phil.So
c.
(	0),
0-
[HyO	]
J.M.E.
Hyland
&
L.
Ong,
Mo
die
d
R
e
alizability
T
op
oses
and
Str
ong
Normalization
Pr
o
ofs,
in:
M.
Bezem
&
J.F.
Gro
ote
(eds),
T
yp
ed
Lam
b
da
Calculi
and
Applications,
LNCS
,
Springer
		,
pp.
	-	
[Joh]
P
.T.
Johnstone,
T
op
os
The
ory,
Academic
Press
	
[Kre]
G.
Kreisel,
Interpr
etation
of
A
nalysis
by
me
ans
of
c
onstructive
F
unc-
tionals
of
nite
T
yp
es,
in:
A.
Heyting
(ed.),
Constructivit
y
in
Math-
ematics,
North-Holland
		,
pp.
0-
[Kre]
G.
Kreisel,
On
we
ak
c
ompleteness
of
intuitionistic
pr
e
dic
ate
lo
gic,
JSL

(	),
Num
b
er

(June),
pp.
	-
[OR	]
L.
Ong
&
E.
Ritter,
A
Generic
Str
ong
Normalization
A
r
gument:
Applic
ation
to
the
Calculus
of
Constructions,
in:
Computer
Science
Logic:
th
W
orkshop
CSL
'	,
LNCS
,
Springer
		
[vO	]
J.
v
an
Oosten,
Exer
cises
in
R
e
alizability,
thesis,
Amsterdam
		
[Pit]
A.M.
Pitts,
The
The
ory
of
T
rip
oses,
thesis,
Cam
bridge
	
[Str	]
T.
Streic
her,
Investigations
into
Intensional
T
yp
e
The
ory,
Habilita-
tionssc
hrift,
M

unc
hen
		
[T
ro]
A.S.
T
ro
elstra,
Metamathematic
al
Investigation
of
Intuitionistic
A
rithmetic
and
A
nalysis,
LNM
,
Springer
0


Recent Publications in the BRICS Report Series
RS-96-3
JaapvanOosten. The Modiï¬edRealizability Topos.Febru-
ary 1996. 17 pp.
RS-96-2
Allan Cheng and Mogens Nielsen.
Open Maps, Be-
havioural Equivalences, and Congruences. January 1996.
A short version of this paper is to appear in the proceed-
ings of CAAP â€™96.
RS-96-1
Gerth StÃ¸lting Brodal and Thore Husfeldt. A Commu-
nication Complexity Proof that Symmetric Functions have
Logarithmic Depth. January 1996. 3 pp.
RS-95-60 JÃ¸rgen H. Andersen, Carsten H. Kristensen, and Arne
Skou. Speciï¬cation and Automated Veriï¬cation of Real-
Time Behaviour â€” A Case Study. December 1995. 24 pp.
Appears in 3rd IFAC/IFIP workshop on Algoritmsand Ar-
chitectures for Real-Time Control, AARTC â€™95 Proceed-
ings, 1995, pages 613â€“628.
RS-95-59 Luca Aceto and Anna IngÂ´olfsdÂ´ottir.
On the Finitary
Bisimulation. November 1995. 29 pp.
RS-95-58 Nils Klarlund, Madhavan Mukund, and Milind Sohoni.
Determinizing Asynchronous Automata on Inï¬nite Inputs.
November 1995. 32 pp.
RS-95-57 Jaap van Oosten. Topological Aspects of Traces. Novem-
ber 1995. 16 pp.
RS-95-56 Luca Aceto, Wan J. Fokkink, Rob J. van Glabbeek, and
Anna IngÂ´olfsdÂ´ottir.
Axiomatizing Preï¬x Iteration with
Silent Steps. November 1995. 25 pp.
RS-95-55 Mogens Nielsen and Kim Sunesen. Trace Equivalence -
Partially Decidable! November 1995.
RS-95-54 Nils Klarlund, Mogens Nielsen, and Kim Sunesen. Us-
ing Monadic Second-Order Logic with Finite Domains for
Speciï¬cation and Veriï¬cation. November 1995.
RS-95-53 Nils Klarlund, Mogens Nielsen, and Kim Sunesen. Au-
tomated Logical Veriï¬cation based on Trace Abstractions.
November 1995. 19 pp.

