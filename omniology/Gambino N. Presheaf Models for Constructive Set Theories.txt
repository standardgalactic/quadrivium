PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
NICOLA GAMBINO
Abstract. We introduce a new kind of models for constructive set theories
based on categories of presheaves.
These models are a counterpart of the
presheaf models for intuitionistic set theories deï¬ned by Dana Scott in the
â€™80s. We also show how presheaf models ï¬t into the framework of Algebraic
Set Theory and sketch an application to an independence result.
1. Variable sets in foundations and practice
Presheaves are of central importance both for the foundations and the practice
of mathematics. The notion of a presheaf formalizes well the idea of a variable
set, that is relevant in all the areas of mathematics concerned with the study of
indexed families of objects [19]. One may then readily see how presheaves are of
interest also in foundations: both Cohenâ€™s forcing models for classical set theories
and Kripke models for intuitionistic logic involve the idea of sets indexed by stages.
Constructive aspects start to emerge when one considers the internal logic of cat-
egories of presheaves. This logic, which does not include classical principles such
as the law of the excluded middle, provides a useful language to manipulate ob-
jects and arrows, and can be used as an alternative to diagrammatic reasoning [25].
Furthermore, it is suï¬ƒciently expressive to allow the deï¬nitions of complex mathe-
matical constructions. This aspect has led to important developments in the study
of elementary toposes [16].
The main purpose of this paper is to show how presheaves can be used to ob-
tain models for constructive set theories [23, 5] analogous to the ones deï¬ned by
Dana Scott for intuitionistic set theories [26]. In order to do so, we will have to
overcome the challenges intrinsic to working with generalised predicative formal
systems. By a generalised predicative formal system we mean here a system that is
proof-theoretically reducible to Martin-LÂ¨of dependent type theories with W-types
and universes [20, 12]. Generalised predicative systems typically contain axioms
allowing generalized forms of inductive deï¬nitions [1] instead of proof-theoretically
strong axioms such as Power Set.
Our development will focus on categories of classes rather than categories of
sets as the starting point to deï¬ne presheaves, thus assuming the perspective of
Algebraic Set Theory [15, 27, 7, 22, 6]. The main reason for this choice is that
the properties of categories of sets do not always reï¬‚ect directly the set-theoretical
axioms adopted to deï¬ne them. There are indeed axioms, such as Replacement,
that do not express directly properties of sets, but regard the interaction between
sets and classes. In categories of classes we can overcome this problem without loss,
since sets can be isolated as special objects, those that are in some sense â€˜smallâ€™.
Date: December 10th, 2004.
Research supported by an EPSRC Postdoctoral Fellowship in Mathematics (GR/R95975/01).
1

2
NICOLA GAMBINO
One is then led to consider a notion of small map in such a way that the axioms of
a set theory correspond directly to the axioms for small maps.
This approach has two main advantages. First, it allows us to give a homoge-
neous treatment of presheaf models of diï¬€erent set theories. Indeed, one of the
initial motivations for the research described here was to investigate whether it was
possible to generalise the presheaf models for intuitionistic set theories to construc-
tive ones and present them in a uniform way. Secondly, we can show how Scottâ€™s
presheaf models ï¬t into the paradigm of Algebraic Set Theory.
The study of presheaf and sheaf categories in the generalised predicative setting
was initiated by Ieke Moerdijk and Erik Palmgren in [21, 22]. They introduced the
notion of stratiï¬ed pseudotopos as a candidate for the notion of a predicative topos.
A predicative topos should be a counterpart at the generalised predicative level of
the notion of an elementary topos. They supported their axiomatisation by showing
how stratiï¬ed pseudotoposes support the construction of internal presheaves, in the
sense that categories of internal presheaves in a stratiï¬ed pseudotopos are again
stratiï¬ed pseudotoposes. They also proved that a stratiï¬ed pseudotopos can be
used to deï¬ne models of constructive set theories. The combination of these two
facts comes close to exhibiting presheaf models for constructive set theories, but
does not quite achieve it. This is because categories of classes arising in constructive
set theories do not satisfy the axioms for a stratiï¬ed pseudotopos. For example, as
pointed out in the context of intuitionistic set theories in [27], they fail to be exact.
and, as we will discuss in Subsection 2, they do not have arbitrary exponentials.
Even if they satisï¬ed all the axioms for a stratiï¬ed pseudotopos, however, there
would still be the problem of obtaining an explicit description of presheaf models,
of developing their study, and of ï¬nding applications. All of these aspects will be
considered here.
Related work on categories of classes in constructive set theories is also presented
in [28]. The approach to the construction of categorical models for constructive set
theories taken there is slighly diï¬€erent from the one assumed here, even if both
follow the perspective of Algebraic Set Theory. While in [28] categorical models for
constructive set theories are deï¬ned exploiting the existence of a universal object,
here they will be obtained via W-types and the assumption of a universal small
map.
Let us conclude these introductory remarks with an overview of the contents of
the paper. In Section 2 we isolate axiomatically the structure on a category that is
necessary to obtain a categorical model for a constructive set theory. We also discuss
how the category of classes arising from a constructive set theory is an example of
such a structure.
That section also serves as an introduction to Algebraic Set
Theory. We then shift our attention to presheaves. Section 3 introduces the basic
notions, describes the structure on the category of presheaves that is relevant for
our study, and deï¬nes presheaf models. The study of these models via the so-called
Kripke-Joyal semantics is presented in Section 4. We end the paper in Section 5
by sketching an application to an independence result. To be as self-contained as
possible, we included background material on category theory and set theory.
2. Classes and sets
2.1. Set-theoretic axioms. Set theories based on intuitionistic logic are formu-
lated to provide an axiomatic basis to support the development of intuitionistic

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
3
mathematics in set theory. Their axioms will be formulated here in an extension
of ï¬rst-order intuitionistic logic with equality, obtained by adding restricted quan-
tiï¬ers of form (âˆ€x âˆˆa) and (âˆƒx âˆˆa) as primitive, and standard axioms for them.
The membership relation can then be deï¬ned. A formula is said to be restricted if
it contains only quantiï¬ers that are restricted.
Classes provide a convenient notation to manipulate sets and formulas in math-
ematical practice. If Ï† is an formula with a free variable x and A is deï¬ned by
A =def {x | Ï†}, we let a âˆˆA =def Ï†[a/x] . Two classes are said to be extensionally
equal if they have the same elements. Note that every set can be viewed as a class,
and that proper classes cannot be considered as elements of other classes. Equality
between sets is disciplined by the axiom of Extensionality, stating that two sets are
equal if they are extensionally equal as classes.
The basic set existence axioms of Pairing, Union, and Inï¬nity, familiar from
classical set theory, simply assert that certain classes are sets. Using these, standard
deï¬nitions allow us to introduce the forms of classes
A Ã— B ,
A + B ,
P
aâˆˆA Ba ,
that denote binary cartesian products, binary disjoint unions, and indexed disjoint
unions, respectively. There is a natural notion of function between classes, that
generalises the notion of function between sets. We write f : A â†’B to express
that f is a function from A to B, and by this we mean that f is a subclass of
A Ã— B that is total and single-valued as a relation from A to B. Two functions are
considered equal if they are extensionally equal as classes.
The set-theoretic universe, deï¬ned by
(1)
V =def {x | x = x} ,
cannot be asserted to be a set if we wish to avoid Russellâ€™s paradox. The interplay
between classes and sets is speciï¬ed further by other axioms. Restricted Separation
is the axiom scheme asserting that for each set a and each restricted formula Ï†,
the class {x âˆˆa | Ï†} is a set. This weakening of the usual Full Separation axiom
scheme is suï¬ƒcient for many purposes in mathematical practice. In the absence of
Full Separation, one needs to distinguish carefully between subsets and subclasses
of a set. When considering two sets, we assume that functions between them are
given as subsets, rather than subclasses, of the cartesian product of the domain and
codomain.
The axiom of Exponentiation, originally introduced in [23], asserts that the class
of functions between any two sets is again a set. Exponentiation is a consequence
of Power Set that deserves to be isolated if one wishes to consider set theories that
do not include Power Set. Strong Collection is the scheme
(âˆ€x âˆˆa)(âˆƒy)Ï† â†’(âˆƒu)
 (âˆ€x âˆˆa)(âˆƒy âˆˆu)Ï† âˆ§(âˆ€y âˆˆu)(âˆƒx âˆˆa)Ï†

,
where a is a set and Ï† is an arbitrary formula. A consequence of Strong Collection
is Replacement, asserting that for a function f : A â†’B between classes, if A is
a set then so is its image. Strong Collection also allows us to have generalised
forms of inductive deï¬nitions of classes [5, Chapter 5]. For instance, if A is a class
and (Ba | a âˆˆA) is family of sets, we can form the associated class WaâˆˆABa of
wellfounded trees. This is deï¬ned as the smallest class X such that if a âˆˆA and
t âˆˆXBa then (a, t) âˆˆX. Classes of wellfounded trees are a set-theoretic counterpart
of the well-ordering types introduced by Martin-LÂ¨of [20].

4
NICOLA GAMBINO
The axiom of Set Induction is used to view the set-theoretic universe as an
inductively-deï¬ned class. It asserts that the class V deï¬ned in (1) is the smallest
class X such that, for all sets p, if p âŠ†X then p âˆˆX. Set Induction is relevant
in our study since it allows us to see the set-theoretic universe as an initial algebra
for an endofunctor on the category of classes, and this suggests a way to formulate
a general notion of model for set theories with Set Induction, as we discuss in
Subsection 2.3.
In the following, we will focus our attention on the constructive set theory CST
whose axioms are Extensionality, Set Induction, Pairing, Union, Inï¬nity, Restricted
Separation, Exponentiation and Strong Collection. This is an extension of My-
hillâ€™s original system [23], obtained by adding Strong Collection, and a subsystem
of Aczelâ€™s system CZF, obtained by replacing Subset Collection with Exponentia-
tion [5]. Robert Lubarsky has recently proved that Subset Collection is independent
of Exponentiation, thus showing that CST is a proper subsystem of CZF [17]. The
intuitionistic set theory IZF which is is essentially an intuitionistic counterpart of
classical Zermelo-Frankel set theory, is obtained from CST by adding Full Separa-
tion and Power Set [9]. Presheaf and sheaf models for IZF have been considered
in [26, 8].
2.2. Categories of classes. We now associate to the constructive set theory CST
a category, called CST, and study how the axioms of CST determine the properties
of CST. The category CST is deï¬ned as having classes as objects and functions
between them as arrows. In the study of the properties of this category, we follow [6].
The category CST has an obvious terminal object, given by the singleton class
1 =def {âˆ…}. Pullbacks in CST will now be deï¬ned explicitly. Given two arrows
u : X â†’A and f : B â†’A, we let Y =def {(b, x) âˆˆB Ã—X | fb = ux} . The required
pullback diagram is then given by
Y
g
/
v

X
u

B
f
/ A
where v and g are the ï¬rst and second projection, respectively. Sometimes we will
write B Ã—A X to denote the class Y deï¬ned above. The operation of pullback can
be thought of as reindexing, or substitution: if one regards an arrow u : X â†’A
as a family (Xa | a âˆˆA), where Xa =def {x âˆˆX | ux = a}, for a âˆˆA, then, in
the pullback diagram above, the family (Yb | b âˆˆB) is isomorphic to the family
(Xfb | b âˆˆB), obtained by reindexing the family (Xa | a âˆˆA) via the function
f.
Since CST has a terminal object and pullbacks, it has all ï¬nite limits [18,
Section V.2].
For an arrow f : B â†’A we may consider the pullback of f along itself. This
determines a diagram of form B Ã—A B
// B that is called the kernel pair of f.
Such a diagram determines an equivalence relation on B according to which b , bâ€² âˆˆ
B are related if and only if f(b) = f(bâ€²) holds.
The quotient of B under this
equivalence relation is isomorphic to the image of f in A, written Im(f) here, and
we thus we have a diagram of form
(2)
B Ã—A B
// B
/ Im(f)

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
5
that is exact [15, Appendix B]. The possibility of deï¬ning quotients of this kind can
be expressed abstractly by saying that we have coequalizers of kernel pairs. The
arrow B â†’Im(f) is obviously an surjection and it is easy to show that in CST
every surjection is a regular epimorphism, i.e. that it ï¬ts into a diagram of the form
in (2). Surjections are stable, in the sense that the pullback of a surjection is again
a surjection. This discussion indicates that CST is a regular category, in the sense
speciï¬ed by the next deï¬nition.
Deï¬nition 2.1. A category E is regular if it has ï¬nite limits, coequalizers of kernel
pairs, and if regular epimorphisms (i.e. epimorphisms that arise as coequalizers of
kernel pairs) are stable under pullback.
The category CST has also disjoint ï¬nite coproducts, given by disjoint unions,
and these are stable in the sense that they are preserved by pullbacks. In particular,
the empty coproduct is given by 0 =def âˆ…. The regular structure of CST is suï¬ƒcient
to deï¬ne an adjunction âˆƒf âŠ£âˆ†f between the functors
Sub A
âˆ†f / Sub B
âˆƒf
o
for any arrow f : B â†’A, where we write Sub X for the category of subclasses of a
class X, with arrows given by inclusions. The functors âˆ†f and âˆƒf are deï¬ned by
letting, for P âŠ†A and Q âŠ†B
âˆ†f(P) =def {b âˆˆB | fb âˆˆP} ,
âˆƒf(Q) =def {a âˆˆA | (âˆƒb âˆˆBa) b âˆˆQ} .
This indicates that regular categories have enough structure to interpret a large
fragment of ï¬rst-order intuitionistic logic, which however does not include the uni-
versal quantiï¬er [13, Section 4.4]. To interpret it, one requires dual images, i.e.
the existence of a right adjoint âˆ€f : Sub B â†’Sub A to the functor âˆ†f, for every
f : B â†’A. These right adjoints exist in CST and can be deï¬ned by letting, for
Q âŠ†B
âˆ€f(Q) =def {a âˆˆA | (âˆ€b âˆˆBa) b âˆˆQ} .
So far, we have described some of the structure available on categories of classes.
As pointed out in [27], categories of classes arising from intuitionistic or constructive
set theories generally fail to be exact, in the sense that it is not possible to deï¬ne
quotients of arbitrary equivalence relations, but only of equivalence relations whose
equivalence classes are sets.
Further structure on the category CST arises from the interplay between classes
and sets, but does not seem to be directly expressible in terms of universal prop-
erties. For example, for two classes A and B, the functions from A to B can be
collected into a class only if A is set, since elements of classes are required to be sets.
This means that CST does not have arbitrary exponentials, but has exponentials
of sets. More generally, if we have a set A and a family of classes (Ba | a âˆˆA) we
can deï¬ne the class Q
aâˆˆA Ba whose elements are the functions f with domain A
such that, for all a âˆˆA, f(a) âˆˆBa.
To axiomatize this situation, one may introduce a notion of small map. The
next deï¬nition introduces a natural notion of small map for the category CST.
Deï¬nition 2.2. An arrow u : X â†’A in CST is said to be small if, for all a in A,
the class Xa =def {x | ux = a} is a set.

6
NICOLA GAMBINO
Note that a set is just a class for which the canonical arrow into the singleton
set 1 is small. In the next subsection, we will arrive at a deï¬nition of a categorical
model for CST by isolating a group of axioms that are satisï¬ed by the small maps
in the regular category CST.
2.3. Axioms for small maps. In [15, 22] axioms for small maps were considered
in the context of pretoposes, but they can be studied in the more general context
of regular categories with stable disjoint coproducts. This is indeed the setting
that we consider here, and from now on we let E be a regular category with stable
disjoint coproducts. In order to introduce these axioms, it is convenient to recall
some basic notions.
For A âˆˆE, one may deï¬ne E/A, the slice category over A, whose objects are
arrows u : X â†’A of E. For two objects u : X â†’A, uâ€² : Xâ€² â†’A of E/A, an arrow
in E/A between them is given by v : X â†’Xâ€² in E such that u = uâ€² v holds. In the
category CST it is convenient to represent an object X â†’A of E/A as the family
(Xa | a âˆˆA). The operation of pullback along f : B â†’A determines a functor
âˆ†f : E/A â†’E/B. This functor always has a left adjoint Î£f : E/B â†’E/A deï¬ned
by composition with f. The action of Î£f can be described in CST using indexed
disjoint unions.
For f : B â†’A in E, if the pullback functor âˆ†f : E/A â†’E/B has a right adjoint
Î f : E/B â†’E/A, we can deï¬ne Pf : E â†’E, the generalised polynomial functor
associated to f, as the composite
E
âˆ†B / E/B
Î f
/ E/A
Î£A / E
where we made use of the canonical arrows A : A â†’1 and B : B â†’1.
In the category CST, the functor Î f can be deï¬ned if f : B â†’A is small.
Identifying objects in the slice categories with families of classes, we deï¬ne the
functor Î f by letting, for a family (Yb | b âˆˆB) indexed by B,
(3)
Î f(Yb | b âˆˆB) =def (Q
bâˆˆBa Yb | a âˆˆA)
We can then obtain the following explicit description of the generalised polynomial
functor associated to an arrow f : B â†’A. For a class X we have
Pf(X) = P
aâˆˆA XBa .
By its very deï¬nition, the class of wellfounded trees WaâˆˆABa is an initial algebra for
this functor. This observation leads to deï¬ne a general notion of wellfounded tree
in categories [21]. These are deï¬ned as initial algebras for generalised polynomial
functors. Note that a natural numbers object can be characterised as an initial
algebra for the polynomial functor associated to either of the two canonical arrows
1 â†’1 + 1. For more on wellfounded trees, see [21, 11].
The next deï¬nition isolates axioms for small maps corresponding to the prop-
erties of small maps for CST, as we will discuss after the deï¬nition. Our axioms
are imposed on top of a standard group of axioms, those for a class of open maps,
that are not recall here. These are axioms (A1) â€“ (A7) of [15, Section 1.1], and
were ï¬rst formulated in [14]. The axioms presented below are tailored to construct
models of CST. Axioms (S1), (S2) were introduced in [15, Deï¬nition 1.1], while
(S3) was considered in [14, 6]. By a small object we mean an object for which the
canonical map into the terminal object is small.

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
7
Deï¬nition 2.3. Let E be a regular category with stable disjoint coproducts, and S
a family of open maps. We say that S is a family of CST-small maps if the following
axioms hold.
(S1): If f : B â†’A is in S, the pullback functor âˆ†f : E/A â†’E/B has a right
adjoint Î f : E/B â†’E/A.
(S2): There is a map Ï€ : W â†’V in S such that for any map u : X â†’A in
S there exists a diagram of form
X
u

Y
o

/ W
Ï€

A
B
f
oo
/ V
where f : B â† A is an epimorphism and both squares are pullbacks.
(S3): For every f : B â†’A, the canonical map B â†’B Ã—A B is in S.
(S4): If f : B â†’A is in S, then Î f : E/B â†’E/A preserves smallness of
maps.
(S5): For every f : B â†’A in S, the polynomial functor Pf : E â†’E has an
initial algebra, whose underlying object is written Wf here. The natural
numbers object is small.
(S6): For every f : B â†’A in S there is an exact diagram
E
// Wf
/ Vf
where E â†£Wf Ã— Wf is a small subobject such that
(âˆ€(a, t), (aâ€², tâ€²) âˆˆWf)
 (a, t), (aâ€², tâ€²)

âˆˆE â†”
(âˆ€x âˆˆaâ€²)(âˆƒxâ€² âˆˆaâ€²)(tx, tâ€²xâ€²) âˆˆE âˆ§(âˆ€xâ€² âˆˆaâ€²)(âˆƒx âˆˆa)(tx, tâ€²xâ€²) âˆˆE

.
holds in the internal logic of E.
We now wish to indicate how a category E with the properties of Deï¬nition 2.3
provides a categorical model for CST. The idea follows essentially from the sets-
as-trees interpretation of constructive set theory [2, 3, 4].
First, consider the small map Ï€ : W â†’V of axiom (S2) and its associated
wellfounded tree WÏ€. In the category CST, a map satisfying axiom (S2) can be
deï¬ned by letting W =def {(x, y) | y âˆˆx}, V = {x | x = x}, and taking Ï€ to be
the ï¬rst projection. Indeed, this map satisï¬es a stronger property than the one of
axiom (S2) in that every small map in CST can be obtained simply as a pullback
of it. The wellfounded tree associated to this family is then deï¬ned as the smallest
class X such that if a is a set and t is a function with domain a, then (a, t) is
in X. Such a pair (a, t) may be thought of as a non-extensional set, given as the
family (tx | x âˆˆa ). The non-extensionality means for example that tx and txâ€² are
considered distinct elements of the family even if tx = txâ€². To obtain extensional
sets, it is therefore necessary to take a quotient.
We deï¬ne VÏ€ to be the quotient of the wellfounded tree WÏ€ under the equivalence
relation of axiom (S6). In CST this equivalence relation, denoted by Â· â‰ƒÂ· , is such
that for (a, t) and (b, s) in WÏ€, we have
(a, t) â‰ƒ(b, s) â†”(âˆ€x âˆˆa)(âˆƒy âˆˆb)tx â‰ƒsy âˆ§(âˆ€y âˆˆb)(âˆƒx âˆˆa)tx â‰ƒsy .

8
NICOLA GAMBINO
The quotient of WÏ€ under this equivalence relation is a class that is isomorphic
to the cumulative hierarchy. In an arbitrary category E, the object VÏ€ is then a
natural candidate to model CST. The canonical subobject
VÏ€
/
=VÏ€
/ VÏ€ Ã— VÏ€
is used to interpret the equality relationship of the language of CST. The inter-
pretation of the rest of the syntax is done as usual [13, Section 4.5], and restricted
quantiï¬ers are interpreted using appropriately small maps [22, Remark 3.8]. We
do not need to deï¬ne the interpretation of the membership relation, as we assumed
that this is deï¬ned using equality and restricted quantiï¬ers.
Theorem 2.4 (Soundness and completeness).
â€¢ If E is a regular category with disjoint coproducts and dual images, equipped
with a class of CST-small maps, the object VÏ€ of E is such that (VÏ€, =VÏ€)
is a model of CST.
â€¢ CST is a regular category with disjoint coproducts and dual images, equipped
with a family of CST-maps.
Proof. The ï¬rst part of the theorem follows essentially by Theorem 7.1 of [22].
Deï¬nition 2.3 was indeed introduced to isolate the essential elements of the proof
necessary to prove the claim.
For the second part of the theorem, one uses the axioms of CST to verify the
required conditions. The existence of the structure of a regular category with dis-
joint coproducts and dual images has already been discussed in Subsection 2.2.
The functors required (S1) are deï¬ned as in (3), and (S2) is a consequence of the
deï¬nition of Ï€ : W â†’V given above. For (S3) one should recall that equality is a
restricted formula, while for (S4) one uses Exponentiation and Restricted Separa-
tion. Finally, axioms (S5) and (S6) hold because we can deï¬ne wellfounded trees
by induction and relations on them by double set-recursion [12], and the class of
natural numbers is a set by Inï¬nity.
â–¡
It is possible to have an alternative form of intuition about the cumulative hi-
erarchy object VÏ€ deï¬ned above. For a small map f : B â†’A in E let us consider
the generalised polynomial functor Pf : E â†’E and recall that in CST this can be
expressed as
Pf(X) = P
aâˆˆA XBa .
In the presence of suï¬ƒciently strong axioms for quotients, that are valid in the
category of classes, one can then follow [22, Section 6] and deï¬ne suitable quotients
of Pf(X) so as to determine a functor Pf : E â†’E. In the special case of the
category CST, this is expressed as
Pf(X) = { p | p âŠ†X , (âˆƒa âˆˆA)(âˆƒt âˆˆXBa) p = Im(t) } .
In CST, the functor PÏ€ associated to the arrow Ï€ : W â†’V deï¬ned above is exactly
the power-class operation, deï¬ned by letting P(X) =def {p | p âŠ†X}, where X is
a class. Note that elements of P(X) are subsets of X, rather than subclasses, and
that generally P(X) is a class, even when X is a set.
Just as the set-theoretic universe is an initial algebra for P : CST â†’CST by
the Set Induction axiom, the object VÏ€ deï¬ned above is an initial algebra for the
functor PÏ€ : E â†’E, as proved in [22]. This point of view will be exploited in the
next section, where we deï¬ne models of CST in categories of presheaves. In order to

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
9
do so, we recall a property that characterizes the functor PÏ€ : E â†’E from [15, 27].
We ï¬rst need a deï¬nition.
Deï¬nition 2.5. For X, I âˆˆE, we say that a subobject R â†£I Ã— X is an I-indexed
family of small subobjects of X if R â†£I Ã— X â†’I is a small map.
The functor PÏ€ : E â†’E has the property (P1), expressed as in [27].
(P1): For every object X there is an PÏ€(X)-indexed family of small subob-
jects of X, âˆ‹Xâ†£PÏ€(X) Ã— X, such that for all I-indexed families of small
subobjects of X, R â†£I Ã— X, there exists a unique map Â¯R : I â†’PÏ€(X) for
which there is a pullback diagram of form
R

/ âˆ‹X

I Ã— X
Â¯
RÃ—1X
/ PÏ€(X) Ã— X
It is easy to verify that this property holds in CST. For a proof that the prop-
erty (P1) holds in pretoposes, see [15, Section 1.3]. In [27] the property (P1) was
introduced as part of a simpliï¬ed axiomatization of categorical models for IZF. It
would be of interest to formulate a simple axiom that allows us to derive both the
existence of the quotient required by axiom (S6) and the deï¬nability of the functors
PÏ€ : E â†’E.
3. Presheaves
In this section, we work again with the constructive set theory CST and con-
sider the category CST of classes arising from it. We will use CST to deï¬ne new
categories equipped with a class of small maps satisfying all the axioms of Deï¬-
nition 2.3. One could have considered, more generally, to work internally in an
arbitrary category E that satisï¬es the axioms of Deï¬nition 2.3 rather than with
the explicitly deï¬ned category CST. The approach taken here, however, will be
suï¬ƒcient to show how Dana Scottâ€™s presheaf models [26] ï¬t into the framework
of Algebraic Set Theory, and has the advantage of keeping the presentation quite
simple.
3.1. Basic deï¬nitions. In this section, C is a ï¬xed small category, in the sense
that we assume that objects and arrows of C form a set in the constructive set
theory CST. Objects and arrows are denoted with a , b , c , . . . , and f : b â†’a , g :
c â†’b , h : d â†’c , . . . , respectively. The identity arrow on an object a will be written
1a : a â†’a and the composite of f and g as above will be written f g : c â†’a. For
a, b âˆˆC, we let [b, a] be the set of arrows from b to a. To help the intuition, one
may think of an object a as a stage in a process, and of an arrow f : b â†’a in C as
a transition from the stage a to the stage b.
The opposite of C is the category Cop whose objects are the same of C and
whose arrows are obtained by formally reversing the direction of the arrows of C.
A presheaf is a functor Cop â†’CST. Thus, a presheaf X : Cop â†’CST consists of
a family of classes X(a), for a âˆˆC, together with a family of functions
X(a) Ã— [b, a]
âˆ’â†’
X(b)
( x , f )
7âˆ’â†’
x Â· f

10
NICOLA GAMBINO
that satisfy the equations
x Â· 1a = x ,
(x Â· f) Â· g = x Â· f g
for all x âˆˆX(a), and f : b â†’a , g : c â†’b. We may think of a presheaf X as a class
varying through stages, and of the members of X(a), for a âˆˆCop, as the elements
of the variable class X at stage a. The function X(a) â†’X(b) determined by an
arrow f : b â†’a can then be imagined as describing the evolution of the variable
class X along the transition f.
As usual, we write bC for the category of presheaves and natural transformations
between them. If X and Y are presheaves, we say that a Y is a subpresheaf of X
if, for all a âˆˆC, Y (a) âŠ†X(a) holds. We now give a few examples of presheaves.
(i) For a class X, we deï¬ne X : Cop â†’CST, the constant presheaf associated to
X, as the functor mapping every object into X and any arrow into the identity
map on X. The constant presheaf determined by 1 is a terminal object in bC.
(ii) For a âˆˆCop, we deï¬ne ya : Cop â†’CST, the presheaf represented by a, by
letting ya(b) =def [b, a], for b âˆˆC. The actions are deï¬ned so that a pair
(f, g) âˆˆya(b) Ã— [c, b] is mapped into f g âˆˆya(c).
(iii) Binary products, and disjoint binary coproducts are deï¬ned pointwise. For
details, see [19].
The next deï¬nition shows how the category bC inherits a notion of small map
from CST. The deï¬nition of small map in CST was given in Deï¬nition 2.2.
Deï¬nition 3.1. A natural transformation Î± : X â†’Y is said to be small if, for all
a âˆˆC, the function between classes Î±a : X(a) â†’Y (a) is a small map in CST.
To deï¬ne a presheaf model of CST, i.e. a model of CST whose underlying object
is a presheaf, one may prove that bC is a category satisfying all the hypotheses
of the ï¬rst part of Theorem 2.4 by combining the ideas in [15, Section IVÂ§3] and
in [21, 22]. We prefer, however, to give an explicit description of the model. This will
be achieved by deï¬ning explicitly a power-presheaf functor that satisï¬es axiom (P1)
and then isolating an initial algebra for it.
3.2. Presheaf models.
Deï¬nition 3.2. Let X âˆˆbC. For a âˆˆC, we say that p is a presheaf subset of X at
stage a if the following hold:
(i) p is a function with domain S
bâˆˆC ya(b),
(ii) for all b âˆˆC and f : b â†’a, p(f) is a set, and it holds that p(f) âŠ†X(b),
(iii) for all b, c âˆˆC and f : b â†’a , g : c â†’b, if x âˆˆp(f) then x Â· g âˆˆp(f g).
The next lemma states a useful property of presheaf subsets. Its proof is a direct
consequence of Deï¬nition 3.2.
Lemma 3.3. Let p be presheaf subset of X at stage a, for X âˆˆbC and a âˆˆC. We
have (âˆ€x âˆˆXa) x âˆˆp(1a) if and only if (âˆ€b âˆˆC)(âˆ€f âˆˆya(b)) x Â· f âˆˆp(f) .
We begin to deï¬ne the power-presheaf functor PÏ€ : bC â†’bC by letting,
PÏ€(X)(a) =def {p | p presheaf subset of X at stage a} .
for X âˆˆbC and a âˆˆC. To deï¬ne the action
PÏ€(X)(a) Ã— [b, a]
âˆ’â†’
PÏ€(X)(b)
( p , f )
7âˆ’â†’
p Â· f

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
11
we let pÂ·f be the function mapping g âˆˆ[c, b] into p(f g). The functoriality required
by the deï¬nition of presheaf follows directly. We are almost ready to verify the
property of the power-presheaf functor stated in axiom (P1). We only need to
exhibit, for every presheaf X, a PÏ€(X)-indexed family of small subobjects of X
that plays the role of a membership relation. For X âˆˆbC we deï¬ne âˆ‹X by letting
(âˆ‹X)(a) =def {(p, x) âˆˆPÏ€(X)(a) Ã— X(a) | x âˆˆp(1a)}
for a âˆˆC. Observe that âˆ‹X is a subpresheaf of PÏ€(X) Ã— X by Lemma 3.3 and that
it is a PÏ€(X)-indexed family of small subobjects of X.
Proposition 3.4. The functor PÏ€ : bC â†’bC satisï¬es the property (P1).
Proof. For an I-indexed family of small subobjects of X, R â†£I Ã— X, we need to
deï¬ne a natural transformation Â¯R : I â†’PÏ€(X). For a âˆˆC, i âˆˆI(a) and f : b â†’a
we deï¬ne
Â¯Ra(i)(f) =def {y âˆˆX(b) | (i Â· f, y) âˆˆR(b)} ,
where we assumed that R is a subpresheaf of I Ã— X for simplicity. This deï¬nition
determines a function Â¯Ra(i) that is a presheaf subset of X at stage a, so that
Â¯Ra(i) âˆˆPÏ€(X). For a âˆˆC, we then have a function Â¯Ra : I(a) â†’PÏ€(X)(a), which
gives us the components of the required natural transformation.
â–¡
Dana Scottâ€™s deï¬nition of a presheaf cumulative hierarchy in [26] is exactly an
initial algebra for the power-presheaf functor. The next result recalls its character-
ization and states that the required presheaf can be deï¬ned in CST.
Theorem 3.5. We can deï¬ne a presheaf VÏ€ such that, for a âˆˆC, it holds that
s âˆˆVÏ€(a) if and only if the following conditions hold:
â€¢ s is a function with domain S
bâˆˆC ya(b),
â€¢ for all f : b â†’a, we have s(f) âˆˆVÏ€(b),
â€¢ for all f : b â†’a and g : c â†’b, if t âˆˆs(f) then t Â· g âˆˆs(f g),
where, for s âˆˆVÏ€(a) and f : b â†’a, we let sÂ·f be the function with domain S
câˆˆC yb(c)
mapping g : c â†’b into s(f g).
Proof. The claim is a consequence of the possibility of deï¬ning classes by general
forms of inductive deï¬nitions in CST.
The details of the appropriate inductive
deï¬nition are given in [10, Section 6.3], where it is also shown how VÏ€ can be seen
as the smallest presheaf that satisï¬es the requirements above.
â–¡
4. Kripke-Joyal semantics
The presheaf VÏ€ can be used to give a direct interpretation of all the axioms
of CST using the Kripke-Joyal semantics [19, Section VI.6]. To do so, we need
to ï¬x some syntactic conventions. For a âˆˆC, we deï¬ne the language L(a) to be
the extension of the language of CST with constants for elements of VÏ€(a). As
usual, we do not distinguish between elements of VÏ€(a) and the constants added to
the language L and use letters s, t, r, . . . for them. If Ï† is a formula of L(a) and
f : b â†’a we deï¬ne Ï† Â· f to be the formula obtained from Ï† by leaving unchanged
free variables and substituting each constant s appearing in Ï† with the constant
s Â· f. Observe that if Ï† is a sentence of L(a) then Ï† Â· f is a sentence of L(b). The
Kripke-Joyal semantics can then be deï¬ned by structural induction as in Table 1.
Lemma 4.1 then states one of the expected properties of the semantics.

12
NICOLA GAMBINO
a âŠ©âŠ¥
=def
âŠ¥
a âŠ©s = t
=def
s = t
a âŠ©Ï† âˆ§Ïˆ
=def
(a âŠ©Ï†) âˆ§(a âŠ©Ïˆ)
a âŠ©Ï† âˆ¨Ïˆ
=def
(a âŠ©Ï†) âˆ¨(a âŠ©Ïˆ)
a âŠ©Ï† â†’Ïˆ
=def
(âˆ€b âˆˆC)(âˆ€f âˆˆya(b))(b âŠ©Ï† Â· f â†’b âŠ©Ïˆ Â· f)
a âŠ©(âˆƒx âˆˆs)Ï†
=def
 âˆƒx âˆˆs(1a)

a âŠ©Ï†
a âŠ©(âˆ€x âˆˆs)Ï†
=def
(âˆ€b âˆˆC)(âˆ€f âˆˆya(b)) (âˆ€x âˆˆs(f)) b âŠ©Ï† Â· f
a âŠ©(âˆƒx)Ï†
=def
 âˆƒx âˆˆVÏ€(a)

a âŠ©Ï†
a âŠ©(âˆ€x)Ï†
=def
(âˆ€b âˆˆC)(âˆ€f âˆˆya(b))
 âˆ€x âˆˆVÏ€(b)

b âŠ©Ï† Â· f
Table 1. Deï¬nition of the Kripke-Joyal semantics.
Lemma 4.1 (Monotonicity). Let a âˆˆC and Ï† be a sentence of L(a). If a âŠ©Ï† then
for all b âˆˆC and all f âˆˆya(b) it holds that b âŠ©Ï† Â· f.
Proof. The claim follows by structural induction on Ï† .
â–¡
To illustrate some of the properties of presheaf models, we investigate in more
detail the interpretation of sentences. Let a âˆˆC. We say that a class P of arrows
with codomain a is a sieve on a if for all f : b â†’a and g : c â†’b if f âˆˆP
then f g âˆˆP. We say that a sieve on a is a set-sieve if it is a set. Let a, b âˆˆC. For
a set-sieve p on a and f : b â†’a, deï¬ne pÂ·f =def {g | f g âˆˆp} and observe that pÂ·f
is a set-sieve on b. We can then deï¬ne a presheaf â„¦by letting, for a âˆˆC
â„¦a =def {p | p set-sieve on a}
The next deï¬nition provides a link between the Kripke-Joyal semantics of sentences
and sieves. For a sentence Ï† of L(a) deï¬ne
JÏ†K =def
S
bâˆˆC {f âˆˆ[b, a] | b âŠ©Ï† Â· f} .
Proposition 4.2. Let a in C0. Let Ï† be a sentence of L(a). The class JÏ†K is a
sieve on a, and if Ï† is restricted then JÏ†K is a set-sieve on a.
Proof. For the ï¬rst claim, Lemma 4.1 gives the desired conclusion. For the second,
use structural induction on Ï†, observing that the clauses deï¬ning the semantics of
a restricted formula are themselves restricted.
â–¡
Theorem 4.3. (VÏ€, =) is a model of CST.
Proof. The claim follows mainly from Theorem 6.17 in [10], apart from the validity
of Exponentiation, which is a consequence of Theorem 7.1 and Theorem 9.6 of [22].
â–¡
5. Conclusions
Since partially ordered sets are special small categories, presheaf models give as
a special case extensions for constructive set theories of Kripke models for intuition-
istic logic. In [24] Erik Palmgren applied a Kripke model construction to show an
independence result for ï¬rst-order intuitionistic logic. The result regards the notion

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
13
of pseudo-order on a set. A binary relation Â· < Â· on a set A is a pseudo-order if the
following hold:
(1) Â¬
 (a < b) âˆ§(b < a)

, for all a, b âˆˆA
(2) Â¬(a < b) âˆ§Â¬(b < a) â†’a = b, for all a, b âˆˆA
(3) a < b â†’
 (a < c) âˆ¨(c < a)

, for all a, b, c âˆˆA
An example of pseudo-order is given by the strict order on Cauchy or Dedekind
reals. Classically, every pseudo-order is a linear order and thus every two elements
have a supremum. Palmgrenâ€™s result shows that this is not the case in intuitionistic
logic. For the proof, obtained using a Kripke model, see [24].
Proposition 5.1 (Palmgren). In intuitionistic ï¬rst-order logic, the axioms of a
pseudo-order do not imply that every two elements of a pseudo-order have a supre-
mum.
It seems straightforward to generalise this result to an independence result for
CST using presheaf models. Presheaf models oï¬€er, however, much more generality.
One may indeed consider models, relevant for the study of the lambda-calculus [26],
in which the category C is taken to be a monoid. Furthermore, it is possible to
generalise presheaf models to sheaf models [15, 22, 10] which give variants of the
double-negation translation suitable for constructive set theories. In this paper, we
set the ground for these promising applications.
Acknowledgements.
I am most grateful to Dana Scott, who made available
his notes on presheaf models.
I also acknowledge useful discussions with Alex
Simpson, Peter Aczel, Steve Awodey, Erik Palmgren, Benno van den Berg, Claire
Kouwenhoven-Gentil, and Robert Lubarsky.
References
[1] P. Aczel. An introduction to inductive deï¬nitions. In J. Barwise, editor, Handbook of Math-
ematical Logic, chapter 7, pages 739 â€“ 782. North-Holland, 1977.
[2] P. Aczel. The type theoretic interpretation of Constructive Set Theory. In A. MacIntyre
nd L. Pacholski and J. Paris, editors, Logic Colloquium â€™77, pages 55 â€“ 66. North-Holland,
1978.
[3] P. Aczel. The type theoretic interpretation of Constructive Set Theory: choice principles. In
A. S. Troelstra and D. van Dalen, editors, The L. E. J. Brouwer Centenary Symposium,
pages 1 â€“ 40. North-Holland, 1982.
[4] P. Aczel. The type theoretic interpretation of Constructive Set Theory: inductive deï¬nitions.
In R. Barcan Marcus, G.J.W. Dorn, and P. Weinegartner, editors, Logic, Methodology and
Philosophy of Science VII, pages 17 â€“ 49. North-Holland, 1986.
[5] P. Aczel and M. Rathjen. Notes on Constructive Set Theory. Technical Report 40, Mittag-
Leï¬„er Institute, 2001. Available from the web page http://www.cs.man.ac.uk/~petera/
papers.html.
[6] S. Awodey, C. Butz, T. Streicher, and A. K. Simpson. Relating topos theory and set theory
via categories of classes. Draft paper, available from the web page http://www.andrew.cmu.
edu/user/awodey, 2003.
[7] C. Butz. Bernays-GÂ¨odel type theory. J. Pure Appl. Algebra, 178(1):1 â€“ 23, 2003.
[8] M. P. Fourman. Sheaf models for set theory. Journal of Pure and Applied Algebra, 19:91 â€“
101, 1980.
[9] H. M. Friedman. The consistency of classical set theory relative to a set theory with intu-
itionistic logic. J. of Symbolic Logic, 38:315â€“319, 1973.
[10] N. Gambino. Sheaf interpretations for generalised predicative intuitionistic systems. PhD
thesis, University of Manchester, 2002.

14
NICOLA GAMBINO
[11] N. Gambino and M. Hyland. Wellfounded trees and dependent polynomial functors. In S. Be-
rardi, M. Coppo, and F. Damiani, editors, Types for Proofs and Programs, volume 3085 of
Lecture Notes in Computer Science. Springer, 2004.
[12] E. R. Griï¬€or and M. Rathjen. The strength of some Martin-LÂ¨of type theories. Arch. for Math.
Logic, 33:347 â€“ 385, 1994.
[13] B. Jacobs. Categorical Logic and Type Theory. North-Holland, 1999.
[14] A. Joyal and I. Moerdijk. A completeness theorem for open maps. Annals of Pure and Applied
Logic, 70:51 â€“ 86, 1994.
[15] A. Joyal and I. Moerdijk. Algebraic Set Theory. Cambridge University Press, 1995.
[16] A. Joyal and M. Tierney. An extension of the Galois theory of Grothendieck. Mem. Amer.
Math. Soc., 51(309), 1984.
[17] R. S. Lubarsky. Independence results around Constructive ZF. Annals of Pure and Applied
Logic, To appear.
[18] S. MacLane. Categories for the working mathematician. Springer, 1971.
[19] S. MacLane and I. Moerdijk. Sheaves in Geometry and Logic. Springer, 1992.
[20] P. Martin-LÂ¨of. Intuitionistic Type Theory. Bibliopolis, 1984.
[21] I. Moerdijk and E. Palmgren. Wellfounded trees in categories. Ann. of Pure and Appl. Logic,
104:189 â€“ 218, 2000.
[22] I. Moerdijk and E. Palmgren. Type theories, toposes and Constructive Set Theory: predica-
tive aspects of AST. Ann. of Pure and Appl. Logic, 114(1-3):155â€“201, 2002.
[23] J.R. Myhill. Constructive Set Theory. J. of Symbolic Logic, 40(3):347â€“382, 1975.
[24] E. Palmgren. Constructive completions of ordered sets, groups and ï¬elds. Technical Report
U.U.D.M. Report 2003:5, Department of Mathematics, University of Uppsala, 2003.
[25] A. M. Pitts. Categorical Logic. In S. Abramsky, D. M. Gabbay, and T. S. E. Maibaum,
editors, Handbook of Logic in Computer Science, volume 5. Oxford University Press, 2000.
[26] D. S. Scott. Category-theoretic models for Intuitionistic Set Theory. Manuscript slides of a
talk given at Carnagie-Mellon University, 1985.
[27] A. K. Simpson. Elementary axioms for the category of classes. In 14th Annual IEEE Sympo-
sium on Logic in Computer Science, pages 77 â€“ 85. IEEE Press, 1999.
[28] M. Warren. Predicative categories of classes. Masterâ€™s thesis, Carnagie Mellon University,
2004.
DPMMS, University of Cambridge, Centre for Mathematical Sciences, Wilberforce
Road, Cambridge CB3 0WB, England
E-mail address: N.Gambino@dpmms.cam.ac.uk

