PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
NICOLA GAMBINO
Abstract. We introduce a new kind of models for constructive set theories
based on categories of presheaves.
These models are a counterpart of the
presheaf models for intuitionistic set theories deﬁned by Dana Scott in the
’80s. We also show how presheaf models ﬁt into the framework of Algebraic
Set Theory and sketch an application to an independence result.
1. Variable sets in foundations and practice
Presheaves are of central importance both for the foundations and the practice
of mathematics. The notion of a presheaf formalizes well the idea of a variable
set, that is relevant in all the areas of mathematics concerned with the study of
indexed families of objects [19]. One may then readily see how presheaves are of
interest also in foundations: both Cohen’s forcing models for classical set theories
and Kripke models for intuitionistic logic involve the idea of sets indexed by stages.
Constructive aspects start to emerge when one considers the internal logic of cat-
egories of presheaves. This logic, which does not include classical principles such
as the law of the excluded middle, provides a useful language to manipulate ob-
jects and arrows, and can be used as an alternative to diagrammatic reasoning [25].
Furthermore, it is suﬃciently expressive to allow the deﬁnitions of complex mathe-
matical constructions. This aspect has led to important developments in the study
of elementary toposes [16].
The main purpose of this paper is to show how presheaves can be used to ob-
tain models for constructive set theories [23, 5] analogous to the ones deﬁned by
Dana Scott for intuitionistic set theories [26]. In order to do so, we will have to
overcome the challenges intrinsic to working with generalised predicative formal
systems. By a generalised predicative formal system we mean here a system that is
proof-theoretically reducible to Martin-L¨of dependent type theories with W-types
and universes [20, 12]. Generalised predicative systems typically contain axioms
allowing generalized forms of inductive deﬁnitions [1] instead of proof-theoretically
strong axioms such as Power Set.
Our development will focus on categories of classes rather than categories of
sets as the starting point to deﬁne presheaves, thus assuming the perspective of
Algebraic Set Theory [15, 27, 7, 22, 6]. The main reason for this choice is that
the properties of categories of sets do not always reﬂect directly the set-theoretical
axioms adopted to deﬁne them. There are indeed axioms, such as Replacement,
that do not express directly properties of sets, but regard the interaction between
sets and classes. In categories of classes we can overcome this problem without loss,
since sets can be isolated as special objects, those that are in some sense ‘small’.
Date: December 10th, 2004.
Research supported by an EPSRC Postdoctoral Fellowship in Mathematics (GR/R95975/01).
1

2
NICOLA GAMBINO
One is then led to consider a notion of small map in such a way that the axioms of
a set theory correspond directly to the axioms for small maps.
This approach has two main advantages. First, it allows us to give a homoge-
neous treatment of presheaf models of diﬀerent set theories. Indeed, one of the
initial motivations for the research described here was to investigate whether it was
possible to generalise the presheaf models for intuitionistic set theories to construc-
tive ones and present them in a uniform way. Secondly, we can show how Scott’s
presheaf models ﬁt into the paradigm of Algebraic Set Theory.
The study of presheaf and sheaf categories in the generalised predicative setting
was initiated by Ieke Moerdijk and Erik Palmgren in [21, 22]. They introduced the
notion of stratiﬁed pseudotopos as a candidate for the notion of a predicative topos.
A predicative topos should be a counterpart at the generalised predicative level of
the notion of an elementary topos. They supported their axiomatisation by showing
how stratiﬁed pseudotoposes support the construction of internal presheaves, in the
sense that categories of internal presheaves in a stratiﬁed pseudotopos are again
stratiﬁed pseudotoposes. They also proved that a stratiﬁed pseudotopos can be
used to deﬁne models of constructive set theories. The combination of these two
facts comes close to exhibiting presheaf models for constructive set theories, but
does not quite achieve it. This is because categories of classes arising in constructive
set theories do not satisfy the axioms for a stratiﬁed pseudotopos. For example, as
pointed out in the context of intuitionistic set theories in [27], they fail to be exact.
and, as we will discuss in Subsection 2, they do not have arbitrary exponentials.
Even if they satisﬁed all the axioms for a stratiﬁed pseudotopos, however, there
would still be the problem of obtaining an explicit description of presheaf models,
of developing their study, and of ﬁnding applications. All of these aspects will be
considered here.
Related work on categories of classes in constructive set theories is also presented
in [28]. The approach to the construction of categorical models for constructive set
theories taken there is slighly diﬀerent from the one assumed here, even if both
follow the perspective of Algebraic Set Theory. While in [28] categorical models for
constructive set theories are deﬁned exploiting the existence of a universal object,
here they will be obtained via W-types and the assumption of a universal small
map.
Let us conclude these introductory remarks with an overview of the contents of
the paper. In Section 2 we isolate axiomatically the structure on a category that is
necessary to obtain a categorical model for a constructive set theory. We also discuss
how the category of classes arising from a constructive set theory is an example of
such a structure.
That section also serves as an introduction to Algebraic Set
Theory. We then shift our attention to presheaves. Section 3 introduces the basic
notions, describes the structure on the category of presheaves that is relevant for
our study, and deﬁnes presheaf models. The study of these models via the so-called
Kripke-Joyal semantics is presented in Section 4. We end the paper in Section 5
by sketching an application to an independence result. To be as self-contained as
possible, we included background material on category theory and set theory.
2. Classes and sets
2.1. Set-theoretic axioms. Set theories based on intuitionistic logic are formu-
lated to provide an axiomatic basis to support the development of intuitionistic

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
3
mathematics in set theory. Their axioms will be formulated here in an extension
of ﬁrst-order intuitionistic logic with equality, obtained by adding restricted quan-
tiﬁers of form (∀x ∈a) and (∃x ∈a) as primitive, and standard axioms for them.
The membership relation can then be deﬁned. A formula is said to be restricted if
it contains only quantiﬁers that are restricted.
Classes provide a convenient notation to manipulate sets and formulas in math-
ematical practice. If φ is an formula with a free variable x and A is deﬁned by
A =def {x | φ}, we let a ∈A =def φ[a/x] . Two classes are said to be extensionally
equal if they have the same elements. Note that every set can be viewed as a class,
and that proper classes cannot be considered as elements of other classes. Equality
between sets is disciplined by the axiom of Extensionality, stating that two sets are
equal if they are extensionally equal as classes.
The basic set existence axioms of Pairing, Union, and Inﬁnity, familiar from
classical set theory, simply assert that certain classes are sets. Using these, standard
deﬁnitions allow us to introduce the forms of classes
A × B ,
A + B ,
P
a∈A Ba ,
that denote binary cartesian products, binary disjoint unions, and indexed disjoint
unions, respectively. There is a natural notion of function between classes, that
generalises the notion of function between sets. We write f : A →B to express
that f is a function from A to B, and by this we mean that f is a subclass of
A × B that is total and single-valued as a relation from A to B. Two functions are
considered equal if they are extensionally equal as classes.
The set-theoretic universe, deﬁned by
(1)
V =def {x | x = x} ,
cannot be asserted to be a set if we wish to avoid Russell’s paradox. The interplay
between classes and sets is speciﬁed further by other axioms. Restricted Separation
is the axiom scheme asserting that for each set a and each restricted formula φ,
the class {x ∈a | φ} is a set. This weakening of the usual Full Separation axiom
scheme is suﬃcient for many purposes in mathematical practice. In the absence of
Full Separation, one needs to distinguish carefully between subsets and subclasses
of a set. When considering two sets, we assume that functions between them are
given as subsets, rather than subclasses, of the cartesian product of the domain and
codomain.
The axiom of Exponentiation, originally introduced in [23], asserts that the class
of functions between any two sets is again a set. Exponentiation is a consequence
of Power Set that deserves to be isolated if one wishes to consider set theories that
do not include Power Set. Strong Collection is the scheme
(∀x ∈a)(∃y)φ →(∃u)
 (∀x ∈a)(∃y ∈u)φ ∧(∀y ∈u)(∃x ∈a)φ

,
where a is a set and φ is an arbitrary formula. A consequence of Strong Collection
is Replacement, asserting that for a function f : A →B between classes, if A is
a set then so is its image. Strong Collection also allows us to have generalised
forms of inductive deﬁnitions of classes [5, Chapter 5]. For instance, if A is a class
and (Ba | a ∈A) is family of sets, we can form the associated class Wa∈ABa of
wellfounded trees. This is deﬁned as the smallest class X such that if a ∈A and
t ∈XBa then (a, t) ∈X. Classes of wellfounded trees are a set-theoretic counterpart
of the well-ordering types introduced by Martin-L¨of [20].

4
NICOLA GAMBINO
The axiom of Set Induction is used to view the set-theoretic universe as an
inductively-deﬁned class. It asserts that the class V deﬁned in (1) is the smallest
class X such that, for all sets p, if p ⊆X then p ∈X. Set Induction is relevant
in our study since it allows us to see the set-theoretic universe as an initial algebra
for an endofunctor on the category of classes, and this suggests a way to formulate
a general notion of model for set theories with Set Induction, as we discuss in
Subsection 2.3.
In the following, we will focus our attention on the constructive set theory CST
whose axioms are Extensionality, Set Induction, Pairing, Union, Inﬁnity, Restricted
Separation, Exponentiation and Strong Collection. This is an extension of My-
hill’s original system [23], obtained by adding Strong Collection, and a subsystem
of Aczel’s system CZF, obtained by replacing Subset Collection with Exponentia-
tion [5]. Robert Lubarsky has recently proved that Subset Collection is independent
of Exponentiation, thus showing that CST is a proper subsystem of CZF [17]. The
intuitionistic set theory IZF which is is essentially an intuitionistic counterpart of
classical Zermelo-Frankel set theory, is obtained from CST by adding Full Separa-
tion and Power Set [9]. Presheaf and sheaf models for IZF have been considered
in [26, 8].
2.2. Categories of classes. We now associate to the constructive set theory CST
a category, called CST, and study how the axioms of CST determine the properties
of CST. The category CST is deﬁned as having classes as objects and functions
between them as arrows. In the study of the properties of this category, we follow [6].
The category CST has an obvious terminal object, given by the singleton class
1 =def {∅}. Pullbacks in CST will now be deﬁned explicitly. Given two arrows
u : X →A and f : B →A, we let Y =def {(b, x) ∈B ×X | fb = ux} . The required
pullback diagram is then given by
Y
g
/
v

X
u

B
f
/ A
where v and g are the ﬁrst and second projection, respectively. Sometimes we will
write B ×A X to denote the class Y deﬁned above. The operation of pullback can
be thought of as reindexing, or substitution: if one regards an arrow u : X →A
as a family (Xa | a ∈A), where Xa =def {x ∈X | ux = a}, for a ∈A, then, in
the pullback diagram above, the family (Yb | b ∈B) is isomorphic to the family
(Xfb | b ∈B), obtained by reindexing the family (Xa | a ∈A) via the function
f.
Since CST has a terminal object and pullbacks, it has all ﬁnite limits [18,
Section V.2].
For an arrow f : B →A we may consider the pullback of f along itself. This
determines a diagram of form B ×A B
// B that is called the kernel pair of f.
Such a diagram determines an equivalence relation on B according to which b , b′ ∈
B are related if and only if f(b) = f(b′) holds.
The quotient of B under this
equivalence relation is isomorphic to the image of f in A, written Im(f) here, and
we thus we have a diagram of form
(2)
B ×A B
// B
/ Im(f)

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
5
that is exact [15, Appendix B]. The possibility of deﬁning quotients of this kind can
be expressed abstractly by saying that we have coequalizers of kernel pairs. The
arrow B →Im(f) is obviously an surjection and it is easy to show that in CST
every surjection is a regular epimorphism, i.e. that it ﬁts into a diagram of the form
in (2). Surjections are stable, in the sense that the pullback of a surjection is again
a surjection. This discussion indicates that CST is a regular category, in the sense
speciﬁed by the next deﬁnition.
Deﬁnition 2.1. A category E is regular if it has ﬁnite limits, coequalizers of kernel
pairs, and if regular epimorphisms (i.e. epimorphisms that arise as coequalizers of
kernel pairs) are stable under pullback.
The category CST has also disjoint ﬁnite coproducts, given by disjoint unions,
and these are stable in the sense that they are preserved by pullbacks. In particular,
the empty coproduct is given by 0 =def ∅. The regular structure of CST is suﬃcient
to deﬁne an adjunction ∃f ⊣∆f between the functors
Sub A
∆f / Sub B
∃f
o
for any arrow f : B →A, where we write Sub X for the category of subclasses of a
class X, with arrows given by inclusions. The functors ∆f and ∃f are deﬁned by
letting, for P ⊆A and Q ⊆B
∆f(P) =def {b ∈B | fb ∈P} ,
∃f(Q) =def {a ∈A | (∃b ∈Ba) b ∈Q} .
This indicates that regular categories have enough structure to interpret a large
fragment of ﬁrst-order intuitionistic logic, which however does not include the uni-
versal quantiﬁer [13, Section 4.4]. To interpret it, one requires dual images, i.e.
the existence of a right adjoint ∀f : Sub B →Sub A to the functor ∆f, for every
f : B →A. These right adjoints exist in CST and can be deﬁned by letting, for
Q ⊆B
∀f(Q) =def {a ∈A | (∀b ∈Ba) b ∈Q} .
So far, we have described some of the structure available on categories of classes.
As pointed out in [27], categories of classes arising from intuitionistic or constructive
set theories generally fail to be exact, in the sense that it is not possible to deﬁne
quotients of arbitrary equivalence relations, but only of equivalence relations whose
equivalence classes are sets.
Further structure on the category CST arises from the interplay between classes
and sets, but does not seem to be directly expressible in terms of universal prop-
erties. For example, for two classes A and B, the functions from A to B can be
collected into a class only if A is set, since elements of classes are required to be sets.
This means that CST does not have arbitrary exponentials, but has exponentials
of sets. More generally, if we have a set A and a family of classes (Ba | a ∈A) we
can deﬁne the class Q
a∈A Ba whose elements are the functions f with domain A
such that, for all a ∈A, f(a) ∈Ba.
To axiomatize this situation, one may introduce a notion of small map. The
next deﬁnition introduces a natural notion of small map for the category CST.
Deﬁnition 2.2. An arrow u : X →A in CST is said to be small if, for all a in A,
the class Xa =def {x | ux = a} is a set.

6
NICOLA GAMBINO
Note that a set is just a class for which the canonical arrow into the singleton
set 1 is small. In the next subsection, we will arrive at a deﬁnition of a categorical
model for CST by isolating a group of axioms that are satisﬁed by the small maps
in the regular category CST.
2.3. Axioms for small maps. In [15, 22] axioms for small maps were considered
in the context of pretoposes, but they can be studied in the more general context
of regular categories with stable disjoint coproducts. This is indeed the setting
that we consider here, and from now on we let E be a regular category with stable
disjoint coproducts. In order to introduce these axioms, it is convenient to recall
some basic notions.
For A ∈E, one may deﬁne E/A, the slice category over A, whose objects are
arrows u : X →A of E. For two objects u : X →A, u′ : X′ →A of E/A, an arrow
in E/A between them is given by v : X →X′ in E such that u = u′ v holds. In the
category CST it is convenient to represent an object X →A of E/A as the family
(Xa | a ∈A). The operation of pullback along f : B →A determines a functor
∆f : E/A →E/B. This functor always has a left adjoint Σf : E/B →E/A deﬁned
by composition with f. The action of Σf can be described in CST using indexed
disjoint unions.
For f : B →A in E, if the pullback functor ∆f : E/A →E/B has a right adjoint
Πf : E/B →E/A, we can deﬁne Pf : E →E, the generalised polynomial functor
associated to f, as the composite
E
∆B / E/B
Πf
/ E/A
ΣA / E
where we made use of the canonical arrows A : A →1 and B : B →1.
In the category CST, the functor Πf can be deﬁned if f : B →A is small.
Identifying objects in the slice categories with families of classes, we deﬁne the
functor Πf by letting, for a family (Yb | b ∈B) indexed by B,
(3)
Πf(Yb | b ∈B) =def (Q
b∈Ba Yb | a ∈A)
We can then obtain the following explicit description of the generalised polynomial
functor associated to an arrow f : B →A. For a class X we have
Pf(X) = P
a∈A XBa .
By its very deﬁnition, the class of wellfounded trees Wa∈ABa is an initial algebra for
this functor. This observation leads to deﬁne a general notion of wellfounded tree
in categories [21]. These are deﬁned as initial algebras for generalised polynomial
functors. Note that a natural numbers object can be characterised as an initial
algebra for the polynomial functor associated to either of the two canonical arrows
1 →1 + 1. For more on wellfounded trees, see [21, 11].
The next deﬁnition isolates axioms for small maps corresponding to the prop-
erties of small maps for CST, as we will discuss after the deﬁnition. Our axioms
are imposed on top of a standard group of axioms, those for a class of open maps,
that are not recall here. These are axioms (A1) – (A7) of [15, Section 1.1], and
were ﬁrst formulated in [14]. The axioms presented below are tailored to construct
models of CST. Axioms (S1), (S2) were introduced in [15, Deﬁnition 1.1], while
(S3) was considered in [14, 6]. By a small object we mean an object for which the
canonical map into the terminal object is small.

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
7
Deﬁnition 2.3. Let E be a regular category with stable disjoint coproducts, and S
a family of open maps. We say that S is a family of CST-small maps if the following
axioms hold.
(S1): If f : B →A is in S, the pullback functor ∆f : E/A →E/B has a right
adjoint Πf : E/B →E/A.
(S2): There is a map π : W →V in S such that for any map u : X →A in
S there exists a diagram of form
X
u

Y
o

/ W
π

A
B
f
oo
/ V
where f : B ↠A is an epimorphism and both squares are pullbacks.
(S3): For every f : B →A, the canonical map B →B ×A B is in S.
(S4): If f : B →A is in S, then Πf : E/B →E/A preserves smallness of
maps.
(S5): For every f : B →A in S, the polynomial functor Pf : E →E has an
initial algebra, whose underlying object is written Wf here. The natural
numbers object is small.
(S6): For every f : B →A in S there is an exact diagram
E
// Wf
/ Vf
where E ↣Wf × Wf is a small subobject such that
(∀(a, t), (a′, t′) ∈Wf)
 (a, t), (a′, t′)

∈E ↔
(∀x ∈a′)(∃x′ ∈a′)(tx, t′x′) ∈E ∧(∀x′ ∈a′)(∃x ∈a)(tx, t′x′) ∈E

.
holds in the internal logic of E.
We now wish to indicate how a category E with the properties of Deﬁnition 2.3
provides a categorical model for CST. The idea follows essentially from the sets-
as-trees interpretation of constructive set theory [2, 3, 4].
First, consider the small map π : W →V of axiom (S2) and its associated
wellfounded tree Wπ. In the category CST, a map satisfying axiom (S2) can be
deﬁned by letting W =def {(x, y) | y ∈x}, V = {x | x = x}, and taking π to be
the ﬁrst projection. Indeed, this map satisﬁes a stronger property than the one of
axiom (S2) in that every small map in CST can be obtained simply as a pullback
of it. The wellfounded tree associated to this family is then deﬁned as the smallest
class X such that if a is a set and t is a function with domain a, then (a, t) is
in X. Such a pair (a, t) may be thought of as a non-extensional set, given as the
family (tx | x ∈a ). The non-extensionality means for example that tx and tx′ are
considered distinct elements of the family even if tx = tx′. To obtain extensional
sets, it is therefore necessary to take a quotient.
We deﬁne Vπ to be the quotient of the wellfounded tree Wπ under the equivalence
relation of axiom (S6). In CST this equivalence relation, denoted by · ≃· , is such
that for (a, t) and (b, s) in Wπ, we have
(a, t) ≃(b, s) ↔(∀x ∈a)(∃y ∈b)tx ≃sy ∧(∀y ∈b)(∃x ∈a)tx ≃sy .

8
NICOLA GAMBINO
The quotient of Wπ under this equivalence relation is a class that is isomorphic
to the cumulative hierarchy. In an arbitrary category E, the object Vπ is then a
natural candidate to model CST. The canonical subobject
Vπ
/
=Vπ
/ Vπ × Vπ
is used to interpret the equality relationship of the language of CST. The inter-
pretation of the rest of the syntax is done as usual [13, Section 4.5], and restricted
quantiﬁers are interpreted using appropriately small maps [22, Remark 3.8]. We
do not need to deﬁne the interpretation of the membership relation, as we assumed
that this is deﬁned using equality and restricted quantiﬁers.
Theorem 2.4 (Soundness and completeness).
• If E is a regular category with disjoint coproducts and dual images, equipped
with a class of CST-small maps, the object Vπ of E is such that (Vπ, =Vπ)
is a model of CST.
• CST is a regular category with disjoint coproducts and dual images, equipped
with a family of CST-maps.
Proof. The ﬁrst part of the theorem follows essentially by Theorem 7.1 of [22].
Deﬁnition 2.3 was indeed introduced to isolate the essential elements of the proof
necessary to prove the claim.
For the second part of the theorem, one uses the axioms of CST to verify the
required conditions. The existence of the structure of a regular category with dis-
joint coproducts and dual images has already been discussed in Subsection 2.2.
The functors required (S1) are deﬁned as in (3), and (S2) is a consequence of the
deﬁnition of π : W →V given above. For (S3) one should recall that equality is a
restricted formula, while for (S4) one uses Exponentiation and Restricted Separa-
tion. Finally, axioms (S5) and (S6) hold because we can deﬁne wellfounded trees
by induction and relations on them by double set-recursion [12], and the class of
natural numbers is a set by Inﬁnity.
□
It is possible to have an alternative form of intuition about the cumulative hi-
erarchy object Vπ deﬁned above. For a small map f : B →A in E let us consider
the generalised polynomial functor Pf : E →E and recall that in CST this can be
expressed as
Pf(X) = P
a∈A XBa .
In the presence of suﬃciently strong axioms for quotients, that are valid in the
category of classes, one can then follow [22, Section 6] and deﬁne suitable quotients
of Pf(X) so as to determine a functor Pf : E →E. In the special case of the
category CST, this is expressed as
Pf(X) = { p | p ⊆X , (∃a ∈A)(∃t ∈XBa) p = Im(t) } .
In CST, the functor Pπ associated to the arrow π : W →V deﬁned above is exactly
the power-class operation, deﬁned by letting P(X) =def {p | p ⊆X}, where X is
a class. Note that elements of P(X) are subsets of X, rather than subclasses, and
that generally P(X) is a class, even when X is a set.
Just as the set-theoretic universe is an initial algebra for P : CST →CST by
the Set Induction axiom, the object Vπ deﬁned above is an initial algebra for the
functor Pπ : E →E, as proved in [22]. This point of view will be exploited in the
next section, where we deﬁne models of CST in categories of presheaves. In order to

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
9
do so, we recall a property that characterizes the functor Pπ : E →E from [15, 27].
We ﬁrst need a deﬁnition.
Deﬁnition 2.5. For X, I ∈E, we say that a subobject R ↣I × X is an I-indexed
family of small subobjects of X if R ↣I × X →I is a small map.
The functor Pπ : E →E has the property (P1), expressed as in [27].
(P1): For every object X there is an Pπ(X)-indexed family of small subob-
jects of X, ∋X↣Pπ(X) × X, such that for all I-indexed families of small
subobjects of X, R ↣I × X, there exists a unique map ¯R : I →Pπ(X) for
which there is a pullback diagram of form
R

/ ∋X

I × X
¯
R×1X
/ Pπ(X) × X
It is easy to verify that this property holds in CST. For a proof that the prop-
erty (P1) holds in pretoposes, see [15, Section 1.3]. In [27] the property (P1) was
introduced as part of a simpliﬁed axiomatization of categorical models for IZF. It
would be of interest to formulate a simple axiom that allows us to derive both the
existence of the quotient required by axiom (S6) and the deﬁnability of the functors
Pπ : E →E.
3. Presheaves
In this section, we work again with the constructive set theory CST and con-
sider the category CST of classes arising from it. We will use CST to deﬁne new
categories equipped with a class of small maps satisfying all the axioms of Deﬁ-
nition 2.3. One could have considered, more generally, to work internally in an
arbitrary category E that satisﬁes the axioms of Deﬁnition 2.3 rather than with
the explicitly deﬁned category CST. The approach taken here, however, will be
suﬃcient to show how Dana Scott’s presheaf models [26] ﬁt into the framework
of Algebraic Set Theory, and has the advantage of keeping the presentation quite
simple.
3.1. Basic deﬁnitions. In this section, C is a ﬁxed small category, in the sense
that we assume that objects and arrows of C form a set in the constructive set
theory CST. Objects and arrows are denoted with a , b , c , . . . , and f : b →a , g :
c →b , h : d →c , . . . , respectively. The identity arrow on an object a will be written
1a : a →a and the composite of f and g as above will be written f g : c →a. For
a, b ∈C, we let [b, a] be the set of arrows from b to a. To help the intuition, one
may think of an object a as a stage in a process, and of an arrow f : b →a in C as
a transition from the stage a to the stage b.
The opposite of C is the category Cop whose objects are the same of C and
whose arrows are obtained by formally reversing the direction of the arrows of C.
A presheaf is a functor Cop →CST. Thus, a presheaf X : Cop →CST consists of
a family of classes X(a), for a ∈C, together with a family of functions
X(a) × [b, a]
−→
X(b)
( x , f )
7−→
x · f

10
NICOLA GAMBINO
that satisfy the equations
x · 1a = x ,
(x · f) · g = x · f g
for all x ∈X(a), and f : b →a , g : c →b. We may think of a presheaf X as a class
varying through stages, and of the members of X(a), for a ∈Cop, as the elements
of the variable class X at stage a. The function X(a) →X(b) determined by an
arrow f : b →a can then be imagined as describing the evolution of the variable
class X along the transition f.
As usual, we write bC for the category of presheaves and natural transformations
between them. If X and Y are presheaves, we say that a Y is a subpresheaf of X
if, for all a ∈C, Y (a) ⊆X(a) holds. We now give a few examples of presheaves.
(i) For a class X, we deﬁne X : Cop →CST, the constant presheaf associated to
X, as the functor mapping every object into X and any arrow into the identity
map on X. The constant presheaf determined by 1 is a terminal object in bC.
(ii) For a ∈Cop, we deﬁne ya : Cop →CST, the presheaf represented by a, by
letting ya(b) =def [b, a], for b ∈C. The actions are deﬁned so that a pair
(f, g) ∈ya(b) × [c, b] is mapped into f g ∈ya(c).
(iii) Binary products, and disjoint binary coproducts are deﬁned pointwise. For
details, see [19].
The next deﬁnition shows how the category bC inherits a notion of small map
from CST. The deﬁnition of small map in CST was given in Deﬁnition 2.2.
Deﬁnition 3.1. A natural transformation α : X →Y is said to be small if, for all
a ∈C, the function between classes αa : X(a) →Y (a) is a small map in CST.
To deﬁne a presheaf model of CST, i.e. a model of CST whose underlying object
is a presheaf, one may prove that bC is a category satisfying all the hypotheses
of the ﬁrst part of Theorem 2.4 by combining the ideas in [15, Section IV§3] and
in [21, 22]. We prefer, however, to give an explicit description of the model. This will
be achieved by deﬁning explicitly a power-presheaf functor that satisﬁes axiom (P1)
and then isolating an initial algebra for it.
3.2. Presheaf models.
Deﬁnition 3.2. Let X ∈bC. For a ∈C, we say that p is a presheaf subset of X at
stage a if the following hold:
(i) p is a function with domain S
b∈C ya(b),
(ii) for all b ∈C and f : b →a, p(f) is a set, and it holds that p(f) ⊆X(b),
(iii) for all b, c ∈C and f : b →a , g : c →b, if x ∈p(f) then x · g ∈p(f g).
The next lemma states a useful property of presheaf subsets. Its proof is a direct
consequence of Deﬁnition 3.2.
Lemma 3.3. Let p be presheaf subset of X at stage a, for X ∈bC and a ∈C. We
have (∀x ∈Xa) x ∈p(1a) if and only if (∀b ∈C)(∀f ∈ya(b)) x · f ∈p(f) .
We begin to deﬁne the power-presheaf functor Pπ : bC →bC by letting,
Pπ(X)(a) =def {p | p presheaf subset of X at stage a} .
for X ∈bC and a ∈C. To deﬁne the action
Pπ(X)(a) × [b, a]
−→
Pπ(X)(b)
( p , f )
7−→
p · f

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
11
we let p·f be the function mapping g ∈[c, b] into p(f g). The functoriality required
by the deﬁnition of presheaf follows directly. We are almost ready to verify the
property of the power-presheaf functor stated in axiom (P1). We only need to
exhibit, for every presheaf X, a Pπ(X)-indexed family of small subobjects of X
that plays the role of a membership relation. For X ∈bC we deﬁne ∋X by letting
(∋X)(a) =def {(p, x) ∈Pπ(X)(a) × X(a) | x ∈p(1a)}
for a ∈C. Observe that ∋X is a subpresheaf of Pπ(X) × X by Lemma 3.3 and that
it is a Pπ(X)-indexed family of small subobjects of X.
Proposition 3.4. The functor Pπ : bC →bC satisﬁes the property (P1).
Proof. For an I-indexed family of small subobjects of X, R ↣I × X, we need to
deﬁne a natural transformation ¯R : I →Pπ(X). For a ∈C, i ∈I(a) and f : b →a
we deﬁne
¯Ra(i)(f) =def {y ∈X(b) | (i · f, y) ∈R(b)} ,
where we assumed that R is a subpresheaf of I × X for simplicity. This deﬁnition
determines a function ¯Ra(i) that is a presheaf subset of X at stage a, so that
¯Ra(i) ∈Pπ(X). For a ∈C, we then have a function ¯Ra : I(a) →Pπ(X)(a), which
gives us the components of the required natural transformation.
□
Dana Scott’s deﬁnition of a presheaf cumulative hierarchy in [26] is exactly an
initial algebra for the power-presheaf functor. The next result recalls its character-
ization and states that the required presheaf can be deﬁned in CST.
Theorem 3.5. We can deﬁne a presheaf Vπ such that, for a ∈C, it holds that
s ∈Vπ(a) if and only if the following conditions hold:
• s is a function with domain S
b∈C ya(b),
• for all f : b →a, we have s(f) ∈Vπ(b),
• for all f : b →a and g : c →b, if t ∈s(f) then t · g ∈s(f g),
where, for s ∈Vπ(a) and f : b →a, we let s·f be the function with domain S
c∈C yb(c)
mapping g : c →b into s(f g).
Proof. The claim is a consequence of the possibility of deﬁning classes by general
forms of inductive deﬁnitions in CST.
The details of the appropriate inductive
deﬁnition are given in [10, Section 6.3], where it is also shown how Vπ can be seen
as the smallest presheaf that satisﬁes the requirements above.
□
4. Kripke-Joyal semantics
The presheaf Vπ can be used to give a direct interpretation of all the axioms
of CST using the Kripke-Joyal semantics [19, Section VI.6]. To do so, we need
to ﬁx some syntactic conventions. For a ∈C, we deﬁne the language L(a) to be
the extension of the language of CST with constants for elements of Vπ(a). As
usual, we do not distinguish between elements of Vπ(a) and the constants added to
the language L and use letters s, t, r, . . . for them. If φ is a formula of L(a) and
f : b →a we deﬁne φ · f to be the formula obtained from φ by leaving unchanged
free variables and substituting each constant s appearing in φ with the constant
s · f. Observe that if φ is a sentence of L(a) then φ · f is a sentence of L(b). The
Kripke-Joyal semantics can then be deﬁned by structural induction as in Table 1.
Lemma 4.1 then states one of the expected properties of the semantics.

12
NICOLA GAMBINO
a ⊩⊥
=def
⊥
a ⊩s = t
=def
s = t
a ⊩φ ∧ψ
=def
(a ⊩φ) ∧(a ⊩ψ)
a ⊩φ ∨ψ
=def
(a ⊩φ) ∨(a ⊩ψ)
a ⊩φ →ψ
=def
(∀b ∈C)(∀f ∈ya(b))(b ⊩φ · f →b ⊩ψ · f)
a ⊩(∃x ∈s)φ
=def
 ∃x ∈s(1a)

a ⊩φ
a ⊩(∀x ∈s)φ
=def
(∀b ∈C)(∀f ∈ya(b)) (∀x ∈s(f)) b ⊩φ · f
a ⊩(∃x)φ
=def
 ∃x ∈Vπ(a)

a ⊩φ
a ⊩(∀x)φ
=def
(∀b ∈C)(∀f ∈ya(b))
 ∀x ∈Vπ(b)

b ⊩φ · f
Table 1. Deﬁnition of the Kripke-Joyal semantics.
Lemma 4.1 (Monotonicity). Let a ∈C and φ be a sentence of L(a). If a ⊩φ then
for all b ∈C and all f ∈ya(b) it holds that b ⊩φ · f.
Proof. The claim follows by structural induction on φ .
□
To illustrate some of the properties of presheaf models, we investigate in more
detail the interpretation of sentences. Let a ∈C. We say that a class P of arrows
with codomain a is a sieve on a if for all f : b →a and g : c →b if f ∈P
then f g ∈P. We say that a sieve on a is a set-sieve if it is a set. Let a, b ∈C. For
a set-sieve p on a and f : b →a, deﬁne p·f =def {g | f g ∈p} and observe that p·f
is a set-sieve on b. We can then deﬁne a presheaf Ωby letting, for a ∈C
Ωa =def {p | p set-sieve on a}
The next deﬁnition provides a link between the Kripke-Joyal semantics of sentences
and sieves. For a sentence φ of L(a) deﬁne
JφK =def
S
b∈C {f ∈[b, a] | b ⊩φ · f} .
Proposition 4.2. Let a in C0. Let φ be a sentence of L(a). The class JφK is a
sieve on a, and if φ is restricted then JφK is a set-sieve on a.
Proof. For the ﬁrst claim, Lemma 4.1 gives the desired conclusion. For the second,
use structural induction on φ, observing that the clauses deﬁning the semantics of
a restricted formula are themselves restricted.
□
Theorem 4.3. (Vπ, =) is a model of CST.
Proof. The claim follows mainly from Theorem 6.17 in [10], apart from the validity
of Exponentiation, which is a consequence of Theorem 7.1 and Theorem 9.6 of [22].
□
5. Conclusions
Since partially ordered sets are special small categories, presheaf models give as
a special case extensions for constructive set theories of Kripke models for intuition-
istic logic. In [24] Erik Palmgren applied a Kripke model construction to show an
independence result for ﬁrst-order intuitionistic logic. The result regards the notion

PRESHEAF MODELS FOR CONSTRUCTIVE SET THEORIES
13
of pseudo-order on a set. A binary relation · < · on a set A is a pseudo-order if the
following hold:
(1) ¬
 (a < b) ∧(b < a)

, for all a, b ∈A
(2) ¬(a < b) ∧¬(b < a) →a = b, for all a, b ∈A
(3) a < b →
 (a < c) ∨(c < a)

, for all a, b, c ∈A
An example of pseudo-order is given by the strict order on Cauchy or Dedekind
reals. Classically, every pseudo-order is a linear order and thus every two elements
have a supremum. Palmgren’s result shows that this is not the case in intuitionistic
logic. For the proof, obtained using a Kripke model, see [24].
Proposition 5.1 (Palmgren). In intuitionistic ﬁrst-order logic, the axioms of a
pseudo-order do not imply that every two elements of a pseudo-order have a supre-
mum.
It seems straightforward to generalise this result to an independence result for
CST using presheaf models. Presheaf models oﬀer, however, much more generality.
One may indeed consider models, relevant for the study of the lambda-calculus [26],
in which the category C is taken to be a monoid. Furthermore, it is possible to
generalise presheaf models to sheaf models [15, 22, 10] which give variants of the
double-negation translation suitable for constructive set theories. In this paper, we
set the ground for these promising applications.
Acknowledgements.
I am most grateful to Dana Scott, who made available
his notes on presheaf models.
I also acknowledge useful discussions with Alex
Simpson, Peter Aczel, Steve Awodey, Erik Palmgren, Benno van den Berg, Claire
Kouwenhoven-Gentil, and Robert Lubarsky.
References
[1] P. Aczel. An introduction to inductive deﬁnitions. In J. Barwise, editor, Handbook of Math-
ematical Logic, chapter 7, pages 739 – 782. North-Holland, 1977.
[2] P. Aczel. The type theoretic interpretation of Constructive Set Theory. In A. MacIntyre
nd L. Pacholski and J. Paris, editors, Logic Colloquium ’77, pages 55 – 66. North-Holland,
1978.
[3] P. Aczel. The type theoretic interpretation of Constructive Set Theory: choice principles. In
A. S. Troelstra and D. van Dalen, editors, The L. E. J. Brouwer Centenary Symposium,
pages 1 – 40. North-Holland, 1982.
[4] P. Aczel. The type theoretic interpretation of Constructive Set Theory: inductive deﬁnitions.
In R. Barcan Marcus, G.J.W. Dorn, and P. Weinegartner, editors, Logic, Methodology and
Philosophy of Science VII, pages 17 – 49. North-Holland, 1986.
[5] P. Aczel and M. Rathjen. Notes on Constructive Set Theory. Technical Report 40, Mittag-
Leﬄer Institute, 2001. Available from the web page http://www.cs.man.ac.uk/~petera/
papers.html.
[6] S. Awodey, C. Butz, T. Streicher, and A. K. Simpson. Relating topos theory and set theory
via categories of classes. Draft paper, available from the web page http://www.andrew.cmu.
edu/user/awodey, 2003.
[7] C. Butz. Bernays-G¨odel type theory. J. Pure Appl. Algebra, 178(1):1 – 23, 2003.
[8] M. P. Fourman. Sheaf models for set theory. Journal of Pure and Applied Algebra, 19:91 –
101, 1980.
[9] H. M. Friedman. The consistency of classical set theory relative to a set theory with intu-
itionistic logic. J. of Symbolic Logic, 38:315–319, 1973.
[10] N. Gambino. Sheaf interpretations for generalised predicative intuitionistic systems. PhD
thesis, University of Manchester, 2002.

14
NICOLA GAMBINO
[11] N. Gambino and M. Hyland. Wellfounded trees and dependent polynomial functors. In S. Be-
rardi, M. Coppo, and F. Damiani, editors, Types for Proofs and Programs, volume 3085 of
Lecture Notes in Computer Science. Springer, 2004.
[12] E. R. Griﬀor and M. Rathjen. The strength of some Martin-L¨of type theories. Arch. for Math.
Logic, 33:347 – 385, 1994.
[13] B. Jacobs. Categorical Logic and Type Theory. North-Holland, 1999.
[14] A. Joyal and I. Moerdijk. A completeness theorem for open maps. Annals of Pure and Applied
Logic, 70:51 – 86, 1994.
[15] A. Joyal and I. Moerdijk. Algebraic Set Theory. Cambridge University Press, 1995.
[16] A. Joyal and M. Tierney. An extension of the Galois theory of Grothendieck. Mem. Amer.
Math. Soc., 51(309), 1984.
[17] R. S. Lubarsky. Independence results around Constructive ZF. Annals of Pure and Applied
Logic, To appear.
[18] S. MacLane. Categories for the working mathematician. Springer, 1971.
[19] S. MacLane and I. Moerdijk. Sheaves in Geometry and Logic. Springer, 1992.
[20] P. Martin-L¨of. Intuitionistic Type Theory. Bibliopolis, 1984.
[21] I. Moerdijk and E. Palmgren. Wellfounded trees in categories. Ann. of Pure and Appl. Logic,
104:189 – 218, 2000.
[22] I. Moerdijk and E. Palmgren. Type theories, toposes and Constructive Set Theory: predica-
tive aspects of AST. Ann. of Pure and Appl. Logic, 114(1-3):155–201, 2002.
[23] J.R. Myhill. Constructive Set Theory. J. of Symbolic Logic, 40(3):347–382, 1975.
[24] E. Palmgren. Constructive completions of ordered sets, groups and ﬁelds. Technical Report
U.U.D.M. Report 2003:5, Department of Mathematics, University of Uppsala, 2003.
[25] A. M. Pitts. Categorical Logic. In S. Abramsky, D. M. Gabbay, and T. S. E. Maibaum,
editors, Handbook of Logic in Computer Science, volume 5. Oxford University Press, 2000.
[26] D. S. Scott. Category-theoretic models for Intuitionistic Set Theory. Manuscript slides of a
talk given at Carnagie-Mellon University, 1985.
[27] A. K. Simpson. Elementary axioms for the category of classes. In 14th Annual IEEE Sympo-
sium on Logic in Computer Science, pages 77 – 85. IEEE Press, 1999.
[28] M. Warren. Predicative categories of classes. Master’s thesis, Carnagie Mellon University,
2004.
DPMMS, University of Cambridge, Centre for Mathematical Sciences, Wilberforce
Road, Cambridge CB3 0WB, England
E-mail address: N.Gambino@dpmms.cam.ac.uk

