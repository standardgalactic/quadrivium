Chapter 1
LOCALES AND TOPOSES AS SPACES
Steven Vickers
University of Birmingham
Second Reader
Guram Bezhanishvili
New Mexico State University
1.
Introduction
Mac Lane and Moerdijk, 1992, in their thorough introduction to topos
theory, start their Prologue by saying –
A startling aspect of topos theory is that it uniﬁes two seemingly
wholly distinct mathematical subjects: on the one hand, topology and
algebraic geometry, and on the other hand, logic and set theory. In-
deed, a topos can be considered both as a “generalized space” and as a
“generalized universe of sets”.
This dual nature of topos theory is of great importance, and one can
quite reasonably understand Grothendieck’s name “topos” as meaning
“that of which topology is the study”.
Mac Lane and Moerdijk are
unquestionably masters of the spatial nature of toposes, yet one could
easily read through their book without grasping it. The mathematical
technology is so ﬁrmly expressed in the set theory and the logic that the
spatiality is obscured.
The aim in this chapter is to provide a reader’s guide to the spatial
content of the major texts. Those texts can also provide a more detailed
account of original sources and other applications than has been possible
here.
We have on the one hand, the logic and set theory, and, on the other,
the topology. In a nutshell, the topos connection between them is that
the topos acts like a “Lindenbaum algebra” (of formulae modulo equiv-
alence) for a logical theory whose models are the points of a space.

2
The prototype is Stone’s Representation Theorem for Boolean alge-
bras, which relates propositional logic to Hausdorﬀ, totally disconnected
topology. However, it takes some work to develop the idea to its full
generality.
First, the logic is not at all ordinary classical logic.
It is
an inﬁnitary positive logic known as geometric logic. Second, we are in
general talking about predicate theories, and for these the appropriate
notion of Lindenbaum algebra is not straightforward. It is really the
“category of sets generated by the theory”. Lastly, “space” of points is
not an ordinary topological space – it is a real generalization.
However, the propositional fragment of the predicate logic does cor-
respond more or less to ordinary topological spaces. As a rough picture
of the correspondence, in the propositional case we ﬁnd –
space ∼logical theory
point ∼model of the theory
open set ∼propositional formula
sheaf ∼predicate formula
continuous map ∼transformation of models that is deﬁnable within
geometric logic
These “propositional toposes” are called localic, or (with slight abuse
of language) locales. They are equivalent to the locales introduced in –
say – Johnstone, 1982 or Vickers, 1989.
Now the topos theorists discovered some deep facts about the inter-
action between continuous maps and the logic and set theory of toposes.
A map f : X →Y gives a geometric morphism between the correspond-
ing toposes of sheaves. A topos is suﬃciently like the category of sets
that a kind of set theory can be modelled in it. Roughly speaking, in
sheaves over X it is set theory “continuously parametrized by a variable
point of X”. The map f then comes to be seen as a “generalized” point
of Y , parametrized by a point of X, and this is a point of Y in the
non-standard set theory of sheaves over X. So by allowing topological
reasoning to take place in toposes instead of in the category of ordinary
sets, one gains a simple way to reason about the generalized points of Y
– in other words the maps into Y .
However, to make this trick work one has to reason constructively
because the internal logic of toposes is not in general classical.
And
constructive topology does not work well unless one replaces topological
spaces with locales. For instance, the Tychonoﬀtheorem and the Heine-
Borel theorem hold constructively for locales but not for topological
spaces.

Locales and toposes as spaces
3
Now there is a well known drawback to locales. They do not in general
have enough points and for this reason are normally treated with an
opaque “point-free” style of argument. However, they do have enough
generalized points.
Since constructive reasoning gives easy access to
these, it also allows locales to be discussed in a spatial way in terms of
their points. We in fact get a cohesive package of mathematical deals.
1 Constructive reasoning allows maps to be treated as generalized
points.
2 Locales give a better constructive topology (better results hold)
than ordinary spaces.
3 The constructive reasoning makes it possible to deal with locales
as though they were spaces of points.
What’s more, the more stringent geometric constructivism has an in-
trinsic continuity – one might almost say it is the logical essence of con-
tinuity. The eﬀect of this is that constructions described in conformity
with its disciplines are automatically continuous.
The prime aim of this chapter is to explain how this deep connection
between logic and topology works out. However, as a spinoﬀwe ﬁnd
that “generalized spaces” corresponding to toposes become more acces-
sible. They are spaces in which the opens are insuﬃcient to deﬁne the
topological structure, and sheaves have to be used instead.
These ideas are not essentially new. They have been a hidden part of
topos theory from the start. Some writers, such as Wraith, 1979, have
made quite explicit use of the virtues of geometric logic. Our aim here
is to make them less hidden. At the same time we shall also stress a
peculiarity of geometric logic, namely that it embodies a geometric type
theory. This provides a more naturally mathematical mode of working
in geometric logic.
For further reading as a standard text on topos theory, we particularly
recommend Mac Lane and Moerdijk, 1992. The standard reference text
(Johnstone, 2002a, Johnstone, 2002b) is much more complete and ulti-
mately indispensible. In particular, it treats in some depth the notion
of “geometric type construct” that is very important for us. However,
it can be impenetrable for beginners.
Though the chapter is so closely linked to toposes, many of its tech-
niques can also be used in other (and distinct) constructive foundations
such as formal topology in predicative type theory (Sambin, 1987). We
refer to Vickers, 2006 and Vickers, 2005 for some of the connections.

4
2.
Opens as propositions
Since Tarski, 1938 it has been known that topologies – by which we
mean speciﬁcally the lattices of open sets for topological spaces – can
provide models for intuitionistic propositional logic.
For discrete topologies, i.e.
powersets, this is no surprise.
Classi-
cal propositional logic can be embedded in classical predicate logic by
translating each proposition into a predicate with a single variable x,
and then the standard semantics interprets each proposition as a subset
of the carrier for x. Logical connectives translate directly into the corre-
sponding set-theoretic operations in the powerset, and classicality of the
logic corresponds to the fact (in classical mathematics) that powersets
are Boolean algebras.
What is interesting is that when we replace the powerset by a topology
(on X, say), there is still enough lattice structure to model intuitionistic
logic. The connectives ∧and ∨can still be translated to ∩and ∪, which
both preserve openness. However the direct set-theoretic correspondent
with negation is complementation, and that does not preserve openness.
If proposition P is interpreted as open set U, then ¬P is interpreted as
the interior of the complement X −U. Similarly, if also Q is interpreted
as V , then P →Q is interpreted as the interior of (X −U) ∪V .
These latter operations can both be deﬁned directly in terms of the
complete lattice structure of the topology. The interior of X −U is the
join of all those opens W such that W ∩U = ∅, while the interior of
(X−U)∪V is the join of those W such that W∩U ⊆V . Every topology is
a Heyting algebra; and since intuitionistic logic freely expresses Heyting
algebra structure, any interpretation of the propositional symbols can be
extended to all formulae in a way that respects intuitionistic equivalence.
Definition 1.1 A frame is a complete lattice in which the following
frame distributivity law holds (a ∈A, S ⊆A):
a ∧
_
S =
_
{a ∧b | b ∈S}.
A frame homomorphism is a function between frames that preserves joins
and ﬁnite meets.
Every topology is a frame, because the axioms for opens sets tell us
that ∧and W are set theoretic ∩and S.
Proposition 1.2 Every frame A is a Heyting algebra.
Proof
We must show that for every a, b ∈A there is an element a →
b ∈A such that for all c ∈A,
c ≤a →b ⇔c ∧a ≤b.
(*)

Locales and toposes as spaces
5
(If this element exists, then it is unique.) We can deﬁne
a →b =
_
{x | x ∧a ≤b}.
Now the (⇐) direction in (*) is immediate, while the (⇒) follows from
frame distributivity, which implies that (a →b) ∧a ≤b.
QED
In fact, frames and complete Heyting algebras are the same things.
However, we distinguish between the notions because of the homomor-
phisms. A frame homomorphism does not necessarily preserve the Heyt-
ing arrow, and so is not necessarily a Heyting algebra homomorphism.
Tarski, 1938 went further, and showed a stronger property if the space
X is a dense-in-itself separable metric space (such as the real line). If
Pi (i ∈N) is a countable family of propositional symbols, then an intu-
itionistic formula φ in the Pis is an intuitionistic theorem iﬀ, for every
interpretation of the Pis in ΩX, the corresponding interpretation of φ
is the whole of X. This was explained further in McKinsey and Tarski,
1944 using an embedding of intuitionistic propositional logic in the clas-
sical modal logic S4, which could then be interpreted in the powerset
of X with the □modality corresponding to the interior operator – for
further details, see ??.
2.1
Lindenbaum algebras for classical logic
A Lindenbaum algebra is a lattice of formulae modulo provable equiv-
alence, and they and their generalizations will be key to the whole of
this chapter. Let us review how it works for classical logic, where the
connection with topology is essentially Stone’s Representation Theorem
for Boolean algebras (see Johnstone, 1982). If Σ is a propositional signa-
ture (i.e. a set of propositional symbols) then we write SenΣ for the set
of sentences constructed over Σ using a classically adequate set of con-
nectives. If T is a theory over Σ (a set of sentences), then an equivalence
relation ≡T can be deﬁned by
φ ≡T ψ iﬀT ⊢(φ ↔ψ) in classical logic
and the Lindenbaum algebra for T is deﬁned as LA(Σ, T) = SenΣ/ ≡T .
It is a Boolean algebra.
The central idea is to use the dual nature of homomorphisms g :
LA(Σ, T) →LA(Σ′, T ′).
Logically, g is a logical translation of (Σ, T) into (Σ′, T ′). It translates
propositional symbols into sentences (modulo equivalence) and preserves
theoremhood.
Isomorphism gives a natural presentation-independent
notion of equivalence of theories, by mutual translatability.

6
Spatially, g provides a transformation of models, from (Σ′, T ′) to
(Σ, T) (note the reversal of direction). It is this spatial view that pro-
vides the link with topology, for a model transformation arises this way
iﬀit is continuous with respect to certain topologies on the model spaces.
This is shown by Stone’s Theorem.
Because classical logic is complete, the transformation of ordinary
models suﬃces to determine the Lindenbaum algebra homomorphism.
However, we also get an alternative view by considering generalized mod-
els. Then there is a generic model whose transformation determines that
of all the other (speciﬁc) models, and this idea becomes important for
incomplete logics.
Let A be a Boolean algebra. An interpretation of Σ in A is a function
M : Σ →A, and this extends uniquely to an function M : SenΣ →A
that evaluates the connectives by the corresponding Boolean operations
on A. Then M is a model of T iﬀM(φ) = 1 for every φ ∈T. Models
are preserved by Boolean algebra homomorphisms f : A →B – the
composite f ◦M is also a model in B. We write ModA(T) for the set of
models of T in A.
Those were the generalized models referred to above. The standard
models, interpreting propositions as truth values, are found by taking
A = 2 = {0, 1}.
The generic model MT of T is a particular model in the Lindenbaum
algebra. It interprets each proposition symbol P ∈Σ as the equivalence
class of P as sentence. Clearly, by deﬁnition of the Lindenbaum algebra
we have φ ≡T ⊤for every φ ∈T, and so MT (φ) = 1, so MT is a model.
It has a universal property: any model can be got, uniquely, by applying
a Boolean algebra homomorphism to the generic model.
Proposition 1.3 Let (Σ, T) be a classical propositional theory, and A a
Boolean algebra. Then the function f 7→f ◦MT , taking Boolean algebra
homomorphisms LA(Σ, T) →A into ModA(T), is a bijection.
Proof
Let M : Σ →A be a model of T. Suppose φ ≡T ψ. The classical
proof of T ⊢(φ ↔ψ) will involve only ﬁnitely many elements of T, say
t1, . . . , tn. Because of the nature of classical proofs (this requires some
checking) it will imply that M(t1) ∧· · · ∧M(tn) ≤M(φ) ↔M(ψ) in A.
But each M(ti) is 1, because M is a model, and hence M(φ) ↔M(ψ) =
1 and M(φ) = M(ψ).
It follows that M factors (uniquely) through
LA(Σ, T) as f ◦MT where f is a Boolean algebra homomorphism.
QED
The generic model MT corresponds to the identity homomorphism on
LA(Σ, T).

Locales and toposes as spaces
7
As a consequence of the proposition, we see there is a function
⊨: ModA(T) × LA(Σ, T) →A
with ⊨(M, φ) the image of φ under the homomorphism corresponding
to M. In the particular case of A = 2, ⊨(M, φ) = 1 iﬀM ⊨φ in the
usual sense.
Now consider a homomorphism g : LA(Σ, T) →LA(Σ′, T ′). By the
proposition, g corresponds to a model of T in LA(Σ′, T ′). This gives a
logical translation of (Σ, T) in (Σ′, T ′) – the propositional symbols in Σ
are interpreted as formulae over Σ′, in such a way that the axioms in T
all become provable from T ′.
But one can also view this from the model side. A model of T ′ in A
is a homomorphism from LA(Σ′, T ′) to A, and precomposing this with
g gives a homomorphism from LA(Σ, T) to A, in other words a model
of T. (Note the reversal of direction!) Thus g gives a uniform way of
transforming models of T ′ into models of T.
Trivially, g = g ◦IdLA(Σ′,T ′) is completely determined by its transfor-
mation of the generic model. The generic model is non-standard, but we
also ﬁnd g is determined by its transformation of the standard models.
Proposition 1.4 Let (Σ, T) and (Σ′, T ′) be two propositional theories,
and let f, g : LA(Σ, T) →LA(Σ′, T ′) be two homomorphisms inducing
model transformations F, G : Mod2(T ′) →Mod2(T). If F = G then
f = g.
Proof
It suﬃces to show that f(P) ≡T ′ g(P) for every P ∈Σ. By
completeness, it suﬃces to show that for every standard model M′ of
T ′, f(P) and g(P) have the same truth value at M′. But those truth
values are the same as those for P at F(M′) and G(M′) respectively,
and they are equal.
QED
Not every transformation of standard models is induced by a homo-
morphism.
Stone’s Representation Theorem represents LA(Σ, T) us-
ing a topological space Mod2(T), with sets of the form {M | M ⊨φ}
(φ ∈LA(Σ, T)) providing a base of opens. (In fact, they are the clopens.)
This is a Stone space – Hausdorﬀand totally disconnected (Johnstone,
1982). The Theorem shows that the homomorphisms correspond to the
continuous maps between the model spaces.
Definition 1.5 Let (Σ, T) and (Σ′, T ′) be two propositional theories.
We deﬁne a map from (Σ, T) to (Σ′, T ′) to be a homomorphism from
LA(Σ′, T ′) →LA(Σ, T) (or, equivalently, a model of (Σ′, T ′) in LA(Σ, T)).

8
Note – In this chapter, the word “map” will always carry connotations
of continuity. A map between topological spaces is understood to be
continuous.
By emphasizing the model transformations, and deﬁning “maps” to
go in the same direction (opposite to that of the homomorphisms), we
try to foster a view that the theory represents its “space of models”.
Propositional theories and maps between them form a category.
Here are some simple but important examples.
Example 1.6 (1) The theory (∅, ∅) (no symbols or axioms) corresponds
to the one-element space 1.
It has a unique, vacuous model in any
Boolean algebra and is ﬁnal in the category of theories. LA(∅, ∅) = 2,
and for any theory (Σ, T) the maps from (∅, ∅) to (Σ, T) are equivalent
to the standard models of (Σ, T).
(2) The inconsistent theory (∅, {⊥}) corresponds to the empty space
∅. It has no model except in the one-element Boolean algebra 1, which
is LA(∅, {⊥}). It is initial in the category of theories.
(3) The theory ({P}, ∅) corresponds to the discrete 2-element space
2, having two standard models P 7→0 and P 7→1. Models in A are
elements of A. In Stone’s Theorem, this corresponds to the fact that for
any space X, clopens are equivalent to maps X →2. Its Lindenbaum
algebra LA({P}, ∅) is the Boolean algebra 4 = {0, P, ¬P, 1}, which is
freely generated by P.
2.2
Frames as Lindenbaum algebras
The Stone topologies, with the Boolean algebra of clopens forming
a base and corresponding to classical propositional logic, are very spe-
cial. We generalize this by changing to propositional geometric logic, for
which the Lindenbaum algebras are frames, playing the role of topologies
(with all opens, not just clopens).
From Tarski’s results on interpreting intuitionistic logic in topologies,
one might expect the logic here to be intuitionistic. However, full intu-
itionistic logic is too strong. If f is a continuous map, then its inverse
image function, restricted to open sets, will act as the corresponding
homomorphism between Lindenbaum algebras. In general this does not
preserve the Heyting arrow, though it is a frame homomorphism. Hence
we need a logic that corresponds to the structure of frame rather than
of Heyting algebra.

Locales and toposes as spaces
9
Definition 1.7 Let Σ be a set (of propositional symbols). Geometric
formulae over Σ are constructed from the symbols in Σ using ⊤(true), ∧
and arbitrary – possibly inﬁnitary – disjunctions W. A geometric theory
over Σ is a set of axioms of the form φ →ψ, where φ and ψ are geometric
formulae.
Coherent formulae and theories are deﬁned in the same way, but with-
out any inﬁnitary disjunctions. This is sometimes known as positive
logic.
Note that because of the limitations of the logic, a theory is not simply
a set of formulae. The logical rules are best described in sequent form.
(A theory is in eﬀect a set of axiomatic sequents, and we shall often write
its axioms as sequents, using ⊢. We shall also write ⊢⊣for bidirectional
entailment.) The rules are identity
φ ⊢φ,
cut
φ ⊢ψ
ψ ⊢χ
φ ⊢χ
,
the conjunction rules
φ ⊢⊤,
φ ∧ψ ⊢φ,
φ ∧ψ ⊢ψ,
φ ⊢ψ
φ ⊢χ
φ ⊢ψ ∧χ
,
the disjunction rules
φ ⊢
_
S
(φ ∈S),
φ ⊢ψ
(all φ ∈S)
W S ⊢ψ
and frame distributivity
φ ∧
_
S ⊢
_
{φ ∧ψ | ψ ∈S}.
Note that W ∅plays the role of ⊥(false). Note also that frame dis-
tributivity allows us to reduce every formula to a disjunction of ﬁnite
conjunctions of symbols from Σ. Hence although the formulae as de-
ﬁned syntactically form a proper class, modulo equivalence they form a
set (classically, and according to at least some constructive foundations).
We write Ω[T] for the Lindenbaum algebra of T, i.e. the set of geo-
metric formulae modulo equivalence provable from T. The logical rules
imply that it is a frame. There is an obvious notion of model of T in any
frame, and Ω[T] has a particular generic model MT given by interpreting
each propositional symbol as its equivalence class of formulae.

10
Proposition 1.8 (cf. Proposition 1.3.) Let (Σ, T) be a geometric the-
ory, and let A be a frame. Then the function f 7→f ◦MT , taking frame
homomorphisms Ω[T] →A into ModA(T), is a bijection.
Proof
If M : Σ →A is a model then it extends to a function M on
the class of formulae. All the logical rules will be valid in A under this
interpretation, and the axioms in T will all hold because M is a model,
so it follows that M factors (uniquely) via Ω[T].
QED
Standard models are given, as usual, by interpreting the propositional
symbols as truth values. However, we write Ωfor the frame of truth
values, by contrast with 2 for the Boolean algebra. (This follows the
topos-theoretic notation.)
Constructively they are diﬀerent, allowing
for the fact that geometric logic is a positive logic. A geometric truth
value is equivalent to a subset of a singleton, while a Boolean truth value
is a decidable subset of a singleton.
Definition 1.9 Let A be a frame. Then the geometric theory ThA is
presented as follows. For the signature Σ, introduce a propositional sym-
bol Pa for each a ∈A, and then take axioms
Pa →Pb
(a ≤b in A)
Pa ∧Pb →Pa∧b
(a, b ∈A)
⊤→P1
PW
S →W
a∈SPa
(S ⊆A)
All the theory is saying is that the ﬁnite meets and arbitrary joins
in A should be treated logically as ﬁnite conjunctions and arbitrary
disjunctions. Hence the connectives of propositional geometric logic are
corresponding directly to the frame structure. From this it follows that
the models of ThA in a frame B are the frame homomorphisms from A
to B, and so we see that Ω[ThA] ∼= A.
A standard model of ThA can also be described by saying which propo-
sitional symbols Pa are assigned the truth value true, and hence by a
subset F ⊆A satisfying certain conditions corresponding to the axioms.
The ﬁrst axiom says that F is an upper subset of A, the next two that F
is a ﬁlter, and then the fourth that it is a completely prime ﬁlter. (Note:
the standard texts contain various other descriptions of the standard
models, but they are constructively inequivalent.)
2.3
Locales
Let us deﬁne, conceptually, a locale to be a “propositional geometric
theory pretending to be a space”, using the ideas of Sec. 2.1, which took

Locales and toposes as spaces
11
the logical theory as the starting point. That is to say, the locale is the
theory, but repackaged in a spatial language of points and maps instead
of models and Lindenbaum algebra homomorphisms. What makes this
repackaging signiﬁcant is the fact that geometric logic is incomplete –
in general, there are not enough standard models to account for all the
frame homomorphisms (cf. Proposition 1.4). Thus the spatial side (in
terms of standard models) and the logical side (in terms of Lindenbaum
algebras) become mathematically inequivalent. However, the logical side
still contains good topological results; indeed, in constructive mathemat-
ics they are often better than the spatial ones. The localic repackaging
makes it much easier to see this topological content.
The usual deﬁnition is that a locale is a frame.
We prefer to say
it is the propositional geometric theory, and that it has a frame. This
makes it easier to see locales as a special case of toposes, which arise from
predicate geometric theories. In addition, in certain foundational schools
such as predicative type theory, the frames are problematic. They are
constructed using the powerset, and that is impredicative. The main
account in this school is the formulation as “formal topology” (Sambin,
1987).
A formal topology gives a base S (so every frame element is to be a
join of base elements) and the cover relation ⊳, which describes when
one basic open is to be covered by a set of others. This then corresponds
to a propositional geometric theory in which S provides the propositional
symbols, and the cover relation provides axioms to say one symbol en-
tails a disjunction of others. (For these purposes, the notion of map can
be deﬁned in a more primitive way that does not rely on constructing
the frame.) The variant notion of inductively generated formal topology
(Coquand et al., 2003) is even closer to the propositional geometric the-
ory in that it does not require the complete cover relation but just a
part from which the rest can be deduced.
Let us review the ideas of Sec. 2.1 in the light of Sec. 2.2.
Definition 1.10
1 A locale is (presented by) a propositional geo-
metric theory. If the theory is T, we write [T] for the locale. The
locale [T] should be conceptualized as “the space of models of T”.
2 If X is a locale, then ΩX denotes its Lindenbaum algebra, a frame.
3 The opens of X are the elements of ΩX.
4 If X and Y are locales, then a map f : X →Y is a frame ho-
momorphism f ∗: ΩY →ΩX. We write Map(X, Y ) for the set of
maps from X to Y . Locales and maps form a category Loc, dual
to the category Fr of frames.

12
5 If X and Y are locales then Map(X, Y ) is partially ordered by the
specialization order, f ⊑f ′ if f ∗(U) ≤f ′∗(U) for every U ∈ΩY .
6 The (generalized) points of X at stage (of deﬁnition) W are the
maps W →X.
Think of these as points of X “continuously
parametrized by a variable point of W”.
The points of [T] are
just the models of T in ΩW.
7 If X is a locale then the identity map X →X, a point of X at
stage X, is the generic point of X.
8 If f : X →Y is a map, the postcomposition f ◦−transforms points
of X (at any stage) to points of Y (at the same stage). We shall
often write f(x) for f ◦x.
The specialization order is already present (as a preorder) in ordinary
topology: x ⊑x′ if every neighbourhood of x also contains x′ (i.e. x is
in the closure of {x′}). It is often neglected there, because for Hausdorﬀ
spaces (more precisely for T1 spaces) it is discrete: x ⊑x′ iﬀx = x′.
An important fact about the specialization order is that it has directed
joins F↑
i fi. (The arrow is used to indicate that the family is directed.)
Proposition 1.11 Let X and Y be locales. Then Map(X, Y ) has di-
rected joins with respect to ⊑. They are preserved by composition on
either side.
Proof
Let (fi)i∈I be a directed family of elements of Map(X, Y ) –
it is inhabited, and for every i, j ∈I, there is some k ∈I such that
fi ⊑fk and fj ⊑fk. Their join is given by a frame homomorphism
θ : ΩY →ΩX,
θ(U) =
_
i∈I f ∗
i (U).
QED
The directed joins are less familiar from ordinary topology. This is
partly because so many familar spaces have discrete specialization or-
der, but also because in the absence of sobriety (Sec. 2.4) the directed
joins may be missing. However, they are fundamental in computer sci-
ence and provide a means for providing the semantics of recursive algo-
rithms. (See, e.g., Plotkin, 1981, Gierz et al., 1980, Vickers, 1989.) From
the proposition we see one essential feature of maps, namely that they
preserve directed joins of points. (This is known as Scott continuity.)

Locales and toposes as spaces
13
Definition 1.12 (1) The one-point locale 1 is presented by the empty
theory over the empty signature. Ω1 is Ω. (Note – we shall also write
1 for a singleton set. In practice this ambiguity should not cause prob-
lems.) The global points of a locale X are its points at stage 1, i.e. the
maps 1 →X. Thus the global points of [T] are the standard models of
T.
(2) The empty locale ∅is presented by the inconsistent theory {⊤→
⊥} over the empty signature. Ω∅is a one-element frame.
It has no
points except at stage ∅.
(3) The Sierpi´nski locale S is presented by the empty theory over a
one-element signature {P}. Its points are equivalent to subsets of the
set 1. We usually write ⊤for the subset 1 itself (an open point), and ⊥
for the empty subset (a closed point). Note that ⊥⊑⊤. The opens of
any locale X are equivalent to the maps X →S.
Remark 1.13 Suppose U : Y →S corresponds to U′ ∈ΩY , i.e. U′ =
U∗(P). If f : X →Y is a map, then
f ∗(U′) = f ∗(U∗(P)) = (U ◦f)∗(P),
and hence corresponds to U ◦f. Hence we can talk about opens and
inverse image functions purely in the language of maps.
2.4
Locales compared with spaces
Now we have this language of points, opens and maps, all deriving
from the single notion of geometric theory, we shall compare it with
ordinary topology.
Given a locale X, let us write pt(X) for its set of global points, maps
x : 1 →X. If U : X →S is an open, then the composite U ◦x is a
global point of S, and hence a subset of 1. We write x ⊨U iﬀU ◦x = ⊤
(i.e. x∗(U) = 1), and ext(U) (the extent of U) for {x ∈pt(X) | x ⊨U}.
Because x∗: ΩX →Ωis a frame homomorphism, we ﬁnd that the sets
ext(U) form a topology on pt(X).
Now let f : X →Y be a map of locales, giving a point transformer
pt(f) : pt(X) →pt(Y ). If V is an open of Y , then
x ∈pt(f)−1(ext(V )) ⇔f ◦x ⊨V
⇔V ◦f ◦x = ⊤
⇔x ⊨ext(f ∗(V )).
It follows that pt(f)−1(ext(V )) = ext(f ∗(V )), and so pt(f) is continuous.
For each locale X, its global points form a topological space pt(X).

14
For each map of locales, the corresponding transformation pt(f)
of global points is continuous.
This looks promising, but there is not an exact match between lo-
cales and topological spaces, and we need to understand that.
The
central connection, a categorical adjunction, is summarized in the fol-
lowing result.
For an element x of a topological space X, we write
Nx = {U ∈ΩX | x ∈U} for the set of open neighbourhoods of x. This
is a completely prime ﬁlter in ΩX .
Proposition 1.14 Let X be a topological space and Y a locale. Then
there is a bijection between
1 maps (continuous, as always) f : X →pt(Y ), and
2 maps g : [ThΩX] →Y (homomorphisms g∗: ΩY →ΩX).
Proof
Consider the following condition on pairs (f, φ) where f : X →
pt(Y ) and φ : ΩY →ΩX are arbitrary functions:
(∀x ∈X, ∀V ∈ΩY ) (f(x) ∈ext(V ) ↔x ∈φ(V )).
This is equivalent to
(∀V ∈ΩY ) φ(V ) = f −1(ext(V ))
and, considering the points of pt(Y ) as completely prime ﬁlters of ΩX
and remembering that f(x) ∈ext(V ) iﬀV ∈f(x), to
(∀x ∈X) f(x) = φ−1(Nx).
It follows that φ is determined by f, and f is determined by φ.
Under these conditions, it follows that f is continuous and φ is a frame
homomorphism. Conversely, if f is continuous then inverse image f −1
gives a corresponding φ; and given a frame homomorphism φ, we ﬁnd
that each φ−1(Nx) is a completely prime ﬁlter.
QED
The ﬁrst mismatch between spaces and locales is that not every space
comes from a locale.
Let (X, ΩX) be a topological space, with ΩX the topology – the
family of open sets. Consider the locale [ThΩX], whose global points
are the completely prime ﬁlters of ΩX.
For every point x ∈X, its
open neighbourhood ﬁlter Nx is a completely prime ﬁlter. However, two
points x and y might have the same open neighbourhood ﬁlter – every
open containing x also contains y, and vice versa. A space is called T0
if this never happens, i.e. if Nx = Ny then x = y.

Locales and toposes as spaces
15
In addition, there may be a completely prime ﬁlter that is not Nx for
any point x.
Example 1.15 Consider the set N of natural numbers with a topology
in which the opens are the upper sets. The completely prime ﬁlter of
non-empty upper sets is not the open neighbourhood ﬁlter of any point.
A space is sober if the correspondence x 7→Nx is a bijection between
points and completely prime ﬁlters. For sober spaces, we might just as
well consider them as locales – we lose nothing by using the geometric
theories to study sober topological spaces.
Proposition 1.16 Let X and Y be sober spaces. Then there is a bi-
jection between maps f : X →Y , and maps g : [ThΩX] →[ThΩY ]
(homomorphisms g∗: ΩY →ΩX).
Proof
Apply Proposition 1.14 with [ThΩY ] substituted for the locale
Y .
Sobriety assures us that the sober space Y is homeomorphic to
pt([ThΩY ]).
QED
Any “point-free” approach, constructing the points out of the logic, is
inevitably sober. Many well-behaved spaces, for instance all Hausdorﬀ
spaces, are sober, and any space can be “soberiﬁed” by replacing it by
the space of completely prime ﬁlters.
The second mismatch between spaces and locales is that not every
locale comes from a space. This arises out of an important logical fact,
that geometric logic is not complete.
Stone’s Theorem showed how each Boolean algebra is isomorphic to
a sub-Boolean-algebra of a powerset. In logical terms, there are always
enough standard models to distinguish between inequivalent sentences.
This is a consequence of completeness.
By contrast, locales do not always have enough global points to dis-
criminate between the opens. For each locale X, the extent homomor-
phism ext : ΩX →P pt(X) deﬁnes a topology on pt(X). The locale X
is spatial if ext is 1-1, but not all locales are spatial.
For example, let R be the real line with its usual topology. Let T be
ThΩR extended by extra axioms ¬¬U →U for every U ∈ΩR. (¬¬ is
the Heyting double negation in ΩR. Concretely, ¬¬U is the interior of
the closure of U.) pt[T] is a subspace of R, comprising those reals x
such that for every U, if x ∈¬¬U then x ∈U. There are no such x,
for consider U = (−∞, x) ∪(x, ∞), which has ¬¬U = R. But ¬¬ is a
nucleus (see e.g. Johnstone, 1982), and an immediate consequence of
the general theory is that the opens of [T] are equivalent to the regular

16
opens of R, i.e. those U for which ¬¬U = U. Hence [T] is a non-trivial
locale with no global points, hence non-spatial.
Logically, spatiality is the same as completeness, but there is a dif-
ference of emphasis. Completeness refers to the ability of the logical
reasoning (from rules and axioms) to generate all the equivalences that
are valid for the models: if not, then it is the logic that is considered
incomplete. Spatiality refers to the existence of enough models to dis-
criminate between logically inequivalent formulae: if not, then the class
of models is incomplete.
In classical mathematics, most important locales are spatial; but this
can rely on the axiom of choice to ﬁnd suﬃcient points. In constructive
mathematics many important locales (such as the real line) behave bet-
ter in non-spatial form, and if we spatialize by topologizing the global
points, then important theorems (such as the Heine-Borel Theorem) be-
come false. This has led to a common misconception that constructive
topology is deﬁcient in theorems.
This is actually not true, and the
purpose of this chapter is to show how topology and constructive rea-
soning are intimately related. However, an important step is to forego
any dependence on spatiality, on relying on a space being carried by an
untopologized set of points.
Happily, constructive reasoning itself contains the key to dealing with
non-spatiality. Spatiality is an issue when we try to deal with a locale
in terms of its global points, of which there might not be enough. But
there are enough generalized points. For example, a map of locales is
deﬁned by its action on the generic point. The generalized points live
in non-Boolean lattices (or, as we shall shortly see, in the non-classical
mathematics of sheaves), and it is convenient to deal with them using
constructive mathematics as a tool.
2.5
Example: the localic reals
As an adaptation of the localic reals in Johnstone, 1982, we present a
propositional geometric theory TR with propositional symbols Pq,r (q, r ∈
Q, the rationals) and axioms –
Pq,r ∧Pq′,r′ ↔
_
{Ps,t | max(q, q′) < s < t < min(r, r′)}
⊤→
_
{Pq−ε,q+ε | q ∈Q} if 0 < ε ∈Q

Locales and toposes as spaces
17
Proposition 1.17 In the theory TR, we can derive the following.
Pq,r ⊢⊣
_
{Ps,t | q < s < t < r}
Pq,r ∧Pq′,r′ ⊢⊣Pmax(q,q′),min(r,r′)
Pq,r ⊢⊥
if r ≤q
Pq′,r′ ⊢Pq,r
if q ≤q′ and r′ ≤r
Pq,t ⊢Pq,r ∨Ps,t
if q < s < r < t
Proof
These are all straightforward except the last. If q < s < r < t
then let ε = (r −s)/2. We have
Pq,t ⊢
_
{Pu−ε,u+ε | u ∈Q} ∧Pq,t
⊢⊣
_
{Pmax(u−ε,q),min(u+ε,t) | u ∈Q}.
Now for any u ∈Q, we cannot have both u + ε > r and u −ε < s,
for then r −ε < u < s + ε, so r −s < 2ε, contradiction. Hence either
u + ε ≤r, in which case Pmax(u−ε,q),min(u+ε,t) ⊢Pq,r, or u −ε ≥s, in
which case Pmax(u−ε,q),min(u+ε,t) ⊢Ps,t.
QED
In Sec. 4.7 we shall see how the models of this are equivalent to
Dedekind sections of the rationals.
We have a model of the theory in ΩR, interpreting Pq,r as the open
interval (q, r) = {x ∈R | q < x < r}, and hence a frame homomorphism
α : Ω[TR] →ΩR. Clearly it is onto, since the open intervals (q, r) form a
base of opens. It is also 1-1, for suppose φ and ψ are elements of Ω[TR]
(geometric formulae) such that α(φ) ⊆α(ψ). We show that φ ⊢ψ. Any
ﬁnite meet of symbols Pq,r is a join of such symbols, and it follows that
any formula φ is equivalent to a join of such symbols. Hence it suﬃces
to show that if α(Pq,r) ⊆α(ψ) then Pq,r ⊢ψ. From the proposition,
it suﬃces to show that if α(Pq,r) ⊆α(ψ) and q < q′ < r′ < r then
Pq′,r′ ⊢ψ. Let S = {s ∈Q | q′ ≤s ≤r′ and Pq′,s ⊢ψ}. S is non-
empty (because q′ ∈S) and bounded above (by r′), and so it has a
supremum, a real number x. Since q′ ≤x ≤r′ we have x ∈α(Pq,r) and
so x ∈α(ψ). Since ψ too is a join of symbols Pt,u, we can ﬁnd one such
that Pt,u ⊢ψ and x ∈α(Pt,u), i.e. t < x < u. If t ≤q′, then Pq′,u ⊢ψ.
On the other hand, suppose q′ < t. Choose a rational t′ with t < t′ < x.
Then by deﬁnition of x we have Pq′,t′ ⊢ψ. Again, but this time using
the proposition, we get Pq′,u ⊢ψ.
It follows that min(r′, u) ∈S, so
x ≤min(r′, u) ≤x. Since x < u, it follows that x = r′ < u, so Pq′,r′ ⊢ψ.
It follows that the locale [TR] is spatial, with Ω[TR] ∼= ΩR. However,
the proof just given is classical, in particular in its assumption that a

18
non-empty set of rationals, bounded above, has a real-valued supremum.
There are (Fourman and Hyland, 1979) non-classical examples where
[TR] is not spatial. This might be seen as a defect of the locale [TR], but
in fact this non-spatial locale has better constructive behaviour than the
space R. For example, the Heine-Borel Theorem holds for the locale but
not, in general, for the space (Fourman and Grayson, 1982).
3.
Predicate geometric logic
In a sense, the propositional geometric logic is all that is needed for
treating “topologies as Lindenbaum algebras”. However, there are good
reasons for extending these ideas to the case of predicate logic.
The ﬁrst is Grothendieck’s discovery that there are certain situations
that involve topology and continuity, but where topological spaces are
inadequate for expressing them. He invented toposes to cover these sit-
uations, and said, “toposes are generalized topological spaces”.
The
generalization is essentially that from propositional to predicate geo-
metric logic, and the toposes are a categorical version of Lindenbaum
algebra appropriate to this predicate case. Thus it would be more accu-
rate to say that toposes are generalized locales. Again we can view the
topos as a space of models, but in general there are not enough opens to
deﬁne the generalized topological structure, and sheaves must be used
instead. Another point of generalization is that the classes Map(X, Y )
are no longer posets but have category structure – the specialization or-
der is replaced by specialization morphisms. (Specialization morphisms
between points correspond to homomorphisms between models.)
A second reason for studying the predicate logic is that quite often it
is natural to replace a propositional geometric theory by an equivalent
predicate theory. The reason this is possible in any but the most triv-
ial cases is a remarkable consequence of having inﬁnitary disjunctions.
These allow sorts to characterized uniquely up to isomorphism as, for
example, the natural numbers. This means that there is an intrinsic
type theory in predicate geometric logic, and one can work not so much
in geometric logic as a geometric mathematics, which turns out to have
an intrinsic continuity.
To ﬁx our logical terminology, we say that a many-sorted, ﬁrst-order
signature has a set of sorts, a set of predicate symbols, and a set of func-
tion symbols. Each predicate or function symbol has an arity stipulating
the number and sorts of its arguments, and (for a function) the sort of
its result. A predicate symbol with no arguments is propositional, while
a function with no arguments is a constant. We shall express the arities

Locales and toposes as spaces
19
of predicates and functions thus:
P ⊆A1, ..., An
(for a predicate)
P ⊆1
(for a proposition)
f : A1, ..., An →B
(for a function)
c : B
(for a constant)
We shall also freely use vector notation, writing e.g.
⃗A instead of
A1, ..., An.
In many situations, as here, this is to be understood as
representing a product.
Definition 1.18 Let Σ be a many-sorted, ﬁrst-order signature.
If ⃗x is a (ﬁnite) vector of distinct variables, each with a given sort,
then a geometric formula over Σ in context ⃗x is a formula built up using
term formation from the variables ⃗x and the function symbols of Σ, and
formula formation from the terms and the predicate symbols from Σ using
=, ∧, ⊤, W (possibly inﬁnitary) and ∃. Note that, even with inﬁnitary
disjunctions, a formula is allowed only ﬁnitely many free variables, since
they all have to be taken from the ﬁnite context ⃗x. Not all the variables
in the context have to be used in the formula.
A geometric theory over Σ is a set of axioms of the form
(∀⃗x) (φ →ψ)
where φ and ψ are geometric formulae over Σ in context ⃗x. (We shall
also commonly write such axioms in sequent form φ ⊢⃗x ψ.)
A geometric theory is coherent if all disjunction used in it are ﬁnitary.
(Note that Mac Lane and Moerdijk, 1992, X.3 uses the word “geometric”
to mean “coherent”.)
When we need to make explicit reference to the context of a term or
formula, we shall use notation such as (⃗x.t) or (⃗x.φ).
Definition 1.19 Let T1 and T2 be two geometric theories. A theory
morphism F from T1 to T2 comprises the following data.
1 To each sort A of T1, there is assigned a sort F(A) of T2. After
this, each arity α for T1 can be translated to an arity F(α) for T2.
2 To each function symbol f of T1, with arity α, there is assigned
a function symbol F(f) of T2, with arity F(α). After this, each
term in context (⃗x.t) for T1 can be translated to a term in context
(⃗x.F(t)) for T2.
3 Similarly, to each predicate symbol P of T1, with arity α, there is
assigned a predicate symbol F(P) of T2, with arity F(α). After

20
this, each formula in context (⃗x.φ) for T1 can be translated to a
formula in context (⃗x.F(φ)) for T2.
4 To each axiom (∀⃗x) (φ →ψ) of T1, there is an axiom (∀⃗x) (F(φ) →
F(ψ)) of T2.
Note – theory morphisms are presentation-dependent, and do not pro-
vide the general notion of map.
3.1
Logical rules
For the logical rules of predicate geometric logic we again follow the
account in Johnstone, 2002b, D1.3.1. They are expressed using sequents
of the form φ ⊢⃗x ψ where φ and ψ are formulae in context ⃗x.
Labelling the turnstile with the context allows us to give a clean treat-
ment of empty carriers, following Mostowski (see Lambek and Scott,
1986). This is exempliﬁed by the following non-geometric deduction:
(∀x) φ(x)
φ(a)
(∃x) φ(x).
This purports to prove a sequent (∀x) φ(x) ⊢(∃x) φ(x), but that is
invalid with an empty carrier. The true conclusion is that we can make
the inference in the context a, which we write (∀x) φ(x) ⊢a (∃x) φ(x).
This is valid provided a is interpreted. But from that we can not infer
(∀x) φ(x) ⊢(∃x) φ(x). (Some such device is necessary in constructive
logic, where excluding empty carriers would be a serious problem. But it
ought also to be better known in classical logic. See also Example 1.27.)
The rules of predicate geometric logic are those of the propositional
logic (with the context labels added) together with the following: sub-
stitution is
φ ⊢⃗x ψ
φ(⃗s/⃗x) ⊢⃗y ψ(⃗s/⃗x)
where ⃗s is a vector of terms in context ⃗y, with sorts matching those of
⃗x; the equality rules
⊤⊢x x = x,
(⃗x = ⃗y) ∧φ ⊢⃗z φ(⃗y/⃗x)
(⃗z has to include all the variables in ⃗x and ⃗y, as well as those free in φ);
the existential rules
φ ⊢⃗x,y ψ
(∃y)φ ⊢⃗x ψ ,
(∃y)φ ⊢⃗x ψ
φ ⊢⃗x,y ψ ;

Locales and toposes as spaces
21
Syntax
Interpretation
sort A
carrier set {M|A}
sort tuple ⃗A = (A1, . . . An)
{M| ⃗A} = Qn
i=1{M|Ai}
predicate P ⊆⃗A
subset {M|P} ⊆{M| ⃗A}
proposition P ⊆1
subset {M|P} ⊆1
function f : ⃗A →B
function {M|f} : {M| ⃗A} →{M|B}
constant c : B
element {M|c} ∈{M|B}
fomula in context (⃗x.φ)
subset {M|⃗x.φ} ⊆{M|σ(⃗x)}
term in context (⃗x.t)
function {M|⃗x.t} : {M|σ(⃗x)} →{M|σ(t)}
Table 1.1.
Interpretations of syntactic elements
and the Frobenius rule
φ ∧(∃y)ψ ⊢⃗x (∃y)(φ ∧ψ).
Note that the substitution rule justiﬁes context weakening
φ ⊢⃗x ψ
φ ⊢⃗x,y ψ.
In other words, a deduction in one context will still be valid if we add
extra variables, though not if we remove unused variables (which is what
was done in the example of (∀x) φ(x) ⊢(∃x) φ(x)).
3.2
Models
The notion of standard model (in sets) is as expected, except that we
allow empty carriers. The logical rules, with the context attached to
the turnstile, are designed to be sound for empty carriers. We shall also
introduce a novel notation that is useful when dealing with more than
one interpretation at the same time.
The interpretation of diﬀerent syntactic elements is deﬁned in Ta-
ble 1.1. The notation σ(t) denotes the sort of a term t, and similarly
for a tuple of terms. Once the signature ingredients are interpreted (ar-
bitrarily), the interpretation of terms and formulae in context follows
structurally in an evident way, so that {M|⃗x.φ} is the set of value tuples
(in {M| ⃗A}) for which φ holds, and {M|⃗x.t} yields a result in {M|σ(t)}
for any value tuple substituted for ⃗x.
If T is a geometric theory over Σ, then we say that an interpretation
M of Σ is a model of T if, for every axiom φ ⊢⃗x ψ in T, we have
{M|⃗x.φ} ⊆{M|⃗x.ψ}.
We also deﬁne a notion of homomorphism.

22
Definition 1.20 Let Σ be a signature and let M, N be two interpre-
tations of Σ. Then a homomorphism h : M →N comprises a func-
tion {h|A} : {M|A} →{N|A} for each sort A, subject to the following
conditions. We shall write {h| ⃗A} for the product function Q
i{h|Ai} :
{M| ⃗A} →{N| ⃗A}. For each predicate P ⊆⃗A in Σ and for each function
f : ⃗A →B we require
{M|P} ⊆{h| ⃗A}−1({N|P})
{h|B} ◦{M|f} = {N|f} ◦{h| ⃗A}.
Informally, we may say for any suitable value tuples ⃗a in M, that if P(⃗a)
holds in M, then P(h(⃗a)) holds in N; and that f(h(⃗a)) = h(f(⃗a)).
The two conditions, for predicates and functions, are not independent.
If the function f is instead described by its graph, then the predicate
condition for the graph is equivalent to the function condition for f.
Obviously homomorphisms can be composed, and there are identity
homomorphisms, and so for any theory T we have a category Mod(T)
of models of T.
Proposition 1.21 Let Σ be a signature, let M, N be two interpretations
of Σ, and let h : M →N be a homomorphism.
1 Let (⃗x.t) be a term in context. Then
{N|⃗x.t} ◦{h|σ(⃗x)} = {h|σ(t)} ◦{M|⃗x.t}.
2 If (⃗x.φ) is any geometric formula in context, then {h|σ(⃗x)} restricts
to a function
{h|⃗x.φ} : {M|⃗x.φ} →{N|⃗x.φ}.
Proof
Induction on the formation of terms and formulae.
QED
The result relies fundamentally on the positivity of the logic.
For
a logic with negation, the homomorphism condition that we gave for
predicates is not liftable through negation. For this reason in classical
logic one may see a diﬀerent notion of homomorphism.
Remark 1.22 Categorically, Deﬁnition 1.20 amounts to saying that for
sorts B, sort tuples ⃗A and predicates P ⊆⃗A, we have functors |B}, | ⃗A}
and |P} : Mod(T) →Set with natural transformations |P} →| ⃗A}; and
for functions f : ⃗A →B there are natural transformations |f} : | ⃗A} →

Locales and toposes as spaces
23
|B}.
The Proposition says this extends to formulae and terms, with
natural transformations |⃗x.φ} →|σ(⃗x)} and |⃗x.t} : |σ(⃗x)} →|σ(t)}.
If F : T1 →T2 is a theory morphism, then for every model M of T2
there is a corresponding model F ∗M of T1, deﬁned by
{F ∗M|−} = {M|F(−)}.
This is called the F-reduct of M. F ∗gives a functor from Mod(T2) to
Mod(T1) (note the reversed direction!).
3.3
Cartesian theories
These provide some important examples of geometric theories. They
also provide the setting for some key constructions of universal algebra
(including initial and free algebras) that turn out to be “geometric” in
nature (Sec. 3.4).
The best known and simplest amongst the cartesian theories are the
ﬁnitary algebraic theories, where “ﬁnitary” refers to the requirement
that all operators should have ﬁnite arity. Note that, unlike Johnstone,
2002b, Deﬁnition D1.1.7(a), we allow them to be many-sorted.
Definition 1.23 A ﬁnitary algebraic theory is a geometric theory pre-
sented with no predicate symbols, and with axioms all of the form
(∀⃗x) (⊤→s = t)
where s and t are two terms in context ⃗x. (In other words, the axioms
are equational laws.)
Cartesian theories generalize these, essentially by allowing operators
to be partial.
In that generality they are slightly diﬃcult to formal-
ize and have appeared in various guises. The deﬁnition here (following
Johnstone, 2002b, D1.3.4) is due to Coste. Equivalent are the essen-
tially algebraic theories of Freyd, the left exact theories and sketches
(see Barr and Wells, 1984) and the quasi-equational theories of Palm-
gren and Vickers, 2005.
As the references make clear, cartesian theories are intimately asso-
ciated with cartesian categories, i.e.
categories with all ﬁnite limits.
A functor between them that preserves all ﬁnite limits is a cartesian
functor.
Most of the examples of cartesian theories in this chapter are in fact
ﬁnitary algebraic, so readers may safely omit the following deﬁnition and
example if they wish.

24
Definition 1.24 (See Johnstone, 2002b, D1.3.4.) Let Σ be a many-
sorted, ﬁrst-order signature, and let T be a coherent theory over it.
The formulae in context that are cartesian relative to T are as follows:
atomic formulae, ⊤, equations and conjunctions of cartesian formulae;
and (⃗x.(∃y)φ) provided (⃗x, y.φ) is cartesian, and the following sequent is
derivable from T:
φ ∧φ(y′/y) ⊢⃗xyy′ y = y′
The theory T is cartesian if there is a well-founded partial order on its
axioms, such that for every axiom (∀⃗x)(φ →ψ), the formulae in context
(⃗x.φ) and (⃗x.ψ) are cartesian with respect to the previous axioms in T.
The essential point of this deﬁnition is that existential quantiﬁcation
can be used only when it is provably unique. This allows a mechanism
for dealing with partial operations, by replacing them by their graphs.
For example, the theory of categories is cartesian but not algebraic.
Composition is partial, with f ◦g deﬁned iﬀthe domain of f is equal to
the codomain of g.
As is well-known, every algebraic theory T has an initial model – that
is to say, the category Mod(T) has an initial object.
A consequence
of this is that reduct functors have left adjoints.
This generalizes to
cartesian theories.
Theorem 1.25 (Initial Model Theorem) Let T be a cartesian the-
ory. Then T has an initial model, in other words a model M0 such that
for every other model M there is a unique homomorphism M0 →M.
Proof
In the case where T is an algebraic theory, the initial model is
got by taking all terms, and then factoring out a congruence generated
from the equational laws. (The construction of Lindenbaum algebras, as
propositions modulo provable equality, is a particular instance of this.)
Palmgren and Vickers, 2005 show how a similar proof can cover cartesian
theories, by working in a logic of partial terms. The construction ﬁrst
takes all partial terms, and then factors out a partial congruence (not
necessarily reﬂexive) of provable equality, in which self-equality of a term
is equivalent to its being deﬁned.
More traditional proofs rely on ﬁrst forming a a syntactic category,
a cartesian category CT such that models of T are equivalent to carte-
sian functors from CT to Set (Johnstone, 2002b, Theorem D1.4.7), and
then appealing to Kennison’s Theorem (Barr and Wells, 1984, Theorem
4.2.1).
QED
Theorem 1.26 (Free Model Theorem) Let T1 and T2 be cartesian
theories, and let F : T1 →T2 be a theory morphism. Then the reduct
functor F ∗: Mod(T2) →Mod(T1) has a left adjoint FreeF .

Locales and toposes as spaces
25
Proof
Just to sketch the proof, let M be a model of T1. We can deﬁne
a new cartesian theory T whose models are pairs (N, f), where N is
a model of T2 and f : M →F ∗(N) is a homomorphism.
T is got
by augmenting T2 with constant symbols for the elements of M, and
equations to say that the interpretation of those constants respects the
structure of T1. Then an initial model of T can be taken for FreeF (M).
QED
The best known examples are where T1 and T2 are both single-sorted
algebraic, with T1 the theory with (one sort and) no operators or laws.
Its models are sets. There is a unique theory morphism F : T1 →T2,
and F ∗picks out the carrier but forgets all the algebraic structure. Then
FreeF constructs the free T2-model on a set.
Note that this theorem, and the initial model theorem on which it de-
pends, in general rely critically on the fact that we allow empty carriers.
Example 1.27 Consider the algebraic theory with two sorts A and B,
two constants s and t of sort B, a unary operator f : A →B and axioms
(∀x : A) (⊤→s = f(x))
(∀x : A) (⊤→t = f(x)).
Its initial model M0 has {M0|A} = ∅, {M0|B} = {s, t}.
Examples like this are sometimes used in equational reasoning to sug-
gest that “equality is not transitive if empty carriers are allowed”. This
is because the equational laws can be presented as s = f(x) and t = f(x),
but in M0 we cannot deduce s = t. In our treatment we see that the
equalities are in context, and in eﬀect, “equality in context x” is tran-
sitive. We can deduce ⊤⊢x s = t, which implies s = t provided we can
interpret the variable x in A.
3.4
Geometric types
We have presented geometric theories using simple sorts that are de-
clared in the signature and thereafter cannot be manipulated in any
way. However, it would be an obvious convenience if we could perform
mathematical constructions on those sorts to derive new ones. Following
Johnstone, 2002b, D4.1 we shall use the word type for these generalized
sorts, and reserve the word sort for what was declared in the signature.
An important feature of geometric logic is that its inﬁnitary disjunc-
tions allow us to characterize some type constructors uniquely up to
isomorphism by using geometric structure and axioms.
A fundamental example is the natural numbers. Consider the geo-
metric theory with a single sort N, constant 0, unary operator s and

26
axioms
(∀x : N) (s(x) = 0 −→⊥)
(∀x, y : N) (s(x) = s(y) −→x = y)
(∀x : N)
_
n∈N x = sn(0).
Here, sn(0) stands for the term s(...(s(0))...) with n occurrences of s.
The notation sn is not a formal part of the logic, but a metasyntax used
to describe the set of formulae over which the disjunction is taken. In
any model, N can and must be interpreted as a set that is isomorphic to
the natural numbers, by a unique isomorphism under which the constant
0 corresponds to the natural number 0, and the function s corresponds
to the successor operation n 7−→n + 1. Hence, modulo isomorphism,
this theory is just a variant of the trivial theory with empty signature
and no axioms.
In fact, just within the logic we can prove that N has a universal
property that characterizes the natural numbers: it is an initial model
for the single-sorted algebraic theory of induction algebras, which has
constant ε, unary operator t and no axioms.
Theorem 1.28 Let a geometric theory have N, 0, s as axiomatized above.
Then in any model N is interpreted as an initial induction algebra.
Proof
Let (A, ε, t) be an induction algebra A. Of course N is itself
an induction algebra under 0 and s; we must show there is a unique
induction algebra homomorphism from N to A. For uniqueness, suppose
f : N →A is a homomorphism. We show that (in sequent form)
y = f(x) ⊢⊣xy
_
n∈N
(x = sn(0) ∧y = tn(ε)).
For ⊣, we have ⊤⊢f(sn(0)) = tn(ε) by induction on n. For ⊢, combine
this with
⊤⊢x
_
n∈N
(x = sn(0)).
For existence of f, we show that the formula in context
(xy. Γ) ≡
_
n∈N
(x = sn(0) ∧y = tn(ε))

Locales and toposes as spaces
27
is the graph of an induction algebra homomorphism, that is to say
Γ ∧Γ(y′/y) ⊢xyy′ y = y′
⊤⊢x (∃y)Γ
⊤⊢Γ(0, ε/x, y)
Γ ⊢xy Γ(s(x), t(y)/x, y).
The ﬁrst two of these state that the relation Γ is single-valued and total,
and hence the graph of a function, and the remaining two state that the
function preserves the induction algebra operations.
These are all easy except perhaps for the ﬁrst. For that, we want
x = sn(0) ∧y = tn(ε) ∧x = sn′(0) ∧y′ = tn′(ε) ⊢xyy′ y = y′.
If n = n′ that is obvious, while for n ̸= n′ we can prove sn(0)∧sn′(0) ⊢⊥.
QED
Let us stress the fact that the proof was within the formality of geo-
metric logic. Thus it will be valid not only for the standard semantics
in sets, but also for other semantics such as (as we shall see) in sheaves.
As is well known, there can be no such characterization of the natural
numbers in ﬁnitary logic. Our ability to do it in geometric logic derives
from the power of the inﬁnitary disjunctions, and this extends to other
“geometric” type constructs.
One might respond to this power by regarding explicit geometric type
constructions as unnecessary, since they can be reduced to ﬁrst order
logic.
By contrast we shall instead feel justiﬁed in using an explicit
geometric type theory, since it does not transcend the scope of geometric
logic.
In the present state of our knowledge we do not have a formal type
theory along these lines. Instead, we shall use them informally, using the
geometric type constructs wherever sorts can occur, and also introduc-
ing any functions and predicates that are associated with those types.
In Remark 1.34 we shall see a semantic characterization of which type
constructs are geometric.
By geometric type theory we shall understand a geometric theory in
which geometric type constructs are used in this way. They have the
same expressive power as geometric theories. An interpretation must
interpret those types and the associated predicates and functions in the
intended way.
A coherent type theory is a geometric type theory in which all disjunc-
tions are ﬁnite. These are stronger in expressive power than coherent
theories, since the type constructs may implicitly use inﬁnitary disjunc-
tions for their justiﬁcation.

28
We follow with some examples of geometric type constructors.
The ﬁrst example, and one of the simplest, is the cartesian product.
(In fact all ﬁnite categorical limits are geometric.)
Other examples arise out of the following general principle. Suppose
F : T1 →T2 is a theory morphism between cartesian theories. Then the
free model construction FreeF is geometric. Note that this will usually
construct not only types, but also functions. In the following example,
the principle can be applied with both theories algebraic (possibly many
sorted) – exercise! But in each case it is also possible to specify the type
geometrically and give a geometric proof of its universal property.
Example 1.29
1 The natural numbers N.
2 The list type A∗over a type A. In Set its elements are ﬁnite lists
of elements of A. A∗is the free monoid (having associative binary
operation with a 2-sided identity element) over A; see Johnstone,
2002a, A2.5.15 for another treatment.
3 Coproducts (in Set, disjoint unions).
4 Coequalizers (or, more particularly, quotients of equivalence rela-
tions).
One very important type constructor is the ﬁnite powerset F. This
is discussed extensively in Johnstone, 2002b, D5.4 under the notation
of K. (Constructively, the particular notion of ﬁniteness being used is
Kuratowski ﬁniteness. The Kuratowski ﬁnite subsets of a set S are the
elements of the ∪-subsemilattice of PS generated by the singletons. S
is Kuratowski ﬁnite if it is a Kuratowski ﬁnite subset of itself.) It is a
geometric construction because FA is the free semilattice over A. (A
semilattice is a monoid (A, 0, ∨) in which ∨is commutative (x∨y = y∨x)
and idempotent (x∨x = x).) Johnstone, 2002b, D5.4 gives an alternative
description analogous to that of list objects; see also Vickers, 1999.
A particularly important feature of the ﬁnite power type is that it
enables us to internalize universal quantiﬁcation, provided it is ﬁnitely
bounded. Suppose (x : A, y : B. φ) is a formula in context. Then so
is (S : FA, y : B. (∀x ∈S) φ). It is interpreted as follows. Consider
{M|xy.φ} as a function from {M|A} to P{M|B}. The codomain of this
is a semilattice under ∩, and so we get a semilattice homomorphism from
F{M|A} to P{M|B}. This transposes to a subset of {M|FA × B}, the
interpretation of (∀x ∈S) φ.

Locales and toposes as spaces
29
3.5
Dedekind sections
Each real number x is characterized by its Dedekind section, two sets
of rationals:
L = {q ∈Q | q < x},
R = {r ∈Q | x < r}.
(Variants of this are possible, with ≤instead of <. But they do not
yield a geometric theory.) The idea then is to deﬁne the real number x
to be the pair (L, R) of subsets of Q, and (for q, r ∈Q) deﬁne q < x if
q ∈L and x < r if r ∈R.
The pairs x = (L, R) that arise in this way are characterized by the
following properties.
1 There is some rational q with q < x.
2 If q < q′ < x then q < x.
3 If q < x then there is some rational q′ with q < q′ < x.
4 There is some rational r with x < r.
5 If x < r′ < r then x < r.
6 If x < r then there is some rational r′ with x < r′ < r.
7 It is impossible to have q < x < q.
8 If q < r then either q < x or x < r.
((8) looks more obvious contrapositively: if r ≤x ≤q then r ≤q.
But we are axiomatizing <, not ≤.)
We can rewrite this, though at some cost in clarity, to a coherent type
theory Ded with two predicates L, R ⊆Q and axioms
(∃q : Q) L(q)
(∀q, q′ : Q) (q < q′ ∧L(q′) −→L(q))
(∀q : Q) (L(q) −→(∃q′ : Q) (q < q′ ∧L(q′)))
(∃r : Q) R(r)
(∀r, r′ : Q) (r′ < r ∧R(r′) −→R(r))
(∀r : Q) (R(r) −→(∃r′ : Q) (r′ < r ∧R(r′)))
(∀q : Q) (L(q) ∧R(q) −→false)
(∀q, r : Q) (q < r −→L(q) ∨R(r))

30
To see that this is indeed a coherent type theory, we must show that Q
is a geometric type construction, and in addition that < (on rationals) is
geometric. The standard construction of Q is in stages. First, the natural
numbers N have already been mentioned as an example of a geometric
type. The arithmetic operations of addition and multiplication can then
be deﬁned in the following way. Addition is the unique operation + :
N × N that satisﬁes
(∀n : N) 0 + n = n
(∀m, n : N) s(m) + n = s(m + n).
Hence if the symbol + is declared and those axioms are added to the
theory, there is no change to the models – the operation + is forced to be
interpreted in the intended way. So its use as a standard mathematical
symbol is shorthand for that declaration with axioms. Similarly, we can
deﬁne all the relations =, ̸=, <, >, ≤and ≥as subsets of N × N. (In this
case, we can even deﬁne them as operations N × N →2 = 1 + 1. This
is because the relations are decidable.) For instance, < is the unique
relation satisfying
(∀n : N) 0 < s(n)
(∀m : N) (m < 0 →⊥)
(∀m, n : N) (s(m) < s(n) →m < n)
(∀m, n : N) (m < n →s(m) < s(n)).
Next, the integers Z are got as a quotient of N × N by an equivalence
relation ∼1, deﬁned by (m, n) ∼1 (m′, n′) iﬀm + n′ = m′ + n. The
pair (m, n) represents the integer m −n. Again, it is possible to deﬁne
arithmetic and inequalities.
Finally, the rationals Q are got as a quotient of Z × {n ∈N | n ̸= 0}
by an equivalence relation ∼2, deﬁned by (p, q) ∼2 (p′, q′) iﬀpq′ = p′q.
(The pair (p, q) represents the rational p/q.) The inequality < is deﬁned
by (p, q) < (p′, q′) if pq′ < p′q.
So we see that Q and much of its accompanying structure are all
geometric and can be used as needed in coherent type theories. This is
emphatically not the case with the reals R. As a set, R is described as a
subset of PQ×PQ, and the powerset constructor P is not amongst the
geometric type constructors. (See Remark 1.34.) That is why we have
to access the reals in a diﬀerent way, by deﬁning a theory whose models
they are.
In Sec. 2.5 we saw the localic reals, given by a propositional geometric
theory. In fact (Sec. 4.7), that geometric theory is equivalent to this one,
despite the fact that one is propositional and the other is predicate with

Locales and toposes as spaces
31
type constructs. In Sec. 4.6 we shall see how Ded retains a propositional
character from the fact that it has no sorts declared. Its types are all
constructed out of nothing.
4.
Categorical logic
For propositional logic, the standard semantics interprets propositions
as truth values. For a more general semantics, we interpreted proposi-
tions as elements of more general lattices – Boolean algebras for classical
logic, frames for geometric logic. Then the Lindenbaum algebra was the
lattice (of the appropriate kind) freely generated by a generic model.
For predicate logic, the standard semantics is in sets.
Categorical
logic generalizes this by interpreting the symbols in a category, of a
kind appropriate to the logic, and then the analogue of the Lindenbaum
algebra is a category. For geometric logic, the appropriate categories
are Grothendieck toposes and the Lindenbaum algebra for a predicate
geometric theory is the classifying topos. Our aim now is to explore how
the technology of Lindenbaum algebras (as used for locales) extends to
this setting.
We start with an introduction to categorical logic, following John-
stone, 2002b. A more elementary introduction can be found in Gold-
blatt, 1979.
4.1
Interpreting logic in a category
We assume that the reader has an elementary knowledge of category
theory, including the basic deﬁnition, limits and colimits, and adjunc-
tions.
We shall normally write composition of morphisms in applicative or-
der, using “◦”. However, on occasion it will be convenient to use dia-
grammatic order instead, with “;”. Thus the composition of morphisms
f
−→
g
−→
will be written usually as g ◦f, but occasionally as f; g.
Suppose Σ is a many-sorted, ﬁrst-order signature. The usual notion
of interpretation of Σ in the category Set of sets, as given in Table 1.1,
can be extended to any category C with ﬁnite products. Sets, functions,
elements and subobjects become objects, morphisms, morphisms with
domain 1 (a terminal object, i.e. nullary product) and subobjects in C.
If A is an object in C, we shall write SubC(A) (or often just Sub(A)) for
the class of subobjects of A. We shall generally assume also that C is well-
powered, i.e. that each SubC(A) is a set. SubC(A) is a meet semilattice,
with greatest lower bounds given by pullbacks of subobjects. If f : A →

32
B is a morphism, then pullback gives a meet semilattice homomorphism
f ∗: SubC(B) →SubC(A), called inverse image. (Exercise: in Set that
is exactly what it is.)
As before, any interpretation of the ingredients of Σ in C can (given
suitable categorical structure in C) be extended recursively to terms and
formulae in context. We shall assume initially that C has at least all
ﬁnite limits, in other words that it is cartesian.
First, we deal with
terms.
Variables: (x.x) is a term in context, interpreted by the identity mor-
phism on {M|σ(x)}.
Substitution: Suppose (⃗x.t) is a term in context, and (⃗w.⃗s) is a vector
of terms in context that is type compatible with ⃗x (i.e. σ(⃗s) = σ(⃗x)).
(Note: we have the same context ⃗w for every component of ⃗s.) Then
(⃗w.t(⃗s/⃗x)) is a term in context. Its interpretation is given by
⟨{M|⃗w.⃗s}⟩; {M|⃗x.t} :
{M|σ(⃗w)} →{M|σ(⃗x)} →{M|σ(t)}
where ⟨{M|⃗w.⃗s}⟩denotes the product tupling ⟨{M|⃗w.s1}, ..., {M|⃗w.sn}⟩
of morphisms.
Substitution also covers context weakening. Suppose (⃗x.t) is a term
in context, and w is a variable not in ⃗x.
Then (⃗x, w. ⃗x) is a vector
of terms in context, and the substitution (⃗x, w. t(⃗x/⃗x)) gives a term
in context (⃗x, w. t). For its semantics, note that ⟨{M|⃗x, w. ⃗x}⟩is the
product projection {M|σ(⃗x)} × {M|σ(w)} →{M|σ(⃗x)}.
Now we deal with formulae. Exercise! Check that these all make sense
in Set.
Substitution: Suppose (⃗x.φ) is a formula in context, and (⃗w.⃗t) is a
vector of terms in context such that σ(⃗t) = σ(⃗x). Then (⃗w.φ(⃗t/⃗x)) is a
formula in context given by an inverse image,
{M|⃗w.φ(⃗t/⃗x)} =

{M|⃗w.⃗t}
∗({M|⃗x.φ}).
Again, this also covers context weakening. If (⃗x.φ) is a formula in context,
and w is a variable not in ⃗x, then (⃗x, w. φ) is also a formula in context
given by substituting ⃗x for ⃗x.
Equality: Let (⃗x.t) and (⃗x.t′) be two terms in context, with σ(t) =
σ(t′). Then (⃗x. t = t′) is a formula in context interpreted by an equalizer
{M|⃗x. t = t′} ֒→{M|σ(⃗x)}
{M|⃗x.t}
−→
−→
{M|⃗x.t′}
{M|σ(t)}.
Conjunction: Let (⃗x.φ) and (⃗x.ψ) be two formulae in context. Then
the conjunction rules imply that (⃗x.φ ∧ψ) must be interpreted by the

Locales and toposes as spaces
33
greatest lower bound of subobjects {M|⃗x.φ} and {M|⃗x.ψ} in {M|σ(⃗x)}.
For ⊤, the nullary conjunction, we have {M|⃗x.⊤} = {M|σ(⃗x)}.
For the remaining geometric connectives, W, ⊥, ∃, we need extra struc-
ture on the category C.
For existential quantiﬁcation, C must have images: the image of f :
A →B, if it exists, is the smallest subobject of B through which f
factors. A consequence of C having images (for all morphisms) is that
there are “direct image” functions ∃f : Sub(A) →Sub(B), left adjoint to
f ∗. (In Set the adjunction appears as f(S) ⊆T iﬀS ⊆f −1(T).) As was
ﬁrst understood by Lawvere, this is exactly the content of the existential
rules. Hence if (⃗x, y. φ) is a formula in context, so is (⃗x. (∃y) φ) and it
is interpreted by
{M|⃗x. (∃y) φ} = ∃π({M|⃗x, y. φ})
where π : {M|σ(⃗x)} × {M|σ(y)} →{M|σ(⃗x)} is the product projection.
For disjunction, the disjunction rules imply that if (⃗x.φi) are formulae
in context, then {M|⃗x. W
i φi} has to be the least upper bound of the
subobjects {M|⃗x.φi} in {M|σ(⃗x)}. Hence our categorical structure must
include those least upper bounds. False is just a nullary disjunction.
{M|⃗x.⊥} must be the least subobject of {M|σ(⃗x)}.
Negation, implication, universal quantiﬁcation:
These connectives
enter geometric logic only at the level of axioms, and we interpret them
in a diﬀerent way. Suppose we have formulae in context (⃗x.φ) and (⃗x.ψ).
Then an interpretation M satisﬁes the axiom (∀⃗x) (φ →ψ), symbolically
M ⊨(∀⃗x) (φ →ψ),
if {M|⃗x.φ} ≤{M|⃗x.ψ}. Negation can also be treated this way, by taking
¬φ as φ →⊥.
As usual, if T is a theory over signature Σ, then M is a model of T if
it satisﬁes every axiom in T.
At this point it is very useful to consider the notion of generalized
element, analogous to generalized points.
Definition 1.30 Let C be a category and A an object in it. A general-
ized element of A is any morphism whose codomain is A. The domain of
the morphism is called the stage of deﬁnition of the generalized element.
A generalized element at stage 1 is a global element.
Consider for instance the above assertion M ⊨(∀⃗x) (φ →ψ). We
might like this to mean that every element of {M|σ(⃗x)} that satisﬁes
φ (i.e. it factors via {M|⃗x.φ}) also satisﬁes ψ. But this is only a weak
assertion if there is a shortage of morphisms from 1 to {M|σ(⃗x)}.

34
Our interpretation of the assertion M ⊨(∀⃗x) (φ →ψ) can now be
explained naturally in terms of generalized elements, for it says that ev-
ery generalized element of φ is also in ψ. To see this one way round,
consider the inclusion {M|⃗x.φ} →{M|σ(⃗x)}. This is a generalized el-
ement (with stage of deﬁnition {M|⃗x.φ}) that satisﬁes φ. In fact it is
the generic element of φ in M. If it is also to satisfy ψ, then we get
{M|⃗x.φ} ≤{M|⃗x.ψ}. Conversely, every generalized element of φ factors
through the generic element, so if this is in ψ so too is every generalized
element of φ.
Normally, when we intend our language to be interpreted in categories
like this then by “element” we shall mean generalized element.
Homomorphisms between interpretations are deﬁned just as in Deﬁni-
tion 1.20, modulo obvious changes – the carrier functions {f|A} become
morphisms, {h| ⃗A}−1 becomes {h| ⃗A}∗, subset inclusion ⊆becomes sub-
object inclusion ≤, etc. Proposition 1.21 still holds, by induction on the
formation of terms and formulae.
Again we have a category ModC(T) of models of T in C, and for
any theory morphism F : T1 →T2, we have an F-reduct functor F ∗:
ModC(T2) →ModC(T1).
4.2
Grothendieck toposes
To interpret geometric logic categorically, we shall use Grothendieck
toposes. These are usually deﬁned as “categories of sheaves over Grothen-
dieck topologies”, but that is in eﬀect referring to a representation the-
orem, Giraud’s Theorem (1.67). This says that a category is equivalent
to such a category of sheaves iﬀit has certain structure and properties.
Since the structure and properties can be related directly to the geo-
metric logic, we shall use it as our deﬁnition. It can be described in
various ways; our presentation here is the ∞-pretopos with separating
set of objects of Johnstone, 2002b, Theorem C2.2.8 (vii) and Johnstone,
2002a, A1.4.
Definition 1.31 A category E is a Grothendieck topos if it has the
following properties.
1 E has all ﬁnite limits.
2 E has images (p. 33) and image factorization is preserved by pull-
back.
3 E is well-powered (i.e. for every object A, the class SubE(A) is a
set).

Locales and toposes as spaces
35
4 For each object A, the poset SubE(A) has arbitrary joins (least
upper bounds), and they are preserved by pullbacks f ∗.
5 Every set-indexed family of objects of E has a disjoint coproduct.
(A coproduct A = P
i Ai is disjoint if all the coproduct injections
Ai →A are monic, and the meet of Ai and Aj in SubE(A) is less
than W{Ak | k = i and k = j}. Hence if i ̸= j then Ai and Aj are
disjoint subobjects of SubE(A).)
6 Every equivalence relation R ⇉A in E is a kernel pair. (Fuller
details can be found in Mac Lane and Moerdijk, 1992, Appendix,
Theorem 1 or Johnstone, 2002a, A1.3.6. If a pair of morphisms
a, b : R →A is such that ⟨a, b⟩: R →A × A is monic, then they
can be thought of as a relation on A. Then the usual notions of
reﬂexive, symmetric and transitive can be translated into categor-
ical terms by the usual logical interpretation. Our condition then
says there is a quotient morphism q : A →B such that (a, b) is the
kernel pair of q, i.e. they complete the pullback square of q pulled
back against itself.)
7 E has a separating set S (not a proper class) of objects (i.e. if
f, g : A →B are such that for every u : C →A with C ∈S we
have f ◦u = g ◦u, then f = g).
Condition (1) says that E is cartesian, and enables us to interpret the
logic of conjunction and equality, as well as substitution.
Adding condition (2) makes E regular (Johnstone, 2002a, A1.3.3) and
enables us to interpret the logic of ∃; preservation under pullback gives
the Frobenius rule. It also enables the technique (e.g. Theorem 1.28) of
deﬁning a morphism by its graph.
Adding conditions (3) and (4) makes E geometric (Johnstone, 2002a,
A1.4.18) and enables us to interpret the logic of arbitrary disjunction;
preservation under pullback gives the frame distributivity rule.
This
structure is already suﬃcient for interpreting all the ﬁrst-order part of
geometric logic.
Adding condition (5) makes E ∞-positive, and then adding (6) makes
it an ∞-pretopos (Johnstone, 2002a, A1.4.19). These enable us to inter-
pret the geometric type theory. In particular, the Initial and Free Model
Theorems 1.25 and 1.26 still work for models of cartesian theories in E.
The proofs can be checked to go through; more explicitly, the proof in
Palmgren and Vickers, 2005 is valid in Heyting pretoposes, and that
includes Grothendieck toposes.

36
Condition (7) is a “smallness” condition. It allows us to deduce – in
Giraud’s Theorem – that although E is large, it can still be generated
from a small structure.
We wish to ﬁnd the appropriate notion of Lindenbaum algebra, in
the form of a Grothendieck topos, for a geometric theory.
This will
be called the classifying topos for the theory.
The central result for
an ordinary Lindenbaum algebra was Proposition 1.3. We shall replace
“Boolean algebra” by “Grothendieck topos”, but we also need to know
the appropriate notion of “homomorphism of Grothendieck topos”.
All the structure needed for geometric logic and type theory (includ-
ing the image factorization and the joins of subobjects) can be con-
structed using ﬁnite limits and arbitrary colimits, and conversely those
are geometric type constructs (characterizable uniquely up to isomor-
phism by geometric structure and axioms). We shall therefore be in-
terested in functors between toposes that preserve colimits and ﬁnite
limits.
A functor preserves colimits if it has a right adjoint, and for
Grothendieck toposes the converse can also be shown (Johnstone, 2002b,
Remark C2.2.10). A geometric morphism is an adjoint pair of functors
between toposes for which the left adjoint (which preserves all colimits)
preserves ﬁnite limits.
At this point we are going to introduce some non-standard notation
arising out of the fundamental split personality of toposes – spatial (gen-
eralized spaces) or logical (generalized universes of sets). The real in-
terest of geometric morphisms is that they are the topos analogue of
continuous map: they are a notion from the spatial side. In fact, we
shall often refer to them as maps. On the other hand the Grothendieck
toposes as we know them up till now, the categories with structure that
was used to interpret logic, are very much the generalized universes of
sets. We shall introduce notation that distinguishes between the two
sides in the same way as we distinguished between locales and frames.
Thus although technically we are dealing with those categories, we shall
use notation that allows them to pretend to be spaces.
If we declare a symbol (e.g. X) to denote a topos, we shall nonetheless
reserve its use for the topos in its spatial aspect. When we want to refer
to it in its logical aspect, in other words the actual category, we shall
write SX. We shall call the objects of SX the sheaves over the topos
rather than the objects of the topos.
The symbol S can be read as
standing for “sheaves”.
We therefore deﬁne –

Locales and toposes as spaces
37
Definition 1.32 Let X and Y be two toposes. A geometric morphism
(or map) f : X →Y is a pair of functors
f ∗: SY →SX
f∗: SX →SY
such that f ∗is left adjoint to f∗and f ∗preserves ﬁnite limits.
f ∗is called the inverse image part, and f∗the direct image part.
We write Map(X, Y ) for the class of geometric morphisms from X to
Y .
Note the directions! The structure preserving functor is f ∗, and this
goes in the reverse direction to the geometric morphism f. As we shall
see later, f ∗is analogous to the inverse image function for a continuous
map between topological spaces. (However, the “direct image part” is
not analogous to the direct image function.)
Proposition 1.33 Let f : X →Y be a geometric morphism. Then f ∗
preserves free model constructions for cartesian theories.
Proof
(See Johnstone, 2002b, D5.3.7 for the case of free algebras over
sets for a single-sorted theory.) Let α : T1 →T2 be a theory morphism
between two cartesian theories. Let A be a T1-algebra in SY , and let h :
A →α∗(T2⟨A⟩) be a free T2-algebra over it. (h is a T1-homomorphism.)
It is required to show that f ∗(h) : f ∗(A) →f ∗(α∗(T2⟨A⟩)) is a free
T2-algebra over f ∗(A).
For models of cartesian theories, any functor that preserves ﬁnite lim-
its will transform models to models. This applies to both f ∗and f∗.
They also both preserve model reduction α∗. Moreover, the adjunction
of f ∗and f∗extends to models: there is a bijection between homomor-
phisms f ∗(A) →B in SX and homomorphisms A →f∗(B) in SY . If
B is a reduct α∗(B′), then we see that T1-homomorphisms f ∗(A) →B
are equivalent to T2-homomorphisms T2⟨A⟩→f∗(B′) and hence to T2-
homomorphisms f ∗(T2⟨A⟩) →B′. Hence f ∗(T2 ⟨A⟩) is the free T2-model
over f ∗(A), as required.
QED
Remark 1.34 We can now state a general semantic characterization of
“geometric type construct”. They are those constructs that can be car-
ried out in any Grothendieck topos, and are preserved by inverse image
functors of geometric morphisms. (Remember that those inverse image
functors are the analogues of homomorphisms between Lindenbaum al-
gebras.) Those we have seen include ﬁnite limits (in set-theoretic terms:

38
products, singletons (as terminal object), ﬁbred products (pullbacks) and
equalizers); arbitrary colimits (disjoint unions, quotients); images; free
model constructions for theory morphisms between cartesian theories
(including the natural numbers, ﬁnite powersets and list objects); and
integers Z and rationals Q, and associated structure including arith-
metic and inequalities.
These are type constructs that can be permitted, informally, in a geo-
metric or coherent type theory.
Our next result is the analogue of the specialization order on maps
between locales (Deﬁnition 1.10).
Theorem 1.35 Let X and Y be toposes. Then –
1 Map(X, Y ) is a category. The morphisms are called specialization
morphisms, or natural transformations. If α is a specialization
morphism from f to g, then we write α : f ⇒g.
2 Composition with maps on either side is functorial.
3 Composition with maps satisﬁes the “interchange law”. Suppose
α : f ⇒g in Map(X, Y ), and β : h ⇒k in Map(Y, Z). Then the
following diagram commutes.
h ◦f
β◦f
→
k ◦f
h ◦α ↓
↓k ◦α
h ◦g
→
β◦g
k ◦g
This allows us to deﬁne a horizontal composition β ◦α : h ◦f ⇒
k ◦g.
Proof
1. Mac Lane and Moerdijk, 1992, Sec. VII.1. A morphism α from
f to g, is deﬁned as a natural transformation from f ∗to g∗. These are
equivalent to natural transformations from g∗to f∗. (Note the reversal
of direction.)
2, 3.
These are obvious and come from horizontal composition of
natural transformations. (Mac Lane, 1971)
QED
An important feature of maps is that we can take ﬁltered colimits.
These are a categorical generalization of the directed joins of locale maps
(Proposition 1.11).
Definition 1.36 Let C be a category. Then C is ﬁltered if it satisﬁes
the following conditions.

Locales and toposes as spaces
39
1 C has an object.
2 If A and B are objects of C, then there is an object C with mor-
phisms f : A →C and g : B →C.
3 If A and B are objects of C, and f, g : A →B, then there is an
object C and morphism h : B →C such that h ◦f = h ◦g.
To put this more concisely, C is ﬁltered iﬀevery ﬁnite diagram in C
has a cocone. A poset is ﬁltered iﬀit is directed.
Composition with maps preserves ﬁltered colimits, and this preserva-
tion of ﬁltered colimits is an important property of maps, analogous to
Scott contnuity.
Theorem 1.37 Let X and Y be Grothendieck toposes. Then –
1 Map(X, Y ) has all ﬁltered colimits.
2 Composition with maps on either side preserves ﬁltered colimits.
Proof
1. Suppose we have a ﬁltered diagram of maps fi. Then colimi fi
is calculated by
(colim
i
fi)∗(B) = colim
i
(f ∗
i (B))
Regardless of ﬁlteredness, this will preserve colimits. The ﬁlteredness
ensures that it preserves ﬁnite limits, because ﬁltered colimits commute
with ﬁnite limits.
2. For precomposition by g : W →X, this follows from the fact that
g∗preserves colimits. For postcomposition by h : Y →Z, it is trivial.
QED
4.3
Elementary toposes
Grothendieck toposes have the structure needed to interpret geometric
logic. Surprisingly, they also turn out to have structure for interpreting
full ﬁrst-order logic and even higher-order logic, though that structure
is not geometric – it is not preserved by inverse image functors. (In this
it is like the Heyting arrow, which exists in frames but is not preserved
by frame homomorphisms.) This led to a generalized notion of topos,
the elementary topos, which embodies the ﬁnitary part of that fuller
structure.
This structure allows ¬, →and ∀as connectives for constructing
formulae, and so allows the coherent axioms to be formulae. It is only

40
with this step that the diﬀerences between classical and constructive
logic become visible. Characteristically classical axioms such as
¬¬φ →φ
(double negation rule)
φ ∨¬φ
(excluded middle)
cannot be stated in coherent form, since they require negation to be used
as a connective.
A minimal deﬁnition uses the notion of powerobject P(A), an object
whose elements at stage B are the subobjects of B × A (so the global
elements are the subobjects of A, like a powerset).
Definition 1.38 An elementary topos is a cartesian category with a
power object P(A) for every object A.
The standard texts (Mac Lane and Moerdijk, 1992, IV.1; Johnstone,
2002a) show how much more structure can be deduced from this. In
particular, an elementary topos is cartesian closed: if A and B are ob-
jects, then there is a further object BA, the exponential, whose elements
at stage C are in bijection with the morphisms from C × A to B. It
also has ﬁnite colimits, and the subobject pullback functions f ∗have
both left adjoints ∃f – as required in Sec. 4.1 to interpret ∃– and right
adjoints ∀f – which are needed for ∀.
The powerobject P(1) is known as the subobject classiﬁer, Ω.
Its
elements at stage A are the subobjects of A. In particular, its global
elements are the subobjects of 1 and can be thought of as truth values.
In Set, Ω∼= 2 where 2 is deﬁned as the coproduct 1 + 1. But, logically,
this implies excluded middle, and does not hold in general.
2 is the
object of decidable truth values.
Note that we obtain type constructors in elementary toposes that are
non-geometric – not preserved by inverse image functors.
Important
examples include Ω, powersets, function sets (exponentials) and the set
of reals.
The existence of the subobject classiﬁer has a big eﬀect on the way the
logic is interpreted. Subobjects of A are now equivalent to their char-
acteristic morphisms A →Ω, and so logical formulae can be interpreted
as terms of type Ω. This is formalized in the Mitchell-B´enabou language
(see Mac Lane and Moerdijk, 1992, VI.5). Moreover, the logical connec-
tives are interpreted as operations on Ω. This account of interpreting
logic in toposes is rather diﬀerent in appearance from the one we have
described, though for coherent logic they are equivalent.
An elementary topos need not have a natural numbers object (charac-
terized as initial induction algebra). However, it is of vital importance
when it is present since then analogues of Theorems 1.25 and 1.26 will

Locales and toposes as spaces
41
hold. Johnstone, 2002b, D5.3.5 covers the case of free algebras over sets
for ﬁnitarily presented single-sorted algebraic theories.
4.4
Classifying toposes
We can now give the deﬁnition of classifying topos, as Lindenbaum
algebra for predicate geometric theory. This is the analogue of Proposi-
tion 1.3, though note that we have replaced homomorphisms by “maps”,
going in the opposite direction.
Suppose T is a geometric type theory, X a Grothendieck topos and
M a model of T in SX. Then for every Grothendieck topos W we have
a functor
(−)∗(M) : Map(W, X) →ModSW(T)
that takes a map f to the model f ∗(M). This is indeed a model, because
f ∗preserves all the geometric structure used to deﬁne modelhood.
Note also that it is a functor – natural transformations between maps
are taken to homomorphisms between models (exercise!).
Definition 1.39 Let T be a geometric type theory. A classifying topos
for T is a Grothendieck topos [T], equipped with a generic model G of T
in S[T], such that for every Grothendieck topos W the functor (−)∗(G)
is an equivalence of categories.
We adapt the deﬁnition from Johnstone, 2002a, B4.2.1(b) with changes
of notation.
Note the eﬀect of having only an equivalence. The correspondence be-
tween models and maps is only up to isomorphism – if M is a model in
SW, then there is some map f : W →[T] such that M ∼= f ∗(G). How-
ever, given maps f and g, there is a bijection between homomorphisms
f ∗(G) →g∗(G) and natural transformations f ⇒g. A consequence of
this is that the classifying topos itself is deﬁned only up to categorical
equivalence.
We now have an alternative reading to the symbol S. If S stands for
“sets”, then S[T] can be read as “the category of sets with a model of
T freely adjoined”. This is in line with some existing notation (John-
stone, 2002a, B4.2.1) and is analogous to notation such as R[X] for a
polynomial ring.
There are some crucial results that cannot be proved without a closer
examination of the structure of classifying toposes. We defer that to
Sec. 5, and meanwhile look at the use of classifying toposes. The crucial
results are –
Every geometric theory has a classifying topos (Theorem 1.65).

42
Every geometric type theory has a classifying topos (Theorem 1.66,
with some restrictions on the generality).
Every Grothendieck topos classiﬁes some geometric theory (Theo-
rem 1.67).
For propositional geometric theories, the maps between the locales
are equivalent to the maps between their classifying toposes (The-
orem 1.71). Hence for these the locale and topos treatments are
equivalent, and locales can be considered a special case of toposes.
Just as for locales, we deﬁne a point of a topos X at stage W to be a
map from W to X. Then maps act as point transformers by postcom-
position.
The empty theory (∅, ∅) with no symbols and no axioms has a unique
model in any category, given by the vacuous interpretation, so ModSW(∅, ∅)
is the category with one object and one (identity) morphism. We write
1 for its classifying topos.
Proposition 1.40 S1 ≃Set.
Proof
Mac Lane and Moerdijk, 1992, Sec. VII.1.
Every set A is a
coproduct of copies of the terminal object (singleton set), which we
shall also write 1. (There should be no confusion between the diﬀerent
1s.) Hence for any Grothendieck topos X an inverse image functor !∗:
Set →SX has to take each set A to a coproduct of an A-indexed family
of copies of 1. Moreover, any such functor preserves ﬁnite limits. (This
is non-trivial, and relies on the properties of Grothendieck topose.) The
category of such functors is equivalent to the category with one object
and one morphism. In other words, there does exist such a functor, and
for any two such functors (with diﬀerent choices of coproducts) there is
a unique natural isomorphism between them. It is easy to show from
the adjunction that if B is an object of SX then !∗(B) is isomorphic to
the set of global elements of B, morphisms 1 →B.
QED
As before, points at stage 1 are called global. The global points of [T]
are equivalent to the models of T in Set.
Let O be the theory with one sort and no functions, predicates or
axioms. Categorically, it is the theory of “objects”, since a model in
SX is just an object of SX, and its classifying topos is called the object
classiﬁer (not to be confused with the subobject classiﬁer Ωthat exists in
any elementary topos). In generalization of the terminology for spaces,
we call the objects of SX the sheaves over X, and they are equivalent to
maps from X to [O]. Since the global points of [O] are sets, our intuition

Locales and toposes as spaces
43
is that [O] is “the space of sets”, and in Sec. 5 we shall see why it is
a reasonable intuition to think of a sheaf over X as a continuous map
from X to a space of sets.
4.5
Maps between classifying toposes
Now that our “Lindenbaum algebras” are Grothendieck toposes, we
can – as we have seen – interpret large amounts of ordinary mathematics
internally in them. This makes them very diﬀerent from the lattices we
used for propositional logics, and this has a profound eﬀect on the way we
can use these logical techniques. It makes it possible to treat classifying
toposes [T] in a very spatial way.
Suppose T1 and T2 are two geometric theories. By deﬁnition of clas-
sifying toposes, a geometric morphism f : [T1] →[T2] is equivalent to a
model M of T2 in S[T1]. Now all the objects and morphisms in S[T1]
are constructed out of the generic model G of T1, and indeed can be
constructed using ﬁnite limits and arbitrary colimits. It follows that M
too has to be constructed out of the generic T1-model. Let us portray
this naively as a model transformation.
1 We declare “Let G be a model of T1.”
2 We construct a model M of T2.
Within the scope of the declaration (1), our logic and mathematics
are to be interpreted in S[T1] with G the generic T1-model. This means
it must be constructively valid. We thus have a temporary change of
mathematics. Back outside the scope of the declaration, returning to our
ambient mathematics, we ﬁnd our model construction gives a geometric
morphism f : [T1] →[T2].
The same technique also works for natural transformations.
If we
deﬁne two models M and M′, and a homomorphism θG : M →M′, then
that gives us two maps f, f ′ : [T1] →[T2] and a natural transformation
θ : f ⇒f ′.
On the face of it, in step (2) we could use any mathematics validly
interpretable in S[T1]. For instance, we might use Ωor function types,
since in fact S[T1] is an elementary topos.
However, there are good
reasons for restricting to geometric constructions.
If we have a point x of [T1] at stage W – that is to say, a model x∗(G)
of T1 in SW, G being the generic model of T1 –, then we can apply f to
it by composition and get a model x∗(M) of T2 in SW, corresponding
to f ◦x. If the construction of M from G (in S[T1]) is geometric, then it
is preserved by x∗, and so the same construction constructs x∗(M) out

44
of x∗(G). Hence the geometric construction works uniformly, not only
for the generic point but for all points.
We therefore see that geometric morphisms between classifying toposes
can be viewed as geometric model transformations.
It is the geometric working that enables us to view a topos spatially as
comprehending all generalized points, because it allows us to transport
our mathematics from one stage of deﬁnition to another along inverse
image functors. Since, as we shall see later, geometric morphisms gen-
eralize continuous maps in topology, another way to view the role of the
geometric constructions is that they have an intrinsic continuity.
This same view of map also provides a good way to think about gen-
eralized points. A point of X at stage Y , in other words a map Y →X
is conveniently thought of as a point of X “parametrized by” a variable
point of Y .
Example 1.41 Reduct maps. Let F : U →T be a theory morphism
between geometric theories (Deﬁnition 1.19). Then every model of T is
trivially a model of U by model reduction. This deﬁnes a reduct map
RedF : [T] →[U].
In fact any geometric morphism can be expressed as a reduct map.
Theorem 1.42 Let f : [T] →[U] be a geometric morphism. Then there
is a geometric theory T ′ equivalent to T and with a theory morphism
F : U →T ′ such that f factors as [T] ≃[T ′]
RedF
−→[U].
Proof
In S[T] we have the generic model G of T and a model M of U
given by f. The result can be proved using the conventional techniques
of Sections 5.3 and 5.4. It appears in detail in Viglas, 2004. However,
here is a more conceptual reason. Each ingredient of M can be con-
structed from the ingredients of G using colimits and ﬁnite limits. T
can be extended with sorts for such colimits or ﬁnite limits, together
with structure and axioms to force then to be those colimits or limits.
The extended theory is equivalent to T, since its models are determined
up to unique isomorphism by their T-reducts. But there is also an ob-
vious theory morphism from U.
QED
From this one can easily deduce results such as the following.
Proposition 1.43 Let fi : Yi →X be a map between Grothendieck
toposes (i = 1, 2). Then there is a pseudo-pullback square
Z
p1
−→
Y1
p2 ↓
∼=
↓f1
Y2
−→
f2
X

Locales and toposes as spaces
45
(A pseudo-pullback is like a pullback except that the square is required to
commute only up to isomorphism.)
Proof
Suppose Yi and X classify theories Ti and U. We can factor each
fi as an equivalence followed by a reduct map for a theory morphism
Fi : U →T ′
i. Hence, we may assume that each fi is already a reduct
map. Now deﬁne P as follows. It has T1 and T2 put together disjointly,
giving a theory morphism from each Ti. This now has two copies of U,
the images of the two theory morphisms. Add function symbols and
axioms to make mutually inverse homomorphisms between those two
copies of U. Then a model of P comprises a model Mi of each Ti, and
an isomorphism between their U-reducts, and this is exactly what is
needed for the pseudo-pullback property for Z = [P].
QED
Hence, the points of Z are equivalent to triples (y1, y2, θ) where each
yi is a point of Yi and θ : f1(y1) ∼= f2(y2) is an isomorphism. When
X = 1, we get a product Y1 × Y2 whose points are pairs of points from
Y1 and Y2.
By similar means we can construct a topos Z′ whose points (y1, y2, θ)
have θ : f1(y1) →f2(y2) a homomorphism. The resulting square
Z′
p′
1
−→
Y1
p′
2 ↓
θ⇐
↓f1
Y2
−→
f2
X
is called a comma square.
It does not commute, but has a natural
transformation from f1 ◦p′
1 to f2 ◦p′
2.
Our next result shows vividly how geometric morphisms between clas-
sifying toposes can appear like functors between model categories – in-
deed, by taking points one extracts the functors. But as a geometric
morphism, it carries extra information that it has continuity properties
– for example, that it preserves ﬁltered colimits. (This fact about geo-
metric morphisms was exploited in Viglas, 2004 for proving that certain
functors preserved ﬁltered colimits.)
Its notion of adjunction between toposes is technically possible be-
cause the natural transformations make the category of toposes and
maps into a 2-category.
An adjunction between X and Y comprises
maps F : X →Y and G : Y →X (the left and right adjoints), and
natural transformations η : IdX ⇒G ◦F and ε : F ◦G ⇒IdY such that
the two composites
(F ◦η); (ε ◦F) : F ⇒F ◦G ◦F ⇒F
(η ◦G); (G ◦ε) : G ⇒G ◦F ◦G ⇒G

46
are both identities (cf. Mac Lane, 1971, IV.1 Theorem 2(v)).
This can all be worked through in terms of geometric transformations.
However, Viglas, 2004 simpliﬁes it greatly. Once the maps F and G have
been deﬁned, it suﬃces to use a geometric argument of the following form
(where x and y are points of X and Y respectively). It is analogous
to a more familiar characterization of adjunction, but the geometricity
guarantees all the functoriality and naturality required.
For each specialization (homomorphism) φ : x ⇒G(y), deﬁne
α(φ) : F(x) ⇒y.
For each ψ : F(x) ⇒y, deﬁne β(ψ) : x ⇒G(y).
Show β(α(φ)) = φ and α(β(ψ)) = ψ.
Theorem 1.44 Let F : T1 →T2 be a morphism between two cartesian
theories.
Then the reduct map RedF : [T2] →[T1] has a left adjoint
FreeF : [T1] →[T2].
Proof
Constructing a free T2-model over a T1-model is geometric, and
so the map FreeF is deﬁned by saying for any T1-model M, FreeF(M)
is the free T2-model over it.
The adjunction arises here because the corresponding adjunction within
any Grothendieck topos is geometric. (This can be proved from Propo-
sition 1.33.)
QED
4.6
Localic toposes
We now have two ways to deal with propositional geometric theories:
as locales or as toposes (which in this case are called localic). Theorem
1.71 will show that locales and localic toposes are equivalent, but for the
moment we look at some of the topos behaviour in its own right.
Definition 1.45 A topos is localic if it classiﬁes a propositional geo-
metric theory.
A geometric type theory is essentially propositional if it has no sorts.
The theory Ded of Dedekind sections (Sec. 3.5) is essentially proposi-
tional.
We conjecture that the next result holds more generally, for instance
when type constructs are applied to propositions (as subsingletons).
However, our restricted proof is at least enough to cover our applica-
tions.

Locales and toposes as spaces
47
Theorem 1.46 Let T be an essentially propositional geometric type the-
ory whose types can all be constructed in the empty theory. Then [T] is
localic.
Proof
If τ is a type in T, it has an interpretation [|τ|]X in any Grothendieck
topos SX. We write [|τ|] for [|τ|]1 (in Set).
We may assume without loss of generality that T is presented without
any function symbols, but only predicates. This is because any function
symbol can be replaced by a predicate for its graph, with axioms for
single-valuedness and totality. We now show how T may be converted
into an equivalent propositional geometric theory T ′.
The propositions of T ′ are as follows. If S ⊆τ1 ×...×τn is a predicate
symbol in T, then for each ⃗a ∈Qn
i=1[|τi|] we introduce a proposition ¯S⃗a.
Now for each formula in context (⃗x.φ) in T, and for each ⃗a ∈Q
i[|σ(xi)|],
we deﬁne a formula ¯φ⃗a in T ′ by induction as follows.
1 (W
jφj)⃗a = W
j(φj)⃗a, and similarly for conjunctions.
2 (xi = xj)⃗a = W{⊤| ai = aj}.
3 ((∃y) φ)⃗a = W{¯φ⃗a,b | b ∈[|σ(y)|]}.
Finally, for each axiom (∀⃗x) (φ −→ψ) of T, we give T ′ axioms ¯φ⃗a −→
¯ψ⃗a (⃗a ∈Q
i[|σ(xi)|]).
Note that, even if T is a coherent type theory (no inﬁnitary disjunc-
tions) and ﬁnitely presented (only ﬁnitely many symbols and axioms),
T ′ is likely to have inﬁnitely many symbols and axioms, and inﬁnitary
disjunctions.
We now show that T and T ′ are equivalent. In Set, [|τ|] ∼= P
a∈[|τ|] 1,
and since this is geometric it also holds in any SX.
It follows that
subobjects of [|τ|]X correspond to [|τ|]-indexed families of subobjects of
1 in SX. Hence structures for T are equivalent to structures for T ′. Now
suppose that M is a structure for T, and M′ the corresponding structure
for T ′. By structural induction on the formula φ, one can then show that
for any formula in context (⃗x.φ), the subobject {M|φ} of Q
i{M|σ(xi)}
corresponds to the family of subobjects {M′|¯φ⃗a} for ⃗a ∈Q
i[|σ(xi)|].
From this one deduces that M is a model for T iﬀM′ is a model for
T ′.
QED
Proposition 1.47 Let X be a localic topos and let x and x′ be points
of it. Then there is at most one homomorphism from x to x′.
Proof
We can take X = [T] where T is propositional. But then with
no sorts, a homomorphism needs to supply no carrier functions. The

48
sole requirement is that if P is a propositional symbol and {x|P} holds
(topologically, x is in the open P), then so does {x′|P}.
QED
Hence if X is localic then Map(Y, X) is a preorder. We write x ⊑x′
if there is a homomorphism from x to x′; this is called the specializa-
tion order on points.
Later we shall prove that this agrees with the
specialization order we have already deﬁned for locales.
Sec. 4.5 showed that maps between toposes can be deﬁned as geo-
metric model transformations, and this still applies to localic toposes.
But Theorem 1.71 will show that those also deﬁne maps between the lo-
cales. If the locales are spatial, Proposition 1.16 shows that we then get
continuous maps between the spaces. Thus geometricity of the model
transformation is enough to guarantee continuity. As a logical approach
to continuity, geometric logic works by starting with ordinary logic and
then removing the structure (e.g. negation) that makes it possible to de-
ﬁne non-continuous function. Compare this with other approaches, such
as topology itself, or the modal logic of interior, that work by adding
structure to support a bureaucracy of continuity proofs.
4.7
Example: the reals
We have now seen two geometric theories that purport to represent the
real line. In Sec. 2.5, TR was a propositional geometric theory described
as the localic reals, while in Sec. 3.5 Ded was a predicate geometric
theory whose models are the Dedekind sections. We now show that they
are equivalent.
By the proof of Theorem 1.46 we see that TR is equivalent to a theory
T ′
R with a single predicate symbol P ⊆Q2, and axioms
P(q, r) ∧P(q′, r′) ⊢⊣qrq′r′ (∃st)(P(s, t) ∧max(q, q′) < s < t < min(r, r′))
0 < ε ⊢ε (∃q)P(q −ε, q + ε)
Given a model of T ′
R, we deﬁne a Dedekind section (L, R) geometri-
cally by
L = {q ∈Q | (∃r)P(q, r)}
R = {r ∈Q | (∃q)P(q, r)}.
It is easy to see that this is a Dedekind section. If q < r, let ε = (r−q)/2
and ﬁnd s such that P(s −ε, s + ε). If q > s −ε and r < s + ε then
q + ε > s > r −ε and r −q < 2ε, a contradiction.
Hence either
q ≤s −ε ∈L or r ≥s + ε ∈R. (Note that the order on Q is decidable,
so we can use this proof by contradiction.) Also, P(q, r) holds iﬀq ∈L
and r ∈R.

Locales and toposes as spaces
49
Conversely, suppose (L, R) is a Dedekind section, and deﬁne P(q, r)
if q ∈L and r ∈R. The ﬁrst axiom for P is clearly satisﬁed. For the
second, take ε > 0 and ﬁnd q0 ∈L and r0 ∈R so that P(q0, r0). Find
n ∈N such that r0 −q0 < 2n+1ε. By induction on n, we show that there
is some u with P(u −ε, u + ε). If n = 0, we can take u = (q0 + r0)/2, for
u −ε < q0 < r0 < u + ε. Now suppose n ≥1. Let si = q0 + i(r0 −q0)/4
(0 ≤i ≤4). Since s1 < s2 < s3, we have (1) either s1 ∈L or s2 ∈R, and
(2) either s2 ∈L or s3 ∈R. Examining the possibilities, we can ﬁnd q1
and r1 from amongst the sis with P(q1, r1) and r1 −q1 = (r0 −q0)/2 <
2nε.
The above geometric constructions give us maps f : [T ′
R] →[ Ded]
and g : [ Ded] →[T ′
R]. Composing them, we see that g ◦f ∼= Id[T ′
R] and
f ◦g ∼= Id[ Ded]. Hence the two theories are equivalent.
We have proved this solely on the hypothesis that the classifying
toposes exist.
We have not had to analyse the structure of the clas-
sifying toposes at all, beyond the knowledge that they are Grothendieck
toposes and have generic models.
Having shown these theories are equivalent, it is possible now to deﬁne
the real line R to be the classifying topos [ Ded], the “space of Dedekind
sections”. This may seem heavy-handed. However, it tells us what the
real numbers are (the points of R, i.e. the models of Ded). It also deﬁnes
the topology. The opens of [ Ded] (i.e. the subobjects of 1 in S[ Ded]
– see Sec. 4.4) are equivalent to those of [TR], and Theorem 1.71 will
show that they are equivalent to elements of the frame Ω[TR] as deﬁned
in Sec. 2.5.
Let us use this deﬁnition of R to deﬁne a map.
Example 1.48 Addition + : R × R →R is deﬁned as follows. If x and
y are points of R, then q < x + y if q = q1 + q2 for some q1 < x and
q2 < y, and x + y < r if r = r1 + r2 for some x < r1 and y < r2.
See how we have deﬁned a map (a geometric morphism) just by deﬁn-
ing a geometric construction on points. Remarkably, this is enough to
guarantee continuity of the corresponding function between spaces.
5.
Sheaves as predicates
We have already deﬁned sheaves as the objects of classifying toposes.
This broadens the normal usage, which deﬁnes sheaves in a more tech-
nical way. In this section we analyse more closely the structure of clas-
sifying toposes and come to the technical deﬁnition. This will enable us
to prove the crucial results announced in Sec. 4.4.

50
Sheaves were deﬁned ﬁrst over topological spaces. Grothendieck sub-
sequently generalized the deﬁnition to sheaves over a site, but as he
stressed, the category of sheaves (the Grothendieck topos) is more im-
portant than the site (which is in eﬀect a particular form of geometric
theory). The reason for this is essentially our “Lindenbaum algebra”
methodology – it is in terms of the topos that we get a good deﬁnition
of map.
In propositional logic each proposition φ corresponds to a map |φ}
from models to truth values. In the geometric context this corresponds
to a map from the locale to S, and in ordinary topology this is an open.
In predicate logic, each formula (⃗x.φ) corresponds to a function |⃗x.φ}
from models to sets.
In a geometric context this is a map from the
classifying topos to the object classiﬁer [O], and in ordinary topology it
is sheaves that provide the corresponding “continuous set-valued map”.
5.1
Sheaves over a topological space
Suppose X is a space and S is a “continuous set-valued function” on
it. For this to make sense, we certainly need a set S(x) for each point
x; this is called the stalk of S at x. If we let Y be the disjoint union of
the stalks we shall have a projection π : Y →X, and the stalks S(x) are
recoverable as ﬁbres π−1({x}). We shall introduce a class of continuous
maps π, the local homeomorphisms, for which it turns out that sheaves
can be derived by using the ﬁbres as the stalks.
Each stalk is to be a set, and we take from that that the ﬁbre π−1({x}),
as a subspace of Y , should have the discrete topology.
Thus within
ﬁbres, the topology of Y should be discrete. On the other hand, across
the ﬁbres we might argue that the topology of Y should be no ﬁner than
is got from X in order that the dependence of π−1({x}) on x should be
“continuous”.
Those are vague, but let us suggest that the second “across ﬁbre”
condition requires π to be an open map – it takes open sets to open sets.
For the ﬁrst “within ﬁbre” condition, consider that a space Z is dis-
crete iﬀthe diagonal inclusion ∆: Z ֒→Z × Z, ∆(z) = (z, z), is open.
To see this, take z ∈Z. By deﬁnition of the product topology, there
are open neighbourhoods U and V of z such that U × V ⊆∆(Z). By
replacing U and V by their intersection, we might as well assume U = V .
Now if z′ ∈U then (z, z′) ∈U × U ⊆∆(Z), so z′ = z. Hence U = {z}
and so {z} is open, so the topology is discrete.
Generalizing to π : Y →X, we use a “ﬁbrewise discrete” property
that the inclusion ∆: Y ֒→Y ×X Y should be open. (Y ×X Y is the

Locales and toposes as spaces
51
ﬁbred product, or pullback, {(y1, y2) | π(y1) = π(y2)}.) This is more than
enough to imply that every ﬁbre is discrete in its subspace topology.
Proposition 1.49 Let π : Y →X be a map of spaces. Then the fol-
lowing conditions are equivalent.
1 π and the diagonal inclusion ∆: Y ֒→Y ×X Y are both open.
2 Each y ∈Y has an open neighbourhood V such that π restricted to
V is a homeomorphism onto an open neighbourhood of π(y).
Proof
First, note that ∆(Y ) is open in Y ×X Y (as subspace of Y × Y )
iﬀevery (y, y) ∈∆(Y ) has a basic open neighbourhood in Y ×X Y that
is contained in ∆(Y ), in other words we can ﬁnd neighbourhoods V1 and
V2 of y such that V1 ×V2 ∩Y ×X Y ⊆∆(Y ). By restricting to V1 ∩V2 we
might as well assume V1 = V2. The condition V × V ∩Y ×X Y ⊆∆(Y )
says that π is 1-1 on V . To summarize, ∆is open iﬀevery y ∈Y has an
open neighbourhood V on which π is 1-1.
(1)⇒(2): If y ∈Y , choose V as above. π is a continuous bijection
from V onto π(V ), and since π is open, we deduce that this bijection is
a homeomorphism.
(2)⇒(1): Let W be open in Y . If y ∈W, then we can ﬁnd Vy in
condition (2) and π(W ∩Vy) is open. π(W) is the union of these open
sets π(W ∩Vy) and hence is open. Hence π is an open map. Openness
of ∆follows from what we have already said.
QED
Definition 1.50 Let π : Y →X be a continuous map between two
topological spaces. π is a local homeomorphism ( over X) if it satisﬁes
the equivalent conditions of the proposition.
If πi : Yi →X are two local homeomorphisms over X, then a mor-
phism from π1 to π2 is a map f : Y1 →Y2 such that π2 ◦f = π1. We
obtain a category LocHomX of local homeomorphisms over X.
It will turn out from a long train of argument that LocHomX is a
Grothendieck topos. Local homeomorphisms are equivalent to sheaves
as presheaves, and then from the more general topos theory they are
classifying toposes. However, it is an illuminating exercise to prove it
directly. The geometric constructions needed in LocHomX can all be
constructed stalkwise by elementary means.
For any map π : Y →X, a local section of π is a map σ : U →Y , with
U open in X, such that π ◦σ = IdU. An open V as in Proposition 1.49
(2) is equivalent to a local section of π whose image is open. The other
main deﬁnition of sheaf uses sections, through the notion of presheaf :
a presheaf on any category C is a contravariant functor from C to the

52
category Set of sets. For a topological space, a presheaf on X is deﬁned
to be a presheaf on ΩX.
As with any poset, the objects of ΩX are
its elements, and the morphisms are the pairs (U, V ) with U ⊆V – in
other words, there is a single morphism from U to V provided U ⊆V .
A presheaf F on ΩX has a set F(U) for each U ∈ΩX, and if U ⊆V
there is a restriction from F(V ) to F(U), which we shall normally write
σ 7→σ|U.
A morphism of presheaves is just a natural transformation. For presheaves
over a space X, this means that a morphism from F to G has a fam-
ily of functions fU : F(U) →G(U) (U ∈ΩX) that commute with the
restriction maps.
Definition 1.51 Let X be a topological space. A presheaf F on X is a
sheaf if it satisﬁes the following pasting condition.
Let Ui ∈ΩX (i ∈I), and suppose for each i we have σi ∈F(Ui) such
that for all i, j we have σi|(Ui ∩Uj) = σj|(Ui ∩Uj). Then there is a
unique σ ∈F(S
i Ui) such that for all i we have σ|Ui = σi.
A morphism of sheaves is just a presheaf morphism. We get a category
SX of sheaves over X.
Note the uniqueness. As an immediate consequence, by taking I = ∅
we see that if F is a sheaf then F(∅) is a singleton. Note also that the
same deﬁnition of presheaf and sheaf work over a locale.
Example 1.52 Let π : Y →X be a local homeomorphism, and let the
presheaf Sect(π) be deﬁned by
Sect(π)(U) = {σ : U →Y | σ is a local section of π}.
The restriction maps are ordinary domain restriction of functions. Then
Sect(π) is a sheaf.
The process is functorial.
If πi : Yi →X (i = 1, 2) are two local
homeomorphisms over X, and f : Y1 →Y2 is a morphism between them,
then composition with f gives a sheaf morphism Sect(π1) →Sect(π2).
We get a functor Sect : LocHomX →SX.
Theorem 1.53 Sect : LocHomX →SX is an equivalence of cate-
gories.
Proof
(Sketch) It is necessary to show that the functor Sect is full
and faithful, and essentially surjective.
From Sect(π) we can recover
the stalks, since the stalk at x is the colimit of the sets Sect(π)(U)
as U ranges over the open neighbourhoods of x. Furthermore, we can
recover the topology since the images of the local sections form a base.

Locales and toposes as spaces
53
Starting from an arbitrary sheaf F, the same construction yields a local
homeomorphism whose sheaf of sections is isomorphic to F – this proves
essential surjectivity.
Faithfulness is easy, but for fullness one must show that if πi : Yi →X
(i = 1, 2) then every sheaf morphism α : Sect(π1) →Sect(π2) comes from
a morphism f from π1 to π2. If y ∈Y1, ﬁnd a section σ : U →Y1 whose
image contains y. Then f(y) is deﬁned as αU(σ)(π1(y)). One must prove
that this deﬁnition is independent of choice of σ, that f is continuous,
that π2 ◦f = π1 and that Sect(f) = α.
QED
5.2
Sheaves and local homeomorphisms for
toposes
For any topos X, the sheaves over X (the objects of SX) are equiva-
lent to the maps X →[O]. Hence, by the methods of Sec. 4.5, to deﬁne
a sheaf S we declare “let x be a point of X” and then, geometrically,
deﬁne a set S(x). We therefore think of S as a continuous set-valued
map on X. (However, except on global points, these are not sets in the
sense of set theory, with the structure all deﬁned through the ∈relation.
Geometric type theory is not done that way.) We call S(x) the stalk of
S at x, and this notation also suggests we might view the sheaf as a set
parametrized by a variable point of X.
Both the point transformation and the parametrization involve a rad-
ically new notion of continuity, since [O] has far too few opens to be
a useful topological space in anything like the conventional sense. An
open of [O], a map [O] →S, is a geometric deﬁnition of a truth value
for each set S. There are three obvious ways to do this: constant ⊤,
constant ⊥and by the formula (∃a ∈S) ⊤. In eﬀect, we have three open
subspaces of “the space of sets”: the whole space, the empty space, and
the space of inhabited sets. We shall later (Example 1.74) be able to
prove that – at least classically – these are the only three, and from the
localic point of view [O] cannot be distinguished from S. (Technically, S
is the “localic reﬂection” of [O] – Deﬁnition 1.72.)
Example 1.54 Let T be a geometric theory. The functors and natural
transformations |B}, |⃗x.φ}, |⃗x.t}, etc. of Remark 1.22 deﬁne sheaves
and sheaf morphisms.
Stalks can be gathered together to make a new topos, analogous to a
local homeomorphism. Let O, elt be the theory with one sort and one
constant symbol, and let p : [O, elt] →[O] be the obvious reduct map
(which forgets the constant). The points of [O, elt] are pairs (A, a) where

54
A is a set (or, in general, a sheaf over a topos) and a a global element
of A.
Proposition 1.55 Let X be a topos and A : X →[O] a sheaf. Let X/A
be the topos given by the pseudo-pullback
X/A
−→
[O, elt]
A∗p ↓
∼=
↓p
X
−→
A
[O]
Its points are pairs (x, a) with x a point of X and a ∈A(x).
Then
S(X/A) is equivalent to the slice category (SX)/A, whose objects are
morphisms in SX with codomain A.
Proof
S(X/A) is got from SX by freely adjoining a global element
e : 1 →A. From this one can construct, for any ν : C →A in SX, the
pullback along e giving an object e∗C, and the result says in eﬀect that
every object of S(X/A) comes from some ν in this way.
It is straightforward to check that (SX)/A is a Grothendieck topos.
(The corresponding fact for elementary toposes is the “Fundamental
Theorem of Topos Theory” (Johnstone, 2002a, A2.3).) We have a func-
tor q∗: SX →SX/A, with q∗(B) the projection B ×A →A, and it pre-
serves colimits and ﬁnite limits. In SX/A the ﬁnal object is IdA : A →A,
and q∗A has a global element e given by the diagonal ∆: A →A × A.
Every object ν : C →A is the pullback of q∗(ν) against e.
Now suppose we have a map f : Y →X with a global element e′ :
1 →f ∗(A). The result amounts to showing that f ∗factors via q∗and a
functor r∗: SX/A →SY that preserves colimits and ﬁnite limits, and
takes e to e′. Clearly r∗(ν) has to be (up to isomorphism) deﬁned as the
pullback of f ∗(ν) against e′, after which it remains only to check that it
has the required properties.
QED
Note a corollary to this. A map X/B →X/A over X is equivalent to
a global element of (A × B →B) in SX/B, and this is just a morphism
B →A in SX. Hence sheaf morphisms are equivalent to maps between
the corresponding ﬁbred spaces.
In the pseudo-pullback square in the proof of Proposition 1.55, the
map A∗p on the left maps (x, a) to x. The maps that arise in this way
from sheaves over X are called local homeomorphisms or ´etale maps
(see Johnstone, 2002b, C3.3.4). For each point x, the pseudo-pullback
of A∗p against x is in eﬀect the stalk at x.
In fact, we have three
equivalent categories to represent sheaves over X: SX, Map(X, [O])
and the category of local homeomorphisms with codomain X. In Joyal

Locales and toposes as spaces
55
and Tierney, 1984 the local homeomorphisms are characterized in a way
analogous to the ﬁrst condition of Proposition 1.49, using a topos notion
of open map.
5.3
Sites
A canonical form of geometric theory is that deriving from a site. We
give the deﬁnition from Johnstone, 2002a, A2.1.9.
Definition 1.56 Let C be a small category. A coverage J on C assigns
to each object A of C a collection J(A) of families (fi : Ai →A | i ∈I)
of morphisms targeted at A, subject to the condition that for each such
family in J(A), and for each morphism g : B →A, there is a family
(hi′ : Bi′ →B | i′ ∈I′) in J(B) such that each g ◦hi′ factors via some
fi.
A category equipped with a coverage is called a site.
The deﬁnition in Mac Lane and Moerdijk, 1992, III.2 Deﬁnition 1 is
slightly diﬀerent, as a category equipped with a Grothendieck topology.
In this, the covering families are all required to be sieves, i.e. closed
under precomposition. The diﬀerence is explained in Johnstone, 2002b,
C2.1.8 (where a Grothendieck topology is called a Grothendieck cover-
age). Any coverage generates a Grothendieck topology that is equivalent
to it for its intended purposes.
Definition 1.57 Let (C, J) be a site. Then the geometric theory CtsFlat(C, J)
of continuous ﬂat functors over (C, J) has sorts XA and functions uf :
XA →XB for the objects A and morphisms f : A →B of C, and axioms
(∀x : XA) uIdA(x) = x (A ∈Ob(C))
(∀x : XA) ug(uf(x)) = ug◦f(x) (f : A →B, g : B →C)
W
A∈Ob(C)(∃x : XA) ⊤
(∀x : XA, y : XB) W
C∈Ob(C)
W
f:C→A
W
g:C→B(∃z : XC) (x = uf(z) ∧y = ug(z))
(∀x : XA) (uf(x) = ug(x)
−→W
C∈Ob(C)
W{(∃z : XC) x = uh(z) | h : C →A, f ◦h = g ◦h}
(f, g : A →B)
(∀x : XA) W
i∈I(∃y : XAi) x = ufi(y) ((fi : Ai →A | i ∈I) in J(A))
Its models in a Grothendieck topos E are the continuous ﬁltering func-
tors (or continuous ﬂat functors) from C to E (Mac Lane and Moerdijk,
1992, VII Sections 7-9). The ﬁrst two axiom schemas stipulate functori-
ality, the next three are the ﬂatness (or ﬁltering property) and the ﬁnal

56
one is the continuity. Note that if C has all ﬁnite limits, then (Mac Lane
and Moerdijk, 1992, VII.9 Corollary 3) the ﬂat functors from C to a
Grothendieck topos are exactly the ﬁnite limit preserving functors.
Without the ﬁnal axiom in Deﬁnition 1.57 we have the theory Flat(C)
of ﬂat functors over C.
Example 1.58 Any cartesian theory T is equivalent to Flat(C) where
C is the opposite of the category of ﬁnitely presented T-models. For a
discussion of some non-cartesian theories of the form Flat(C), as well as
the constructive notion of “ﬁnite” used in “ﬁnitely presented” (stronger
than Kuratowski ﬁniteness) see Vickers, 2001.
5.4
Sheaves as presheaves
In this section we return to the main question left over from Sec. 4.4:
what are the sheaves over a classifying topos?
It is only when this
has been answered that we can be sure classifying toposes exist. We
outline the proof in stages: ﬁrst, theories Flat(C); then CtsFlat(C, J);
then geometric theories in general; and then geometric type theories.
Lemma 1.59 If C is a small category then the presheaf topos SetCop
classiﬁes Flat(C).
Proof
(Sketch.
cf.
Proposition 1.40.)
For any Grothendieck topos
X we want a correspondence between ﬂat functors F : C →SX and
functors SetCop →SX preserving colimits and ﬁnite limits.
The Yoneda embedding Y : C →SetCop acts as a free cocompletion of
C (Mac Lane and Moerdijk, 1992, I.5 Corollary 4): any functor from C to
a cocomplete category factors uniquely (up to isomorphism) via Y and
a colimit preserving functor. This gives an equivalence between functors
C →SX and colimit preserving functors SetCop →SX.
However, SetCop is also a Grothendieck topos (Mac Lane and Mo-
erdijk, 1992, I). Then content of Mac Lane and Moerdijk, 1992, VII.7
Theorem 2 is then that ﬂatness of the functor C →SX is equivalent to
ﬁnite limit preservation by the colimit preserving functors SetCop →SX.
(Note also that Y is ﬂat.)
QED
Example 1.60 (See Example 1.58.) Let T be a cartesian theory, and
let C be its category of ﬁnitely presented models so that T is equivalent
to Flat(Cop). Then S[T] ≃SetC. Thus, as set-valued map on points
(models of T), a sheaf is determined by its action on the ﬁnitely presented
models.
This also follows from the fact that every model is a ﬁltered
colimit of ﬁnitely presented models, and maps preserve ﬁltered colimits.

Locales and toposes as spaces
57
We now turn to theories CtsFlat(C, J).
Let F : C →F be a ﬂat
functor to a Grothendieck topos. The continuity axiom says that for
each covering family (fi : Ai →A)i∈I in J(A),
(∀x : F(A))
_
i∈I
(∃y : F(Ai)) x = F(fi)(y).
Categorically, this says that the cotupled morphism f = [F(fi)]i∈I :
P
i∈I F(Ai) →F(A) is epi, in other words that its image is the whole of
F(A).
To analyse this, we calculate what the image is in general. The result
content is roughly that of Mac Lane and Moerdijk, 1992, VII.7 Lemma
2. However, we sketch a “geometric” proof that does not rely on the
subobject classiﬁer.
Lemma 1.61 Let (C, J) be a site, and let F : C →SX be a ﬂat functor
to a Grothendieck topos. Let (fi : Ai →A)i∈I be in J(A). Then the
image of
f = [F(fi)]i∈I :
X
i∈I
F(Ai) →F(A)
is the colimit of a diagram F ◦∆as follows. Let D be the full subcategory
of the slice category C/A whose objects are morphisms g : C →A that
factor through some fi. ∆is the obvious functor from D to C, taking
(g : C →A) to C.
Proof
Let µi : F(Ai) →P
i F(Ai) be the coproduct injection, and let
f = m ◦q be the image factorization of f.
We deﬁne a cocone from F ◦∆to Im f as follows. If g : C →A factors
via some fi, then F(g) factors via f and hence uniquely via m, as m◦νg
(say).
Now suppose we have a cocone from F ◦∆to some K, given by
morphisms ν′
g : F(C) →K for each g : C →A in Ob(D). If we are to
have a colimit morphism α : Im f →K, then it is determined uniquely by
α◦q (because q is epi) and hence by the morphisms α◦q◦µi = α◦νfi = ν′
fi.
This proves uniqueness for α.
The morphisms ν′
fi give us a morphism α′ = [ν′
fi]i : P
i F(Ai) →K,
and we should like α′ to factor as α ◦q for some α : Im f →K. This
will be as required, since if g = fi ◦g′ : C →A then
ν′
g = ν′
fi ◦F(g′) = α′◦µi◦F(g′) = α◦q◦µi◦F(g′) = α◦νfi ◦F(g′) = α◦νg.
To prove existence of α, we interpret logic in SX.
Viewing Im f as
a quotient of P
i F(Ai), it suﬃces to show that if f(a) = f(b) (a, b ∈

58
P
i F(Ai)) then α′(a) = α′(b). Suppose a = µi(a′), with a′ ∈F(Ai),
and similarly b = µj(b′), so F(fi)(a′) = F(fj)(b′). By ﬂatness of F we
can ﬁnd an object C in C, morphisms g : C →Ai and h : C →Aj with
fi ◦g = fj ◦h, and c ∈F(C) with a′ = F(g)(c) and b′ = F(h)(c). Then
α′(a) = α′ ◦µi ◦F(g)(c) = ν′
fi ◦F(g)(c) = ν′
fi◦g(c)
= ν′
fj◦h(c) = ν′
fj ◦F(h)(c) = α′ ◦µj ◦F(h)(c) = α′(b).
QED
At this point we can introduce the notion of sheaf over a site. (In
Mac Lane and Moerdijk, 1992, III.4 this is for a slightly diﬀerent deﬁni-
tion of site, but the diﬀerence is not of great signiﬁcance here.)
Definition 1.62 Let (C, J) be a site, and let S be a presheaf over C. S
is a sheaf if it has the following pasting property.
Suppose (fi : Ai →A)i∈I is in J(A). Suppose for each i ∈I we have
xi ∈S(Ai), with the family (xi)i∈I “matching” in the sense that if C
is an object of C and gi : C →Ai, gj : C →Aj are morphisms with
fi ◦gi = fj ◦gj then S(gi)(xi) = S(gj)(xj). Then there is a unique
x ∈S(A) such that xi = S(fi)(x) for all i.
Lemma 1.63 Suppose F : C →SX is ﬂat, and let f : X →[Flat(C)] be
the corresponding map. Then F is continuous iﬀfor every object U of
SX, the presheaf f∗(U) is a sheaf.
Proof
Suppose (fi : Ai →A)i∈I is in J(A). By Yoneda’s Lemma, if S
is a presheaf then a family (xi)i∈I of elements xi ∈S(Ai) corresponds
to a family (ξi)i∈I of morphisms ξi : Y(Ai) →S. Let ∆: D →C be the
diagram described in Lemma 1.61. Then we ﬁnd that the family (xi)i is
matching iﬀthe family (ξi)i extends (uniquely) to a cocone from Y ◦∆
to S. The existence of x is equivalent to the factorization of this cocone
through Y(A). If S is of the form f∗(U), then the cocone of presheaves
corresponds to a cocone in SX from f ∗◦Y ◦∆= F ◦∆to U. By Lemma
1.61 we know F is continuous iﬀfor every covering (fi) we have that the
colimit of F ◦∆is F(A), i.e. for every U, every cocone F ◦∆→U
factors via F(A) = f ∗◦Y(A) →U and this gives us our Y(A) →f∗(U)
as required for ﬁnding x. Hence F is continuous iﬀfor every covering
and for every U we can perform the pasting with f∗(U). But this just
says that every f∗(U) is a sheaf.
QED
If we deﬁne Sh(C, J) to be the full subcategory of SetCop comprising
the sheaves, then we see that the maps X →[Flat(C)] corresponding to
continuous ﬂat functors are the ones whose direct image part factors via
Sh(C, J).

Locales and toposes as spaces
59
Theorem 1.64 If (C, J) is a site then Sh(C, J) is a classifying topos for
CtsFlat(C, J).
Proof
This is the content of Mac Lane and Moerdijk, 1992, VII.9 Corol-
lary 2, which states that – in the conventional notation – there is an
equivalence of categories between Map(E, Sh(C,J)) and the category of
continuous ﬁltering functors C →E (i.e. models of the site theory). In
our notation we can thus take Sh(C,J) as S[CtsFlat(C, J)]. In outline,
the rest of the proof is as follows.
First, Sh(C, J) is indeed a topos. (This includes the fact that it is an
elementary topos. This is perhaps unexpected, since the argument from
classifying toposes worked with the geometric structure.)
Next, the inclusion Sh(C, J) →SetCop is the direct image part of a
geometric morphism. Proving the existence of the inverse image part,
the “associated sheaf functor” or sheaviﬁcation, is of fundamental im-
portance. If S is already a sheaf, then it is its own sheaviﬁcation.
After all that, proving that Sh(C, J) classiﬁes ﬂat continuous functors
is more or less Lemma 1.63.
QED
We can also calculate the stalks explicitly. Let x be a global point, a
continuous ﬂat functor from C to Set, and S a sheaf. The stalk S ◦x
can be calculated in two stages (Mac Lane and Moerdijk, 1992, Section
VII.5).
First, let U0 be the disjoint union over all objects A of C of
the products x(A) × S(A). Next, if f : A →B is a morphism in C,
and a ∈x(A) and b ∈S(B), we identify (a, S(f)(b)) and (x(f)(a), b)
in U0 and generate an equivalence relation ∼thereby. Then the stalk
is U0/ ∼. This construction is geometric, and can be reproduced for
non-global points.
Theorem 1.65 Every geometric theory is equivalent to a site theory
CtsFlat(C, J), and hence has a classifying topos.
Proof
Let T be a geometric theory over signature Σ. By Johnstone,
2002b, Lemma D1.3.8, every geometric formula in context over Σ is
logically equivalent to one of the form W
i(∃⃗yi)φi where each φi is a
Horn formula (a conjunction of equations and predicate symbols applied
to terms).
It follows that each axiom in T is equivalent to a set of
axioms of the form ψ ⊢⃗x
W
i(∃⃗yi)φi. Moreover, by replacing φi by ψ ∧
φi and using the distributivity and Frobenius rules, we may assume
that φi ⊢⃗x⃗yi ψ. From Σ can be constructed (Johnstone, 2002b, D1.4)
a syntactic category C, cartesian (i.e. with all ﬁnite limits), such that
in any cartesian category D we have that interpretations of Σ in D are
equivalent to cartesian (ﬁnite limit preserving) functors from C to D;

60
and recall that because C is cartesian, ﬂat functors from C to a topos are
the same as cartesian functors. The objects of C are the Horn formulae
in context, modulo renaming of variables, and the morphisms are the
formulae that are “provably the graphs of functions”, modulo logical
equivalence. Now suppose ψ ⊢⃗x
W
i(∃⃗yi)φi is one of the axioms in T. In
C we have diagrams
(⃗x, ⃗yi.φi)
֒→
(⃗x, ⃗yi.⊤)
↓
↓
(⃗x.ψ)
֒→
(⃗x.⊤)
where the right-hand arrow is the product projection, and the left-hand
arrow follows from our assumption that φi ⊢⃗x⃗yi ψ. We take those left-
hand arrows, as i varies, as covering (⃗x.ψ), and use these covers to
generate a coverage J of C. Models of T are equivalent to models of
CtsFlat(C, J).
QED
We should now like a result of the form “every geometric type theory
has a classifying topos”. This is diﬃcult, since our notion of geometric
type theory is only informal. The following argument from Johnstone,
2002a, B4.2 uses a particular restricted formalization that nonetheless
seems ample to cover examples that arise in practice.
Theorem 1.66 Normally, geometric type theories have classifying toposes.
(The proof is not completely general.)
Proof
Johnstone, 2002a, Deﬁnition B4.2.7(c) gives a deﬁnition of geo-
metric theory that includes features of geometric type theory. According
to that deﬁnition, a geometric theory T is built up in a ﬁnite sequence
T0, . . . , Tn = T. T0 declares ﬁnitely many sorts, and each subsequent
step is of one of two forms. A simple functional extension Ti+1 of Ti
declares a function symbol f : F1 →F2, where F1 and F2 are geometric
types. A simple geometric quotient Ti+1 of Ti is based on a morphism
u : F1 →F2 of geometric types. Ti+1 adds axioms
u(x) = u(x′) ⊢x,x′:F1 x = x′
⊤⊢y:F2 (∃x : F1) y = u(x)
and thus forces u to be an isomorphism.
In each case, if Ti has a classifying topos, then we can identify the
geometric types (F1, F2) and morphisms (u) with objects and morphisms
of S[Ti], and one can construct a classifying topos for Ti+1. Hence every
geometric theory by that deﬁnition has a classifying topos.
These two steps provide a completely general way of introducing func-
tion symbols, and also axioms φ ⊢⃗x ψ, for satisfaction of the axiom is

Locales and toposes as spaces
61
equivalent to saying that the inclusion morphism ψ ∧φ →φ is an iso-
morphism. As for predicate symbols P ⊆⃗A, these can be introduced
with a sort P ′ and function iP : P ′ →⃗A which must then be constrained
to be monic (to give a subobject corresponding to P). This is done by
an axiom
iP (x) = iP (x′) ⊢x,x′:P ′ x = x′.
Hence all the ingredients of geometric type theory can be introduced by
these steps.
QED
Since only ﬁnitely many steps are allowed, it would seem that the
geometric type theory according to that deﬁnition should be ﬁnitely
presented – only ﬁnitely many symbols and axioms. However, in practice
one can get round that by internalizing the indexing set of an inﬁnite
family of symbols or axioms. For example, consider modules over a ring
R.
The algebraic theory of these would normally be presented with
a (possibly inﬁnite) R-indexed family of unary operators σr for scalar
multiplication. But the set R is a constant geometric type (a coproduct
of an R-indexed family of copies of 1) over any theory, and modules
M can equivalently be presented using an operator σ : R × M →M.
(Exercise: formulate this using simple functional extensions and simple
geometric quotients.)
Theorem 1.67 Let E be a category. Then the following are equivalent.
1 E is a Grothendieck topos (as deﬁned in Deﬁnition 1.31).
2 E is equivalent to Sh(C, J) for some site (C, J).
3 E is classifying topos for some geometric theory.
Proof
(1)⇔(2) is known as Giraud’s Theorem. See Johnstone, 2002b,
C2.2.8, where condition (vii) is our condition (1). For an alternative
version, see Mac Lane and Moerdijk, 1992, Appendix, Theorem 1. (2)
is usually taken as the deﬁnition of Grothendieck topos.
(2)⇔(3): Theorems 1.64 and 1.65.
QED
5.5
Sheaves for locales
We now turn to the question of how continuous maps between spaces
and locales relate to geometric morphisms between toposes.
Proposition 1.68 Let X be a Grothendieck topos. Then SubSX(1) is
a frame.

62
Proof
Johnstone, 2002b, C1.4.7. In fact SubSX(S) is a frame for any
sheaf S.
QED
Now for any propositional geometric theory T, topos models in SX
are equivalent to frame models in SubSX(1). It follows that T and ThΩ[T]
(Deﬁnition 1.9) are equivalent with respect to topos models.
Let A be a frame. As a poset it can also be considered a category,
and we can deﬁne a coverage J on it as follows. Let a ∈A, and let
{bi | i ∈I} ⊆{b | b ≤a}. Then {bi | i ∈I} ∈J(a) if a ≤W
i∈I bi.
(Exercise: this is indeed a coverage in the sense of Deﬁnition 1.56.)
Proposition 1.69 The theories CtsFlat(A, J) and ThA are equivalent.
Proof
As a category, A is cartesian (products are meets, and equalizers
are trivial). Hence, ﬂatness of a functor is equivalent to preservation of
ﬁnite limits. The top element of A must map to the terminal object 1,
and all the other elements of A to subobjects of 1 (because if a functor
preserves ﬁnite limits then it preserves monics, and all the morphisms
in A are monic). Hence a ﬂat functor over A is equivalent to a function
A →Sub(1) that preserves ﬁnite meets. Continuity then says that the
function preserves arbitrary joins too.
QED
If A is a frame, then for a presheaf S : Aop →Set, if a ≤b in A and
x ∈S(b), then we write x|a for S(a ≤b)(x), the restriction of x to a.
Theorem 1.70 Let A be a frame, and let X be the topos [ThA].
1 A sheaf over X is equivalent to a sheaf over the locale for A (Def-
inition 1.51, replacing ΩX by A, and ∩and S by ∧and W).
2 There is an order isomorphism between SubSX(1), the set of sub-
sheaves of 1 over X, and A.
Proof
(1) is calculated directly from Deﬁnition 1.62 using Theorem 1.64
and Proposition 1.69. For (2), the terminal sheaf 1 is deﬁned by 1(a) = 1
(i.e. some singleton) for every a ∈A. This can be calculated directly,
but it also follows from the fact that the embedding SX →SetAop is a
right adjoint and hence preserves all limits, and ﬁnite limits in SetAop
are calculated argumentwise. Now the subsheaves of 1 are the sheaves
S for which every S(a) is a subsingleton.
For every b ∈A we have a subsheaf Sb of 1 deﬁned by Sb(a) = 1 iﬀ
a ≤b. (In fact these make up the generic point of X in SX.) Clearly
if Sb = Sb′ then b ≤b′ ≤b, so b = b′. On the other hand, suppose S
is a subsheaf of 1 and let b be the join of those a ∈A for which Sa is

Locales and toposes as spaces
63
inhabited. By pasting we ﬁnd that S(b) is inhabited, and it follows that
S = Sb.
QED
It follows that for any propositional geometric theory T we have
SubS[T](1) ∼= Ω[T].
Theorem 1.71 Let T and T ′ be propositional theories. Then there is
an equivalence between
1 locale maps [T] →[T ′], and
2 topos maps [T] →[T ′].
Proof
A topos map [T] →[T ′] is equivalent to a model of ThΩ[T ′] in
S[T], i.e. a frame homomorphism Ω[T ′] →SubS[T](1) ∼= Ω[T].
QED
Referring back to Proposition 1.16, we see that for sober spaces, con-
tinuous maps are equivalent to geometric morphisms between the cor-
responding toposes. We have now justiﬁed the key fact that underlies
this chapter: toposes generalize topological spaces (at least in the sober
case), and geometric morphisms are the continuous maps at topos gen-
erality.
We now know that locales and localic toposes are equivalent.
We
write X without any bias either way, and refer concretely to the frame
as ΩX and to the category of sheaves as SX. More generally, for any
Grothendieck topos X we can write ΩX for the frame SubSX(1) without
creating any ambiguity in the localic case. We call its elements opens of
X, equivalent to maps X →S.
Definition 1.72 Let X be a Grothendieck topos. Then the localic re-
ﬂection of X is the locale Loc(X) whose frame is ΩX.
Proposition 1.73 Let X be a Grothendieck topos. Then there is a map
α : X →Loc(X) such that any map f : X →Y with Y a locale factors
uniquely (up to isomorphism) via α.
Proof
This is immediate from the fact that if Y is a locale, then go-
metric morphisms from X to Y are equivalent to frame homomorphisms
from ΩY to SubSX 1.
QED
If φ : x ⇒y is a specialization morphism between points of X, then
α(x) ⊑α(y). Hence x and y are identiﬁed by α if there are specialization
morphisms going in both directions between them.
Thus the localic
reﬂection can lose a lot of structure.

64
Example 1.74 Consider the object classiﬁer [O]. Classically, if A and
B are two sets then there is a function from A to B unless A is inhabited
and B is empty. Hence we might expect Loc([O]) to have two points for
two classes of sets: inhabited, and empty. We can calculate that in fact
Loc([O]) ≃S. The theory O is algebraic, and its category of ﬁnitely
presented algebras is the category Fin of ﬁnite sets. (Constructively, this
is “ﬁnite” in a strong sense, meaning isomorphic to {1, ..., n} for some
natural number n.) Hence S[O] ≃SetFin. A sheaf S : Fin →Set is
a subsheaf of 1 – an open – iﬀevery S(A) is a subsingleton, and we
ﬁnd it is determined up to isomorphism by S(0) ⊆S(1) ⊆1. It can be
calculated that the frame of these is isomorphic to ΩS.
Thinking of [O] as a generalized space, we now see how far it is from
being an ungeneralized space. Its opens are simply too few to characterize
the generalized topological structure and we have to use sheaves instead.
6.
Summary of toposes
Let us summarize the key points of this story.
1 The usual semantics of ﬁrst-order logic provides meaning in sets:
sorts are sets, function symbols (and terms generally) are func-
tions, and predicates (and formulae) are subsets of products. This
tells us, for each theory, what are the models of that theory.
2 Categorical logic uses the same idea to provide meaning in more
general categories: sorts are objects, function symbols and terms
are morphisms, and predicates and formulae are subobjects of
products.
It tells us what the models of a theory are in more
general categories.
3 The logic has to be matched to the categorical structure.
The
ability to interpret logical connectives, and the validity of logical
axioms in an interpretation, both depend on the structure and
properties of the category.
4 It is natural to form axioms in two stages as (∀⃗x)(φ →ψ). Then φ
and ψ are formulae, using connectives appropriate to the categori-
cal structure, and the form of the axioms compares two subobjects
(for φ and ψ) and uses minimal categorical structure.
5 The logic we are particularly interested in, geometric logic, is in-
terpreted in Grothendieck toposes. However, it is only a fragment
of what can be interpreted there. Its formulae use ∧, W, = and ∃.

Locales and toposes as spaces
65
6 It is related to geometric morphisms between toposes, in that the
geometric logic is preserved by the inverse image functors of geo-
metric morphisms.
7 To emphasize the diﬀerence between spatial and logical aspects of
toposes, we use a non-standard notation with simple symbols to
denote a topos “as generalized topological space”, and we apply
an S to denote the same topos “as generalized universe of sets”
(in other words, the category discussed above where the logic is
interpreted). Thus a geometric morphism f : X →Y comprises
two functors f ∗: SY →SX and f∗: SX →SY .
8 There are type constructors that can be considered to be within
the scope of geometric logic. These include free algebra construc-
tions. Although we have not deﬁned the precise range of these type
constructors, we have introduced the phrase geometric type theory
for theories that use those ﬁnitary constructors we know to be of
this kind. They are equivalent in expressive power to geometric
theories.
9 Coherent theories and coherent type theories are similar to the ge-
ometric versions but do not use inﬁnitary disjunctions. Coherent
type theories are intermediate in expressive power between coher-
ent theories and geometric theories. It is found in practice that
once the ﬁnitary type constructors are brought in, the inﬁnitary
disjunctions of geometric logic are often not needed.
10 We deﬁne a (generalized) point of a topos X to be a geometric
morphism whose codomain is X. It is a global point if its domain
(its stage of deﬁnition) is the topos 1 where S1 = Set.
11 Each geometric type theory T has a classifying topos [T] whose
points at stage Y are the models of T in SY . S[T] is generated by
a “generic” model of the theory and is an analogue of Lindenbaum
algebra for a predicate geometric theory.
12 The Grothendieck toposes are the classifying toposes for geometric
type theories. They can be constructed as toposes of sheaves over
sites.
13 A geometric morphism from X to Y transforms, by composition,
points of X (at any stage of deﬁnition) to points of Y .
14 By the deﬁnition of classifying topos, we deﬁne a geometric mor-
phism from [T1] to [T2] by constructing a model of T2 in S[T1].

66
Since S[T1] is generated by a generic model of T1, this appears for-
mally as declaring, “Let M be a model of T1,” and then construct-
ing a model of T2 out of it. To be valid in S[T1], the construction
must be intuitionistically valid; and to be uniform over all stages
of deﬁnition it must be geometric.
15 Thus we think of Grothendieck toposes as generalized spaces of
models, and geometric morphisms as maps between those spaces.
For some examples of the techniques in use, see Vickers, 1999, Vickers,
2001 and Vickers, 2004. In particular, Vickers, 2001 discusses toposes
X for which SX is a presheaf category, with reference to examples such
as the simplicial sets Mac Lane and Moerdijk, 1992, Sec. VIII.8.
7.
Other directions
We brieﬂy mention some other aspects of topos theory that are rele-
vant to the logic of space.
7.1
Fibred locales
We have already seen how a map f : X →Y can be understood as a
generalized point of Y , continuously parametrized by a variable point of
X. In terms of the non-clasical mathematics of sheaves, this is a model
in SX of whatever theory Y classiﬁes.
However, we can also look at the parametrization the other way round.
For each point y of Y , we get a ﬁbre Xy = f −1({x}) – indeed, this still
makes sense for toposes, by taking the pseudo-pullback of f along y.
Hence this is a space “parametrized by a variable point of Y ”. We have
seen one example of this already, in sheaves and local homeomorphisms.
There is a particular “localic” kind of map f between toposes, essentially
meaning that X is presented by no new sorts relative to Y (and in
particular any map between locales is localic). This gives a notion of
“ﬁbred locale” over Y , and it turns out that this is equivalent to doing
locale theory constructively in SY .
Joyal and Tierney, 1984 give a straightforward approach to this using
frames and we shall sketch that. (Vickers, 2004 gives a more geomet-
ric account.) The notion of frame (and frame homomorphism) can be
deﬁned in any elementary topos. However, the theory is not ﬁnitary
algebraic and makes essential use of the elementary topos structure: to
deﬁne arbitrary joins on A requires a morphism from the powerobject
P(A) to A.
Frame structure is preserved by direct image functors f∗(though not
by f ∗), and the subobject classiﬁer is Ωis always a frame. Hence for any

Locales and toposes as spaces
67
map f : X →Y , f∗(ΩX) is a frame in SY . On the other hand, given
a frame A in SY , we can replicate the construction of the category of
sheaves to get a localic map p : Z →Y such that p∗(ΩZ) ∼= A. In fact
we ﬁnd a duality between frames in SY and ﬁbred locales over Y .
Example 1.75 Let S be a sheaf over a topos X, and let f : X/S →X
be the map of Proposition 1.55.
One can calculate that the subobject
classiﬁer in SX/S is S × ΩX →S and its image under f∗is P(S).
Relative to X, it is therefore the discrete locale (i.e. all subsets open)
corresponding to S.
7.2
Powerlocales
Powerlocales are the localic analogue of hyperspaces, spaces whose
points are subspaces of other spaces. If X is a locale, then there are var-
ious kinds of powerlocales whose points are diﬀerent kinds of sublocales
(the localic analogue of subspace) of X.
In some ways the starting point is the Vietoris powerlocale V X, which
bears a direct relationship to the Vietoris hyperspace and was ﬁrst stud-
ied in Johnstone, 1985. In computer science an analogous “Plotkin pow-
erdomain” has been used to give semantics for non-deterministic pro-
grams – that is, programs for which the result is in some sense a range
of points. It was noticed (Smyth, 1978) that its topology is generated by
two coarser topologies that give two powerdomains that are interesting
in their own right, and these were transferred (Robinson, 1986) to locales
to give the upper and lower powerlocales PU X and PL X. Computer
science applications in localic form have appeared in Abramsky, 1991a
and Abramsky, 1991b. The three principal powerlocales (Vietoris, up-
per, lower) are summarized in Vickers, 1997. Their relationship with the
predicative mathematics of formal topology is discussed in Vickers, 2006
and Vickers, 2005. More recently (Johnstone and Vickers, 1991, Vickers,
2004, Vickers and Townsend, 2004) it has been noticed that both the up-
per and lower powerlocales embed in a larger double powerlocale, which
can be got as either PU PL X or PL PU X (they are homeomorphic).
Each powerlocale has a good logical content, long understood in com-
puter science. Given a locale X, each powerlocale embodies a logical
theory whose models are certain kinds of sublocales of X. A sublocale is
in eﬀect a theory got by adding extra axioms to that for X, thus spec-
ifying a part of the class of models of X. Some topological properties
of X, compactness being a good example, can be discussed in terms of
points of the powerlocales (Vickers, 1995, Vickers, 2006).
The logical approach relies on the idea that, given a logic of points, we
get a “logic of parts”, reminiscent of modal logic. For each property U of

68
points, an open of the original locale, we get two properties of parts: □U
says that the part is wholly inside U, while ♦U says that the part has at
least one point in U (i.e. it meets U). Suitable axioms for the properties
□U are that □preserves ﬁnite meets and also directed joins – this latter
turns out to be necessary for good results, and imposes a compactness
condition on the parts. From these we get the upper powerlocale. A
suitable property for ♦is that it preserves all joins, and from that we
get the lower powerlocale. Taking the properties □U and ♦U together,
we need extra axioms to show their interaction:
□U ∧♦V →♦(U ∧V ),
□(U ∨V ) →□U ∨♦V .
From these we get the Vietoris powerlocale.
At that ﬁrst stage, the powerlocales are deﬁned directly in terms of
the frames. However, one can also investigate them as theory construc-
tions.
That is to say, if the original space (the “logic of points”) is
given as a theory rather than as a frame, we show how to gain theories
of the powerlocales. The proofs uses “coverage theorems”, results that
transform a presentation of the frame by generators and relations into a
presentation of the same structure but by generators and relations with
respect to diﬀerent algebraic operators.
8.
Conclusions
Our basic message is that topology is an emergent feature of geomet-
ric logic: the logical theories describe classes of models with an intrinsic
topology (in Grothendieck’s generalized sense, using sheaves when there
are not enough opens), and mathematics conducted in accordance with
the constraints of the logic has an intrinsic continuity.
Grothendieck
toposes are “generalized Lindenbaum algebras”, with geometric mor-
phisms as logic-preserving functors between them. We can use the geo-
metric morphisms as maps of models – at any stage – without reference
to the concrete class of standard models, of which there might anyway
be insuﬃcient because of the incompleteness of geometric logic.
The
propositional fragment can alternatively be treated using locales (and
frames as Lindenbaum algebras), but the two treatments are equivalent.
In the spatial case the geometric morphisms recover the known notion
of continuous map between spaces (modulo issues of sobriety).
That broad story underlies much of topos theory, though there are
also many deep non-geometric uses of Grothendieck toposes.
We have also stressed the geometric types. These do not essentially
extend the scope of geometric logic, but they make it more convenient.

Locales and toposes as spaces
69
Combining coherent logic with some of the geometric type construc-
tors, we get a coherent type theory. This must be less expressive than
geometric logic, yet it is already enough to capture important topological
examples such as the real line. An exciting thought is that this may pro-
vide an example of topology emerging from a ﬁnitary type theory, with
ﬁnite coproducts and the inductive construction of free models. Such a
coherent type theory would be better described in its own terms, with a
corresponding class of categories to interpret it. A promising candidate
class for these categories is the arithmetic universes of Joyal. By con-
trast with Grothendieck toposes, these categories do not automatically
have function spaces or subobject classiﬁers. This is going to require
a much more careful syntactic formulation of the coherent type theory,
probably including aspects of dependent type theory. Some preliminary
results have been found in Maietti, 2003.
9.
Further Reading
This introduction has focused on the relationship between geometric
logic and the categorical structure of Grothendieck toposes, to give an
introduction to how toposes can be understood as generalized topolog-
ical spaces. However, the connections between logic and toposes go far
beyond this and most of the standard texts describe a range of broader
applications.
One direction that might particularly interest readers of this book is
the connection with modal logic. The pointers that follow here were sup-
plied by the Second Reader of this chapter. Reyes with others (Lavend-
homme et al., 1989; Reyes, 1991; Makkai and Reyes, 1995; Reyes and
Zolfaghari, 1991; Reyes and Zolfaghari, 1996) developed topos-theoretic
approaches to classical as well as non-classical modalities.
Ghilardi
(Ghilardi, 1989; Ghilardi, 1991; Ghilardi, 1992) and Shehtman and
Skvortsov (Shehtman and Skvortsov, 1990; Skvortsov and Shehtman,
1993; Skvortsov, 1996; Skvortsov, 2003) developed categorical semantics
for superintuitionistic and modal predicate logics (see also Suzuki, 1990;
Suzuki, 1993; Isoda, 1997; Nagaoka and Isoda, 1997; Shirasu, 1998).
Goldblatt (Goldblatt, 1981; Goldblatt, 1979) developed a modal intu-
itionistic calculus of nuclei.
References
Abramsky, S. (1991a). Domain theory in logical form. Annals of Pure
and Applied Logic, 51:1–77.
Abramsky, Samson (1991b). A domain equation for bisimulation. Infor-
mation and Computation, 92(2):161–218.

70
Barr, M. and Wells, C. (1984). Toposes, Triples and Theories. Springer-
Verlag. reissued as Barr and Wells, 2005.
Barr, M. and Wells, C. (2005). Toposes, Triples and Theories. Num-
ber 12 in Reprints in Theory and Applications of Categories. Theory
and Applications of Categories, Mount Allison University. originally
published as Barr and Wells, 1984.
Carboni, A., Pedicchio, M.C., and Rosolini, G., editors (1991). Category
Theory – Proceedings, Como 1990, number 1488 in Lecture Notes in
Mathematics. Springer-Verlag.
Coquand, T., Sambin, G., Smith, J., and Valentini, S. (2003). Induc-
tively generated formal topologies. Annals of Pure and Applied Logic,
124:71–106.
Fourman, M.P. and Grayson, R.J. (1982). Formal spaces. In Troelstra
and van Dalen, editors, The L.E.J. Brouwer Centenary Symposium,
pages 107–122. North Holland.
Fourman, M.P. and Hyland, J.M.E. (1979). Sheaf models for analysis.
In Fourman et al., 1979, pages 280–301.
Fourman, M.P., Mulvey, C.J., and Scott, D., editors (1979). Applications
of Sheaves, number 753 in Lecture Notes in Mathematics. Springer-
Verlag.
Ghilardi, Silvio (1989). Presheaf semantics and independence results for
some nonclassical ﬁrst-order logics. Arch. Math. Logic, 29(2):125–136.
Ghilardi, Silvio (1991). Incompleteness results in Kripke semantics. J.
Symbolic Logic, 56(2):517–538.
Ghilardi, Silvio (1992). Quantiﬁed extensions of canonical propositional
intermediate logics. Studia Logica, 51(2):195–214.
Gierz, G., Hofmann, K.H., Keimel, K., Lawson, J.D., Mislove, M., and
Scott, D.S. (1980). A Compendium of Continuous Lattices. Springer-
Verlag.
Goldblatt, Robert (1979). Topoi: The Categorial Analysis of Logic, vol-
ume 98 of Studies in Logic and the Foundations of Mathematics.
North-Holland.
Goldblatt, Robert (1981). Grothendieck topology as geometric modality.
Z. Math. Logik Grundlag. Math., 27(6):495–529.
Isoda, Eiko (1997). Kripke bundle semantics and C-set semantics. Studia
Logica, 58(3):395–401.
Johnstone, P.T. (1982). Stone Spaces. Number 3 in Cambridge Studies
in Advanced Mathematics. Cambridge University Press.
Johnstone, P.T. (1985). Vietoris locales and localic semi-lattices. In Hoﬀ-
mann, R.-E., editor, Continuous Lattices and their Applications, num-
ber 101 in Pure and Applied Mathematics, pages 155–18. Marcel
Dekker.

Locales and toposes as spaces
71
Johnstone, P.T. (2002a). Sketches of an Elephant: A Topos Theory Com-
pendium, vol. 1. Number 44 in Oxford Logic Guides. Oxford Univer-
sity Press.
Johnstone, P.T. (2002b). Sketches of an Elephant: A Topos Theory Com-
pendium, vol. 2. Number 44 in Oxford Logic Guides. Oxford Univer-
sity Press.
Johnstone, P.T. and Vickers, S.J. (1991). Preframe presentations present.
In Carboni et al., 1991, pages 193–212.
Joyal, A. and Tierney, M. (1984). An extension of the Galois theory of
Grothendieck. Memoirs of the American Mathematical Society, 309.
Lambek, J. and Scott, P.J. (1986). Introduction to Higher-Order Cate-
gorical Logic. Cambridge University Press.
Lavendhomme, R., Lucas, Th., and Reyes, G. (1989). Formal systems for
topos-theoretic modalities. Bull. Soc. Math. Belg. S´er. A, 41(2):333–
372.
Mac Lane, S. (1971). Categories for the Working Mathematician. Springer-
Verlag.
Mac Lane, S. and Moerdijk, I. (1992). Sheaves in Geometry and Logic.
Springer-Verlag.
Maietti, Maria Emilia (2003). Joyal’s arithmetic universes via type the-
ory. In Blute, Rick and Selinger, Peter, editors, Category Theory and
Computer Science (CTCS ’02), number 69 in Electronic Notes in The-
oretical Computer Science. Elsevier. doi:10.1016/S1571-0661(04)80569-
3.
Makkai, M. and Reyes, G. (1995). Completeness results for intuitionis-
tic and modal logic in a categorical setting. Ann. Pure Appl. Logic,
72(1):25–101.
McKinsey, J.C.C. and Tarski, A. (1944). The algebra of topology. Ann.
of Math., 45(2):141–191.
Nagaoka, K. and Isoda, E. (1997). Incompleteness results in Kripke bun-
dle semantics. Math. Logic Quart., 43(4):485–498.
Palmgren, Erik and Vickers, Steven (2005). Partial Horn logic and carte-
sian categories. submitted for publication, preprint available from De-
partment of Mathematics, University of Uppsala, Sweden.
Plotkin, G.D. (1981). Postgraduate lecture notes in advanced domain
theory. Technical report, Dept of Computing Science, University of
Edinburgh.
Reyes, G. and Zolfaghari, H. (1991). Topos-theoretic approaches to modal-
ity. In Carboni et al., 1991, pages 359–378.
Reyes, G. and Zolfaghari, H. (1996). Bi-Heyting algebras, toposes and
modalities. J. Philos. Logic, 25(1):25–43.

72
Reyes, Gonzalo (1991). A topos-theoretic approach to reference and
modality. Notre Dame J. Formal Logic, 32(3):359–391.
Robinson, E. (1986). Power-domains, modalities and the Vietoris monad.
Technical Report 98, Computer Laboratory, University of Cambridge.
Sambin, G. (1987). Intuitionistic formal spaces – a ﬁrst communication.
In Skordev, Dimiter G., editor, Mathematical Logic and its Applica-
tions, pages 187–204. Plenum.
Shehtman, Valentin B. and Skvortsov, D.P. (1990). Semantics of non-
classical ﬁrst order predicate logics. In Petkov, P., editor, Mathemat-
ical Logic, pages 105–116. Plenum Press, New York.
Shirasu, Hiroyuki (1998). Duality in superintuitionistic and modal pred-
icate logics. In Kracht, Marcus, de Rijke, Maarten, Wansing, Hein-
rich, and Zakharyaschev, Michael, editors, Advances in Modal Logic,
Volume 1 (Berlin, 1996), number 87 in CSLI Lecture Notes, pages
223–236. CSLI Publications, Stanford.
Skvortsov, D. and Shehtman, V. (1993). Maximal Kripke-type semantics
for modal and superintuitionistic predicate logics. Ann. Pure Appl.
Logic, 63(1):69–101.
Skvortsov, Dmitrij (1996). On ﬁnite intersections of intermediate pred-
icate logics. In Ursini, A. and P., Agliano, editors, Logic and Algebra
(Pontignano 1994), number 180 in Lect. Notes Pure Appl. Math.,
pages 667–688. Marcel Dekker.
Skvortsov, Dmitrij (2003). An incompleteness result for predicate ex-
tensions of intermediate propositional logics. In Balbiani, Philippe,
Suzuki, Nobu-Yuki, Wolter, Frank, and Zakharyaschev, Michael, edi-
tors, Advances in Modal Logic, Volume 4, pages 461–474. King’s Col-
lege Publications, London.
Smyth, M. (1978). Power domains. Journal of Computer and System
Sciences, 16:23–36.
Suzuki, Nobu-Yuki (1990). Kripke bundles for intermediate predicate
logics and Kripke frames for intuitionistic modal logics. Studia Logica,
49(3):289–306.
Suzuki, Nobu-Yuki (1993). Some results on the Kripke sheaf semantics
for superintuitionistic predicate logics. Studia Logica, 52(1):73–94.
Tarski, Alfred (1938). Der Aussagenkalc¨ul und die Topologie. Fund.
Math., 31:103–134.
Vickers, S.J. (1995). Locales are not pointless. In Hankin, C.L., Mackie,
I.C., and Nagarajan, R., editors, Theory and Formal Methods of Com-
puting 1994, pages 199–216, London. Imperial College Press.
Vickers, S.J. and Townsend, C.F. (2004). A universal characterization of
the double powerlocale. Theoretical Computer Science, 316:297–321.
Vickers, Steven (1989). Topology via Logic. Cambridge University Press.

Locales and toposes as spaces
73
Vickers, Steven (1997). Constructive points of powerlocales. Math. Proc.
Cam. Phil. Soc., 122:207–222.
Vickers, Steven (1999). Topical categories of domains. Mathematical
Structures in Computer Science, 9:569–616.
Vickers, Steven (2001). Strongly algebraic = SFP (topically). Mathemat-
ical Structures in Computer Science, 11:717–742.
Vickers, Steven (2004). The double powerlocale and exponentiation: A
case study in geometric reasoning. Theory and Applications of Cate-
gories, 12:372–422.
Vickers, Steven (2005). Some constructive roads to Tychonoﬀ. In Crosilla,
Laura and Schuster, Peter, editors, From Sets and Types to Topol-
ogy and Analysis: Towards Practicable Foundations for Constructive
Mathematics, number 48 in Oxford Logic Guides, pages 223–238. Ox-
ford University Press.
Vickers, Steven (2006). Compactness in locales and formal topology. An-
nals of Pure and Applied Logic, 137:413–438.
Viglas, K. (2004). Topos Aspects of the Extended Priestley Duality. PhD
thesis, Department of Computing, Imperial College, London.
Wraith, G.C. (1979). Generic Galois theory of local rings. In Fourman
et al., 1979, pages 739–767.

