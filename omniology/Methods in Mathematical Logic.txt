Lecture Notes in 
Mathematics 
Edited by A. Dold and B. Eckmann 
1130 
Methods in Mathematical Logic 
Proceedings of the 6th Latin American 
Symposium on Mathematical Logic 
held in Caracas, Venezuela 
August 1-6, 1983 
Edited by C.A. Di Prisco 
Springer-Verlag 
Berlin Heidelberg New York Tokyo 

Editor 
Carlos Augusto Di Prisco 
Instituto Venezolano de Investigaciones Cientfficas 
Departamento de Matem&ticas 
Apartado 1827, Caracas 1010-A, Venezuela 
ISBN 3-540-15236-9 Springer-Vertag Berlin Heidelberg New York Tokyo 
ISBN 0-38?-15236-9 Springer-Verlag New York Heidelberg Berlin Tokyo 
This work is subject to copyright. All rights are reserved, whether the whole or part of the material 
is concerned, specifically those of translation, reprinting, re-use of illustrations, broadcasting, 
reproduction by photocopying machine or similar means, and storage in data banks. Under 
§ 54 of the German Copyright Law where copies are made for other than private use, a fee is 
payable to "Verwertungsgesellschaft Wort", Munich. 
© by Springer-Verlag Berlin Heidelberg 1985 
Printed in Germany 
Printing and binding: Beltz Offsetdruck, Hemsbach/Bergstr. 
2146/3140-543210 

PREFACE 
The Vl Latin American Symposium on Mathematical Logic was held 
in Caracas, Venezuela from the i st to the 6 th of August 1983. The meeting 
was sponsored by Asociacidn Venezolana para el Avance de la Ciencia 
(AsoVAC), Consejo Nacional de Investigaciones Cientificas y Tecnoldgicas 
(CONICIT), Fundacidn Polar, IBM de Venezuela, Instituto Venezolano de 
Investigaciones Cientificas (IVIC), Universidad Central de Venezuela, 
The National Science Foundation of the United States of America, The 
British Council, The French Government, Division of Logic, Methodology 
and Philosophy of Science of the International Union for History and 
Philosophy of Science, Organization of American States. 
The Program Committee was formed by Xavier Caicedo (Universidad 
de los Andes, Bogota, Colombia), Rolando Chuaqui (Pontificia Universidad 
Catdlica de Chile, Santiago, Chile), Newton C. A. da Costa (Universidade 
de Sao Paulo, Brasil) and Carlos Augusto Di Prisco (Instituto Venezolano 
de Investigaciones Cientlficas y Universidad Central de Venezuela). 
IVlC's Centro de Estudios Avanzados sponsored a seminar consis- 
ting in five short courses of ten hours each. The courses were: Non-Clss- 
sical 
Logics by Newton C. A. da Costa, Some Aspects of the Theory of 
Large Cardinals by Wiktor Marek (Warsaw University), Mathematical Prac- 
tice and Subsystems of Second Order Arithmetic by Stephen Simpson (Penn- 
sylvania State University), The w-rule by E. G. K. Lopez-Escobar (Uni- 
versity of Maryland), and Logic, Real Algebra and Real Geometry by M~ximo 
Dickmann (Universit~ de Paris VlI-CNRS). The courses were attended by 
participants fron Argentina, Chile, Mexico, Italy and Venezuela. 
The Ateneo de Caracas and the Consejo Nacional para el Desarro- 
Iio de la Energfa Nuclear hosted a panel discusssion on the Philosophy 
of Mathematics with the participation of Newton C. A. da Costa, Rolando 
Chuaqui, George Wilmers (Manchester University) and Vincenzo P. Lo Monaco, 
Pedro Luberes and Juan NuNo of the Institue of Philosophy of the Univer- 
sidad Central de Venezuela. 
The local Organizing Committee included Arturo Rodriguez Lemoine, 
(Universidad Central de Venezuela), Pedro Lluberes who organized and 
chaired the panel discussion on Philosophy of Mathematics and Jorge 
Baralt (Universidad Simdn Bolivar. Professor Wiktor Marek provided inva- 
luable help organizing the symposium. 

IV 
The final version of these proceedings was prepared by Mrs. 
Magally Arvelo-0sorio. My sincere appreciation for her skilled work. 
Carlos Uzc~tegui proofread large portions of the book. 
This volume was edited with the collaboration of Xavier Caicedo, 
Rolando Chuaqui and Newton C. A. da Costa. 
Carlos Augusto Di Prisco 

LIST OF PARTICIPANTS 
Jos~ A. Amor 
Ayda Arruda 
Jorge Baralt 
Susana Berestovoy 
Lenore Blum 
Everett Bull 
Xavier Caicedo 
Ana Cavalli 
Rolando Chuaqui 
Roberto Cignoli 
Peter Clote 
Manuel Corrada 
Luis Jaime Corredor 
Newton C.A. Da Costa 
MAximo Dickmann 
Carlos A. Di Prisco 
Itala M. D'Ottaviano 
Sergio Fajardo 
James Henle 
Jorge Herrera 
Jaime lhoda 
Thomas Jech 
E.G.K. L6pez Escobar 
Alain Louveau 
Maria Jimena Llopis 
Pedro Lluberes 
Menachem 
Magidor 
Jerome I. Malitz 
Wiktor Marek 
Maria V. Marshall 
Adrian R.D. Mathias 
Gisela M~ndez 
Irene Mikenberg 
Julia ~ller 
Kenneth McAloon 
Anil Nerode 
Juan NuNo 
Jeffrey Paris 
Ramdn Pino 
Ruben Preiss 
Alexander Prestel 
Cecylia Rauszer 
William Reinhardt 
Arturo Rodriguez Lemoine 
Rafael Rojas Barbachano 
Gerald Sacks 
Maria G. Schwartze 
Antonio M. Sette 
Stephen Simpson 
Roger Soler 
Jacques Stern 
Elias Tahhan 
Carlos Uzc~tegui 
Carlos Vasco 
George Wilmers 
Professor Michael Makkai was unable to attend the meeting. 
His paper 
is, nevertheless, included in the proceedings. 

TABLE OF CONTENTS 
Xavier Caicedo 
Failure of interpolation for quantifiers of monadic 
type. 
Rolando Chuaqui & Leopoldo Bertossi 
Approximation to truth and theory of errors. 
Peter Clote 
Partition Relations in Arithmetic. 
Manuel Corrada 
On the axiomatizability of sets in a class theory. 
Maximo A. Dickmann 
Applications of model theory to real algebraic 
geometry. 
A survey. 
Carlos A. Di Prisco 
& Wiktor Marek 
On the space (i) < 
Itala M.L. D'Ottaviano 
The model extension theorems for ~3- theories 
Sergio Fajardo 
Completeness theorems for the general theory of 
stochastic processes. 
James M. Henle, Adrian R.D. Mathias & W. Hugh Woodin 
A barren extension. 
E.G.K. Lopez-Escobar 
Proof functional connectives. 
Michael Makkai 
Ultraproducts and categorical logic. 
Jerome I. Malitz 
Problems in taxonomy, a floating log. 
Jeffrey Paris & A. Wilkie 
Counting problems in bounded arithmetic. 
Ramon Pino & Jean-Pierre Ressayre 
Definable ultrafilters and elementary end extensions. 
13 
32 
69 
76 
151 
157 
174 
195 
208 
222 
310 
317 
341 

VII 
Alexander Prestel 
On the axiomatization of PRC-fields. 
Cecylia P~uszer 
Formalizations of certain intermediate logics. 
Part I. 
William N. Reinhardt & Rolando Chuaqui 
Types in class set theories. 
Jacques Stern 
Generic extensions which do not add random reals. 
351 
360 
385 
395 

FAILURE OF INTERPOLATION FOR 
~UANTIFIERS OF MONADIC TYPE 
Xavier Caicedo 
Universidad de los Andes - Departamento de Matem~ticas 
Apartado A~reo 4976 
Botogt~ D.E., 
Colombia 
ABSTRACT 
It is shown that no proper extension of first order logic by LindstrDm- 
Mostowski quantifiers of monadic type, that is quantifiers of the form 
QXl...Xn($1(x I) ..... ~n(Xn)), satisfies the many sorted Craig's inter- 
polation lenmm or even the one sorted, if closed under relativizations. For 
example 
L 
or any of its admissible fragments can not be generated by 
any number of these quantifiers. 
This generalizes previous results of the 
same type shown under stronger hypothesis. 
In contrast, all monadic logics 
generated by cardinal quantifiers satisfy interpolation. 
§0. 
INTRODUCTION. 
In the context of abstract model theory few 
"natural" logics seem to satisfy Craig's interpolation ienmm. 
No proper 
compact extension of first order logic satisfying this property is known; 
and besides 
L 
and its admissible fragments there are not too many 
uncompact examples. 
On the other hand, there are several general non-interpolation results, 
starting with Lindstr~m [9], 
who shows that if a logic extends 
L 
~w 
in infinite models, is generated by finitely nmny quantifiers, and 
satisfies the downward LDwenheim-Skolem Theorem, then it does not satisfy 
even Beth's definability theorem. 
In [7] 
Friedman shows that no logic between 
L 
(Ch) 
or L 
(Q) with 
' 
~ 
e I and the large logic L w(Ch,Q~l~ c Ord) satisfies Beth's theorem, 
where 
Ch 
is Chang's quantifier and 
Q~ is the quantifier "there 
are at least 
m ...". 
In 
[3], 
we observe that this generalizes to sub- 
logics of 
L(QI Q E Mon) where Mon denotes the class of all quantifiers 
of monadic type. 
Makowsky and Shelah prove in 
[ii] 
that no logic of the form 
Lwm(Qi i e I) with 
Qi ~ Mon satisfies many sorted interpolation, provid- 
ed it satisfies Robinson's joint consistency lemma, the Feferman-Vaught 

property for sums of structures, and also II I ~ ~ 
where ~ 
is assumed 
to be a strong limit cardinal• 
See also Makowsky [I0] and Mundici [13] 
for related results. 
In this paper we show that for quantifiers of monadic type, the above 
hypothesis, as well as the assumption that the logic contains one of the 
quantifiers 
Ch 
or 
Q~, ~ ~ i, are unnecessary. 
No logic of the form 
L(Qili 
~I), Qi cMon, satisfies many sorted interpolation, and it does 
not satisfy even single sorted interpolation in case it admits relativi- 
zations of sentences. 
After considering some simple applications we show an analogous result 
for extensions of L .  
Then, we observe that in contrast, the result 
does not hold for monadic logics, since all extensions of first order 
monadic logic by cardinal quantifiers satisfy interpolation. 
§I• 
PRELIMINARIES. 
We assume that the reader is acquainted with the 
basic notions of abstract model theory as presented, for example, in 
[i], [8] or 
[ii]. 
Universes of structures ~,~, ~,... will be denoted 
by A,B,C ..... respectively, 
IAI 
denotes the cardinal number of A• 
For a formula 
~(x 
~) 
in any logic, ~ 
= 
{(a I ..... an) cAnl@~ 
~[a I ..... an]}. 
Elementary equivalence between two structures with res- 
pect to a logic 
L will be denoted 
"~mod 
L", 
elementary equiva- 
lence in L 
will be simply denoted 
"~ ~" 
We will consider quantifiers in the sense of Mostowski [12] as generaliz- 
ed by Lindstrom [8]. 
A ~uantifier 
Q 
is a class of structures of some 
finite type 
<nl,•°.,nk> 
closed under isomorphism, to which it is 
associated a syntactical rule which allows to form, from formulae 
~i~i ) .
.
.
.
.
.
.
 
~n(~n), the new formula~ ~° = Q~I' 
~Xn(~l(Xl)~ .... '~n(Xn ))'with 
the meaning: 
~ ~ o ~> (A,~ ..... ~) e Q o Note that we use the same 
symbol for the quantifier itself and for its syntactical expression. 
Given a family of quantifiers 
Ql i~I, the smallest logic closed under 
the first order logical operations and the quantifiers 
Qi will be denot- 
i 
ed L(Q 
li c I) 
and we will say that it is ~enerated by the quanti- 
fiers Ql 
~, 
LK~(Qili ~ I) is constructed allowing 
For cardinals 
K 
> 
° 
conjunctions of size less than 
K; 
the subscript 
K = ~ will denote 
closure under conjuctions of arbitrary sets of sentences. 
Finally, 
L~w(QIIi ~ I) 
represents the sublogic obtained by restricting to senten- 
ces of quantifier rank less than the ordinal y (cf.[3]). 
Note that the infinitary character of a logic is a relative matter, and 
definitively it is not a model theoretical property, since under very 

weak conditions any l
~
s
 
the form 
L(Qili 
c I) for adequate fami- 
lies (could be proper classes) of quantifiers. 
This includes the in- 
finitary logics construed above 
(for Y limit). 
This is also the 
ease of any logic satisfying the interpolation lemma. 
This paper studies the case of logics generated by quantifiers of monadic 
type 
<i> or 
<i ..... i>. 
Well known examples of these are the cardinal 
quantifiers 
Qe = 
{(A,B) I IBle~ } as well as Chang's 
Ch = 
{(A,B) I IBI = IAI} and 
Hartig's 
H = {(A,B,C) I IBI = ICi}. 
One could 
consider many other possibilities such as 
b 
Qx I .... Xn(%l(X I) ..... ~n(Xn )) ~> P(I~I ..... I~n~l) = 0 
where 
P(x I ..... Xn) is a given diofantine polynomial, 
or 
Qxyz(~(x),~(y),o(z)) 
~=~ I~ ~] ÷ (1~I) 2 
in the sense of Erd6s-Rado partition calculus. Obviously these do not in- 
clude the quantifiers of Henkin, Magidor and Malitz, and all sort of 
order quantifiers 
(cf.[ll]). 
Without misgivings about classes of classes, let 
Mot 
be the class of 
all quantifiers of monadic type (cf. [8]). 
We will abbreviate L~w(Mon) 
for L 
(QIQ ¢ Mot) . 
Given formulae 
~l(X) .... ,~n(X), which may allow extra free variables, 
we introduce for each function 
6:{0,1 .... ,n - I} + {0,I} the formula 
~: = A 
~i+l(X) 6(i) 
i<n 
where 
%i 0 
is 
~i 
and 
%i I 
is 
m ~i" 
Given a monadic language 
{PI ..... Pn }, 
a corresponding monadic structure ~ = 
(C, P~ ..... Pn 
~) 
is completely determined up to isomorphism, by the cardinals 
K~ = 
I P 6(x)~I 
6 c 2 n" 
Hence, the associated quantifier 
Q~= 
{~'I~'i~} is expressible, for 
ICi~ m 
, in terms of the cardinal quantifiers 
QB' B ~ ~+i, and 
@=m 
(there are exactly 
m), m < w: 
Q~ x I ..... Xn(P I .... Pn ) <~ 
/~(Q~xP~(x)A 
-, QB+IXP~(x)) ^ 
m 
(@=mx p~(x)). 
= ~B 
K~ = m<~ 
We have taken the quantifiers 
~=m as primitives in order that the 
two equivalent formulae above have the same quantifier rank. 
Therefore, 
by a simple induction, for every ordinal (even finite) 

L Y~ (Q~IICI <-w e) ~ L~w(Q B, ~= ml B ~e+l, n<~) 
(i) 
where ~runs through all monadic structures of size at most 
w e. 
Then 
we have the following lemma, shown in [3] for ~ = I and y = ~. 
LEMMA I.i. 
Let ~ and~be 
structures of power at most w e , then for 
each ordinal y, ~ m o d  
LY~ (QB' ~= mlB ~ ~' m<~) implies ~mod 
L Y 
(Mon). 
PROOF. 
We can dispense the quantifier 
Q~+I 
since it acts trivially in 
and ~. 
Hence, if we have the first elementary equivalence, 
by (i) 
it is enough to show that ~Fmod 
L¥~ (Q~I ICl ~ w e) 
implies ~m0d 
L ¥ (Mon). 
This is done by a back-and-forth argument as in [3], 
using 
the characterization of elementary equivalence for arbitrary quantifiers 
given by the author there 
(cf. theorems 
3.1, 3.3 
and lemmas 
4.1, 
4.2). 
Note that if 
cof(y) ~ m, we may ignore the quantifiers 
~= m 
in the 
hypothesis of the lemma, because they are definable 
(from ~)without 
raising the quantifier rank up to y. 
Now, we exploit a well known counterexample for interpolation in L(QI). 
Let 
K e M 
be arbitrary cardinals, 
then define 
N(K,M) 
to be a structure 
(D,E) 
such that 
IDl = K 
and 
E 
is an equivalence relation in D hav- 
ing M 
equivalence classes, each one of power 
K. 
The following lemma 
appears in 
[2] 
for 
K = M = ml' 
M' = m, 
and quantifiers of type <I>. 
As Makowsky observes in [7] , its generalization to all cardinals and 
all quantifiers of monadic type is straightforward: 
LEMMA 
1.2. 
If K e M e M'~ w 
then 
D(K,M) z D(K,M') mod L(Mon) 
Obviously, this lemma does not hold for M 
or M' finite° 
However, we 
have the following finite version. 
LEMMA 1.3. 
If K e M e M' e n 
with 
n~ then 
N(K,M) E N(K,M') 
mod 
L~(Mon). 
PROOF. 
By lemma I.i, it suffices to show elementary equivalence in the 
n 
logic 
L~w(Q B, ~=mI~ ~Ord, m~). 
For this purpose we introduce the following back-and-forth relation bet- 
ween the two structures 
(cf. definitions 
2.1, 2.2 and theorem 3.3 in 
[3]) 
with parameters in 
(n,<). 
Let 
N(K,M) = (A,E), 
~(K,M') = (B,E'); 
then for 
(x I ..... Xr) , (Yl ..... yr ) E AruB r 
and p = 0, I ..... n-l: 
(Xl ..... Xr) ~P (Yl .... Yr ) 
if and only if the assignment 
xi ~ Yi is 
a partial isomorphism, and r ~ n-p. 

Let us recall that given 
~ = (a I .... ,ar)eA r 
and 
acA, 
then 
[a]~ 
= 
{xcA I ~x ,~ 
p 
~a} , 
a 
. 
Br 
here, we write 
~x 
for 
(a I ..... dr,X) 
Analogously, 
for 
~ ~ 
and 
and b e B: 
[b]~ 
: 
{xcB I ~x ~ p 
~b} . 
To conclude 
that 
we have 
elementary 
equivalence 
we must 
verify: 
(i) 
(ii) 
(iii) 
,~P 9, 
where 
~ 
is the empty sequence. 
Given 
~ 
~ 
~ 
with 
~A r 
and 
~c B r, 
there exists 
f:A+B 
such that 
(A) 
~a,~P ~f(a) for any 
a~A, 
(B) 
for any 
XcA 
and any quantifier 
Q 
generating the logic, 
[a]~ ~ Q 
implies 
~ 
[f(a)]~cQ. 
a~X 
a 
aEX 
p 
As (ii), interchanging the role of A 
and 
B. 
(iv) 
If 
(x I 
'Xr)'~P (YI' 
,yr ) then the assignment 
xi~Y. 
is a 
partial isomorphism 
between the structures to which 
x 
and 
belong, respectively. 
We verify only the extension property (ii), the rest is trivial. 
If 
~ 
~, ~EA r, b~B r 
then 
r ~n-(p+l) <n; 
hence, there will be 
equivalence classes in A 
and 
B (with respect to the relations 
E 
and 
E', respectively) 
not occupied by any 
a i or 
or b i, and so we can 
define 
f:A ÷ B 
such that 
(i) 
f establishes a bijection between the equivalence class of 
a i 
and that of bi, with 
f(a i) = bi, for i = I ..... r. 
(ii) 
f establishes a bijection between the union of the equivalence 
classes of 
A 
not occupied by any 
a i 
and the union of the 
equivalence classes of 
B 
not occupied by any b i. 
~p~ 
It is easy to see that 
a a 
b f(a), because we still have a partial 
isomorphism and length of (~ a) ~ n-(p+l)+l=n-p. Also, for any 
aEA, 
[ [a] ~ I = 
[If(a) ]~ I and 
disjoint sets of the form 
[a]~ 
are sent 
a 
b 
a 
to disjoint sets 
[f(a)]~ 
by f. 
b 
Hence, for any 
X ! A 
and any quantifier 
Q = Q~ or ~=m we have the 

the extension property: 
~J [a]~ cQ 
implies 
acX 
a 
Therefore, in the notation of [3]: 
=m 
(n,<) 
(D (K,M), 
~' ] 
)e,m 
which shows elementary equivalence. 
~ [f(a)]P EQ. 
aeX 
a 
=m 
(D(K,M') , Q~' ~ 
)~,m 
§2. 
FAILURE OF INTERPOLATION. 
For simplicity, we consider first the 
case of single sorted logics closed under relativizations. 
The many 
sorted case will follow readily. 
A logic is closed under relativizations 
if for every sentence of type T and monadic predicate 
V, there is 
~V 
of type 
Tu{V} such that for all 
~ +V 
~> ~rV ~'~+. 
Most known logics have this property. 
Recall that a class 
K 
of structures of type T is 
PC (projective) in a 
logic 
L 
if there is a sentence 0 in 
L 
of type 
T'~T such that 
K = {~PT[ ~0}. 
The logic has the interp01ati0 p property if any two 
disjoint 
PC classes may be separated by an elementary class. 
In the next lemma we only need closure under negation and conjunctions. 
2.1 
LEMMA. 
Assume that 
L ~ L 
(Mon) and 
L 
is closed under relativ- 
izations. 
If 
L 
has the interpolation property, then for any pair of 
monadic structures (of finite type) 
~z ~implies ~z ~ mod L. 
PROOF. 
Suppose that the conclusion does not hold then there are struc- 
tures ~ = (A,PigI) i 
and 
~ = (B,Pi~)i 
such that 
(i) ~ ~ ~ 
mod L 
(2) ~ ~ ~ mod L. 
By the downward LSwenheim-Skolem Theorem in L~ we may assume without 
loss of generality that 
IBId,. 
Then by 
(I) 
we have the following 
possibilities for each 
~E2n: 
IP~I 
e IP~I 
= 
IBI 
= 
~. 
By (2), ~ + ~, and so 
IF~q/I > Ip~51=w 
for some 6. 
Hence 
IAI>IBI = ~. 
Choose 
+EL such that ~ ~ 
and ~ 
4. 
For each monadic predicate 
Pi 
introduce a new predicate 
Pi' let 
V 
be another new monadic predicate. 
With the help of additional (binary) predicates to express the cardinali- 
ty relations indicated symbolically below, it is possible to say in the 
logic 
L 
the following sentences: 

i) 
ii) 
iii) 
iv) 
v) 
Then 
l ' 
Vx [Pi(x) ÷ V(x)) 
~--m x P~(x)^~ =m x ~(x)AV(x)) 
for 
(IP6nV 1 : IV1) ^ [IP6nVI ~ IPI) 
for 
+A~ ~V 
(~f,~ .... ), with 
V 
interpreted as 
B 
satisfies the sentences. 
the sentences must have 
IA'I > IB'I e ~, because 
if 
we would have by (iii), 
(iv), 
IP6nV I = 
IP61 for all 
(ii) ~'= 
~', contradicting 
(v). 
Now, consider sentences with an additional predicate 
E 
additional predicates as necessary to say : 
vi) 
vii) 
viii) 
and 
Pi 
interpreted as 
Moreover, any 
(~',~',...) 
satisfying 
IA'I 
= 
IB'] 
6e2 n, and so by 
and as many 
"E 
is an equivalence relation of the universe" 
"Each equivalence class is equipotent to the universe" 
"The number of equivalence classes is equipotent to V". 
Then, if @ is the conjunction of 
(i) 
to 
(viii), the class 
K I = {(A',E') 1 (~',~', .... E'...) ~0 
for some ~',~',...} 
is 
PC 
in L 
and contains 
~(IAI, IBI) with ~and ~as above. 
More- 
over, it is disjoint of the class 
K 2 = {(A',E')I(A',E') m D(K,K), K ~Card} 
which is trivially 
PC 
in L. 
Since we have 
D(IAI, IBI) ~ D(IAI,IAI) 
mod L(Mon) 
by lemma 1.2, interpolation fails in L. 
D 
REMARK. 
Clearly the conclusion of the lemma follows from the weaker 
hypothesis: Interpolation (L,L(Mon)). 
THEOREM. 
If L 
L(Qlli 
e I) 
Qi 
2.2 
= 
with 
~Mon is closed under 
relativization and extends properly 
Lw~ then it does not satisfy inter- 
polation. 
PROOF. 
If the logic has the form L = L(Qili 
c I) with each 
Qi 
of 
monadic type, then for any monadic structures ~f,~ 
such that ~ 
~, 
we have by the lema: 
~ 
Qi if and only if 
~ 
Qi 
This means that Qi 
does not distinguish infinite cardinals in the sense of Mostowski [12] 
and LindstrSm 
[8]. 
Applying Corollary 3.2 
in LindstrSm's paper, we 
have that 
L must satisfy the downward LSwenheim-Skolem Theorem. 
By 
LindstrSm's corollary 
I 
in 
[9], 
there is a 
PC class 
K 
in L with 
the following properties: 

i) 
(A,B)~ K 
implies 
IBI <~ . 
ii) 
For all 
nc~ there is 
(A,B) ~K such that 
IBI = n + I. 
Let ~(P) be the sentence which characterizes 
K 
(with the help of add- 
itional predicates) 
when 
P 
is interpreted as 
B. 
Add new predicate 
symbols 
<, (binary), and 
V (monadic). 
Then the conjunction of the 
following sentences 
"< 
is a linear order without last element" 
"E 
is an equivalence relation" 
Vx(P(x) ÷ V(x)) ^ ~(p)V ^ V x ~y(P(y) ^ yEx) 
shows that the class of equivalence relations: 
K = {(A,E) I 
IAi e ~, 
E has finitely many equivalence classes} 
is 
PC 
in L, because ~(P)V 
if and only if 
IP ~ I< ~. 
Since this 
class is disjoint of the 
PC 
class 
K' 
= 
{(A,E) J (A,E) m D(K,K), Kc Card}, 
and by le=~a 1.3 we have 
N(~,n) ~ D(~,m) 
mod 
L n 
(Mon), 
these two classes are inseparable by any finite quantifier rank formulae 
and so by 
L. 
Up to now we have considered single sorted types only. 
If we consider 
many sorted types then any sentence may be stated about each one of the 
sorts (or universes) of the type. 
Hence, wherever we used relativized 
sentences 
~V, 
we may use instead the sentence 
~, 
construed as speak- 
ing about a second sort. 
Thus, we have: 
2.3 
THEOREM° 
Let 
L = L~(Qili ~I), Qi ~Mon, be a logic satisfy- 
ing many (two) sorted interpolation then L E L 
This improves considerably theorem 
6.15 
in Makowsky and Shelah [Ii] , 
shown under stronger additional hypothesis (see introduction) which imply 
full compactness. 
§3. 
AN APPLICATION. 
Note that theorems 
2.2 
and 
2.3 
can not be 
extended to arbitrary sublogics of L(Mon) 
since L~I ~ is a such sub- 
logic satisfying interpolation and having relativizations. 
The same 
can be said of any admissible fragment of L~m, for example the small- 
est one, 
AL(Qo) , where A denotes closure under 
A-interpolation 
(cf. [Ii])• 
However, these logics are generated by adequately chosen 
families of quantifiers. 
But 
ALw~(Qo) may not be generated by finite- 
lymany quantifiers because it satisfies the downward LSwenheim~kolem 

Theorem (Lindstr@m [9]). For quantifiers of monadic type we have more 
generally: 
3.1 
COROLLARY. 
Lm~ m and its admissible fragments are not generated 
by any number of quantifiers of monadic type. 
As an interesting example, introduce for each set of natural numbers 
S 
the quantifier 
QS 
where 
~ QSx~(x) ~> I~ ~I e S. 
Obviously 
L~m(QSISJ m) < Lml ~ and by the corollarythe extension must be 
proper. 
However, this logic is strong enough to have 
AL(QSIs!~) 
Lm~m. 
In the same way, if A 
is a countable admissible set, 
L~(QSIscA) 
is a proper 
sublogic of 
L A 
whose 
A-closure is 
L A- 
Now, we turn our attention to the extensions of L~I~, showing an 
analogue of theorems 
2.2 
and 
2.3. 
i 
3.2 THEOREM. A proper extension of 
L i W of the form L I~( Q li E I) 
with QI e Mon 
does not satisfy the many sorted interpolation lemma. If 
it is closed under relativization it does not satisfy single sorted 
interpolation 
either. 
PROOF. 
If the logic 
(call it L) 
satisfies interpolation then lemma 2.1 
applies and each class of monadic structures which is elementary in L 
is characterized by its countable models. 
Hence, for each 
i e I, 
QiXl ..... Xn(Pl(Xl ) ..... en(Xn) ) ~/{~i~ 
E Qi IA I ~ ~} 
(i) 
where 
~ 
is a 
"Scott sentence" for ~ in L i ~. 
Since there are only 
countably many non-isomorphism structures of a given (finite) monadic 
type, then the disjunction in the right hand side of (i) may be taken 
in L~I~. 
By an obvious inductive argument, 
L ~L~I ~. 
D 
Actually, by the remark after lemma 2.1, we have under the hypothesis of 
theorem 
3.2 
that interpolation (L,L(Mon)) 
fails also. 
§4. 
MONADIC LOGICS. 
The non-interpolation result does not hold in 
monadic logics. 
In 
[4] 
it is shown, using compactness, that 
M(QI) 
satisfies interpolation 
(we use 
M 
to denote monadic logics in gene- 
ral). 
Since the logic 
Mmm(QI,Q 2 ..... Qm ) is also countably compact, as 
shown in [5], 
the same method yields that this logic satisfies (many 
sorted) interpolation 
(cf. [6] 
theorem 
1.3.4, for generalizations). 
However, we may give a more general result. 
4.1 
THEOREM. 
For any class of ordinals J, the logic 
M(Q~I~ 
c J) 
has the interpolation property. 

10 
Since interpolation is a validity matter and any sentence uses finitely 
many quantifiers, by the remarks above it is enough to show the following 
lemma. 
4.2 
LEMMA. 
Let % be a sentence of Mwm(Q~ I ..... Q~ ), ~l<...<~m , 
m 
and let %' 
be the sentence of 
M 
(QI ..... Qm ) which results of substitut- 
ing the occurrences of 
Q~. in ¢ for 
Qi' 
then: ~¢<=> ~¢'. 
PROOF. 
Associate to each monadic structure ~ = 
(A,P~ ,[..,PJ) 
with 
]~ 
~ K , 6c2 n, another structure ~' = (A',P~', .... P£ ) by 
K~ 
if 
K6 < ~I 
ip'~' 
I 
= 
~i 
if 
~ 
< K6 < 
ei 
ei+l 
w m 
if 
~ 
~ K~. 
em 
A straightforward back-and-forth argument shows that 
(~,Q~i,...,Q~m) 
(~"QI ..... Qm )' 
in the notation of [3] . Hence, ~' ~' 
<=>~ 
and 
so 
The converse implication is more delicate and we give the details. 
Let 
N >qr(¢), N c w. Given ~ as before, associate ~ as follows: 
K~ 
N 
6O 
~m 
if 
K 6 < N 
if 
N 
~ K~ < w I 
if 
w i ~ K~ < ~i+l ' 
if 
~m ~ K~ 
I _< i < m 
(2) 
Now, define a back-and-forth relation between ~f and -~, with parameters 
in 
(N,<), by : a p ~ ~=> a i ÷ b i 
is a partial isomorphism and 
length(a) 
= 
length(~) <- N - p, p ~ 0,i ..... N-I. 
Assume now that 
P+w~l ~, then 
K = length(a) = length(b) <N 
and so by (2), for each 6: 
P 
-{a i li <k} 
# 
~ <=> P6 
-{bi I i < k} 
# 
~. 
This permits to define 
f:A ÷ B 
such that 
f(a i) = b i 
and for 
-{aili <k} 
f(a) ~ P~ -{bil i <k}. 
Obviously 
~a ,~P ~f(a). 
acP~ 
Since [a] p 
and 
[f(a)] p 
have simultaneously the possible forms 
{a i} 
a 
b 
and 
{b i} , or 
~ ~0 -{aili <k} 
and 
Pf -{bili <k} , we have by (2) 

11 
IUEf(a)]~ 
I > ~ 
, 
(l~i~m), 
acX 
a 
acX 
a 
i 
the extension property in one direction. The other direction is similar 
Hence 
(cf. theorem 
3.3, [3] ), 
( ~ 'QI ..... Qm ) 
(N,,_._.<) (~'Q~I ..... Q~m ) 
and so ~ ~ ~' 
<=> ~ 
= ~. 
Thus, 
~ 
=> 
~, 
(3) 
The claim follows from 
(I) 
and (3). 
As an application, 
M~(Qo) satisfies interpolation. 
This logic is 
also equivalent to 
M w(Q I) in validities and so it is recursively axiom- 
atizable~ 
REFERENCES 
[ I] Barwise,K.J. 
E 2] Caicedo,X. 
[ 33 
[ 4] 
[ 5] Fajardo,S. 
[ 6] Flum, J. 
[ 7] Friedman, H. 
[ 8] Lindstrom,P. 
E 92 
Axioms for abstract model theory. 
Ann.Math.Logic 
7(1974),pp.221-265. 
Maximality and interpolation in abstract logics. 
Thesis, University of Maryland (1978) 
Back-and-forth systems for arbitrary quantifiers, 
IN: "Mathematical Logic in Latin America", Proc. 
IV Latin American Symposium on Math.Logic, North 
Holland (1980). 
On extensions of 
L~(QI) , Notre Dame J. of Formal 
Logic 22 (1981),pp. 85-93. 
Compacidad y decidibilidad en idgicas mon~dicas con 
cuantificadores cardinales, Rev.Colombiana de Mat. 
14(1980), pp. 173-196. 
Characterizing logics. 
Preprint (1982). 
Beth's theorem in cardinality logics. 
Israel J. 
Math. 14(1973),pp.205-212. 
First order predicate calculus with generalized 
quantifiers. 
Theoria 32(1966), pp. 187-195. 
On extensions of elementary logic, 
Theoria 35 
(1969), pp. I-ii. 

12 
[i0] Makowsky, J.A. 
[ii] Makowsky,J.A. 
and Shelah,S. 
[12] Mostowski,A. 
[13] Mundici, D. 
Characterizing monadic and equivalence quantifiers, 
Preprint (1978) 
The theorems of Beth and Craig in abstract model 
theory I, Trans.AMS 256(1979) pp°215-239~ 
On a generalization of quantifiers0 
Fund.Math 
44(1957),pp.12-36. 
Quantifiers, an owerview. 
Preprint (1981). 

APPROXIMATION TO TRUTH AND THEORY OF ERRORS "I~(~ 
Rolando Chuaqui (2) 
Leopoldo Bertossi (3) 
Universidad Cat61ica de Chile 
Casilla II4-D 
Santiago, Chile 
i. 
Introduction. 
The purpose of this paper is twofold° 
On the one hand, we shall give 
in Section 2, a model for the theory of errors based on the probability 
structures of Chuaqui 1983 and 1984. 
The construction of this model uses 
recent result in non-standard analysis° 
On the other hand, a formaliza- 
tion of the notion of "approximation to truth", which includes the possi- 
bility of random errors in measurement, will be presented in Section 3. 
This last section is mainly the work of the first author, who takes full 
responsability for it. 
A formalization 
of the notion of approximation to truth was present- 
ed in a paper inspired by ideas of N.da Costa(Mikenberg, da Costa, and 
Chuaqui 198+,MDC, for short), but there, the possibility of random errors 
in measurement was not taken into account. 
As an introduction to our 
ideas in the present paper, we shall briefly sunmmrize the formalization 
of MDC. 
A relational structure ~ = <A,R i > icl is thought of as a theoretical 
physical structure about the objects in A. 
We think of this total struc- 
ture (ioe. for each n-tuples of elements of A, it is determined whether 
it belongs to the n-ary 
relation R i or not) as what the theory gives us 
for the objects in A, 
A natural way to formalize this point of view, is 
to consider scientific theories as set-theoretical predicates, as in 
Suppes 1957, Chapter 12. 
What is actually known about the objects in A, 
' is only a 
is in the Rartial structure ~' = <A,R! > 
where each R i 
1 
icI' 
partially defined relation over elements of A. 
That is, only for some 
tuples 
it is determined whether they belong R i or not. 
For the rest of 
the tuples, it is undetermined. 
A theoretical structure ~is adequate 
for (or compatible with) ~', if ~is an extension of ~', i.e. 
Ricoincides 
with 
R' 
where the latter is defined. 
We define a sentence to be true 
i' 
in ~' 
if it is true in all extensions with the same universe A. 
A 
theoretical structure adequate for ~' is one of these extensions,~, 
i.e. what is true in ~' is also true in ~, 
and nothing that is false 

14 
in ~' is true in ~. 
Thus, there may be several theoretical structures 
which are adequate for ~', 
each one determined (possibly) by different 
theories. 
When our knowledge about the objects in A 
increases we 
obtain another partial structure ~", which is an extension of ~'. 
If 
were compatible with ~2 ~ , but not with~j", then it must be changed and 
the corresponding theory also. 
Another possibility for the rejection of the theory is the following. 
Suppose that ~f' 
is what we know for the objects in A 
and that a 
theory T, say classical mechanics, determines a total structure ~f, with 
universe ~r domain ) A, that is compatible with ~f' 
Assume that if 
we take a differe~domain 
B (which may include A), then ~' is what we 
know about the objects in B, and that the theory 
T 
determines, for B, 
a total structure~that 
is incompatible with~'. 
Then 
T 
should be 
rejected, but we would say that it is still approximately true 
for the 
objects in A. 
For instance, if we take 
A 
as the medium sized objects 
at slow velocities and 
T 
as classical mechanics, then 
T 
is approximate- 
ly true for A. 
This picture, however, is not completely accurate. 
The theoretical 
structure ~, given by T, 
in general does not extend the partial structure 
~f' exactly. 
We usually say that ~ coincides with ~', except for possible 
errors in measurement. 
It is this last factor that we want to formalize 
in the present paper. 
In the measurement of a certain quantity, we usually assume that there 
is a theoretical value, given in the total structure ~f, but that the 
actual value, obtained,i.e, occurring in ~', may differ from it because 
of errors in the procedure of measurement. 
There are three main sources 
for this error. 
Sometimes, there is a systematic error derived from the 
procedure itself. 
Second, there may be an error produced by the limit 
of precision of the measurement method. 
Lastly there may be random errors. 
We shall disregard the first two types of error and consider just random 
errors, which, in general are the most important. 
The account presented 
in Section 2 could be modified so as to take into consideration the other 
types of errors. 
Thus, if we include random errors in measurement, then the theoretical 
structure ~might not be an extension of the partial structure 4', but, 
anyway, be considered compatible with it. 
That is, there might be a 
sentence true 
in ~', but false, strictly speaking, in'f, without this 
fact being enough ground to reject ~(and hence T). 
In order to formalize 
this situation, we do the following. 
In the first place, we associate 
with~another 
structure that we call an error-structure ~ 
. Now, a 

15 
sentence ~, 
instead of being true or false in ~, has a probability 
P~e (~)' which depends on ~ e. 
If there is no sentence true in ~' that 
has low probability according to ~e' and high probability according to 
~e' where~is 
an alternative theoretical structure of ~f, 
then @~is 
compatible 
with~'. 
Probability is thought of as "degree of partial truth" (see Chuaqui 
1977, for a justification for this view). 
Because of the possibility of 
error, we cannot get to truth; 
thus, we should strive to get as close 
as possible to it, i.e. to high probability. 
In a similar way, a false 
consequence means rejection, but we cannot get to falsehood, but just 
to low probability, which is approximate falsehood. 
In fact, we should 
try to approximate falsehood as much as possible, i.e. given any e >0, 
to try to get a sentence ~ true in ~' but with 
P~e(~ ) <~. 
In Chuaqui 
198 +, there is a discussion of how to approximate falsehood with a 
sequence of probabilities decreasing to zero~ 
In order to do this, we 
need sequences of trials of the same experiment. 
Thus, our structures 
~e' have to be complicated somewhat for this purpose: we construct from 
~e' the structure 
~fe ~ that formalizes an unlimited number of repetitions 
of the experiments and define probabilities for sentences according to 
~e ~, derived from 
P~e" 
These probabilities are defined using the 
methods of Chuaqui 
198+' 
This presentation is offered, not as a program for practical imple- 
mentation, but only as a way to illuminate the relations between theory 
and evidence, and between truth and probability, in science. 
It is clear, 
that the models presented here are a preliminary version that is over- 
simplified. 
In particular, we just consider deterministic theories. 
We 
hope to improve these models in the future, and include nondeterministic 
theories. 
2. 
A theoretical model for the theory of errors° 
In this section, we present a model for the theory of random errors. 
In this theory, a quantity is supposed to have a theoretical value, but 
the procedure of measurement introduces a random error that comes from a 
combination of a large number of independent causes, each one producing 
a very small error in the positive or negative direction. 
The total error 
for a particular measurement is obtained by adding up the errors produced 
by the different causes. 
In the compound probability structures of Chuaqui 1983, the causes are 
represented by a causal tree T, with a partial ordering relation. 
Since 
here the causes are independent, two different elements of T are never 
related, i.e. one has no influence upon the other. 
The fact that there 

16 
is a large number of causes, can be represented, 
in non standard analytic 
terms, by taking T to be the internal set 
T = { to,t I ...... ~} where 
is a non-standard infinite natural number, Joe. 
n~* ~ ~~° 
That is, 
T 
is an infinite, but hyperfinite internal set. 
With each cause t k we 
associate a positive infinitesimal 
number 
ek and t k may cause the 
error 
~k 
or 
-ek 
with equal probability. 
In order to describe the 
action of 
tk, we introduce a simple probability structure 
~, 
as in 
Chuaqui 1984o 
K k consists of two relational structures, namely, 
K k 
= 
{ <{-~k,~k} 
, { -~k } > 
, 
<{-ek,~ k} 
, {~k } >} 
The universe of 
K k 
is 
{-ek,~ k} 
The first structure obtains, if 
at 
tk, 
-ek is produced, and the second, if 
E k is. 
The algebra of 
events naturally consists of all subsets of 
K k. 
In order to obtain 
the probability measure 
~k' 
we need a group of permutations of 
{-~k,ek} 
, 
GKk. 
In this case, it clearly contains all permutations of 
this set and 
~k' 
the GKk - invariant measure, assigns 
1/2 to each of 
the models of Kko 
The probability structure for the action of all causes is a compound 
structure 
with causal tree <T,= > . 
In order to keep the total error 
with bounds, we must assume that 
~ 
~ 
= ~ 
where e is a finite posi- 
k=0 
rive number. 
The set of compounds outcomes is 
H 
= 
~ <K k : tkET > , 
i.e., 
H 
consists of the functions $ with domain 
T 
and such that 
~(tk)CK k for each 
k~n. 
Each 
EeH, represents a possible measurement 
(we assume that the theoretical value to be measured is 0). 
As in Chuaqui 
1983 the probability measure ~ defined on subsets of 
H 
is the product 
measure of the 
~k 
for 
k<n. 
The result of the measurement represented by an outcome 
$cH is given 
as follows. 
For each 
k~n, we first define a random variable 
Xk÷*~ 
(the non-standard reals or hyperreal numbers) by, 
Xk(~) = ~k' 
if 
~(t k) = 
<{~k,-~k} 
, 
{~k } > 
(ioeo, ~k = 
~k 
or 
~k = 
-~k )° 
Then. the result of the measurement in outcome 
~eH 
is 

17 
f(~) = 
~ 
k(~) 
k=0 
In order to study the distribution of f, 
we need the central limit 
theorem with the Lindeberg condition in non-standard form as given in 
Stoll 1982: 
If 
n~* I~ - lq and < Yk : k~n > is an internal sequence of 
*indepen- 
dent random variables in an internal probability space (g,A,~) such that 
~(Yk ) = 0 and 
~(¥k 2) = I, and < ak: k-<n > 
is a sequence of infinitesi- 
mal weights 
~k c* ]R such that k=~o~k2 = 
2 
with 
0 <°~e~ +, 
then 
~([ ~ ~kYk<-~]) i* ~Q ~- ) for all 
Xe*~. 
k=0 
Here *~ is the non-standard normal distribution with mean 
0 
and 
standard deviation I. 
Taking standard parts, one can show that if ~ is Loeb's measure gene- 
rated by 
o , then 
~([o ~ ~kYk_<~] ) = ~(o -~) , for all ~c~, 
where ~ is the standard 
k=0 
a 
normal distribution. 
This work of Stoll is based on Loeb 1975 
and Anderson 
1976. 
Thus, we have for our random variable 
f:H ÷ * ~, the following dis- 
tribution : 
~([f-<~]) = ~([ ~k=O ~k [~]-<~]) 
*+(oA) , 
for each 
~c* ~. 
Then, its standard distribution is, 
~([of<~]) 
= ~(o~), 
for each 
~e~R 
Thus, the result of the measurement is normally distributed with 
mean 
0 
and standard deviation °E. 
It is easy to modify the construc- 
tion so that the mean (i.e. the theoretical measurement) is any number 
r cA. 
Thus, in order to obtain a model for the measurement of a certain 
quantity, we must be given two parameters: the theoretical measurement 

18 
r 
and the standard error °Co With these two numbers, we construct a 
compound probability structure as above (that will be called an error 
probability structures)° 
Then the random variable 
f, 
which gives the 
actual value of the measurement, will be normally distributed with 
mean r and standard deviation 
o~° 
The mean 
r 
represents the theoretical measurement and may be 
obtained by calculations from the theory or be estimated from the data. 
For instance, a measurement of length is usually obtained directly from 
the data, but other quantities may be consequences or the theory° 
The standard deviation °E,on the other hand, depends on the 
method of measurement. 
If the method is more accurate 
E ° will be 
smaller, ioeo there may be less causes of error of the error produced by 
each cause may be smaller. 
There may be several procedures of measure- 
ment for the same quantity all should give the same mean, but possibly 
have different standard deviations. This standard error is usually esti- 
mated from the distribution of actual measurements, but occasionally it 
is roughly estimated from theoretical considerations concerning the 
supposed precision of the procedure. 
These values of the mean and standard error are,then, compared 
with a series of actual values using the usual statistical techniquesoif 
the distribution of the actual values is very improbable according to 
the theoretical distribution then this last one is rejected as a model 
of the real state of affairs° 
Although the mean has a theoretical significance, the standard 
error has not, since we are just considering deterministic phenomena° 
Thus, it is usually important just to test the appropriateness of the 
theoretical value of the measurement as compared with the actual values 
obtained.Which is the theoretical standard error (ioeothe standard de- 
viation of the error probability structure) is not important° A statis- 
tical test for testing the mean with unknown standard deviation is 
Student's Test. For using this test, we calculate the quantity 
M - r 
t 
- 
when 
r 
is the theoretical va~ue of the measurement, M 
the mean value 
of the values actually obtained, and S M the standard deviation of these 
values. We can then compute the probability of 
Itl<a for an 
a oR, 
for any error probability structure with mean r. 
We can obtain a value 
of 
a 
for which these probabilities (one for each error probability 
structure) are less than a certain ~o 
Thus, whatever may the standard 
deviation of the error probability structure be, the probability of 

19 
ItI<a, is less than =o 
If we take ~ sufficiently small, then the pro- 
bability of the event ;tl<a, 
will be small for 
r being the theoreti- 
cal value of the measurement° 
Here, the hypothesis that 
r 
is this 
value, is to be rejected. 
3. 
Structures with errors in measurement° 
We are now ready to introduce a theoretical structure that includes 
measurement with random errors, and the corresponding partial structure 
representing what we actually know. 
In fact, we shall introduce two new 
types of theoretical structures : a pure measurement structure or ]R- 
structure, and the error structures associated with it. 
We shall discuss 
later the structures that represent our knowledge and which correspond 
to the partial structures of the old setting sketched in Section Io 
An ]R-structure is a system of the form 
~= 
<A'fi@'Rj 
~f> i~l,j~J' 
where each Rj, for j~J, is an nj-ary relation between elements of A, 
and each fi 
~, for 
icl, is an ni-ary operation from A into ]Ro We could 
also have operations from A 
into 
A, or distinguished elements of A, 
but, for simplicity, we shall not include them, since they can be re- 
placed by relations° We think of ~ as what we accept theoretically to be 
true of the elements of A. The R.~'s represent possible relations between 
these elements, and the 
f.~ 's J 
l 
, measurements performed on them. 
Thus, 
f~.~_ (a o .... ,ani_l) is a real number that measures some property of the 
system~r (ao ..... an_ l) of elements of A. 
There could be two measurements 
f~ and 
f~, with 
i jk, of the same quantity. 
In the JR-structure 
they could coincide. However, in the error structures and the partial 
structures to be introduced below, they may differ. As in Section I,~ is 
what the scientific theory prescribes for the elements of Ao 
In this 
paper, we only consider deterministic theories. 
The language for ]R-structures is a one-sorted language, with variables 
x,y,z, .... that constains the following types of atomic formulas: 
x= y 
Rj x O ..... Xn _i 
for each 
j~J, 
and 
[fi(Xo ..... Xni_l) er] , for each 
rc~ (the rational numbers), and 
each 
i~lo 
These formulas are combined in an 
L~lu-language with negation, 
countable conjunctions and disjunctions, and finitely many quantifiers° 

20 
The variables are assigned elements of Ao 
For each formula ~ and each 
assigment 
s of the variables in A, we define when 
s 
satisfies ~ in 
~, in symbols ~I =~[s]o 
Most of the clauses are the usual ones, plus 
I 
=[fi(xO ..... Xni_l)~r][s] 
iff 
f~ (S(Xo) ..... X(Xni_l))~ro 
We could also have a two-sorted language with variables and operations 
for the real numbers, but we shall not need this in this paper. 
Most of the mathematical results obtained in MDC could easily be extend- 
ed. to m-structures, with the natural notion of partial ~-structure. We 
shall not pursue this line here. 
Instead, we shall introduce another 
type of theoretical structure: 
the error-structures (or briefly, E-struc- 
tures) associated with the m-structure ~. 
While ~determines whether a 
formula is satisfied by an assignment or not, an E-structure 
~e,determines 
only the probability that is assigned to the formula. 
An E-structure associated with ~is a system of the form 
~e = <A,fi~e, ~e>icl,jcj 
, 
where 
~e 
= ~,~ 
for 
j~J, and, 
if 
f~ is an ni-ary operation, then 
for each 
ao, 
~A, 
f~ e 
.... ani 
(a ° .... ,ani_l) is a random variables whose 
distribution is given by an error probability structure (see Section 2): 
fi e(ao .... ,ani_l) is a random variable having a normal distribution with 
mean f~ 
for each 
icl 
More precisely, 
fi~e(ao , 
,a n _i ) 
i ( ao ..... ani - I) .
.
.
.
.
.
 
i 
= fi(ao ..... ani_l) 
+ 
~i(ao ..... ani_l),where 
ei(ao ..... ani_l) 
is random 
variable with mean 
0, 
which represents the error in the measurement. 
The distribution of 
ei(ao, .... an._ I) is determined by an error pr~ility 
l 
structure (of Section 2) whose universe 
H 
is the domain of 
~i(ao ...... an _i) o 
I 
Each 
fi ~, for 
iel, represents one method of measurement for a quanti- 
ty. 
There may be several methods for the same quantity indexed by 
different elements of 
Io Thus 
f~ and 
fk 
~C may be measurements of length, 
say by a ruler and by wavelengths° In this case, fi~f(ao ..... an_ 1 ) 
= 
fk 
~ (a O ..... an_ l) 
for every 
a ° ...... an_l,~A. 
Hence, 
fi~e(ao ..... an_ l) 
and 
fk 
~e (a o ..... an_ l) 
are random variables with the same mean. 
But, 
their standard deviations may be different. 
This deviation depends on 
the procedure of measurement, 
and may be determined by the theory of 
the method or the empirical data. as was explained in Section 2. 

21 
It may be more reasonable to assume that for each 
icl, f.~e 
is 
i 
defined only for a subset of A, namely, for those objects that are 
possible to measure with the procedure involved° 
This would introduce 
additional inessential complications to our models, so that we shall 
assume that for each tuple 
a ° .... ,an_ I of elements of A, 
fi%le(ao ..... ,an_ l) is defined 
(ioeo it is a random variable with values 
in ~). 
The language for the 
E-structures 
~e 
associated with ~, 
is the 
same as that for ~. 
However, instead of satisfaction, 
~e determines 
a probability° 
For each formula ~ and each assignments 
of the variables 
in A, we define the probability that 
s 
assigns to ~ in 
~, 
in 
symbols 
Pq(~,s). 
The definition that will be given below is based in 
that of Scott and Krauss 1966. 
The main differences with Scott and 
Krauss are that we use assignments instead of constants, and that we 
give the definition jointly for all relations and operations instead of 
doing it separately, and then joining them by their method of indepen- 
dent unions. 
In any case 
this means that we assume the different f~ 
' 
i 
and Rj, for 
iel 
and 
j~J, to be stochastically independent. 
We now proceed to state the definition of 
P4lin several stages. Let 
Re 
B i 
(do, - .... ,an_ l) be the measure algebra of the error probability structure 
where f~e (a O ..... an_ 1 ) is defined, and 
~i@/e(ao ...... a n i ) , its measure. 
We shall always consider, now and in what follows, strictly positive 
measures, i.e. measures that vanish only on the zero of the algebra, and 
their corresponding measure algebras° 
This is needed because in our 
definitions we must have complete algebras, ioe. algebras where the 
suprema and infima are always defined. 
If necessary, to achieve a strict- 
ly positive measure, we take the algebra (and the measure) modulo its 
null sets. 
In what follows, we shall suppose that this is done, with- 
out mentioning it. 
@f 
For each 
icl, 
Bi ne is defined to be the product algebra. 
B'~el = ~<Bi~(ao, ,,.an_l) : ao,..o,an_ I cA>. 
and 
ui ~e its corresponding (strictly positive) measure. 
For each j~J, 
Bj ~ 
is the two element measure algebra {0j ,lj} , 
and 
uj~e the measure that assigns 
i 
to 
lj and 
0 
to 
0j° 
We consider, now, the product B ~e 
of all these algebras: 

22 
8~e = ~<8# 
: kcluJ>, 
and its corresponding product measure, 
An element in 
B ~e is a system 
= <~k : k~luJ > ; 
on its turn, if 
icl, then 
ui is a system 
~i = <~i 
(ao' .... an.-1) 
: ao ..... 
an.-1 eA > 
1 
1 
We call the unit of ~fge, I , and its zero 
0 
Similarly, 
Ik,0 k 
will 
be the 
corresponding 
elements 
of 
Bk~ , 
for 
k~IUJ, 
where, 
if 
i~l, 
i i = < li(a ° .... ,an._l): 
a ° ...... an._leA>, 
and 
1 
1 
0 i = 
<Oi(a o .... 
,an~_ 1) 
: a o ..... 
an._l CA > 
For each formula ~ and assignment 
s 
of the variables in A, we define 
a valuation 
h (~;s)eB ~/'e, by recursion: 
(i) 
h(x=y;s) 
= {~', otherwiseif 
s(x) 
= s(y) 
(ii) 
h(Rjx o ..... Xn_l ,s) 
lj, 
Pj 
= 
0j, otherwise, 
and 
~k = Ik ' for all 
keluJ 
with 
j ~k. 
= 
~ , where its components ~j are given by 
if <s(x o) ..... S(Xn_10 >eRj ~ 
(iii) 
h([fi(x O ...... Xn_l)er] ; s) 
= ~ , where 
~i(S(Xo) ..... S(Xn_l)) = 
[fi~e(s(Xo ) ...... S(Xn_l)) er] 
(i.e. the corresponding element of 
Si~(s(x o) ..... S(Xn_l)), 
~i(ao ..... an_l) 
= 
li(a ° ..... an_ l) for 
(a o ...... an_ l) 
(S(Xo) ..... S(Xn_l)) , and 
~k = Ik' for 
kcluJ, 
k ~io 
(iv) 
h(-~ ¢;s) = 
~ - h(~,s) 
(v) 
h( 
v 
~n;S) 
= 
v 
h(On,S ) 
nc 1.I 
nc 
1~I 
(vi) 
h( A 
Cn;S) 
= 
^ 
h(~n,S ) 
nc 11 
ne lq 

23 
X 
(vii) 
h(@x~;s) 
= 
a~A h(~'Sa) 
(viii) 
h(V~;s) 
= 
^ h(~,s~) 
aeA 
Here, 
s x 
is the assigment that coincides with 
s 
everywhere, except, 
a 
possibly, on 
x where it assigns 
a. 
Now we are ready 
to define P~ (~,s), the probability that 
s 
assigns 
~o 
This is simply given by 
P~e($, s) 
= 
~e(h(,; s)) . 
We shall now proceed to the discussion of the structures that represent 
what we actually know and their relation to the theoretical structures~ 
In order to study this relationship, it is not enough to consider one 
~-structure ~f, but need to consider all of its alternatives, as well. 
An alternative to the l~-structure ~/is an l~-structure~, 
with the 
same universe 
A 
and the same similarity type. 
That is, 
if 
~= 
< A,fi 
~, Rj#$>icl,jej, 
then 7 = <A, fi~,Rj~>i~l,j~ J where fi 
~ 
and 
R. 
~j are of the same arity 
as 
f.~l and 
Rj~ respectively (The 
similarity type T 
determines for each 
keluJ, 
where the 
symbol 
indexed by 
k 
is an operation or a relation, and its arity) o The set 
of alternatives with universe 
A 
and similarity type 
r, 
we call the 
A,T-alternatives, 
For each alternative~to 
~f we construct the corresponding 
E-struc- 
ture. 
If @re is an E-structure associated with~/, 
we shall designate 
by ~e' 
the E-structure associated to ~in which the distribution of 
i ~ (ao 
, e  
...,an_ 1 ) has the same standard deviation as that of 
fi~e(ao ..... an_l) O 
Now, we define an A z-partial IR-structure ~' , where 
A 
is a uni- 
verse (i.e. 
a nonempty set) and 
T 
a similarity type. ~f' is a system 
of the form: 
~f' 
~f~>ie I, 
~f' 
= 
< A,f i 
, Rj 
jcJ 
where 
fi 
, for 
iel, is an ni-ary partial function from A into ~, 
and 
Rj 
, for 
jeJ, is an nj partial relation. 
For describing partial 
structures, it is better to replace relations by their characteristic 
functions, i.e. we write 

24 
Rj 
(a o ..... an _i) 
= 
I, 
if < a ° ...... an._l>ERj ~' 
3 
3 
= 
0, otherwise 
Then, a partial relation is a partial function from A 
into {0,I}o 
A complete extension ~of 
the 
A,T-partial ~-structure ~f' 
is an 
A,T-alternative 
(ioe, an R-structure with universe 
A 
and similarity 
type 
T) 
such that the operations and relation of ~are extension of 
those in ~'o 
We already have defined satisfaction for R-structures. 
We can now define satisfaction for partial R-structures ~/' 
as in 
MDC, namely, for any formula ~ , and assignment 
s 
in A: 
9~f' I=T~[S] iff for every complete extension ~of 
~f', we have 
~l= ~esl 
~' ~F~[S] 
iff @/' I= T ~[s 
] 
~[' ~U ~[S] , otherwise 
Thus, a formula may be satisfied, not satisfied, or left undetermined 
by an assignment 
s 
in ~'. 
Notice that for atomic formulas, the definition of satisfaction given 
above 
can be translated to 
: 
_ 
f ~' 
~' ~T [fi (Xo ...... Xn_ I) >r][s] iff 
i 
(S(Xo) ...... S(Xn_l) , is 
defined and ~ r; 
~TRj x O ...... Xn_ 1 Is] iff 
5 
(S(Xo) ...... S(Xn_l)) 
is 
defined 
and equal to I. 
A partial ~-structure ~' 
represents what we actually know, or, at 
least, accept and are not 
willing to change° 
In MDC, 
the theoretical 
structures ~compatible with ~/' (i.e. that are possible givenS') are 
the complete extensions of ~f'. 
Here, the situation will be different. 
There may be compatible theoretical structures which are not extensions 
of @/'. 
Now we are ready to relate ~to 
~'o 
We say that ~' is incompatible 
with the total ~-structure ~/(given ~e ) , iff there is a formula ~ and 
an assignment 
s 
in ~such that, 
(i) 
~/' I= T #Is] 
, 

2S 
(ii) 
P~/e(~,s ) is low, 
and 
(iii) 
P~ (#,s) is high, for some alternative to ~/,~. 
In the account without considering random errors of MDC,@/was to be 
rejected, if it was not an extension of ~o 
That is, if a sentence true 
in ~/, was false in @/' (or, more precisely, if there is a formula ~ and 
an assignment 
s 
such that ~[s] 
, but ~f' I= T ~ ~[s] ). In our 
present account, ~fmight not be an extension of ~', but anyway compatible 
with it, if 
P~(~,s) is high for all ~ and 
s with ~' l=T#[S]. 
That 
is, everything that is approximately true in ~(i.e. has high probability 
in ~fe ) is true in ~', 
and there is nothing true in ~' that is 
approximately false in ~(i.e. has low probability in ~e ) . 
How low the probabilities should be to reject ~, depends fundamental- 
ly on the alternatives available. 
If there is a 
"reasonable alternative 
that assigns high probabilities to all sentences true in ~', then we 
might reject ~, even though the probabilities in ~e might not be very 
low. 
With no reasonable alternative, we would need very low probabilities, 
in order to reject ~. 
The following is a possible explanation of what a 
reasonable alternative is. 
First, a definition. 
We say that the theory 
• (in the similarity type T ) is confirmed by the 
B-T-partial structure 
(given ~[e ) if the total ~-structure ~determined by 
T 
for the 
objects in 
B, has the property that for all formulas ~ and assignments 
s 
in 
B, if ~ 
l=T~[S] then 
P~(~,s) is high. 
Suppose that if B is 
a set of objects that has been studied in a science, then ~ 
is the 
B-T-partial structure that is accepted as true, and assume that 
T 
is 
confirmed by all such ~. 
Then, if ~ is the total ~-structure deter- 
mined by such a 
T 
for the objects in A, it is a reasonable alternative 
to ~. 
The account given up to now is unrealistic in that it assumes that we 
measure each object just once. 
We could solve this problem by having 
several measurements, but assign one value to 
fi~(ao , .... an_l) , namely, 
their average. 
However, by using this procedure we lose some of the 
statistical power that may be available° 
In particular, with just one 
value assigned, we have no real hope of getting rid of ~e in the 
definition of incompatibility. 
As given, we defined~incompatible with 
91[' (given ~)° 
The standard deviations included in ~fe 
are not, 
usually, important for scientific theories. 

26 
In order to include repetitions of measurements, we introduce, for 
w 
each ~and 
~e' the structure ~e' 
called an 
w-E-structure, with a 
language for this structure and a definition of probability for its 
formulas. 
To all operations and relations in ~, 
we add one more place to range 
~w 
over 
w, the natural numbers; 
fie 
(ao,...,an_l,t) is a random variable 
for each 
ao, ..... an_leA and 
tow, with the same distribution as 
~(ao, 
fi~e(ao ...... an_l); 
similarly, with relations, 
Rj 
.... an_l,t) = 
Rj~(a o .... an_ 1 ) 
for all a o ..... an_l,eA, tom. 
The language is now a two-sorted language with variables 
x,y,z... 
for elements of 
A, and 
m,n 
for elements of ~. 
The atomic formulas are: 
x 
= 
y 
m 
= 
n 
Rj x ° ..... Xn _l,m 
, for each 
jcJ 
J 
[fi(Xo .... Xn._l,m)->r] , for each 
rc~, iEl. 
]_ 
This language will be a two-sorted 
L 
-language with finitely many 
quantifiers for both types of variables. IThe assignments s,ncw, adscribe 
elements 
of 
A 
for the variables 
x,y,z .... and elements of ~ for the 
the other sort. 
Just as for ~fe' ~e 
assigns probabilities to formulas. 
Let 
B i e(a o ..... ,an_ 1 ) be the product algebra of 
B 
(a ° .... an_ 1 ) 
w-times, and 
~ 
e (ao,..o,an_l) its product measure. 
Then, 
~w 
<Bi ~ 
(a o, 
,an_ 1 ) 
a o ..... 
Bie 
= ~ 
... 
: 
,an_leA > 
~w 
and 
~i e is its corresponding product measure. 
For 
jeJ, 
~e 
~ 
Bj 
and 
~j e are defined analogously. 
Finally, let 
8 ~ 
= ~ <8k ~e : k~IuJ >, 
and let ~ 
be its corresponding product measure. 
8% 
An element ~e 
is a system 
= <~k : kcluJ >. 
If 
kcJ, 
then 
~k = <~k (t):tew > 
where 
~k(t)c Bk 
~fe. 
If 
icl, then 

27 
~i = < ~i(ao ...... an-l't) : ao ..... an-~A'tcm ~ where ~i(ao ..... an_l,t)~Bi (a O ..... an_l) 
for each t~o 
h, now, assigns to each formula ~ and assignment 
s 
of the new 
language an element of B ~, 
as follows: 
(i) 
h(x=y;s) 
= i I, if s(x) = s(y) 
~, otherwise~ 
h(n = m;s) = 
~, if 
s(n) = s(m) 
~, otherwise° 
(ii) 
and 
h(Rj x o ..... Xn_l,m;s ) 
= ~ 
where 
lj, if 
R~(S(Xo) ..... S(Xn_l)) = I 
~j(s(m)) 
= 
~j, otherwise, 
~k(t) = 
ik, for all 
keluJ, t~m, with 
k~j 
or 
t ~ s(m). 
(iii) 
h([fi(x o ...... Xn_l,m) er];s) = ~ 
where 
~i(S(Xo) ...... S(Xn_l),s(m)) 
= 
[fi(S(Xo) ..... S(Xn_l)) e r] 
and 
~k(ao ..... an_it ) 
= 
ik(a ° ..... an_l) , 
for all 
k ~ i 
or 
(a o ...... an_l,t) ~ (s(x O) ...... S(Xn_l),s(m)) 
(iv), (v), ~vii), and 
(viii) 
are the same as before. 
We need two more clauses: 
(ix) 
h(~n~;s) 
= 
v 
h(~,s~ )o 
tom 
n). 
(x) 
h(¥n~;s) 
= 
^ 
h(~,s t 
t~ 
Just as before, the probability in ~ 
is given by: 
~e 
P~ 
(~,s) 
= ~ 
(h(#;S))o 
Now, the 
A,t- partial m-structures 
(or partial structures with 
repetition), 
Bare 
of the form 

28 
~ = <A,f~ 
R~> 
1 
' 
J 
i~l, j~J' 
-- 
n. 
where 
f~ is a partial operation defined on 
1Axm into ~ 
and R.~is 
] 
n. 
a partial relation on 
]Axe. 
(Here, 
nA is the set of n-tuples of A). 
These functions may be partially defined on A,m 
or both; 
eogo 
f~(a o ..... ,an_l,t) may be defined only for some ao, .... an_l ~A and 
t~m. 
In general, if we assume that ~ 
represents our actual knowledge, then, 
for each 
ao, .... ,an_leA there will only be finitely many 
tc~ with 
f~(a o ..... an_i t ) defined. 
A complete extension ~ 
of ~ 
will have these functions defined 
everywhere in A 
and ~ , and extend those of ~ o Observe that in 
~,_ or in any of its extensions ~ , we may have 
f~ (a o,o.o,an_l,t)~ 
fi~(ao,...,an_l,V), for 
t,vem with 
t ~v° 
Satisfaction for ~ 
is defined just as for the partial structures 
without repetitions ~'. 
In the language that we have introduced there is a formula ~ and an 
assignment 
s such that 
i= T¢[s] 
iff 
Iti(a ° ..... an_l) I < a 
where ti(ao,ooo,an_l) is Student's t for the measurement f~(a o .... ,an_l,V) 
with vE~ 
that are defined in ~ 
and a e~. 
p 
That is 
ti(a o ..... an_ l) = 
M- fi~f(ao ..... an_l) 
S M 
where 
M 
is the average of the sequence 
<f~(a o .... ,an_l,V):Ve~ and 
fi~(ao ..... an_l,V) is defined in ~ > and 
SMiS its sample standard deviation° 
As we mentioned in Section 2, there is an a ~, 
such that P~(¢,s) 

29 
is low for all 
u-E-structures ~e 
, associated with ~o 
Thus, the 
following definition makes sense° 
We say that the partial ~-structure 
there is a formula ~ and an assignment 
(i) 
~ ~T~[S] , 
(ii) 
P~(~,s) is low, 
~e 
associated with~. 
is incompatible with ~ iff 
s 
such that, 
for every 
~-E-structure 
(iii) 
P~(~,s) is high, for a certain alternative to ~/, ~, 
~e 
and a certain m-E- structure ~ 
associated with~o 
e 
If a certain 
~-E-structure ~e 
is preferred, because of theoretical 
reasons, over all other 
u-E-structures associated with@/, 
then we 
might relativize the definition of compatibility to this ~, 
by 
changing 
(ii) 
to 
(ii)' : P~ 
(~,s) is low. 
However, the definition given (with (ii) instead of (ii)') is prefe- 
rable, because it is independent of inessential theoretical features, 
such as standard deviations. 
It can be shown, by arguments similar to those presented in Chuaqui 
198+, that the statistical tests for hypothesis are a special case of 
these definitions for the situation of this paper. 
In particular, we 
can explain, in this fashion the approximation to falsehood by a sequence 
of probabilities decreasing to zero° 
Two possible extensions of the models discussed here may be mentioned. 
In the first place, 
fi R 
(ao, .... an_ 1 ) may have a different distribution 
than the normal one. 
This may happen with some methods of measurement. 
The second possible extension is to non-deterministic theories. 
In 
this case, the theoretical structure Sfitself may have random variables, 
i.e. 
fi@/(ao ..... an_ I) may itself be a random variable. 
This is a 
possible line of inquiring that we have not yet pursued. 

30 
Anderson, RoMo 
Chuaqui, Ro 
Loeb, P°Ao 
Mikenberg, Io, 
NoCoAoda Costa 
and RoChuaqui 
Scott, Do and 
P. Krauss 
[1976] 
[1977] 
[1983] 
[1984] 
[1985] 
[1975] 
[198+] 
[1966] 
REFERENCES 
A non-standard representation for Brownian 
Motion and Ito integration, Israel J.Matho 
volo 25, pp~15-46o 
A semantical definition of probability, in 
Non-Classical Logics, Model Theory, and 
Computability, Arruda,da Costa, and Chuaqui 
(editors), North Holland PublicoCoo Amsterdam 
pp~ 135-167o 
Factual and cognitive probability, to appear in 
the Proceedings of the V Latin American Logic 
Symposium, Caicedo (editor), Marcel Dekker 
Inc., New York° 
Models for probability, to appear in the 
Proceedings of the First Chilean Symposium on 
Analysis, Geometry, and Probability, Chuaqui 
(editor), Marcel Dekker, Inco, New York° 
How to decide between statistical methods. To 
appear in Mathematical Logic and Formal Systems. 
(volume in honor of N.C.A.da Costa), de Alcan- 
tara (editor), Marcel Dekker Inc., New York. 
Conversion from non-standard to standard 
measure spaces and applications in probability 
theory, Trans~AmoMathoSoc~volo 211, ppo 
113-12 2 
Pragmatic 
To appear 
truth and approximation to truth. 
Assigning probabilities to logical formulas, 
in Aspects of Inductive Logic, Hintikka and 
Suppes (editors), North-Holland Pubblic. Co., 
Amsterdam, ppo 219-264o 

Stoll, Ao 
[1982] 
Suppes, Po 
[1957] 
31 
A non-standard construction of L~vy Brownian 
motion with applications to invariance 
principles, Diplomarbeit (Mathematik), 
Universitat, Freiburg, BRDo 
Introduction to Logic, D. Van Nostrand Coo, 
Inco, Princeton° 
(i) 
(2) 
(3) 
This paper was partially supported by a grant of the Scientific 
and Technological Development Program of the Organization of 
American States and the Direcci6n de Investigaci6n (DIUC) of the 
Pontificia Universidad Cat61ica de Chile° 
The paper was partially written when the first author was at 
the Institute for Mathematical Studies in the Social Sciences at 
Stanford University, financed in part by a John Simon Guggenheim 
Memorial Foundation Fellowship° 
The authors would like to thank NoCoAoda Costa for many useful 
comments o 

PARTITION RELATIONS IN ARITH~L~flC 
P. Clote I 
UNIVERSITE PARIS Vll 
U.E.R. de Math~mmtiques 
et Informatique 
Tour 45-55 5~me ~tage - 2 Place Jussieu 
75230 Paris Cedex 05, France 
§0. 
Introduction. 
Recall the folklore result that Ramsey's ~neorem , as a defina- 
ble scheme, is provable in first order Peano arithmetic. 
In this paper, 
we give (infinite) combinatorial equivalents for certain subsystems of 
Peano arithmetic. 
Part of the original motivation for this work was 
to produce a certain amount of machinery to allow one to formalize com- 
binatorial 
arguments in certain subsyqtems of arithmetic. 
The results presented herein contribute to the proof theoretic study 
of fragments of Peano arithmetic - specifically that of 
Z n induction 
(I E n) 
and 
E n collection or bounding principle 
(BEn). 
To see com- 
binatorial significance of these subsystems, recall the well-known 
result 
of J. Paris 
[20] 
that a recursive function 
f 
is primitive 
recursive (or even Kalmar elementary) 
in the function 
gn,m for some 
positive integer 
m 
gn,m(X) = least 
y 
such that 
Ix,y] 
.... > (n+2)~ +I 
if and only if 
if and only if 
IE n 
~ 
V x ~y "f(x) = y" 
BEn+ I ~ 
Vx~y "f(v) = y" 
i 
These results were obtained and presented while giving a course in 
Models of Arithmetic in the fall semester of 1982-83 at the 
Universit~ Paric VII. 
AutHor's present address: Department of 
Computer Science, Boston College, Chesnut Hill, MA 02167 USA. 

33 
This result ]inks essentially the growth rate of a fast grewing recur- 
sive function with the proof-theoretic notion of a function being pro- 
vably recursive in a system of arithmetic. 
Our original motivation in 
this paper was to find infinite Ramsey Theorem-type characterizations 
of subsystems of Peano arithmetic with the intent to simplify some of 
the combinatorial wizardry of [20]. 
The main result, 
Theorem ii, turns 
out (in one direction) to be essentially a proof-theoretic formalization 
of the recursion theoretic analysis of Ramsey's Theorem done by C.G. 
Jockuscb, 
Jr. in 
[6]. 
Our result is that a model 
M 
satisfies 
En+ I 
collection if and only if for any recursive partition of 
~-element sub- 
sets of 
M 
into 
(possibly non-standard) boundedly many pieces, there 
is an unbounded homogeneous set. 
Schematically 
M 
~ B~n+ I 
iff 
M 
> 
(M) n . 
A I 
<M 
This characterization of the collection scheme then answers a question 
about initial segments posed by G 
Mills and J. Paris in 
[9] : an 
initial segment 
I 
of 
M 
is 
n-Ramsey if and only if 
I is a model 
of 
BEn+ I. 
Along the way, we give an easy combinatorial equivalent 
of 
~n induction. 
A model 
M 
satisfies 
~n 
induction if and only if 
M satisfies a certain infinitary 
A n pigeon hole principle : when any 
unbounded 
A n 
definable subset of 
M 
is partitioned into (possibly 
non-standard) bou~dedly many pieces, then at least two elements go to 
the same piece (Theore~ 4). 
This yield the useful corollary (Corollary 
6) that 
E n induction implies induction for Boolean combinations of 
E n formulas, even prefixed by bounded quantifiers. 
In Theorem 
8 we 
give an alternative formulation and proof of a result due to G. Mills 
and J. Paris 
[9] 
: a model 
M 
satisfies 
E2n 
collection if and 
only if the filter product of the Fr~chet filter with itself n-times 
F x F x F x 
.
.
.
 
x F 
n- times 
is Ao-Complete. 

34 
The techniques used are model theoretic (involving end extensions and 
ultraproducts) 
and more especially recursion theoretic (involving 
formalized versions of the limit lemma and the Jockusch-Soare low-basis 
theorem, Lemma 14). 
Forthcoming work by the author has further exploit- 
ed the low-basis theorem and other recursion theoretic techniques to 
answer some of the questions posed in this article. 
!. 
Preliminaries. 
A formula in the language of Peano arithmetic 
{+,.,0,I,<} 
is 
said to be bounded 
if it is built up from atomic formulas by the 
Boolean operations and by bounded quantification 
: 3 x < y 
and V x < y. 
Ao = F~o = ~o 
= 
{~: 
is a bounded formula in the language of 
arithmetic}. 
Let 
In+ I be the class of formulas on the form @ x I .... ~ Xm0 
where 
m c N 
and 0 is in 
~n; 
let 
Nn+l 
be the class of formulas of the 
form 
V x I .... ,V Xm~ 
where 
mc N 
and 0 is in 
I n, 
If 
T 
is a theory 
in the language of arithmetic, 
then 
In(T) and 
Hn(T) are the classes 
of formulas which are provably equivalent in 
T 
to 
~n respectively 
~n formulas; 
also 
An(T) = In(T) n ~n(T). 
As shown in 
[ll,p.201] 
it requires a certain amount of induction or collection (see below) in 
a theory 
T 
to allow one to pass bounded quantifiers to the right 
of unbounded quantifiers thus obtaining 
T-equivalent formulas. 
The theory P- is the usual finitely axiomatized theory of a discrete- 
ly ordered semi-ring (see [ii], 
p. 200). 
IE n (in-induction with parameters) 
is the scheme 

35 
v ~E (¢ (0 ÷ 
÷ 
÷ 
,u) 
& 
v x(¢(x,u) 
÷ ¢(x+l + 
x¢ (x, u) ] 
,u))) + v 
where ¢ is a Z n formula. 
BEn(In-Collection or bounding principle with parameters) is the scheme 
~ [V x < a ~ y¢(x,y,~) ÷ ~ b V x < a qy < b¢(x,y,~)] 
where ¢ is a Z n formula. 
We remark that 
A° Wilkie has shown that 
1E o is equivalent over 
P" 
to the scheme of Zo-induction without parameters, although of course for 
n e i 
the scheme with parameters is stronger° (This latter follows from 
Proposition 3). 
Peano arithmetic, denoted P, is the theory P- together 
with all of the induction schemes. Throughout this paper, we adopt the 
convention that M is a coun:tab!e model of the weak base theory P 
+ 1Z o . 
A set X or function f will be said to be Zn(respectively A~in 
a model 
M if it is definable by a Zn(resp° 
both a Z n and a ~n ) formula with 
parameters in M (a function is definable if its graph is definable). This 
is denoted as 
X ~Zn(M), etc... 
DEFINITION.- 
M 
> 
(M)~M 
means that for any 
A n definable unbounded 
A n 
set X 
of M 
and any 
A n partition F:X ÷ a (for partitions, we identify 
numbers with the set of their predecessors so that 
F : X ÷ {0,i, ..... a-l}) 
where 
a c M, there exists 
i < a such that F -I (i) is unbounded in M. 
This is the infinitary A n pigeonhole scheme : any A n partition of a 
A n 
unbounded subset into boundedly many pieces has one piece with unbounded- 
ly many elements. 
Recall the well-known 
FACT I.- 
If M I=P- + IZ n for n e i, then one can define functions by Z n 
recursion in M. 
More precisely, if g,h are total Z n functions in M, 
then so is f, where f is defined by 
÷ 
÷ 
-> 
-> 
-> 
f(O,x) = g(x) 
f(a + l,x) 
= 
h(a,x,f(a,x))° 
PROOF. 
Since 
n e 1 
and all primitive recursive functions are provably 
total in 
IZl, we have 
f(a,x)=y <--> @s~Seq[lh(s)=a+l & (S)o=g(x) & V i<a 
(s)i+l=h(i,x,(s)i) 
df 
& 
(s) a = y] 

36 
<---> Ys~Seq [lh(s)=a+l & (S)o=g(x) & V i<a 
(s)i+l=h(i,x,(s)i) +(S)a=y] 
Since 
IE n implies BEn, 
~n formula. 
the above formulas are equivalent to a EnreS p. 
D 
Recall that M' is an n-elementary end extension of M (denoted by 
M ~ M') iff 
M' is an extension of M satisfying 
~,e 
(i) 
for 
~ cM and ~ a 
E n or 
Nn formula, M I=0(~) 
iff 
M'l=e(~) and 
(ii) 
M' is an end extension of M (equivalently, M is an initial seg- 
ment of M' - denoted by 
M c M'): ~ mcM 
V a ~M' (M'I= a ~m 
e 
÷ @ b eM (M' l=a = b))o 
Our point of departure is from 
THEOREM 2 o 
ne0 
(Kirby-Paris [ii] Theorems A and B) Modulo P- +IEo, 
for 
IEn+ I ----->BEn+l ~--> BKn ==~ II n 
and these implications are strict° 
Furthermore, 
for M a countable model 
of P- + IE o and for 
n>-l, 
M ~ BEn+ I 
iff 
M 
An (M)I M 
iff 
REMARK° 
By induction on 
to show that 
M 
admits a proper n + 1-elementary end 
extension which is a model of P- + IEoo 
ne I 
using Fact i and Theorem 2, it is easy 
M 
> (M) I M 
iff 
M 
• (M) I M 
A 
A 
n 
n 
where the latter means : given any A n definable partition F : M ÷ a 
where a ~ M, there is an 
i < a for which 
F-l(i) is unbounded in M 
(i.e. the partition relation on the left concerns a partition of an 
unbounded subset into boundedly many pieces, whereas that on the right 
concerns a partition of the entire universe)° 
The reason that we have 
defined the partition relations given before Fact i in terms of a 
partition on an unbounded subset will be clear when considering other 
partition relations (Theorems 5 and 9)° 

37 
i 
We remark here that the equivalence of BEn+ I with M~"~(M)<M 
n 
is more or less implicit in [II]; 
however, definable partition relations 
were first introduced by E. Kranakis, who proved the above equivalence 
in the context of set theory (Theorem 4°3 of [12]). 
i 
For instance, suppose that 
M 
, (M)<MO 
We show first that 
A 1 
M ~ IE 1 by proving that every non-empty I 1 definable subset of M has 
a least element° 
Suppose that 
M 
~ @ yO(x,y) where 8 is a bounded 
formula. 
Let 
F : M ÷ a + 2 be defined by 
f(s) = 
least x ~ a such that ; y <s@(x,y) 
a + i otherwise° 
if such exists 
If i ~ a + I is such that 
F-l(i) is unbounded in M, then clear- 
ly 
i 
is the least element in the given 
Z I set. 
Now if 
X-is 
a A I 
definable unbounded subset of M then by Fact I, 
X is order isomorphic 
with M via a A I function and so 
i 
i 
M 
, (M)<M implies 
M 
> (M)<M. 
A I 
A I 
For 
n > i 
argue in the same fashion, but using the induction 
hypothesis and Theorem 2 to have that M 
~ BE n and hence ([ll]Lemma 3) 
a formula of the form ¥ y< s @where @ is En(respectively ~ y < s ~where 
is 
Hn)iS equivalent in M to a En(respectively ~n)formula. 
Before going on, several things are worth noting. 
First is 
that in the proof that for 
n e I 
M ~ BEn+ I implies the existence of a proper n + 1-elementary 
end extension K of M which is itself a model of P 
+ IZ o, 
Kirby and Paris constructed a 
"E 
ultrafilter" U on 
Zn(M) 
the E n 
n 
definable subsets of M by defining an u-sequence 
X o ~ X I ~ X 2 ~ ooo 
that 
such 
(1) 
(2) 
each X i is an unbounded 
A n definable subset of M, 
given the i th E n definable partial function fi with bounded 

38 
range in an u-listing with infinite repetitions of all such 
functions (recall that E 
definable means definable with 
n 
parameters - it is at this point that countability of the 
model M is used), either Xi+ I is disjoint from the domain 
of fi or fi is constant on Xi+l. 
The "ultrafilter" U is then defined to be 
U = {X~Zn(M) : 
i e ~(X = Xi)} 
U is a "E 
ultrafilter" in the sense that for a I n 
- 
° 
n 
definable subset X of M, either X c U or there is a disjoint Z n 
definable 
set Y with 
Y c Uo 
Defining the restricted ultraproduct 
K 
= 
{f : f is a Z n partial function with dom(f)~ U and rng(f) cM}/U, 
then by using the fact that 
M 
~ 
IZn, the following form of Bog' Theorem 
holds : if ~ is a 
Z n formula with m free variables then 
K 
~ ~([fl ] ..... [fm ]) 
iff {a E M : a is in domain of fl, .... fm 
and 
M 
~ ~(fl(a) ..... fm(a))}~U° 
One then easily verifies that K is a proper n + 1-elementary 
end extension of M which satisfies P- + IE . Each instance 
o 
~(0,~) 
& 
v x(~(x,~) ~ ~(x + l,~)) ÷ v x ~(x,~) 
of a 
E n or 
~n induction axiom with parameters restricted to M is of 
the form 
E nvZn+ I V~n+l 
(resp. E n v En+ I v ~n) and so true in 
K. 
Similarly every instance of a En_ I or 
Nn-i induction axiom with para- 
meters in K is true in K° 
Thus it is a natural question whether given a model of 
BEn+ I 
for n ~I, 
one can construct a proper n + 1-elementary end extension 
K satisfying 
P 
+ IEn° 
A negative answer follows from 
PROPOSITION 3. 
If K is a proper n + 1-elementary end extension of M 
satisfying IE n with n e 0, then M is a model of BEn+ 2. 
PROOF. 
(The case for n = 0 is part of Theorem B in [ii]° 
The proof 
for n ~ i 
arose in a conversation with Z° Adamowicz and A~ Wilkie) o We 
show that M 
~ B~n+lO 

39 
Suppose that M 
~ V i <a 
q t V x 9, where ~ is En. Then for every 
d cK - M we have 
Vi <a @ t <d 
M ~ Vx ~(i,t,x). 
Fix 
e 0 ~K - M. 
Then for every 
d ~K - M, 
V i~ a @ t <d 
K > V X<eo~(i,t,x). 
K > V i < a ~ t < d V x <eo~(i,t,x ). 
Since 
K 
~ IEn, let d o be the least d satisfying the above formula° As 
every d ~ K - M satisfies this formula, d o ~ M. 
It follows that 
M 
~ 
q d V i<a@ 
t<d Vx 
$. 
QUESTIONS. 
i) 
The version in arithmetic of a question posed by Mo 
Kaufmann (see [8] 
po 102) is whether, for 
n e I and any countable model 
M for P- + BEn+ I there is necessarily a proper n + 1-elementary end 
extension of K of M which is a model of 
P 
+ BE o 
n 
2) 
Does Theorem 2 hold for uncountable models? 
We mention 
that the natural attempts to solve this problem affirmatively proceed 
by trying to formalize a tree argument (as in Lemma 14) or by the arith- 
metized completeness theorem ([14], po 252)° 
However, these attempts 
fail, since the arguments appear to require more than the desired amount 
of collection. 
3) 
To our knowledge, it is an open problem to characterize 
those models M with a proper n-elementary end extension K for which 
K 
~ P- + E m or 
even 
K 
~ P. 
This is related to a problem due to 
J-P Ressayre : characterize those models M having a k-tower of n-elemen- 
tary end extensions, i.e. 
M 
~ 
M I 
~ 
M2 
~ 
"'" n~ ~ 
In this 
n,e 
n,e 
n,e 
e 
connection we also mention an open problem (with unpublished partial 
results) due to J. Paris and A. Wilkie : if M is a countable model of 
P- + IE ° + BE1, then does there exist a proper end extension 
K 
of 
M 
which is a model of 
P- + IE 
(i.e° an arithmetic analogue of a corollary 
o 
to the Barwise compactness theorem)? 
2. 
INDUCTION SCHEMES° 
In [5] Ho Friedman defined a weak subsystem of second order arith- 
metic "arithmetical comprehension axiom with restricted induction" ACA o 

40 
with language 
{+,.,0,1,<,e} and as axioms : P-, extensionality, the 
induction axiom 
(and not the second order scheme) 
V x[(0 cX & V x(x~X 
÷ x + i cX)) + V x (x~X)] 
and arithmetical comprehension 
X V x (x ~ X+-+~(x)) 
where ~ is an arithmetical formula (i.e. quantification only over indi- 
viduals and not sets) possiblywithfree second order variables other thanX. 
If M is a model of P then (M, Def M) is a model of ACA o, where Def M 
is the class of subsets of M definable with parameters. 
Thus ACA o is 
a conservative extension of P. 
Since ACA o is equivalent to Ei-CAo(where 
arithmetical comprehension is replaced by E 1 comprehension), one can 
show that ACA ° is finitely axiomatizable and that its essential axiom 
is equivalent to certain second order combinatorial theorems (KSnig's 
Lermna, m ÷ 
(~)~)o 
By the Paris-Kirby miniaturization technique, this 
produces indicators for stron~ 
initial segments I of M (i.e. (I,KMI~> 
ACA o 
where RMI = {A n I : A c Def M}) and hence independence results for 
Peano arithmetic. 
The motivation for the following easily established result was to 
solve the equation 
P 
IEn and to possibly simplify independence 
ACA 
? 
O 
1 
results for the subsystems IE n. See also the discussion at the end of [2]. 
THEOREM 4. 
equivalent. 
i) M ~---> (2) 1 
n 
<M 
2) M = V a ~ b V x-< a(~y~ ~ 
>~ y_<b~), where # is any Hn-i formula. 
3) M > V a ~ b I B b2...B b n V x_< a (QlXl ...Qnxn ~ < 
>QlXl_<b I... 
< b ~) 
where ~ is any bounded formula and the 
Qi quantifiers 
QnXn - n 
° 
4) (M,DefoM) ~ w- 
EnCA o. 
5) M > IE 
n" 
For 
ne i 
and M a model of P- + IE o, the following are 
o induction) 
i 
The referee has pointed out that 
IE~ (second order 
E n 
seems to be the natural theory for solving this equation. 

41 
1 
Here M 
-~n (2)~M means that for any 
A n definable unbounded subset X 
of M and any A n definable partition F : X ÷ a, where 
a~M, there is an 
i < a with card F-l(i) e 2o 
This is a seemingly trivial infinitary 
pigeonhole principle asserting that any A n partition of a A n unbounded 
set into boundedly many pieces has a piece with at least two elements. 
DefoM designates the collection of 
h ° definable (with parameters) sub- 
sets of Mo 
The subsystem "weak 
I n comprehension" 
w - EnCA ° is the 
theory with language {+,.,0,1,<,c} and as axioms P-, extensionality, 
induction axiom and the "localization" of E n comprehension , 
V m 4 X V x-<m (x cX 
~-->~(x)) 
where ~ is an 
other than X° 
E n formula possibly with free second order parameters 
PROOF° 
I) ÷ 2)° 
Let X = {<x,b> 
: M 
> x< a & ~(x,b) & V b'<b ~ ~(x,b')}o 
By the induction hypothesis, M is a model of IEn_ I hence of BEn_l, so 
X is A n definable° 
If X is bounded, we obtain our conclusion° 
If X is 
unbounded, then let F : X ÷ a be defined by F(<x,b>) = Xo 
But then F 
violates the hypothesis I). 
2) + 3). 
By induction on the number of quantifierso 
3) ÷ 4)° 
Since M is a model of lEo, (M,DefoM) 
~ axiom of induction° 
Weak E 
comprehension follows from the hypothesis 3) 
n 
4) ÷ 5)° 
One shows the least element principle for I n formulas: if 
M 
I= @ x~(x,~) then M 
~ ~(a,u) for some a cM; 
obtain X~DefoM with 
÷ 
(M,DefoM) 
~ V x ~ a (x c X ~--> ~(x,u)) 
and apply the induction axiom° 
5) + i)° 
First show that 
(*) 
P- + IE I ~-- "for all a and all finite functions f : a ÷ a - I 
there exist two elements with the same image"° 
Now since M is a model of IEn, for F : X ÷ a a given A n partition, 
(*) 
We remark that the eauivalence of 
2) and 
5) was noticed independ- 
ently and much earlier by Ho Friedman in E43o 

42 
M 
~ V x ~ s ~ Seq(lh(s) = x & ¥ i <x((s) i is the (i + i) st element 
of x)). 
Let g be a finite function in M with domain {0, .... a} 
such that g(i) 
is the (i + I) st element of K° 
The f = Fog satisfies (*~,so that i) 
holds. 
REMARKS ° 
i) 
Notice that 
M 
> (2) M 
iff 
M 
> (m)<M 
for any 
m~M° 
A n 
A n 
This holds as well for 
n = 0o 
2) 
regular iff 
In this notation, for an initial segment i of M, I is semi- 
> (2) I and I is regular iff I 
>(I)<io 
coded 
coded 
3) 
BE n asserts that "the range of a E n function with bounded 
domain is bounded" and 
IE n asserts that "the range of a ~n partial func- 
tion with bounded domain is bounded". 
COROLLARY 5o 
The E n definable elements of a model of P- + IZ n are not 
cofinal in the model° 
PROOF. 
Recall that an element a c M is En-definable if there is a 
E n 
formula ~ such that 
M 
~ @ ~ x~(x) 
& 
0(a) o 
There is a E n satisfaction predicate Sat n for 
E n 
and apply 
2) to obtain 
formulas° 
Let a ~M~N 
M 
~ ~ b ~ x <a (" qy satisfying the 
E n formula coded by 
x ~ 
> @ y <b 
satisfying the E n formula coded by x"). 
COROLLARY 6o 
IZ n is equivalent over P- to IB~ , where the latter is the 
induction scheme for the closure under bounded quantification of the 
collection of Boolean combinations of En formulas. 
SKETCH PROOF. 
To obtain a least element for a non-empty set defined by 
y ~ v~ Y0 where ~(respo ~ is Hn_l(respo En_~,suppose that 
M 
~ @ y~(a,y) v V y@(a,y) o 
Apply 
2) to obtain b such that 

48 
M 
~ V x~a((;y¢(x,y) 
< ) ~ y <b~(x,y)) 
& 
(V y~(x,y) 
< 
>V y <b~(x,y))). 
Now apply 
Ln 
to obtain a least element for the set 
X = {x-<a : M 
i= ~ y<b~(x,y) vV y<b~(x,y)}. 
We remark that the above corollary has been independently observed by 
R. Kossak, J° Paris and doubtless many others° 
If M ~ K then 
K ~ M - BE n means that for any 
ac M and any En 
~(x, 
÷ 
÷ 
K 
y,m) where me 
formula 
K 
I= ;f x <a @ y~(x,y,m) + ] b ¥ x< a ~ y<b~(x,y,m). 
A In-ultrafilter U on M is said to be En-COmplete if for any Zn-definable 
set X c M 2 and a cM, 
V i< a (X)ieU ~ 
n 
(X) ie U. 
i< a 
where (X) i = {z : (i,z) e X}. 
If U is a 
En-Complete 
En-ultrafilter on M, then letting 
K = {f:f is an ~n partial function with dom(f) ~ U and 
rng(f) c M}/U, 
it is easy to see that K is an n + 1-elementary end extension of M and 
that K 
~ M - BE n 
The following yields some insight about question i) after proposi- 
tion 3. 
PROPOSITION 7. 
If 
n e 2 and M is a countable model of P- + IEn+ !, then 
M has a proper n-elementary end extension ~ which is a model of 
P- + BE n" 
PROOF. 
Using 
IEn+l, we first construct a 
En-COmplete 
ln-ultrafilter 
U on M. 
Let 
{X m : m~} 
be an infinitely repetitive 
u-list of all En-definable 
(with parameters) subsets of M 2 and let {a 
: m ~ w} be an infinitely 
m 
repetitive 
w-list of all elements of Mo 
Let 
<,> 
be a bijective pair- 
ing function and ( )oa%d( )I be the first 
and 
second projection function. 

44 
We construct an u-sequence 
Yo = YI 
=°''~ Yk 
~°°" 
of 
Z -definable sets such that 
n 
(i) 
each Yk is unbounded in M 
(ii) 
Y 
= M 
o 
(iii) 
given Yk' if Yk 
n 
~ 
(X(k) ) 
i<(k)o 
. 
i i 
is unbounded in M then set Yk+l to be this set; 
can find the largest 
j < (k) o such that 
Yk 
n i<j (X(k)l)i 
is unbounded in M and we can find 
£ ~ M such that 
Yk 
r-h 
n i<j+l 
(X(k) l)i 
otherwise by IZn+ I we 
is bounded by Zo 
In this case set 
Yk+l = {x~M 
: x>£ 
and 
xc Yk n ~ 
(X(k) ) }. 
i<j 
I i 
Now let 
U = 
{Zc Z n (M) : there exists k~ ~ such that 
Z ~ Yk}. 
Clearly U is a 
Zn-complete 
Zn-ultrafilter on Mo 
As previously discuss- 
ed, let K be an n + 1-elementary end extension of M satisfying M - BE n . 
Now form a 
"Zn_ I ultrafilter" 
U' on 
En_ I definable subsets (with 
parameters) of K which additionally satisfies 
I) every element of 
U' is an unbounded 
Zn_ I subset of K 
2) if 
f 
is a 
Zn_I(K) partial function with dom(f) c U' and rng(f) ! m 
for some 
m c M, then there exists 
B ~ U' with B c dom(f) and f constant 
on B. 
Now let 
L = {f:f 
is Zn_l(K) partial function with dom(f)E fl' and rng(f) i K}/U'° 
Then !~o~' Theorem holds in the sense that 

45 
L 
~ 0([f I] ..... [fr])iff {ieK:K 
~ e(fl(i) ..... fr(i))} cU', 
for all En_ I 
formulas e. 
It is now straightforward to check that L is 
a proper non-cofinal n-elementary extension of K, which furthermore is 
an end extension of Mo (L is said to be a cofinal extension of M if 
¥ ac L ~ m ~M (L ~ a~m) o Also we write 
K ~ 
L to mean that L is an 
n,M 
n-elementary extension of K where both K and L are end extensions of M)° 
Let K be the cofinal closure of K in L: 
= {a~L 
: ~ mcK(L ~ 
a-<m)}. 
Now since M 
~ 
K~L, by the discussion before Proposition 3, we have 
n+l 
n 
K 
~ IEn_ I 
and 
L 
~ IEn_ 2. 
CLAIM. 
K n~_l,e L~ 
PROOF OF CLAIM° 
Clearly L is an end extension of 
Ko 
We show by 
induction on 
k_<n - i that 
K k~e L. 
This is clear for 
k = 0 since 
c Lo 
Consider the case 
k + I : suppose that 
L ~ ~ x~(x,[g]) where 
Ke 
is ~k and [g] e K and 
mcK and 
K ~ [g]-<mo Then A = {ic K:K ~g(i) -<m 
& @ x#(x,g(i))} cU'o 
Since 
K ~ IEn_ 2, by Theorem 4, there is a b cK 
such that 
K ~ V z _<m ( @ x~(x,z) < .... > ~ x_< b~(x,z)). 
Now let dom(h) 
= 
A and 
h : i : 
>least x eK such that 
K ~ ~(x,z)° 
L ~[k] _<b, thus [h] cK and 
Then h is a In_l(K) partial function and 
~ ~([h],Eg])o 
Thus K ~ ~ x~(x,[g])o 
CLAIM. 
M ~ K. 
n,e 
PROOF OF CLAIM. 
Clearly K is an end extension of M and so 
M ~<Ko We 
o 
show that M n~Ko 
Suppose that K ~ @ x#(x,m) where meM and ~ is a Hn_ I 
formula. 
Then K ~ ~([f],m) for some [f] c K and so by the previous claim, 
L ~ ~([f],m). 
Thus 
A = {i~K 
: K ~-~(f(i),m)} JU' 
so there is a B~U' with BnA=~ 
and B c {i~K 
: K ~ 
~(f(i),m}° 

46 
(We write this in terms of a double negation since Los' Theorem holds 
only for En_ 1 formulas)° 
Let i ° be such that K = ~(f(io),m)o 
Then 
{ic M : M ~ ~(f(io)(i),m )} ~ U, so that M ~ ~ x ~(x,m) o 
Now since M has a proper n-elementary end extension K which itself 
has a proper n-l-elementary end extension L ~ P- + IZn_2, so by 
Proposition 3, K ~ P- + BE n o 
REMARKS° 
I) 
Can one show that M ~ P- + BEn+ 1 iff there exists an n-elemen- 
tary end extension K which is a model of P- + BE ? (The direction from 
n 
right to left follows from Proposition 3)° 
2) 
Notice that inthe proof of Theorem 4, we actually show that 
M 
> (2) 1 
A 
<M 
iff 
M ~ I~lo 
o 
One can also show that 
1 
M 
> (M)<M 
iff 
M ~ BE2o 
A o 
Recall that the primitive recursive functions are exactly those which 
are provably total in P- + IZ 1 (theorem due to Minc) and hence in the 
above schemes° 
Also recall the results in complexity theory: 
Wrathall's Theorem [18]o 
The linear time hierarchy = Rudimentary° 
Bennett's Theorem [I]o 
Rudimentary = DefoNo 
Since it is still an open question whether the linear time hierarchy 
collapses or not, Go Wilmers raised the question whether 
1 
1 
M 
> (2)<M is strictly weaker than M 
~ (2)<M 
E n 
En+ 1 
where an E n formula is one with n alternating blocks of bounded quanti- 
fiers beginning with bounded existential quantifierso 
Ao Wilkie showed that the answer is "no", the exact level where 
M 
> (2)IM implies that M is a model of IE 1 depending on the logical 
E n 
complexity of the 
A ° formula expressing the graph of the exponential 
function (in the proof of Bennett's Theorem)° 
Whether the graph can 
be E 1 is an open question. 
We present Ao Wilkie's proof. 

47 
PROOF° 
Let n o be such that ~(x,y,z) is an E n 
formula representing 
O 
x y = Zo If M ~ Va,b~c(a b =c) for some a,b ~ M then let 
X = {<y,z> : M ~ a y = z 
& 
y~b}o 
If X is bounded then by I~o, X has a maximum element - say <yo,Zo>o But 
then <Yo + 1,aoZ> e X thus contradicting 
maximality 
of <yo,Zo>o 
If X 
is unbounded in M, then let 
F : X÷{0,ooo,b} 
by F(<y,z>) = y. 
But this 
contradicts our assumption that M 
> (2) 1 
(This part of the argu- 
<M ° 
E n 
o 
ment is due to Go Wilmers)o 
Hence 
I 
M 
> (2)< M implies 
that 
M N Exp, 
E 
n 
o 
where Exp is the statement 
¥ x ¥ y ~] zd0(x,y,z). 
By Dimitraeopoulos 
([3],po31), 
P- + 1E O + Exp p- Natijasevic' 
Theorem. 
We now show that 
1'I satisfies 
the least 
element principle 
for Z 1 formulas. 
Suppose that 
÷ 
÷ 
M ~ ~ x0(x,u) & 0(a,u) where 9 is EIO 
By Matijasevic' Theorem, 
M~ 
V ~ (0(x,~) 
< 
, ~ w(p(x,u,w) 
q(x,u 
= 
,w)) 
where p and q are polynomials with non-negative integer coefficients° 
Coding ~ by a single element w, let 
X = {<x,w> : M ~ x <a & p(x,u,w) = 
w' 
q(x,u,w) & V 
<w p(x,u,w') # 
q(x,u,w')}o 
If X is bounded above by d then 
M ~ V x<a(0(x,u)_ +---> -] ~<d(p(x, 
÷
_
 u,w) 
+ 
= q(x,u,w))÷ 
+ 
) 
and as M is a model of leo, we are finished° 
If X is bounded in M, then 
define F : X÷{0 .... ,a} by F(<x,w>) = x and we have a violation of 
M 
> (2) IMO 
D 
En o 
Notice also that the infinitary A ° pigeonhole scheme has little to do 
with the finitary A ° pigeonhole scheme (due to Ao Macintyre) o Ao Macintyre's 
question 
"finitary A 
pigeonhole scheme" 
P- + IZo 
o 

48 
is still an open question, where the latter scheme is 
o 
" 
+ 
i' 
x(0 (i,y ÷ 
V ~ (V x(V i~x ~ ' y<x@(l,y,u) ÷ ~ i # 
~x ~ y< 
,u) & 
+ 
e (i' ,y,u) ) ) 
where @ is a Ao formula. 
In this connection, by an ingenious argument, 
A. Woods [17] has shown that 
pigeonhole"+V 
x ~ y(x <y< 2x & y is prime) 
P- +IEo ~-- "finitary A ° 
- 
3. 
COLLECTION SCHEMES° 
Let us first introduce the 
DEFINITION. 
For M a model of P- + leo, the Fr~chet filter 
F M (we drop 
the subscript M if clear from the context) is the collection of all 
co-bounded 
subsets of M (sets A whose complement is bounded in M).If 
A _c M k+l and acM 
then the a th section of A is A a = {(b I ...... b k) : 
(a,bl,..°,bk)~A}o 
Now let 
F k be the usual k-fold filter product of F; 
that is, 
= 
F k+l 
F k 
M k+l 
F I 
F; 
= Fx 
= {A c 
: {a~ M:A c F k} c F}. 
- 
a 
Similarly a set A ~ M k+l is unbounded if {a c M:A 
unbounded in M k} is 
- 
a 
unbounded. 
A filter F on M k is An-Complete if for all A n definable sets X _c ~+i 
and 
a~ M, if 
~ i <a X i ~ F then N 
X i ~ ~o 
i<a 
In this terminology, we can rephrase and give a different proof of 
a theorem due to Go Mills and J. Paris [9] ° 
The following lemma simplifies a small step in the proof we give of 
the Mills-Paris result and will be used later in the proof of Theorem ii. 
LIMIT LEMMA. 
If 
M ~ P- + BEn+ I where n e0 
and if f c En+I(M) is a total 
function from M into M, then there exists an "approximating" total func- 
tion g~ En(M ) from M 2 into M such that for all a EM 
f(a) 
= 
lim g(a,s) o 
s~M 
Here, in the obvious sense, 

49 
lim g(a,s) = b 
iff 
M ~ ~ s V t e s g(a,t) = b 
s~M 
PROOF° 
This is trivial if n = 0 - one just bounds the existential 
quantifier to obtain an approximation; 
the general result is just an 
arithmetical version of the well-known limit lemma in recursion theory - 
that a A 2 function can be approximated by a A 1 function° 
We adapt the 
proof due to Putnam ([16],p° 51)~ 
We show first that if M is a model 
of P- + IE n and if 
X E An+l(M), then there exists a A n definable func- 
tion 
h:M2÷{0,1} which approximates the characteristic function of X. 
Suppose that 
acE 
~ 
> 
a ~ X < 
> 
Define 
0(a,y,s) 
< 
(V z ~ s~(a,y,z) & 
& 
Now define 
M ~ ~ y V z~(a,y,z) 
M ~ q y ¥ z~(a,y,z),¢ and $ both En_ I formulas 
y is the least element in M satisfying 
7 V z_< s~(a,y,z)) 
or 
(V z_< s~(a,y,z) 
-~ V z _< s~(a,y,z)) . 
h(a,s)= 
0 
if ~ y ~ s(e(a,y,s) 
i 
otherwise. 
& V z ~ s~(a,y,z) & -~ 
z ~ s~(a,y,z)) 
Since M ~ BE n the above is a A n definition in M. 
One than shows that 
lim h(a,s) = 0 ~ 
ac X 
s 
lim h(a,s) = I <---> a~X. 
s 
IDEA OF PROOF. 
Suppose that 
a e X. 
Let Yo = least y such that 
z¢(a,y,z) - this exists by 
l~n.. 
Thus 
V y~yo @ z 
~ ~(a,y,z) 
and 
V y <yo @ z ~ ~(a,y,z) 
and by BE n 
we can bound all these z by an s larger than yo o Then for 
any t larger than s, we have h(a,t) = 0° 
One argues similarly if a ~ X. 
Now if f : M÷M 
is In+ I definable, the graph of f 
X = {<a,b> : f(a) = b} 

50 
is An+l definable° 
By the above discussion, let 
h e En(M) be an appro- 
ximmtion of the characteristic function of Xo 
Define 
I least y ~ s(h(<a,y>) = 0) if such exists 
g(a,s) [0 
otherwise 
If f(a) = b then 
M~ 
V y<b @ s ¥ t>_s(h(<a,y>) = I 
& @ s V t>_s h(<a,t>) = Oo 
So by BEn+l, g eventually takes on the value bo 
D 
THEOREM 8° 
(Mills-Paris). 
For M a model of P- + I~ 
and 
k e I 
o 
M ~ BE2k 
iff 
F k is &l-complete (or even Ao-Complete) o 
PROOF. 
We first recall the underlying idea in the proof of Mills-Pariso 
The difficult direction is from right to lefto 
Suppose that M satisfies 
the hypothesis but not the conclusion of an instance of BH2k_I : say ~ is 
N2k-i and so is of the form ¥ x 2 ooo ¥ X2k@ where @ is bounded° 
Suppose 
that 
M ~ ~ i< a @ x I ~ x 2 o.. @ X2k_l ¥ X2kO~ 
Mills-Paris then show that modulo BE2k_2 any N2k formula is equivalent 
to a U k formula, where, as in recursion theory, the quantifier U is inter- 
preted as "there exist unboundedly many"~ 
Hence by the induction hypo- 
thesis, 
M ~ V i <a ~ Uy I oooUYk ~ where ~ is bounded° 
But this is equivalent to saying that 
V i <a X i ~ F k 
where X = {(Y2 ..... Yk ):M = ~ ~(Yl ..... Yk )}° 
By the hypothesis that F k is &o-COmplete, 
~-~ X i ~ F k and so (essentially) 
i<a 
M ~ ~Uy I °oo Uy k V i< a~ 
and we then obtain a bound b such that 
M ~ V i <a ~ x<b~ 
The upshot of the argument is that since V @ is equivalent to U, in 
order to obtain the &l-completeness of 
F k, we need collection for E2k 
formulas. 

51 
Using what has gone before, we proceed slightly differently to prove 
that for k~ I 
and 
ne0 
M ~ BZ2k+n 
iff 
F k is An+l-completeo 
First we introduce the following definition due to J-P Ressayre: 
M e 
> (M k) i 
<M 
A n 
means that for any A n definable unbounded set X _c M k and any A n definable 
partition F : X ÷ a 
where a ~ M, there is an i < a with F-l(i) unbounded. 
FACT. 
M k 
> (~)~M 
iff 
F k 
is 
An-COmplete. 
~n 
This fact follows easily from the definitions and is left to the 
reader. 
Now it is easy to verify that 
M ~ BE2k+n implies 
M k 
--~ 
(Mk)~M ° 
An+l 
For the converse, we proceed by double induction : for k fixed, we 
induct on n. 
If k = i, then this is just Theorem 2. 
Now suppose that k = 2 and 
n = 0 
and that 
M2 --Al > (M2)~M" 
The idea is to "step down" the exponent 2 to I and add 2 to the 
complexity of the partition (removing one occurence of "unbounded" adds 
a factor of 2 to the complexity of the partition). 
Such an idea of a 
"step down" is originally due to E. Kranakis [13] (see also the proof 
of Theorem ii)° 
Thus we propose to prove that 
I 
M 
>(M)<M 
A 3 
which by Theorem 3 is equivalent with BE4o 
LEMMA A° 
For n ~_ 0 
and every En+ I formula of the form g x ~ where ~ is 
~n' there exists a formula ~ ~ Hn (P- + IEn) such that 

52 
P- + 
IZ n 
~- ~ x¢ <---->~ 'o x#° 
PROOF° 
This fact was observed in recursion theory by [ 19] - notice that 
the formula ¢ is Hn and not simply of the form #(x) & V i<x -~¢(i)which 
would be equivalent to a "~ 
& Z " formula° 
This is proved by induction 
n 
n 
on n: for n = 0, let ¢(x) be ~(x) & ~ i<x -~ ¢(i) - this uses IEoo For 
n = I, 
P- + IZ I ~ ~ x¢ < ................ 
> ~ x(¢(x) & V i<x -~¢(i)). 
Let 
~ 
¢(x) be equivalent to 
@ ye(x,y) with e bounded. 
By the 
induction hypothesis, 
¥ i < x ~ 
~(i) is equivalent to ¥ i <x @ ~ ye*(i,y) 
and so BE I + IE I to 
~ x ¥ i< xe*(i,(z)i) , using the usual projection functions 
th 
for the i 
element of a sequence coded 
by z. 
Thus 
~ x~ is equivalent to 
~ ~ u(~((U)o) & ¥ i < (U)oe*(i,(u)l)i)). 
Proceed in a similar manner for 
n ~ 2° 
B 
We leave it to the reader to define ~ : x I V x 2 @ : X3ooo 
• ..¥ X2m @ : X2m+le° 
For instance, @ : x V 
y 
@ ~ ze is an abbreviation for 
x(~ y @ ~ ze'(x,y,z) & ~ i ~x ~ 
(~ y ~ ze(i,y,z)))0 
LEMMA Bo 
M 2 
> (~)~M implies that M is a model of IZ2° 
41 
PROOF° 
The hypothesis implies that M ~i 
(M)~M 
and so M is a model 
that M~A2 > (M)~M 
and hence that M satisfies B E 3 and 
of BE2° 
To see 
so IE2, 
suppose that F : M ÷{0, .... a - I} is a A 2 partition and a •M; 
by the limit lemma let g be a h I total approximating function with 
lim" g(x,s) = i" < ...... 
> F(x) = io 
s 
M 2 
Then g : 
÷ {0 ..... a - i} and if (by the hypothesis) g-l(i) • F 2, then 
it is clear that F-l(i) is unbounded in Mo (A variant of this argument 
works if we had begun with F : X ÷ {0 ..... a - i} where X is a A 2 definable 
unbounded subset of M; but by the remark after Theorem 2, this argument 
suffices). 
D 

53 
LEMMA C 
M 2 
> (M 2)<I M implies that M ,A,3> (M)I M. 
A I 
PROOF. 
Suppose that X is a 
E 3 definable unbounded subset of M and 
that F : X ÷a is a E3 partition and a ~M. 
Then by IE2, 
x cX < 
> M ~ ~ ' y ¥ z @ '. w4~(x,y,z,w) 
F(x) = i < 
> M ~ @ ' y V z 9 'o w~(x,i,y,z,w) 
where $ and ~ are bounded. 
Define 
Z = {(<x,i,Yl,Y2>,<Z,Uz,Vz >) : M ~ i< a & 
$(x,Yl,Z,U z) & ~(x,i,Y2,Z,Vz)}. 
Consider the picture: 
<Z~Uz,Vz> 
1 
, 
| 
I 
! 
I 
I 
<x,i,Yl,Y2> 
Then it is easy to see that xE X and F(x) = i iff the section 
Z<x,i,Yl,Y2> is unbounded 
for some unique yl,Y2. 
Let 
G(<x,i,Yl,Y2>,<Z,Uz,Vz >) = i. 
Then Z is a A o definable "unbounded" sub- 
set of M 2 and G is a A o partition of Z into {0,...,a - i}. 
X. 
Clearly if G-l(i) is unbounded then F-l(i) is an unbounded subset of 
In a similar manner, we have 
M 2 
.----~(M2)IMAn implies that 
M 
A-~+2(M)~M . 

To obtain ~+I 
> 
k+l.l 
~ 
, suppose that X is 
(M 
)<M implies ~ 
> (Mk) M 
A I 
A 3 
a E 3 unbounded subset of M k and F : M ÷ {0,.°.,a - I} is a E 3 partition 
of X into a-many pieces where a e M By IE 2 let 
(x I .... x k) c X < 
> M I= @ 'oy¥ z ~ '. w 
F(x I ...... x k) = i< 
> M ~ ~ ~ y V z @ ~ w 
where ~ and ~ are bounded 
Define 
Z = {(Xl,X 2 ...... Xk_l,<Xk,i,Yl,Y2>, <Z,UzVz>) : 
M ~ i<a & ~(x I ..... Xk~l,Z,U z) & ~(x I ...... xk,i,Y2,Z,Vz)} 
and G:Z÷{0 ..... a-l} 
by G((x I ..... Xk_l,<Xk,i,Yl,Y2> 
, <Z,Uz,Vz >) = i. 
Then Z and G are A o definable and Z is unbounded in ~+io 
Clearly 
if G-l(i) is unbounded in M k+l then F -1 (i) is unbounded in Mko 
The result now follows by induction° 
We state some of the trivial by-products of the proof : (with the ob- 
vious intended meanings) 
~ 
(Mk) I 
<M 
iff 
M ~ BZ2k_I 
for 
ne i 
n 
M k 
-~ 
(~)I 
iff 
M~ 
BE2kO 
<M 
O 
We define a An-based ultrafilter U on M k to be a collection of sub- 
sets of M k (not necessarily An-definable) such that 
(i) 
A c U ÷there exists B e An(M) with BoA and B~U and B unbounded in Mko 
(ii) 
A,B E U ÷A n B ~ U 
(iii) 
A~ U 
and 
A c B c M÷BcU 
(iv) 
Ac An(M) ÷either A~U or 
A = M k - AE U. 
With this notation, we mention 
PROPOSITION 9o 
(Pino [15])o 
For n,k e i, if M is a countable model of 
BE2k+n_l , then there is a An-COmplete An-based ultrafilter U on Mko 
THEOREM i0o (Ressayre-Pino [15] )o For n,k e i, if there is a An-COmplete 

55 
An-based ultrafilter U on M k, then there is a k-tower of proper n+l- 
elementary end extensions 
Mn~l,e 
MI 
~ 
M 2 
~ 
~ 
- 
n+l,e 
n+l,e °°° n+l,e Mk ~ P 
+ leo" 
In view of Theorem 9, it is natural question (due to Ressayre-Pino 
[15]) whether the converse or Proposition 9 and Theorem I0 holds° (By 
the limit len~na, it is easy to show that if there exists a An-Complete 
An-based ultrafilter U on M k then M ~ BEn+k) O 
We come now to a final combinatorial equivalence of certain collec- 
tion schemes. 
The result turns out to be an arithmetical version of 
C.G Jockusch's recursion theoretic analysis of Ramsey's Theorem [6]° 
The 
proof requires 
much of the machinery thus far introduced° 
Our original 
motivation was to consider the "2-3 question" [i0] from a proof theo- 
retical angle° 
Another motivation was to find combinatorial schemes 
equivalent to certain collection schemes so as to facilitate the 
formalization of combinatorial type arguments in fragments of Peano 
arithmetic° 
DEFINITION° 
M--~-~ 
(M)~M 
means that given any A m unbounded subset X 
m 
of M and any A m partition F : IX] n ÷a, where a ~ M, of the n-element sub- 
sets of X into a-many pieces, there is an unbounded homogeneous set 
Y c X (ioe. there exists an i <a with F"[Y] n = {i})o 
A word of warning: it turns out that Y will be definable in M, but 
the above scheme is written with the second order variable Yo 
Also, 
by the remark after Theorem 2, it suffices to consider partitions 
F : [M] n ÷a. 
THEOREM Iio 
For n,m-> i 
M --~--> (M)nM_ 
iff 
M 
BZn+m~ 
m 
PROOF° 
(÷) 
This part is easy and uses the limit lemma to step down 
the exponent of a partition while stepping up the complexity of the 
partition° 
By induction on n : if n = i, this is Theorem 2° 
Suppose 
that n = k + i and 
.. k+l 
M --~--> (•) <M 
m 

56 
We show that 
M 
> (M)kM . 
km+l 
Using 
BZm+I, apply the limit lemma to obtain a 
A m 
approximation 
[M] k+l 
G : 
÷ a with lim G(Xlm ..... Xk,S) = F(x I ..... Xk). 
S 
If 
Y 
is homogeneous for 
G 
and unbounded in M, then 
Y 
is also 
homogeneous for 
F. 
( ÷ ) 
This direction is more difficult and proceeds by a series 
of lemmas. 
First, let 
v ~(v 
÷ 
x(¢ (x,u) 
< 
Ik 
be the scheme 
n 
,u) & 
x(¢(x,u) 
+ ¢(x + 1,u)))+ 
> 
¢(x,u)) 
+ 
((¢(0 
÷ 
v 
,u))) 
÷ 
V x¢(x + 
where ¢ is 
E n 
and ~ is 
~n" 
LEMMA 12. 
For 
na 0, P- + IE ° + BEn+ 1 D IAn+ 1. 
PROOF. 
This is well-known and trivial for 
n = 0. 
For 
n ~ i, we show 
that the least element principle holds for non-empty 
An+ I definable 
sets. 
Suppose that 
a e Xe An+I(M). 
By the limit lemma, let 
g 
be a 
A n approximation for the characteristic function of 
X; 
let 
X s = {x~ a : M 
~ g(x,s) = 0}. 
Then 
M ~ V x ~ a ~ s V t ~ s g(x,s) = g(x,t), so by BEn+ 1 , let 
s o be 
sufficiently large to bound all these values of s. 
Now apply 
IZ n to 
the set 
X s to obtain a least element - this is also the least element 
of X. 
REMARK. Independently and much earlier, H. Friedman noticed this lemma. 
In fact, in [4] it is stated that 
BEn+ I 
and 
IAn+ I 
are equivalent 
over the base theory 
P- + 1E o + V x @ y(2 x = y). 
Before giving details of the proof of Theorem ii, we give a 
sketch of the idea behind the proof that 
2 
M ~ BE 3 
implies 
M -----> (M)<M 
A I 

57 
First, in the usual manner, associate a 
Al 
definable "Erdos-Rado" 
tree 
T ! M<M with the partition 
F :[M] 2 ÷a such that an unbounded 
branch B of the tree is "pseudo-homogeneous" in the sense that if 
bi,bj,b k~ B 
and 
b i <bj & b i <b k 
then 
F(bi,bj) = F(bi,bk). 
Suppose, 
in order to obtain a contradiction, that there is no unbounded monochro- 
matic subset of B. 
Then 
M > V i <a ~ x V y,z ex(y,z E B & y < z ÷ F(y,z) # i). 
A trivial basis theorem produces an unbounded branch B which is A 3- 
thus if M is a model of 
BE 4 
then 
M ~ ~ t V i <a @ x~ t V y,z ex(y,z ~ B & y <z ÷ F(y,z) # i) 
which is absurd since B is unbounded and F is defined on [M] 2. 
To push through this argument when M is only a model of 
BZ3, we for- 
malize the Jockusch-Soare "low basis" theorem [7]: if T c w <~ is a 
recursive infinite finite branching tree, then there exists an infinite 
branch B whose jump B' is 
A3 
definable. 
To formalize this, we modify 
the 
S I satisfaction predicate for 
E 1 
formulas (to obtain an analogue 
of the jump operator) and obtain an unbounded 
A 3 
definable "l-generic" 
branch B, so that via the satisfaction predicate all 
S I and 
91 for- 
mulas in the extended language {+,.,0,1,<,B} are equivalent in 
M 
to 
a A 3 formula : then 
V y,z ~x(y,z ~B & y <z ÷ F(y,z) # i 
is equivalent to a 
A3 
formula and so 
BE 3 
suffices to obtain a con- 
tradiction. 
For the following discussion, fix a (not necessarily countable) model M 
of P- + 1E o . Recall that 
Seq is a 
A I 
definition of sequence numbers. 
We say that 
T 
is a 
Sn-tree in 
M 
if 
T 
is a 
~n definable (with 
parameters) subset of M, 
T c Seq M = {a ~M : M ~ Seq(a)} 
and 
M ~ V s,t("t c T" & lh(s) ~ lh(t) & V i < lh(s)((s) i = (t)i÷ "seT"). 
To make things more readable, we work in 
M 
and adopt usual set theo- 
retic conventions : "t ~ T" abbreviates 
~(t,u) where ~ is the 
E n 
de- 
finition of 
T 
with parameters 
u, s ~t 
means 
Seq(s) & Seq(t) & 
lh(s) <lh(t) & V i <lh(s)((s) i = (t)i) , etc... 
T is said to be finite branching (in M) if 

58 
M ~- V seT 
~ a V b->a (s 
< b> CT). 
A definable function f :M ÷ M is said to be piecewise coded in M if 
for any 
ac M 
there is an 
s ~ Seq M such that 
V i<a 
f(i) = (s) i & lh(s) = a. 
(This notion is due to R. Kossak). 
A branch 
f 
of 
T 
is a definable piecewise coded total function f:M÷M 
such that for all a ~M <f(0) ..... f(a)> ~ T. 
Let L(f) = {+,.,0,1,<,f} 
where 
f 
is a new function symbol of one argument. 
In an obvious way, 
there is an effective manner to associate to every bounded formula 
~(~) in 
L(f) a bounded formula 
~*(Zo,~) in 
L = {+,.,0,I,<} 
such 
that if the function symbol 
f 
is interpreted by the function 
fs = {(i'(s)i) 
: i < lh(s)} 
where 
s ~ Seq M, 
then for any 
~ e M, 
(M,f s) ~ ~(~) 
iff 
M ~ ~*(s,~). 
(One replaces occurrance 
of f(x) = y 
in ~ by 
(V)x = y to obtain ~'. 
~* 
is then 
Seq(v) & ~'). 
Furthermore, if 
M ~ P- + I~ ° + Exp, then the usual 
A I 
formalization 
of bounded satisfaction allows 
(M,f s) ~ ~(a) 
where ~ is bounded. 
iff 
-> 
M ~ Sat o ( r- ~, -l 
<s,a>) 
FACT. 
If 
M ~ P- + 1E o + BE n for 
n e 2, 
then any total 
E n 
definable 
function 
f 
is piecewise coded in M. 
PROOF. 
By hypothesis, the graph of 
f 
is 
A n 
definable. 
Let 
a cM 
given. 
By 
Bln let 
b 
be sufficiently large so that 
Now 
M > V i <a ~ y <b f(i) = y. 
M ~ @ s ~p~+l (s e Seq & lh(s) = a + I & V i ~a((s) i = f(i))) 
by induction on 
i ~a 
using 
IA n. 
Here 
Pb = b + i - st prime; 
we 
work in 
BE n 
for 
n e 2 
to be able to use the function 
Pb by 
Ill). 
A formula in the language 
L(f) is bounded if it is built up from atomic 
formulas (including 
f(x) = y) by Boolean ooerations and bounded quan- 

sg 
~ifiers 
] x<y 
and 
V x<y. 
LEMMA 13. 
Suppose that 
f : M ÷ M is a definable piecewise coded total 
function in a model 
M 
of 
P- + IE ° 
and that 
~(x,~) is a bounded 
formula in 
L(f) 
with those free variables indicated. 
Suppose further- 
more that for each 
a ~M, s a e Seq M 
and 
s a = <f(0) ..... f(a)> 
Then for 
b ~ M the following are equivalent 
(i) 
(M,f) ~ ~ x ~(x,~) 
(2) 
] ao~MV 
a->a ° M~ 
~ x<a 
+ I ~ (Sa,X,b) 
(3) 
V a o ~M ] a>-a o M ~ ~ x <a + l~*(Sa,X,b). 
Given the formula 
] x~(x,y), let $ be the formula 
~ x < lh(u) ~*(u,x,y). 
If additionally 
M ~ Exp, then (i) is equivalent with the following 
(2') 
M ~ ] zVuez(u~Seq 
& lh(u) ->z&Vi<lh(u)((u)i=f(i))÷Sato(~-~-~,u<x,b>) 
(3) 
M ~Vz ~uez(uc 
Seq&lh(u) >-z&Vi < lh(u)((u)i=f(i)) ÷Sato( ~ ,u <x,b>). 
PROOF. 
We can suppose that ~ is in disjunctive normal form: 
~(x,~) 
is 
@x I <r I ...Qx n <r n W ~ (atomic or negation of 
atomic formula). 
First, we show by induction on 
n = number of bounded quantifiers in 
~(x,~) 
that for 
c,b cM 
(~ (M,f) ~(c,b) 
÷ @ a ° ~MV a ~a o M ~ ~ (Sa,C,b). 
If ~ is an atomic formula or negation of atomic formula, then the only 
cases where there is anything to prove are when ~ is of the form 
f(tl) = t2, f(t I) # t2,f(t I) <t 2, f(t I) ~ t2,t 2 <f(tl), t 2 ~ f(tl), 
with 
t I ~ {c~b I .... ,bk,0,1,2 .... } 
(here 
b 
is 
b I ..... bk)~ 
Then for 
a o sufficiently large (so that 
t I 
is in the domain of 
Sao) (+)holds. 
Disjunction and 
conjunction pose 
no problem and by choosing 
a o 
sufficiently large, we obtain the induction step for showing ~)when 
n = j + i. 
(It is important at this point that we define bounded quanti- 
fiers by 
@ x <y 
and 
V x <y 
rather than 
@ x <t 
and 
¥ x <t where 
t 
is a term in L(f)). 

60 
It now follows that 
for 
¢(x,~) 
a bounded formula in 
L(f), 
(M,f) = ~(c,b) 
iff 
~ a ° ~ M ¥ a~a o M ~¢(Sa,C,b) 
÷ 
iff 
V a ° 
M ~ a ea ° M >~(Sa,C,b). 
Notice that 
for ~(x,y) a bounded formula in 
L(f), 
(++)if 
M > ~ (Ss,C,b) 
then for all 
a' e a Mi = ¢ (Sa,C,b). 
From this fact and the previous discussion, (I) and (2) easily follow. 
If the exponential function is total in M, then the usual satisfaction 
relation for bounded formulas is 
A I 
definable and yields (2') and 
(3') 
D 
A 
Z n 
definable total function f in M is said to be l-~eneric if every 
formula of the form 
~ x#(x,b) 
or 
V x~(x,b), where ~ is a bounded 
formula in L(f), is equivalent in 
M 
to both a 
Z n 
and a 
H n 
formula 
in L; 
i.e. there are 
Z n formulas 0, ~ and 
~n 
formulas 
0',~' 
in L 
such that 
(M,f) ~ } x~(x,b) 
iff 
M ~ 0(b) 
iff 
M De'(b) 
and 
(M,f) = V x¢(x,b) 
iff 
M D @(b) 
iff 
M D~'(6) 
LEMMA 
14. 
If 
M ~ P- + BEn+ 2 
where 
n-> i 
and T is an unbounded fini- 
te branching 
En 
tree in 
M, then there is a An+ 2 definable 1-generic 
branch f of T. 
(This is the arithmetized version of the "low basis" 
theorem) . 
PROOF. 
We work in M. 
First define a function k bounding the sequence 
numbers of the levels: 
k(0) = 0 = sequence number for <> 
k(a+l) = least x such that 
V y>-x Vs-<k(a+l)(lh(s)=a÷s'~<y> ~ T). 
Here k(a + i) = <k(0) ..... k(a)>. 
Using 
Ign+l, it follows that 
M ~ ¥ a ~ y k(a) = y. 
Now define in 
M 
g(0) = 0 = sequence number for < > 
f% 
0 
if 
gm ~ teT(lh(t) ->m & -~ ~y <lh(t) Sato((0)o,t,<y> (i)l)) 
g(1) = 
I 
otherwise 

61 
and 
g(2a + 2) = least 
x(¥ m ~ tcT(lh(t) em &<g(0),g(2) 
..... g(2a)>'~<x> ~t & 
V i ~a(g(2i+l)=0 + ~ @ y<lh(t) Sato((i)o,t,<y>~(i)l)))) 
g(2a+3) =J 
0 if V m ~tcT(lh(t) em &<g(0),g(2) ..... g(2a+2)>~t & 
Vi ~ a(g(2i + I)=0 +~ @y < lh(t) Sato((i)o,t,y(i)l))) 
@y <lh(t) Sato((a+l)o,t,<y>~(a+l)l ) 
1 otherwise. 
Recall that 
~ @y < lh(t) Sato((i)o,t,<y>~(i)l ) is the formalization of 
"there is no y < length of 
t 
such that (i) o is the GSdel number of a 
bounded formula ¢, t ~ Seq 
and 
¢(y,~) is true, where 
~ 
is the sequen- 
ce coded by (i)l". 
Thus when 
i 
runs through M, we consider all 
possible bounded formulas with parameters in 
M. 
CLAIM. 
The function 
g 
is total in M. 
PROOF. 
Notice that for 
m ~ M, if 
g(m) is defined, then 
g(m)~ ko(m), 
where 
ko(2m) = k(m) 
and 
ko(2m + i) = I. 
We wish to show that 
M ~ V m @ y-<ko(m)"g(m) = y" 
e (m) 
where the defining clause for 
g(m) can be written in the form 
k(m+l)+l 
(s ~ Seq & 
& 
s -< ~k(m+l)+l 
Hn+l 
~n+l ) 
v 
P 
Then 
M ~ 0(m) < 
>@ z(k o(m) = z & @ y sz~(m)) 
An+ 1 
An+ 2 ( BEn+ 2) 
M ~ e(m) < 
>V Z(ko(m) = z + @ y-<z~(m)) 
Am+ I 
An+ 2 (B Zn+2) 

62 
and hence 0 is 
An+2(P- + BEn+2). 
CLAIM. 
M ~ 0(0) & V x(0(x) ÷ 0(x+l)). 
PROOF. 
Suppose that 
M ~0(a) where a = 2b + 2 
are defined. 
Then 
, so g(0) ..... g(2b + i) 
Let 
V i ~ b(g(2i+l) 
Then 
X 
is an unbounded 
be defined by 
F(t) = x 
Since 
Bin+ 2 implies 
M ~ V m @ t c T(lh(t) em & <g(0) ..... g(2b)> ~t 
& 
V i ~b(g(2i+l) 
= 0 ÷ ~ @ y < lh(t)Sato((i)o,t<y> 
X = {t c T : <g(0),g(2) ..... g(2b)>4t 
& 
= 0 ÷ ~ ~ y < lh(t)Sato((i)o,t<y> 
A I 
M 
if 
> (M) i 
<M ' 
An+l 
~(i) l))). 
there is an 
X 
X 
(i) l)))}. 
definable set. 
Let 
F:X ÷ {0 ..... ko(2b+2)} 
<g(0) ,g(2) ..... g(2b)~'<x>4t. 
x_<ko(2b + 2) such that 
= {t ~ T: <g(0),g(2) ..... g(2b),x> ~t & 
V i sb(g(2i+l) 
= 0 ÷ ~ ~ y < lh(t)Sato((i)o , <y>'~'(i)l))} 
is unbounded. 
Define g(2b + 2) to be the least XSko(2b 
+ 2) such that 
X 
is unbounded. 
X 
To show that 
g(2b + 3) is defined is similar and even easier. 
QED claim. 
Now 
M 
is a model of 
BEn+ 2 and hence of 
IAn+ 2 
and 6 E An+2(P-+BEn+ 2) 
M ~ 0(0) & V x(0(x) ÷ 0(x + i)) 
hence 
M ~ V m 9 y "g(m) = y" 
By lemma 13 it is clear that g is a 1-generic 
the tree T. 
An+ 2 
definable branch in 
PROOF. 
Since 
M ~ IEl, any unbounded 
A I 
definable subset of 
M 
is 
order-isomorphic with 
M 
via a 
A I 
isomorphism, 
so we can suppose that 
LEMMA 15 
If 
M 
is a model of P- + BEo 
then M 
> (M) 2 
• 
~ 
' 
<M" 
A 1 

63 
we are given a 
gl 
partition 
F : [M] 2 ÷ a, 
where 
a ~ M. 
Define the Erdos-Rado tree 
T = {t ~Seq 
: V i <j <lh(t)((t)i< 
(t) j & (lh(t) >0~(t)o 
= 0 & 
V i < lh(t) - l[(t)i+l 
is a minimal compatible extension 
of 
< (t) ° ..... (t) i > ] 
where the expression in square brackets is 
+ "compatibility" 
V j <k ~<k' < i(F((t)j,(t) k) = F((t)j,(t~,)=F((t)j,(t)i+l))) 
and 
++ "minimality of comportment" 
V y((t)i < y -< (t)i+l&V j <k_<k' _< i(F((t)j,(t)k) 
= F((t)j,(t) k,)= 
F (t)j ,y)) & F((t)j,y) = F((t)i,(t)i+ I) ÷y = (t)i+l). 
Clearly, T is a 
Al 
tree. 
CLAIM. 
T is finite branching and unbounded in M. 
PROOF. 
We must show 
M ~ V m V s ~T(lh(s) = m÷~ 
x V y>z(s'~<y> 
~ T)). 
2 
This can be done using 
II 2 noting the fact that 
if 
F : [M] ÷ a 
was the 
original partition, 
then there are at most a-many new minimal comport- 
ments possible, 
so at most a-many immediate successors of each node s ~ T. 
To see that 
T 
is unbounded in M, let 
X = {s ~ T: there are unboundedly many 
x > (S)lh(s)_ 1 such that 
V i < lh(s) - l(F((s)i,x ) = F((s)i,(s)i+l))}- 
CLAIM. 
X is unbounded in M. 
PROOF. 
If not, then since X has a 
~2 definition, by 
IE 2 the set 
X 
has 
a maximum element t. 
Then 
Y = {x:x > (t) lh(t)_l & V i < lh(t)-l(F((t)i,x ) = F((t)i,(t)i+l))} 
is unbounded in M. 
Let 
H : Y ÷ a be a 
Al 
partition defined by 
H(=O = i 
iff 
F((t)lh(t)_l,X) 
= i. 

Then by 
M 
A I 
-l(io) 
bounded in M. 
Let 
x ° be the least element of H 
. Then 
t' = <(t) ° ..... (t)lh(t)_l,Xo> 
is in 
X 
and is larger than 
t, contradicting maximality of t. 
X is unbounded and hence T is unbounded in M. 
By Lemma 14, let 
f 
be a 
A 3 
definable 1-generic branch of T. By 
construction of T, for 
i <J <k cM 
(M)<M,I there is an 
io <a 
such that 
H-l(io ) is un- 
Thus 
F(f(i),f(j)) 
= F(f(i),f(k)) 
= 
c i < a. 
df 
Now define 
G : {f(x) : x~M} 
= {m : ~ x-<m(m = f(x))}+ 
a 
by 
G(f(x)) = F(f(x),f(x + I)). 
CLAIM. 
There exists an 
i < a 
such that 
PROOF, If not, then 
G-l(i) is unbounded in M. 
M ~ V i<a 
~ x 
IV yex(F(f(y),f(y + I)) # i)]. 
By l-genericity, 
the expression in square brackets is A3, so a final 
application of 
BS 3 insures a contradiction. 
This final claim completes 
the proof of Lemma 15. 
LEMMA 16, 
If M is a model of P- + Bln+2, then 
M "AI 
(M)TM" 
PROOF. 
Suppose this has been shown for 
n 
and consider 
n + i : given 
a partition 
F : [M] n+l÷a, 
let 
T ={s Seq : V i <j < lh(s)((s)i<(s) j). & Vj <-n(lh(s) >-j÷Vi<j((s)i=i))) 
& 
V i-< lh(s) - l[(i >-n ÷(s)i+l is a minimal compatible exten- 
sion of < (S)o ..... (s)i>)]}, 
where the expression in square brackets is 
compatlbility" 
¥ i < ... <i n <k <k'-<i(F((s)i I ..... (s)i ,(S)k ) = F((s)i I ..... (s)i ,(S)k,)= 
n 
n 
F((S)il ..... (s)i+l)) 
4-+ "minimality of comportment" 

65 
V y((s)i < y ~ (s)i+! & V if<...< i n <k <k' ~ i(F((s)i ..... (s)i ,(s) k) = 
n 
F((S)il ..... (s) i ,(S)k,) = F((S)il ..... (s) i ,Y)) 
& 
n 
n 
V if<" ...<in_l<i(F((S)il ..... (S)in-l'(S)i'Y) 
= F((S)il ..... (S)in-l' 
(si),(s)i+l)) -> y = (S)i+l). 
Using 
IE2, 
one can show that 
T 
is a finite branching unbounded tree 
tlh(s) 
in M (a node 
s c T 
has at most ~ n-I )- many immediate successors). By 
Lemma 14, let 
f 
be a 1-generic 
A 3 
definable branch of 
T. 
Then by 
construction of T, 
{mcM 
: ~ x~m 
f(x) = m} 
= {f(x) : x~ M} 
is pseudo-homogeneous 
for 
F; 
i.e. 
for 
x I < x 2 <..~ Xn+ 2 
F(f(x I) ..... f(Xn),f(Xn+l)) 
= F(f(xl) ..... f(Xn),f(Xn+2)). 
An examination of the proof of Lemma 15 reveals that if M is a model of 
BE 3 then 
2 
M ............ > (M)<M 
low 
A 2 
by which is meant that there exists an unbounded homogeneous set for 
appropriate partitions whose graph is low 
A 2. 
Similarly by relativi- 
zation, one obtains that if 
M 
is a model of 
BEn+ 2 then 
M ............ > (M) 2 
<M 
low 
An+ I 
This observation together with the induction hypothesis yields that 
if 
M > BEn+ 2 
then 
(*) 
M ............ > (M) n-I 
<M 
low 
A 3 
As usual, let 
G : If" M] n-I 
.... > 
a be the induced partition defined 
by 
G(f(x I) ..... f(Xn_l)) = F(f(x I) ..... f(Xn_l) , f(Xn_ I + I)). 

66 
By the property 
(*) there is an unbounded set homogeneous for 
G 
and 
by pseudo-homogeneity thus also homogeneous for 
F. 
This completes the proof of Lemma 16 and hence of Theorem 
Ii. 
D 
The following corollary was pointed out by J. Paris. 
We first introduce 
some notation. 
If 
I 
is a proper initial segment of 
M, then the 
collection 
RM(I) of reals of I or coded subsets of I is the collection 
of traces on I of 
M-definable sets: 
ZM(I) = {A n I : A definable with parameters in M}. 
Similarly, we can speak of functions being coded, etc... An initial 
segment I of M is n-Ramsey_ if for any a c I and any coded 
F :[I] n ÷ a 
there exists an 
i <a 
such that 
F-l(i) is unbounded in 
I n . Initial 
segments 
I 
of 
M 
which are 
l-Ramsey 
are also called regular. 
We 
write 
I ~ BE* 
to mean that 
I 
satisfies the usual 
E -collection 
n 
n 
scheme, where coded parameters are allowed (see [14], p. 251). In [20] 
it is shown that for 
I c M, 
I 
is 
l-Ramsey iff I b BE E and in Propo- 
e 
sition 
3 
of 
[20] that if 
I 
is 
n-Ramsey then 
I ~ BEn+ I. 
In a remark on 
p. ii of 
[9], 
it is suggested that for 
n > 2, the 
notions of 
n-Ramsey and 
BZn+ 1 
do not necessarily coincide. 
As a 
corollary of Theorem 
ii, we have the surprising fact that these notions 
do in fact coincide. 
COROLLARY 
17. 
If 
I c M 
with 
I ~ P- + IE 
then 
I 
is 
n-Ramsey 
e 
o 
iff 
I > BEn+ I. 
PROOF. 
(÷) 
By Proposition 
3 of [20]. 
(÷) 
Suppose that 
F : [I] n ÷a 
where 
ae I 
and 
F is coded 
in M. 
Repeat the proof of Theorem 
II 
but with a single coded parameter. 
Thus there is an 
i < a 
and 
X c I 
unbounded in 
I with 
F"[X] n = {i}. 
So then 
F-l(i) is unbounded in 
I n, 
0 
ACKNOWLEDGEMENTS. 
I would like to thank J.P. Ressayre, A. Wilkie and 
especially J. Paris for several conversations on the subject matter of 
this paper. 
Special thanks to J. Paris for kindly pointing out 
Corollary 17. 

[ I] 
[ 2] 
[ 33 
[ 4] 
[5] 
[ 6] 
[ 73 
[ 8] 
[ 9] 
[I0] 
[Ii] 
[12] 
[13] 
BENNETT,J.H. 
CLOTE, P. 
DIMITRACOPOU- 
LOS, C. 
FRIEDMAN, H. 
JOCKUSCH,C.G. 
Jr. 
JOCKUSCH, G. G. 
Jr. & SOARE, 
R.I. 
KAUFMANN, M. 
MILLS, G. & 
PARIS, J. 
KIRBY, L. 
KIRBY, L. & 
PARIS, J. 
KRANAKIS, E. 
67 
REFERENCES 
On spectra, 
Ph.D.dissertation, Princeton Univer- 
sity (1962). 
Anti-basis theorems and their relation to indepen- 
dence results in Peano Arithmetic, in Model Theory 
and Arithmetic, Springer Lecture Notes in Mathe- 
matics 890(1980) pp. 115-133, 
Matijasevic's theorem and fragments of arithmetic, 
Ph.D. Dissertation, University of Manchester, 
(1980) o 
On fragments of Peano arithmetic, preprint. 
Systems of second order arithmetic with restricted 
induction° (Abstract) J.Symbolic Logic 41(1976) 
pp. 557-559. 
Ramsey's theorem and recursion theory. 
J.Symbolic 
Logic 37, (1972), pp. 268-280. 
~ 
classes and degrees of theories. 
Transactions 
of Am.Math.Soc. 173(1972) pp. 33-56. 
On existence of 
E n end extensions. 
L_o~ic_ Year 
1979-80, Springer Lecture Notes in Mathematics, 
859(1980) pp. 92-103. 
Regularity in models of arithmetic. 
J. Symbolic 
Logic, 49, Ne 1 (1984), pp. 272-280. 
Ultrafilters and types on models of arithmetic. 
Preprint. 
~n-Collection schemas in arithmetic. 
Logic Collo- 
quium 77, pp. 199-209, North-Holland Publishing 
Co., (1978). 
Partition and reflection properties of admissible 
ordinals. 
Annals of Mathematical Logic 22(1982), 
pp. 213-242. 
Stepping up lemmas in definable partitions. 
J. 
Symbolic Logic 49,Nel, (1984), pp. 22-31. 

[14] 
PARIS, J. 
[15] 
PINO, R. 
[16] 
PUTNAM, H. 
[17] 
WOODS, A.R. 
[18] 
WRATHALL, C. 
[19] 
HAY, L. 
MANA~TER, A. & 
ROSENSTEIN,J. 
[20] 
PARIS, J. 
68 
Some conservation results for fragments of 
arithmetic, in: Model Theory and Arithmetic, 
Springer Lecture Notes in Mathematics, N ~ 890 
(1980) pp. 251-262. 
~n-Collection, indicatrices et ultrafiltres d~fini- 
ssableso 
Th~se de 3°cycle, Universit~ Paris VII 
(1983). 
Trial and error predicates and the solution to 
a problem of Mostowski, J. Symbolic Logic, 30 
(1965), pp. 49-57. 
Some problems in logic and number theory, Ph.D. 
dissertation, University of Manchester (1981). 
Rudimentary predicates and relative computation, 
SIAM J. Comput. 7(1976), pp. 194-209. 
Small recursive ordinals, many-one degrees, and 
the arithmetical difference hierarchy, Annals 
of Math.Logic, 8(1975), pp. 297-343. 
A hierarchy of cuts in models of arithmetic, 
in Model Theory of Algebra and Arithmetic, Springer 
Lecture Notes in Mahtematics, N ~ 834, pp. 312- 
337. 

ON THE AXIOMATIZABILITY OF SETS IN A 
CLASS THEORY 
Manuel Corrada C. 
Universidad Cat61ica de Chile 
Santiago,Chile. 
Among the systems of set theory frequently used in mathematical practi- 
ce we find Zermelo-Fraenkel's system ZF, Von-Neumann-Bernays-Godel 
theory 
VNBG, or the Kelley-Morse system, symbolically denoted KM. 
The 
difference between these systems is that some of them admit the existen- 
ee of very comprehensive objects-classes or, in Cantor's terminology, 
"inconsistent multiplicities"-and others do not. 
The reason to intro- 
duce such kind of objects appears at the very beginning of the develop- 
ment of set theory as a formalized discipline in order to avoid the 
paradoxes; 
some authors call this the "limitation of size" doctrine. 
However this type of question is far from the working mathematician's 
interest. 
As Kreisel[1971] says, "day-to-day foundational research 
does not affect day-to-day practice. 
This conviction may well be be- 
hind the mathematician's reluctance to get involved in foundations...". 
During a long time it has been maintained that classes are at least for 
the mathematicians, but a facon de parler. 
This point of view seems 
justified; 
if we call VNBG m the set of formulae referring to sets that 
are provable in VNBG, then Novak [1950] proves V~G m = ZF. 
That is, 
classes do not add new information about sets to that obtained by means 
of set-theoretic axioms. 
But in the case of the system KM things are different. 
Here we can 
prove the existence of a universal class, call it V, and also V ~ ZF. 
But then we have proved in KM the consistency of ZF. 
Unless ZF is in- 
consistent, Godel's second theorem gives ZF ~ Con ZF (C°nzF is the formal 
(number-theoretic)statement 
expressing the consistency of ZF). 
Hence 
we obtain COnZF~ KMm - ZF, from which ZF ~ K~. 
It has been argued that 
the formula COnzF is not of mathematical character, and neither are the 
infinitely many formulae 
~cKMm-ZF which are obtained by results in 
Kreisel-Levy[!968]. 
Recent results by Friedman show, however that this 
is not the case;KM proves predicative formulae of mathematical interest 
which cannot be proved in ZF (see Friedman [1981]). 

70 
V~BGmis axiomatized by the axioms of ZF.KM m is a recursively enumerable 
set of sentences, then using the device of Craig [1953], KM m is recur- 
sively axiomatizable; 
The question arises,then, how to find axioms of 
set-theoretical 
character for KMm?. 
The natural formalization of a theory with two kinds of objects, sets 
and classes, is in a two-sorted language° 
The set of all formulae in 
this language will be denoted by ~. 
Therefore the set of set formulae 
of KMwill 
be ~m = {~:there exists v~ 
(~ZKM~V)}. 
Due to the presence in the set of axioms of KM, AXKM , of the impredica- 
tive axiom schema of comprehension we have the characteristic structural 
property of possible models of KM, that is every model of KM can be re- 
presented as <S,CuS,E> where CoP (S) (P(S):power class of S) and E is the 
binary relation which interpretates the binary predicate Co 
We are in- 
terested in structures in which S is a transitive set and E is standard. 
In these cases we will write <S,C> instead of the corresponding structure. 
For each ordinal number ~ we will denote by N 
the class which consists 
Y 
of all structures of the form <Ry,T,e> where T!R + I and RE is the usual 
cumulative hierarchy° 
LK(R B) is relative constructibility over R B cons- 
tructing the subsets of R B until level ~ so L (RB) i 
< 
RB+I" 
Dg T will denote the interpretability degree of the theory T, ioe. the 
class of all theories mutually interpretable with T. 
The following theorem due to W, Reinhardt (private communication) 
is im- 
portant in the subsequent discussion° 
THEOREM 0. 
For each n there exists a closed unbounded class of ordinals 
such that for each ~ 
there exists an ordinal 6 
such that 
n 
n 
<R 
L 6 (R)>I=AI 
comprehension + replacement 
' 
n 
PROOF: By reflection principle (see Chuaqui [19801]) there is a well order 
type S such that Ls[V] 
< 
I L[V]. Take the first 
Then LS[V]I= A1-compre - 
An 
" 
n 
hension + replacement. 
But there is a closed unbounded class of ordinals ~n such that if ~e~n 
then LS~ R (R) 
< Ls[V]. Let ~n~ be the least B such that LB(R )l=A~-eom- 
prehensio~ + replacement 
(it always exists). But SIR~ 
y for a certain 
ordinal y. Then SPR =6 n 
D 
As a consequence we have 

71 ¸ 
THEOREM i. 
For each finite subset of the axioms for KM,E, there exists 
a class of structures K, such that KMI- 
(KI= z)and a closed unbounded class 
of ordinals ~ such that for every ¥~,NynK~0. 
The following immediate consequence is obtained by means of Godel's 
second theorem: 
THEOREM 2. (a) 
KM is not finitely axiomatizable 
(b) 
KM m is not finitely axiomatizable 
This can he extended to 
THEOREM 3o 
KM is not finitely axiomatizab!e over ZF° 
PROOF: 
Assume the contrary, ioe. KM=ZF+z for some finite E!~. Let r 
be a closed unbounded class of ordinals such that for every ~cr, 
<R~,R~,c>~ZFo 
By theorem i let ~ be a closed unbounded class of ordinals such that for 
every ¥c~, <Ry,T,E>~ E where T~R¥+ I. 
Because ~nF~0 take ~c~nr. 
Hence 
<R ,T,e>~ZF+E=KMwhere 
T!R +i. 
Therefore KM~ 
COnKMwhich 
is im- 
possible unless KM will be inconsistent. 
As a trivial consequence we obtain the 
THEOREM 4. 
It cannot hold that KMm will be finitely axiomatizable over 
ZF and KM will be finitely axiomatizable over KM m. 
By an argument similar to those in the proof of theorem 3 it can be 
proved that KM m is not finitely axiomatizable over ZFo 
Moreover, using 
technics in Kreisel and Levy [1968] this can be extended to (see Chuaqui 
[1980] ): 
THEOREM 5. 
(a) F~ m is not finitely axiomatizable by formulae of bounded 
depth over ZF. 
(b) KM is not finitely axiomatizable by formulae of bounded 
depth over KM TM. 
In spite of this unboundness results a certain kind of finitization may 
be obtained, 
THEOREM 6. 
(a) There exists a finite set of formulae E, zc~ 
such that 
KM TM = {~ : El- ~}n~ m 
(b) There exists a sentence e~ m such that DgKM m = Dg(ZF+0). 

72 
.° 
PROOF: 
(a) See Krajewski [1974] ; (b) Similar to Lindstrom [1979] 
D 
The following theorem will be useful for our purposes 
THEOREM 7. 
If ~m 
and ne~ then 
KMI- ((@~) (~F) (Ord (~)AF!Re+I^<Re,F,e>~KMn)A(~<-->~R~)) (KM n is KM with 
comprehension restricted to ~I formulae) 
n 
PROOF: 
By Reflection Theorem there exists a closed unbounded class 
of ordinals r such that 
<--> ~R6 
, 
8er 
Because 
KN n is 
finitely 
axiomatizable, 
using 
Theorem 
1 get 
a class 
of 
structures K such that K D KM n. 
Again by Theorem I let a be a class of ordinals such that KnN ~0 for 
Y 
each y~a. 
Take e~nro 
The above theorem is closely connected with the notion of extendability 
of models of set-theories (see Marek & Mostowski [1974]). 
In fact (@F) 
(FIR+ I A <R e, F ,~>I=KMn) 
means that R~ 
is KMn-extendable. 
So 
we can rewrite the theorem as: 
THEOREM 7' 
If ~e~ m and ne~ then, 
KMI- (~e) (Ord(e)^R 
is KM 
extendable)A(~<->~R~. 
e 
n 
An improvement of Vaught [1967] as presented in Ratajczyk [1979] gives 
the following 
THEOREM 8. 
If j is an interpretation of Peano's arithmetic P in KM and 
(V~ m) (KMI- ~+Conj(A~+A$) for each finite fragment S of KM then the set 
of sentences ~ (P) + {~÷Conj(A~+AS):~m,s~ 
finiteAXKM} is 
an axiomatization of KMm° 
PROOF: 
Ratajczyk [1979], Theorem 0. 
[] 
results in Montague [1960] it is known that (V~c~ m) (KM> ~÷Con i (A~+AS)) 
By 
so we obtain 
THEOREM 8'° 
If j is an interpretation of P in KM, then ~(P)+{#÷Conj 
(A~+AS):~e~m,s!finit e AXK M} as an axiomatization of KM m, 
Using different methods the following theorem has been proved by Ratajczyk 
[1979]o 

73 
THEOREM 9. 
The set 
ZF+{(~ )(R is KM n extendableA#<->~R~:~m^ne~} is an axiomatization of 
KM m 
PROOF: Let r={(~ )(R 
is KMn-extendableA~R~ ÷>~):~eCmAne~} 
Enumerate F,i.eo r={XCn :~m^ne~}oThen for each ~ecm and each ne~, by 
theorem 7' , KMI- X~n from which rc~M 
m,_~. 
~ 
hence F~ml - r . Call 
A={~÷Con~(A~+AS):~mAS!finit e AXKM}O 
We will prove ZF+rk~(P)+A. 
Let <M,E>I=ZF and suppose for each n, and each ~, <M,E>I=X~, n. 
Let 
~e~m and let S!finit e AXKM 
Assume <M,E>I= ~. 
Because S!finit e AXKM 
there exist ~OR M and F~M such that <M,E>I= FiR +I^(<F,R ,e>l= S)^ 
( R <__>~). As we have assumed <M,E>I = ¢ then 
c>~S)^~R~ 
Therefore <M,E>~Con(A~+A S) from 
<M,E>~ FiR+ I ^ 
(<F,R 
. 
which <M,E>~Conj(A +AS). 
Although this theorem solves the problem of finding a set-theoretic set 
theoretic set of axioms for KMm we will give a simpler axiomatization 
which is based on reflection principles. 
For each n~w and each p~m let F be the following set schemata: 
~ 
~8 (lim>~(~) ^Iim>~(B)^<R,L6~ (R)><< R ~,L~(RB)>^ ~R~ 
~) 
were ~nK is the first B such that <RK,L B (RK)> I= A~-comprehension, and 
<R , L~n(R 
)><<R8,~ 
L~(RB)> is the formal statement that <R , L6n(R~)> 
is an elementary submodel of <RB, L6~(R8)> and the relation occurs only 
with set parameters. 
THEOREM I0. (W. Reinhardt) Let @ be an instance of F. Then KMI- @, and 
therefore KMml -@. 
PROOF: By Theorem 0 take 8e~ n and get a structure <RB,L~n(RB)>. Let P 
be t----he set of definable 
elements 
of R B in L~n(R 8) using 
Bparameters 
from 
R~, i.e. 
tEP<--> there 
exists 
a formula O andSparameters 
b I, b 2 ..... 
b n 
in R B such that 
t={ xcR~: <RB,L~n(Rs)>I= 
e(x,b I ..... bn)}. 
It is obvious 
that 
PcL~(Rs) 
and moreover we h~ve P<L~n(Ra)'~8 
~ 
Collapse 
P to get 
<R ,L~n(R )>~. 
This is the desired 
structure. 
The reflection 
~P~<--~@ 
is inmediate. 
D 

74 
THEOREM II: If ~e~m and E is a finite subset of the axioms for KM then, 
ZF+FI- (~) (@F) ((Ord(~)^F!R+I^<R,F>I= I)^~<-->~P~). 
PROOF: Let ~ and Ebe given. Assume the more complex instance of comprehen- 
sion which occurs in E is A~for a certain n. Then clearly 
<R ,L~n(R )~ l= E and ~<__>~R~ 
Using these results we can give the following axiomatization for KM m 
using the "reflection principle" F , 
~HEOREM 12. The set ZF+F is an axiomatization for KM m. 
PROOF: Let A {~ ~ Conj (A~+AI) : ~E~ m, Ea finite subset of the axioms 
for KM}. 
By Theorem I0 it is sufficient to prove ZF+FI-~(P)+A 
Let <M,E>;= ZF and assume <M,E> satisfies all the instances of F, i.e. 
<M,E>I= ZF+F. 
Let ~c~ m and let E be a finite subset of the axioms for KM. Assume 
<M,E>I =r. By Theorem II, since <M,E>I=F there exists ~OR M and F~M such 
that ~,E>;= FsR + I ^ ((R ,F) I=E) ^ R~<_>~. 
Since we have assumed that <M,E>I= ~, we have 
^ (<R ,F>I=E) ^ #R , then <M,E>T=Con(A~+A E) from which 
<M,E>I= FsR~+ I 
follows <M,E>I=Conj(A~+AE). 
NOTE: This paper was partially written while the author was at the Insti- 
tuto Venezolano de Investigaciones Cientificas supported by a grant from 
PNUD/UNESCO (Matem~tica). The author thanks Dr. Carlos A. Di Prisco for 
some very helpful conversations. 
Chuaqui, R. [1980]. 
Craig, W. 
[1953] 
Friedman, H.[1981] 
Krajewski, S[1974] 
REFERENCES 
Internal and forcing models for the impedicative 
theory of classes, Dissertationes Mathematicae 
CLXXVI, Warzawa. 
On axiomatizability within a system, J.Symbolic 
Logic 18,pp. 30-32. 
On the necessary use of abstract set theory, 
Advances in Mathematics 41, pp. 209-280. 
Predicative expansions of axiomatic theories, 
Z.Math.Logik, vol. 20, pp.435-452. 

75 
Keisel,G. 
[1971] 
Kreisel, G. and 
Levy, A. 
[1968] 
Lindstrom, P [1979] 
Marek, W and 
Mostowski, A [1974] 
Montague, R. [1960] 
Novak, I.L. 
[1950] 
Ratajczyk, Zo[1979] 
Vaught, R.L. [1967] 
Observations on popular discussions of foundations, 
Axiomatic Set Theory, ed. by Dana Scott, American 
Mathematical Society, pp. 189-198. 
Reflection principles and their use for establish- 
ing the complexity of axiomatic systems, Z.Math. 
Logik, vol. 14, pp. 97-112. 
Some results in interpretability, Proceedings from 
5th Scandinavian Logic Symposium, Aalborg Univer- 
sity Press, pp. 329-361. 
On extendabiiity of models of ZF set theory to the 
models of KM theory of classes, Lecture Notes in 
Mathematics, vol~ 499. 
Semantical closure and non finite axiomatizability, 
Infinitistic Methods, P.W.N. pp 45-69. 
A construction for models of consistent systems, 
Fundamenta Mathematicae, vol. 37, pp. 310-317. 
On sentences provable in impredicative extensions 
of theories, Dissertationes Mathematicae CLXXVIII, 
pp 1-44. 
Axiomatizability by a schema, J. Symbolic Logic 
32,pp. 473-479. 

APPLICATIONS OF MODEL THEORY 
TO REAL ALGEBRAIC GEOMETRY 
A SURVEY. 
M.A. Dickmann 
CNRS - University of Paris VII 
Paris, France 
CONTENTS. 
§ i. 
Introduction 
77 
§ 2. 
Real versus complex geometry 
79 
§ 3. 
Quantifier elimination 
82 
§ 4. 
Applications of quantifier elimination. 
87 
A. Elementary properties of semi-algebraic sets and 
functions. 
B. The real nullstellensatz. 
C. The simple point criterion 
D. Hilbert's 17th problem. 
E. Further applications. 
§ 5. 
The structure of semi-algebraic sets 
97 
§ 6. 
The real spectrum. 
105 
A. Introduction 
B. Elementary properties 
C. Constructible sets 
§ 7. 
Affine varieties over real closed fields. 
118 
§ 8. 
Dimension 
121 
§ 9. 
Continuous semi-algebraic functions 
124 
§i0. 
Nash functions. 
131 
A. Basic algebraic properties 
B. Nash functions and real algebraic geometry 
C. The separation theorem. 
§II. 
The substitution theorem; 
"stellensatze". 
137 
A. The substitution theorem 
References. 
B. Applications: "stellensatze"; cormnutative algebra 
of Nash functions. 
144 

§i. INTRODUCTION. 
77 
This survey deals with real algebraic geometry, a subject still in 
its infancy, and with the application of model-theoretic techniques in 
this area. 
Let 
V 
be an algebraic variety defined over a field K. 
Deviating slight- 
ly from standard usage, we will think of 
V 
as being given by a specific 
finite set 
PI ..... P£ 
of polynomials in ~(X I .... ,X n) 
for some n - or 
equivalently, by the formal expression 
"iA__l__ Pi(XI, .... X n) = 0". 
For 
a field 
F 
containing 
K we let 
V(F) 
denote the set of 
F-rational 
points (which we will call 
F-points) of V: 
V(F) = {aEFn I Pi(a) = 0 
for 
i = i ..... £}. 
Classical algebraic geometry was primarily the study of the complex points 
V(~), and in spite of the attention payed to rationality questions in the 
development of the subject, even the general theory initiated by Groten- 
dieck has been set up to deliver results corresponding to the complex 
case. 
Thus, some of the most natural questions connected with the study 
of the real points 
V(~), like the number of connected components in the 
Euclidean topology, or even the existence of non-singular real points, 
simply do not arise in that context. 
Indeed, such questions -which form the proper subject matter of real alge- 
braic geometry have received detailed consideration only relatively recent- 
ly. 
In the last ten years especially, a body of theory has emerged in 
which real closed fields assume their proper role, the real spectrum (with 
a suitable topology) has been constructed, and the geometry of semi-alge- 
braic sets and rings of Nash functions have been explored 
(subjects with 
no meaningful parallel in the classical theory).The necessary definitions 
and background will be given below as the occasion arises 
Model theoretic techniques - notably a systematic use of quantifier eli- 
mination for real closed fields and related ideas- have a role to play in 

78 
all of this. 
The precise purpose of this article is to survey this in- 
teraction of model theory with various kinds of geometrical investiga- 
tions. 
As we intend to give only an overview of the subject, we omit many proofs, 
in order to concentrate on those which illustrate the use of an important 
technique combined with some aspect of mmthematical logic. 
At the same 
time we have tried to supply many examples and references for further 
study. 
Some familiarity with the elementary algebra of real closed 
fields is assumed. 
We will begin our survey by reminding the reader of some "pathology" asso- 
ciated with the geometry of the sets 
V(]R) (see §2). 
The general ana- 
lysis of the behavior of such sets depends on a body of theory based on 
the following four ingredients: 
(I) Quantifier elimination for the theory of real closed fields (see 
§3). 
This provides a substitute for the techniques of classical elimination 
theory. 
Quantifier elimination in algebraically closed fields is a rather 
trivial affair which was replaced by other devices; 
in the real closed 
ease it constitutes a powerful tool, at least for the present. 
In par- 
ticular, the presence of an ordering introduces features having no parallel 
in the classical case. 
(2) The "separation theorem" and related tools (see 
§5). 
These yield 
considerable information concerning the topology of real algebraic varie- 
ties and, more generally, of "semi-algebraic" sets (arbitrary definable 
subsets of ~n) with respect to the ordinary Euclidean topology, where 
for example the connected components, the interior or the closure of a 
set are of interest. 
They are also used in transfering 
such notions 
to other real closed fields. 
(3) The real spectrum of a ring (see 
§6). 
The use of this instrument in 
real algebraic geometry is similar to that of the prime spectrum in the 
classical theory. 
It turns out, however, that its topological properties 
are better, yielding information about the sets 
V(~) of real points 
with respect to the Euclidean, rather than the Zariski topology. 
(4) Nash functions (see 
§I0, §II). 
This class of functions (analytic 
functions with a definable graph) is the tool which makes possible an 
explicit description of the "branches" and the connected components of 
real varieties, in spite of the complexity of the situations arising in 
this case, without a common measure with those occurring in classical 
algebraic geometry. 
Applications of quantifier elimination to real algebra are surveyed in 

79 
§4, while the study of real algebraic varieties properly is carried out 
in 
§7, §8. 
We have also included a section ( § 9) on continuous semi- 
algebraic functions, the analysis of which leads naturally to the theory 
of Nash functions. 
This article (and the author's interest on real algebraic geometry) owes 
much to Coste/Coste-Roy [62], a clear, deep 
and inspiring exposition 
of the core of the subject. 
Thanks are due to the referee, whose sugges- 
tions helped to improve substantially the original manuscript. 
§2. REAL VERSUS COMPLEX GEOMETRY. 
We illustrate some of the comments made above by recalling results 
of complex algebraic geometry which rule out phenomena occurring quite 
commonly among real algebraic varieties. 
First we must fix some notation. 
2.1 
NOTATION. 
Let 
k 
be a field and 
F 
a field extension of k 
(when 
F = k we will drop it from our notation). 
(a) To each subset 
X c k n we associate the ideal 
~F(X) = {PeF[X I ..... X n] J P(~) = 0 
for all 
~EX}. 
(b) Given a set S ! k[X I ..... X n] we define 
VF(S) = {xeFn I P(x) = 0 
for all 
Pc$ }. 
Recall that by our earlier convention a variety 
V 
over 
k 
is determin- 
ed by a 
specific finite set of polynomials 
PI ..... P£ c k[X I ..... Xn]. 
(c) We write 
IF(V) 
for the ideal of 
F[X I ..... X n] generated by 
PI,...,P£. 
(d) The (affine) coordinate rin$ of a variety 
V 
over 
k 
is the ring 
k[Xl ..... Xn]/ ~(V(k))' denoted by 
k[V]. 
(e) A variety 
V 
is called irreducible if th~ ideal 
I(V(k)) is prime.0 
REMARK. 
A variety 
V 
is irreducible iff we cannot write 
V(k) as a 
proper union 
Vl(k ) uV2(k), with 
Vl,V 2 varieties defined over 
k. cf. Hartshorne 
[3; Ch.l, §i] 
[] 
THEOREM 2.2. 
(Hilbert's nullstellensatz). 
Let 
V 
be a variety 
over an algebraically closed field k, and 
Pek[X I ..... Xn]. 
Then the 
following are equivalent: 
(i) P(x) = 0 
for every 
xeV(k). 
(ii) There is n e i 
such that 
pn~I(V). 
0 
In other words: 
l(V(k)) = Rag (l(V)), 

80 
where 
Rad(I) = {Pck[X 1 ..... X n]I pn~I for some 
ne I}. 
For a proof, see Lang 
[8; p. 256]. 
Of course, this theorem fails badly over ~ (or any real closed field): 
EXAMPLE 2.3. 
Let 
V 
the variety over ~ 
defined by the polynomial 
X 2 + I. 
Since 
V(~) = ~ , then 
(i) 
of 2.2 
is true for any P, while 
(ii) frequently fails. 
D 
Turning to more interesting examples, we state a fundamental, and highly 
non-trivial, result about complex varieties: 
THEOREM 2.4. 
Let 
V 
be an irreducible variety over 
~. 
Then V(~) 
is a connected subset of 
~n (here 
~ 
is considered with its standard, 
Euclidean topology). 
D 
The proof is given in Shafarevich [14; pp. 320-32]. 
This result also fails over the real field: 
2.5. 
EXAMPLES. (a) 
The hyperbola of equation 
YX-I = 0, which clear- 
ly is irreducible, consists of two disjoint branches in R2° 
(b) Similar- 
ly, the cubic 
y2 _ X 3 + X, irreducible by Einsenstein's criterion (cf. 
Lang [8; p. 128]), has two connected components: 
These examples remain irreducible over 
~. 
The examples below require the notion of dimension of a variety. 
For 
oum present purposes the intuitive notions suffice; 
but as we will 
develop the analogous "real" theory later, we recall here the customary 
algebraic definitions corresponding to those intuitive notions. 
DEFINITION 2.6. 
Let 
A 
be a commutative ring with unit. 
(a) 
The (Krull) dimension of 
A, dim A, is the supremum of the integers 
n 
such that there is a chain 
Po ~ PI ~ ''" ~ Pn 
of length 
n + 1 
of prime ideals of 
A (dim A = ~ if there are chains 
of this type of unbounded length). 
Let 
V 
be a variety over a field 
k. 
(b) 
The (global) dimension 
of 
V, dim (V), is the dimension of the 

81 
coordinate ring k[V]. 
(c) The (local dimension of V 
at a point 
xEV(k), dim (V,x), is the 
dimension of k[V]M_, 
the localized of the ring k[V] at the maximal 
x 
ideal 
M~x of the point x : 
= {P~(v(k)I Pck[Xi'''''Xn] 
and P(x) = 0}. 
0 
There are several equivalent characterizations of these notions; 
we 
mention the following: 
THEOREM 2.7. 
Let 
k 
be a field, 
A an integral 
k-algebra of finite 
type and K 
the field of fractions of A. 
Then: 
dim A 
= 
transcendence degree of K 
over 
k. 
D 
In particular, if V 
is an irreducible variety over 
k 
and k(V) denotes 
the field of fractions of k[V] (called the function field of V), then 
we have: 
dim (V) = transcendence degree of k(V) over k. 
A proof of Theorem 2.7 can be found in Matsumura [9; Ch.5, §14]. 
The fundamental result on the dimension of varieties in classical alge- 
braic geometry is the following: 
THEOREM 2.8. 
Let 
V 
be an irreducible variety over an algebraically 
closed field k. 
Then 
dim(V) = dim(V,x) 
for all 
x~V(k). 
0 
The proof is given in Atiyah-Macdonald 
[i; 
pp. 124-125]. 
This result also fails over the field of real numbers: 
2.9. 
EXAMPLES. 
(a) 
The irreducible cubic 
y2 _ X 3 + X 2 has an 
isolated point at the origin: 
I/ 
T\ 

z 
It is (intuitively) obvious that the local dimension at the origin is 
zero, while the same dimension at any point of the main branch is one. 
(b) An example of the same phenomenon where the set 
V(~) is, in add- 
ition, connected, is obtained by considering Whitney's "umbrella" (or 
Cartan's, if you are French), given by the irreducible polynomial 
Y3-(X2 + Y2)Z, whose graph looks as follows: 
82 
The theory of dimension for real varieties is discussed in 
§8 below. 
§3. 
~UANTIFIER ELIMINATION. 
The theory 
RCF 
of real closed fields is most simply defined 
as the first-order theory of the field ~ 
of real numbers in the language 
L of unitary ordered rings, built from the symbols 
+, -, ., 0, I, < 
and logical symbols (but no symbol for the multiplicative inverse). 
In order to derive useful mathematical information it is necessary to 
have good axioms for the theory and some algebraic machinery, notably 
the existence and uniqueness of the real closure. 
The most efficient set 
of axioms is: 
(i) The axioms for ordered fields. 
(2) The intermediate value property: for any polynomial P(X) in one 
variable, and for any points 
a <b 
for which 
P(a), P(b) are non-zero 
and of opposite sign, P(X) has a root in the interval (a,b). 
Applied to polynomials of the form X 2 -a, the intermediate value proper- 
ty implies that non-negative elements have square roots, and hence that 

B3 
real closed fields have a unique ordering which is definable in the lan- 
guage of rings. 
Nevertheless, for reasons which will soon be clear, we 
retain the symbol < . 
DEFINITION 3.1. 
Let k, K be ordered fields, K an ordered extension of 
k. K is a (the) real closure of k if K is real closed andalgebraic over k. 0 
The existence of a real closure is straightforward (Zorn). 
Its uniqueness 
up to (unique) 
k-isomorphism requires a more delicate touch, usually ob- 
tained by use of Sturm's algorithm. 
However, there are proofs which instead 
use the intermediate value property and Rolle's theorem (cf. Gross-Hafner 
[49]), or even other algebraic tools (see Knebusch [50]). 
Details concern- 
ing this result, and an elementary algebraic information on real close fields 
can be found in basic algebra texts, such as Jakobson [4, Ch.VI], Jakobson 
[5], 
Lang [8; Ch.IX] 
or Ribenboim [13; Ch. IX]. 
EXAMPLE 3.2. 
We recall an example of real closed field of great 
importance in real algebraic geometry: the field P(K) of (formal) Puiseux 
series with coefficients in a real closed field K. This is the field of 
Laurent series with fractional exponents, i.e. formal expressionsofthetype 
a n X nIp 
n=N 
where 
p 
is an integer ~ i, 
N ~ 
and 
a N ~0. 
The algebraic operations 
are defined as in the case of formal power series; the reader can figure 
out the explicit definitions as an exercise. 
The real closedness of P(K) follows easily from that of K and the following: 
THEOREM 3.3 (Newton). 
If k is an algebraically closed field of 
characteristic zero, then so is 
P(k). 
0 
This is the fundamental theorem of the classical theory of plane algebraic 
curves. 
The standard proof, by the "Newton polygon" method, is given in 
Walker 
[15; Ch. IV, §3]; 
model-theoretic proofs also exist (an argument 
of this type gives a direct proof of the real closedness of P(K) as well). 
The key point here is that P(k) is the algebraic closure of k(X). 
For a 
geometric interpretation of the real closure of the field 
K(X) 
with its 
various orders, when K is real closed, see Brumfiel 
[65; pp. 183-184]. 
We will use this example in 
§9 below. 
0 
The main result concerning the theory 
RCF 
is: 
THEOREM 3.4. 
(Tarski; approx. 1930). Let 
~(v I .... ,v n) be a first- 

84 
of both 
K 1 
and 
K2, 
we have the situation 
order formula of the language L having 
v I ..... v n as free variables. 
Then there is a quantifier-free formula 
~(Vl,...,v n) with the same 
free variables, such that 
RCF ~ Vv I ..... Vn(~(v I ..... v n) <-> ~(v I ..... Vn)). 
In order to prove this result we will need the following model-theoretic 
criterion, which is a simple consequence of the compactness theorem of 
first-order logic: 
3.5.MODEL-THEORETIC CRITERION. 
Let 
T 
be an arbitrary first-order 
theory formulated in a language 
L. 
Then the following are equivalent: 
(i) T admits quantifier-elimination in the language 
L (i.e., the state- 
ment of Theorem 
3.4 
holds for 
T, instead of 
RCF). 
(2) For every pair of models 
~,~ 
of 
T, every 
L-substructure 
~ 2 ~, 
c ~, 
and every conjunction 
~(v,~) 
of atomic formulas of 
L 
and 
their negations, with one free variable and parameters 
~ 
in 
~, we have: 
(*) 
~ ~ ~v~(v,~) 
implies 
~ 
~v~(v,~). 
0 
For details see Chang-Keisler 
[33; 3.1.17] 
or 
Dickmann 
[72;Ch.II, §i]. 
PROOF OF THEOREM 3.4. 
By the model-theoretic criterion we need to prove 
(*) when ~= 
KI, 
~= 
K 2 
are real closed fields and 
~ = A is an 
ordered subring of both 
K 1 
and 
K 2. 
Trivial manipulations show that in the present case a formula 
@(v,~) as 
above is of the form 
m 
t 
A Pi(v) = 0 
^ ~iQj(v) > 0, 
i=l 
j 
with 
Pi,Qj ~A[X]. 
Let 
k 
be the field of fractions of 
A, which is an ordered subfield 
and 
F i 
its real closure in Ki(i = 1,2). Thus, 
F I 
! 
K I 
k 
F2 
! 
K 2 
By uniqueness of the real closure there is a 
k-isomorphism 
~ :F I ÷ F 2 , 
In order to prove 
(*) 
it suffices to show: 

85 
(**) 
If K I ~ @v ~(v,~), then there is bcF I such that 
F I ~ ~[b,~]. 
Indeed, we would have then, 
F 2 ~ ~[o(b),c] ; since this formula is also 
valid in K2, 
we conclude that 
K 2 ~ ~v ~(v,~). 
K I > ~v ~(v,~) and let 
acK I be such that 
K I > AP:(a)= 
i ± 
Let us assume 
0 ^ AQ.(a) > 0 
j J 
CASE I. m>0 
and one of the polynomials 
Pi 
is of degree >0. 
Then 
a 
is algebraic over 
k, which implies 
aeF I, 
CASE 2. 
Either 
m = 0 
or all the polynomials 
Pi 
are of degree 
0. 
Let 
R be the (finite) set of all roots (in K I) of the non-trivial poly- 
nomials amongst 
QI,...,Q t. 
The elements of 
R 
are algebraic over k, 
and hence 
R ! FI- 
Let 
(e,B) 
be the interval of K 1 
containing a de- 
termined by two successive elements of 
R (e or B may be 
-~ or + = ). 
Since 
Q1 .... 'Qt 
are positive at 
a, 
they are positive on the whole 
interval 
(~,B), and hence also positive on (~,B) n F I. 
Since 
~,B~FI, 
this set is non-empty; 
choose 
b~(~,B) nF I. 
0 
3.6. COMMENTS. 
The foregoing proof of the quantifier elimination 
theorem is by far the shortest and most elegant, but it is not construc- 
tive. 
For most applications, however, the theorem is quite sufficient 
as stated; 
many applications require only the much weaker transfer 
principles below. 
Constructive proofs of Theorem 3.4 do exist. 
Indeed, the first published 
proof, Tarski 
[40], 
is of this type; 
see also Kreisel-Krivine [37; 
Ch. IV] 
and Collins 
[35]. 
The primitive recursive algorithms for finding a quantifier-free equi- 
valent of a given formula provided by the constructive proofs cannot be 
implemented in practice, except possibly for very particular formulas. 
Fischer-Rabin 
E36] 
showed that any such algorithm is necessarily of 
exponential complexity: they construct 
L-formulas of arbitrarily large 
length 
n 
for which no algorithm can compute a quantifier-free equiva- 
lent in less than 
2 n 
steps. 
For further information in this direction, 
cf. Monk [39] 
and Collins 
[35]. 
Nevertheless, algorithmic proofs frequently yield additional information; 
in our case a useful corollary of such type of proof is the following: 
PROPOSITION 3.7° 
For any 
L-formula ~ there is a quantifier free 
equivalent modulo 
RCF, ~, 
such that the coefficients of the poly- 
nomials occurring in @ are polynomial functions over 
Z of the polynomials 
occurring in 
~. 
D 

86 
Next we consider two important consequences of quantifier elimination. 
THEOREM 3.8. 
(First transfer principle). Let ~ be a sentence (i.e. 
a formula without free variables) of the language 
L. 
For any pair of 
real closed fields 
KI,K2, we have: 
K I ~ ~ 
iff 
K 2 ~ ~ 
The proof is trivial. 
The standard name of this result among logicians 
is "completeness of the theory RCF". 
The transfer principles stated below are far more powerful than the preceed- 
ing one; 
they are also more useful, as they apply to formulas with parame- 
ters. 
The first is actually a reformulation of quantifier elimination (see 
3.5 above), while the second is known as the "model-completeness of the 
theory RCF". 
THEOREM 3.9. (a) 
Let 
<k,~> be an ordered field, and KI,K 2 real closed 
ordered extension of 
<k,~>. 
Then for every 
[-formula 
~(v I ..... Vn) and 
every al,...,anck , we have 
K I ~ ~[a I .... ,a n ] 
iff 
K 2 ~ ~[a I ..... an]. 
In particular: 
(b) (Second transfer principle). The equivalence above holds whenever KI,K 2 
are real closed fields such that K I ! K2, and 
a I ..... an~K I- 
PROOF, 
Since we may take ~ quantifier-free, 
this is clear. 
0 
The following is an equivalent formulation of the second transfer principle: 
PROPOSITION 3.10. 
Every unitary ring homomorphism between real clos- 
ed fields, f:K I + K2, is an elementary map~ 
in other words, for every 
L-formula 
~(v I ..... Vn) and 
a I ..... an~K , we have 
K I ~= ~[a I ..... a n ] 
iff 
K 2 ~ ~[f(a I) ..... f(an)]. 
In particular, an inclusion of real closed fields is an elementary inclusion. 
3.11. 
COMMENTS. 
(i) It is well-known that quantifier elimination 
is very sensitive to the choice of language. For example, any theory 
admits quantifier elimination in a suitable language; but, as a rule, 
such language is of no mathematical interest. 
The interest of Theorem 
3.4 lies precisely in that the language L is intimately connected with 
information of mathematical significance. 
(ii) Quantifier elimination is an exceptional 
phenomenon. 
For example, Macintyre-McKenna-van den Dries 
[38] 
and van 
den Dries 
[41] 
have shown that 
RCF 
is the only 
theory of 
(not 
necessarily commutative) ordered rings with unit admitting quantifier 
elimination in the language 
L. 

87 
On the other hand, transfer principles are a much more common occurrence: 
Mc Kenna has shown the existence of 
2 ~o model-complete theories of 
ordered fields. 
(iii) 
Quantifier elimination implies that any 
definable subset of ~ 
is a union of intervals. 
Van den Dries 
[87] 
has shown that this latter property alone already has some significant 
consequences normally associated with quantifier elimination techniques, 
and conjectures that this property is preserved if the exponential func- 
tion is adjoined to the language. 
The study of properties of this type 
arises in the investigation of: 
(iv) 
Tarski's problem. 
In his monograph [40; p. 
45] 
Tarski asked whether quantifier elimination or some of its conse- 
quences could be extended to the theory of the structure < ~,+,-,<,exp,0>. 
This problem has been taken up again in the last few years, and valuable 
new information has been obtained (we know, for example that quantifier 
elimination cannot be extended). 
Nevertheless, the problem is incompara- 
bly more difficult than its analog for polynomials. 
For a discussion 
and further references, see van den Dries 
[87]. 
§4. _APPLICATIONS OF QUANTIFIE R EL IMINAT!ON. 
A. 
Elementary properties of s emiTalgebraic sets and functions. 
The following notion is generally considered to provide the analog in 
real algebraic geometry of the notion of 
"constructible set" in ordinary 
algebraic geometry. 
DEFINITION 4.1. 
Let 
K > RCF. 
A semi-algebraic (s.a.) subset of 
K n, 
n e I, 
is a finite boolean combination of sets of the form 
{xcK n I Q(x) >0 } , where 
QcKEX I ..... Xn]. 
D 
Equivalently, s.a. sets are the subsets of K n defined by formulas of 
the form 
V 
(A Pij(vi ..... Vn) = 0 A A Qik(Vl ..... Vn) > 0) 
i 
j 
k 
(finite conjunctions and disjunctions), with 
Pij' Qik ~ K[XI ..... Xn], or 
in other words, by quantifier-free formulas in the language L , with 
parameters in K. 
Invoking the quantifier elimination theorem 3.4 we 
obtain at once the fundamental relation: 
(*) 
Semi-algebraic 
= 
Definable 
(i.e. parametrically definable) which establishes the connection between 
first-order logic and real algebraic geometry (or semi-algebraic geome- 
try, as it is also called). 
Once this relationship is understood, a number of fundamental results 

88 
follow instantaneusly: 
THEOREM 4.2. 
Let 
K ~ RCF. 
the following operations: 
(i) 
(ii) 
(iii) 
(iv) 
cartesian product. 
PROOF. 
Immediate using (*). 
set 
S c K n is defined by : 
The class of 
s.a. sets is closed under 
finite boolean operations; 
closure and interior (in the euclidean topology for Kn); 
projection 
(of K m 
into 
K n, say); 
For example, the closure 
S 
of a definable 
xES 
iff 
Vc>0 ~ ycS(d(x,~)<e) 
(d denotes the Euclidean distance). 
0 
DEFINITION 4.3. 
Let 
K 
be a real closed field, 
m,n e i, and 
S a 
subset of 
K n. 
A function 
F : S ÷ K m 
is called semi-algebraic 
(s.a.) 
if its graph 
Gr(F) = {<x, F(x)> [x~S} 
is a s.a. subset of 
K n+m. 
Note that the domain 
S = Dom(F) of a s.a. function is necessarily a s.a. 
set, since it is the projection over 
K n of the graph of 
F. 
THEOREM 4.4. 
Let 
K ~ RCF. 
(a) The set of K-valued s.a. functions defined on a s.a. subset of K n 
is a ring under the standard, pointwise defined operations. 
(b) The composition of s.a. functions is s.a. 
(c) The image of a s.a. set under a s.a. function is s.a. 
PROOF. 
As above; 
write down the standard definitions of the relevant 
operations 
(which are first-order), 
and use (*). 
0 
The proof of these elementary facts without quantifier elimination is 
usually a headache (this is hardly surprising, 
since some of these facts 
are actually equivalent to quantifier elimination). 
One can avoid the 
trivial proofs using quantifier elimination by giving non-trivial proofs, 
if desired (in fact, this is done, sometimes). 
4.5. 
EXAMPLE. 
As an example going beyond the standard examples of 
elementary analysis, consider, for a fixed s.a. set 
S c K n, the function 
d S : Kn÷ 
K 
defined by: 
ds(x) 
= 
the (Euclidean) distance from 
x to S; 

89 
d S 
is a continuous s.a. function. 
General properties of these functions, 
yielding non-trivial information, will be studied in §9. 
D 
B. 
THE REAL NULLSTELLENSATZ. 
A fundamental feature of algebraic geometry over an algebraical- 
ly closed field, k, is the one-one correspondence between 
k-points of 
a variety 
V 
and (proper) maximal ideals of the coordinate ring 
k[V] 
established by Hilbert's nullstellensatz. 
This correspondence fails in 
the real case : the polynomial 
X 2 + y2 + I 
does not have real points, 
while its coordinate ring is not reduced to 
0 
and hence does have 
(proper) maximal ideals. 
In order to develop algebraic geometry over IR, it is of the utmost im- 
portance to restore a correspondence of this kind, that is, to determine 
which type of ideals correspond to points. 
This amounts to proving a 
"real" version of the nullstellensatz, which we will presently do. 
The key notion comes from the observation that the ideal ~ (a) of real 
polynomials vanishing at a point 
a el~ n 
has the following property: 
n 
p2 
I(~) 
implies 
PI' 
'Pnc ~(a) 
i 
C 
.
.
.
.
 
i=l 
Generalizing this observation we introduce the following notion: 
DEFINITION 
4.6. 
Let 
<k,~> 
be an ordered field, 
A a ring contain- 
ing k 
and 
I c A an ideal. 
(a) We say that 
I 
is real over k 
iff 
n 
2 
i~l Piai el, 
with 
aicA 
and Pick, Pi>0, 
implies a I .... ,ancl. 
We will also need the following weaker notion: 
2 
(b) 
I 
is called semi-real over k 
iff 
-I 
is not of the form 
~piai/l 
i 
with 
Pick, 
Pi>0, 
and 
aicA. 
(c) If 
I = {0} we call 
A 
real 
(respectively, semi-real) over k. 
D 
4.7. 
REMARKS. 
(a) 
If 
I is a prime ideal and A/I is of charac- 
teristic 
# 2, 
then 
I 
is real over 
k 
iff 
A/I has~oan ordering 
extending that 
of 
k 
iff 
-i 
is not of the form 
~PiX~. with 
i 
Pick, Pi>0, and 
x i 
in the field of fractions of A/I. 
(b) 
I real over k implies 
I radical. 
(c) 
Let 
<F,~> 
be an ordered extension of the 

90 
ordered field 
<k,~>, 
and 
S ! Fn. 
Then the ideal I k(S) of polynomials 
over 
k 
vanishing at 
S (cf. 
§2.1) is real over k. 
(d) 
If A 
is a noetherian ring and 
I 
is a proper 
ideal of A, then 
I 
is real over 
k 
iff 
I is radical and is the inter- 
section of finitely many prime ideals real over k. 
(e) 
The example 
I = (X 2 + y2), 
A = k[X,Y], shows 
that semi-real is a notion strictly weaker than real. 
D 
THEOREM 4,8. 
(Real nullstellensatz). 
Let 
<k,~> be an ordered field, 
its real closure, and 
I ! k[Xl,''-,Xn] an ideal• 
Then 
I 
is real over 
k 
iff 
I = I k(V~(1)). 
PROOF. 
The implication from right to left is just the remark 4.7 (C). 
For the converse we need only prove the inclusion Ik(V~(I)) ! I, since 
the other inclusion is trivial. 
Let 
I be generated by 
QI .... 'Qr ~ k[Xl ..... Xn]" 
The condition 
Q E Ik(V~(I)) 
is expressed by : 
r 
(*) ~ ~ V~[iAiQi(v)= = 0 
~ Q(v-) = 0 ]• 
l 
Using remark 
4.7(d) we can find a representation 
I = ~ 
P. 
where the 
j=l 
J 
ideals 
Pj are prime and real over k. 
Then the condition 
Qel 
is equi- 
valent to the conjunction of the conditions 
(**) k[X I ..... Xn]/p j 
> 
Q(Xl/p ,j .... Xn/e.)j = 0 
for j = I ..... £ . Since each of the rings 
k[X I ..... Xn]/p j has an order- 
ing extending that of k 
(by 4.7(a)), we may consider the real closure 
Lj 
of its field of fractions with one of these orderings. 
In particular, 
we have 
k =__ Lj ; by Proposition 
3.10 this inclusion is elementary. 
Hence the formula 
(*) holds in Lj as well. 
Applying (**) to QI ..... Qr 
we get 
r 
Lj ~ 
A Qi(Xl/p 
X 
) = 0. 
i=l 
J, 
n/pj 
Xl/P 
x 
Now, using 
(*) 
with 
~ = 
< 
J .... , n/pj> 
we conclude that 
x I 
x/ 
Lj > Q ( /p , .... 
p ) = 0, 
J 
J 
which implies that 
QcPj. 
Since this holds for 
j = I ..... £, 
we 

91 
get 
Qcl, as contended. 
D 
Every ideal is contained in a smallest, possibly improper, real ideal; 
namely: 
~{J 
I J 
is real over 
k 
and 
I ! J ! A}. 
R 
DEFINITION 4.9. 
We shall call real radical of 
I, v~, 
the small- 
est ideal of A, real over k 
and containing 
I. 
The real radical admits a purely algebraic characterization: 
PROPOSITION 4. i0. 
a ~ R Iv~-- iff 
there are 
n,mEN[ , m > 0, 
Pl .... 'PnCk+ and b I ..... bneA 
such that 
2 
a 2m + 
~ Pibi e I. 
i=l 
This result is proved in Krivine [51], 
Dubois-Efroymson [47] 
and 
Dickmann [72; 
Ch.lll]. 
We have the following consequences of the real nullstellensatz: 
COROLLARY 4.11. 
Let 
<k,~> 
be an ordered field, 
k 
its real 
closure and 
I ~ k[X I ..... X n] 
an ideal. 
Then: 
R 
Ik(V~(1)) = 
~ 
. 
R 
R 
PROOF. 
By the nullstellensatz 
Ik(V~ (IRE-)) = 
V~, 
and by the 
R 
preceeding Proposition 
V~ (I) = V~ (I~Y--). 
COROLLARY 
4.12. 
With the notation of the preceeding Corollary we 
have: 
R 
I E I~ 
iff 
V~ (I) = ~. 
D 
We restate this corollary in more geometric language: 
COROLLARY 4.12 his. 
(Weak real nullstellensatz). 
Let 
V be a 
variety over an ordered field 
<k,~> 
and let [ 
be the real closure 
of 
<k,~> 
Then the following are equivalent: 
(i) 
V has a k-point, 
i.e. 
V(k) # 
~. 
(ii) 
The ideal 
l(V) is semi-real over k. 
D 
R 
(Note that an ideal 
I 
is semi-real iff 
#-~ 
is proper). 
COROLLARY 4.13. 
Let 
<k,~> 
and k 
be as a Corollary 4.11, and 
let 
V 
be a variety over k. 
The map 
a 
~-~ I(~)/i(V(k)), 
for a~V(~), 

92 
establishes a one-one correspondence between 
k-points of 
V 
and ideals 
of k[V] which are maximal among ideals real over k. 
PROOF. 
We need to show: 
(i) 
I(~) contains 
l(V(k)) 
and is maximal among ideals of k[X I ..... X n] 
real over k; 
and 
(ii) 
Every ideal of this type is of the form 
I(a) for some 
a~V(k). 
PROOF of (i). 
I(a) 
m l(V(k)) 
because 
a~V(k). 
Remark 
4.7(c) shows 
that 
I(a) is real over k. 
Finally, if 
l(a) ~ I with 
I 
real over k, 
then 
V~(1) ~ {a}, 
i.e. 
V~(1) = ~ ; hence 
i~I by Corollary 
4.12. 
PROOF of (ii). 
Let 
M = l(V(k)) be maximal among ideals real over k. 
By 4.8, 
4.11 
and 
4.12 we get 
V~(M)_# ~ 
Let ~V~(M). 
Since 
M =I(V(k)) 
then aEV(k). 
Also 
M c l(a), and maximality implies the 
equality. 
0 
Exercise. 
Prove that in a ring of the form k[V] every ideal which is 
maximal among real ideals, is maximal. 
Historical rehabilitation. 
The authorship of the real nullstellensatz is 
usually attributed to Dubois 
[46] 
and 
Risler [57]. 
However, Krivine 
proved 
it long before, as well as Proposition 4.10; 
see his paper [51]. 
C. 
THE SIMPLE POINT CRITERION. 
The weak real nullstellensatz 
4.12 
bis expresses in geometric 
terms the algebraic condition 
"I(V) is a semi-real ideal". 
We are in- 
terested in finding a geometric expression for the closely realted notion 
"I(V) is a real ideal". 
It turns out that this condition has a very interesting geometric content: 
it says that 
V has a non-singular 
k-point 
(k = the real closure of 
<k,~>). 
This is what we will prove below. 
When the variety 
V 
is a hypersurface 
-i.e. it is given by a single 
polynomial 
F(X I .... ,X n) - we know from elementary geometry that a point 
aeV(k) is called non-sinsular 
(or simple) if at least one of the deriva- 
tion ~-x.~F (i = i,. .. ,n) 
does not vanish at a. 
The correct definitives 
i 
in the general case is as follows: 
assume that 
V 
is given by polyno- 
mials 
PI,...,PI~k[XI ..... Xn] , and consider the Jacobian matrix, 

93 
J(PI ..... P£ )= 
/ ~PI ..... 
~P£ \ 
~X 1 
~X 1 
~PI ..... 
~P£ 
This is an nx£ 
matrix with entries in k[X I ..... Xn]. 
For a fixed 
s, 
I_< s _<min {£,n}, 
let 
M si (i = l,...,t i) denote the 
sxs 
minors of 
J(PI'''''P£); 
we have 
M~l ~k[Xl'''''Xn]" 
Let 
r 
denote the largest 
s 
s 
such that some M i ~ I(V); 
r 
is just the rank of 
J(PI ..... P£) cal- 
culated modulo 
I(V). 
DEFINITION 4.14. 
A point 
a~V(k) 
of a variety 
V 
over 
k 
defined 
by 
P1 ..... P£ 
is called non-singular (or simple.) iff the rank of 
J(PI ..... P£)(a), the Jacobian matrix at a, 
equals r. 
D 
It is easily seen that a point 
a 
is non-singular 
iff 
the tangent 
space to the variety at a 
has dimension 
n-r 
(cf. Shafarevich [14; 
pp. 74,77]). 
Our main result is: 
THEOREM 4.15. 
Let 
<k,~> be an ordered field, 
k 
its real closure, 
and 
I 
a prime ideal of k[Xl,...,Xn]. 
Then the variety defined by 
I 
has a simple 
k-point 
iff 
the ideal 
I 
is real over k. 
PROOF. 
Let 
A = k[Xl,...,Xn]/i and K 
be the field of fractions of A. 
(a) We prove first the implication from right to left, which is a simple 
consequence of the second transfer principle. 
By assumption 
K 
has an order ~ extending the order of k; 
let 
L 
denote 
the real closure of 
<K,~>. 
Assume that the polynomials 
PI,...,P£ 
gene- 
rate 
I. 
With 
r 
denoting the rank of J(PI .... 'P£) 
in A, as above, 
we have: 
£ 
X 1 
X 
tr 
X 1 
X 
K ~ A 
Pj( 
/I .... n/I) = 0 A V Mr. ( /I''" 
n/I) # O. 
j=l 
' 
i=l i 
"' 
In particular, the statement 
£ 
tr 
r 
(*) 
@v I ..... @v n (A P-(v I ..... Vn) = 0 ^ V Mi(v I ..... Vn) # 0), 
j=l 3 
i=l 
holds in L. 
Since the parameters of 
(*) 
lie in k 
and (up to k-iso- 
morphism) we have 
k c L, then 
(*) also holds in k. 
This means, precise- 

94 
ly, that the variety defined by 
I has a simple 
k-point. 
(b) The proof of the other implication requires some high-powered commu- 
tative algebra, we only sketch it. 
Let 
~V~ (I) be a simple point and M = I(a-)/I its maximal ideal in A. 
A (deep) result from co~utative algebra tells us that, under the present 
assumptions, the following holds: 
(t) 
The localized 
A M 
of A 
at the ideal 
M 
is a regular (local)ring. 
(For the definition of a regular local ring and the proof of 
(t), see 
Atiyah-Macdonald 
[I; Ch. ii].) 
Next observe that the evaluation map at 
a, 
ev~ : A ÷ k, defined by 
ev~ (Q/I) = Q(a), is a surjective ring homomorphism with kernel 
M; hence 
A/M = k, 
÷ AM/MA M 
x MA 
On the other hahd, the map 
A/M 
which sends 
X/M 
into 
/ m 
is an isomorphism (easy verification). 
Hence 
AM/MA M - 
A/M 
_- ~. 
It follows that the residue field of A M 
is orderable. 
Now, another basic 
result from real commutative algebra tells us: 
(tt) 
If B 
is a regular local ring whose residue field is orderable, 
then 
B 
is real. 
For a proof, see 
Lam 
[54; Prop. 2.7]. 
From (tt) we conclude that A M 
is real; 
this implies that 
A 
itself 
is real, as one can easily verify. 
D 
The general case, when the variety is not necessarily irreducible, is 
easily derived from the preceeding theorem. 
We will not prove this, but 
in order to state the result we need to know that a proper ideal in a 
Noetherian ring is contained in only finitely many minimal prime ideals 
(that is, minimal among the prime ideals containing it); 
cf. Atiyah- 
Macdonald 
[i; Thm. 7.13 
and 
Ch. 4]. 
THEOREM 4.16. 
Let 
V be a variety over an ordered field <k,~>, 
its real closure, 
and 
Jl ..... Jm 
the minimal prime ideals of 
k[X 1 ..... X n] 
containing the ideal 
I(V). 
Then, the following are equi- 
valent: 
(i) 
The ideal 
I(V) 
is real over k. 
(ii) 
I(V) is a radical ideal and each variety 
V~(Ji) , i = I ..... m, 

gS 
has a simple point. 
0 
For details, see 
Lam 
[54; 
Prop. 2.9 and Thm. 6.10]. 
D. 
HILBERT'S 17~hproblem. 
In its original formulation this is the problem of knowing 
whether a rational function with rational coefficients, 
R~(X 1 ..... Xn), 
such that 
R(~) e 0 
at every x c~ n 
for which the denominator does not 
vanish, is a sum of squares in ~(X I ..... Xn). 
A positive answer was given by Artin [19] 
in 
1927, based on the path- 
breaking work of Artin-Schreier 
[42], [43]. 
In the 1950's Robinson [22], 
[23] 
gave an alternative (and generalized) proof using the second trans- 
fer principle 
3.9. 
It should be emphasized that the ideas underlying 
Robinson's technique apply as well to other situations where the methods 
of Artin-Schreier are inapplicable; 
for example, to polynomials over 
real closed rings 
(see Dickmann [83]), or over fields with higher level 
orderings 
(see Becker - Jacob [81]), or even over p-adically closed 
fields (see Prestel-Roquette 
[86]). 
In a certain sense, one may say that 
Robinson's proof 
"trivializes" 
that part of the work of Artin-Schreier 
which deals properly with Hilbert's 
17 ~h problem. 
Robinson's proof was the first truly mathematical application of quantifier 
elimination. 
The first chapter of Delzell's thesis [20] 
contains an 
extensive historial account of Hilbert's 
17 ~h problem. 
Since the subject has been widely treated in the existing literature, we 
confine ourselves to the essential points. 
THEOREM 4.17. 
Let 
<k,~> 
be an ordered field, 
~ 
its real closure, 
and 
R~k(X I ..... X n) 
a rational function with coefficients in k. 
Assume 
that 
R(x-) e 0 
for every 
x c~ n 
for which its denominator does not vanish. 
Then 
2 
R 
= 
~ PiRi 
l 
with 
Pick, 
Pi >0 
and 
Riek(X I ..... Xn). 
PROOF. 
Assume 
R 
does not have this form. 
The standard 
Artin-Schreier 
criterion of positivity 
(cf. Dickmann 
[72; Prop. I, 1.5] 
or Ribenboim 
[13; 
Thm. IX.2]) 
implies at once that 
k(X I ..... X n) 
has an order 
extending that of k, 
for which 
R<0. 
Note also that if 
R = P/Q with 
P, Q ~k[X I ..... Xn], then 
Q # 0 
and 
R< 0 
iff 
RQ 2 ~0. 
Let us denote by 
L 
the real closure of 
<k(X 1 ..... Xn),~>. 
The state- 
ment 
(*) 
Iv I ..... @Vn(RQ2(Vl ..... v n) < 0), 

96 
of the language 
[ , with parameters in k, 
is valid in L (for v i = Xi)- 
We can assume, without loss of generality, that 
L ~ ~. 
Then (*) 
is 
true in ~, 
showing that 
R(x) < 0 
for some 
xE~ n, 
a contradiction. N 
McKenna 
[21] 
has done a conclusive study of several questions related 
to this result. 
A useful application of Theorem 4.17 
in real commutative algebra is 
the following result, first proved by Dubois-Efroymson [47]: 
THEOREM 4.18. 
(Change of sign criterion). 
Let 
<k,~> be an order- 
ed field, 
k 
its real closure, and 
Q' QI ..... Qr E k[Xl ..... Xn] 
monic 
! 
polynomials such that 
Q = Q1 .... "Qr 
and the 
Qi s 
are irreducible. 
Then the following are equivalent: 
(a) The principal ideal 
(Q) 
is real over k. 
(b) Each 
Qi 
changes sign in ~n 
and the 
Qi's are pairwise distinct. 0 
Theorem 4.17 gives an easy proof of the implication from (a) 
to 
(b); 
the argument appears in Dickmann 
[72; Thm. II.6.5]. 
A model-theoretic 
proof, due to Prestel, appears in Elman-Lam-Wadsworth 
[48; §4. bis]. 
Other proofs can be found in Lam 
[54; Thm. 6.11] 
and Ribenboim [56]. 
E. 
FURTHER APPLICATIONS. 
The results proved in the preceeding paragraphs do not exhaust 
the list of basic results obtained by direct application of model-theo- 
retic methods. 
We metnion here, without proofs, three results original- 
ly proved by Lang 
[52] 
using other methods; 
they form the core of the 
theory of real algebraic function fields. 
PROPOSITION 4.19. 
(The homomorphism theorem). 
Let 
<k,~> 
be an 
ordered field, 
k 
its real closure, and A 
an integral domain which is 
a k-algebra of finite type. 
If the field of fractions of A 
has an 
order extending that of k(i.e, is real over k), then there is a k-algebra 
homomorphism 
f:A ÷ k. 
0 
This result is, in fact, a particular case of the weak real nullstellen- 
satz 
4.12 bis, and the reader can prove it as an exercise; 
cf. Colliot- 
Th~l~ne 
[44], 
Dickmann [72; Ch.II] 
or 
Lam [54; §5], for details. 
THEOREM 4.20. 
(The embedding theorem). 
Let 
K 
be a real close field, 
L an orderable extension of K 
of (finite) transcendence degree n, and 
F a real closed extension of K 
of transcendence degree ~ n, over K. Then 
L can be 
K-embedded into F. 
D 
Proof of this theorem can be found in Lam 
[53; §6], 
[54, Thm. 6.15]. 
THEOREM 4.21. (The homomorphism extension theorem). 
Let 
<k,~> 
be an ordered field, 
A a subring of k, 
g:A ÷ L 
a homomorphism of ordered 

97 
rings with values in a real closed field 
L. 
Then 
g 
extends to an 
ordered ring homomorphism 
g':B + L', where 
B 
is a convex valuation 
subring of k 
containing 
A, 
and 
L' a real closed field extending 
L. 
D 
This important result is a consequence of the amalgamation property of 
real closed fields, a property which follows from model-completeness. 
Lang 
[52] states the theorem in terms of real places.A corresponding existence 
theorem follows as corollary. 
A proof of Theorem 
4.21 
is given in 
Dickmann 
[72; Thm. II 7.10]. 
§5. 
THE STRUCTURE 
OF SEMI-ALGEBRAIC SETS. 
The main topic of this section is the separati0n theorem, an 
important technical tool in real algebraic geometry, mainly used to show 
that the topological notion of connectedness for 
s.a. 
sets can be for- 
mulated in the first-order language L of real closed fields. 
Among its 
corollaries one obtains: 
- 
The finiteness of the number of connected components of a s.a. sub- 
set of ~n (Theorem 5.8 below). 
- 
A refinement of Tarski's theorem 
3.4 known as 
elimination" 
(Theorem 5.9). 
DEFINITION 5.1. 
Let 
k 
be an ordered field and 
P1 .... 'P£ek[Xl'''''Xn] 
"open quantifier 
(a) We call sign condition 
(resp.strict sign condition) on PI'''''P£ 
any formula of the form: 
£ 
~(Vl ..... Vn): 
/~ Pi (vl ..... Vn) ?i 0 
i=l 
where each 
?i 
is one of the signs 
_>, >, _< ,< 
(resp.> ,< ) or 
-- 
(b) Given a sign condition 
o(v I ..... v n) as above, we call enlarged sign 
condition associated to o the formula 
A 
o(v I ..... Vn): 
where 
?i is 
e 
or 
~ 
if ?i is 
in all other cases. 
£ 
A Pi(Vl ..... Vn) ?i 0. 
i=l 
> 
or 
< , respectively, and is 
?. 
i 
D 
We begin our discussion by proving the easy case of the separation theo- 
rem, viz., for one-variable polynomials. 
5.2. 
THOM'S LEMMA. 
Let 
PI .... 'P£ be a finite set of polynomials 
in ~[X] closed under (non-constant) derivation. 
Then for every sign 
condition 
o(v) 
on PI ..... P£' 
the set 

g8 
A o ~ {x~ 
J ~ ~o[x]} 
is either empty or an interval (possibly reduced to one point or infinite). 
PROOF. 
Induction on £, the case £ = 1 being trivial. 
Assume true for 
£ 
and suppose, renaming if necessary, that 
P£+I is of maximal degree. 
This has the effect of making 
P1 .... 'P£ 
closed under derivation, so 
that the induction hypothesis applies and the set 
£ 
A' 
= 
(-h {x~ 
J Pi(x) ?i 0} 
i=l 
is 
empty or an interval. 
The derivative of 
P£+I - which is among 
PI,...,P£ - 
is of constant sign 
on A'; 
P£+I 
is, then, monotone or constant on A', and the lemma 
follows easily using the intermediate value property. 
D 
The foregoing proof clearly applies to any real closed field. 
We mention 
the following interesting corollaries: 
COROLLARY 
5.3. 
Let 
<k,~> 
be an ordered field, 
k 
its real clo- 
sure, 
Pck[X] a one-variable polynomial. 
Then two distinct roots 
~i' 
~2' 
of P 
in k 
can be separated by a sign condition on one of the 
of P, i.e. there is i, 
l~i <deg(P) 
such that P(i)(el), 
derivatives 
P(i)(~ 2) have different signs (one of them can be zero). 
If P 
is 
irreducible over 
k, 
then 
i 
can be chosen so that 
P(i)(el).P(i)(~2)<0. 
N 
COROLLARY 5.4. 
Let 
<k,~> 
be an ordered field, 
k 
its real closure, 
an element algebraic over 
k with minimal polynomial 
F, and 
el<...<er 
all the roots of 
F 
in k. 
For each 
i = l,...,r 
let us 
define an ordering 
~i on k(e) 
by the condition 
0 ~i P(~) 
iff 
P(~i ) ~0 
(in k). 
Then these orders extend the order of k, 
are pairwise distinct, and any 
order on k(~) extending the order of k 
is one of them. 
Returning to the separation theorem, the notion appropriate for a gene- 
ralization of Thom's lemma to polynomials in several variables stems from 
the following (trivial) observations: 
- 
intervals are exactly the connected subsets of ~; 
- 
The closure of a set of form A = {x~ 
J ~ ~ o[x]}, 
where o is a 
sign condition, is the set 
^ 
= {x~m 
I ~k 
~[x]} 
A 
defined by the enlarged sign condition o associated to o. 

99 
Thus we introduce 
DEFINITION 5.5. 
A finite family PI ..... P£ c~[X I .... ,Xn] 
is called 
a separatin$ family iff for every sign condition ~ on PI .... 'P£ : 
(i) 
The set 
A 
= {xcA n I ~ > o[x]} 
is either empty or connected. 
(ii) 
If A 
# 
~ 
then A-- (=closure of A ) = {x~n 
I ~ >$[x]}. 
G 
' 
G 
Thus, Thom's lemma says that any finite family of one-variable polyno- 
mials closed under derivation is separating. 
The announced generalization is this: 
THEOREM 5.6. 
(Separation theorem). Every finite family of polynomials, 
PI .... ,P£ c~[X I ..... Xn] , can be completed into a separating family 
PI .... 'P£' P£+I ..... Pz+s" 
Furthermore 
(a) 
The number 
s of additional polynomials is a primiteve recursive 
function of £, n 
and 
d = maximum of the total degrees of the poly- 
nomials PI .... 'P£" 
(b) 
There is a primitive recursive function f(n,Z,d) giving an 
upper bound on the total degrees of the new polynomials Pz+j(j=l,...,s). 
(c) 
The coefficients of the polynomials 
P£+I ..... Pz+s are polyno- 
mial functions over 
~ 
of the coefficients of 
PI ..... P£" 
D 
The proof is not easy. A word of caution: adjoining only the partial 
derivatives of PI ..... P£ 
does not produce, in general, a separating 
family; 
counterexample: the polynomial 
(X sin ~ - Y cos ~)(X sin ~ - Y cos B) + i, with 0 < ~ < B<~ (Houdebine[76]). 
All known proofs proceed by induction on the number 
n 
of variables, 
using several of the following ingredients: 
Quantifier elimination; 
The continuity of the functions of x 
which give, in the increasing 
order of ~, the real part of the (complex) roots of a polynomial 
equation of the form 
pn(~ ) yn + ... + po(~ ) = 0, 
Po,...,Pn c~[X I .... ,Xn], at values 
~ n  
such that 
(cf. Gillman-Jerison 
[85; Thm. 13.3(a)]); 
rem: 
Pn(X) # 0 
The following result, known as the "cylindrical decomposition" theo- 

100 
THEOREM 5.7. 
Given a s.a. set 
U ~ ~n 
and a polynomial 
P c~[X 1 ..... X n] there is a partition of 
U 
into finitely many s.a. sets 
A 1 .... ,Am, such that for each 
i = 1 ..... m, either one of the following 
properties holds: 
(i) P(x,y) has constant sign (>0, <0 or 
=0) for all x~A i and y E~; 
or : 
(2) There are continuous s.a. functions 
that : 
(a) 
~ 
(x~ <... <~.(x) 
for all 
i 
i 
i 
~I' 
,~ :A.I ÷ ~ 
> I) 
such 
• " " 
~i 
(£i 
- 
' 
xcAi; 
(b) 
for each x c A i, 
~(x) ..... ~ii(x) are all the real roots of 
the polynomial 
P(x,Y). 
Note that, in particular, for 
xeA i 
the polynomial 
P(x,Y) does not 
change sign in any of the intervals 
(-~ 
i - 
i 
~ 
- 
, ~l(X)), 
(~j(~), ~ +l(X)) 
i 
for j = i ..... £i-i 
, (~£ (x),~). 
l 
Historical remarks (a) 
Thom's lemma was, indeed, first noticed by Thom; 
it first appeared in ~ojasiewicz 
[28; p. 69]. 
The generalization to 
several variables is due to Efroymson [273, 
where the proof is (at best) 
incomplete. 
Later 
Coste/Coste-Roy [69] 
gave a correct (and complete) 
proof using a technique introduced by Cohen 
[34] 
to prove quantifier 
elimination for real closed fields. 
The most efficient proof is due 
to Houdebine [763• 
(b) 
Cylindrical decomposition is sometimes used, dis- 
guised in different ways, as an alternative approach to quantifier eli- 
mination; 
for example, see Cohen 
[34], 
Collins 
[35], 
Coste 
[683, 
Brumfiel 
[65; 
Appendix]. 
We turn now to some important consequences of the separation theorem. 
THEOREM 5.8. (Finiteness theorem). 
Any s.a. subset 
S 
of ~n has 
a finite number of connected components, each of which is a s.a. set• 
PROOF. 
Since 
S 
is a finite union of sets defined by formulas of the 
form 
m 
£ 
~(v I ..... v n) : 
A 
Pj(v I ..... Vn) = 0 A 
A 
Pk(Vl ..... Vn)>0 
j=l 
k=m+l 
with 
PI .... ,P£ c~[Xl,...,Xn], it suffices to prove the result for sets 
of this form. 
Complete 
PI ..... P£ 
to a separating sequence 
PI ..... P£'P£+I ..... Pz+s" 
By condition 
(i) of 
5.5, the connected components of 
S 
are unions 
of non-empty sets of the form 

101 
where 
6(v I ..... v n) is a sign condition on P£+I'''''P£+s" 
There are 
3 s possible 
~' s. 
D 
The next result, known as 
"open quantifier elimination" is a particu- 
larly important tool for real algebraic geometry, specially for the 
investigation of the real spectrum 
(cf. §§6.C 
and 7 below). 
Its 
significance was pointed out by Brumfiel [65; Unproved Prop. 8.2] even 
before it was proved, independently, by 
Recio [78] 
in 1977, Coste/ 
Coste-Roy 
[69] 
in 1979, and Delzell [20] in 1980. 
The result gives an answer to the following question : assume we are 
given an open s.a. subset 
U 
of IR n (or, more generally, of K n, with 
K ~ RCF); 
what can we say about the quantifier-free representation of 
U?; 
does there exist, for example, a representation of the form 
V 
A Pij (Vl ..... Vn) > 0 
? 
i j 
Note that irredundant equalities may, a_priori., appear in an specific 
representantion of an open s.a. set; 
for example : 
U = {<x,y> I x 2 + y2 <I ^ y # 0} u {<x,y> I y = 0 A X 2 < 1/4}. 
!Y 
...... 
~ 
..... 
X 
The same set, 
U, can also be defined by replacing the equality 
y = 0 
by the inequality 
y2 < 1/9, for instance; 
but how can we guarantee that 
ad-hoc devices of this type will work in all 
cases?. 
THEOREM 5.9 . 
. (Open quantifier e!iminati0n ) . Let 
U 
be an open s.a. 
subset of K n, where 
K > RCF. 
Then there are polynomials 
Pij c K[X I ..... Xn] 
such that 

102 
U = Ul 
l{~eKn I 
Pij(x)f~" 
>0}. 
i 
j 
Let us derive this result from the separation theorem in the case K =IR: 
PROOF OF THEOREM 5.9. 
(case 
K=I~). 
We prove the dual statement: every 
closed s.a. set 
C c ~I n 
has a definition of the form 
V AP. - 
,v n) > 0 
i 
j lj (Vl . . . . . .  
By quantifier elimination we know that 
C 
has a definition of the 
form 
(*) 
V (A Pk£(V) = 0 A A Qkm(V) >0). 
k 
£ 
m 
By the separation theorem this family of polynomials can be extended to 
a separating family; 
modulo 
a change of notation we may then assume 
that the polynomials 
Pk£ ' Qkm 
form a separating family. 
Let 
A k 
be 
the subset of A n 
defined by the corresponding disjunct of 
(*), which 
we may suppose non-empty; 
by condition (ii) of Definition 5.5 
we have: 
Ak 
= 
{~e~n I A Pk£(X) = 0 A /~ Qkm(X) _>0}. 
£ 
m 
C= 
UA k 
k 
and (finite) unions commute with closure, we obtain: 
which gives the desired representation of C. 
D 
Coste/Coste-Roy [62] 
derived the statement for arbitrary 
K > RCF 
from the case 
K=~ by use of the first transfer principle : using points 
(a) and (b) of the separation theorem 5.6 they show that the statement 
of Theorem 5.9 is first-order. 
Instead of working through this transfer argument we outline below a 
direct model-theoretic proof due to van den Dries 
[79] 
which bypasses 
the separation theorem. 
This method has the advantage of solving a 
number of related problems which cannot be solved by the preceeding 
technique. 
Van den Dries remarked that (the dual of) Theorem 5.9 just says that any 
formula defining a closed set 
C ! C n is equivalent to a positive 
quan- 
tifier-free 
L-formula in any real closed field extending 
K (i.e., 
equivalent modulo the theory 
T = RCF + 
the quantifier-free diagram 
of K). 
The model-theoretic criterion to be used in this case is easily 
derived from the compactness theorem. 
Since 

103 
5.10 
MODEL-THEORETIC CRITERION. 
Let 
T 
be a theory with language 
L 
and 
~(v I .... ,v n) 
and 
L-formula. 
Then the following are equivalent: 
(i) 
There is a positive, quantifier-free 
L-formula 
~(Vl,...,Vn) such 
that 
T k ~ <-> 4. 
(2) 
Given 
9~ , ~ 
~ T, 
phism 
f: ¢ 
÷ ~, then 
for any 
E~ cn. 
PROOF OF THEOREM 5.9. 
an 
L-substructure 
¢ c ~ 
and an L-homomor- 
implies 
j~ > ~[f(~)] 
D 
(general case). 
We check condition (2) of the 
model-theoretic criterion. Given the situation 
(*) 
F 
UI 
f 
A 
= 
L 
UI 
UI 
K 
K 
with 
F, L, K N RCF, 
A an ordered subring of 
F 
and 
f 
a homomor- 
phism of unitary ordered rings such that 
f ~ K = id, 
we have to show 
that 
F > ~[~3 
implies 
L > ~[f(~)], 
where 
a ~ A n. 
Before proceeding with the proof, remark that we can make the following 
additional assumptions on the given situation (*): 
(i) 
Replacing, if necessary, the field 
L 
by a larger real closed 
field, we can assume that 
A 
is a convex 
valuation ring of 
F. 
This 
is just Lang's homomorphism extension theorem 4.21. 
(2) 
We can assume that 
A 
is a local ring with maximal ideal Ker(f) o 
Otherwise, replace 
A 
by its localization at 
Ker(f). 
(3) 
By changing 
K, if necessary, we may further assume that 
f[K] = f[A] . This is seen as follows. 
By Zorn, let 
R 
be a maximal 
subfield of 
A 
containing 
K. 
We have to show that 
R 
is real closed 
and 
fiR] = f[A]. 
(a) 
R is algebraically closed in A (by maximality). 
(b) 
R is real closed. 
Since 
A 
is a convex subring of 
F ~ RCF, the intermediate value pro- 

104 
perty holds for polynomials 
P~A[X]. 
Now, if Q~R[X], 
Q # 0, changes 
sign between 
a 
and b (a,bER, 
a < b), then, viewed as a polynomial 
in A[X], 
Q has a root 
ceA, 
a < c < b. 
Hence our claim follows from 
(a). 
(c) 
fiR] 
is a real closed field. 
(d) 
fiR] = 
f[A]. 
Otherwise, let 
xeA be such that 
f(x)~f[R]. 
By (c), f(x) is trascen- 
dental over 
f[R]. 
It follows at once, using (2), that Q(x) is inver- 
tible in A, 
whenever 
Q~R[X], 
Q # 0; 
hence 
R(x) c A, contradict- 
ing the maximality of R. 
Now we can complete the proof of Theorem 5.9. 
Let 
aEAn be such that 
F p ~[a]. 
Using (3) choose 
bcK n 
such that f(b i) = f(a i) for i=l ..... n. 
Since 
f rK 
is injective it suffices to show that K > ~[~]. 
By assumption the first-order statement 
" ~ 
is open" holds in K. 
If b E(~ #)K, then there is 
EEK, C >0, such that 
n 
(**) 
Vv I ..... v n ( i~l(Vi-bi)2 < s 
..... 
> ~ ~(v I ..... Vn)) 
holds in K; 
by transfer it also holds in F. 
Since 
A 
is convex in F, it follows that the maximal ideal Ker(f) of 
A 
is convex in A 
(cf. Cherlin-Dickmann 
[82; Lemma 4]). 
As Ker(f) nK 
= {0} 
we conclude that 
y < ~ 
for all 
y ~Ker(f). 
Since ai-bieKer(f), 
n 
then 
i~ 
I= (a i - bi )2 < e. 
Condition (**) implies, then, that 
F ~ ~ ~[a], contradicting the assumption of the theorem. 
COMMENTS. 
Applying the same model-theoretic principle to algebraically 
closed fields, van den Dries 
[79] 
gets a simple proof of the complete- 
ness of projective varieties, 
a basic result in classical algebraic 
geometry (for the geometric meaning of this result, see Shafarevich 
[14; Ch. I, §5]). 
The author has used it in 
[73] 
to prove the follow- 
ing result, a refinement of Theorem 5.9, which answers a question of 
BrScker 
[59; p. 261]: 
PROPOSITION 5.11. 
Let 
<k,~> 
be an ordered field, 
K its real 
closure, and U 
an open s.a. subset of K n. 
Then there is a finite set 
of polynomials 
Pijek[Xl ..... Xn] 
such that 
U = ~ 
{~cKn I Pij(x)>0}. 
D 
ij 

105 
REMARKS. 
(a) 
This section contains only a few of the most basic 
results on the topology of s.a. sets; 
much more is known. 
The reader 
interested in pursuing this line of enquiry may consult Coste 
[68; 
Prop. 3.5 
and 
§IV, 
§V], 
Hardt 
[75], 
Mather [77]. 
(b) 
As a part of his research on Tarski's problem (cf.3.11 
(iv)) van den Dries has embarked on the project of showing that the 
major topological theorems of real algebraic geometry are consequences 
of the structure of the parametrically definable subsets of ~ . He 
has conjectured that similar results hold for <JR, +,- , <, exp,0 >; 
cf. [87]. 
§6° 
THE REAL SPECTRUM. 
A. 
INTRODUCTION. 
One of the milestones of classical algebraic geometry was the 
introduction of the prime spectrum of a commutative ring by O. Zariski. 
When this construction is applied to the coordinate ring of a variety 
V over an algebraically closed field 
k, the space 
Spec (k[Vj) contains 
the set 
V(k) of 
k-points of 
V 
with its Zariski topology as a dense 
subset- in the disguised form of the set of maximal ideals. 
Thus, we 
obtain a manageable topological space not too far removed from the ori- 
ginal variety which gives valuable information about its geometry. 
This 
point of view leads to Grothendieck's theory of schemes, a far-reaching 
reformulation and generalization of classical algebraic geometry. 
Cf. 
Shafarevich 
[14], 
Hartshorne 
[3] 
or 
Mumford [i0]. 
An obstacle to the development of algebraic geometry over the field of 
real numbers was the lack, until recently, of an appropriate analogue 
of the prime spectrum. 
The discovery of such an instrument by M. Coste 
and M.-F. Coste-Roy meant, therefore, a fundamental step forward in the 
study of real varieties. 
To be sure, notions akin to the real spectrum of a ring have been known 
for quite some time; 
for example: 
- 
the space of orderings of a field with the Harrison topology; 
see 
Prestel [55] 
and Lam [53]; 
- 
the subspace of real prime ideals of Spec(A); 
see Dubois [45]. 
However, none of these ancestors suitably reflected the wealth of geome- 
tric information contained in the rings arising in real algebraic geo- 
metry. 
The crucial question in setting up a theory of the real spectrum is to 
decide which objects are to be its elements. 
Through a sequence of 

106 
attempts initially motivated by topos-theoretic considerations, Coste/ 
Coste-Roy 
[69], [61], [62] realized that the appropriate choice of 
objects was a hybrid made of pairs of the form 
(*) 
<prime ideals 
P 
of A; 
total orderings on the quotient ring 
A/p> 
In order to give a motivation for this choice, recall that the members 
of the prime spectrum, i.e. the prime ideals of a given ring A, descri- 
be its homomorphisms onto integral domains (exactly the subrings of al- 
gebraically closed fields) modulo the natural equivalence relation co- 
rresponding to cormmutative diagrams 
j 
R1 
R2 
Substructures of real closed fields (in the natural language L for 
RCF) are ordered domains, and a moment's reflection shows that the pair 
(*) classify the corresponding class of epimorphisms. 
Let us now show how the presentation of the objects (*) can be simplifi- 
ed in order to facilitate formal work with them. 
This is done by giving 
an axiomatic characterization of the set 
{a~A I a/p e0} 
for each pair 
<P,~> 
of a (proper) prime ideal 
P 
of A 
and an order ~ on A/p. 
DEFINITION 6.1. 
Let 
A 
be a commutative ring with unit. 
A prime 
is a subset ~ of A 
with the following properties: 
precone 
(i) 
x,yc~ 
implies 
x+y~; 
2 
(ii) 
x ~ 
for all 
x~A; 
(iii) 
-i~; 
(iv) 
xy~ 
iff 
(xe~ A yc~) V (-X~ ^ -yc~). 
Conversely, each prime precone ~ of A determines a pair 
<P,~> 
described above, by setting: 
0 
as 
0 ~ a/p 
iff 
aE~ 
for 
aEA. 
Notation. 
Given a prime precone ~ of A 
we shall denote by 
k(~) the 
real closure of the fraction field of A/~n_~ with the order determined 
by ~, 
and by 
~ 
: A ~ k(~) the corresponding canonical map. 
0 

107 
We shall now worry about the topology of the real spectrum, SpecR(A). 
The topology of the prime spectrum, Spec (A), is generated by the base 
{D(a) I a~A}, 
where 
D(a) = {P e Spec(A) I a~P} 
is the set of all 
P 
such that 
a/p # 0. 
It is natural, then, to give SpecR(A) the topology generated by the sets 
H(a) of prime precones ~ attributing a definite sign to 
n (a), say 
strictly positive sign. 
Since the family of such sets is not closed 
under intersection we are obliged to consider finite sequences of a's. 
We are now ready for the formal definition of the real spectrum: 
DEFINITION 6.2. 
Let 
A 
be a commutative ring with unit. 
The real 
spectrum of 
A, SpecR(A) , is the set of all prime precones of 
A 
with 
the topology generated by the sets 
H(a I ..... a n ) = {~SpecR(A) 
I -a I ~ ~^...A -an~} 
for all finite sequences 
a I ..... anEA. 
Before studying the basic properties of the real spectrum let us compute 
a few examples. 
EXAMPLE 6.3. 
If 
A = k 
is a field, the only prime ideal is 
{0} 
and 
SpecR(k) is the space of orderings of 
k, mentioned above. 
D 
EXAMPLE 6.4. 
The real spectrum of ~[X], 
the coordinate ring of 
the real line ~. 
Note that only real prime ideals 
(cf. Definition 4.6) are relevant 
in computing the real spectrum. 
Since the prime ideals of ~[X] are 
{0} 
or of the form 
(Q) with 
irreducible 
Q, the changing sign criterion 4.18 tells us that 
(Q) 
is 
real iff changes sign. 
Since 
~ 
is real closed, then 
Q 
has to be 
linear, say 
Q = X-r. 
Now, 
~[X] l 
~ ~, which has only one order. 
,( X-r) 
Thus, each 
r c~ 
gives rise to one point 
~r c SpecR(~[X]). 
The 
corresponding prime precone is 
~r = {F ~[X] 
I F(r) ~0}. 
Thr prime ideal 
{0} 
gives rise to one point of the real spectrum for 
each ordering of ~[X]. 
We know (cf. Brumfiel [65; §7.5] 
or Dickmann 
[72; §I.5]) 
that the orderings of ~[X] are determined by the cut 
that the element 
X 
defines 
in ~; 
these are as follows: 
- 
X larger (smaller) than every element of ~, 
which gives rise to the 

108 
following prime precones: 
~+~= 
{FE~EX] 
I There is 
a c~ 
such that 
Fe0 
on 
(a,=)}, 
~. ~= {F ~[X3 
I There is 
b c~ 
such that 
F e0 
on 
(- ~ ,b)}. 
For each 
r c~, 
X is infinitesimally larger (smaller) than r, i.e. 
r < X < (r, ~ ) 
((- ~ ,r) < X < r, 
respectively). 
The corresponding prime 
precones are: 
~r+ = {F~[X] 
I There is 
E >0 
such that 
Fe0 
on 
(r,r +~)}, 
er- = {F~[X3 
I There is 
E >0 
such that 
Fe0 
on 
(r-g,r)}. 
Observe that the only inclusion relations between these precones are 
~r + ~ ~r 
and 
~r- ! ~r 
for 
r ~. 
Thus, we can draw the picture of 
SpecR( ~[X]): 
r 
OR 
s 
r- 
r + 
s- 
s + 
As a useful comparison, let us draw a picture of the prime spectrum of 
~[X]. 
Here the points are the prime ideals of ~[X]: 
one correspond- 
ing to each polynomial 
X-r, 
for 
r ~; 
one corresponding to each poly- 
nomial 
X 2 + aX + b, 
with 
a, b ~, 
a 2 
4b < 0; 
and the prime ideal 
{0}. 
The latter is contained in all the others, but no inclusion rela- 
tion holds otherwise. 
The picture is this: 
#~i I///° 
///// 
## 
•. • • .// 
• . 
(o,b) ..," • • 
/ t/ 
/' 
~ 
-" 
(o) 

109 
Note that in both the prime and the real spectrum, the set theoretic 
inclusion 
~ c B means that B is in the closure of the singleton 
{~} 
(in geometric jargon : B is an specialization of ~ , and ~ a generizaltion 
of B ); 
this is easily checked from the definition of the respective 
topologies. 
In particular, 
{~} 
= Spec ( ~[X]),i.eo the point 
{0} 
is dense in Spec (~[X]). 
Geometers say that the ideal (0) is a generic 
point of the variety ~ 
(apparently this notion goes back to the Italian 
school of 19th century geometers). 
The real spectrum of ~[X] does not have a generic point. 
But the points 
r , r , which together with 
r, form the closure of 
{r} 
are interpret- 
ed as a sort of 
"generic points" of the half-lines (r, +~ ) and (- ~ ,r) 
respectively. 
Exercise. 
Compute 
SpecR(~[X](x_r)) , for 
r cA. 
EXAMPLE 6.5. 
In order to give an inkling on how the real spectrum 
reflects geometric properties of algebraic varieties, let us look at an 
example having more "singularities" than the preceeding one. 
We consi- 
der the plane curve 
C 
of equation 
y2 _ X 3 _ X 2. 
~u 
==L 
As before, each point 
P ~ C(~) gives rise .to just one point ~pESpecR(l~fc]), 
since ~[C]/Mp ~ 
and 
R 
has only one order 
(~ denotes the 
maximal ideal at P). 
Since the polynomial defining 
C 
is irreducible, 
{0} 
is a prime ideal 
of R[C]; 
furthermore, it is easily checked to be a real ideal (exercise). 
The orderings of ~[C] are computed as follows. 
The ring 
~[C] is the 
quadratic extension of ~EX] in which the equation 
y2 = X 3 + X 2 holds; 
in particular, 
X 3 + X 2 e0, 
i.e. 
Xe-l. 
Hence, each ordering of 
~[X] satisfying this restriction gives rise to two orderings 
of ~[C] 
by choosing the sign of Y. 
In geometric terms, the following prime 
preco es are thus generated: 

110 
(A) 
First fix a point 
P = (a,b) ~ C(~), 
If b > 0, we have 
= {F/I(C) I Fc~[X,Y] 
and there is e <0 
~p+ 
~p- = {F/I(C) I F c~[X,Y] 
and there is E >0 
P # (-i,0), P # (0,0). 
such that F(x,~x 3 + x2)e0 
on 
(a,a+e)} 
such that F(x,Jx 3 + x 2) e0 
on 
(a-s,a) }. 
In order to check that these sets are in fact prime precones of ~[C], 
only the implication from left to right in Definition 6.1 (iv) requires 
verification, as the other conditions are trivial. 
For this it suffices 
to see that if 
F 4 I(C), then the function F(x, Sx 3 + x 2) has finitely 
many zeros. 
Since the elements of ~[C] are polynomials of the form 
YP(X) + Q(X), our contention is clear as the equation (X3+X 2) P(X)2-Q(X) 2 
=0 has to be satisfied. (Alternatively, Bezout's theorem (cf. Walker 
[15 ;p. 59 ff. ) could have been used to check this point). 
The prime precones correspondi~ to the case 
b < 0 
are obtained by 
replacing 
-~x 3 + x 2 
for ~x 3 + x 2 above. 
(B) 
If P = (-i,0), we have 
~p+ = {F/I(C) I There is ~ >0 
such that 
F(x,/x3 + x 2) e 0 
on (-I,-i+~) , 
and similarly for 
- ~x 3 + x 2. 
Thus, at each non-singular point 
PcC(~) we have a situation similar 
to that of Example 6.4: 
P 
p- 
p+ 
The points P-, P+ are interpreted as the "generic" points of the half- 
branches determined by 
P 
on the curve 
C(~); 
see Figure 7. 
(C) 
Next we have two "points at infinity" corresponding to the upper 
and lower infinite half-branches: 
~,u = {F/I(C) IThere is 
a>0 
such that 
F(x,Jx 3 + x 2) ~0 
on (a,~)}, 

111 
and similarly 
~ ,£ 
corresponding to 
(D) 
Finally, at the singular point 
ep+ = {F/I(C) I There is 
~ > 0 
such that 
r 
_~x3 +x 2 
P = (0,0) we have: 
F(x, ~x 3 + x 2) e0 on (0,e)}, 
+ = {F/I(C) I There is 
s >0 
such that 
F(x, ~x 3 
P£ 
and two more points, 
~p_, 
- 
given by 
- ~/x 3 + x 2 
r 
~P£ 
~x 3 + x 2 . 
+ x 2) ->0 on (-s,0)}, 
instead of 
As an exercise the reader may check that there is no inclusion relation 
between any two of these sets. 
Obviously these points specialize on 
~p, 
and they correspond to the four half-branches of the curve 
C(~) through 
the origin (see Figure 
7). 
In order to complete the analysis of this example we would have to show 
that 
(i) There are no real prime ideals in ~[C] other than 
{0} 
and the 
maximal ideals 
Mp 
at each point 
P ~ C(~); 
(ii) for each of these prime ideals there are no prime precones other than 
those explicitly constructed above. 
A simple proof of point (i) goes as follows. 
Assume 
J # {0} is a real 
prime ideal of 
~[C] and let 
G I .... ,G£ 
be its generators, where 
Gi(X,Y) = YPi(X) + Qi(X). 
By Corollary 
4.12, V~(J) # ~. 
As in (A) 
above, the points 
(x,y) cV~(J) 
satisfy the equations 
(x 3 + x 2) Pi(x) 2 - Qi(x) 2 = 0 (i = I ..... £), and hence 
V~(J) is finite, 
say 
VR(J) = {PI .... 'Pk }" 
By the real nullstellensatz 4.8 
J 
consists 
of all polynomials vanishing at 
PI .... 'Pk; 
but this ideal is never 
prime if k e2. 
Hence 
V~(J) consists of one point, P, and clearly 
J = Mp. 
Finally, point (ii) is clear by the argument preceeding (A) 
above. 
D 
REMARKS. 
(a) 
The correspondence between points of the real spectrum 
and 
"oriented half-branches" illustrated by the preceeding examples is 
a general fact, true of any variety (of any dimension) over any real closed 
field. 
The proof of this requires a sophisticated algebraic machinery 
based on the analysis of valuations; 
cf. Coste/Coste-Roy [62; §7, §8]. 
(b) 
In both the preceeding examples the length of speciali- 
zation chains of the real spectrum is at most 
2. 
This is a manifesta- 
tion of the fact that the (local) dimension at each point of the curves 

112 
under consideration is i, as we will se in 
§8 
below. 
D 
B. 
ELEMENTARY PROPERTIES. 
PROPOSITION 6.6. 
Let 
A 
be a conmTutative ring with unit. 
(i) 
The basic open sets 
H(a I ..... an), 
a I ..... aneA, of SpecR(A) are 
quasi-compact, i.e. compact in the usual sense but not necessarily 
Hausdorff. 
In particular: 
(2) 
SpecR(A) is quasi-compact. 
(3) 
The irreducible closed subsets of SpecR(A) are the closure of a 
unique point. 
In particular: 
(4) 
SpecR(A) is a 
To-space. 
(5) 
Let 
~, B,y ~ SpecR(A). 
If 
B, Y c {~}, then 
B ! Y 
or 
y!B. 
REMARK. 
A closed set is called irreducible 
if it is not the union of 
two closed proper subsets. 
The closure of a point is clearly irreducible. 
PROOF. 
(I) 
This is easily proved by applying the compactness theorem 
to an appropriate set of sentences with parameters in 
A 
of the firs- 
order theory (in the language of unitary rings plus an additional unary 
predicate P) whose axioms are: 
- 
The axioms for commutative rings with unit. 
- 
The axioms for 
P 
defining a prime precone (cf. Definition 6.1). 
We leave the proof as an exercise for the reader. 
(2) 
First check that the set 
= 
{acA I H(-a)nF 
= 0} 
is a prime precone. 
show that 
F = {~}. 
Then, use the equivalence 
B ~ {~} 
iff 
~ c ~ 
to 
In order to show the uniqueness of such point ~ , it is easiest to check 
that SpecR(A) is To: 
# 
B 
implies 
~ % {B} 
or 
B % {e} 
(5) 
If 
B i y 
and 
Y j B , get 
beB-y 
and 
cey-B. 
Since one of b-c 
or c-b 
is in e, and 
~ c B , y, 
we obtain either b=(b-c)+c ey or 
c = (c-b)+b~B, 
a contradiction. 
D 
6.7. 
REMARK. 
(Functorial properties of the real spectrum). 
The 
correspondence which assigns to each commutative unitary ring its real 

113 
spectrum is a contravariant functor from the category of such rings with 
homomorphisms into the category of topological spaces (moreover, of 
spectral spaces, see Definition 
6.9) with continuous functions as mor- 
phisms. 
This simply means that to each momomorphism of unitary rings 
f:A ÷ B it is 
canonically associated a continuous map 
SpecRf : Spec R (B) ÷ SpecR(A) 
defined by 
(SpecR f)(B) = f-l[~] 
It is clear that for 
a I ..... a nEA 
(SpecR f)-i [H(a I ..... an)] 
for B c SpecR(B), 
we have: 
= H(f(al) ..... f(an)), 
which shows that Spec R f is continuous and, moreover, that the inverse 
image of a compact open subset of SpecR(A) is compact open. 
D 
In this connection note the following: 
FACT 6.8. 
With notation as above, let 
Then there is a (unique) ring monomorphism 
following diagram commute: 
f 
A 
, B 
k(a) 
, k( B ) 
The map ~ is elementary. 
B E SpecR(B) and a = (SpeaRO(B). 
~:k(a) ÷ k(B) making the 
The easy proof is left as an exercise. 
It is useful to recast the content of Proposition 6.6 in the following 
language: 
DEFINITION 6,9. 
A topological space 
X 
is called an spectral space 
iff 
(i) 
X is quasi-compact. 
(ii) X has a base of open quasi-compact sets closed under intersection. 
(iii) Every irreducible closed subset of 
X 
is the closure of a 
unique point. 
H 
The Stone duality between Boolean algebras and Boolean (= compact, 
Hausdorff, totally disconnected) spaces can be extended to a duality 
between the category of distributive lattices with homomorphisms and 

114 
the category of spectral spaces with continuous maps such that the inver- 
se image of a compact open set is compact, 
To each spectral space it 
is associated the lattice of its compact open subsets. 
Conversely, to 
each distributive lattice it is associated the space of its prime filters 
with the spectral topology (defined exactly as for the spectrum of a 
ring). 
The fundamental result about this class of space is: 
THEOREM 6.10. 
(Hochster). 
A spectral space is homeomorphic to the 
(prime) spectrum of a ring. 
D 
For a proof see Hochster [63] 
or Laffon [7]. 
In particular, the real spectrum of a ring 
A 
is homeomorphic to the 
prime spectrum of another ring. 
In the case where 
A 
is the coordinate 
ring of a variety over a real closed field, the ring 
B 
can be computed 
explicitly, as we will see later (Corollary 9.10). 
C. 
CONSTRUCTIBLE SETS. 
DEFINITION 6.11, A subset of SpecR(A) is called constructible if it 
is a Boolean combination of basic open sets. 
D 
Quantifier elimination shows at once that the constructible sets coincide 
with the definable sets in the following sense: 
PROPOSITION 6.12. 
A set 
C ! SpecR(A) is constructible 
iff 
there 
is an 
L-sentence with parameters in A, 
~C = ~C(al .... ,an) , such that 
C = {~SpecR(A ) I k(~) > ~C[~ (al) ..... ~ (an) I}. 
D 
The (easy) proof is left as an exercise for the reader. 
It is clear that the constructible sets form a basis for a topology on 
SpecR(A), called the c onstructible topology. 
This topology is obviously 
finer than the spectral topology and is compact Hansdorff. 
The main property of construetible sets is: 
6.13. 
THE REAL CHEVALLEY THEOREM. 
Let 
A 
be a ring, B=A[X I ..... Xn] ~ 
a finitely presented 
A-algebra (i.e. the ideal 
I 
is finitely generated), 
and 
f:A ÷ B 
the canonical morphism. 
Then 
SpecRf transforms construc- 
tible sets into constructible sets. 
PROOF. 
Let 
C be a constructible subset of 
SpecR(B) given by 
C = {BcSpecR(B) I k(~) ~ ~C[z~(Ql/l) ..... ~(Qm/l)]} , 
where 
Q1 ..... Qm cA[X 1 ..... Xn]. 
Let I be generated by 
P1 ..... P£E 

115 
A[X I 
.
.
.
.
.
 Xn]. 
Then we have the equality: 
£ 
(SpecRf) [C] = {~cSpecR(A) I k(a) > ~Yl ..... ~Yn 
~I(~Pi)(Yl ..... Yn )=0 ^ 
^ 
~C(~QI(Yl ..... yn ) ..... ~Qm(Yl ..... yn))]}, 
where for 
F ~ A[X 1 .... ,Xn], N 
F denotes the polynomial whose coefficients 
are the images of the coefficients of F. 
The inclusion 
! 
follows easily from Fact 
6.8. 
For the other inclusion, 
if 
Yl .... 'Yn ~ k(~) satisfy the given formula, then the correspondence 
a 
I 
~ ~ (a) 
for 
a ~A, 
Xi/ll 
> 
Yi 
i = i ..... n, 
extends to a ring homomorphism 
g:B + k(~). 
This morphism gives a prime 
precone of 
B, 
B = g-I [k(~)+] 
= 
{F/I I k(~) ~ (~ F)(y I ..... yn ) ~0}, 
such that 
~ = (SpecRf)(B) 
and 
BcC. 
D 
The study of topological properties of the map SpecRf 
is of central in- 
terest in real algebraic geometry. 
This study is frequently based on an 
elegant combination of logical and geometrico-topological techniques. 
For example, if one needs to show that a certain constructible set 
C ! SpecR(A), given by an 
[-formula 
~C(al .... ,an) , is open, logic helps 
by reducing the problem to showing that the set 
(,) 
{~n 
I ~ > ~C [~]} 
is open in A n (of course, 
~ 
can be replaced by any other real closed 
field). 
The analytic techniques available in the reals often are of help 
in proofs of this kind. 
Indeed, if the set (*) is open, the open quantifier elimination theorem 
5.9 
implies that the formula 
~c(vl ..... v n) (without parameters) is 
equivalent in the theory 
RCF 
to one of the form 
n i 
V 
A 
Pij(Vl ..... v n) > 0 
i 
j=l 
with 
Pij C E [X I ..... Xn]. 
It follows that 

116 
C = ~H(Pil(a 
I
.
 
..... a n ) ..... Pin (al ..... an)) 
l 
l 
and, hence, that 
C 
is open~ 
As an illustration of the use of this technique we prove the following 
result due to Elman-Lam-Wadsworth 
[48]. 
THEOREM 6.14. 
(The open mapping theorem). 
Let 
K,F 
be orderable 
fields, where 
F 
is a finitely generated extension of K, and let i:K ÷ F 
denote the inclusion map. 
Then SpecRi is an open map. 
PROOF. 
Obviously it suffices to show that 
(SpecRi)[0] is open in 
SpecR(K) , whenever 
0 
is a basic open set of 
SpecR(F). 
Note that 
(SpecRi)(~) = ~nK 
for 
~SpecR(F). 
We may assume 
F = K(Xl,...,Xn,a) , where 
x I .... ,x n are a transcendence 
base of 
F 
over 
K 
and a is algebraic over 
K(x I .... ,Xn). 
Obviously 
it suffices to prove the theorem in the cases 
F = K(a) 
and 
F = K(X). 
CASE i. 
F = K(a), a algebraic over K. 
Let 
f ~ K[X] 
be the minimal polynomial of 
a. 
A non-empty basic subset 
of SpecR(F) 
is of the form: 
£ 
H(PI(a) ..... P£(a)) = {~SpecR(F) 
I <F,~> > A 
Pi(a) > 0} 
i=l 
where 
Pi c K[X] 
and 
Pi(a) # 0. 
Then 
f f Pi and we may assume that 
deg (Pi) < deg(f). 
Let 
X = (SpecRi) [H(PI(a) ..... P£(a))]. 
For 
B~SpecR(K) the following 
are equivalent: 
(i) 
BeX 
£ 
(ii) 
B extends to an order ~ of 
F 
such that 
<F,~> ~ 
A 
Pi(a) >0. 
i=l 
Since 
K(a) ~ K[X]~f), 
the sign-changing criterion 4.18 tells us that 
the following conditions are equivalent for any order B of 
K: 
B extends to an order of F; 
f changes sign in 
<K,B>. 
By definition 
<K,B> = k(B), and if ~ is an order of 
F 
extending B we 
have 
<F,~> ! k(B)- 
Hence (ii) is equivalent to : 
£ 
(iii) 
f changes sign in 
k(B) and 
k(B) ~ 
A 
Pi(a) >0. 
i=l 
This condition is first-order. Let: 

117 
~(x,y,a O ..... an_ I ): 
x<y A f(x) f(y) <0, 
£ 
~(a,b o ..... bin_ I): 
A Pi(a) >0, 
i=l 
where 
a ° ..... an_ I are the coefficients of 
f, 
and b o ..... bm_ I those 
of PI .... 'P£" 
By continuity, the parameter-free formulas 
~(x,y,v o ..... Vn_ I) 
P(z,w O ..... Wm_ I) 
define open subsets of IR n+2 and 
I~ n+l, respectively. 
Hence, the formula 
~(v o ..... Vn_ l) : 
defines an open subset of An. 
the constructible set 
~xy ~(x,y,v o ..... Vn_ I) 
By the remark preceeding the theorem, 
{BeSpecR(K) I k(8) ~ 
~(a o ..... an_ 1 ) ^ P(a,b o ..... bin_l)} 
is open. 
By the equivalence shown above this set equals 
X. 
CASE 2. 
F = K(X). 
By trivial manipulations 
be written in the form: 
H(P I ..... P£) 
for non-zero polynomials 
(cf. 4.17) a basic open subset of SpecR(F) can 
l 
= 
{~SpecR(F) 
I <F,~> ~ 
A 
Pi >0} 
i=l 
Pi eK[X]" 
Putting X = (SpecRi)[H(P I ..... P£)] 
we have, as before, the equivalence between : 
(i') 
BoX, 
£ 
(ii') 
B extends to an order ~ of 
F 
such that 
<F,~> ~ A 
Pi >0' 
i=l 
where 
BeSpecR(K ) . Below we prove that these conditions are equivalent 
to : 
£ 
(iii') 
<K,$> > @x A 
Pi(x) > 0. 
i=l 
With this equivalence established, the proof is completed as above for 
(iii') defines an open condition, hence an open constructible subset of 
SpecR(K). 
Let 
L = <K,B>. 
Clearly (ii') implies (iii'), as 
L ~<F,~>. 
! 
Conversely, (iii') implies that all the 
Pi s are positive on an interval 
(a,a+c) of 
L. 
Hence the set 
~a+ defined in Example 
6.4 (with L replac- 
ing ~) defines an order of 
L(X) extending B and making the Pi's posi- 
tive. 
This order induces an order on F with the properties required 
in (ii'). 
D 

118 
REMARK. 
The map 
SpecRi 
is also closed, since the real spectrum of an 
orderable field is Hausdorff (exercise). 
As a matter of fact, something 
much more general is proved by Coste/Coste-Roy 
[62;Thm. 6.2] with the 
techniques used above: 
THEOREM 6.15. 
(The closed mapping theorem). 
Let 
A, B be rings and 
f:A ÷ B 
a homomorphism such that 
B 
is integral over 
f[A]. 
Then 
SpecRf: SpecR(B) ÷ SpecR(A) 
is a closed map. 
0 
For still another application of the same technique, see Roy [32; 
§2]. 
§7. 
AFFINE VARIETIES OVER REAL CLOSED FIELDS. 
Now we shall study the interplay between the geometry of affine 
varieties over real closed fields -in particular, over ~- 
and the topo- 
logy of the real spectra of their coordinate rings. 
Throughout this 
section varieties are equipped with the euclidean topology derived from 
the order topology in the base field, and spectra are equipped with their 
spectral topology (cf. Definition 6.2). 
Observe that for any ordered base 
field 
<K,~> and any variety 
V 
over 
K, there is an obvious embedding 
given by 
: V(K) 
~ SpecR(K[V]) 
' " ~x = {Q/I I QeK[X 1 ..... X n] 
and 
Q(x) e 0} 
(we write 
I 
instead of 
I(V(K))). 
7.1 
FACT. 
The map ~ is injective and continuous. 
PROOF. 
Injectivity follows easily by considering linear polynomials. 
Continuity follows from the equality 
~-I[H(QI/I ..... QM/I)] 
which is checked without problem. 
Since the family of sets of the form 
m 
= V(K) 
n IC'~IQ~. 
I[.= 
(0,~) ], 
m 
V(K) n ~--i Q$1[(0,~)] 
0 
for 
m c~ and 
QI ..... Qm ~K[X I ..... x n] 
clearly is a basis for the topo- 
logy of V(K), 7.1 says, furthermore, that the image of 
V(K) is a subspace 
of 
SpecR(K[V]); 
therefore, we may (and will) identify 
V(K) with its 
image by 
~. 
Henceforth we also assume that 
K 
is real closed. 
THEOREM 7.2. 
With the convention above, restriction to 
V(K), 
S~-~SnV(K), defines a bijeetive map between: 
(i) 
Constructible subsets of SpecR(K[V]) and s.a. subsets of V(K). 

119 
(ii) 
Open constructible subsets of 
SpecR(K[V]) and open s.a. sub- 
sets of 
V(K). 
PROOF. (i) 
Assume 
C 
is eonstructible,defined by the formula 
~c(QI/I ..... Qm/l), with 
QI ..... Qm ~K[X I ..... x n] (see Proposition 6.12). 
Then the equality 
(*) 
C nV(K) = {x ~V(K) I K ~ ~c[QI(~) ..... Qm(X)]}, 
shows that 
C n V(K) 
is s.a. 
By induction on the (Boolean) structure 
of 
C 
one gets reduced to showing 
(*) when 
C 
is basic open, 
m 
C = H(QI/I ..... Qm/l). 
In this case one may take 
~c(vl ..... Vm): ~iv 
i _  
>0, 
and then (*) is just the equality appearing in the proof of 
7.1. 
It is clear that the map 
C~-~C n V(K) takes on all s.a. subsets of V(K) 
as values. 
In order to see that it is injective, assume that 
C 
and 
C' are cons- 
tructible subsets of SpecR(K[V]) defined by formulas 
~c(QI/I ..... Qm/I) 
~c,(FI/ .... ,Fr/I) 
respectively, and that 
C nV(K) = C' nV(K). 
By 
and 
(*) this equality translates as: 
l 
(**) 
K ~ V x[ ~IPj(~) = 0 + (~c(QI(~) ..... Qm(X-)) <--> ~c,(FI(~) ..... Fr~))], 
j= 
where 
PI .... 'P£ 
are polynomials generating the ideal 
I 
of 
V. 
This 
is a formula with parameters in 
K (the coefficients of the polynomials). 
On the other hand, for every 
~SpecR(K[V]), 
k(~) is a real closed field 
containing 
K, and hence (**) holds in k(=). 
Specializing (**) to 
= ~ (Xi/l), 
i = i ..... n, 
we have 
Pj(~ (XI/I) ..... ~ (Xn/I) = 
x i 
= ~ (PJ/I) = 0, and hence: 
k(~) ~ ~C(~ (QI/I) ..... ~ (Qm/l)) 
< ~ ~C,(~ (FI/I) ..... ~ (Fr/l)). 
In view of Proposition 6.12, this means: 
~cC 
iff 
~C' 
i.e., 
(ii) 
for 
~ESpecR(KEV]), 
C = C'. 
Since the identification map ~ is continuous, it is clear 
that 
C n V(K) is open, whenever 
C 
is. 
The fact that every open s.a. 
subset of 
V(K) is of the form 
C n V(K) 
for some open constructible set 
C 
is an immediate consequence of open quantifier elimination (Theorem 
5.9). 
D 
COROLLARY 7.3. 
V(K) 
is dense in 
SpecR(K[V]). 

120 
Notation. 
Given a s.a. subset 
S 
of 
V(K), we denote by 
S 
the unique 
constructible subset of SpecR(K[V]) such that 
S = S nV(K). 
COROLLARY 7.4. 
The map 
SI , S 
induces a one-one correspondence 
between the connected components of 
V(~) and those of SpecR(~[V]). 
In particular, SpecR(~[V]) 
has a finite number of connected components 
and is locally connected. 
PROOF. 
Let 
U I ..... U r 
be the connected components of 
V(~) (Theorem 
5.8). 
We want to show that 
UI ..... Ur 
are the connected components of 
SpecR(~[V]). 
By Theorem 
7.2 
these sets are clopen and form a parti- 
tion of SpecR(~[V]). 
We only need to show that they are connected. 
Assume 
Ui ~ CU C', with 
C,C' 
open (in Ui ), non-empty and disjoint. 
Since the 
Uj's are open, then 
C,C' are clopen (in SpecR( ~[V])); hence 
compact. 
Therefore 
C,C' are finite unions of basic open sets, and 
hence constructible. 
By Theorem 7.2 again, 
U i = (C n V(~)) u (C' n V(~)) 
is a partition of 
U i 
in non-empty open subsets, a contradiction. 
The proof of local connectedness is left as an exercise. 
Exercise. (a) 
Prove the statement of Corollary 7.4 with a s.a. set 
N 
S ~ V(~), and 
S replacing 
V(~), and SpecR(~[V]), respectively. 
(b) 
The operation 
SI , S 
commutes 
(i) 
with the finite Boolean operations; 
(ii) 
with closure and interior; 
(iii) 
with images and inverse images by morphisms of algebraic varieties 
over 
K. 
(Cf. Hartshorne [3; Ch.l] 
for the notion of morphism 
of algebraic variety). 
(c) 
If 
U = V(~) 
is open 
s.a., then 
U 
is the largest 
open subset W of SpecR(~[V]) such that W nV(~) = U. 
Corollary 7.4 depends essentially on the fact that 
V(~) has finite- 
lymanyc~-mected components, a property that only the real numbers enjoy 
amongst real closed fields. 
In fact: 
Exercise. 
Prove that if K 
is a real closed field ~ ~, then the 
connected component of one point of 
K n 
is the singleton of that 
point. 
D 
However, using transfer on an appropriate 
L-formula - namely one that 
for a fixed constructible set 
C 
expresses the property 
"C 
is connec- 
ted" -, 
Coste/Coste-Roy 
[62; Thm. 5.5] 
show: 

121 
PROPOSITION 7.5. 
Let 
K 
be a real closed field and 
V 
a variety 
over 
K. 
Then SpecR(K[V] ) has a finite number of connected components 
which are constructible sets. 
The same is true of any constructible sub- 
set of SpecR(K[V]). 
D 
What kind of partition do the connected components of 
SpecR(K[V]) induce 
on V(K)?. 
It turns out that the members of this partition are precisely 
the components for the following notion, defined for s.a. sets 
S ! V(K): 
S is called s.a.-connected if it cannot be split 
into two disjoint, non-empty, s.a. open sets. 
This notion, which clearly coincides with the standard notion of connected- 
ness in the case 
K = ~, has a deep geometrical meaning. 
In order to 
see this, let us consider the restriction of the two-component cubic of 
Example 
2.5(b) to the field 
Q 
of real algebraic numbers. 
Manifestly, 
this is still a two-component variety, although it has many "holes". Clear- 
ly, the topology of 
~ 
cannot reflect this property (see Exercise above), 
while the notion of s.a.-connectedness does. 
It is well-known that the notion of path-c0nnectedness coincides in ]R n 
with that of connectedness. 
The first of these notions can be generaliz- 
ed to any real closed base field (this was done by 
Dells [70]). Remark- 
ably, this generalized notion turns out to be equivalent to that of s.a.- 
connectedness. 
Delfs and Knebusch 
[71] 
have introduced a theory of "restricted topolo- 
gical spaces" intended to provide a frame in which the "semi-algebraic" 
versions of some topological notions (e.g. that of s.a.-connectedness) 
may be cast in much the same terms in which the corresponding standard 
topological notions are formulated in the frame of general, point-set 
topology. 
See also Brocker 
[59; § I]. 
§8. 
DIMENSION. 
We give in this section a brief summary, without proofs, of 
the theory of dimension for affine varieties over a real closed base field 
K, and for s.a. subsets of 
K n. 
This theory was developed by Coste/Coste- 
Roy 
[62; 
§8]. 
The algebraic notions of dimension used in classical 
geometry were briefly reviewed in §2. 
For most of the present section we will assume that the polynomials 
P1 ..... P£ E K[X 1 .... ,X n] 
determining our variety 
V 
generate a real ideal 
I(V) 
over 
K; 
we will say that the variety 
V 
is real. 
From a geome- 
trical point of view this is no restriction at all: it suffices to re- 
place 
P1 .... 'P£ 
by a (finite) set of generators of the ideal I (V(K)) 
which, by Corollary 4.11, is real; 
the latter obviously generate the 

122 
same set of 
K-points. 
Moreover, the rings 
K[V] and 
K[X I ..... Xn]/I(V ) 
have the same real spectrum. 
A. 
GLOBAL DIMENSION. 
The notion of prime precone gives, a priori, a new way of measu- 
ring dimensions: 
DEFINITION 8.1. Let 
A 
be a commutative ring with unit, and 
V 
an 
affine variety over a real closed field 
K. 
(a) 
The real dimension of 
A, dimRA , is the supremum of the integers 
n 
such that there is a strict chain 
Co ~ ~i ~ 
" " ~ 
n 
of prime precones of A(dimRA = ~ 
if there are such chains of unbounded 
length). 
(b) 
The real dimension of 
V, dimR(V) , is defined to be the real dimen- 
sion of the coordinate ring 
K[V]. 
D 
Since 
~n- ~ = 
Bo- B 
and ~ ! B 
imply 
~ = B 
(e,BESpecR(A)), every 
strict chain of prime precones of 
A 
induces a strict chain of real 
prime ideals of 
A. 
Hence, dimRA ~ dim A. 
However, for real varieties 
these two quantities are equal: 
PROPOSITION 8.2. 
Let 
V 
be a real irreducible affine variety over 
a real closed field 
K. 
Them 
dim R K[V] equals the transcendence degree 
of 
K(V) over K. 
D 
(Cf. Theorem 2.7). 
In addition it follows that: 
COROLLARY 8.3. 
For 
K 
and 
V 
as in Proposition 8.2, the following 
quantities are equal to dimR(V): 
(a) The combinatorial dimension of 
V(K). 
(b) The supremum of the length of strict chains of real prime ideals in 
K[V]. 
D 
The combinatorial dimension of 
V(K) is the supremum of the lengths of 
strict chains of closed irreducible subsets of 
V(K) with the Zariski 
topology 
(cf. Hartshorne 
[3;Ch. i]); or, in other words, of strict 
chains of irreducible subvarieties of 
V(K). 
Proposition 8.2 is used in 
proving the equality of this quantity with dimR(V). 
The equality between 
quantities (a) and (b) follows from the Real Nullstellensatz 4.8: the 
map 
I~-~VK(I) 
is a bijective correspondence between real prime ideals 
of 
K[V] 
and irreducible subvarieties of 
V(K). 

123 
Note that the preceeding results are false for non-real varieties: if V 
is given by the polynomial 
X 2 + y2, so that 
V(~) = {<0,0>}, then 
dimR(V) = 0 
since the only prime precone of A = ~[X,Y]/I , I = (X 2 + y2) 
is 
~ = { F/I I F(0,0) ~0}. 
However 
A contains the chain (o) ~ (X/I,Y/I) 
of real prime ideals. 
The results above show that, as far as measuring $loba.l dimensions is 
concerned, the use of prime precones yields the same results as the tools 
of classical commratative algebra. 
However, prime precones provide the 
means of constructing a theory of local dimension capable of explaining 
the phenomena of 
"fall of dimension" observed in the examples of 
§2; 
this cannot be done with the classical tools. 
B. 
LOCAL DIMENSION. 
Definition 8.4. 
Let 
V be an affine variety over a real closed 
field 
K, and x~ V(K). 
The (local) real dimension of 
V 
at x, 
dimR(V,x), is the supremum of the integers 
n 
such that there is a strict 
chain 
of prime precones of 
ing to x; 
cf. 
§7). 
a o ~al~ 
-
.
.
 
K[V] ending in 
= 
a-- 
an 
X 
a~(= the prime precone correspond- 
Comparing this definition with Definition 2.6(c) one may wonder whether 
dimR(V,x) coincides with the real dimension of the ring 
K[V]M_. 
This 
x 
is not true in general, but we have: 
PROPOSITION 8.5. 
dimR(V,~ ) 
= 
dimR(K[V]M_) h, 
X 
where 
A h 
denotes the Henselization of a local ring 
A. 
[] 
The proof of this result requires some non-trivial arguments developed by 
Coste/Coste -Roy [62]. 
For the construction of the Henselization of 
a local ring, see Lafon [6] 
or Nagata [Ii]. 
Next we state the central geometric theorem on local dimension: 
THEOREM 8.6. 
Let 
V 
be an affine real irreducible variety over a 
real closed field K, and x ~ V(K). 
Them 
dimR(V) = dimR(V,x) iff 
belongs to the closure (in the euclidean topology) of the set of non- 
singular points of 
V(K). 
[] 
The proof is done in Coste/Coste-Roy 
[62;Thm. 8.9]. 
This result is the 
analogue of Theorem 2.8 
for real varieties. 
Looking back at the 
Examples 
2.9 we can see now that our notion assigns the correct dimen- 
sion to the origin in both cases : 0 in the first example, 2 in the 

124 
second. 
C. 
THE DIMENSION OF SEMI-ALGEBRAIC SETS. 
One of the remarkable features of the local theory of real 
dimension is that it assigns a dimension (both locally and globally) not 
only to varieties but, more generally, to s.a. sets. 
In particular, it 
provides a notion of dimension for the connected components of a variety. 
DEFINITION 8.7. 
Let 
K 
be a real closed field, 
S c K n a s.a. set, 
and 
x e S. 
The real dimension of 
S 
at 
x, dimR(S,x), is the supremum 
of the length, of strict chains of prime precones in S 
ending in 
~.D 
PROPOSITION 8.8. 
sup{dimR(X,x) 
I xES} 
is equal to the (real) dimen- 
sion of the closure of 
S 
in 
K n 
with the Zariski topology, 
D 
It follows that the natural notion of (global) real dimension for a s.a. 
set is that of the real dimension of its Zariski closure; 
this is well- 
defined, for such a closure is a variety by definition. 
PROPOSITION 8.9. 
Let 
S c K n 
be a s.a. set. 
Then the function 
defined on S, 
set 
E ~ 
dimR(S,~), 
is upper semi-continuous. 
For a given integer 
k ~ i, the 
{xe S I dimR(S,x) < k} 
is s.a., open in So 
D 
Looking at Example 
2.9(b) , we see that Proposition 8.9 
gives the "right" 
result; 
the set 
{xeV(~) 
I dimR(V,x) = I} 
is open in V(~), 
as it 
should be, since it coincides with 
{<x,y,Z> I x=Y =0 ^ z ~ 0}. 
COROLLARY 8.10. 
If 
S c K n 
is sla. and 
xeS, then there is a s.a. 
neighborhood 
U 
of 
x 
in 
S 
such that 
dimR(S,x) equals the (real) 
dimension of the Zariski closure of 
U 
in 
K n. 
§9. 
CONTINUOUS SEMI-ALGEBRAIC FUNCTIONS. 
The study of continuous s.a. functions has only begun recently. 
The subject is still largely unexplored, as algebraic geometers have in 
the past concentrated on the study of analytic s.a.(=Nash) functions, 
which lie closer to the geometrical phenomena and have better algebraic 
properties. 
Nevertheless, the investigations carried out so far under- 
line the increasingly important role of continuous s.a. functions. 
Furthermore, the study of these functions leads naturally to that of 
Nash functions. 
We begin by introducing a class of functions which, in most interesting 

125 
cases, turns out to coincide with that of (continuous) 
s.a. functions. 
DEFINITION 9.1. 
Let 
S c A n be a s.a. set and 
f:S +~ 
a function. 
We say that 
f 
is globally algebraic (over polynomials) 
iff there is 
£ ~ i 
and polynomials 
Po,...,P£ ~R[XI,...,Xn], 
with some 
Pi non-zero, 
such that the equation 
Pz(x-~ f(~)£ + P£_I(~) f(~)£-I + ..... + Po(X~ = 0 
is verified for all 
~ ~ S. 
PROPOSITION 9.2. 
Let 
f:S + ~ 
be a function defined on a s.a. set 
S c ~n 
Then: 
(I) If 
f 
is s.a., then 
f 
is globally algebraic. 
(2) If 
f 
is continuous and globally algebraic, and 
S 
is open, then 
f 
is s.a. 
PROOF. 
(I) 
By trivial manipulations 
the graph of 
f, Gr(f), has a de- 
finition of the form: 
(*) 
V(Pi(~,y) = 0 ^ A Qik(~,y) > 0) 
i 
k 
with 
Pi,Qik c~[X I ..... Xn,Y]. 
Furthermore, we can assume that each dis- 
junct defines a non-empty set. 
It suffices to show that each disjunct of 
(*) contains a non-trivial poly- 
nomial equation, i.e. that a polynomial 
Pi 
of degree e i in 
Y 
does 
actually occur. 
For then, setting 
P(X,Y) = ~Pi(X,Y), 
we have 
1 
P(x,f(x)) = 0 
for all 
xES. 
Assume that one disjunct contains no non-trivial polynomial equation. 
If 
this disjunct holds at 
<Xo,Yo >, 
then (*) shows that 
f 
is not single- 
valued at 
Xo' a contradiction. 
(2) 
We shall use now the cylindrical decomposition theorem 
5.7 
with 
P(X,Y) = PZ(X)~ 
+ ... + Po(X) 
a non-zero polynomial annihilated by 
f 
on 
S. 
Under the present hypothesis, 
the first alternative of Theorem 
5.7 
may only occur when the sign of 
P 
is zero. 
Therefore, we can 
arrange a partition 
Ao,A 1 .... ,A m of 
S 
into s.a. sets, so that: 
(j) Po(X) = ... = P£(x) = 0 
for 
all 
XeAo, 
and for each 
i = l,...,m, we have: 
(jj) There are continuous s.a. functions 
~, 
~i 
.... 
: Ai÷ ~' £i ~ i, 
giving exactly the real roots of the polynomial 
P(x,Y), for all 
x e A i. 
In particular, P(x,Y) has constant sign ~ 0 
in each of the intervals 

126 
(_~ ~(~)), (~(~), i 
.
.
.
.
 
, 
j+l(X)) ..... (~ 
.(x)' +~). 
By Theorem 
5.8 
1 
there is no loss of generality in assuming that 
A 1 ..... A m are connected. 
Since 
f(x) is a real root of 
P(x,Y), by (jj) it coincides, for 
xcA i, 
with one of the 
~(x-), 
say 
j = s i. 
Now, the connectedness of 
A i 
and the continuity of 
f 
imply that 
s i 
is the same for all 
xEAi(exer- 
cise). 
The foregoing argument shows that the graph of 
f FA 1 o...uA m is defined 
by the formula: 
V 
,,y 
th 
i=l ~i (~) ^ 
is the 
s i 
root of 
P(x,Y)", 
where 
~i 
is a formula defining 
A i- 
Next we need to worry about the definability of 
f fAo. 
This is just an 
argument of continuity. 
In fact, (j) shows that 
A o ! S n V(~), where 
V is the variety defined by 
Po .... 'P£" 
In particular, 
A o has empty 
interior 
(in ~n), as 
V(~) 
has this property. 
Since 
S 
is open, A o 
has empty interior in S, 
and each neighborhood 
(in 
S) of a point 
~ A o 
intersects 
A 1 u... uA m. 
By continuity we have 
f(x) 
= 
lim 
f(y) 
Since 
f rA I u... uA m is s.a. 
f ~A O 
is also s.a. 
e AIO. • . uA m 
and the definition of limit is first-order, 
There is a notion of minimal polynomial for globally algebraic functions. 
This is a consequence of the following algebraic result: 
PROPOSITION 9.3. 
Let 
R 
be a ring, 
A a unique factorization subring 
of R, 
and 
beR 
an element algebraic over 
A. 
Then the ideal 
I b = {P~A[Y] J P(b) = 0} 
is principal. 
If 
R 
is an integral domain, 
then 
I b 
is also prime. 
D 
The proof, which is just a variant of standard arguments, appears in 
Palais 
[30; 
§3] 
and in Dickmann 
[72; 
Prop. V.3.1]. 
This result 
applies to the case under consideration by setting: 
R = the ring of real-valued 
, continuous, 
s.a. functions on a s.a. set 
S ! 
An (henceforth denoted 
C(U)); 
A = the ring ~[X I ..... Xn]. 
DEFINITION 9.4. 
The minimal polynomial of a continuous s.a. (or, 

127 
more generally, a globally algebraic) function 
f 
on 
S 
be a generator of the ideal 
If = {P c~[X,Y] I P(~,f(~)) = 0 
for all 
~S} 
such that the 
g.c.d, 
of its coefficients is i. 
is defined to 
The minimal polynomial is, of course, a polynomial of lowest degree in If, 
and is unique, but not necessarily irredu.c.ible; for example, the minimal 
polynomial of the absolute value function on ~ 
is 
(Y-X)(Y+X). 
However, 
it has the following properties: 
PROPOSITION 9.5. 
Let 
P e~[X,Y] 
be the minimal polynomial of 
f ~ C(S), 
and let 
P = P1 ..... P£ 
be a decomposition of P 
into irreducible factors. 
Then: 
(a) 
The Pi are distinct. 
(b) 
If 
F i = P/ 
and 
U i = {x~S I Fi(x,f(x)) ~0}, then the U i 
are 
Pi 
pairwise disjoint, open s.a. subsets of 
S, and Pi vanishes identically 
on 
U i . 
(c) 
S - 6 
U i has empty interior 
(in ~n); 
in particular, if 
S 
is 
i=l 
£ 
open, then 
S ! i__~Jl.= 
l~i. 
D 
For a proof, see 
Brumfiel 
[65; 
Prop. 8.13.15]. 
The proofs of some of the basic properties of continuous s.a. functions 
which we will consider below, use a technique depending on the fact that 
the 
real roots of a polynomial equation 
P(X,Y) = 0 
in one variable X 
have a convergent 
Puiseux series expansion (cf. Example 
3.2). 
Precise- 
ly: 
PROPOSITION 9.6. 
Let 
P c~[X,Y] 
be a polynomial in two variables 
and 
p 
a real valued function defined on an interval 
[Xo,Xo+e), 
for some 
e>0 , and such that 
P(x,p(x)) = 0 
for all 
x~ [Xo,Xo+e). 
Then 
o has an absolutely convergent Puiseux series expansion 
p(x) = kE N 
ak(X-xo)k/P 
for all 
x 
in some interval (Xo,Xo+~) , 0 < ~ ~ ~ 
Here 
p ~ I, N ~ 
,ak~ 
for all 
k ~ N, and 
a N ~ 0. 
In particular, any globally algebraic 
function p defined on 
[Xo,Xo+S ) has such a Puiseux series 
expansion. 
0 

128 
The existence of a formal solution is a consequence of Theorem 3.3; 
see 
Walker 
[15; Ch. IV, 
§ 3]. 
It is a remarkable fact that a formal Puiseux 
series which is a solution of an equation 
P(X,Y)=0 
is automatically 
convergent. 
A neat discussion of the question of convergence appears in 
Chenciner 
[2; Ch. VIII, 
§8.6]. 
See also Hormander 
[18; Appendix]. 
As an application of this technique we prove: 
THEOREM 9.7 (The Zojasiewicz inequality). 
Let 
C c ~n 
be a closed 
s.a. set an f, g 
continuous s.a. functions defined on 
C 
such that: 
(i) For all 
s >0, 
{xEC I Jg(x) l ~ E} is compact. 
(ii) Z(f) ! Z(g) 
(where 
Z(f) = f-l[0]). 
Then there are constants 
c,r >0 
such that 
Ift eclgl r 
on C. 
PROOF. 
Let 
H = {<u,v> 
~ m 2 [ @ xeC (u = Ig(x) l ^ v = ]f(x) I)}. 
Clearly 
H 
is a s.a. set contained in the positive quadrant of ~. 
Then 
H 
is given by a disjunction of conjunctions of sign conditions on 
certain polynomials, say 
Pl(U,V),...,Pt(u,v). 
By Proposition 9.6 there 
is 
e > 0 
such that all the real roots of these polynomials have abso- 
lutely convergent Puiseux series expansions in 
(0,e). 
Let us consider the set 
Hn((0,e) 
× ~). 
If it is empty, either 
g = 0 
or 
Igl ~ s 
on C. 
In the last case, 
C is compact (by assumption (i)) 
and the result follows easily by considering the minimum of 
Ill 
and the 
maximum of 
Lgl 
in C. 
Assume, then, that 
Hn((0,s) × ~) ~ 9. 
This set is bounded below on 
(0,e) by one of the roots of one of the polynomials 
PI,...,Pt, say v(u). 
This means that for 
x e C 
we have: 
0 < Ig(x) i < e 
implies 
if(x) i~v(]g(x)l), 
and 
v(ig(x) i) = 
inf (Hn({Ig(x) i} ×m). 
Observe also that 
v >0 
on 
(0,s); 
for if 
u~(o,E), then 
{x~C I Ig(x) l = u} 
is a compact set (by(i)) on which f ~0 (by(ii)); 
it follows that 
Ifl 
has a minimum ~ 0 
on this set, which equals, 
v(u) ; hence 
v(u) > 0. 
If 
v 
is bounded below by 
~ > 0 
on (0,e), then an easy argument shows 
that 
Ifi e clgl 
for some 
c >0. 
Let us assume that 
v 
is not bounded away from 0, i.e. 
lim+ 
v(u) = 0. 
u+0 
Using the Puiseux series expansion of 
v 
we get: 

129 
(*) 
v(u) = 
[ 
akuk/p 
= 
a N uN/p (i + 
[ 
ak/aN uk-N/p) 
k=N 
k=N+l 
for ~(0,~). 
Let 
T(u) denote the series expnasion in the last term; 
since its exponents are positive, then 
lim+ y(u) = 0. 
Choose 6 , 
u*0 
0 <6 ~ ~ , so that 
I + ~ e 1/2 
on (0,6). 
Since 
v(u) >0, it follows 
from (*) that 
a N>0. 
The fact that 
v(U)u+--~0 
implies that N>0. 
= 
N/p 
_ 
jr 
Putting 
c' 
aN/2 
and 
r = 
we have 
IfJ > c'Jg 
on 
{xeC J 0 s Jg(x) t< ~} 
The argument used at the beginning of the proof 
shows that 
J fJ ~c" I gl r 
for some 
c">0 
on the compact set 
{x~C J Jg(x) J ~ 6}. 
Put 
c = min {c',c"}. 
D 
REMARKS. 
(a) 
The idea of the proof above goes back to H~rmander 
[18; 
Appendix; 
Len~na 2.1 ] 
(b) When the set 
C 
is compact, the statement of Theorem 
9.7 
is in 
fact first-order, as one may take 
r 
rational, cf. Dickman 
[72; Prop.V 
3.4]. 
By transfer, the inequality is valid in each real closed field, 
for 
C 
closed and bounded. Dells [70; 
Lemma 
3.23 
gives an elementary 
proof valid for arbitrary real closed fields. 
D 
In the remainder of this section we sum up other results obtained by 
application of the same technique, and study their effect on the structure 
of the rings 
C(S). 
We shall denote 
by 
cK(s) the ring of K-valued s.a. functions on a s.a. 
set 
S c K n, 
K a real closed field, which are continuous in the euclidean 
topology. 
The following result is proved by Carral-Coste 
[603, 
first for ~ 
and 
then, by transfer, for any real closed field K. 
PROPOSITION 9.8. 
Let 
S c K n 
be a locally closed s.a. set, fEcK(s) 
and 
gEcK(s-z(f)). 
Then there is m ~ i 
such that the s.a. function fmg, 
prolonged by 
0 
on 
Z(f), is continuous. 
0 
COROLLARY 
9.9. 
Let 
S be as in 9.8 
and 
f,gecK(s) 
be such that 
Z(g) ! Z(f). 
Then there is me i 
such that g 
divides fm in 
cK(s).D 
COROLLARY 9.10. 
Let 
S be as in 9.8. 
Then Spec(cK(s)) is homeomor- 
phic to 
S. 
In particular, if V 
is an affine variety over 
K, then 
Spec (cK(v(K))) 
is homeomorphic to SpecR(K[V]). 
PROOF. 
This is an application of the duality between spectral spaces 
and distributive lattices mentioned in 
§6.B. 
It suffices to prove that 
the lattices of compact open subsets of Spec (cK(s)) and of 
S 
are 

130 
isomorphic. 
By Theorem 7.2 
the latter is isomorphic to the lattice of open s.a. 
subsets of 
S. 
The former is simply 
{D(f) ] fccK(s)}, since Corollary 9.9 implies that 
D(f) uD(g) = D(f 2 + g2). The map 
D(f) I • {xcS If(X) ~0} 
establishes 
the required isomorphism : it is injective by Corollary 9.9, and it is 
surjective since for a given open s.a. set 
U ! S, the function ds_ U 
(= distance to S-U) is continuous. 
COROLLARY 9.1].. Let 
S c K n 
be a locally closed s.a. set. 
Then 
dim (cK(s)) = dimR(S). 
D 
This corollary shows that the rings 
cK(s), c(S), are radically different 
from the rings of arbitrary continuous functions : the Krull dimension 
of the latter is one or infinite, whatever the underlying space; inclusion 
chains of prime ideals in this case are of length 1 or at least 2 ~I (cf. 
Gillman - Jerison 
[85; Thm. 14.19]). 
Thus, we see that rings of conti- 
nuous s.a. functions are well-behaved objects which reflect geometric 
properties of the underlying spaces. 
The results above have an effect on the structure of the ideals of 
cK(s). 
COROLLARY 9.12. 
Let 
S be as in Proposition 9.8, and let 
I be 
an ideal of 
cK(s). 
The following are equivalent: 
(i) 
I is real. 
(it) I is radical. 
(iii)l is a z-ideal (i.e. Z(f) = Z(g) and 
g~l 
imply 
fcl). 
The residue rings 
cK(S)/p, 
where 
P 
is a prime ideal, have the following 
properties, similar to those holding in rings of arbitrary continuous: 
PROPOSITION 9.13. 
Let 
of C~(S). 
(i) 
The relation 
f/p e 0 
iff 
there is 
defines a total ordering on 
S c K n be a 
s.a. set, and 
P a prime ideal 
gccK(s) 
such that 
cK(s)/p. 
g>_0 on S and 
f/p = g/p, 
(it) The ring 
cK(S)/p has the following properties: 
(a) 
It is a local ring (i.e. 
P 
is contained in exactly one 
maximal ideal). 
(b) 
Every non-negative element has a square root. 
(c) 
Every monic polynomial of odd degree has a zero. 

131 
In particular: 
(iii) 
If 
M 
is a maximal ideal, then 
cK(S)/M is a real closed field. 
The proof, given in Dickmann 
[84], 
is a "definable" version of an ~ 
argument known in the case of rings of (arbitrary) continuous functions; 
see Gillman-Jerison 
[85; Thm. 13.4]. 
A result of geometric nature concerning the residue rings 
C(C(IR))/p, 
where 
C 
is an algebraic curve over ~ 
and 
P 
is a prime ideal, is 
proved in Dickmann [84]; 
it establishes a link with the notion of real 
closed ring, introduced in Cherlin-Dickmann [82]. 
COMMENT. 
One may consider classes of continuous s.a. functions obta-ned 
by imposing further "regularity" conditions; 
many conditions of this 
type are familiar in analysis. 
As far as we know, nothing has been done 
in this direction beyond the study of Nash functions. 
Semi-algebricity 
my not always be a natural condition in connection with other require- 
ments; 
for example, 
r-fold continuously differentiable s.a. functions 
for 
r 
finite may not be a natural class from the point of view of 
differential geometry. 
However, the following is important: 
PROPOSITION 9.14. 
Let 
f be a 
C ~ (i.e. infinitely differentiable) 
realvalued function defined on an open, connected s.a. subset of ~n 
Then 
f 
is analytic. 
D 
The proof is implicit in Brumfiel 
[65; 
Prop. 8.13.16]. 
§i0. 
NASH FUNCTIONS. 
DEFINITION I0.I. 
Let 
U 
be an open s.a. subset of ~n 
A function 
f:U ~ ~ 
is called a Nash function if it is s.a. and analytic on U. 
We 
denote by 
N(U) 
the ring of Nash functions defined on U. 
[] 
These functions, first considered by Nash [29], 
constitute a tool of 
prime importance in real algebraic geometry. 
The point is, as Bochnak- 
Efroymson observe, 
[25; p. 214], 
that Nash functions have the good 
algebraic properties of polynomials, but better geometric properties. 
There is a vast literature dealing with Nash functions. 
Bochnak-Efroym- 
son 
[26] 
is an introduction to the subject, while Bochnak-Efroymson 
[25] is a comprehensive survey of the algebraic theory of 
N(U) and its 
subrings. 
Many of the basic results were first collected in ~ojasiewicz 
[28], 
which contains a wealth of material. 
Valuable information can 
also be found in Roy 
[32] 
and Palais [30]; 
the points of view of 
these two papers are very different from the one adopted here. 
In this survey we shall only consider Nash functions defined on connect- 

132 
ed open domains in An. 
This will be quite sufficient for our purposes, 
although much of the theory below applies to more general domains of 
definition (see Bochnak-Efroymson [25]). 
A. 
BASIC ALGEBRAIC PROPERTIES. 
Many of the good algebraic properties of Nash functions follow 
from: 
10.2. Fundamental fact. 
If 
U 
is open and connected, then N(U) 
is an integral domain. 
PROOF. 
Let 
f, g eN(U) 
be such that 
fg = 0, i.e. Z(f) uZ(g) = U. 
One 
of these sets, say 
Z(f), has non-empty interior. 
Since 
U 
is connected 
f = 0 
on 
U 
by the principle of analytic continuation (Dieudonn~ [17; 
9.4.2]) 
D 
An immediate consequence is : 
COROLLARY 10.3. 
Let 
f be an analytic function on 
U. 
Then 
f 
is 
Nash 
iff 
it is locally algebraic; 
i.e. for every 
x-~U 
there is a 
neighborhood 
V 
of 
~oo and 
a polynomial 
P ~[X I ..... Xn,Y] , P = 0, 
such that 
P(x,f(x)) = 0 
for all 
x~V. 
D 
By Proposition 9.3 the minimal polynomial of a Nash function is irreducible. 
This has a number of simple but important algebraic consequences; 
we 
mention the following: 
COROLLARY 10.4. 
Let 
f:U x~ ÷ ~ 
be a non-zero Nash function and 
g:U ÷ ~ 
an analytic function satisfying 
f(x,g(x)) = 0 
for all 
x~ U. 
Then 
g 
is Nash. 
PROOF. 
Let 
P e~[X I .... ,Xn,Xn+I,Y] 
be the minimal polynomial of 
f. 
Since 
f ~ 0, 
then 
P ~ Y 
and hence 
P 
is not divisible by 
Y; 
it 
follows that 
Q(X I ..... Xn+ I) = P(X I ..... Xn+!, 0) is not the zero poly- 
nomial. 
We also have: 
Q(~,g(~)) = 
P(~,g(~),0) 
= 
P(~,g(~), f(~,g(~))) = 0 
for all 
xc U. 
D 
COROLLARY 
10.5. 
Let 
F c N(U)[Y] 
be a non-zero polynomial and g an 
analytic function on 
U 
satisfying 
F(g) = 0. 
Then 
g 
is Nash. 
D 
COROLLARY 
10.6. 
The ring 
N(U) 
is differentially stable: if F E N (U) 
and 
i = i 
n, 
then 
~f 
.
.
.
.
.
 
-- 
:N (u). 
~x i 
PROOF. 
If 
f 
satisfies the polynomial equation 
P(~,f(~)) = 0, then 
~f 
satisfies the equation 
~x° 

133 
~P (~,f(~)). ~f - 
De (~,f(xD) + ~ 
~i(x) = 0 
~X i 
which has Nash coefficients. 
Hence it is Nash by 10.5. 
Q 
Another consequence of 
10.4 
is: 
PROPOSITION 10.7. (Implicit function theorem). 
Let 
U c ~n+l 
be 
open 
s.a. 
and ~e~n 
b ~R 
be such that <a,b> e U. 
Let 
f:U ÷~ 
be 
a Nash function such that 
f(a,b) = 0 
and 
~f 
(a,b) ~ 0. 
Then there 
~Xn+ I 
is a s.a. neighborhood 
V 
of a 
in ~n 
and a Nash function g:V + 
such that 
g(a) = b 
and 
f(x,g(x)) = 0 
for all 
x E V. 
PROOF. 
By the implicit function theorem for analytic functions (see 
Dieudonn4 
[17; 10.2.43) 
there is 
V, which we may take s.a., and an 
analytic solution g as above; 
g 
is Nash by 10.4. 
D 
Palais 
[30; §i] 
shows that this statement is equivalent to more general 
versions of the implicit function theorem, for a variety of situations 
including, of course, Nash functions. 
The following algebraic property is a consequence of Corollary 10.5: 
PROPOSITION 10.8. 
The ring 
N(U) 
is integrally closed; 
that is, if 
a quotient 
f/g of Nash functions satisfies a monic polynomial equation 
with coefficients in 
N(U), then g 
divides 
f 
in N(U). 
PROOF. 
The ring of analytic functions on 
U 
is known to be integrally 
closed 
(cf. Dickmann 
[72; Ch. V]); 
hence f/g is analytic on U. 
By 
10.5, 
f/g is Nash. 
0 
Now we mention, without proof, an algebraic property of crucial impor- 
tance. 
THEOREM 10.9. 
The ring 
N(U) is noetherian. 
D 
The original proof, due to Risler [31], 
is basically of algebraic nature. 
A proof using complexification techniques is sketched in Bochnak- 
Efroymson 
[25; Thm. 3.1]. 
We shall use later the following consequence: 
COROLLARY i0.I0. 
Let A be a subring of 
N(U) containing the poly- 
nomials, and k I an ideal of 
A. 
Then there are fl ..... fk EI 
such 
that 
Z(1) = £'h Z(fi). 
i=l 
PROOF. 
The ideal 
I.N(U) 
generated by 
I 
in N(U) is finitely generat- 
ed. 
Each of these generators is a linear combination of members of 
I, 
say 
fl,.,.,fk. 
The conclusion follows at once. 
The algebraic properties considered above are valid for all (open) 
domains 
U. 
On the contrary, unique factorization in 
N(U) 
is an 

134 
algebraic property which depends essentially on the geometry of the 
domain 
U; 
namely, on the triviality of its first cohomology group 
(cf. Bochnak-Efroymson [25; 
§4], 
where further references are given, 
and Risler 
[31] 
for simple examples). 
B. 
NASH FUNCTIONS AND REAL ALGEBRAIC GEOMETRY. 
In order to understand the relevance of Nash functions for real 
algebraic geometry, we underline the basic fact that in the classical 
theory of algebraic curves, the notion of a branch 
is defined in terms 
of analytic parametrizations; 
see Walker 
[15; Ch. IV, §2]. 
For example, the branches of the curve 
y2 _ (X 3 + X 2) 
considered in 
Example 
6.5, are given by the functions 
b i : (-i, +~) ÷~, 
i = 1,2, 
defined as follows: 
(-i) i ~ 
+ X 2 
for 
-I<X~0 
bi(x) 
(-l) i+l ~X 3 + X 2 
for 
0 ~X 
(where ~Fdenotes the positive value of the square root). 
These func- 
tions are analytic branches (exercise), and they are obviously s.a. 
I 
I 
\bz 
The s.a. function 
f:[-l, +~) ÷If 
defined by 
f(x) = min {y c]R I y2 = x 3 + x 2} 
is continuous but not analytic, thus not a branch. 
f 

135 
As a second example consider the curve 
y2 _ X 3 + X 2 
of Example 2.5 
(a). 
Its only branch is given by the map 
2 
3 
2 
b(y) = 
the unique × such that 
y 
= x 
- x , and 
x > 1/2 
defined on A 
(we have to give it in this form in order to have a func- 
tion). 
It is a remarkable fact that the description of Nash functions illustrated 
by the preceeding examples gives their general form. 
Every Nash function, 
in any number of variab!es is, in a suitable sense, a "branch" of an alge- 
braic variety. 
(Compare with the description of continuous s.a. given by 
Proposition 9.2). 
The precise result is as follows: 
THEOREM I0.ii. (Artin-Mazur). 
Let 
U 
be an open, connected, s.a. sub- 
set of A n 
and 
f:U ÷A. 
The following are equivalent: 
(i) 
f 
is Nash. 
(ii) 
There is 
q ~ n+l, an irreducible affine variety 
V 
given by poly- 
, 
> :U ÷ 
VOR) 
nomials 
in 
q 
variables, 
a continuous 
s.a. 
map 
s = < Sl,... 
Sq 
and a polynomial 
P ~A[X1,...,X 
q] 
such that: 
(a) 
V 
is gtale 
over 
A. 
(b) 
(pr F V(A)) 
o 
s = idu, 
where 
pr 
: A q ÷A n 
denotes 
the pro- 
jection 
onto the first 
n 
coordinates. 
(c) 
f = Pos. 
The proof is far outside the scope of this survey; 
see Artin-Mazur [24] 
and Roy 
[32] 
for details and further uses of this characterization. 
Condition (a) 
has a deep geometric significance, but the mere presenta- 
tion of it requires the use of heavy machinery from commutative algebra; 
see Raynaud [12]. 
Since this condition will not be used explicitly, we 
omit further explanations, but point out for later use the following con- 
sequences of conditions 
(a) - (c) above: 
10.12 
FACT. 
With the notations of Theorem I0.i!, we have: 
(j) 
The functions 
s I ..... Sq 
are Nash. 
(jj) 
The map 
pr r V(A) 
is locally injective. 
D 
The following exercise gives a clue as to why Nash functions do not appear 
is classical algebraic geometry. 
Exercise. 
Let 
f:C n ÷ C 
be a holomorphic 
(=complex analytic) function. 
If 
f 
is globally algebraic over polynomials 
(in the sense of Definition 
9.1), then 
f 
is a polynomial. 
[Hint: use Liouville's theorem, Dieudonn~ 
[17; 9.11.1].] 

136 
C. 
THE SEPARATION THEOREMS. 
Now we will consider the problem of finding a simple class of 
s.a. functions having the following separation property: given two dis- 
joint closed s.a. sets CI, C2, 
there is a function 
f 
in the class such 
that 
f ~C I >0 
and 
f ~C 2 < 0. 
It is known that polynomials are not sufficient to separate closed s.a. 
sets; 
the sets of Figure ii provide a counter-example. 
It turns out 
that Nash functions - even Nash functions of a particularly simple form 
- 
have the required separation property. 
DEFINITION 10.13. 
Let 
U ! An 
be open s.a. 
We define 
R(U) to be 
the smallest subring of 
C( IR n) containing the polynomials and such that: 
(i) 
If 
f e ~ R(U) 2 
is such that 
f > 0 
on IR n, then I/f E R(U). 
(ii) 
If 
f ~ ~ R(U) 2 
is such that 
f > 0 
on 
U, then ~-E 
R(U). 
The ring 
R(U) can be constructed inductively as follows: for a ring 
B ¢_ C(An), let 
B (I) denote the ring generated over 
B 
by all functions 
~, 
with 
f ~ ~ B 2 
and 
f >0 
on U. 
Let 
B (°) 
= 
B 
B (n+l) 
= 
(B(n)) (i) 
B (~) 
= 
U B (n) 
n~ 
Let 
S B 
denote the multiplicative subset of 
B 
of all functions f ~ ~ B 2 
such that 
f > 0 
on I~ n. 
Then 
R(U) is the localization of 
IR[X I ..... Xn](~) 
at the set 
S ~[x I ..... Xn ](~) 

t37 
Observe that the functions in 
R(U) are continuous on A n and Nash on U; 
condition 10.13 (ii) is introduced in order to make this true, since 
#f 
is not analytic at any zero of 
f. 
THEOREM 10.14. Let 
CI, 
C 2 
be disjoint closed s.a. subsets of~ n. 
Then there is 
f c R(~ n) - even 
f E (~[X]s 
)(I) _ such that f ~C 1 > 0 
REX] 
and 
f rc 2 < o. 
D 
PROPOSITION 10.15. 
Let 
U ! ~n be open s.a. 
Then there is f c R(U) 
such that 
f r u>0 
and 
f r(~n-u) = 0. 
A relative separation theorem is obtained from 10.14 and 10.15: 
THEOREM 10.16. 
Let 
U _cA n 
be open s.a. and 
CI,C 2 be closed s.a. 
subsets of U. 
Then there is f ~ R(U) such that 
f FC I >0 
and 
f FC 2 <0. 
D 
Various proofs of these results, due to Mostowski, can be found in 
Efroymson [27; §i] 
and Bochnak - Efroymson [25; §5]. 
As a corollary we 
have the following result of Risler [31]: 
COROLLARY 10.17. 
Let 
P 
be a prime ideal of 
N(U), where 
U i An 
is an open, connected s.a. set. 
Then 
Z(P) is connected. 
PROOF. 
By Corollary i0.I0 there are 
gl ..... gr eP 
such that 
r 
Z(P) = ~ 
Z(gi). 
Hence 
Z(P) is s.a. and has finitely many connected 
i=l 
con~onents (Theorem 5.8). 
If 
Z(P) is not connected, there are disjoint 
s.a. subsets 
CI,C 2 of 
Z(P), closed in A n, such that 
CIUC 2 = Z(P). 
Let 
f E R(U) be such that 
f rC 1 >0 
and 
f ~C 2 <0. 
Let us now define 
= 
2 
f2 
hi 
/~ 
gi + 
+ (-l)i f 
for 
i = 1,2. 
i=l 
Then 
hlh 2 
r 
2 
= 
E 
gi cP, 
but 
h 1% P because 
h I l'C 1 = 0 
and h I~C 2 >0. 
i=l 
Similarly h 2 ~ P, contradicting that 
P 
is prime. 
D 
REMARK. 
The proof shows that the result holds for any subring A of 
N(U) 
which contains 
~, 
whenever 
f e A and 
f > 0 
on U. 
§Ii. 
THE SUBSTITUTION THEOREM; "STELLENSATZE". 
In this paragraph we prove another central result in the theory 
of Nash functions: the substitution theorem. 
We use it later to derive 
a number of 
"stellens~tze" for the rings 
N(U) and many of its subrings. 
A. 
THE SUBSTITUTION THEOREM. 
If 
K 
is a real closed field containing 
~, 
S c ~ n 
is a s.a. 

138 
set and 
f:S ÷ ~ a s.a. function, it is clear that the formulas (with 
parameters in ~) defining 
S 
and 
Gr(f) are interpretable in K, and 
define, respectively, a s.a. subset of 
K n, denoted by 
S K, and a 
K-valu- 
ed function on 
S K, denoted by 
fK. 
The substitution theorem says that 
any ring homomorphism 
~: N(U) + K 
is the evaluation homomorphism at 
some point of 
U K, 
Precisely: 
THEOREM II.I (The substitution theorem). 
Let 
U c Rn be an open, 
connected s.a. set, 
K 
a real closed field containing ~, and 
4: N(U) + K 
an R=algebra homomorphism. 
Then : 
(i) 
<~(~i ) .... , ~(~n)> E U K, 
where 
~i ..... ~n denote the projection 
maps, 
~i(Xl ..... x n) = x i. 
(ii) 
For every f E N(U), 
~(f) = fK(~(~ I) ..... ~(~n)). 
PROOF. 
Observe that 
(i) gives a sense to (ii). 
The proof proceed in the 
following steps: 
(I) 
We prove (ii) for 
f E R(U). 
Since any such 
f 
is defined on 
~n, this makes sense even in the absence of 
(i). 
(II) 
We prove 
(i). 
(III) 
We prove (ii) for arbitrary f e N(U). 
STEP I. 
Condition (ii) is clear for polynomials. 
By the inductive cons- 
truction of 
R(U) it suffices to prove that for 
h~ c(~n), 
h e0: 
(a) if 
(ii) 
holds for 
h 
and 
h rU>0, 
then (ii) holds for f = ~; 
(b) if 
(ii) 
holds for 
h 
and 
h >0, then (ii) holds for f = i/h. 
PROOF of (a). Since 
f2 = h, we have 
~(f)2 = ~(h) 
= 
hK(~(~)) = fK(~(~))2, 
where 
~(T) = <~(~i ) ..... ~(~n)>. 
In order to conclude that ~(f)=fK(~(~)) 
it suffices to show that both sides are non-negative, 
The right-hand side 
is e 0 
for we have assumed that 
f ~ 0. 
But we also have: 
(*) 
¢(f) >0 
for any f E N(U) such that 
f >0 on 
U. 
Indeed, as we have I/~eN(U), 
then 
~(f).#(I/~)2 = !; 
this implies that 
~(f) >0. 
The proof of 
(b) is similar. 
STEP II. 
By Proposition 10.15 let 
f e R(U) be such that 
f ~U > 0 
and 
f ~(~n 
_ U) = 0. 
Then the first-order statement 
(**) 
Yx (x E U<-->f(x) > 0) 
holds in ~, and hence in K. 
By (*) we have 
%(f) > 0, and by (I), 

139 
fK(~(~)) >0, 
It follows from (**) that 
~(~)E U K. 
STEP III. 
Now we use the Artin-Mazur characterization of Nash functions 
(Theorem i0,ii). 
Therefore, let 
q ~n+l, 
P1 .... ,P£~ ~[X 1 .... ,Xq] be 
polynomials defining a variety 
V, 
s = <s I .... ,Sq >:U + V(~) 
a continuous 
s.a. function and 
P 
a polynomial, 
so that conditions I0.II (a)-(c) - and 
hence also 10.12 (j), (jj) - hold. 
Clearly, it suffices to prove (ii) for the functions 
s I ..... Sq. 
Put 
W = pr-l[u] 
and 
X = V(~) nW. 
The set 
s[U] obviously is connected, and we prove next that it is clopen 
in 
X (hence a connected component of 
X). 
Indeed, if 
y 
belongs to the 
closure of 
s[U] in 
X, then 
~ = lim s(u~ 
n 
for some sequence u n ~ U. 
By 
continuity and 
pro s = idu(10.11(b)) we conclude that 
s(pr(y)) = lim s(u n) = y, i.e. 7 ~ s [U]. 
Hence 
s[U]is closed in X. In 
order to see that 
s[U] is open in X, let 
ucU, 
and using 10.12 (jj) 
choose an open set 
0 c~q 
so that 
s(u) c 0 n X 
and 
pr 
is injective on 
0 nX. 
Using 10.11(b) it is checked at once that 
0 nX ! s[U], which 
proves our contention. 
Now we invoke the separation theorem 10.16 to get 
h c R(W) such that 
h F s[U] > 0 
and 
h T (X - s[U]) <0. 
It follows from this situation that 
the first-order statement 
(***) 
Vx~U V ~  q [z ~VnW 
^ h(~) >0 ^ pr(z) = ~ ÷ z = s(x)] 
holds in ~. 
By transfer it holds in K. 
Specializing to 
= <~(s I) ..... ~(Sq)> 
and 
~ = <~(~i ) ..... ~(nn)> = ~(~) (which is in U K 
K 
by (i)), the consequent of (***) is the equality 
~(s i) = si(~(~)), 
i = 1 ..... q, which we want to prove. 
It suffices, then, to check that 
the premises of (***) hold in K. 
- 
prK(~) = 
Irmnediate from 
pro s = idu(10.11(b)). 
- 
hK(z) > 0. 
By (I), 
~(hos) =(hos) K (~(~)) = hK(z). 
Since 
h >0 
on 
s[U], then 
(*) shows that 
~(hos) >0. 
- 
z e(V n W) K. 
Since 
x = prK(z) E U K, 
then 
zcW K. 
As the polynomials P1 .... P£ 
define 
the variety 
V 
and 
s[U] i V(~), 
we have 
£ 
~ VycU 
A 
Pj(s(y)) = O, 
j=l 
that is, the Nash functions P.os 
vanish on 
U; 
therefore 
] 

140 
0 = ~(Pj o s) = P~(~(S)) = 
P~(z) 
for 
j = i ..... £. 
D 
V 
The substitution theorem is due to 
Efroymson [27]. 
The present proof 
is due to Coste [67]; 
for a different proof see Bochnak-Efroymson [25; 
§7]. 
As shown in this paper, the result applies as well to a wide class 
of subrings of 
N(U). 
B. 
APPLICATIONS: 
"STELLENSATZE" ; COMMUTATIVE ALGEBRA OF NASH 
FUNCTIONS. 
Now we show how the substitution theorem can be used to derive, 
by a uniform method, all the "stellens~tze" holding for rings of Nash 
functions. 
These derivations are purely algebraic 
- in fact, they are 
a sophisticated elaboration of Robinson's method to prove Hilbert's 
nullstellensatz - 
and work for any ring of s.a. functions for which a 
substitution theorem is available. 
A "stellensatz" is a result establishing an equivalence between a con- 
dition of the form 
~ 
V~c U [A gi(~) ~0 
^ A hj(~) > 0 ^ A fk(~) = 0 
+ f(~)? 0] 
i 
j 
k 
where 
gl ..... gr' 
hl'''''hp' 
fl .... 'fq' 
f c N(U) and 
? 
is a sign 
condition 
( > , ~ 
or 
= ) and, on the other hand, an equation 
P(gl .... 'gr' 
hi .... ,hp, 
fl .... 'fq' 
where 
P 
is a polynomial with coefficients in 
N(U). 
of 
r,p, q 
may be zero. 
Thus we have: 
THEOREM 11.2. 
(General stellensatz for Nash functions). 
gl,...,gr, 
h I .... ,hp, 
fl .... 'fq' f e N(U). 
(A) 
The following are equivalent: 
(1) 
(2) 
f) = 0 
Here, one or more 
Let 
(B) 
f(~) >_ 0 
R > V~U[A 
gi(~) _>0 ^ A hj(~) >0 ^ A fk (~) = 0 ÷f(~) >0]. 
i 
j 
k 
There are 
t,S,Uk~N(U ) 
and 
sj ~{0,i} (l_<j _<p, l_<k_<q) 
where 
s,t 
are of the form 
F(g I .... 'gr' 
hl ..... hp), with F 
a polinomial whose coefficients are squares in 
N(U), such that 
f-t = s + H he. j + 
j 
J 
~fk~k" 
Similarly, a condition of type (A.I) with 
f(x) >0 
replaced by 
is equivalent to a polynomial equation 

141 
for some 
(O 
equivalent to 
E. 
f-t = (Hh. j) f2£ + s + ~ fkUk , 
j J 
k 
£->0 
and 
s,t, u k, sj 
as is 
(A). 
A condition of type 
(A.I) with 
f(x) = 0 instead of f(x) > 0 
is 
h~ j ) f2£ 
( ~ 
+ s + kl fkuk = 0 
with 
£ el 
and 
S,Uk, ej as in (A). 
Each of the equivalences (A), (B), (C) is derived from a corresponding 
"formal stellens~tz". 
For example, the result needed for 
(A) 
is: 
PROPOSITION 11.3. (Formal positivstellensatz). 
Let 
A 
be a commuta- 
tive ring with unit, and: 
(a) 
S a sub-semi-ring of A(= a subset of A 
closed under sum and 
product, but not necessarily under difference) containing the 
squares. 
(b) 
M 
a multiplicative subset of A 
containing i. 
(c) 
I 
an ideal of A. 
(d) 
f c A. 
Then, the following are equivalent: 
(i') 
For every ring homomorphism 
~:A ÷ K, with 
K 
a real closed 
field, we have: 
~[S] ~0, 
~[M] >0 
and 
~[I] = 0 
imply 
~(f) >0. 
(2') 
There are 
s,t e S, m£M and 
u e I such that 
f.t=s+m+u 
PROOF of : Proposition !1.3 
implies Theorem 
II.2(A). 
The implication (A.2) implies (A.I) is checked without difficulty. 
(A.I) implies (A.2). 
As it is obvious, we apply 
11.3 with 
A = N(U) and: 
= 
h.' 
and the squares. 
S 
the sub-semi-ring generated by the gi's, the ,~ 
s s 
M = the multiplicative subset generated by the hj 
. 
I = the ideal generated by the 
fk's. 
It suffices to derive condition (I') of 11.3 from condition (A.I) of 
Theorem 
11.2. 
This is done using the substitution theorem, as follows: 
Let ~ be a homomorphism verifying the assumptions of 
(i'); thus we 
have: 
~(gi ) ~0, 
~(hj) >0, 
~(fk ) = 0 
for all i,j,k. 

142 
By the substitution theorem we get: 
giK(*(Y)) e0, 
h~(~(~)) >0, 
f~(~(~)) = 0 
The assumption 
(A.I) then yields 
fK(~(T)) >0, and by substitution 
again, we conclude 
~(f) >0. 
D 
The "formal stellens~tze" are, in turn, a consequence of: 
11.4 The pivotal lemma. 
Let 
A 
be a commutative ring with unit and I, 
T, N be subsets of A 
such that : 
(a) 
T is closed under multiplication. 
(b) 
I c T is an ideal of A. 
(c) 
i) 
-ioN. 
ii) 
x,ycN implies 
-(xy)eN. 
iii) 
(-N). Z TA 2 c ETA 2 . 
Then, the following are equivalent: 
(i") 
N n ETA 2 
# 
0. 
(2") 
For every prime ideal 
P 
of A containing 
I, if L denotes 
of A/p, we have: 
the fraction field 
n 
" L 2 
N/p 
E T/p 
# 9. 
D 
We omit the purely algebraic proof of this result, which can be found 
in Dickmann 
[72; Ch. V]. 
This is a generalization of Colliot-Th~lene 
[44; Lemma l.bis], who proves it in the case 
I = (0) and N = {-i}. 
However, we give the 
PROOF OF 
: Lemma 11.4 implies Proposition 11.3. 
The implication (2') 
implies (I') in 11.3 is evident. 
(i') implies (2'). 
Assume not (2'); this just says: 
(*) 
-M n ((S-f S) + I) = 9. 
We apply Lemma 
11.4 with 
N = -M and 
T = (S=f.S) + I, leaving as 
an easy but tedious exercise for the reader the task of checking that 
the assumptions (a)-(c) of 11.4 are fulfilled. 
The equality (*) amounts to the negation of condition (i") of 11.4. 
Then, by (2"), there is a prime ideal 
P 
containing I such that 
.L 2 
(**) 
N/pn Z T/p 
= 9. 
Z L 2 
This means that 
L 
admits an order, 
Since 
fl cM, then 
-i ~ ~ 
. 
~, 
which makes 
T/p e0. 
~Let K 
be the real closure of 
<L,~> and 
~:A ÷ K the canonical homomorphism, 
~(a) = a/p. 
Then we have %IT] e0, 

143 
which implies: 
(***) 
~[S] e0, 
~(f) ~0 
and 
~[M] ~0, 
as 
S ! T, 
-f • T by definition and 
M .ETA 2 ! ETA 2 by (c.iii). 
By (**) we get 
~(x) # 0 for 
x•M, i.e. 
(****) 
~[M] > 0. 
Since 
I c p 
we have 
(*****) 
$[I] = 0 
Conditions (***), (****) and (*****) contradict (I'), which proves 
Proposition 11.3. 
D 
We mention a few amongst the numerous corollaries of Theorem 11.2. 
PROPOSITION 11.5 (Real nullstellensatz 
for Nash functions). 
Given an ideal 
I 
of 
N(U) 
and 
f ~ N(U), the following are equivalent: 
(i) 
f vanishes on 
Z(I). 
(ii) 
f • ~I. 
In particular, 
I is real iff for every f • N(U), f rZ(I) = 0 implies f • I. 
PROOF. 
The implication (ii) implies (i) is trivial. 
Conversely, by 
Corollary i0.i0 there are 
fl .... 'ft ~ I 
such that 
Z(I) = N Z(fk); hence 
k 
condition (i) is equivalent to 
R ~ V~• U [Ifk(~) = 0 ÷ f(x) = 0]. 
By Theorem 
ii.2(c) 
(with r,p = 0) this is equivalent to 
f2£c I 
for some 
£ _> i, 
which implies f c R¢~. 
REMARK. 
The proof shows that 
R~-coincides 
with 
Rad(I), the radical 
of I. 
In particular we have: 
COROLLARY 11.6. 
Let 
U c 1% n be an open connected s.a. set. 
Every 
maximal ideal of 
N(U) is real, and the map: 
a; : M~a = {f~N(U) 
I f(a) = O} 
establishes a one-one correspondence between points of 
U 
and maximal 
ideals of N (U) . 
PROOF. 
A maximal ideal is always radical; 
by the remark above, it is 
also real. 
Since 
M 
is proper, 11.5 also shows that 
Z(M) # #. 
Let 
• Z(M); 
then 
M _c M~ 
and, by maximality, 
M = M~. 
PROPOSITION 11.7. 
(Solution of Hilbert's 17th problem for Nash 

144 
functions). 
Let 
U !~ n 
be an open, connected s.a. domain and 
f e N(U). 
If 
f ~0 
on 
U, then 
f 
is a sum of squares in the fraction field of 
N(U). 
PROOF. 
By Theorem 
II.2(B) (with r = p = q = 0), we get 
f.t = f2l + s, 
where I is an integer and 
s,t 
sums of squares in N(U). 
D 
Further results in the same vein are reported in Bochnak-Efroymson [25]. 
As remarked earlier, Theorem 11.2 holds for any ring of real-valued s.a. 
functions for which the substitution theorem holds. 
Trivially, this is 
the case for the polynomial ring 
IR[XI,...,Xn]. 
Thus we get back, with 
a uniform proof, generalized versions of earlier semi-algebraic stellensatze: 
the real nullstellensatz 4.8 (as in Proposition 11.5) when there are no 
' 
hj' 
gi s or 
s but we allow the 
fk s; 
the equivalence (c) of Theorem 
' 
' 
hj' 
11.2, when there are no fk s but we allow the 
gi s and the 
s, is the 
semi-algebraic real nullstellens~tz of Stengle [58]; 
when there are no 
fk's or hj's but we allow the gi's, the equivalence 
II.2(B) is Stengle's 
nicht-negativstellens~tz. 
I. 
Algebra; 
[ i] 
Atiyah, M. & 
Macdonald,I.G. 
[ 2] 
Chenciner, A. 
[ 3] 
Hartshorne,R. 
[ 4] 
Jakobson,N. 
[ 5] 
[ 6] 
[ 7] 
[ 8] 
[ 9] 
[i0] 
[II] 
[12] 
Lafon, J.P. 
Lang,S. 
Matsumura,H. 
Mumford, D. 
Nagata, M. 
Raynaud,M. 
REFERENCES 
con~nutative algebra; 
algebraic geometry: basic texts. 
Introduction to Commutative Algebra, Addison- 
Wesley Publ.Co. (1969). 
Courbes Algebriques Planes, Publ.Math.Univ. Paris 
VII, (1980) 
Algebraic Geometry, Springer-Verlag (1977). 
Lectures in Abstract Algebra, vol.III,Van Nostrand 
Inc., (1964). 
Basic Algebra, 2 vols. W.I. Freeman (1974). 
Anneaux Hens~liens, Univ. Sao Paulo, (1968). 
Algebre Commutative, Hermann, Paris (1977). 
Algebra, Addison-Wesley Publ.Co.,(1971). 
Commutative Algebra, W.Benjamin (1970). 
Introduction to Algebraic Geometry, mimeographed. 
Local Rings, Interscience Publishers, (1962). 
Anneaux Locaux Hens~liens, Lect.Notes Math. 169 
Springer-Verlag (1970). 

145 
[13] 
Ribenboim, P. 
[ 14 ] Shafarevich, 
I.R. 
[15] Walker, R. 
[16] 
Zariski, 0. & 
Samuel, P. 
L'arithm~tique des corps, Hermann, Paris (1972). 
Basic Algebraic Geometry, Springer-Verlag (1977). 
Algebraic Curves, 
Springer-Verlag (1978). 
Commutative Algebra a 2 vols., Van Nostrand Inc., 
(1958), (1960). 
II. 
El7] 
[18] 
Analysis : basic texts. 
Dieudonn~,J. 
Foundations of ModernAnalysis , Academic Press (1960). 
Hormander,L. 
Linear Partial Differential Operators, Springer- 
.... 
•er•ag (1963). 
See also : [85]. 
III. 
Hilbert's 
E19] 
Artin,E. 
[203 
Delzell,C. 
[21] McKenna,K. 
E22] 
Robinson,A. 
[23] 
See also: 
IV. Nash functions. 
17 th problem. 
Uber die Zerlegung definiter Funktionen in Quadrate, 
Abh.Math.Sem.Univ.Hamburg 5(1927),pp.i00-I15. 
A constructive, continuous solution to Hilbert's 
17 th problem and other results in semi-algebraic 
geometry, Doctoral dissertation, Stanford Univ. 
(1980). 
New facts about Hilbert's seventeenth problem, 
in ModelTheory and Algebra~ A Memorial Tribute to 
A. Robinson, Lect.Notes Math 498(1975), pp.220-230. 
On ordered fields and definite functions. Math. 
Ann. 130(1955),pp. 257-271. 
Further remarks on ordered fields and definite 
functions, Math.Ann. 130(1956),pp. 405-409. 
[25], [723, [74], [81], [83], [86]. 
[24] Artin,M. & 
Mazur,B. 
E25] Bochnak,J.& 
Efroymson,G. 
[26] 
On periodic points, Ann. Math. 81(1965),pp.82-99. 
Real algebraic geometry and the 17 th Hilbert 
problem, Math.Ann. 251(1980), pp.213-241. 
An Introduction to Nash Functions, in [66], pp.41-54. 

146 
[27] Efroymson, G. 
Substitution in Nash Functions. 
Pacific J.Math. 
63(1973), pp.137-145. 
[28] 
~ojasiewicz,S. 
Ensembles semi-analytiques, mimeographed, I.H.E.S. 
(1965). 
[29] Nash,J. 
Real algebraic manifolds, Ann.Math. 56(1952)pp. 
405-421. 
[30] 
Palais,R. 
Equivariant, real algebraic, differential topology. 
I. Smothness categories and Nash manifolds, notes, 
Brandels Univ. (1972). 
[313 
Risler, J.J. 
Sur l'anneau des fonctions de Nash globales, Ann. 
Sci.Ecole Norm. Sup. 8(1975), pp.365-378. 
[32] 
Roy,M.F. 
Faisceau structural sur le spectre r~el et fonctions 
de Nash, in [663, pp. 406-432. 
See also 
: [66], [67], [72]. 
V. Quantifier elimination; model the0ry. 
[33] 
Chang,C.C.& 
Mod@l Theory, North-Holland (1973). 
Keisler,H.J. 
[34] 
Cohen,P.J. 
Decision procedures for real and p-adic fields, 
Comm.Pure Appl.Math. 22(1969), 131-151. 
[35] 
Collins, G.E 
Quantifier elimination for real closed fields by 
cylindrical algebraic decomposition, in Automata 
Theory and Formal Languages, 2 nd G.I. Conf., Kaiser- 
slautern (1975), Springer-Verlag pp. 134-184. 
[363 
Fischer, M.J.& Super-Exponential Complexity of Presburger's 
Rabin,M.O. 
Arithmetic, M.I.T. MAC Tech.Memoo 43, (1974). 
[37] Kreisel, G. & 
Elements of Mathematical Logic (Model Theory) 
Krivine,J.L. 
North-Holland Publ.Co.,(1967). 
[383 Macintyre, A., 
Elimination of quantifiers in algebraic structures, 
McKenna,K. &van 
den Dries,L. 
Adv.Math. 47(1983), pp. 74-87. 
[39] Monk,L. 
Effective-recursive decision procedures. Doctoral 
Dissertation, Univ. California, Berkeley (1975). 
[40] 
Tarski,A. 
A de qision method for elementary algebra and gePmetry 
2nd. revised ed., Berkeley, Los Angeles (1951). 
[41] 
van denDries,L 
A linearly ordered ring whose theory admits quanti- 
fier elimination is a real closed field, Proc. 
Am.Math. Soc. 79(1980),pp. 97-100. 

147 
See also: [22], [23], [55], [72], [82], [86]. 
VI. 
Real closed, fi.9.!ds; real commutative algebra. 
[42] Artin,E.& 
Algebraische Eonstruktion reeler K~rper,, Abh. 
Schreier,O. 
Math. Sem.Univ.Hamburg 5(1926),pp. 85-99. 
[43] 
Eine Kennzeichnung der reell abgeschlossenen Korper, 
Abh.Math. Sem. Univ.Hamburg 5(1927),pp.225-231. 
[44] 
Colliot-Th~l~ne, Variantes du Nullstellens~tz r~el et anneaux 
J.L. 
formellement r~els, in [66], 
98-108. 
[45] 
Dubois,D.W. 
A note on D.Harrison's theory of preprimes, Pacific 
J.Math. 21(1967),pp. 15-19. 
[46] 
A nullstellens~tz for ordered fields, Arkiv f~r 
Math. 8 (1969), pp.lll-ll4. 
[47] 
Dubois,D.W.& 
Algebraic theory of real varieties, in Studies and 
Efroymson,G. 
essays presented to Yu-Why Chen on his 60th birth- 
day, Taiwan Univ. (1970). 
[48] Elman,R., 
Orderings under field extensions, J.Reine Angew. 
Lam,T.Y. & 
Math. 306(1979),pp. 7-27. 
Wadsworth,A. 
[49] 
Gross,H. & 
0her die Eindeutigkeit des reellen Abschlusses eine 
Hafner,P. 
angeordneten K@rpers, Comm.Math.Helvetici 44(1969), 
pp. 491-494. 
[50] Knebuseh,M. 
On the uniqueness of real closures and the exis- 
tence of real places, Comm.Math.Helvetici 47(1972), 
pp.260-269. 
[51] Krivine,J.L. 
Anneaux pr4ordonn~s, J.Anal.Math. 21(1964),pp. 
307-326. 
[52] Lang,S. 
The theory of real places, Ann.Math. 57(1953), 
pp. 378-351. 
[53] 
Lam,T.Y. 
The theory of ordered fields, in Ring Theory and 
Algebra llI, B.McDonald(ed), M.Dekker,(1980), 
pp.l-152. 
[54] Lam,T.Y. 
An introduction to real algebra, mimeographed, 
Univ.Calif.Berkeley (1983). 
[55] 
Prestel,A. 
Lectures on Formally Real Fields, IMPA, Rio de 
Janeiro (1975). 
[56] 
Ribenboim,P. 
Le th4r~me des z4ros pour les corps ordonn4s, in 
Sem.Alg.et Th.Nombres, Dubriel-Pisot, 24 e annie, 
1970-71, exp. 17. 

148 
[57] 
Risler, J.J. 
Une car~ct~risation des id~aux des vari~t~s alg~bri- 
ques r~elles, C.R.A.S.(1970), pp. 1171-1173. 
[58] 
Stengle,G. 
A Nullstellensatz and a Positivestellensatz in 
semi-algebraic geometry, Math.Ann.(1974),pp. 87-97. 
See also: [13], [20], [21], [22], [23], [65], [66], [72], [74]. 
Real spectra and ditribution of signatures, in 
[66], pp. 249-272. 
[60] 
Carral,M. & 
Normal Spectral Spaces and their Dimensions, 
Coste,M. 
J.Pure Appl. Algebra 30(1983),pp. 227-235. 
[61] 
Coste,M. & 
Spectre de Zariski et spectre r~el: du cas classique 
Coste-Roy,M.F. 
an cas r~el, mimeographed, Univ. Catholique Louvain, 
Rapport 82 (1979). 
[62] 
La topologie du spectre r~el in [74], 
pp. 27-59. 
[63] 
Hochster,M. 
Prime ideal structure in commutative rings, 
Trans.Amer.Math.Soc. 142(]969),pp. 43-60. 
[64] 
Knebusch,M. 
An invitation to real spectra, in Proc.Conf.Quadra- 
tic Forms. Hamilton, Ontario (1983) (To appear). 
See also: [32],[69],[72]. 
VIII. 
Topology of semi-algebraic sets. 
[65] 
Brumfiel, G.W. Partially Ordered Rings and Semi-Algebraic Geometry. 
London Math.Soc.Lect.Notes 37(1979), Cambridge 
Univ. Press. 
[66] 
Colliot- 
(eds). 
G~om~tric Alg~brique .R~elle et Formes 
Th~lene,J.L. 
Quadrati~ues Lect.Notes Math. 959 Springer-Verlag 
Coste,M.,Mah~,L 
' 
' 
& Roy,M.F. 
(1982). 
[67] 
Coste,M. 
Ensembles semi-alg~briques et fonctions de Nash, 
Pr~publications math~matiques 18(1981),Univ. 
Paris Nord. 
[68] 
Ensembles semi-alg~briques, in [66], 109-138. 
[69] 
Coste,M. & 
Topologies for real algebraic geometry, in Topos- 
Coste-Roy,M.F. 
Theoretic Methods i n Geometrx , A. Kock (ed). 
Aarhus Univ. (1979), pp. 37-100. 
VII. 
Spectra. 
[59] 
Brocker,L. 

149 
[70] 
Delfs,H. 
[71] 
Delfs,H. & 
Knebusch,M. 
[72] 
Dickmann,M.A. 
[733 
[74] 
Dubois,D.W.& 
Recio,T. 
[75] Hardt,R. 
[76] 
Houdebine, J. 
[77] 
Mather,J. 
Kohomologie affiner semi-algebraischer Raume, 
Doctoral dissertation, Univ. Regensburg (1980). 
Semialgebraic topology over a real closed field. 
Iio : Basic theory of semialgebraic spaces, Math. 
Zeit. 178(1981), pp. 175-213. 
Logique, alg~bre r~elle et g~om~trie r~elle, 
manuscript notes, Univ. Paris VIII (1983) (To 
appear). 
Sur les ouverts semi-alg~briques d'une cl~ture 
r~elle, Portugalia Math. 40(1984). 
(eds), Ordered fields and real algebraic geometry ,, 
Comtemporary Math. 8, Amer.Math.Soc. Providence, 
R.I. (1982). 
Semi-algebraic local triviality in semi-algebraic 
mappings, Amer.J.Math. 102 (1980),pp. 291-302. 
Lemme de s~paration, mimeographed, Rennes (1980). 
Stratifications and mappings, in Dinamical Systems, 
M.Peixoto (ed), Acad.Press (1973),pp. 195-232. 
[78] 
Recio,T. 
Una descomposicidn de un conjunto semialgebraico, 
Actas V Reuni6n de Materm~ticos de Expresi6n Latina, 
Mallorca (1977). 
[79] 
Van den Dries, 
An application of a model-theoretic fact to (semi-) 
L. 
algebraic geometry, Indag.Math. 44(1982),pp.397- 
401. 
[80] Whitney,H. 
Elementary structure of real algebraic varieties, 
Ann. Math. 66(1957),pp. 545-556. 
See also: [18], [20], [27], [28], [47], [57], [58], [62]. 
VIII. 
Various. 
[81] 
Becker,E. & 
Jacob,B. 
[82] 
Cherlin,G. & 
Dickmann,M.A. 
[83] 
Dickmann,M.A. 
Rational points on algebraic varieties over a 
generalized real closed field: a model-theoretic 
approach, mimeographed (1983),33 pp. 
Real Closed Rings. 
II: Model theory, Ann.Pure 
ApploLogic 25(1983),pp.213-231. 
On polynomials over real closed rings, in Model 
Theor~ O f Alsebra and Arithmetic, L. Pacholski,J. 
Wierzejewski, A.J. Wilkie(eds), Lect.Notes Math. 

150 
834 , Springer Verlag (1980),pp. 117-135. 
[84] 
Dickmann,M.A. 
A property of the continuous semi-algebraic func- 
tions defined on a real curve, (To appear). 
[85] 
Gillman, L.& 
Rings of Continuous Functions, van Nostrand Rein- 
Jerison,M. 
hold Co. (1960). 
[86] 
Prestel,A. & 
Formally. pFadic Fields, Lect.Notes Math. 1050 
Roquette,P. 
Springer-Verlag (1984). 
[87] 
Van den Dries,L.Remarks on Tarski's problem concerning 
< ~, +, • , exp >, manuscript (1981) pp.25. 
See also : [24]. 

ON 
THE 
SPACE 
(%)K 
Carlos A.Di Prisco 
I.V.I.C. 
Departamento de MatemAticas 
Apartado 1827 
Caracas 1010A, Venezuela 
Wiktor Marek 
Dept.Computer Science 
University of Kentucky 
Lexington, KY 40506-0027 
U.S.A. 
§i. 
The space (%)< = {P i~I order type of P = ~} appears naturally 
in the study of large cardinals and is specifically related to the so called 
huge cardinals. 
As it is shown in [S.R.K.] , a cardinal K is huge with 
target ~ (c.f. also [B.D.T.]) if there is a 
K-complete normal non-trivial 
ultrafilter on 
(%)K 
containing the sets of the form 
p = {Pc(%)<I p~P} 
for 
p ~ PK(~). 
Since any ultrafilter on the set 
[%]K = {p ! %1 IPI = K} with the proper- 
ties mentioned above (N-complete, normal and fine) concentrates on (%)K 
the existence of such ultrafilter on [l]r is also equivalent to hugness 
of K with target ~. 
In 
[DP.M2] we constructed F~,%, the least K-complete, fine, normal non- 
trivial filter on [%]K , which permitted us to complete the following table 
Large cardinal 
property 
Related 
combinatorial 
structure. 
Normal Measure 
on 
(K measurable) 
Closed unbound- 
ed subsets of 
Normal Measure on 
P~(~) 
(K %-supercompact) 
Closed unbounded 
subsets of PK(X) 
Normal measure 
on [%]K 
(K÷(~)) 
FK,~ 
This raises the following question, could the table be also completed putt- 
ing a combinatorial structure on (%)K instead of FK,%?. 
The purpose of 
this note is to show that there is no such possibility: there is no combi- 
natorial "absolute" notion on (%)K 
approximating normal measures on (%)K 
In this way we present results which stress the differences between (~)< 
and 
[%]K studied by Mignone in [Mig.]. 
One should note that the difference 
pointed by Mignone pertains to the situation in which the axiom of deter- 
minateness is accepted, whereas in this paper we work under the axiom of 
choice. 
We would like to thank M. Magidor for providing us with the exact 
statement of Theorem 4. 

152 
Let us recall some results and definitions from 
[DP.M2]: 
Let 
K<% 
be regular uncountable cardinals. 
If X ! PK (%) is a closed unbounded 
subset of PK(%), let 
AX = {Pe[k]KIP is the union of an increasing K-chain 
of elements of X}. 
The sets of the form 
{AxIX 
closed unbounded subset 
of PK(%)} 
generate a K-complete, normal, fine,nontrivial filter on 
[%]K 
called F K,%" 
It is interesting to note that if in the definition of A X we use directed 
sets of elements of X 
instead of 
K-chains we obtain the same filter 
([DP.M2]). 
The following propositions are proved in [DP.M2]. 
PROPOSITION i. 
If V = L 
then 
(%)K is not ~,~stationary. 
0 
PROPOSITION 2. 
FK, k is the least 
K-complete, fine, normal, non- 
trivial filter on [~]~. 
0 
From these propositions we obtain the following 
METATHEOREM: 
If 
ZFC 
is consistent then 
plete, normal, fine, nontrivial filter on 
(~)K,, 
ZFC 
"There is a K-com- 
PROOF. 
Assume the contrary, so ZFC + V=L proves as well that there is a 
nontrivial, 
K-complete, fine, normal filter F on (%)K 
Define a filter 
G on 
[%]K as follows 
XcG ~=~ Xn(%) K e F. 
Then G 
is a 
K-complete, fine, normal, nontrivial filter on 
therefore by proposition 2,FK,~! G. 
But (%)KEG and so (~)K 
stationary contradicting proposition I. 
K 
[ ] and 
is 
F 
O 
The next statement clarifies the situation. 
PROPOSITION 3. 
The following statements are equivalent: 
a) 
(~)~. 
b) 
c) 
PROOF. 
There exists a 
K-COmplete, normal, 
F 
t(k) K 
is such a filter. 
K,% 
(%)~ 
is FK,x-stationary. 
fine, nontrivial filter on 
a) ~ b): 
The argument of the metatheorem shows that (%)K 
is FK, %- 
stationary and therefore 
FK, ~ induces a filter on (~)K 
The other 
implications follow easily. 
O 
The results in 
[DP.M2] 
suggest that perhaps we have that either (%)K 
is 
FK,%-stationary or 
F~,% 
is the CLUB filter on PK+(%) restricted to 
K 
,~-stationary or ~ belongs 
[ ] 
, or equivalently that either (%)< is F K 
to FK, ~ (where ~ = {Pc[%]KI~!P}). (In fact, the first part of the dis- 

153 
junction holds if K is huge with target % and the second occurs if V = L 
or, as it will be shown in the next section if ~ = K+). 
This alternative does not hold in general but we have something close to it: 
THEOREM 4. 
Given regular cardinals 
K<% then either 
~FK, % or 
there is 
K<%'~X 
such that (%')< 
is 
FK,X, stationary. 
v 
PROOF. 
Suppose 
~ ~ F~,% 
then, its complement in [X]~, i.e. the set 
S = {P ! [X]<I<iP},is stationary. 
Considering the function f:S ÷ X defined 
by 
f(P) = first element of 
P 
after the first gap, and using the normali- 
ty of 
FK, % we see that there is an 
FK, % -stationary 
S I ! S such that 
for all 
PcSl,f(p ) 
is a fixed value ~. 
Since 
F 
is fine (i e. contains 
v 
K,X 
" 
all cones 
p = {PeE%]KIpIP} 
for pcPm(%)) 
this ~ cannot belong to 
K. 
th 
Thus 
~eK. 
So, if an element 
P 
of 
S' 
has order type 
>K, its 
element must be above K. 
Therefore, if 
(%)< 
is not 
FK, % stationary 
then a stationary subset 
S 2 of 
S I 
contains only elements of order type 
greater than 
K. 
Define 
g:S 2 ÷ % by 
g(P) = K th element of P. 
There 
is a stationary subset 
S 3 i $2 
and a 
X'<% such that for every p~S 3, 
g(P) = ~, 
From this we conclude that 
(x,)K is 
FK, ~, stationary. 
This is so because 
given 
X ! P~(X') closed and unbounded the set X' ! P<(X) defined by 
X' = {pePK(x) Ipn%'~X} 
is closed and unbounded in PK(X) SO AX,CFK, X. 
The set 
S3nA X, is thus 
FK,x-stationary. 
For PES3nA X, Pn~' 
has order type K and so 
PnX'~Ax,n(X) K. 
0 
The possibility that 
(X)K 
is not 
FK, % stationary and ~ is not in FK, ~ 
(but (y)K is 
FK, Y -stationary for some 
T<X)actually occurs. 
We give an 
example due to J. Henle. 
Consider 
<<y and suppose that < ÷(y), and let %=y+y. 
The set 
A = {P~[x]KIy+[Pny]=P-y} (i.e. 
A is the set of P~[X] ~ such that 
Pny 
is 
"just like" 
P-y). 
This set is in 
F<,% because the set 
X = {p~pK(%)Iy+(pny)=p-y} is club and A X = A. 
Thus 
(x)K 
is not 
FK, %- 
v 
since if 
~ e F< X 
then there is 
stationary. 
We also have that 
~F<,x 
a closed and unbounded set 
X ! PK (%) such that ~ ~ A X. 
But since K<X~y 
there is a bijection 
f 
from 
X to y which is the identity on ~. 
The 
set Y = {f"PlPeX} 
is a closed and unbounded subset of PK(y) such that 
Ay is in 
F~,T and is contained in ~. But this contradicts that 
K+(y) since 
in this case 
(y)< 
is 
F<,y-Stationary. 
§2. 
We consider in this section the case in which X = K +. 
PROPOSITION i. 
Let 
X 
be a closed unbounded subset of 
P (~+). 
Then A X n Ord 
is an unbounded subset of 
m+ 

154 
PROOF. 
Given 
y<K +, 
let 
pEX 
be such that 
y~p. 
We will construct in 
+ 
stages a directed subset of 
X 
whose union is an ordinal in 
K 
greater 
than 
y. 
STAGE i: For each ordinal ~ in 
up-p 
let 
p~ 
containing it. 
Put 
Dl={p~l~up-p}u{p}. 
STAGE 2: Close D 1 to obtain D 2 ~ D 1 such that 
set of 
X. (Note we can obtain such a directed set 
}D21=ID!I+ N0). 
STAGE 2n+l: For every ~ E sup(uD2n)-UD2n let 
pe 
containing it. 
Put 
D2n+l=D2nU{P ]~ sup(uD2n)-UD2n}. 
STAGE 2n+2: Close 
D2n+l to obtain a directed subset of 
containing D2n+l. 
Finally we put 
D = 
u D n- 
n~ 
be an element of 
X 
D 2 
is a directed sub- 
D 2 
such that 
be a set in 
X 
X, D2n+2, 
Clearly 
D 
is a directed subset of 
X 
such that 
uD 
is an ordinal in 
+ 
K 
above y. 
0 
follows from the lemma 
2.6 
of 
[DP.M2] 
that for each 
XsP (K+), X 
It 
unbounded, 
AXnK + 
is a closed subset of 
K +, thus we 
closed and 
have 
shown that 
FK,~+ rK + __c CLUBK+. 
On the other hand, 
CLUBK+ _c FK,K+ rE + 
since this is a ~+-complete normal fine filter on 
K + (it is fine because 
given any 
~ < K +, 
if 
pePK(K +) contains 
~, p 
is a closed unbounded sub- 
set of 
PK(K +) 
and 
A^ ford c K+-~). 
p 
Therefore 
FK,K+ ~=CLUB 
+ 
and so 
(K+) K 
is not 
FK,K+ stationary. On 
the other hand, 
K c FK,K+ rE + because if 
X 
is closed unbounded then the 
^ 
~ 
AXo { 
nK + 
set K = 
-K contains 
( 
$}) 
. 
§3. 
The metatheorem of section i shows that if we want to produce 
(in ZFC) a filter on 
(%)K 
which provides an "absolute" counterpart to 
a measure on 
(%)K, 
we must drop one of the three usual properties: 
K-completeness, 
normality, or fineness. 
The easiest to give up seems to 
be fineness, specially if we can maintain unboundedness of the elements 
of our filter. (That is to say: even if we do not require cones to be in 
the filter, they must be stationary with respect to it). 
Another condi- 
tion we wish to maintain is that, if 
K÷(%) the elements of the filter 
must belong to any normal measure witnessing this fact. 
We will define such a filter modifying a construction from [DP.M2]. 
We say that 
X ! PK(%) is end-unbounded if for all 
p~PK(%) there is q~X 
such that 
P Se q (where p Se q means that 
q 
is an end extension of p). 

155 
A 
Clearly every end-unbounded set is unbounded. 
The cones 
p={qJp!q} are 
not end-unbounded (with the exception of 
$=P<(%)). 
Call SUPERCLUB the 
filter generated on PK(%) 
by the end-unbounded and closed subsets of 
P<(~). 
PROPOSITION. The filter SI~ERCLUB is 
<-complete, normal and non- 
trivial. 
It is not fine but all its elements are unbounded subsets of 
P<(%). 
PROOF. 
Let us first recall a definition from 
[DP.MI]. 
E-CLUB is the 
filter on P<(%) generated by sets which are 
end- unbounded and closed 
with respect to unions of end extension chains of length 
<<. 
This filter 
is 
K-complete and normal but not fine 
([DP.MI]). 
It is easy to verify 
that 
SUPERCLUB=CLUB n E-CLUB 
and thus we have only to prove that 
this intersection is non empty. 
For this, note that the sets 
= {p~PK(~)lorder type of p>~} are in SUPERCLUB. 
D 
+ 
Since 
n{~:~e<}=~, 
SUPERCLUB is not 
< 
complete. 
SUPERCLUB is not the 
least 
<-complete, normal filter in P<(%) containing 
{~I~<K}. 
In fact, 
the filter generated by the sets which are closed and unbounded by final 
segments is strictly contained in SUPERCLL~ (we say that X i P<(%) is un- 
bounded by final segments if for any 
peP<(%) there is ~<~ 
such that 
pu(~-up)eX). 
Using the ideas 
of [DP.M2] 
we define 
now a 
K-complete normal non-trivial 
filter 
on 
(~)<. 
Given 
X ! PK(~), 
let 
A"x={PE(%)K I There is an end extension chain 
{p~}~<Ks X such that 
up~ =P} 
PROPOSITION 2. 
If 
X 
is end-unbounded then A" X #~. 
D 
Let now 
GK, % the the filter on 
(X) K 
generated by 
{A"xIX superclub}. 
THEOREM 3. 
G <,% is a 
K-complete, normal, non-trivial filter in 
(~)K 
PROOF. 
The 
K-completeness and normality are easily verified. 
To see that 
G 
is non-trivial, in the sense that it does not contain small subsets 
K,% 
of (%)<,we prove the following lemma. 
LEMMA. 
If B ! (X)K 
is such that 
[%-uB[=% 
then B is not G <,%- 
stationary. 
PROOF. 
It is enough to show that there is a superclub set ~ 
such that 
A"~nB=~. 
We put 
~={pEPK(X) j for all 
PeB(p-P#~)}. 

156 
Clearly 
~ 
is closed, and since 
k-uB 
is cofinal in ~, it is super- 
unbounded. 
0 
Therefore, if 
K<k 
then 
GK, ~ 
contains the complements of all subsets 
of (~)K 
of cardinality 
<~. 
0 
We will now show that the elements of 
GK,k 
are of measure one with 
respect to normal measures on 
(k) < 
LEMMA. 
If X 
is closed and unbounded then A"x--Axn(%) < . 
PROOF. 
The inclusion 
[ 
is obvious. 
For the other one, assume that 
P 
belongs to Axn(k) K. 
Then 
P = 
v p~ where 
<p~>~<< is a chain of 
elements of X. 
Since we can assume that (P~)$<K 
is a continuous chain 
and P = K it is not difficult to construct a subchain of 
<p$>$<< which 
is an end extension chain. 
0 
COROLLARY 4. 
If A e GK, ~, K ÷ (~) and ~ is a witnessing normal mea- 
sure, then A e ~. 
PROOF. 
There is an X c SUPERCLUB such that 
A" X ! A. 
But then AXC~ and 
(k)K~ 
SO A" X ~ ~. 
0 
Finally let us mention that if X~ 
is closed and unbounded for each ~<~, 
A A" 
= A" A 
X~ 
~<~ 
X~ 
~<~ 
Note that both sides could be empty unless the sets 
X~ 
are superclub. 
REFERENCES 
[B.D.T.] 
[DP.MI] 
[DP .M2] 
[Mig] 
[S.R.K.] 
Solovay,R., 
Reinhardt,W. 
Kanamori,A. 
Barbanel, J., 
Many-times huge and superhuge cardinals. J. 
DiPrisco,C.A.& 
Symbolic Logic 49(1984),pp 
112-122. 
Tan,I.B. 
DiPrisco,C.A.& 
Some properties of stationary sets. Dissertationes 
Marek,W. 
Mathematieae 
CCXVIII(1982), pp.l-37. 
Di Prisco,C.A.& A filter on 
[k]K Proc.Amer.Math. Soc. 90(1984), DD. 
~rek,W. 
591-598. 
Mignone, R.J. 
On the ultrafilter characterization of huge 
cardinals. Proc.Amer.Math.Soc. 90(1984), pp. 
585-590. 
Strong axioms of infinity and elementary embedd- 
ings. 
Annals of Mathematical Logic 13(1978), 
pp. 73-116. 
This work was partially supported by CONICIT grants SI-I129 & Capt 15-84 

THE MODEL EXTENSION THEOREMS FOR ~3 -THEORIES 
Itala M.L. D'Ottaviano 
Universidade Estadual de Campinas 
Instituto de Matematica, Estatistica e Ciencia da Comp.uta$~o 
Caixa Postal 6155 
13100 Campinas, SP, 
Brasil 
Two generalized versions of Keisler's classical Model Extension Theorem 
are obtained for 
~3 -theories. 
These theories are three-valued with 
more than one distinguished truth-value, reflect certain aspects of 
modal logics and can be paraconsistent. 
~3-theories were introduced in 
the author's doctoral dissertation. 
§i. INTRODUCTION. 
A theory 
T 
is said to be inconsistent if it has 
as theorems a formula and its negation; 
and it is said to be trivial 
if every formula of its language is a theorem. 
A logic is paraconsistent if it can be used as the underlying logic for 
inconsistent but nontrivial theories 
(see [I] and 
[2]). 
In a previous paper (see [4]) we introduced a three-valued propositio- 
nal system, 
~3 ' with two distinguished truth-values, which is para- 
consistent and reflects some aspects of certain types of modal logics. 
In another paper (see [5] ) we axiomatized 
~3 and established relations 
between this calculus and several known logical systems, as, for example, 
intuitionism. 
We especially emphasized the close analogy between 
~3 
and Lukasiewicz' three-valued propositional calculus £3" 
We also introduced the corresponding three-valued first-order 
~3 - 
Theories in whose languages may appear other equalities in addition to 
ordinary identity, and which extend the first-order predicate calculus 
, 
~3 =" 
We proved the Completeness Theorem and the Compactness Theorem 
for ~3-theories. 
The model theory for ~3 -theories reflects much of the classical model 
theory. 
We were able to obtain in our doctoral dissertation generalized 
versions of the following classical results: 
Keisler Model Extension 
Theorem, Lo~-Tarski Theorem, Chang-Eo~-Suszko Theorem, Tarski Cardinali- 
ty Theorem, LSwenheim - Skolem Theorem, Joint-Consistency Theorem, 

158 
Craig Interpolation Lemma, Beth-Padoa Definability Theorem, the Quanti- 
fier Elimination Theorem and many of the usual theorems on complete 
theories and categoricity. 
In some cases, as for example the Model Extension Theorem and the Defi- 
nability Theorem, we proved more than one generalization of the class- 
ical results, all of them compatible both with the many-valued aspects 
and the modal aspects of ~3-the°ries" 
Our aim here is to present two generalized versions of Keisler's class- 
ical Model Extension Theorem, asserting both the conditions to extend 
a structure ~ for a L3-1anguage 
L 
of 
T 
to a model of the ~3-theory T. 
In 
§2, after giving some basic notions and the axiomatization for 
~3- 
theories, we emphasize several results and theorems which are necessary 
for the development of the last part of the paper. 
In 
§3, after adapting the concepts of isomorphism and elementary equi- 
valence, we define 
F-substructures and discuss the case of certain 
special sets of formulas ro 
After this, we present the two Model Extension Theorems for ~3 -theories. 
Both theorems generalize the classical Model Extension Theorem of 
Keisler and their proofs involve specific characteristics of many-valued 
and modal logics, reflecting the existence of more than one distinguished 
truth-value in the matrices defining ~3-the°ries" 
Finally, we give a three-valued version of Lo~-Tarski Theorem, which 
characterizes universal-open ~3 -theories; 
Tarski Lemma, on the union 
of elementary chains; and Chang-Lo~-Suszko Theorem, characterizing uni- 
versal-existential ~3-theories. 
In this paper, definitions, theorems and proofs, when similar to the 
corresponding classical case, are omitted. 
For definitions and theorems we use the nomenclature of [13]. 
We have also extended some of the above results about ~3-the°ries to 
~n-theories, 3 ~ n ~ ~o" 
The results about Joint non-Trivialization, Definability Theorems, 
Complete Theories, Quantifier Elimination Theorems, Categoricity and the 
mentioned results about ~3-theories will appear elsewhere. 
The content of this work is part of the results of our doctoral disser- 
tation. 

159 
§2. 
FIRST ORDER ~3-THEORIES. The symbols of a first-order 
~3-1an- 
guage are the individual variables, the function symbols, the predicate 
symbols, the primitive connectives ~ , v 
and 
V, the quantifiers 
@ 
and 
V, 
and the parentheses. 
The identity = must be among the predicate symbols of every 
L3-1anguage. 
In particular cases, other predicate symbols can be considered as equali- 
ties. 
We use 
x,y,z 
and 
w 
as syntactical variables for individual variables; 
f 
and 
g, 
for function symbols; 
p 
and 
q, 
for predicate symbols, and 
c 
for constants. 
The definitions of term and atomic formula are the usual ones for first- 
order languages; 
a,b ..... etc, are syntactical variables for terms. 
The definition of formula is also the usual plus the condition: if 
A 
is 
a formula, then 
VA 
is a formula; 
A,B,C, etc, are syntactical variables 
for formulas. 
By a L3-1anguage we understand a first-order language (in the sense 
of [13]) whose logical symbols are the ones mentioned above. 
The truth-functions; 
Hv, H V 
and 
H~ 
are defined by the following tables: 
AvB 
• 
0., 
, 
0 
½ 
1 
A 
VA 
0 
0 
½ 
1 
i 
i 
A 
~A 
0 
I 
½ 
½ 
I 
0 
The set of truth-values 
{0,½,1} and the set of distinguished truth-values 
{½,1} are denoted by "V" and "Vd" respectively. 
The following abbreviations will be used: 
A 
& 
B 
=def ~(TAv -~B) 
AA =def -IV ~ B 
-~*A =def -,VA 
A >+ B =def V-dAy B 
A = B =def -~VA v B 
A ~+ B =def (A >+ B) & (~B >+ -,A) 
A = B =def(A = B) & (B = A) 

160 
is called weak negation or simple negation, ~ * strong negation, = basic 
implication, ~ basic equivalence. 
We present the table of some of the non primitive connectives: 
A 
0 
½ 
i 
~*A 
*A 
AA 
A 
AA 
0 
0 
o 
I 
I 
A 
~-~ 
g 
1 
0 
1 I 
I 
½ 
I ½ 
I 
I 
o 
½ 
A=B 
_a ° 
o 
1 
0 
0 
t 
A=-B 
o 
0 
0 
0 
L 
0 
I 
Free occurrence of a variable, open formula, closed formula, variable 
free term and closure of a formula are defined as in [13]o 
We let 
bxl,.oo,X n [al,...,a n] 
be the term obtained from 
b 
by 
replacing all occurrences of 
x I .... ,x n 
by the terms 
a I ..... a n 
respectively; 
and we let 
AxI ..... Xn [a I ..... an] be the formula obtain- 
ed from 
A 
by replacing all free occurrences of 
x I ..... x n 
by 
a I ..... a n respectively. 
Whenever either of these is used, it will be implicitly assumed that 
x I ..... x n 
are distinct variables and that, in the case of 
Axl ..... Xn [a I ..... a n ] , a i 
is substitutible for 
x i, 
i = I .... ,n. 
DEFINITION 2.1. 
A structure ~ for the first-order 
~3-1anguage con- 
sists of : 
i) a nonempty set I~ I called the universe of ~ ; 
ii) for each n-ary function symbol 
f 
of 
L, an n-ary function f~ 
from 
I ~71 n 
to 
I~I; 
iii) for each n-ary predicate symbol 
p 
of 
L, other than 
=, an 
n-ary function 
p~ 
from 
l~I n 
to V. 

161 
As in [13] , we construct the language 
L(~) ; and define a value 
~f(a) ~ V 
for each variable free term 
a 
of 
L(~f), and g-instance 
of a formula A. 
We use 
£ 
and 
j 
as syntactical variables for the names of individuals 
of ~f. 
DEFINITION 2.2. 
The truth-value 
~f(A) for each closed formula 
A 
in 
L(~f) is given by: 
i) 
if 
A 
is 
a = b, 
then 
~(A) = I 
if 
~f(a) = 
@£(b); 
on the 
contrary, 
~(A) = 0; 
ii) 
if 
A 
is 
p(a I ..... an) , where 
p 
is not 
=, then 
~f(A) = 
= p~ ( ~(a I) ..... ~(an)) ; 
iii) 
if 
A 
is ~ B, then 
~£(A) is 
iv) 
v) 
vi) 
vii) 
DEFINITION 2.3. 
A formula 
A 
of 
L 
is valid in ~if, 
and only if 
for every ~-instance 
A' of 
A, ~(A') belongs to 
V d. 
DEFINITION 2.4. 
A first-order 
~3-the°ry 
is a formal system 
T 
such 
that: 
i) 
ii) 
H (~(B)) ; 
-7 
if 
A 
is 
VB, then 
~(A) is 
HV(~f(B)); 
if 
A 
is 
B v C, 
then ~(A) 
is 
Hv(~f(B), ~f(L)); 
if 
A 
is 
~xB, then ~(A) = max {~f(Bx[Z]/ZEL(~f)}; 
if 
A 
is 
VxB, then $(A) = min { @f(Bx[Z] Z cL(~)}. 
the language of 
T, L(T), is a •3-1anguage; 
the axioms of 
T 
are the logical axioms of 
L(T) 
and certain 
further axioms, the nonlogical axioms ; 
iii) 
the logical axioms and rules of 
T 
are the following, with the 
usual restrictions : 
AXIOM 
i : A(A ~+ (B ~+ A)) 
AXIOM 
2 : A((A ~+B) ~+ ((B ~+ C) ~+ (A ~+ C))) 
AXIOM 
3 : A((~A~+--,B) ~+ (B ~+ A)) 
AXIOM 
4 : A(((A ~+ -~ A) ~+ A) ~+ A) 
AXIOM 
5: : A(A(A ~+ B) ~÷ A(AA ~+ AB)) 
AXIOM 
6 : 
Vx(x = x) 
AXIOM 
7 • x 
= 
y ~ (A[x] ~ A[y]) 
AXIOM 
8 : Ax[a] ~ @xA 
AXIOM 
9 : VxA = A x[a] 
AXIOM i0 : 
~xA --~Vx~A 

162 
AXIOM ii : VxA : m~x~ A 
AXIOM 12 : -~@xA ~ Vx~A 
AXIOM 13 : ~VxA - ~x-,A 
AXIOM 14 : V~xA =- ~xVA 
AXIOM 15 : VVxA E VxVA 
RULE 
R I : 
A,A(A ~+ B) 
B 
VA 
RULE 
R~ : 
T 
L 
RULE 
R 3 
(@-introduction) : 
A~ 
C 
@xA~ 
C 
RULE 
R 4 
(V-Introduction): 
C = A 
C ~ VxA 
A 
is a Theorem of 
T, in symbols : ~ T A, is defined in the standard 
way. 
Observe that it is possible to define 
L3-1anguages , using the Eukasiewicz' 
connectives 
7 and 
~÷, instead of 
v, V 
and 
m- 
So, there is a close analogy between Lukasiewicz's three-valued logic £3 
(see [3], [7], [8] and 
[9]) and the underlying logic for ~3-theories. 
THEOREM 2.1. 
~3 
is a non-conservative extension of 
£3 
with 
connectives 
7 
and 
~+. 
THEOP~M 2.2. 
~3 
is a conservative extension of the classical pro- 
positional calculus with connectives 
*, 
, &, = 
and 
~. 
The initial notion of equivalence ~ has to be gradually fortified (see 
[5] and 
[6]), in order to obtain a relation compatible with the fact that 
the matrices defining 
~3 
have more than one distinguished truth-value. 
In the case of classical logic, the equivalence ~ behaves as a congruence 
relation with respect to the other logical symbols° 
Unfortunately 
this 
is not the case for 
~3-the°ries' 
since it is possible to have 
~T A ~ B 
and 
~T~A 
~B. 
Hence, we introduce a stronger equivalence, 
~*, called strong equivalen- 
ce in 
~- 
theories and which is a ~]-congruence 
relation. 
DEFINITION 2.5. 
A ~ 
B =def(A ~ B) & (~A z mB). 
For this strong equivalence we obtain an Equivalence Theorem for 

163 
~3-the°ries 
(see [5] and 
[6]). 
The following closure theorem and the theorem on constants for ~3 -theories 
are identical to the classical ones. 
THEOREM 2.3. 
If A' is the closure of 
A, 
then 
~--T 
A 
if, 
and only 
if, 
~--T 
A' . 
If 
T' 
is a ~3-theory obtained from 
T 
by adding new constants, then 
for every formula 
A 
of 
T 
and every sequence 
el,o°.e n of new constants, 
~-T A if, and only if, 
~-T'Ax I, ... ,xnEel ..... en]" 
We observe that if F is a set of formulas in the theory 
T, then 
T[F] 
is the theory obtained from F by adding all of the formulas in F as new 
nonlogical axioms. 
THEOREM 2.4. 
(Reduction Theorem for non-Trivialization): 
Let F be a 
non empty set of formulas in a 
~3-theory. 
Then the extension 
T[F] is 
trivial if, and only if, there is a theorem of 
T 
which is a disjunc- 
tion of negations of closures of formulas of type 
VA, 
with 
A 
in 
F. 
To finish this section, we discuss how to convert a formula 
A 
into a 
formula in prenex form. 
DEFINITION 2.6. 
If A 
is a formula in a L3-1anguage 
L, the prenex 
operations on 
A 
are: 
a) 
the classical prenex operations, with the usual restrictions; 
b) 
replacement of a part 
VQxB 
of 
A 
by 
QxVB, where 
Qx 
is 
either 
~x 
or 
Vx. 
By the above definition we can obtain the prenex form of every formula A, 
based on the following result. 
THEOREM 2.5. 
If 
A' 
is obtained from 
A 
with 
A 
in 
L(T), by a 
prenex operation, then 
D-TA 
~* A'. 
~3-theories are three-valued theories with more than one-distinguished 
truth-value, they can be paraconsistent and reflect certain aspects of 
modal type logics. 
The details of a further study, the proofs of the theorems mentioned in 
this paragraph and other results about 
~3-theories can be found in 
[5] and 
[6]. 
§3. 
THE THEORY OF MODELS° 
The theory of models for 
~3-theories reflects a great deal 
of classical model theory. 

164 
In some cases, there is more than one generalization of the classical 
theorems, all of them compactible with the characteristics 
of ~I 3 -theo- 
ries. 
In the following, we give the two versions of the classical Keisler 
Model Extension Theorem for dl 3 -theories. 
The proofs of 
both theorems reflect the specific characteristics 
of 
many-valued and modal logics, and they specially involve the existence 
of more than one distinguished truth-value. 
We shall use the notations and the conventions of 
[13], 
with the 
appropriate adaptations. 
DEFINITION 3.1. 
Let ~f and 
£B be structures for the •3-1anguage L. 
An isomorphism of ~f and 
~B is a bijective mapping ~ from I • I to 
I~ I 
such that for 
a I .... ,an in l~f I: 
i) 
~(f~f (al ..... an)) = fdB (#(al) ..... ~(an)) , for every function 
symbol 
f 
of 
L; 
ii) 
P~f (al ..... an) = P~B (~(al) ..... ~(an)) , for every predicate 
symbol 
p 
of 
L. 
If ~ is a mapping from l~fl to 
I JB I and i is the name of an individual 
a 
of I~fl , we use i ~ 
to designate the name of the individual 
~(a) of 
JB . If 
u 
is an expression of 
L(~f), 
u ~ 
is the expression obtained 
from 
u 
by replacing each name i by 
i#. 
THEOREM 3.1. 
Let ~ be an isomorphism of ~f and 
~ . Then 
~(~f(a)) 
= JB (a ~) for every variable-free term 
a 
of 
L(~f), and 
~f(A) = ~ (A ~) 
for every closed formula 
A 
of 
L(~f). 
The following definitions are similar to the classical ones° 
DEFINITION 3.2. 
Two estructures ~ 
and 
~ 
for 
L 
are elementarily 
equivalent, 
in symbols 
~ 
z ~, 
if the same closed formulas of L are valid 
in @£ and 
~o 
As in the classical case, if ~ and 
~ 
are elementarily equivalent, 
then they are models of the same 
313 -theories. 
But if ~f z 
JB and 
A 
is a closed formula of 
L, it is not possible to conclude that 
~f(A) = ~B (A). 
DEFINITION 3.3. 
An embedding of ~f in 
~ 
is an injective mapping 
from 
l~f I to 
I~B I such that conditions 
(i) and (ii) of Defini- 
tion 3.1 hold for all nonlogical symbols 
f 
and 
p 
of 
L 
and all 
al,...,a n 
in 
l~fl . 

165 
DEFINITION 3,4. 
We say that ~f is a substructure of 
~ , or 
~ 
is 
an extension of 
~ , when 
I @fl is a subset of 
I~ I and the identity 
mapping from 
l~fl 
to 
I~ I is an embedding from ~f in 
~ , that is: 
i) 
f~ (a I ..... a n ) = f~ (a I ..... a n ), for every 
f; 
ii) 
p~f (a I ..... a n ) = p~ (a I ..... a n ), for every 
p. 
DEFINITION 3.5. 
In the conditions of the definition 
3.4, 
if ~f and 
~B 
are models of some 
dl 3 -theory T, we say that ~f is a submodel of ~B . 
THEOREM 3.2. 
Let ~f and 
~B 
be structures for L, and let ~ be a 
mapping from 
l~fl to 
I~I. 
Then ~ is an embedding of ~,f in 
~ 
if, 
and only if, 
~f(A) = ~ (A~), for every variable free formula 
A 
of 
L(~). 
Let F be a set of formulas in the ]L3-1anguage 
L 
and let ~f be a struc- 
ture for 
L. 
As in the classical model Theory, 
r(~f) 
designates the 
set of ~f-instances of formulas in 
r. 
DEFINITION 3.6. 
Let ~ and 
~ 
be structures for L, such that I~I 
is a subset of 
l~B I, 
and let r be a set of formulas in 
L. 
We say that 
~f is a 
P-substructure of 
~ 
and that 
~ 
is a 
r-extension of ~f 
if ~[(A) ~ V d 
implies 
JB (A) e Vd, for every formula 
A 
in 
r(~) . 
THEOREM 3.3. 
Let F be a set of formulas in 
L 
such that for every 
formula 
A 
in 
F, -~ VA 
is in 
F. 
If ~ 
is a 
r-substructure of 
.~, 
then ~(A) e V d 
if, and only if, 
~B (A) E V d for every formula 
A 
in 
r(~). 
PROOF. 
If 
~(A) = 0, then 
~ (-~VA) = i. 
0 
If r is a set of formulas such that for every formula 
A 
in 
F,-~A 
belongs to 
F, it does not seem possible to obtain the result above. 
In 
fact, under such conditions, if 
~f (A) = 0 
we can conclude only that 
(A) = ½ 
or 
~ (A) = 0. 
On the other hand, we can prove that 
~(A) = ½ 
implies 
~ (A) = ½, 
and 
~B (A) = i 
implies 
~f(A) = Io 
It seems impossible also to prove the above result when r is a set of 
formulas such that for every formula 
A 
in 
F, 
VA is in 
r. 
But, if for every formula 
A 
in 
F,-~ A 
and 
VA 
belong to 
F, 
then 
we can prove a stronger result. 
THEOREM 3.4. 
Let P be a set of formulas in 
L 
such that for every 
formula 
A 
in 
F, -I A 
and 
VA 
are in 
F. 
If ~f is a 
P-substructure 
of ~, 
then 
~(A) = ~ (A) 
for every formula 
A 
in 
r(~f). 

166 
PROOF. 
By Theorem 
3.3, 
as ~(A) = ~ implies 
~ (A) = ~ , it is 
sufficient to prove that ~f(A) = I 
implies 
~ (A) = I for every formula 
A 
in 
r(~ ) . 
D 
THEOREM 3.5. 
(I) 
If r is the set of all open formulas in 
L, ~f and 
are structures for 
L 
and ~ 
is a 
P-substructure of 
~ , then 
~f 
is a substructure of 
~ 
and 
• 
is an extension of ~f. 
(2) 
If F is the set of all formulas in 
L 
and ~ is 
a 
F-substructure of 
~ , then ~ 
and 
~ 
are elementarily equivalent. 
DEFINITION 3.7. 
If F is the set of all formulas in an L3-1anguage 
L 
and ~ 
is a 
F-substructure of 
• , we say that ~f is an elementary 
substructure of 
• , or that 
~ 
is an elementary extension of ~ ° 
THEOREM 3.6. 
If ~ is a elementary substructure of 
~ , then ~f is 
elementarily equivalent to 
~ 
and 
~(A) = ~ (A) 
for every closed 
formula 
A 
in 
L. 
Furthermore, in the case of 
L3-1anguages , it is convenient to observe 
that if ~f is a substructure of 
~ 
and elementarily equivalent to 
~ , 
there can be closed formulas 
A 
in 
L(~) 
such that 
~f(A) and 
• (A) 
are distinguished values, but different ones. 
THEOREM 3.7 
If 
x = e 
belongs to the set F of formulas in 
L 
and 
~f is a 
P-substructure of 
~ , then 
~f(e) = ~ (e). 
If ~ is a structure for 
L, we define the 
F-diagram theory of ~f as 
in the classical case° 
DEFINITION 3.8. 
Let ~,f and 
~ 
be structures for 
L 
with ~fc ~ . 
The structure 
~f 
for the ~3-1anguage 
L(~) 
is an expansion of 
such that, if £ is the name for an individual 
a 
of 
I~I then 
(~f) (£) = a. 
DEFINITION 3.9. 
The 
F-diagram theory of ~f, 
DF(~f) , is the 
~3 -theory whose language is 
L(~f) 
and whose non-logical axioms are 
the formulas 
A 
in 
F(~) 
such that 
~f(A) 
belongs to 
V d. 
LEMMA. 
(Diagram Lemma) : Let F be a set of formulas in 
L, and 
let ~f and 
~ 
be structures for 
L 
such that l~fl 
is a subset of 
I~ I. 
Then ~[ is a 
F-substructure of 
~ 
if, and only if, 
~f 
is 
a model of 
DF(~). 
DEFINITION 3.10. 
A set F of formulas of 
L 
is almost-regular if every 
formula of the form 
x = y 
or 
x # 
y 
is in 
F, 
and if for every 
formula 
A 
in 
F, 
every formula of the form 
A[x I ..... x n] 
is in F. 

167 
THEOREM 3.8. 
(Model Extension Theorem I): 
Let @,f be a structure for 
L, 
T 
a 
~3-theory with language 
L 
and F an almost-regular set of 
formulas in 
L. 
Then ~f has a 
F-extension which is a model of 
T 
if, 
and only if, every theorem of 
T 
which is a disjunction of strong nega- 
tions of formulas in F is valid in 
~f. 
PROOF. 
Suppose that such a 
F-extension 
~ 
exists. 
If 
~-T ~*AlV" " " v ~*An, 
with 
A 1 ..... A n 
formulas in 
F, 
and ~*AlV...v~ A n 
! 
is not valid in ~f, 
then there are 
~f-instances 
A 1 .... ,A~ 
of 
A 1 ..... An, 
such that ~f(A~) belongs to 
Vd, 
for 
i, 
1 ~ i ~ n. 
There- 
fore 
~ (~*A~) = 0 
for every 
i, 1 ~ i ~ n. 
Hence 
~ (~*Aiv...v~*A~) 
= 0, 
what is impossible, since 
~ 
is a model of 
T. 
On the other hand, suppose that the condition holds. 
Let 
T' 
be the 
~3-theory 
obtained from 
T 
by adding all the names of 
L(~f) 
as new 
constants; 
and let be 
T" 
obtained from 
T' 
by adding all the non- 
logical axioms of 
DF(~f) as new axioms. 
We shall show that 
T" 
is non- 
trivial. 
If not, then by the Reduction Theorem for non-Trivialization 
' .. 
A' 
in 
r(~f), 
there is a formula of type 
~ *Aiv...v~*A ~, with 
AI, 
"' n 
such that 
~--~*AlV..oV~*A ~ 
and ~f(A~) 
belongs to 
V d 
for 
i = 1 ..... n. 
T' 
Hence by the Theorem on Constants, 
L-T~*AlV...v~*An, where A i results 
from A~ 
by replacing the names by new variables 
Then 
by the almost- 
regularity of 
F, we have that 
A 1 ..... A n 
belong to F and 
so 
~*AlV...v~*An is valid in ~f. 
Therefore 
~(A~) = 0 
for some 
i, which 
is a contradiction. 
By the Completeness Theorem 
T" 
has a model 
~ ' and from here on the 
proof becomes identical to the classical one. 
That is, we prove that 
the restriction 
~ 
of 
~ ' to 
L 
is a 
F-extension of ~f, which is 
a model of T. 
D 
COROLLARY. 
Let F be an almost regular set of formulas in 
L 
and 
let 
A 
be a set of formulas containing every formula 
VXl...VXnA , where 
A 
is a disjunction of strong negations of formulas in 
F. 
If ~ is a 
structure for 
L 
and 
~ 
is a 
A-extension of ~, 
then there is a 
F-extension C of 
~ 
which is an elementary extension of ~f. 
PROOF. 
Let 
F' 
be the set of formulas 
AE£ 1 ..... £n ] 
in 
L(~). 
If 
A 1 ..... A n 
are in 
F' 
and 
~ 
~*AlV...v ~*An, 
then by the Diagram 
Dr,(~) 
Len~na 
~f~ is a model of Dr(~f). So ~@ (B) c V d and 
~f~S) = 
~'(B), 
where 
B 
is the closure of ~*AlV...v~*An. 
As 
B 
is an axiom of 
DA(~F), 
then by the Diagram Lemma 
~f(B) 
is distinguished. 
Hence, 

168 
by Closure Theorem ~*AlV...v~*A 
is valid in 
~ 
, 
n 
Therefore there is a 
r'-extension 
6' 
of 
~, 
which is a model of 
DF,(~) 
and the proof follows as in the classical case. 
If in the statement of Theorem 3.8, we had "disjunction of negations 
of formulas in 
F", then we could not prove it by the same method. 
Given an almost regular set r of formulas in 
L(T) and a structure $ for 
L(T), if we suppose that there is a model 
~ 
of 
T 
which is a 
r-ex- 
tension of ~, 
then we can not prove that 
~-T~AlV...V~An implies 
• 
A' 
of 
~f ~ 
~AlV. .v~A n. 
In fact, if there are ~f-instances 
Ai ..... n 
formulas 
A 1 ..... A n in 
F, 
such that 
~ (A~) belongs to 
V d 
for every 
i, 
1 ~ i ~ n, 
we cannot conclude that ~(~Aiv.o.wA ~) = 0, 
on account 
of the characteristics of the basic negation 
~ 
of 
~3-the°ries" 
On the other hand, if we suppose that 
~--T~AlV...V~An 
implies 
.~ ~AlV...v~A n 
and if we construct the theories 
T' 
and 
T", as in 
Theorem 3,8, then we can not prove that T" is non-trivial• 
In fact, 
if 
~-T ~Aiv'''V~An 
and ~ ~ 
~AlV...V~An, 
with 
A I ..... A n 
in F and 
A i ..... An 
in 
F(~f), 
we cannot conclude that 
~f(A') = 0 for some 
i,l~i~n, 
i 
By the observations above, in order to obtain a model extension theorem 
which generalizes classical Keisler Model Extension Theorem and which 
uses the primitive negation 
~ 
of 
~3-theories, we have to consider 
almost regular sets with special characteristics° 
DEFINITION 3.11. 
A set r of formulas of 
L 
is 
V-regular if F is al- 
most regular and if for every formula 
A 
in 
F, 
VA belongs to 
F. 
DEFINITION 3.12. A set F of formulas of 
L 
is 
A-regular if F is 
almost regular and if for every formula 
A 
in 
F, AA 
belongs to 
r. 
DEFINITION 3.13. 
A set F of formulas of 
L 
is regular if F is 
V-regular and 
A-regular. 
THEOREM 3.9. 
Let ~ be a structure for 
L, T 
a 
~3-the°ry with 
language 
L 
and let r be a 
V-regular set of formulas of L. 
If every 
theorem of 
T 
which is a disjunction of negations of formulas in r is 
valid in ~, 
then ~- has a 
P-extension which is a model of T. 
PROOF. 
We construct the 
~3-theories 
T' and 
T" 
like in the proof 
of Theorem 3.8. 
If 
T" 
is trivial, by the Reduction Theorem for non-Trivialization, 
there are formulas 
A',.. ,A' 
in 
r(~) 
such that 
~T~*AI v 
v~*A' 
I 
" n 
"
'
"
 
n 

169 
and ~(A~) c V d, 
i = i .... ,n. 
By the Theorem on Constants, as in Theorem 
3.8, 
we can obtain formulas A I ..... A n such that 
~T ~ *AlV-.-v ~ *An" 
By hypothesis, ~f~ 
~VAlv...v ~VA n . Therefore, we have 
~(A~) = 0 for 
some 
i i = i, 
n, and 
A~ 
in 
F(~) 
That is a contradiction, so 
T" 
has a model 
~ ' 
The proof then follows as in Theorem 3.8. 
D 
THEOREM 3.10. 
Let ~f be a structure for 
L, T 
a 
~3-the°ry with 
language 
L 
and let F be a 
A-regular set of formulas of 
L. 
If 
~f 
has a 
r-extension which is a model of T, 
then every theorem of T which 
is a disjunction of negations of formulas in F is valid in ~f. 
PROOF. 
If 
~T~AlV'''v~An' 
with the formulas 
A I .... ,A n 
in 
P, 
and 
o. 
A' 
~AlV 
.v~A n is not valid in ~f, 
then there are W-instances A i ..... n 
of 
A 1 ..... A n such that 
~f~A~) = 0, 
for every 
i, I ~ isn. 
So, 
~(AA~) = i, for every 
i, 1 ~ i~n. 
If 
~ 
is a 
F-extension of ~ 
which is a model of T, we have that 
(A~) and 
~ ~A~) 
belong to 
Vd, 
for every 
i, 1 ~ i ~ n. 
Hence 
~Ai~...v~A ~) = 0, which is a contradiction. 
Therefore, 
~T~AlV...V~An implies ~ 
~AlV...v~A . 
D 
n 
THEOREM 3.11. (Model Extension Theorem II). 
Let ~ be a structure for 
L, T 
a 
~3-the°ry with language 
L 
and let F be a regular set of 
formulas in L. 
Then ~ has a 
F-extension which is a model of 
T 
if, 
and only if, 
every theorem of 
T which is a disjunction of negations 
of formulas in r is valid in ~. 
COROLLARY I. 
Let F be a regular set of formulas in 
L 
and let A be a 
set of formulas containing every formula 
VXl.ooVxnA , where 
A 
is a dis- 
junction of negations of formulas in 
ro 
If ~ is a structure for 
L 
and 
~ 
is a 
F-extension of ~, then there is a 
F-extension ~ of 
which is an elementary extension of ~f. 
COROLLARY 
2o 
Let ~ 
be a structure for L. 
T a ~ 3-theory with lan- 
guage L 
and let F be an almost regular set of formulas in L, such that 
~A 
and 
VA 
belong to F for every formula 
A 
in 
F. 
Then, ~f has a 
F-extension which is a model of 
T 
if, and only if, every theorem of 
T which is a disjunction of negations of formulas in F is valid in ~f . 
The Model Extension Theorem I (Theorem 3.8) seems to be natural for 
~3-theories, 
on account of the role played by ~* and the Reduction 
Theorem for non Trivialization in ~3-the°ries" 
The Extension Theorem II (Theorem 3.11) seems to be more compatible 

170 
with the main characteristics of 
~3-theories, besides more meaningful 
for 
~3 -theories and general many-valued theories and model logics. 
But it seems not to be possible to obtain each one of the two versions 
from the other. 
That is, it seems that Theorem 3.8, does not imply 
Theorem 3.11, and vice-versa. 
It is convenient to observe that if r is an almost regular set of formu- 
las in 
L 
such that 
~ A and 
AA belong to F for every formula A 
in 
F, 
then we can prove a result similar to Corollary 2 to Theorem 3.11, 
though F can be not regular. 
We yet observe that, in the proofs of some of the following theorems, 
as the case of Lo~-Tarski Theorem, Chang-Lo~-Suszko Theorem and also 
in the Joint non-Trivialization Theorem for 
~3 -theories, when we apply 
one of the model extension theorems, we need only a sufficient condition 
to 
F-extend a structure ~ for 
L(T) to a model ~ 
of the 
~3-theory 
T. 
In these cases, considering the special characteristics of the sets F , 
we can indistinctly apply Model Extension Theorem I, or Model Extension 
Theorem II. 
Now we study three-valued versions of Lo~-Tarski Theorem and Chang-Lo~- 
Suszko Theorem. 
THEOREM 3.12. 
(Lo~-Tarski Theorem): A ~3-the°ry 
T 
is equivalent 
to an open 
~3-theory if, and only if, every substructure of a model of 
T 
is a model of 
T. 
PROOF. 
If 
T 
is equivalent to an open 
~3-the°ry T', it suffices to 
show that every substructure ~X of a model 
~ 
of 
T' is a model of T' 
By Theorem 3.2, every open formula valid in 
~ 
is valid in ~f , so 
is a model of T'. 
On the other hand, we first prove that if F is the set of open formulas 
in T, if 
F' 
is the set of formulas in r which are theorems of 
T, and 
if every structure for 
L(T) in which all the formulas of 
F' 
are valid 
is a model of 
T, then 
T 
is equivalent to a 
~3-theory whose non- 
logical axioms are in 
F. 
Then, it suffices to show that if every open 
theorem of 
T 
is valid in ~, 
then @X is a model of T. 
So, as F is 
a regular set, by the Model Extension Theorem II, ~f has a 
F-extension 
which is a model of T. 
D 
DEFINITION 3.13. 
A sequence @~I' ~2 .... of structures for 
L 
is a 
chain if for each n, ~n+l 
is an extension of ~n" 

171 
DEFINITION 3.14. 
Given a chain of structures for 
L, the union of 
the chain is the structure 
~ whose universe is the union of the uni- 
verses of the ~n; 
if 
a I ..... a k are in this union, then there is an 
n 
such that all of 
a I ..... a k 
are individuals of ~fn and we set 
f~(a I ..... a k) = f~f (a I ..... a k) 
n 
P~ (a I ..... a n ) = p~n(al ..... ak). 
DEFINITION 3.15. 
If ~ 
is the union of the chain ~i,~2 
.... and 
A 
is a formula of 
L, 
then 
A 
is valid in ~ 
if L(A') 
belongs to 
V d, for every 
~n-instance 
A' 
of 
A, n = 1,2... 
DEFINITION 3.16. 
An elementary chain is a chain ~fl' ~f2 ..... such 
that for each 
n, ~n+l 
is an elementary extension of ~fn" 
THEOREM 3.13. (Tarski's Lemma): 
If ~fl' ~2'''" is an elementary chain, 
then the union 
~ of the chain is an elementary extension of each ~fn" 
PROOF. 
As in the classical case, we must show that if 
A 
is a closed 
formula in 
L(~fn), then ~fn(A) = ~(A). 
We use induction on the length 
of A. 
If 
A 
is atomic, the result is obvious. 
If 
A 
is of type 
~B 
or 
BVC, the result follows from the induction 
hypothesis and the definition tables of 
H 
and 
H 
If 
A 
is of type 
VB, we observe that ~n(VB) = 0 
if, and only if, 
~[(B) = 0; %(VB) 
= i if, and only if, 
{f(B) = i 
or 
~(B) = ~. 
Let 
A 
be of type 
~xB. 
~f(%xB) = 0 
if, and only if, @£n(Bx[i]) = 0 
for each i in 
L(~n) ; 
if 
~(~EB) = ½ , then 
~[(Bx[i]) = ½ for some i 
in 
L(~), 
we choose 
k 
such that 
k>n 
and i is a name in 
L(~k) , 
and we have that 
~k(Bx[i]) = ½ ; 
if 
~f(@xB) = I 
we proceed similar- 
ly. 
D 
THEOREM 3.14. 
(Chang-Lo~-Suszko 
Theorem): 
A 
~3-theory 
T 
is 
equivalent to a 
~3-theory 
whose non-logical axioms are existential if, 
and only if, the union of every chain of models of 
T 
is a model of T. 
PROOF. 
As in the classical case, if 
T 
is equivalent to a 
~3-The°ry 
T' 
whose non logical axioms are existential, 
then if suffices to prove 
that the union ~f of a chain 
9,fl, ~2 .... of models of T' 
is a model of 
T'. 
Let 
~Xl...~xnA 
be an ~f-instance of a non logical axiom of T' 
For large enough 
k, ~fk(A[il ..... £n ]) eV d for some 
i I ..... i n 
in 
L(~k ). 
Hence 
~(qXl...~XnA) 
c V d 
and ~f is a model of 
T'. 

172 
Now suppose that every union of a chain of models of 
T 
is a model of 
T. 
It also suffices to show that if ~ is a structure in which every 
existential theorem of T is valid, then ~f is a model of T. 
We proceed 
as in the classical case by constructing a chain ~fl' ~f2 .... 
such that 
~[I = ~' ~n 
is a model of 
T 
and 
~f2n+3 
is an elementary extension 
of 
~f2n+l" 
If ~ 
is the union of the chain, as ~ and 
• 
are elementarily equi- 
valent, 
then ~[ is a model of 
T. 
The second part of the proof is possible because the set of all universal 
formulas of L(T) 
is regular, in the sense of Definition 3.13. 
REFERENCES 
[ I] ARRUDA, A.I. 
[ 2] ARRUDA, A.I. 
[ 3] BORKOWSKI,L. 
[ 4 ] D' OTTAVIANO, 
I.M.L. & 
da Costa,N.C.A. 
[ 5] D'OTTAVI~O, 
I.M.L. 
[ 6] 
[ 7] ~.UKASIEWICZ,J. 
[ 
8] 
A survey of paraconsistent logic, Mathematical 
Logic in Latin America, North-Holland, Amsterdam, 
(1980), pp. 1-41. 
Aspects of the historical development of paraconsis- 
tent logic (To appear) 
(ed.) Selected Works of J. Lukasiewicz, North- 
Holland, Amsterdam (1970). 
Sur un probl~me de Ja~kowski, C.R. Acad.Sc.Paris, 
270A (1970), pp. 1349-1343. 
The completeness and compactness of a three-valued 
first-order logic. 
To appear in Mathematical Logic, 
V Latinamerican Symposium on Mathematical Logic, 
Marcel-Dekker. 
Sobre uma teoria de modelos trivalente (Thesis) 
Universidade Estadual de Campinas, Campinas (1982). 
On the principle of contradiction in Aristotle, 
Review of Metaphysics 
XXIV (1971), pp. 485-509. 
Philosophische Bermerkungen zu mehrwertigen sys- 
temen des Aussagenkalk~lls, C.R.Soc.Sci.Lett. 
Varsovie 23, (1930), pp. 51-57 (Translation to 
English in 
[3] , pp. 153-178). 

173 
[ 9] ~UKASIEWICZ,J. 
Untersuchungen Nber den Aussagenkalk~ll, C.RoSoc. 
& Tarski, A. 
Sci.Lett.Varsovie 23 (1930) pp. 39-50 (Transla- 
tion to English in [3] , pp 131-152). 
[I0] RASIOWA,H. 
An algebraic approach to non-classical logics, 
North Holland, Amsterdam (1974). 
[II] RESCHER, N. 
Many-valued logics, McGraw-Hill, N.York (1969). 
[12] ROSSER, J.B. 
Many-valued logics, 
North-Holland, Amsterdam 
& Turquette,A. 
(1952). 
[13] SHOENFIELD,J.R. Mathematical Logic. Addison Wesley, Reading 
(1967). 

COMPLETENESS THEOREMS FOR THE GENERAL THEORY OF 
STOCHASTIC PROCESSES 
Sergio Faj ardo ~* 
University of Wisconsin 
Department of Mathematics 
Madison, Wisconsin 53706 
U.S.A. 
§0. 
INTRODUCTION. 
Adapted Probability Logic, denoted Lad, is a logic adequate for 
the study of stochastic processes. 
In this paper we show how to axio- 
matize in Lad the basic notions of the general theory of stochastic 
processes (i.e. stopping time, martingale, adapted, progressively mea- 
surable, optional and predictable stochastic processes) and prove a 
"completeness" theorem for each such notion. 
The study of stochastic processes has been for the last forty years one 
of the main topics of research in probability theory. 
The development 
of the theory of martingales and Markov processes has brought many new 
ideas into this field. 
Concepts such as filtration of 
o-algebras and 
stopping times are now of fundamental importance after the work of Levy, 
Doob, Ito, Chung, Hunt and others. 
Along with these ideas the need for 
more advanced tools has appeared. 
The "General theory of Processes" is 
the branch of probability that has as its subject of study all these 
new objects. 
Among the many concepts studied by "general theorists" 
(besides the basic notions mentioned above) are: stopping times of 
different types, local martingales, semimartingales, generalized stochas- 
tic integrals, stochastic differential equations, etc. 
Good sources of 
information about these topics are [D], [DM!] , [DM2] , IMP] and the 
Lecture Notes in Mathematics published regularly by the members of the 
Strasbourg school of probability 
~* 
Current Address 
: Department of Mathematics 
University of Colorado 
Campus Box 426 
Boulder, Colorado 80309 
(U.S.A.) 

175 
After the introduction of the Loeb measure in [Lo] and Anderson's non- 
standard construction of Brownian motion [An], 
nonstandard analysts 
have developed a new approach for the study of stochastic integration 
(see [KI], [Pa], [Li], [HP], [Pe]) 
and stochastic integral equations 
([KI] , [HP], [C]) 
that is more intuitive and seems to be very well 
suited for direct applications. 
What does logic have to do here? 
Hoover and Keisler realized that many 
of the concepts in [K I] could be naturally expressed in a language with 
integral quantifiers and conditional expectation operators, and that 
some of the properties of the hyperfinite adapted spaces introduced in 
that paper were general model theoretic theorems in the logic construct- 
ed with this language. 
Thus, adapted probability logic was born. 
This 
logic first appeared in [K2]. 
Later Rodenhausen in his thesis [R] proved, 
among other things, a completeness theorem for 
Lad. 
Hoover and Keisler 
in [HK] introduced different notions of elementary equivalence for Lad 
and using a model theoretic approach gave direct applications to proba- 
bility theory. 
Keisler in [K 3] tied Lad with the two previously known probability 
logics 
LAP 
and LAf 
(see [K3] , [K4] , [HI] , [H2] , [H3] , [H4]) 
by 
introducing a new logic, the so called Probability Logic with Conditio- 
nal Expectation 
LAE. 
Lad was then reintroduced as a two sorted form 
of LAE 
and in this way Keisler in [K3] , [K 5] gave a new (simpler) proof 
of Rodenhausen's completeness theorem for 
Lad. 
Keisler [K 3] is an up- 
to-date account of the development of the different probability logics 
including 
Lad. 
For more on LAE 
see Fajardo [F]. 
A description of the contents of this paper is as follows : Section 1 
contains an introduction to adapted probability logic that "almost" 
does not require a previous knowledge of the other probability logics, 
but Keisler's survey paper [K 3] is strongly recommended. 
In section 2 
we show how to axiomatize the concept of stopping time and prove our 
first completeness theorem. 
In section 3 we give a set of axioms and 
prove a corresponding completeness theorem that simultaneously covers 
adapted, progressively measurable and optional stochastic processes. 
We 
also give a different set of axioms for predictable processes and prove 
its completeness. 
Finally we present a completeness theorem for martin- 
gales. 
The reader is assumed to be familiar with the basic concepts of proba- 
bility theory such as random variable and conditional expectation which 
can be found in any elementary textbook in probability (for example 

176 
[As]). 
We do not expect readers to know the general theory of processes, 
so all the basic definitions are presented. 
Elliot [El is a good intro- 
ductory book covering the concepts studied here. 
We do not use nonstan- 
dard analysis and only require some familiarity with basic model theory. 
§i. 
DEFINITIONS AND BACKGROUND: 
We introduce adapted probability Logic 
Lad 
following Keisler's 
original presentation in [K2]. 
An alternative way of defining 
Lad as 
a two-sorted form of logic with conditional expectation 
LAE was given 
recently in Keisler [K3]. 
We follow the former approach since it allows 
us to go directly into the basics of Lad without assuming a previous 
knowledge about the other probability logics. 
Basic notions from adapt- 
ed probability logic such as adapted model, interpretation and adapted 
elementary equivalence (weak and strong) together with a complete set of 
axioms for 
Lad 
are given. 
We also present all the basic definitons 
from the general theory of processes that are relevant to our exposition. 
Those readers familiar with Keisler [K 3] will realize that we do not 
worry about admissible fragments 
LAa d 
of 
Lad. 
Instead, we just work 
with A 
= HC (the hereditarily countable sets), but all results gene- 
ralize in the obvious way to fragments with A c HC 
and ~ s A. 
Through- 
out this paper we assume that so-called 
"usual conditions" of a filtra- 
tion of o-algebras (see definition 
I.I below). 
These are, as the name 
suggests, the kind of assumptions that probabilists working with the type 
of structures that we are going to be dealing with usually make. 
A 
theory of processes that does not assume these conditions has been partial- 
ly developed but it is at a very early stage and it does not yet have 
important applications. 
For more on this subject see [DMI]. 
DEFINITION i.I 
(a) 
An Adapted Probability Space or Stochastic Base is a structure 
= (~,(Ft)t~[O,l],P) where: 
(i) 
P 
is a complete probability measure on ~. 
(ii) 
(Ft)t~[0,1]is an increasing filtration of 
o-algebras of 
P-measurable sets satisfying the Usual Conditions, i.e.: 
(I) 
F 0 is Complete: 
all the P-null sets are contained 
in 
F 0 and 
(2) 
(Ft)t~[0,1]is Right Continuous : For all t c [0,I] 
F t = 
n F 
s>t S" 

177 
(b) 
Let 
M 
be a Polish space (i.e. complete separable metric space). 
A function 
X:~ × [0,I] ÷M 
is an M-valued Stochastic Process 
on ~ if 
X 
is measurable with respect to the product measure 
P x B where ~ is the Borel measure on [0,I]. 
Sometimes we write 
X(t) 
instead of 
X(w,t) and 
X = (X(t))ts[0,1 ]. 
(ii) 
(iii) 
(iv) 
(v) 
1.9). 
Each time variable 
t 
is a term. 
Each real 
ra~ 
is a term. 
If T is a term, 
so are 
fTdw, 
fTdt 
and 
E[TIs] (w,t). 
If 
T 1 ..... T n 
are terms and 
FE C(~ n) 
then 
F(T 1 ..... ~n ) 
(c) 
Let 
X 
and 
Y 
be stochastic processes on ~ taking values on 
the same space M. 
Then we say: 
(i) 
X is Indistinguishable 
from 
Y 
if for almost all 
ws~ 
for 
all 
t s [0,I]: 
X(w,t) = Y(w,t) 
(ii) 
X is a Modification of 
Y 
if for all 
t s [0,i]: 
X(t) = Y(t) a.s. 
Now we give the formal definition of adapted probability logic. 
DEFINITION 1.2. 
(a) 
The Logical Symbols of 
Lad are: 
(i) 
Variables: 
(i) 
Countably many time variables: tl,t2,...,Sl,S2,... 
(2) 
One Probabilistic variable: 
w 
(ii) 
Connectives: 
(I) 
First Order connectives: 
~ ,A • 
(2) 
Function connectives 
: the function symbol F 
for 
each 
ne~ 
and 
F~ C(~ n) = the set of continuous 
functions from ~n 
into 
~. 
(iii) 
Intesral quantifier symbol: f 
(iv) 
Conditional Expectation operator symbol: 
E[I]. 
(b) 
The Non-Logical Sy~ols 
of 
Lad 
are stochastic process symbols 
(Xi(...): i ~) 
with two arguments, the first argument for the probabi- 
listic variable and the second for time variables. 
Most proofs are 
carried out using just one stochastic process symbol 
X, but everything 
is easily seen to work for countably many stochastic processes. 
DEFINITION 
1.3. 
(a) 
The set of 
Lad-terms 
is defined inductively as follows: 
(i) 
For each 
r ~4 + , [X(w,t)Fr] is an atomic term (see remark 

178 
is a term. 
(b) 
Free and Bound variables in a term are defined as usual, with 
the integral 
/~dx 
binding 
x, in 
E[~Is](w,t) all occurrences 
of s are bound and w and t are free, and in 
E[~Is](w,s) 
the 
first occurrence of s is bound and the second is free. 
Sometimes 
we shorten this expression to 
E[TIs] or 
E[Tls](s). 
A closed 
term is a term with no free variables. 
(c) 
The set of 
Lad-Formulas 
is the least set such that 
(i) 
For each Lad-term 
~,[Te0] is an Atomic formula 
(ii) 
If ~ is a formula so is 
~ ~. 
(iii) 
If ~ is a countable set of formulas with finitely many free 
variables then 
A ~ is a formula. 
A Sentence 
is a formu- 
la with no free variables. 
(d) 
There is one natural way of extending the definition of Lad-formu- 
la given in (c). 
We can add probability quantifiers 
(PEer) with 
r c ~n[0,1] and allow formulas of the form (P~r) ~ in our lan- 
guageo 
As for the Logic with Integral Quantifier 
L w f, this 
i 
addition does not increase the power of 
Lad (see Section 3.6 
of [K 3] for a rigorous proof of this fact) 
but sometimes it 
makes things smoother. 
We will not hesitate to use these quan- 
tifiers in situations where their presence helps the reader to 
have a better understanding. 
Remark 
3°9 
suggests other possible extension of the definition of 
Lad-formula. 
DEFINITION 1.4. 
An Adapted Probability Structure (Model) for Lad is a structure 
A = (~,(Ft) t~[O,I],X,P) = (~,X) where X is a real valued stochastic 
process on the adapted probability space ~. 
Before we can give the definition of the notion of interpretation of 
Lad in a model, we need to introduce the main concepts of the general 
theory of processes° 
DEFINITION 1o5. 
Let ~ = (~,(Ft)ts[0,1],P) 
be a fixed adapted probability space and 
X a real valued stochastic process on ~. 
(a) 
X is Right Continuous with Left Limits (r.c.l.l.) if for almost 
all 
we~, the path X(w,-):[0,1] ÷~ 
is right continuous with 
left limits. 
(b) 
X is Adapted with respect to (Ft)t~[0,1 ] if for all t~[0,1] the 

179 
random variable X(t) is Ft-measurable. 
(c) 
X is a Martingale if the following two conditions hold: 
(I) 
For each t, X t is integrable 
(2) 
For all 
s ~ t, E(XtlF s) = X s 
a.s° 
(d) 
X is Progressively Measurable with respect to (Ft)tg[0,1 ] if for 
all ts[0,1] the restriction of 
X 
to ~ x[0,t] is F t xB([0,t])- 
measurable, where 
B([0,t]) is the 
o-algebra of Borel sets in 
[0,t]. 
A ! 
~ x[0,1] is said to be a Progressive set if the in- 
dicator function 
IA(W,t) is a progressively measurable stochas- 
tic process. 
The Pr0gressive 
~-algebra M associated to 
(Ft)ts[0,1 ] is the 
o-algebra on 
~ x [0,i] generated by the 
progressive sets. 
(e) 
A random variable 
S:~ ÷ [0,I] is a S t o ~ w i t h  
respect 
to (Ft)ts[0,1 ] if for all 
t s [0,i] {ws~:S(w)< t} ~ F t . (Stopp- 
ing times are sometimes called Optional Times) o 
(f) 
The 
o-algebra 0 on 
~ x [0,i] generated by the 
p x ~-measurable 
sets 
B 
such that for each 
t g [0,1]B t = {w:(w,t)sB} 
belongs 
to 
F t and 
Bt = 
n 
Bs 
is called the Optional 
o-algebra 
with 
s>t 
~ 
................... 
respect to (Ft)ts[0,1 ] 
(g) 
X is Optional 
if it is measurable with respect to 0. 
(h) 
The 
o-algebra P on 
~ x [0,i] generated by the sets of the form 
A x {0} with 
AsF 0 and 
Ax Is,t] with 
As u Fr is called the 
r<s 
Predictable 
G-algebra with respecto to (Ft)te[0,1 ]. 
(i) 
X is Predictable if it is measurable with respect to P. 
NOTE: In the probability literature there are other ways of defining 
the Optional and Predictable 
o-algebras. 
See for example the correspond- 
ing sections in [D], [DM I] and IMP]. 
The definition of Optional 
o-algebra that we have given is taken from 
[K 3] and we think it is easier 
to understand for the reader not familiar with stochastic processes. 
The following theorem gives an equivalent way of introducing the Optio- 
nal and Predictable 
o-algebras and establishes the relationship between 
them. 
A proof can be found in 
[DMI]. 
THEOREM 1.6 
Let 
~ = (~,(Ft)te[0,1],P) be an adapted probability space, then: 
(a) 
The Predictable (Optional) o-algebra on 
~ x [0,i] is generated 
by the real valued continuous (right continuous) (Ft)-adapted 
stochastic processes on 
~. 

180 
(b) 
P ~ 0 ! M. (These inclusions are usually strict). 
DEFINITION 1.7. 
(Keisler [K3]): 
An Interpretation of Lad inanLad model A is a function 
that assigns to each 
Lad-term 
T(w,t) a P × B n -measurable function 
(~n is the Borel measure on 
[0,I] n) T A such that: 
[ r 
if 
X(w,t) er 
(i) 
If T is [X(w,t)~r] then 
TA(w,t)=~-r 
if 
X(w,t) <-r 
~ X(w,t) otherwise 
(ii) 
If T is a time variable then 
TA(a) = a(as[0,1]). 
(iii) 
If T is 
/@dw 
then 
T A = /TAdp. 
(iv) 
If T is 
/edt 
then 
T A = /eAdB. 
(v) 
For each term 
(~,w,s) the following conditions hold: 
(a) 
(E[T(~,w,s) Is](w,a)) A 
is 
0 × Bn-measurable, where B n is the 
Borel 
o-algebra on 
[0,I] n, n 
is the length of 
~ 
and 0 is 
the Optional 
o-algebra. 
(b) 
For each n-tuple 
b 
we have: 
i- 
(E[T (~,w, s)] s] (w,a)) A 
A ~ 
= E[r 
(b,',')10](w,a) 
P × B a.s° 
2- 
For all 
as[0,1], 
(E[~(~,w,s) Is](w,a)) A = E[TA(b,,,a) IFa](W)(P a.s.) 
LEMMA 
1.8. 
(Keisler 
[K3]): 
Every model A has an interpretation of 
Lad. 
For each term 
T(w,~) 
and all 
~ 
in 
[0,I], any two interpreta- 
tions agree at 
T(w,~) for P-almost all w. 
In particular, if w 
is 
not free in 
T(~) 
then any two interpretations in 
A 
agree at 
T(a) 
for all 
~ 
in 
[0,i]. 
REMA~( 1.9. 
We can see from the definition of interpretation of 
Lad 
in a model that the interpretation of each term is a bounded stochastic 
process. 
The process X may be unbounded but the atomic terms [X(w,t)Fr] 
truncate 
X 
at 
r 
and consequently all the terms, built from the 
atomic terms, are bounded. 
DEFINITION i.i0. 
(Keisler [K3]): 
(i) 
The Logic Lad has the following axiom schemes: 
(0) 
Axiom schemes for two-sorted 
LAf(see [K3]) 
(I) 
Axioms for the conditional e~pectation operator: 
a- E[T(u,~)Iu](w,s ) = ~[T(v,t) Iv](w,s ) where 
u 
and 
v do not occur in t. 
b - ~E[~ I t](w,t) - Tdw = /E[~It](w,t ) .E[TIt](w,t)dw 

181 
(2) 
Axioms for the filtration and stochastic processes: 
a - fF(t)dt = r. For any 
F:[0,1] ÷~ 
continuous with 
flF(x)dx = r 
0~ 
b - 
s-<t ÷E[TIs] = E[E[TIs]It]. 
C - 
A V //flT(W,S) - ~(w,t) l" 
max(0,1-1s-tl'n)dsdtdw 
m n 
1 
< 
m°n 
(ii) 
Lad has the following Rules of Inference: 
a - 
Modus ponens: ~,~ ~ ~ ~ 
b - 
Conjunction: 
{~ ÷ ~I~ E F} ~ ~ ÷A 
c - 
Generalization: 
l-~÷[T(w,s,t) e 0] 
I-~÷f~(w,s,t)dwe 0 
where w is not free in ~. 
2-~÷[T(w,s,t) 
~ 0] 
l-~÷fT(w,s,t)ds e 0 
where s is not free in ~. 
THEOREM Ioli. 
!Rpd~enhausen's completenessan d soundness, for 
Lad ) . A countable set 
of 
Lad-Sentences has a model if and only if ~ is c--onsistent with Lad. 
PROOF. 
See 
[K 3] 
and [K 5] 
B 
To conclude this section we present two notions of elementary equivalen- 
ce for adapted models. 
They were introduced by Hoover and Keisler in 
[HK] 
in a probabilistic context and their importance for 
Lad is explain- 
ed in [K3]. 
Here we just present the definitions and some properties 
without proofs. 
DEFINITION 
1.12. 
(Hoover and Keisler [HK]) 
Let A and B be models. 
W 
(a) 
A is said to be weakly Lad-Equivalent 
to 
B, denoted by 
A ~ B, 
if for every Lad-Sentence 
0:A ~ @ if and only if B ~ @. 
S 
(b) 
A is strongly Lad-Equivalent 
to 
B, denoted by 
A ~ B, if for 
each 
~ 
in 
[0,i] 
and formula 
~(~) 
of Lad in which w is not 
free: 
A ~[~] 
if and only if B ~[~]. 
THEOREM 1.13 
(Hoover and Keisler [HK]) 
Let A and B be models. 
The following are equivalent: 
W 
(i) 
A ~ B 

182 
(ii) 
~±~ere is a set 
T ~ [0,i] of measure one such that for 
each 
~ 
in 
T 
and formula 
~(~): 
A ~[~] 
if and only if 
(iii) 
For each 
L ~-term 
T(~) with no integrals over time varia- 
bles 
• A'~ 
B'~ 
ta) = T ta) 
for almost all 
~ 
in 
[0,I] 
THEOREM I. 14. 
(Hoover and Keisler 
[HK~: 
S 
W 
~a) 
A 
~ 
B 
=> 
A 
- 
B 
(b) 
If 
X 
and 
Y 
are stochastic processes on 
s 
fication 
of 
X 
then 
(~,X) 5 (~,Y). 
s 
(c) 
A ~ 
B if and only if for each 
over time variables and all 
a 
(d) 
If 
T c [0,I] has measure one 
-- 
W 
restricted to 
T 
then 
A ~ B. 
and 
Y 
is a modi- 
Lad-term 
T(~) with no integrals 
in 
[0,I], 
TA(%) = TB(~). 
S 
and 
A ~ B 
with time parameters 
§ 2. A COMPLETENESS THEOREM FOR STOPPING TIMES. 
"Just as the seemingly 
trivial definition of the derivative contains in germ all of the calculus, 
and it its discovery may have involved as much genius as the whole deve- 
lopment that followed it, the seemingly trivia± notion of stopping time 
(due to Doob) is the cornerstone of the "General Theory of Processes" " 
~ith this statement, Dellacherie and Meyer in [DM I] 
(page 115) initia- 
te the study of stopping times (sometimes called optional times). 
Thus 
it seems appropriate that in this paper where we intend to study the 
general theory of processes using adapted probability logic, we dedicate 
some few lines to this basic concept. 
This is precisely the content of 
this section. 
The definition of stopping time (def lo5.d) is very simple 
and it immediately suggests a natural set of axioms. 
We first have to 
observe that stopping times are random variables defined on ~ and not 
stochastic processes on 
~ × [0,i]. 
We do not work with 
L~I, 
the 
probability logic designed for the study of random variables, because 
stopping times take into account the time structure of the adapted pro- 
bability space. 
Instead of artificially using a stochastic process 
symbol 
X(w,t) and giving an axiom that characterizes those stochastic 
processes that are time independent (i.e. random variables), we take as 
primitive symbol the random variable symbol 
S(w). 
The definition of 
Lad-terms (definition 1.3) is modified in the obvious way with [S(w)~r] 
in place of 
[X(w,t)~r]. 
All the results stated in section i remain 
valid with this modification. 
Let us first introduce some notation so 
that we can follow the usual probabilistic practice. 

183 
NOTATION. 
(a) 
From now on we are going to shorten the expression [X(w,t)rr] 
and 
[S(w)~r] to 
Xr(t) 
and 
S r respectively. 
(b) 
Given 
Lad-terms ~ and ~ we write 
~ = ~ a.s. instead of the Lad- 
formula 
719 - ~Idw ~ 0 
and 
~ ~ ~ a.s. 
instead of 
7(4 - min(~,~))dw ~ 0. 
DEFINITION 2.1. 
A model 
A = (~,S) = (~,S,(Ft)te[0,1],P) is said to be 
a Stopping Time model if 
S 
is a stopping time with respect to 
(Ft)te[0,1]" 
DEFINITION 2.2. 
Let 
ST be the following set of axioms in 
Lad: 
(ST1) 
Axioms for 
Lad (see definiton 1.9) 
(ST2) 
A + (0 ~ S r ~ i a.s.) 
rs~ 
(ST3) 
A + (Pt e l)(E[min(Sr,t)It](t) = min(Sr,t)a.s.) 
re~ 
(Intuitively, for almost all 
t 
the random variable 
S rAt 
is 
Ft-measurable). 
THEOREM 2.3 
(Soundness) 
Let 
A = (~,S) be a stopping time model then 
A ~ ST. 
PROOF. 
It follows trivially from the definition of stopping time. 
THEOREM 2.4. 
(ComRleteness) 
Let ~ be a countable set of sentences in 
Lad. 
If ~ uST is Lad-Consistent , then ~ has a stopping time model. 
PROOF. 
If we go back to Keisler's proof of the completeness theorem 
for Lad(See [K 3] and [K5]), it is easy to see that by adjoining axioms 
(ST 2) 
and 
(ST 3) to (ST I) 
we can get a model 
A = (~,S) of ~ having 
the properties written in parentheses. 
This model is 
"almost" the 
one that we want but we have to make sure that these properties hold 
everywhere and not only almost surely. 
We proceed as follows: 
From 
(ST 2) 
we can find 
U i ~ of measure one such that 
(I) 
For all 
weU 
and 
all 
r~ +, Sr(W ) e [0,i]. 
If we recall that for all 
wen S(w)= lim Sr(W) 
then using (I) the 
r÷~ 
function S': ~ ÷ 0,i 
defined by 
S'(w) = I S(w) 
if w ~ U 
1 
if w ~ U 

184 
has the following properties: 
(2) 
(i) 
S' is measurable (the probability space is complete) 
(ii) 
S' = S a.s. 
CLAIM. 
S' is a stopping time and 
A' = (~,S') is a model of 
~: 
In 
order to prove this we just have to check that for all 
ts[0,!] the 
random variable 
S'A t 
is 
Ft-measurab!e. 
By (ST 3) we know that there 
exists 
T c [0,I] of measure one such that: 
(3) 
For all 
t sT,SA t is Ft-measurable. 
We can strengthen (3) to 
(4) 
For all 
t c [0,I], 
SAt 
is Ft-measurable. 
This is easy to see: 
First observe that we can assume 
0 c T, since 
the function 
SA 0 
is trivially 
Fo-measurable. 
Now let's consider 
te [O,I]\T. 
Since [O,I]\T has measure zero, for each 
n ~ 
we can 
find 
mne T such that 
(i) 
for each 
nc ~ mn<mn+ I < t 
and 
(5) 
(ii) 
lim 
m n = t 
n+~ 
For each 
ws~ 
we have 
S(w)A t = lim S(w)Am n. 
By (3) 
we know that 
n+~ 
SAm n is 
Fmn-measurable and by (5.i) we have 
is 
Ft-measurable ; 
therefore 
SAt 
is also 
for each n the function 
that for each n, 
SAm n 
Ft-measurable as we wanted to show. 
Finally, given the fact that the filtration 
(Ft)te[0,1 ] satisfies the 
usual conditions, we can conclude that 
(4) 
holds with 
S' in place 
of S. 
This proves that 
S' is a stopping time and by 
(2.ii.) the model 
A' 
is weakly-elementarily 
equivalent to and so 
A' b ~. 
D 
§3. 
COMPLETENESS THEOREM FOR STOCHASTIC PROCESSES. 
Given a theory 
T in 
Lad, when does 
T 
have an adapted model A = (~,X) with 
X 
a 
predicctable process on 
~? 
In this section (theorem 3.12)we answer 
this question; 
in other words, we prove a completeness theorem for 
predictable processes. 
Similar questions can be asked by replacing 
predictable by optional or progressively measurable, 
and corresponding 
completeness theorems can be proved. 
The main difficulty in finding 

185 
correct axiomatization of these notions arises from the fact that the 
notions of predictable, optional and progressive processes are given 
in terms of measurability conditions with respect to 
o-algebras on the 
product space ~ x [0,i] but the conditional expectation operator for Lad 
only 
"talks" 
about 
o-algebras defined on 
~. 
Therefore there are 
no "obvious" ways of axiomatizing these notions in 
Lad. 
Using tools 
from Probability theory and the model theory of adapted probability 
logic we can find the correct axioms and prove the completeness theorems. 
To conclude this section we present a completeness theorem for martin- 
gales. 
In handling this notion it is, in principle, easy to write down 
the 
"obvious" 
axioms but we immediately realize that a universal quan- 
tifier over time variables is needed. 
(See remark 3.9 for some comments 
about this problem); 
nevertheless, we are able to avoid this obstacle 
by making use of a simple probabilistic construction. 
Here are the 
details° 
DEFINITION 
3°1o 
(Skorokhod [Ski): 
Let 
~ 
be an adapted probability 
structure and 
X 
a stochastic process taking values in a Polish space 
(M,B(M)) 
where 
B(M) 
is the Borel 
o-algebra on M. 
S is Countably 
Generated in 
(M,B(M)) 
if 
o({X(t):t E [0,i]}) 
is contained in the 
completion under 
P 
of a countably generated 
o-algebra. 
Now we state the main results from probability theory that we use in 
this section. 
THEOREM 
3.2. 
(Skorokhod [Ski) 
Let 
X = (X(t)) t [0,i] be a countably 
generated 
M-valued stochastic process. 
The following are equivalent: 
(a) 
X has a predictable modification 
(i.e. there exists 
Y 
on 
predictable such that for all t, Y(t) = X(t)a.s.) 
(b) 
For all 
tE[0,1], X(t) is Ftl measurable, where Ft_ = o( u Fs). 
s<t 
THEOREM 3.3. 
(Dellacherie and Mexer [DM2]): 
If X is a measurable 
adapted stochastic process on 
~ 
then there exists an optional process 
Y on 
~ 
such that for all 
t~[0,1], X(t) = Y(t) a.s. (i.e. X has an 
optional modification). 
REMARK 
3.4. 
The obvious question is: 
are there enough countably 
generated stochastic processes? 
In an earlier version of this paper we 
gave an argument showing that the optional processes are countably 
ge- 
nerated. 
The referee has pointed out that it is easy to prove that 
any measurable process is countably generated. 
The importance of Skorkhod's theorem 
3.2 
for us is that it gives a 

186 
a characterization of 
"predictable modification" 
in terms of a measu- 
rability condition with respect to the 
o-algebras 
(Ft~)ts[O,l ]. 
The following theorem is going to show us a natural way of expressing 
this condition in the language of adapted probability logic. 
THEOREM 
3.5. 
Let ~ 
= (~, (Ft)t~[O,l]P) 
be an adapted probability 
structure and X = (X(t))ts[0,1 ] an integrable stochastic process on 
(i.e. for all 
te[O,l], / X(w,t)dP < ~). 
The following are equivalent: 
(a) 
X(t) 
is 
Ft-measurable 
(b) 
~ ~ plnlE(X(t) IFt_I/p) 
X(t) I < I/m a.s. 
PROOF. 
Condition (b) is just a "suggestive" way of writing: 
(I) 
E[X(t) IFt_I/n] n-~X(t) 
a.s. 
For each n e~ let: 
I 
Ft-I/n 
if 
t e i/nan d X(n) = E[X(t) IF(n)] 
F(n)= 
L F 0 otherwise 
Clearly, the sequence (X(n))ns ~ 
is a discrete martingale with respect 
to the increasing family of o-algebras (F(n)) n c~" 
Since 
X(t) is 
integrable, we can apply a well known martingale convergence theorem due 
to Levy (see for example 
[DM 2] Thm. 31, page 28). 
With our notation 
the theorem says: 
(3) 
X(n ) = EEX(t)]F(n )3 n÷ E[X(t) lO(n~F(n )] 
a.s. 
Using this fact our theorem can be easily proved as we now indicate. 
Suppose 
X(t) 
is 
Ft_-measurable. 
This by definition, means: 
E[X(t) IFt_] = X(t) 
a.s. 
with 
Ft_ = O(s~tF s) = ~( u 
F(n)), 
n ~ 
therefore by (3) and (a) we have 
X(n ) = E[X(t) IF(n )] --~ X(t) 
a s 
and this is 
(b) (i e. (I)) 
Suppose 
(b) holds, then X(n ) ÷ X(t ) a.s. 
and by (3) we can conclude 
E[X(t) IF t] = X(t) a.s. 
D 
NOTE° 
Observe the importance of the integrability condition on the 
stochastic process 
X = (X(t))te[0,1 ] in the previous theorem, 
in 
particular, if X 
is bounded then it is integrable. 

187 
DEFINITION 3.6. 
A model 
A = (~,X) is said to be a Predictable Model 
if the stochastic process X is predictable with respect to (Ft)tg[0,1 ]. 
Similarly we can define adapted, progressively measurable and optional 
models. 
By Theorem 1.6, every predictable model is optional, every 
optional model is progressively measurable and every progressively mea- 
surable model is adapted. 
LEMMA 3.7. 
Let 
~ = (~,(Ft)t~[0,1],P) 
be an adapted probability struc- 
ture. 
(a) 
If 
A = (~,X) is an adapted model then there exists an optional 
stochastic process 
Y 
on ~ 
such that the optional model B= (~,Y) 
is strongly Lad-equivalent to A. 
(b) 
If X(t) is 
Ft_-measurable then 
X(t) is 
Ft-measurable. 
PROOF. 
(a) 
Recall that in our definition of stochastic process (def l.b) we 
only deal with measurable stochastic processes° 
Then if X 
is 
adapted, Theorem 3.3 provides an optional modification 
Y 
of X 
s 
and Thm 1.14ob shows that 
B = (~,Y) ~ A= (~,X). 
(b) 
Trivial. 
By definition, 
F t_ ! F t- 
We can now present the first completeness theorem. 
It basically says: 
"If X is adapted this is enough in order to get an optional model". At 
first sight it may seem strange that from an adapted model we can go to 
an optional model (compare the definitions), but the force behind this 
is Theorem 3.3 which is a non-trivial probabilistic result. 
THEOREM 3.8. 
(Soundness and Completeness for Adapted, Progressively 
Measurable and Optional Processes): 
Let 
T be a countable 
set of sentences in Lad. 
(a) 
If T has an adapted model then 
T U{rAE~+(Pt ~ l) (E[Xr(t) I t] (t ) = Xr(t ) a.s.) 
is consistent in Lad° 
(b) 
If 
T u{ A 
(et > l)(E[Xr(t)It](t ) = Xr(t ) a.s ) 
r~+ 
- 
is consistent in Lad 
then T has an Optional model. 
PROOF. 
(a) 
Immediate from the definition of adapted model. 

188 
(b) 
If we add the axiom 
T u { A + (Pt ~ l) (E[Xr(t) I t] (t) = Xr(t) 
a.s.) 
re~ 
to the list of axioms for 
Lad (definition 1.9), Keisler's proof of the 
completeness theorem for 
Lad (see [K 3] and [K5]) 
can be naturally ex- 
tended in order to get a model 
A = 
(~,X) 
of T, 
such that: 
(i) 
For each 
r s2 + , 
for almost all 
t~[0,1], 
Xr(t) is 
Ft-measurable. 
From (i) we can find 
U c [0,i] of measure one such that: 
(2) 
For each 
r 
2 + 
for each 
t 
U, Xr(t) 
is 
Ft-measurable. 
Let 
X' = (X'(t))ts[0,1 ] be defined as follows: 
If 
tc[0,1] and 
ws 
then let 
X'(w,t) = lim E[Xr(t) IFt](w) 
if the limit exists and 0 other- 
wise. 
r-~ 
CLAIM. 
The model 
A' = (~,X') is an adapted model of T: 
It is easy to 
see that 
X' 
is adapted since for each 
r s ~+ E[Xr(t) IF t] 
is 
Ft-measu- 
rable and this property is preserved by passing to the limit. 
By the definition of the truncated process 
(Xr(t))tg[0,1 ] we know that 
for each 
we ~ and each 
t c [0,i] : 
(3) 
lim Xr(W,t) = X(w,t). 
Then by (2) and (3) for all t sU and almost all 
w s ~: 
X'(w,t) 
= 
lim 
E[Xr(t) IFt](w ) 
= 
lim Xr(w,t ) = X(w,t) 
r÷~ 
r÷~ 
w 
Therefore by proposition 1.13.d. 
A' ~ A and so 
A' ~ T. 
Finally by 
lemma 3.7.a 
we can find an optional modification 
X ~ of 
X' 
and the 
model 
A" = (~,X") 
is such that 
A" ~ A' and consequently 
A" 
is an 
optional model of T as we want to show. 
REMARK 3.9° 
In the above proof we did not immediately get an adapted 
model of T due to the fact that with the integral quantifier we can only 
make sure that a given property holds for almost all 
te[0,1] but not 
necessarily for all 
t ~ [0,i]. 
A research problem proposed in Keisler 
[K 3] is to develop adapted probability logic with the addition of the 
universal quantifier ranging over time variables. 
If this were done, 
the argument of the previous theorem could be simplified and many pro- 
perties of stochastic processes that hold for "all times" could be 
naturally expressed in this extension of adapted probability logic (see 
sec. 4.4 in [K3]). 

189 
DEFINITION 
3.10. 
Let 
P 
be the following set of axioms in Lad. 
(PI) 
Axioms for Lad (see definition 1.9) 
(P2) 
(et~l)( A 
A 
V 
A (Pu~l)(t-I/p<u<t+IE[Xr(t) lu](u)-Xr(t)<i/m a.s.) 
rs~ + 
ms~ 
nsiN 
pzn 
(intuitively, for almost all t, ~(t) 
is F t_-measurable). 
THEOREM 3o11. 
(Soundness of P) 
The axioms of P are true in every pre- 
dictable model. 
PROOF. 
It follows from the soundness theorem for Lad and theorem 3.2 
and 3.4. 
We are now ready for our main completeness theorem. 
THEOREM 3.12. 
(Completeness Theorem for Predictable Processes). 
Let T 
be a countable set of sentences in Lad. 
If 
T uP 
is consistent in Lad 
then 
T 
has a predictable model. 
PROOF. 
Let's first make an observation about 
L i f (Logic with integral 
quantifier) 
Consider structures for 
L 
of the form 
• 
~I f 
! 
A = (~,(Yn) 
,Y,P) where the Yn s 
and Y are unary random variables 
n siN 
and add to the axioms of L 
the axiom 
^ v A 
i Y 
- YI < I/m a.s 
~if 
m n p~n 
p 
Then Keisler's completeness theorem for 
L w /(see [K3]) can be extended 
1 
to obtain models A as above where 
Y 
--~ Y a.s. in ~. 
n 
n÷~ 
The idea here is to introduce countably many new stochastic process 
symbols (Xn)n e~ 
that are going to represent the processes 
(E[X(t) IF 
]) 
. So, for each n let 
X n = (X$ (t)) 
t-i/n 
ts[0,1],n s~ 
r 
t~[0,1] 
be defined by 
(I) 
X n (w,t) = 
E[Xr(t) I F 
] (w) 
if 
t -> I/n 
t-I/n 
EEXr(t) IF ](w) 
if 
t-< i/n 
0 
As we noticed in Theorem 3.5, the expression 
/l 
/l 
/l IE(Xr(t) IF 
) - Xr(t) I < i/m a.s. 
Just means 
main 
nslN 
p ->n 
t-i/p 
xn(t)~-~Xr(t) 
a.s.. 
Axiom (P2) is the formal way of expressing this 

t90 
(for almost all t) in the language of Lad. 
Therefore any model in which 
axiom (P2) holds is such that: 
(2) 
For all 
rg~ + for almost all 
tc[0,1] the random variable Xr(t) 
is Ft_-measurable. 
By the above remarks it is clear that we can get a model 
A = (~,X) of 
T 
such that 
(2) is true of X. 
Using a similar argument to the one 
given in the proof of theorem 8.b. 
we can find a process 
X' = X'(t))t~[0,1 ] on 
~ 
such that: 
(3) 
For all 
tE[0,1]the random variable X'(t) is Ft_-measurable and 
w 
(4) 
A' = (~,X') ~ A. 
By lemma 3.7 and theorem 3.3 we can find an optional modification 
X" = (X"(t))ts[0,1 ] of X' such that 
s 
(5) 
A"= 
(~,x") z A' 
By the characterization (Theorem 1.13.c) of strong equivalence and (P2) 
property (3) also holds in 
A". 
Then by theorems 3.2 and 3.4 we can 
obtain a predictable modification X''' = (X'''(t))t~[0,1]of X" such that 
the model A''' 
(~,X''') s A .
.
.
.
 
= 
_ 
~ 
. Thus 
A 
' is the desired predictable 
model of 
TuP. 
D 
If we take a close look at the above proof we will see that the theory 
T plays a "cosmetic" role because its importance is only felt in Keisler's 
proof of the completeness theorem, for Lad and we are just quoting his 
theorem. 
We can isolate the main model theoretic feature with the follow- 
ing 
THEOREM 3.13. 
If A 
~ "for almost all t, X t is Ft_-measurable," then 
there is a predictable model B such that 
A ~_ B. 
D 
Let's remark that all the other completeness theorems from this section 
can also be put in this form. 
We leave the details to the interested 
reader. 
The two previous theorems are stated in a form that is familiar 
to logicians but we can use the same proof in order to present some 
results that are along the lines of the probabilistic work of Hoover 
and Keisler in [HK]. 
We refer the reader to that paper where all the 
undefined notions that appear in the following theorem can be found. 
THEOREM 3.14. 
Let 
X 
and 
Y 
be stochastic processes (on perhaps 
different adapted spaces) and suppose 
X 
is predictable, then 
s 
(a) 
If X and Y have the same adapted distribution (X ~ Y in our lan- 

191 
guage) then Y 
has a predictable modification (but Y 
itself is 
not necessarily predictable). 
(b) 
We can find a predictable stochastic process 
Z 
on the adapted 
S 
Loeb space such that 
X ~ Z. 
PROOF. 
(a) 
Just read carefully the proof of Theorem 3.12. 
(b) 
Use (a) and the saturation property of the adapted Loeb space. D 
Finally we study the notion of martingale which is of central importance 
in probability theory and crucial for the development of the general 
theory of processes. 
A thorough exposition of the theory of discrete 
and continuous time martingales can be found in [DM 2] 
We are going to 
prove a completeness theorem that gives us martingales with time parame- 
ter [0,I) 
instead of 
[0,i]. 
The problem arises because i is an end- 
point on the right. 
After the proof of the theorem we indicate how to 
take care of this problem. 
DEFINITION 3.15. 
Let 
M 
be the following set of axioms in Lad: 
(M I) 
Axioms for Lad (see Definition 1.9). 
(M 2) 
(et ~ I) ^ v 
A 
(f[Xq(t)-Xp(t)Idw < I/n) 
n m qepem 
(M 3) 
A+ (Pst>l)(s~t 
÷ (E[Xr(t) Is](s) = Xr(s)a.s.) ) 
r~ 
Intuitively, axiom (M2) says that for almost all 
t 
the random variable 
X(t) is integrable. 
THEOREM 3.16. 
Let 
T be a countable set of sentences in Lad° 
If T u M 
is consistent in Lad then T 
has a martingale model. 
PROOF. 
As in previous theorems the first step is easy: 
use 
M 
to 
extend Keisler's proof of the completeness theorem for Lad in order 
to get a model 
A = <~,(Xt)ts[0,1],(Ft)tE[0,1],P> 
of 
T 
such that: 
(i) 
For almost all t, X t is integrable 
(2) 
For almost all (t,s)s[0,1)xE0,1), if 
s ~ t 
then E(XtlF s) = 
X 
a.s. 
s 
We now show how to find a martingale 
(Yt)tE[0,1) living on 
W 
(~,(Ft)t~[0,1],P) such that 
A ~ B= <~,(Yt)ts[0,1],(Ft)ts[0,1],p>. 
From (i) 
and 
(2) 
we can get G ! [0,I) of measure one such that: 
(3) 
For all 
t s G, X t is integrable 

192 
(4) 
For all 
t E G 
the following holds in 
A: 
(Ps -> l)(s ~ t ÷ E(XtlF s) = X s a.s- 
It is easy to verify that (Xt)ts G 
is a martingale. 
integrability condition. 
So we just have to clneck: 
For all 
s,tsG(s-<t ÷ E(XtlF s) = X s a.s.) 
In order to see this let 
s, tsG with s-< t0 
rsG such that 
s -< t <r 
and 
(5) 
E(XrIF s) = X s a.s. 
(6) 
E(XrIF t) = X t a.s- 
Thus we have: 
E(XtlFs)a?sE(E(Xr;Ft) IF s) by 
(6), 
a.s.= 
E(XrIFs) 
since 
F s _< F t 
= X s by (5) 
a.s. 
(Yt)ts[0,1). 
If 
t ~ G 
Now the definition of 
s t > to 
Let 
ts[0,1) 
X t 
Yt 
= 
E(Xst 
(3) gives us the 
Using (4) we can find an 
find s t s G such that 
if 
tgG 
IF t) 
if 
t ~ G 
It is a simple exercise to show that 
(Yt)te[0,1) is a martingale and 
we leave it to the reader. 
Finally observe that for all 
t s G, X t = Yt 
and since 
G 
has measure one theorem 
1.14.d. tells us that 
A w 
= B as we wanted to show. 
0 
Let's indicate what to do if we want to have a martingale with 
ts[0,1]. 
The idea is that in order to ensure the transition from 
[0,i) to 
[0,I] 
we have to have a uniformly integrable martingale. 
Fortunately in Lad we can express the fact that on a set G c_ [0,I) of 
measure one (Xt)ts G is uniformly integrable. 
We do it by adding the 
following axiom to the list of axioms of the definition 3.15: 
A 
V (Pt e i) 
(fl 
t) 
Xm(t) Idw < I/n)) 
(M 4) 
n 
m 
(q>A 
m 
Xq( 
- 
Once this axioms holds in our model (see above proof) we can choose from 
G an increasing sequence (dn) n slq converging to 1 and define 

193 
YI = n_~=lim Xdn. 
It is now easy to show that (Yt)te[0,1] is a martingale 
and we leave the details to the reader. 
REFERENCES 
[An] Anderson, R.M., A non-standard Representation of Brownian Motion 
and It8 Integration, Israel J.Math 25(1976), pp. 15-46. 
[As] 
Ash, R., Real Analysis and Probability, Academic Press (1972) 
[C] 
Cutland, N., On the Existence of Strong Solutions to Stochastic 
Differential Equations on Loeb Spaces, Z.W,V.G., 60(1982), pp. 
335-357. 
[D] 
Del!acherie, C., Capacites et Processus Stochastiques, Springer- 
Verlag, (1972). 
[DM I] Dellacherie, C. and Meyer, P.A., Probabilities and Potential, 
Vol. I, North-Holland, 1978. 
[DM 2] 
, Probabilit~s et Potentiel, Vol. II, Hermann, 1980. 
[E] 
Elliot, R., Stochastic Calculus and its Applications, Springer- 
Verlag, (1982). 
[F] 
Fajardo, S., Probability Logic with Conditional Expectation 
in: Annals of pure and applied Logics (To appear). 
[H I ] Hoover, D., Probability Logic, Ph.D. Thesis,Univ. of Wisconsin 
(1978) 
[H 2] 
, Probability Logic, Ann.Math.Logic 14 (1978),pp. 287- 
313 . 
[H 3] 
, A Normal Form Theorem for Lw, p with Applications, 
J.S.L. 47(1982), pp. 605-624. 
[H 4] 
, A Probabilistic Interpolation Theorem. 
(To appear) 
[HK] 
Hoover, D. and Keisler, H.J., Adapted Probability Distributions. 
T.A.M.S. (To appear). 
[HP] 
Hoover, D. and Perkins, E., Nonstandard Construction of the 
Stochastic Integral and Applications to SDE's. 
I and II, T.A.M.S. 
275(1983) ,pp. 1-36 and 37-58. 
[K I] Keisler, H.J., An Infinitesimal Approach to Stochastic Analysis. 
Memoirs Amer.Math.Soc. 297, Vol. 48(1984). 

194 
[K 23 
Keisler, H.J., Hyperfinite Probability Theory and Probability 
Logic. 
Lecture Notes, Univ. of Wisconsin (Unpublished)(1982). 
[K 33 
, Probability Quantifiers, To appear in Abstract Model 
Theory and Logics of Mathematical Concepts, ed. by J. Barwise and 
F. Feferman, Springer-Verlago 
[K 43 
, Hyperfinite Model Theory, pp. 5-110 in Logic Collo- 
quium 76, North-Holland (1977). 
[K 5] 
, A Completeness Proof for Adapted Probability Logic. 
(To appear) 
[Li] 
Lindstr6m, T., Hyperfinite Stochastic Integration, I,II, and III. 
Math. Scando 46(1980), pp 265-333. 
ELo] 
Loeb, Po, Conversion from Nonstandard to Standard Measure Space 
and Applications to Probability Theory, T.A.M.S. 211(1975), pp. 
113-122. 
[MP] 
Metiver, M. and Pellaumail, J., Stochastic Integration, Academic 
Press, 1980o 
[Pal 
Panetta, L., Hyperreal Probability Spaces: Some Applications of 
the Loeb Construction, Ph.D. Thesis, Univ. of Wisconsin (1978) 
[Pe] 
Perkins, E., Stochastic Processes and Nonstandard Analysis. 
L~ 983. 
[R] 
Rodenhausen, H., The Completeness Theorem for Adapted Probability 
Logic, Ph.D. Thesis, Heidelberg University (1982). 
[Ski 
Skorokhod, A.V., On Measurability of Stochastic Processes, Theory 
of Probability and Its Applications, Vol. XXV,(1980), pp.139-141. 
I wish to thank my advisor, Professor H.J. Keisler for suggesting the 
subject of this paper and for his invaluable cormments. 
This research 
was partially supported by a University of Wisconsin Research Assistant- 
ship. 

A BARREN EXTENSION 
J.M.Henle 
Smith College 
Northampton, Mass. 
U.S.A. 
W o Hugh Woodin 
California Institute of Technology 
Pasadena 
California 
U.S.A. 
A.R.D. Mathias 
Peterhouse 
Cambridge, England 
ABSTRACT. 
It is shown that provided w ÷ (w) m, 
a well-known Boolean 
extension adds no new sets of ordinals. 
Under an additional assumption, 
the same extension preserves all strong partition cardinals. 
This fact 
elucidates the role of the hypothesis 
V = L[R] in the Kechris-Woodin 
characterization of the axiom of determinacy. 
§0. 
INTRODUCTION. 
Let 
B = Power(m)/Fin be the quotient of the Boolean algebra 
of all subsets of m by the ideal 
Fin 
of finite sets, and P = [m]m/Fin 
the set of non-zero elements of 
B, with the induced 
partial ordering. 
We shall study the Boolean extension that results from using 
P 
as a 
notion of forcing: with a famous theorem 
[5] 
about the existence under 
AC 
of (ml,ml*) gaps in 
P 
in mind, we shall call this the Hausdorff 
extension. 
Our underlying set theory is Zermelo-Fraenkel. 
We shall be working in 
contexts where the full axiom of choice is false; 
at times, we shall 
use DC, the axiom of dependent choices, or DCR, its weaker form, which 
states that if 
Q 
is a relation on 
Power(n) such that Vp~ q Q(p,q), 
then there is a map 
f:m÷Power(m) such that 
Vn Q(f(n),f(n+l)). 
Our 
notation of Boolean extensions and forcing follows that described in 
Mathias 
[15], 
3.7 
and 
3.8. 
We write 
[<]% 
for the set of subset 
of < of order type 
%, 
and follow Supercontinuity 
[8] 
in our notation 
of partition relations. 
It has long been known that under 
DCR 
the Hausdorff extension adds no 
new sets of integers: what it does add is a Ramsey ultrafilter on ~. 
(Cf [15], 
Theorem 
4.2). 
For a recent discussion under 
AC 
of 
P, 
see Dordal [3]. 
Since without 
AC 
there are difficulties in the simultaneous choice of 

196 
representatives of equivalence classes , it will be convenient to take 
as our forcing conditions infinite subsets 
p,q 
of ~, with the under- 
standing that if p 
and 
q 
have finite symmetric difference, written 
p~q, they force the same statements, and that 
p 
is a stronger condi- 
tion than 
q 
if 
p\q 
is finite. 
In section i we prove in the theory 
ZF + w ÷ (m)m 
that the Hausdorff 
extension is barren in the sense that every map in the extension from 
an ordinal into the ground model lies in the ground model: in particular, 
no new sets of ordinals are added. 
We characterize this latter proper- 
ty in terms of the Galvin-Prikry notion 
[63 
of completely Ramsey 
families. 
In section 2, 
we consider three set-theoretic principles, called LU, 
LSU and EP. 
LU and 
LSU are the weak and strong uniformisation princi- 
ples discussed in Mathias [16], 
where it is shown that 
LSU 
is equi- 
valent in 
ZF + DCR 
to 
m ÷ (m)m + LU, 
and that 
LSU is true if 
AD 
holds and 
V = L[R] or if ADR holds, or if 
V 
is Solovay's model for 
"all sets of reals are Lebesgue measurable". 
EP, which we derive in 
this section from 
LSU 
in the theory 
ZF + DCR, is, to use the topo- 
logical terminology of Ellentuck 
[4] , the assertion that the inter- 
section of any well-ordered collection of co-meagre sets is co-meagre. 
In section 3, 
we prove in the theory 
ZF + LU + EP that the Hausdorff 
extension preserves every partition property of the form K ÷ (~)%~, 
where 
K > ~, 
2 ~ 
< K, and 
0 < ~ = ~ ~ ~. 
Finally, in section 4, we comment on the implications of the results 
of section 
3 
for the recent characterization [123 
of AD 
in 
L[R] 
by Kechris and Woodin, and discuss some problems related to our work: 
reference to this discussion is made 
in the text by the string 
[PROB]. 
Assumptions are given in full in the statements of theorems, but may 
be omitted in Lemmata and Propositions when the flow of the narrative 
demans it. 
The end of a proof is signalled by 4. 
§i. 
THE BARRENNESS OF THE HAUSDORFF EXTENSION. 
THEOREM 1.0. 
Let 
M 
be a transitive model of 
ZF + ~ ÷ (~)~ and 
N 
its Hausdorff extension. 
Then 
M 
and 
N 
have the same sets of 
ordinals; 
moreover every sequence in 
N 
of elements of 
M 
lies in M. 
PROOF. 
It will be sufficient to prove in the theory 
ZF + 
m ÷ (~)~that 
^ 
^ 
^ 
if P0 
l~ f:~ ÷ V, then for some 
q0 ! Po' 
qo 
T~ fcV. 
Fix then such 
P0' f' ~ and suppose that no such 
q0 exists. 
Then for 

197 
each 
p c [P0 
there will be at least one ordinal ~ < ~ for which no 
xcV 
exists with 
p I~ f(~) ~ x: 
define 
~(p) to be the least such ~. 
For 
P ! ~, define 
P~ ! m, Pr ! ~ 
by writing 
q for the monotonic 
enumeration of 
q i m and setting 
p~(n) = p(2n), Pr(n) = p(2n+l). 
Now define a partition 
~:[p0 ]~ ÷ 3 by setting 
~(p) = 0, 1 or 2 accord- 
ing as 
~(p~) is less than, equal to, or greater than 
~(pr ), and let 
PE[p0]~ be homogeneous for 
~. 
Notice that 
~(P) = I: for putting 
k = min P 
and 
Q = P\{k}, 
we have 
Q~ = Pr' Qr = P~\{k}; 
P~ 
and 
P~\{k} 
force the same statements, and so have the same value under 
~; 
thus if 
~(P) = 0, 
~(Q) = 2; 
if 
2, 0; 
but 
~(P) = ~(Q) by homogenei- 
ty, so 
~(P) can only equal I. 
Put now 
v = ~(P). 
By definition of ~ there are 
q,r e [P]m and 
x,y c V 
^ 
^ 
with 
x # y, q 
I~ f(~) ~ x 
and 
r 
I~ f(~) ~ y. 
Define 
se[P] ~ by 
choosing the first three elements of 
s 
from 
q, the fourth from 
r, 
then three from 
q, 
then one from r, 
and so on, so that 
s~ ! q, 
(Sr) ~ 
(st) 
c r 
c q, 
r 
" 
Since 
s r 
is compatible with both 
q 
and 
r, 
and extends 
P, ~(s r) =~. 
Since 
s~ ~ q, 
~(s~) e ~(q); 
but 
~(q) >~, 
since 
q ! P 
and 
q 
forces the value 
x 
for 
f(~). 
So 
~(s~) > ~(s r) 
and thus, 
~(s) = 2 # 1 = ~(P) = ~(s), an evident absurdity. 
As in Happy Families 
[15], 
for 
s ~ [m]<~, we write 
Isl for 
sup{n+lJn ~ s}, 
and for 
p ~]~ 
with 
Isl ~ np, 
we write 
Is,p] 
for 
{x~[~]~l s ! x ! sup}. 
Thus 
[0,p] = [p]~. 
DEFINITION i.i. 
A subset 
A 
of 
[~]~ will be called invariant 
if 
(p e A 
and 
p~p') 
always implies 
p' ~ A; 
similarly a function 
F 
defined on (an invariant subset of) [m]m will be called invariant if 
(p ~ domain(F) and p~p') always implies (p' ~ domain(F) 
and 
F(p)=F(p')). 
DEFINITION 1.2. 
Following Galvin and Prikry [6] we call a subset 
P 
of 
[~]m completely Ramsey, or 
CR, if for all 
<s,p> 
there is a 
q ~ [p]~ 
with either 
Is,q] ! P 
or 
[s,q]nP = 0. 
The 
CR 
sets are chosen in ~H in the notation of 
[15], 1.3. 
The sta- 
tement 
m * (m)m 
is equivalent to the assertion that all subsets of 
[~]~ are completely Ramsey. 
DEFINITION 1.3. 
We shall call a subset 
P 
of 
[~]m CR + 
if 
for 
all 
<s,p> 
there is a 
q~[p]~with 
Is,q] c P, and 
CR- 
if for all 
<s,p> 
there is a 
q c [p]~ with 
[s,q]nP = 0. 
The 
CR 
sets are those in 
I H in 
[15], 
1.4, and are the meagre sets 
in the topology defined by Ellentuck in [4]. 

198 
1.4 
In a manner familiar to readers of 
[15], 
we shall want rela- 
tivized versions of these concepts: we shall for example say that 
P 
is 
CR+ on 
Is,p] 
if for all 
<t,q> 
with 
s ! t 
and 
(t\s)uq ! P, 
there is an 
r 
in 
[q]~ with 
It,r] ! P- 
We are now in a position to reformulate a weaker form of the conclusion 
of 1.0 as 
PROPOSITION 1.5 
(ZF) 
The following are equivalent: 
(1.6) 
The Hausdorff extension adds no new sets of ordinals. 
(1.7) 
Let ~ be an ordinal and 
<C%#Iv <~> 
a sequence of invariant 
CR 
subsets of 
[~]0J 
Then there is a 
p~[~]~ 
such that for each 
< ~, C~ is, relative to 
[p]~, either 
CR + 
or 
CR-. 
PROOF. (1.6) ÷ (1.7) : Fix 
<C I%# <~> 
and let 
G 
be the generic 
filter in 
Power(u) 
added by the Hausdorff extension. 
In 
V[G] put 
B = {v < ~ IP c G(Cj, relative to 
[p]~, is 
CR+)} 
^ 
By (1.6), there is an 
A c ~, and a 
q 
such that 
q 
I~- B - A. 
We 
shall show that for all %# in 
A, 
C%# is 
CR + 
relative to 
[q]m, and 
that for all%#not in 
A, 
C 
is CR- 
relative to 
[q]~, by proving the 
%# 
contrapositives of these statements. 
Let 
v < ~. 
If 
C%# is not 
CR + 
relative to 
[q]W, 
then since 
Cv 
is 
CR 
there is 
Is r]c 
[0,q] 
with 
Is,r] nC 
empty, so by the invariance 
_ 
^ 
%# 
?B, 
of 
C , 
[r] ~ nC%# is empty, and so r 
i~v~ B; 
hence 
q ~ 
~e 
so 
^ 
^ 
q 
~ 
%#eA, and thus %# ~ A. 
If 
C v is not 
CR- 
relative to 
[q]~, there is 
Is,r] ! [0,q] 
with 
^ 
Is,r] c C , 
so by invariance 
[r]~i C%#, and so 
r 
i~- v c B; 
hence 
q ~v~ 
B, so 
q 
~ A, and so 
%#~A. 
A 
(1.7) ÷ (1.6): 
Suppose 
I~ B ! ~" 
Set 
C 
= {ql q 
I~ 
~ c B}. 
Then each 
C 
is invariant. 
Notice that 
C 
is 
CR + relative to [p]m 
^ %# 
%# 
]~ 
^ 
iff 
p 
l~%#eB, and 
C%# 
is 
CR- relative 
to 
[p 
iff ^p 
]~v~ 
B: so 
a 
p 
satisfying the conclusion of 
(1.7) will force 
B c V. 
REMARK 1.8. 
(1.7) 
is false without the hypothesis of invariance: 
for 
n~, 
let 
C n = {p I n~ inf p}. 
1.9 
The conclusion of Theorem 1.0 may be derived from certain 
square-bracket partition relations: write 
m ÷ [~]~, where 
2 ~ % ~ w, 

199 
to mean that for any 
~:[~]m + % 
there is an 
x e [m]m such that for 
some 
v < % 
and all 
y ~ [x] ~, ~(y) # v. 
Kleinberg has observed that 
from a sequence 
<~n I 2 ~n <~> of partitions of [m]~ , where for each 
n, ~n 
is a counterexample 
to 
m ÷ [mien' a counterexample to m ÷ [m]m~ 
may be constructed: 
thus assuming 
DC, or at least 
AC 
for countable 
families, 
~ ÷[~]~ 
implies that for some 
n < ~, 
~ ÷[~]~n+2. 
It is 
not known whether 
m ÷ (~)~ can be derived from any 
~ ÷ [~]~n 
for 
n e 3 [PROB] 
but the conclusion of theorem 
1.0 may be derived as follows. 
Suppose 
m ÷ [~]mn. 
Let B be a prime number very much larger than n, 
and for 
p ~ [~]~, 
0 ~i < B, 
let (P)i be 
{p(mB+i) Im~ ~}. 
Thus if 
q = p\{p(0)} 
, (q)i = (P)i+l' (q)B-i = (P)0 \{~(0)}" 
Let 
P0' f' ~' ~ be as in the proof of Theorem 1.0. 
Set 
~(p) = {ili<B 
and 
Vj<B~((p)j) ~((p)i)}. 
By (repeated) application of 
w + [~]~n, 
a 
p c [p0 ]~ may be found for 
which 
@[[p]~] is of cardinality less than n. 
But then 
~((p)0 ) = 
~((p)l ) = ... = ~((p)B_l ) for any 
p e [p]~, 
since if 
~((p)j) < ~((p)i ) 
for some 
i,j 
less than B , by the primality of B and the invariance 
of 
~, 
the B values 
*(p), 
,(p\{p(0) }), 
,(p\{p(O) ,p(1) }) .
.
.
.
 
,(p\{p(0),p(1) ..... p(B-l)}) 
will be distinct. 
Now put 
~ = ~(p). 
As before, there are 
q, r e [~]m, x, 
y e V, 
with 
q I~ f(v) E x, r I~ f(~) ~ y, and 
x # y. 
Find 
s c qur 
so that 
(s)0n q 
is infinite, 
(s) 0nr 
is infinite, 
(s) I i q- 
Then 
$((s) 0) = v 
while 
~((s) I) z ~(q) > 9, 
contradicting the property of 
established in the previous paragraph. 
V 
REMARK i. I0. 
It is a theorem of Vopenka and Balcar [21] 
that if 
two transitive models, of which at least one is known to satisfy the 
axiom of choice, have the same sets of ordinals, they coincide. 
That 
they might differ if neither satisfies 
AC 
is due to Jech 
[9]: for 
an extension of that result, see Monro [17]. 

200 
2. 
THE LARGENESS OF THE INTERSECTION OF 
CR + FAMILIES. 
DEFINITION 2.0. A function 
F:[~] ~ + Power(m) 
is called strongly 
continuous on 
[s,p] 
if there is a tree 
<tulU e [p]<~> of finite sub- 
sets of ~ such that for all q ~ [p]~ 
and all 
k e q, 
F(q) n(k+l) = tqn(k+l). 
DEFINITION 2.1. 
A relation 
R c [m]~ x Power(u) is (strongly) uni- 
formised on 
[s,p] 
if there is some (strongly continuous) function 
F 
such that for all q ~ [s,p], R(q,F(q)). 
DEFINITION 2.2. 
LU (LSU) is the assertion that for any relation 
R 
as above, such that 
Vp] y R(p,y), {xlR is (strongly) uniformised 
on 
[0,x]) is 
CR +. 
THEOREM 2.3. (ZF + DCR + LSU) 
Let e be any ordinal and.<C I~ < e> 
a sequence of 
CR + 
families. 
Then 
n C 
is 
CR +. 
PROOF. 
For e countable, this is a theorem of 
ZF + DCR, and is due 
to Galvin and Prikry [6]. 
A proof may be given by the methods of Happy 
Families 
([15]; 
see in particular Proposition I.i0). 
Let us therefore suppose the theorem true for all sequences of 
length less than 
e , and that it fails at O for the sequence 
<C J~ < e> 
By the minimality of e and the first sentence of this proof 
e must be of uncountable cofinality. 
Now put 
D 
= df {p E [~]~l[p] ~ c 
n C }. 
Then by Proposition 2.8 of 
Happy Families (for the case 
A = [m]~, B = [m]m\( n 
C )) 
D 
is CR + 
~<~ 
, 
for each ~ < e , D 
~ D~ for 
~ < ~ < e, 
q ! P ~ D 
implies 
q ~ D , 
and, by relativizing to some 
[s,S] 
if necessary, we may further assume 
that 
v~eD 
is empty. 
Thus we may define 
X(P), for pe[~] m 
to be the least ~ <e with p ~ D 
The function X:[~] m+e will have these properties: 
q i P ÷ X(P) ~ x(q), 
Define now 
that 
V~<8 
V <s,q> ]p~[s,q] (X(P) >v). 
~(p) = u{x(q)[q=p} 
and 
¢(P) =n{x(q)]q=P}. 
We assert 
w 
V qc[~] ]p c [q]~(~(q) < ~(p)). 
To see that, put 
v = ~(q), construct sequences 
n o <n l<n 2 < ... and 
q = P0 Z Pl ~ P2 ~ "'" such that for each 
i,n i = min Pi' and for each 

201 
s _c n.+l~ , [s,Pi+l ] ~ D v, and 
set 
p = {niJi < m}. 
If 
p'z p, there is an 
n k such that 
p'\n k = Pink, so 
p' e [p'n(nk+l), 
Pk+l ], 
so 
p' c D , and 
X(P') >v; 
consequently ~(p) >v. 
By 
LSU, there is a 
p ~ [m]m and a strongly continuous function 
F:[p] ~+[p]~ 
such that 
Vp e [p]m(F (p) ! P 
and 
$(F(p)) >~(p)). 
Define the relation 
R 
on 
[p]m by setting 
R(p,q) 
iff 
]q'~q ]p'=p(F(p') 
= q'):R will be well-founded since if 
R(p,q), 
x(q) e ep(q) = qb(q') >q~(F(p')) >~(p') = ~(p) ->X(P)- 
Since 
F 
is continuous, 
R is Borel, and so by the Kunen-D~rtin theorem 
(Moschovakis 
[18], 
page 99, Theorem 2G.2; 
see also page 114, footnote 
12), if we define 
pR(q) = U{PR(P)+lJp c [p]~ and 
F(p) = q}, then for 
some n less than 
ml 
and all 
q E [~]w 
pR(q) < n. 
Notice that for any 
<s,p> 
with 
sup ! p, there is a 
q c Is,p] 
with 
p R(q) > PR(SUp). 
To see that, take 
q = su(F(p)\Jsl): then sup~p 
and 
q~F(p), so 
R(sup, q), and so 
pR(q) > PR(SUp)- 
Thus if for 
~ < n we set 
E~ = {p c [p]~JpR(p) = ~}, each 
E~ 
will be 
CR- relative to 
[0,p] 
But then since ~ is countable 
u E 
is 
CR- 
• 
~<n 
~ 
' 
relative to 
[0,p]; 
but that is absurd, 
as 
[0,p] = 
u E . 
~<n ~ 
DEFINITION 2.4. 
EP 
is the statement of Theorem 2.3, that the in- 
tersection of any well-ordered collection of 
CR + 
sets if 
CR +. 
PROPOSITION 
2.5 (ZF) 
EP implies 
(1.7). 
PROOF. 
If 
<C J~ < ~> 
is as in (1.7), let 
D 
= {xJVs !nx 
(Is,x] i C 
or 
[s,x]nC~ = 0} 
Then each 
D~ 
is 
CR+: by 
EP, 
n D 
is not empty. 
• 
v<~ 
Let 
P 
be a member: then P satisfies the conclusion of (1.7). 
§3. 
THE PERSISTENCE OF PARTITION PROPERTIES. 
PROPOSITION 3.0 (ZF + EP) 
Let ~ be an ordinal and 
~:[~]m ÷ [K]K 
an invariant function. 
Then ~ is constant on some 
[p]~. 
PROOF. 
For 
~ <K, put 
C 
= {pjv ~ ~(p)}. 
Then each 
C 
is invariant, 
so by 
1.7, which by 2.5 follows from 
EP, there is a 
p ~ [m] ~ such that, 
relative to 
[p]m, 
each 
C 
is either 
CR + 
or 
CR- : put 

202 
D 
= {qe [p]~l[q] ~ ! C } in the first case and 
= {q~ [p]mI[q]~C 
= 0} 
in the second. 
Then each 
D v 
is 
CR + 
on 
[p]~. 
Let 
p 
be in the intersection, 
non-empty by 
EP, of 
{Dvlv <K}. Then 
for each 
qe[p]m and ~ <~, 
~ e ~(q) 
iff 
~ ~ ~(p), since 
C 
c C 
+ qe C 
÷ ~ ~ ~(q), 
and 
~ ~(P) ÷ P e 
+ Dv - 
v 
n C 
= 0 + q ~ C 
÷ ~(q) 
~ ~(p) ÷ p ¢ C~ + D 
~ 
REMARK 3.1. 
The above Proposition may fail if ~ is not required to be 
invariant : for example, if ~ is an injection. 
PROPOSITION 3.2 
(ZF + LU) 
Suppose that 
0 < ~ = ~X ~ K, 
2 ~ 
< K, K ÷ (K)%~, 
that there is a surjection 
~:[w] ~ ÷ [K] < 
and that 
[~]w> 
is a collection of partitions 
~p:[K] % + p. 
Then there 
<~plP £ 
is a 
p* ~ [~]m 
and an invariant function 
~:[p,]m + [<]K 
such that 
for each 
p ~ [p*]~, 
~(p) 
is homogeneous for 
#p. 
PROOF. 
For each 
p, 
define 
pp:[~]~ ÷ ~ 
by 
pp(X) = ~p( x ), 
where 
as in 
Supercontinuity 
[8] , x 
={ o 
x(m~+n) l~ < %}: 
note 
nE~ 
that as 
w% = k, ~x 
is in 
[K] ~ whenever 
x 
is. 
Set 
Hp = {qc [~]~I~(q) 
is homogeneous for 
pp}. 
By 
LU 
there is a 
p* 
and an 
F:[p*] ~ ÷ [~]~ such that for 
all 
q ~ [p*]~, 
~(F(q)) 
is homogeneous for 
pp. 
Write 
B(q) = ~(F(q)). 
For each 
q ~ [p*]~, 
define 
C(q) ¢ [K] < thus: 
let 
C(q)(0) be the least 
ordinal greater than all 
B(q')(O) 
for 
q' ~ q; 
let 
C(q)(~) 
be the 
least ordinal ~ such that 
setting ~ 
= v{C(q)(~')I~' <v}, 
the interval 
[q,~) contains at least one element of each 
B(q') for 
q' ~ q. 
The regularity of < ensures the soundness of this definition. 
Note that 
this definition does not rely on an enumeration of any 
{q'lq' ~ q}, 
and 
therefore that 
C(q) = C(q')whenever 
q ~ q' : so that C is invariant. 
Now put 
~(q) = ~C(q). 
Then ~ is invariant; 
any 
x~ [~(q)]~ is of the 
form 
~y for some y E [B(q)] %, and hence 
~q(X) = ~q~y) 
= pq~), which, 
by the homogeneity of 
B(q), is independent of 
y 
and therefore of 
x. 
Hence 
~(q) 
is homogeneous for 
~q 
as required. 

203 
THEOREM 3.3 
(ZF + EP + LU) 
Suppose 
0 <~ = ~ ~ <, 2~p<~,< ÷ (K)l~, 
and that there is a surjection 
~:[m]m ÷÷ [<]< 
Then in the Hausdorff 
extension, 
K ÷ (<)~. 
PROOF. 
Note first that by 
2.5 
no new subsets of < are added; 
conse- 
quently 
[<]% is the same whether interpreted in the ground model or in 
the extension, and thus may be written without ambiguity. 
Note secondly that 
~ ÷ (<)kp+l. 
^ 
Suppose 
P0 I~ f:[<]% ÷ P- 
We shall find a 
P2 ~ [P0 ]~ and an 
A~ [<]< 
such that 
P2 I~ f 
is constant on 
[A]~. 
For each 
p e [p0 ]~, 
define a partition 
~ :[<]~ ÷ ~+I 
by 
P 
~p(A) = ~ 
if 
P l~ f(A) ~ 
~p(A) = p 
otherwise. 
By 
3.2, there is a 
Ple [P0 ]~ and an invariant function 
~:[pl ]m ÷ [<3 K 
such that for each 
p e [pl ]~, 
#(p) 
is homogeneous for 
Zp. 
By 3.1 
there is some 
P2 E [pl ]~ with ~ constant on 
[p2 ]~. 
Set 
A = ~(p2 ). We 
assert that 
P2 I~ A 
is homogeneous for 
f. 
If not, there will be 
D,E c [A]~, 
q e [p2 ]m, ~ < ~ < p 
with 
^ 
^ 
(~) 
^ 
q l~ (f(D) ~ g and 
f 
~ ~): 
so 
~q(D) = $, ~q(E) = ~, 
and thus 
A is inhomogeneous 
for 
~q. 
But 
A = ~(p2 ) = ~(q) 
which is homogeneous 
for 
~q. 
-[ 
§4. 
PARTITION CARDINALS WITHOUT DETERMINACY. 
An important ordinal in the study of 
AD 
is 
~, 
the least 
ordinal > 0 
onto which Power(m) cannot be mapped. 
LEMMA 
4.0. 
If the Hausdorff extension is barren, then 6 is the 
same whether calculated in the ground model or in the extension. 
^ 
PROOF. 
Suppose 
PIP 
f:[~]~ ÷ ÷ 8. 
For each pair (q,r) with q\p finite, 
^ 
^ 
put ~(q,r) = ~ if 
q I~ f(r) ~ ~, 
and 
~(q,r) = 0 
otherwise. 
Then 
is a surjection of 
[~]~ x [~]0,i onto 
e, 
a contradiction. 
PROPOSITION 4.1 (AD + V = L[R]) 
If 
0 < ~l= 
~ ~< 
, 
K ÷ (<)Ip, 
then 
K + (K)%p in the Hausdorff extension. 
2_<~ < < 
and 
PROOF. 
By a theorem of Kleinberg 
[14], < 
is measurable, 
so by argu- 
ments to be found in 
[13], < < 8 ; hence, by a theorem of Moschovakis 

204 
([18], 7D.19, page 442), there is a surjection 
~:[m]m ÷ +[K] < . 
DC is provable in 
ZF + AD + V = L[R], by Kechris 
[i0]; 
so is 
LSU, 
by Theorem 2.2 of 
[16]; 
by Theorem 
2.3 above, 
EP then holds. 
Thus all the hypothesis of 
3.3 
hold, so the conclusion follows. 
THEOREM 4.2 
If AD 
is consistent, so is 
DC + 
V~<@ ~ K(~ ~ m < @ 
and K is a strong partition cardinal) + "there is 
a Ramsey ultrafilter on 
m". 
PROOF. 
If AD 
holds, it stays true in L[R], as strategies are reals. 
Again, by 
[i0], 
DC holds, 
so 
DC 
holds in the Hausdorff extension. 
As 
m ÷ (m)m, 
(cf Theorem 2.2 of 
[16]), 
the extension is barren. By 
the results of Kechris, Kleinberg, Moschovakis and Woodin 
Eli], 
there 
are arbitrarily large strong partition cardinals below @ in the ground 
model, so by 
4.0 
and 
4.1, the same holds in the extension. 
A remark 
in the introduction completes the proof. 
REMARK 4.3. 
The significance of 
4.2 
is that as the existence of an 
ultrafilter on ~ implies the failure of AD, the hypothesis 
V = L[R] 
is an essential ingredient in the Kechris-Woodin [12] 
derivation of AD 
from the existence of arbitrary large strong partition cardinals below 6. 
REMARK 4.4. 
The arguments of section 1 generalize with little change 
to obtain a new proof of Henle's result 
[7] 
that Spector forcing 
[20] 
at a strong partition cardinal K is barren. 
REMARK 4.5. 
If AD 
holds and 
V = L[R], 
then 
~i 
and 
~2 
are 
measurable, and 
~ + (~)m, 
so in the Hausdorff extension, there is a 
Ramsey ultrafilter on 
~, and 
ml 
and 
~2 
are still measurable: we 
may say that there are in this model two and a half contiguous measurables. 
A model for that statement may also be found assuming something presuma- 
bly much weaker than 
Con(AD): by an unpublished result of Woodin, a 
model of 
ZFC 
in which < is 
%-supercompact and 
~ > < is measurable 
admits a Boolean extension in which 
K = el' 
~ = ~2' < 
and ~ are still 
measurable, and 
~ ÷ (~)~; 
in the Hausdorff extension of that model, 
there will be a Ramsey ultrafilter on 
~, 
while the measures on K and 
will remain measures as no new subsets of either will be added. 
Several open problems are related to 
[16] 
and the present work: 
PROBLEM 4.6. 
Can 
m ÷ (m)m 
be deduced from m ÷ [mien 
for any 
n ~ 3? 
PROBLEM 4.7. 
Does 
AD 
imply that 
ml 
is huge? 
Is there a huge 

205 
measure on 
[~2]~I? 
PROBLEM 4.8. 
Is it a theorem of 
ZF + DC + ~ 
2~° 
i ~ 
or of 
ZF + 
DC + ~ + (~)~ 
that there are no 
MAD families coded on 
~? 
PROBLEM 4.9. 
Is there a 
k c ~ such that it is a theorem of 
ZF + DC 
that there cannot exist 
k 
contiguous measurables? 
By a result of Kechris, if AD 
is consistent, 
k 
must be greater 
than three, 
k 
might be quite small, though: for limitations on conti- 
guous large cardinals, see Apter 
[I] 
and 
Bull 
[2]. 
PROBLEM 4.10. 
Is 
EP 
a theorem of 
ZF + DC + ~ ÷ (~)~ ? 
The least 8 for which 
2.3 
fails must be measurable. 
PROBLEM 4.11. 
If < and % are strong partition cardinals with 
~ < %, 
will < remain strong in the Spector extension for 
~, or vice versa? 
The similarities between strong partition cardinals and 
w, 
when 
÷ (~)~, 
which are studied in 
[83 , and the result mentioned in 4.4 
above, suggest 
that SDector forcin~ should preserve somethin~ more than 
plain measurability. 
But there are limits: the analogue of 2.3, when 
+ 
is replaced by a strong partition cardinal 
K, 
fails for 
e = < . 
PROBLEM 4.12. 
Does 
ADR 
imply that every set of reals is Souslin? 
A theorem of Woodin states that ADR is provable in 
ZF + AD + "every 
set of reals in Souslin". 
PROBLEM 4.13. 
How strong is the theory 
ZF + DC + V = L[R] + 
"8 is a regular limit cardinal"? 
Does it prove the existence of 
~# 
for 
every real 
~? 
The challenge in this question is to get 8 a limit cardinal: it is a 
result of the Cabal that 
ZF + DC + V = L[R] 
proves that 6 is regular. 
In 
[133, 
Kechris and Woodin show that if AD + V = L[R] holds, then 
O 
cannot be weakly compact. 
PROBLEM 4.14. 
It follows from the results of 
[I03, 
that Con(~ I 
is a strong partition cardinal) follows from, 
e.g., Con(there are 
arbitrarily large strong partition cardinals), but the proof goes via 
determinacy. 
Is there a direct proof? 

206 
REFERENCES 
[ 13 Apter, A.W. 
Some results on consecutive large cardinals, 
Annals of Pure and Applied Logic, 25(1983), 1-17. 
[ 23 Bull, E.L. 
Successive large cardinals, Annals of Mathema- 
tical Logic, 15(1978), 161-191. 
[ 33 
Dordal, P.L. 
Independence Results concerning Combinatorial 
Properties of the Continuum, Thesis, Harvard, (1982). 
[ 4] Ellentuck, E. A new proof that analytic sets are Ramsey, 
J. Symbolic Logic 39(1974), 163-165. 
[ 5] Hausdorff,F. 
Summen von ~i 
Mengen, Fundamenta Mathematicae, 
26(1936), 241-255. 
[ 63 
Galvin,F. & 
Borel sets and Ramsey's theorem, J.Symbolic Logic 
Prikry,K. 
38(1973), 193-198. 
[ 7] Henle, J.M. 
Spector forcing, 
J.Symbolic Logic 49(1984), 542-554. 
[ 8] Hen!e, J.M. & Supercontinuity, Mathematical Proc. Cambridge 
~thias,A.R.D. Philosophical Society 92(1982), 1-15. 
[ 93 Jech, T. 
On models for set theory without AC, Mathematical 
Reviews, 43 # 6078. 
[I03 
Kechris, A.S. 
The axiom of determinacy implies dependent choices 
in L[R], J. Symbolic Logic 49(1984), 161-173. 
[i13 
Kechris, A.S., The axiom of determinacy, strong partition proper- 
Kleinberg'E'M''ties and non-singular measures, Cabal Seminar 
Moschovakis,Y. 
N. & Woodin,W. 77-79, Springer Lecture Notes in Mathematics, 
H. 
Volume 839, ed. by A.S. Kechris, D.A.Martin and 
Y.N. Moschovakis, 75-99. 
[123 
Kechris,A.S. & Equivalence of partition properties and deter- 
Woodin,W.H. 
minacy, Proc. Natl.Acad. Sci. United States of 
America, 80(1983), 1783-1786. 
[133 Kechris,A.S.& On the size of 0 in L[R], (To appear). 
Woodin,W.H. 
[143 Kleinberg,E.M. Infinitary Combinatorics and the Axiom of Deter- 
minateness, Springer-Verlag Lectures Notes in 
Mathematics, Vol. 612(1977). 
[15] Mathias,A.R.D. Happy Families, Annals of Mathematical Logic, 
12(1977),59-111. 

[16] 
[17] 
[18] 
[19] 
[20] 
[21] 
Mathias,A.R.D. 
Monro, G. P. 
Mos chovakis, 
Y.N. 
Oxtoby, J. C. 
Spector,M. 
V 
Vopenka,P. & 
Balcar,K. 
207 
A notion of forcing: some history and some appli- 
cations,(To appear). 
Models of ZF with the same sets of sets of ordi- 
nals, Fundamenta Mathematicae, 80(1973),105-110. 
Descriptive Set Theory, North Holland, Studies in 
Logic, vol. 100(1980). 
Measure and Category. 
Springer-Verlag, New York, 
Heidelberg, Graduate Texts in Mathematics, vol. 2 
Second Edition (1971). 
A measurable cardinal with a non-well-founded 
ultrapower, J.Symbolic Logic 45(1980),623-628. 
On complete models, Bull. l'Acad~mie Polonaise des 
Sciences, S~r.Sci.Math.Astron. et Phys. 15(1967), 
839-841. 

PROOF FUNCTIONAL CONNECTIVES 
E.G.K. Lopez-Escobar 
University of Maryland 
Department of Mathematics 
College Park, MD. 20742 
U.S.A. 
A characteristic of the classical propositional connectives is that they 
are truth-functional, that is,the truth of a sentence depends only on 
the truth of its prime components. 
On the other hand the intuitionis- 
tic connectives are supposed to be much less dependent on semantical 
notions. 
Consequently, one avoids saying that a "sentence is true", 
rather one tends to say: 
"the construction 
c 
proves (or justifies) the sentence A". 
Nevertheless, some aspects of truth-functionality can still be found in 
that: 
(I) a construction 
c 
either proves a sentence 
A 
or it does not , 
(2) the conditions for a construction to prove a compound sentence is 
given in terms of the conditions for the proof of the components; 
for example, 
c 
proves the conjunction (A 0 A Ai) iff 
C 
is a pair 
of constructions 
<c0,cl> 
such that 
c o 
proves 
A 0 
and 
c I 
proves 
A i • 
Thus for a conjunction to be provable it is necessary (and sufficient) 
that the conjuncts be provable. 
In other words, the fact that quite 
different constructions may prove a given formula is not exploited in 
traditional intuitionism. 
G. Pottinger [1980] 
introduced a conjunction, which he called "strong 
conjunction", which requires more than the existence of constructions 
proving the conjuncts. 
According to Pottinger: 
^ 
"The intuitive meaning of 
~ 
can be explained by saying that to 
^ 
assert 
A ~ B 
is to assert that one has a reason for asserting 
A which 
is also a reason for asserting B"° 
Hence ~ is one of the first, if not the first, connective which is tru- 
ly proof-functional. 
This paper is an introduction to the "logic" of 
a proof-functional connective; 
in fact for the most part we shall con- 
sider the extension of the positive intuitionistic calculus of impli- 

209 
A 
cation obtained by the addition of strong-conjunction 
~. 
As with any "new" logic, there are five questions that immediately come 
to mind: 
(I) Is there a reasonable, intuitive concept of validity for the senten- 
ces of the language? 
(2) Is there a formal concept of validity for the sentences of the 
language? 
(3) Is there a formal concept of derivation for the sentences of the 
language? 
(4) What are the relations between (I), (2)and (3)? 
(5) How does the new connective affect familiar mathematical theories 
(for example : elementary number theory)? 
The paper is broken down into 5 sections corresponding to the above 5 
questions. 
§1.INTUITIVE VALIDITY. 
I.i THE LANGUAGE ~. 
The sentential language ~ 
is to have the 
following symbols: 
p,q,r .... 
for the sentential variables, 
for the conditional connective, 
for Pottinger's strong conjunction, 
( , ) 
for auxiliary symbols. 
1.2 AN INTUITIVE INTERPRETATION FOR THE INTUITIONISTIC CONNECTIVES. 
Let 
HA(C) 
express the (decidable) predicate 
"the construction 
c 
proves the sentence 
A" 
and 
~(c,O(x)) 
express the (decidable) pre- 
dicate "the construction 
c 
proves the free-variable formula e(x)" 
Finally if 
c,d 
are constructions then 
d'c 
is result of applying 
d 
to 
c, 
The Brouwer-Kreisel interpretation of the intuitionistic conditional is 
that: 
(*) 
~A=B(<C,d>) 
iff 
~(c,(~A(X) ~ ~B(d'x))). 
And although 
(*) 
is not universally accepted, it certainly is, and was, 
a good point of departure for an intuitive interpretation for the in- 
tuitionistic conditional. 
1.3 AN INTUITIVE INTERPRETATION FOR STRONG CONJUNCTION. 
The Brouwer- 
Kreisel interpretation for ordinary conjunction a is 
~AAB(<C,d>) 
iff 
~A(C) A ~B(d). 

210 
(5) 
(6) 
(7) 
(8) 
(9) 
(lO) 
(ll) 
The latter suggests the following interpretation for strong conjunction 
~A~B(<C,C>) 
iff 
~A(C) ^ ~B(C). 
The following are equivalent interpretations 
(in an appropriate theory 
of constructions) 
~A~B(C) 
iff 
~A(C) ^ 7~B(C) , 
~A~B(<C,d>) 
iff 
~A(C) A ~B(d) ^ c ~ d, 
where 
~ 
is an equality relation on constructions. 
1.3 AN INTUITIVE CONCEPT OF VALIDITY FOR SENTENCES OF ~. 
A sentence 
A 
of 
~ 
is intuitively valid 
iff there is a construction 
c 
such 
that 
~A(C). 
The following sentences are easily seen to be intuitively valid: 
(I) 
A ~ (A~B) ~ B 
(2) 
(A=B) ~ (A=C) = (A=B~C) 
(3) 
(A=B~C) = (A=B) ~ (A~C) 
(4) 
(A=C) = (A~B=C) 
A ~ B = (A=B) 
A = (B=C) = (A~B=C) 
A~B=A 
A=A~A 
A ~ B = B ~ A 
((A~B)~C) = A ~ (BgC) 
{(A=B~C) = (A=B) ~ (A=C)} ~ {(A=B) ~ (A=C) = (A=B~C)} 
We let 
IVAL~ 
be the set of intuitively valid sentences of ~. 
§2.FORMAL VALINITY. 
2.1 APPLICATIVE ALGEBRAS AND CURRY ALGEBRAS. 
The formal semantics 
for 
Z 
is to be of the algebraic type. 
However instead of using the 
algebras of open sets, we plan to use algebras related to Curry's com- 
binatory logic. 
2.1~i 
DEFINITION~ 
An applicative algebra is an algebra M = <M,o>, 
where o is a binary operation on M. 
Given an applicative algebra 
<M,o>, then instead of writing 
"o(a,b)", 
we will write 
"(a,b)". 
A polynomial in 
<M,o> is a term built up 
from indeterminates 
x,y,z,...,elements 
of 
M 
and the application 
operator. 
2.1.2 
DEFINITION. 
A combinatory algebra is an applicative alge- 

211 
bra 
<M,o> 
which is non-trivial 
(i e. contains at least two elements), 
and which is combinatory complete; 
that is, to each polynomial 
h(x,y,...,z) 
in 
<M,o> 
there corresponds an element 
a ~M 
such that: 
VxVy...Vz[(..~(a,x),y) ..... z) 
= 
h(x,y ..... z)] 
2.1.3 
DEFINITION. 
A curry slgebra is an algebra 
C 
= 
<M,o,k,s> 
such that 
<M,o> 
is an applicative algebra and 
(I) 
k 
# 
s, 
(2) 
VxVy[((k,x),y) 
= 
x], 
(3) 
VxYyVz[(((s,x),y),z) 
= 
((x,z),(y,z))]. 
It was one of the first theorems on combinatory logic that the Curry 
algebras are combinatory complete. 
2.2 
SATISFACTION IN CURRY ALGEBRAS. 
Assume that 
C 
= 
<M,o,k,s> 
is a Curry algebra. 
A 
C-proof 
assignment is a function 
pa 
which maps the sentential variables to sub- 
sets of M. 
We extend 
pa 
to act on all sentences of 
~ 
by requiring 
that: 
pa(A=B) 
= 
{m ~M! Vn[n Epa(A) ÷ (m,n) c pa(B)]} 
pa(A~B) 
= 
pa(A) n pa(B). 
The elements in 
pa(A) 
will be called the "pa-proofs of 
A 
(in the 
Curry algebra C)". 
Loosely spesking, a sentence 
A 
of 
~ 
is to be formally valid iff 
pa(A) # 
~ 
for every Curry algebra 
C 
and 
C-proof 
assignment 
pa. 
However, because of the constructive 
(intuitionistic) 
charscter of the 
logic, a certain degree of uniformity is required. 
We achieve the re- 
quired uniformity by using terms of a first order language 
~C 
suitable 
for both the Curry algebras and the proof-assignments. 
Or more specifi- 
cally, 
~C 
is the first-order language (with equality: m ) which also 
contains 
the individual constants: 
K, S, 
the binary (infix) function symbol: 
, 
the unary relation symbols: 
P,Q,R .... 
Next, given a Curry algebra 
C 
= 
<M,o,k,s> 
and a 
C-proof assignment 
pa 
we form the first-order structure: 
C[pa] = 
<M,o,k,s,pa(p),pa(q) .... >. 
Clearly 
C[pa] 
is a structure 
associated to the language 
~C" 

212 
In order to relate 
pa(A) 
to satisfaction in C[pa], we associate to 
each formula 
A 
of ~ 
a formula 
~A[X] 
of ~C as follows: 
if A 
is the sentential variable 
p, 
then ~A[X] = P(x),~.., 
if A 
= 
(B~C), then 
~A[X] = 
~B[X] ^~c[X], 
if A 
= 
(B=C), 
then ~A[X] = 
VY[~B[y] =~c[X-y]]- 
A routine induction then gives us that for every sentence 
A 
of ~: 
(*) 
m 
satisfies 
~A[X] 
in the structure 
C[pa] 
iff mepa(A). 
Finally, given a closed term 
t 
of the first-order language 
~C 
and 
a Curry algebra 
C, 
t C 
is the denotation of 
t 
in the algebra 
C. 
We are now ready for the definition of formal validity: 
2.2.1 
DEFINITION. 
A sentence 
A 
of ~ 
is formally valid 
iff 
there is a closed term 
t of the first-order language 
L~ 
such that 
~ 
C 
for all Curry algebras 
C 
and all 
proof-assignments 
pa:t e pa(A). 
In view of the remark (*), the condition "t C ~pa(A)" can be replaced 
by: 
(**) 
The first-order sentence 
~Art] is true in the structure 
C[pa]. 
We let FVAL~ 
be the set of sentences of 
~ which are formally valid. 
2.3 
AXIOMATIZABILITY OF THE FORMALLY VALIDSENTENCES OF ~. 
Let CA be the following set of sentences of ~C: 
-IK ~ 
S, 
VxVy[((K-x)-y) ~ x], 
~x~y~zE(((S-x) .y) .z) ~ ((x-z)- (y.z)) ] 
and 
THMcA be the set of logical consequences of 
CA. 
G@del'a completeness theorem and (**) gives us that: 
2.3.1 
THEOREM. 
A formula 
A 
of ~ 
is formally valid iff there 
is a closed term 
t 
of ~C 
such that 
~A It] E THMcAo 
An immediate consequence of the above theorem is that 
FVAL~ 
is a 
recursively enumerable set. 
A variant of Craig's lenmm gives us the 
following: 
2.3.3 
THEOREM. 
There is a recursive axiomatization for 
FVAL~. 
PROOF. 
Let 
S0,S 1 ..... Sn,... 
be an enumeration of 
FVAL~ 
by a 
(primitive) recursive function. 
Then for axioms take the following 

213 
set of sentences of ~: 
{(S0&S0),((SI~SI)&SI),(((S2~S2)&S2)~S2) 
.... } 
Clearly the set is recursive. 
As rule'of inference take the rule that 
allows one to conclude 
A 
from 
((--(A~A)~...)&A). 
An application of the concept of formal validity is to show that strong 
conjunction is indeed different from conjunction. 
For example it can 
be shown that there are Curry algebras 
C 
and proof-assignments 
pa 
such that 
pa(A) 
is empty for the following sentences A: 
(i) 
p = (q=p~q) 
(2) 
(p~q) ~ ((p~r) ~ (p~q&r)) 
(3) 
(p~q=r) = (p=(q=r)) 
(4) 
(p=p) & (p=(q=p)). 
§3. FORMAL DERIVABILITY. 
3.1 
MINIMAL REQUIREMENTS. 
Let r ~ A 
be a relation of formal 
derivability between a sentence 
A 
and a finite sequence r of sentences 
of ~.Then the minimal requirements we place on 
~ 
are: 
(R) 
A 
~ 
A, for all sentences of ~, 
(T) 
if 
F 
~ 
A 
and 
A, 
F ~ 
B 
then 
F ~ 
B, 
(M) 
if 
r 
~ 
A 
then 
A ~ 
A 
whenever every sentence that occurs 
in F also occurs in A. 
Furthermore, 
since the conditional is the intuitionistic conditional 
we also require that 
(D) 
F, A I" B 
iff r ~ (A=B). 
3.2 
SEMANTICAL CONSEQUENCE. 
In view of the definition of formal 
validity (see 2.2.1), 
we propose the following definition for semanti- 
cal consequence: 
3.2.1 
DEFINITION. 
The sentence 
A 
is a semantical consequence 
of the sequence 
B I .... ,B r 
of sentences, in symbols: 
BI,..o,B r ~ A, 
iffthere is a term 
txl ..... Xr 
of 
~C 
such that for all Curry algebras 
C 
and all 
C-proof assignments 
pa: 
if 
blC pa(B I) 
,b r Epa(B r) 
then 
t C 
.. b c pa(A). 
'''" 
' 
bl'" 
' r 
We shall say that the term 
t 
validates the pair 
Xl,...,x r 
<<B 1 .... Br>,A>. 

214 
Call a pair 
<F,A> 
a sequent. 
Define 
VALS = {<F,A>IP > 
A}. 
Using the formulae 
~A[X] of section 2.2 
one can then show that: 
3.2.2 
LEMMA. 
VALS is a recursively enumerable set. 
3.3 
A RECURSIVE AXIOMATIZATION FOR DERIVABILITY. 
Let 
<<B00,...,B0r0>,A0 > , <<BI0 .... Blr > ,AI> .... be an enumeration of 
VALS 
by a (primitive) recursive function. 
Then let 
AXMS 
be the 
following set of sequents: 
{<<(B00~B00) ..... (B0r0~B0r0)>, (A0~A0)>,<<((BI0gBI0)~BI0) .... 
((B!r ~Blr )~Blr )>,((AI~AI)~AI )> .... } 
Again, it is clear that 
AX~S 
is a recursive set of sequents. 
Then let 
~ 
be the smallest relation containing 
AXMS u {<<A>,A> IA 
a sentence of 
~} 
and closed under 
(T), 
(M),(D),(~ ~)* and ( ~)*, 
where the last two rules are: 
(~ 3)* 
F., (... (((.B~B) 
~B) . . . ~.B..) ..... ~... A 
r, B ~ A, 
(~), 
F~ 
(...(((A~A)~A).o.~A.~ 
....... 
F~A, 
respectively. 
After 
verifying 
that 
the above 
mentioned 
rules 
preserve 
semantical 
con- 
sequences 
one 
easily 
obtains 
the 
following 
completeness 
theorem: 
3.3.1 
THEOREM. 
For any sequent 
<F,A>: 
r ~ 
A 
iff 
F ~ 
A. 
3.4 
A SOUND AND NATURAL AXIOMATIZATION FOR DERIVABILITY. 
The set of axioms of the axiomatization given in 
§3.3, although 
recursive, is of no practical use. 
We now present another axiomatization 
which is closer to Gentzen's Sequent calculus for the intuitionistic 
sentential calculus. 
In fact, at first sight, it may appear as simply 
Gentzen's axiomatization for the intuitionistic sentential calculus of 
the conditional and conjunction. 
The modification (for the introduction 
of ~ in the succedent) is in the applicability of the rule, not in the 
schema for the rule. 
Some persons may find the restriction of interest 
since it is a global restriction involving all the nodes above the node 
of the inference, 
and not just those immediately above. 
Unfortunately a price has to be paid for such naturalness and although 

215 
we can show that the axiomatization is sound, we have not yet succeed- 
ed in showing it is complete. 
In order to further emphasize the relation to Gentzen's systems we will 
write the sequents 
in the form 
"r ~ A". 
3.4.1 
AXIOMA SCHEMA: 
A ~A. 
3.4.2 
CUT RULE OF INFERENCE: 
F,A~ 
B 
F ~ A 
r ~ 
B 
3.4.3 
STRUCTURAL RULES OF INFERENCE 
r~A 
(M3N) 
5=>A 
, 
provided 
every 
sentence 
occuring 
in r also 
occurs 
in 5. 
r~ A 
r~ A 
(REP) 
r ~ A 
3.4.4 
RULES OF INFERENCE FOR THE CONDITIONAL. 
(~ =) 
r, A~B 
(= ~) 
r ~ A 
F,B ~ C 
r~A=B 
r ,An B ~ C 
3.4.5 
RULES FOR STRONG CONJUNCTION. 
(~ g) 
r~ A 
r~ B 
(g~) r,B ~ C 
F,B ~ 
C 
r ~ A g B 
F,A g B ~ C 
r,B g A ~ C 
As already remarked the rule 
(--> g) 
is not universally applicable. 
Loosely speaking 
(~ g) may be applied when the (sub) derivations of 
F ~ A 
and 
r ~ B look the same. 
We now proceed to make precise the latter statement. 
3.4.7 
PRE-DERIVATIONS. 
A pre-derivation consists of a finite tree 
T (of "nodes") and two functions 
$ 
and 
~ defined on T. SN is the 
sequent occuring at the node N, while ~ N is the name of the rule schema 
followed in obtaining 
$N; 
in other words 
a pre-derivation in the 
language 
Z 
is to all intent and purposes a derivation (with analysis) 
of the intuitionistic sentential calculus of the conditional and usual 
conj unc t ion. 
Given a pre-derivation 
P 
= 
<T,$,~>, then 
<T,~> 
is called the logical 
structure of 
P. 
The reduced logical structure of 
P 
is the pair 

216 
<T,R> 
where 
R 
is the function defined on 
T 
such that 
= 
unless 
~N 
is either (MON), (REP), (~) 
or 
(~) 
in which case 
A 
R N 
= 
0. 
Then two pre-derivations 
PI = <TI'$1'~I> 
and 
P2 = 
<T2'$2'~2 > 
are 
equivalent, in symbols: 
PI ~ P2' 
iff their reduced logical structures 
are isomorphic. 
3.4.8 
DERIVATIONS. 
A pre-derivation 
<T,$,~> 
is a derivation 
when the following condition is met: 
At each node 
N 
of 
T 
at which 
~ 
= 
(~), 
the two sub-pre-deriva- 
tions immediately above 
N 
are equivalent. 
If 
D 
= 
<T,$,~> 
is a derivation and 
~ 
is the root of the tree 
T, 
then 
D 
is a derivation of the sequent 
$~. 
We write 
"F ~ A" just 
in case that there is a derivation of the sequent 
F ~ A. 
If F is empty and 
F ~ 
A, then 
A 
is a (formally) derivable sentence 
of Z. 
3.4.9 
AN EXAMPLE OF A DERIVATION. 
First consider the following 
two derivations: 
D I 
A = B --> A = B 
A ~ A 
B ~ 
B 
(A=B) ~ (A=C) 
~ A = B 
A,A = B ~ 
B 
(A=B) ~ (A~C),A ~ B 
A = C ~ A ~ C 
A ~ A 
C ~ 
C 
D2 
(A~B) g (A~C) 
~ A ~ C 
A,A ~ C ~ 
C 
(A=B) g (A=C),A ~ C. 
A moments reflexion shows that they are equivalent. 
Thus the following 
is a derivation of 
(A=B) ~ (A=C) = (A~B~C): 
D I 
(A=B) ~ (A=C),A .~ B 
(A=B) ~ (A=C),A 
(A=B) ~ (A=C) 
3.4.10 
D 2 
(A=B) ~ (A=C),A ~ 
C 
B ~ C 
A=B 
~ C 
(A~B) ~ (A=C) = (A=B~C) 
SOUNDNESS THEOREM. 
An induction on the length of the 
derivation gives us that to each derivation 
D 
and each natural number 
n 
we can associate a term 
t D 
such that : 
x0,-.-,Xn_ I 

217 
(i) 
if 
D 
is a derivation of the sequent 
S = B 0 .... ,Bn_ I ~ A, 
then 
t D 
validate 
S 
Xo,--.,Xn_ I 
(2) 
if 
DI,D 2 
are equivalent derivations, then 
D I 
D 2 
t 
= 
t 
x0,..-,Xn_ I 
x0,-..,Xn_ I. 
The 
term 
t D 
can then be used to show that: 
THEOREM.: .... If 
F ~ 
A, 
then 
F 
~ 
A. 
3.4. Ii 
A NORMAL FORM THEOREM FOR DERIVABILITY. 
Another advantage 
of the natural axiomatization given in 
§3.4 
is that we can prove a 
normal form (cut-elimination) theorem for it. 
An interesting aspect of 
the proof of normalization is the essential use of the rules of repetition 
(the structural rule (FDN)also includes the usual rule of repetition). 
Let us call a derivation 
D 
in which there are no cut-formulae of the 
form 
(A~B) 
and 
t-cut-free derivation. 
The first thing we show is how given a derivation 
D = 
<T,$,$> 
and a 
cut-node 
N 
of 
T 
with cut-formula 
(A~B), 
one can transform 
D 
to an 
equivalent derivation with cut-formula either 
A 
or 
B. 
Thus assume 
that around the node 
N, the derivation 
D 
is as follows: 
D 1 
D 2 
F, (A~B) 
~ C 
F --> (A~B) 
F ~ C 
The critical case is when the last rule of inference applied in 
D 1 
[D 2] 
is 
(~ 3) 
[(~g) respec.] 
In such a situation we would 
have (for example): 
2 
D i 
D 2 
F,A ~ C 
F~A 
F ~ 
B 
_F.., (A~B) 
~ C 
. F....-~ 
(A~B) 
F -~ C 
Then we transform the above derivation into the derivation: 

218 
D i 
F,A -~C 
F~A 
r ~A 
F,A ~ C 
F ~ 
A 
r ~ C 
Iterating the above procedure one can then transform a given derivation 
into a derivation which is 
~-cut-free. 
Then traditional methods of reducing a cut-formula of the form (A=B) can 
be modified so as to apply to our axiomatization. 
Intertwining the two 
reductions one can then obtain the normalization theorem. 
§4. 
RELATION BETWEEN THE CONCEPTS INTRODUCED. 
4.1 
THE CLASSICAL CASE. 
Let 
IVALc, SVALc, THM C 
be the sets 
of intuitively valid sentences, 
set-theoretically valid sentences and 
provable sentences (in some natural axiomatization) of classical logic 
respectively° 
Then one usually argues as follows: 
(.i) 
IVAL C 
! 
SVAL C, 
because if a sentence is valid in all possible structures then it certain- 
ly is valid in all set-theoretical structures. 
(.2) 
THM C 
~ 
IVALc, 
because the axioms and rules were chose so as to be correct• 
Combining (.i) 
and 
(.2) 
one then obtains 
(.3) 
THM C 
! 
IVAL C 
! 
SVAL C • 
Then GSdel's completeness theorem, using a rather weak set-theory, gives 
the mathematical result: 
SVAL C 
i 
THM C • 
Combining the latter with 
(.3) 
then gives us: 
(.4) 
THM C 
= 
IVAL C 
= 
SVAL C, 
We remark once again that in order to derive 
(.4) certain existential 
assumptions in set-theory were required. 
4.2 
THE CASE FOR THE (CONSTRUCTIVE) LANGUAGE 
~. 
First of all, 
instead of 4o1.1 
we have 
(.i) 
FVAL~ 
~ 
IVAL~, 
because if we have a term (of combinatory logic) which validates a sen- 

219 
tence 
A, then we do have an intuitive construction that proves A. 
The converse is by no means obvious. 
The soundness theorem, combined with (.I) then gives us 
(.2) 
THM~ 
! 
FVAL~ 
2 
IVAn. 
Now a completeness theorem for the axiomatization of 
§3.4 (we already 
know that FVA~ 
is recursively axiomatizable) would give us only the 
mathematical result that 
TH~ 
= 
FVAL~. 
Unfortunately the above result does not produce the analog of the class- 
ical 4.1.4. 
In order to obtain such a result (even in the presence of 
a mathematical completeness theorem) we need first to justify that 
(.3) 
IVAL~ 2 
FVAL~ 
The latter could be immediately obtained if one could show that any 
intuitive construction could be represented by a term of combinatory 
logic; 
in other words, 4.2.3 would be a consequence of (some form of) 
Church's thesis. 
If Church's thesis is to be involved, then it is probably advisable to 
consider number theory in some more detail. 
§5. 
NUMBER THEORY AND STRONG CONJUNCTION. 
5.5 
A CONCRETE MODEL FOR THE SENTENTIAL LANGUAGE ~. 
Using 
the techniques of Troelstra [1979] one can show that there are primitive 
recursive terms 
E, p, %, 
primitive recursive predicates 
P, ~ and for 
each sentence 
A 
of 
~ 
a primitive recursive predicate 
PA 
such that: 
(.i) 
PRA ~ 
PB~C(~) ~ P(~,FPB(X)~Pc(~(~,x))]), 
(.2) 
PRA 
~ 
PBEC(~) ~ P(n,FPB(%n)^Pc(Pn)^%ngpnT), 
(.3) 
PRA 
~ n ~ ~ A (n-mm=m~n) ^ (n~m^m~r=n~r) 
(.4) 
PRA 
~ PA(~) ^ n ~ m = PA(m) , 
(.5) 
if A c FVAL~, then for some n, 
PRA ~ PA(n), 
where 
PRA 
is primitive recursive arithmetic and F ] gives the numeral 
corresponding to the G~del number. 
5.2 
A FORMAL SYSTEM OF NUMBER THEORY FOR STRONG CONJUNCTION. 
Let 
HA be intuitionistic number theory formulated in a sequent calculus 
~ 
Then HA(E) is the extension of HA 
obtained by 

220 
(I) 
Enlarging the class of formulae so as to include 
&. 
(2) 
Add the inference schemas corresponding to 
(& ~) and (~&), 
(3) 
Add the (binary) rule of repetition, 
(4) 
Define pre-derivations and equivalent pre-derivations analogous- 
ly to 
§3.4.7. 
(5) 
Define derivations in 
HA(&) 
analogously to 
§3.4.8. 
5.2.1 
FORMAL REALIZABILITY FOR 
HA(&). 
Using an induction on the 
logical complexity of the formula 
A 
of 
HA(&) 
one can show that there 
is a formula 
xrA 
of 
HA which formally expresses the recursive rea- 
lizability of 
A. 
The only addition required to Troelstra [1973] 
is the 
clause: 
xrCA&B) 
= 
xrA ^ xrB 
For each formula 
A 
of 
HA(~), 
of ~. 
(see page 193 of Troelstra [1973] )• 
The usual techniques then give us that: 
(.i) 
if 
HA(&) 
~ A, then 
HA 
~ 
~x[xrA] 
Now let 
ECT 0 be the schema of the 
"extended Church's thesis". 
In 
Troelstra [1973] , page 196 it is shown that for formulae 
B 
of 
HA 
(.2) 
~ 
~ 
~x[xrB] 
iff 
HA + ECT 0 
~ B. 
xrA 
is an almost-negative formula 
Combining (.i) 
and 
(.2) 
we then obtain that 
HA(&) 
is conservative 
over 
HA + ECT 0 
(with respect to the formulae of 
HA) 
However 
of 
more interest would be to show that 
~(&) 
is conservative over 
HA 
(which in our opinion is a minimum requirement for & to be considered as 
an "intuitionistic connectlve )• 
In any case, the above conservative 
extension result further supports the contention that the completeness 
of the axiomatization of 
§3°4 
will involve some form of Church's thesis. 
§6. 
CONCLUSION. 
Although we feel confident that the results obtained in this 
note show that proof-functional connectives are viable concepts, we 
do not find that strong conjunction is, per se, of great interest. 
Of 
much more interest would be some kind of strong equivalence; 
two 
possible candidates would be given by: 
(I) 
A ~-> B 
= 
(A~B) ~ (B~A), 
(2) 
~A~B(C) 
~ ~(c,F~A(X ) ~ ~B(X)7). 

221 
But of course, it was strong conjunction that led us to the concept of 
a proof-functional connective. 
It perhaps should be remarked that accepting proof-functional connect- 
ives, such as strong conjunction, requires rejecting the assumption that 
a construction proves a unique sentence and thus forces us to distinguish 
between a construction as an object and a construction as a method. 
REFERENCES 
Pottinger, G. 
[1980] 
Troelstra,A.S. [1979] 
Troelstra,A.S. [1973] 
A Type Assignment for Strongly Normalizable 
%-Terms, in To H.B. Curry: Essays on Combinatory 
Logic, Lambda Calculus and Formalism. Edited by 
J.P. Seldin and J.R. Hindley, Academic Press, 
N.Y. 
The interplay between logic and Mathematics: 
Intuitionism. 
Report 79-01 of the Mathematisch 
Instituut, University of Amsterdam. 
Mathematical Investigation of Intuitionistic 
Arithmetic and Analysis. 
Lecture Notes in Mathe- 
matics, vol. 344, Springer-Verlag Publishing Co. 

ULTRAPRODUCTS AND CATEGORICNL LOGIC 
M. Makkai* 
McGill University 
Department of Mathematics and Statistics 
805 Sherbroo~e ~t. West 
Montreal H3A 2K6 Quebec, Canada 
Introduction 
In categorical logic, there is a natural way of considering the 
idea of a logical operation in general. 
A logical operation can be 
construed as an operation acting on finite diagrams of a given type in 
a given category, yielding finite diagrams in the same category as 
values. 
In symbolic logic, one starts with symbolic expressions having 
certain standard interpretations, and one proceeds to considering the 
symbolic expressions uninterpreted, governed by formal rules of mani- 
pulation. 
The parallel development in categorical logic starts by 
considering a standard category, most frequently Set, the category of 
sets, and certain selected operations, acting on finite diagrams in 
Set. 
The next step is to consider the 'same' operations in arbitrary 
categories; 
the original sets and functions of the diagrams become 
disembodied abstract objects and morphisms, just as sets and relations 
become formulas in symbolic logic. 
In symbolic logic the main step of the transition from the real 
life situation to the symbolic one consists in choosing the rules of 
formal manipulation, including sentence formation, and inference. 
In 
this we are uniquely helped by experience in natural languages; 
one 
only has to codify in precise terms what is already given intuitively 
in a practically complete form. 
In an attempt to clarify the general, or the "true", nature of 
logic, we may, however, be hampered rather than helped by our linguis- 
tic background. 
This background may have been shaped in an arbitrary 
manner by an evolutionary process. 
If one believes, as I do, that 
mathematical logic is essentially a part of the makeup of the physical 
universe, rather than being an addition to it contributed by intelligent 
life, then a theory of logic independent of concrete aspects of language 
is desirable. 
A particular difficulty arising in symbolic logic is the one 
encountered when trying to coach in symbolic terms a general concept of 
* The author's research is supported by NSERC Canada and FCAC Quebec. 

223 
logical operation. 
In abstract model theory, in an attempt at arriving 
at such a general concept, one considers generalized quantifiers, 
operations on strings of variables, and strings of formulas. 
It is 
strikingly clear that the formal aspects of the concept are too closely 
modelled on previous linguistic patterns; 
the concept does not have an 
abstract integrity, a good chance of being comprehensive. 
In categorical logic, the main step of the transition to the 
abstract situation is to decide what constitutes, in a more or less 
arbitrary category, the same operation as the one we start with in the 
standard category, say Set. 
The general shape of the procedure is a 
natural one. 
One considers those properties, as many as one can find, 
or maybe, only some of them, of the given concrete operation (or 
combinations of various given concrete operations) that can be expressed 
in the language of categories (i.e. in terms of composition of arrows), 
and one simply imposes these properties as requirements on the kind of 
categories; 
"theories", that serve to embody the abstract essence of 
the logic under consideration. 
The crucial point is that the "theory" 
is a structure of the same kind as the standard structure we start with: 
they are both categories. 
In the symbolic context, the formulas form 
a structure radically different from the entities making up the standard 
interpretation. 
Although the choice of the properties may not be straightforward, 
and a priori it is not clear if the proposed procedure can be successful 
in capturing at least as much as symbolic logic does, the proposal at 
least has a clear enough outline to constitute a program for an inves- 
tigation of logic in a general manner. 
This is not the place to give a historical introduction to 
categorical logic. 
Nevertheless, we may make the blanket statement 
that categorical logic has been successfully developped along the lines 
indicated above to cover at least first order, and also, higher order 
logic, in both the so-called classical and intuitionistic versions. 
A 
particularly attractive feature of the resulting theory is its unified 
character. 
E.g., the definable concepts (roughly, formulas) of a first 
order theory on the one hand, and the models of the theory on the other 
hand, both form the same kind of structure: 
a category. 
Net only that 
but those two structures are connected, as a result of a general cat- 
egorical construction, by a crucial functor, the so-called evaluation 
functor, mapping the theory-category into the category of functors from 
the model-category to Set. 
This, or other similar constructions, could, 
ultimately, be explained without category theory, but the explanations 
so gotten are clumsy, and they lack the coherence of a good theory. 

224 
In first order logic (our sole interest in this paper), cat- 
egorical logic has revealed that, in order to have a good general theory 
of logic, one should consider certain kinds of 'definable concepts' 
associated with any given first order theory that do not fall under the 
usual definable sets or relations of symbolic logic. 
Those new defin- 
able sets arise either as a disjoint sum of definable sets, or as the 
set of equivalence classes of a definable equivalence relation on a 
definable set. 
Recently, the use of the more general definable sets 
has become important in stability theory; 
c.f. ESh] and especially 
[CHL]. 
(These developments have been independent, so far, of categorical 
logic proper). 
The central concept of first order categorical logic, replacing 
the notion of first order theory, is the notion of pretopos. 
It is the 
notion that underlies, implicitly, the generalized definable sets of 
stability theory mentioned above. 
The concept originally arose in 
abstract algebraic geometry (sheaf theory), without any connection to 
logic. 
The notion of pretopos has its central role, from the point of 
view of logic, since it enjoys completeness properties, each indicating 
that the concept cannot be made to comprise further logical operations 
without causing the notion of theory to lose essential properties. 
The subject matter of this paper is one such completeness property. 
It is based on a very general ~in fact, too general) concept of 
operation on diagrams, and it says that the operations in Set ('logical' 
operations) that commute with the ultraproduct functors on Set are 
exactly the composites of pretopos operations augmented with Boolean 
complement. 
(Thus, after all, in the given context, the definition of 
a logical operation is shown to be not too general). 
The result, of 
course, follows a familiar pattern: 
'algebraic' characterizations of 
logical concepts via ultraproducts. 
The main result is closely related to an unpublished theorem 
of Haim Gaifman. 
The main result of the present paper is, in essence, 
a stronger form of Gaifman's theorem. 
The proof of the theorem of the 
present paper will, again in essence, consist of a proof of Gaifman's 
original theorem followed by additional arguments. 
The comparison with 
Gaifman's result is made harde~ although only in a superficial wa~ by 
the fact that Gaifman's terminology (not using categories) is different. 
Part 3 of the paper contains the details of the comparison. 
The exposition of the theorem is used as an opportunity to give 
an introduction to categorical logic. 
The methods used here differ from 
those in [MR] inasmuch as I have tried to use, wherever I could, methods 
inherent in the categorical formulations. All unexplained category 

225 
theoretical terminology can be found in ECWM]. 
I owe special thanks to Andrew Pitts, from whom I have learned 
much on conservative and quotient morphism. 
I also thank Michael Barr 
who pointed out an embarassing error in an earlier version of the paper. 
Part 1. 
Logical Operations 
I.i 
Operations o ~ Diagrams 
Logical operations are seen, on the simplest level, as operations 
on sets: 
the operation, applied to one or more sets (depending on the 
arity of the operation), yields another set. 
On the second level, the 
operation on sets is abstracted, with retaining its essential properties, 
and one ends up with an algebraic operation, or a logical operation in 
the customary sense: 
an operation acting on formulas. 
The set oper- 
ations union, intersection, etc. giving rise to abstract Boolean 
algebras, and giving rise to the logical connectives, are the obvious 
illustration of this state of affairs. 
In fact, not only the connectives, but also the quantifiers can 
be so construed. 
To do so, one should, however, slightly refine the 
idea of an operation on sets. 
Instead of talking about operations 
acting on ordered finite tuples of sets, one has to consider ones 
operating on finite systems of a slightly more elaborate kind. 
It is 
a basic insight of category theory that, by talking about systems of 
sets and functions, each mapping one of the given sets into another one, 
complex ideas concerning sets can be elegantly expressed. 
A system of 
the kind we need to have is usually called a diagram of sets and 
functions. 
In this paper, we are interested mainly in finite diagrams. 
For a while, a diagram will always mean a diagram of sets and functions. 
A finite diagram is a system of finitely many sets and functions 'of a 
given shape'. 
An example would be the diagram 
f 
A 
> B 
h 
~C 
g 
consisting 
of three 
sets 
and three 
functions, 
such that 
the domain of 
f is 
A, 
and 
f 
maps 
S 
into 
B, etc. 
The 'shape' 
of this 
diagram 
is this: 
such a thing is called a graph. 
÷ -  
; 
(I) 

226 
Before we make these concepts general and precise, let us re- 
present the existential quantifier as an operation that yields, from 
a finite diagram, more sets and functions making up, together with the 
given one, a larger finite diagram. 
One starts with a relation 
R 
whose first-place variable ranges 
over a set 
X, 
its second-place variable on 
Y 
(usually, Y = X). 
We 
can also write 
Rxy 
for 
R. 
We want to talk about 
~yRxy, 
a subset 
of 
X. 
Now, 
R 
itself is a subset of 
XxY. 
So, we have the following 
five sets: 
X, Y, X×Y, R, 3yRxy. 
These sets are connected by maps. 
First of all, 
R 
being a subset of 
X×Y 
means the presence of the 
inclusion map: 
i: R -+ XxY. 
We will have another inclusion map: 
j: ~yRxy --~ X. 
The fact that 
X×Y 
is the Cartesian product of 
X 
and 
Y 
will be 'explained', by two projection maps: 
#i: X×Y -+ X, 
#2: X×Y --~ Y. 
Thus, the operation gives, from the diagram 
i 
R 
> XxY 
X 
Y 
one further set and one further function, extending the given diagram 
to 
ayRxy 
i 
> XxY 
~ X 
Y 
We have not mentioned yet how actually the operation is defined: 
we only wanted to make clear its 'shape', or arity. 
In fact, the 
operations yields from each of certain diagrams of the shape 
7\ 
a diagram of the shape 

227 
/\ 
extending the first diagram in the obvious sense. 
The above example can be streamlined, and generalized, in the 
following way. 
We start with a single function 
f 
R 
~ X 
; 
in the above situation, 
f 
is the composite of 
i 
and 
~I" 
Then 
clearly, the subset 
3yRxy 
of 
X 
is the same as the range (or image) 
of the function 
f. 
So, we consider the following operation: 
with any 
f 
R 
~ X 
we associate 
f 
R 
~ X 
with S the range of 
f, 
and 
j 
the inclusion map of it into 
X. 
The 
latter operation has the 'shape' 
° ~ 
7 
It is the next step in category theoretical insight to realize 
that not only the form, but also the content of the operation of the 
existential quantifier ~and many others) can be expressed in the 
language of diagrams, with one new element added: 
the concept of 
composition of functions. 
Doing so, we are right in the middle of 
category theory. 
For an indication of what would be going on, let us 
look at the above simplified operation. 
The first thing would be to 
explicate the idea of 'inclusion'. 
This is done by the notion of 
monomorphism, whose definition I will not repeat here (c.f. ECWMI). 
To be sure, a monomorphism in Set is not necessarily an inclusion ~the 

228 
converse is true, of course) but at least, it is the case that (in the 
category of sets) any monomorphism is isomorphic to an inclusion: 
if 
R 
) U 
is a monomorphism, then there are 
R' 
) U', an 
inclusion, and isomorphisms 
R 
~ R', 
U 
* U' 
such that the 
square 
R 
+U 
~ommut~8. 
U 
~ U' 
R' 
+ U' 
In fact, 
U' 
can be chosen to be equal to 
U, 
with 
the identity function. 
Starting with the diagram 
f 
R 
+ X 
we consider an extension diagram 
f 
R 
, X 
/, 
S 
with the following properties: 
j 
is a mono; 
q: R 
~ S 
making 
R 
............... 
l X 
commute [since 
j 
following property 
moreover, there is 
is a mono, 
q 
is necessarily unique] and having the 
(q 
is an 'extremal epi'): 
whenever 
R 
q 
) S 
q' 
S' 
commutes, and 
k 
is a monomorphism, then 
k 
must be an isomorphism. 

229 
(We have described the extremal epi-mono factorization of the mor- 
phism 
f). 
It turns out that the property described defines 
j 
uniquely up to a unique isomorphism: 
whenever 
S 
.................... J 
~ X 
S' 
............ ~' 
,~ X 
(with the same 
X) both answer the description, then there is a unique 
isomorphism 
S 
~ S' 
making 
"X 
commute. 
In fact, the inclusion of the range of 
f 
into the set 
X 
does answer the description; 
thus, by the above 'categorical' defini- 
tion, we have described, up to a unique isomorphism, the concept of 
' range ' 
What is important about the above 'definition' of range, and 
ultimately, that of the existential quantifier, is that it makes sense 
in a context where we talk about sets and functions abstractly, without 
mentioning elements of the sets. 
Now, it is clear that in logic we do 
precisely that: 
we talk about formulas representing abstract, 
"unspecified", sets; 
their being unspecified means in particular that 
their elements are not given. 
Therefore, it is natural to try to talk 
about 'formulas' as objects in a category. 
In fact, we will give in 
the 'category of formulas' the same definition of the operation of 
existential quantifier (or 'range') as we did above in the category of 
sets. 
In the foregoing discussion, I already mentioned some technical 
terms of category theory: 
commute, category, monomorphism, isomorphism. 
We will have to continue to use such elementary categorical concepts; 
for explanations, I refer to [CWM]. 
A graph (see [CWM~), is like a category but with reference to 
composition and identity morphisms removed. 
The appropriate structure 
preserving maps between graphs are called diagrams. 
Since every cat- 
egory is a graph (has an underlying graph), we may speak of a diagram 
of type 
G 
in a category 
C: 
a diagram 
D: G 
~ C. 

230 
Given a graph 
G 
and a category 
C, 
the diagrams of type 
G 
in 
C form the objects of a category 
(G,C) 
whose morphisms are natural 
transformations (see [CW~]). 
E.g., a morphism between two diagrams of 
type (I) is a system of arrows ~, B, y 
f 
A 
B 
f' 
A' 
B' 
g, 
-+ 
in 
C 
as in the picture: 
h 
, C 
h' 
satisfying three commutativity conditions, one for each arrow in (I): 
the square 
f 
A 
. 
~ B 
A' 
f, 
~ B' 
should be commutative; 
and two more similar conditions. 
In particular, 
an isomorphism of two diagrams is an invertible natural transformation; 
it is one in which every component 
(in the example, ~, 8 or ~) 
is, 
individually, 
an isomorphism. 
We are ready to give a very general definition of what an operation 
in a category should be. 
Upon reading the definition, 
the reader may 
feel that we should have talked about partial operations instead. 
How- 
ever, it turns out that what one would call 'fully defined operations' 
are not sufficient in the important context of first order logic. 
Thus 
the shorter term 'operation' 
is preferable. 
Let 
C 
be a category, G and G' graphs, G a subgraph of G'. 
An 
operation in C of type 
(G,G') 
is given by a class K' of diagrams of 
type 
G' 
in 
C 
(K' c Ob(G',C)) 
satisfying the following conditions: 
(i) 
K' 
is closed under isomorphisms 
(if 
Di 
and 
D½ 
are isomorphic 
diagrams in 
(G',C), 
and 
Di c K', 
then 
Di c K') 
and (ii) 
if 
D~I c K' (i = 1,2), Di = D!IG1 (restriction to G), and 
~: D 1 
+ D 2 
is an isomorphism, then there is a unique isomorphism 
~': Di -----+ D½ 
that restricts to 
~: 
~'IG = ~. 
K' 
may be called the graph of the given operation (in obvious 
analogy to ordinary algebraic operations). 

231 
An operation is finitary if 
G' (hence 
G 
too) is a finite graph 
(having finitely many objects and arrows). 
The domain of the operation is the class 
K 
of those diagrams in 
(G,G) 
which are restrictions of ones in 
K': K = {D'IG: D': G' 
~ C}. 
It is easy to see that 
K 
is closed under isomorphisms. 
We are going to call the operation fully defined if 
K = (G,C). 
We will soon see an important example of a non-full operation. 
When we have two categories, with an operation specified in each 
so that the two operations are of the same type, we might want to 
consider the two operations to be the 'same', or "realizations of the 
same operation-symbol", as it is frequently done with ordinary operations 
in algebra. 
In particular, we have the important notion of a functor 
from one category to the other being "operation-preserving" 
(with re- 
spect to the given operations): 
this is the case if the image under the 
functor of any diagram in the graph of the operation in the domain cate- 
gory is in the graph of the operation in the codomain category. 
Before we come to examples, let us mention that the most important 
operations satisfy a stronger condition, namely (ii) above with ¢ and ~' 
meaning arbitrary morphisms, not just isomorphisms (it is easy to see 
that, in fact, the modified condition is stronger than the original one). 
Let us call such operations strong operations. 
Nevertheless, there are 
important operations which do not satisfy the stronger condition. 
Logical operations are operations in the category of sets, and, 
more generally, operations in other categories that 'behave like' 
operations in Set. 
Of course, the designation is imprecise; 
neverthe- 
less, e.g. our description of pretoposes in the next section will be 
explicitly based on the idea that pretopos operations should be like 
certain operations in Set. 
1.2. Pretopos operations. 
The reader is now asked to recall (or look up, say in [CWM]) the 
concepts of limit and colimit in categories. 
Finite limits and colimits 
will be important for us as logical operations; 
also, infinite limits 
and colimits will be important in a different role, as 'semantic' 
operations (operations on models). 
Limits and colimits can be construed 
as operations in the above sense, in the obvious way. 
With any given category, we obtain one (partial) operation of 
limit for each graph serving as the type of the diagram the limit of 
which we take; 
this graph is the type of the diagrams in the domain of 
the operation, denoted 
G 
above. 
E.g., in any category, the operation 

232 
of product of two objects is given by the class 
K' 
of product- 
diagrams 
C 
of type the graph 
G': 
the domain of the operation consists of those pairs of objects 
A, B 
(diagrams of type G: • .) which have a product in 
C. 
The limit and 
colimit operations are, in fact, obviously, strong operations. 
A limit, 
or colimit, operation of a particular kind is fully defined in a given 
category just in case that category "has all limits (colimits) of the 
given kind", in the usual terminology. 
In Set, the category of sets and functions, all small limits and 
colimits are fully defined, and they have meanings which are familiar 
from many contexts. 
E.g., any diagram of the form 
Ax 
B 
A d 
B 
with 
A × B 
the 
Cartesian 
product: 
A × B = {<a,b>: 
aeA, beB}, 
and 
~l(<a,b>) 
= a, 
~2(<a,b>) 
= b, 
is 
a product 
diagram. 
The diagram 
in 
Set: 
C 
is a copreduct diagram if and only if both 
i, i' 
are one-to-one, and 
C 
is the disjoint union of range(i) and range(i'). 
(Therefore, in Set, 

233 
coproducts are also called disjoint sums). 
The limit of the empty diagram is called the terminal object; 
in 
Set, any one-element set serves as such. 
The colimit of the empty 
diagram is the initial object; it is the empty set in Set. 
It is a well-known fact (see [CWM]) 
that if a category has a 
terminal object [this is a ~-ary operation: 
G 
is now the empty graph], 
has binary products and has equalizers of parallel pairs of morphisms, 
then it has all finite limits. 
An exactly dual statement holds, as a 
consequence, for colimits. 
The notion of pretopos will be based on 
finite limits and finite colimits, the latter suitably restricted. 
A diagram 
q 
A 
, B 
(I) 
q' 
in Set will be called an equivalence relation if the map 
a l 
~ <q(a),q'(a)> 
is a bijection of 
A 
onto an equivalence relation, 
in the usual sense, on 
B. 
In an arbitrary small category 
C, a diagram 
(2) is, by definition, an equivalence relation iff for all functors 
F: C 
~ Set 
preserving finite limits, 
F 
takes (2) into an equi- 
valance relation, in the previous sense, in Set: 
F(q) 
F(A) 
: F(B) 
> 
F(q') 
is an equivalence relation in Set. 
It turns out (see the next section) that, in a category with 
finite limits, the notion of equivalence relation can be 'internally' 
defined by referring to finite limit diagrams; 
in particular, a functor 
between categories with finite limits, preserving finite limits, will 
take an equivalence relation in the domain category into one in the 
codomain category. 
Let (I) be an equivalence relation in Set, let R c B×B be the 
(ordinary) equivalence induced by (I) on 
B 
as explained in the defini- 
tion above. 
Let 
B/R 
be the set of equivalence classes of 
R, 
and let 
B 
~ B/R 
be the map that takes 
b 
into its equivalence class. 
Then 
the diagram 
......... 
q 
) 
A 
B 
,+ B/R 
) 
q' 
is a coequalizer diagram, as it is easily checked. 
For this reason, a 

234 
coequalizer of a pair of morphisms that form an equivalence relation 
(in any category) is called a quotient of the equivalence relation. 
Now, part of the definition of 'pretopos' can be put as follows. 
A pretcpcs is a category which has finite limits, an initial object 
(colimit of the empty diagram), coproduct of any two objects, and 
finally, coequalizers of equivalence relations; 
the definition is 
completed by imposing conditions on the mentioned operations. 
Thus we 
have as basic operations in any pretopos the following pretopos 
operations: 
the fully defined finite limit operations (or: 
the three 
particular ones mentioned above),the initial object, and the binary co- 
product operations, both fully defined, and finally the non-full 
operation whose domain is the class of equivalence relations and whose 
graph consists of coequalizer diagrams (in this operation, 
G is ---+*, 
and 
G' 
is:- 
~. 
~ .). 
A morphism of pretoposes, also called a 
logical functor in EMR], and an elementary functor in [MI], [M2], 
is a 
functor that preserves all the listed pretopos-operations 
(the meaning 
of a functor preserving an operation was explained above). 
A pretopos 
embedding of pretoposes is a pretopos morphism which is conservative: 
if it takes a morphism in the domain-pretopos into an isomorphism, than 
the original morphism is an isomorphism too. 
The rest of the definition of 'pretopos' consists of some condi- 
tions put on the pretopos operations, all originating in properties of 
the pretopos operations in Set. 
In the next section, the definition of the notion of pretopos will 
be completed and the following theorem will be proved. 
Theorem 1.2.1. 
(GSdel-Deli~ne-Joyal representation theorem). 
Every small pretopos has a pretopos embedding into a Cartesian power 
of 
Set. 
This theorem can be read as a definition: 
a pretopos is a cat- 
egory having the pretopos operations and having a pretopos embedding 
into a Cartesian power of Set. 
G~del's name is in the name of the 
theorem because the theorem is closely related to, and in fact, 
essentially equivalent to, G6del's completeness theorem. 
This relation- 
ship is explained in detail in [MR~. 
Deligne proved an essentially 
equivalent theorem in ESGA4J, Exp. VI., formulated for coherent toposes 
instead of pretoposes. 
A suitably modified form of Deligne's proof will 
be given in the next section. 
The concept of pretopos appears in passing 
(as a set of exercises) in ESGA4, Exp. VI.~. 
It was Andr~ Joyal who 
first advocated the concept of pretopos as the basic notion of categori- 
cal first order logic. 

235 
We now consider the non-strong operation of Boolean complement. 
Let 
T 
be a pretopos. 
For 
A 
an object of 
T, 
let 
Sub(A) 
denote 
the partial ordering of subobjects of 
A 
(see V.7 in [CWM]). 
As we 
will see in the next section, 
Sub(A) 
is a distributive lattice. 
The 
Boolean complement of an element 
~ ~ Sub(A), 
if exists, is an element 
~' c Sub(A) 
such that ~ ^ #' = 0A, 
~ v 9' = 1 A (0A, 1 A 
are the 
minimal and maximal elements, respectively, of 
Sub(A)). 
The Boolean 
complement is unique (if it exists); 
moreover, it is preserved by 
lattice-homomorphisms. 
As a consequence, if 
~' 
is the Boolean 
complement of 
~ 
in 
T, 
and 
F: T 
+ T' 
is a pretopos morphism, 
then 
F(¢') 
is the Boolean complement of 
F(~) 
in 
T' 
A Boolean pretopos is a pretopos in which Boolean complements 
always exist, i.e., in which 
Sub(A) 
is a Boolean algebra for every 
object 
A. 
It is important that there is no new notion of morphism of 
Boolean pretoposes: 
morphisms of pretoposes between Boolean pretoposes 
preserve the additional structure. 
"Boolean complement" is an operation in our general setting: 
it 
assigns to any monomorphism 
B 
+ A 
a diagram 
B 
~ A ~ 
B' 
with 
appropriate properties; 
for suitable categories (such as pretoposes) 
the condition of uniqueness up to a unique isomorphism is clearly assured. 
1.3. 
Semantical operations in Set. 
Properties of interchangeability of certain limits and colimits in 
Set are fundamental to much of the theory of logical operations. 
Limits 
are freely interchangeable, in any category (c.f. IX. 2 in [CWM]). 
As 
an example, if 
f. 
e i 
__ 
i 
, 
A i 
. B i 
~ C i 
(I) 
gi 
i = 1 and 2, then 
in an equalizer diagram for 
elx e 2 
fl x f2 
> 
AIXA 2 
> BI×B 2 
> CI×C 2 
gl × g2 
is again one. 
The interchangeability of finite limits and filtered colimits 
(c.f. loc. cit.) is an important property of Set. 
Thus, if the 
equalizer diagrams (I) in Set are given for all 
i~I, 
and 
I 
is, say, 
a directed partial order, and if, moreover, we have, for each 
isj, 
connecting morphisms 
~..: A. 
~ A. 
with 
iJ 
i 
j 

236 
ajkOaij = aik 
(i 
~ j ~ k) 
and 
similar ones 
8ij' Yij' 
for the B's and C's such that the diagram 
e i 
A. 
+ B. 
1 
c~ij 
iBij 
A. 
+ B. 
j 
e. 
j 
J 
and 
the 
similar 
ones 
with 
the 
f's 
and 
g's 
all 
commute, 
then 
colim 
colim e. 
~i 
1 
colim A. 
l 
1 
~ colim B. 
colim C. 
1 
1 
i 
1 
i 
1 
colim gi 
i 
i 
is again an equalizer diagram. 
Finite colimits in Set offer less interchangeability features. 
Of course, they are interchangeable with colimits. 
Coequalizers 
(quotients) of equivalence relations are interchangeable with (finite 
or infinite) products but not necessarily with more general limits; even 
this much cannot be said about coequalizers in general. 
For binary co- 
products, the only positive fact we can state is that they are inter- 
changeable with certain combinations of products and directed colimits, 
the 
ultraproducts. 
i¢I. 
which 
way. 
Let 
U 
be an ultrafilter on a set I, let 
A i 
be a set for each 
Let 
U °p 
be the partial ordering with underlying set 
U, 
in 
P ~ Q 
iff 
Q c p, 
and consider 
U °p 
a category in the usual 
Consider the diagram 
U °p 
+ Set 
P 
r 
'~ 
A. 
ieP 
z 
canon.pro~. 
Q = P 
A. 
-~ ~ Ai, ;, 
~icQ 1 
iEP 
" 
the colimit of this diagram is the ultraproduct of the sets 
Ai, iEI. 
In short-hand: 
H Ai/U = colim 
~ A.. 
i~l 
p~uOP icP z 

237 
When we choose the standard representation of products and co- 
limits, we obtain the usual definition of ultraproduct of sets (except, 
maybe) for the fact that under the present definition, one has to 
consider vectors <ai>i~ P of elements 
aicA i 
indexed by arbitrary 
P~U, 
and not just 
P = I; 
but, when one thinks of the possibility of some 
of the 
A i 
being empty, one sees that ours is the right definitionl). 
Moreover, with the standard choices made, we may consider the ultra- 
product (with given I and U) a functor 
Set I 
+ Set 
where the action of the functor on arrows is given by the universal 
properties of products and colimits: 
given 
fi: Ai 
~ B i 
for 
i~I, 
we put 
H fi/U = colim 
~ f.. 
iEI 
pcuOP icP 1 
It is a basic fact that coproducts (disjoint sums) commute with ultra- 
products: 
if 
C. 
1 
A Y 
1 
1 
is a coproduct diagram in Set for all 
icI, 
then 
~c./u 
i l 
~A./U 
i i 
~ ~ B i / U I  
is again one. 
The reader is invited to check this directly. 
Also, the 
ultraproduct of copies of the empty set is again empty. 
In other words, 
ultraproducts commute with finite coproducts. 
Since ultraproducts are combinations of products and directed co- 
limits, what we said above implies that they commute with finite limits, 
and quotients of equivalence relations. 
We therefore conclude: 

238 
Theorem 1.3.1. (Los's theorem) 
Any ultraproduct functor 
(-)/U: Set I 
~ Set 
icl 
is a morphism of pretoposes. 
The relation of the last theorem to the 'fundamental property of 
ultraproducts' (Los's theorem in the usual sense) will be explained in 
Part 2. 
1.4. 
Generating diagrams, and the statement of the main theorem. 
Composites of pretopos operations will commute with ultraproducts 
as a direct consequence of 1.3.1. 
Such a composite is, e.g., the 
operation on Set of taking 
(A×B)~ (C×D), whose graph can be construed 
as the class of all diagrams 
G 
EilY F 
2 
B 
D 
(1) 
with 
(~I,~2), (~,~½) 
being products, (il,i 2) 
being a coproduct; 
the domain of the operation is the collection of all tuples (A,B,C,D) 
of objects. 
The general concept of a composite operation will be approached 
in a somewhat abstract manner. 
There is a free Boolean pretopos F(G) 
on any graph 
G; 
e.g. on four objects, A0, B0, CO, DO, as generators. 
This is defined by a universal property similar (but not identical) to 
the one used for free algebras in ordinary algebraic situations. 
The 
above composite operation can be performed in every pretopos, hence in 
particular in the free Boolean pretopos on 
(A0,B0,C0,D0) , and we can 
consider its result on the particular argument <A0,B0,C0,D0 > having 
say 
E0,F0,G 0 
as additional objects and appropriate arrows. 
Then, the 
operation in question can be performed in any Boolean pretopos 
T 
in 
the following manner. 
Say, the arguments are 
A, B, C, D; 
one finds 
the essentially unique pretopos-morphism ~: F(G) 
~ T 
that takes 
A 0 to A, etc; ~ 
will pick out the desired diagram(l) as the values 
F(E0), F(F0) , F(G0) and appropriate ones for arrows. 
In other words, 
the operation is entirely described by two diagrams, DO: G 
~ F(G), 

239 
and an extension of it, 
D~: G' 
> F(G); 
here 
G 
is the type of the 
domain, 
G' 
the type of the graph of the operation. 
Moreover, conversely, every object and morphism in 
F(G) 
is ob- 
tained as part of a "composite Boolean pretopos operation"; 
this could 
be made clear by explicitly constructing 
F(G) 
as made up of an in- 
creasing union of larger and larger diagrams of such composites. 
Thus, 
every operation obtained from a 
D O 
and a 
D~ 
as above is a "composite 
Boolean pretopos operation", if we have in mind some direct, syntactical 
meaning of the latter. 
Instead, we take the description using the free 
Boolean pretopos as the first approximation of a definition of composite 
operation. 
However, the free pretopos construction is not enough. 
Consider 
the non-full pretopos operation of quotient of an equivalence relation. 
The domain of this operation consists of diagrams 
A 
B 
(2) 
) 
satisfying additional conditions, amounting to (2) being an equivalence 
relation. 
The free Boolean pretopos, say F, on a fixed diagram of the 
form (2) will not 'contain' the operation in question, simply because 
(2) will not be an equivalence relation in it. 
But, if we 'impose' the 
further condition on 
F that (2) be an equivalence relation, the 
operation will be available. 
There is a process of forming a quotient 
of a pretopos 
T 
by imposing conditions on it in the form of inverting 
a class of morphisms in 
T. 
This is entirely analogous to the algebraic 
procedure of identifying elements in a (universal) algebra, which takes 
the form of passing from the algebra ~ 
to ~/E, 
with 
E 
a congruence 
relation of ~. 
We will adopt the definition that a composite pretopos operation, 
with domain of type the finite graph 
G, 
means one that 'factors 
through' a pretopos which is a quotient of the free pretopos on 
G. 
For 
pretoposes 
T, T', Pretop(T,T') denotes the category of pretopos 
morphisms 
T ---+ T'; 
it is the full subcategory of 
(T,T') 
the category 
of all functors from 
T 
to 
T', with objects the pretopos morphisms. 
Mod(T) = Pretop(T,Set). 

240 
Definition-Proposition 1.4.1. 
Let 
G 
be a small graph. 
(i) 
The free pretopos over 
G 
is a pretopos 
T (= F(G) = 
together with a diagram 
9: G 
+ T 
(~ = ~G = ~t) 
with 
Fpt (G)) 
the following universal property: 
for any pretopos 
T' 
the functor 
()o~: Pretop (T,T') 
......... (G,T') 
defined by composition: 
F: T 
> T' } 
+ Fo~: G 
* T' 
is an equivalence of categories. 
and is determined up to an equivalence over 
G. 
(ii) 
The free Boolean pretopos over 
G 
T (= F(G) = FBpt(G)) 
together with a diagram 
Bpt~ 
= ~G 
) with the following universal property: 
topos 
T', 
the functor 
The free pretopos over 
G 
exists, 
is a Boolean pretopos 
for any Boolean pre- 
()o~: Pretop(T,T') 
+ (G,T') 
is faithful, full on isomorphisms, and essentially surjective. 
The 
free Boolean pretopos over 
G 
exists, and is determined up to an 
equivalence over 
G. 
(A functor 
F: C 
~ D 
is full on isomorphisms if for every 
isomorphism 
g: FC 
~ FC' 
there is an isomorphism 
f: C 
~ C' 
such 
that 
Ff = g. 
F 
is essentially surjective if for all 
D ~ Ob(D) 
there is 
C c Oh(C) 
such that 
FC 
is isomorphic to 
D). 
In the next section, we'll indicate the proof of the proposition; 
the construction of the free objects will use formulas. 
The reason for 
the weaker statement in part (ii) is the presence of a non-strong 
operation, Boolean complement. 
These definitions of free objects are natural versions of the 
well-known diagrammatical definitions of free groups and other free 
algebraic structures. 
In either the case of pretopos or that of 
Boolean pretopos, we have the following form of the universal property 
as a consequence of the definition: 
given 
T' 
and any 
F: G 
~ T', 
there is 
M 
such that 

241 
G 
~ 
, 
F(c) 
v 
T' 
commutes up to isomorphism: 
~: F 
and if 
there is an isomorphism 
....... 
~ Mo~: 
then there is a unique isomorphism 
v: M .... ~ 
~ M' 
such that 
/vocp 
M'o~ 
commutes. 
The essentially unique 
M 
with the said property is said to 
be induced by F, 
and may be denoted by 
M F- 
For a functor 
F: C ...... ~ D, 
Inv(F) 
denotes the collection of all 
those morphisms 
f 
in 
C 
for which 
Ff 
is an isomorphism (invertible) 
in 
O. 
E.g., 
F 
is conservative if 
Inv(F) = Inv(Idc) = the class of 
all iso's in 
C. 
Definition 1.4.2 (i) 
Let 
~ 
be a collection of arrows in the 
pretopos 
T. 
A pretopos morphism 
Q: T 
~ T' 
is said to be obtained 
by inverting the morphism8 in 
~ 
if we have the following universal 
property: 
for any pretopos 
T", 
the functor 
()oO: Pretop(T',T") 
~ Pretop (T ,T") 
induces an equivalence of Pretop(T',T") onto the full subcate~ory of 
Pretop(T,T") 
consisting of those 
G: T 
~ r" 
for which 
~ c Inv(G). 

242 
(ii) 
Q: T 
~ T', a pretopos morphism, is a quotient morphism 
(a quotient) if it is obtained by inverting the morphisms in 
Inv(Q). 
Q 
is a finite quotient if there is a finite subset 
E 
of 
Inv(Q) 
such that 
Q 
is obtained by inverting the morphisms in E. 
(iii) Let 
T 
be a Boolean pretopos. 
A diagram F: G 
~ T 
(finitely) generates 
T 
(as a Boolean pretopos) if the pretopos- 
morphism 
MF: FNp t(G) 
,, ~ T 
induced by 
F 
is a finite quotient 
morphism. 
If M 
is a (universal) algebra, in a given equational class, say, 
and 
E 
is an arbitrary subset of IMIxlMI, then there is a universal 
property similar to 1.4.2 (i) of a morphism 
q: M 
~ M' being 
"obtained by identifying a with b", for all pairs 
<a,b> c E: 
for any 
M", 
the map 
Hom(M',M") 
~ Hom(M,M") 
defined by composition with 
q 
induces a bijection onto the set of those 
M 
~ M" which do 
identify all pairs in 
E. 
Of course, such 
M' 
is nothing but the 
quotient 
M/[E] of 
M 
by the congruence relation 
[E] generated by 
E, with 
q 
the map taking an element of 
IMI into its equivalence 
class in [E]. 
(In equational classes, quotient morphism (those that 
are "obtained by identifying those elements identified by the morphisms") 
are the same as regular epimorphisms.) 
Concerning (iii), note that in the context of an equational class, 
a map 
f: X 
> M 
generates M, i.e. f(X) 
generates 
M 
in the usual 
sense, iff the map 
F(X) 
~ M 
from the free algebra on 
X 
induced 
by 
f 
is a quotient. 
Definition 1.4.3. 
An abstract composite Boolean pretopos 
operation (ACBPO) 
is given by a commutative triangle 
D o 
G 
> T 
i=inclusion~ 
/
~
 
G' 
where 
G, G' 
are finite graphs, 
T 
is a Boolean pretopos, and both 
D O 
and 
D~ 
finitely generate 
T (see 1.4.2). 
In any pretopos 
S~ 
e.g. S = Set, an ACBPU as shown defines the composite Boolean pretopos 
operation of type 
(G,G') 
whose graph is 
K' = Iso{MoD~: M c Pretop(T,S)}. 

243 
Remark. 
K' 
as defined in 1.4.3 from an ACBPU is indeed an 
operation in 
S 
of type 
(G,G'). 
To see this, let us write 
C is°, 
with 
C 
any category, for the subcategory of 
C 
whose objects are 
those of 
C, and whose morphisms are the isomorphisms in 
C. 
With the 
notation of 1.4.3, let 
(K') is° be the full subcategory of 
(G',S) is° 
whose objects are the diagrams in 
K'. 
Let 
K = {D'oi: 
D' e K'}, and 
define 
K is° c (G,S) 
similarly. 
The functor 
i 
induces by composition 
(restriction) 
the functor 
i*: (K') is° 
> K is°. 
Note that to say that 
K' 
is the graph of an operation of type 
(G,G') 
is to say that 
i 
is 
full^ and faithful. 
With 
F = FBpt(G), 
F' = FBpt(G') , 
D = MD0' ~' = MDu" 
i = M 
we have that the given ACBPU induces the diagram 
( Bpt oi)' 
F 
~ T 
F' 
commuting up to an isomorphism. 
Pretop(F,S) Is° . 
Passing to the induced diagram 
^. 
D 
Pretop(T,s)iSo 
Pretop (F' ,S) is° 
we note that 
(K') is° 
the full replete image of 
(D')* 
Since both 
~. 
^ 
. 
^ 
D 
and 
(D') 
are full and faithful as a direct consequence of 
D, D' 
being quotients, it follows that 
i*I(K') is°, the restriction of 
i* to 
(K') Is°, is full and faithful. 
It follows that 
i 
is full and faithful. 
Definition 1.4.3' 
(i) 
An operation is a restriction of another 
one of the same type if the graph of the first is contained in the 
graph of the second. 
(ii) 
An operation in Set of type (G,G') 
having the graph 
K' 
commutes w£th ultraproducts if 
the 
following 
holds~ 
when 
U 
is 
an ultra- 
filter 
on 
I, 
and 
D': 
~' 
.+ Set I 
has 
all 
its 
components 
D.: 
G' 
D' 
Set I 
Pr°]i 
> Set (iel) 
in 
K', 
then 
[U~ o D' e K', 
i 
where 
[U] 
is the ultraproduct functor 
n (-)/U: Set I 
ieI 
> Set. 

244 
Theorem 1.4.4. 
Every finitary operation in Set commuting with 
ultraproducts 
is a restriction of a composite Boolean pretopos operation. 
Part 2. 
2.1. 
Sites 
Let 
C 
be a category with finite limits. 
topology on 
C, J, is a collection of families 
(abbreviated as (A i 
~ A)i) 
of morphisms in 
Categories,,,,,for the working logicli,a n 
A (Grothendieck) 
{A i -----+ A: i~I} 
C 
with a fixed co- 
domain (such a family is called a J-covering of A), with 
J 
required 
to satisfy the following closure conditions: 
(i) 
Every isomorphism 
A' --=---+ A 
is a 1-element covering: 
{A' -~--+ A} ~ J. 
(ii) (Stability under pullbacks). 
Whenever 
(A i 
> A) i ~ J 
and 
A. 
I 
A.×A 
..... 
i B 
A [ 
B 
is a pullback for all 
i, 
then 
(Ai×A 
) B)i E J. 
(iii) (Closure under composition). 
If 
(A i 
> A) i e J 
and 
(Aik ---+ Ai)ke K E J 
for all 
i, 
then, 
with 
Aik 
> A 
denoting the 
composite 
Aik 
> A i 
) A 
of the given arrows, we have 
(Aik 
~ A)i,k c J. 
(iv) 
(Monotonicity). 
If 
(A i 
> A) i ~ J, and 
(A i ~ 
A)j 
is 
a family so that for all 
i 
there is 
j 
with 
A i 
~ A 
factoring 
through 
A~j 
> A, 
then 
(A i ..... > A)j c J. 
It is important that we may allow the empty family as a covering 
of one object, but not of another. 
Therefore, since in the empty set 
the codomain is not given, we should, more precisely, have 
J 
as a 
collection of pairs 
<A, A> 
with 
A 
a (possibly empty) set of morphisms 
with codomain 
A. 
The reading of the closure conditions under the more 
precise definition should be clear. 
Examples of topologies are the following. 
With 
C = Set, 
let 
J 
be defined by: 
(fi: A 
~ A)i~i ~ J 
iff 
the family is jointly surjective, i.e. U{Im(fi): ieI} = A. 
When 
Set 
is regarded a site, we always mean this eanonival topology. 
If 
X 
is a topological space, and 
C = 0(X) 
is the partial 
ordering (under inclusion) of the open sets of 
X, 
regarded as a 
category in the usual way, we let 
J 
be the set of all 
(U i ~ U)i such 

245 
that 
U U. = U. 
i 
i 
The Grothendieck topology 
J obtained in this way may replace the 
ordinary topology on 
X 
in contexts like sheaf theory. 
A site 
(C,J) 
is a category 
C 
with finite limits, together with 
a topolegy 
J 
on 
C. 
A morphism of sites 
(C,J) 
~ ~D,J') 
is a 
functor 
F: C --+ P 
preserving finite limits and taking J-covers into 
J'-covers: 
(fi: Ai --+ A)i c J 
implies 
(Ffi: FA i -+ FA)i a J'. 
We 
also talk about a (J,J')-continuous 
functor, or even a J-continuous one, 
if 
J' 
is understood. 
Given any collection 
J0 
of families of morphisms in 
C, 
each 
with a fixed codomain [such 
J0 
may be called a pre-topology], 
one has 
a least topology 
J 
on 
C 
containing 
J0" 
J, or (C,J) 
is said to be 
generated by 
J0' 
or by 
[C,J0). 
Also note that if, in addition, 
(P,J') 
is a site, and the functor 
C --+ ~ 
preserving finite limits takes 
J0- 
covers into 
J'-covers [we may consider it a morphism 
(C,J0) --+ (D,J')], 
then the functor is a morphism of sites: 
(C,J) -+ [D,J'). 
A finitary topology, or site, is one which is generated by a 
finitary pre-topology, 
i.e. one in which every covering is finite. 
Note 
that a topology 
J 
is finitary just in case for all 
[A i --+ A)i~ I ~ J 
there is a finite 
I' a I 
such that 
(A i --+ A)ici, c J. 
Theorem 2.1.1 (Deligne's completeness theorem). 
Let 
(C,J) 
be a 
small finitary site, and 
A = ~A i -+ A)i 
any family not in 
J. 
Then 
there is a J-continuous functor 
C -+ Set 
taking 
A 
into a family in 
Set 
which is not a covering (in the canonical topology). 
Remark. 
Suppose 
C 
is a small category with finite limits, and 
J0 
is a finitary pretopology on 
C. 
One may consider the collection 
J 
of all coverings in 
C 
which are carried into canonical coverings 
by all morphisms 
[C,J0) --+ Set. 
The completeness theorem asserts that 
J 
is the same as the topology generated by 
J0 o 
The theorem will be 
proved 
using the following 
Proposition 2.1.2. 
Suppose 
(C,J) 
is a small finitary site such 
that 
I, the terminal object of 
C, 
is not empty, i.e. not covered by 
the empty family in 
J. 
Then there is at least one morphism 
(C,J) -+ Set. 

246 
P~oq,~,: 
Let 
LexCC,Set) 
denote the category 
of all 
functors 
C --+ Set 
preserving 
finite 
limits; 
Lex(C,Set) 
is a full 
subcategory 
of 
(C,Set), 
the category of all functors 
C --+ Set. 
We have to construct 
M e Lex(C,Set) 
which, in addition, carries J-coverings into canonical 
coverings. 
The construction will give 
M 
as a suitable directed co- 
limit of representable functors 
¢(C,-) (C c C). 
Since each represent- 
able functor is in 
Lex(C,Set), 
and directed colimits (in the sense of 
(C,Set)) 
of members of 
Lex(C,Set) 
are again in 
Lex(C,Set) [this is a 
consequence of directed colimits commuting with finite limits in Set], 
the construction will, at least, ensure that 
M e Lex(C,Set). 
It will be 
a separate matter to ensure that 
M 'respect' the coverings as well. 
Let 
S = (S,~) 
be a directed partial ordering, and let 
D: S ..... 
> CoP 
S~ 
+D S 
s ~ t 1 
.... 
~ 
~ts: Dt 
~ Ds 
be a diagram of type 
S 
in 
C °p . 
Let us consider the composite 
S ..... 
D 
~ coP 
Y 
~ (C,Set) 
(with 
y 
the Yoneda embedding: 
C[ 
~ C(C,-)), and its colimit: 
M(D) = colim C(Ds,- ) e Lex(C,Set). 
seS 
fi 
Let 
,4 = (A i 
~ A)ie i e J. 
For 
M 
to carry 
A 
into a canonical 
covering in Set, it is necessary and sufficient that for every 
s c S 
and every 
g: D s 
~ A, 
the following hold: 
(*) there are 
i ~ I, t ~ s 
and an arrow 
g' 
making the diagram 
D 
g 
÷A 
D t ..... g ' 
-, A i 
commute. 
(This is a matter of inspection.) 
When condition (*) holds, 
we will say that 
g 
is aaptured for 
A 
in the diagram 
D 
by 
g' 
Let us call a diagram 
D 
of the above type consistent if none 
of the objects 
D s 
is empty. 
A continuation of 
D 
is a directed 
diagram 
D': S' 
, C 
with 
S 
a sub-poset of 
S', 
and 
D 
the 
restriction of 
D' 
to 
S. 
The main step in the proof is the following 

247 
Lemma 2.1.3. 
Suppose 
D 
is a consistent diagram, 
g: D 
> A, 
and 
A = (fi: Ai 
) A)iE I 
is a finite J-covering of 
A. Then there is a 
consistent continuation of 
D 
in which 
g 
is captured for 
A. 
Once the lemma is proved, the proof of the proposition is 
straightforward. 
Note that, once an arrow is captured for a covering 
in a diagram, it remains so captured in any continuation. 
If 
(D)~< B 
is a system of consistent diagrams, with 
~ 
ordinal, such that for 
< ~' < B, 
D 
is a continuation of 
D , then we have an obvious 
colimit, 
U 
D, 
~<~ 
a consistent 
diagram, 
a continuation 
of 
each 
D . 
Note also 
that, 
to 
start 
with, 
we have 
the 
consistent 
diagram 
D O , 
with 
S = (*), 
(DO)( * ) = 1 e C. 
Now, given 
any consistent 
diagram, 
by repeatedly 
using 
the 
lemma, 
and using 
the 
colimit 
construction 
of diagrams, 
we can 
construct a consistent continuation in which every arrow with domain in 
the original diagram is captured for every J-covering. 
An u-type co- 
limit of continuations so constructed will give us a continuation 
D of 
D O 
in which every arrow, with domain any object in 
D, 
is captured 
for all J-coverings. 
As we said above, this means that 
M(D) 
is a 
morphism of sites (C,J) 
~ Set. 
It remains to prove the ]emma. 
Let us choose, for any 
t e s, 
and 
i e I, 
the object 
Dti 
and 
morphisms 
~ti' gti 
to form a pullback diagram 
~ts 
g 
~A 
D t 
..... 
) D s 
T, 
*" A. 
Dti 
gti 
i 
Then, for any 
t 
and 
u 
such that 
s ~ t ~ u 
we have a unique arrow 
~uti 
making the following commute: 

248 
~LIS 
J 
6u t 
D u 
) D t 
Duz ~
i
 
Dti 
6t s '~ ) 
D S 
If 
Dti 
is non-empty, and 
u ~ t, 
) 
A 
'If i 
~" A. 
(1) 
gti 
j 
z 
Ul 
so is 
Du~'z We claim that there 
is 
i e I 
such that 
Dti 
is non-empty for all 
t ~ s. 
Otherwise, for 
• > s 
such that 
Dti i 
is empty. 
Since 
I 
is 
all 
i ~ I 
there is 
t I - 
finite, and since 
S 
is directed, there is 
t ~ s 
such that 
t ~ t i 
for all 
i ~ I. 
Thus, 
Dti 
is empty for all 
i e I. 
But, 
(~ti: Dti 
) Dt)ic i 
is a covering, by axiom (ii) of topology. 
Hence, 
by axiom (iii), 
D t 
is empty, contradicting the assumption that 
D 
is 
consistent. 
The claim is thus shown. 
Let us fix 
i 
as in the claim. 
We are ready to construct the desired continuation 
D'. 
The 
^ 
underlying poset will be 
S' = S ~ 
{t: t~s} = S u {t: t~s}. 
We put 
D t' = D t 
for 
t e S, 
and 
D t' = Dti 
for 
t -> s. 
Thus, by the claim, 
we have ensured that 
D' 
is consistent. 
The partial ordering on 
S' 
is given as follows: 
for any 
x,y e S', 
x -< y in S' ~=* either x, y c S and x -< y in S 
^ 
or 
x = t, y = fl and t -< u in S 
or 
x E S, y = t and x -< t in S. 
One verifies easily that this is, indeed, a directed partial ordering. 
The remaining data of the diagram 
D' 
are given as follows: 
6 '^ = 
(t < u) 
fit 
~uti 
~t 
= ~ti ° ~uti 
(t ~ u) 
(see diagram (1)). 
The commutativity of the left square in (1) is used 
to show that 
D' 
so constituted 
is, in fact, 
a functor. 
Now, looking at (1), we see that 
g 
is captured for 
A 
in 
D' 
by 
gti' 
completing the proof of the 1emma. 
• 2.1.3. 
• 
2.1.2. 

249 
Theorem 2.1.1 will now be reduced to Proposition 2.1.2. 
Lemma 2.1.3. 
Let 
J 
be a topology on 
C, 
and 
X 
an arbitrary 
collection of objects of 
C. 
Let 
J' 
be the topology generated by 
J 
together with the empty cover for each 
A ~ X. 
Then 
J' 
can he 
described as follows. 
Let 
X' 
be the collection of all objects 
A' 
for which there is at least one arrow 
A' 
~ A 
into an object 
A 
in 
X. 
Then 
A = (A i 
+ A) iE I e J' 
if and only if there is 
I' = I 
and an extension 
A' = (A i 
÷ A)ie I 
of 
A 
such that 
A' e J 
and 
A. e X' 
for all 
i e I' - I. 
1 
Paoof: 
It is immediate that any 
A 
satisfying the condition is in 
J' 
Conversely, it suffices to show that the collection of the families 
satisfying the condition is a topology; 
this is an easy verification. 
m 2.1.3. 
Lemma 2.1.4. 
Suppose the family 
(Ai N 
÷ l)iE I with the joint co- 
domain 
I, the terminal object of 
C, is not a J-covering. 
Then in the 
topology 
J' 
generated by 
J 
and the empty coverings for the objects 
A i, 1 is non-empty. 
Proo,,f: 
J-covering 
Bj 
~ Ai. 
J 
Suppose 
I is empty in 
J'. 
Then, by Lemma 2.1.3, there is a 
(Bj 
~ 
> l)j 
such that for each 
j, 
there is an arrow 
to some 
i. e I. 
Since 
J 
A. 
Bj 
I 
commutes 
(I being terminal), by axiom (iv) 
(A i 
covering, contrary to the assumption. 
>1) i 
isaJ- 
12.1.4. 
Proof of Theo,rem 2.1.1.: 
We consider the comma category 
C/A 
(denoted 
C+A 
in [CWM]). 
C/A 
has finite limits; 
the terminal object in 
C/A 
is the arrow 
id: A 
~ A. 
We have the functor 

250 
F: C 
Ct- 
C/A 
CxA 
1~2 
A 
C 
fll 
+ fxid A 
C' 
C×A_ 
C'xA 
embedding 
C 
into 
C/A; 
F 
preserves finite limits. 
We define the 
topology J/A on C/A 
as follows: 
e J/A ~=~ (B k 
Bk "~A 
kcK 
'~ B)kc K c J 
F 
is a morphism of sites (C,J) 
~ (C/A, J/A). 
The following is 
always a pullback diagram in 
J/A: 
A' ., 
<id~f> 
+ A'×A 
+ AxA 
~=<id,id> 
(z) 
All the above facts can be verified easily, if not already known. 
Now, assume the hypotheses of the theorem. 
The family 
fi 
I 
A i 
.~ A 
- - A  
/ie I 
is not a covering on 
IC/A 
in 
J/A. 
By Lemma 2.1.4, in the topology 
J' on 
C/A 
generated by 
J/A 
and the empty covering of each 
fi: Ai 
~ A e Ob(C/A), 
the terminal object 
Ic/A 
is not empty. 
By 

251 
Proposition 2.1.2, there is a morphism of sites 
M': 
(¢/A,J') 
~ Set. 
By the definition of 
J', M'(f i) = 0, 
for all 
i c I. 
Now, let 
M = M'oF: C 
+ Set. 
M 
is a morphism 
(C,J) 
~ Set. 
With any 
fixed 
i • I, 
A' = Ai, 
f = fi' 
the pullback diagram (2) is taken 
into a pullback in Set by M', i.e. the diagram 
M' (fi) 
, 
1 
= M' (1C/A) 
, M(A i) 
j 
M(f i) 
-, M (A) 
M'(~) 
is a pullback in Set. 
Since 
M'(f i) = 0, this means that the element 
of 
M(A) 
picked out by 
M'(4) 
is not in the image of any 
M(fi) , 
i e I, i.e., the image of the family 
A 
under 
M 
is not a canonical 
covering. 
2.1.1. 
2.2. 
Coherent categories. 
Let 
C 
be a category with finite limits, 
A 
an object in 
C. 
Then the subobjects (see [CWM]) of A form a partially ordered set, 
denoted 
Sub(A). 
In fact, 
Sub(A) 
is a meet (^-) semilattice, the 
meet of the subobjects represented by the monos 
B 
> A, 
C 
~ A 
being represented by 
D .... ~ S 
from a pullback diagram 
B 
~ A 
Given an arrow 
f: A' 
~ A, 
the map 
f*: Sub A 
~ Sub A' 
(i) 
is defined by pullback: 
f*FB 
~ A] = [B' 
~ A'] 
where 

252 
B 
~A 
B' 
~ A' 
is a pullback, 
f* 
is a homomorphism of meet semilattices. 
By the condition that 
"C 
has stable finite sups of subobjects" 
we mean that each 
Sub A (A e Oh(C)) 
is a lattice (having a join 
operation, v) with a minimal element (sup of empty family of subobjects), 
and each 
f* 
is a lattice homomorphism preserving the minimal element. 
The map (I) of posets having a left adjoint, denoted 
3f, 
means 
that for every 
~ e Sub A' there is a subobject of 
A, mf(~), necessarily 
unique, such that 
~f(~) ~ ~ 
iff 
~ ~ f*(~) for all 
, e Sub A; 
in 
other words, 
~f(~) 
is the least subobject 
~ 
of 
A 
such that 
~ f*(~). 
Denoting the maximal element of 
Sub A' 
by 
IA,, let us 
write 
Im(f) 
for 
3f(iA, ). To say that 
Im(f) = 1 A 
means that 
f 
does 
not factor through any mono with codomain 
A 
unless the mono is an 
isomorphism; 
this circumstance is referred to by saying that 
f 
is an 
extremal epimorphism. 
The existence of 
~f, 
for all 
f, 
is equivalent 
to saying that every morphism can be factored as the composition of an 
extremal epi followed by a mono. 
It is immediate that a morphism is an 
isomorphism just in case it is both a mono and an extremal epi. 
The so-called Beak-condition for 
~ 
means that for any 
f 
as 
above, any 
g: B 
÷ A 
and a pullback 
the 
diagram 
A' 
f 
+ A 
B' 
+B 
h 
Sub A' 
~f 
+ Sub A 
Sub B' 
,~ Sub B 
3 h 
(2) 
commutes. 
This is equivalent to saying that whenever in the pullback (2) 
f 
is an extremal epi, then so is 
h. 
If 
3f 
always exists and satisfies 
the Beck-condition, we say that 
C 
"has stable images". 

253 
A category suitable for finitary coherent (geometric) logic, or 
simply: 
a coherent category (in [MR]: "logical category") is a category 
T 
with finite limits having stable finite sups of subobjects and stable 
images. 
Let 
T 
be a coherent category. 
Define 
J (= JT) 
to be the 
collection of all families (fi: Ai 
÷ A)iei 
of morphisms of 
T such 
that some finite 
I c I' 
we have 
V Im(f i) = 1 A. 
i~I 
J 
is a topology on 
T. 
Indeed, axiom (ii) follows by the stability 
conditions on sups and images. 
Axiom (iii) easily follows from the 
following two formulas: 
for morphisms 
A" 
g 
A' 
f 
+ A 
we have 
~fg (¢) = ~f(~g(¢)) 
(~ c Sub A") 
and for 
f 
A' 
+A 
we have 
3f(iYl~i) = iYl3f(~i ) 
(I finite, ~i ~ Sub A'). 
The two formulas are, in turn, easily checked. 
Axioms (i) and (iv) are 
immediate. 
Note that a monomorphism is a covering in 
J 
(as a singleton) iff 
it is an isomorphism. 
For a functor 
F: T 
~ T' 
between coherent 
T 
and 
T' 
pre- 
serving finite limits, saying that 
F 
is morphism of sites 
(T,J T) 
~ (T',JT,) 
is equivalent to saying that 
F preserves finite 
sups and images (this latter condition means, naturally, that for 
FA: Sub T A 
~ SUbT,(FA) 
the order preserving map induced by 
F, F A 
is a lattice homomorphism 
preserving minimal elements, and that whenever 
f: A' 
~ A 
is in 
T, 
then 

254 
F a (3f(q~)) = 3Ff(FA(¢) ) 
(~ e Sub A)). 
The truth of this assertion is quite clear. 
Such an 
F 
may be called, 
naturally, a coherent functor, or coherent morphism ("logical functor", 
in ~MR]). 
The category of all coherent 
T 
, T' 
is denoted 
Coh(T,T'); it is a full subcategory of 
(T,T'). 
A coherent functor 
T 
, Set is a model of 
T; 
Coh(T,Set) is denoted 
Mod(T). 
A functor 
F: T ---+ T' 
reflects isomorphisms (or is conservative) 
if 
Ff 
being an isomorphism implies that 
f 
is an isomorphism. 
If T, 
T' 
have finite limits and 
F 
preserves them, then 
F being conservative 
implies that 
F 
is faithful. 
One can apply Theorem 2.1.1 to conclude that for any small co- 
herent category 
T, 
and any monomorphism in 
T which is not an 
isomorphism, there is a coherent 
T 
, Set which takes the given mono- 
morphism into a mono which is, again, not an isomorphism. 
Putting 
several such coherent functors together, one for each mono in 
T 
that 
is not an isomorphism, we obtain 
Theorem 2.2.2. (Completeness for finitary coherent logic). 
Any small 
coherent category has a conservative coherent embedding into a small 
Cartesian power of Set. 
• 2.2.2. 
One should note the easily seen facts that if 
F: T 
+ T' 
is 
coherent and conservative, then, for any finite diagram in 
T, 
if its 
F-image is a limit diagram in 
T', 
then the original diagram is a limit 
diagram in 
T 
as well; 
moreover, similar reflection properties hold 
for sups and images. 
This means that any 'diagrammatic property' of 
objects and morphisms involving commutation of diagrams, finite limits, 
sups of subobjects and images that holds throughout in Set, and hence 
in any Cartesian power of Set, will hold in any coherent category as 
well. 
This fact expresses the completeness of the defining axioms for 
'coherent category' for the 'standard coherent logic', that of Set. 
Definition 2.2.3. 
In a category with finite limits, a family 
(fi: Ai ---+ A)iei 
is said to be an effective epimorphic family if the 
following holds, with 

255 
A Ai A 
J 
a pullback diagram for all 
i,j e I: 
for any object 
B 
and any system 
(gi: Ai 
, B)ie i of 
= 
f!. 
for all 
i 
and 
j 
in 
I, 
then there 
morphisms, if 
gifij 
gj z3 
is a unique morphism 
h: A 
+ B 
such that 
hfi = gi 
for all 
i 
in 
I. 
pr0position 2.2.4. 
The topology 
JT 
defined above in a coherent 
T 
coincides with the so-called precanonical topology, i.e. the one in 
which a family is a covering iff it contains a finite effective epi- 
morphic family. 
The fact that any family in JT 
is effective epimorphic is seen, 
for 
T = Set, 
by a careful inspection. 
Then the same fact, for a 
general 
T, 
is essentially a consequence of completeness, 2.2.2. 
The 
detailed proof of 2.2.4 is postponed until Section 2.5. 
2.3. 
The quotient-conservative factorization. 
The definition of a quotient-morphism is given in Section 1.4 in 
the context of pretoposes. 
The definition has a general character; 
it 
can be repeated in other, similar, situations. 
Such a situation is 
given by a (concrete) 2-category (c.f. [CWM]): 
certain categories (the 
"objects" of the 2-category), certain functors between them (the 
"morphisms" of the 2-category), and certain natural transformations 
between those functors (the "2-cells" of the 2-category). 
E.g., Pretop 
is the 2-category of pretoposes, pretopos-morphisms, and all natural 
transformations between such. 
Similarly, we may talk about Lex, the 
2-category of categories with finite limits, functors preserving them 
("Lex-morphisms") and all natural transformations between such. 
The 
2-category of coherent categories is 
Coh. 
The 'standard' 2-category is 
Cat, the 2-category of categories, 
functors and natural transformations. 
We want 
Set, 
the category of sets to be an object of 
Cat, and 
also of 
Lex, Pretop, etc. 
Therefore, we have in mind three set- 
theoretical universes: 
V@. 
for 
i = ~, i, 2, 
with 
@0 < @i < 82 
! 

256 
inaccessible cardinals. 
Ob(Set) = V@0 , Set e Ob(Cat) c V@I, 
Cat e V@ . Small categories are those in 
V@0. 
2 
Note the easily seen but important fact that a morphism which is 
a quotient and conservative at the same time is an equivalence; 
this 
is true as a direct consequence of the definition, and holds in any of 
our 2-categories. 
Another obvious consequence of the definition is that if 
I: T 
~ T' 
is a quotient morphism in the 2-category 
D, then, for 
any 
T" ~ D, ()oi: D(T',T") 
+~(T,T") 
is full and faithful. 
A 
result essentially contained in [MR] 
is that for D = Pretop, 
and 
T" = Set, 
if 
I: T 
+ T' 
is such that 
I* = ()of: Mod T' ----+ Mod T 
is full and faithful, then 
I 
is a quotient (cf. § 3.1 below). 
First, we will be concerned with Lex; 
as we said above, the 
concept of a quotient-morphism is defined as in 1.4.2, with Lex re- 
placing Pretop. 
Proposition 2.3.1. 
Any Lex-morphism 
F: T 
into Lex-morphisms: 
> T' 
can be factorized 
F 
T 
+T' 
T" 
F = FoQ, 
so that 
Q 
is a quotient, and 
r 
is conservative. 
Paoo~: 
Let 
z = Inv(F) c Morph(T). 
We define 
T" 
to have the same 
objects as 
T. 
The morphisms 
A ..........÷ B 
of 
T" 
will be equivalence classes of pairs (f,s) as shown: 
C 
with varying 
C 
and with 
s ~ Z, under the following equivalence 
relation: 

257 
(f,s) ~ (f',s') ~=~ (Ff)(Fs) -I = (Ff')(Fs') -I 
(remember that for 
s e E, Fs 
is an isomorphism). 
To have a simpler 
notation, for the right hand side of the last defining equivalence we 
rather write 
fs -I = 
f,(s,) -I, 
T' 
and read: 
"fs -I equals 
f's '-I 
in 
T'". 
Thus, the definition is: 
(f,s) ~ (f',s') ~=~ fs -I = 
f's '-I 
T' 
This clearly defines an equivalence relation on the pairs (f,s) with 
f e T(C,A), s ~ T(C,B) n ~, 
with fixed 
A 
and 
B 
but varying 
C. 
For 
(f,s)/~, 
the morphism represented by (f,s), we'll write rfs-l~. 
The letters 
s, t, u always stand for morphism in 
E; 
in diagrams, 
arrows in 
E are indicated by double arrows. 
To define composition, what we need to show is that, in the 
situation 
the morphism 
gt-lfs -I 
is equal, in T', to one of the form 
hu -I. 
Consider the extension 
with the pullback indicated; 
this diagram is in 
T, 
except for the 

258 
dotted arrows. 
Reading it in 
T', 
we also have the dotted arrows; 
it is commutative in 
T', 
and the pullback remains a pullback. 
It 
follows that 
t' 
is an iso in 
T', 
since 
t 
is; 
thus, 
t' e Z. 
Now, it is clear that 
(gt -1)(fs -1) = 
(gf')(st')-i 
T' 
Therefore, we define: 
rgt-l~ o 
rfs-ln 
= r(gf,) (st,)-l~. 
T" 
This definition is legitimate; 
if different representatives of the 
equivalence classes are chosen, the resulting right-hand-sides will 
again be equivalent, simply because they will be the same morphism 
in 
T' 
The identity morphisms in 
T' 
are given in the obvious way: 
A 
,~----°°°°-~ 
A 
So far, we have defined the category 
T". 
The functor 
Q 
acts 
as the identity on objects, and takes 
f: A 
~ B 
into rf(idA )-I~ 
The functor 
F 
takes 
A 
into 
F(A) (so that 
F = FoQ 
on 
objects), and 
rfs-l~ 
into 
fs -I 
in 
T', i.e. 
(Ff)(Fs)-I; 
clearly, 
F 
is well-defined, it is faithful, and 
F = FoQ. 
Q 
is also 
conservative: 
if 
fs -I 
becomes an isomorphism under 
Q, i.e. 
fs -I 
is an iso in 
T', 
then 
f 
is an iso in 
T' 
(since 
s 
is an iso in 
T'), hence 
f ¢ Z; 
therefore, we can form 
rsf-l~, 
and it is clearly 
the inverse of 
rfs-l'. 
Let us check that 
T" 
has equalizers, and that 
F preserves them. 
First of all, we observe that, given any two parallel morphisms 
,.ooo,oo°o~ 
,oo°°°o°°°~ 
in 
T", 
we may represent them as 
rfs-ln 
and 
rgs-l~ 
with 
the 
same 
s. 
In fact, 
consider 
simultaneously 

259 
t' 
S 
It is clear that, with 
u = st' = ts', 
we have 
rfs-l~ = r(ft')u -I~, 
rgt-l~ = r(gs,)u -I". 
Given two parallel morphisms 
~ 
rfs-l~ 
rgs-ll 
T" 
= 
, 
~ 
= 
in 
, 
let 
e 
be the equalizer of 
f 
and 
g (in T); 
since 
F 
preserves 
equalizers• and 
s 
is an iso in 
T', es 
is the equalizer of 
fs -I 
and 
gs -I 
in 
T' 
Therefore, we are left with the task of showing 
that 
se 
= rse(id) -I~ 
is an equalizer of 
rfs-l~, rgs-l~ 
in 
T". 
To do this, we consider a morphism 
y = rhu -I~ 
satisfying 
~¥ = ~¥. 
Consider the following diagram in 
T: 
j\ 
(the dotted arrows appear only in 
T' 
and 
T"). 
s' 
and 
h' 
form a 
pullback with 
s 
and 
h; 
e' 
is the equalizer of 
fh' 
and 
gh' 
Now, 
the composite ~ 
is 
r(fh')(us') -I~, 
~y 
is 
r(gh')(us') -I~. 
TO say 
that they are equal is to say that they are equal in 
T', i.e. that 
fh' = 
gh' ; 
T' 
in other words, that 
e' 
is an isomorphism in 
T' 
i.e 
that 
e' ~ 

260 
There is a unique arrow 
i 
in 
T 
making the square containing it 
commute, by the definition of 
e. 
The whole diagram, when read in 
is commutative. 
Hence 
T', 
= rhu -I~ = ri(us'e')-l'~ o se. 
Since 
is easily seen), the uniqueness of the factorization also follows. 
completes the verification of equalizers in 
T". 
The verification of the terminal object and products in 
T", 
as 
well as the remaining parts of the facts that 
Q 
and 
Y 
are Lex- 
morphisms are left to the reader. 
It is clear that 
Inv(Q) = Inv(F). 
Since 
T" 
is constructed by 
doing the bare uinimum to invert the morphisms in 
Inv(Q), it is 
intuitively clear that 
Q 
is a quotient; 
it is not hard to prove it 
rigorously either. 
• 2.3.1. 
se 
is a monomorphism in 
T' 
and hence in 
T" 
as well (as it 
This 
Proposition 2.3.1,. The quotient-conservative 
factorization in 
Lex 
is 
essentially unique. 
More particularly, if in 
T' 
Q, Q 
are quotients, 
r, r 
are conservative, and we have an isomorphism 
^ 
A 
r Q-= r Q, 
(i) 
then there are an equivalence functor 
E 
and isomorphisms 
r~rE 
whose composite 

261 
is the one given in (I). 
Proof: 
Straightforward. 
• 2.3.1' 
Let us work in a fixed category 
T 
with finite limits. 
The 
graph of a morphism 
f: A ~ 
B 
is the subobject represented by the 
monomorphism 
<id,f>: A 
> AxB. 
A functional subobject 
~ of 
A×B 
is one that is represented by a 
monomorphism 
X 
~ AxB 
for which the composite 
X 
~ AxB 
, A 
is an isomorphism. 
(Verify that these concepts mean the expected 
things in 
Set.) 
Mapping 
T(A,B) 
into 
Sub(AxB) 
by taking the graph of the 
morphism, we obtain a bijection of 
T(A,B) 
onto the set of functional 
subobjects of 
AxB. 
In fact, given a functional subobject represented 
by 
i: X 
> A×B, 
the morphism whose graph is 
i 
is 
~2i(~li)-i 
(~2: AxB 
> B: the canonical projection). 
Proposition 2.3.2. 
(Andrew Pitts) 
A Lex-morphism 
F: T 
> T' 
a quotient if and only if the following condition holds: 
for any 
morphism of the form 
f: X 
> FA 
in 
T', 
there is a morphism 
g: A' 
~ A 
in 
T 
and an isomorphism 
X m FA' 
such that 
f 
X 
-~ FA 
is 
commutes. 
Paoo~: 
Note that the particular construction in 2.3.1 of the quotient 
Q: T 
+ T", 
the first factor in the quotient-conservative factor- 
ization of any Lex-morphism, satisfies the condition. 
Now, by the 
uniqueness of this factorization (2.3.1'.), one easily deduces that 
the condition holds for any quotient-morphism. 

262 
Conversely, assume that the condition holds, and consider the 
quotient-conservative factorization 
F 
T 
+T' 
K/ 
T" 
First, we may easily verify that £ satisfies the same condition 
as the one assumed for 
F. 
Next, we use this fact to show that 
r 
is 
an equivalence. 
The only thing to prove is that 
r 
is full. 
Suppose 
we have a morphism 
f: rA 
+ rB 
in 
T'. 
Consider its graph 
£A 
~ FA×rB ~ £(A×B). 
By the condition, there is 
g: C 
> A×B 
in 
T" 
such that 
£g 
is a monomorphism, and 
rg 
represents the graph 
of 
f. 
In particular, 
rg 
represents a functional subobject, hence, 
since 
r is conservative, 
g 
represents a functional subobject 
[g] 
of 
A×B. 
Let 
h: A 
+ B 
be the morphism in 
T 
whose graph is 
[g]. 
But then rh 
and 
f 
have the same graph, namely the one represented by 
rg; 
hence 
rh = f, 
as required. 
• 2.3.2. 
Proposition 2.3.3. 
a coherent functor. 
ization of 
F 
in 
Suppose 
T, T' 
are coherent categories, 
F: T 
Then, taking the quotient-conservative factor- 
Lex 
from 2.3.1: 
~ T' 
F 
T 
~ T' 
we find that 
T" 
and the functors 
Q 
and r 
are, in fact, coherent. 
It follows that the Lex quotient-conservative factorization of a 
coherent morphism is already a quotient-conservative factorization 
in Coh. 
Proof: 
Let us note first that 
Q 
is full on subobjects: 
the function 
QA: Sub(A) 
> Sub(QA) 
induced by 
Q 
is surjective. 
Indeed, by 2.3.2, 
every subobject 
~ 
of 
QA 
is represented by a mono of the form 
Qf: QA' 
> QA. 
Consider the image-mono factorization of 
f 
in 

263 
T: A' 
q ~ A" 
i ÷ A, 
iq = f. 
Since 
Ff m FQf 
is a mono, 
Fq 
is a 
mono as well. 
Since also, 
Fq 
is an extremal epi, 
Fq 
is an iso- 
morphism. 
Since 
F 
is conservative, and 
Fq m FQq, Qq 
is an iso- 
morphism. 
But then 
Qi 
represents the same subobject of 
QA 
as 
Qf; 
thus 
# = QA([i]), 
as required. 
Let 
f: A 
~ B, 
and 
~ ~ Sub(A), 
be in 
T. 
To verify that 
Q 
preserves extremal epis, by the subobject-fullness of 
Q, 
it suffices 
to show the equivalence 
Q(~f(¢)) ~ Q(~) "=~ Q(¢) ~ Q(f*(~)) 
(~ E Sub B). 
But, applying 
r 
to both sides, the equivalence becomes true since 
F 
preserves extremal epis; 
since 
F 
is conservative, it follows that 
the equivalence itself holds. 
Since 
Q 
is, also, essentially surjective (see 2.3.2) it follows 
that 
T" 
has images and that 
F 
preserves them. 
By the conservative- 
heSS of 
F, 
it easily follows that the property of stability under 
pullback of images is reflected from 
T' 
to 
T". 
Similar arguments apply to sups of subobjects. 
• 2.3.3. 
Corollar Z 2.3.4. 
Coh-quotient. 
If a Coh-morphism is a Lex-quotient, then it is a 
m 2.3.4. 
Corollar[ 2.3.5. 
A Coh-morphism is a quotient in 
Coh 
iff it is full 
on subobjects and essentially surjective. 
Proof: 
The 'only if' part follows from the proof of 2.3.3. 
'if' part, assume that 
F: T --+ T' 
2.3.4. it suffices to show that 
F 
satisfies the condition of 2.3.2. 
Let 
f: X 
~ FA 
be given. 
X m FA'; 
consider the composite 
For the 
satisfies the conditions. 
By 
is a Lex-quotient, i.e., that it 
Find 
A' 
and an isomorphism 
f': 
FA' m X 
f ~ FA. 
The graph of 
f', the subobject of 
FA'×FA 
represented by 
<id,f'>: FA' 
~ FA'xFA 
is represented by 
Fi: FA" ---+ F(A'xA) 
FA'×FA, 
for some mono 
i: A" .......... 
~ A'xA. 
But then the diagram 

264 
F i 
F~ 2 
FA" 
÷ F(A'xA) 
~ FA 
F~ 1 
X 
commutes, and so does 
+ FA 
FA" 
as required. 
• 2.3.5. 
Corollary 2.3.6. 
If 
F: T ---+ T' 
is a Coh-quotient, and 
T 
is Boolean, 
then 
T' 
is Boolean as well. 
Proof: 
Straightforward from 2.3.5. 
i 2.3.6. 
2.4. 
Pretoposes. 
Every category in this section has (at least) finite limits. 
If 
the context is not explicitly mentioned, we work in a fixed category 
with finite limits. 
The ith projection 
AlX'''XAn ---+ Ai 
is denoted by 
~i' 
and 
for the morphism 
• .. 
×. 
<~il' 
,~ik >: AlX'''xA n 
~ Ail 
"'×Aik 
we write 
~il...ik" 
Definition 2.4.1. 
An equivalence relation is a pair of parallel 
morphisms 
) 
R 
A 
+ 
such that 
i = <p,q>: R 
+ AxA 
is a monomorphism, and such that if 

265 
we also write 
R 
for the subobject of 
A×A 
represented by 
i, 
then 
we have the following: 
A A s R 
(reflexivity) 
=21*(R) 
= R 
(~21: AxA 
> A; 
symmetry) 
=I2*(R)^~23*(R) ~ ~I3*(R) 
(~12' ~23' ~13: AxAxA -
-
 
- - ~  
A×A; 
transitivity). 
One immediately notes that in 
Set, 
this is the definition given 
in 1.2. 
It is clear that an equivalence relation in the sense of the 
last definition is taken into another one by any functor preserving 
finite limits; 
hence the condition of 2.4.1 implies the defining 
condition in 1.2. 
Also, if a pair of parallel morphisms is taken by a 
conservative functor preserving finite limits into an equivalence 
relation according to 2.4.1, then the original pair is an equivalence 
relation too. 
It follows (by the 'completeness of the logic of finite 
limits', the special case of 2.1.1 for the trivial topology) that the 
two definitions are equivalent. 
Next note that the kernel pair of any morphism is always an 
equivalence relation, since this is true in Set. 
Since in Set, any 
equivalence 
relation is the kernel pair of its own coequalizer (checkl), 
equivalence relations could be defined by the condition that they are 
taken into a kernel pair by some conservative functor preserving finite 
limits. 
It is easy to see that if a morphism is a coequalizer of some 
pair of morphisms, it is a coequalizer of its own kernel pair. 
Such a 
morphism is called an effective epi: 
clearly, a morphism 
f 
is an 
effective epi iff 
{f} 
is an effective epimorphic family according to 
2.2.3. 
It is also easily seen that effective epis are extremal epis. 
Definition 2.4.2. 
A pretopos is a category with finite limits having 
an initial object, coproducts of pairs of objects, and coequalizers of 
equivalence relations, and satisfying the following additional conditions: 
(i) 
The initial object 
O 
is strict, i.e. every morphism with 
codomain 
O 
is an isomorphism; 
(2) 
If 
C 
A 
B 

266 
is a coproduct diagram, then 
i, i' 
[i], [i'] they represent, 
[i] ^ [i'3 = O 
C 
by 
O 
* C); 
(3) 
If in 
are 
monos, 
and for 
the 
subobjects 
(0 c = subobject 
represented 
C 
A 
B 
p.b. 
p.b. 
^ 
A 
B 
i) 
i I 
then 
form a coproduct diagram, 
A 
and 
B 
are pullbacks as shown, 
^ 
i, i' 
also form a coproduct; 
(4) 
Any pullback of an effective epi is again an effective epi, 
(5) 
Any equivalence relation is a kernel pair of its coequalizer. 
Lemma 2.4.3. 
In a pretopos, let a morphism 
f: A 
~ B 
be given. 
Let 
s: A 
C 
be the coequalizer of the kernel pair of 
f; 
by the 
universal property the coequalizer, we have a unique 
i: C 
~ B such 
that 
A 
f 
,,), B 
C 
commutes. 
Then 
s 
and 
i 
give a factorization of 
f 
into an 
effective (hence extremal) epi followed by a mono. 
We know that 
s 
is an effective epi. 
The proof that 
i 
is a 
mono is postponed until later. 
Proposition 2.4.4. 
(i) 
Every pretopos is a coherent category. 
(ii) 
A functor between pretoposes is a Coh-morphism iff it is a 
Pretop-morphism. 
Proof: 
(i). 
Let 
T 
be a pretopos. 
T 
has stable images by 2.4.3 and 
the supposed stability of effective epis under pullback (2.4.2.(4)). 
It is immediate that 
OA, 
represented by 
O 
) A, 
is the 

267 
minimal subobject of 
A; 
its pullback along any 
A' 
- 
~ A 
is 0A,, 
by 2.4.2(1). 
Here is the construction 
of joins 
of subobjects. 
Let two sub- 
objects 
of 
A 
be represented 
by the monos 
B ---+ A, C 
~ A. 
Let us 
form the coproduct 
B~C, 
with canonical injections 
B ..... 
, B~ C, 
C 
~ B~C. 
We have a unique arrow 
Bn C 
. + A 
making the following 
commute: 
B 
A. 
Now, let us form the effective epi - mono factorization of 
B~C 
~ A: 
B~C 
÷ A 
We claim that 
D 
, A 
represents the desired join. 
Indeed, if 
E ......... ~ A 
is any mono such that both 
B ----+ A, C 
.~ A 
factor through 
it, then there is a unique 
B~C 
...... ~ E 
such that we have the commuta- 
tive diagram 
Now, if we form the effective epi - mono factorization of 
B~C 
..... 
+ E, 
B~C 
~ E 
\o/ 

268 
then, since 
E 
) A 
is a mono, 
B~C 
-~ 
D' 
and the composite 
D' 
> E 
) A 
form an effective epi - mono factorization of 
B~C 
, A, 
which has to be isomorphic to the one under (I). 
This 
means that 
D 
~ > A 
factors through 
E 
) A, which was to he 
proved. 
The stability of sups under pullback is a consequence of 
2.4.2(3) and (4). 
(ii). 
The construction of images and joins in a pretopos makes 
it clear that any Pretop-morphism is a Coh-morphism. 
For the converse, what we need is a Coh-characterization of 
effective epis and coproducts in a pretopos. 
Note that in a coherent 
category, and hence in a pretopos, a morphism is an effective epi iff 
it is an extremal epi, as a special case of 2.2.4. 
Also, by 2.4.2(2), 
in a pretopos 
T 
a diagram 
C 
A 
B 
is a coproduct diagram iff (a) A 
~ C, B ---+ C 
are monos, 
(b) 
the 
meet of the subobjects represented by them is 
OC, 
and (c) 
the two 
morphisms form an effective epimorphic family. 
Hence, by 2.2.4, the 
same diagram is a coproduct diagram iff (a) and (b) hold, and 
A ---+ C, 
B ---+ C 
form a covering in 
JT" 
Thus, we have the required Coh- 
characterizations. 
Given a coherent morphism 
F: T --+ T' 
between pretoposes 
T 
and 
T' 
we now see that 
F 
preserves finite limits and finite coproducts- 
it remains to see that 
F 
preserves coequalizers of equivalence 
relations. 
Let, in 
f 
h 
R 
A 
÷B, 
g 
h 
be a coequalizer of the pair (f,g), an equivalence relation. 
Since, 
by the above, 
F 
preserves effective epis, 
Fh 
is an effective epi, 
hence a coequalizer of any of its kernel pairs. 
By the last clause(5) 
of the definition of pretopos, (f,g) is a kernel pair of 
h; 
hence 
(Ff, Fg) 
is a kernel pair of 
Fh. 
We conclude that 
Fh 
is a co- 
equalizer of 
(Ff, Fg) 
as desired. 
• 
2.4.4. 
Proposition 2.4.5. 
For any coherent category, we have the (free) 
pretopo8 aompletion of T 

269 
YT: T ~
+
 
P(T) 
with 
P(T) 
a pretopos, 
¥ = ¥T 
a Coh-morphism, and the following 
universal property: 
for any pretopos 
T', 
the functor 
( ) o ¥: Pretop(P(T),T') 
) Coh(T,T') 
is an equivalence of categories. 
Moreover, 
y 
is conservative, full on subobjects (hence also 
full), and "every object of 
P(T) 
is covered by 
¥", i.e. for every 
object 
X 
of 
~(r) 
there is a finite effective epimorphic family of 
the form 
(Y(Ai) 
~ X)i~i. 
Proe~: 
The proof is quite straightforward, although long when written 
out fully. 
It resembles any one of a number of proofs in algebra of the 
type of the construction of the quotient-field of an integral domain. 
It is convenient to break the construction into two steps. 
In the 
first, we adjoin disjoint sums; 
in the second, we adjoin quotients of 
equivalence relations to the result of the first step. 
It turns out 
that the final result is the desired pretopos completion. 
To make this precise, we define coherent categories with disjoint 
sums, and their 2-category (Cohds for short), as follows. 
A Cohds-cat- 
egory is a coherent category having an initial object and coproducts of 
any two objects, satisfying conditions (1), (2) and (3) in 2.4.2; 
a 
Cohds-morphism is a Coh-morphism (automatically preserving the initial 
object and binary coproducts). 
A coherent category with quotients of 
equivalence relations, a Cohqe-category for short, is a coherent 
category in which every equivalence relation has a coequalizer, and 
condition (4) in 2.4.2 holds. 
We prove two propositions. 
One is our 
proposition, with Pretop replaced by Cohds, the other with Pretop 
replaced by Cohqe. 
The second proposition has the addendum that 
Cohqe(T) 
is also a Cohds-category, provided 
T 
is a Cohds-category. 
It is clear that the two propositions imply the one to be proved. 
To carry out the first construction, let us make some preliminary 
observations. 
Let us put ourselves into a Cohds-category. 
Morphisms of 
the form 
~A. 
÷ ~ B. 
i 
i 
j 
j 
between finite disjoint sums are in one-to-one correspondence with 
tuples of the form 

270 
<A. 
1 
Moreover, a morphism of the form 
f: A 
from the pullback 
* ~. B j> i • 
J 
j 
gives rise to 
fj, 
A 
J 
A. 
3 
f 
B. 
J 
i. 
J 
f. 
J 
+B. 
3 
and in fact, the ~j 
form a disjoint sum diagram, 
Conversely, given a 
disjoint sum representation 
(Aj --~ A)j 
of 
A, 
and morphisms 
fj: Aj 
~ Bj, 
one gets a unique 
f 
making the last diagram commute 
for all 
j. 
This suggests the following definition for 
Cohds(T). 
Its objects 
are. finite (possibly empty) tuples (Ai) i 
of objects 
A i 
of 
T; 
such 
a tuple is denoted 
=~A." 
A morphism 
i 
1 
r~A 
~ 
-
-
+
 
r~B 
~ 
i 
i 
j 
j 
is given by: 
a disjoint sum representation 
(Aij 
...... 
~ Ai) j 
of each 
Ai, 
and a morphism 
Aij 
~ Bj 
for each 
i 
and 
j. 
Two such 
morphisms, one as above, the other with primed items, are identified 
if and only if there is a system of isomorphisms 
A i m A!I, A.Ij ~ A~.Ij, 
such that all of the following commute: 
1 
1 
T 
T 
A.. 
~ 
A. ~ . 
1J 
13 
B 
To define composition, we return to a Cohds category, and in it, 
a pair of morphisms 
~A. 
, LB. 
~ ~C k. 
i I 
j J 
k 

271 
Consider the following 
rfA. 
i i 
1 
IS 
f 
Aik 
~ T[B. 
, 
~ 
C k 
- - +  
Bj 
k 
T 
p.b. 
' B
j
k
~
 
+ C k • 
We are interested in deducing, for the sake of a later definition, the 
data 
A. 
1 
C k 
for the composite morphism, out of the ones 
A. 
B. 
A i j ~ ~  
Bj 
Bj k 
Ck 
for the factors. We form the pullbacks Aij k. 
It is clear that the 
arrows 
(Aij k 
, Aik)j 
form a disjoint sum diagram. 
The desired 
morphism Aik 
, C k is, therefore, given by the universal property 

272 
of this last disjoint sum, from the components 
Aij k 
> Bjk 
> C k. 
Now, it is clear how to formulate the definition of composition. 
functor 
y~ohds:- T 
~ Cohds(T) 
is the obvious one. 
The 
We leave the details of verifying the required properties of the 
construction to the reader. 
Let us turn now to 
Cohqe(T). 
Instead of a pair 
(p,q) 
of morphisms, let us refer rather to 
the subobject 
R 
represented by the mono 
<p,q>: R 
> AxA 
as the 
equivalence relation. 
For the quotient of 
R, 
let us write 
PR: A 
~ A/R. 
Let us put ourselves into a Cohqe category, and let us 
analyze an arbitrary morphism 
f: A/R 
> B/S. 
A 
X 
PR 
f 
÷ A/R 
Consider the pullback 
B/S 
B 
and the subobject represented by 
<~,~>: X 
^ 
latter subobject by 
X. 
If our category is Set, 
AxB 
consisting of those 
<a,b> 
for which 
f(a/R) = b/S. 
the following implications are true: 
aRa' & aXb & a'Xb' ~ bSb' 
True ~ 3b aRb 
AxB; 
let us denote the 
X 
is the subset of 
Therefore, 
(2) 
with 
a, a' ranging over 
A, b, b' 
over 
B. 
Conversely, if 
X 
is a 
subset of 
AxA 
such that the implications (2) are true, then there is 
^ 
a unique 
f: A/R 
> B/S 
such that 
X 
deduced from 
f 
as above is 
the same as the given 
X. 
In an arbitrary Cob-category 
T, 
we write 
"~12"(R) ^ ~13"(X) ^ "~24"(:X) < #34"(S) 
l 
] 
1 A 
(~.) 
< 3#1 
(3) 
with the projections in the first inequality referring to the product 
AxAxBxB. 
Certainly, (2) and (3) mean the same in Set; 
and (3) holds 
in 
T 
iff for all Coh-morphisms 
M: T 
> Set, (2) holds with all of 
A, B, R, etc. meaning 
M(A), M(B), M(R), etc. 

273 
We make, therefore, the following definition. 
The objects of 
Cohqe(T) 
are given by pairs (A,R), with 
A 
an object of 
T, 
R 
an 
equivalence relation on 
A; 
we write 
rA/R" 
for 
(A,R). 
A morphism 
A 
rA/R" 
~ rB/S ~ 
is given by an 
X ~ Sub(AxB) 
(a 'relation from A to 
B') satisfying (3). 
As for the composite of two morphisms, note that if we have a 
pair of morphisms 
A/R - - .  
B/S 
+ 
C/U 
and 
X, Y 
are the relations deduced from them, then the relation 
deduced from their composite is the relational product 
X~ 
of 
and 
Y, 
which, in Set, is defined as 
aCX[~)c ~=~ ~bcB (aXb & bYc). 
The official definition is 
~ 
= 
3 
(~ 2 *(~) 
^ ~2 *(Y)) 
713 
1 
3 
with the projections referring to the product 
A×B×C. 
Notice that we have to show that if 
X, Y satisfy (3) (with the 
appropriate data), then 
X[ST satisfies (3) with 
R 
and 
U. 
For doing 
so, it suffices to verify the same fact in Set, and appeal to 
completeness. 
We leave the remaining details to the reader. 
• 2.4.5. 
Corollary 2.4.5' 
If 
T 
is a Boolean category, then 
P(T) 
is a 
Boolean pretopos. 
The proof is an instructive exercise, using the 'moreover' part 
of 2.4.5. 
• 2.4.5'. 
Let us call a Coh-morphism quotient-like if it is full on sub- 
objects, and every object in its codomain is covered by it (see the 
statement of the 'moreover' part of the last proposition). 
We will show 
that, for a Pretop-morphism, being quotient-like is equivalent to being 
a quotient. 
But first, we prove 

274 
Lemma 2.4.6. 
A quotient-like conservative Pretop-morphism is an 
equivalence. 
Proof: 
Let 
F: T ~ 
T' 
satisfy the conditions, and let 
X ~ 0b(T'). 
We have an effective epi family 
(F(Ai) 
~ X) i (one in JT); 
with 
A = ~A. 
i 1 
we therefore have a single effective epi 
f: F(A) .............. 
~ X. 
Let 
P ..... 
Y 
,, + F (A) 
p' 
be the kernel pair of 
f; 
let 
Y 
be the subobject of 
AxA 
represented 
by 
<p,p'>: Y 
, FAxFA. 
By assumption, we have a subobject, represent- 
ed by <g,g'>: B 
~ AxA, say, whose F-image is 
Y. 
Since 
Y 
is an 
equivalence relation, and 
F 
is conservative, 
B 
A 
+ 
g' 
is an equivalence relation. 
Let 
h: A 
then the two diagrams 
C 
be its quotient. 
But 
P 
.4~ 
f 
Y 
F (A) 
~ X 
) 
p' 
Fg 
. 
F(B) 
F(A) 
Fh 
~ F(C) 
Fg' 
are isomorphic since each of 
f 
and 
Fh 
is a coequalizer in the first 
and second diagram, respectively: 
in particular 
X -~ F(C). 
This shows 
that 
F 
is essentially surjective. 
F 
is full and faithful as a 
consequence of being conservative and subobject-full. 
• 2.4.6. 
Proposition 2.4.7. (i) Every Pretop morphism can be factorized, up to 
an isomorphism, as the composition of a (Pretop-)quotient followed by 
a conservative (Pretop-)morphism. 

275 
(ii) 
A Pretop-morphism is a quotient if and only if it is full 
on subobjects, and every object in its codomain is covered by it (it 
is quotient-like). 
(iii) 
If the domain of a Pretop quotient is Boolean, so is its 
codomain. 
Proof: 
(i) 
Given the morphism 
F: T 
÷ T' 
in Pretop, we consider 
it being in Coh, and factorize it in a quotient and a conservative one 
in Coh: 
F 
T 
,, 
~ T' 
\/ 
T" 
Now, form the pretopos completion 
y: T" 
clearly have a diagram 
P (T") 
of 
T". 
We 
F 
T' 
T" 
~- 
F 
\ 
P (T") =T'" 
in which 
Fy m r. 
The universal properties of 
Q 
and 
y 
immediately 
^ 
imply that 
Q = Qy 
is a quotient in Pretop. 
Moreover, it is quotient- 
like, by 2.3.5 applied to 
Q, 
and the "moreover" part of 2.4.5 applied 
to 
y. 
Using the latter property of 
Q, we now show that 
r 
is 
conservative. 
Let 
X ----+ Y 
be a monomorphism in 
T'" 
taken by 
r 
into an 
isomorphism. 
Consider a finite covering family 
(QA i 
~ Y)i' 
and 
the pullbacks, one for each 
i: 
X 
~ Y 
T 
I 
Z. 
-- . . . . . . .  
QA.. 
i 
1 
^By 
Q 
being subobject-full, 
Z i ^ 
^ 
Qfi: QBi ----+ QAi' 
with 
fi 
a mono. 
r 
phism 
(as a pullback of an isomorphism). 
^ 
> QA i is isomorphic to some 
takes 
Qfi 
into an isomor- 
Since 
F m pQ, 
and 
F 
is 

276 
conservative,^ 
Qfi 
itself is an isomorphism, for every 
i. 
But then 
(Zi 
> QAi 
.... 
~ Y)i 
is a covering, hence, since it 'factors through' 
X 
~ Y, the monomorphism 
X ~ 
Y 
must be an isomorphism. 
It is a simple general fact that a Coh-morphism conservative with 
respect to monomorphisms in the domain category is conservative. 
This 
follows immediately when one reflects that a morphism 
f: A 
) B 
is 
an isomorphism iff the mono representing the subobject 
3f(l A) 
and the 
mono 
A 
) C, 
in a factorization 
A 
> C 
<id,i~ 
/p,q> 
A×A 
with 
(p,q) 
the kernel pair of 
f, 
are both isomorphisms. 
(ii) 
By the proof of (i), and 2.4.6. 
(iii) By 2.3.6. and 2.4.5'. 
112.4.7. 
The final group of results in this section should, logically, be 
the first ones in the study of concepts related to the quotient-con- 
servative factorization. 
P ff0position 2.4.8. 
In any one of the 2-categories 
Lex, 
Coh, Pretop, 
the following is true. 
If T 
is any object of the 2-category, 
N 
is 
any set of morphisms in 
T, 
then there is an arrow 
Q: T 
~ T[~ -I ] 
in the 2-category so that 
"Q 
is obtained by inverting the morphisms 
in ~" in the sense of Definition 1.4.2.(i) (with Pretop replaced by the 
relevant 2-category). 
T[~-I] 
and 
Q 
are determined up to equivalence, 
resp. up to isomorphism. 
The proof will be discussed (although not given) in the next 
section. 
2.5. 
Relations with symbolic logic. 
Let us start with a fundamental observation that goes a long way 
towards explaining the relation of model theory and categories. 
Let 
C 
be a small graph) or category, and consider a diagram (functor) 

277 
M: C 
> Set, 
Then 
M 
is the same as a structure for the many-sorted 
language given by 
C. 
M 
interprets each sort of the language, i.e. 
each object of 
C, 
say A, as a 'partial domain' M(A); 
and it inter- 
prets each (sorted unary) operation symbol of the language, i.e., 
morphism of 
C, 
say 
f: A
,
 
B, 
as a corresponding kind of operation 
M(f): M(A) 
> M(B). 
In fact, if 
C 
is a graph, then the diagrams 
C 
> 
Set 
are precisely the structures for the language 
C, 
with 
possibly empty partial domains. 
If 
C 
is a category, the functors 
C: 
> Set 
are those L-structures, for 
L 
the underlying graph of C 
that satisfy a certain set of identities: 
whenever 
A 
............ h 
> C 
B 
commutes, we have the identity 
Va ~ A g(f(a)) = h(a); 
also, 
(i) 
Va e A idA(a) = a 
for the identity morphism 
idA: A 
> A. 
Moreover, natural transformations between diagrams (functors) 
C 
+ Set 
are seen as the same as homomorphisms in the usual sense between 
structures. 
In first order logic over the language 
L, 
we have variables each 
of which has a definite sort, an object of 
L. 
A quantifier 
Yx, 
or 
3x 
is meant to range over a fixed sort; 
to emphasize this, we write 
(¥x c X), (~x e X) 
with 
X 
the sort of 
x. 
We have an equality sign 
that is sorted in the sense that only terms of the same sort are allowed 
to fill in the places of it (equivalently, there could be a separate 
equality sign for each sort). 
The only nonlogical symbols are sorted 
unary operation symbols (the arrows in 
L); 
their use is regulated in 
the natural way as illustrated under (i). 
In full first order logic over 
L, 
we have all the Boolean connectives, and the two quantifiers. 

278 
Although many-sorted languages with unary operation symbols may 
seem to lack expressive power, it turns out, as a biproduct of categor- 
ical logic, that in fact there is no loss of generality when we restrict 
attention to such languages. 
A coherent, or positive existential, formula is one that is built 
up from atomic formulas by using (finite) conjunction, disjunction and 
existential quantification. 
Let 
T 
be a coherent category, 
L 
its underlying graph, 
~ a 
formula, ~ 
a string of variables such that each free variable of 
÷ 
. 
, 
let 
X. 
be the sort of 
x i, 
and 
occurs in 
x. 
If 
~ = <Xl''" 'Xn> 
i 
X = [5] = XIX...×X n. 
If 
M 
is any L-structure, in particular if 
M 
is a functor 
M: T 
~ Set, then we may consider 
M~(~) = 
{a c M(X): M ~ ~[a]}, 
the interpretation of 
~(~) in 
M, 
a subset of 
M(X). 
If 
~ 
is a subobject of 
X, 
M 
a Coh-functor, then 
M(~) 
is a 
subobject, i.e. 
a subset, of 
M(X). 
The next proposition tells us that 
the expressive power of coherent categorical logic is at least as great 
as that of coherent formulas. 
Proposition 2.5.1. 
(i) 
For any coherent formula 
~(~) 
over (the 
underlying graph of) T, a coherent category, there is a unique subobject 
of 
[5] = X 
such that 
M(¢) = M~(~) 
( 
~ Sub M(X)) 
for any 
M c Mod(T). 
~ 
is called the canonical interpretation of 
~(~); 
it may be denoted by 
[~:~]. 
(ii) 
For 
T 
a Boolean category, the same conclusion holds for 
any first order formula 
~ 
over 
T. 
The proof of the existence of 
~, 
proceeding by an induction on 
the complexity of 
~, 
is an instructive exercise. 
In fact, in previous 
sections, there were implicit examples of constructions of canonical 
interpretations. 
• 2.5.1. 
The last proposition can profitably be used in the proof of 
Proposition 2.2.4. 
Suppose 
(fi: Ai 
÷ A)ic I c JT; 
we would like to 
show that it is an effective epimorphic family. 
Using the notation of 
2.2.3, assume we have 
gi: Ai 
~ B 
(i c I) 
such that 
gifij = 
gjf'ij (i,j c I). 
Consider the following formula: 
V (3x c Ai)(fi(x ) = a A gi(x) = b) 
i 

279 
with two free variables a,b of respective sorts 
A and 
B. 
The idea 
is that, if we are in Set, then this defines the graph of the desired 
function 
A 
~ B, 
as immediately seen. 
Now, let 
# e Sub(A×B) 
be the canonical interpretation of 
v, 
¢ = [ab:v]. 
If 
M e Mod(T), 
then 
M 
takes the data to objects and 
morphisms in Set for which the same hypotheses hold, and as we know 
already there is a unique function 
hM: M(A) 
> M(B) 
satisfying the 
requirements; 
in fact, the graph of 
h M 
is 
Mab(~) , i.e. 
M(¢). 
We 
infer, at least, that 
M(¢) is a functional subobject of 
M(A)×M(B) for 
all 
M e Mod(T). 
By completeness, clearly, 
¢ 
is a functional sub- 
object of 
A×B 
in 
T. 
Let 
h: A -----+ B 
be the morphism whose graph 
is 
~. 
The equalities 
hfi = gi 
follow, since they are true in any 
M ~ Mod(T): 
M(h) = hM, 
and 
hMOM(fi) = M(gi). 
The uniqueness of 
h 
can be deduced in the same manner. 
• 2.2.4. 
Note that for any subobject 
¢ ~ Sub(X), in any fixed 
T, 
there 
is a formula 
;(x) 
with one free variable 
x 
of sort 
X 
whose 
canonical interpretation is 
~. 
If 
¢ 
is represented by 
m: A 
÷ X, 
^ 
then 
~(x) 
can be taken to be 
(3a ~ A)(m(a) = x). 
Although 
;(x) 
is 
not 
uniquely 
determined 
by 
¢, 
we will 
call 
it 
the formula representing 
¢. 
Once we accept 
that 
functors 
into 
Set 
are 
structures, 
we can 
directly 
interface 
with 
model 
theory. 
E.g., 
it 
makes 
sense 
to say 
that 
a natural 
transformation 
h: M 
........ ~ N 
between 
two functors 
M, N from 
T 
to 
Set 
is 
an elementary 
embedding. 
Note 
the 
following 
immediate 
consequence 
of 
2.5.1.: 
if 
T 
is 
Boolean, 
M, N e Mod(T), 
then 
any 
h: M 
~ N 
is 
an elementary 
embedding. 
(Why' is 
this 
not 
that 
para- 
doxical 
as it 
may sound 
first?) 
Let us complete 
the 
proof 
of 
2.4.3. 
In this 
proof, 
we have 
to 
remember 
that, 
at 
this 
stage, 
we have 
not 
yet 
established 
that 
a pre- 
topos is a coherent category. 
With the notation of 2.4.3, we want to 
prove that 
i 
is a monomorphism. 
Let 
M: T 
÷ 
Set 
be a Lex-functor 
such that, in addition, M(s) is surjective. 
Then, in Set, M(f) and M(s) 
have the same kernel-pair, and by taking into account the meaning of 
pullbacks in Set, we see that 
(Va, 
a'~A) 
If(a) 
= f(a') 
¢=~ s(a) 
= s(a')] 
holds in 
M. 
This immediately implies that 
M(i) 
is a mono in Set. 
In order to be able to apply completeness, consider the topology 
J 
generated by the single covering 
{s} 
of the object 
C. 
Since 
s 

280 
is an effective epi, effective epis are stable under pullback in 
T 
(a condition on pretoposes), effective epis are extremal, extremal 
epis are closed under composition (exercise; or see 3.1.5 in EMR]), 
and since the pullback of a composite morphism can be formed as the 
composite of two pullbacks, it follows that every covering in 
J 
contains a morphism that is an extremal epi. 
It follows that a mono 
which is not an isomorphism is not a covering by itself in 
J. 
By the 
general completeness theorem 2.1.1, if 
i 
is not a mono, i.e. the mono 
A ----+ C 
in the factorization 
A 
..... 
> C 
A×A 
with 
(p,q) 
the kernel pair of 
i, 
is not an iso, then there is 
M: T 
~ Set, 
M J-continuous, such that 
M(i) 
is not a mono, a 
contradiction. 
Although this proof is not even shorter than the direct proof 
(see the proof of Theorem 1.52 in ETTJ), I find it preferable because 
it is more comprehensible. 
Let us now look at the interaction of the symbolical and cat- 
egorical formulations in the opposite direction: 
the expressibility of 
categorical conditions by symbolic means. 
The first observation is that the graphs of all the Boolean pre- 
topos operations (and of course, the Cob-operations) are strict 
(finitely axiomatizable) elementary classes. 
Note that each such graph 
is a class of structures over a finite similarity type; 
thus, our 
statement makes sense. 
The assertion is verified by writing out the 
well-known characterizations of the particular limit and colimit 
diagrams in 
Set. 
E.g., for the operation of binary products, we have 
this: 
a diagram 
C 
A 
B 
in 
Set 
is a product diagram iff the following is true: 

281 
(VaEA)(VbeB)(~ccC)(fc=a 
A fc=b) A 
(Vc~C)(Vc'eC)((fc=fc' 
A gc=gc') + c=c') 
(3) 
It is instructive to see that the class of all coequalizer 
diagrams (without restriction on the domain of the operation) is defined 
by an infinitary disjunction; 
in fact, it is not an elementary class. 
Next, as a consequence, we see that, for any (small) pretopos T, 
the class of objects of 
Mod(T) 
is an elementary class (over the 
language the underlying graph of 
T). 
In fact, the axioms for this 
class are the following: 
for each pretopos operation and for each in- 
dividual diagram in 
T 
which is in the graph of that operation, we write 
down the first-order sentence, with symbols appearing in that diagram, 
that expresses that the diagram would be the given kind were it in Set. 
E.g., if we find that the diagram (2) in 
T 
is a product diagram, we 
add the sentence (3) to our axiom system. 
We also add axioms ensuring 
that we have a functor; 
see (i) above. 
By the definition of what 
constitutes a Pretop-morphism 
T 
> Set, it is clear that the result- 
ing axiom system will axiomatize exactly the class 
Ob(Mod T). 
Let us discuss ultraproducts of structures, i.e. functors, from 
the categorical point of view. 
With 
C 
a (small) graph, the category 
(C,Set) 
of all diagrams 
C 
~ Set 
has limits and colimits that can be computed pointwise 
(c.f.V.3 in [CWM]). 
Therefore, if we define ultraproducts in (C,Set) 
by the same formula as in Set: 
n 
Mi/U = colim 
n 
M i , 
icl 
peuOP icP 
and similarly for morphisms in 
(C,Set), 
then, for 
A 
c Ob(T), 
we 
have 
( H 
Mi/U )(A) = 
~ 
M i(A)/U 
(4) 
i~I 
ieI 
and a similar 
formula 
for morphisms 
in 
T. 
This 
shows 
that 
the defini- 
tion 
given 
here 
coincides 
with 
the usual 
one, 
considering 
the 
diagrams 
C 
> Set 
as structures. 
Now, let 
T 
be a small pretopos, and let 
C be its underlying 
graph. 
Then, if in the above the 
M i 
are in 
Mod(T) 
then 
~Mi/U 
is 
again in 
Mod T. 
This is an immediate consequence of 1.3.1 (which we 
called Los's theorem) and the formulas (4). 
Of course, it also follows 
from the fact that 
Mod(T) 
is an elementary class in the sense of model 
theory, and the usual formulation of Los's theorem. 

282 
Let us turn to the construction of the free pretopos, and the 
free Boolean pretopos, needed for proving the assertions in 1.4.1. 
In 
fact, the constructions could be given by a direct application of the 
"method of words" used for constructing free groups and other free 
algebraic structures. 
The "words" would be literal composites of the 
pretopos (Boolean pretopos) operations, and they would take the form 
of labelled finite diagrams. 
It would also be possible to give the 
proof of the existence of the free objects by appropriate (2-categorical) 
versions of the adjoint functor theorem. 
However, in these two cases 
symbolic logic provides a simple and intuitive procedure. 
First, we construct the free coherent category, and the free 
Boolean category on a graph 
G. 
They satisfy universal properties 
analogous to (i) and (ii), respectively, in 1.4.1. 
+ 
For 
FCoh(G) , we take as objects all the pairs 
(x,~) 
with 
a finite tuple of distinct variables, 
~ 
a coherent formula with free 
variables all included in 
x. 
We write 
[~:~] 
instead of 
(x,~), since 
we mean, really, "the set of 
~ 
such that 
~". 
Given two objects 
E~:~] 
and 
[~:¢] 
with 
~ 
and 
~ 
disjoint, we consider coherent formulas 
~ 
with free 
++ 
variables 
among 
xy, 
and satisfying 
with 
3~ 
meaning unique existence and 
,,[2, referring to provability in 
first order logic. 
Such formulas 
~ 
are called provably functional 
relations from the one object to the other. 
Now, two provably functional 
relations between the same objects are identified if they are provably 
equivalent formulas. 
A morphism is an equivalence class of provably 
functional relations. 
The case when, in the given objects, 
~ 
and 
are not necessarily disjoint tuples, is left to the reader to form- 
ulate, as well as the definition of composition of morphisms, and that 
of the G-diagram 
Coh : G - - +  
FCoh(G]... 
~G 
Although this defines the free Coh-category over 
G 
completely, 
of course more work is to be done to verify the required properties. 
This will not be done here; 
for details, see [MR]. 
The construction of the free Boolean category over 
G, 

283 
Boole 
~G 
: G - 
+ FBoole(G ) 
is similar, but uses all first order form- 
ulas over 
G 
as language, in defining both the objects and morphisms. 
The free pretopos, 
Pt 
= ~G : G 
~ Fpt(G) 
is given as the composite 
G 
........ 
Fcoh(G ) -- 
* P(Fcoh(G)) 
Y 
with the pretopos completion taken from 2.4.5. 
The verification of the 
required universal property is straightforward, on the basis of those 
of 
~ 
and 
y. 
The free Boolean pretopos is obtained similarly, with 
~oole 
in place of 
~; 
one uses 2.4.5'. 
Finally, let us turn to Proposition 2.4.8. 
Again, just as in the 
case of the free objects just discussed, the mere existence asserted in 
the proposition are consequences of general facts concerning "2-cat- 
egories of category-based structures defined by essentially algebraic 
conditions". 
Since I am not quite ready to describe these general facts 
(see however a forthcoming paper by G.M. Kelly and myself), I point out 
some more concrete constructions of the desired quotients. 
Let me first 
of all mention that Professor Jean Benabou recently described, in 
lectures in Montreal, detailed constructions for the case of Lex and Coh 
in elegant category theoretical terms. 
These constructions are closely 
related to constructions in [GZ] ("calculus of fraction"), but unless 
I have missed it, the construction, even for the case of Lex, is not 
found in full generality in [GZ]. 
Let me add that, of course, the 
construction e.g. in 2.3.1 is a special case of what we want for the 
case of Lex, with 
z = Inv(F), 
with the notation of that proposition. 
(Note also that although the mere existence of the factorization in 
2.3.1 for Lex, and the ones for Coh and Pretop are, of course, con- 
sequences of the general facts alluded to above, the special properties 
of the factorizations, crucial for our purposes, are not.) 
The constructions for Coh and Pretop are given in [MR] 
in a 
different terminology. 
Given 
R e Coh, 
and 
Z c Morph(R), 
consider 
TR, 
the internal theory of 
R (see p. 128 in [MR]). 
Add the following 
axioms (Gentzen-sequents) expressing that each 
o ~ Z 
should be 
invertible: 
True ~ (3~a e A)o(a) = b 
(o: A ÷ B 
in 
Z). 

284 
Let the theory so obtained be denoted by 
T'. 
ization 
RT, 
it 
R[~-I]. 
T' 
in 
RT, 
Consider the categor- 
of 
T' 
(see Theorem 8.1.3., p. 239 in [MR]), 
and call 
The canonical interpretation of 
Y R 
in 
T', 
and that of 
induces the required Coh-functor 
R 
~ R[~-I]. 
Given the properties of 
T R 
and 
RT, , 
it is easy to verify that we 
have the required universal property. 
The case of Pretop can be handled as it was with respect to free 
objects: 
first, we carry out the construction on the given pretopos 
in Coh, then we take the pretopos completion. 
Part 3. 
Conceptual c0mpleteness. 
3.1. 
The statement and proof of conceptual completenpss. 
Consider the notion of the pretopos completion (see 2.4.5.): 
with 
any coherent category 
T, 
one associated a pretopos 
P(T), and a Coh- 
morphism 
T ÷ P(T) that induces, for any other pretopos 
S (e.g., for 
S = Set) 
an equivalence of categories 
Coh(P(T),S) --+ Coh(T,S), hence, 
in particular, an equivalence of the categories of models: 
Mod P(T) --+ Mod T. 
We interpret this situation by saying that the notion of coherent 
category is conceptually incomplete: 
when extending a coherent category, 
a 'theory', 
T 
by the concepts (abstract definable sets) inherent in its 
pretopos completion (finite disjoint sums of 'concepts' in T, quotients 
of concepts in 
T 
by definable equivalence relations), the resulting 
extension 'theory' "behave~semantically in the same way as 
T 
itself", 
by having the same category of models, or even, the same category of S- 
valued models, for any (pre-)topos S. 
By contrast, the notion of pretopos is conceptually complete in 
the sense that it does not admit any extension conservative with respect 
to models. 
More precisely, the following theorem holds. 
Theorem 3.1.1. (Conceptual completeness of pretoposes). 
For a morphism 
I: T --+ T' 
of small pretoposes to be an equivalence of categories, it 
is sufficient that I induce an equivalence I*: Mod T' --+ Mod T 
on the 
categories of models. 
This is Theorem 7.1.8 of [MR]. 
Recently, Andrew Pitts has found 
an essentially different proof yielding a stronger result, a constructive 
version of the theorem. 

285 
On the basis of this theorem, it seems natural to say that the 
"real" or "complete" form of the theory 
T 
is its pretopos completion 
P(T). 
E.g., if we ever 
try to recover 
T 
in an abstract way from 
Mod T, we should expect to get 
P(T) 
instead of 
T 
since there should 
not be any difference in principle between concepts in 
T 
and those in 
P(T) 
from the point of view of the category of models. 
This expect- 
ation is borne out by results in this area 
(see [M3], [M4], [L], [MI], 
[M2]). 
The proof of Theorem 3.1.1 in [MR] 
gives a stronger result, not 
so stated in [MR]. 
Note that 
I: T ÷ T' (in Pretop) being a quotient 
means two things: 
first, that 
I*: Pretop(T',S) -~ Pretop(T,S) 
is 
full and faithful, and second, that 
I* 
is essentially surjective onto 
those 
T --+ S 
that invert all morphisms inverted by 
I; 
both condi- 
tions being required to hold for all 
S ~ Pretop. 
The strong form of 
conceptual completeness says that it suffices to require the first 
condition, and even that for 
S = Set 
only. 
Theorem 3.1.2. (Strong conceptual completeness for pretoposes). 
For a 
morphism 
I: T --+ T' 
of small pretoposes to be a quotient, it is 
sufficient that the induced 
I*: Mod T' --+ Mod T be full and faith- 
ful. 
(In fact, Theorem 7.1.4. in [MR] says that 
"I* is full" implies 
that 
"I is full with respect to subobjects", Theorem 7.1.6 says that 
"I* is faithful", implies that "every object in T' is subcovered by I". 
Therefore, 3.1.2 follows by 2.4.7(ii).) 
Since 
I* being essentially surjective on objects clearly implies 
that 
I 
is conservative, the strong version of conceptual completeness 
implies the original version. 
It is interesting to note that in the "doctrine" Lex, (the obvious 
analog of) conceptual completeness holds, (a classical result, see [GU]) 
but its strong form does not (see [MP]). 
Speaking about Boolean pretoposes, we have considered them as 
objects in Pretop, the 2-category of all pretoposes. 
Being interested 
in results specific for Boolean pretoposes (corresponding to theories 
in the common sense of model theory, in full first order logic), it is 
more natural to consider the category BPretop of Boolean pretoposes, 
with morphisms the Pretop morphisms. 
Furthermore, it is more natural 
to consider BPretop to be Groupoid-enriched rather than Cat-enriched; 

286 
this means that BPretop(T,T') should be the groupoid of all BPretop 
morphisms 
T -+ T', 
with only those natural transformations that are 
isomorphisms. 
Writing 
C is° 
for the subcategory of 
C whose objects 
are those of 
C 
and whose morphisms are the isomorphisms of 
C, 
we 
are now saying that we should put 
BPretop(T,T') = Pretop(T,T') is° 
The reason is that BPretop construed in this way has good general 
algebraic properties (it is an 'essentially algebraic' 
Gpd-category), 
but not if we put in all natural transformations as 2-cells. 
Even 
without understanding the general concepts involved, the reader can see 
this plainly on the way the free Boolean pretopos had to be defined 
(1.4.1 (ii)). 
Obviously, the fact we are considering here is intimately 
related to the fact that not all operations defining Boolean pretoposes 
are strong (see Section I.i). 
Therefore, in the context of BPretop, the natural definition of 
a quotient-morphism is the following 
Definition 3.1.3. 
A morphism 
I: T --+ T' 
in BPretop is a quotient if 
Iis°: (Mod T') is° --+ (Mod T) is° 
is full and faithful and essentially 
surjective onto those models of 
T 
which invert all morphisms inverted 
by 
I. 
Note that, by 2.4.7 (iii), any quotient of a Boolean pretopos in 
Pretop is automatically Boolean. 
It follows easily that, for a morphism 
I: T --+ T' 
in BPretop to be a quotient in the sense of 3.1.3 is the 
same as to be a quotient in Pretop in the sense previously specified. 
Definition 3.1.3 is still useful since it suggests the question if an 
analog of conceptual completeness holds for Boolean pretoposes. 
The 
answer is "yes" with a curious qualification: 
the Boolean pretoposes 
involved should be countable (meaning that they have countably many 
objects and arrows). 
Theorem 3.1.4. 
(Strong conceptual completeness fqr countable Bo,olean 
pret0poses) 
For a Pretop-morphism 
I: T --+ T' 
of countable Boolean 
pretoposes 
T, T' 
to be a quotient, it is sufficient that 
Iis°: (Mod T') is° --~ (Mod T) is° 
induced by 
I be full and faithful. 
This result is essentially due to Haim Gaifman. 
In 1975, at the 
Abraham Robinson memorial conference, Gaifman announced a result which, 
although stated in a language not employing categories, is closely 
related to Theorem 3.1.4. 
A version closer to Gaif~an's result would 
say that a Coh-morphism 
I between Boolean (Coh-)categories is quotient- 
like (see before 2.4.6) provided 
I is° 
is full and faithful. 

287 
In this section, we will first prove Theorem 3.1.4, and then we 
will apply it to prove a stronger form of it, which will be directly 
applicable to the proof of the main result, Theorem 1.4.4. 
The proofs in this section will use various methods of model 
theory. 
The first lemma, Lemma 3.1.5., is the heart of Gaifman's theorem• 
It is analogous to Theorem 7.1.6 in EMR], but its proof is very 
different. 
As above, with 
I: T -~ T', Iis°: (Mod T') is° -~ (Mod T) is° 
denotes the functor obtained from 
I*: Mod T' --+ Mod T restricted to 
(Mod T') is°. 
Lemma 3.1.5. 
Assume that 
I: T --+ T' 
is a Coh-morphism between count- 
able Boolean categories such that 
I is° 
is full and faithful. 
Then I 
"subcovers" every object 
X 
in 
T' 
in the sense that there is a 
finite family of diagrams 
X. 
I 
in 
T', 
with the 
m. 
i 
(pi)ie I 
is effective epimorphic. 
m. 
1 
IA. 
1 
(i c I) 
being monomorphisms, such that the family 
Proof: 
Recall the omitting types theorem (OTT) (see [CK]). 
Given a 
consistent theory 
T 
(having at least one model) in a countable 
language 
L 
(Morph(L) 
is a countable set), a set 
~(~) 
of L-formulas 
o(~) 
with a fixed finite tuple of free variables 
~ 
is called simply 
a type (although "incomplete type" may be more appropriate). 
A type 
~(~) 
is isolated by 
¢(~) 
if 
¢(~) 
is consistent with 
T 
(i.e. 
T w {~x¢(~)} 
is consistent) 
and 
T ~V~(¢(~) ÷ o(~)) 
for all 
• 
~ 
a(~) c ~(~) 
OTT 
says that, given a countable family 
( i(xi): i~I} 
of types each of which is non-isolated, 
then 
T 
has a model 
M 
omitting 
each 
~i(~i). 
"M omits ~(~)" 
means that there is no tuple 
~ 
(matching 
x 
for sorts) in 
M 
that would satisfy all 
s(~) 
in 
~(~) 
simultan- 
eously; 
in the opposite case, we may say 
"M 
realizes 
~(~):. 
If 
T 
is complete (for all L-sentence 
@, 
T u (@} 
consistent implies 
T ~ @), 
then we have an obvious converse: 
any isolated type must be 
realized in all models of 
T. 
Let us return to the notation of the Lemma. 
Let 
M 
be any 
countable model in 
Mod T' 
(each 
M(X), X ~ Ob(T'), 
is countable); 

288 
let us fix 
M 
for a while. 
Consider the language 
L 
obtained from 
L' (= the underlying graph of 
T') by adding a new individual constant 
<a,A> 
(written simply 
a) 
for each 
A e Ob(L) (L = the underlying 
graph of 
T) and for each 
a e M(IA). 
Let 
i: L' ÷ L 
denote the 
^ 
inclusion. 
We have the structure 
M = (M,a)aciA,A~Ob(L) 
of the 
language 
L 
whose L'-reduct i*M 
is 
M 
and for which 
(a)M = a. 
Let 
be the theory of 
M 
in 
L: 
the set of all sentences in 
L 
true 
in 
M; 
T 
is clearly complete (see above). 
Now, let us consider any finite tuple 
~ 
of elements of the 
various 
MX, X e 0b(L') (using products in 
T', 
we could pass to a 
single element 
b 
of an appropriate product sort). 
We claim that the 
(complete) type of ~ in M, i.e. the set 
~(~) 
of all L-formulas 
c(~) 
such that 
M ~ s[~], 
is isolated. 
Suppose 
Z~(~) 
is non- 
isolated. 
We now also consider, for each 
A < 0b(L), the type 
ZA(XA) = {-x A = a: a ~ M(A)} 
(x A 
is a variable of sort 
IA: 
hence, 
ZX(XA) contains the requirement "x A ¢ A" implicitly). 
Of course, each 
ZA(XA) 
omitted in 
M; 
hence, by a remark above, each 
ZA(XA) 
is non- 
^ 
isolated. 
Therefore, by 0TT, we have a model 
M' 
of 
T 
omitting 
÷ 
i*M' 
the L'-reduct 
~(~) 
and every 
ZA(XA) 
as well. 
Consider 
M' = 
, 
of 
M', 
and consider the L-structures 
I'M, I*M'. 
Then the maps 
hA: 
a ~ 
~ M'(a) 
(a ~ M(IA)) 
make up an isomorphism 
h: I*M ÷ I*M': 
indeed, by the fact that 
M' 
omits each 
~A' 
each 
hA 
is surjective onto (I*M')(A); 
since 
M' 
is 
a model of 
T, 
h A 
is "L'-elementary on elements of 
I*M" 
implying 
that 
h 
is elementary, 
in particular, 
h 
is structure preserving and 
reflecting. 
However, 
h 
cannot be extended to an isomorphism h': M ÷ M' 
with 
I*h' = h, 
since with any such 
h', h'(~) 
would clearly have the 
^ 
^ 
A 
same type in 
M' 
as 
~ 
does in 
M, 
but, since 
M' 
omits 
~(~), 
there is nothing in 
M' 
having the same type as 
~. 
We have constructed a counter-example 
to the fullness of 
Iis°; 
the claim is, therefore, proved by contradiction. 
We conclude that, still with the fixed countable 
M 
of 
T, each 
finite tuple 
~ 
of elements has an isolated type. 
In model theory, we 
say that 
M 
is atomic. 
It is well-known (c.f. [CK]) (and not hard to 
show) that any countable atomic model is homogeneous in the sense that 
if 
~ 
and 
~ 
have the same type in it, then there is an automorphism 
of the model mapping 
~ 
to 
c. 
In our case, this implies that if 
and 
~ 
have the same type in 
M, 
they are identical: 
~ = ~. 
The 
reason is that an automorphism of 
M 
is the same as an automorphism 
h 

289 
and by the faithfulness of 
I is°, 
of 
M 
such that 
I*h = Idi,M, 
therefore, the only automorphism of 
M 
is the identity. 
We now see that for any 
X ¢ Ob(L') 
and 
b c M(X), 
there is an 
L'-formula 
~(x,y) 
with 
x 
of sort 
X, 
~ 
a tuple of variables of 
various sorts 
IA 
with 
A e Oh(L), 
and there are elements 
a 
of 
M 
matching 
~ 
such that 
M ~ ¢[b,~] 
and 
M = Vxx'(¢(x,a)A¢(x',a)+x=x 
). 
^ 
Namely, if 
~(x,$) 
isolates 
the type of 
b 
in 
M, 
then of course 
M ~ ¢[b,a], 
and if 
M ~ ~[b',~], 
then 
b 
and 
b' 
have the same type 
in 
M, 
hence 
b = b' 
We can, in fact, 
make 
~ 
and 
~ 
into singletons 
by passing 
to 
an appropriate 
product sort 
in 
L. 
We can re-write 
our last 
conclusion 
this way: 
for the fixed 
M 
and 
X, 
M ~ ¥x 
V 
~y(¢(x,y) 
^ Yxx,(¢(x,y) 
^ ¢(x',y) 
+ x = x')). 
(1) 
Here in the infinite disjunction 
~ 
ranges over all formulas of the 
form 
¢(x,y) 
with 
x 
a free variable of 
X, 
y a variable of a sort 
of the form 
IA, 
with 
A e Oh(L) 
depending on 
~. 
Since the displayed 
formula holds in all countable models 
M 
of 
T, 
with 
T 
the L'-theory 
whose models are exactly the objects of 
Mod T', 
by the downward 
L~wenheim-Skolem and the compactness theorems, it is easy to conclude 
that there are finitely many formulas 
¢o(X,Yo),...,¢n_l(X,Yn_l) 
as 
the 
¢ 
above such that 
r~ vx V ~i(x) 
(2) 
i<n 
with 
~i(x) 
formed from 
~i 
as the formula after 
"V" 
is formed 
from 
~ 
in (i). 
It should now be clear that (2) implies that 
X 
is subcovered by 
I. 
Namely, let 
i < n 
and consider the canonical interpretation 
in T' 
of the formula 
~(yi ) = ¥xx'(¢i(x,Yi) 
^ ¢i(x',Yi) ÷ x = x') 
df 
(remember, 
T' 
is Boolean). 
[yi: ~(yi)] 
is a subobject of 
IA i (IA i 
the sort of 
yi); 
let 
mi: X i ÷ IA i 
represent this subobject. 
Let ~ 
Pi 
be the morphism 
X i + X 
in 
T' 
whose graph is 
[xix: ¢(x,mi(xi))] 
(it is clear from the definitions that the last subobject of 
X i x X 
is indeed functional). 
Then (2) clearly translates into saying that the 
Pi 
form an effective epimorphic family in 
T' 
(see 2.2.4) (here we use 
the relation of 
T 
to 
T', ensuring, by completeness, 
that sentences 

290 
provable from 
~ 'become true' in T'). 
• 3.1.5. 
Lemma 3.1.6. 
Suppose 
I: T ÷ T' 
is a Coh-morphism between Boolean 
categories such that 
I is° 
is full. 
Then 
I 
is full on subobjects. 
P~oof: 
This is essentially a direct consequence of Beth's definability 
theorem. 
Let us state Beth's theorem in a notation convenient for our 
purposes. 
Assume 
L 
and 
L' 
are graphs (languages), and 
I: L 
> L' 
is 
a graph-map (diagram). 
Let 
~ 
be a theory over 
L', let 
A E Ob(L), 
and let 
~(a) 
be a formula of 
L' 
with a single free variable a of 
sort 
I(A). 
Assume that "~(a) is preserved by all L-isomorphisms of 
models 
T", i.e. that for any M, N e Mod T, 
and any isomorphism 
h: I*(M) 
> I*(N), 
we have a commutative diagram 
({acM(IA): MI= mEaD} =) 
Mfm) 
incl. 
, M(IA) 
(= I*(M)(A)) 
[f 
I hA 
N(~) 
incl. 
* N(IA) 
(: I*(N) (A)). 
Then there is an L-formula 
~(a) 
such that 
M(m) = I*(M)(~) for all 
M ~ Mod T. 
Assume the hypotheses of the lemma. 
To apply Beth's theorem, 
let 
L 
and 
L' 
be the underlying graphs of 
T 
and 
T', 
respectively, 
and let 
T 
be the theory axiomatizing 
Mod T' 
Let 
~ be an arbit- 
rary subobject of 
I(A), and let 
¢(a) 
be the L'-formula representing 
~. 
We claim that 
~(a) 
is preserved by all L-isomorphisms of models 
of 
~. 
indeed, given 
~i,N and 
h 
as above, by 
I is° 
being full, 
there is 
h: M ÷ N 
such that 
I*h = h. 
We can now take 
f = h~ 
where 
~ = [a: ~(a)]T, , the canonical iterpretation of 
~ 
in 
T' 
Thus, the claim is shown. 
By Beth's theorem, we have 
~ 
as stated; 
I([a: ~(a)]T) = ~ 
as required. 
it is clear that 
• 3.1.6. 
P~oo~ of 3.1.4: 
The theorem follows directly from 3.1.5, 3.1.6, and 
2.4.7 (ii). 
• 3.1.4. 

291 
With 
T 
a pretopos, 
~ 
a (not necessarily full) subcategory of 
Mod(T), we call ~ 
dense if the evaluation functor 
T -- 
OM, Set) 
(defined by 
AI- 
M 
÷ 
M 
N 
M(A) 
M(A) 
lhA 
N (A) 
f 
is conservative. 
Let's say that ~ 
is ultraclosed if the class of its 
objects is closed under taking ultraproducts in 
Mod(T). 
Both 'dense' 
and 'ultraclosed' depend only on 
ObOM). 
Theorem 3.1.7. 
Let 
I: T -+ T' 
be a pretopos morphism between count- 
able Boolean pretoposes, 
Assume that ~ 
is a dense full ultraclosed 
subcategory of 
(Mod T') is° 
such that 
Iis°~: ~ ÷ (Mod T) is° 
is full 
and faithful. 
Then 
I 
is a quotient morphism. 
The proof will obviously be accomplished by 3.1.4 and the following 
Lemma 3.1.8. 
faithful. 
Assume the hypotheses of 3.1.7. 
Then 
I is° 
is full and 
Proof: 
Recall that every 
M ~ Mod T' 
is a structure over 
L', 
the 
underlying graph of 
T', 
and 
I*M e Mod T 
is a structure over 
L, 
the 
underlying graph of 
T. 
The fact that the ultraclosed subclass 
~ 
of 
Mod T' 
is dense 
implies that for every 
M ~ Mod T' 
there is 
N ~ ~ 
such that 
M ~ N 
(elementary equivalence). 
Indeed, consider any L'-sentence (formula 
without free variables) 
¢; 
its canonical interpretation (cf. 2.5.1(ii)), 
Eel, 
is a subobject of 
I, 
the terminal object of 
T'. 
The density of 
implies that if 
[¢~ ¢ 01 
(01 = the minimal subobject of i), then 
there is 
N ~ ~ 
such that 
N([¢~) = 1(Is) 
i.e. 
N ~¢. 
Now, let 
M c Mod T' 
be given; 
by the last sentence and by the "ultraproduct 
version of the compactness theorem", 4.1.11 in [CK], 
since 
~ 
is 

292 
ultraclosed, we have 
N • ~ 
satisfying all 
~ 
satisfied by 
M, 
i.e. 
N ~ M. 
Next, recall the Keisler-Shelah isomorphism theorem. 
Given two 
(small) families 
<Mi>ici, 
<Ni>i• I 
of structures such that 
M i ~ N i 
for all 
i • I, 
then there is an ultrafilter 
U 
(over some set 
J) 
such that 
(Mi)U m (Ni)U 
for all 
i ~ I 
(M U, 
the ultraproduct of 
M 
with exponent 
U, 
is the ultraproduct 
~<M: j•J>/U 
of the constant 
family. 
The isomorphism theorem is 6.1.15 in [CK] stated for the case 
when 
I 
is a singleton. 
The general case follows from the special case 
by considering the composite structure 
<''" Mi "''>i•I 
over the 
disjoint sum of the languages of the 
M i. 
Another remark is that the 
isomorphism theorem is proved, in [CK], only for one-sorted logic; 
how- 
ever, the general case has the same proof, and it can also be deduced 
from the one-sorted case.) 
By passing to the full subcategory of 
(Mod T') is° 
whose objects 
are all those that are isomorphic to a member of ~, 
we may assume that 
is closed under taking isomorphic copies in 
(Mod T') is° 
OM 
is 
'replete' in (Mod T')is°). 
As a consequence of the preceding, we have the following. 
When- 
ever 
<Mi>i• I 
is a small family of models in 
Mod T', 
there is an 
ultrafilter 
U 
(on some set) such that 
MU 
belongs to ~ 
for all 
1 
i • I. 
Namely, choose 
N i c ~ 
such that 
M i ~ Ni; 
then choose 
U 
such 
that 
MU = NU 
(i e I)- 
since ~ 
is replete and ultraclosed, 
MY e 
i 
i 
' 
1 
for all 
i • I. 
Next, consider the language (graph) 
L", 
the similarity type of a 
composite structure consisting of two L'-structures 
MI, M2, and a homo- 
morphism 
I*M 1 ÷ I*M 2. 
In detail, let 
L" 
be the disjoint sum of two 
copies of 
L', 
together with a new edge 
XA: (IA)I ÷ (IA) 2 
for each 
A • Ob(L); 
here 
XI, X 2 
denote the two copies of 
X • Ob(L') 
in 
L" 
under the canonical injections 
If, 12: L' ÷ L". 
It is easy to write 
down a set 
T" 
of sentences in the language 
L" 
such that an L"- 
structure 
N 
is a model of 
T" 
if and only if 
M 1 = I~N 
and 
df 
M 2 ~f I~N 
are in 
Hod T', and the N(XA) 
are the components 
h A 
of an 
isomorphism 
h: I*M I ÷ I*M 2. 
Let us consider the extension 
L'" 
of 
L" 
obtained by adding an 
edge 
XX: X 1 + X 2 
to 
L" 
for each 
X e S = Ob(L') - {IA: A • Oh(L)}. 
df 
Let 
i: L" ÷ L'" 
denote the inclusion. 
Furthermore, let 
T'" 
be the 
theory in 
L'" 
whose models are exactly those L'"-structures 
P 
for 
which 
M I ~f I~i*P, 
M 2 ~f I~i*P 
are in 
Mod T', 
and for which there 
is an isomorphism 
h: M 1 + M 2 
such that 
h X = P(XX) 
for 
X E S, 
and 
hiA = P(×A ) 
for 
A • Oh(L) (Of course, 
T'" 
includes, among others, 

293 
axioms saying that 
×A = XA' 
whenever 
IA = IA'). 
Now we see that the conclusion of the lemma is equivalent to the 
following statement: 
(*) 
For every model 
N 
of T" 
there is exactZy one model 
P 
of 
T'" such that 
i*P = N. 
Consider the class 
~ 
of L"-structures 
N 
such that 
N 
is a 
model of ~" and 
I~N, 
I~N 
belong to ~. 
Notice that the hypotheses 
of the lemma imply the following statement: 
(**) 
A 
For every 
N 
in ~, 
there is exactly one model 
P 
of 
T" 
such that 
i*P = N. 
We are left with the task of deducing (*) from (**). 
To this end, 
we will make use of Beth's definability theorem (cf ~CK~). 
The first remark is that we have the weakening of (*), called 
(***), obtained by replacing 'exactly one' by 'at most one' 
To show 
this, let 
N 
be a model of 
T", 
and let 
Pl' P2 
be expansions of 
N 
(i*P 1 = i*P 2 = N) 
which are models of 
T'". 
Find an ultrafilter 
U 
such that 
(I~N) U' 
(I~N) U 
both belong to ~. 
Hence 
N U c ~. 
Then 
Pl' 
p 
are both expansions of 
N U e ~ 
which are models of 
T'". 
Hence, 
by the uniqueness part of (**)' PIU = p~. 
But then it follows that 
P1 = P2: 
were the two maps 
Pl(XX), P2(×X); N(XI) + N(X2) 
different, 
so would their U-ultrapowers be (if you like because two parallel maps 
in 
Set 
being distinct is a first order property). 
It is at this point that we can invoke Beth's theorem. 
We use the 
theorem in the following form. 
Suppose 
L" 
and 
L'" 
are two languages 
(graphs) such that 
L" 
is contained in 
L'" 
but 
L'" 
does not contain 
any new sort with respect to 
L". 
Suppose also that 
T'" 
is a theory in 
L'" 
and we have that for any L"-structure 
N) 
there is at most one 
expansion 
P 
of 
N 
that is a model of 
T'". 
In this case, there is an 
assignment of an L"-formula 
~f(x,y) 
to each 
f: X ÷ Y 
in 
L'"-L" 
such 
that if 
P 
is a model of 
T", 
then 
P(f) 
is the interpretation of ~f 
in 
P (i.e. 
the interpretation of 
~f 
in 
N, 
the L"-reduct of P); 
in 
other words, 
P(f)(a) = b ~-~ N ~ ~fEa,bl 
for 
a ~ NX, 
b E NY. 
(Usually, 
Beth's theorem is stated for the situation when 
L'"-L" 
contains only a 
single new symbol. 
However, the general case is well-known too, and can 
be proved in much the same way as the special case.) 
Since in our situation, the reduct 
N = i*P 
of any model 
P 
of 
T'" 
is automatically a model of 
T", (***) 
expresses that the hypotheses 
of Beth's theorem are satisfied. 
Thus for each 
X ~ S, 
we have a 

294 
~x[xl,x2), 
an L"-formula, such that for any model 
P 
of T'", 
the 
interpretation of 
~X 
in 
P 
is 
P(×X ). 
We can now prove (*) as follows. 
Suppose 
N 
is a model of ~". 
Remember that each 
~x(xl,x2) 
is an L"-formula, hence we can consider 
its interpretation in 
N; 
it is a subset 
XX 
of 
N[XI) × N(X2). 
We 
claim that each 
XX 
is the graph of a map N(X I) ÷ N(X2), also denoted 
by 
XX' 
and for the L"'-expansion 
P 
of 
N 
obtained by letting 
P[×X ) = XX' 
we have that 
P 
is a model of T'" 
[This will, of course, 
complete the proof.) 
As before, there is an ultrafilter 
U 
such that 
N U 
M o 
By (* *), there is an expansion 
P' 
of 
N U 
which is a model 
of 
T'" 
By the properties of the 
CX' P'(Xx) 
is the same as the 
interpretation of 
CX 
in 
N U. 
This means that 
P' 
is nothing but the 
ultrapower 
pU 
of a structure 
P 
which is an expansion of 
N, 
and for 
which 
P(×X) 
(X e S) 
is the interpretation of 
~X 
in 
N. 
Since 
P' 
is a model of 
T'", 
and 
p __ pU = p,, 
P 
is a model of 
T"' as well. 
This completes the proof. 
• 3.1.8. 
R 3.1.7. 
Theorem 3.1.4. throws some light on a situation considered in EMPI (for 
this discussion, we use the terminology and notation of [MP~). 
Let 
8 
be a locally finitely presentable (l.f.p.) category, and 
F: A ....... 
+ 8 
a faithful functor, full on isomorphisms, which creates limits and 
filtered colimits in 
A. 
Proposition 2.3. in [MPJ says that in this 
case 
A 
is l.f.p, itself. 
If 
C = 8f.p., 
the category of finitely 
presentable objects in 
8 
(hence, 
8 ~ LEX(C°P,Set)) 
and 
~ = Af.p , 
then 
F 
induces a Lex-morphism 
I: C --+~ (so that 
F m I*). 
It is 
pointed out in [MP] that 
I 
is not necessarily a Lex-quotient even if 
F 
is full. 
In the general situation, we can still say that 
C 
"generates D via 
I 
on the level of Boolean pretoposes". 
To formulate this statement precisely, we introduce some analogs 
of definitions in Section 1.4. 
With 
C 
in Lex, the free Boolean pre- 
topos 
T = F(C) 
over 
C, 
with 
~: C 
+ F(C) 
a canonical Lex-morphism, 
is defined by the universal property that for any Boolean pretopos 
T', 
()o~: Pretop(T,T') 
+ Lex(C,r') 
is faithful, full on isomorphisms, 
and essentially surjective. 
The existence of 
F(C) 
can be proved by 
considerations like those in Section 2.5 used to prove the assertions in 
1.4.1. 
For a Lex-morphism 
F: C 
÷ T, 
with 
T 
a Boolean pretopos, 
we may say that 
F 
generates 
T 
if the Pretop-morphism 
F(C) 
+ T 
induced by 
F 
is a quotient in Pretop. 
Returning to our situation above, the precise formulation of the 
assertion is that the composite 

295 
D 
÷ C 
~ V(C) 
generates 
F(C) 
provided that 
¢ 
is essentially 
countable. 
This claim 
is easily 
verified 
by applying 3.1.4. 
Let me point out that 
the Craig interpolation 
theorem (of which 
Beth's definability 
theorem, a result 
that played a key role in this 
section, 
is a consequence) has recently 
been given a purely categorical 
treatment, 
in fact, 
in the more general 
context 
of intuitionistic 
logic, 
by A.M. Pitts 
in [Pl] and [P2]. 
It is possible 
that Pitts' 
methods, and 
the methods in [JT] he uses, will 
eventually 
lead to a (more) "categor- 
ical" 
proof of all 
results 
of this 
paper. 
3.2. 
The pro o f of the main result. 
In preparation for the proof of 1.4.4, I remind the reader of a 
fundamental, and 'trivial', Z-categorical adjunction. 
Let S = Set; 
at 
first, 
S 
in fact could be any category. 
There is an adjunction between 
the 2-functors 
Cat °p ÷ 
~ Cat 
~=(-,S) 
making 
• a left adjoint of 
g. 
In detail: 
the effect of 
6 
is this: 
CI 
(C,S) = Cat(C,S) 
F 
C -
-
+
 
C'l 
(-,F) 
= 
() 
o F: 
(c',s) 
• , (c, s) 
F 
C 
If 
C'[ 
(H 1- 
~ foid H 
(H ¢ Ob(C',S)). 
,,) 
F' 
All arrows are meant in Cat, and not in Cat °p-, 
we have a contravariant 
functor 
Cat 
) Cat. 
~, 
as a contravariant functor 
Cat 
~ Cat, is 
identical to 
g. 
The adjunction consists of an isomorphism between two categories: 
ec,v: (c,(~,s))-, 
which is natural in both 
C 
and 
D. 
the following 
Y: 
+ 
(v, (c, s~) 
In detail: 
OC, D 
maps 
X 
into 

296 
C 
( 
D 
Y I 
D 
g 
, D'I ..... 
D I "' 
> 
With a morphism 
~: X .. 
> X' 
natural transformation 
x 
+ (D,S) 
) 
y 
, (c,s) 
C 
f 
C 
,÷ X(C) (D) 
C'l 
.... 
, X(f) D l 
> [ C 
-> x(c)(g) 
]. 
in 
(C,(D,S)), 
Oc, D 
associates 
the 
D I 
~ (CI 
., CC ) 
(of 
course, 
D 
ranges 
over 
Ob(O), 
C 
over 
Ob(C), 
etc). 
Naturality 
in 
C, N 
means 
that 
given 
F 
~ 
X 
> 
(H, S) 
_~ 
F' 
x' 
' 
(H,,s) 
+ 
D' 
Sh 
D 
, 
H' 
under the isomorphism 
@C',O' 
corresponding composites in 
H 
> 
aCiD (X) 
D' 
$h 
P 
~eC,D(~) 
H' 
> 
OC,D(X') 
the appropriate composites go over to the 
(F, ~ .
.
.
.
.
 
,. 
(C,S) 
l(f,S) 
(c',S). 
(F' ,S) 
Having the above adjunction, we can construct another, this time 
between 2-functors 
G 
Now, 
G 
(as a contravariant functor 
Pretop 
....... 
> Cat) 
is given by: 
Pretop °p 
Cat . 
+ 

297 
G(T) = Mod(T) 
(a full subcategory of 
(T,S)) 
and otherwise similar formulas as before. 
Also, 
m(c) 
= (c,s). 
It is essential, of course, that the functor-category 
(C,S) 
is a pre- 
topos, for any category 
C, 
with operations 'inherited' from 
S. 
This 
is a special case of the fact that limits and colimits in functor cat- 
egories are computed pointwise, provided the codomain category has them. 
We have, for the rest of the effect of ~, 
similar formulas as before; 
the 'pointwise' character of the pretopos operations in (C,S), (C',S) 
will ensure that 
F(F), 
for arbitrary 
F: C 
~ C', 
as defined above, 
will indeed be a Pretop-morphism. 
The adjunction-isomorphisms 
are defined as before. 
Below, referring to the last adjunction, we will write F* for 
certain restrictions of ~(F), 
or 
G(F), 
for a morphism 
F 
in the 
appropriate 2-category, and LH~, ~H l 
for 
@(H), 
e-I(H), 
respectively 
(0 = @C,N 
for some appropriate 
C,D). 
We turn to the proof of 1.4.4. 
Let 
0 
be an operation in Set commuting with ultraproducts; 
let 
0 
be of type 
(G,G'), 
with graph 
K', 
and domain 
K. 
Below, 
K' 
will 
denote the full subcategory of 
(G',S) is° 
with the objects in 
K'; 
similarly for 
K c (G,S) is°. 
With 
i: G - 
* G' 
the inclusion, 
F(G) 
denoting the Boolean pre- 
topos completion, 
~ = Bpt, 
and similarly for the primed items, we have 
F 
making 
G 
~ 
, F (G) 
G' 
~' 
,F(G') 
(1) 
commute up to an isomorphism. 
We can now construct the following diagram: 

298 
K 
incl 
* (G,S) is° 
÷- 
~ 
(Mod F(G)) is° 
p 
i* 
F* 
K' 
incl 
, (G',S) is° + 
~ 
(Mod F(G')) is° 
(23 
Here, all the starred functors are defined by composition with 
~; 
F* 
is in fact 
F(F), 
properly restricted. 
The right-hand-side square 
commutes up to an isomorphism inherited from (i). Moreover, by the 
universal properties of 
F(G), F(G'), ~* 
and 
~'* 
are equivalences of 
categories. 
The left-hand-side square commutes when 
p 
is defined as 
the restriction of 
i* 
to 
K'; 
in fact, 
Oh(K) 
is the image of 
Ob(K') 
under 
i*. 
By the definition of "operation in a category", 
p 
is full 
and faithful. 
Taking quasi-inverses of 
~*, ~'*, 
and composing them with the 
inclusion, we obtain the upper square in the left-hand-side one of the 
following two diagrams: 
K 
H 
~ (Mod FG) is° 
(K,S) 
÷ 
LHJ 
F(G) 
Pl 
-=IF* 
p*l_ ~ 
F 
H' 
LH'.J 
K' 
~ (Mod FG') is° 
(K',S) ÷ 
F(G') 
Note that 
H, H' 
are full and faithful. 
The construction of the rest of the diagrams proceeds as follows. 
First, we pass to the square on the right-hand-side, by the help of our 
adjunction. 
Second, 
Q 
and 
r 
form the quotient-conservative factor- 
ization of 
LH'J. 
Finally, again by the adjunction, we return to the 
triangle on the left (and take appropriate restrictions.) 

299 
Claim 3.2.1. 
F(G) 
QF 
~ T 
is a quotient. 
To deduce this from 3.1.8, let's consider 
K' 
~ (Mod T) is° 
rr~ 
(QF)* 
~ (Mod F(G)) is° 
(Q* 
is because 
Q 
is a 
(QF)*rr 7 
is full and 
rr~ 
is full and faithful since 
H', Q* 
are 
quotient), and 
Q*rr~ m H' 
The composite 
faithful, since it is isomorphic to 
Hp, 
and both 
H 
and 
p 
are full 
and faithful. 
Let 
~ 
be the image of rr~; 
the subcategory of 
(Mod T) is° 
whose objects are of the form 
rr~(D'), 
with 
D' ~ Ob(K'), 
and 
morphisms rr~(6), 
with 
6: D' 
~ D" 
in 
K'. 
Since rr~ 
if full, the 
image is well-defined, and we have an equivalence 
K' 
~ ~ 
such that 
K' 
+M 
(Mod T) iso 
commutes. 
Under the adjunction, the functor 
T 
~ OM, ~ 
correspond- 
ing to the inclusion is the evaluation functor appearing in the 
definition of 'dense' above. 
Since it is isomorphic to 
F, 
and 
F 
is 
conservative, we conclude that ~ 
is dense in 
Mod T. 
By the facts 
that 
rr~ 
and 
(QF)*rF ~ 
are full and faithful, and by the last fact- 
orization, we have that ~ 
is full in 
(Mod T) is° 
and that (QF)*~ 
is full and faithful. 
By the constructions of the free Boolean pretopos 
and quotients, it is clear that 
T(G) 
and 
T 
are both countable, since 
G 
and 
G' 
are finite. 
It remains to show that ~ 
is ultraclosed in 
Mod T. 
A u-functor 
X: K 1 ..... 
~ K 2 
('pre-ultrafunctor' 
in [MI]) 
with 
categories 
KI, K 2 
in which ultraproducts have been defined (e.g., K' 
or Mod T above) is a functor that preserves ultraproducts up to speci- 
fied isomorphisms. 
Thus, 
X 
consists of a functor, denoted by 
X 
itself, 
X: K 1 
÷ K2, 
together with a transition-structure consist- 
ing of an isomorphism 
[X,U] 
for every ultrafilter 
U 
on any set 
I 
as follows: 

300 
(KI)I 
[U] 
~ K1 
(K2)I 
[U] 
~ K2 
IX,U]: X o [U]KI 
,~ [U]K2 o X I 
(here the 
[U] 
are the ultraproduct functors on 
KI, K2). 
A strict 
u-functor is one in which the [X,U]'s 
are all identities. 
The u-functors 
K 1 
÷ K 2 
form a category, 
u(KI,K2), 
with the 
u-transformations as morphisms. 
A u-transformation 
o: X 
÷ Y 
is 
a 
natural 
transformation 
between 
the 
functor-parts 
of 
X 
and 
Y 
with 
the 
additional 
condition 
of compatibility 
with 
IX,U], 
[Y,U]: 
the 
diagram 
(Kl)I 
[U] 
÷ K1 
(K2)I 
÷ K 2 
[U] 
gives a commutative diagram of 1-cells and 2-cells: 
X[U] 
+ Y[U] 
IX,U] 1 
flY,U] 
[U]X I 
+ [U]Y I . 
If, in particular, 
K 1 = K, K 2 = S, 
then 
u(K,S) 
and in fact, the forgetful functor 
qK 
u(K, S) 
+ (K,S) 
(forgetting the 
[X,U]) is a conservative Pretop-morphism; 
easy to see (using Los's theorem). 
is a pretopos, 
this is 

301 
If 
I: T 1 
~ T 2 
is a Pretop-morphism, then I*: Mod T 2 --~ Mod T 1 
is a strict u-functor. 
Similarly, for a diagram 
DO: G 
, T, 
(Do)*: Mod T 
, (G, ~ 
is a strict u-functor. 
Now, let us turn to the diagram under (2) and (3). 
As we said, 
(~')* 
is a strict u-functor; 
also, the inclusion of 
K' 
in (G', @is° 
is one. 
It is easy to see that the quasi-inverse of the functor-part of 
a u-functor whose functor-part is an equivalence can be made into a u- 
functor by endowing it with a transition structure (such that, in fact 
it will be a quasi-inverse with isomorphisms at head and tail that are 
u-transformations, but we don't need this additional fact). 
Thus, 
H' 
in (3) can be made into a u-functor, also denoted by 
H'. 
It is then 
readily seen that 
LH'J 
factors (exactly) in the form 
qK' 
F(G') 
.......... 
~ u(K',~ 
....... ~ (K',9. 
Let 
u(K',S) 
~ 
F(6') 
T 
be the quotient-conservative factorization of 
H. 
Since 
q = qK' 
is 
conservative, and hence 
qr 
is conservative, by the uniqueness of the 
q-e factorization, we have 
(K',S) 
÷ 
q, 
u(K',S) 
* 
H 
F(G') 
T 
with 
L 
an equivalence of categories. 
Now, we verify directly that 
^ 
rqF~ 
is a u-functor. 
In fact, we may put 
= 
: 
((qr)(A))(HD~/U) --+ H(q~(A))(D~)/U. 
([q~] (Di)icI)A 
[~ (A) 'U] (Di)i¢I 
i 
i 
Remember that each 
r(A) c Ob(u(K',S)) 
is a u-functor, hence [~(A),U] 
is defined. 

302 
We have that 
rr~ m 
L*=qr ~. 
Thus, up to isomorphisms, 
the image 
^ 
of 
vr ~ 
is the same as that of 
rq~. 
The image of 
rqr~ 
is clearly 
ultraclosed since 
K' 
is closed under ultraproducts 
and 
rq~ 
pre- 
serves them. 
Thus 
~ 
is ultraclosed. 
This argument could have been subsumed in the basic adjunction, 
by replacing 
Cat 
by a 2-category of categories with ultraproducts; 
c.f. [MI]. 
We have shown that 3.1.8. is applicable to conclude the Claim. 
• 3.2.1. 
Let us define 
D~ = Q ~': 
G' ~
+
 
T 
D O = D~ o i: = Q o ~' o i: G 
T. 
Since 
Q 
is a quotient, 
and 
QF 
is a quotient, 
D~ 
is a generating diagram. 
D O 
is a generating diagram. 
In other words, we have the commutative triangle 
D O 
G 
~T 
i=inclusion~ 
G' 
Since 
D O m QF~, 
(1) 
in which both 
D O 
and 
D~ 
generate 
T. 
Also, notice that for every 
D' ~ K', 
we have that 
M = ~r~(D ') ~ Mod T, 
and, as is easily seen, 
df 
MoD~ m D'. 
It follows that 
K' ~ Iso(MoD~: M ~ Mod T}. 
Thus, Theorem 
1.4.4 would be proved if we had that 
DO, D~ 
finitely generate 
T 
(and (i) gives an abstract composite Boolean pretopos operation). 
We 
repair the situation by proving 
Lemma 3.2.2. 
graphs, and 
Given a commutative triangle [I), with 
G, G' 
finite 
DO, D~ 
both generating 
T, 
we have a factorization 
D1 
F 
G 
+T I 
> T 

303 
in which each of 
DI, Di 
finitely generates 
T I. 
Note that, if the assertion of the lemma is true, we get that for 
'; 
hence 
M • Mod T, 
we have 
MoD~ m (MoF) o D 1 
K' c Iso{NoDl: N • Mod TI} , i.e. 
K' 
is a restriction of the abstract 
Boolean pretopos operation given by 
D 1 
and 
Di, 
proving the Theorem. 
Proof of 3.2.2: 
The lemma certainly 
has 
the 
flavor 
of being 
'abstract 
nonsense'. 
The proof 
that 
follows 
is 
straightforward, 
but 
somewhat 
tedious. 
We start 
with 
some preliminary 
remarks. 
The process 
of 
(universally) 
adding 
new axioms 
to a theory 
can be 
mimicked 
by 
(universally) 
inverting 
morphisms, 
i.e. 
constructing 
T 
~ T[£ -1] 
out 
of 
T 
and some 
£ c Morph(T). 
E.g., 
if 
R 
and 
S 
are 
subobjects 
of 
A 
in 
T, 
then 
the 
"axiom" 
R ~ S 
can be mimicked 
by inverting 
a single 
arrow. 
The reason 
is 
that 
there 
is an arrow 
~ in 
T, 
explicitly 
constructed 
from representing 
monos 
r 
and 
s 
for 
R 
and 
S, 
respectively, 
such 
that 
for 
any Pretop 
morphism 
F: T 
~ T' 
with 
domain 
T, 
FR ~ FS 
iff 
Fo 
is 
invertible. 
In fact, 
~ 
is 
the 
monomorphism 
in the 
pullback 
R 
r 
, 
A 
T 
T 
Rr~S 
~ S 
as shown; 
the assertion is clear. 
To give another example, if 
¢ • Sub(A×B) 
in 
T, 
then the axiom 
"¢ is a functional subobject" is 
(universally) imposed on 
T by (universally) inverting the composite 
91 
¢, 
~ A×B 
~ A 
(see before 2.3.2). 
To start the proof of the lemma, let us consider the triangle 
F 
D 
~T 
F' 
induced by (I) (here we use the same notation as after Definition 1.4.3). 
^ 
We pretend that 
i 
is an inclusion (i.e., we also write simply 
R 
for 
^ 
iR 
with 
R 
in 
F), 
and similarly for the canonical 
~: G 
, F, 
^ 
~': G' ---+ F'. 
We will write 
R 
for 
D(R) 
(R 
in 
F) 
and for 
^ 
^ 
D(R) (R 
in 
F'). 
Remember that 
D 
and 
D' 
are quotients in Pretop. 

304 
This means that they are full on subobjects, and for every 
X 
in 
T 
there are 
A 
in 
F 
(in 
F') 
and an effective epi 
p: A .~+ 
X 
(by 
2.4.7 (ii) and also by taking the sum of the finitely many objects 
mentioned by 2.4.7 (ii)). 
To each 
X, 
an object in 
G', 
we assign an object 
A X 
of 
F 
and an effective epi 
PX: iX 
-~ ~ 
(in T). 
Let 
~X ~ Sub(Ax×X ) 
in 
F' 
be such that 
$X = graph of 
PX 
(in T). 
Let 
R x e Sub(AxxAx) 
in 
F 
be such that 
RX = (the subobject of Ix×A x 
the kernel pair of 
PX 
induced by) 
(in T). 
Let, for any 
g: X ...... 
+ Y 
in 
G', 
S$ ~ Sub(AxxAy) 
S~ = (PxXPy)-l(graph(g)), 
in 
F 
be such that 
i.e., there is a pullback 
A 
A:xX?y 
Px×PY 
^ " 
+ 
XxY 
Sg 
+ graph(g). 
In addition, let us make sure that in case 
X 
is in 
G, 
then 
A X = X 
and 
R X 
is the trivial equivalence relation (equality). 
Since 
G' 
is a finite graph, in the above finitely many items 
were introduced. 
We are going to define 
T 1 
as a finite quotient of 
F' 
We 
universally impose on 
F' 
the following conditions: 
AI. "~X 
is functional" 
(X c Ob(G')). 
A2. "R X 
is the kernel pair of the morphism 
qx: AX 
> X 
whose 
graph is 
~X'" 
(X c Ob(G')). 
A3. "S~ 
is the pullback 
(qxxqy)-l(graph(g)) 
with 
qx' qY 
as 
in A2." 
(~: X --+ Y 
in G'). 

305 
Some explanations are in order. 
First of all, we intend here the 
specification of certain definite finite sets 
Zl' ~2' ~3 
of arrows 
in 
F' 
whose inversion is equivalent to the respective "axioms" AI, 
A2, A3. 
~i 
is clear from remarks above. 
Concerning A2 and 
~2' note 
that 
qx 
does not exist as an arrow in 
F' 
(it will exist only when 
~X 
has become functional). 
The specification of 
Z2 
is done as 
follows. 
Fix 
X c G'. 
Let 
A = A X. 
Consider the subobjects 
~ = ~X 
of 
AxX, 
R = R X 
of 
AxA 
specified above, and construct the subobject 
R': 
= : 
[aeA, 
a'eA: 
(3xcX)(o(a,x) 
^ ¢(a',x)] 
df 
of 
AxA 
in 
F' 
The axioms under 
A2 
are 
R' 
= R 
(i.e., 
R' 
<- R, 
R' 
-< R) 
one for each 
X c Ob(G'). 
Note that for any 
F: T -+ T' 
in Pretop 
satisfying AI, FR 
is the kernel pair of the morphism 
q: A --+ X 
whose graph is 
F~ 
if and only if 
FR' = FR. 
The set Z2 
is obtained 
by remarks above concerning how to impose an inequality of subobjects. 
The description of 
z3 
corresponding to A3 is left to the reader. 
As promised, we define 
-i 
T 1 = F'E(~ 1 u ~2 u ~3) 
] 
with 
QI: T -+ T 1 
the canonical quotient. 
Since the conditions 
AI, 
A2, A3 
are all satisfied by 
D', 
clearly, 
F 
as in the diagram in 
the statement of the lemma exists. 
It remains to show that the 
composite 
^ 
F 
I 
~ F' 
Q1 
T 1 
is a finite quotient as well. 
Let 
T 2 
be the finite quotient of 
F 
obtained by imposing on 
F 
the following conditions: 
A2'. 
"R X 
is an equivalence relation" 
(X ~ Ob(G')). 
A3'. 
"The subobject 
S~ 
of 
AX×A Y 
gives rise to a morphism 
A X /R X ---+ Ay/Ry" 
(~: X -+ Y 
in 
G'). 
We intend finite sets 
~2'' ~3' 
of morphisms of 
F. 
~2' 
is pretty 
clear (see 2.4.1). 
Concerning 
~3'' 
the inequalities 
(2) (or (3)) in 
the proof of 2.4.5 show what we need here. 
We let 

306 
T 2 = FE(E2, u ~3,) 
with 
Q2: F --+ T 2 
the canonical quotient. 
Next, note that we have a triangle 
^ 
F 
i 
~ 
F' 
T 2 
-i ] 
commuting up to 
isomorphism, with 
Qi 
induced by 
G' ~" 
~' T 2 
given as 
X 
Q2Ax/Q2R X 
............. la r°w' duc d 
Y 
Q2Ay/Q2Ry • 
Then, there is an essentially unique 
G: T 2 --+ T 
in Pretop such that in 
F 
~ 
F' 
Q1 
Q2 -= 
Q½ 
m G 
2 
(2) 
the right-hand-side 
triangle commutes up to an isomorphism. 
To obtain 
^ 
G, 
note that 
Q1 i 
satisfies the conditions A2', A3' 
whose universal 
solution is 
Q2" 
This gives an essentially unique 
G 
with an 
isomorphism 
^ 
GQ 2 m Q1 i . 
(3) 
The concrete definition of 
Qi 
gives an isomorphism 
GQ½~' m Q1 ~' 
(4) 

307 
for 
9' 
the canonical diagram 
G' -~ F' 
such that the pasting of 
the isomorphism 
GQ~ ~ Q1 
induced by (4) and the isomorphism in the 
left-hand-side triangle in (2) is the same as the isomorphism (3). 
We claim that 
G 
is a finite quotient, in fact that it is 
obtained by imposing on 
T 2 
the conditions 
AI' 
"~X 
is the graph of the canonical arrow A X --+ Ax/Rx" 
(X ~ Ob(G')). 
To show the claim, we have to verify that 
G 
satisfies the correspond- 
ing universal property. 
Let 
T 3 
be an arbitrary pretopos. 
The fact 
that composition with 
G 
induces a full and faithful functor 
Pretop(Ti,T 3) --+ Pretop(T2,T3) 
is a consequence of the facts that in 
(2), Q1 and Q2 are quotients. 
G 
certainly satisfies AI' 
Finally, if 
H: T 2 --+ T 3 
in Pretop satisfies AI', then (as inspection shows) HQ½ 
satisfies AI, A2, A3, hence there is 
I: T 1 --+ T 3 
such that 
IQI ~ HQ~. 
Then 
IGQ2 m HQ2 ' hence 
IG m H, 
as required. 
This shows the claim. 
Q2 
and 
G 
being finite quotients, their composite, is easily 
seen to he a finite quotient as well. 
But then 
to 
GQ2 , 
is a finite quotient as well. 
This completes the proof of the lemma. 
iQl , being isomorphic 
m3.2.2. 
Ii.4.4. 
Let us note that the same proof, using 3.1.2 
instead of 3.1.4, 
establishes the following version of 1.4.4. 
Theorem 3.2.3. 
Any strong finitary operation in Set commuting with 
ultraproduct functors is the restriction of a composite pretopos 
operation. 
"Composite pretopos operation" is defined in the same way as 
"composite Boolean pretopos operation" with the free Boolean pretopos 
replaced by the free pretopos 
(over a graph). 
Let me point out that Theorems 1.4.4 and 3.2.3 express a 
"completeness property of Set in Pretop". 
In fact, ultraproduct 
functors are particular Pretop morphisms of the form 
Set I --+ Set, 
I 
a set. 
The versions of the theorem talking about aZZ Pretop morphisms 
of the form 
Set I --+ Set, 
instead of just ultraproducts, 
although 
weaker than the original versions, still seem to be non-trivial. 
The 
formulation of the general phenomenon of completeness two instances of 
which are 1.4.4 and 3.2.3 requires the context of "essentially algebraic 
2-categories" 

308 
References 
EMRI 
M. Makkai and G.E. Reyes, First order categorical logic. 
Lecture Notes in Mathematics no. 611, Springer Verlag, 1977. 
EMPI 
M. Makkai and A. Pitts, Some results on finitely present- 
able categories. 
EGZ~ 
P. Gabriel and M. Zisman, Calculus of Fractions and Homo- 
topy Theory, Springer-Verlag, 1967. 
ECKI 
C.C. Chang and H.J. Keisler,, Model Theory, North-Holland, 
1973. 
ESGA41 
Theorie des Topos et Cohomologie Etale des Schemas, ed. 
M. Artin, A. Grothendieck and J.L. Verdier. 
Lecture Notes in Mathematics 
no.'s 269 and 270. 
Springer-Verlag, 1972. 
ECHL~ 
G. Cherlin, L. Harrington and A.H. Lachlan, ~0-categorical 
~0-stable structures. 
EShl 
S. Shelah, Classification Theory, North-Holland, 1978. 
EMIl 
M. Makkai, Stone duality for first order logic, Proceedings 
of the Herbrand Symposium, ed. J. Stern, North-Holland, 1982, pp. 217- 
232. 
EM2~ 
M. Makkai, Stone duality for first order logic, to appear in 
Advances in Mathematics. 
ETTI 
P.T. Johnstone, Topos Theory, Academic Press, 1977. 
EMRII 
M. Makkai and G.E. Reyes, Model theoretic methods in the 
theory of topoi and related categories, Bull. Acad. Polon. Sci. 24, 
pp. 379-392. 
ECWM~ 
S. MacLane, Categories for the Working Mathematician. 
Springer-Verlag, 1971. 
EPI] 
A.M. Pitts, Amalgamation and interpolation in the category 
of Heyting algebras. J. Pure and Applied Algebra 29(1983), 155-165. 
EP21 
A.M. Pitts, An application of open maps to categorical logic. 
J. Pure and Applied Algebra 29(1983), 313-326. 
EJT~ 
A. Joyal and M. Tierney, An extension of the Galois theory 
of Grothendieck, Memoirs A.M.S. 
EM31 
M. Makkai, The topos of types, Lecture Notes in Math., no. 
859, Springer-Verlag, pp. 157-201. 

309 
EM4] 
M. Makkai, Full continuous embeddings of toposes, Trans. 
A.M.S. 269(1982), pp. 167-196. 
[LJ 
D. Lascar, On the category of models of a complete theory, 
J. Symbolic Logic 47(1982), pp. 249-266. 
[GU] 
P. Gabriel and F. Ulmer, Lokal pr~sentierbare Kategorien. 
Lecture Notes in Math., no. 221, Springer-Verlag. 
"Added in proof. 
A.M. Pitts has recently 
proved an important result which is a strong conceptual 
completeness theorem for Heyting pretoposes (conceptualizing full first order 
intuitionistic logic). His proof uses results of [PIJ, [P2J and [JT]. Theorem 
3.1.2 is essentially a special case of Pitts' theorem, in fact with the countability 
condition removed. After the fact, it is not hard to see that one can deduce the 
stronger version of 3.1.2, i.e. strong conceptual completeness for small Boolean 
pretoposes, from the countable case, i.e. 3.1.2 itself. One uses a forcing argument 
and an absoluteness argument, after suitable preparation." 

PROBLEMS IN TAXONOMY, A FLOATING LOG 
Jerome I. Malitz 
University of Colorado, Boulder 
Department of Mathematics 
Boulder, Colorado 80309 
U.S.A. 
ABSTRACT. 
Given a region 
R 
in an n-dimensional normed linear space, is there a 
partition of 
R 
into 
k 
pieces 
RI,R j .... ,Rk with centers of mass 
Cl,C2,...,c k respectively such that for each 
i ~k 
and each 
xc R i 
we have 
Ix-cil ~ Ix-cjl 
for all 
j ~k. 
The problem is open even for 
n = 2 and k = 2 but some partial results are known. 
The problem is highly relevant to the foundations of taxonomy, medical 
diagnosis and classification in general. 
§i. 
INTRODUCTION. 
The problem of classifying individuals accord- 
ing to certain characteristics arises in several fields such as taxonomy 
and medical diagnosis. 
This problem has been treated by different 
authors (see [4],[5],[6],[7] 
). 
If the characteristics can be measur- 
ed by some metric then the individuals are represented by points in 
some product space. 
A classification of the set 
X 
of these points is 
a partition 
{XI,X 2 ..... X k} 
of 
X. 
Of course, the partition should 
reflect relationships between the points. 
A point 
X E X i 
should be as 
close to the other members of 
X i 
as it is to the members of 
Xj 
for 
j ~i. 
We call such a partition 
'good' 
We consider two notions of closeness. 
The first arose in a seminar led 
by A. Ehrenfeucht of the computer science department and L. Gold of the 
biology department at the University of Colorado at Boulder. 
This defi- 
nition measures closeness by average distance and is discussed in 
§3. 
The second definition suggested by Matt Foreman and the author, measures 
closeness by distance from the centers of mass of the 
X i s. 
This is the 
paradigm method of classification an d is discussed in 
§4. 
For both 
definitions the main problem is the existence of good partitions. 
For 
the definition based on average distances good partitions need not exist. 
For the definition based on distance from paradigms we have only partial 
results and the existence problem is open. 
The notation and basic definitions are presented in 
§2. 
In 
§5 
a heuristic argument is given which suggests that good partitions 

311 
exist. 
§6 presents some open problems° 
§2. 
DEFINITIONS AND NOTATIONS. We will be working in Euclidian 
n 
space with the usual norm. 
Two notions of distance of a point 
p 
to a 
set 
Y 
will be discussed and for each there is a discrete version and a 
continuous version° 
In the discrete case each point in 
Y 
is given 
unit mass and in the continuous case 
Y 
has uniform density. 
i) 
D(p,Y) = Ip-cl 
where 
c 
is the center of mass of Y. 
ii) 
D#(p,Y) 
= 
~ E{Ip-yl 
: y cY} 
for 
Y 
finite with n 
the 
n 
cardinality of 
Y - {p}. 
iii) 
D#(p,Y) = [/ylp-yldy]/fy dy for 
Y 
bounded and measurable. 
P(X) = {XI,X 2 ..... X k} 
be a partition of 
X 
with each 
X i~0 
and 
xE Xio 
Then 
C(x), the contentment of 
x, is minj~i D(x,Xj) - D(x,X i). 
if 
Let 
let 
The goodness of the partition 
P, 
G(P) is min C(x). 
P is good 
xEX 
G(P) e 0. 
If we use the 
D # 
distance instead of the 
D 
distance, we get 
G#o 
C # and 
§3. 
GOODNESS IN THE SENSE OF 
D #. A. Ehrenfeucht proved (unpublished) 
that for 
n = I and 
k arbitrary there is always a 
#-good 
P that can 
be obtained in polynomial time, and raised the question for 
n > i. 
For 
n = 2 
and 
k = 2 
the answer is no. 
3.1. 
EXAMPLE.Let 
X = {(0,-i), (0,0), (0,i), (i.I,0)}. 
It is an easy 
matter to check each 
P 
and show 
G (P) < 0o 
For example, if 
P = {{(0,-i), 
(0,0)}, {(0,I), (i.i,0)}}, 
then 
C#((I.I,0))<0. 
We do not have a general method for constructing counterexamples with 
points for arbitrary 
4, or for partitions in 
k > 2 pieces. 
The follow- 
ing theorem and its proof indicate the difficulty of generalizing the 
above example. 
3.2. 
THEOP~M. 
For every 
E > 0 and every 
k 
there is an 
N 
such that 
for any 
X 
contained in the unit disc and having at least 
N 
elements 
there is a partition 
P 
into 
k 
parts with 
G(P) > -s. 
PROOF. 
Let ~ > ~ > 0o 
Let 
f 
be a 
i-I function on a subset 
A 
of 
X 
into 
X 
satisfying 

312 
a) 
Ix-f(x)[ < ~ for all 
x~ A, 
and 
b) 
ix-yj e s 
for all 
x,y ~ Au F[A]. 
Let 
B = X - A. 
B = f[A] uK where 
Ix-yj e ~ for 
all x,y• K. 
Let 
n 
be the number of points in 
A 
and 
k 
the number of elements in K. 
Notice that 
k 
is bounded, in fact 
k(!)2~ < H(I + ~)2 
since the disk 
6 
2 
of radius 
- centered at the members of 
x ~ K 
are pairwise disjoint and 
2 
contained in the disk of radius 
1 + - 
2 
For 
x • B - K, 
= 1 
i 
C#(x) 
~ I 
Jx-yJ 
~ 
[x-yJ 
y~A 
n+k-I y~B 
_ 1 
~ jx_y I 
I 
~ 
ix_f(y) i 
1___!__ ~ jx_y I 
ny•A 
n+k-i 
y~A 
n+k-I y~K 
> 
1 
~ 
[Ix-y~ - Ix-f(y) 1] 
1 
~ 
Jx-yl 
n+k-i 
n+k-I 
y•A 
yEK 
-n~ 
k 
k 
> 
n+k-I 
n+k--+-k~-f 
-e 
- ~ 
n 
Hence for 
n 
large enough, 
C#(x) > -¢ for 
x • B - K and 
K 
non-empty. 
For 
K 
empty, or 
x ~ K, 
or 
x c A 
a similar and easier argument shows 
C#(x) > -~ for large enough 
n. 
Hence for 
N 
large enough (since 
k 
is bounded) 
we have 
G#(A,B) 
-~. 
Note that the proof gives an approximately good partition by separating 
points that are close to each other, an undesirable approach from the 
standpoint of taxonomy. 
If the set 
X 
of points is not required to be bounded, then example 3.1 
can be modified so that for each 
k 
we get a four point example with 
G(P) <k 
for all 
P. 
In the proof of 3.2 points that are close together are placed in different 
cells of the partition. 
From the point of view of taxonomy or medical 
diagnosis this makes little sense. 
This shortcoming is brought into 
focus by the following example. 

313 
3.3 
EXAMPLE. 
Let 
X 1 = {(d,ei) : i ~ n} u {(l,ci) : i ~ n} 
and let 
X 2 = {(d,l+~i): 
Ee l 
• < ~ . For 
i~ n} u {(l,l+s i) : i~ n} 
where 
> 0 
for each i and 
X ~ Xi, 
I-~ + --/l+(d-e) 2 
nd+e 
C(x) > 
2 
2n-I 
Hence for any 
d 
and large enough 
n, 
P = 
{XI,X 2} 
is a 
# - good 
partition of 
X = X 1 u X 2. 
In fact, for 
n = I, 
s I = 0 and 
1 <d<! 
P is 
# - good 
3 
§4. 
GOODNESS IN THE SENSE OF D. 
Here we consider only bounded 
measurable sets 
X. 
A cut 
C 
in 
n 
space is a plane of dimension 
n - I, and so for n = 2 a cut is a line. 
For 
k = 2, 
a good partition has a very simple geometric characteriza- 
tion. 
4.1 THEOREM° 
Let 
P = {XI,X 2} 
with 
c i 
the center of mass of 
X i 
and 
c I ~ c 2. 
Let 
ClC 2 
be the line segment joining 
c I 
and 
c 2. 
Let 
C be the cut that is the perpendicular bisector of 
ClC2 . Let 
Pi be the 
closed half space determined by 
C 
that contains 
c i. 
Then the follow- 
ing statements are equivalent: 
i) 
P 
is good. 
ii) 
Xi ~Pi 
for 
i = 1,2. 
The restriction that 
c I ~ c 2 
is needed. 
For example, if 
X 
is the 
unit disk centered at the origin and 
X 1 
the disk of radius 
1/2 center- 
ed at the origin, then 
P = {XI,X - X l} is good. 
From the point of view 
of taxonomy or classification theory, good partitions with 
c I = c 2 
are of no interest. 
Let 
C 
be a cut that partitions 
X 
into 
{XI,X 2} with 
c i 
the center 
of mass of 
X i. 
Say that 
L 
has property: 
I 
if C bisects 
ClC 2 
II 
if C perpendicular to 
ClC 2. 
So 
{XI,X 2} is good if 
C 
has properties 
I and 
II. 
Property 
I 
is easily satisfied. 

314 
4.2. 
THEOREM. 
For every line 
L 
there is a cut 
C 
normal to 
L 
that satisfies I. 
PROOF. 
Consider 
L 
to be the 
x-axis and let C(x) be the cut at x. 
If 
C(x) partitions 
X 
into X I and 
X 2 with centers of mass c I and c 2 
we let Ul(X) be the distance between c I and C(x) and u2(x) be the distan- 
ce between c 2 and 
C(x). 
Let 
f(x) = Ul(X)/U2(X). 
f 
is continuous and 
as x increases over the domain of f, 
f(x) goes from 0 to ~. 
Hence for 
some 
x,f(x) = I as needed. 
In general, there may be many cuts normal to a given line which have 
property I. 
We conjectured that if 
X 
is convex, then there is only 
one cut perpendicular to a given line that satisfies I. 
This was recent- 
ly proved by M. Elgueta (unpublished). 
I do not have an example of a 
bounded 
X 
and a line 
L 
with infinitely many cuts perpendicular to 
L 
that satisfies 
I. 
The next result giving the existence of some cut satisfying II was ob- 
tained by Matt Foreman. 
His beautiful proof, which we give below, works 
only in odd dimensional Euclidean space since it depends on the fact that 
a continuous function 
f 
on the surface of the sphere 
S 2n-I 
has a 
fixed point 
x = f(x) or an antipodal point 
-x = f(x) (here -x is the 
reflection of 
x 
through the origin). 
4.3. 
THEOREM 
(Matt Foreman). 
Let 
X 
be a bounded measurable region 
in an odd dimensional Euclidean space. 
Then 
X 
has a cut with property 
II. 
PROOF. 
We may suppose that the center of mass 
c 
of 
X 
is the center 
of a sphere 
S 2n-I = X. 
For each 
soS 2n-I 
let 
C(s) be the cut through 
c 
normal to the vector 
c,s. 
Let 
C 
divide 
X 
into regions 
XI,X 2 
with centers of mass 
Cl(S), c2(s) 
respectively. 
One of the 
c's, say 
Cl(S ) is on the same side of 
C 
as 
s. 
The line from 
c 
through Cl(S) 
intersects 
S 2n-I 
at the point we call 
f(s). 
s2n-I 
s2n-I 
So 
f : 
÷ 
and 
f 
is continuous. 
Since 
s 
and 
f(s) are on 
the same side of 
C(s), 
f cannot map 
s 
onto 
-s. 
Hence 
f has a 
fixed point 
s* 
= 
f(s*). 
But this means that 
C(s*) is perpendicular 
to the line extending C,Cl(S) and so is perpendicular to 
Cl(S),C2(S) 
since c = mlc I + m2c 2 where 
m i 
is the mass of 
Xi. 
We have a different argument for 
2-space giving a cut with property II 
but for 
n 
even and greater than two 
we do not know how to get such a 
cut. 
Of course, for a cut to be good. it has to have both properties ! and II. 

315 
As yet we do not see how to prove the existence of such cuts even for 
regions 
X 
in 
2-space. 
§5. 
A FLOATING LOG, HEURISTICS. 
Here is a physical model which 
strongly suggests to us that good cuts exist. 
We will consider a region 
X in the plane, although the argument can be given for 3-space and is a 
bit simpler. 
Cylindrify 
X 
in 
3-space and truncate the cylinder at two different 
levels. 
This results in a 3-dimensional object like a section cut from 
a tree limb, a wooden log. 
Float the log in liquid with its faces (each 
a copy of 
X) perpendicular to the level of the liquid. 
Rotate the log 
until stable position is reached. 
At such a position, with 
C 
the 
surface of the water, 
X I 
the region above 
C 
and 
X 2 
the region below 
C with centers of mass 
c I and 
c2, 
we have 
c I c 2 perpendicular to C. 
By increasing or decreasing the density of the liquid while rotating the 
log so as to maintain stability (c-~ i C) a position will be attained 
where 
C 
satisfies both conditions 
I and 
II. 
We have not been able to convert this heuristic argument into a mathe- 
matical proof. 
§6. 
PROBLEMS. 
Of course, the main problem is to show that a bound- 
..... 
ed measurable region in Euclidean 
n-space 
has at least one good cut. 
In fact, we believe that there must be several. 
At the moment, we do not even see that regions in 
2-space have at least 
one good cut. 
Nor do we see that regions in even dimensions 
2n > 2 have 
cuts with property II. 
For discrete point masses the questions are also open even if we allow 
C 
to cut through some points partitioning the mass of these points 
as convenient. 
The proof of 3.2 suggests the following problem. 
Let 
X 
be bounded 
and of measure > 0. 
Is there a partition 
{XI,X 2} 
of 
X 
such that 
X I and X 2 have the same measure and 
i) 
IXllp-qld q ~ Ix21P-rldr 
for all 
pc X I. 
I 
IP-qldq ~ I X21p-qldq 
for all 
pc X 2. 
ii) 
XI 

316 
Postcript. 
Shortly after the conference we obtained a proof for 
k = 2 
and all 
odd n. 
Fixed point theorems are used in this proof. 
Recently, 
A. 
Ehrenfeucht settled the question positively for all 
n 
and all 
k 
using methods that are not only simpler but more constructive. 
However, 
related problems in taxonomy that are settled by the fixed point methods 
do not yield to his methods. 
[i] 
Ehrenfeucht, A. 
[2] 
Ehrenfeucht, A. 
& Malitz, J. 
[3] 
Elgueta, M. 
[4] 
Chen, C. 
[5] 
Murtagh, A. 
[6] 
Mauldin, R.D. 
[7] 
Steinhaus, H. 
REFERENCES 
Classification Theory 
(unpublished). 
Problems in mathematical taxonomy (in preparation). 
Unicity of cuts equalizing distances to centers 
of mass in convex regions (unpublished). 
Statistical pattern recognition. 
Hayden Books, 
(197~ee Chapter VIII in particularS. 
Survey of recent advances in hierarchical cluster- 
ing algorithms, Comp.J., 26,n ~ 4 (1983) pp.354-359. 
ed., The Scottish Book. 
Birkhauser (1981)(See 
problem 19, p. 90 in particular). 
Mathematical Snapshots. 
Oxford University Press 
(1969)(See p. 50). 

COUNTING PROBLEMS IN BOUNDED ARITHMETIC 
J.Paris and A.Wilkie 
Department of Mathematics 
Manchester University 
Manchester MI3 9PL, England 
§ 
INTRODUCTION. 
In this paper we shall consider the following problems. 
PROBLEM I. 
Let 
A 
be a 
A 0 subset of ~. 
Then does 
{<n,m> I m = IA nn i} 
have a 
A 0 
definition?. 
PROBLEM 2. 
Let 
A 
be a 
A 0 subset of ~. 
Then for 
k ~ 
does 
{<n,i> i i<k 
A IAnn i = 
i mod k} 
have a 
A 0 definition?. 
PROBLEM 3. 
Does 
IA 0 ~ AoPHP 
where 
AoPHP 
(A 0 pigeon hole prin- 
ciple) is the schema 
@x [Vy ~x 
~z <x 
0(Y'z)AVYI>Y2~xVz < X(0(Y2'Z) ^ 0(Y2'Z) ÷ Yl = Y2 ) 
for 
0A0? 
There are several reasons for studying these problems. 
One is that it 
is possible, even tempting, to view the 
A 0 
subsets of ~ 
as the mea- 
ningful, feasible collections of natural numbers and to view 
IA 0 (A 0- 
induction) as the self evident fragment of Peano's axioms. 
From this 
standpoint it is very natural to enquire whether we can enumerate sets 
in increasing order and whether the size of sets is unique. 
And apart from this there are practical reasons for wanting to know how 
extensive the 
A 0 
sets are and in how weak a fragment of Peano's Axioms 
we can still prove the 
PHP. 
For example Ritchie 
[9] has shown that 
every 
A 0 
subset of ~ 
is in Linear Space. 
The general feeling how- 
ever is that these classes are not equal and since 
AE Lin. Space 
~ 
{<n,m> i m = 
IAnnl} c Lin.Space 
a way to confirm this belief would be to give a negative answer to 
problem I. 
Problems 1,2,3 are all open and our intention in this paper will be 

318 
to survey the area (as we know it) and to prove some new results of 
our o~v~fl. 
NOTATION AND DISCUSSION= 
Most of our notation is standard, as 
in [7], [8]. 
When we employ expressions like 
x y = z 
we shall be using 
the 
A 0 
definition of exponentiation given in 
13]. 
All logarithms 
will be to base 2 and in expressions like 
log(x), x e 
it will always 
be assumed that we mean the integer part of these quantities. 
Throughout this paper 
M 
will stand for a countable model of 
I^ 0 
M 
is the collection of 
and we identify 
a c M 
with {xIM ~ x<a}. 
A 0 
subsets of 
M 
defined by 
A 0 
formulae, with parameters from M. 
For 
A ~A~ 
let 
A (~) = {<n, m>Im =IAnnl}, 
A (k) = {n[ ]A nn] = 0 mod k}. 
It is easy to see that 
A(k)¢A~ 
just if 
{<n,i>[i<k 
A IAnn I = i mod k} ~A~ 
Thus problem 1 (2) is equivalent to : 
If 
Ae A~ 
is 
A(~)¢ A~ ? 
(A (k) ~A~ ?) 
Another way of expressing problem 2 is as follows. 
Let 
CkX < t 
(where 
t 
is a term of 
LA) be the quantifier 
CkX<Y 
0(x) ~ 
]{x<ti0(x)} i = 0 mod k, 
and let 
CkA 0 
be the formulae formed as for A 0 formulae but with this 
additional quantifier adjoined. 
Let 
CkA ~ 
be the subsets of ~ 
defin- 
ed by such formulae. 
Then problem 2 is equivalent to: 
Is 
A~ 
= 
CkA~ ? 
We shall also be interested in problems i, 2 when we replace the standard 
model 
~ 
by 
M. 
However since the expression 
IA n n i = m 
may have no 
meaning in 
M 
we must generalize these problems to: 
PROBLEM I'. 
Let 
A ~ A . Is there 
B c A 0 
such that, in 
M 
Vx,y[<x, y> e B ~--> {(x = 0 ^y = 0) v (x > 0 ^x-i ~AAy 
>0 ^ <x-l,y-l> ~ B) 
v(x >0 ^x-I ~' A^ <x-l, y> cB)}]? (*) 
i.e. 
is 
A~ 
closed under counting, or, to put it another way, can 

319 
we count in 
M? 
PROBLEM 
2' . Let 
A• 4 0 . Is there 
B • h 
such that, in M, 
Vx,y[<x, y> ~B<-->{(x = 0Ay 
= 0) 
V(X>0AX-I~AA0<y<kA<x-I, 
y-l> cB) 
V(X>0AX-I~AAy 
= 
0^<X-I, k-l> ~ B) 
V(X>0AX-I 
~' AA<x-l,y> cB)}]? 
M 
ioe. 
is 
A 0 
closed under counting mod k, or, can we count mod k in M? 
Notice that by the compactness theorem problem i' (say) has an affirma- 
tive answer for all such 
M 
just if given any 
A 0 
formula 
0(x) 
we 
can exhibit a 
4 0 
formula 
~(x,y) 
and prove (*) in 
14 0 
(with x-I ~ A 
replaced by 
e (x-l) etc) . 
We remark here that the general feeling is that problems 1,2,3 all have 
negative solutions. 
Indeed we suspect that problems i, 2 fail for quite 
simple 
A ~ h~ , for example for the set of primes. 
Finally, in connection with problem 3, notice that by the standard proof 
1h 0 + V x, 2 x exist 
j- AoPHP, 
so the problem amounts to whether we can remove exponentiation in this 
proof. 
SECTION 
i. 
In this section we mention some simple connections 
between these problems. 
Clearly if we can count mod 2 then we can count 
M 
mod 4 since given 
A~A0, 
0<-i-<3,1Ann I = i mod 4 <~=> 
(i = 0^nEA 
(2) n (AnA(2)) 
(2))- 
- - v (i = i^-]x<n(x~A^xcA 
(2)" 
- n (A hA(2)) 
(2)" 
" " " 
^ -~ @z <n(x<zAz 
~A))v(i = 2^@x<y<n(x,yeA^xeA 
(2) n (AnA(2)) (2) 
^ -~@z<n(x<zAz 
+ yAzeA))v 
(i = 3A~x<y<w<n(x,y,weA^x~A 
(2) a (AoA(2)) (2) A-~z<n(x<z^ 
z + y^z 
4 WAzcA)) 
In general we can count mod k 
just if we can count mod 
Pl .... 'Pj 
where 
Pl .... 'Pj 
are all the prime divisors of 
k. 
However the following 
problem is open° 
PROBLEM. 
Let 
p, q be distinct (standard) primes. 
If we can count 
mod p in M can we count mod q? 
In this connection we do have the following result. 

820 
THEOREM 
I. If 
in 
M 
we can uniformly count mod 
p 
for all primes 
p 
then in 
M 
we can count. 
PROOF. 
By the hypothesis we mean that given 
A ~ A 0 
there is a 
B e A 
such that whenever 
n,m,p c M, 
p 
prime (in M) and 
m < p 
then 
<n,m,p>cB <~ In = 0 Am = 0] 
v[n>0An-iEAAm>0A<n-l, 
m-l, p> E B] 
v[n>0An-l~A^m=0^<n-l, 
p-l, p> e B] 
v[n>0An-i 
~'A^<n-l, 
m, p> eB] 
i.e. 
"<n, m, p> ~ B ~ 
IA nn I = m mod p". 
Then we can 
' define' 
I Ann I = j ~=~ j is minimal such that for all primes 
p_<n 
I An~ 
= j mod po 
To show that such a 
j 
exists we show that by induction on n, for fixed 
m, 
Vn ~j _<n V primes 
p-<m, IAnnl = j mod p. 
It is now possible to show that as defined above 
IA n n I = j satisfies 
the required counting conditions. 
A close connection between counting and the 
AoPHP 
was discovered by 
Woods 
[II]. 
Woods' result will be discussed in section 4 (Theorem 20) 
but for the moment we content ourselves with the following special case. 
THEOREM 2. 
Woods 
[ii]. 
If in 
M 
we can count then 
M 
satisfies 
the 
AoPHP. 
Woods' proof (of Theorem 20) is quite long. 
Perhaps the simplest way 
prove the theorem is to show by induction on 
y 
that if 
F c A~ 
and 
to 
F : a I~-> a-I 
(i.e. 
F maps a i-I 
into 
a-l) 
then 
IF n (yx(a-l))l = Y 
for 
y-<a 
IF n (a×y) I <- Y 
for 
y<_ a-I 
which gives the required contradiction 
a = IFn (ax(a-l))l -< a-l. 
Notice that this only requires a single counting, of 
F n (Y0 x yl)- 
Of course this result is not at all surprising, it simply says that if 
a set has a reasonable definition of its size then there cannot be another 

321 
such definition of its size i.e. its size is unique. 
Further results connecting theseproblems 
can be proved similarly. 
For 
example, assuming counting mod 2, if 
F : a ~->>(a-l) (i.e. F maps a 
i-i onto a-l) then by induction on y 
IFn (y×(a-l))l = y rood 2 
for 
y~a 
I Fn (axy) l = Y mod 2 
for 
y~ a-i 
which gives a contradiction as above. 
Similarly 
THEOREM 3. 
Let 
0 < k ~ M 
and suppose that in 
M 
we can count 
M 
mod k. 
Then for 
F~A0, ~x, 
F : X l~->>x-p, for all 
0<p<k ~, 
Returning for a mo~mnt to Theorem 1 we would of course have had a much 
easier proof of this result if we could have shown that 
M 
had un- 
boundedly many primes. 
In fact by Theorems i, 2 and the following result 
due to Woods this is the case although to prove it we seem to need 
Theorem I. 
THEOREM 4. [Woods, [ii]0] If 
M 
has the 
AoPHP 
then 
M 
has arbi- 
trarily large primes. 
0 
SECTION 
2. 
]in this section we shall give the best results (to 
our knowledge) concerning the problems in section 0. 
Of course the obvious way in arithmetic of stating that IA n nl = m 
is 
simply 
~f, 
f codes a 
I-i 
map from 
m 
onto 
Ann. 
Unfortunately this will give a best upper bound for 
f 
of around n m so 
f 
cannot in general be bounded by a term in LA. 
However if we put 
suitable conditions on 
A 
we can do this. 
We can now refine this 
basic idea (a trick due to Nepomnyascii, see [6]) by disecting f so that 
I An n I 
= m<=~ ~k@g c (k+l)(n+l), f ~ (k+l)(m+l) such that g, f are 
increasing, 
f(0) = 0, f(k) = m, g(0) = 0, g(k)=n 
and Vi <k~hi:[f(i) , f(i+l) ~->~ An [g(i), g(i+l)). 
Iterating this device gives 
THEOREM 5. 
Let 
ke~, 
0 <e < 1 
and 
AcA~. 
For 
n~ 
let 
A = {m I m <n 
<n, m> e A}, 
and assume 
A 
~ 2 l°g(n)~ for 
all 
n ~. 
Then 
n 
- 

322 
B k = {<i, j, n, m>lj -<n Am = min(IA n n [i, j)I, (log(n)T)k+l)} 
~A~.~ 
PROOF. 
By induction on 
k. 
Clearly we may assume 
n 
is large. 
For 
k = i we have 
-2--+1 ) 
m = min(IAn c [i, J)l, log(n) 
<=> ~f(f:m IF-->> A n n[i, j) ^m-<log(n) 
I-C~ 
-f-) 
v no such 
f 
exists and 
m = 
log(n)-2--+l. 
Then with the given condition on the size of elements of A n and the usual 
coding 
I-~ 
f _< (21og(n) e) log(n)-2---<n. 
Now assume the result for k. 
Then 
I-~ (k+l) 
m = min(IAn n [i, j)l, (l°g(n) T) 
+ I) ~=> 
i-~ 
I-~ 
<=> {@h : (log(n) [ 
+i) -~ [i,j] @g :(log(n) 2 +i) + (m+l), 
~ (k+l) 
such that 
m-< (log(n) 
, g, h increasing 
I-~ 
I-~ 
h(0) = i, h(log(n) T) 
= j, g(0) = 0, g(log(n) ~ ) = m 
I-~ 
i-~ k 
and Vs < log(n) ~ , g(s+l) - g(s) _< (log(n) T) 
and 
<h(s), h(s+l), n, g(s+l) - g(s)> ~ B k} 
or 
I-~ (k+l) 
or {no such h, g exist and 
m = (log(n) ~ ) 
+I}.D 
This immediately gives:- 
THEOREM 6. 
Let 
kcl',1, 0 <~ < I, 
AE A~ 
and suppose that 
A n 
{ml <n , m> c A^m<n} 
c 2 IOg(n)e 
= 
_ 
for all 
ne~. 
Then there is a function 
F ~A~ 
such taht for all 
n ~ 
F(n) = min(IAnl , log(n)k). 

323 
Having got this amount of counting we can drop the condition 
A n ! 2 l°g(n) 
Precisely: 
THEOREM 6'. 
Let 
ke~, 
AeA~ 
and suppose that 
A n = {ml<n , m> e A^m<n}. 
IN 
Then there is a function F ¢ n 0 
such that for all n elg, 
F(n) = min(IAnl, log(n)k). 
D 
This theorem follows from Theorem 
6 
and the following theorem which 
will be proved in a forthcoming paper by the authors: 
THEOREM 6". 
Let 
A 
be as in Theorem 6' 
and let 
E > 0. 
Then 
n 
there is a function 
F ¢ A~ 
such that for all 
n
~
 
i+~ 
F(n) 
: A n 
It---> IAnl 
I] 
We remark here that Theorems 5 and 6 hold with 
M 
in place of 1,1 (but 
k, ~, ~ 
still standard) provided we interpret 
"]Anl _> log(n) k'' by 
~F, F : log(n) k 
~--> A n 
for a 
A~ 
function F etc. 
suitable 
Furthermore combining this limited amount of counting with the methods 
of the previous section we can show 
• For 
k~l~ 
and 
FE A~ 
THEOREM 7 
M ~ ~ ~x, 
F : log(x) k Ib-> log(x) k - I. 
As an aside we mention here that this can be combined with Woods' proof 
of Theorem 4 to give 
THEOREM 8. 
For 
k clg, 
M ~ Vx -3 prime p, p > log(x) k. 
D 
It is not clear at present that Theorem 6' can be similarly generalized. 
However we can show the following weak theorem: 
THEOREM 9. 
Let 
A¢ A M 
and suppose that for all 
a,B eA, 
O 
< B 
= ~(i + log(~) -k) < B 
(kelq). 
Then 
A (~) e A M . 
U 

324 
PROOF. 
Let 
Nc M. 
Since 
(I + p-l)p ~ 2 
for 
p > 0, 
(I + log(n)-k) ~ e n 
for some 
~ ~ log(n)k+2o 
Hence we can define 
F : A n n 
--> log(n) k+2 
by 
F(x) = least B, (I + log(n)-k) B ~ x< (i + log(n)-k) B+I 
and count 
Ann 
by counting 
F" 
Ann. 
D 
SECTION 
3. In this section we give an illuminating characterization 
of counting mod 2. 
This characterization 
is a natural variation of a 
machine based description of the classes 
sf,(the Grzegorczyk class of 
corresponding to the function f) 
and the class 
A~ 
given 
relations 
by Bel'tyukov in 
[2]. 
We shall show that these machines can be used 
to describe 
C2A ~ 
and hence highlight what it means for 
A~ 
to be 
closed under counting mod 2. 
We first describe Bel'tyukov's Stack Resister Machines (SRMSs). 
Such a machine 
M 
consists of a finite number of input registers 
Xl,X 2 ..... Xm, stack registers 
t0,t I ..... t k and a work register r. 
Initially the input goes into 
x 0 .... ,x m and the other registers are 
all zero. 
The program for 
M 
is a sequence of instructions LI,L2...Lp 
where each L 
has one of the forms 
q 
(i) 
t i := ti+l & Vj <i, tj := 0 & goto Lq+ I, 
r := z & goto L q+l' 
if 
z I + z 2 = z 3 
goto 
Li, else goto Lj, 
(ii) 
(iii) 
(iv) 
where 
z, 
if 
z I . z 2 = z 3 
goto 
Li, else goto Lj, 
Zl, z2, z 3 are chosen from 
0, x, t, r. 
In this program for 
such that for any input 
x, during the computation 
(ii) 
@i, j el~ 
each 
i 
at most one of 
L!,L2...L p contains the instruction ti:=ti+l 
and 
M 
halts just if he is told to go to Lp+ I. 
M accepts an input 
x 
if 
M 
eventually halts with 
t k = 0. 
[Our definition disagrees inessen- 
tially with Bel'tyukov's in order to make the later work run more smooth- 
ly]. 
For functions f, g : ~÷ 
~ 
and 
A c ~]m we say that 
Ac SRM Space (f,g) 
if there is a SRM 
M 
with the following properties:- 
(i) 
M halts on all inputs 
~ 
and accepts 
iff 

325 
of 
M 
on 
x 
r ~ fi(max(~)) 
and 
to,t I ..... t k ~ gJ(max(x)). 
., 
x 2 
Let 
0(x) = O, 
~(x) = i, etc 
P2(X) = 
+ 2 for all 
x~. 
Then 
THEOREM I0. 
(a) [Bel'tyukov, 
[2].] 
SRM Space (p2,P2) = Lin.Space, 
(b) [Bel'tyukov, 
[2] .] 
SRM Space (@, p2 ) = A~, 
(c) 
SRM Space (~, p2 ) = C~ 
, 
(~ 
Sm~ Space 
(2 , p2 ) = C6A ~ , 
(e) 
SRM Space 
(B , p2 ) = C~ 
. 
[Actually Bel'tyukov shows that for reasonable functions 
f, SRM Space(f,O = s 
Result (a) follows immediately since by the result of Ritchie 
[9], 
Lin. Space 
= ~ 
.] 
P2* 
PROOF. 
Result (a) is proved in 
[2] and 
(b) is stated there. 
We out- 
line a proof of (c) borrowing heavily on ideas of Bel'styukov in 
[2]. 
The proofs of 
(d) and 
(e) 
are along similar lines° 
We first show that 
C2A ~ ~ SRM Space (~ , p2 ) . Clearly we can find 
suitable machines to decide if 
x I = 0, x I + x 2 = x 3, 
Xl.X 2 = x 3 
so 
it only remains to show that 
SRM 
Space ( ~, p2 ) is closed under nega- 
tion, conjunction, bounded quantification and counting mod 2. 
To show 
this last property suppose that 
A _c ~m+l, 
A ~ SRM Space (~ ,p2 ) and 
that 
M 
is a suitable machine (with the above notation) to accept 
Ao 
We may assume that at the end of any computation of 
M, t k = 0 
or 
t k = I. 
Let 
<y, ~> c B ~=~ C2x < y, <x, ~> c A. 
We amend 
M 
to form a suitable machine 
M' to accept 
B. 
Phisically 
M' looks like 
M 
but has further stack registers 
t_l, tk+ I, tk+ 2, tk+ 3. 
Suppose that on input 
<y, ~> at some stage 
M' 
has tk+ 2 = z, 
tk+ 3 = 0 
and 
r = 0 
if 
C2x< z, 
<x,u> c A, else r = i. 
If 
z = y 
then apply 
tk+ 3 := tk+ 3 + 1 (etc) if 
r # 0 and halt. 
If 
z ~ y 
(so 
z <y in fact) 
set 
tk+ 2 := tk+ 2 + l(etc). 
Then if 

326 
r # 0 
set 
tk+ I := tk+ I + i (etc) and 
r = 0 
and run 
M on the input 
<z+l, u> 
ioe. 
with 
x 0 replaced everywhere by 
tk+ 2. 
If at the end 
of this computation we have 
t k = 0 put 
r = 0 
if 
t k + tk+l, r = i 
if 
t k = tk+ I 
(i.eo by setting 
t_l := t_l + i, (etc) and 
r = t_l)- 
Clearly this can be written out as a suitable program and the accepted 
class for 
M' is 
Bo 
The proofs that 
SRM Space (~, p2 ) is closed under 
negation, conjunction and bounded quantification are similar. 
It remains to show that 
SRM 
Space (I, p2 ) ! C 2 A 0" 
The method of 
proof is due to Bel'tyukov 
[2]. 
Let 
M 
be an SRM running in this 
space and halting on all inputs. 
Let 
M 
have stack registers 
to, t I ..... t k (bounded by 
p~ (max(x))), input registers 
x 0 ..... x m 
and program 
LI,L 2 ..... Lp. 
Let 
I i 
be the instruction amongst 
LI,L 2 .... ,Lp(if any) which starts 
t i := t i + I & Vj < i, tj := 0. 
For convenience we make some unimportant assumptions about 
M, namely 
that 
L I = I 0 
and that at the end of the computation the answer 
0 
(accept) or 
i (reject) appears in 
r 
rather than 
t k- 
Then for 
0 ~ i,q ~ k 
we can find 
~iq(~, x, r) e A 0 
and 
A 0 
functions 
Fiq(~ , ~, r) (i.e. having 
&0 
graph and value bounded by a polynomial) 
such that if in any computation of 
M 
the stacks contain 
~, ~, r 
and 
we have just applied instruction 
I i 
then 
0iq(t, x, r) ~> [the next instruction of the form 
Ip 
to be execut- 
ed is 
I ] or 
[q = k+l and we will halt without 
q 
applying another instruction of the form 
Ip]. 
9iq(~, 
Fiq(~, 
Furthermore if 
~, r) then 
x, r) is the value of 
r 
when we are just about to execute 
I 
or halt if 
q = k+l. 
That such 
q 
eiq'S exist follows from the fact that no computation of 
M 
can go on 
for more than, say, 
p(m + k + 3) 
moves without applying an instruction 
of the form I i, 
otherwise it would contain a loop. 
So 
M 
is equivalent to a machine 
K 
whose instructions are:- 

327 
(i)q (q-<k) 
In state 
L 
if 
~q(t,x,r) set 
r:= Gq(~,x,r), tq := tq + i, 
tj 
:= 0 for 
j <q 
and return 
to 
L. 
(ii) 
In state 
L 
if 
~k+l(t,x,r) set r := Gk+l(~, x, r) and halt, where 
~q =V 
(0iq(~, ~, r) A t i + 0 A A 
t. = 0) V (q = 0 Ar = 0 ^A tj = 0) 
i 
j<i 
J 
j 
and 
Gq(~,x, r) = z <=~ ~/ (0 
i 
~ 
Fiq(~,~, 
iq(t,x, r) ^ t i ~ 0 A A 
t. = 0 A 
r) = z) 
j<i 
J 
v(q = 0A At. = OAr 
= 
0Am 
= 
0). 
j 
J 
The idea now is to find a machine 
K' 
equivalent to 
K 
with one less 
' G' c C2A 0. 
Repeating this process until we 
instruction and with 
~q, 
q 
are left with just the final "halt" instruction gives the answer. 
We shall remove the loop corresponding to 
(i) 0. 
Let 
t = tl,t2,...,t k 
and consider a computation of 
K 
starting with 
0, t, x, r and in state 
L. 
It will continue to execute (i)0, producing 
r0, rl, r 2 .... until we 
arrive at a value 
s O of t o 
such that 
~0(s0, 
t, ~,r). 
Now if we 
knew 
So, rs0 beforehand we could bypass (i) 0 by replacing t o and r by 
s o and rs0 in the remaining instructions of 
K. (Notice that whenever 
we apply (i)q 
for 
0 <q<-k 
we reset 
t o to 0). 
Since 
r s 
can only take values 
0, 1 we can define 
r s 
by 
r s = 0 ~=~ ~b < s [b is maximal such that 
G0(b, t, x, 0) G0(b, t, x, I) 
.x 
and either 
(G0(b, t, x, 0) = 0 AC2x < s(b <XA G0(X , t, X, 0) = i)) 
or 
(G0(b, t, x, 0) = IA -~ C2x< s(b <xAG0(x, 
t, x, 0) = I))] 
or [no such 
b 
exists and either 
(r = 0 A C2x< s, G0(x , t, x, 0) = I) 
or(r = IA--, C2x< s, G0(x , ~, x, 0) = I)]. 
Hence 
d 
J 
s o = least s <P2(max(x)) such that 
-~ C0(s , t, x, r s) 
and K is equivalent to 
K' with instructions :- 

328 
(i)~ (! ~q ~k) 
In state 
L 
if 
~q(S0, ~, x, rs0) 
set 
r := Gq(S0, t 
~ 
rs0 
+ I 
t. := 0 for 0 <j <q 
, x, 
), tq := tq 
, 
J 
and return to L o 
D 
(ii)' 
In state 
L 
if ~k+l(S0, t, ~, rs~ set 
r := Gk+l(s0,t,~,rs0 ) 
and halto 
The theorem now follows, 
The fact that 
SRM Space (2, p2 ) = SRM Space (3, p2 ) is rather surpris- 
ing and suggests that perhaps the same result holds for 
I and 
2 , i.e. 
that if you can count mod 2 then you can count mod 3. 
Of course a 
natural conjecture at this stage is 
Conjecture. 
SRM Space ~, p2 ) = C(k+l)~A~ 
For other investigations along these lines see Hicks 
[5] and a forth- 
coming paper by Handley-Paris-Wilkie. 
By directly applying the last theorem we can obtain a further charac- 
terization of 
C 2 A~ 
due to Gandy (by a different proof). 
THEOREM II. [Gandy, unpublished.] 
Let 
G be the class of functions 
formed from the characteristic functions of the graphs of +,~ by subs- 
titution and (bounded) primitive recursiono 
Then 
G 
is precisely the 
characteristic 
of the sets in 
C~ 
0 
functions 
SECTION 
4. 
In situations such as we have with these counting 
problems a currently popular reaction is to prove some oracle indepen- 
dence results, thus confirming (what we already knew~) 
that these 
problems are not entirely trivial. 
In this section we give some such 
results. 
versions of A~ 
are formed in the obvious way. 
Namely 
The relativized 
add to 
LA 
a new unary relation symbol X, 
define bounded formulae, 
A0(X), 
of 
LA(X) 
as before and for 
A, B ~ 
say that 
B eA~ 
iff 
there is some 
#(x, X) c&0(X ) such that 
B = {~c~ l~(n, A)}. 
Notice that by induction on the length of 
~(x,X) we can show that there 
is 
m~ ~ 
such that if n > i 
and 
nm~ 
m 
A n 
= 
D n n ~ then 
{~n 
]~(~, A)} = 
{~n 
I ~(~, D)}. 

329 
Our first theorem is very straightforward. 
THEOREM 
12. 
@A _c IN 
such that 
A0 
A 
is closed under Counting. 
PROOF. 
Suppose that 
An p 
has so far been defined and 
A-p is complete- 
ly unspecified. 
If 
p 
has the form 
m 
<n, n 4, 
F~(x0, ~, X) ~ , ~, k> 
for some 
~_<n 
and 
~(x0, ~, X) ¢ A0(X ) set 
peA 
~=> [{x <n I ~(x, a, Anp}[ 
= k. 
Otherwise put 
p e' A. 
The result follows by the above remark. 
Whilst this tells us that any proof that 
n 0 
is not closed under count- 
ing cannot relativize it really gives no new insights. 
Our next result 
however seems more promising. 
THEOREM 
13 (*) @A c IN such that A A 
• 
-- 
0 
is not closed under counting 
rood 2. 
PROOF. 
The proof is an easy application of a very beautiful theorem 
due to Ajtai [i] characterizing sets of the form 
{A ! n I ~(n, A)} 
for 
~(x, X) e A0(X) o [Actually Ajtai's result is much more general than 
the special case we shall need. ] First we introduce some notation, 
Let 
be the language of arithmetic but with 
+,. treated as 
3-ary 
relations and for 
n¢ IN let 
n 
be the obvious structure for L with 
domain n. 
It is straightforward to show that for any 
~(x,X)¢ A0(X) 
there is a formula 
~(x) e L (X) 
such that whenever 
'A ~ n, ne IN, 
~(n, A)<----->< n, A> ~ ~(A). 
This result, for 
L, is proved in [7]° 
Since we assume 
A-n = ~ the 
result for 
L (X) 
is a simple generalization 
-~n 
For 
f£ n2 
let 
Xf = {m Im <n^f(m) c= 0}. 
Let 
2 = {f If 
maps a 
subset of 
n 
into 
2} 
and for 
fe -~n2 
let 
f = {he n2I h = f}.(This 
notation will only be used when 
n 
is implicit.) 
Then the version of 
Ajtai's Theorem which we need is • - 
THEOREM 14. 
[Ajtai, [i].] 
Let 
e >0 
and 
~(X)¢ L (X) . Then 
for all 
n 
eventually 
~S c T c in 2 
such that 
(*) 
There is a striking resamblance between this theorem and results 
of [12] which were unknown to the authors at the moment of writing this paper. 

330 
(i) 
{f I f E T} 
form a partition of 
n2, 
l-e 
(ii) 
f cT ~ 
I dom(f) l 
= n - n 
, 
l-e 
(iii) 
l{h en21 <n, Xh> ~ 6(Xh) }& Uf I -< 2 n-n 
fcs 
Here A stands for symmetric difference. 
The result says then that 
{h E n21 <n, Xh> ~ 8(Xh) } 
can be approximated very closely by the 
simple set 
U f. 
To see just how good this approximation is divided 
f E S 
both sides of 
(iii) 
by 2 n. 
This shows that the probability that 
h En2 
chosen at random is in one of {h en2I <n, Xh> ~ 
0(Xh)} , ~ 
~ 
fcS 
but not in the other is at most 
I/2nl-e 
As a simple corollary to this we have. 
THEOREM 15. 
Let 
g et2, 
0(X) E L(X). 
Then for all 
n 
eventual- 
cn 
ly we can find 
qe - 2 
such that 
q ~ g, Idom(q) l ~ n -vr-n+2 t+l and 
either 
or 
_~ {h on21 <n, Xh> p 0(Xh)} 
_c {h E n21 <n, Xh> p ~ e (Xh)}. 
PROOF. 
Let 
n 
be large and let 
T 
etc be as in theorem with ~ = !~ . 
Let 
H = {f cr I f ng ~ ~} 
and suppose that whenever 
f EH, 
Ifn{hcn21 
<n, Xh> 
~ 8(Xh)}l, 
If n{h En21<n, Xh> ~ ~O(Xh)}l >2t. 
Then 
2 n-vr~ > I{h En2] 
But 
U f ng 
= U 
(fug) 
feH 
fcH 
IHl 
<n,Xh> F0(Xh)}A U fl > 2t. IHl . 
fcs 
= 
g 
so by counting elements, 
• 
2 
>-Igl 
= 
2n-t 
which gives a contradiction. 
So, without loss of generality we can 
find 
f E H 
such that 
If n{h En21 <n, Xh> ~ e(Xh)}l~ 2 t 
c n 
and 
f ug E-- 
2, I dom(f u g) I -< n - v~ + t. 
cn 
Hence, since n 
is large we can find 
q ~- 2 
such that 
q ~_ f u g, 
Idom(q) l -< n - ¢~ + t + 2 t<_ n - v~ + 2 t+l 
and 

331 
n {h ~n21 <n, Xh> ~ 0(X h)} = 
as required. 
PROOF OF THEOREM 13. 
We construct 
A 
in stages. 
Suppose we have 
found 
A n t 
and 
~(x,X) c A0(X) and we wish to arrange that 
{nI~(n,A)} ~ {n I IAnnl = 0 mod 2} = A (2) 
Fix 
n 
large. 
We arrange that 
-~ @(n,A) 
<=~ 
n ~ A (2) 
We shall set 
A n In, n m~) = ~ 
so that by earlier remarks it will be 
enough to find 
A n [t,n) to satisfy 
~, 
A (2) 
<n 
Ann> 
~ -~(Ann) 
~=> 
n~ 
cn 
By Theorem 15 we can find 
q~- 
2 
such that 
q F t ~ t2,1dom(q) I <n, 
Xq ~t = An t 
and 
either 
q ! {h~ n2 I <n, Xh> ~ ~(X h)} 
or 
~ ~ {h ~ n21 <~, Xh> = ~ ~(Xh)}. 
Without loss of generality assume the former. 
Then since 
Idom(q) I<n 
we can find 
hc n2 
such that 
h ~ q 
and 
IXhl 
is odd. 
Set 
An n = X h. 
Then 
n c' A (2) whilst 
<n, Ann> 
~ ~(Ann). 
0 
In view of our present inability to count even sets with fairly few 
elements it would be nice if we could arrange 
IAI 
here to be very 
small. 
However Ajtai's 
Theorem does not seem to give this. 
Another 
similar open problem is whether or not we can find 
A 
such that 
A 
is closed under counting mod 2 but not, say, closed under counting. 
Unlike some oracle results this one gives rather more than just that 
any proof that 
A~ 
is closed under counting mod 2 will not relativize. 
For example an obvious way to attempt to prove that whenever 
0(x) e A 0 
then 
{x I e(x) }(2)cA 0 
would be by induction on the complexity of 
e. 
But the Theorem puts a 
block on doing this in most natural ways. 
For example with 
A 
as in 
the theorem if 

332 
A I = {2n I nElq}, 
A 2 = {2hi nc A} u {2n + II n c' A} 
then we do have 
A (2) 
A~2) ~A 
but we do not have (AInA2)(2)eAA 
' 
0" 
In [I] Ajtai also uses his Theorem 14 to show that distinguishing 
between sets of odd or even size is difficult. 
Precisely:- 
THEOREM 18.[Ajtai, [i].] 
Let 
K 
be a countable non-standard model 
of Peano Arithmetic, 
a e K, 
a non-standard. 
Then 
@P, Q c a, P, Q 
coded in 
K 
such that in 
K, 
IPI 
is even, 
IQI 
is odd and 
<a, P> 
<a, Q>. 
THEOREM 19.[Ajtai, [I] .] 
Let 
K 
be a countable non-standard model 
k 
of Peano Arithmetic, 
a ~ K, a non-standard and 
R c a 
coded in K. 
2 
Then 
~P ! a , P coded in K 
such that for all 
i<a, 
l{jl<i, j> ~ P}J 
.. 
_ 
, 
AI, 
A' 
is even and for all 
AI, 
., A m c a coded in 
K @R' 
Q, 
' "''' m 
coded 
in 
K 
such that 
and for some 
i < a, 
<a, R, P, AI,. 
,Am> ~ <a, R' 
Q, A' 
..,A~> 
I{jJ<i, j> c Q}I 
is odd. 
We now turn to look at oracle versions of the PHP. 
PROBLEM. 
Let 
F 
be a new unary function symbol. 
Then is 
I&0(F) + ~x, F : x i~-->x-I consistent? 
lit does not matter if we allow 
F 
to appear in the bounds on the 
quantifiers 
in 
140 (F) 
since we can always replace 
F 
by the identity 
above 
"x".] 
At present we know of no full solution to this problem although there 
are several partial results. 
Firstly Woods has shown:- 
THEOREM 20. 
[Woods, [Ii].] 
Let 
Def(G, F) be the axiom 
G(x,y) + I 
if 
F(x) ~y 
, 
]. 
Yx,y [G(0 
y) = 0 ^G(x+I, y) 
= 
G(x, y) 
otherwise 
Then IA0(G , F) + Def(G, F) ~ ~ ~x, F : x ~e-->x-l. 
D 
Notice that Theorem 2 is a special case of this. 
Our next result shows that we can give a positive answer to our problem 
for the fragment 
I ~l(f). 
THEOREM 21. 
I @I(F) + Ix, F : x le--> x-i 
is consistent, where 
I ~I(F) 
is the induction schema for formulae of 
LA(F) of the form 

333 
~x I ~x 2 ..... @Xn0, 
6 quantifier free. 
PROOF. 
Let 
K 
be a countable 
non-standard model of Peano's axioms, 
c K 
and ~ non-standard. 
We produce 
F : ~+I i~-->~ by a simple forcing 
argument. 
Forcing conditions are finite sets of the form 
F(Xl) = YI' F(x2) = Y2 ..... F(Xn) = Yn' 
with 
~-<~, ~ <e and 
F I-I. 
For ~ a forcing condition and 
~(x) a 
formula from 
LA(F) 
and 
~ ~ M, 
is defined in the obvious way, e.g. 
~[~ F(a) = b 
~=~ 
(f(a) = b) e O, 
~]I- % ~=> 
M ~ k 
for % not involving 
F, etc. 
Now suppose that 
k(x) 
~ 
~ 
= ~ye(x,y)~ @I(F) 
Then there is a fixed 
n clq, 
dependent only on 0 such that for any condition a and 
b c M either 
If- ~ k(b) 
or 
~T Z o, 
TI~ %(b) 
and IT - o[ _<n. 
To see this notice 
that to decide 
6(x, Yl ..... ym ) we only need to know the values of 
F i 
Fi(yl ) 
Fi(ym ) 
Fi(el ) 
Fi(ek ) 
(x) .
.
.
.
.
.
.
.
.
.
.
.
 
for 
i-< j, 
some fixed J, 
where 
e I .... ,e k 
are the constants appearing in 0. 
Suppose there are 
n 
such values. 
Then either 
oil- -~ l(b) 
or 
@v ~_ ~, 
911-6(b,a~ for 
some a. Hence we can pick T =_ o such that T specifies ~(b), ~(al) 
~(~ 
~(el) 
Fi(ek ) 
for 
i-< j 
and is compatibile 
with ~. 
This is possible since 
is non-standard and a is finite. 
Then 
r u ~II- 9(b,2) so since T 
decides 
0(b,a), T II-O(b,a) 
and hence T I~ k(b). 
We can now pick a complete sequence of forcing conditions to ensure 
that 
<K, F> ~ 
I~I(F) + F : e+l i~-->~. For it is enough to force 
that every non-empty 
~I(F) 
set has a least element. 
So suppose we 
have a forcing condition o and a If- ~(b) 
for k ~ ~I(F). 
Then for 
n 
as above 
{a_<b ]~ forcing condition T ~ o,IT - o I _<n & T ]~ k(a)} 
is definable in 
K 
and hence has a least element, 
e say. 
Let 
T 20. 
T I~ %(e). 
Then by the above remarks 
o I~ -, k(a) for all 
a < e 
so • forces that e 

334 
is the least element satisfying 
X(x) 
in 
<K,F>. 
D 
Along similar lines we have 
THEOREM 22. 
[Goad, [4].] 
Let 
L 0 
be the language with just < and 
(successor) and let 
T O 
be the 
L 0 theory of ~. 
Then 
T O + full induction for 
L0(F) + ~x, F : x' l~->x 
is consistent. 
D 
Goad proves this by a quantifier elimination argument. 
His argument can 
be somewhat simplified by working with models as follows. 
Let 
J 
be 
a countable non-standard model of Peano Arithmetic, 
let ~j 
be the 
"integers" of 
J 
and 
let 
K 
be the structure for 
L 0 
with domain 
J + ~j, in that order. 
Then 
K ~ T O . Let 
dcZj 
and 
n c J, n non- 
standard. 
Define 
F : K ÷ K 
by 
{ 
x+~ 
if 
xcJ, 
F(x)= 
x + G - i 
if 
J<x<d, 
x - d 
if 
d~x<d 
+ D, 
x 
if 
d + n ~ x, 
so 
F : d + n ~--> d + ~ - i. 
Also <K,F> satisfies full induction for,if 
not, since 
<K,F> 
is definable in 
J, 
J must be definable in 
<K, F> 
from parameters. 
But we can now construct an isomorphism a of 
<K,F>whic~ 
fixes these parameters but does not fix 
J, 
hence giving the required 
contradiction. 
SECTION 
5. 
In this short final section we indicate how our previous 
results might be improved by making various assumptions about 
A~ 
and 
IA 0. 
It must be admitted however that in all cases except for Theorem 26 
the general opinion is that the assumption is false. 
Recall that we know that Lin.Space is closed under counting and so of 
course is 
A~ 
if 
A~ = Lin.Space. 
By directly amending this proof 
we obtain, for 
f : ~ ÷ ~, 
Spaee(f(n)) 
and let 
Ae A 0 
A c ~2 
THEOREM 23. 
Assume that A 0 Z 
' 
- 
and such that for all n c~, 
A n = {m I <n,m> cA} ! 2f(l°g(n)) 
Then {<n,k> I k = 1Anl}~A ~ 
D 

3~ 
The assumption here concerns the amount of computational space available 
in A~. 
Assumptions about available time also yield more counting. 
let 
f : ~ + ~ 
have A~ 
graph, 
f strictly increasing and 
Precisely 
f(n) e n l°g(n) for all n. 
Define 
A~(f) 
as for &~ 
but with the new 
function 
f 
added to 
+, 
(allowing 
f 
to appear in the bounding terms 
in the quantifier). 
In [8] an equivalence between the assumption 
A~(f) = 
A 0 
and the computational time available in A~ is proved. 
24. 
Assume 
A~ = A~(f) 
and let 
A~A~, 
A ! ~2 
THEOREM 
and such 
that for all 
n ~, 
IAnl = l{m Im<n & <n, m> ~A} I ~log(fJ(n)). 
Then 
{<n, k>Ik = I Anl}4 A~. 
0 
This theorem follows easily from Theorem 
6. 
Turning now to the status of the 
AoPHP 
we mention the following result. 
THEOREM 25. 
Assume that 
IA 0 + Vx, x l°g(x) exists 
~ 
Matijasevic-Rovinson-Davis-Putnam Thm. 
Then 
IA 0 + Vx, x l°g(x) exists 
+ Con(IA 0) ~ AoPHP. 
0 
A proof of a rather more general result will appear in [i0]. 
The assump- 
tion 
Con(IA 0) can be weakened but our proof still needs some consistency. 
It would indeed be surprising however if there really was a formal connec- 
tion between the consistency of 
IA 0 and the 
AoPHP, 
For our next result we show that the problem of section 4 on the relativiz- 
ed 
AoPHP 
has an affirmative answer assuming the Cook-Reckhov conjecture 
viz. 
Vk @n 
such that every proof in the propositional calculus of 
A 
V 
~ 
V 
V 
(Pij ^ P 
) 
i~n 
j<n Pij 
i<e~n 
j<n 
ej 
uses more than 
n k 
symbols. 
THEOREM 
26. 
is consistent. 
PROOF. 
Assuming the Cook-Reckhov Conjecture, 
IA0(F) + @x, 
F : x le-->x-I 
Let 
K 
be a countable proper elementary extension of ~. 
Pick 

336 
non-standard 
c, b e K 
such that, in 
K, every proof of 
A 
V 
+ V 
V 
(Pij ^ Pej ) 
i~c 
j<c Pij 
i<e~c 
j<c 
uses at least 
c b 
symbols. 
For 
8(x) 
a formula from 
L(R), 
where 
R 
is a new binary relation 
symbol, and 
~ ~ c 
we define a formula 
8(a)* of the propositional 
calculus as follows. 
8- 
e 
R(a I, a 2) 
Pal,a 2 
a I + a 2 = a 3 
s 
al,a2,a 3 
a I 
a 2 = a 3 
t al,a2,a 3 
a I = a 2 
e 
al,a 2 
el A e 2 
8* ^ e* 
1 
1 
me I 
~e* 
1 
~x8 (x) 
V 
@ (a)* 
asc 
Vxe(x) 
A 
e(a)* etc. 
asc 
Not let 
T O 
consist of 
1 
new propositional 
variables 
A 
V 
^ 
A 
A 
~ (PijA Pej)... 
t 
i-<c j<c Pij 
i<e~c 
j<c 
together with 
{e* le is an atomic or negation of atomic sentence of L and 
e+l p e}. 
Then there is still no proof of an inconsistency from 
T O 
using less 
b 
than 
c 
symbols. 
Now we can form increasing sets of sentences 
T O ! T I ! T 2 ~ "-- 
such that each 
T n is coded in 
K 
and 
(i) 
There is no proof of an inconsistency (in K) from T n using 
less than 
c b/2n symbols. 
(ii) 
For every formula 
@(x) 
of 
L(R) 
and 
a-< c 
there is an 
a 
n ¢I~ 
such that 
@(a)* ¢ T n 
or 
-~ 0( )* c T n. 

337 
(iii) 
Whenever 
V 
e(a)* ~ T 
then 
n 
a~c 
e(d)*^ A 
~ 0(a)*~ T . 
a<d 
m 
Define 
R c (c+l) x (c+l) by 
R(al,a 2) 
~=> 
e U 
T . 
Pal,a 2 
n 
nc~ 
@n <m~ 
and 
d~ c 
such that 
Then it is easy to see that 
<c~+l, 
R> > 
Induction + {6 I e*e 
U 
rn}- 
n~ 
Define for 
a~ c, 
F(a) = the least 
d 
such that 
R(a,d). 
Then because 
the formula ~ is in 
TO, 
F : c+l ~--+c, and 
(as in [7]), 
<c 
, F> > IA0(F) + F : c+l~-->c 
where 
c ~ 
denotes the substructure of 
K 
with universe 
{d I d <c i 
some 
i ~}. 
D 
We now develop a rather surprising connection between the A0-PHP and 
AoH, that is the collapse of the 
A 0 
hierarchy [see[8].] 
First we 
prove a rather special result which we later generalise. 
THEOREM 27. Assume that 
F c A~, 
~ < a, ~ and that 
F :a ~ I~--> a. 
Assume also that the only parameters appearing in this 
A 0 
definition 
of F are 
a ~, 
a. 
Then for each 
r c~ 
there is a 
A 0 
formula 
6(x,y,z) with all quantifiers restricted to 
x 
such that 
{b <a~IM ~ e(a v, b, a)} is not equal to any set of the form 
v 
~ 
aV 
~r 
av 
~ 
~r 
{b <a ~ M ~ ~xl<a 
Vx 2 < 
... 
Q 
< 
[g(x I ...... 
b, a) = 
= 
h(~l ..... ~r' b, a)]} 
with 
g, h 
polynomials over ~. 
PROOF. 
It is shown in 
[7] that any set of this form can be written as 
S 
*... {b <a ~IM ~ @~0 < a~ V~I < a~ 
"'" Q~r < av 
A 
z 
• z 
+ z 
= z 
m=l 
ml 
m2 
m3 
m4 
's 
are from 
{~0' ~I 
,x r ,i 
a, b, 0} 
where 
the 
z m 
,... 
, 
. 
The idea now is to replace 
a ~ 
by 
a 
and 
z I - z 2 + z 3 = z 4 
by F-l(zl ). 
F-l(z2 ) + F-l(z 3) = F-l(z 4) 
etc. 
Precisely we can write the formula 

338 
ark 
vk 
vk 
in * as ~Y0 < 
VYl <a 
°'" QYr <a 
[such that for all 
<PI' P2' P3' P4 > e T, 
x I. x 2 + x 3 = x 4] 
where for 
I ~i~4, 
l 
yq(n) 
0 
if 
Pi = <r+l, 0> 
I 
if 
Pi = <r+l, I> 
a 
if 
Pi = <r+l, 2> 
b 
otherwise 
if 
Pi = <q' n> & q ~r, n<k 
for suitable 
k 
and finite 
T c ~4. 
So using 
F 
this can be written as 
~Y0 < ak, 
y~k ! Rg(F) 
YYl < ak 
y~k c Rg(F) 
[such that for all 
<PI' P2' P3' P4 > ~ TEal, 
a2' ~3' a4 <a 
al " a2 + a3 = ~4 ] where for 
i ~ i ~4 
QYr < ak 'Yr"k _c Rg(F) 
such that 
F(ai) = 
yq(n) 
if 
Pi = <q' n> & q ~r, 
0 
if 
Pi = <r+l, 0> 
i 
if 
Pi = <r+l, I> 
F(a) 
if 
Pi = <r+l, 2> 
F(b) 
otherwise 
n<k 
and hence 
as 
F(a v, a, b, <k,T>) 
where 
k, Te~. 
r is A 0, 
and all 
quantifiers in F are restricted to 
a v. 
Furthermore the formula 
F only 
depends on 
r. 
It follows that 
{b <a~IM ~ ~ F(a ~, a, b, b)} 
is not 
of the form given in the theorem. 
D 
COROLLARY 
28. 
Suppose that 
a v 
M 
M some 
v >~, 
F c A o 
and 
a 2 
F: 
|~-->a. Then 
M ~AoH. 
PROOF. 
By 
M ~ A0H 
we mean that there is no fixed 
r ~ 
such that 
M 
every 
A 0 
set 
(without parameters) 
is of the form 
{b c M IN ~ ~x I <b 
V~2<D ... 
Qx r <b, 
g(~l ..... x r,b) = h(~ I ..... x r,b)} 
with 
g, h polynomials over 
~. 
To show this it is enough to show that 
the hypotheses of 
Theorem 
27 
hold since if any 
A~ 
set can be 
written in the above form then, 
with the notation of Theorem 27, the set 

339 
{a ~ 
a 
b>[b <a ~ & M ~ e(a ~, b 
a)} 
this set could be written in that form and hence (for a possibly larger, 
but fixed, value of 
r) in the form disallowed by Theorem 27. 
So let 
c 
be the parameter, if any, appearing in the 
A 0 
definition of 
F. 
We 
may assume 
c <a ~ 
and ~ = 26 . 
~ 
a2i) 
Now define 
F : M + M 
by 
F(~ e i. 
= 
E F(ei)a i 
where 
e i <a 2, 
i 
i 
28 
~6 
28 
and define 
F : a 
,e--> a by 
F(z) = 
(z). 
F 
has parameters 
a 
, 
a, c but 
c 6can now be removed by replacing i~6by the least 
d 
such 
that 0(z, a 2 , a, d) defines a i-i map from 
= 
into 
a 
where 
28 
e(z, a 
, a, c) defines 
Fo 
REFERENCES 
[ i] 
Ajtai, M. 
[ 2] 
Bel'tyukov,A. 
[ 33 
[ 4] 
i 
E1-for~mlae on finite structures 
. Annals of 
Pure and Applied Logic, 24(1),(1983). 
A computer description and 
a 
hierarchy of initial 
Grzegorczyk classes. 
Zap.Navcu.Sem. Leningrad Otdel 
Mat. Inst.Steklov (LOMI) 88, (1979). 
Gaifman, H. & 
Fragments of Peano's Arithmetic and the MRDP theorem, 
Dimitracopou- 
Logic and Algorithmic 
Monographie N ~ 30 de L'Enseig- 
los, C. 
nementMathematique 
Goad, C. 
Duplicated Notes on the pigeon hole principle. 
[ 5] 
Hicks, J. 
[ 6] 
Nepo=mjascii, 
V. 
[ 7] 
Paris, J. & 
A machine characterization of quantification and 
primitive recursion with applications to low level 
complexity classes. 
Ph.D. Thesis, Oxford University 
(Submitted 1983). 
Rudimentary predicates and Turing calculations. 
Soviet Math.Dokl. 
ii, N ~ 6 (1970). 
Truth definitions for 
A0 formulae. 
Logic and 
Dimitracopou- 
Algorithmic, Monographie N ~ 30 de L'Enseignement 
los, C. 
Mathematique. 

840 
[ 83 
Paris, J. & 
Wilkie, A. 
[ 93 
Ritchie, R. 
[I0] Wilkie,A. & 
Paris, J. 
[ii] Woods, A. 
[123 
Furst, M., 
Saxe, J.B.& 
Sipser, M. 
A 0 sets and induction. 
Open Days in Model Theory 
and Set Theory, Proceedings of the 1981 Jadwisin 
(Poland) Logic Conference, Ed. Guzicki, Marek, 
Pelc, Rauszer. 
Classes of predictably computable functions. 
TAMS 106 (1963). 
On the schema of induction for bounded arithmetic 
formulas. 
(To appear). 
Some problems in logic and number theory and their 
connections. 
Ph.D. Thesis, Manchester University 
(1981) 
Parity, circuits and the polynomial-time hierarchy. 
IEEE Foundations of Computer Science (22nd Sympo- 
sium). (1981), pp. 260-270. 

DEFINABLE ULTRAFILTERS AND ELEMENTARY END EXTENSIONS 
Ramon Pino* 
and 
Jean-Pierre Ressayre 
Universit~ de Paris VII 
U.E.R. de Math~matiques et Informatique 
Tour 45-44 
5~me ~tage- 2 Place Jussieu 
75251 Paris Cedex 
05, 
France 
The purpose of this paper is to show that if M ~ Ad + V = L. 
The 
existence of 
An-based 
Hn-ultrafilters on 
(onM) k implies the existence 
of MI,M2,...,M k such that 
M ~ n+le M1 ~ n+le M2 ~ n+le 
"'" ~n+le Mk" 
At the end of this paper we will assert without proof that if 
M ~ founda- 
tion schema, 
then the existence of An-based 
~n-ultrafilters on 
(onM) k 
with a pseudonormality property is equivalent to the fact that 
M 
is 
(n, K) - extendible. 
To begin let us recall some definitions and set some notations. 
Ad(non 
standard Admissible Set Theory) is defined by the following axioms and 
schema of axioms : pair, union, extensionality, foundation (axiom), 
&o -separati°n' 
Ao-C°llecti°n and 
(ZlUN l)-foundation (see [B]). 
The classes of 
An,~n,En formula for n>-0, are defined as usual. 
On M denotes the ordinals of the model M. 
Often we write 
On 
instead of 
On M. On k is the cartesian product of On 
k-times. 
The elements of On k 
are denoted 
~ 
i.e. 
~ = (~i,~2 ..... ~k ). 
If ~ is a formula with parameters 
a I .... ,a I we write it 
~(a). 
The notation ~ c M 
means that 
a 
is 
(a I ..... a n ) and every 
a. c M, for 
i c {I .... ,n}. 
The notation 
f(A) _~L 
means that 
f 
is 
(fl ..... fm ) 
, 
m 
,, 
where the fi s are functions whose domains contain 
A 
and g fi(A)c_L~ . 
i=l 
*Current address: 
Universidad Simdn Bolivar 
Departamento de Mater0Nticas y Ciencia de la Compu- 
tacidn 
Apartado 80659 
Caracas 1080A, Venezuela. 

342 
Often we manipulate 
~ 
as if it were a single function. 
M c e M i means that 
M. 
is an end extension of 
M, i.e. 
if 
Mi~ a~b 
l 
and 
b c M 
then 
a eM 
and 
M ~ a ~b. 
M ~n Mi means that 
M i 
is a 
In-elementary extension of 
M, 
i.e. if 
is 
Z n 
and 
~eM 
then 
M ~ ~[~] ~> M i ~ ~[~]. 
M ~ 
M i means that 
M i is a proper 
Zn-elementary end extension of M. 
A class 
X 
is 
A n (Z n or 
~n ) in 
M 
if there exists 
a 
A n (Z n or 
~n ) 
formula # with parameters such that 
X = {a c M : M ~[a]}. 
Often we 
will only write 
X 
is a 
An-class, then the set 
M 
in which 
X is A n 
will be clear from the context. 
A 
~n-ultrafilter over 
On 
is a subset U of 
P(On) which satisfies the 
following conditions: 
(i) 
A~U 
and 
BoO 
~ 
AnBeU 
(ii) 
A~U, 
B~P(On) 
and 
A c B ~ B~U 
(iii) 
AcP(On) and 
A is 
H 
=> AeU or 
On\A~U 
n 
(iv) 
AeU 
~ 
A is unbounded 
(v) 
U 
is 
Hn-Complete 
i.e. if 
X ! M x On is 
~n and VmEa XmeU, 
where 
X m = {~EOn : (m,~)eX} 
and 
aEM, 
then 
n X m E U 
m~a 
M is resolvable if there exists a 
A I function 
f:On ÷ M 
such that 
M ~ Vx ~a xcf(~)). 
M 
has 
A n skolem functions 
iff for every 
k ~ i 
and any An-class 
A ! ~ +I such that 
M ~ Val,Va 2 .... ,Va k @a (a I ..... ak,a)~A 
there exists 
a 
An-function 
f : M k * M such that 
M ~ Val,Va 2 ..... Va k (al, .... ak,f(~)~A 
Now we state a theorem of which our result is a partial generalization: 
THEOREM 
I. 
(Kaufmann, Kranakis) (see [Ka],[Kr]). 
Let 
M 
be a 
countable model of 
Ad + V = L. 
For every integer 
n e 2 
the following 
conditions are equivalent: 
(i) 
There exists M' such that 
M ~ne M' 
(ii) 
M ~ Nn_l-COllection 

~3 
(iii) 
There exists a 
Hn-i ultrafilter over 
On M 
In fact if 
M ~ Ad 
then : 
(a) 
(ii) 
~ 
(i) 
if 
M is countable 
(b) 
(i) 
~ (ii) 
if 
M is resolvable 
(c) (iii) 
~ 
(i) 
if 
M has An_ I Skolem functions 
(d) 
Always 
(i) ~ (iii) 
From now on we will work in a fixed model 
M 
of 
Ad. 
The following two definitions extend the concepts of unbounded and 
~n-ultrafilter. 
DEFINITION 
2. 
Let 
A 
be contained in 
On 2. 
A is unbounded iff 
{~; {~: (~,B)~A} 
is unbounded } is unbounded. 
More generaly, if 
k > 2 
and A c On k, we define inductively 
A is unbounded iff 
{~i : {(~2 ..... ~k):(~l'e2 ..... ~k )eA} 
is unbounded } is unbounded. 
DEFINITION 
3. 
Let U be contained in 
P(onk), 
k e I. 
U is a 
~n-ultrafilter on 
On k iff the following conditions hold: 
i) 
AcU and 
BcU 
~ 
AnBcU 
ii) 
AcU, BeP(On k) and A c B 
~ 
BcU 
iii) 
AEP(On k) and A is 
~ 
=> AcU or 
onk\AcU 
n 
iv) 
AeU ~ 
A is unbounded 
v) 
U is 
~n-COmplete i.e. if 
X i M×0n k is 
~n and Vm~a 
Xm~U, 
where 
Xm = {(~I ..... ~k ) : (m'~l ..... ~k )~X}" 
Then 
n 
XmcU 
m~a 
A ~n-ultrafilter U is 
An-based if for every 
AEU there exists A'eU such 
that 
A' is 
A 
and 
A'cA. 
n 
The following theorem extends the implication 
c) of Theorem I. 
THEOREM 
4. 
Let 
M 
and 
n 
be such that 
M ~ Ad + V = L and 
ne I. 
If there exists a 
An-based 
Hn-ultrafilter on 
On k 
then there exists 
e 
e 
M2 
e 
e 
MI,M 2 ..... M k 
such that 
M ~n+l 
MI ~ n+! 
~n+l ..... ~ n+l Mk 

PROOF. 
We use the following notation : if 
x = (x ! ..... x i) 
A ! On k 
and 
i~{l,...,k-l} 
then we put 
A~ = {(x, xi+ I ..... Xk) : (x,xi+ I ..... Xk) E A} 
~i(A) = {(x I ..... x i) : ( @(xi+ ! ..... Xk))(x I ..... xi,xi+ I ..... Xk)¢A} 
D i = {f : f:On k ÷ M, 
f is 
A n 
and there exists 
AeU such that 
for every x~i(A) 
f is bounded over 
A~ } 
where f is bounded over 
B 
means that there is B such that 
f"(B) ! LB 
We say that 
A 
is a witness for the fact 
f~D. if 
AcU 
A is 
A 
and 
i 
' 
n 
for every 
x c~i(A) 
f is bounded over 
A~. 
We put 
D k = {f : f:On k ÷ M 
and 
f 
is 
A n } 
We define 
M i = 
Di/u 
for 
i~{l ..... k}. 
Recall 
if 
f,gcM i 
then: 
M i ~ f = g ~-> {~On k : M ~ f(~) = g(~)}~U , and 
k 
~ 
M i ~ f~g 
<--> {~On 
: M~ 
f(~)~g6)}~U 
Remark that, if 
i <k 
and 
f:On k ÷ M 
is 
A n to ensure 
f~M i 
it is 
enough to find a witness for 
f~D i. 
Now, we set a series of lemmas that will prove the theorem. 
LEMMA 
5. 
M _c e Mko 
PROOF. 
If 
m~M, 
m is identified with the constant function 
Cm:On k 
~ 
~ 
k 
÷ M 
such that 
Cm(~) = m 
for every 
~eOn . Then 
M ! M I" 
Let 
f 
and 
m 
be such that 
M k ~ fcm, 
where 
meM. 
By definition of 
Mk,{~On 
: M > 
}cU 
Suppose that for every m'em 
{$EOn k : M ~ f(~) = m' } ~U 
i.e. 
f-l(m')~ U. 
Then, by definiton of U, 
onk\f-l(m')EU 
for every 
m'~m, because 
f-l(m') is 
A n . Put 
B m, = onk\f-l(m'), for every m'em. 
By ~n-Completeness 
n Bm'cU , but 
n Bm' = 
m'em 
m'~m 
and 
~U 
because 
is bounded° 
This contradiction shows that 
f-l(m')EU 
for some 
m'cm 
ioe. 
M k ~ f = m'. 

345 
LEMMA 
6. 
M ~ M I 
and M i ~ Mi+ I 
for 
i~{l .... ,k-l} 
PROOF. 
We have seen that 
M ! MIo 
To see that 
M i ~ Mi+ I it suffices 
to take 
feD i 
and show that 
f~Di+ I. 
Let 
f be an element of 
Di, then 
there is a witness 
A 
for 
feD i. 
So, 
f"(A[) 
is bounded for every 
e~i(A) 
and therefore 
f" (A~) is bounded for every y c~i+l(A). 
That 
is A 
is a witness for 
f c Di+ I. 
Let us define 
Pi : Onk ÷ M 
by 
Pi (~) = ~i' ie{l,...,k} 
It is clear 
that 
Pi~Mi 
because 
Pi is bounded over 
(onk)~ 
for each 
x ~i(onk). 
Moreover it is easy to see that for every unbounded 
A c On k and for 
every 
ie{l .... ,k-l} there is x ~i(A) 
such that 
Pi+l 
is unbounded 
over A~ . Thus 
Pi+l ~Mi 
because the elements of U are unbounded. 
That is M i ~ Mi+ I. 
We show that 
Pl ~ Mo 
Let e be an ordinal in M. 
Note that 
k 
= 
k 
{xeon 
: aex I} 
has bounded complement, thus {xcOn 
: ~eXl}~ 0. 
And it is 
clear that 
pl~onMl. 
So, 
M1 ~e{Pl 
for every 
~eon 
and therefore 
Pl ~ M. 
LEMMA 
7. 
M i c e Mi+ 1 
for 
ie{l,...,k-l} 
PROOF° 
Let 
f 
and 
g be such that 
g e M i and Mi+ I ~ feg. 
By defini- 
k 
~ 
tion of Mi+l, 
A = {~eOn 
: M ~ f(e) eg(~)}eU. 
Let 
B 
be a witness for 
geM i. 
Then 
AnB~U 
and AnB witness 
f~M i because 
g is bounded over 
(AnB)~ 
for every 
x c~i(AnB) 
and 
f 
is bounded by 
g. 
LEMMA 
8. 
~o~ lemma for 
(ZnU~ n) formulas holds for each Mi,ie{l ..... k} 
That is for every 
E 
or 
H 
formula 
n 
n 
k 
~ 
M i ~ ~[~] <=-> {~On 
: M ~ ~[f(~)]} ~ U. 
(*) 
Before the proof of lemma 8 we have to remark that 
M ~n-COllection if 
the hypothesis of theorem 4 holds; 
this is so because if there exists 
a 
An-based 
Hn-ultrafilter U on On k 
then there exists a 
~n-ultrafilter 
U' 
on On. 
By induction, since 
M ~ V = L, 
M has A -Skolem functions. 
n 
Then (theorem ic) there exists M' such that 
M ~ e 
M' 
But 
as 
n+l 
" 
' 
M ~ V = L, M is resolvable and therefore (theorem Ib) 
M ~ ~ -collection. 
n 

346 
PROOF OF LEMMA 8. 
By induction on the complexity of ~. 
If ~ is atomic 
the lemma is true by definition of M i, 
Note that if (*) holds for the formulas of some class ~ ! En, then (*) 
holds for the boolean combinations of formulas of F. 
The proof of (*) for Ao-formulas is essentially the same as we give for 
En-formulas assuming (*) for 
En_l-formulas. 
So, we will omit the proof 
of (*) for 
A -formula. 
O 
Assume (*) for 
In_l-formulas. 
Suppose that 
M i ~ 3×~(x,~) where ~ is 
Hn-l" 
Then there exists 
g~M i such that 
M i >~(g,f). 
But, by the above 
remark, 
(*) holds for 
Hn-I formulas because (*) holds for En_l-formulas. 
Then 
{~cOn k : M ~(g(~), 
~(~))}cU, and therefore 
k 
{a~On 
: M ~x~(x,~(~))¢U. 
-~ 
k 
Conversely, 
suppose 
B = {~On 
: M >~×~(x,f(~))}~U. 
There exists A ! B 
such that 
A 
is 
A 
and 
A~U, 
because U is 
A -based. 
n 
n 
Define 
g: On k ÷ M by 
g(~) = y <--> E~EA ^ ~(y,f(a)) A VZ<ey ~ ~(Z, ( ))3 v [~A ^ y = 03. 
g is well define because 
M >An+l-foundation 
(this is a standard fact 
about M, see [P]). 
As 
A 
and 
~ 
are 
A n 
and 
Vz< L y -~ ~(z,~(~)) is 
An, since 
M > Hn-COllection 
(c.f. the remark before this proof), g is 
also 
A n . 
Clearly 
{~EOn k : M >~(g(~), ~(~)}~U and if 
geM i, by induc- 
tive hypothesis, M i >~(g,~), so M i ~3×~(x,~). 
Therefore it remains to prove that 
geM i. 
If 
i = k, g ~M k because 
g 
is 
A n . 
If 
i <k 
we must find a witness for 
geMi. 
Let 
C 
be a witness for 
~cM i. 
Put 
D = AnC. 
D is a witness for 
~eM i. 
So if 
x c~i(D ) 
there exists e such that 
~"(D~x) e e . But 
M ~ En- 
separation because M > Ad + Hn-Collection 
(this fact is standard, see 
. 
~" (l~x) ne 
Thus 
[P] for a proof). 
So 
f"(D~x)nL a 
is a set 
Put 
a = 
Vzea ~y~(y,z). 
So, by 
Hn-Collection 
Vzca 3ycL B ~(y,z) for some B. 
Therefore 
g"(D~x) ! L B 
that is 
D 
is a witness for 
gEM i. 

347 
LEMMA 
9. 
M ~n Mi and Mi ~n Mi+l for every 
i {I ..... k-l}. 
PROOF. 
Let ~ be a In-formula. 
Then, by Lemma 8 
-~ 
k 
M >~(~) ~> {a~On 
: M ~-~(a)} = onkc U ~> M i }=~(a) 
i.e. 
M 4n Mi" 
_l 
Let ~ 
be such that 
fcM i. 
By Lemma 8 (~ is In). 
k 
~ ~ 
M i >~(~) <=> {~eOn 
: M ~%(f(e))}(U<--> Mi+ I ~+(~). 
Joe. 
Mi ~n Mi+l" 
LEMMA I0. 
M ~n+l Mk 
PROOF. 
Let ~ be a 
In+l-formula. 
If M ~[~], then 
M k ~-~[~] because 
M ~n Mk (Lemma 9) and 
In-elementary extensions preserve 
In+l-formulas. 
To show that 
M ~n+l ~ 
it suffices to show that 
Hn+l-formulas satisfi- 
ed in M are satisfied in M k. 
So, let ~ b 
a 
Hn+l-formula, ~ of the 
form V×~y~(x,y,z) 
where ~ is ~n-l" 
Suppose 
M ~ ~(~). 
Define f:M ÷ M 
by 
f(x)=y <--+~(x,y,~) ^ Vz<Ly ~ ~(x,z,a~. 
Note that 
f 
is 
A n because 
M ~Nn-Collection° 
But it is clear that for every 
geMk, 
~ 
k 
M >~(g(~),f(g(~)),a) 
for any 
~eOn . Thus 
{~ : M > P(g(~), fog(~),~)}EU , and 
as 
fog is 
An, we have, by Lemma 8, 
M k ~ ~(g,fog,~) for any 
g~M k. 
So, for any 
geMk, M k > @y P(g,y,~), and 
therefore 
Mk > V ×qy P(x,y,~). 
LEMMA 
ii. 
M !+l Mi 
for every 
ie{l .... ,k-l}. 
PROOF. 
If M i > ~×~(x,f) 
where ~ is 
Nn' 
then M i > ~(h,f) for some h o 
So, by lemma 9, 
M k ~(h,f) 
and hence 
M k > @ ~(x,f). 
So by lemma I0, 
M ~ @ x%(x,f). 
The converse is a consequence of lemma 9. 
LEMMA 
12. 
Mi !+l Mk 
for 
every 
ie{l ..... k} 
PROOF. 
Let ~ be a 
In+ I formula. 
If M i >~[~] 
then M k ~[f] 
because 
Mi ~n Mk (Lemma 9) 
and 
In+l-formulas are preserved by In-elementary 
extensions° 

848 
Conversely, assume 
M k P~[~]. 
Since ~ is En+l, ~ is of the form 
~xV yP(x,y,v), where P is 
In_ I. 
Note that 
M k ~ "V L 
exists" because 
n> 1 
M ~n 
M~, 
~ 
- ' 
+I 
M ~ "V~L~exists" 
and 
"V~Leexists" 
is ~2" 
So, M k > LPk exists. 
M k > 9xVy(eek ~(x,y,~) because 
M k > @xVy~(x,yT). Take 
h<M k such that 
M k >VycLPk~(h,y,~). Since 
Vy~LPk $(h,y,~) is ~n' by the Lemma 8, 
{~eOn k : M > Vy~L k P(h(~),y,f(~))}e[~. It follows that 
k 
B = {~¢On 
: M ~ ~×VycL 
~(x,y,~(~))}~U. 
~k 
Let 
A 
be such that 
A ~_ B, 
A is 
A n 
and 
AcU. 
Define 
g-On k + M by: 
_A 
_A _~ 
g(~) = x <--> (~¢A ^ VycL k~(x,y,~(~)) A VZ<LX-~ Vy~L kT(Z,y,f(~))) 
v (~ dA ^ x = 0) 
g is well defined because 
M > An+l-foundation. 
The formulas 
VycL k~(x,y,~ ) 
and 
VZ<LX -i Vy~L ~(z,y,~) are 
A n 
_~ k 
because 
M ~ Hn-COllection. 
A 
is 
A n 
and 
f 
is 
A n . 
These three 
facts imply that 
g 
is An. 
k 
~ 
~ 
By definition of g, 
{~¢On 
: M > VycL ~(g(~),y,f(~))}¢U. 
_~ k 
Then, by Lemma 8, 
M k > VycLPk~(g,y,f). 
Now , remark that M i £ LPk 
since 
M i ~ V = L, M k ~ V = L (V = L is 
~2' M ~ V = L and 
M ~n+l Mi' M ~n+l Mk and 
n-> I) 
and 
onMi --~ Pk 
(Lemmas 6 and 7). 
Assume 
g ¢ Mi, then for every 
ycM i _c LPk, M k >~(g,y,~) but 
M i ~n Mk' 
so M i >~(g,y,~) for any 
YeMi, that is M i > Vy~(g,y,~) and therefore 
M i ~ ~xVy~(g,y,f). 
It only remains to prove the assumption 
g e M i. 
We have 
M k > @xVy~(x,y,~). 
Take 
h' such that M k ~ Vy ~(h',y,~). Then, by 
Lemma 8, 
k 
~ ~ 
E = {~¢On 
: M ~ Vy P(h'(~),y,f(~))}¢U.. Let 
C I be such that 
C I _c E, 
C I is 
A n 
and CICU. 
Let C 2 be a witness for 
~¢M i 
Put 

349 
D = AnCInC 2. 
D is 
A n and 
DeU. 
We are going to prove that D is a 
witness for 
g ~ M i- 
Take 
xc~i(D). 
As 
D 
is a witness for 
~c M i, there exists B such 
f"(D~x) ! L6 
Recall that 
M > En-separation (see [P]) 
so 
• 
~"'D--" L 
~'(D~..)nLD~ 
~ 
is a set 
Put 
b = m ~ xJn B. 
It is easy to see, by defi- 
nition of D, 
M ~ VZcb ~xVy ~(x,y,Z). 
But now, by 
Hn-COllection, 
M ~ ~TV Zeb @xcLTVY ~(x,y,Z)• 
This last fact implies that 
g 
is bound- 
ed by 
L 
on 
D- . 
T 
x 
Theorem 4 now follows from lemmas 
5,6,7,10 and 12. 
We don't know if the converse of Theorem 4 is true. 
But this question 
has carried us to the equivalence of two concepts that we give immediate- 
ly. 
DEFINITION 14. 
Let U be a 
A -based 
~ -ultrafilter on 
On k 
and 
n 
n 
ke2. 
U is said to be 
(n,k)-pseudonormal 
if for any 
ic{l ..... k-l}, 
for every X such that 
X is 
Hn' 
X ~ On i and 
On k-i × XcU 
and for every 
f:X + M such that 
f 
is 
An, then there exists 
a~M such that 
On k-i x f-l(a)eU 
or 
{(al ..... ak )~O~k : ~k-i < rkof (~k-i+l ..... ak)~U" 
DEFINITION 15. 
Let 
n 
and 
k 
be such that 
ne 1 
and 
k e 2 
M is 
said to be 
(n,k)-extendible 
iff 
there exist 
MI,M 2 .... ,M k 
such that 
the following conditions hold: 
i) 
Md e 
M i 
for every 
ic{l ..... k} 
n+l 
ii) 
Mi ~n Mi+l 
for every 
ic{l ..... k-l} 
1 
iii) 
M i ~ Dn-foundation for every 
ie{l ..... k} 
where 
DI = {4 : ~ has the form 
@xeaO 
with e A -formula 
n 
n 
iv) 
There exists 
~iEonMi 
such that 
onM< 
~l 
• < onMi-l\On 
for every 
i~{2 ..... k}. 
The proof of the following theorem is given in [PJ. 

350 
THEOREM 16. 
If 
M ~ Ad + v = L 
and 
M ~ 
foundation schema then, 
for every n e I 
and 
k e 2, 
M is 
(n,k)-extendible 
iff 
there exists 
a (n,k)-pseudonormal ultrafilter. 
We end with a proposition relating extendibility with collection. 
The 
proof is in [P]. 
PROPOSITION 
17. 
If 
M ~ Ad+ v = L, 
M ~ foundation schema and 
M 
is (n,k)-extendible then 
M > ~n+k-collection. 
REFERENCES 
[B] 
Barwise, Jo 
Admissible sets and structures. 
Springer-Verlag, 
Berlin (1975). 
[Ka] Kaufmann,M. 
On existence of 
E n end extensions, in Logic Year 
1979-1980o 
The University of Connecticut° 
Springer- 
Verlag, LNM, vol. 859 
[Kr] Kranakis,Eo 
Definable ultrafilters and end extensions of construc- 
tible sets. 
Z.Math.Logik Grundlagen Math. 28(1982) 
p. 4. 
[P] 
Pino, R. 
~n-COllection, indicatrices et ultrafiltres d~finissa- 
bles. 
Th~se de 3~me cycle. 
Universit~ Paris VII. 
(1983). 

ON THE AXIOMATIZATION 
OF PRC-FIELDS 
Alexander 
Prestel 
Fakult~t 
fHr Mathematik 
Universit~t 
Konstanz 
7750 Konstanz, West-Germany 
I. Introduction 
In [5] we introduced 
and investigated 
the notion of a PRC-field. 
A 
field 
K 
is called pseudo real closed 
(PRC) if every absolutely 
irreducible 
(affine) variety 
V , defined over 
K , which admits a 
simple point in each real closure 
(K,P) of 
K , has a K-rational 
point. In case the space 
X K 
of orderings 
of 
K 
is empty, this 
notion coincides with that of a pseudo algebraically 
closed 
(PAC) 
field. In case 
X K 
is finite, 
it was shown in [5] that if suffices 
to consider only plane curves in the definition. 
Meanwhile, 
Ershov 
proved this for arbitrary 
x K (cf.[2]) . The aim of this paper is to 
give an alternative 
proof which closely follows that of the finite 
case in [5]. 
Let us point out that , 
following 
the notation of [3], a PRC-field 
K 
should be called regularly 
closed with respeot to 
X K . 
For 
convenience 
we assume for the case 
X K = ~ 
that 
K 
should have 
characteristic 
zero. 
2. The curve condition 
Throughout 
this note we use the basic notations 
and results of [5]. 
We say that a field 
K 
satisfies 
the curve condition 
if in 
K 
the 
following holds: 

352 
(cc) 
For every absolutely 
irreducible 
f(X,Y) 6 K[X,Y] which has a 
simple zero in each real closure 
(K,P) of 
K 
there are 
x,y 6 K 
such that 
f(x,y) = O . 
Clearly, every PRC-field 
satisfies 
(CC). The following 
theorem states 
the converse. 
THEOREM 
Every field 
K 
satisfying 
(CC) is pseudo real closed. 
Before we can prove this theorem in Section 3, we have to draw some 
consequences 
from (CC) : 
(I) Every sum of s~uares 
a 
equals a sum of two squares in 
K . 
This follows immediately 
from (CC) using the absolutely 
irreducible 
polynomial 
(cf.[5], Prop. 1.5) 
X 2 + y2 _ a 
The next consequence deals with the space 
X K 
of orderings 
of 
K . 
Thus let us recall some basic facts about 
X K . A subset 
S c K 
is 
called a preorderin ~ of 
K 
if 
S + S c S, S-S c S, K 2 c S, -I ¢ S . 
(Note that this includes 
0 6 S , contrary to the convention 
in [5].) 
S 
is called an ordering of 
K 
if, in addition, 
S U -S = K . 
Orderings 
are exactly the maximal preorderings 
of 
K . If we set 
a NS b 
if and only if 
b - a 6 S , 
this defines a partial ordering on 
K 
which is linear in case 
S 
an ordering. 
Let us always denote orderings 
by 
P . As it is well- 
known from the work of Artin-Schreier, 
is 
S =~{P 
I S c P } , 

353 
and 
K 
admits a (pre-)ordering 
if and only if 
K 
is formally real 
which means that 
-1 
is not a sum of squares in 
K . Now we consider 
the set 
X K = {P I P 
an ordering of 
K} 
which is called the order space of 
K . It is non-empty 
exactly if 
K 
is fomltally real. The sets 
H(a) = {P 6 XKla £ P} 
with 
a 6 K x form a subbase of a totally disconnected 
and compact 
topology on 
X K , i.e. with respect to this topology 
X K 
is a 
boolean space (cf.[4]). Thus the clopen 
(=closed and open) sets of 
X K 
form a boolean algebra with inclusion as partial ordering. 
Clearly, H(a) 
is a clopen set. Indeed, 
X K ~ H(a) = H(-a). In 
general, the sets 
H(a) 
do not form a boolean algebra with respect 
to the inclusion. 
However, 
they form a boolean algebra if and only if 
the following 
consequence 
of (CC) holds: 
(2) 
For all 
a,b 6 K x there exists 
c 6 K x such that H(a) D H(b) =H(c). 
This follows easily applying 
(CC) to the absolutely 
irreducible 
polynomial 
(see [5],Prop.1.3) 
abX2y 2 + aX 2 + bY 2 - 1 
Therefore, 
in a field 
K 
satisfying 
(CC) the clopen subsets of 
X K 
are exactly the sets 
H(a). In [5], Prop.1.4 
, we used (2) to show 
that a field 
K 
with 
(CC) also satisfies 
(3) 
K 
is dense in every real closure 
(K,P) . 
From 
(3) it follows easily that the orderings 
p 6 X K 
induce 
different 
topologies 
on 
K . Thus the Approximation 
Theorem 
(see [6], 
Theorem 4.1) holds for any finite number of orderings 
P1,...,Pm 
of K. 

354 
But even more can be proved: 
LEMMA 
(Block Approximation) 
Assume 
that 
K 
satisfies 
(CC) and 
X = X I 0...0 X m 
is a partition . 
of 
X 
into cl0pen 
subsets 
X i (11 _< i <_ m). To each pair of sequences 
C K x 
there exists 
x £ K 
such that for all 
x 1,...,x m 6 K, ~1'''''~m 
I _<i<_m: 
2 
P £ X I. 
~ 
Ix-x iIP 
~ ~l 
2 
The last expression 
means 
6 i +(x-xi) 
6 P 
and 
~ 
-(x-x i) 6 P . Hence 
in the i-th 
'block', 
x 
approximates 
x i 
simultaneously 
for all 
orderings 
P 6 X i . In case 
X K 
is finite 
this is just the above 
mentioned 
Approximation 
Theorem. 
The Block Approximation 
was intro- 
duced by Ershov 
[I] as one of the axioms 
for a certain 
class 
of 
fields 
which 
turned 
out to be exactly 
the 'maximal' 
PRC-fields. 
Proof: 
By (2), we may assume 
X i = H(a i) for some 
a i 6 K x. Replacing 
a i 
by 
ai(1+a~) -1 
if necessary, 
we may assume 
that 
la i p K 
1 
for all 
P 6 X i . Now consider 
the polynomial 
m 
2 
f(X,Y) 
= y2 + 
H 
((X-x i) 
- aia 
) . 
i=I 
Since 
a. ~ a. 
mod K 2 
for 
i % j , the polynomial 
l 
3 
m 
2 
i 4 
h(X) = 
H ((X-xi) 
- ai8 
) 
is separable. 
Hence 
f(X,Y) 
is 
i=I 
irreducible. 
Clearly, 
(xj, /~-h(xj) 
) 
is a simple 
zero of 
absolutely 
f 
in a real closure 
(K,P) with 
P 6 X. . Indeed, 
a. 6 P 
and -a. 6 P 
3 
3 
i 
for all 
i • j 
implies 
-h(xj) 
6 P . Now by (CC) there are 
x,y 6 K 
such that 
m 
y 
+ 
((x-x i) 
- a~ 
) = 0 . 
i=I 
Considering 
again 
P 6 X. 
we see 
(as above) 
that 
3 

355 
4 - (x-xj)2 6 P 
aj~j 
~P aj 4 
_<p 4 
and hence 
.x-Xj,p <_ 
2 . 
Thus we obtain (x-xj) 2 
q.e.d. 
Let us make one more 
observation before we come to the proof of the 
theorem: From (CC) we easily obtain the following 'curve condition' 
which states the existence of infinitely many K-rational points on 
certain curves. 
(c) 
For every absolutely irreducible 
f(X,¥) E K[X,Y] , monic in 
Y , 
such that there are 
a,b 
in each real closure (K,P) satisfyin~ 
~f 
f(a,b) = 0 
an__dd ~ 
(a,b) • 0 , and every 
h(X) 6 K[X] ~ {0} 
there are 
x,y E K 
such that 
f(x,y) = 0 
and 
h(x) % 0 . 
Indeed, let 
al,...,a n E ~ 
be all zeros of 
h 
. Choose some 
r 6 
such that 
f(ai,r) • O 
for all 
I < i K n . Now let 
YI = (Y-r)h(X)-1 
and 
fI(X,YI) 6 K[X,Y I] 
be such that 
fl (X'YI) = f(X'YI"h(X) + r) 
Clearly, f 
and 
fl 
have the same function field. Thus 
fl 
is 
absolutely irreducible and has a simple zero in each real closure 
(K,P) 
of 
K . By (CC), fl 
has a zero, say 
x,Y1£ K . 
Now 
x, y = Ylh(X) + r 
is a zero of 
f 
in 
K . From the choice of 
r 
it follows that 
h(x) # 0 
3. Proof of the theorem 
Let 
K 
satisfy 
the curve condition (CC). Assuming that 
V 
is an 
absolutely irreducible K-variety which has a simple point in each 
real closure (K,P) of 
K , we have to show that 
V 
admits a K-rational 
point. Equivalently, we may show that the function field 
L = K(V) 
embeds into 
K s 
over 
K , where 

S56 
(4) 
K ~ is a IKL+-saturated elementary extension of 
K . 
From the assumption on 
V 
we know that (see e.g.[5], Preliminaries) 
(5) 
L/K 
i__{s finitely generated, regular, and totally real. 
An extension 
L/K 
is called totally real, if each ordering of 
K 
extends to some ordering of 
L . Since (CC) can be expressed in the 
first order language of fields (see Theorem 4.1 and its proof in [5]; 
note also that (I) is used here), we also know that 
K ~ satisfies (CC). 
Thus, in particular we have 
(6) 
K ~ is dense in all its real closures, and satisfies (C) and the 
Block Approximation. 
From (4), (5), (6) we now deduce the embeddability of 
L 
into 
K ~ 
over 
K . 
Since L/K 
is regular and finitely generated, we conclude from 
Theorem 3D in [7],Ch.V, that there are generators 
Xl,...,Xn,X,y 
of 
L 
over 
K 
such that 
(i) 
x1,.°.,Xn,X 
are algebraically independent over 
K 
(ii) y 
is algebraic over 
K(Xl,...,Xn,X) 
and there is 
f 6 K(x I .... ,Xn)[X,Y], monic in 
Y , such that 
f(x,y) = 0 
and 
f 
is irreducible over the algebraic closure of K(Xl, .... Xn). 
in 
K* , 
As we will prove below, there exist elements 
x~,...,x n 
algebraically independent over 
K , satisfying the following formula 
~f (~,v,w) 
¢ 
o) 
~(v I ..... Vn) :m Bv,w(f(~,v,w) 
= O ^ ~-~ 
in every real closure (K*,P) of 
K . Then clearly 
f(x~,X,Y) defines 
an absolutely irreducible curve over 
K • which has a suitable simple 
point in each (K~,P). Thus by (6) (i.e. by (C) for K ~) there are 
x',y' 6 K • 
satisfying 
f(x~,x',y') = 0 
and 
h(x') • 0 , where 

357 
h 6 K[x*,X] ~ {O} 
is given. Since 
K[x*,X]' 
has cardinality 
IKt and 
K s is 
JKi+-saturated, 
we even find 
x*,y * 6 K * satisfying 
f(x*,x*,y *) = O 
and 
h(x *) % O 
for all 
h 6 K[x*,X] ~ {O}. Thus 
x~i.., x ~ x ~ 
' n" 
are algebraically 
independent over 
K 
and, by sending 
x 1,...,xn,x,y 
onto 
xi,...,X~n,=V*,y~ resp., the field L gets embedded 
into 
K ~, as contented. 
It remains to find the desired elements 
x~ ..... x~ 
in 
K*. 
Using Elimination 
of Quantifiers, 
over every real closed field 
R 
extending 
K , the formula 
~(v) 
is equivalent 
to some finite 
disjunction 
(pii~) =o ^ A 
qij (~) > o~ 
i 
j 
where the conjunction 
3 
~ 
is also finite and the polynomials 
Pi 
and 
qij 
have coefficients 
in 
K . 
Let 
P 
be any ordering of 
K s, i.e. 
P 6 X ~ = XK. . Let 
Q 
be an 
ordering of 
L 
extending 
P n K (such an ordering exists by (5)). 
Then, depending on 
Q , there exists some 
i 
such that 
(L,Q) ~ (Pi(X) = O ^ A 
qij (~) > O) . 
3 
Since 
Xl,...,x n 
are algebraically 
independent over 
K , Pi(X) = O 
must be trivially true, i.e. the coefficients 
are all equal to zero. 
Thus we may forget about 
Pi 
for a while. From 
(L,Q) ~ 
3v 
A 
qij (v) > 0 
3 
we conclude 
(KS,P) ~ 
Hv 
Since 
K s is dense in 
such that 
A qij (v) > O . 
3 
(K~,P) by (6), we find elements 
% 
of 
K s 

358 
(~'P) ~ 
~ 
qij (ap) > O . 
3 
As 
Pi(ap) = 0 , this implies 
(K~,P) ~ ~(ap) 
By continuity we can find some 
~p 6 K *, ~p # O, satisfying 
2 
(K~,P) ~ 
Vv(Jv-apJ 
_< ~p 
~ 
qij(v) > 0). 
] 
Expressing this formula in quantifier-free form we find polynomials 
s,r 
6 K[X],...,Xn,Z] 
such that 
(K*,P) ~ (S(ap,~p) = O ^ A 
r (ap,~p) > O) 
v 
and, whenever 
(K~,P ') also satisfies this (finite) conjunction, then 
2 
A 
> O) 
(7) 
(K~,P ') ~ Vv(Iv- 
ap i ~ 
~P ~ 
j 
qij (v) 
The set of 
P' £ X * satisfying (7) thus contains the clopen set 
Yp = ~ 
H(rv(ap,~p)). 
Clearly, the sets 
Yp 
cover 
X ~ . Since 
X ~ is compact, a finite 
number of clopen sets 
Yp 
already covers 
X ~. 
Let 
X ~ = X I 0...U X 1 
be a partition of 
X ~ such that each 
X 
is contained in some 
Yp . 
For each 
X 
we thus can find some elements 
a 
and 
~ 
% 0 
in 
K ~ 
and some 
i 
such that (7) holds for all 
P' £ X 
with 
%,~p,i 
replaced by 
a ,~ ,i 
Now we apply the Block Approximation of 
X ~ 
to this situation in 
order to find elements 
a 
of 
K 
such that 
la - a 
Ip, S 2 
for all 
P' 6 X 
Since (7) holds for all 
P' £ X 
, we obtain (K~,P ') # 
A 
(a) 
j 
qij 
for all 
P' 6 X 
. Thus finally we get 
(K~,P) ~ V 
A 
qij ([) > 0 
i 
j 

359 
for all 
P 6 X ~. Since for every 
i 
which was actually used in the 
course of the proof, 
Pi 
was the zero polynomial, we even get 
(K*,P) b 
i 
v (Pi (~) = O ^ 
¢ qij (~) > O). 
Moreover, given a non-zero polynomial 
g 6 K[X I ..... X n] 
we may 
assume that 
g2 
is 
among the 
qij 
for each 
i . Indeed, since 
xl,..°,x n 
are algebraically independent over 
K , clearly 
(L,Q) ~ g2(~) > 0 
holds for all orderings 
Q 
of 
L . By this 
assumption, we also 
find 
g(a) ~0 . Here the choice of the elements 
dependson the choice of 
g 6 K[X]. Using once more the ~Kt +- 
saturatedness of 
K ~, we can even find elements 
x~ in K ~ satisfying 
(K~, P) b V (Pi (x~) = 0 ^ A q 
(x~) > O) 
i 
3 
ij 
and 
g(x~) $ O 
for all non-zero 
g 6 K[X]. Thus the elements 
x~ 
are algebraically independent over 
K 
and satisfy 
(K~,P) ~ ~(x~) 
for all 
P 6 X ~. This finishes the proof of the theorem. 
[i] 
[2] 
[3] 
[4] 
[5] 
[6] 
[7] 
References 
ERSHOV,Yu.L.: Totally real field extensions. Soviet Math.Dokl. 
25,No.2, 477-480 (1982) 
ERSHOV,Yu.L.: Two theorems on regularly r-closed fields. 
J. reine angew. Math. (to appear) 
HEINEMANN,B., PRESTEL,A.: Fields regularly closed with respect 
to finitely 
many valuations and orderings (to appear) 
PRESTEL,A.: Lectures on formally real fields. Monografias de 
Matem~tica, Vol.22.IMPA, Rio de Janeiro 1975 
PRESTEL,A.: Pseudo real closed fields. In: Set theory and model 
theory. Lecture Notes in Math.Vol.872, Berlin-Heidelberg-New York: 
Springer 1981 
PRESTEL,A., ZIEGLER,M.: Model theoretic methods in the theory of 
topological fields. J.reine angew.Math.299/3OO,318-341 (1978) 
SCHMIDT,W.M.: Equations over finite fields. An elementary 
approach. Lecture Notes in Math., Vol. 536, Berlin-Heidelberg- 
New York: Springer 1976 

FORMALIZATIONS OF CERTAIN INTERMEDIATE LOGICS 
Part I 
Cecylia Rauszer 
Uniwersytet Warszawaski - Instytyt ~tematyki 
Palac Kultury i Nauki 
00-901 Warszawa, Polska 
It was Godel who 
first observed the existence of a continuum of 
logics between the intuitionistic predicate logic LI and the classical 
predicate logic LK. 
These logics were named by Umezawa "intermediate 
logics". 
There are many interesting results connected with intermediate logics. 
One of them asserts that only seven propositional intermediate logics 
have the interpolation property. 
This result has been proved by 
Maksimova [7]. 
She showed that the interpolation property is equivalent 
to the amalgamation property and then she proved the existence of seven 
classes of Heyting variaties with the amalgamation property. 
For predicate intermediate logics the problem of the interpolation proper- 
ty was first examined by Gabbay [2]. 
He used the theorem that Craig's 
interpolation lemma is equivalent to a weaker version of Robinson's con- 
sistency theorem to prove Craig's interpolation lemma for the intermedia- 
te logics: LI, LM, LMH, where 
(LM) 
LI + (~u~ 
~ a) 
(LMH) 
LI 
+ 
Vx ~ 
~ 
a(x) 
= 
~ 
~ 
Vxa(x). 
Eight years later in [3] Gabbay extended his model theoretic methods to 
the so-called logic of constant domains 
LD, i.e. for the intermediate 
logic 
(LD) 
LI + V x(a(x)u~) ~ 
(Vxa(x)uB), 
where 
x 
does not appear as a free object variable in 8 and he also prov- 
ed Craig's interpolation lemma for 
LD. 
In 1981 L6pez Escobar 
[4] 
proved Craig's interpolation lemma for LDusing 
proof-theoretic methods, 
The same formalization for 
LD was earlier 
used by Umezawa 
[i03 
to show some syntactical properties of LD. 
It turned out that both papers [33 
and [43 
contain gaps. 
A certain 
Kripke model for an LD theory constructed in 
[33 has no constant 
domains and the Gentzen type formalization of 
[4] 
is not complete. 

361 
It should be emphasized that both authors know about the errors in their 
papers. 
L6pez-Escobar wrote two papers [5], [6] partially connected with 
the Gentzen formalization of 
LD 
and the interpolation property for 
LD. 
Let me cite the following two sentences from the paper Stationary Logic 
by J.Barwise, Mo Kaufmann and M. Makkai: 
"Alan Anderson often argued 
that every reasonable formal system has both a Hilbert-style notion of 
proof and a Gentzen-style notion of proof. 
While this may overstate the 
case a bit, it is certainly true that a Gentzen-style approach, with its 
emphasis on rules, rather than on axioms, lays bare the laws of thought 
inherent in any given logic in a way not done by a Hilbert-style system". 
But if we want to examine the problem of the existence of a cut-free 
Gentzen-style formalization of an intermediate logic 
L 
we should know 
what is to be a cut-free Gentzen-style formalization of L. 
A possible 
definition was given by Ldpez-Escobar in [5] and he proved that in the 
sense of his definition there is no cut-free and complete Gentzen-style 
formalization for LD. 
In the present paper the basic concept of a formal system 
S 
is different 
from the ones that were considered by Ldpez-Escobar in [5] and in [6]. 
Every formal system 
S 
consists of two parts : the first part called 
basic system (BS) is roughly speaking, a modification of the system for 
LI 
given by Sch~tte [8]. 
Intuitionistic logic 
LI 
is complete with 
respect to 
BS 
i.e. 
~LI 
iff ~ has a normal derivation in 
BS, i.e. 
there is a cut-free proof for ~. 
The second part of the defined system 
S 
consists of a certain set of logical rules which are specific for the 
intermediate logic considered. 
For the intermediate logics 
LM 
and 
LMH 
the appropriate formal system 
LS 
is complete, and cut-free. 
As an application of 
LS 
we show, among others, the Craig interpolation 
lemma for 
L, where 
L = LM, 
LMH. 
The cut-free calculus 
BS 
introduced in this paper can be extended to 
a formal system for Dummett's logic 
LC. 
This is done in a separate 
paper. 
§i. 
BASIC SYSTEM. 
We define a formal language with connectives i (falsum), 
u (disjunction), 
n (conjuction), ~(implication), 
~ (existensial quanti- 
fier), 
V (general quantifier). 
Assume we are given countably infinite sets of free and bound object 
variables, sentential variables and predicate symbols of each number of 

362 
arguments 
el. 
By an atomic formula we mean every sentential variable, falsum and if 
p 
is an n-ary predicate symbol 
(n e i) 
and 
a I ..... a n are free object 
variables then 
p(a I ..... a n ) is an atomic formula. 
The set 
FORM 
of formulas is defined as usual. 
Denote by F,A .... 
(with indeees, if necessary) finite (possibly empty) sequences of formulas. 
If 
F = ~I ..... an' & = ~l'''''~m ' ~,B ~ FORM, then for brevity we write 
I) 
r~ 
(Bu(A ~ 
s)) 
and 
F~ 
for 
and 
Sl~ 
(~2----> (... ~ 
(an ~ 
(Bu(B I ~ 
(B 2 ~(...-- 
(Sn~S) ...)))))...))) 
~i ~ 
(s2 ~ 
('''(Sn ~ 
s)...))) 
, respectively. 
If F is empty, then 
F ~ 
(Bu(A ~ 
~)) is the formula 
Bu(A ----> ~), if 
A empty, 
then F ----> (B u(A ~ 
s)) 
is the formula F ~ 
(Bus) 
and if F and 
A 
are empty, then 
F ------> (Bu (A ~ 
~)) 
is the formula of the form (Bus). 
Denote by 
R ~ the set of inference rules listed below: 
(str~) 
F ~ 
(Bu(~(~ 
y))) 
r~ 
(Su(s ~ 
y)) 
(str~) 
(str~) 
(ur B) 
(nl B) 
(ul s) 
(nr B) 
r ~ 
(Suy) ..... 
r ~ 
(Su(s~ y)) 
r ~ 
(~u(A ~ 
(~----~ (~y)))) 
F ~ 
(Bu(A~ Yi)) 
r ~ 
(Bu(A~ 
(YlUY2))) 
r ~ 
(Su(~ i ~ 
y)) 
F -----> (Bu((~ins 2) ~ 
y)) 
r ~ 
(~u(~ I ~y)) 
r ~ 
(~u(~ 2 ---->~)) 
F ----> (Bu((elUS 2) ----> y)) 
F ~ 
(Bu(A ~ 
yl )) 
£ ~ 
(Bu(A ----> y2)) 
F ~ 
(Bu(A ~ 
(YlnY2))) 
i = 1,2 
i = 1,2 

3~3 
(~ i B) 
r~ 
.(.S..u...(A---> ~)) ........... Su.(r,~ y) 
r ~ 
(Su(A ~ 
((~n)~y))) 
r 
~ 
(Su(A=> i)) 
( I r B) 
.................... 
r ~ 
(Su(A~ 
y)) 
( ~r s) 
r ~..(Su(.A 
~ 
~(a))) ....... 
r ~ 
(Su(: 
~ 
-Tx~(x))) 
(V i B) 
r ~ 
(Bu(~(a) ~7)) 
.... 
r ~ 
(Su(Vx~(x)~)) 
where 
~, B, ¥, 
Yi c FORM 
and 
r, A 
are any sequence of formulas. 
Let 
r B c R B 
then 
r 
is rule of inference such that the formula B 
does not appear, i.e. let us take for example as 
r B 
the rule (str~) 
then 
(sir 2) 
is the following rule of inference: 
(str2) 
r ----> 
r ~ 
(~ 
-¥) 
Denote by 
R 
the set of all rules 
r 
R = {r : r B e RB}. 
such that 
r B c R B 
i.e 
~ 
° 
By the basic system 
(BS) 
we mean the set of all rules of inference 
from 
R u R B 
and the following formulas and rules: 
(ax I) 
(i -----> ~) 
(ax 2) 
(~ 
e) 
(CUt) 
ri--~ 6 
6---->y 
F ~ 
y 
(@ i) 
~(a) ~ 
y 
(Vr) 
r ~ 
~(a) 
~x~(x) 
r 
-----> Vx~(x) 
where 
~, 6, y, ~(a) e FORM 
and a does not occur as a free object variable 
in any formula in the conclusion of the rules (~ i) and 
(V r). 
The formula ~ in the cut rule will be called the cut formula and denot- 
ed cfl. 
Let us mention that the rules 
(jr B) and 
(Jr) are added only to simplify 
some rules that will be introduced later. 

364 
It is not difficult to verify that: 
i.i 
(ax I) 
and 
(ax 2) can be restricted to 
(I ~ 
a) and (a ~ 
a), 
where a is an atomic formula. 
0 
1.2 
For each rule of inference in 
BS, if all premises are intuitio- 
nistically valid, so is the conclusion. 
A formula ~ is said to be provable in the 
BS 
(henceforth 
abbreviated as 
"BS ~ e") iff ~ is obtained from the axioms by means of 
the rules of inference. 
Notice that the subsystem of 
BS consistin~ of (axl), (ax2), the set 
R, 
the cut rule, (7 i) and 
(Vr) is the formal system for intuitionistic 
predicate calculus described by Schutte in [8] and [9]. 
Let us denote 
this system by 
IS. 
Then in the standard way we obtain 
1.3 
For any formula 
1.4 
BS ~ ~ 
iff 
IS ~ a. 
0 
(Cut-elimination for 
BS). 
For any formula 
~, BS ~ ~ iff 
e has 
a cut-free derivation in 
BS. 
PROOF. 
It follows immediately from the Haptsatz theorem for 
IS [8] and 
1.3. 
[] 
A derivation in which the cut rule does not appear is called normal. 
COROLLARY. 
For any formula ~ , the following conditions are equivalent 
i. 
~cLl 
2. 
e has a normal derivation in 
IS 
3. 
BS ~ 
4. 
~ has a normal derivation in BS. 
0 
We say that a formal system 
S 
is separable or the separation theorem 
holds for 
S 
iff 
the provable formulas of S have derivations using 
only the rules of inference containing those logical connectives appear- 
ing in the formula. 
It is not difficult to show that: 
1.5 
The formal system 
BS 
without the cut rule is separable. 
0 
1.6 
The separation theorem holds for the system 
IS without the 
cut rule. 
0 
1.7 
In a normal derivation of e (in BS) 
only subformulas of 
occur. 
0 

365 
Let 
g~FORM. 
Recall that we can consider $ as a formula of the form 
F~ ~, where F = ~I .... '~n 
and 
~i,YcFORM. 
In the sequel ~i .... 'an 
will be called the antecedents of ~ and y the succedent of ~. 
If 
Y = YI ~ 
Y2 
and 
Y2 
is not of the form y~ ~ 
y~ , then YI 
is also 
called antecedent of ~ and 
Y2 
the end part of $. 
Let Z be the sequence of antecedents of ~. 
A pair 
[~,~ *] is said to 
be a partition of ~ if ~ is a subsequence of E and 
~* 
is obtained from 
by omitting all antecedents occurring in ~. 
Let 
<~> be the set of all free object variables, 
sentential variables 
and predicate letters which occur in 
~¢FORM. 
In the same way we define 
<r> , where F is a sequence of formulas. 
Craig's Interpolation Lemma. 
Let 
L 
be an intermediate logic and let 
~cL. 
Let 
[~,~*] be any partition of ~. 
A formula y such that 
I. 
<y> c <~> n <$*> 
2. 
~ ~ 
y~L 
and 
y ~*~L, 
is called an interpolant for 
[~,~*]. 
Sometimes we say that [~,~*] has 
an interpolant if there exists a y such that I and 2 hold. 
We say that 
a formula ~ has an interpolant if every partition of ~ has an interpolant. 
It is well known that 
1.8 
(Craig's interpolation lemma for LI). 
If 
~cLl, then ~ has an 
interpolant. 
D 
1.9 
(Craig's interpolation lemma for BS). 
Let ~ have a normal deriva- 
tion in 
BS. 
Then ~ has an interpolant. 
PROOF. 
Let us assume that 
BS ~ ~. 
By the corollary 
~LI. 
According 
to the 1.8 ~ has an interpolant. 
D 
§2. 
LOGIC 
LM. 
The intermediate logic 
LM 
is obtained by adding to 
LI the 
following schema 
(M) 
(~ ~ u~ ~ e), 
where 
~ e 
is ~ ~ 
i • 
It is well known that the logic 
LM 
is characterized by Kripke structures 
with the directed set of "worlds", i.e. 
if 
<T,~> 
is a Kripke structure 
for 
LM, then 

366 
2.1 
(i) 
(2) 
(3) 
(4) 
(5) 
(6) 
(7) 
(8) 
where 
((~ 
2.2 
A t,sVu(t ~u 
& 
s ~u). 
The next two lemmas show some syntactical properties of LM. 
The following formulas are equivalent to 
(M) 
(((~-> 
~) ~(~'~ 
B)) ---> (~u~)~, 
( ( ~  
~ 
~) u (
~
 
~ 
~)), 
( ( ~  
~) 
~ 
(~u~)), 
((~ 
~ 
(~ 
~ u~y)) 
~ 
((~-----> 
~ 
B) u(~ 
~ 
~¥))), 
((~ ~ ~S) 
u (~ ~ 
~)), 
((~ 
~ 
~ 
S) 
~ 
( ~ u ~  
B)), 
(~ 
(~mu~ ~) + 
(~au~ ~)), 
~, B, y~FORM, and as usual 
(g ~=> ~), ~ n represent 
n) n (n----->~)), (q ~ 
±), respectively. 
If 
A,B c {(~nB), (~aom B), (~ ~ ~ 
~ B), (m ~B~ 
~ ~), 
(B => ~ ~), (~ ----> m B), ~ ~(~ 
~ B), ~ ~ (B ~-> m ~), ~ ~ (-.~ u~ B)} where 
~, BcFORM, 
then 
(A ~>B)~LM. 
D 
The main difficulty in constructing the formal system 
MS 
for 
LM 
is 
the choice of suitable rules inference. 
It is known that the positive part of LM is equivalent to the positive 
part of 
LI. 
Thus the system 
MS 
should contain all inferences 
LI 
and some new rules characteristic for nonpositive tautologies of 
LM. 
Let us consider the following set of rules: 
(mlB) 
(m2 B ) 
r ----> (Su(A~ 
(~u~))) 
r ----> (ev(~----> 
~)) 
r ~ 
(eu(6~ 
y)) 
r ~ 
(Su((~ ~ ~ 
~) ----> y)) 
* 
Some of the mentioned equivalences were indicated to me by T. 
Prucnal. 

367 
(m3B) 
r 
~ 
(Bu(-Tc~¥)) r ~ 
(Bu(-76~y)) 
r ~ 
(Bu((c~ 
~) 
~¥)) 
(m4B) 
2.3 
If the premises of the rule 
(miB) , i = 1,2,3,4 belong to 
LM, so 
does the conclusion. 
PROOF. 
Notice that 
(~ 
~ 6) ~=> (~u~ 
6) ELM. 
Thus the lemma follows 
immediately for (mlB) 
and 
(m3B). 
The rule 
(m4B) is intuitionistical- 
ly valid. 
PROOF of (m2B). 
(69 y)eLM, then 
(
~
 
y) ELM and 
Notice that 
It is sufficient to observe that if (
~
y
)
 
ELM and 
((~ ~ ~6 ) ~y ) ELM. 
To prove this let 
(6~y)ELM. 
(((-l~y) 
n (-~ -----> 6) n (~y)) 
~ 
((-i - ~  
y) n (-~a----> y))) ELI. 
Hence 
(((-~ -1~u-~ ~)---->y)--> y)--~((-~ -~y) 
n (-~) 
n (~ 
y))ELI 
which together with our assumptions proves that 
((~8) 
----->y) 
ELM. 
D 
We call 
MS 
the system based on the propositional part of the basic 
and the rules (miB) , (mi), i = 1,2,3,4 
where (m i) is obtain- 
system 
BS, 
(miS) in the same way as the rule 
r 
from 
rB(cf. § i). 
Now 
ed from 
we will treat 
LM 
as propositional logic. 
THEOREM 2.3. 
For any formula ~,~ELM 
iff 
MS ~ ~. 
PROOF. 
The standard proof is omitted. 
D 
THEOREM 2.4. 
(Cut elimination for 
MS). 
Every theorem of 
LM 
has a 
normal proof in 
MS. 
PROOF. 
To prove the theorem we carry out two complete inductions, one 
on the grade, the othter on the rank of the derivation. 
Recall that the grade of a formula 
~, g(~), is the number of occurrences 
of logical connectives in ~. 
The left rank 
R I 
of the derivation ~ is 
defined as the largest length of any thread of formulas in ~ that ends 
with the left hand side premise of the rule (cut) and in which the cut 
formula occurs in the succedents. 
The right rank 
R r 
is defined analo- 
gously. 
The rank 
R 
is 
R I + R r. 

368 
According to 
1.4 
the only new cases arise when one (or both) premise 
(or premises) of the rule cut is (are) of the conclusion of the rule 
(mi6), or (m i) i = 1,2,3,4• 
I. 
Assume that 
R = 2, i.e. R I = R r = i, and the theorem is proved 
for the grade n. 
Case of (m I ). 
Suppose that 
g(Bu(A~ (m~um 6))) = n+l. 
Consider 
the following derivation ~. 
'{(ml) r~ (Bu(A~(~ ~-~ 6))) 
]'~ 
(~,u(S~ (--,o~u--,6))) 
Then ~ is reduced to 
S~¥ 
(A~ (~u-~6)) ~¥ (ul) 
(6 u(A~ 
(~u--,~))) ~ 
y 
(cut) 
F ~ y 
~i as follows 
(ml) .... (A----> 
(9~ ~6))~ (A~ (~ ~ 6)) 
1 
r----> (6u(A~ (~ 
-,6))) 
[ 
(A~ (~= ~ 6))~ (A~(~u-,6)) (A~ (~u~ 6))= y 
: 
(cutl) 
6~ y 
(A~ (~ 
~6)) ~ 
(ul) 
(Bu(A~ (~ 
~ 6))) ~ 
(cut 2) 
r a y 
Notice that 
g(A~ (m~um 6)) < n and 
g(6u(A~ (~ 
-~ 6))) = n. 
Hence 
by the induction hypothesis (CUtl) and (cut 2) are eliminable from 
~i' 
that proves that the proof 
~, given above, can be transformed into a 
proof without the cut rule. 
The case when the right premise of the cut rule in ~ is the result of 
the rule (str2) is trivial• 
Case of (m I) . Suppose that 
g(cf2) = g(-~ ~ u~ 6) = n + 1 
and consider 
the following derivation 
(ul) 
It is reduced to 

369 
r~ 
(~= 
-, ~) 
(~ 
~ 6) 
~ 
~f 
F ~ 
y 
(m 3) 
(cut) 
By the induction hypothesis on the grade 
g(~ 
~ 6 ) = n, the cut rule 
is eliminable from the above proof• 
Case of (m2). 
Recall that 
R = 2 and theorem holds for the grade n. 
Notice that according to the assumption on the rank the cut formula can 
not be n • So 
cfl = (-~ 
~) = q and let g(cfl) = n + i. 
Let the 
derivation ~ run as follows 
(m2)r ~ 
(-l-~ 
n) r~ 
(~n) 
]I 
r ~ 
(~6) 
~ 
n) 
((~ ~ 
~ ) ~ 
n) ~ 
(cut) 
Let 
~' be a cut free 
MS-proof of 
((~ ~ 
6) ~q)~ 
y 
The only 
interesting cases are when the end-formula of 
7' is the result of the 
rule (~ i) or of the rule (m3). 
In the latter n must be of the form 
n I 
CASE I. 
z' runs as follows 
((~ ~ 
~)~n)~x 
Then ~ is transofrmed into 
(~ I) 
(cut I) 
F~ n 
F ~ 
y 
n~y 
(cut 2) 
(cut I) and (cut 2) are eliminable by the induction hypothesis on the grade• 
CASE 2. 
7' runs as follows: ( n= ~ ~ ) 
i 

370 
• 
, 
(m 3) 
((~6) 
~ 
~ nl)~ y 
Using the fact that 
SI ~ (~ ~ ~ 
(~63 
~ (~ ~ 
6))) 
the proof 
~' is reduced to 
Sl-proof 
(cuti) -I ~e 
~-~ (~----> ~ (-i e~ 6)) 
r ~ (
~
 
~n I) 
~n I ~ ( ~  
Y) 
(~e~ 
~nl)~ (~6~ y) 
(cut 2) 
-I n I ~ y 
%) 
r~ (6~ ~n I) 
(6~ ~nl)~ (r~y) 
(cut 3) 
P ~¥ 
%) 
(curl), (cut2) and (cut3) are eliminable by the induction hypothesis on 
the grade. 
Now let the right premise of the cut rule be the result of (m 2) and let 
cfl = ( ~  
8) , i.e. the derivation ~ run as follows: 
f 
P~ 
(~ e~ 
~) 
• 
° 
(r) 
(m 2) 
(-~ ~ ----->6) 
~ 
y 
Fay 
The premise of the rule (r) can not contain ( ~  
6) as the left rank 
is i. 
So the last step in 
~' 
must be one of the following cases: 
CASE i. 
(=l) 
F ~ 
( ~  
~) 

371 
CASE 2. 
8=61u 
62 
and 
r~ 
(~e~ 
6 1) 
(ur) 
or ~ ' 
r ~ 
(-~ ~62 ) 
r~ 
(-~ ~8) 
• (u r) 
CASE 3o 
~ = 6 
n ~ 
and 
i 
3 
CASE 
4. 
! 
r~ 
(~ e~2 ) 
I r~ 
( ~  
61) 
6 = (~i ~ 62) ~3 
and 
CASE 5. 
r~ (-~ ~i ) 
62 ~ 63 
(~ I) 
F~ (-i e~ 
((~i ~ 62)~63) 
6 = -~ 61 
and 
r ~ 
(61 ~ -~-~ ~) 
r ~ 
( ~  
-~ ~I ) 
* In the case when instead of 
(ur) we apply a rule of the form (r ~) 
we proceed in an analogous way as in the case (1)-(7). 
Note that the subformula (suB) of the formula (~u~)~ y 
is decom- 
posable only by the rule (ul). 

372 
CASE 6. 
~ = -~ (6 1 ~ rl) 
and 
r ~ 
(-~a~ 
-i-~ 61 ) 
CASE 7. 
6 = ~ 61 u ~ 62 
r ~ 
(-~ 
--~n ) 
r ~ 
(-~ 
-~ (61 ~ 
n)) 
and 
(m 4) 
r ~ 
( ~  
(61~ -i 62)) 
r ~ 
(~c~ 
(-n 6 1 u-~ 6 2 ) 
(m I) 
We check only the Case 4. 
Then the derivation 
7" 
is as follows: 
of the right premise 
~vv 
A 
or 
B 
or 
((61 ----> 62) ~ 
63 ) ---->y 
(m 2) 
( ~  
((6 1 ~ 
6 2 ) ~ 
63))3 Y 
C 
Thus ~ can be transformed as follows: 
(31) 
61~ 61 
62~ 63 
61~ ((61~ 62)~ 63 ) 
r~ ( ~  
6 l) 
(-~e~ 61)----> y 
((61~ 62)~ 63)~ Y 
(cut 2) 
Fay 
(cut i) 
By induction on the grade all cuts are elinfinable. 
Case of (m3). 
Consider only the case when 
cfl = (~ ~ 
~ 6) =~ n 
and 

373 
let q be the form 
~ ql" 
Let 
~' 
be the proof of ((~6)=~nl)=~ 
y 
such that the end formula of 
~' 
is obtained by application of (m 3) to 
(~ 
~ 6) ~ 
y and 
~ n I ~ 
y 
More exactly, let the derivation ~ runs as follows: 
(m 3) 
r --~ (
~
 
~n I) 
r ~ 
(~6~ 
~q I) 
r ~ 
((~ 
~ ~) ~ 
~ n I) 
-~ (~ 
~ 6)~y 
-~ n I ~y 
(m 3 ) 
F ~ 
y 
As before, we use that 
SI ~ -, -~ e~ 
(-~ ~6~ 
-~ (e~ ~)) 
Thus ~ can be transformed into: 
Sl - proof 
~-,~(~-,6~ 
~ (c~ -,6) 
(cut I) 
r ~f~ ~ ~ n I) 
(cut) 
r ~ 
(~6~ n I) 
~ 
(-,-1 ~ 
¥) 
(
~
n
 
I) ~ 
(7~Y) 
r 
~ 
(-,-,6~ 
"~) 
(76~ ~n I) ~ (r ~ y) 
(r ~ ¥) 
F~y 
Note that all cuts are eliminable by the induction on the grade. 
We omit the case when the right premise of the cut rule is of the form 
( ~  
~6) 
=> y 
and 
cfl = (~ ----> ~ 5) 
as the proof is similar to the 
analogous case for 
(m2). 
Case of 
(m4) o For simplicity assume that 
A = $ 
and 
let ~ run as 
follows: 
-~ql~ Y 
F ~(-~ nl~ ¥ 
(CUt 3) 

374 
(m4B) 
r~ 
(Bu~ ma) 
r ~ 
(Bum 6) 
r ~ 
(~Bu-~ (~------>~)) 
(Cut) 
(8u-~ (~ 
6))~ y 
F ~ 
y 
(ul) 
It is reduced to 7' : 
Sl-proof 
(cut I) 
(u1) 
r~ OB~--,cO 
OBu--,-~) ~ 
(-~ ~y) 
(cut2) 
B ~ Y 
r ~ 
(~ 
~y) 
r ~ 
(s~y) 
r ~ OBu-~(B) 
(IBu-, ~) => (r~y) 
r ~ (r~y) 
r=>y 
(cut 3) 
(ul) 
Arguing as usual we can eliminate all cuts from the above derivation. 
Analogously for the remaining rules: 
It is not difficult to conclude that if 
R I > i 
and 
Rr> I 
then using 
the induction hypothesis on the rank we transform any derivation into a 
norml proof• 
COROLLARY. For any formula a the following conditions are equivalent: 
i) 
~LM, 
2) 
NS~a, 
3) 
there exists a cut-free proof for ~. 
D 
Problem• 
Is it possible to eliminate from 
MS 
the rules 
(m 3) and 
(m4B)?. 
THEOREM 2.5• 
(Interpolation lemma for LM). 
Craig's interpolation 
lemma holds for 
LM. 
PROOF. 
Let 
~eLM. 
To prove the theorem it is sufficient to show that 
for any partition 
[#,E*] of ~ there exists a formula y such that 

375 
I) 
(~ 
y) c LM 
and 
(y ~*) 
E LM 
2) 
<y> c <~> n <~*>, 
where for any formula 
~, <~> 
is the set of all sentential variables 
ocurring in ~. 
The method which we use is due to Maehara and its significance lies in 
the fact that an interpolant of the formula of the form 
(a ~ 
~) can be 
constructively obtained from a proof of 
(a ~ 
n). 
By the corollary 
MS ~ ~. 
Now we will construct an interpolant ~ by in- 
duction on the number of inference rules, in a normal derivation ~ of ~. 
At each stage there are several cases to consider. 
According to 1.9 the 
only new cases arise when ~ is a conclusion of the rule (miB) 
or 
(mi), 
i = 1,2,3,4. 
We deal only with 
(mi) , i = 1,2,3,4 
and suppose that for every ~'eLM 
such that 
~, = k 
the theorem holds, where now 
~$ is the length of 
derivation ~ of ~. 
Let 
~ 
= k + I and the last inference be 
(ml) , i.e. ~ =r~ 
(~u-~6). 
Let us consider the following partition ~ = r', 
~* = F* ----> (~u-~ 5). 
By the induction assumption we know that for 
~i = F ~ 
(~ 
~ 6 ) there is 
an interpolant y. 
Hence for the partition 
[~i$i] , where 
~I = r', 
~* = F* ------> (~ 
-~ 6) 
there exists a ~ such that 
MS ~ F' ~ 
y and 
1 
MS t- (Y~ 
(r* ~ 
(~ 
-~ 6))). 
Moreover 
<y> c <F'> n <r* ~ 
(~ 
~6)>. 
Thus and by (ml) we infer that 
MS ~ r' ~ 
¥ 
and 
MS ~ P* ----> (~u-~ 6). 
It is obvious that 
<y> c 
<F'> n <r* ~ 
(-~u-~ 6) 
which proves that y 
is an interpolant for 
P ~ 
(~au-16). 
Let the last inference be 
(m2) , i.e.~ =F~ 
((-~=~ 6) ~q). 
Moreover 
for the simplicity we assume that n is not of the form 
nl ~ 
q2" 
Then we have the following partitions 
i) 
¢ = r' 
; 
~* = r* ~ 
( ( ~ )  
~n) 
2) 
~ = r' 
; 
(-~6) 
; 
~* = F* ~ 
n. 
We omit I) as it is trivial. 
Let us take the latter and consider 
~i = F ~ 
(-~ ~---->n), 
~2 = P ~ 
(6---->q). By the induction assumption, 

376 
since 
~El<k+l, 
~E2 <k+l, we infer that for the partition [~I,EI ] 
and 
[~2' E2] , where 
~I = F' , ~ ~a; 
~2 = F',~; ~i = E2 
= r 
~ 
n there 
are interpolants 
Yl 
and 
72 , i.e. 
MS ~ r' ~ 
(~ ~ 
71), 
MS b F' ~ 
(6~ 72), 
MS ~ 71 ~ 
(r* ~q) 
MS ~ 72 ~ 
(r* ~ 
q) 
and 
<yl > c <~i > n <El> 
, 
<72> c <~2 > n <E2> 
Using the rules 
(ur), (ul) we obtain 
MS br' ~ 
(7-~ 
(¥1uY2)), 
MS b r'~YlUY2)), 
MS ~- (YlUY2)---> (r*---->n). 
It is obvious that : 
<YlUY2 > c <~> n <~*> 
Now using the rule (m2) we infer that 
(Yl u y2 ) 
is an interpolant for 
the second partition. 
Now let us assume that the last inference is 
(m3) , i.e. 
E = F ~ 
((~ 
~ 6) ~ 
q). 
As before we omit case when 
~ = F' 
and 
we assume that n is not of the form 
q I ~ 
n 2. 
If ~ # F', 
then we 
have only one possibility, namely 
~ = r', (~ ~ 
6) and 
E* = F* ~ 
n. 
On account of the induction hypothesis we obtain that for the partitions 
[r', -~ ~; 
F* ~ 
n] 
[F', -~ ~; 
F* ~ 
n] 
there are the interpolants 
Y1 
and 
Y2' respectively. 
Thus 
(Yl u y2 ) is an interpolant for 
IF', (~ 
~ ~); 
F* ~n] 
which completes our proof for case of the 
rule (m3). 
Let the last inference be 
(m4) , i.e. 
E = Y ~ 
7 (~ 
~). 
There is only one partition 
[~,E*] such that ~ # F', 
namely 
= F',~ ~ 
~ and E = F* ~ 
i. 
Consider this case. 
Let E 1 = F~ 
-i ~ 
and 
E 2 = F ~ 
m ~. 
By the induction assumption there are 
Y1 
and 
Y2 
such that 
VS~ r' ~ 
( ~  
71), 
m }-T 1 ~ 
(r*~l) , 
~ ~r' ~ 
(~ 
y 2 ) MS ~72~ 
(r*~l) 
and 
<yl > ~ <r]~> 
n<r* ~I>, 
<72> c <r'~> 
n <r*~l>. 
Thus by 
(ur), (ul), (~ 
I), (str 3) and (m 4) we infer that 

377 
MS ~ r~ 
((~) 
~ 
~ ~ (YlUY2)) 
Note that 
2.6 
The system MS without the cut rule is separable. 
2.7 
In a normal derivation of ~ only subformulas of ~ occur. 
It is not difficult to check that the following two rules 
r ~ 
(~Su(A~ 
~(a)) 
(VBr) 
r ~ 
(~u(A~ 
V x~(x)) 
and 
MS ~- -~ -~ (YlUY2)~ (F* ~ l). D 
0 
D 
r ~ 
~ Bu(~(a) ~y) 
(~B1) 
r ~ 
(7 ~ogx~(x)~ 
X) 
where 
a 
does not occur as a free 
object 
variable 
in any formula in 
the conclusion 
of the mentioned 
rules, 
are valid 
in 
LM 
considered 
as 
predicate 
logic. 
Let 
MS Q 
be the system 
MS 
enlarged 
by the predicate 
part 
of the system 
BS 
and the rules 
(VBr), 
(gB1). 
Conjuncture. 
The following 
conditions 
are equivalent 
i) 
~LM, 
2) 
MsQ ~ ~, 
3) 
~ has a cut-free proof in MS Q. 
Notice that if the conjuncture is true then it is not difficult to prove 
Craig's interpolation lemma for predicate logic 
LM, 
the separation 
theorem and the subformula property for MS. 
§3. 
LOGIC 
LMH 
In [i] 
Gabbay proved that 
LMH = LI + (Vx ~ ~ e(x)~ 
~ Vx~(x)) is 
complete for the class of all Kripke structures 
<T,~> 
with partially 
ordered worlds system 
T 
fulfilling 
A tV s(t ~ s & Au(s ~u + s = u). 
It follows from the above characterization of 
LMH that for any formula 
~cLK 
iff 
~ ~ ~(LMH. 
The above theorem is often called the Glivenko type theorem for 
Umezawa observed in [i0] that the following schemas of formulas: 
LMH. 

378 
~ Vx(~(x) u~ ~(x)), 
Vx~(x) ~ 
~ 
~ x~(x), 
~ (Vx ~ ( x )  
~ 
~Vx~(x)), 
~ (gVx~(x) 
~ 
~ 
a x ~(x)), 
-~ (-~ Vx~(x) 
n -~ ~ x-~(x)), 
(*) 
~ 
((Vx~(x) ~ 
~ xB(x)) ~ 
ax(~(x) ~ 
~(x))), 
-~-~ @ x Vy(e(x) ~(y)), 
(**) 
((Vx~(x) ~ 
B) 
~ 
~ 
~ x(~(x) ~ 
B)) 
are equivalent to 
(MH) 
(v x ~(x) 
~ 
~ 
v x~(x)). 
To construct the formal system 
MHS 
for 
LMH 
let us take the system 
IS 
for intuitionistic logic and add the following rules: 
r ~ ( - ~  
-~ ~n) 
r ~ 
(6~ -,--~n) 
(mh l) 
r ~ 
((~) 
~ 
-1 ~q) 
(mh 2) 
r ~ 
(~ 
~--,n) 
(mh3) 
F. ~ 
~ -~ ~(a) 
r ~ 
~ 
v x~(x) 
where 
a 
does not appear as a free object variable in any formula in 
the conclusion of 
(mh3) and 
-, y 
is y ~ i • 
3.1 
Let 
(r) 
be one of the rules (mh I) 
(mh3). 
If the premise(s) 
of the rule 
(r) 
belong(s) to 
LMH, so does the conclusion. 
PROOF. 
Suffices to observe that the rules (mh I) and (mh2) are intui- 
tionistically valid. 
In the case of the rule (mh 3) the theorem follows 
from 
(MH) . 
3.2 
Let ~ be a normal proof in the system 
MIIS of a formula of 
the form 
~-~ ~ 
y. 
Then there exists a subformula of y, 
say 
Yl' 
and a set of subformulas of y , say 
rl, 
such that either the formula 
of the form 
r I ~ 
(-~ ~ 
yl ) 
is an axiom and it occurs in ~ or the 

379 
formulas of the form 
F 1 ~ 
m~ 
and 
i ~ 
Y1 
appear in ~ or 
Y1 appears 
in 7. 
PROOF. 
Let us restore a normal 
MHS 
proof of a formula of the form 
-7 ~ ~ 
y. 
Note that the subformula (~ 
B) 
of the formula of the 
form (~ 
B ) ~ 
¥ is decomposed only by the rules (~ i) 
and 
(mh!). 
in the latter y must be of form 
~ m ¥I 
and in our case this rule does 
not play any role. 
So let ~ be a normal 
MHS-proof of a formula of the 
form ~ ~ ~ 
y 
Then ~ runs as follows: 
YI 
or 
F I ~ 
-~ e 
i ~YI 
(str I) 
(~ 1 ) 
FI~ 
(-~ -~ ~ 
¥I ) 
(r I) ..... (r k) 
, 
, ~ 
~ 
where 
F I 
is a set of subformulas of y (perhaps empty) and 
Yl 
is 
a subformula of 
y. 
The rules (rl)...(rn) operate only on the subformulas 
of ¥. 
Note that either a formula of the form 
F 1 ~ 
(9 ~ 
yl ) is an 
axiom or it is derived from 
F 1 ~ 
~ 
and i ~ 
Y1 by the rule (~ I) or 
it is derived from 
Y1 by (strl). 
D 
3.3 
(Cut elimination for MHS). 
Any drivation in MHS reduces to a 
normal derivation. 
PROOF. 
By 
1.4 
the only new cases arise when one premise (or both 
premises) of the cut rule is (are) the conclusion of the rule (mhi), 
i = 1,2,3. 
Assume that 
R = 2, i.e. 
R 1 = R r = i, and that the theorem is proved 
for the grade n. 
Case of 
(mhl). 
Suppose that 
cfl = (~6)~ 
~ ~n 
and 
g(cfl) = n+l. 
Consider the following derivation 
~ : 
(~l) 
F ~ 
(6~ 
--1 "~n) 
r ----~ ((~ 
~)~ 
-~-.n) 
(c~6)----> -~ -, n )~¥ 
F ~ 
y 
(cut) 

380 
Let 
~' 
be a normal proof of 
((e~ 6) ~ 
~q) 
~ 
Y 
The only interesting cases are when the end formula of 
~' 
is either 
the result of the rule (~ I) or of (mhl). 
In the latter y must be of 
the form ~ ~ Y2" 
CASE i. 
~' 
runs as follows: 
• 
° 
((~) 
~ 
~n)~ 
Y 
Then ~ can be transformed into: 
(~ i) 
r ~ 
(~ 
-~-~n) 
r ~ 
(-~n~ 
-~) 
(~ I) 
~ 
I~i 
r ~ ( ~  
~n) 
~ 
(r~ -~-~n) 
-,~ 
(r~ ~n) 
(cut 2) 
r ~ 
y 
(cut I) 
(cut 3) 
By the induction hypothesis on the grade (cut I) - (cut 3) are eliminable. 
CASE 2. 
~' 
runs as follows: 
((~6)~ 
-~-~n) ~ 
-~-~y 
(mh I) 
Then ~ can be transformed into: 

381 
r => (--,n~ 
--~ (~)) 
~ ( ~ ) ~  
~ 
Y 
( cut i ) 
r 
~ 
(-~y~ ~-~) 
-~-~ 
-~-~y 
r ~ (~y=>~ 
Y) 
On account of the induction hypothesis on the grade cut I 
eliminable. 
and cut 2 are 
The case of (mh 2) is trivial so let us prove the theorem for case of 
(mh3). 
Suppose that 
cfl = ~ ~ V x~(x) and 
g(cfl) = n + i. 
Consider 
the following derivation: 
(eut 2) 
(mh3) 
F ~ 
~ ~a(a) 
r~ ~ ~ Vx~(x) 
~ Vxu(x)~ 
r ~ 
y 
(cut) 
Let 
~' 
be a normal proof of 
~ ~ Yxe(x)~ y. 
If we omit trivial cases, 
then by 3.2 the only interesting case of 
~' 
is as follows: 
r I ~ 
(e(b)~ I ) 
r I ~ 
(Vxe(x)~i) 
(vl) 
I=> YI 
r I ~ 
(7 ~ Vx~(x)--> yl ) 
-,~ Vx~(x)~ 
(r I ~ 
yl ) 
(~ i) 
--I Vx~(x)~ y 
(rl) ..... (r k) 
This is transformed into: 

382 
rl~ ~(b) 
~(b)~ 
(r~l) 
(cut I) 
r I ~ 
(r ~I) 
I ~ 
Yl 
rl~ 
(F~ ~i ) 
(cut 2) 
r ~ 
(rl~Y 1) 
P 
~ 
y 
(rl) ..... 
(r k) 
Above the formula 
r I ~ 
~ ~ 
(b) 
we write the same part of the deriva- 
tion which previously occurred above 
r ----> ~ ~ e(a) 
replacing every 
occurrence of the free object variable 
a 
by 
b. 
By the induction hypothesis on the grade (cut I) and (cut2) are elimina- 
ble. 
Notice that if 
r I ~ 
(Vx~(x)=> i) 
or 
~ ~ Vx~(x) ~ 
(r I ~ 
yl ) is an 
axiom then a reduction of the cut rule from ~ is trivial. 
Indeed, suppose 
that 
r I ~ 
(Vx~(x) ~i) 
is an axiom then 
r I 
is of the form 
Vx~(x) ----> i. 
Let us consider the following derivation: 
r ~ 
~ ~ ~(a) 
; ~ 
~ 
Vxe(x) 
(mh3) 
r I ~ 
~ V~(x) 
~ Vx~(x) ~ 
(r~i) 
(cut I) 
r I ~ 
(r~l) 
I ~ 
Y2 
(cut 2) 
r~ 
(r I ~ 
¥i ) 
(r I) ..... (r k) 

383 
As usual, (cut I) and (cut 2) are eliminable. 
So the proof of cut-elimination for 
R = 2 and any grade of cut formula 
is over. 
If the rank is 
>2, then using induction hypothesis on the rank and 
lemma 3.2 the cut-elimination theorem can be proved very easily. 
D 
As a natural consequence of the above theorem we obtain. 
COROLLARY. 
For any formula ~ the following conditions are equivalent: 
I. 
~cLMH, 
2. 
MHS ~ ~, 
3. 
~ has a normal proof. 
0 
3.4 
The system MHS without the cut rule is separable. 
0 
3.5 
In a normal derivation of ~ only subformulas of ~ occur. 
D 
3.6 
(Craig's interpolation lemma). 
For any formula ~, 
if 
~LMH, 
then $ has an interpolant. 
PROOF. 
Suppose that 
~ELMH. 
By the corollary ~ has a normal proof in 
MHS. 
An account of 
1.9 
the only new cases arise when ~ is a conclusion 
of the rule (mhi), i = 1,2,3. 
Consider only the case of 
(mh3). 
Let ~ be of the form F~Vx~(~. 
There are two different partitions of 
~, namely: 
i. 
~ = r' 
; 
~* = r* ~ 
~ ~ Vx~(x), 
2. 
~ = r', 
~ Vx~(x) 
; 
~* = r* ~ 
i • 
The standard proof for 
(i) is omitted. 
Let us take (2). 
By the induction hypothesis there is an interpolant for ~I = F ~ 
~ ~ ~(a) 
(a 
does not appear as free object variable in r). 
Let 
~I = r*, 
~i = F' ~ 
~ 
e(a) 
be a partition of 
~I 
and let y be a 
formula such that 
MHS ~ 
F* ~ 
y 
and 
Moreover 
<y> c <~i > n <~i >. 
Thus 
ing the rules (~ i), (mh 3) 
and 
MHS ~ r'---->{~ Vx~(x)~ 
~ ~) 
MHS ~ y ~ 
(r' ~ 
~(a)). 
a 
does not occur free in y. 
(str 3) 
we infer that: 
and 
MHS ~ 
~y~ 
(F* ~i). 
Apply- 
It is obvious that 
<~ y> c <~> n <$*> which proves that 
~y 
is the 
required interpolant. 
0 
Problem. 
To modify the system 
}ZIS in such a way that the rules of 

384 
inference specific for MHS 
are only 
LMH valid. 
[ I] 
Gabbay, D. 
E 2] 
E 3] 
[ 4] 
Ldpez-Escobar, 
E.G.K. 
[ 5] 
[ 6] 
[ 7] 
Maksimowa,L. 
[ 8] 
Sch~tte,K. 
[ 9] 
[I0] 
Umezawa, T. 
REFERENCES 
Applications of trees to intermediate logics, 
J.Symbolic Logic 37(1972), 135-138. 
Semantic proof of Craig's theorem for intuitionis- 
tic logic and its extensions, I and II. 
Proc. 1969 Logic Colloquium, North-Holland Publ. 
Co., Amsterdam(1971), 391=410. 
Craig interpolation theorem for intuitionistic 
logic and extensions, Part III. J.Symbolic Logic 
42(1977), 269-271. 
On the interpolation theorem for the logic of 
constant domains. 
J.Symbolic Logic 46(1981),87-88. 
A second paper on the interpolation theorem for the 
logic of constant domains. 
J.Symbolic Logic 48 
(1983), 595-599. 
A natural deduction system for some intermediate 
logics. 
J.of Non-Classical Logic, 1(1982), 
Craig's interpolation theorem and amalgamable 
varieties, Algebra i Logica 16(1977), 643-681. 
Der Interpolationssatz der intuitionistischen 
Pr~dikatenlogik, Mathematische Annalen 148(1962), 
192-200. 
Proof theory, Springer-Verlag, Berlin-Heidelberg- 
New York (1977). 
On logics intermediate between intuitionistic and 
classical predicate logic, J.Symbolic Logic 24(1959) 
141-153. 

TYPES IN CLASS SET THEORIES 
William No Reinhardt 
Depto of Mathematics, Campus Box 426 
University of Colorado 
Boulder, CO 80309 
Rolando Chuaqui 
Universidad Catolica de Chile 
Casilla II4-D 
Santiago, Chile 
This paper deals with the problem of defining order types for well order- 
ed proper classes. 
This is a special case of the problem of defining 
equivalence types for an equivalence relation. 
We recall that the analog- 
ous problem for set theory with regularity is solved completely by Scott's 
method of introducing equivalence types as the equivalence class restrict 
ed to its members of minimal rank. It is curious that the situation changes 
so markedly when we pass to class set theory. 
As this problem may seem 
somewhat peripheral to most set theorists, we would like to make some 
remarks about our interest in it. 
The problem arises naturally when one 
tries to develop the theories of constructible classes within a class set 
theory (such as Kelley-Morse-Tarski); 
this is how Chuaqui originally 
became involved in the problem. 
Professor Chuaqui drew the problem to 
Reinhardt's attention in 1982, when he was preoccupied with problems in- 
volving the notion of intuitive provability. 
Because of this he was in- 
terested in some aspects of proof theory and in particular in ordinal 
notations° 
The problem of developing notations for larger and larger 
ordinals is analogous to the problem of getting types for ordinals. Since 
key ideas often show themselves more clearly and simply in classical sett- 
ings than in constructive ones, one might hope these problems would illu- 
minate ordinal notations; 
we were thus thinking largely of positive 
results. 
We have nothing to say fromthese investigations concerning 
ordinal notations, but it does still seem to (at least one of) us that 
the problems are related. 
The positive results we have obtained are 
modest but of interest. 
In particular, the method of defining order 
types appears to lead to a more conceptual development of constructible 
classes than any we know of in the literature° 
Also, in conjunction with 
ideas of Manuel Corrada it leads to a nice characterization of the set 
part of the impredicative theory of classes (ioe. Kelley Morse-Tarksi set 
theory). 
The negative results mentioned here were pointed out to us by 
several people at the symposium, especially Steve Simpson, Menachem 
Magidor, and W. Mareko 

386 
Suppose that we are given an equivalence relation X ~ Y 
on classes. 
We permit ~ to involve parameters Z. 
The question then is whether there 
is a term r (which may depend on Z and on other parameters U as well) so 
that 
I) 
VZ~u(T(X) : ~(Y) ÷÷ X ~ Y). 
We can ask for more, that T be a selector: ~(X) ~ X. 
We call the axiom 
which says that if ~ is an equivalence, then i) holds, "~ is an 
~-type" 
or Type (~,~) or even "T" for short. 
Surprisingly, it appears to be an open problem whether there is such a 
for the equivalence which holds between two ordered pairs when they 
correspond to the same unordered pair. 
That is, it appears to be un- 
known whether unordered pairs can be defined in class set theory. 
On the other hand, it can be shown using methods of L~vy developed for 
investigating questions of definability, that there are models of set 
theory in which no such T can be given for the relation of order iso- 
morphism for well orderings (i.e. well order types cannot be defined). 
This happens in the model obtained by collapsing all cardinals below 
the second inaccessible to the first inaccessible° 
(This model was con- 
sidered independently by L~vy and Rowbottom) o We are indebted to Rich 
Laver for the following argument. 
Let M be a model of ZF with two inaccessible cardinals K<Io 
Let N be 
obtained from M by collapsing all cardinals ~<I to K, while adding no 
new elements of V 
The model of KMwe 
consider is just V N 
We 
<- 
<+i ° 
observe that a definition of types here would give rise to a function 
P: I +VK+ I in N with P(~) = P(B) ÷ 
~ = ~, namely p(=) = r(x) where 
x~=. 
Such a function in N involves only an initial segment of the collaps- 
ing functions. 
We may think of N as M o [G] , where M o = M [G o ] contains 
the relevant initial segment. 
We may represent P by a relation 9(~,x) 
between objects in the ground model: o(~,x) if 
xeP(~). 
By homogeneity 
9 is determined by the empty condition over Mo, and hence P is in Mo, 
giving in MoP :I ÷ VK+ I. 
This contradicts the inaccessibility of I in M o- 
For example, for constructible classes, let T pick the first class in 
question° 
(Here "first" means in a canonical ordering of the constructive 
hierarchy; 
to see that this makes sense requires knowing that the level 
at which a class first occurs is independent of the representation of the 
construction). 
Again, even in models M where no ~ exists, the addition 
of the existence of ~ to the theory of M may be conservative, so that in 

387 
some sense it is as though there were a T after all. 
We first make the trivial observation that if we do not allow • in the 
comprehension scheme, we may always add a T satisfying the axiom we have 
indicated° 
Proof: 
If M is any model, consider the external classes 
{YEM I M has Y~X , and let T select one member of each. 
Thus we are 
interested in whether r can be added so that it both satisfies the equi- 
valence type axiom, and 
other schemas of class theory. 
In the case of 
Kelly-Morse Tarski theory (which we shall call KM), this is the class 
comprehension schema. 
Open Problem: 
Is KM together with ~ for well order types a conservative 
extension of KM? 
We do have 
THEOREM° 
Let DC be the axiom of (transfinitely many) dependent choices 
for classes° 
That is, DC says that if 
Y~Y 0(X~Y).then there is a se- 
quence Z~ (~eOR) of classes so that for all ~,0(<Z B I B<~>,Z ). (Here the 
sequence Z 
is of course to be construed as an appropriate class). 
Then 
F~M + DC + "~ is an ~-type" 
is a conservative extension of KM + DC. 
Note° 
DC is DCon of Marek and Zbierski [1972]. 
PROOF: The proof is really the same as the proof that using DC one can add 
a well ordering of the reals without adding any new reals. 
However, we 
only need to use the simplest possible kind of forcing (that is, no com- 
plicated terms or corresponding boolean valued functions are needed). This 
was observed by Mostowski [1972] for the case of analysis; 
again, our 
proof is essentially the same° 
The result for set theory (without infini- 
ty) implies that for analysis, but the reverse does not seem to hold. 
We 
have in the forcing language one new atomic formula G(x,y) for the well 
order° 
(Of course it suffices to add a well order, as then the equivalen- 
ce types are definable as "the G-first Y such that Y~X"). 
We force with 
conditions which well order OR-many classes° 
A condition may be thought 
of as a well ordering of OR together with a (I-I) assignment of a class 
to each point of OR. 
Two distinct conditions can contain the same inform- 
ationo 
A condition p will have the form p = (W,Z); 
W,Z are proper class- 
es, and so we take the ordered pair in an appropriate sense (eog. 
(Wxu{0} 
(Zx{l})). 
We say that one condition extends (has more informa- 

tion than) 
mer; 
e.g.: 
388 
another in case the latter is an initial segment of the for- 
q extends p iff @f,XCWp :f Wq F X 
& 
Vc~ Z"C{~}=~ Zq{f(~)})). 
(If necessary, we write q e p for this). 
We carry out forcing in one of the usual ways now, 
and G° 
in the language with 
which of course has free variables p,X,Y. 
In the definition of ~p, 
it 
is of course important to avoid collisions of variables with q, so q 
should not occur in ¢o 
Observe that ~p ~p e(p) has the form 
V 
~p(Vq~p 
~e(q)] 
= 
Vq 
p 
which is equivalent to 
Vq'ep @qeq'¢(q) 
We may now define 
I~ e by induction on ®: 
Atomic: 
II- (xcy) 
= 
xEy 
W G(x,y)) 
I~ G(x,y) 
= 
mp~p 
(pl~ 
CVq~q' ~ e(q)) 
pl~ 
W G(X,Y) = @x,y (X = Z" {x} & Y = Z" {y} & (x,y) 
W ] 
P 
q 
p- 
7¢ 
= Vqe p ~ e(p/q) 
and the basic formula for interpreting G(X,Y), 
We shall adopt the point of view that we are giving an interpretation 
of the language of KM + G into that of KM. 
Thus to each formula of 
KM + G we associate a formula 0 whose free variables are those of e to- 
gether with one new free variable. 
We shall use X,Y .... for the free 
variable of 
and p,q .... for the new free variable. 
To carry out the 
definition we first introduce the syntactic operation: 

Propositional : 
IF (0 & ~) = (IF 
ID (-I e) 
= 
-~p 
Quantifier : 
I~ (Vxo) 
= 
Vx (IF o) 
389 
e) 
& (I~ o) 
(LF e) 
To be definite, we may always choose p to be the first new variable not 
occurring in ~o 
Thus the new free variable of Ik0 will be p. 
We there- 
fore shall write pl~ 0. 
Now we wish to show that the axiom of KM+ 
DC, plus "G is a well order- 
ing of the universe of classes", are forced. 
Since there are no provi- 
sions for changing the e-relation, it is trivial that KM + DC remains 
true under this interpretation (it is the identity on the language of 
KM~). 
Thus we have only to see that the comprehension axiom of KM remains 
true when we allow G: 
i.e° 
plF 
]ZVx(xeZ +÷e & x~V) 
Vq_>p @r>_q ~ZVx(rlkxcZ ÷÷0 & x~V) 
Given q->p, it will suffice to extend q to r so that for some Z 
& 
i.e. 
or rll- ~ o. 
We may 
I) 
rll-x~Z ÷ e & x~V 
2) 
rlF @ & x~V ÷ xeZ 
i') x~Z + rlF 0 & xeV 
& 
2') Vr'~r (x(V 
& r'IF 0 ÷ x~Z) 
We shall extend q to r so that for all xcV, rll- 8 
then choose 
Z 
= 
{xEV I rl~ e} 
, 

390 
in which case i'), 2') will evidently be satisfied. 
Of course, for each x we can extend r to r x which settles 0. 
By DC we 
may thus form a sequence p~ (~e0R) such that if ~<6, P~P6 
, and for 
each x some pe settles 0 for x: it is only necessary to enumerate V on 
OR, and observe that for any k¢OR, we can amalgamate all the p (~<k) into 
one condition pk which extends each of the p~ 
The formula e(X,Y) to 
which we apply DC can say for example that if X is a relation with domain 
an ordinal k, so that the X"{e} 
= pe settle the Xe and are increasing; 
then Y has domain k+l and continues X. 
To complete the proof it is only 
necessary to do the same for the full sequence p~ 
This however is 
readily accomplished; 
to form Wr, we join all the W~ 
= Wpa, using an 
indexing of 0Rx0R by OR. 
The Zr is formed by assigning corresponding 
Z's 
under this correspondence. 
D 
While this result is very nice from the point of view of someone who 
wishes to work in KMwith 
DC, and also wishes to introduce equivalence 
types, it has the unappealing feature that it is surprisingly specific 
to KM. 
It does not necessarily carry over in the natural way to exten- 
sions of KM. 
For example, consider the strong set theory B of Bernays. 
This is an extension of KMwhich 
may be obtained by adding a reflection 
scheme asserting that any statement of KM true in the universe is re- 
flected in some V + I [V = {V I ~ E OR}) : x~V & o(x,X) + ]< ~OR 
oVK+I(x,XnVK). 
In B, DC is provable. 
Thus, by the above theorem we can 
use types: but this provides no justification for allowing them in the 
reflection principle, only in the comprehension schema. 
The argument 
does not carry over° 
Thus the theorem shows that adding types does not 
strengthen KM very much, namely no more than DC does, but it does not 
say much about extensions of KMo 
Since DC is already present in B, B 
already does everything that can be done using types in KM. (KM + TI- O 
~--->KM + DC + T~ =---->KM + DC I- ~ 
BI- 0). 
This fact, however, can be 
obtained from B more directly and we present the argument because it is 
suggestive. 
The idea is that equivalence types over a domain may always 
be added by the use of higher type objects (classes of classes, in the 
case of the domain of classes). 
But the reflection principles give the 
effect of being able to continue with such a process indefinitely. 
In 
particular, 
if KM + TI-O, we may in B choose ~ so that V + I~ KM, and 
also so that VK+ I~o 
iff o. 
But then there is T : VK+ I ÷ VK+ I such that 
(VK+I,~,T) I= 
KM + T. 

391 
Hence VK+ I~ ~ , if ~ only involves c. 
This, however, shows that BI- ~. 
It does not answer the question whether B + T is a conservative exten- 
sion of B. 
We dohowever, have the following result. 
THEOREM. 
Let B 
be like Bernays strong set theory B, except that for 
each natural number n, we assume the reflection can always be made to 
a measureable cardinal of degree no 
Then B 
+ T is a conservative exten- 
sion of B . 
u 
Note I. 
We must explain in what sense r is allowed in the reflection 
schema. 
The simplest way to formulate this is the following. 
We add 
not only T but, for each K<OR, r . 
(We can suppose ~ is a well order 
of the classes; 
the strongest type existence statements are implied by 
this). 
The reflection principle is then: 
0(~,x,X) ÷ ~K ~MC n 
0V~+I(~K'x'XnVK)" 
Note 2o 
A measurable cardinal is of degree I if it has a normal measure 
which assigns the set of measurable cardinals measure I; 
of degree n+l 
if it admits a measure concentrating on measurable cardinals of degree n. 
PROOF. 
We note that if ~ is a MC, then it satisfies the Bernays reflec- 
tion scheme (in fact it is universal 3rd order indescribable in the sense 
of Hanf and Scott [196~). 
Let K be of degree n+l. 
It will suffice to 
show that we can adjoin T, Tv(v<k) which satisfy the reflection to degree 
n scheme in V +io (Given a proof in B + ~ 
it will involve only reflec- 
tion to a certain degree, with e-formulas of a fixed complexity; 
if n 
is a bound for each of these, and we choose a ~ which reflects complexi- 
ty n and is moreover of degree n+l, then in (VK+I, , T,T v) the proof is 
valid and hence the ~-formulas in question are true, inheriting this from 
VK+I) o To see this, we take the T 
to be arbitrary well orders of Vv+ I, 
and consider the ultraproduct of the (W+I,~,Tv) by a measure which 
concentrates on degree n. 
This has the form (V+I,c,T); 
this is our 
choice of To 
Now a statement 0(T,x,X) is true in V+I 
iff it is true in 
almost all v that 0(T v,x,Xnvv) holds in Vv+ I. 
Since almost all v are of 
degree n, this shows that V + I satisfies reflection to degree n when we 
adjoin T,T v . This completes the argument° 
It would be desirable to have a result of the above sort which is stable 
under extensions of the base theory. 
Of course, if we make restrictive 
assumptions, such as "all classes are constructible", 
then we can actual- 
ly define equivalence types and this is perfectly st~b!e under ~urther 

392 
extensions of the theory. 
There seems to be no reason why such a pheno- 
menon could not occur with suitable nonrestrictive assumptions. 
How- 
ever, we only have some results of the following form: if a definition 
of types is possible at all, then there is a definition of a specified 
kind. 
We were led to the following idea by an analysis of Chuaqui's definition 
of well order types and levels in the ramified hierarchy in [1980]. Well 
order types seemed to be distinguished by finding some difference in the 
complete theory of the well order, or rather of the associated segment 
of the ramified hierarchy, 
allowing parameters for all the sets. 
When 
such differences ceased to appear, one obtained sufficiently large order 
types that a version of the elementary substructure argument established 
class comprehension° 
But of course, this is not surprising, as having 
the same complete theory entails comparatibility under elementary sub- 
structure. 
DEFINITION. 
Let ~ be a well ordered class. 
By the structure A(~) we 
understand (VO=, ~v,< 
,X)xc V. 
Here O is disjoint union. 
Note that the 
coding of ~ as a well order of V is unavailable in A(~). 
We put 
Tn(~) = the A I theory of A(e) 
n 
° 
Note that if ~=~, then ~(~) = ~(~) since the two structures A(~), A(B) 
are isomorphic. 
Also note that truth for A I sentences over V is definable 
n 
in KM. 
THEOREM. 
If there is a definition of types • in KM, then for some n, 
~n(~) is such a type. 
PROOF: 
If T is defined by a A I formula, then the statements x ~(~) 
for 
n 
x~V are part of the ~ 
theory: to see this, note that ~WsV~W=~& xcT(W)) 
is expressible in A(~)~ 
Hence if ~n(~) = Tn(B), T(~) = ~(B), 
so ~=B 
by the assumption that T is a type. 
Here is another result of the sort "if anything works, this will". 
This 
time, however, we need a theory stronger than KM. 
THEOREM (of B): 
Let F : On ÷ V, and let F be a definable filter on On. 
Define 

393 
• F(X) = {t~V I ~S 
~F{<[t e F (XnRK)}} 
= {teVl(Fa.e.K) (tcF (XnR))} 
Suppose that • is a definition of types. 
Then there are F,F such that 
• (x) = ~F(X)- 
PROOF: Suppose that • is given by a a I definition. 
n 
Let F be the filter generated by the S such that for some XsV, 
S = 
{~(RK+I,~,XnR K) ~ (Univ,~,X)} 
Let F~(X) = TR<+I(x) for XsRK+ I 
Now teT(X) ÷on an F class, t ~ TRK+I(XnRK), i.e. teFK(XnR ~) and 
t g r(X) +similarly t ~ F (XnRK). 
Consequently ~(X) = TF(X) 
as 
claimed. 
0 
Argument works in KM if definition of a is simple enough (E~). 
Note: 
In conclusion we would like to indicate how to use the definition of 
types as complete theories to obtain the following conservative exten- 
sion theorem. 
Note that while no DC is required, only sentences rela- 
tive to sets are conserved. 
Here o V indicates the result of relativiz- 
ing all quantifiers in o to V. 
THEOREM~ 
KM + ~I- V 
implies KM I- V, i.e. adding types is conservati- 
ve over the set part of KM. 
Note: 
This follows from the development of constructible classes in 
KM. 
That such a development can be carried out was noticed by several 
people (including Solovay, Marek, Chuaqui), often in connection with 
extending Cohen's methods to class set theory. 
The matter is discussed 
in print in Mostowski and Marek [1974] and Chuaqui [1980]. 
See also 
Chuaqui and Marshall [1978]. 
PROOF. 
For this discussion, let us write ~o(~) for the first order 
, 
is the c-relation for L (V) 
theory of (V 0(Vx~) 
~v,E ,X)x~V , where E 
imposed on V x ~o 
(The argument is relatively intensive to the particu- 
lar version of the ramified hierarchy used). 
We can now define "small" 
well orders° 
Peq(~) 
iff ~ ]~,y(B<y~ & L~(V) < Ly(V) ) 

394 
and "large" 
Gd(~) 
iff not Peq(~); 
we then have the lemma: 
LEMMA: 
Va,B(Peq(~) -+ (a=B +÷to (e) = to(B)) 
Thus: 
either all ~ are small, and t o is a type; 
or else some ~ is large, 
and we easily get comprehension for some LB(V), 6<~. To prove the lemma, 
it will suffice to suppose e<B and ro(~) = to(B), and show Gd(B). 
The 
argument assumes familiarity with constructible sets, but uses nothing 
which presents special problems for proper classes. 
We may suppose 
that e is minimal, and B also. 
Let D be the definable elements of L (V) 
(allowing parameters from V). 
Then D<L (V); 
but by a collapsing argument 
of the usual sort D = L ,(V). 
Thus L 
(V)=< L (V) with say ~ as cri- 
tical point. 
Thus LK(V) < LK,(V), with K<K'. 
But then to(K) = ~o(~'); 
by the minimality we must have had L (V) < LB(V) all along° 
REFERENCES 
Chuaqui, R. 
[1980] 
Chuaqui, R and [1978] 
Marshall, V. 
Hanf, W. and 
[1961] 
Scott, D. 
L~vy, A. 
[1965] 
[1963] 
Internal and forcing models for the impredicative 
theory of classes, Dissertationes Mathematicae 
176. 
Constructibility in the impredicative theory of 
classes, in Mathematical Logic: First Brazilian 
Conference, ed. Arruda, da Costa and Chuaqui, 
Marcel Dekker, New York, pp. 179-202o 
Classifying inaccessible cardinals, Notices AoM.S. 
8, p. 445. 
Definability in axiomatic theory I, Proc. 1964 
Internat.Congress Logic, Meth.and Philo of Science, 
ed. Y. Bar-Hillel, North Holland, pp. 127-151. 
Independence results in set theory by Cohen's 
method. 
IV, Notices AmeroMath.Soc. I0, p. 593. 
Marek, W. and 
[1972] 
Axioms of choice in impredicative set theory, 
Zbierski, P. 
Bulletin d L'Acad~mie Polonaise des Sciences, 
S~rie des sciences math., astro et phys., 20. 
Marek, W. and 
[1974] 
On extendability of ZF models to KM models, Keil 
Mostowski,A. 
conference 1974, Springer Lecture Notes in 
Mathematics, vol. 499. 
Mostowski,A. 
[1972] 
Models of second order arithmetic with definable 
Skolem functions, Fundamenta Math. 75, pp. 223-234. 

GENERIC EXTENSIONS WHICH DO NOT ADD 
RANDOM REALS 
Jacques Stern 
Universit~ de Caen 
D4partement de ~th4matiques et de M4canique 
14032 Caen Cedex, France 
We give a sufficient condition ensuring that a partially ordered set 
P has the property that no random real appears in the corresponding ge- 
neric extensions. As an application 
we show that, provided ZF is con- 
sistent, the statement : "there is a (light face) E2 non measurable set" 
is consistent with various other statements like: 
i) 
ii) 
iii) 
i 
Every 
E2 set has the property of Baire. 
Every 
~2 set is Ramsey. 
Every set has the property of Baire (in presence of the 
restricted axiom of choice DC). 
I. NOTATIONS AND RESULTS. 
I.i 
In order to state our main technical result, we will use the 
framework of topological ordered sets. 
This framework was introduced by 
the author 
[7] 
, in order to give an alternative proof of the 
following result of Shelah [5]. 
THEOREM i. 
If the theory 
ZF 
is consistent, then the theory ZF+DC+ 
"every set 0f reals has the pFoperty 0f Baire" is consistent as well. 
A topological ordered set is a partially ordered set endowed with a topo- 
!ogy (which is not necessarily Hausdorff). 
A topological ordered set 
is separabl e if it has a countable basis of open sets. 
DEFINITION. 
An open subset 
V 
of a topological ordered set is coherent 
if any finite subset of 
V 
admits a common lower bound. 
A topological 
ordered set is locally coherent if it has a basis of coherent open sets. 
In this paper we shall be mainly interested in partially ordered sets 
which can be endowed with a topology 
which makes them separable and 
locally coherent. 
Actually these partially ordered sets have been con- 
sidered in the literature. Recall that a partially ordered set • 
is 
o-centered if it is a countable union of subsets (Xn) such that, for 

396 
every n, finitely many members from X n admit a common lower bound. 
Now, 
it quickly follows from this definition that 
the set ~, endowed with 
the topology generated by the sets (Xn), is separable and locally coherent. 
Conversely, any separable, locally coherent topological ordered-set is 
o-centered and therefore the two notions coincide. 
From the previous remark, it is clear that the whole paper could have 
been written using the notion of o-centered partially ordered set, with 
some care (and some work) in order to handle iterations; the choice that 
was made reflects both the taste of the author and his conviction thatthe 
alternative approach is useful. 
1.2 
The following will be our main technical tool: 
PROPOSITION. 
Let ~ 
be a separable, locally coherent, topological or- 
dered set; then, in a generic extension corresponding to ~, no real 
is random over the ground model. 
It should be said that our condition was inspired by several arguments 
previously used by A. Miller 
[ 2 ]. 
The proof of the proposition will 
appear below in section 2. 
Using the remarks of section I.i, the above proposition can also be read 
as follows: 
PROPOSITION. 
If • 
is a o-centered partially ordered set, then, in a 
generic extension corresponding to ~, no real is random over the ground 
model. 
1.3 
It is well known that if no real is random over L, then there is 
I 
a (light face) 
Z~ set which is not Lebesgue measurable. 
In fact, any 
real ~ belongs to some Borel set of zero-measure with a code ~ in L 
and 
we can pick the first such code ~(~), with respect to the canonical well 
ordering of L. 
The set 
{(~,B) 
: 
~(~) ~ ~(~)} 
i 
~2; 
is a 
Z 2 non measurable subset of 
from this set it is not difficult 
to build a Z~ non,measurable subset of ~. 
From the previous remark, it is clear how proposition 1.2 can be used to 
i 
build models, in which a non-measurable E2 set exists. 
In this way, we 
prove: 
THEOREM. 
Assume there is a standard model of ZF; 
then, there is a 
standard model of 
ZFC with the following properties 
i) 
Every 
Z~ set has the property of Baire 

397 
l 
ii) 
Every 
E 
set is Ramsey 
~2 
iii) 
There is a non measurable 
E~ set. 
This theorem should be compared with a result of Raisonnier and the 
1 
author, which states that the measurability of all 
~2 sets implies that 
all 
~z sets have the property of Baire as well [4] o The above 
theorem shows - inter alia - that there is no converse implication. 
This 
is not really new; 
the author had already observed that, in Shelah's 
i 
model where all sets have the property of Baire 
[5], 
some 
~2 
set was not measurable; 
but this was through an indirect argument 
using some work of Raisonnier 
[3]; 
the proof that appears in 
the present paper is straightforward and gives a result which is more 
effective in character. 
1.4 
Combining proposition 1.2 with the construction of Shelah 
[ 5 ], 
we show that no hypothesis concerning the Baire property is 
i 
strong enough to imply the measurability of E~ sets. 
THEOREM. 
Assume there is a standard model of ZF; 
then, there is a 
standard model of 
ZF+DC, such that: 
i) 
all sets of reals have the property of Baire. 
i 
ii) 
there is a non-measurable E 2 set. 
2. THE MAIN RESULT. 
2.1 
We start to give the proof of propositi0n 1.2; 
we let • be a 
separable, locally coherent, topological space. 
We want to show that 
any real which appears in some generic extension corresponding to 
belongs to a Borel set of zero-measure coded in the ground model M. As 
usual, we don't work with actual real numbers but with elements of 
2~; 
2 m 
is endowed with the product measure ~ of the uniform probability 
measure on {0,i}. 
Any element of 2 ~in the generic extension is denoted 
by some term T such that the boolean value 
[ T is an element of 
2 ~ 
] 
equals 
I. We fix such a term T. 
LEMMA. 
For any coherent open subset 
V 
of • 
and any integer n, there 
exists an element 
s 
of 
2 n, such that the following holds: 
(i) 
Vp~V 
~q~p 
q l~T extends s. 
PROOF OF THE LEMMA. 
We fix an enumeration s I ..... s i .... s k of the elements 
of 2n; 
if the conclusion of the lemma does not hold, then, for any index 
i, there is an element Pi of 
V 
such that 

398 
Vq<pi 
q ~T extends 
s i 
which means 
Pi 
i~ Tdoes not extend si; 
now,any common lower bound to all the Pi'S forces 
T does not extend any element of 2n; 
this gives a contradiction and finishes the proof of the lemma. 
2.2 
We now use the fact that • 
has a countable basis of coherent 
open sets; 
we fix an enumeration (V n) of such a basis with the property 
that any element of the basis appears infinitely many times. 
Using the 
lemma, for such interger n, we can find an element s n of 2 n such that 
(2) 
Vp~V n 
~q~p 
q I~ ~ extends s n. 
We note that all this takes place in the ground model; still working in 
the ground model, we let 
U n = 
{~: ~ extends 
s n} 
B 
= 
lim sup (U n) = 
n 
u 
U n- 
m 
n>m 
Now, it is well known that if the series 
z 
~ (u n) 
n 
converges, then, lim sup (U n) is of zero-measure; thus, B is a G~ 
set 
of zero-measure coded in the ground model. 
Now, in any generic extension 
there is a 
G~ set of zero-measure B 
whzch is built like 
B 
(in the 
sense that it has the same code). 
We claim that if ~ is the interpreta- 
tion of the term T,then B belongs to 
B. 
If this is not the case, there 
exists a condition 
p 
of • 
and an integer 
m 
such that 
p 
iF T~ 
n 
Uno 
n~ 
This means 
(3) 
Vn~m 
b I~ T does not extend s n 
Now, we pick an open neighborhood 
V of p 
in the basis that we have 
fixed; 
V 
appears infinitely many times in the sequence (Vn) so that we 
can pick an integer 
n~m for which 
V n = V. 
From property (2) above, we 
get, for some 
q~p : 
q 
I~ T extends s n 
but this contradicts (3). 
So we have shown that any real B, which 
appears in a generic extension, belongs to some G~ 
set of zero measure 
coded in the ground model M, hence is not random over M. 
3. LOCALLY COHERENT TOPOLOGICAL ORDERED SETS. 
3.1 
We now study the closure properties of the class of coherent 

topological ordered sets. 
This wili be useful to give the proof of 
theorem 1.3. 
We first note the following: 
PROPOSITION. 
Any separable, locally coherent, topological ordered set 
satisfies the c.c.c. 
PROOF. 
If (Vk) is a sequence of coherent open sets which is a countable 
basis for • , then, any set of cardinality ~I has two different members 
in some 
Vk, hence, it is not an antichain. 
3.2 
UD 
UD is a set of conditions used to add a new element of 
m~ domi- 
nating all members of 
~ 
lying in the ground model. 
UD consists of 
pairs (k,f) with 
kc~ and 
f c~; 
the ordering on UD is given by: 
(£,g) 
< (k,f) if £ exceeds k, f~k = g~k and ~n f(n) ~g(n) 
where fFk denotes the restriction of f to integers <k. 
UD is endowed 
with the topology induced by the usual topology on 
mx~ . Clearly, this 
topology has a countable basis; 
furthermore, 
if a condition (k,f) is 
given, then 
{(k,g) 
: g~k = f~k} 
is a coherent open set containing the given condition (k,f); thus, we 
have proved the following: 
LEMMA. 
UD is a separable, locally coherent, topological ordered set. 
3.3 
Composition with UD. 
Let ~ 
be a separable, 
locally coherent, topological ordered 
set; 
as in Stern [7] , we will endow the one step iteration 
of ~ 
and UD with a topology. 
Actually, we will use a different topo- 
logy but it turns out that this gives a simpler and more straightforward 
definition which is enough for our purposes. 
Recall that 
• ~ UD consists of triples (p,k,T) where 
i) 
p c 
ii) 
k e 
iii) 
T is a term of the forcing language and 
p I> T is a mapping 
from the integers to the integers 
iv) 
for any 
i<k, p I~ T(i) = j 
for some j. 
We identify conditions (p,k,T) and (p,k,o) whenever 
p I> T = o. 
The ordering on ~ 
~ UD is defined by 
(q,£,~)~(p,k,T) 
~f 
q~p, 
£ ~k 
and 

400 
q I~ Vn 
o(n) ~ ~(n) 
q l~ Vi<k o(i) = T(i). 
We then define subsets of ~ 
~ UD by : 
A (V,k,u,v) 
= 
{(p,k,~) 
: pcV 
and 
p I~ T(u) 
= v} 
r (V) 
= 
{(p,0,T) 
: pcV 
and 
p I~ Vn T(n) = 0} 
where 
V 
is an open subset of ~, and 
k,u,v 
are integers; 
finally, 
we endow • ~ UD with the topology generated by all these subsets. 
Actually, the same topology is obtained if we restrict the open set 
V 
to range over a countable basis of ~; 
from this, it follows that the 
topology defined on ~ 
~ 
UD is separable. 
Actually, we have 
LEMMA: 
~ 
~ 
UD is a separable, locally coherent, topological ordered 
set. 
PROOF: 
given a condition (p,k,T), we pick a coherent open subset 
V 
of • 
containing p; 
now for any integer 
i<k 
there is an integer 
j(i), such that: 
p I~ T(i) = j(i) 
we claim that the intersection 
U 
of the sets 
A (V,k,i,j(i)) 
i<k 
is a coherent open neighborood of 
(p,k,T); 
indeed if conditions 
(Pl,k, T I) ..... (Pr,k,Tr) are given in U, we can find a common lower 
bound 
q 
to 
Pl ..... Pr; 
if o is a term of the forcing language such 
that 
q I~ ~ is the supremum of 
~l,...,Tr 
then, it is easy to check that condition (q,k,o) lies below all condi- 
tions (Pl,k,Tl) ..... (Pr,k,Tr). 
We now define an embedding 
k 
from • 
into • ~ UD by: 
k(p) = (p,O,~) 
where ~ is a term of the forcing language such that 
[Vn 
~(n) = 0 ] = ~. 
It is not difficult to verify that 
k 
has the following properties: 
i) 
k 
is a homeomorphism from P 
onto an open subset of 
P 
~ 
UD 
ii) 
k 
is increasing 
iii) 
if p,p' are incompatible, then, 
k(p) and k(p') are incom- 
patible in ~ ~ UD. 
iv) 
if ~is 
a maximal antichain in P, k(~) 
is a maximal anti- 
chain in • ~ UD. 

401 
Embeddings satisfying properties 
i) to 
iv) are called sweet 
in 
[.7 ] and we keep this terminology. 
3.4 
Composition with Mathias forcing. 
As in the previous section, 
• 
is a separable, locally coherent, 
topological ordered set; 
we assume that some term U of the forcing 
language is such that 
[ U is a Ramsey ultrafilter on ~ 
~ = 
I 
We then consider the one step iteration 
of P 
and Mathias forcing 
(see Mathias [i]), 
which we denote by ~ ~ M u ; ~ ~ M U 
consists of 
triples (p,s,T) such that 
i) 
p c 
ii) 
s is a finite sequence of integers 
iii) 
T is a term of the forcing language and 
p IF T ~ U. 
We identify conditions (p,s,~) and (p,s,o) whenever 
p IF T = o. 
The ordering on ~ 
~ 
M u is defined by 
(q,t,o) ~(p,s,T) 
if q <p, t extends s, 
q IF t-s 
! T 
and 
q IF o!T. 
In order to define a topology, we consider the sets 
A(V,s) = {(p,s,T) : p~V} 
F(V) 
= {(p,0,T) : p~V 
and p T~ T = w}. 
where 
V 
is an open set of • 
and 
s 
a sequence of integers; 
we 
endow • ~ M u with the topology generated by all these subsets. 
As in 
the previous section, we can restrict the open sets 
V 
to range over a 
countable basis of P , hence, the topology is separable. 
LEMMA. 
~ ~ M U is a separable, locally coherent topological ordered set. 
PROOF. 
Given a condition (p,s,@, we pick a coherent open subset 
V 
of 
P 
containing p; 
we claim that A(V,s) is a coherent open neighborhood 
of (p,s,T); 
indeed, if conditions (Pl,S,~l) ..... (Pr,S,Tr) are given in 
A(V,s) we can find a common lower bound 
q 
to 
PI' .... Pr; 
if o is a 
term of the forcing language such that 
r 
q IF o = 
n T i 
i=l 
then (q,s,o) lies below all conditions (Pl,S,rl),...,(Pr,S,rr). 
We finally define an embedding 
k : ~ ÷~ 
s M U by 
k(p) = (p,~,~) ; 
it is not difficult to check that it is a sweet embedding. 
4. GENERIC MODELS WITHOUT RANDOM REALS. 

402 
4.1 
In order to prove theorem 1.3, we start with a model of ZFC+V = L 
and, in this model, we define a transfinite sequence of Length ~I of 
separable, locally coherent topological ordered sets ( ~ 
), together 
with sweet embeddings 
k~: P~ + ~, 
~<~<~" i such that whenever 
~<~<p k~p= k~pk~. 
The definition is by transfinite induction: 
i) ~o 
is 
UD 
ii) 
if ~ is even ~+i 
is ~ 
~ UD, where ~ 
® UD is endowed 
with the topology defined in section 3.3. and k~ +I 
is the 
embedding defined in the same section; 
k~+l if defined by 
composition for ~<~. 
iii) 
if ~ is odd, we note that since ~ 
is a separable locally 
coherent space, it is c.c.c 
and therefore the continuum 
hypothesis holds in any generic extension of the ground model 
via a generic subset of ~g ; as is well-known, the existence 
of a Ramsey ultrafilter follows from CH; 
using the so-called 
maximum principle 
we can find a term U in the forcing 
language corresponding to ~ 
such that: 
U is a Ramsey ultrafilter ] = I; 
we then define ~+I 
to be ~ 
MU; 
the topology on P~+I and 
the embedding k~+l : ~+i ÷ ~+I are defined according to sec- 
tion 3.4; k~+l is defined by composition for ~<~. 
iv) 
if ~ is a limit ordinal, ~% is the direct limit of the sys- 
tem given by ( ~)~<A together with the maps (k~)~<~<%; 
(k~) are the limit maps. 
The topology on ~% is the limit 
topology whose open sets are exactly the sets X !~% such 
that 
-I 
~<A 
k~% (X) is open. 
LEMMAo ~% 
is a separable, locally coherent topological ordered set; 
furthermore, the limit maps 
k~% are sweet embeddings. 
PROOF. 
We note that, for any ¢<%, k~%(~ ) is an open subset of ~%; 
this is because 
k~ is an embedding from ~ 
onto an open subset of 
~; 
from this, it £oliows that ~% 
has a countable basis; 
a basis for 
~% 
is obtained in the following way : take a countable basis for each 
• ~; 
apply 
k~ 
; take the union o~ all these sets° 
Similarly, the 
local coherence of ~% stems from the fact that ~% 
is the union of the 
open sets k~ (~). 
The fact that k~ 
is an homeomorphism of ~ 
onto an open subset of ~% 
is proved by a similar argument. 
There 

403 
remains to check conditions 
ii) to 
iv) of the definition of sweet em- 
beddings; but these are standard facts on direct limits. 
4.2 
We let • 
be the direct limit of the ordered sets (~) 
and 
maps 
k~ defined in the previous section. 
~ is c.c.c so that in the 
corresponding generic extension M[G], cardinals are preserved and the 
continuum hypothesis holds; 
also, any real of 
M[G] appears in an 
intermediate generic extension obtained by forcing with some ~ 
Because 
P~ 
is a separable, locally coherent space, no random real can 
be found in such an intermediate extension; 
finally, no random real can 
i 
exist in 
M[G], so that there is a 
~ 
non-measurable set in this model. 
We now prove the following. 
l 
PROPOSITION. 
In the model 
M[G], every E 2 
set has the property of Baire. 
1 
PROOF. 
It is well known that 
~2 sets have the property of Baire if and 
only if, for any real 6, there exists a dense 
% 
of cohen generic reals 
over 
L[~] (see eg [61). Also, it is known that any model ob- 
tained by performing iterations of length 
H I of c.c.c ordered sets has 
this property, as long as iterations with 
UD 
appear cofinally (for a 
proof see E71 section 1.3.2). From these observations, the proposition 
follows. 
4.3 We now turn to the Ramsey property; 
PROPOSITION. 
In the model 
M[G], every 
~2 set is R~msey. 
i 
PROOF. 
Let 
~(x,e) 
be a 
~2 statement with a real parameter 6; 
this 
parameter appears in an intermediate generic extension corresponding to 
some ~ 
and we may assume that ~ is odd so that ~+I 
= ~$ ~ MU' where 
U is a term denoting a Ramsey ultrafilter. 
We let M~ (resp. M~+ I) be the 
generic extension corresponding to ~(resp. 
~+i ) . We now work in M~; 
M~+ 1 is obtained from this model by forcing with Mathias forcing [11; 
we let y be a term of this forcing denoting the generic subset of m wich 
is added; 
it is well known that for some condition of type (0,a), 
(I) 
(O,a) I~ ~(¥,~) 
or 
(O,a) l~(y,e) 
where ~ is a term denoting 6. 
Now, it is known also that, if 
g 
is a 
generic subset of ~ added via Mathias forcing, any infinite subset of g 
is generic as well. 
From these observations it follows that 
i) 
either any infinite subset 
g' 
of gna is such that 
M~(g') ~ ~(g',6). 
ii) 
or else any such infinite subset is such that 
M~ (g') ~ ~ 
~(g',~). 

404 
By Shoenfield absoluteness lemma, we get, in the first case, that the 
following holds in 
M[G] 
i) 
P (gna) ! {x : ~(x,e)} 
where P (gna) is the set of infinite subsets of gna; 
in the second case, we get similarly: 
ii) 
P (gna) ! {x : ~ 6(x,~)}; 
l 
thus, the R~msey property for 
~2 sets is established. 
4.4 
We now turn to the proof of theorem 1.4. 
If we look at Shelah's paper [ 5] we realize that this model of 
ZF+DC where all sets of reals have the property of Baire is built by 
a transfinite induction of length ~i, similar to the one we have per- 
formed in section 4.3 but -of course- more elaborated; 
we also realize 
that the intermediate partially ordered set built after each countable 
step of the interaction is o-centered; 
from these observations, theorem 
1.4 follows. 
For those who are interested in the approach via topological ordered sets, 
we will sketch an alternative proof based on our paper [ 7 ] . 
Contrary to what we have tried to do in the rest of the paper, it will 
not be possible to make this section self-contained; 
therefore, we 
assume that the reader is familiar with 
[ 7 ] and with the 
notion of sweet topological ordered set, which appears there. 
DEFINITION. 
An ordered topological space is supersweet if it sweet and 
satisfies the following property: 
(*) 
given conditions p,q,q ~p, together with a neighborhood 
V 
of 
q, there exists a neighborhood W 
of p, such tbat any finite number of 
elements of 
W 
have a common lower bound in V. 
Clearly, any supersweet space is locally coherent. 
In order to prove theorem 1.4, one has to go through the constructions 
of 
E7] 
and check that they can be performed using super- 
sweet ordered sets instead of sweet ones. 
This amounts to showing that 
supersweet sets are closed under amalgamation, composition with UD and 
direct limits (under sweet maps). 
Direct limits and amalgamation are 
easily handled so we restrict ourselves to composition. 
We refer to 
§3 of 
[7] 
and recall that the topology on ~ 
e 
UD, which 
is defined there and which we consider now, is not 
the one which 
appears above in section 3.3. 
We claim that if • 
is supersweet, the 

405 
same is true of P ~ UD. 
We note that by section i.i of 
[7] 
(proposition i), it is enough to verify the following weakened form of 
(*): 
(**) 
For any condition 
p 
and any neighborbood V 
of p, there exists 
a neighborhood W 
of p 
such that any finite number of elements of 
W 
have a common lower bound in V. 
Following the notations of 
[7] , we consider a condition 
(p,k,~), together with an open neighborhood V; 
we may assume that 
V 
is 
the intersection of some 
B(i,k) with finitely many open sets 
A(il,n I) .... ,A(is,ns), plus possibly the set 
k( ~); 
we first choose 
extensions 
ql,...,qs of p lying inBil'"°Bis 
respectively and such that 
ql i~ ~nl (~)'''"qs 
ID ~n s (T); 
then, we pick open neighborhoods 
Bjl .... ,Bjs 
of 
ql .... 'qs respectively such that: 
any finite subset of 
Bjl has a lower bound in 
Bil (similarly for 
Bj 2 .... ). 
Next, we pick a neighborhood B 
of 
p 
included in 
B. 
such that any 
T 
l 
element of 
B 
has extensions in 
BJI,B j .... ,Bis.~ Finally, we choose 
2 
a neighborhood Bj 
of 
p 
such that any finite subset of 
Bj 
has a lower 
bound in B . 
i 
We let 
W ° = B(j,k)nA(Jl,nl) n...n A(Js,ns). 
We let 
t be a finite 
set of integers such that p L~ T~ k = t; 
if conditions 
(Pl,k,Tl) ..... (Pr,k,~r) 
are given in Wo, with 
(I) 
Pl IF Tl~k = t,...,pr IF Tr Ik = t 
then, we can build a common lower bound by considering an element q of 
B 
below P'Pl ..... Pr and a term o of the forcing language such that 
T 
q IF a = sup (T I ..... Tr). 
CLAIM i: 
Condition 
(q,k,a) belongs to 
B(i,k). 
PROOF OF CLAIM: 
this is because 
q e B 
! B i- 
l 
CLAIM 2: 
Condition (q,k,o) belongs to A(il,nl) ..... A(is,ns). 
PROOF OF CLAIM. 
We focus on A(il,n I) and we write 
n 
for 
n I as no 
v 
confusion can arise. 
We pick extensions P'I ..... P r of pl,...,pr res- 
pectively, lying in Bjl and forcing 
~n(Tl) .... ,~n(Tr); 
we also pick 

406 
an extension p' of q, lying in B. 
: this is possible because q belongs 
Jl 
to B . Now, any common extension q to p' 'Pl 
"" 'Pr lying in B. forces 
~n(Tl) ^ . . .^~n(Tr) 
as 
~n(T) is a statement like 
T(u) ~<v, ~(u) ~>v, Vm T(m) = 0, it is easy 
to see that 
q IP ~n(O) 
this shows why 
(q,k,a) belongs to 
A(il,n). 
Now, we show that the statement 
Pl I~ Tl~k = t 
can be ensured by taking (Pl,k,~l) in some open set WI; for any integer 
u<k, there exists an integer 
v 
such that 
p I~ ~(u) = v; 
we let W I be the intersection of all open sets 
A(j,n), when 
~n is 
any of the corresponding statements 
T(u) ~<v, T(u) ~>v; clearly, if 
(Pl,k,Tl) is in W I 
then Pl 
can only decide 
TIFk to coincide with t. 
Finally, 
we have shown that any finite subset of WonW I has a lower 
bound in V, except if k(]P) 
appears in the definition of V; 
in this 
case, we simply replace 
WonW I by WoOWlnk(~). 
This completes the 
proof of theorem 1o4. 
[i] Mathias, A.R.D. 
[2] Miller, A.W. 
[3] Raisonnier,J. 
[4] Raisonnier,J. 
Stern, J. 
[5] Shelah, S. 
[6] Stern,J. 
REFERENCES 
Happy families, 
Annals of Math.Logic,12(1977)pp. 
59-111. 
Some properties of measure and category.Transac- 
tions of the Amer.Math.Soc. 266(1981),pp.93-I14. 
A mathematical proof of S. Shelah's theorem on 
the measure problem and related results, Israel 
J.Math. (to appear). 
The strength of measurability hypotheses. (to 
appear). 
Can you take Solovay's inaccessible away? 
(to appear) 
Some measure theoretic results in effective des- 
criptive set theory,Israel J.Math.20(1975) 
pp. 97-110. 

E7] Stern, J. 
407 
Regu%arity properties of definable sets of reals. 
(to appear). 

