Reprints in Theory and Applications of Categories, No. 1, 2005, pp. 1‚Äì289.
TOPOSES, TRIPLES AND THEORIES
MICHAEL BARR AND CHARLES WELLS
Originally published as: 1984
The Ô¨Årst author gratefully acknowledges the support he has received from the NSERC of Canada for
the last thirty seven years.
Received by the editors xxx and, in revised form, xxx.
Reprint published on xxx.
2000 Mathematics Subject ClassiÔ¨Åcation: 18B25, 18C15, 18C10.
Key words and phrases: Toposes, triples, theories.
1

Michael Barr
Charles Wells
Toposes, Triples
and Theories
Version 1.1, Reprinted by Theory and Applications of Categories
Copyright 2000 by Michael Barr and Charles Frederick Wells.
This version may be downloaded and printed in unmodiÔ¨Åed form for private
use only.

Michael Barr
Peter Redpath Professor Emeritus of Pure Mathematics, McGill University
mbarr@barrs.org
Charles Wells
Professor Emeritus of Mathematics, Case Western Reserve University
AÔ¨Éliate Scholar, Oberlin College
cwells@oberlin.net

To Marcia and Jane

Contents
Preface
vi
1.
Categories
1
1
DeÔ¨Ånition of category . . . . . . . . . . . . . . . . . . . . . . . . .
1
2
Functors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
10
3
Natural transformations . . . . . . . . . . . . . . . . . . . . . . . .
14
4
Elements and Subobjects . . . . . . . . . . . . . . . . . . . . . . .
17
5
The Yoneda Lemma . . . . . . . . . . . . . . . . . . . . . . . . . .
22
6
Pullbacks
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
25
7
Limits
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
31
8
Colimits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
41
9
Adjoint functors
. . . . . . . . . . . . . . . . . . . . . . . . . . . .
47
10
Filtered colimits
. . . . . . . . . . . . . . . . . . . . . . . . . . . .
58
11
Notes to Chapter I . . . . . . . . . . . . . . . . . . . . . . . . . . .
61
2.
Toposes
63
1
Basic Ideas about Toposes
. . . . . . . . . . . . . . . . . . . . . .
63
2
Sheaves on a Space . . . . . . . . . . . . . . . . . . . . . . . . . . .
67
3
Properties of Toposes . . . . . . . . . . . . . . . . . . . . . . . . .
73
4
The Beck Conditions
. . . . . . . . . . . . . . . . . . . . . . . . .
78
5
Notes to Chapter 2
. . . . . . . . . . . . . . . . . . . . . . . . . .
81
3.
Triples
83
1
DeÔ¨Ånition and Examples
. . . . . . . . . . . . . . . . . . . . . . .
83
2
The Kleisli and Eilenberg-Moore Categories . . . . . . . . . . . .
88
3
Tripleability . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
93
4
Properties of Tripleable Functors . . . . . . . . . . . . . . . . . .
104
5
SuÔ¨Écient Conditions for Tripleability . . . . . . . . . . . . . . . .
109
6
Morphisms of Triples
. . . . . . . . . . . . . . . . . . . . . . . . .
111
7
Adjoint Triples . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
115
8
Historical Notes on Triples . . . . . . . . . . . . . . . . . . . . . .
121
4.
Theories
123
1
Sketches . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
124
2
The Ehresmann-Kennison Theorem . . . . . . . . . . . . . . . . .
128
3
Finite-Product Theories . . . . . . . . . . . . . . . . . . . . . . . .
130
4
Left Exact Theories
. . . . . . . . . . . . . . . . . . . . . . . . . .
136
5
Notes on Theories
. . . . . . . . . . . . . . . . . . . . . . . . . . .
145

5.
Properties of Toposes
148
1
Tripleability of P . . . . . . . . . . . . . . . . . . . . . . . . . . . .
148
2
Slices of Toposes . . . . . . . . . . . . . . . . . . . . . . . . . . . .
150
3
Logical Functors
. . . . . . . . . . . . . . . . . . . . . . . . . . . .
152
4
Toposes are Cartesian Closed
. . . . . . . . . . . . . . . . . . . .
157
5
Exactness Properties of Toposes . . . . . . . . . . . . . . . . . . .
159
6
The Heyting Algebra Structure on ‚Ñ¶. . . . . . . . . . . . . . . .
166
6.
Permanence Properties of Toposes
170
1
Topologies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
170
2
Sheaves for a Topology
. . . . . . . . . . . . . . . . . . . . . . . .
175
3
Sheaves form a topos
. . . . . . . . . . . . . . . . . . . . . . . . .
180
4
Left exact cotriples . . . . . . . . . . . . . . . . . . . . . . . . . . .
182
5
Left exact triples . . . . . . . . . . . . . . . . . . . . . . . . . . . .
185
6
Categories in a Topos . . . . . . . . . . . . . . . . . . . . . . . . .
189
7
Grothendieck Topologies
. . . . . . . . . . . . . . . . . . . . . . .
195
8
Giraud‚Äôs Theorem
. . . . . . . . . . . . . . . . . . . . . . . . . . .
199
7.
Representation Theorems
207
1
Freyd‚Äôs Representation Theorems . . . . . . . . . . . . . . . . . .
207
2
The Axiom of Choice
. . . . . . . . . . . . . . . . . . . . . . . . .
211
3
Morphisms of Sites . . . . . . . . . . . . . . . . . . . . . . . . . . .
215
4
Deligne‚Äôs Theorem . . . . . . . . . . . . . . . . . . . . . . . . . . .
221
5
Natural Number Objects . . . . . . . . . . . . . . . . . . . . . . .
222
6
Countable Toposes and Separable Toposes . . . . . . . . . . . . .
230
7
Barr‚Äôs Theorem . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
235
8
Notes to Chapter 7
. . . . . . . . . . . . . . . . . . . . . . . . . .
237
8.
Cocone Theories
240
1
Regular Theories . . . . . . . . . . . . . . . . . . . . . . . . . . . .
240
2
Finite Sum Theories . . . . . . . . . . . . . . . . . . . . . . . . . .
243
3
Geometric Theories
. . . . . . . . . . . . . . . . . . . . . . . . . .
244
4
Properties of Model Categories
. . . . . . . . . . . . . . . . . . .
246
9.
More on Triples
252
1
Duskin‚Äôs Tripleability Theorem
. . . . . . . . . . . . . . . . . . .
252
2
Distributive Laws
. . . . . . . . . . . . . . . . . . . . . . . . . . .
259
3
Colimits of Triple Algebras . . . . . . . . . . . . . . . . . . . . . .
264
4
Free Triples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
268
Bibliography
275
Index of exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
280
Index . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
284

Preface
Preface to Version 1.1
This is a corrected version of the Ô¨Årst (and only) edition of the text, published by in
1984 by Springer-Verlag as Grundlehren der mathematischen Wissenschaften 278. It is
available only on the internet, at the locations given on the title page.
All known errors have been corrected. The Ô¨Årst chapter has been partially revised and
supplemented with additional material. The later chapters are essentially as they were in
the Ô¨Årst edition. Some additional references have been added as well (discussed below).
Our text is intended primarily as an exposition of the mathematics, not a historical
treatment of it. In particular, if we state a theorem without attribution we do not in any
way intend to claim that it is original with this book. We note speciÔ¨Åcally that most of the
material in Chapters 4 and 8 is an extensive reformulation of ideas and theorems due to C.
Ehresmann, J. B¬¥enabou, C. Lair and their students, to Y. Diers, and to A. Grothendieck
and his students. We learned most of this material second hand or recreated it, and so
generally do not know who did it Ô¨Årst. We will happily correct mistaken attributions
when they come to our attention.
The bibliography. We have added some papers that were referred to in the original
text but didn‚Äôt make it into the bibliography, and also some texts about the topics herein
that have been written since the Ô¨Årst edition was published. We have made no attempt
to include research papers written since the Ô¨Årst edition.
Acknowledgments. We are grateful to the following people who pointed out errors
in the Ô¨Årst edition: D. ÀáCubri¬¥c, Samuel Eilenberg, Felipe Gago-Cuso, B. Howard, Pe-
ter Johnstone, Christian Lair, Francisco Marmolejo, Colin McLarty, Jim Otto, Vaughan
Pratt, Dwight Spencer, and Fer-Jan de Vries.
When (not if) other errors are discovered, we will update the text and increase the
version number. Because of this, we ask that if you want a copy of the text, you download
it from one of our sites rather than copying the version belonging to someone else.
Preface to the First Edition
A few comments have been added, in italics, to the original preface. As its title suggests,
this book is an introduction to three ideas and the connections between them. Before
describing the content of the book in detail, we describe each concept brieÔ¨Çy.
More
vi

TOPOSES, TRIPLES AND THEORIES
vii
extensive introductory descriptions of each concept are in the introductions and notes to
Chapters 2, 3 and 4.
A topos is a special kind of category deÔ¨Åned by axioms saying roughly that certain
constructions one can make with sets can be done in the category. In that sense, a topos
is a generalized set theory.
However, it originated with Grothendieck and Giraud as
an abstraction of the properties of the category of sheaves of sets on a topological space.
Later, Lawvere and Tierney introduced a more general idea which they called ‚Äúelementary
topos‚Äù (because their axioms were Ô¨Årst order and involved no quantiÔ¨Åcation over sets),
and they and other mathematicians developed the idea that a theory in the sense of
mathematical logic can be regarded as a topos, perhaps after a process of completion.
The concept of triple originated (under the name ‚Äústandard constructions‚Äù) in Gode-
ment‚Äôs book on sheaf theory for the purpose of computing sheaf cohomology. Then Peter
Huber discovered that triples capture much of the information of adjoint pairs. Later
Linton discovered that triples gave an equivalent approach to Lawvere‚Äôs theory of equa-
tional theories (or rather the inÔ¨Ånite generalizations of that theory). Finally, triples have
turned out to be a very important tool for deriving various properties of toposes.
Theories, which could be called categorical theories, have been around in one incarna-
tion or another at least since Lawvere‚Äôs Ph.D. thesis. Lawvere‚Äôs original insight was that a
mathematical theory‚Äîcorresponding roughly to the deÔ¨Ånition of a class of mathematical
objects‚Äîcould be usefully regarded as a category with structure of a certain kind, and a
model of that theory‚Äîone of those objects‚Äîas a set-valued functor from that category
which preserves the structure. The structures involved are more or less elaborate, de-
pending on the kind of objects involved. The most elaborate of these use categories which
have all the structure of a topos.
Chapter 1 is an introduction to category theory which develops the basic constructions
in categories needed for the rest of the book. All the category theory the reader needs
to understand the book is in it, but the reader should be warned that if he has had no
prior exposure to categorical reasoning the book might be tough going. More discursive
treatments of category theory in general may be found in Borceux [1994], Mac Lane [1998],
and Barr and Wells [1999]; the last-mentioned could be suitably called a prequel to this
book.
Chapters 2, 3 and 4 introduce each of the three topics of the title and develop them
independently up to a certain point. Each of them can be read immediately after Chapter
1. Chapter 5 develops the theory of toposes further, making heavy use of the theory of
triples from Chapter 3. Chapter 6 covers various fundamental constructions which give
toposes, with emphasis on the idea of ‚Äútopology‚Äù, a concept due to Grothendieck which
enables us through Giraud‚Äôs theorem to partially recapture the original idea that toposes
are abstract sheaf categories. Chapter 7 provides the basic representation theorems for
toposes. Theories are then carried further in Chapter 8, making use of the representation
theorems and the concepts of topology and sheaf. Chapter 9 develops further topics in
triple theory, and may be read immediately after Chapter 3. Thus in a sense the book,
except for for Chapter 9, converges on the exposition of theories in Chapters 4 and 8. We

viii
MICHAEL BARR AND CHARLES WELLS
hope that the way the ideas are applied to each other will give a coherence to the many
topics discussed which will make them easier to grasp.
We should say a word about the selection of topics. We have developed the introduc-
tory material to each of the three main subjects, along with selected topics for each. The
connections between theories as developed here and mathematical logic have not been
elaborated; in fact, the point of categorical theories is that it provides a way of making
the intuitive concept of theory precise without using concepts from logic and the theory
of formal systems. The connection between topos theory and logic via the concept of the
language of a topos has also not been described here. Categorical logic is the subject of
the book by J. Lambek and P. Scott [1986] which is nicely complementary to our book.
Another omission, more from lack of knowledge on our part than from any philo-
sophical position, is the intimate connection between toposes and algebraic geometry. In
order to prevent the book from growing even more, we have also omitted the connection
between triples and cohomology, an omission we particularly regret. This, unlike many
advanced topics in the theory of triples, has been well covered in the literature. See also
the forthcoming book, Acyclic Models, by M. Barr.
Chapters 2, 3, 5, 6 and 7 thus form a fairly thorough introduction to the theory of
toposes, covering topologies and the representation theorems but omitting the connections
with algebraic geometry and logic. Adding chapters 4 and 8 provides an introduction to
the concept of categorical theory, again without the connection to logic. On the other
hand, Chapters 3 and 9 provide an introduction to the basic ideas of triple theory, not
including the connections with cohomology.
It is clear that among the three topics, topos theory is ‚Äúmore equal‚Äù than the others
in this book. That reÔ¨Çects the current state of development and, we believe, importance
of topos theory as compared to the other two.
Foundational questions. It seems that no book on category theory is considered
complete without some remarks on its set-theoretic foundations.
The well-known set
theorist Andreas Blass gave a talk (published in Gray [1984]) on the interaction between
category theory and set theory in which, among other things, he oÔ¨Äered three set-theoretic
foundations for category theory. One was the universes of Grothendieck (of which he
said that one advantage was that it made measurable cardinals respectable in France)
and another was systematic use of the reÔ¨Çection principle, which probably does provide a
complete solution to the problem; but his Ô¨Årst suggestion, and one that he clearly thought
at least reasonable, was: None. This is the point of view we shall adopt.
For example, we regard a topos as being deÔ¨Åned by its elementary axioms, saying
nothing about the set theory in which its models live. One reason for our attitude is that
many people regard topos theory as a possible new foundation for mathematics. When we
refer to ‚Äúthe category of sets‚Äù the reader may choose between thinking of a standard model
of set theory like ZFC and a topos satisfying certain additional requirements, including
at least two-valuedness and choice.

TOPOSES, TRIPLES AND THEORIES
ix
We will occasionally use procedures which are set-theoretically doubtful, such as the
formation of functor categories with large exponent. However, our conclusions can always
be justiÔ¨Åed by replacing the large exponent by a suitable small subcategory.
Terminology and notation. With a few exceptions, we usually use established ter-
minology and standard notation; deviations from customary usage add greatly to the
diÔ¨Éculties of the reader, particularly the reader already somewhat familiar with the sub-
ject, and should be made only when the gain in clarity and eÔ¨Éciency are great enough to
overcome the very real inconvenience they cause. In particular, in spite of our recognition
that there are considerable advantages to writing functions on the right of the argument
instead of the left and composing left to right, we have conformed reluctantly to tradition
in this respect: in this book, functions are written on the left and composition is read
right to left.
We often say ‚Äúarrow‚Äù or ‚Äúmap‚Äù for ‚Äúmorphism‚Äù, ‚Äúsource‚Äù for ‚Äúdomain‚Äù and ‚Äútarget‚Äù
for ‚Äúcodomain‚Äù. We generally write ‚ÄúŒ±X‚Äù instead of ‚ÄúŒ±X‚Äù for the component at X of the
natural transformation Œ±, which avoids double subscripts and is generally easier to read.
It also suppresses the distinction between the component of a natural transformation at
a functor and a functor applied to a natural transformation. Although these two notions
are semantically distinct, they are syntactically identical; much progress in mathematics
comes about from muddying such distinctions.
Our most signiÔ¨Åcant departures from standard terminology are the adoption of Freyd‚Äôs
use of ‚Äúexact‚Äù to denote a category which has all Ô¨Ånite limits and colimits or for a
functor which preserves them and the use of ‚Äúsketch‚Äù in a sense diÔ¨Äerent from that of
Ehresmann. Our sketches convey the same information while being conceptually closer
to naive theories.
There are two diÔ¨Äerent categories of toposes: one in which the geometric aspect is
in the ascendent and the other in which the logic is predominant. The distinction is
analogous to the one between the categories of complete Heyting algebras and that of
locales. Thinking of toposes as models of a theory emphasizes the second aspect and that
is the point of view we adopt. In particular, we use the term ‚Äúsubtopos‚Äù for a subcategory
of a topos which is a topos, which is diÔ¨Äerent from the geometric usage in which the right
adjoint is supposed an embedding.
Historical notes. At the end of many of the chapters we have added historical notes.
It should be understood that these are not History as that term is understood by the
historian. They are at best the raw material of history.
At the end of the Ô¨Årst draft we made some not very systematic attempts to verify
the accuracy of the historical notes. We discovered that our notes were divided into two
classes: those describing events that one of us had directly participated in and those that
were wrong! The latter were what one might conjecture on the basis of the written record,
and we discovered that the written record is invariably misleading. Our notes now make
only statements we could verify from the participants. Thus they are incomplete, but we
have some conÔ¨Ådence that those that remain have some relation to the actual events.

x
MICHAEL BARR AND CHARLES WELLS
What is expected from the reader. We assume that the reader is familiar with
concepts typically developed in Ô¨Årst-year graduate courses, such as group, ring, topological
space, and so on. The elementary facts about sheaves which are needed are developed
in the book. The reader who is familiar with the elements of category theory including
adjoint functors can skip nearly all of Chapter 1; he may need to learn the element
notation introduced in Section 1.4 and the square bracket notation deÔ¨Åned in Sections 1.6
and 1.7.
Most of the exercises provide examples or develop the theory further. We have mostly
avoided including exercises asking for routine veriÔ¨Åcations or giving trivial examples. On
the other hand, most routine veriÔ¨Åcations are omitted from the text; usually, in a proof,
the basic construction is given and the veriÔ¨Åcation that it works is left to the reader (but
the Ô¨Årst time a veriÔ¨Åcation of a given type is used it is given in more detail). This means
that if you want to gain a thorough understanding of the material, you should be prepared
to stop every few sentences (or even every sentence) and verify the claims made there in
detail. You should be warned that a statement such as, ‚ÄúIt is easy to see...‚Äù does not
mean it is necessarily easy to see without pencil and paper!
Acknowledgments. We are grateful to Barry Jay, Peter Johnstone, Anders Linn¬¥er,
John A. Power and Philip Scott for reading portions of the manuscript and making many
corrections and suggestions for changes; we are particularly grateful to Barry Jay, who
up to two weeks before the Ô¨Ånal printout was still Ô¨Ånding many obscurities and typoes
and some genuine mathematical errors. We have beneÔ¨Åted from stimulating and infor-
mative discussions with many people including, but not limited to Marta Bunge, Radu
Diaconescu, John W. Duskin, Michael Fourman, Peter Freyd, John Gray, Barry Jay, Peter
Johnstone, Andr¬¥e Joyal, Joachim Lambek, F. William Lawvere, Colin McLarty, Michael
Makkai and Myles Tierney. We would like to give especial thanks to Roberto Minio who
expended enormous eÔ¨Äort in turning a string of several million zeroes and ones into the
text you see before you; John Aronis also helped in this endeavor, which took place at
Carnegie-Mellon University with the encouragement and cooperation of Dana Scott.
We are also grateful to Beno Eckmann, who brought us together at the Forschungs-
institut f¬®ur Mathematik, ETH Z¬®urich. If Eilenberg and Mac Lane were the fathers of
categorical algebra, Eckmann was in a very real sense the godfather. Many of the most
important developments in categorical algebra and categorical logic took place in the
oÔ¨Éces of the Forschungsinstitut, which was then on Zehnderweg.
Portions of this book were written while both authors were on sabbatical leave from
their respective institutions. The Ô¨Årst author was supported during the writing by grants
from the National Science and Engineering Research Council, by a team grant from the
Minist`ere de l‚Äô¬¥Education du Qu¬¥ebec and by a grant to the Groupe Interuniversitaire en
¬¥Etudes Cat¬¥egories, also from the Minist`ere de l‚Äô¬¥Education du Qu¬¥ebec. The second author
was partially supported by DOE contract DE-AC01-80RA5256. In addition we received
considerable free computing time from the McGill University Computing Centre.

TOPOSES, TRIPLES AND THEORIES
xi
Chapter dependency chart.
9
5
3
9
3
5
?
?
?
?
?
?
?
?
?
?
?
?
?
?
3
5
?
?
?
?
?
?
?
?
?
?
?
?
?
?
1
3
1
5
1
22
5
6
7
8
4
7

1
4
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
1
7


1
Categories
1. DeÔ¨Ånition of category
A category C consists of two collections, Ob(C), whose elements are the objects of C,
and Ar(C), the arrows (or morphisms or maps) of C. To each arrow is assigned a
pair of objects, called the source (or domain) and the target (or codomain) of the
arrow. The notation f: A
/ B means that f as an arrow with source A and target B.
If f: A
/ B and g: B
/ C are two arrows, there is an arrow g ‚ó¶f: A
/ C called
the composite of g and f. The composite is not deÔ¨Åned otherwise. We often write gf
instead of g ‚ó¶f when there is no danger of confusion. For each object A there is an arrow
idA (often written 1A or just 1, depending on the context), called the identity of A, whose
source and target are both A. These data are subject to the following axioms:
1. for f: A
/ B,
f ‚ó¶idA = idB ‚ó¶f = f;
2. for f: A
/ B, g: B
/ C, h: C
/ D,
h ‚ó¶(g ‚ó¶f) = (h ‚ó¶g) ‚ó¶f
A category consists of two ‚Äúcollections‚Äù, the one of sets and the one of arrows. These
collections are not assumed to be sets and in many interesting cases they are not, as will
be seen. When the collection of arrows is a set then the category is said to be small.
It follows in that case that the collection of objects is also a set since there is one-one
correspondence between the objects and the identity arrows.
While we do not suppose in general that the arrows form a set, we do usually suppose
(and will, unless it is explicitly mentioned to the contrary) that when we Ô¨Åx two objects
A and B of C, that the collection of arrows with source A and target B is a set. This set
is denoted HomC(A, B). We will omit the subscript denoting the category whenever we
can get away with it. A set of the form Hom(A, B) is called a homset. Categories that
satisfy this condition are said to be locally small.
Many familiar examples of categories will occur immediately to the reader, such as the
category Set of sets and set functions, the category Grp of groups and homomorphisms,
1

2
MICHAEL BARR AND CHARLES WELLS
and the category Top of topological spaces and continuous maps. In each of these cases,
the composition operation on arrows is the usual composition of functions.
A more interesting example is the category whose objects are topological spaces and
whose arrows are homotopy classes of continuous maps. Because homotopy is compatible
with composition, homotopy classes of continuous functions behave like functions (they
have sources and targets, they compose, etc.) but are not functions. This category is
usually known as the category of homotopy types
All but the last example are of categories whose objects are sets with mathematical
structure and the morphisms are functions which preserve the structure. Many mathe-
matical structures are themselves categories. For example, one can consider any group G
as a category with exactly one object; its arrows are the elements of G regarded as having
the single object as both source and target. Composition is the group multiplication, and
the group identity is the identity arrow. This construction works for monoids as well. In
fact, a monoid can be deÔ¨Åned as a category with exactly one object.
A poset(partially ordered set) can also be regarded as a category: its objects are its
elements, and there is exactly one arrow from an element x to an element y if and only if
x ‚â§y; otherwise there are no arrows from x to y. Composition is forced by transitivity
and identity arrows by reÔ¨Çexivity. Thus a category can be thought of as a generalized
poset. This perception is important, since many of the fundamental concepts of category
theory specialize to nontrivial and often well-known concepts for posets (the reader is
urged to Ô¨Åll in the details in each case).
In the above examples, we have described categories by specifying both their objects
and their arrows. Informally, it is very common to name the objects only; the reader is
supposed to supply the arrows based on his general knowledge. If there is any doubt, it
is, of course, necessary to describe the arrows as well. Sometimes there are two or more
categories in general use with the same objects but diÔ¨Äerent arrows. For example, the
following three categories all have the same objects: complete sup-semilattices, complete
inf-semilattices, complete lattices. Further variations can be created according as the
arrows are required to preserve the top (empty inf) or bottom (empty sup) or both.
1.1. Some constructions for categories. A subcategory D of a category C is a
pair of subsets DO and DA of the objects and arrows of C respectively, with the following
properties.
1. If f ‚ààDA then the source and target of f are in DO.
2. If C ‚ààDO, then idC ‚ààDA.
3. If f, g ‚ààDA are a composable pair of arrows then g ‚ó¶f ‚ààDA.
The subcategory is full if for any C, D ‚ààDO, if f: C
/ D in C, then f ‚ààDA.
For example, the category of Abelian groups is a full subcategory of the category of
groups (every homomorphism of groups between Abelian groups is a homomorphism of
Abelian groups), whereas the category of monoids (semigroups with identity element) is

TOPOSES, TRIPLES AND THEORIES
3
a subcategory, but not a full subcategory, of the category of semigroups (a semigroup
homomorphism need not preserve 1).
One also constructs the product C √óD of two categories C and D in the obvious way:
the objects of C √ó D are pairs (A, B) with A an object of C and B an object of D. An
arrow
(f, g): (A, B)
/ (A‚Ä≤, B‚Ä≤)
has f: A
/ A‚Ä≤ in C and g: B
/ B‚Ä≤ in D. Composition is coordinatewise.
To deÔ¨Åne the next concept, we need the idea of commutative diagram. A diagram
is said to commute if any two paths between the same nodes compose to give the same
morphism. The formal deÔ¨Ånition of diagram and commutative diagram is given in 7.
If A is any object of a category C, the slice category C/A of objects of C over A has
as objects all arrows of C with target A. An arrow of C/A from f: B
/A to g: C
/A
is an arrow h: B
/ C making the following diagram commute.
B
A
f
?
?
?
?
?
?
?
?
?
?
?
?
?
B
C
h
/ C
A
g

In this case, one sometimes writes h: f
/ g over A.
It is useful to think of an object of Set/A as an A-indexed family of disjoint sets (the
inverse images of the elements of A). The commutativity of the above diagram means
that the function h is consistent with the decomposition of B and C into disjoint sets.
1.2. Definitions without using elements. The introduction of categories as a part
of the language of mathematics has made possible a fundamental, intrinsically categorical
technique: the element-free deÔ¨Ånition of mathematical properties by means of commuta-
tive diagrams, limits and adjoints. (Limits and adjoints are deÔ¨Åned later in this chapter.)
By the use of this technique, category theory has made mathematically precise the unity
of a variety of concepts in diÔ¨Äerent branches of mathematics, such as the many product
constructions which occur all over mathematics (described in Section 7) or the ubiqui-
tous concept of isomorphism, discussed below. Besides explicating the unity of concepts,
categorical techniques for deÔ¨Åning concepts without mentioning elements have enabled
mathematicians to provide a useful axiomatic basis for algebraic topology, homological
algebra and other theories.
Despite the possibility of giving element-free deÔ¨Ånitions of these constructions, it re-
mains intuitively helpful to think of them as being deÔ¨Åned with elements. Fortunately,
this can be done: In Section 4, we introduce a more general notion of element of an object
in a category (more general even when the category is Set) which in many circumstances
makes categorical deÔ¨Ånitions resemble familiar deÔ¨Ånitions involving elements of sets, and
which also provides an explication of the old notion of variable quantity.

4
MICHAEL BARR AND CHARLES WELLS
1.3. Isomorphisms and terminal objects. The notion of isomorphism can be given
an element-free deÔ¨Ånition for any category: An arrow f: A
/ B in a category is an
isomorphism if it has an inverse, namely an arrow g: B
/ A for which f ‚ó¶g = idB
and g ‚ó¶f = idA. In other words, both triangles of the following diagram must commute:
A
B
f
/
A
A
id

A
B
f
/ B
B
id

B
A
g

In a group regarded as a category, every arrow is invertible, whereas in a poset regarded
as a category, the only invertible arrows are the identity arrows (which are invertible in
any category).
It is easy to check that an isomorphism in Grp is what is usually called an isomorphism
(commonly deÔ¨Åned as a bijective homomorphism, but some newer texts give the deÔ¨Ånition
above). An isomorphism in Set is a bijective function, and an isomorphism in Top is a
homeomorphism.
Singleton set in Set can be characterized without mentioning elements, too. A termi-
nal object in a category C is an object T with the property that for every object A of
C there is exactly one arrow from A to T. It is easy to see that terminal objects in Set,
Top, and Grp are all one element sets with the only possible structure in the case of the
last two categories.
1.4. Duality. If C is a category, then we deÔ¨Åne C op to be the category with the same
objects and arrows as C, but an arrow f: A
/ B in C is regarded as an arrow from B
to A in C op. In other words, for all objects A and B of C,
HomC(A, B) = HomCop(B, A)
If f: A
/ B and g: B
/ C in C, then the composite f ‚ó¶g in C op is by deÔ¨Ånition the
composite g ‚ó¶f in C. The category C op is called the opposite category of C.
If P is a property that objects or arrows in a category may have, then the dual of P is
the property of having P in the opposite category. As an example, consider the property
of being a terminal object. If an object A of a category C is a terminal object in C op, then
HomCop(B, A) has exactly one arrow for every object B of C. Thus the dual property of
being a terminal object is the property: Hom(A, B) has exactly one arrow for each object
B. An object A with this property is called an initial object. In Set and Top, the empty
set is the initial object (see ‚ÄúFine points‚Äù on page 6). In Grp, on the other hand, the
one-element group is both an initial and a terminal object.
Clearly if property P is dual to property Q then property Q is dual to property P.
Thus being an initial object and being a terminal object are dual properties. Observe
that being an isomorphism is a self-dual property.

TOPOSES, TRIPLES AND THEORIES
5
Constructions may also have duals. For example, the dual to the category of objects
over A is the category of objects under A. An object is an arrow from A and an arrow
from the object f: A
/B to the object g: A
/C is an arrow h from B to C for which
h ‚ó¶f = g.
Often a property and its dual each have their own names; when they don‚Äôt (and
sometimes when they do) the dual property is named by preÔ¨Åxing ‚Äúco-‚Äù. For example,
one could, and some sources do, call an initial object ‚Äúcoterminal‚Äù, or a terminal object
‚Äúcoinitial‚Äù.
1.5. Definition of category by commutative diagrams. The notion of category
itself can be deÔ¨Åned in an element-free way. We describe the idea behind this alternative
deÔ¨Ånition here, but some of the sets we construct are deÔ¨Åned in terms of elements. In
Section 6, we show how to deÔ¨Åne these sets without mentioning elements (by pullback
diagrams).
Before giving the deÔ¨Ånition, we mention several notational conventions that will recur
throughout the book.
1. If X and Y are sets, p1: X √ó Y
/ X and p2: X √ó Y
/ Y are the coordinate
projections.
2. If X, Y and Z are sets and f: X
/ Y , g: X
/ Z are functions,
(f, g): X
/ Y √ó Z
is the function whose value at a ‚ààX is (f(a), g(a)).
3. If X, Y , Z, and W are sets and f: X
/ Z, g: Y
/ W are functions, then
f √ó g: X √ó Y
/ Z √ó W
is the function whose value at (a, b) is (f(a), g(b)). This notation is also used for
maps deÔ¨Åned on subsets of product sets (as in 4 below).
A category consists of two sets A and O and four functions d 0, d 1: A
/O, u: O
/A
and m: P
/ A, where P is the set
{(f, g) | d 0(f) = d 1(g)}
of composable pairs of arrows for which the following Diagrams 1‚Äì4 commute. For exam-
ple, the right diagram of 2 below says that d 1 ‚ó¶p1 = d 1 ‚ó¶m. We will treat diagrams more
formally in Section 7.
A
O
o
u
A
O
d 0
?
?
?
?
?
?
?
?
?
?
?
?
?
O
A
u
/
O
O
idO

A
O
d 1

(1)

6
MICHAEL BARR AND CHARLES WELLS
This says that the source and target of idX is X.
A
O
d 0
/
P
A
m

P
A
p2
/ A
O
d 0

A
O
d 1
/
P
A
m

P
A
p1
/ A
O
d 1

(2)
This says that the source of f ‚ó¶g is that of g and its target is that of f.
A
P
(1,u‚ó¶d 0)
//
A
A
idA
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
P
A
o
(u‚ó¶d 1,1)
P
A
m

A
A
idA

(3)
This characterizes the left and right identity laws.
In the next diagram, Q is the set of composable triples of arrows:
Q = {(f, g, h) | d 1(h) = d 0(g) and d 1(g) = d 0(f)}
P
A
m
/
Q
P
m√ó1

Q
P
1√óm
/ P
A
m

(4)
This is associativity of composition.
It is straightforward to check that this deÔ¨Ånition is equivalent to the Ô¨Årst one.
The diagrams just given actually describe geometric objects, namely the classifying
space of the category. Indeed, the functions between O, A, P and Q generated by u, d 0,
d 1, m and the coordinate maps form a simplicial set truncated in dimension three. The
reader needs no knowledge of simplicial sets for this text.
1.6. Fine points. Note that a category may be empty, that is have no objects and (of
course) no arrows. Observe that a subcategory of a monoid regarded as a category may
be empty; if it is not empty, then it is a submonoid. This should cause no more diÔ¨Éculty
than the fact that a submonoid of a group may not be a subgroup. The basic reason is
that a monoid must have exactly one object, while a subcategory need not have any.
It is important to observe that in categories such as Set, Grp and Top in which the
arrows are actually functions, the deÔ¨Ånition of category requires that the function have

TOPOSES, TRIPLES AND THEORIES
7
a uniquely speciÔ¨Åed domain and codomain, so that for example in Top the continuous
function from the set R of real numbers to the set R+ of nonnegative real numbers which
takes a number to its square is diÔ¨Äerent from the function from R to R which does the
same thing, and both of these are diÔ¨Äerent from the squaring function from R+ to R+.
A deÔ¨Ånition of ‚Äúfunction‚Äù in Set which Ô¨Åts this requirement is this: A function is an
ordered triple (A, G, B) where A and B are sets and G is a subset of A √ó B with the
property that for each x ‚ààA there is exactly one y ‚ààB such that (x, y) ‚ààG. This is
equivalent to saying that the composite
G ‚äÇ‚ÜíA √ó B
/ A
is an isomorphism (the second function is projection on the Ô¨Årst coordinate). Then the
domain of the function is the set A and the codomain is B. As a consequence of this
deÔ¨Ånition, A is empty if and only if G is empty, but B may or may not be empty. Thus
there is exactly one function, namely (‚àÖ, ‚àÖ, B), from the empty set to each set B, so that
the empty set is the initial object in Set, as claimed previously. (Note also that if (A, G, B)
is a function then G uniquely determines A but not B. This asymmetry is reversed in
the next paragraph.)
An equivalent deÔ¨Ånition of function is a triple (A, G‚àó, B) where G‚àóis the quotient
of the disjoint union A + B by an equivalence relation for which each element of B is
contained in exactly one equivalence class. In other words, the composite
B
/ A + B
/ / G‚àó
is an isomorphism, where the Ô¨Årst arrow is the inclusion into the sum and the second is the
quotient mapping. This notion actually corresponds to the intuitive picture of function
frequently drawn for elementary calculus students which illustrates the squaring function
from {‚àí2, ‚àí1, 0, 1, 2} to {0, 1, 2, 3, 4} this way:
‚àí2
2
4
‚àí1
1
1
0
0
2
3
The set G is called the graph and G‚àóthe cograph of the function.
We will see in
Section 1.8 that the graph and cograph are dual to each other.
Exercises 1.1.

8
MICHAEL BARR AND CHARLES WELLS
(SGRPOID)
‚ô¶. Show that the following deÔ¨Ånition of category is equivalent to the deÔ¨Åni-
tion given in this section. In this deÔ¨Ånition, to say that an element e has the identity
property means that for all f and g, e ‚ó¶f = f whenever e ‚ó¶f is deÔ¨Åned and g ‚ó¶e = g
whenever g ‚ó¶e is deÔ¨Åned.
This is the alternative deÔ¨Ånition: A category is a set with a partially deÔ¨Åned binary
operation denoted ‚Äú‚ó¶‚Äù with the following properties:
a. the following statements are equivalent:
(i) f ‚ó¶g and g ‚ó¶h are both deÔ¨Åned;
(ii) f ‚ó¶(g ‚ó¶h) is deÔ¨Åned;
(iii) (f ‚ó¶g) ‚ó¶h is deÔ¨Åned;
b. if (f ‚ó¶g) ‚ó¶h is deÔ¨Åned, then (f ‚ó¶g) ‚ó¶h = f ‚ó¶(g ‚ó¶h);
c. for any f, there are elements e and e‚Ä≤ with the identity property for which e ‚ó¶f and
f ‚ó¶e‚Ä≤ are deÔ¨Åned.
(CCON)
‚ô¶. Verify that the following constructions produce categories.
a. For any category C, the arrow category Ar(C) of arrows of C has as objects the
arrows of C, and an arrow from f: A
/B to g: A‚Ä≤
/B‚Ä≤ is a pair of arrows h: A
/A‚Ä≤
and k: B
/ B‚Ä≤ making the following diagram commute:
B
B‚Ä≤
k
/
A
B
f

A
A‚Ä≤
h
/ A‚Ä≤
B‚Ä≤
g

b. The twisted arrow category of C is deÔ¨Åned the same way as the arrow category
except that the direction of k is reversed.
(ISO)
‚ô¶. a. Show that h: f
/ g is an isomorphism in the category of objects of C over
A if and only if h is an isomorphism of C.
b. Give an example of objects A, B and C in a category C and arrows f: B
/ A and
g: C
/ A such that B and C are isomorphic in C but f and g are not isomorphic in
C/A.
(IIT)
‚ô¶. Describe the isomorphisms, initial objects, and terminal objects (if they exist) in
each of the categories in Exercise (CCON) on page 8.
(IPOS)
‚ô¶. Describe the initial and terminal objects, if they exist, in a poset regarded as
a category.
(TISO)
‚ô¶. Show that any two terminal objects in a category are isomorphic by a unique
isomorphism.

TOPOSES, TRIPLES AND THEORIES
9
(SKEL)
‚ô¶. a. Prove that for any category C and any arrows f and g of C such that the
target of g is isomorphic to the source of f, there is an arrow f ‚Ä≤ which (i) is isomorphic to
f in Ar(C) and (ii) has source the same as the target of g. (Ar(C) is deÔ¨Åned in Exercise
(CCON) on page 8 above.)
b. Use the fact given in (a) to describe a suitable deÔ¨Ånition of domain, codomain and
composition for a category with one object chosen for each isomorphism class of objects
of C and one arrow from each isomorphism class of objects of Ar(C). Such a category is
called a skeleton of C.
(COMP)
‚ô¶. A category is connected if it is possible to go from any object to any other
object of the category along a path of ‚Äúcomposable‚Äù forward or backward arrows. Make
this deÔ¨Ånition precise and prove that every category is a union of disjoint connected
subcategories in a unique way.
(PREO)
‚ô¶. A preorder is a set with a reÔ¨Çexive, transitive relation deÔ¨Åned on it. Explain
how to regard a preorder as a category with at most one arrow from any object A to any
object B.
(OPP)
‚ô¶. a. Describe the opposite of a group regarded as a category. Show that it is
isomorphic to, but not necessarily the same as, the original group.
b. Do the same for a monoid, but show that the opposite need not be isomorphic to
the original monoid.
c. Do the same as (b) for posets.
(QUOT)
‚ô¶. An arrow congruence on a category C is an equivalence relation E on the
arrows for which
(i) fEf ‚Ä≤ implies that f and f ‚Ä≤ have the same domain and codomain.
(ii) If fEf ‚Ä≤ and gEg‚Ä≤ and f ‚ó¶g is deÔ¨Åned, then (f ‚ó¶g)E(f ‚Ä≤ ‚ó¶g‚Ä≤).
There are more general congruences in which objects are identiÔ¨Åed. These are consid-
erably more complicated since new composites are formed when the target of one arrow
gets identiÔ¨Åed with the source of another.
a. Show that any relation R on the arrows of C generates a unique congruence on C.
b. Given a congruence E on C, deÔ¨Åne the quotient category C/E in the obvious
way (same objects as C) and show that it is a category. This notation conÔ¨Çicts with the
slice notation, but context should make it clear. In any case, quotient categories are not
formed very often.
(Thus any set of diagrams in C generate a congruence E on C with the property that
C/E is the largest quotient in which the diagrams commute.)
(PTD)
‚ô¶. Show that in a category with an initial object 0 and a terminal object 1, 0 ‚àº= 1
if and only if there is a map 1
/ 0.

10
MICHAEL BARR AND CHARLES WELLS
2. Functors
Like every other kind of mathematical structured object, categories come equipped with
a notion of morphism. It is natural to deÔ¨Åne a morphism of categories to be a map which
takes objects to objects, arrows to arrows, and preserves source, target, identities and
composition.
If C and D are categories, a functor F: C
/ D is a map for which
1. if f: A
/ B is an arrow of C, then Ff: FA
// FB is an arrow of D;
2. F(idA) = idFA; and
3. if g: B
/ C, then F(g ‚ó¶f) = Fg ‚ó¶Ff.
If F: C
/ D is a functor, then F op: C op
/ Dop is the functor which does the same
thing as F to objects and arrows.
A functor F: C op
/ D is called a contravariant functor from C to D. In this case,
F op goes from C to Dop. For emphasis, a functor from C to D is occasionally called a
covariant functor.
F: C
/ D is faithful if it is injective when restricted to each homset, and it is full
if it is surjective on each homset, i.e., if for every pair of objects A and B, every arrow
in Hom(FA, FB) is F of some arrow in Hom(A, B). Some sources use the phrase ‚Äúfully
faithful‚Äù to describe a functor which is full and faithful.
F preserves a property P that an arrow may have if F(f) has property P whenever
f has. It reÔ¨Çects property P if f has the property whenever F(f) has. For example, any
functor must preserve isomorphisms (Exercise (PISO) on page 12), but a functor need
not reÔ¨Çect them.
Here are some examples of functors:
1. For any category C, there is an identity functor idC: C
/ C.
2. The categories Grp and Top are typical of many categories considered in mathematics
in that their objects are sets with some sort of structure on them and their arrows
are functions which preserve that structure.
For any such category C, there is
an underlying set functor U: C
/ Set which assigns to each object its set of
elements and to each arrow the function associated to it. Such a functor is also
called a forgetful functor, the idea being that it forgets the structure on the set.
Such functors are always faithful and rarely full.
3. Many other mathematical constructions, such as the double dual functor on vector
spaces, the commutator subgroup of a group or the fundamental group of a path
connected space, are the object maps of functors (in the latter case the domain is
the category of pointed topological spaces and base-point-preserving maps). There
are, on the other hand, some canonical constructions which do not extend to maps.
Examples include the center of a group or ring, and groups of automorphisms quite
generally. See Exercise (CTR) on page 13 and Exercise (AUT) on page 13.

TOPOSES, TRIPLES AND THEORIES
11
4. For any set A, let FA denote the free groupgenerated by A. The deÔ¨Åning property
of free groups allows you to conclude that if f: A
/ B is any function, there is
a unique homomorphism Ff: FA
/ FB with the property that Ff ‚ó¶i = j ‚ó¶f,
where i: A
/ FA and j: B
/ FB are the inclusions. It is an easy exercise to
see that this makes F a functor from Set to Grp. Analogous functors can be deÔ¨Åned
for the category of monoids, the category of Abelian groups, and the category of
R-modules for any ring R.
5. For a category C, HomC = Hom is a functor in each variable separately, as follows:
For Ô¨Åxed object A, Hom(A, f): Hom(A, B)
/Hom(A, C) is deÔ¨Åned for each arrow
f: B
/ C by requiring that Hom(A, f)(g) = f ‚ó¶g for g ‚ààHom(A, B); this makes
Hom(A, ‚àí): C
/ Set a functor.
Similarly, for a Ô¨Åxed object B, Hom(‚àí, B) is
a functor from C op to Set; Hom(h, B) is composition with h on the right instead
of on the left. Hom(A, ‚àí) and Hom(‚àí, B) are the covariant and contravariant
hom functors, respectively. Hom(‚àí, ‚àí) is also a Set-valued functor, with domain
C op √ó C. A familiar example of a contravariant hom functor is the functor which
takes a vector space to the underlying set of its dual.
6. The powerset (set of subsets) of a set is the object map of an important contravari-
ant functor P from Set to Set which plays a central role in this book. The map from
PB to PA induced by a function f: A
/ B is the inverse image map; precisely, if
B0 ‚ààPB, i.e. B0 ‚äÜB, then
Pf(B0) = {x ‚ààA | f(x) ‚ààB0}
The object function P can also be made into a covariant functor, in at least two
diÔ¨Äerent ways (Exercise (POW) on page 13).
7. If G and H are groups considered as categories with a single object, then a functor
from G to H is exactly a group homomorphism.
8. If P and Q are posets, a functor from P to Q is exactly a nondecreasing map. A
contravariant functor is a nonincreasing map.
2.1. Isomorphism and equivalence of categories. The composite of functors is
a functor, so the collection of categories and functors is itself a category, denoted Cat. If
C and D are categories and F: C
/ D is a functor which has an inverse G: D
/ C, so
that it is an isomorphism in the category of categories, then naturally C and D are said
to be isomorphic.
However, the notion of isomorphism does not capture the most useful sense in which
two categories can be said to be essentially the same; that is the notion of equivalence.
A functor F: C
/ D is said to be an equivalence if it is full and faithful and has the
property that for any object B of D there is an object A of C for which F(A) is isomorphic
to B. The deÔ¨Ånition appears asymmetrical but in fact given the axiom of choice if there

12
MICHAEL BARR AND CHARLES WELLS
is an equivalence from C to D then there is an equivalence from D to C (Exercise (EQU)
on page 13).
The notion of equivalence captures the perception that, for example, for most purposes
you are not changing group theory if you want to work in a category of groups which
contains only a countable number (or Ô¨Ånite, or whatever) of copies of each isomorphism
type of groups and all the homomorphisms between them.
Statements in Section 1 like, ‚ÄúA group may be regarded as a category with one object
in which all arrows are isomorphisms‚Äù can be made precise using the notion of equivalence:
The category of groups and homomorphisms is equivalent to the category of categories
with exactly one object in which each arrow is an isomorphism, and all functors between
them. Any isomorphism between these categories would seem to require an axiom of
choice for proper classes.
2.2. Comma categories. Let A, C and D be categories and F: C
/ A, G: D
/ A
be functors. From these ingredients we construct the comma category (F, G) which is
a generalization of the slice A/A of a category over an object discussed in Section 1. The
objects of (F, G) are triples (C, f, D) with f: FC
/GD an arrow of A and C, D objects
of C and D respectively. An arrow (h, k): (C, f, D)
/(C‚Ä≤, f ‚Ä≤, D‚Ä≤) consists of h: C
/C‚Ä≤
and k: D
/ D‚Ä≤ making
GD
GD‚Ä≤
Gk
/
FC
GD
f

FC
FC‚Ä≤
Fh
/ FC‚Ä≤
GD‚Ä≤
f‚Ä≤

commute. It is easy to verify that coordinatewise composition makes (F, G) a category.
When A is an object of A, we can consider it as a functor A: 1
/A. Then the comma
category (IdA, A) is just the slice A/A deÔ¨Åned in Section 1. The category of arrows under
an object is similarly a comma category.
Each comma category (F, G) is equipped with two projections p1: (F, G)
/ C pro-
jecting objects and arrows onto their Ô¨Årst coordinates, and p2: (F, G)
/ D projecting
objects onto their third coordinates and arrows onto their second.
Exercises 1.2.
(PISO)
‚ô¶. Show that functors preserve isomorphisms, but do not necessarily reÔ¨Çect them.
(AC)
‚ô¶. Use the concept of arrow category to describe a functor which takes a group
homomorphism to its kernel.
(EAAM)
‚ô¶. Show that the following deÔ¨Åne functors:
a. the projection map from a product C √ó D of categories to one of them;
b. for C a category and an object A of C, the constant map from a category B to C
which takes every object to A and every arrow to idA;

TOPOSES, TRIPLES AND THEORIES
13
c. the forgetful functor from the category C/A of objects over A to C which takes an
object B
/ A to B and an arrow h: B
/ C over A to itself.
(POWO)
‚ô¶. Show that the functor P of Example 6 is faithful but not full and reÔ¨Çects
isomorphisms.
(FTI)
‚ô¶. Give examples showing that functors need not preserve or reÔ¨Çect initial or ter-
minal objects.
(POW)
‚ô¶. Show that the map which takes a set to its powerset is the object map of at
least two covariant functors from Set to Set: If f: A
/ B, one functor takes a subset A0
of A to its image f!(A0) = f(A0), and the other takes A0 to the set
f‚àó(A0) = {y ‚ààB | if f(x) = y then x ‚ààA0} = {y ‚ààB | f ‚àí1(y) ‚äÜA0}
Show that f ‚àí1(B) ‚äÜA if and only if B ‚äÜf‚àó(A) and that A ‚äÜf ‚àí1(B) if and only if
f!(A) ‚äÜB.
(FRG)
‚ô¶. Show that the deÔ¨Ånition given in Example 4 makes the free group construction
F a functor.
(CTR)
‚ô¶. Show that there is no functor from Grp to Grp which takes each group to its
center. (Hint: Consider the group G consisting of all pairs (a, b) where a is any integer
and b is 0 or 1, with multiplication
(a, b)(c, d) = (a + (‚àí1)bc, b + d)
the addition in the second coordinate being mod 2.)
(AUT)
‚ô¶. Show that there is no functor from Grp to Grp which takes each group to its
automorphism group. (Hint: It is known that the group Gl3(Z/2Z) of invertible 3 √ó 3
matrices over the Ô¨Åeld of 2 elements is simple.)
(SKEL2)
‚ô¶. Show that every category is equivalent to its skeleton (see Exercise (SKEL)
on page 8 of Section 1).
(EQU)
‚ô¶. Show that equivalence is an equivalence relation on any set of categories. (This
exercise is easier to do after you do Exercise (EQUII) on page 17 of Section 3.)
(PREORD)
‚ô¶. a. Make the statement ‚Äúa preordered set can be regarded as a category in
which there is no more than one arrow between any two objects‚Äù precise by deÔ¨Åning a
subcategory of the category of categories and functors that the category of preordered sets
and order-preserving maps is equivalent to (see Exercise (PREO) on page 9 of Section 1).
b. Show that, when regarded as a category, every preordered set is equivalent to a
poset.

14
MICHAEL BARR AND CHARLES WELLS
(BOOL)
‚ô¶. An atom in a Boolean algebrais an element greater than 0 but with no ele-
ments between it and 0. A Boolean algebra is atomic if every element x of the algebra is
the join of all the atoms smaller than x. A Boolean algebra is complete if every subset
has an inÔ¨Åmum and a supremum. A CABA is a complete atomic Boolean algebra. A
CABA homomorphism is a Boolean algebra homomorphism between CABA‚Äôs which pre-
serves all infs and sups (not just Ô¨Ånite ones, which any Boolean algebra homomorphism
would do). Show that the opposite of the category of sets is equivalent to the category of
CABA‚Äôs and CABA homomorphisms.
(USL)
‚ô¶. An upper semilattice is a partially ordered set in which each Ô¨Ånite subset
(including the empty set) of elements has a least upper bound. Show that the category of
upper semilattices and functions which preserve the least upper bound of any Ô¨Ånite subset
(and hence preserve the ordering) is equivalent to the category of commutative monoids
in which every element is idempotent and monoid homomorphisms.
(COMA)
‚ô¶. Show that the arrow and twisted arrow categories of Exercise (CCON) on
page 8 of Section 1 are comma categories.
(NSD)
‚ô¶. Show neither that the category Set of sets nor the category Ab of abelian groups
is equivalent to its opposite category. (Hint: Find a property of the category for which
the dual property is not satisÔ¨Åed.)
3. Natural transformations
In topology, a homotopy from f: A
/ B to g: A
/ B is given by a path in B from
fx to gx for each element x ‚ààA such that the paths Ô¨Åt together continuously. A natural
transformation is analogously a deformation of one functor to another.
If F: C
/ D and G: C
/ D are two functors, Œª: F
/ G is a natural transfor-
mation from F to G if Œª is a collection of arrows ŒªC: FC
/ GC, one for each object
C of C, such that for each arrow g: C
/ C‚Ä≤ of C the following diagram commutes:
FC‚Ä≤
GC‚Ä≤
ŒªC‚Ä≤
/
FC
FC‚Ä≤
Fg

FC
GC
ŒªC
/ GC
GC‚Ä≤
Gg

The arrows ŒªC are the components of Œª.
The natural transformation Œª is a natural equivalence if each component of Œª is an
isomorphism in D.
The natural map of a vector space to its double dual is a natural transformation from
the identity functor on the category of vector spaces and linear maps to the double dual
functor. When restricted to Ô¨Ånite dimensional vector spaces, it is a natural equivalence.
As another example, let n > 1 be a positive integer and let GLn denote the functor from

TOPOSES, TRIPLES AND THEORIES
15
the category of commutative rings with unity to the category of groups which takes a ring
to the group of invertible n√ón matrices with entries from the ring, and let Un denote the
group of units functor (which is actually GL1). Then the determinant map is a natural
transformation from GLn to Un. The Hurewicz transformation from the fundamental
group of a topological space to its Ô¨Årst homology group is also a natural transformation
of functors.
3.1. Functor categories. Let C and D be categories with C small. The collection
Func(C, D) of functors from C to D is category with natural transformations as arrows.
If F and G are functors, a natural transformation Œª requires, for each object C of C, an
element of HomD(FC, GC), subject to the naturality conditions. If C is small, there is
no more than a set of such natural transformations F
/ G and so this collection is a
set. If Œª: F
/ G and ¬µ: G
/ H are natural transformations, their composite ¬µ ‚ó¶Œª
is deÔ¨Åned by requiring its component at C to be ¬µC ‚ó¶ŒªC. Of course, Func(C, D) is just
HomCat(C, D), and so is already a functor in each variable to Set. It is easy to check that
for any F: D
/ E,
Func(C, F): Func(C, D)
/ Func(C, E)
is actually a functor and not only a Set-function, and similarly for Func(F, C), so that in
each variable Func is actually a Cat-valued functor.
We denote the hom functor in Func(C, D) by Nat(F, G) for functors F, G: C
/ D. A
category of the form Func(C, D) is called a functor category and is frequently denoted
DC especially in the later chapters on sheaves.
3.2. Notation for natural transformations. Suppose there are categories and
functors as shown in this diagram:
B
C
H
/ C
D
F
)
C
D
G
5 D
E
K
/
Œª
Note that in diagrams, we often denote a natural transformation by a double arrow:
Œª: F ‚áíG.
Suppose Œª: F
/ G is a natural transformation. Then Œª induces two natural trans-
formations KŒª: KF
/ KG and ŒªH: FH
/ GH. The component of KŒª at an object
C of C is
K(ŒªC): KFC
/ KGC
Then KŒª is a natural transformation simply because K, like any functor, takes commu-
tative diagrams to commutative diagrams. The component of ŒªH at an object B of B
is the component of Œª at HB. ŒªH is a natural transformation because H is deÔ¨Åned on
morphisms.
We should point out that although the notations KŒª and ŒªH look formally dual, they
are quite diÔ¨Äerent in meaning. The Ô¨Årst is the result of applying a functor to a value of a

16
MICHAEL BARR AND CHARLES WELLS
natural transformation (which is a morphism in the codomain category) while the second
is the result of taking the component of a natural transformation at a value of a functor.
Nonetheless, the formal properties of the two quite diÔ¨Äerent operations are the same.
This is why we use the parallel notation when many other writers use distinct notation.
(Compare the use of ‚ü®f, v‚ü©for f(v) by many analysts.) Thus advances mathematics.
Exercise (GOD) on page 16 below states a number of identities which hold for natural
transformations. Some of them are used later in the book, particularly in triple theory.
Exercises 1.3.
(NTF)
‚ô¶. Show how to describe a natural transformation as a functor from an arrow
category to a functor category.
(NTG)
‚ô¶. What is a natural transformation from one group homomorphism to another?
(HMNAT)
‚ô¶. Let R: C
/D be a functor. Show that f 7‚ÜíRf is a natural transformation
HomC(C, ‚àí)
/ HomD(RC, R(‚àí)) for any object C of C.
(FRGRP)
‚ô¶. a. Show that the inclusion of a set A into the free group FA generated by A
determines a natural transformation from the identity functor on Set to the functor UF
where U is the underlying set functor.
b. Find a natural transformation from FU: Grp
/ Grp to the identity functor on Grp
which takes a one letter word of FUG to itself. Show that there is only one such.
(SING)
‚ô¶. In Section 2, we mentioned three ways of deÔ¨Åning the powerset as a functor.
(See Exercise (POW) on page 13.) For which of these deÔ¨Ånitions do the maps which
take each element x of a set A to the set {x} (the ‚Äúsingleton‚Äù maps) form a natural
transformation from the identity functor to the powerset functor?
(GOD)
‚ô¶. Let categories and functors be given as in the following diagram.
B
C
F
/
B
C
G
/ C
D
H
/
C
D
K
/
Suppose Œ∫: F
/ G and ¬µ: H
/ K are natural transformations.
a. Show that this diagram commutes:
KF
KG
KŒ∫
/
HF
KF
¬µF

HF
HG
HŒ∫
/ HG
KG
¬µG

b. DeÔ¨Åne ¬µŒ∫ by requiring that its component at B be ¬µGB ‚ó¶HŒ∫B, which by (a) is
KŒ∫B ‚ó¶¬µFB. Show that ¬µŒ∫ is a natural transformation from H ‚ó¶F to K ‚ó¶G. This deÔ¨Ånes
a composition operation, called application, on natural transformations. Although it
has the syntax of a composition law, as we will see below, semantically it is the result of

TOPOSES, TRIPLES AND THEORIES
17
applying ¬µ to Œ∫. In many, especially older works, it is denoted ¬µ ‚àóŒ∫, and these books
often use juxtaposition to denote composition.
c. Show that HŒ∫ and ¬µG have the same interpretation whether thought of as instances
of application of a functor to a natural transformation, resp.
evaluation of a natural
transformation at a functor, or as examples of an application operation where the name
of a functor is used to stand for the identity natural transformation. (This exercise may
well take longer to understand than to do.)
d. Show that application as deÔ¨Åned above is associative in the sense that if (¬µŒ∫)Œ≤ is
deÔ¨Åned, then so is ¬µ(Œ∫Œ≤) and they are equal.
e. Show that the following rules hold, where ‚ó¶denotes the composition of natural
transformations deÔ¨Åned earlier in this chapter. These are called Godement‚Äôs rules. In
each case, the meaning of the rule is that if one side is deÔ¨Åned, then so is the other and
they are equal. They all refer to the diagram below, and the name of a functor is used to
denote the identity natural transformation from that functor to itself. The other natural
transformations are Œ∫: F1
/ F2, Œª: F2
/ F3, ¬µ: G1
/ G2, and ŒΩ: G2
/ G3.
A
B
E
/ B
C
F2
/
B
C
F1
"
B
C
F3
< C
D
G2
/
C
D
G1
"
C
D
G3
< D
E
H
/
Œ∫
Œª
¬µ

ŒΩ
(i) (The interchange law) (ŒΩ ‚ó¶¬µ)(Œª ‚ó¶Œ∫) = (ŒΩŒª) ‚ó¶(¬µŒ∫)
(ii) (H ‚ó¶G1)Œ∫ = H(G1Œ∫).
(iii) ¬µ(F1 ‚ó¶E) = (¬µF1)E.
(iv) G1(Œª ‚ó¶Œ∫)E = (G1ŒªE) ‚ó¶(G1Œ∫E).
(v) (¬µF2) ‚ó¶(G1Œ∫) = (G2Œ∫) ‚ó¶(¬µF1).
(EQUII)
‚ô¶. Show that two categories C and D are equivalent if and only if there are
functors F: C
/ D and G: D
/ C such that G ‚ó¶F is naturally equivalent to idC and
F ‚ó¶G is naturally equivalent to idD.
4. Elements and Subobjects
4.1. Elements. One of the important perceptions of category theory is that an arrow
x: T
/A in a category can be regarded as an element of A deÔ¨Åned over T. The idea
is that x is a variable element of A, meaning about the same thing as the word ‚Äúquantity‚Äù
in such sentences as, ‚ÄúThe quantity x2 is nonnegative‚Äù, found in older calculus books.
One must not get carried away by this idea and introduce elements everywhere. One
of the main beneÔ¨Åts of category theory is you don‚Äôt have to do things in terms of elements

18
MICHAEL BARR AND CHARLES WELLS
unless it is advantageous to. In Chapter 3mit is a construction that is almost impossible to
understand in terms of elements, but is very easy with the correct conceptual framework.
On the other hand, we will see many examples later in which the use of elements leads to
a substantial simpliÔ¨Åcation. The point is not to allow a tool to become a straitjacket.
When x: T
/ A is thought of as an element of A deÔ¨Åned on T, we say that T is the
domain of variation of the element x. It is often useful to think of x as an element
of A deÔ¨Åned in terms of a parameter in T. A related point of view is that x is a set of
elements of A indexed by T. By the way, this is distinct from the idea that x is a family
of disjoint subsets of T indexed by A, as mentioned in 1.1.
The notation ‚Äúx ‚ààT A‚Äù is a useful quick way of saying that x is an element of A
deÔ¨Åned on T. This notation will be extended when we consider subobjects later in this
section.
If x ‚ààT A and f: A
/B, then f ‚ó¶x ‚ààT B; thus morphisms can be regarded as functions
taking elements to elements. The Yoneda Lemma, Theorem 2 of the next section, says
(among other things) that any function which takes elements to elements in a coherent
way in a sense that will be deÔ¨Åned precisely ‚Äúis‚Äù a morphism of the category. Because of
this, we will write f(x) for f ‚ó¶x when it is helpful to think of x as a generalized element.
Note that every object A has at least one element idA, its generic element.
If A is an object of a category C and F: C
/D is a functor, then F takes any element
of A to an element of FA in such a way that (i) generic elements are taken to generic
elements, and (ii) the action of F on elements commutes with change of the domain of
variation of the element. (If you spell those two conditions out, they are essentially the
deÔ¨Ånition of functor.)
Isomorphisms can be described in terms of elements, too: An arrow f: A
/ B is an
isomorphism if and only if f (thought of as a function) is a bijection between the elements
of A deÔ¨Åned on T and the elements of B deÔ¨Åned on T for all objects T of C. (To get the
inverse, apply this fact to the element idA: A
/A.) And a terminal object is a singleton
in a very strong sense‚Äîfor any domain of variation it has exactly one element.
In the rest of this section we will develop the idea of element further and use it to
deÔ¨Åne subobjects, which correspond to subsets of a set.
4.2. Monomorphisms and epimorphisms. An arrow f: A
/ B is a monomor-
phism (or just a ‚Äúmono‚Äù, adjective ‚Äúmonic‚Äù), if f (i.e., Hom(T, f)) is injective (one to
one) on elements deÔ¨Åned on each object T‚Äîin other words, for every pair x, y of elements
of A deÔ¨Åned on T, f(x) = f(y) implies x = y.
In terms of composition, this says that f is left cancelable, i.e, if f ‚ó¶x = f ‚ó¶y, then
x = y. This has a dual concept: The arrow f is an epimorphism (‚Äúan epi‚Äù, ‚Äúepic‚Äù)
if it is right cancelable. This is true if and only if the contravariant functor Hom(f, T)
is injective (not surjective!)
for every object T.
Note that surjectivity is not readily
described in terms of generalized elements.
In Set, every monic is injective and every epic is surjective (onto). The same is true
of Grp, but the fact that epis are surjective in Grp is moderately hard to prove (Exercise

TOPOSES, TRIPLES AND THEORIES
19
(SIG) on page 21). On the other hand, any dense map, surjective or not, is epi in the
category of HausdorÔ¨Äspaces and continuous maps.
An arrow f: A
/ B which is ‚Äúsurjective on elements‚Äù, in other words for which
Hom(T, f) is surjective for every object T, is necessarily an epimorphism and is called a
split epimorphism. An equivalent deÔ¨Ånition is that there is an arrow g: B
/A which
is a right inverse to f, so that f ‚ó¶g = idB. The Axiom of Choice is equivalent to the
statement that every epi in Set is split. In general, in categories of sets with structure
and structure preserving functions, split epis are surjective and (as already pointed out)
surjective maps are epic (see Exercise (UND) on page 22), but the converses often do
not hold. We have already mentioned HausdorÔ¨Äspaces as a category in which there are
nonsurjective epimorphisms; another example is the embedding of the ring of integers in
the Ô¨Åeld of rational numbers in the category of rings and ring homomorphisms. As for
the other converse, in the category of groups the (unique) surjective homomorphism from
the cyclic group of order 4 to the cyclic group of order 2 is an epimorphism which is not
split.
An arrow with a left inverse is necessarily a monomorphism and is called a split
monomorphism. Split monos in Top are called retractions; in fact the word ‚Äúretraction‚Äù
is sometimes used to denote a split mono in any category.
The property of being a split mono or split epi is necessarily preserved by any functor.
The property of being monic or epic is certainly not in general preserved by any functor.
Indeed, if Ff is epi for every functor F, then f is necessarily a split epi. (Exercise (GLEP)
on page 22.)
Notation: In diagrams, we usually draw an arrow with an arrowhead at its tail:
/
/
to indicate that it is a monomorphism. The usual dual notation for an epimorphism is
/ /
However in this book we reserve that latter notation for regular epimorphisms to be deÔ¨Åned
in 8.1.
4.3. Subobjects. We now deÔ¨Åne the notion of subobject of an object in a category;
this idea partly captures and partly generalizes the concept of ‚Äúsubset‚Äù, ‚Äúsubspace‚Äù, and
so on, familiar in many branches of mathematics.
If i: A0
/ A is a monomorphism and a: T
/ A, we say a factors through i (or
factors through A0 if it is clear which monomorphism i is meant) if there is an arrow j
for which
A0
A
i
/
T
A0
j

T
A
a
?
?
?
?
?
?
?
?
?
?
?
?
?
(5)

20
MICHAEL BARR AND CHARLES WELLS
commutes. In this situation we extend the element point of view and say that the element
a of A is an element of A0 (or of i if necessary). This is written ‚Äúa ‚ààT
A A0‚Äù. The subscript
A is often omitted if the context makes it clear.
4.4. Lemma. Let i: A0
/A and i‚Ä≤: A‚Ä≤
0
/A be monomorphisms in a category C. Then
A0 and A‚Ä≤
0 have the same elements of A if and only if they are isomorphic in the category
C/A of objects over A, in other words if and only if there is an isomorphism j: A
/ A‚Ä≤
for which
A‚Ä≤
0
A
i‚Ä≤
/
A0
A‚Ä≤
0
j

A0
A
i
?
?
?
?
?
?
?
?
?
?
?
?
?
(6)
commutes.
Proof. Suppose A0 and A‚Ä≤
0 have the same elements of A. Since i ‚ààA0
A
A0, it factors
through A‚Ä≤
0, so there is an arrow j: A0
/ A‚Ä≤
0 such that (2) commutes. Interchanging A0
and A‚Ä≤
0 we get k: A‚Ä≤
0
/ A0 such that i ‚ó¶k = i‚Ä≤. Using the fact that i and i‚Ä≤ are monic, it
is easy to see that j and k must be inverses to each other, so they are isomorphisms.
Conversely, if j is an isomorphism making (2) commute and a ‚ààT
A A0, so that a = i ‚ó¶u
for some u: T
/A0, then a = i‚Ä≤ ‚ó¶j ‚ó¶u so that a ‚ààT
A A‚Ä≤
0. A similar argument interchanging
A0 and A‚Ä≤
0 shows that A0 and A‚Ä≤
0 have the same elements of A.
Two monomorphisms which have the same elements are said to be equivalent. A
subobject of A is an equivalence class of monomorphisms into A. We will frequently
refer to a subobject by naming one of its members, as in ‚ÄúLet A0
/
/ A be a subobject
of A‚Äù.
In Set, each subobject of a set A contains exactly one inclusion of a subset into A,
and the subobject consists of those injective maps into A which has that subset as image.
Thus ‚Äúsubobject‚Äù captures the notion of ‚Äúsubset‚Äù in Set exactly.
Any map from a terminal object in a category is a monomorphism and so determines
a subobject of its target. Because any two terminal objects are isomorphic by a unique
isomorphism (Exercise (TISO) on page 8 of Section 1), that subobject contains exactly
one map based on each terminal object. We will henceforth assume that in any category
we deal with, we have picked a particular terminal object (if it has one) as the canonical
one and call it ‚Äúthe terminal object‚Äù.
4.5. Global elements. In the category of sets, an element in the ordinary sense of
a set B is essentially the same thing as an arrow from the terminal object of Set to
B. In general, an arrow in some category from the terminal object to some object is
called a global element of that object, for reasons which will become apparent in the
next paragraph. In most categories which arise in practice, except Set, an object is not
determined by its global elements. For example, in Grp, each group has exactly one global
element.

TOPOSES, TRIPLES AND THEORIES
21
A more interesting example arises in connection with continuous functions.
This
example is worth studying in detail because it illustrates and motivates much of sheaf
theory.
Let A be a topological space and let R denote the set of real numbers.
Let
O(A) denote the category whose objects are the open sets of A and whose arrows are
the inclusion maps of one open set into another.
Let C: O(A)op
/ Set denote the
contravariant functor which takes each open set U to the set of real-valued continuous
functions deÔ¨Åned on U, and to each inclusion of an open set U of A into an open set V
associates the map from C(V ) to C(U) which restricts a continuous function deÔ¨Åned on
V to U. An important point about these restriction maps is that they are not in general
surjective‚Äîthat is, there are in general functions deÔ¨Åned on an open set which cannot be
extended to a bigger open set. Think of f(x) = 1/x, for example.
This functor C is an object in the category F = Func(O(A)op, Set). The terminal
object of F is the functor which associates a singleton set to each open set of A and the
only possible map to each arrow (inclusion map) of O(A). It is a nice exercise to prove
that a global element of C is precisely a continuous real-valued function deÔ¨Åned on all of
A.
Exercises 1.4.
(IEL)
‚ô¶. Describe initial objects using the terminology of elements, and using the termi-
nology of indexed families of subsets.
(INJSET)
‚ô¶. Show that in Set, a function is injective if and only if it is a monomorphism
and surjective if and only if it is an epimorphism.
(SETSPLIT)
‚ô¶. Show that every epimorphism in Set is split.
(This is the Axiom of
Choice.)
(INJAB)
‚ô¶. Show that in the category of Abelian groups and group homomorphisms, a
homomorphism is injective if and only if it is a monomorphism and surjective if and only
if it is an epimorphism.
(ABNOT)
‚ô¶. Show that neither monos nor epis are necessarily split in the category of
Abelian groups.
(SIG)
‚ô¶. Show that in Grp, every homomorphism is injective if and only if it is a mono-
morphism and surjective if and only if it is an epimorphism. (If you get stuck trying to
show that an epimorphism in Grp is surjective, see the hint on p.21 of Mac Lane [1971].)
(SURTOP)
‚ô¶. Show that all epimorphisms are surjective in Top, but not in the category
of all HausdorÔ¨Äspaces and continuous maps.
(SURRING)
‚ô¶. Show that the embedding of an integral domain (assumed commutative
with unity) into its Ô¨Åeld of quotients is an epimorphism in the category of commutative
rings and ring homomorphisms. When is it a split epimorphism?
(SURJSPLIT)
‚ô¶. Show that the following two statements about an arrow f: A
/ B in
a category C are equivalent:

22
MICHAEL BARR AND CHARLES WELLS
(i) Hom(T, f) is surjective for every object T of C.
(ii) There is an arrow g: B
/ A such that f ‚ó¶g = idB.
Furthermore, show that any arrow satisfying these conditions is an epimorphism.
(GLEP)
‚ô¶. Show that if Ff is epi for every functor F, then f is a split epi.
(UND)
‚ô¶. Let U: C
/Set be a faithful functor and f an arrow of C. (Note that the func-
tors we have called ‚Äúforgetful‚Äù‚Äîwe have not deÔ¨Åned that word formally‚Äîare obviously
faithful.) Prove:
a. If Uf is surjective then f is an epimorphism.
b. If f is a split epimorphism then Uf is surjective.
c. If Uf is injective then f is a monomorphism.
d. If f is a split monomorphism, then Uf is injective.
(SUBF)
‚ô¶. A subfunctor of a functor F: C
/ Set is a functor G with the properties
a. GA ‚äÜFA for every object A of C.
b. If f: A
/ B, then F(f) restricted to G(A) is equal to G(f).
Show that the subfunctors of a functor are the ‚Äúsame‚Äù as subobjects of the functor in
the category Func(C, Set).
5. The Yoneda Lemma
5.1. Elements of a functor. A functor F: C
/ Set is an object in the functor
category Func(C, Set): an ‚Äúelement‚Äù of F is therefore a natural transformation into F.
The Yoneda Lemma, Lemma 1 below, says in eÔ¨Äect that the elements of a Set-valued
functor F deÔ¨Åned (in the sense of Section 4) on the homfunctor Hom(A, ‚àí) for some
object A of C are essentially the same as the (ordinary) elements of the set FA. To state
this properly requires a bit of machinery.
If f: A
/ B in C, then f induces a natural transformation from Hom(B, ‚àí) to
Hom(A, ‚àí) by composition: the component of this natural transformation at an object C
of C takes an arrow h: B
/C to h‚ó¶f: A
/C. This construction deÔ¨Ånes a contravariant
functor from C to Func(C, Set) called the Yoneda map or Yoneda embedding. It is
straightforward and very much worthwhile to check that this construction really does give
a natural transformation for each arrow f and that the resulting Yoneda map really is a
functor.
Because Nat(‚àí, ‚àí) is contravariant in the Ô¨Årst variable (it is a special case of Hom),
the map which takes an object B of C and a functor F: C
/ Set to Nat(Hom(B, ‚àí), F)
is a functor from C √ó Func(C, Set) to Set. Another such functor is the evaluation functor
which takes (B, F) to FB, and (g, Œª), where g: B
/ A ‚ààC and Œª: F
/ G is a natural
transformation, to Gg ‚ó¶ŒªB. Remarkably, these two functors are naturally isomorphic; it
is in this sense that the elements of F deÔ¨Åned on Hom(B, ‚àí) are the ordinary elements
of FB.

TOPOSES, TRIPLES AND THEORIES
23
5.2. Lemma. [Yoneda] The map œï: Nat(Hom(B, ‚àí), F)
/ FB deÔ¨Åned by œï(Œª) =
ŒªB(idB) is a natural isomorphism of the functors deÔ¨Åned in the preceding paragraph.
Proof. The inverse of œï takes an element u of FB to the natural transformation Œª
deÔ¨Åned by requiring that ŒªA(g) = Fg(u) for g ‚ààHom(B, A). The rest of proof is a
routine veriÔ¨Åcation of the commutativity of various diagrams required by the deÔ¨Ånitions.
The Ô¨Årst of several important consequences of this lemma is the following embedding
theorem. This theorem is obtained by taking F in the Lemma to be Hom(A, ‚àí), where
A is an object of C; this results in the statement that there is a natural bijection between
arrows g: A
/ B and natural transformations from Hom(B, ‚àí) to Hom(A, ‚àí).
5.3. Theorem. [Yoneda Embeddings]
1. The map which takes f: A
/ B to the induced natural transformation
Hom(B, ‚àí)
/ Hom(A, ‚àí)
is a full and faithful contravariant functor from C to Func(C, Set).
2. The map taking f to the natural transformation
Hom(‚àí, A)
/ Hom(‚àí, B)
is a full and faithful functor from C to Func(C op, Set).
Proof. It is easy to verify that the maps deÔ¨Åned in the Theorem are functors. The fact
that the Ô¨Årst one is full and faithful follows from the Yoneda Lemma with Hom(A, ‚àí) in
place of F. The other proof is dual.
The induced maps in the Theorem deserve to be spelled out. If f: S
/T, the natural
transformation corresponding to f given by (i) has component
Hom(f, A): Hom(T, A)
/ Hom(S, A)
at an object A of C‚Äîthis is composing by f on the right.
If x ‚ààT A, the action of
Hom(f, A) ‚Äúchanges the parameter‚Äù in A along f.
The other natural transformation corresponding to f is
Hom(T, f): Hom(T, A)
/ Hom(T, B)
; since the Yoneda embedding is faithful, we can say that f is essentially the same as
Hom(‚àí, f). If x is an element of A based on T, then Hom(T, f)(x) = f ‚ó¶x. Since ‚Äúf is
essentially the same as Hom(‚àí, f)‚Äù, this justiÔ¨Åes the notation f(x) for f ‚ó¶x introduced
in Section 4.

24
MICHAEL BARR AND CHARLES WELLS
The fact that the Yoneda embedding is full means that any natural transformation
Hom(‚àí, A)
/ Hom(‚àí, B) determines a morphism f: A
/ B, namely the image of
idA under the component of the transformation at A. Spelled out, this says that if f is
any function which assigns to every element x: T
/ A an element f(x): T
/ B with
the property that for all t: S
/ T, f(x ‚ó¶t) = f(x) ‚ó¶t (this is the ‚Äúcoherence condition‚Äù
mentioned in Section 4) then f ‚Äúis‚Äù (via the Yoneda embedding) a morphism, also called
f to conform to our conventions, from A to B. One says such an arrow exists ‚Äúby Yoneda‚Äô.
In the same vein, if g: 1
/A is a morphism of C, then for any object T, g determines
an element g( ) of A deÔ¨Åned on T by composition with the unique element from T to 1,
which we denote ( ). This notation captures the perception that a global element depends
on no arguments. We will extend the functional notation to more than one variable in
Section 7.
5.4. Universal elements. Another special case of the Yoneda Lemma occurs when
one of the elements of F deÔ¨Åned on Hom(A, ‚àí) is a natural isomorphism. If
Œ≤: Hom(A, ‚àí)
/ F
is such a natural isomorphism, the (ordinary) element u ‚ààFA corresponding to it is called
a universal element for F, and F is called a representable functor, represented by
A. It is not hard to see that if F is also represented by A‚Ä≤, then A and A‚Ä≤ are isomorphic
objects of C. (See Exercise (UNIQ) on page 25, which actually says more than that.)
The following lemma gives a characterization of universal elements which in many
books is given as the deÔ¨Ånition.
5.5. Lemma. Let F: C
/ Set be a functor. Then u ‚ààFA is a universal element for
F if and only if for every object B of C and every element t ‚ààFB there is exactly one
arrow g: A
/ B such that Fg(u) = t.
Proof. If u is such a universal element corresponding to a natural isomorphism
Œ≤: Hom(A, ‚àí)
/ F
, and t ‚ààFB, then the required arrow g is the element (Œ≤‚àí1B)(t) in Hom(A, B). Con-
versely, if u ‚ààFA satisÔ¨Åes the conclusion of the Lemma, then it corresponds to some
natural transformation Œ≤: Hom(A, ‚àí)
/ F by the Yoneda Lemma. It is routine to ver-
ify that the map which takes t ‚ààFB to the arrow g ‚ààHom(A, B) given by the assumption
constitutes an inverse in Func(C, Set) to Œ≤B.
In this book, the phrase ‚Äúu ‚ààFA is a universal element for F‚Äù carries with it the
implication that u and A have the property of the lemma. (It is possible that u is also an
element of FB for some object B but not a universal element in FB.)
As an example, let G be a free groupon one generator g. Then g is the ‚Äúuniversal
group element‚Äù in the sense that it is a universal element for the underlying set functor
U: Grp
/ Set (more precisely, it is a universal element in UG). This translates into the
statement that for any element x in any group H there is a unique group homomorphism

TOPOSES, TRIPLES AND THEORIES
25
F: G
/ H taking g to x, which is exactly the deÔ¨Ånition of ‚Äúfree group on one generator
g‚Äù.
Another example which will play an important role in this book concerns the con-
travariant powersetfunctor P: Set
/ Set deÔ¨Åned in Section 2. It is straightforward to
verify that a universal element for P is the subset {1} of the set {0, 1}; the function
required by the Lemma for a subset B0 of a set B is the characteristic function of B0. (A
universal element for a contravariant functor, as here‚Äîmeaning a universal element for
P: Set op
/ Set‚Äîis often called a ‚Äúcouniversal element‚Äù.)
Exercises 1.5.
(UNIV)
‚ô¶. Find a universal element for the functor
Hom(‚àí, A) √ó Hom(‚àí, B): Set op
/ Set
for any two sets A and B. (If h: U
/ V , this functor takes a pair (f, g) to (h ‚ó¶f, h ‚ó¶g).)
(GPA)
‚ô¶. a. Show that an action of a group G on a set A is essentially the same thing as
a functor from G regarded as a category to Set.
b. Show that such an action has a universal element if and only if for any pair x and y
of elements of A there is exactly one element g of G for which gx = y.
(UPOW)
‚ô¶. Are either of the covariant powerset functors deÔ¨Åned in Exercise (POW) on
page 13 of Section 2 representable?
(UNIQ)
‚ô¶. Let F: C
/ Set be a functor and u ‚ààFA, u‚Ä≤ ‚ààFA‚Ä≤ be universal elements for
F. Show that there is a unique isomorphism œï: A
/ A‚Ä≤ such that Fœï(u) = u‚Ä≤.
(FRGP)
‚ô¶. Let U: Grp
/Set be the underlying set functor, and F: Set
/Grp the functor
which takes a set A to the free group on A. Show that for any set A, the covariant functor
HomSet(A, U(‚àí)) is represented by FA, and for any group G, the contravariant functor
HomGrp(F(‚àí), G) is represented by UG.
6. Pullbacks
The set P of composable pairs of arrows used in Section 1.1 in the alternate deÔ¨Ånition of
category is an example of a ‚ÄúÔ¨Åbered product‚Äù or ‚Äúpullback‚Äù. A pullback is a special case
of ‚Äúlimit‚Äù, which we treat in Section 7. In this section, we discuss pullbacks in detail.
Let us consider the following diagram D in a category C.
A
C
f
/
B
A
B
C
g

(7)

26
MICHAEL BARR AND CHARLES WELLS
We would like to objectify the set {(x, y) | f(x) = g(y)} in C; that is, Ô¨Ånd an object of
C whose elements are those pairs (x, y) with f(x) = g(y). Observe that for a pair (x, y)
to be in this set, x and y must be elements of A and B respectively deÔ¨Åned over the same
object T.
The set of composable pairs of arrows in a category (see Section 1) are a special case
in Set of this, with A = B being the set of arrows and f = d 0, g = d 1.
Thus we must consider commutative diagrams like
A
C
f
/
T
A
x

T
B
y
/ B
C
g

(8)
In this situation, (T, x, y) is called a commutative cone over D based on T, and
the set of commutative cones over D based on T is denoted Cone(T, D) . A commutative
cone based on T over D may usefully be regarded as an elementof D deÔ¨Åned on T. In
Section 7, we will see that a commutative cone is actually an arrow in a certain category,
so that this idea Ô¨Åts with our usage of the word ‚Äúelement‚Äù.
Our strategy will be to turn Cone(‚àí, D) into a functor; then we will say that an
object represents (in an informal sense) elements of D, in other words pairs (x, y) for
which f(x) = g(y), if that object represents (in the precise technical sense) the functor
Cone(‚àí, D).
We make will make Cone(‚àí, D) into a contravariant functor to Set: If h: W
/ T is
an arrow of C and (T, x, y) is a commutative cone over (1), then
Cone(h, D)(T, x, y) = (W, x ‚ó¶h, y ‚ó¶h)
which it is easy to see is a commutative cone over D based on W.
An element (P, p1, p2) of D which is a universal element for Cone(‚àí, D) (so that
Cone(‚àí, D) is representable) is called the pullback or the Ô¨Åber product of the diagram
D. The object P is often called the pullback, with p1 and p2 understood. As the reader
can verify, this says that (P, p1, p2) is a pullback if
A
C
f
/
P
A
p1

P
B
p2
/ B
C
g

(9)

TOPOSES, TRIPLES AND THEORIES
27
commutes and for any element of D based on T, there is a unique element of P based on
T which makes
A
C
f
/
P
A
p1

P
B
p2
/ B
C
g

T
B
y
'O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
T
P
?
?
?
?
?
?
?
?
?
?
?
?
?
T
A
x
////////////////////////
(10)
commute. Thus there is a bijection between the elements of the diagram D deÔ¨Åned on T
and the elements of the Ô¨Åber product P deÔ¨Åned on T. When a diagram like 10 has this
property it is called a pullback diagram.
The Cone functor exists for any category, but a particular diagram of the form 7 need
not have a pullback.
6.1. Proposition. If Diagram 9 is a pullback diagram, then the cone in Diagram 8 is
also a pullback of Diagram 7 if and only if the unique arrow from T to P making everything
in Diagram 10 commute is an isomorphism.
Proof. (This theorem actually follows from Exercise (UNIQ) on page 25 of Section 5,
but we believe a direct proof is instructive.) Assume that (2) and (3) are both pullback
diagrams. Let u: T
/P be the unique arrow given because 9 is a pullback diagram, and
let v: P
/ T be the unique arrow given because 8 is a pullback diagram. Then both for
g = u ‚ó¶v: P
/ P and g = idP it is true that p1 ‚ó¶g = p1 and p2 ‚ó¶g = p2. Therefore by the
uniqueness part of the deÔ¨Ånition of universal element, u ‚ó¶v = idP. Similarly, v ‚ó¶u = idT,
so that u is an isomorphism between T and P making everything commute. The converse
is easy.
The preceding argument is typical of many arguments making use of the uniqueness
part of the deÔ¨Ånition of universal element. We will usually leave arguments like this to
the reader.
A consequence of Proposition 1 is that a pullback of a diagram in a category is not
determined uniquely but only up to a ‚Äúunique isomorphism which makes everything com-
mute‚Äù. This is an instance of a general fact about constructions deÔ¨Åned as universal
elements which is made precise in Proposition 1 of Section 7.
6.2. Notation for pullbacks. We have deÔ¨Åned the pullback P of Diagram 7 so that
it objectiÔ¨Åes the set {(x, y) | f(x) = g(y)}. This Ô¨Åts nicely with the situation in Set,
where one pullback of (1) is the set {(x, y) | f(x) = g(y)} together with the projection
maps to A and B, and any other pullback is in one to one correspondence with this one
by a bijection which commutes with the projections. This suggest the introduction of a
setlike notation for pullbacks: We let [(x, y) | f(x) = g(y)] denote a pullback of (1). In

28
MICHAEL BARR AND CHARLES WELLS
this notation, f(x) denotes f ‚ó¶x and g(y) denotes g ‚ó¶y as in Section 4, and (x, y) denotes
the unique element of P deÔ¨Åned on T which exists by deÔ¨Ånition of pullback. It follows
that p1(x, y) = x and p2(x, y) = y, where we write p1(x, y) (not p1((x, y))) for p1 ‚ó¶(x, y).
The idea is that square bracketsaround a set deÔ¨Ånition denotes an object of the cat-
egory which represents the set of arrows listed in curly brackets‚Äî‚Äúrepresents‚Äù in the
technical sense, so that the set in curly brackets has to be turned into the object map of
a set-valued functor. The square bracket notation is ambiguous. Proposition 1 spells out
the ambiguity precisely.
We could have deÔ¨Åned a commutative cone over (1) in terms of three arrows, namely
a cone (T, x, y, z) based on T would have x: T
/ A, y: T
/ B and z: T
/ C such
that f ‚ó¶x = g ‚ó¶y = z. Of course, z is redundant and in consequence the Cone functor
deÔ¨Åned this way would be naturally isomorphic to the Cone functor deÔ¨Åned above, and
so would have the same universal elements. (The component of the natural isomorphism
at T takes (T, x, y) to (T, x, y, f ‚ó¶x)). Thus the pullback of (1) also represents the set
{(x, y, z) | f(x) = g(y) = z}, and so could be denoted [(x, y, z) | f(x) = g(y) = z].
Although this observation is inconsequential here, it will become more signiÔ¨Åcant when
we discuss more general constructions (limits) deÔ¨Åned by cones.
There is another way to construct a pullback in Set when the map g is monic. In
general, when g is monic, {(x, y) | f(x) = g(y)} ‚àº= {x | f(x) ‚ààg(B)}, which in Set is
often denoted f ‚àí1(B). In general, a pullback along a subobject can be interpreted as an
inverse image which as we will see is again a subobject.
The pullback Diagram 9 is often regarded as a sort of generalized inverse image con-
struction even when g is not monic. In this case, it is called the ‚Äúpullback of g along f‚Äù.
Thus when P is regarded as the Ô¨Åber product, the notion of pullback is symmetrical in
A and B, but when it is regarded as the generalized inverse image of B then the diagram
is thought of as asymmetrical.
A common notation for the pullback of (1) reÔ¨Çecting the perception of a pullback as
Ô¨Åber product is ‚ÄúA √óC B‚Äù.
6.3. The subobject functor. In this section, we will turn the subobjectconstruction
into a contravariant functor, by using the inverse image construction described above. To
do this, we need to know Ô¨Årst that the inverse image of a monomorphism is a monomor-
phism:
6.4. Lemma. In any category C, in a pullback diagram (3), if g is monic then so is p1.

TOPOSES, TRIPLES AND THEORIES
29
Proof. Consider the diagram below, in which the square is a pullback.
A
C
f
/
P
A
p1

P
B
p2
/ B
C
g

T
P
x‚Ä≤
?
?
?
?
?
?
?
?
?
?
?
?
?
T
P
x
?
?
?
?
?
?
?
?
?
?
?
?
?
(11)
Since P = [(a, b) | f(a) = g(b)], we can write x = [a, b] and x‚Ä≤ = [a‚Ä≤, b‚Ä≤]. If p1(x) = p1(x‚Ä≤)
then a = a‚Ä≤ and it follows that g(b) = f(a) = f(a‚Ä≤) = g(b‚Ä≤). Since g is assumed monic, we
then conclude that b = b‚Ä≤ and therefore x = x‚Ä≤.
To turn the subobject construction into a functor, we need more than that the pullback
of monics is monic. We must know that the pullback of a subobject is a well-deÔ¨Åned
subobject.
In more detail, for A in C, Sub A will be the set of subobjects of A.
If
f: B
/ A, then for a subobject represented by a monic g: U
/ A, Sub(f)(g) will be
the pullback of g along f. To check that Sub(f) is well-deÔ¨Åned, we need:
6.5. Theorem. If g: U
/
/ A and h: V
/
/ A determine the same subobject, then the
pullbacks of g and h along f: B
/ A represent the same subobjects of B.
Proof. This follows because the pullback of g is [y | f(y) ‚ààP
A U] and the pullback of h
is [y | f(y) ‚ààP
A V ], which has to be the same since by deÔ¨Ånition a subobject is entirely
determined by its elements.
The veriÔ¨Åcation that Sub is a functor is straightforward and is omitted.
Exercises 1.6.
(GP)
‚ô¶. Show how to describe the kernel of a group homomorphism f: G
/ H as the
pullback of f along the map which takes the trivial group to the identity of H.
(EP)
‚ô¶. Give an example of a pullback of an epimorphism which is not an epimorphism.
(PBM)
‚ô¶. Prove that an arrow f: A
/ B is monic if and only if the diagram
A
B
f
/
A
A
idA

A
A
idA
/ A
B
f

is a pullback.

30
MICHAEL BARR AND CHARLES WELLS
(PBS)
‚ô¶. a. Suppose that
A
C
f
/
A
BB
C
g

is a diagram in Set with g an inclusion. Construct a pullback of the diagram as a Ô¨Åber
product and as an inverse image of A along f, and describe the canonical isomorphism
between them.
b. Suppose that g is injective, but not necessarily an inclusion.
Find two ways of
constructing the pullback in this case, and Ô¨Ånd the isomorphism between them.
c. Suppose f and g are both injective. Construct the pullback of Diagram 8 in four
diÔ¨Äerent ways: (i) Ô¨Åber product, (ii) inverse image of the image of g along f, (iii) inverse
image of the image of f along g, (iv) and the intersection of the images of f and g. Find
all the canonical isomorphisms.
d. Investigate which of the constructions in (c) coincide when one or both of f and g
are inclusions.
(INVIM)
‚ô¶. When g is monic in diagram (1), redeÔ¨Åne ‚ÄúCone‚Äô so that
a. Cone(T, D) = {(x, z) | z ‚ààB and f(x) = z}, or equivalently
b. Cone(T, D) = {x | f(x) ‚ààB}.
Show that each deÔ¨Ånition gives a functor naturally isomorphic to the Cone functor
originally deÔ¨Åned.
(PPOS)
‚ô¶. Identify pullbacks in a poset regarded as a category. Apply this to the powerset
of a set, ordered by inclusion.
(LAT)
‚ô¶. For two subobjects g: U
/ A and h: V
/ A, say that U ‚â§V (or g ‚â§h) if
g factors through h. Show that this makes the set of subobjects of A a partially ordered
set with a maximum element.
(2PB)
‚ô¶. In a diagram
D
E
/
A
D

A
B
/ B
E

E
F
/
B
E

B
C
/ C
F

a. Show that if both small squares are pullbacks, so is the outer square.
b. Show that if the outer square and right hand square are pullbacks, so is the left hand
square.

TOPOSES, TRIPLES AND THEORIES
31
7. Limits
7.1. Graphs. A limit is the categorical way of deÔ¨Åning an object by means of equations
between elements of given objects. The concept of pullback as described in Section 6 is a
special case of limit, but suÔ¨Éciently complicated to be characteristic of the general idea.
To give the general deÔ¨Ånition, we need a special notion of ‚Äúgraph‚Äù. What we call a graph
here is what a graph theorist would probably call a ‚Äúdirected multigraph with loops‚Äù.
Formally, a graph G consists of two sets, a set O of objects and a set A of arrows,
and two functions d 0, d 1: A
/ O. Thus a graph is a ‚Äúcategory without composition‚Äù
and we will use some of the same terminology as for categories: O is the set of objects
(or sometimes nodes) and A is the set of arrows of the graph; if f is an arrow, d 0(f) is
the source of f and d 1(f) is the target of f.
A homomorphism F: G
/ H from a graph G to a graph H is a function taking
objects to objects and arrows to arrows and preserving source and target; in other words,
if f: A
/ B in G, then F(f): F(A)
/ F(B) in H .
It is clear that every category C has an underlying graph which we denote |C|; the
objects, arrows, source and target maps of |C| are just those of C. Moreover, any functor
F: C
/ D induces a graph homomorphism |F|: |C|
/ |D|. It is easy to see that this
gives an underlying graph functor from the category of categories and functors to the
category of graphs and homomorphisms.
7.2. Diagrams. A diagram in a category C (or in a graph G‚Äîthe deÔ¨Ånition is the
same) is a graph homomorphism D: I
/ |C| for some graph I. I is the index graph
of the diagram. Such a diagram is called a diagram of type I. For example, a diagram
of the form of 7 of Section 6 (which we used to deÔ¨Åne pullbacks) is a diagram of type I
where I is the graph
1
/ 2 o
3
D is called a Ô¨Ånite diagram if the index category has only a Ô¨Ånite number of nodes
and arrows.
We will write D: I
/ C instead of D: I
/ |C|; this conforms to standard notation.
Observe that any object A of C is the image of a constant graph homomorphism
K: I
/ C and so can be regarded as a degenerate diagram of type I.
If D and E are two diagrams of type I in a category C, a natural transformation
Œª: D
/ E is deÔ¨Åned in exactly the same way as a natural transformation of func-
tors (which does not involve the composition of arrows in the domain category anyway);
namely, Œª is a family of arrows
Œªi: D(i)
/ E(i)

32
MICHAEL BARR AND CHARLES WELLS
of C, one for each object i of I, for which
D(j)
E(j)
Œªj
/
D(i)
D(j)
D(e)

D(i)
E(i)
Œªi
/ E(i)
E(j)
E(e)

(12)
commutes for each arrow e: i
/ j of I.
7.3. Commutative cones and limits. A commutative cone with vertex W over a
diagram D: I
/ C is a natural transformation Œ± from the constant functor with value
W on I to D. We will refer to it as the ‚Äúcone Œ±: W
/ D‚Äù. This amounts to giving a
compatible family {Œ±i} of elements of the vertices D(i) based on W. This commutative
cone Œ± is an element (in the category of diagrams of type I) of the diagram D based
on the constant diagram W. The individual elements Œ±i (elements in C) are called the
components of the element Œ±.
Thus to specify a commutative cone with vertex W, one must give for each object i
of I an element Œ±i of D(i) based on W (that is what makes it a cone) in such a way that
if e: i
/ j is an arrow of I, then D(e)(Œ±i) = Œ±j (that makes it commutative). This says
that the following diagram must commute for all e: i
/ j.
D(i)
D(j)
D(e)
/
W
D(i)
Œ±i
W
D(j)
Œ±j
?
?
?
?
?
?
?
?
?
?
?
?
?
(13)
Note that in Section 6 our deÔ¨Ånition of commutative cone for pullbacks does not Ô¨Åt
our present deÔ¨Ånition, since we give no arrow to C in Diagram 13. Of course, this is only
a technicality, since there is an implied arrow to C which makes it a commutative cone.
This is why we gave an alternative, but equivalent construction in terms of three arrows
in Section 6.
Just as in the case of pullbacks, an arrow W ‚Ä≤
/ W deÔ¨Ånes a commutative cone over
D with vertex W ‚Ä≤ by composition, thus making Cone(‚àí, D): C
/ Set a contravariant
functor. (Cone(W, D) is the set of commutative cones with vertex W.) Then a limit of
D, denoted lim D, is a universal element for Cone(‚àí, D).
Any two limits for D are isomorphic via a unique isomorphism which makes everything
commute. This is stated precisely by the following proposition, whose proof is left as an
exercise.
7.4. Proposition. Suppose D: I
/ C is a diagram in a category C and Œ±: W
/ D
and Œ≤: V
/ D are both limits of D. Then there is a unique isomorphism u: V
/ W
such that for every object i of I, Œ±i ‚ó¶u = Œ≤i.

TOPOSES, TRIPLES AND THEORIES
33
The limit of a diagram D objectiÔ¨Åes the set
{x | x(i) ‚ààD(i) and for all e: i
/ j, D(e)(x(i)) = x(j)}
and so will be denoted
[x | x(i) ‚ààD(i) and for all e: i
/ j, D(e)(x(i)) = x(j)]
As in the case of pullbacks, implied arrows will often be omitted from the description.
In particular, when y ‚ààT B and g: A
/ B is a monomorphism we will often write
‚Äúy ‚ààA‚Äù or if necessary ‚àÉx(g(x) = y) when it is necessary to specify g.
By taking limits of diÔ¨Äerent types of diagrams one obtains many well known construc-
tions in various categories. We can recover subobjects, for example, by noting that the
limit of the diagram g: A
/ B is the commutative cone with vertex A and edges idA
and g. Thus the description of this limit when g is monic is [(x, y) | gx = y] = [y | y ‚ààA],
which is essentially the same as the subobject determined by g since a subobject is de-
termined entirely by its elements. In other words, the monomorphisms which could be
this limit are precisely those equivalent to (in the same subobject as) g in the sense of
Section 6.
A category C is complete if every diagram in the category has a limit. It is Ô¨Ånitely
complete if every Ô¨Ånite diagram has a limit. Set, Grp and Top are all complete.
7.5. Products. A discrete graph is a graph with no arrows. If the set {1, 2} is regarded
as a discrete graph I, then a diagram of type I in a category C is simply an ordered pair
of objects of C. A commutative cone over the diagram (A, B) based on T is simply a pair
(x, y) of elements of A and B. Commutativity in this case is a vacuous condition.
Thus a limit of this diagram represents the set {(x, y) | x ‚ààA, y ‚ààB} and is called
the product of A and B. It is denoted A √ó B = [(x, y) | x ‚ààA, y ‚ààB]. The object
B √ó A = [(y, x) | y ‚ààB, x ‚ààA] is diÔ¨Äerently deÔ¨Åned, but it is straightforward to prove
that it must be isomorphic to A √ó B.
It follows from the deÔ¨Ånition that A √ó B is an object P together with two arrows
p1: P
/ A and p2: P
/ B with the property that for any elements x of A and y of B
based on T there is a unique element (x, y) of A√óB based on T such that p1(x, y) = x and
p2(x, y) = y. These arrows are conventionally called the projections, even though they
need not be epimorphisms. Conversely, any element h of A √ó B based on T must be of
the form (x, y) for some elements of A and B respectively based on T: namely, x = p1(h)
and y = p2(h). In other words, there is a canonical bijection between Hom(T, A √ó B)
and Hom(T, A) √ó Hom(T, B) (this is merely a rewording of the statement that A √ó B
represents {(x, y): x ‚ààA, y ‚ààB}).
Note that (x, x‚Ä≤) and (x‚Ä≤, x) are distinct elements of A √ó A if x and x‚Ä≤ are distinct,
because p1(x, x‚Ä≤) = x, whereas p1(x‚Ä≤, x) = x‚Ä≤. In fact, (x, x‚Ä≤) = (p2, p1) ‚ó¶(x, x‚Ä≤).
If f: A
/ C and g: B
/ D, then we deÔ¨Åne
f √ó g = (f ‚ó¶p1, g ‚ó¶p2): A √ó B
/ C √ó D

34
MICHAEL BARR AND CHARLES WELLS
Thus for elements x of A and y of B deÔ¨Åned on the same object, (f √ó g)(x, y) =
(f(x), g(y)).
It should be noted that the notation A √ó B carries with it the information about the
arrows p1 and p2. Nevertheless, one often uses the notation A √ó B to denote the object
P; the assumption then is that there is a well-understood pair of arrows which make it
the genuine product. We point out that in general there may be no canonical choice of
which object to take be X √óY , or which arrows as projections. There is apparently such a
canonical choice in Set but that requires one to choose a canonical way of deÔ¨Åning ordered
pairs.
In a posetregarded as a category, the product of two elements is their inÔ¨Åmum, if it
exists. In a groupregarded as a category, products don‚Äôt exist unless the group has only
one element. The direct product of two groups is the product in Grp and the product of
two topological spaces with the product topology is the product in Top. There are similar
constructions in a great many categories of sets with structure.
The product of any indexed collection of objects in a category is deÔ¨Åned analogously
as the limit of the diagram D: I
/ C where I is the index set considered as the objects
of a graph with no arrows and D is the indexing function.
This product is denoted
Q
i‚ààI Di, although explicit mention of the index set is often omitted. Also, the index
is often subscripted as Di if that is more convenient. One particular case of a product
is the product over the empty index set; this is necessarily a terminal object (Exercise
(EMPTER) on page 38).
There is a general associative law for products which holds up to isomorphism; for
example, for any objects A, B and C, (A √ó B) √ó C is isomorphic to A √ó (B √ó C), and
both are isomorphic to A √ó B √ó C, meaning the product over a three-element index set
with D1 = A, D2 = B and D3 = C.
There is certainly no reason to expect two objects in an arbitrary category to have a
product. A category has products if any indexed set of objects in the category has a
product. It has Ô¨Ånite products if any Ô¨Ånite indexed set of objects has a product. By an
inductive argument (Exercise (PROD) on page 38), it is suÔ¨Écient for Ô¨Ånite products to
assume an empty product and that any pair of objects has a product. Similar terminology
is used for other types of limits; in particular, a category C has Ô¨Ånite limits or is left
exact if every diagram D: I
/ C in which I is a Ô¨Ånite graph, has a limit. A functor is
left exact if it preserves Ô¨Ånite limits; it is continuous if it preserves limits of all small
diagrams. A category has designated Ô¨Ånite limits if it has the additional structure of
an operation that takes each Ô¨Ånite diagram to a speciÔ¨Åc limit cone over that diagram.
One deÔ¨Ånes categories with designated products, designated limits, designated pullbacks,
and so on, in the same manner.
7.6. Algebraic structures in a category. The concept of product allows us to
deÔ¨Åne certain notions of abstract algebra in a category. Thus a binary operation on an
object A of a category is an arrow m: A√óA
/A (so of course, the product must exist).
For elements x, y of A deÔ¨Åned on T, we write xy for m(x, y) just as in sets. Observe that

TOPOSES, TRIPLES AND THEORIES
35
the expression xy is deÔ¨Åned only if x and y are elements of A deÔ¨Åned on the same object.
We will use inÔ¨Åx notation for symbols for binary operations such as +.
The operation m is commutative if xy = yx for all elements x and y of A; spelled
out, m(x, y) = m(y, x) for all elements x and y of A deÔ¨Åned on the same object. The
operation is associative if (xy)z = m(m(x, y), z) = m(x, m(y, z)) = x(yz) for all elements
x, y, and z deÔ¨Åned on the same object.
Thus a group in a category is an object G of the category together with an associative
binary operation on G, a function i: G
/ G, and a global element e of G with the
properties that e()x = xe() = x and xi(x) = i(x)x = e for all x ‚ààG. (In notation such as
‚Äúe()x‚Äù, the element () is assumed to have the same domain as x.) Abelian groups, rings,
R-modules, monoids, and so on can all be deÔ¨Åned in this way.
7.7. Equalizers. The equalizer of two arrows f, g: A
/ B (such arrows are said
to be parallel) is the object [x ‚ààA | f(x) = g(x)]. As such this does not describe a
commutative cone, but the equivalent expression [(x, y) | x ‚ààA, y ‚ààB, f(x) = g(x) = y]
does describe a commutative cone, so the equalizer of f and g is the limit of the diagram
A
f
/
g
/ B
We will also call it Eq(f, g).
In Set, the equalizer of f and g is of course the set
{x ‚ààA | f(x) = g(x)}. In Grp, the kernel of a homomorphism f: G
/H is the equalizer
of f and the constant map at the group identity.
7.8. Equivalence relations and kernel pairs. In Set, an equivalence relation E
on a set A gives rise to a quotient set A/E, the set of equivalence classes. In this section,
we will explore the two concepts (equivalence relations and kernel pairs) in an arbitrary
category. In exercises here and in Section 8 we explore their connection with the concept of
coequalizer, which is deÔ¨Åned there. In a category C that has Ô¨Ånite limits, an equivalence
relation on an object A is a subobject (u, v): E
/ A √ó A which is reÔ¨Çexive, symmetric
and transitive: for any elements x, y, z of A based on T, the following must be true:
1. (x, x) ‚ààT E.
2. If (x, y) ‚ààT E then so is (y, x).
3. If (x, y) and (y, x) are both in E then so is (x, z).
These deÔ¨Ånitions can be translated into statements about diagrams (see Exercise b).
The two projections
E
// A
of an equivalence relation E
/
/ A √ó A are also called the equivalence relation. Exercise
(ER) on page 40 describes conditions on a parallel pair of arrows which make it an
equivalence relation, thus giving a deÔ¨Ånition which works in categories without products.
Related to this is the concept of kernel pair. If f: A
/B is any arrow of C, a parallel
pair of arrows h: K
/A, k: K
/A is a kernel pair for f if f ‚ó¶h = f ‚ó¶k and whenever

36
MICHAEL BARR AND CHARLES WELLS
s, t: L
/ A is a pair of arrows for which f ‚ó¶s = f ‚ó¶t, then there is a unique arrow
j: L
/ K for which s = h ‚ó¶j and t = k ‚ó¶j. K is the pullback of f along itself and h and
k are the projections (Exercise (KPL) on page 40). Thus K = [(x, x‚Ä≤) | f ‚ó¶x = f ‚ó¶x‚Ä≤]. In
Set, an equivalence relation (u, v) is the kernel pair of its class map.
7.9. Existence of limits. The existence of some limits sometimes implies the exis-
tence of others. We state a theorem giving the most useful variations on this theme.
7.10. Proposition.
(a) In any category C, the following are equivalent:
(i) C has all Ô¨Ånite limits.
(ii) C has a terminal object, all equalizers of parallel pairs, and all binary products.
(iii) C has a terminal object and all pullbacks.
(b) A category C has all limits if and only if it has all equalizers of parallel pairs and
all products.
Proof. For (a), that (i) implies (iii) is trivial, and that (iii) implies (ii) follows from
Exercise (PEPB) on page 38.
The construction that shows (ii) implies (i) and the construction for the hard half of
(b) are essentially the same.
With a terminal object and binary products, we get, by induction, all Ô¨Ånite products.
Given a diagram D: I
/ C, with I a non-empty Ô¨Ånite graph, we let A =
Q
i‚ààObI Di
and B =
Q
Œ±‚ààArI cod Œ±. We deÔ¨Åne two arrows f, g: A
/ B by pŒ± ‚ó¶f = Œ± ‚ó¶pdom Œ± and
pŒ± ‚ó¶g = pcod Œ±. This means that the following diagrams commute.
D dom Œ±
D cod Œ±
Œ±
/
Q
i‚ààObI Di
D dom Œ±
pdom Œ±

Q
i‚ààObI Di
Q
Œ±‚ààArI cod Œ±
f
/ Q
Œ±‚ààArI cod Œ±
D cod Œ±
pŒ±

Q
i‚ààObI Di
D cod Œ±
pcod Œ±
?
?
?
?
?
?
?
?
?
?
?
?
Q
i‚ààObI Di
Q
Œ±‚ààArI cod Œ±
g
/ Q
Œ±‚ààArI cod Œ±
D cod Œ±
pŒ±

If E
h
/ Q Di is an equalizer of f and g, then f ‚ó¶h = g ‚ó¶h expresses the fact that
h: E
/ D is a cone, while the universal mapping property into the equalizer expresses
the universality of that cone. As for the empty cone, its limit is the terminal object.
By suitable modiÔ¨Åcations of this argument, we can show that a functor preserves Ô¨Ånite
limits if and only if it preserves binary products, the terminal object and equalizers.

TOPOSES, TRIPLES AND THEORIES
37
7.11. Preservation of limits. Let D: I
/ C be a diagram and F: C
/ B be a
functor. Let
d: lim D
/ D
be a universal element of D. We say that F preserves lim D if Fd: F(lim D)
/ FD is
a universal element of FD. The following proposition gives an equivalent condition for
preserving a limit.
7.12. Proposition. F preserves the limit of D if and only if FD has a limit
d‚Ä≤: lim FD
/ FD
and there is an isomorphism g: F(lim D)
/ lim FD with the property that for any object
T,
Cone(T, D)
Cone(FT, FD)
F
/
Hom(T, lim D)
Cone(T, D)
Hom(T,d)

Hom(T, lim D)
Hom(FT, F(lim D))
F
/ Hom(FT, F(lim D))
Cone(FT, FD)

Hom(FT, lim FD)
Cone(FT, FD)
Hom(FT,d‚Ä≤)

Hom(FT, F(lim D))
Hom(FT, lim FD)
Hom(FT,g)
?
?
?
?
?
?
?
?
?
?
?
?
Hom(FT, F(lim D))
Cone(FT, FD)
Hom(FT,Fd)

commutes.
The proof is trivial, but we include this diagram because it is analogous to a later
diagram (Diagram (3), Section 5.3) which is not so trivial.
Requiring that lim FD ‚àº= F(lim D) is not enough for preservation of limits (see Exer-
cise (INFSET) on page 39).
Given any arbitrary class of diagrams each of which has a limit in C, the functor F
preserves that class of limits if it preserves the limit of each diagram in that class. We
say, for example, that F preserves all limits (respectively all Ô¨Ånite limits) if it preserves the
limit of every diagram (respectively every Ô¨Ånite diagram). F preserves products (respec-
tively Ô¨Ånite products) if F preserves the limit of every discrete diagram (respectively every
Ô¨Ånite discrete diagram). To preserve Ô¨Ånite products it is suÔ¨Écient to preserve terminal
objects and each product of two objects.
A functor which preserves Ô¨Ånite limits is called left exact. This coincides with the
concept with the same name when the functor goes from a category of R-modules to Ab.
A functor F: C
/ B creates limits of a given type if whenever D: I
/ C is a
diagram of that type and d: lim FD
/ FD is a universal element of FD, then there is
a unique element u: X
// D for which Fu = d and moreover u is a universal element of
D. The underlying set functor from Grp to Set creates limits. For example, that it creates
products is another way of stating the familiar fact that given two groups G and H there
is a unique group structure on G √ó H (really on UG √ó UH) making it the product in Grp.

38
MICHAEL BARR AND CHARLES WELLS
F reÔ¨Çects limits of a given type if whenever D: I
/ C is a diagram of that type,
d: lim FD
/ FD is a universal element of FD and c is a cone to D for which Fc = d,
then c is a universal element of D.
Exercises 1.7.
(EMPTER)
‚ô¶. Show that an object T is the terminal object if and only if it is the product
of the empty set of objects.
(PROD)
‚ô¶. a. Let A, B and C be objects in a category. Show how (A √ó B) √ó C) and
A √ó (B √ó C) can both be regarded as the product of A, B and C (by Ô¨Ånding appropriate
projection maps), so that they are isomorphic.
b. Let C be category with an empty product and with the property that any two objects
have a product. Show that C has all Ô¨Ånite products.
c. If you really care, state and prove a general associative law saying that any way
of meaningfully parenthesizing a sequence of objects of a category with products gives a
product which is isomorphic to that given by any other way of parenthesizing the same
sequence.
(TERM)
‚ô¶. Show that in a category with a terminal object 1, the product A √ó 1 exists
for any object A and is (up to isomorphism) just A itself equipped with the projections
id: A
/ A and (): A
/ 1.
(PEPB)
‚ô¶. Prove that in a category with Ô¨Ånite products, the equalizer of
A
f
/
g
/ B
is the pullback of
A
A √ó B
(id,g)
/
A
A
A √ó B
(id,f)

if it exists, and in a category with a terminal object, the product of objects A and B is
the pullback of
A
1
/
A
BB
1

if it exists.
(PIX)
‚ô¶. a. Let C be a category and A an object of C. Show that the product of two
objects in the category C/A of objects over A is their pullback over A in C.
b. Show that the functor C/A
/ C which takes B
/ A to B creates pullbacks.

TOPOSES, TRIPLES AND THEORIES
39
(connlim)
‚ô¶. Call a non-empty graph connected if it is not the disjoint union of two
non-empty subgraphs.
a. Show that the forgetful functor A/A
/ A preserves the limits of diagrams over
connected graphs (which are called connected diagrams).
b. Show that the category of Ô¨Åelds and homomorphisms of Ô¨Åelds has limits of connected
diagrams and no others.
(CCD)
‚ô¶. Show that if D is left exact and F: D
/ C preserves Ô¨Ånite limits, then the
comma category (C, F) is left exact.
(LIMISO)
‚ô¶. Prove Proposition 1.
(TOP)
‚ô¶. Let A be a topological space and let O(A) denote the set of open sets of A
partially ordered by inclusion considered as a category. Show that O(A) has Ô¨Ånite limits.
Does O(A) have all limits?
(REGMON)
‚ô¶. A monomorphism is regular if it is the equalizer of two arrows.
(The
dual notion is called regular epi, not ‚Äùcoregular‚Äù). Recall from Section 1.4 that a regular
epimorphism is denoted in diagrams by a double-headed arrow:
/ /
We have no special notation for regular monos nor for ordinary epis. The reason for this
asymmetry is basically one of convenience. In most of the situations in this book we are
interested in ordinary monos, but only regular epis. Actually, in toposes where much of
our attention will be focused, all epis and all monos will be regular.
a. Show that any arrow whose domain is the terminal object 1 is a regular mono.
b. Show that the pullback of a regular mono is a regular mono.
(SETC)
‚ô¶. Let D: I
/ Set be a diagram in Set. Let ‚àóbe a Ô¨Åxed one-element set. Show
that the set of all cones over D with vertex ‚àó, equipped with the correct projections, can
be interpreted as lim D. (This proves that Set is complete.)
(SGTC)
‚ô¶. Show that Grp and Top are complete.
(LFC)
‚ô¶. Let D: I
/ C be a diagram, and let A be an object of C.
Then DA =
Hom(A, D(‚àí)) is a diagram in Set. Let Cone(A, D) denote the set of cones over D with
vertex A. Show that the limit of DA in Set is the cone Œ±: (Cone(A, D)
/ DA with Œ±i
(for i an object of I) deÔ¨Åned by Œ±i(Œ≤: A
/ D) = Œ≤i, for Œ≤ ‚àà(Cone(A, D).
(REPLIM)
‚ô¶. Show that representable functors preserve limits. (Hint: Use Exercises (b)
and (b) A direct proof is also possible.)
(HOMLIM)
‚ô¶. Let D: I
/C be a diagram and let Œ±: W
/D be a cone over D. For any
object A of C, let Hom(A, Œ±): Hom(A, W)
/Hom(A, D(‚àí)) denote the cone with vertex
Hom(A, W) which is deÔ¨Åned by Hom(A, Œ±)i = Hom(A, Œ±i). Show that if Hom(A, Œ±) is a
limit of Hom(A, D(‚àí)) for every object A of C, then Œ±: W
/ D is a limit of D. (Of
course the converse is true by Exercise (REPLIM) on page 39.)

40
MICHAEL BARR AND CHARLES WELLS
(INFSET)
‚ô¶. Let C be the category of inÔ¨Ånite sets and maps between them. Show that
the covariant powerset functor P which takes a map to its image function makes P(A√óB)
isomorphic to PA √ó PB for any objects A and B but does not preserve products.
(FLKP)
‚ô¶. Suppose that the category A has Ô¨Ånite limits. Show that the kernel pair of
any arrow is an equivalence relation. Hint: you will have to use the universal mapping
properties of limits.
(ER)
‚ô¶. A more general deÔ¨Ånition of equivalence relation is this: a pair u: E
/ A,
v: E
/ A of arrows is jointly monic if for any f, g: B
/ E, uf = ug and vf = vg
imply that f = g. Such a pair makes E an equivalence relation on A if for each object B
the subset of Hom(B, A) √ó Hom(B, A) induced by Hom(B, E) is an equivalence relation
(in the usual sense) on Hom(B, A). Show that this is equivalent to the deÔ¨Ånition in the
text when the product A √ó A exists in the category.
(TRAN)
‚ô¶. Show that a relation (u, v): R ‚àíA √ó A in a category with Ô¨Ånite limits is
transitive if and only if, for the pullback
R
A
u
/
P
R
p1

P
R
p2
/ R
A
v

it is true that (v ‚ó¶pi, u ‚ó¶p2) ‚ààR.
(KPL)
‚ô¶. Show that h, k: K
/ A is a kernel pair of f: A
/ B if and only if this
diagram is a pullback:
A
B
f
/
K
A
h

K
A
k
/ A
B
f

(CREA)
‚ô¶. a. Show that the underlying functor from the category of groups creates limits.
b. Do the same for the category of compact HausdorÔ¨Äspaces and continuous maps.
(CRRF)
‚ô¶. Show that if F: C
/ D is an equivalence of categories, and U: D
/ A
creates limits, then UF reÔ¨Çects limits.
(PER)
‚ô¶. Show that if E is an equivalence relation on A, then E √ó E is an equivalence
relation on A √ó A.

TOPOSES, TRIPLES AND THEORIES
41
(CCLA)
‚ô¶. Let F: B
/D and G: C
/D be functors. Show that the following diagram
is a limit in the category of categories. Here (F, G) is the comma category as deÔ¨Åned in
Section 1.2.
B
Ar(D)
Ar(D)
C
(F, G)
B
(F, G)
Ar(D)

(F, G)
C
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
B
Ar(D)
B
D
F

Ar(D)
D
dom
Ar(D)
C
Ar(D)
D
cod
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
C
D
G

(LIMFUN)
‚ô¶. Show that if A and B are categories and D: I
/ Func(A, B) a diagram,
and for each object A of A the diagram D ‚ó¶ev(A) gotten by evaluating at A has a limit,
then these limits make up the values of a functor which is the limit of D in the functor
category. Conclude that if B is complete, so is Func(A, B).
(PRES)
‚ô¶. Suppose that A is a category and that B is a subcategory of Func(Aop, Set)
that contains all the representable functors. This means that the Yoneda embedding Y
of Aop into the functor category factors through B by a functor y: Aop
/ B. Suppose
further that a class C of cones is given in A with the property that each functor in B takes
every cone in C to a limit cone. Show that yop: A
/ Bop takes every cone in to a limit
cone.
8. Colimits
A colimit of a diagram is a limit of the diagram in the opposite category. Spelled out, a
commutative cocone from a diagram D: I
/C with vertex W is a natural transformation
from D to the constant diagram with value W. The set of commutative cocones from D
to an object A is Hom(D, A) and becomes a covariant functor by composition. A colimit
of D is a universal element for Hom(D, ‚àí).
For example, let us consider the dual notion to ‚Äúproduct‚Äù. If A and B are objects in
a category, their sum (also called coproduct) is an object Q together with two arrows
i1: A
/Q and i2: B
/Q for which if f: A
/C and g: B
/C are any arrows of the
category, there is a unique arrow ‚ü®f, g‚ü©: Q
/C for which ‚ü®f, g‚ü©‚ó¶i1 = f and ‚ü®f, g‚ü©‚ó¶i2 = g.
The arrows i1 and i2 are called the coproduct injections although they need not be monic.
Since Hom(A + B, C) ‚àº= Hom(A, C) √ó Hom(B, C), ‚ü®f, g‚ü©represents an ordered pair of
maps, just as the symbol (f, g) we deÔ¨Åned when we treated products in Section 7.
The sum of two sets in Set is their disjoint union, as it is in Top. In Grp the categorical
sum of two groups is their free product; on the other hand the sum of two abelian groups

42
MICHAEL BARR AND CHARLES WELLS
in the category of abelian groups is their direct sum with the standard inclusion maps
of the two groups into the direct sum. The categorical sum in a poset regarded as a
category is the supremum. The categorical sum of two posets in the category of posets
and non-decreasing maps is their disjoint with no element of the one summand related to
any element of the second.
The coequalizer of two arrows f, g: A
/ B is an arrow h: B
/ C such that
(i) h ‚ó¶f = h ‚ó¶g, and
(ii) if k: B
/ W and k ‚ó¶f = k ‚ó¶g, then there is a unique arrow u: C
/ W for which
u ‚ó¶h = k.
The coequalizer of any two functions in Set exists but is rather complicated to con-
struct. If K is a normal subgroup of a group G, then the coequalizer of the inclusion of
K into G and the constant map at the identity is the canonical map G
/ G/K.
The dual concept to ‚Äúpullback‚Äù is ‚Äúpushout‚Äù, which we leave to the reader to formulate.
The notion of a functor creating or preserving a colimit, or a class of colimits, is
deÔ¨Åned analogously to the corresponding notion for limits. A functor that preserves Ô¨Ånite
colimits is called right exact, and one that preserves colimits of all small diagrams is
called cocontinuous. In general, a categorical concept that is deÔ¨Åned in terms of limits
and/or colimits is said to be deÔ¨Åned by ‚Äúexactness conditions‚Äù.
8.1. Regular monomorphisms and epimorphisms. A map that is the equalizer of
two arrows is automatically a monomorphism and is called a regular monomorphism.
For let h: E
/ A be an equalizer of f, g: A
/ B and suppose that k, l: C
/ E are
two arrows with h ‚ó¶k = h ‚ó¶l. Call this common composite m. Then f ‚ó¶m = f ‚ó¶h ‚ó¶k =
g ‚ó¶h ‚ó¶k = g ‚ó¶m so that, by the universal mapping property of equalizers, there is a unique
map n: C
/ E such that h ‚ó¶n = m. But k and l already have this property, so that
k = n = l.
The dual property of being the coequalizer of two arrows is called regular epimor-
phism. In many familiar categories (monoids, groups, abelian groups, rings, . . . ) the
regular epimorphisms are the surjective mappings, but it is less often the case that the
injective functions are regular monomorphisms. Of the four categories mentioned above,
two (groups and abelian groups) have that property, but it is far from obvious for groups.
8.2. Regular categories. A category A will be called regular if every Ô¨Ånite diagram
has a limit, if every parallel pair of arrows has a coequalizer and if whenever
C
D
k
/
A
C
g

A
B
f
/ B
D
h

is a pullback square, then h a regular epimorphism implies that g is a regular epimorphism.
Weaker deÔ¨Ånitions are sometimes used in the literature. The property required of regular

TOPOSES, TRIPLES AND THEORIES
43
epis is sometimes described by the phrase, ‚ÄúRegular epis are stable under pullback.‚Äù Some
related ideas are deÔ¨Åned on page 207.
In Set and in many other familiar categories (groups, abelian groups, rings, categories
of modules, etc.), the regular epics are characterized as the surjective homomorphisms
and these are closed in this way under pulling back. However, many familiar categories
are not regular. For example neither the category of topological spaces and continuous
maps, nor the category of posets and order preserving maps, is regular. If you know what
an equational theory is, it is useful to know that the category of models of any equational
theory is always regular (and exact, see below for the deÔ¨Ånition).
8.3. Proposition. In a regular category, every arrow f can be written as f = m ‚ó¶e
where m is a monomorphism and e is a regular epimorphism.
Proof. The obvious way to proceed is to begin with an arrow f: A
/ A‚Ä≤ and form
the kernel pair of f, which can be described symbolically as {(a, b) | fa = fb}.
If
this kernel pair is K(f)
d 0
/
d1
/ A, then let g: A
/ B be the coequalizer of d 0 and d 1.
Since f ‚ó¶d 0 = f ‚ó¶d 1, the universal mapping property of coequalizers implies there is a
unique h: B
/ A‚Ä≤ such that h ‚ó¶g = f. Now g is a regular epimorphism by deÔ¨Ånition.
If you try this construction in the category of sets or groups or, . . . , you will discover
that h is always monic and then f = h ‚ó¶g is the required factorization.
There are,
however, categories in which such an h is not always monic. We will now show that in
a regular category, it is. Actually, a bit less than regularity suÔ¨Éces. It is suÔ¨Écient that
a pullback of a regular epimorphism be an epimorphism. Call an arrow a weakly regular
epimorphism if it is gotten as a composite of arrows, each of which is gotten by pulling
back a regular epimorphism. Since a pullback stacked on top of a pullback is a pullback,
it follows that weakly regular epimorphisms are both closed under pullback (Exercise b)
and under composition and since a pullback of a regular epimorphism is an epimorphism,
every weakly regular epimorphism is an epimorphism. Next note that since A
/ / B is
a regular epimorphism, f √ó 1: A √ó A
/ B √ó A is a weakly regular epimorphism since
B √ó A
B
p1
/
A √ó A
B √ó A
f√ó1

A √ó A
A
p1
/ A
B
f

is a pullback. Similarly, 1 √ó f: B √ó A
/ B √ó B and hence f √ó f: A √ó A
/ B √ó B is
a weakly regular epimorphism. Let K(h)
e0
/
e1
/ A be the kernel pair of g. The fact that
h ‚ó¶g ‚ó¶d 0 = f ‚ó¶d 0 = f ‚ó¶d 1 = h ‚ó¶g ‚ó¶d 1, together with the universal mapping property of
K(h) implies the existence of an arrow k: K(f)
/ K(h) such that the left hand square

44
MICHAEL BARR AND CHARLES WELLS
in the diagram
A √ó A
B √ó B
/
g√óg
/
K(f)
A √ó A
(d0,d1)

K(f)
K(h)
k
/ K(h)
B √ó B
(e0,e1)

B √ó B
A‚Ä≤ √ó A‚Ä≤
h√óh
/
K(h)
B √ó B
K(h)
A‚Ä≤
/ A‚Ä≤
A‚Ä≤ √ó A‚Ä≤
(1,1)

commutes. The right hand square and the outer squares are pullbacks by definition‚Äî
they have the universal mapping properties of the kernel pairs. By a standard property
of pullbacks, the left hand square is also a pullback.
But g √ó g is a weakly regular
epimorphism and hence so is k. Now in the square
A
B
g
/
K(f)
A
K(f)
K(h)
k
/ K(h)
B
K(f)
A
d 0

K(f)
A
d 1

K(h)
B
e0

K(h)
B
e1

we have e0 ‚ó¶k = g ‚ó¶d 0 = g ‚ó¶d 1 = e1 ‚ó¶k and k is epic and therefore e0 = e1. But that
means that h is monic, which Ô¨Ånishes the argument.
8.4. Equivalence relations and exact categories. Let A be a category with
Ô¨Ånite limits. If A is an object, a subobject (d 0, d 1): E
/A√óA is called an equivalence
relation if it is
ER‚Äì1.
reÔ¨Çexive: there is an arrow r: a
/ E such that d 0 ‚ó¶r = d 1 ‚ó¶r = id;
ER‚Äì2.
symmetric: there is an arrow s: E
/ E such that s ‚ó¶d 0 = d 1 and s ‚ó¶d 1 = d 0;
ER‚Äì3.
transitive: if
E
A
p1
/
T
E
q2

T
E
q1
/ E
A
p2

is a pullback, there is an arrow t: T
/E such that p1 ‚ó¶t = p1 ‚ó¶q1 and p2 ‚ó¶t = p2 ‚ó¶q2.
The interpretation of the last point is that E ‚äÜA √ó A, so is a set of ordered pairs
(a1, a2); T ‚äÜE √ó E, so T is a set of ordered 4-tuples (a1, a2, a3, a4) such that (a1, a2) ‚ààE
and (a3, a4) ‚ààE and the condition p1 ‚ó¶q2 = p2 ‚ó¶q1 simply expresses a3 = a4. Then the
condition p1 ‚ó¶t = p1 ‚ó¶q1 means that t(a1, a2, a3, a4) has Ô¨Årst coordinate a1 and p2 ‚ó¶t =
p2 ‚ó¶q2 means that the second coordinate is a4. So taken all together, this says that when
(a1, a2) ‚ààE, (a3, a4) ‚ààE and a2 = a3, then (a1, a4) ‚ààE, which is just transitivity in the
usual sense.

TOPOSES, TRIPLES AND THEORIES
45
If f: A
/ A‚Ä≤ is an arrow, then the kernel pair of f is an equivalence relation. It
is internally the relation a1 ‚àºa2 if and only if fa1 = fa2. We say that an equivalence
relation is eÔ¨Äective if it is the kernel pair of some arrow. Another term for eÔ¨Äective
equivalence relation is congruence.
A category is called exact if it is regular and if every equivalence relation is eÔ¨Äective.
8.5. Proposition. Suppose A is a regular, respectively exact, category. Then for any
object A the slice A/A is regular, respectively exact.
Proof. Let us write [b: B
/ A] for an object of A/A. Suppose
f: [b: B
// A]
/ [b‚Ä≤: B‚Ä≤
/ A]
is an arrow such that f: B
/ B‚Ä≤ is a regular epimorphism in A. Then there is a pair of
arrows B‚Ä≤‚Ä≤
d 0
/
d 1
/ B whose coequalizer is f. Then we have the diagram
[b ‚ó¶d 0 = b ‚ó¶d 1: B‚Ä≤‚Ä≤
/ A]
d 0
/
d 1
/ [b: B
/ A]
f
/ [b‚Ä≤: B‚Ä≤
/ A]
which is a coequalizer in A/A so that f is a regular epimorphism there.
Conversely,
suppose that f: [b: B
/ A]
/ [b‚Ä≤: B‚Ä≤
/ A] is a regular epimorphism in A/A. Then we
have a coequalizer
[b‚Ä≤‚Ä≤: B‚Ä≤‚Ä≤
/ A]
d 0
/
d 1
/ [b: B
/ A]
f
/ [b‚Ä≤: B‚Ä≤
/ A]
Given g: B
/ C such that g ‚ó¶d 0 = g ‚ó¶d 1, it is easy to see that we have a morphism
(g, b): [b: B
/ A]
/ [p2, C √ó A]. Moreover,
(g, b) ‚ó¶d 0 = (g ‚ó¶d 0, b ‚ó¶d 0) = (g ‚ó¶d 1, b‚Ä≤‚Ä≤) = (g ‚ó¶d 1, b ‚ó¶d 1) = (g, b) ‚ó¶d 1
so that there is a unique (h, k): [b‚Ä≤: B‚Ä≤
/ A]
/ [p2: C √ó A
/ A] with (h, k) ‚ó¶f = (g, b).
This implies that h ‚ó¶f = g and k ‚ó¶f = b. Thus h: B‚Ä≤
/ C satisÔ¨Åes h ‚ó¶f = g. If h‚Ä≤
were a diÔ¨Äerent map for which h‚Ä≤ ‚ó¶f = g, then (h‚Ä≤, k) would be a second map for which
(h‚Ä≤, k) ‚ó¶f = (g, b), contradicting uniqueness. Thus far we have shown that f is a regular
epic in A if and only if it is so in A/A. If we have [b: B
/ A]
f
/[b‚Ä≤: B‚Ä≤
/ A] o
g
[c‚Ä≤, C‚Ä≤]
and if
C‚Ä≤
B‚Ä≤
g
/
C
C‚Ä≤
f‚Ä≤

C
B
g‚Ä≤
/ B
B‚Ä≤
f


46
MICHAEL BARR AND CHARLES WELLS
is a pullback, then it is immediate that for c = c‚Ä≤ ‚ó¶f ‚Ä≤ = b‚Ä≤ ‚ó¶g ‚ó¶f ‚Ä≤ = b‚Ä≤ ‚ó¶f ‚ó¶g‚Ä≤ = b ‚ó¶g‚Ä≤ the
square
[c‚Ä≤: C‚Ä≤
/ A]
[b‚Ä≤: B‚Ä≤
/ A]
g
/
[c: C
/ A]
[c‚Ä≤: C‚Ä≤
/ A]
f‚Ä≤

[c: C
/ A]
[b: B
/ A]
g‚Ä≤
/ [b: B
/ A]
[b‚Ä≤: B‚Ä≤
/ A]
f

is a pullback in A. If f is regular epic in A/A it is so in A; hence f ‚Ä≤ is regular epic in A
and therefore is so in A/A. This proves it for regular categories.
For exact categories, the argument is similar. The previous discussion amounts to
showing that pullbacks and coequalizers are the same in A and A/A. As a matter of fact,
the full story is that all colimits are the same. Not all limits are; however all pullbacks are
and that is all that is used in the deÔ¨Ånition of exact category. For example, the terminal
object in A/A is [id: A
/ A] and that is not the terminal object of A (unless A = 1, in
which case A/A is equivalent to A). See Exercise b below.
Exercises 1,8.
(SUM)
‚ô¶. Given two arrows f: A
/ C and g: B
/ D, then there is a unique arrow
f + g: A + B
/ C + D for which (f + g) ‚ó¶i1 = i1 ‚ó¶f and similarly for the second index.
Write a formula for f + g in terms of pointed brackets. (Compare the deÔ¨Ånition of f √ó g
in Section 1.7.)
(COEQG)
‚ô¶. Let G be a group with subgroup K (not necessarily normal in G). Describe
the coequalizer of the inclusion of K in G and the constant map taking everything in K
to the identity.
(COEQ)
‚ô¶. Show that coequalizers of any two parallel arrows exist in Set and Grp.
(CBB)
‚ô¶. (Coequalizers can be big). Let 1 denote that category with one object and one
arrow, and 2 the category with two objects and exactly one identity arrow, going from
one object to the other. There are exactly two functors from 1 to 2. Show that their
coequalizer in the category of categories and functors is the monoid (N, +) regarded as a
category with one object.
(CAE)
‚ô¶. a. Show that a coequalizer of two parallel arrows is an epimorphism.
b. Show that the converse of (a) is true in Set and Grp, but not in general.
(EQC)
‚ô¶. Prove:
a. If an equivalence relation is eÔ¨Äective and has a coequalizer then it is the kernel pair
of its coequalizer.
b. If an epimorphism is regular and has a kernel pair then it is the coequalizer of its
kernel pair. (Warning: a parallel pair it coequalizcs need not be its kernel pair.)

TOPOSES, TRIPLES AND THEORIES
47
(FCR)
‚ô¶. Let C be a small category. Show that any functor F: C op
/ Set is a colimit of
representable functors. (Hint: The required graph I is constructed as follows. An object
of I is a pair (C, c) where c ‚ààFC. Thus the set of objects of I is the disjoint union of all
the individual sets FC over all the objects of C. A morphism in I from (C, c) to (C‚Ä≤, c‚Ä≤)
is a morphism f: C
/ C‚Ä≤ such that Ff(c‚Ä≤) = c. The diagram D: I
/ Func(C, Set) is
deÔ¨Åned by D(C, c) = Hom(‚àí, C) and Df = Hom(‚àí, f). Of course we have cheated a bit
in calling the morphisms f as they must also be indexed by the names of their domain
and codomain.)
(EAPL)
‚ô¶. Prove the following laws of exponents for the element notation introduced in
Section 1.5:
a. For all objects T1 and T2, ‚ààT1+T2 = ‚ààT1 √ó ‚ààT2 (an element of A deÔ¨Åned on T1 + T2
is the same as a pair of elements of A, one deÔ¨Åned on T1, and the other on T2).
b. For all objects A1 and A2, ‚ààA1 √ó A2 = ‚ààA1 √ó ‚ààA2.
9. Adjoint functors
9.1. Adjunction of group underlying function. Let A be a set and G be a
group. We have noted that for any function from A to G, in other words for any element
of HomSet(A, UG), there is a unique group homomorphism from the free group FA with
basis A to G which extends the given function. This is thus a bijection
HomGrp(FA, G)
/ HomSet(A, UG)
The inverse simply restricts a group homomorphism from FA to G to the basis A.
Essentially the same statement is true for monoids instead of groups (replace FA by the
free monoid A‚àó) and also for the category of abelian groups, with FA the free abelian
group with basis A.
The bijection just mentioned is a natural isomorphism Œ≤ of functors of two variables, in
other words a natural isomorphism from the functor HomGrp(F(‚àí), ‚àí) to HomSet(‚àí, U(‚àí)).
This means precisely that for all functions f: A
/ B and all group homomorphisms
g: G
/ H,
HomGrp(FB, H)
HomSet(B, UH)
o
Œ≤(B,H)
HomGrp(FA, G)
HomGrp(FB, H)
O
HomGrp(Ff,g)
HomGrp(FA, G)
HomSet(A, UG)
Œ≤(A,G)
/ HomSet(A, UG)
HomSet(B, UH)
HomSet(f,Ug)

(14)
commutes.
The free group functor and the underlying set functor are a typical pair of ‚Äúadjoint
functors‚Äù.
Formally, if A and D are categories and L: A
/ D and R: D
/ A are
functors, then L is left adjoint to R and R is right adjoint to L if for every objects A of

48
MICHAEL BARR AND CHARLES WELLS
A and B of D there is an isomorphism
HomA(A, RB) ‚àº= HomD(LA, B)
which is natural in the sense of diagram 14. Informally, elements of RB deÔ¨Åned on A are
essentially the same as element of B deÔ¨Åned on LA.
If f: A
/ RB, the arrow g: LA
/ B corresponding to it under the natural isomor-
phism is called the transpose or adjoint transpose of f. The arrow f is also called the
transpose of g; usually there is no doubt which is meant, although the word can indeed
be ambiguous.
9.2. Unit and counit. In particular, if L is left adjoint to R and A is an object of
A, then corresponding to idLA in HomA(LA, LA) there is an arrow Œ∑A: A
/ RLA; the
arrows Œ∑A form a natural transformation from the identity functor on A to R ‚ó¶L. This
natural transformation Œ∑ is the unit of the adjunction of L to R. A similar trick also
produces a natural transformation œµ: L ‚ó¶R
/ idD called the counit of the adjunction.
The unit and counit essentially determine the adjunction completely (Exercise (UCO) on
page 56).
9.3. Examples. We give a number of examples here and some more in the exercises.
1. If A is a set, let 2A denote the category of subsets of A ordered by inclusion. If
f: A
/ B is a function, the direct image functor which assigns to each A0 ‚äÜA its
image f!(A0) is left adjoint to the inverse image functor f ‚àí1: 2B
/2A; see Exercise
(POW) on page 13 of Section 1.2. It follows also from that exercise that the f‚àó
deÔ¨Åned there is right adjoint to f ‚àí1. Observe that y ‚ààf!(A0) (a statement without
quantiÔ¨Åers) if and only if there exists an x ‚ààA0 such that f(x) = y (a statement
with an existential quantiÔ¨Åer). Universal quantiÔ¨Åers may also be introduced using
‚àó. In this way, quantiÔ¨Åers may be introduced into the language of a topos. However
we will not be doing that. See Lambek and Scott [1984].
2. If A is a Ô¨Åxed set, the functor from Set to Set which takes any set B to B √ó A is left
adjoint to the functor which takes a set T to the set HomSet(A, T) of functions from
A to T. In other words,
HomSet(B √ó A, T) ‚àº= HomSet(B, HomSet(A, T))
The counit of this adjunction is the map from HomSet(A, B) √ó A to B which takes
a pair (f, x) to its value f(x) and so is called the evaluation map. Note the formal
similarity between the evaluation map and the modus ponens rule of logic.
3. Let A be an equationally deÔ¨Åned category of algebraic structures (You can skip
this example if you don‚Äôt know about equationally deÔ¨Åned theories. They will be
treated in detail later.) For example, a group is a set with one nullary operation

TOPOSES, TRIPLES AND THEORIES
49
e (the unit element), one unary operation (which takes an element to its inverse),
and one binary operation (the group multiplication), subiect to the equations
xe() = e()x = x
xx‚àí1 = x‚àí1x = e()
and
(xy)z = x(yz)
which hold for all x, y, z in the group.
Such a category A has an underlying set functor U: A
/ Set and it can be proved
that U has a left adjoint F: Set
/ A. It follows from adjointness (Exercise (FRE)
on page 56) that for any set X and any function g: X
/UA where A is any object
of A, there is a unique arrow g‚Ä≤: FX
/ A for which
X
UFX
Œ∑X
/
X
UA
g
?
?
?
?
?
?
?
?
?
?
?
?
?
UFX
UA
Ug‚Ä≤

commutes. Thus FX deserves to be called the ‚Äúfree A-structure on X‚Äù.
Exercises 9.11, 9.11, 9.11, 9.11 and 9.11 give concrete descriptions of the adjoints
for special cases of equationally deÔ¨Åned categories.
Lest the reader get the idea that all underlying set functors have adjoints, we men-
tion the category of Ô¨Åelds, whose underlying set functor does not have an adjoint. An
interesting case is that of torsion abelian groups. If we Ô¨Åx an exponent d and look at all
groups satisfying xd = 1, there is an adjoint that takes a set S to the direct sum of S
many copies of Z/dZ, but on the full category, there is no adjoint.
9.4. Representability and adjointness. The statement that L is left adjoint to R
immediately implies that for each object A of A, the object LA of B represents the functor
HomA(A, R(‚àí)): B
/ Set. The universal element for this representation, which must be
an element of HomA(A, RLA), is the unit Œ∑A.
Dually, the object RB with universal
element œµA represents the contravariant functor Hom(L(‚àí), B). The following theorem
is a strong converse to these facts.
9.5. Theorem. [Pointwise construction of adjoints] Let A and B be categories.
(a) If R: B
/A is a functor such that the functor HomA(A, R(‚àí)) is representable for
every object A of A, then R has a left adjoint.
(b) If L: A
/B is a functor such that HomB(L(‚àí), B) is representable for every object
B of B, then L has a left adjoint.
With little more work, one can prove parametrized versions of these results.

50
MICHAEL BARR AND CHARLES WELLS
9.6. Theorem. Let A, B, and X be categories.
(a) If R: X √ó B
/ A is a functor such that the functor HomB(A, R(X, ‚àí)): B
/ Set
is representable for every objects A ‚ààOb(A) and X ‚ààOb(X), then there is a unique
functor L: A √ó X op
/ B such that
HomA(‚àí, R(‚àí, ‚àí)) ‚àº= HomB(L(‚àí, ‚àí), ‚àí)
as functors Aop √ó X √ó B
/ Set.
(b) If L: A √ó X op
/ B is a functor such that HomB(L(‚àí, X), B): A
/ Set is repre-
sentable for all objects B ‚ààOb(B) and X ‚ààOb(X), then there is a unique functor
R: X √ó B
/ A such that
HomA(‚àí, R(‚àí, ‚àí)) ‚àº= HomB(L(‚àí, ‚àí), ‚àí)
as functors Aop √ó X √ó B
/ Set.
Proof. The two statements are dual, so we will prove the Ô¨Årst. First, choose an object
function L: Ob(A) √ó Ob(X)
/ Ob(B) such that HomA(A, R(X, B)) ‚àº= HomB(L(A, X), B)
for all A ‚ààOb(A), X ‚ààOb(X), and B ‚ààOb(B). Now we want to make L into a functor.
Choose arrows f: A
/ A‚Ä≤ and g: X‚Ä≤
/ X. Now for any B ‚ààOb(B) we have a diagram
HomA(A, R(X, B))
HomB(L(A, X), B)
‚àº
=
/
HomA(A‚Ä≤, R(X‚Ä≤, B))
HomA(A, R(X, B))
HomA(f,R(g,B))

HomA(A‚Ä≤, R(X‚Ä≤, B))
HomB(L(A‚Ä≤, X‚Ä≤), B)
‚àº
=
/ HomB(L(A‚Ä≤, X‚Ä≤), B)
HomB(L(A, X), B)
(15)
There is thus a unique arrow œï(f, g, B): HomB(L(A‚Ä≤, X‚Ä≤), B)
/ HomB(L(A, X), B) that
makes the square commute. Moreover, since both the isomorphisms and HomA(f, R(g, B))
are natural with respect to B, we conclude that œï(f, g, B) is as well.
By the Yone-
da lemma, there is a unique arrow we call L(f, g): L(A, X)
/ L(A‚Ä≤, X‚Ä≤) such that
œï(f, g, B) = HomB(L(f, g), B).
If now we have f ‚Ä≤: A‚Ä≤
/ A‚Ä≤‚Ä≤ and g‚Ä≤: X‚Ä≤‚Ä≤
/ X‚Ä≤ we
can stack another diagram of shape 15 on top of that one to show that L(f, g) ‚ó¶L(f ‚Ä≤, g‚Ä≤) =
L(f ‚ó¶f ‚Ä≤, g‚Ä≤ ‚ó¶g). The fact that L preserves identities is even easier.
One of the most important properties of adjoints is their limit preservation properties.
9.7. Proposition. Let L: A
/ B be left adjoint to R: B
/ A. Then R preserves the
limit of an any diagram in B that has a limit and L preserves the colimit of any diagram
in A that has a colimit.

TOPOSES, TRIPLES AND THEORIES
51
Proof. This follows from Exercise (REPLIM) on page 39 of Section 1.7, but a direct
proof is short and instructive: Suppose that D: I
/B is a diagram and that B
/D is
a limit cone. Given a cone A
/RD, the adjunction gives a cone LA
/D by applying
the adjunction to each element of the cone. The universality gives an arrow LA
/ C
and then the adjunction gives A
/ UC. We can summarize this argument as follows:
Cone(A, RD) ‚àº= Cone(LA, D) ‚àº= Hom(LA, B) ‚àº= Hom(A, RB)
We note that underlying functors in algebra tend to have left adjoints and thereby
preserve limits, but rarely have a right adjoint or preserve colimits.
9.8. Existence of adjoints. Freyd‚Äôs Adjoint Functor Theorem (Theorem 9.9 below)
is a partial converse to Corollary 9.7. To state it, we need a new idea.
Suppose R: D
/ C is a functor. R satisÔ¨Åes the solution set condition if for each
object A of C there is a set S (the solution set for A) of pairs (y, B) with y: A
/ RB in
C with the property that for any arrow d: A
/ RD there is an element (y, B) of S and
an arrow f: B
/ D for which
A
RB
y
/
A
RD
d
?
?
?
?
?
?
?
?
?
?
?
?
?
RB
RD
Rf

commutes.
If C is small, then S can be taken to be the set of all pairs (y, B) with y: A
/ RB
for all arrows y of C and objects B of D. (Then f can, for example, be taken to be idD.)
On the other hand, if R is already known to have a left adjoint L then S can be taken to
be the singleton set with B = LA and y = Œ∑A.
If the singleton {(y, B)} is a solution set for R, y satisÔ¨Åes the existence but not
necessarily the uniqueness property of the deÔ¨Ånition of universal element for the functor
Hom(A, R(‚àí)) (Section 1.5). In that case we will say that y is a weak universal arrow
for R and A. (A universal element of Hom(A, R(‚àí)) is called a universal arrow for R
and A.)
9.9. Theorem. [Freyd] Let D be a category with all limits. Then a functor R: D
/ C
has a left adjoint if and only if R preserves all limits and satisÔ¨Åes the solution set condition.
Proof. Let A be an object of C. In order to construct the left adjoint L, it is enough
by Theorem 9.5 and the deÔ¨Ånition of representable functor (Section 1.5) to construct
a universal element for Hom(A, R(‚àí)). We Ô¨Årst construct an object WA and a weak
universal arrow Œ∂A: A
/ RWA. Then we will use equalizers cleverly to get uniqueness.
The construction of WA is reminiscent of the way one proves that a poset with all
infs and a maximum has all sups (to get the sup of a set, take the inf of all the elements
bigger than everything in the set). The equalizer construction is not necessary for posets
because uniqueness is automatic there.

52
MICHAEL BARR AND CHARLES WELLS
WA is deÔ¨Åned to be the product indexed by all (y, B) ‚ààS of the objects B. WA
comes equipped with a projection WA
/ B for each pair (y, B) ‚ààS, and R preserves
the fact that WA is a product with these projections. The arrows y collectively induce
Œ∂A: A
/ RWA. Given d: A
/ RD, let (y, B) ‚ààS and h: B
/ D be an arrow
for which Rh ‚ó¶y = d, and p the projection of WA onto B indexed by (y, B). Then for
f = h ‚ó¶p, Rf ‚ó¶Œ∂A = d so that Œ∂A is a weak universal arrow.
To attain the uniqueness condition in the deÔ¨Ånition of universal arrow, we construct
a subobject LA of WA with the property that Œ∂A factors through RLA via a map
Œ∑A: A
/ RLA.
It is easy to set that any such Œ∑A is also a weak universal arrow.
The idea is to make LA as small as possible so as to obtain the uniqueness property.
The natural thing to do would be to take LA to be the intersection of all the equalizers
of maps f1, f2: WA
/ D such that Rfi ‚ó¶Œ∂A = d for all d: A
/ RD. The trouble is
that these equalizers may not form a set. This is where the clever part of the proof is:
Let U = {u: WA
/ WA | Ru ‚ó¶Œ∂A = Œ∂A}. U is a set, in fact a submonoid of the
endomorphism monoid of WA. (By dcÔ¨Ånition of category, Hom(A, B) is a set for any
objects A and B). Then deÔ¨Åne w: LA
/ WA to be collective equalizer [z ‚ààWA |
u(z) = v(z) for all u, v ‚ààU], and let Œ∑A: A
/ RLA be the map induced by the facts
that Rw must be an equalizer and Œ∂A equalizes the image of U under R. Clearly Œ∑A is
a weak universal arrow, and it is easy to see that to get the uniqueness property we had
to equalize at least the elements of U. We now show that equalizing the elements of U is
enough.
Suppose d: A
/RD and for i = 1, 2, gi: LA
/D have the property that Rgi‚ó¶Œ∑A = d.
Let e: E
/ LA be the equalizer of g1 and g2 , so the horizontal part of the following
commutative diagram, in which v and z have yet to be constructed, is an equalizer:
RE
RLA
Re
/ RLA
RD
A
RE
ŒΩ
A
RLA
Œ∑A

A
RD
d
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
RE
RLA
RE
RWA
_
Rz
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
RLA
RWA
Rw

RLA
RD
Rg1
/
RLA
RD
Rg2
/
Since Re is an equalizer, there is an arrow v making the upper left triangle commute as
shown, and because Œ∂A = Rw ‚ó¶Œ∑A is a weak universal arrow, there is an arrow z making
Rz ‚ó¶Œ∂A = V . It is easy to see that wez ‚ààU, whence wezw = w. Because w is monic,
this means that zw is a right inverse to e, which implies that g1 = g2 as required.
The solution set condition is often shown to be satisÔ¨Åed in practice by using a cardinal-
ity condition. For example, if U is the underlying functor from Grp to Set, in constructing
a solution set for a particular set A one can clearly restrict one‚Äôs attention to maps

TOPOSES, TRIPLES AND THEORIES
53
A
/ UG (G a group) with the property that the image of A generates G. Since the
cardinality of such a group is bounded by some cardinal Œ±, a solution set for A consists
of all those pairs (y, B), where B ranges over the distinct (up to isomorphism) groups of
cardinality ‚â§a and y over all functions from A to RB for all such B.
9.10. Kan extensions. If A, C and D are categories and F: D
/C is a functor, then
F induces a functor
Func(F, A): Func(C, A)
/ Func(D, A)
which takes a functor G: C
/ A to G ‚ó¶F (like any homfunctor) and a natural trans-
formation Œª: G
/ H to ŒªF: G ‚ó¶F
/ H ‚ó¶F. The left Kan extension of a functor
T: D
/ A along F is a functor LF(T): C
/ A with the property that there is for each
G: C
/ A a bijection
Nat(LF(T), G)
/ Nat(T, G ‚ó¶F)
which is natural in G.
In the presence of suÔ¨Écient colimits in A one can construct the Kan extension of a
functor T: D
/ A provided that D is a small category. We give the construction and
leave the detailed veriÔ¨Åcations (which are not trivial!) to the reader.
Given F: D
/ C and T: D
/ A, we must construct LF(T): C
/ A. For any
object C of C, the functor F determines a comma category (F, C) which has a projection
p onto D. We deÔ¨Åne LF(T)(C) to be the colimit of the composite T ‚ó¶p: (F, C)
/A. An
arrow f: C
/C‚Ä≤ in C determines a functor from (F, C) to (F, C‚Ä≤) which by the universal
property of colimits determines a map
LF(T)(f): LF(T)(C)
/ LF(T)(C‚Ä≤)
This makes LF(T) a functor.
DeÔ¨Åne the natural transformation Œ∑: T
/ LF(T) ‚ó¶F by requiring that for each
object D of D, Œ∑D is the element of the colimiting cocone to LF(T)(F(D)) at the object
(D, idFD, FD) of the comma category (F, FD). For each G: C
/A, the required bijection
Nat(LF(T), G)
/ Nat(T, G ‚ó¶F)
takes Œª: LF(T)
/G to (ŒªF)‚ó¶Œ∑. Conversely, given a natural transformation ¬µ: T
/GF
and an object C of C, there is a cocone from T ‚ó¶p to GC whose element at an object
(D, g, C) of (F, C) is
Gg ‚ó¶¬µD: TD
/ GFD
This induces a map ŒªC: LF(T)(C)
/GC; these are the components of a natural trans-
formation Œª: LF(T)
/ G. The inverse of the bijection just given takes ¬µ to the Œª thus
constructed.
We have immediately from Theorem 9.5 (the pointwise construction of adjoints):

54
MICHAEL BARR AND CHARLES WELLS
9.11. Proposition. In the notation of the preceding paragraphs, if every functor
T: D
/A has a left Kan extension along F, then Func(F, A): Func(C, A)
/Func(D, A)
has a left adjoint.
Note that by the construction given of Kan extensions, the hypothesis of Proposi-
tion 9.11 will be true if A is cocomplete.
Right Kan extensions can be deÔ¨Åned similarly. A detailed construction of right Kan
extensions is given in Mac Lane [1971].
Exercises 1.9.
(ABSET)
‚ô¶. Show that the following construction describes the adjoint to the underlying
functor Ab
/ Set: The adjoint takes a set S to the set of all Ô¨Ånite sums
X
s‚ààS
nss
where for each s ‚ààS, ns is an integer, but in any given sum, only Ô¨Ånitely many of them
are non-zero. The abelian group structure is just term-wise addition (and subtraction).
(COMMMON)
‚ô¶. Show that the adjoint to the underlying functor CommMon
/ Set
takes a set S to the set of all terms
Q
s‚ààS sns
where for each s ‚ààS, ns is a non-negative integer, but in any given product, only Ô¨Ånitely
many of them are non-zero.
(COMMRING)
‚ô¶. Show that the adjoint to the underlying set functor CommRing
/Set
can be described as the composite of adjoints in Exercise (ABSET) on page 54 and
Exercise (COMMMON) on page 54. In detail: if S is a set, then the free commutative
ring, which we will call Z[S] since it is, in fact the ring of polynomials in S is gotten by
Ô¨Årst forming the free commutative monoid generated by S and then the free abelian group
generated by that. It is still a monoid, since the distributive law of multiplication tells us
how to multiply sums of monomials. The general process by which two such free functors
can be composed was Ô¨Årst studied by Jon Beck under the name ‚Äúdistributive laws‚Äù [Beck,
1969].
(DIAG)
‚ô¶. Let A: C
/ C √ó C be the diagonal functor. Find left and right adjoints to A.
Assume that C has whatever limits and colimits you need. These are examples of Kan
extensions along the (unique) functor 1 + 1
/ 1.
(CADJ)
‚ô¶. Show that if two composable functors each have a left adjoint, then so does
their composite.
(USL2)
‚ô¶. Show that the functor which takes a set to its set of nonempty Ô¨Ånite subsets
and a function to its direct image function is the left adjoint to the underlying functor
from the category of upper semilattices (see Exercise (USL) on page 14 of Section 1.2).
(RMOD)
‚ô¶. Find left and right adjoints for the functor which takes an R-module (any
Ô¨Åxed ring R) to its underlying Abelian group.

TOPOSES, TRIPLES AND THEORIES
55
(GPAC)
‚ô¶. a. For a Ô¨Åxed group G, let G ‚àíAct denote the category of G-actions and
equivariant maps. Let U be the forgetful functor. Construct a left adjoint for U. (Hint:
it takes a set A to G √ó A.)
b. What about a right adjoint?
(TOPA)
‚ô¶. a. Show that the underlying set functor from Top to Set has a left adjoint which
takes a set to that set regarded as a discrete topological space.
b. Show that the underlying set functor in (a) also has a right adjoint.
(ADJCAT)
‚ô¶. DeÔ¨Åne four functors œÄ0, U: Cat
/ Set and D, G: Set
/ Cat as follows:
(i) For any category C, UC is the set of objects of C. For a functor F, UF is what F
does to objects.
(ii) For a category C, œÄ0(C) is the set of connected components of C‚Äîtwo objects x
and y are in the same component if and only if there is a Ô¨Ånite sequence x =
x0, x1, . . . , xn = y of objects of C and a Ô¨Ånite sequence a1, . . . an‚àí1 of arrows of C
with for each i = 1, . . . , n ‚àí1, either ai: xi
/ xi+1 or, ai: xi+1
/ xi. A functor F
induces œÄ0F in the obvious way (it is easy to see that a functor takes a component
into a component).
(iii) For any set A, DA is the category whose set of objects is A and whose only arrows
are identity arrows (DA is the discrete category on A). DF for a function F
takes an object x to F(x) and is forced on arrows.
(iv) For a set A, GA is the category whose objects are the elements of A, with exactly
one arrow between any two elements. (It follows that every arrow is an isomorphism.
- i.e., GA is a groupoid). What G does to functions is forced.
Prove that: œÄ0 is left adjoint to D, D is left adjoint to U, and U is left adjoint to G.
(GRADJ)
‚ô¶. Show that the ‚Äúunderlying graph functor‚Äù U: Cat
/ Grph deÔ¨Åned in Sec-
tion 1.7 has a left adjoint. (Hint: If G is a graph, FG will have the same objects as G,
and nonidentity arrows will be ‚Äúcomposable sequences‚Äù of arrows of G.)
(EQUIII)
‚ô¶. Assume that L: C
/ D is left adjoint to R: D
/ C. Prove:
a. R is faithful if and only if the counit œµD is epic for every object D of D. (Hint: The
map which Yoneda gives from the natural transformation
Hom(‚àíD)
/ Hom(R(‚àí), RD)
/ Hom(LR(‚àí), D)
must be the counit at D. Now reread the deÔ¨Ånition of epimorphism in Section 1.4).
b. R is full if and only if the counit is a split monic at every object of D.
c. L is faithful if and only if the unit is monic for every object of C.
d. L is full if and only if the unit is a split epic at every object of C.
e. R is an equivalence of categories if and only if the unit and counit are both natural
isomorphisms.
f. If R is an equivalence of categories, then so is L and moreover then L is also a right
adjoint to R.

56
MICHAEL BARR AND CHARLES WELLS
(SLADJ)
‚ô¶. Show that if A is a category with Ô¨Ånite products and A is an object of A,
then the functor from the slice category (see Section 1.1) A/A
/A that sends the object
B
/ A to B‚Äîthe so-called forgetful functor‚Äîhas a right adjoint, B 7‚ÜíB √ó A
/ A.
(MONL)
‚ô¶. Let Mon denote the category of monoids and homomorphisms and Cat the
category of categories and functors. DeÔ¨Åne L: Mon
/ Cat as follows: For a monoid M,
the objects of LM are the elements of M. An arrow is a pair (k, m) of elements of M; it
has domain m and codomain km. Composition is given by the formula
(k‚Ä≤, km) ‚ó¶(k, m) = (k‚Ä≤k, m)
If h: M
/ N is a homomorphism, Lh(k, m) = (hk, hm). Construct a left adjoint for L.
(UCO)
‚ô¶. a. Show that if L: C
/ D is left adjoint to R: D
/ C with unit Œ∑ and counit
œµ, then Rœµ ‚ó¶Œ∑R is the identity natural transformation on R and œµL ‚ó¶LŒ∑ is the identity
natural transformation on L.
b. Show that if L: C
/ D and R: D
/ C are functors and Œ∑: idC
/ R ‚ó¶L and
œµ: L ‚ó¶R
/ idD are natural transformations satisfying the conclusion of (a), then L is left
adjoint to R and Œ∑ and œµ are the unit and counit of the adjunction.
(FRE)
‚ô¶. a. Show that if L and R are as in (a) of Exercise (UCO) on page 56 then for
any objects A of C and B of D and any arrow f: A
/ RB of C there is a unique arrow
g: LA
/ B of D for which Rg ‚ó¶Œ∑A = f. (This generalizes a well-known property of free
groups.)
b. State a dual version of (a) using œµ.
(REFL)
‚ô¶. A full subcategory D of a category C is reÔ¨Çective (or reÔ¨Çexive) if the inclusion
has a left adjoint, which is called the reÔ¨Çector.
a. Show that D is a reÔ¨Çective subcategory of C if and only if for each object A of C
there is an object LA of D and an arrow e: A
/LA with the property that if f: A
/B
is any arrow with B an object of D then there is a unique arrow h: LA
/ B for which
f = h ‚ó¶e.
b. Show that if D is a reÔ¨Çective subcategory of C then the reÔ¨Çector takes an object B
of D to an object isomorphic to B.
c. If D is a reÔ¨Çective subcategory of C with inclusion I and reÔ¨Çector L, show that an
object C of C is isomorphic to an object coming from D if and only if for each object D‚Ä≤
of D the counit ILD‚Ä≤
// D‚Ä≤ induces Hom(D‚Ä≤, D) ‚àº= Hom(ILD‚Ä≤, D).
d. Show that the category of Abelian groups is a reÔ¨Çective subcategory of the category
of groups.
e. Show that the category of Ô¨Ånite sets is not a reÔ¨Çective subcategory of the category
of all sets.
(REP)
‚ô¶. Show that a functor R: C
/Set being representable is equivalent to the solution
set condition being satisÔ¨Åed uniquely with a singleton solution set

TOPOSES, TRIPLES AND THEORIES
57
(GAFT)
‚ô¶. Here is another way of organizing the proof of Freyd‚Äôs Adjoint Functor The-
orem.
a. Show that U: D
/C has an adjoint if and only if for each object C of C, the comma
category (C, U) has an initial object.
b. Show that if D has and U preserves limits, then (C, U) is complete.
(Compare
Exercise (CCD) on page 39 of Section 1.7.)
c. Show that the solution set condition is equivalent to (C, U) having a weak initial set,
that is a small set of objects with the property that every object is the codomain of at
least one morphism whose domain lies in that set.
d. Show that a category with products and a weak initial set has a weak initial object.
e. Show that if A is a weak initial object and E
/ A the simultaneous equalizer of
all the endomorphisms, then E is initial.
f. Deduce Freyd‚Äôs adjoint functor theorem (usually known as the G(eneral) A(djoint)
F(unctor) T(heorem) to distinguish it from the SAFT or Special Adjoint Functor Theorem
which follows.)
(SAFT)
‚ô¶. A category is said to be well powered if every object has only a small set of
subobjects. A set {Qi} of objects of a category is said to be a cogenerating set if for any
pair of objects C and D of the category and any pair of distinct morphisms f, a: C
/D,
there is at least one Qi and one morphism h: D
/ Qi with hf Ã∏= hg.
a. Show that a set {Qi} of objects of a complete category is a cogenerating set if and
only if every object has a monomorphism into some product of those objects (allowing
repetitions).
The Special Adjoint Functor Theorem states that a functor that preserves limits and
whose domain is well powered, complete and has a cogenerating set has a left adjoint.
Demonstrate this theorem by following the steps below. Assume the hypotheses in each
of the steps. The organization of this proof is due to G. M. Kelly.
b. Show that it is suÔ¨Écient to prove that a category satisfying the hypotheses has a
weak initial set. (See the preceding exercise.)
c. Show that every object has a unique smallest subobject.
d. Show that every object which its own smallest subobject can be embedded into a
product of members of the cogenerating set in which there are no repetitions. (Hint:
Consider a diagram
A0
Q Qi
/
A
A0
O
O
A
Q Qi
/ Q Qi
Q Qi
O
O
A
Q Qi
?
?
?
?
?
?
?
?
?
?
?
?
?
in which the bottom right corner is an irredundant product, i.e., a product with no
repetitions.)
e. Show that the set of all subobjects of irredundant products of members of the co-
generating set forms a weak initial set.
f. Conclude the SAFT.

58
MICHAEL BARR AND CHARLES WELLS
10. Filtered colimits
10.1. The path category of a graph. In a graph G, a path from a node i to a
node j of length n is a sequence (Œ±1, Œ±2, . . . , Œ±n) of (not necessarily distinct) arrows for
which
(i) source(Œ±1) = i,
(ii) target(Œ±i‚àí1) = source(Œ±i) for i = 2, . . . , n, and
(iii) target(Œ±n) = j.
By convention, for each node i there is a unique path of length 0 from i to i that is
denoted (). It is called the empty path at i. We will write Œ± = Œ±n ‚ó¶¬∑ ¬∑ ¬∑ ‚ó¶Œ±1. If also
Œ≤ = Œ≤m ‚ó¶¬∑ ¬∑ ¬∑ ‚ó¶Œ≤1 is a path from j
/ k, then we let Œ≤ ‚ó¶Œ± = Œ≤m ‚ó¶¬∑ ¬∑ ¬∑ ‚ó¶Œ≤1 ‚ó¶Œ±n ‚ó¶¬∑ ¬∑ ¬∑ ‚ó¶Œ±1. The
empty path is an identity for this operation and it is clear that the paths form a category,
called the path category of G. We will make no use of this category, however, but we
do need the notion of path in the discussion of Ô¨Åltered colimits below.
10.2. Filtered colimits. Suppose D: I
/ C is a diagram. For a path Œ±: i
/ j of
the form
i = i0
Œ±1
/ i1
Œ±2
/ ¬∑ ¬∑ ¬∑
Œ±n
/ in = j
and a diagram D: I
/ C, deÔ¨Åne DŒ± = DŒ±n ‚ó¶¬∑ ¬∑ ¬∑ ‚ó¶DŒ±2 ‚ó¶DŒ±1. We also deÔ¨Åne D on the
empty path at i to be idDi. It is clear that if Œ±: i
/ j and Œ≤: j
/ k are paths, then
D(Œ≤ ‚ó¶Œ±) = DŒ≤ ‚ó¶DŒ±.
A diagram D: I
/ C is called Ô¨Åltered if
(i) Given two objects i and j of I, there is an object k and paths Œ±: i
/ k and
Œ≤: j
/ k;
(ii) Given two paths i
Œ±
/
Œ≤
/ j there is an object k and a path Œ≥: j
/ k such that
DŒ≥ ‚ó¶DŒ± = DŒ≥ ‚ó¶DŒ≤.
The slight awkwardness of this deÔ¨Ånition is the price we must pay for using index
graphs instead of index categories.
A colimit taken over a Ô¨Åltered diagram is called a Ô¨Åltered colimit. The main signiÔ¨Å-
cance is that Ô¨Åltered colimits commute with Ô¨Ånite limits in Set and many other interesting
categories.
The following theorem is stated as it is in case you know what a Ô¨Ånitary equational
theory is.
10.3. Theorem. For any equational theory Th, the underlying set functor on the cate-
gory of models preserves Ô¨Åltered colimits.

TOPOSES, TRIPLES AND THEORIES
59
Proof. We will prove this for the special case of abelian groups. The only property of
abelian groups used is that every operation is Ô¨Ånitary, that is a function of only Ô¨Ånitely
many arguments. Suppose D: I
/ Ab is a Ô¨Åltered diagram. Let U: Ab
/ Set be the
underlying set functor. Form the disjoint union
S
I‚ààOb(I) UDi. If x is an element of UDi
we will denote it by ‚ü®x, i‚ü©to keep track of the disjoint union. Now make the identiÔ¨Åcation
‚ü®x, i‚ü©= ‚ü®x‚Ä≤, i‚Ä≤‚ü©if there is an object j ‚ààI and there are paths Œ±: i
/j and Œ±‚Ä≤: i‚Ä≤
/j such
that UDŒ±x = UDŒ±‚Ä≤x‚Ä≤. This is an equivalence relation. It is obviously symmetric and
reÔ¨Çexive. If also ‚ü®x‚Ä≤, i‚Ä≤‚ü©= ‚ü®x‚Ä≤‚Ä≤, i‚Ä≤‚Ä≤‚ü©, then there is a j‚Ä≤ ‚ààI and Œ≤: i‚Ä≤
/ j‚Ä≤ and Œ≤‚Ä≤: i‚Ä≤‚Ä≤
/ j‚Ä≤
such that DŒ≤x‚Ä≤ = DŒ≤‚Ä≤x‚Ä≤‚Ä≤. There is a k ‚ààI and paths Œ≥: j
/ k and Œ≥‚Ä≤: j‚Ä≤
/ k‚Ä≤. Finally
there is an l ‚ààI and a path Œ¥: k
/ l such that DŒ¥ ‚ó¶D(Œ≥ ‚ó¶Œ±‚Ä≤) = DŒ¥ ‚ó¶D(Œ≥‚Ä≤ ‚ó¶Œ≤). The
diagram in question looks like:
Dj
Di‚Ä≤
7
DŒ±‚Ä≤
ooooooooo
Di
Dj
DŒ±
'O
O
O
O
O
O
O
O
O
Di
Di‚Ä≤
Dj‚Ä≤
Di‚Ä≤‚Ä≤
7
DŒ≤‚Ä≤
oooooooo
Di‚Ä≤
Dj‚Ä≤
DŒ≤
'O
O
O
O
O
O
O
O
Di‚Ä≤
Di‚Ä≤‚Ä≤
Dk
Dj‚Ä≤
7
DŒ≥‚Ä≤
oooooooo
Dj
Dk
DŒ≥
'O
O
O
O
O
O
O
O
O
Dj
Dj‚Ä≤
Dk
Dl
DŒ¥
/
Then
UD(Œ¥ ‚ó¶Œ≥ ‚ó¶Œ±)x = (UDŒ¥ ‚ó¶UDŒ≥ ‚ó¶UDŒ±)x = (UDŒ¥ ‚ó¶UDŒ≥ ‚ó¶UDŒ±‚Ä≤)x‚Ä≤
= (UDŒ¥ ‚ó¶UDŒ≥‚Ä≤ ‚ó¶UDŒ≤)x‚Ä≤ = (UDŒ¥ ‚ó¶UDŒ≥‚Ä≤ ‚ó¶UDŒ≤‚Ä≤)x‚Ä≤‚Ä≤
= UD(Œ¥ ‚ó¶Œ≥‚Ä≤ ‚ó¶Œ≤‚Ä≤)x‚Ä≤‚Ä≤
Now, given two elements ‚ü®x, i‚ü©and ‚ü®x‚Ä≤, i‚Ä≤‚ü©, we add them by Ô¨Ånding a j ‚ààI and paths
Œ±: i
/ j and Œ±‚Ä≤: i‚Ä≤
/ j. Then we deÔ¨Åne ‚ü®x, i‚ü©+ ‚ü®x‚Ä≤i‚Ä≤‚ü©= ‚ü®UDŒ±x + UDŒ±x‚Ä≤, j‚ü©. The
proofs that this does not depend on the choice of paths and gives an associative addition
are left to the reader. The 0 element is ‚ü®0, i‚ü©for any i. Since all the DŒ± are group
homomorphisms, all the 0 elements are identiÔ¨Åed, so this makes sense. Similarly, we can
take ‚àí‚ü®x, i‚ü©= ‚ü®‚àíx, i‚ü©. The associativity, the fact that ‚ü®0, i‚ü©is a 0 element and that
‚àí‚ü®x, i‚ü©is the negative of ‚ü®x, i‚ü©all have to be veriÔ¨Åed. We leave these details to the reader
as well. What we want to do is show that the set C of these pairs with this notion of
equality is the colimit of UD and, when it is given the group structure described above,
it is also the colimit of D. We actually show the latter, since the argument for the former
is a proper subset.
First observe that there is a cocone u: D
/ A deÔ¨Åned by ux = ‚ü®x, i‚ü©when x ‚ààDi.
This is a group homomorphism since to form the sum ‚ü®x, i‚ü©+‚ü®x‚Ä≤, i‚ü©we can take the empty
path from i
/i and then the sum is ‚ü®x+x‚Ä≤, i‚ü©. It is a cone since for any Œ±: i
/j in I,
ux = ‚ü®x, i‚ü©= ‚ü®DŒ±x, j‚ü©= u‚ü®DŒ±x‚ü©. If f: D
/ A is any other cone, deÔ¨Åne v: C
/ A by

60
MICHAEL BARR AND CHARLES WELLS
v‚ü®x, i‚ü©= (fi)x. Suppose ‚ü®x, i‚ü©= ‚ü®x‚Ä≤, i‚Ä≤‚ü©. There a j and paths Œ±: i
/ j and Œ±‚Ä≤: i‚Ä≤
/ j
such that DŒ±x = DŒ±‚Ä≤x‚Ä≤. Then
v‚ü®x, i‚ü©= ‚ü®fi‚ü©x = ‚ü®fj ‚ó¶DŒ±‚ü©x = ‚ü®fj ‚ó¶dŒ±‚Ä≤‚ü©x‚Ä≤ = v‚ü®x‚Ä≤, j‚Ä≤‚ü©
and so v is well deÔ¨Åned. Evidently, v ‚ó¶u = f and v is the unique arrow with that property.
Till now, we have not used the group structure on A and this argument shows that this
is the colimit in Set. But A is an abelian group and the elements of the cone are group
homomorphisms. For ‚ü®x, i‚ü©, ‚ü®x‚Ä≤, i‚Ä≤‚ü©‚ààC, choose j and Œ±: i
/ j and Œ±: i‚Ä≤
/ j. Then
v(‚ü®x, i‚ü©+ ‚ü®x‚Ä≤, i‚Ä≤‚ü©) = v(DŒ±x + DŒ±‚Ä≤x‚Ä≤) = (fj)(DŒ±x + DŒ±‚Ä≤x‚Ä≤)
= (fj)(DŒ±x) + (fj)(DŒ±‚Ä≤x‚Ä≤) = (fi)x + (fi‚Ä≤)x‚Ä≤
This shows that v is a group homomorphism and shows that u: D
/ C is the colimit
in Ab. But, as remarked, a subset of this argument shows that Uu: UD
/ UC is the
colimit in Set and so U preserves this colimit.
The following result is actually a special case of the fact that Ô¨Åltered colimits commute
with all Ô¨Ånite limits.
10.4. Proposition. Suppose f: D
/E is a natural transformation between two Ô¨Åltered
diagrams from I to the category of models such that fi: Di
/ Ei is monomorphism for
each i ‚ààOb(I). Then the induced map colim D
/ colim E is also monic.
Proof. Suppose ‚ü®x, i‚ü©and ‚ü®x‚Ä≤, i‚Ä≤‚ü©are two elements of colim D such that ‚ü®(fi)x, i‚ü©=
‚ü®(fi‚Ä≤)x‚Ä≤, i‚Ä≤‚ü©in colim E. Then there is a j and paths Œ±: i
/ j and Œ±‚Ä≤: i‚Ä≤
/ j such that
‚ü®EŒ± ‚ó¶(fi)x, j‚ü©= ‚ü®EŒ±‚Ä≤ ‚ó¶(fi‚Ä≤)x‚Ä≤, j‚ü©. But naturality implies that EŒ± ‚ó¶fi = fj ‚ó¶DŒ± and
EŒ±‚Ä≤ ‚ó¶fi‚Ä≤ = fj ‚ó¶DŒ±‚Ä≤, so this equation becomes fj ‚ó¶DŒ±x = fj ‚ó¶DŒ±‚Ä≤x‚Ä≤. Since fj is monic,
this means that DŒ±x = DŒ±‚Ä≤x‚Ä≤ so that ‚ü®x, i‚ü©= ‚ü®x‚Ä≤, i‚Ä≤‚ü©.
10.5. Theorem. In the category of models of a Ô¨Ånitary equational theory, every object
is a Ô¨Åltered colimit of Ô¨Ånitely presented objects.
Proof. We will do this for the category of groups. We could do abelian groups, except
it is too easy because a Ô¨Ånitely generated abelian groups is Ô¨Ånitely presented. So let G
be a group. For each Ô¨Ånite set of elements of i ‚ààG, let Fi be the free group generated by
i. For each Ô¨Ånite set of relations j that are satisÔ¨Åed by the elements of i, let D(ij) be Fi
modulo those relations. Make the set of pairs ij into a graph in which there is a single
arrow ij
/ i‚Ä≤j‚Ä≤ if i ‚äÜi‚Ä≤ and j ‚äÜj‚Ä≤. This is obviously a poset, so write ij ‚â§i‚Ä≤j‚Ä≤ when
there is such a map. If there is, then the inclusion induces an inclusion Fi
/ Fj and
since j ‚äÜj‚Ä≤, there is an induced map (not necessarily injective) D(ij)
/ D(i‚Ä≤j‚Ä≤). Since
the union of two Ô¨Ånite sets is Ô¨Ånite and there is at most one path between any two nodes
of the graph, D is a Ô¨Åltered diagram in the category of groups. It is left to the reader to
verify that G is its colimit.

TOPOSES, TRIPLES AND THEORIES
61
11. Notes to Chapter I
11.1. Development of category theory. Categories, functors and natural trans-
formations were invented by S. Eilenberg and S. Mac Lane (announced in ‚ÄúThe general
theory of natural equivalences‚Äù [1945]) in order to describe the connecting homomorphism
and the long exact sequence in ÀáCech homology and cohomology. The problem was this:
homology was deÔ¨Åned in the Ô¨Årst instance in terms of a cover. If the cover is simple, that
is if every non-empty intersection of a Ô¨Ånite subset of the cover is a contractible space (as
actually happens with the open star cover of a triangulated space), then that homology
in terms of the cover is the homology of the space and that is the end of the matter.
What is done in ÀáCech theory, in the absence of a simple cover, is to form the direct limit
of the homology groups over the set of all covers directed by reÔ¨Ånement. This works
Ô¨Åne for deÔ¨Åning the groups but gives no information on how to deÔ¨Åne maps induced by,
say, the inclusion of a subspace, not to mention the connecting homomorphism. What is
missing is the information that homology is natural with respect to reÔ¨Ånements of covers
as well as to maps of spaces. Fortunately, the required condition was essentially obvious
and led directly to the notion of natural transformation. Only, in order to deÔ¨Åne natural
transformation, one Ô¨Årst had to deÔ¨Åne functor and in order to do that, categories.
The other leading examples of natural transformations were the inclusion of a vector
space into its second dual and the commutator quotient of a group. Somewhat surprisingly,
in view of the fact that the original motivation came from algebraic topology, is the fact
that the Hurewicz homomorphism from the fundamental group of a space to the Ô¨Årst
homology group of that space was not recognized to be an example until later.
Later, Steenrod would state that no paper had inÔ¨Çuenced his thinking more than
‚ÄúThe general theory of natural equivalences‚Äù. He explained that although he had been
searching for an axiomatic treatment of homology for years and that he of course knew
that homology acted on maps (or vice versa, if you prefer) it had never occurred to him
to try to base his axiomatics on this fact.
The next decisive step came when Mac Lane [1950] discovered that it was possible to
describe the cartesian product in a category by means of a universal mapping property.
In fact, he described the direct sum in what was eventually recognized as an additive
category by means of two mapping properties, one describing it as a product and the
other describing it as a sum. Mac Lane also tried to axiomatize the notion of Abelian
category but that was not completely successful.
No matter, the universal mapping
property described by Mac Lane had shown that it was possible to use categories as an
aid to understanding. Later on, Grothendieck succeeded in giving axioms for Abelian
categories [1957] and to actually prove something with them‚Äîthe existence of injectives
in an Abelian category with suÔ¨Écient higher exactness properties. Thus Grothendieck
demonstrated that categories could be a tool for actually doing mathematics and from
then on the development was rapid. The next important step was the discovery of adjoint
functors by Kan [1958] and their use as an eÔ¨Äective tool in the study of the homotopy
theory of abstract simplicial sets.

62
MICHAEL BARR AND CHARLES WELLS
After that the mainstream of developments in category theory split into those primarily
concerned with Abelian categories (Lubkin [1960], Freyd [1964], Mitchell [1964]), which
are interesting but tangential to our main concerns here, and those connected with the
theories of triples and toposes of which we have more to say later.
11.2. Elements. Although the thrust of category theory has been to abstract away from
the use of arguments involving elements, various authors have reintroduced one form or
another of generalized element in order to make categorical arguments parallel to familiar
elementwise arguments; for example, Mac Lane [1971, V111.4] for Abelian categories and
Kock [1981, part II] for Cartesian closed categories. It is not clear whether this is only
a temporary expedient to allow older mathematicians to argue in familiar ways or will
always form a permanent part of the subject. Perhaps elements will disappear if Lawvere
succeeds in his goal of grounding mathematics, both in theory and in practice, on arrows
and their composition.
An altogether deeper development has been that of Mitchell [1972] and others of the
internal language of a topos (developed thoroughly in a more general setting by Makkai
and Reyes [1977]). This allows one to develop arguments in a topos as if the objects were
sets, speciÔ¨Åcally including some use of quantiÔ¨Åers, but with restricted rules of deduction.
11.3. Limits. Limits were originally taken over directed index sets‚Äîpartially ordered
sets in which every pair of elements has a lower bound. They were quickly generalized to
arbitrary index categories. We have changed this to graphs to reÔ¨Çect actual mathematical
practice: index categories are usually deÔ¨Åned ad hoc and the composition of arrows is
rarely made explicit. It is in fact totally irrelevant and our replacement of index categories
by index graphs reÔ¨Çects this fact. There is no gain‚Äîor loss‚Äîin generality thereby, only
an alignment of theory with practice.

2
Toposes
A topos is, from one point of view, a category with certain properties characteristic of the
category of sets. A topos is not merely a generalized set theory, but the very elementary
constructions to be made in this chapter are best understood, at least at Ô¨Årst, by looking at
what the constructions mean in Set. From another point of view, a topos is an abstraction
of the category of sheaves over a topological space. This latter aspect is described in detail
in this chapter.
Other treatments of toposes and sheaves are given by Johnstone [1977], Mac Lane and
Moerdijk [1992] and McLarty [1993].
1. Basic Ideas about Toposes
1.1. Definition of topos. We will take two properties of the category of sets‚Äîthe
existence of all Ô¨Ånite limits and the fact that one can always form the set of subsets of a
given set‚Äîas the deÔ¨Åning properties for toposes.
For a Ô¨Åxed object A of a category E with Ô¨Ånite limits, ‚àí√ó A is a functor from E to
itself; if f: B
/B‚Ä≤, then f √óA is the arrow (f ‚ó¶p1, p2): B√óA
/B‚Ä≤√óA. By composition,
we then have a contravariant functor Sub(‚àí√óA): E
/Set. The power object of A (if it
exists) is an object PA which represents Sub(‚àí√óA), so that HomE(‚àí, PA) ‚âÉSub(‚àí√óA)
naturally. This says precisely that for any arrow f: B‚Ä≤
/ B, the following diagram
commutes, where œï is the natural isomorphism.
HomE(B‚Ä≤, PA)
Sub(B‚Ä≤ √ó A)
œï(A,B‚Ä≤)
/
HomE(B, PA)
HomE(B‚Ä≤, PA)
HomE(f,PA)

HomE(B, PA)
Sub(B √ó A)
œï(A,B)
/ Sub(B √ó A)
Sub(B‚Ä≤ √ó A)
Sub(f√óA)

(1)
The deÔ¨Ånition of PA says that the ‚Äúelements‚Äù of PA deÔ¨Åned on B are essentially the
same as the subobjects of B √óA. In Set, a map f from B to the powerset of A is the same
as a relation from B to A (b is related to a if and only if a ‚ààf(b)), hence the same as a
63

64
MICHAEL BARR AND CHARLES WELLS
subset of B √ó A. When B is the terminal object (any singleton in Set), the ‚Äúelements‚Äù of
PA deÔ¨Åned on B are the subsets of A ‚âÉ1 √ó A; thus PA is in fact the powerset of A.
In general, if the category has a terminal object 1 and P(1) exists, then Sub is repre-
sented by P(1), since 1 √ó A ‚àº= A. This object P(1) is studied in detail in Section 2.3.
DeÔ¨Ånition. A category E is a topos if E has Ô¨Ånite limits and every object of E has
a power object.
We will assume that PA is given functionally on ObE (it is determined up to isomor-
phism in any case). This means that for each object A of E, a deÔ¨Ånite object PA of E is
given which has the required universal mapping property.
The deÔ¨Ånition of toposes has surprisingly powerful consequences. (For example, to-
poses have all Ô¨Ånite colimits.) Probably the best analogy elsewhere in mathematics in
which a couple of mild-sounding hypotheses pick out a very narrow and interesting class of
examples is the way in which the Cauchy-Riemann equations select the analytic functions
from all smooth functions of a complex variable.
The properties of toposes will be developed extensively in this Chapter and in Chapters
5 and 6. However, the rest of this section and the next are devoted to examples.
1.2. Examples of toposes.
(i). The category Set is evidently a topos. As we have already pointed out, if X is a set,
we can take PX to be the set of all subsets of X, but that does not determine a unique
topos structure on Set since we have a choice of œï in diagram (1). The natural choice is to
let œï: Hom(1, PB)
/ Sub(B) be the identity map (thinking of an arrow from 1 to PB
as an element of PB), but we could be perverse and let œï of an element of the powerset
be its complement.
(ii). To see a more interesting example, let G be a group and let G-Set be the category
of all sets on which G acts. The morphisms are equivariant G homomorphisms. The
existence of Ô¨Ånite (in fact, all) limits is an easy exercise. They are calculated ‚Äúpointwise‚Äù.
If X is a G-set, let PX denote the set of all subsets of X with G action given by gX0 =
{gx | x ‚ààX0}. Note that a global element of PX is a G-invariant subset of X.
Actually, the category of actions by a given monoid, with equivariant maps, is a topos.
That will follow from the discussion of functor categories below, since such a category is
the same as a Set-valued functor categoryfrom a monoid regarded as a category with one
object.
1.3. Functor categories. An important example of toposes are Set-valued functor
categories. In order to prove that these categories are toposes, a number of elementary
facts about them are needed. A guiding principle in this development is the fact that
Func(C, D) inherits most of its properties from D (Exercise (LIMFUN) on page 41 of
Section 1.7).
In this section, C is a Ô¨Åxed small category and E = Func(C op, Set). We will outline the
proof that E is a topos. Of course, everything we say in this section is true of Func(C, Set),
but because of the applications we prefer to state it this way.

TOPOSES, TRIPLES AND THEORIES
65
Each object C of C determines an evaluation map ŒªC: E
/Set, where ŒªC(F) = FC
and for Œ≥: F
/ G, ŒªC(Œ≥) = Œ≥C.
1.4. Proposition. For each object C of C, the evaluation preservesall limits and colim-
its. I.e.,‚Äúlimits and colimits in E are computed pointwise‚Äù. In particular, E is complete
and cocomplete.
In other words, if D: I
/ E is a diagram in E, then (lim D)(C) = lim(D(C)). The
proof is in Exercise (LIMFUN) on page 41 of Section 1.7.
1.5. Corollary. For a Ô¨Åxed object E, the functor ‚àí√ó E: E
/ E commutes with all
colimits.
Proof. The property claimed for this functor is valid when E = Set by Exercise (CCL)
on page 66, and the Proposition allows one to extend it to an arbitrary functor category.
The fact that Sub is representable in a topos (by P(1)) means that it takes colimits
to limits. (Exercise (REPLIM) on page 39 of Section 1.7). In particular, Sub(
P Ai) =
Q Sub(Ai) and if
A
p1
/
p2
/ B
c
/ C
(2)
is a coequalizer in a topos, then
Sub(A) o
Sub p1
o
Sub p2
Sub(B) o
Sub c
Sub(C)
(3)
is an equalizer. The Ô¨Årst is easy to see in Set, but a direct proof of the second fact in Set,
not using the fact that Sub is representable, is surprisingly unintuitive.
As a step toward proving that E is a topos, we prove the fact just mentioned for E.
1.6. Proposition. If D: I
/ E is a diagram in E, then
Sub(colim D) ‚âÉlim(Sub(D))
Proof. We use repeatedly the fact that the result is true in Set because there Sub
is representable by the two-element set.
Let F
= colim FD.
For an object i of
I, the cocone FDi
/ F gives a cone Sub(F)
/ Sub(FDi) which in turn gives
Sub(F)
/ lim Sub(FDi).
Now to construct an arrow going the other way, let
EDi ‚äÜFDi be a compatible family of subobjects, meaning that whenever i
/ j
EDi
EDj
/
FDi
EDi
O
FDi
FDj
/ FDj
EDj
O
is a pullback. Let E = colim EDi. Since colimits preserve monos (by Proposition 1, since
they do so in Set), E is a subfunctor of F. This gives a map lim Sub(FDi)
/ Sub(F).

66
MICHAEL BARR AND CHARLES WELLS
Finally, to see that both composites are the identity, it suÔ¨Éces to see that all those
constructions are identical to the ones carried out in Set Ob(C), for which the result follows
from Proposition 1 since it is true in Set.
1.7. Theorem. E is a topos.
Proof. Finite limits, indeed all limits, exist by Proposition 1. As for P, for a functor
E, let PE be deÔ¨Åned by letting PE(A) be the set of subfunctors of Hom(‚àí, A) √ó E. It
is straightforward to verify that PE is a functor.
We must show that subfunctors of F √ó E are in natural one to one correspondence
with natural transformations from F to PE. We show this Ô¨Årst for F representable, say
F = Hom(‚àí, A). We have
Nat(F, PE) = Nat(Hom(‚àí, A), PE) ‚âÉPE(A)
= Sub(Hom(‚àí, A) √ó E) = Sub(F √ó E)
The case for general F follows from Proposition 3 and the fact that F is a colimit of
representable functors (Exercise (FCR) on page 46, Section 1.8).
Exercises 2.1.
(PTTP)
‚ô¶. Prove that the product of two toposes is a topos.
(EPS)
‚ô¶. Let B = PA in Diagram (1); the subobject of PA √ó A corresponding to idPA
is denoted ‚ààA (it is the ‚Äúelement of‚Äù relation in Set).
Prove that for any subobject
U
/ A √ó B there is a unique arrow Œ¶U: A
/ PB which makes the following diagram
a pullback.
‚ààB
PB √ó B
/
U
‚ààB

U
A √ó B
/ A √ó B
PB √ó B
Œ¶U√óidB

(INJ)
‚ô¶. An object B of a category is injective if for any subobject A0
/ A and arrow
f: A0
/ B there is an arrow ef: A
/ B extending f. Prove that in a topos any power
object is injective. (Hint: Every subobject of A0 √ó B is a subobject of A √ó B. Now use
Exercise (EPS) on page 66.)
(SCQ). Show that in diagram (2) in Set, if X is an equivalence relation and c is the class
map, then Sub c in diagram (3) takes a set of equivalence classes to its union. What are
Sub p1 and Sub p2?
(SUBLIM)
‚ô¶. Complete the proof of Proposition 3.
(CCL)
‚ô¶. Show that if X is a set, the functor ‚àí√óX: Set
/Set commutes with colimits.
(Hint: Show that ‚àí√ó X is left adjoint to (‚àí)X and use Corollary 2 of Section 1.9).

TOPOSES, TRIPLES AND THEORIES
67
2. Sheaves on a Space
Categories of sheaves were the original examples of toposes. In this section we will consider
sheaves over topological spaces in some detail and prove that the category of sheaves over
a Ô¨Åxed space is a topos. In Section 5.1, we give Grothendieck‚Äôs generalization of the
concept of sheaf. He invented it for use in algebraic geometry, but we will use it as the
fundamental tool in building the connection between toposes and theories.
Let X be a topological space and O(X) the category of open sets of X and inclusions.
As we have seen, the category Func(O(X)op, Set) is a topos. An object of this category is
called a presheaf on X, and the topos is denoted Psh(X). If the open set V is contained
in the open set U, the induced map from FU to FV is denoted F(U, V ) and is called
a restriction map. In fact, we often write x|V instead of F(U, V )x for x ‚ààFU. This
terminology is motivated by the example of rings of continuous functions mentioned on
page 20.
A presheaf is called a sheaf if it satisÔ¨Åes the following ‚Äúlocal character‚Äù condition:
If {Ui} is an open cover of U and xi ‚ààFUi is given for each i in such a way that
xi|Ui ‚à©Uj = xj|Ui ‚à©Uj for all i and j, then there is a unique x ‚ààFU such that x|Ui = xi.
The full subcategory of Psh(X) whose objects are the sheaves on X is denoted Sh(X).
2.1. Examples.
(i). For each topological space Y , the functor which assigns to each open set U of X the
set of continuous functions from U to Y can easily be seen to be a sheaf.
(ii). Given a topological space Y and continuous map p: Y
/ X, for each open U in
X let Œì(U, Y ) denote the set of all continuous maps s: U
/ Y such that p ‚ó¶s is the
inclusion of U in X. These are called sections of p. Then Œì(‚àí, Y ): O(X)op
/ Set is a
sheaf, called the sheaf of sections of p. We will see below (Theorem 3) that every sheaf
arises this way.
The deÔ¨Ånition of sheaf is expressible by an exactness condition:
2.2. Proposition. F: O(X)op
/ Set is a sheaf if and only if for every open set U and
for every open cover {Ui} of U, the following diagram is an equalizer.
FU
/ Q(FUi)
d0
/
d1
/ Q F(Ui ‚à©Uj)
In this diagram, the left arrow is induced by restrictions. As for d0 and d1, they are
the unique arrows for which the diagrams
FUi
F(Ui ‚à©Uj)
/
Q(FUi)
FUi
pi

Q(FUi)
Q F(Ui ‚à©Uj)
d0
/ Q F(Ui ‚à©Uj)
F(Ui ‚à©Uj)
pij


68
MICHAEL BARR AND CHARLES WELLS
FUi
F(Ui ‚à©Uj)
/
Q(FUi)
FUi
pj

Q(FUi)
Q F(Ui ‚à©Uj)
d1
/ Q F(Ui ‚à©Uj)
F(Ui ‚à©Uj)
pij

commute. The bottom arrows are the restriction maps.
Proof. Exercise.
2.3. Sheaf categories are toposes.
2.4. Theorem. Sh(X) is a topos
Proof. We know Func(O(X)op, Set) has limits, so to see that Sh(X) has Ô¨Ånite limits, it
is suÔ¨Écient to show that the limit of a diagram of sheaves is a sheaf. This is an easy
consequence of Proposition 1 and is omitted.
The method by which we proved that Set-valued functor categories are toposes suggests
that we deÔ¨Åne P(F) to be the functor whose values at U is the set of subsheaves (i.e.,
subobjects in Sh(X)) of F √ó Hom(‚àí, U). Since O(X) is a partially ordered set, the sheaf
G = F √ó Hom(‚àí, U) has a particularly simple form, namely G(V ) = F(V ) if V ‚äÜU and
G(V ) is empty otherwise. Thus we write F|U for F √ó Hom(‚àí, U). Hence (PF)U is the
set of subsheaves of F|U. It is necessary to show that this deÔ¨Ånes a sheaf (it is clearly a
presheaf).
Let {Ui} be a cover of U. Suppose for each i we have a subsheaf Gi of F|Ui such that
Gi|Ui ‚à©Uj = Gj|Ui ‚à©Uj. DeÔ¨Åne G so that for all V ‚äÜU,
Q Gi(Ui ‚à©V )
Q F(Ui ‚à©V )
/
GV
Q Gi(Ui ‚à©V )

GV
FV
/ FV
Q F(Ui ‚à©V )

(1)
is a pullback. For other open sets V , GV is of course empty. Restriction maps are induced
by the pullback property. It is clear that G is a subfunctor of F.
We Ô¨Årst show that G|Uj = Gj. For V ‚äÜUj, the fact that Gi(Ui ‚à©Uj) = Gj(Ui ‚à©Uj)
implies that Gi(V ‚à©Uj) = Gj(V ‚à©Uj). Thus we have the commutative diagram
Q Gi(Ui ‚à©V ) =
Q Gi(Uj ‚à©V )
Q F(Ui ‚à©V )
/
GjV
Q Gi(Ui ‚à©V ) =
Q Gi(Uj ‚à©V )

GjV
FV
/ FV
Q F(Ui ‚à©V )

Gj(Uj ‚à©V ) = GjV
F(Uj ‚à©V ) = FV
/
Q Gi(Ui ‚à©V ) =
Q Gi(Uj ‚à©V )
Gj(Uj ‚à©V ) = GjV

Q Gi(Ui ‚à©V ) =
Q Gi(Uj ‚à©V )
Q F(Ui ‚à©V )
/ Q F(Ui ‚à©V )
F(Uj ‚à©V ) = FV


TOPOSES, TRIPLES AND THEORIES
69
in which the top middle node is also
Q Gi(Uj ‚à©V ), the outer rectangle is a pullback and
the middle arrow is a mono as Gi is a subfunctor of F. It follows from Exercise (PBCC)
on page 73 that the left square is a pullback too. But that pullback is G(V ) by deÔ¨Ånition.
To see that G is a subsheaf, let {Vk} be a cover of V . By Proposition 1 we need to
show that the top row of the following diagram is an equalizer. By Exercise (EQPB) on
page 72(a) it is suÔ¨Écient to show that the left square in the diagram is a pullback.
FV
Q FVk
/
GV
FV

GV
Q GVk
/ Q GVk
Q FVk

Q FVk
Q F(Vk ‚à©Vl)
/
Q GVk
Q FVk

Q GVk
Q G(Vk ‚à©Vl)
/ Q G(Vk ‚à©Vl)
Q F(Vk ‚à©Vl)

Q FVk
Q F(Vk ‚à©Vl)
/
Q GVk
Q FVk

Q GVk
Q G(Vk ‚à©Vl)
/
Q G(Vk ‚à©Vl)
Q F(Vk ‚à©Vl)

(2)
In the following commutative cube,
FV
Q FVk
/
GV
FV

GV
Q GVk
/ Q GVk
Q FVk

Q F(Ui ‚à©V )
Q F(Ui ‚à©Vk)
/
Q Gi(Ui ‚à©V )
Q F(Ui ‚à©V )

Q Gi(Ui ‚à©V )
Q Gi(Ui ‚à©Vk)
/ Q Gi(Ui ‚à©Vk)
Q F(Ui ‚à©Vk)

Q GVk
Q Gi(Ui ‚à©Vk)
xqqqqqqqqqqqqq
GV
Q Gi(Ui ‚à©V )
&M
M
M
M
M
M
M
M
M
M
M
M
M
FV
Q F(Ui ‚à©V )
8q
q
q
q
q
q
q
q
q
q
q
q
q
Q FVk
Q F(Ui ‚à©Vk)
fMMMMMMMMMMMM
I
II
III
the square labelled I is a pullback by the deÔ¨Ånition of G and because G|Ui = Gi. Number
III is a product of squares which are pullbacks from the deÔ¨Ånition of G. Finally II is a
product of squares, each of which is the left hand square in a diagram of type (2) above
with Gi replacing G and is a pullback because Gi is a sheaf (see Exercise (EQPB) on
page 72(b)). It follows from Exercise (2PB) on page 30 of Section 1.6 that the outer
square is a pullback, which completes the proof.
2.5. Sheafification. In the rest of this section, we outline some functorial properties
of toposes of sheaves. These results follow from more general results to be proved later
when we discuss Grothendieck topologies, and so may be skipped. However, you may
Ô¨Ånd considering this special case Ô¨Årst helpful in understanding and motivating the ideas
introduced later. We give only the constructions involved in the proofs; the veriÔ¨Åcations
are left as exercises.
We saw in example (ii) that any space over X deÔ¨Ånes a sheaf on X. Given a presheaf F
on X we will construct a space LF and a continuous map (in fact local homeomorphism)
p: LF
/ X for which, for an open set U of X, the elements of FU are sections of p
(when F is a sheaf). Thus we need somehow to Ô¨Ånd the points of LF that lie over a
particular point x of X. We construct the set of such points by using colimits.

70
MICHAEL BARR AND CHARLES WELLS
Form the diagram of sets and functions consisting of all those sets FU for all open U
which contain x and all the restriction maps between them. This diagram is actually a
directed system. The colimit in Set of this diagram is denoted Fx and called the stalk or
Ô¨Åber of F at x. An element of Fx is an equivalence class of pairs (U, s) where x ‚ààU and
s ‚ààFU. The equivalence relation is deÔ¨Åned by requiring that (U, s) ‚àº= (V, t) if and only if
there is an open set W such that x ‚ààW ‚äÜU ‚à©V and s|W = t|W. The equivalence class
determined by (U, s) is denoted sx and is called the germ determined by s at x. Thus s
determines a map bs from U to Fx which takes x to sx.
Now let LF be the disjoint union of all the stalks of F.
We topologize LF with
the topology generated by the images of all the maps bs for all open U in X and all
sections s ‚ààFU. These images actually form a basis (Exercise (IBAS) on page 72). LF
comes equipped with a projection p: LF
/ X which takes sx to x. This projection p is
continuous and is in fact a local homeomorphism, meaning that for any y in LF there is
an open set V of LF containing y for which the image of p|V is an open set in X and p|V
is a homeomorphism from V to p(V ). To see this, let U be an open set containing p(y)
and deÔ¨Åne V = bs(U), where y is the equivalence class containing (U, s). Note that LF is
not usually HausdorÔ¨Ä, even when X is.
If f: F
/ G is a map of presheaves, then f induces (by the universal property of
colimits) a map fx: Fx
/ Gx for each x ‚ààX, and so a map Lf: LF
/ LG. It is a
nice exercise to see that Lf is continuous and that this makes L a functor from Psh(X)
to Top/X.
LF is called the total space of F (or just the ‚Äúspace‚Äù of F). (Many people follow the
French in calling the total space the ‚Äúespace ¬¥etal¬¥e‚Äù. It is wrong to call it the ‚Äú¬¥etale space‚Äù
since ‚Äú¬¥etale‚Äù is a diÔ¨Äerent and also mathematically signiÔ¨Åcant word.) We will denote by
LH /X the category of spaces (E, p) over X with p a local homeomorphism.
The function Œì deÔ¨Åned in Example (ii) above also induces a functor (also called Œì)
from the category Top/X of spaces over X to Psh(X): If E and E‚Ä≤ are spaces over X and
u: E
/ E‚Ä≤ is a map over X, then Œì(u) is deÔ¨Åned to take a section s of the structure
map of E to u ‚ó¶s. It is easy to see that this makes Œì a functor. Note that for E over X,
Œì(E) is a presheaf, hence a functor from O(X)op to Set; its value Œì(E)(U) at an open set
U is customarily written Œì(U, E).
2.6. Theorem. L is left adjoint to Œì. Moreover, L is a natural equivalence between
Sh(X) and LH /X.
Proof. We will construct natural transformations Œ∑: id
/ Œì ‚ó¶L and œµ: L ‚ó¶Œì
/ id for
which Œìœµ ‚ó¶Œ∑Œì = id and œµL ‚ó¶LŒ∑ = id, from which the adjointness will follow (Exercise
(UCO) on page 56 of Section 1.9).
Let F be a presheaf on X. On an open set U of X, deÔ¨Åne the natural transformation
Œ∑F by requiring that (Œ∑F)U take an element s of FU to the section bs. On the other hand,
for a space E over X, the continuous map œµE is deÔ¨Åned to take an element sx of L(Œì(E))
to s(x). The necessary veriÔ¨Åcations are left to the reader, as is the proof that when F
is a sheaf, Œ∑F is an isomorphism, and when p: E
/ X is a local homeomorphism, œµE

TOPOSES, TRIPLES AND THEORIES
71
is a homeomorphism over X. The latter two facts prove that L is a natural equivalence
between Sh(X) and LH /X.
The functor Œì ‚ó¶L: Psh(X)
/ Sh(X) is called the sheaÔ¨ÅÔ¨Åcation functor.
2.7. Corollary. For any topological space X, LH /X is a topos.
2.8. Corollary. Sh(X) is a reÔ¨Çective subcategory of Psh(X).
Proof. The reÔ¨Çector is the sheaÔ¨ÅÔ¨Åcation functor.
2.9. Change of base space. Any continuous function between topological spaces in-
duces a pair of functors between the sheaf categories which are adjoint.
Given a continuous function f: X
/ Y and a sheaf F on X, the direct image
functor f‚àó: Sh(X)
/ Sh(Y ) is deÔ¨Åned to be the restriction of
Func(f ‚àí1, Set): Func(O(X)op, Set)
/ Func(O(Y )op, Set)
Note that f ‚àí1 is a functor from O(Y )op to O(X)op. Thus f‚àóis composition with f ‚àí1.
On the other hand, given a local homeomorphism p: E
/ Y , f ‚àó(E) is deÔ¨Åned to be
the pullback
X
Y
f
/
f ‚àó(E)
X

f ‚àó(E)
E
/ E
Y
p

so that f ‚àó(E) = {(x, e) | fx = pe}. It is easy to see that the map (x, e)
/ x is a local
homeomorphism. On sections, f ‚àótakes a section s of p deÔ¨Åned on an open set V of Y to
the map which takes x ‚ààf ‚àí1(V ) to (x, sfx).
2.10. Proposition. f ‚àóis left adjoint to f‚àó. Moreover, f ‚àópreserves all Ô¨Ånite limits.
Note that f ‚àóperforce preserves all colimits since it has a right adjoint.
Proof. f ‚àóis the restriction of the pullback functor from Top/Y to Top/X, which has as
a left adjoint composing with f (the proof is easy). Thus it preserves limits in Top/Y ;
but Ô¨Ånite limits in LH /Y are the same as in Top/Y (again easy).
There is a natural map from E to f‚àó‚ó¶f ‚àó(E) whose component on an open set V of
Y takes a section s in Œì(V, E) to the function s ‚ó¶f: f ‚àí1(V )
/ E, which by deÔ¨Ånition is
an element of Œì(V, f‚àó‚ó¶f ‚àó(E)).
On the other hand, let F be a sheaf on X and let x ‚ààX. For any open V of Y for
which x ‚ààf ‚àí1(V ), we have a map from Œì(f ‚àí1(V )), F) to the stalk Fx, hence a map from
Œì(V, f‚àó(F)) (which is, by deÔ¨Ånition, the same as Œì(f ‚àí1(V ))) to Fx. This directed system
deÔ¨Ånes a map tx from the stalk of f‚àó(F) at fx to the stalk of F at x. We then deÔ¨Åne
a natural transformation from f ‚àóf‚àóto the identity which takes a section s of f ‚àóf‚àó(F)
deÔ¨Åned on U to the section of F which takes x ‚ààU to tx(s(x)).
These two natural
transformations satisfy the hypotheses of Exercise (UCO) on page 56 of Section 1.9, so

72
MICHAEL BARR AND CHARLES WELLS
that f ‚àóis left adjoint to f‚àó. The detailed veriÔ¨Åcations, which get a bit intricate, are left
to the reader. This is a special case of adjoints of functors induced by maps of theories.
The general situation will be dealt with in Chapter 8.
A geometric morphism between toposes is a functor f: E
/E‚Ä≤ with a left adjoint
f ‚àówhich preserves Ô¨Ånite limits. The functor f is usually written f‚àó, and f ‚àóis called
its ‚Äúinverse image‚Äù. Thus a continuous map f: X
/ Y of topological spaces induces a
geometric morphism from Sh(X) to Sh(Y ). We will study geometric morphisms in detail
in Chapter 6.
Exercises 2.2.
(CONT). a. Verify that Examples (i) and (ii) really are sheaves.
b. Show that Example (i) is a special case of Example (ii). (Hint: Consider the projec-
tion from Y √ó X to X.)
(EQL)
‚ô¶. Prove Proposition 1.
(LFU)
‚ô¶. Show that L is a functor.
(SFSH). Show that a subfunctor of a sheaf need not be a sheaf.
(IBAS). Let F be a presheaf on a topological space X. Show that the images bs(U) for
all open sets U in X and all sections s ‚ààFU form a basis for a topology on LF.
(LGNT)
‚ô¶. Carry out the veriÔ¨Åcations that prove Theorem 3. (You have to prove that for
each F, Œ∑F is a natural transformation, and for each p, œµp is a continuous map; that Œ∑ and
œµ are natural transformations; and that they satisfy the requirements in (a) of Exercise
(UCO) on page 56 of Section 1.9.)
(IFFS). Using the notation of the preceding exercise, prove that œµE is an isomorphism if
and only if p: E
/ X is a local homeomorphism, and Œ∑F is an isomorphism if and only
if F is a sheaf.
(STK). Show that two sheaves over the same space can have the same stalks at every
point without being the same sheaf. (Hint: Look at a double covering of a circle versus
two single circles lying over a circle.)
(LOC)
‚ô¶. Prove that the pullback of a local homeomorphism is a local homeomorphism.
(PT)
‚ô¶. Show that every point of a topological space X induces a geometric morphism
from Set to Sh(X) which takes a sheaf over X to its stalk over the point.
(EQPB)
‚ô¶. Consider the diagram
A‚Ä≤
B‚Ä≤
/
A
A‚Ä≤
A
B
/ B
B‚Ä≤
g

B‚Ä≤
C‚Ä≤‚Äò
d‚Ä≤
0
/
B
B‚Ä≤
B
C
d0
/ C
C‚Ä≤‚Äò
h

B‚Ä≤
C‚Ä≤‚Äò
d‚Ä≤
1
/
B
B‚Ä≤
B
C
d1
/ C
C‚Ä≤‚Äò

TOPOSES, TRIPLES AND THEORIES
73
in which we assume the left square commutes, and h ‚ó¶di = d‚Ä≤
i ‚ó¶g, i = 1, 2. (We often
say that such a square commutes serially, a notion which we will use a lot in later
chapters.)
a. Show that if the bottom row is an equalizerand the left square is a pullback then the
top row is an equalizer.
b. Show that if the top row is an equalizer, the bottom row has both composites the
same, and f is monic, then the left square is pullback.
(PBCC)
‚ô¶. Consider the diagram
A‚Ä≤
B‚Ä≤
/
A
A‚Ä≤
A
B
/ B
B‚Ä≤
g

C‚Ä≤
/

C
f
/ C
C‚Ä≤
a. Show that if both squares are pullbacks then so is the outer rectangle.
b. Show that if the outer rectangle is a pullback and f and g are jointly monic, then
the left square is a pullback. (f and g are jointly monic if f(x) = f(y) and g(x) = g(y)
implies that x = y. Such a square is called a mono square.)
3. Properties of Toposes
In this section and the next, we will state and prove those basic properties of toposes
which can conveniently be proved without using triple theory.
In the following, E is a topos with power-object function P.
3.1. Functoriality of P.
3.2. Proposition. Let A and B be categories and Œ¶: Aop √ó B
/ Set be a functor. Let
F: ObA
/ ObB be a function such that for each object A of A there is a natural (in B)
equivalence
Œ¶(A, B) ‚âÉHom(FA, B)
Then there is a unique way of extending F to a functor (also denoted F) A
/B in such
a way that the above equivalence is a natural equivalence in both A and B.
Proof. Fix a morphism f: A‚Ä≤
/ A. We have a diagram of functors on B
Œ¶(A‚Ä≤)
Hom(FA‚Ä≤, ‚àí)
‚àº
=
/
Œ¶(A, ‚àí)
Œ¶(A‚Ä≤)
Œ¶(f,‚àí)

Œ¶(A, ‚àí)
Hom(FA, ‚àí)
‚àº
=
/ Hom(FA, ‚àí)
Hom(FA‚Ä≤, ‚àí)


74
MICHAEL BARR AND CHARLES WELLS
in which the right arrow is deÔ¨Åned by the indicated isomorphisms to make the dia-
gram commute.
The result is a natural (in B) transformation from Hom(FA, ‚àí) to
Hom(FA‚Ä≤, ‚àí) which is induced by a morphism we denote Ff: FA‚Ä≤
/ FA. The natu-
rality in A and the functoriality of F are clear.
3.3. Proposition. P has a unique extension to a functor from Eop to E with the prop-
erty that for any arrow g: A‚Ä≤
/ A, the following diagram commutes. Here, œï is the
natural isomorphism of Section 2.1.
HomE(B, PA)
Sub(B √ó A)
œï(A,B)
/
HomE(B, PA‚Ä≤)
HomE(B, PA)
O
Hom(B,Pg)
HomE(B, PA‚Ä≤)
Sub(B √ó A‚Ä≤)
œï(A‚Ä≤,B)
/ Sub(B √ó A‚Ä≤)
Sub(B √ó A)
O
Sub(idB√óg)
(1)
Proof. Apply Proposition 1 above with A = E, B = Eop, and F = Pop.
It is worthwhile to restate what we now know about P in view of the deÔ¨Ånition of
Sub. If s: U
/ B √ó A is a subobject and [s] = Œ¶‚àí1(s): B
/ PA is the corresponding
element of PA, then diagram (1) of Section 2.1 says that for an arrow f: B‚Ä≤
/ B, the
element [s]f of PA deÔ¨Åned on B‚Ä≤ corresponds via the adjunction to Sub(f √óidB)(s) which
is the pullback of s along f √ó idB. On the other hand, given g: A‚Ä≤
/ A, then according
to diagram (1) of this section, the element Pg(s) of PA‚Ä≤ corresponds to Sub(idB √ó g)(s),
which is the pullback of s along idB √ó g.
3.4. Proposition. Pop: E
/ Eop is left adjoint to P: Eop
/ E.
Proof. The arrow A √ó B
/ B √ó A which switches coordinates induces a natural
isomorphism from the bifunctor whose value at (B, A) is Sub(B √ó A) to the bifunctor
whose value at (B, A) is Sub(A √ó B). This then induces a natural isomorphism
HomE(B, PA) ‚âÉHomE(A, PB) = HomEop(PB, A)
which proves the Proposition.
We sometimes say, ‚ÄúP is adjoint to itself on the left.‚Äù
3.5. The subobject classifier. Since A ‚âÉA√ó1, the subobject functor is represented
by P(1). This object is so important in a topos that it deserves its own name, which is
traditionally ‚Ñ¶. It follows from the Yoneda Lemma that ‚Ñ¶has a representative subobject
true: ‚Ñ¶0
/ ‚Ñ¶with the property that for any object A and any subobject a: A0
/ A
there is a unique map œáa: A
/ ‚Ñ¶such that a is the pullback of true along œáa. This
means that there is a map A0
/ ‚Ñ¶0 (whose nature will be clariÔ¨Åed by Proposition 4)

TOPOSES, TRIPLES AND THEORIES
75
for which the following diagram is a pullback:
A
‚Ñ¶
œáa
/
A0
A
a

A0
‚Ñ¶0
/ ‚Ñ¶0
‚Ñ¶
true

3.6. Proposition. ‚Ñ¶0 is the terminal object.
Proof. For a given object A, there is at least one map from A to ‚Ñ¶0, namely the map
u given by the following pullback:
A
‚Ñ¶
œá(idA)
/
A
A
idA

A
‚Ñ¶0
u
/ ‚Ñ¶0
‚Ñ¶
true

(2)
To see that u is the only map, suppose v: A
/‚Ñ¶0 is another map. Then this diagram
is a pullback (see Exercise (PBM) on page 29 of Chapter 1.6):
A
‚Ñ¶
true ‚ó¶v
/
A
A
idA

A
‚Ñ¶0
v
/ ‚Ñ¶0
‚Ñ¶
true

The uniqueness part of the universal mapping property of ‚Ñ¶says that true ‚ó¶v = œá(idA),
which is true ‚ó¶u by diagram (2). Since true is mono, this means u = v. It follows that
every object has exactly one map to ‚Ñ¶0.
‚Ñ¶is called the subobject classiÔ¨Åer.
In Set, any two element set is a subobject
classiÔ¨Åer in two diÔ¨Äerent ways, depending on which of the two elements you take to be
true. If for each set A you take PA to be the actual set of subsets of A, then the preceding
construction makes the subobject classiÔ¨Åer the set of subsets of a singleton set with true
taking the value of the nonempty subset. The subobject classiÔ¨Åer in a category of G-sets
is a two element set with the trivial action, and comments similar to those just made
apply here too. As we will see, in most toposes ‚Ñ¶is not nearly so simple.
The following result is a consequence of Exercise (REGMON) on page 39, page 39.
3.7. Corollary. Every monomorphism in a topos is regular.

76
MICHAEL BARR AND CHARLES WELLS
3.8. The singleton map. We will deÔ¨Åne a special arrow {}: A
/ PA which in the
case E = Set is the map taking x to the singleton set containing x. Its importance lies in
the fact that composing with {} internalizes the construction of the graph of a function,
for if f: B
/ A, then {}f: B
/ PA corresponds to the subobject [(b, a) | a = f(b)] of
B √ó A, which in Set is in fact the graph of f. (Thus by this deÔ¨Ånition, the graph of f in
Set is the set of ordered pairs (b, f(b)) regarded as a subobject of B √ó A, so that the graph
carries with it the information about the codomain of f as well as its domain.)
The fact that {}f should correspond to the graph of f suggests the way to construct
{}. Let Œ≥ be the natural transformation from HomE(‚àí, A) to Sub(‚àí√ó A) deÔ¨Åned by
having Œ≥B take f: B
/ A to the subobject (idB, f): B
/ B √ó A. Observe in the Ô¨Årst
place that if (idB, f) ‚ó¶u = (idB, f) ‚ó¶v, then (u, fu) = (v, fv) so that (idB, f) is indeed
monic. To show that Œ≥ is a natural transformation translates into showing that for any
arrow g: B‚Ä≤
/ B,
Sub(g √ó A)(idB, f) = (idB‚Ä≤, fg)
By deÔ¨Ånition of Sub, that requires showing that the following diagram is a pullback,
which is easy.
B‚Ä≤
B‚Ä≤ √ó A
(id‚Ä≤
B,fg)
/
B
B‚Ä≤
O
g
B
B √ó A
(idB,f)
/ B √ó A
B‚Ä≤ √ó A
O
g√óA
Now let Œ≥ be the natural transformation
Œ≥: HomE(‚àí, A)
/ Sub(‚àí√ó A) ‚âÉHomE(‚àí, PA)
Let {}: A
/ PA be the corresponding arrow given by the Yoneda Lemma. Recall that
according to the proof of the Yoneda Lemma, for f: B
/ A, Œ≥B(f) = {}f.
The following proposition just says that a morphism is determined by its graph.
3.9. Proposition. {} is monic.
Proof. If f, f ‚Ä≤: B
/ A are two morphisms for which (idB, f): B
/ B √ó A and
(idB, f ‚Ä≤): B
/ B √ó A give equivalent subobjects, then there is an isomorphism j of
B for which (j, fj) = (idB, f ‚Ä≤), whence f = f ‚Ä≤. Since by construction {}f corresponds by
adjunction to the subobject (idB, f): B
/ B √ó A, {} must be monic.
3.10. Equivalence relations. As observed in Exercise (EQC) on page 46 of Sec-
tion 1.8, the kernel pairof a regular epimorphismis an eÔ¨Äective equivalencerelation. In a
topos, the converse is true:
3.11. Theorem. In a topos, every equivalence relation is eÔ¨Äective.

TOPOSES, TRIPLES AND THEORIES
77
Proof. Let E be an equivalence relation on A. E is a subobject of A√óA, so corresponds
to an arrow [ ]E: A
/ PA (which in Set is the class map). An element of A deÔ¨Åned on
T is sent to the subobject of T √ó A (element of PA deÔ¨Åned on T) which is the pullback
of the diagram
T √ó A
A √ó A
a√óidA
/
T √ó A
EE
A √ó A

Thus if a ‚ààT A and (t, a‚Ä≤) ‚ààV T √ó A, then (t, a‚Ä≤) ‚ààV [a]E if and only if (a ‚ó¶t, a‚Ä≤) ‚ààV E.
This fact is used twice in the proof below.
To show that E is the kernel pair of [ ]E, we must show that if a1 and a2 are ele-
ments of A deÔ¨Åned on T then [a1]E = [a2]E if and only if (a1, a2) ‚ààE. To see this, let
(t, a): V
/ T √ó A be an element of T √ó A deÔ¨Åned on V . The corresponding subset of
Hom(V, T √ó A) is
[a1]E = {(t, a) | (a1 ‚ó¶t, a) ‚ààE};
[a2]E is deÔ¨Åned similarly. If [a1]E = [a2]E, let V = T, t = idT, and a = a2. By reÔ¨Çexivity,
(idT, a2) ‚àà[a2]E, hence belongs to [a1]E. Therefore (a1, a2) = (a1 ‚ó¶idT, a2) ‚ààE.
For the converse, suppose (a1, a2) ‚ààE. Then for all t: V
/ T, (a1 ‚ó¶t, a2 ‚ó¶t) ‚ààE.
Suppose (t, a) ‚àà[a1]E (deÔ¨Åned on V ), then (a1 ‚ó¶t, a) ‚ààE and therefore by symmetry and
transitivity, (a2 ‚ó¶t, a) ‚ààE. Hence [a1]E ‚äÜ[a2]E. The other inclusion follows by symmetry.
This shows that E is the kernel pair of [ ]E.
Exercises 2.3.
(PCA). Let G: B
/ A be a functor and F: ObA
/ ObB be a function such that for
each A ‚ààA there is a natural (in B) equivalence
Hom(A, GB) ‚âÉHom(FA, B)
Use Proposition 1 to show that F has a unique extension to a functor left adjoint to G.
(This gives a second proof of the pointwise construction of adjoints, Section 1.9.)
(BAL)
‚ô¶. Prove that in a topos an arrow which is both a monomorphism and an epimor-
phism is an isomorphism. (Hint: Use Corollary 5.)
(TF). (Interchanging true and false). Describe how to deÔ¨Åne P in Set so that the subob-
ject classiÔ¨Åer is the set of subsets of a one-element set and the value of true is the empty
set.
(OMT)
‚ô¶. Let X be a topological space. If U is open in X, deÔ¨Åne ‚Ñ¶(U) to be the set of
open subsets of U. If V ‚äÜU, let ‚Ñ¶(U, V )(W) = W ‚à©V .
a. Show that ‚Ñ¶is a sheaf, and is the subobject classiÔ¨Åer in Sh(X).
b. What is {}?

78
MICHAEL BARR AND CHARLES WELLS
(TPPB)
‚ô¶. Suppose that for each object A of a topos there is a map jA: Sub(A)
/ Sub(A)
with the property that whenever
B0
B
/
/
A0
B0

A0
A
/
/ A
B

is a pullback, then there is a pullback
jB(B0)
B
/
/
jA(A0)
jB(B0)

jA(A0)
A
/
/ A
B

where the top arrow is the inclusion.
Use the Yoneda lemma to show that show that these functions constitute a natural
endomorphism of P.
(LMA). a. Show that if M is a monoid and E is the topos of left M actions and equivariant
maps, then ‚Ñ¶is the set of left ideals of M, with action mL = {n | nm ‚ààL}.
b. Show that in E, ‚Ñ¶has exactly two global elements.
4. The Beck Conditions
The Beck conditionsare useful technical conditions concerning inverse images and forward
images induced by inclusions.
A mono a: A0
/A induces a set function a‚ó¶‚àí: Sub(A0)
/ Sub(A) by composition,
taking the subobject determined by u: A1
/ A0 to the subobject determined by a ‚ó¶u.
4.1. Proposition. [The Beck Condition, external version] Let
A
B
f
/
A0
A
a

A0
B0
f0
/ B0
B
b


TOPOSES, TRIPLES AND THEORIES
79
be a pullback. Then
Sub A
Sub B
o
Sub f
Sub A0
Sub A
a‚ó¶‚àí

Sub A0
Sub B0
o
Sub f0
Sub B0
Sub B
b‚ó¶‚àí

commutes.
Proof. This translates into proving that if both squares in the following diagram are
pullbacks, then so is the outer rectangle.
That is Exercise (PBCC) on page 73(a) of
Section 2.3.
B1
B0
/
A1
B1

A1
A0
/ A0
B0

B
b
/

A
a
/ A
B
f

Observe that in Set, A0 is the inverse image of B0 along f.
The object PA is said to ‚Äúinternalize‚Äù Sub(A). For a given monic a: A0
/ A, there
is an arrow ‚àÉa: PA0
/ PA which internalizes a ‚ó¶‚àíin the same sense. To construct ‚àÉa,
we Ô¨Årst observe that a ‚ó¶‚àíinduces an arrow
(B √ó a) ‚ó¶‚àí: Sub(B √ó A0)
/ Sub(B √ó A)
for any object B.
4.2. Proposition. (‚àí√óa) is a natural transformation from Sub(‚àí√óA0) to Sub(‚àí√óA).
Proof. Suppose f: B‚Ä≤
/ B is given. Then the diagram
B √ó A0
B √ó A
B√óa
/
B‚Ä≤ √ó A0
B √ó A0
f√óA0

B‚Ä≤ √ó A0
B‚Ä≤ √ó A
B‚Ä≤√óa
/ B‚Ä≤ √ó A
B √ó A
f√óA

is a pullback (easy exercise), so that by Proposition 1,
Sub(B‚Ä≤ √ó A0)
Sub(B‚Ä≤ √ó A)
(B‚Ä≤√óa)‚ó¶‚àí
/
Sub(B √ó A0)
Sub(B‚Ä≤ √ó A0)
Sub(f√óA0)

Sub(B √ó A0)
Sub(B √ó A)
(B√óa)‚ó¶‚àí
/ Sub(B √ó A)
Sub(B‚Ä≤ √ó A)
Sub(f√óA)

commutes as required for (‚àí√ó a) to be a natural transformation.

80
MICHAEL BARR AND CHARLES WELLS
DeÔ¨Ånition. If a: A0
/A is monic, ‚àÉa: PA0
/PA is the arrow induced by the natural
transformation
HomE(‚àí, PA0) ‚âÉSub(‚àí√ó A0)
/ Sub(‚àí√ó A) ‚âÉHomE(‚àí, PA)
‚àÉa takes an element of PA0 to the element of PA regarded as the same subobject.
4.3. Proposition. [The Beck condition, internal version] If
A
B
f
/
A0
A

a

A0
B0
f0
/ B0
B

b

(ii)
is a pullback, then
PA
PB
o
Pf
PA0
PA
‚àÉa

PA0
PB0
o
Pf0
PB0
PB
‚àÉb

commutes.
What the Beck condition really says is that if X is a subobject of B0, f ‚àí1(X) is
unambiguously deÔ¨Åned.
Proof. If (ii) is a pullback, then so is
C √ó A
C √ó B
/
C √ó A0
C √ó A

C √ó A0
B √ó B0
/ B √ó B0
C √ó B

so by Proposition 1,
Sub(C √ó A)
Sub(C √ó B)
o
Sub(C √ó A0)
Sub(C √ó A)

Sub(C √ó A0)
Sub(C √ó B0)
o
Sub(C √ó B0)
Sub(C √ó B)

commutes. Hence because diagram (1) of Section 2.1 commutes,
HomE(C, PA)
HomE(C, PB)
o
HomE(C, PA0)
HomE(C, PA)

HomE(C, PA0)
HomE(C, PB0)
o
HomE(C, PB0)
HomE(C, PB)


TOPOSES, TRIPLES AND THEORIES
81
commutes, so that (iii) commutes by deÔ¨Ånition of ‚àÉa.
Exercises 2.4.
(EXID)
‚ô¶. Show that for any object A in a topos, ‚àÉidA = idPA.
(EXINV)
‚ô¶. Show that for any monic a: A0
/ A in a topos, Pa ‚ó¶‚àÉa = idA0.
5. Notes to Chapter 2
The development of topos theory resulted from the conÔ¨Çuence of two streams of mathe-
matical thought from the sixties. The Ô¨Årst of these was the development of an axiomatic
treatment of sheaf theory by Grothendieck and his school of algebraic geometry. This ax-
iomatic development culminated in the discovery by Giraud that a category is equivalent
to a category of sheaves for a Grothendieck topology if and only if it satisÔ¨Åes the condi-
tions for being what is now called a Grothendieck topos (section 6.8).The main purpose
of the axiomatic development was to be able to deÔ¨Åne sheaf cohomology. This purpose
was amply justiÔ¨Åed by Deligne‚Äôs proof of the Weil conjectures [1974].
The second stream was Lawvere‚Äôs continuing search (which, it is probably only a
slight exaggeration to state, had characterized his career to that date) for a natural way
of founding mathematics (universal algebra, set theory, category theory, etc.) on the basic
notions of morphism and composition of morphisms. All formal (and naive) presentations
of set theory up to then had taken as primitives the notions of elements and sets with
membership as the primitive relation. What Lawvere had in mind for set theory was to
take sets and functions as the primitives (and you don‚Äôt really need the sets if you are
interested in reducing the number of primitives to a minimum‚Äîsee Exercise (SGRPOID)
on page 7 of Chapter 1.1) and the partial operation of composition as the basic relation.
In a formal way it is clear that this can always done by deÔ¨Åning the terminal object
1 and then an element as a morphism with domain 1. Subobjects and membership can
be readily deÔ¨Åned and it is clear that set theory can be recovered. However, Lawvere
did not have in mind a slavish translation of Zermelo-Fraenkel set theory into categorical
language, but rather a treatment in which functions were clearly the fundamental notion.
See Lawvere [1965] for an example of this. The closest he had come prior to 1969 was the
notion of a hyperdoctrine which is similar to that of a topos except that PA is a category
rather than an object of the ambient category.
The foundation of mathematics on the concept of function or arrow as primitive is
revolutionary, but no more revolutionary than the introduction of set theory was early in
the century. The idea of constructing a quotient space without having to have an ambient
space including it, for example, was made possible by the introduction of set theory, in
particular by the advent of the rather dubious idea that a set can be an element of another
set. There is probably nothing in the introduction of topos theory as foundations more
radical than that.
In the fall of 1969, Lawvere and Tierney arrived together at Dalhousie University and
began a research project to study sheaf theory axiomatically. To be a possible foundation

82
MICHAEL BARR AND CHARLES WELLS
for set theory, the axioms had to be elementary‚Äîwhich Giraud‚Äôs axioms were not. The
trick was to Ô¨Ånd enough elementary consequences of these axioms to build a viable theory
with.
The fact that a Grothendieck topos has arbitrary colimits and a set of generators allows
free use of the special adjoint functor theorem to construct adjoints to colimit-preserving
functors. Lawvere and Tierney began by assuming explicitly that some of these adjoints
existed and they and others pared this set of hypotheses down to the current set.
They began by deÔ¨Åning a topos as a category with Ô¨Ånite limits and colimits such that
for each f: A
/ B the functor
f ‚àó: E/A
/ E/B
gotten by pulling back along f has a right adjoint and that for each object A , the functor
Eop
/ Set which assigns to B the set of partial maps B to A is representable. During
the year at Dalhousie, these were reduced to the hypothesis that E be cartesian closed
(i.e. that
‚àí√ó A: E
/ E/A
have a right adjoint) and that partial functions with codomain 1 (that is, subobjects) be
representable. Later Mikkelsen showed that Ô¨Ånite colimits could be constructed and Kock
that it was suÔ¨Écient to assume Ô¨Ånite limits and power objects.
The resulting axioms, even when the axioms for a category are included, form a much
simpler system on which to found mathematics than the Zermelo-Fraenkel axioms. More-
over, they have many potential advantages, for example in the treatment of variability.
It has been shown that the topos axioms augmented by axioms of two-valuedness and
choice give a model of set theory of power similar to that of Zermelo-Fraenkel, but weaker
in that all the sets appearing in any axiom of the replacement schema must be quantiÔ¨Åed
over sets rather than over the class of all sets. See Mitchell [1972] and Osius [1974, 1975].

3
Triples
From one point of view, a triple is an abstraction of certain properties of algebraic struc-
tures. From another point of view, it is an abstraction of certain properties of adjoint
functors (Theorem 1 of Section 3.1). Triple theory has turned out to be an important tool
for studying toposes. In this chapter, we develop those parts of the theory we need to use
in developing topos theory. In Chapter 9, we present additional topics in triple theory.
1. DeÔ¨Ånition and Examples
A triple T = (T, Œ∑, ¬µ) on a category C is an endofunctor T: C
/ C together with two
natural transformations Œ∑: idC
/ T, ¬µ: TT
/ T subject to the condition that the
following diagrams commute.
T
T 2
TŒ∑
/
T
T
=
""D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
T 2
T
o
Œ∑T
T 2
T
¬µ

T
T
=
|zzzzzzzzzzzzzzz
T 2
T
¬µ
/
T 3
T 2
¬µT

T 3
T 2
T¬µ
/ T 2
T
¬µ

(1)
In these diagrams, T n means T iterated n times. As explained in Section 1.3, the compo-
nent of ¬µT at an object X is the component of ¬µ at TX, whereas the component of T¬µ
at X is T(¬µX); similar descriptions apply to Œ∑.
The terms ‚Äúmonad‚Äù, ‚Äútriad‚Äù, ‚Äústandard construction‚Äù and ‚Äúfundamental construc-
tion‚Äù have also been used in place of ‚Äútriple‚Äù.
1.1. Examples. The reader will note the analogy between the identities satisÔ¨Åed by a
triple and those satisÔ¨Åed by a monoid. In fact, the simplest example of a triple involves
monoids:
(i). Let M be a monoid and deÔ¨Åne T: Set
/Set by TX = M √óX. Let Œ∑X: X
/M √óX
take x to (1M, x) and ¬µX: M √ó M √ó X
/ M √ó X take (m, n, x) to (mn, x). Then the
associative and unitary identities follow from those of M.
83

84
MICHAEL BARR AND CHARLES WELLS
(ii). In a similar way, if R is a commutative ring and A an associative unitary R-algebra,
there is a triple on the category of R-modules taking M to A‚äóM. The reader may supply
Œ∑ and ¬µ.
(iii). A third example is obtained by considering an object C in a category C which has
Ô¨Ånite sums, and deÔ¨Åning T: C
/ C by TX = X + C. Take Œ∑X: X
/ X + C to be the
injection into the sum and ¬µX: X + C + C
/ X + C to be idX + ‚àá, where ‚àáis the
codiagonal‚Äîthe map induced by idC.
(iv). If C is a category with arbitrary products and D is an object of C, we can deÔ¨Åne
a triple T = (T, Œ∑, ¬µ) on C by letting TC = DHom(C,D). To deÔ¨Åne T on arrows, as well
as to deÔ¨Åne Œ∑ and ¬µ, we establish some notation which will be very useful later. For
u: C
/ D, let ‚ü®u‚ü©: TC
/ D be the corresponding projection from the product. Then
for f: C‚Ä≤
/ C, we must deÔ¨Åne
Tf: DHom(C‚Ä≤,D)
/ DHom(C,D)
The universal mapping property of the product is such that the map Tf is uniquely
determined by giving its projection on every coordinate. So if v: C
/D, deÔ¨Åne ‚ü®v‚ü©‚ó¶Tf =
‚ü®v ‚ó¶f‚ü©. The proof of functoriality is trivial. We deÔ¨Åne Œ∑C: C
/ TC by ‚ü®u‚ü©‚ó¶Œ∑C = u and
¬µ: T 2C
/ TC by ‚ü®u‚ü©‚ó¶¬µC = ‚ü®‚ü®u‚ü©‚ü©. We could go into more detail here, but to gain an
understanding of the concepts, you should work out the meaning of the notation yourself.
Once you have facility with the notation, the identities are trivial to verify, but they were
mind-bogglingly hard in 1959 using elements. You might want to try to work these out
using elements to see the diÔ¨Éculty, which comes in part because the index set is a set of
functions.
(v). More generally, if C is a category with arbitrary products and D is a set of objects
of C, let
TC = Q{D | D ‚ààD, f: C
/ D}
This deÔ¨Ånes T on objects. The remainder of the construction is similar to the one
above and is left to the reader.
(vi). An example of a diÔ¨Äerent sort is obtained from the free groupconstruction. Let
T: Set
/ Set take X to the underlying set of the free group generated by X. Thus TX
is the set of equivalence classes of words made up of symbols x and x‚àí1 for all x ‚ààX; the
equivalence relation is that generated by requiring that any word containing a segment
of the form xx‚àí1 or of the form x‚àí1x be equivalent to the word obtained by deleting the
segment. We will denote the equivalence class of a word w by [w], and we will frequently
say ‚Äúword‚Äù instead of ‚Äúequivalence class of words‚Äù. The map Œ∑X takes x to [x], whereas
¬µX takes a word of elements of TX, i.e., a word of words in X, to the word in X obtained
by dropping parentheses. For example, if x, y and z are in X, then [xy2z‚àí1] and [z2x2]
are in TX, so w = [[xy2z‚àí1][z2x2]] ‚ààTTX, and ¬µX(w) = [xy2zx2] ‚ààTX. There are
many similar examples based on the construction of free algebraic structures of other
sorts. Indeed, every triple in Set can be obtained in essentially that way, provided you
allow inÔ¨Ånitary operations in your algebraic structures.

TOPOSES, TRIPLES AND THEORIES
85
1.2. Sheaves. In this section we describe the Ô¨Årst triple ever explicitly considered. It
was produced by Godement, who described the construction as the standard construction
of an embedding of a sheaf into a ‚ÄúÔ¨Çabby‚Äù sheaf (faisceau Ô¨Çasque).
In Example (2) of Section 2.2, we described how to construct a sheaf Œì given any
continuous map p: Y
/ X of topological spaces. If each Ô¨Åber of p (that is, each set
p‚àí1(x) for x ‚ààX) is endowed with the structure of an Abelian group in such a way that
all the structure maps +: Y √óX Y
/ Y , 0: X
/ Y (which assigns the 0 element of
p‚àí1(x) to x), and ‚àí: Y
/ Y are continuous, then the sheaf of sections becomes in a
natural way an Abelian group. In the same way, endowing the Ô¨Åbers with other types
of algebraic structure (rings or R-modules are the examples which most often occur in
mathematical practice) in such a way that all the structure maps are continuous makes
the sheaf of sections become an algebraic structure of the same kind. In fact a sheaf of
Abelian groups is an Abelian group at three levels: Ô¨Åbers, sections, and as an Abelian
group object in the category Sh(X). (See Exercise (SHAB) on page 88).
If Y is retopologized by the coarsest topology for which p is continuous (so all Ô¨Åbers
are indiscrete), then every section of p is continuous.
In general, given any set map
p: Y
/ X, using the coarsest topology this way produces a sheaf Rp which in fact is
the object part of a functor R: Set/|X |
/ Sh(X), where |X | is the discrete space with
the same points as X. (See Exercise (RFUN) on page 88). The resulting sheaf has the
property that all its restriction maps are surjective. Such a sheaf is called Ô¨Çabby, and
Godement was interested in them for the purpose of constructing resolutions of objects
to compute homology groups with.
For each sheaf F, Godement constructed a sheaf TF (which turns out to be Ô¨Çabby)
which deÔ¨Ånes the object map of the functor part of a triple, as we will describe. Let Y be
the disjoint union of the stalks of F, and let p: Y
/X take the stalk Fx to x. Topologize
Y by the coarsest topology for which p is continuous and let TF be the sheaf of sections
of Y . (Compare the construction of LF in Section 2.2).
Evidently, TFU =
P{Fx | x ‚ààU}. DeÔ¨Åne Œ∑F: F
/ F by requiring that Œ∑F(s) be
the equivalence class containing s in the stalk at x. Then Œ∑F is monic because of the
uniqueness condition in the deÔ¨Ånition of sheaf (Exercise (UNMN) on page 88). DeÔ¨Åning ¬µ
is complicated. We will postpone that until we have shown how adjoint pairs of functors
give rise to triples; then we will factor T as the composite of a pair of adjoints and get ¬µ
without further work.
If F is an R-module, then so is TF (Exercise (RUL) on page 88). In this case, iterating
T gives Godement‚Äôs standard resolution.
1.3. Adjunctions give triples. The diÔ¨Éculty in verifying the associative identity for
¬µ in examples like the group triple, as well as the fact that every known triple seemed to
be associated with an adjoint pair, led P. Huber [1961] to suspect and prove:
1.4. Theorem. Let U: B
/C have a left adjoint F: C
/B with adjunction morphisms
Œ∑: id
/ UF and œµ: FU
/ id. Then T = (UF, Œ∑, UœµF) is a triple on C.

86
MICHAEL BARR AND CHARLES WELLS
Proof. The unitary identities
UF
UFUF
Œ∑UF
/
UF
UF
=
$H
H
H
H
H
H
H
H
H
H
H
H
H
H
H
H
UFUF
UF
o
UFŒ∑
UFUF
UF
UœµF

UF
UF
=
zvvvvvvvvvvvvvvvv
(2)
are just Œ∑U ‚ó¶Uœµ = id evaluated at F (see Exercise (UCO) on page 56 of Section 1.9) and
U applied to FŒ∑ ‚ó¶œµF = id, respectively. The associative identity
UFUF
UF
UœµF
/
UFUFUF
UFUF
UFUœµF

UFUFUF
UFUF
UœµUFF
/ UFUF
UF
UœµF

(3)
is U applied to the following diagram, which is then evaluated at F:
FU
Id
œµ
/
FUFU
FU
FUœµ

FUFU
FU
œµFU
/ FU
Id
œµ

(4)
At an object Y , this last diagram has the form
FUY
Y
œµY
/
FUX
FUY
FUf

FUX
X
œµX
/ X
Y
f

(5)
(for X = FUY and f = œµY ) which commutes because œµ is natural. (This is an example
of part (a) of Exercise (GOD) on page 16 of Section 1.3.)
The group triple of example (vi) of course arises from the adjunction of the underlying
set functor and the free group functor. We will see in Section 3.2 that in fact every triple
arises from an adjoint pair (usually many diÔ¨Äerent ones).
The factorization in the case of the triple for sheaves we began to construct above
is T = RU, where U: Sh(X)
/ Set/|X| has U(F) = S Fx and R: Set/|X|
/ Sh(X)
is the functor deÔ¨Åned previously.
Then R is left adjoint to U and produces a triple
T = (T, Œ∑, UœµR).

TOPOSES, TRIPLES AND THEORIES
87
1.5. Cotriples. A cotriple in a category B is a triple in Bop. Thus G = (G, œµ, Œ¥) (this
is standard notation) is a cotriple in B if G is an endofunctor of B, and œµ: G
/ id,
Œ¥: G
/ G2 are natural transformations satisfying the duals to the diagrams (1) above.
(Thus a cotriple is the opposite of a triple, not the dual of a triple. The dual of a triple‚Äîin
other words, a triple in Catop‚Äîis a triple.)
1.6. Proposition. Let U: B
/C have a left adjoint F: C
/B with adjunction mor-
phisms Œ∑: id
/ UF and œµ: FU
/ id. Then G = (FU, œµ, FŒ∑U) is a cotriple on B.
Proof. This follows from Theorem 1 and the observation that U is left adjoint to F as
functors between Bop and C op with unit œµ and counit Œ∑.
Exercises 3.1.
(PTRP). Let P denote the functor from Set to Set which takes a set to its powerset and
a function to its direct image function (Section 1.2). For a set X, let Œ∑X take an element
of X to the singleton containing x, and let ¬µX take a set of subsets of X (an element of
PX) to its union. Show that (P, Œ∑, ¬µ) is a triple in Set. (Hint: compare Exercise (USL2)
on page 54 of Section 1.9).
(POLY). Let R be any commutative ring. For each set X, let TX be the set of poly-
nomials in a Ô¨Ånite number of variables with the variables in X and coeÔ¨Écients from R.
Show that T is the functor part of a triple (¬µ is deÔ¨Åned to ‚Äúcollect terms‚Äù).
(TRE). An ordered binary rooted tree (OBRT) is a binary rooted tree (assume trees
are Ô¨Ånite in this problem) which has an additional linear order structure (referred to as
left/right) on each set of siblings. An X-labeled OBRT (LOBRT/X) is one together with
a function from the set of terminal nodes to X. Show that the following construction
produces a triple in Set: For any set X, TX is the set of all isomorphism classes of
LOBRT/X. If f: X
/ Y , then Tf is relabeling along f (take a tree in TX and change
the label of each node labeled x to f(x)). Œ∑X takes x ‚ààX to the one-node tree labeled
x, and ¬µX takes a tree whose labels are trees in TX to the tree obtained by attaching to
each node the tree whose name labels that node.
(TRE2). Let B be the category of sets with one binary operation (subject to no condi-
tions) and functions which preserve the binary operation.
a. Show that the triple of Exercise (TRE) on page 87 arises from the underlying set
functor B
/ Set and its left adjoint.
b. Give an explicit description of the cotriple in B induced by the adjoint functors in
(a).
(GRCO). Give an explicit description of the cotriple in Grp induced by the underlying
set functor and the free group functor.
(MONCO). Let M be a monoid and G = Hom(M, ‚àí): Set
/ Set. If X is a set and
f: M
/ X, let œµX(f) = f(1) and [Œ¥X(f)](m)(n) = f(mn) for m, n ‚ààM. Show that Œ¥
and œµ are natural transformations making (G, œµ, Œ¥) a cotriple in Set.

88
MICHAEL BARR AND CHARLES WELLS
(ETAMON)
‚ô¶. Show that if T is any triple on C and A is an object of C, and there is at
least one mono A
/ TA, then Œ∑A is monic. (Hint: If m is the monic, put Tm into a
commutative square with Œ∑ and use a unitary identity.)
(UNMN). Prove that Œ∑F as deÔ¨Åned in the section on sheaves is monic.
(RFUN). Complete the proof that R, deÔ¨Åned in the section on sheaves, is a functor.
(RUL). Show that the functors R and U constructed in the section on sheaves have the
properties that R is left adjoint to U and that if F is an R-module in the category of
sheaves of sets over the underlying space, then so is TF.
(SHAB). Show that the following three statements about a sheaf F on a topological space
X are equivalent:
(i). Every Ô¨Åber of F is an Abelian group in such a way that the structure maps (addition,
negation and picking out 0) are continuous in the total space of F.
(ii). For every open U of X, FU is an Abelian group in such way that all the restriction
maps are homomorphisms.
(iii). F is an Abelian group object in the category Sh(X). (See Section 1.7.)
2. The Kleisli and Eilenberg-Moore Categories
After Huber proved Theorem 1 of Section 3.1, P. J. Hilton conjectured that every triple
arises from an adjoint pair. The answer was provided more or less simultaneously, using
two distinct constructions, by Eilenberg and Moore [1965] and by H. Kleisli [1965].
2.1. Theorem. Let T = (T, Œ∑, ¬µ) be a triple on C. Then there is a category B and an
adjoint pair F: C
/ B, U: B
/ C, such that T = UF, Œ∑: id
/ UF = T is the unit
and ¬µ = UœµF where œµ is the counit of the adjunction.
Proof. Construction 1 (Kleisli). The insight which makes this construction work is that
if a category B‚Ä≤ and an adjoint pair F: C
/ B‚Ä≤, U: B‚Ä≤
/ C exist with T = UF, then
the full subcategory B of B‚Ä≤ of objects of the form FA for A an object of C must, by
deÔ¨Ånition, have the property that
HomB(FA, FB) ‚àº= HomC(A, UFB) = HomC(A, TB)
This is the clue that enables us to deÔ¨Åne B in terms of the given data C and T.
The category B will have the same objects as C.
For arrows, set HomB(A, B) =
HomC(A, TB). If f: A
/ TB ‚ààHomB(A, B) and g: B
/ TC ‚ààHomB(B, C), then we
let g ‚ó¶f ‚ààHomB(A, C) be the composite
A
f
/ TB
Tg
/ T 2C
¬µC
/ TC
The identity arrow on an object A is Œ∑A. It is an elementary exercise, using the associative
and unitary identities (and naturality) to see that these deÔ¨Ånitions make B a category.

TOPOSES, TRIPLES AND THEORIES
89
The functor U: B
/ C is deÔ¨Åned by UA = TA; if f: A
/ B ‚ààHomB(A, B), then
Uf is deÔ¨Åned to be
TA
Tf
/ T 2B
¬µB
/ TB
F is deÔ¨Åned by FA = A; if f: A
/ B ‚ààHomC(A, B), Ff is the composite
A
Œ∑A
/ TA
Tf
/ TB
which is the same as
A
f
/ B
Œ∑B
/ TB
The required equivalence HomC(A, UB) ‚àº= HomB(FA, B) is the same as HomC(A, TB) ‚àº=
HomB(A, B), which is true by deÔ¨Ånition. The rest is left as an exercise.
Observe that Kleisli‚Äôs category is in some sense as small as it could be because it makes
F surjective on objects. This observation can be made precise (Proposition 2 below and
Exercise (KEM) on page 92).
The Kleisli category is denoted K (T).
Construction 2 (Eilenberg-Moore). The category constructed by Eilenberg and Moore
is in eÔ¨Äect all the possible quotients of objects in Kleisli‚Äôs category. Of course, we have to
say this using only the given ingredients, so the deÔ¨Ånition is in terms of a map a: TA
/A
which is to be thought of as underlying the quotient map:
A T-algebra is a pair (A, a) where A is an object of C and a: TA
/ A an arrow of
C subject to the condition that these two diagrams commute:
A
TA
Œ∑A
/
A
A
idA
?
?
?
?
?
?
?
?
?
?
?
?
?
TA
A
a

TA
A
a
/
T 2A
TA
¬µA

T 2A
TA
Ta
/ TA
A
a

(1)
The arrow a is the structure map of the algebra.
A map f: (A, a)
/ (B, b) of B is a map f: A
/ B of C for which
A
B
f
/
TA
A
a

TA
TB
Tf
/ TB
B
b

(2)
commutes.
The category of T-algebras and T-algebra maps is denoted C T. DeÔ¨Åne U T: C T
/ C
by U T(A, a) = A and U Tf = f, and F T: C
/C T by F TA = (TA, ¬µA), F Tf = Tf. Most

90
MICHAEL BARR AND CHARLES WELLS
of the proof that this produces a pair of adjoint functors for which the conditions of the
theorem hold is straightforward. The required adjunction
Œ±: HomCT((UFC, ¬µC), (C‚Ä≤, c‚Ä≤))
/ HomC(C, C‚Ä≤)
takes a morphism h: UFC
/ C‚Ä≤ of algebras to h ‚ó¶Œ∑C and its inverse takes g: C
/ C‚Ä≤
to c‚Ä≤ ‚ó¶UFg .
It is worthwhile to examine the deÔ¨Ånition when T is the group triple. Here, a is a set
map from the underlying set of the free group on A to A. The deÔ¨Ånition xy = a([xy]),
where x and y are elements of A, so that [xy] is an element of TA, gives a multiplication
on A which in fact makes A a group‚Äîthis follows with some diagram-chasing from the
diagrams in (1) (Exercise (GRPT) on page 92). The identity element is a([ ]). Observe
that associativity does not follow from the right hand diagram in (1): associativity is built
into the deÔ¨Ånition of TA as consisting of strings of elements. The right diagram in (1)
says that if you take a string of free-group elements, in other words a string of strings,
then you can either multiply each string out using the multiplication of the group A, then
multiply the resulting elements together, or you can Ô¨Årst erase parentheses, making one
long string, and then multiply it out‚Äîeither way gives you the same result. In other words,
substitution commutes with evaluation, which is the essence of algebraic manipulation.
Conversely, in the case of the group triple, every group can be represented as an
algebra for the triple: For a group G, use the quotient map UFG
/ G which takes a
string to its product in G.
As suggested by the discussion in the proof of the theorem, we have a simple description
of the Kleisli category. In this proposition we use the common convention of describing
as an embedding any functor which is faithful and takes non-isomorphic objects to non-
isomorphic objects (a much stronger condition than merely reÔ¨Çecting isomorphisms; the
underlying functor from groups to sets reÔ¨Çects isomorphisms without having that prop-
erty). This convention exempliÔ¨Åes the categorical imperative that the actual identity of
the objects is irrelevant.
2.2. Proposition. K (T) is embedded in C T as the full subcategory generated by the
image of F.
Proof. The embedding is Œ¶: K (T)
/ C T deÔ¨Åned by Œ¶(A) = (TA, ¬µA), and for
f: A
/ TB, Œ¶(f) is the composite
TA
Tf
/ T 2B
¬µB
/ TB
2.3. The Eilenberg-Moore comparison functor. Proposition 2 is only part of
the story. In fact, K (T) is initial and C T is Ô¨Ånal among all ways of factoring T as an
adjoint pair. We will describe how this works with C T and leave the other part to you
(Exercise (KEM) on page 92).

TOPOSES, TRIPLES AND THEORIES
91
Suppose we have F: C
/ B, U: B
/ C, with F left adjoint to U and unit and
counit Œ∑: id
/ UF, œµ: FU
/ id, with T = (T = UF, Œ∑, UœµF). Let U T: C T
/ C,
F T: C
/C T be the adjoint pair given by Construction 2 of the proof of Theorem 1. The
Eilenberg-Moore comparison functor is the functor Œ¶: B
/ C T which takes B to
(UB, UœµB) and f to Uf. It is easy to see that this really is a functor, and in fact the
only functor for which U T ‚ó¶Œ¶ = U and Œ¶ ‚ó¶F = F T. This says CT is the terminal object
in the category of adjoint pairs which induce T (Exercise (KEM) on page 92).
The Eilenberg-Moore functor is in many important cases an isomorphism or equiva-
lence of categories, a topic which is pursued in Sections 3.3 and 3.4.
2.4. Coalgebras for a cotriple. If G = (G, œµ, Œ¥) is a cotriple in a category C, the
construction of the Eilenberg Moore category of algebras of G regarded as a triple in C op
yields, when all arrows are reversed, the category CG of coalgebras of G. Precisely, a
G-coalgebra is a pair (A, Œ±) with Œ±: A
/GA for which the following diagrams commute:
A
GA
o
œµA
A
A
_
idA
?
?
?
?
?
?
?
?
?
?
?
?
?
GA
A
O
a
GA
A
o
a
G2A
GA
O
Œ¥A
G2A
GA
o
Ga
GA
A
O
a
(3)
A morphism f: (A, Œ±)
/ (B, Œ≤) is an arrow f: A
/ B for which Gf ‚ó¶Œ± = Œ≤ ‚ó¶f.
We will prove in Section 3.5 that when a functor has both a left and a right adjoint,
the corresponding categories of algebras and coalgebras are isomorphic. Our major use of
cotriples in this book will be based on the fact that the category of coalgebras for a left
exact cotriple (meaning the functor is left exact) in a topos is itself a topos.
Exercises 3.2.
(FRTR)
‚ô¶. Let T = (T, Œ∑, ¬µ) be a triple, A and B be objects of the underlying category.
a. Show that (TA, ¬µA) is an algebra for T. (Such algebras are called free.)
b. Show that for any f: A
/ B, Tf is an algebra map from (TA, ¬µA) to (TB, ¬µB).
c. Show that ¬µA is an algebra morphism from (TTA, ¬µTA) to (TA, ¬µA).
(STAR). (Manes) Let C be a category. Show that the following data:
(i). A function T: Ob(C)
/ Ob(C);
(ii). for each pair of objects C and D of C a function Hom(C, TD)
/ Hom(TC, TD),
denoted f 7‚Üíf ‚àó;
(iii). for each object C of C a morphism Œ∑C: C
/ TC;
subject to the conditions:
(i). For f: C
/ TD, f = Œ∑TD ‚ó¶f ‚àó;
(ii). for any object C, (Œ∑C)‚àó= idTC;

92
MICHAEL BARR AND CHARLES WELLS
(iii). for f: C
/ TD and g: D
/ TE, (g‚àó‚ó¶f)‚àó= g‚àó‚ó¶f ‚àó;
are equivalent to a triple on C. (Hint: An elegant way to attack this exercise is to
use the data to deÔ¨Åne the Kleisli category for the triple, using the pointwise adjunction
construction (Theorem 1 of Section 1.9) to get the adjoint pair whose corresponding triple
is the one sought.)
(GRPT). Show that if T is the group triple, the Eilenberg-Moore comparison functor
Œ¶: Grp
/ Set T is an isomorphism of categories.
(SUBALG). Let T be a triple in a category C. Let (C, c) be an algebra for T and let
B be a subobject of C. Show that a map b: TB
/ B is an algebra structure on B for
which inclusion is an algebra map if and only if
B
C
/
TB
B
b

TB
TC
/ TC
C
c

commutes, and that there cannot be more than one such map b. (This says in eÔ¨Äect that
B ‚Äúis‚Äù a subalgebra if and only if it is ‚Äúclosed under the operations‚Äù‚Äîin other words,
c(TB) ‚äÜB. In Section 6.4, we give a condition for a subobject of a coalgebra of a left
exact cotriple in a topos to be a subcoalgebra.)
(KEM). For a given triple T in a category C, let E be the category in which an object
is a category B together with an adjoint pair of functors F: C
/ B, U: B
/ C which
induces the triple T via Theorem 1 of Section 3.1, and in which an arrow from (B, F, U)
to (B‚Ä≤, F ‚Ä≤, U ‚Ä≤) is a functor G: B
/ B‚Ä≤ for which U ‚ó¶G = U ‚Ä≤ and G ‚ó¶F ‚Ä≤ = F. Show that
K (T) is the initial object in E and C T is the terminal object.
(MONCO2). Show that the coalgebras for the cotriple deÔ¨Åned in Exercise (MONCO) on
page 87 of Section 3.1 form a category isomorphic to the category of sets acted on on the
right by M.
(KCTW). Show that for a triple T in a category C each of the following constructions
give a category K isomorphic to the Kleisli category.
a. K is the full subcategory of C T whose objects are the image of F T, i.e. all objects of
the form (F TC, ¬µC), C an object of C.
b. K op is the full subcategory of Func(C T, Set) which consists of all objects of the form
HomC(C, U T(‚àí)), C an object of C.
Linton used the second deÔ¨Ånition, in which F T does not appear, to study algebraic
theories in the absence of a left adjoint to the underlying functor.
(ECMP). (Linton) Let T = (T, Œ∑, ¬µ) be a triple in C. Let K be the Kleisli category of
T and FT: C
/ K be the left adjoint to UT: K
/ C. Let H: C T
/ Func(K op, Set)
denote the functor which takes (C, c) to the restriction of HomCT(‚àí, (C, c)) to K , where

TOPOSES, TRIPLES AND THEORIES
93
K is regarded as a subcategory of C T as in Exercise (KCTW) on page 92(a) above. Prove
that the diagram
C
Func(C op, Set)
Yoneda
/
C T
C
UT

C T
Func(K op, Set)
H
/ Func(K op, Set)
Func(C op, Set)
Func(Fop
T ,Set)

is a pullback.
3. Tripleability
In this section we will be concerned with the question of deciding when a functor
U: B
/ C with a left adjoint has the property that the Eilenberg-Moore category for
the corresponding triple is essentially the same as B.
To make this precise, a functor U which has a left adjoint for which the corresponding
Eilenberg-Moore comparison functor Œ¶ is an equivalence of categories is said to be tri-
pleable. If Œ¶ is full and faithful, we say that U is of descent type (and if it is tripleable,
that it is of eÔ¨Äective descent type). We will often say B is tripleable over C if there is a
well-understood functor U: B
/C. Thus Grp is tripleable over Set, for example (Exercise
(GRPT) on page 92 of Section 3.2).
In this section we state and prove a theorem due to Beck giving conditions on a functor
U: B
/ C which insure that it is tripleable. Variations on this basic theorem will be
discussed in Sections 3.4 and 9.1. Before we can state the main theorem, we need some
background.
3.1. Reflecting isomorphisms. A functor U reÔ¨Çects isomorphisms if whenever Uf
is an isomorphism, so is f. For example, the underlying functor U: Grp
/ Set reÔ¨Çects
isomorphisms‚Äîthat is what you mean when you say that a group homomorphism is an
isomorphism if and only if it is one to one and onto. (Warning: That U reÔ¨Çects isomor-
phisms is not the same as saying that if UX is isomorphic to UY then X is isomorphic to
Y ‚Äîfor example, two groups with the same number of elements need not be isomorphic).
Observe that the underlying functor U: Top
/ Set does not reÔ¨Çect isomorphisms.
3.2. Proposition. Any tripleable functor reÔ¨Çects isomorphisms.
Proof. Because equivalences of categories reÔ¨Çect isomorphisms, it is suÔ¨Écient to show
that, for any triple T in a category C, the underlying functor U: C T
/ C reÔ¨Çects iso-
morphisms. So let f: (A, a)
/ (B, b) have the property that f is an isomorphism in C.

94
MICHAEL BARR AND CHARLES WELLS
Let g = f ‚àí1. All we need to show is that
B
A
g
/
TB
B
b

TB
TA
Tg
/ TA
A
a

(1)
commutes. This calculation shows that:
a ‚ó¶Tg = g ‚ó¶f ‚ó¶a ‚ó¶Tg = g ‚ó¶b ‚ó¶Tf ‚ó¶Tg
= g ‚ó¶b ‚ó¶T(f ‚ó¶g) = g ‚ó¶b ‚ó¶T(id) = g ‚ó¶b‚ó¶
3.3. Contractible coequalizers. A parallel pair in a category is pair of maps with
the same domain and codomain:
A
d 0
/
d 1
/ B
(2)
The parallel pair above is contractible (or split) if there is an arrow t: B
/A with
d 0 ‚ó¶t = id
and
d 1 ‚ó¶t ‚ó¶d 0 = d 1 ‚ó¶t ‚ó¶d 1
A contractible coequalizer consists of objects and arrows
A
B
d 0
/
A
B
d 1
/
A
B
o
t
C
d
/ C
o
s
(3)
for which
(i). d 0 ‚ó¶t = id,
(ii). d 1 ‚ó¶t = s ‚ó¶d,
(iii). d ‚ó¶s = id, and
(iv). d ‚ó¶d 0 = d ‚ó¶d 1.
We will eventually see that any Eilenberg-Moore algebra is a coequalizer of a parallel
pair which becomes contractible upon applying U T.
3.4. Proposition.
(a). A contractible coequalizer is a coequalizer.

TOPOSES, TRIPLES AND THEORIES
95
(b). If (3) is a contractible coequalizer in a category C and F: C
/ D is any functor,
then
FA
FB
Fd 0
/
FA
FB
Fd 1
/
FA
FB
o
Ft
B
FC
Fd
/
B
FC
o
Fs
(4)
is a contractible coequalizer.
(c). If
A
d 0
/
d 1
/ B
d
/ C
(5)
is a coequalizer, then the existence of t making
A
B
/
A
B
/
A
B
o
t
(6)
a contractible pair forces the existence of s making (5) a contractible coequalizer.
Proof. To show (a), let f: B
/ D with f ‚ó¶d 0 = f ‚ó¶d 1. The unique g: C
/ D
required by the deÔ¨Ånition of coequalizer is f ‚ó¶s (‚ÄúTo get the induced map, compose with
the contraction s‚Äù). It is straightforward to see that f = g ‚ó¶d, and g is unique because d is
a split epimorphism. Statement (b) follows from the fact that a contractible coequalizer
is deÔ¨Åned by equations involving composition and identities, which functors preserve.
A coequalizer which remains a coequalizer upon application of any functor is called a
absolute coequalizer; thus (a) and (b) together say that a contractible coequalizer is
an absolute coequalizer.
As for (c), if t exists, then by assumption, d 1 ‚ó¶t coequalizes d 0 and d 1, so there is a
unique s: C
/ B with s ‚ó¶d = d 1 ‚ó¶t. But then
d ‚ó¶s ‚ó¶d = d ‚ó¶d 1 ‚ó¶t = d ‚ó¶d 0 ‚ó¶t = d
and d is epi, so d ‚ó¶s = id.
If U: B
/ C, a U-contractible coequalizer pair is a pair of morphisms as in (2)
above for which there is a contractible coequalizer
UA
UB
Ud 0
/
UA
UB
Ud 1
/
UA
UB
o
t
B
UC
d
/
B
UC
o
s
(7)
in C.
3.5. Proposition. Let U: B
/ C be tripleable and
B‚Ä≤
d 0
/
d 1
/ B
(8)
be a U-contractible coequalizer pair. Then (8) has a coequalizer d: B
/ B‚Ä≤‚Ä≤ in B and
UB‚Ä≤
Ud 0
/
Ud 1
/ UB
Ud
/ UB‚Ä≤‚Ä≤
(9)

96
MICHAEL BARR AND CHARLES WELLS
is a coequalizer in C.
Before beginning the proof, we need some terminology for commutative diagrams. A
diagram like
A‚Ä≤
B‚Ä≤
g
/
A
A‚Ä≤
k

A
B
e
/ B
B‚Ä≤
l

A‚Ä≤
B‚Ä≤
h
/
A
A‚Ä≤
k

A
B
f
/ B
B‚Ä≤
l

is said to commute serially if g ‚ó¶k = l ‚ó¶e and h ‚ó¶k = l ‚ó¶f. (The arrows are matched up
in accordance with the order they occur in the diagram). In more complicated diagrams
the analogous convention will be understood. For example,
A‚Ä≤
B‚Ä≤
g0
/
A
A‚Ä≤
k0

A
B
f0
/ B
B‚Ä≤
l0

A‚Ä≤
B‚Ä≤
g1
/
A
A‚Ä≤
k1

A
B
f1
/ B
B‚Ä≤
l1

will be said to commute serially if gi ‚ó¶kj = lj ‚ó¶fi for all four possible choices of i, j = 0, 1.
Proof. Proof of Proposition 3. (This proof was suggested by J. Beck.) As in Proposi-
tion 1, let B = C T. Thus we are given a pair
(C‚Ä≤, c‚Ä≤)
d 0
/
d 1
/ (C, c)
(10)
and we suppose
C‚Ä≤
C
d 0
/
C‚Ä≤
C
d 1
/
C‚Ä≤
C
o
t
C‚Ä≤‚Ä≤
d
/ C‚Ä≤‚Ä≤
o
s
(11)

TOPOSES, TRIPLES AND THEORIES
97
is a contractible coequalizer in C. Then by Proposition 2(b), all three rows of the following
diagram (in which we have not yet deÔ¨Åned c‚Ä≤‚Ä≤) are contractible coequalizers.
TC‚Ä≤
TC
Td 0
/
TTC‚Ä≤
TC‚Ä≤
¬µC‚Ä≤

TTC‚Ä≤
TTC
TTd 0
/ TTC
TC
¬µC

TC‚Ä≤
TC
Td 1
/
TTC‚Ä≤
TC‚Ä≤
Tc‚Ä≤

TTC‚Ä≤
TTC
TTd 1
/ TTC
TC
Tc

TC‚Ä≤‚Ä≤
Td
/
TTC‚Ä≤‚Ä≤
TTd
/ TTC‚Ä≤‚Ä≤
TC‚Ä≤‚Ä≤
¬µC‚Ä≤‚Ä≤

TC‚Ä≤‚Ä≤
/
TTC‚Ä≤‚Ä≤
/ TTC‚Ä≤‚Ä≤
TC‚Ä≤‚Ä≤
Tc‚Ä≤‚Ä≤

C‚Ä≤
C
d 0
/
TC‚Ä≤
C‚Ä≤
c‚Ä≤

TC‚Ä≤
TC
TC
C
c

C‚Ä≤
C
d 1
/
TC‚Ä≤
C‚Ä≤
TC‚Ä≤
TC
TC
C

C‚Ä≤‚Ä≤
d
/
TC

TC
TC‚Ä≤‚Ä≤
/ TC‚Ä≤‚Ä≤
C‚Ä≤‚Ä≤
c‚Ä≤‚Ä≤

(12)
The lower left square commutes serially because d 0 and d 1 are algebra maps by as-
sumption. This implies that d ‚ó¶c coequalizes T(d 0) and T(d 1). Using the fact that the
middle row is a coequalizer, we deÔ¨Åne c‚Ä≤‚Ä≤ to be the unique arrow making the bottom right
square commute. By the proof of Proposition 2(a) (‚ÄúTo get the induced map, compose
with the contraction‚Äù) we have
c‚Ä≤‚Ä≤ = d ‚ó¶c ‚ó¶Ts
a fact we will need in the proof of Proposition 4.
We Ô¨Årst prove that c‚Ä≤‚Ä≤ is a structure map for an algebra.
The upper right square
commutes serially, the square with the ¬µ‚Äôs because ¬µ is a natural transformation, and the
one with Tc and Tc‚Ä≤‚Ä≤ because it is T of the bottom right square. Using this and the fact
that c is a structure map, we have
c‚Ä≤‚Ä≤ ‚ó¶¬µc‚Ä≤‚Ä≤ ‚ó¶T 2d = c‚Ä≤‚Ä≤ ‚ó¶Tc‚Ä≤‚Ä≤ ‚ó¶T 2d
so, since T 2d is an epimorphism (it is split),
c‚Ä≤‚Ä≤ ‚ó¶Tc‚Ä≤‚Ä≤ = c‚Ä≤‚Ä≤ ‚ó¶¬µc‚Ä≤‚Ä≤
The unitary law for algebras is obtained by replacing the top row of (12) by the bottom
row and the vertical arrows by Œ∑c‚Ä≤, Œ∑c, and Œ∑c‚Ä≤‚Ä≤, and using a similar argument. We know
d is an algebra map because the bottom right square commutes.
Finally, we must show that (C‚Ä≤‚Ä≤, c‚Ä≤‚Ä≤) is a coequalizer, so suppose f: (C, c)
/ (E, e)
coequalizes d 0 and d 1. Then because C‚Ä≤‚Ä≤ is their coequalizer in C, there is a unique arrow
u: C‚Ä≤‚Ä≤
/ E for which f = u ‚ó¶d. We need only to prove that the right square in
C
C‚Ä≤‚Ä≤
d
/
TC
C
c

TC
TC‚Ä≤‚Ä≤
Td
/ TC‚Ä≤‚Ä≤
C‚Ä≤‚Ä≤
c‚Ä≤‚Ä≤

C‚Ä≤‚Ä≤
E
u
/
TC‚Ä≤‚Ä≤
C‚Ä≤‚Ä≤
TC‚Ä≤‚Ä≤
TE
Tu
/ TE
E
e


98
MICHAEL BARR AND CHARLES WELLS
commutes. This follows from the fact that the left square and the outer rectangle commute
and Td is epi.
Note that we have actually proved that U T creates coequalizers of U T-contractible
pairs.
3.6. Algebras are coequalizers. A parallel pair is said to be reÔ¨Çexive if the two
arrows have a common right inverse. A reÔ¨Çexive coequalizer diagram is a coequalizer
of a reÔ¨Çexive parallel pair.
3.7. Proposition. Let T be a triple on C. Then for any (A, a) in C T,
(TTA, ¬µTA)
¬µA
/
Ta
/ (TA, ¬µA)
(13)
is a reÔ¨Çexive U-contractible coequalizer pair whose coequalizer in C is (A, a).
Proof. The associative law for ¬µ implies that ¬µA is an algebra map, and the naturality
of ¬µ implies that Ta is an algebra map. It follows from the identities for triples and
algebras that
TTA
TA
o
Œ∑A
TTA
TA
¬µA
/
TTA
TA
Ta
/
A
a
/ A
o
Œ∑A
(14)
is a contractible coequalizer. Thus by Proposition 3, there is an algebra structure on A
which coequalizes ¬µA and Ta in C T. As observed in the proof of that proposition, the
structure map is
a ‚ó¶¬µA ‚ó¶TŒ∑A = a
as claimed.
The common right inverse for Ta and ¬µA is TŒ∑A:
Ta ‚ó¶TŒ∑A = T(a ‚ó¶Œ∑A) = T(id) = id
by the unitary law for algebras and
¬µA ‚ó¶T(Œ∑A) = U(œµFA ‚ó¶FŒ∑A) = U(id) = id
by Exercise (UCO) on page 56, Section 1.9. The naturality of ¬µ implies that TŒ∑ is an
algebra map.
3.8. Corollary. If, given
B
U
/
o
F
C
(15)
F is left adjoint to U, then for any object B of B,
FUFUB
œµFUB
/
FUœµB
/ FUB
(16)
is a reÔ¨Çexive U-contractible coequalizer pair.
Proof. UœµF is an algebra structure map by Exercise (FRTR) on page 91 of Section 3.2
and the deÔ¨Ånition of CT. Thus by Proposition 4, it is the coequalizer of the diagram
underlying (16). The common right inverse is FŒ∑U.

TOPOSES, TRIPLES AND THEORIES
99
3.9. Beck‚Äôs Theorem. We will now prove a number of lemmas culminating in two
theorems due to Beck. Theorem 9 characterizes functors U for which the comparison
functor is full and faithful, and Theorem 10 characterizes tripleable functors.
In the lemmas, we speak of an adjoint pair (15) with associated triple T in C and
cotriple G in B.
3.10. Lemma. The diagram
C
Œ∑C
/ TC
Œ∑TC
/
Œ∑TC
/ T 2C
(17)
is an equalizer for every object C of C if and only if Œ∑C is a regular mono for all objects
C of C.
Proof. If (17) is an equalizer then obviously Œ∑C is regular mono. Suppose Œ∑C is regular
mono; then we have some equalizer diagram of the form
C
Œ∑C
/ TC
d 0
/
d 1
/ C‚Ä≤
(18)
It is suÔ¨Écient to show that for any element w of TC, d 0 and d 1 agree on w if and
only if Œ∑TC and TŒ∑C agree on w.
(i) If d 0 ‚ó¶w = d 1 ‚ó¶w, then w = Œ∑C ‚ó¶g for some g, so
Œ∑TC ‚ó¶w = Œ∑TC ‚ó¶Œ∑C ‚ó¶g = TŒ∑C ‚ó¶Œ∑C ‚ó¶g = TŒ∑C ‚ó¶w
(ii) If Œ∑TC ‚ó¶w = TŒ∑C ‚ó¶w, then TŒ∑TC ‚ó¶Tw = T 2Œ∑C ‚ó¶Tw. But
TC
TŒ∑C
/ T 2C
TŒ∑TC
/
T 2Œ∑C
/ T 3C
(19)
is a contractible equalizer, with contractions ¬µC and ¬µTC. Thus Tw = TŒ∑C ‚ó¶h for some
h, so that Td0 ‚ó¶Tw = Td1 ‚ó¶Tw. Hence in the diagram below, which commutes because
Œ∑ is a natural transformation, the two composites are equal.
TC‚Ä≤‚Ä≤
TTC
Tw
/
C‚Ä≤‚Ä≤
TC‚Ä≤‚Ä≤
Œ∑C‚Ä≤‚Ä≤

C‚Ä≤‚Ä≤
TC
w
/ TC
TTC

TTC
TC‚Ä≤
Td0
/
TC
TTC
Œ∑TC

TC
C‚Ä≤
d0
/ C‚Ä≤
TC‚Ä≤
Œ∑C‚Ä≤

TTC
TC‚Ä≤
Td1
/
TC
TTC

TC
C‚Ä≤
d1
/ C‚Ä≤
TC‚Ä≤

(20)
It follows from the fact that Œ∑C‚Ä≤ is (regular) mono that d0 ‚ó¶w = d1 ‚ó¶w.

100
MICHAEL BARR AND CHARLES WELLS
Dually, we have
3.11. Corollary. œµB is a regular epi for every object B of B if and only if
FUFUB
FUœµB
/
œµFUB
/ FUB
œµB
/ B
(21)
is a coequalizer for every object B of B.
3.12. Lemma. For all objects B and B‚Ä≤ of B,
HomB(FUB, B‚Ä≤) ‚àº= HomCT(Œ¶FUB, Œ¶B‚Ä≤)
where Œ¶: B
/ C T is the comparison functor. (In other words, ‚ÄúŒ¶ is full and faithful on
arrows out of free objects‚Äù).
Proof. We have,
HomB(FUB, B‚Ä≤) ‚àº= HomC(UB, UB‚Ä≤)
‚àº= HomC(UB, U T(UB‚Ä≤, UœµB‚Ä≤))
‚àº= HomCT(F T(UB), (UB‚Ä≤, UœµB‚Ä≤))
‚àº= HomCT((TUB, ¬µUB), (UB‚Ä≤, UœµB‚Ä≤))
‚àº= HomCT(Œ¶FUB, Œ¶B‚Ä≤)‚ó¶
3.13. Theorem. [Beck] Œ¶ is full and faithful if and only if œµB is a regular epi for all
objects B of B.
Proof. UœµB is the structure map of an algebra in C T by Exercise (FRTR) on page 91,
and so by Proposition 4 is a coequalizer of a parallel pair with domain in the image of F T,
hence in the image of Œ¶. Since Œ¶(œµB) = UœµB, it follows from Exercise (FFC) on page 104
that if Œ¶ is full and faithful, then œµB is a regular epi.
Conversely, suppose œµB is a regular epi. If f, g: B
/ B‚Ä≤ in B and Uf = Ug, then
FUf = FUg and this diagram commutes:
B
B‚Ä≤
f
/
FUB
B
œµB

FUB
FUB‚Ä≤
FUf
/ FUB‚Ä≤
B‚Ä≤
œµB‚Ä≤

B
B‚Ä≤
g
/
FUB
B

FUB
FUB‚Ä≤
FUg
/ FUB‚Ä≤
B‚Ä≤
Thus since œµB is epi, f = g. Hence Œ¶ is faithful.
Under the hypothesis, (21) is a U-contractible coequalizer diagram by Corollaries 5
and 7. Since U T ‚ó¶Œ¶ = U, applying Œ¶ to (21) gives a U T-contractible coequalizer diagram.
It follows that the horizontal edges of the diagram below are equalizers; the top row

TOPOSES, TRIPLES AND THEORIES
101
homsets are computed in B and the bottom row in C T. The vertical arrows are those
induced by Œ¶; by Lemma 8, the middle and right one are isomorphisms. Thus the left
one is an isomorphism, too, proving the Proposition.
Hom(Œ¶B, Œ¶B‚Ä≤)
Hom(Œ¶FUB, Œ¶B‚Ä≤)
/
Hom(B, B‚Ä≤)
Hom(Œ¶B, Œ¶B‚Ä≤)

Hom(B, B‚Ä≤)
Hom(FUB, B‚Ä≤)
/ Hom(FUB, B‚Ä≤)
Hom(Œ¶FUB, Œ¶B‚Ä≤)

Hom(Œ¶FUB, Œ¶B‚Ä≤)
Hom(Œ¶FUFUB, Œ¶B‚Ä≤)
/
Hom(FUB, B‚Ä≤)
Hom(Œ¶FUB, Œ¶B‚Ä≤)

Hom(FUB, B‚Ä≤)
Hom(FUFUB, B‚Ä≤)
/ Hom(FUFUB, B‚Ä≤)
Hom(Œ¶FUFUB, Œ¶B‚Ä≤)

Hom(Œ¶FUB, Œ¶B‚Ä≤)
Hom(Œ¶FUFUB, Œ¶B‚Ä≤)
/
Hom(FUB, B‚Ä≤)
Hom(Œ¶FUB, Œ¶B‚Ä≤)

Hom(FUB, B‚Ä≤)
Hom(FUFUB, B‚Ä≤)
/ Hom(FUFUB, B‚Ä≤)
Hom(Œ¶FUFUB, Œ¶B‚Ä≤)

3.14. Theorem. [Beck‚Äôs Precise Tripleability Theorem] U: B
/ C is tripleable if and
only if
(i). U has a left adjoint.
(ii). U reÔ¨Çects isomorphisms.
(iii). B has coequalizers of reÔ¨Çexive U-contractible coequalizer pairs and U preserves them.
Proof. If U is tripleable it has a left adjoint F by deÔ¨Ånition and it satisÔ¨Åes (ii) and (iii)
by Propositions 1 and 3. (Note that in fact B has and U preserves the coequalizers of all
U-contractible parallel pairs, not merely reÔ¨Çexive ones‚Äîthat is the way Beck originally
stated the theorem).
Now, to do the other direction, we know (16) is a reÔ¨Çexive U-contractible coequalizer
pair, so by (iii) it has a coequalizer B‚Ä≤. Since œµB coequalizes (16) (because œµ is a natural
transformation), we know that there is an arrow f making
FUFUB
FUB
œµFUB
/
FUFUB
FUB
FUœµB
/
B‚Ä≤
/
B
œµB
?
?
?
?
?
?
?
?
?
?
?
?
?
B‚Ä≤
B
f

commute. However, as observed in the proof of Corollary 5, UœµB is coequalizer of U of
this diagram, so Uf is an isomorphism. Hence f is an isomorphism, so œµB is a regular
epi, so that Œ¶ is full and faithful by Theorem 9.
The argument just given that f is an isomorphism can easily be used to show that
in fact any functor U satisfying (ii) and (iii) must reÔ¨Çect coequalizers of reÔ¨Çexive U-
contractible coequalizer pairs (Exercise (URFL) on page 103).
For any object (C, c) of C T, we must Ô¨Ånd an object B of B for which Œ¶(B) ‚àº= (C, c).
Now Œ¶ of the following diagram is (13),
FUFC
Fc
/
œµFC
/ FC

102
MICHAEL BARR AND CHARLES WELLS
so it is a reÔ¨Çexive U-contractible coequalizer. Thus by assumption there is a coequalizer
B for which the sequence underlying
FUFC
Fc
//
œµFC
// FC
/ B
is
UFUFC
UFc
/
UœµFC
/ UFC
/ UB
By Proposition 4, this last diagram is U T of a coequalizer diagram in C T with co-
equalizer (C, c).
Since U T reÔ¨Çects such coequalizers and U T ‚ó¶Œ¶ = U, it follows that
Œ¶(B) ‚àº= (C, c), as required.
Theorem 10 is the precise tripleability theorem as distinct from certain theorems to
be discussed in Section 3.5 which give conditions for tripleability which are suÔ¨Écient but
not necessary. Theorem 10 is commonly known by its acronym ‚ÄúPTT‚Äù.
Other conditions suÔ¨Écient for tripleability are discussed in Section 9.1.
We extract from the last paragraph of the proof of the PTT the following proposition,
which we need later. This proposition can be used to provide an alternate proof of the
equivalence of C T and B in the PTT (see Exercise (EQUIII) on page 55 of Section 1.9).
3.15. Proposition. If U: B
/ C has a left adjoint and B has coequalizers of reÔ¨Çexive
U-contractible coequalizer pairs, then the comparison functor Œ¶ has a left adjoint.
Proof. The object B constructed in the last paragraph of the proof of Theorem 10 re-
quires only the present hypotheses to exist. DeÔ¨Åne Œ®(C, c) to be B. If g: (C, c)
/(D, d),
then the diagram
FUFD
FD
Fd
/
FUFC
FUFD
FUFg

FUFC
FC
Fc
/ FC
FD
Fg

FUFD
FD
œµFD
/
FUFC
FUFD

FUFC
FC
œµFC
/ FC
FD

FD
Œ®D
/
FC
FD

FC
Œ®C
/ Œ®C
Œ®D
Œ®(g)

commutes serially, the top square because c and d are structure maps and the bottom one
because œµ is a natural transformation. Thus it induces a map Œ®(g). It is straightforward
to check that this makes Œ® a functor which is left adjoint to the comparison functor Œ¶.
3.16. Compact Hausdorff spaces. We illustrate the use of the PTT by proving that
compact HausdorÔ¨Äspaces are tripleable over Set. This fact was actually proved by F.
E. J. Linton before Beck proved the theorem, using an argument which, after suitable
generalization, became Duskin‚Äôs Theorem of Section 9.1.
The underlying set functor U from the category CptHaus of compact HausdorÔ¨Äspaces
and continuous maps to Set has a left adjoint Œ≤, where Œ≤X is the Stone-ÀòCech compactiÔ¨Å-
cation of the set X considered as a discrete space.
3.17. Proposition. U is tripleable.

TOPOSES, TRIPLES AND THEORIES
103
Proof. The statement that U reÔ¨Çects isomorphisms is the same as the statement that a
bijective continuous map between compact HausdorÔ¨Äspaces is a homeomorphism, which
is true. A pair d 0, d l: C‚Ä≤
/ C of continuous maps between compact HausdorÔ¨Äspaces
has a coequalizer in Top which is necessarily preserved by the underlying set functor since
that functor has a right adjoint (the functor which puts the indiscrete topology on a set
X).
The quotient is compact and will be HausdorÔ¨Äif and only if the kernel pair is closed.
Thus we will be Ô¨Ånished if we show that the kernel pair of this coequalizer is closed. That
kernel pair is the equivalence relation generated by R (the relation which is the image of
C‚Ä≤ in C √óC). By Exercise (SPO) on page 103(c) below, the kernel pair is R ‚ó¶Rop. Now R
is closed in C √ó C (it is the image of a map of a compact space into a HausdorÔ¨Äspace),
and so is compact HausdorÔ¨Ä. Hence the Ô¨Åber product R √óC Rop is compact HausdorÔ¨Ä, so
is closed in C √ó C √ó C. R ‚ó¶Rop is the image of that space in the HausdorÔ¨Äspace C √ó C
and so is closed, as required.
The functor part of this triple takes a set to the set of ultraÔ¨Ålters on it. The functor
which takes a set to the set of Ô¨Ålters on it is also part of a triple, the algebras for which
are continuous lattices (Day [1975], Wyler [1981]). Continuous lattices are also algebras
for a triple in the category of topological spaces and elsewhere. Another example of this
last phenomenon of being the category of algebras for triples in diÔ¨Äerent categories is the
category of monoids, which is tripleable over Set and also (in three diÔ¨Äerent ways) over
Cat (Wells [1980]).
Exercises 3.3.
(URFL). Show that a functor U: B
/ C which reÔ¨Çects isomorphisms has the property
that if a diagram D in B has a colimit and X is a cocone from D in B for which UX
is a colimit of UD, then X is a colimit of D. Do the same for limits. (These facts are
summarized by the slogan: ‚ÄúA functor that reÔ¨Çects isomorphisms reÔ¨Çects all limits and
colimits it preserves.‚Äù This slogan exaggerates the matter slightly: The limits and colimits
in question have to be assumed to exist.)
(SPO). (Suggested in part by Barry Jay.) A parallel pair d 0, d l: X‚Ä≤
/ X in Set deter-
mines a relation R on X , namely the image of (d 0, d l): X‚Ä≤
/ X √ó X. Conversely, a
relation R on a set S deÔ¨Ånes a parallel pair from R to S (the two projection maps).
(a). Show that a relation R in Set determines a reÔ¨Çexive parallel pair if and only if it
contains the diagonal.
(b). Show that a relation R in Set determines a contractible pair if and only if each
equivalence class [x] in the equivalence a relation E generated by R contains an element
x‚àówith the property that xEx‚Ä≤ if and only if xRx‚àóand x‚Ä≤Rx‚àó.
(c). Show that the parallel pair determined by an ordering on a set is contractible if and
only if every connected component of the coequalizer ordered set has a maximum element.
(d). Show that an equivalence relation in Set is always contractible.

104
MICHAEL BARR AND CHARLES WELLS
(e). Show that if R is the relation determined by any contractible parallel pair in Set ,
then E = R ‚ó¶Rop is the equivalence relation generated by R.
(CRCO). Show that the algebra map c‚Ä≤‚Ä≤ constructed in the proof of Proposition 3 is the
only structure map TC‚Ä≤‚Ä≤
/ C‚Ä≤‚Ä≤ which makes d an algebra map.
(NTN). Prove that Diagram (19) is a contractible coequalizer.
(UPHI). Show that the Eilenberg-Moore comparison functor is the only functor Œ¶: B
/C T
for which U T ‚ó¶Œ¶ = U and Œ¶ ‚ó¶F = FT. (Hint: Show that for B ‚ààObB, Œ¶(B) must be
(UB, b) for some arrow b: UFUB
/ UB), and then consider this diagram:
UFUB
UB
b
/
UFUFUB
UFUB
UœµFUB

UFUFUB
UFUB
UFUB
UB
b

UFUFUB
UFUB
UFb
/
UFUB
UFUFUB
Œ∑UFUB

UFUB
UB
UœµB
/ UB
UFUB
Œ∑UB

(PPTT). Let U be a functor with left adjoint F. Then the comparison functor for the
induced triple is an isomorphism of categories (not merely an equivalence) if and only if
U reÔ¨Çects isomorphisms and creates coequalizers for reÔ¨Çexive U-contractible coequalizer
pairs. (Compare Exercise (CRRF) on page 40 of Section 1.7.)
(REFL2). A subcategory CO of a category C is reÔ¨Çective if the inclusion functor has a left
adjoint (See Exercise (REFL) on page 56 of Section 1.9). Show that the inclusion functor
of a reÔ¨Çective subcategory is tripleable.
(EQRF). Show that an equivalence of categories reÔ¨Çects isomorphisms.
(FFC). Show that if H is a full and faithful functor and Hf is the coequalizer of a parallel
pair with domain in the image of H, then f is a coequalizer.
4. Properties of Tripleable Functors
In this section we describe various properties a tripleable functor must have. Some of these
are useful in the development of topos theory, and as necessary conditions for tripleability
they are also useful in showing that certain functors are not tripleable, as we will illustrate.
4.1. Completeness of categories of algebras. If T = (T, Œ∑, ¬µ) is a triple in a
category C, then the category C T of algebras is ‚Äúas complete as C is‚Äù, in the following
sense:

TOPOSES, TRIPLES AND THEORIES
105
4.2. Theorem. Let T be a triple in C. Then U T: C T
/ C creates limits. Hence any
tripleable functor reÔ¨Çects limits.
Proof. In the following, we write U for U T for simplicity. Let D: I
/C T be a diagram,
and let C be the limit of U ‚ó¶D in C . We must Ô¨Ånd an algebra structure map c: TC
/C
making (C, c) the limit of D, and that structure must be unique. Let n be an object of
I. Then Dn is a structure (UD(n), Œ±n). Let Œ≤n: C
/ U(D(n)) be the element of the
limit cone corresponding to n. Then the elements (Œ±n) ‚ó¶(TŒ≤n) form a cone from TC to
UD and so induce an arrow c: TC
/ C which is the required algebra structure. The
fact that the resulting structure is a T-algebra follows from the jointly monic nature of
the elements Œ≤n. For example, associativity follows from the diagram
T 2UDn
TUDn
/
T 2C
T 2UDn

T 2C
TC
/ TC
TUDn

T 2UDn
TUDn
/
T 2C
T 2UDn

T 2C
TC
/ TC
TUDn

TUDn
UDn
Œ±n /
TC
TUDn

TC
C
c
/ C
UDn
Œ≤n

To see that (C, c) is the limit, suppose we have a cone with elements
Œ≥n: (C‚Ä≤, c‚Ä≤)
/ Dn = (UDn, Œ±n)
Applying U, this gives a cone from C‚Ä≤ to UDn, which induces an arrow C
/ C by
the fact that C is a limit. The left square in the following diagram must then commute
because the Œ≤n are a jointly monic family. That means that the map C‚Ä≤
/ C is an
algebra map as required.
C‚Ä≤
C
/
TC‚Ä≤
C‚Ä≤
c‚Ä≤

TC‚Ä≤
TC
/ TC
C
c

C
UDn
Œ≤n
/
TC
C
TC
TUDn
/ TUDn
UDn
Œ±n

(1)
4.3. Corollary. If U: B
/ C is tripleable and C is complete, then so is B.
Note that U in the preceding corollary need not create limits, since B might be equiva-
lent to but not isomorphic to C T.
In Section 9.3 we will describe suÔ¨Écient conditions for proving B cocomplete.
4.4. Banach spaces. The fact that a subobject is a subalgebra if and only if it is
closed under the operations (Exercise (SUBALG) on page 92 of 3.2) is a useful necessary
condition for tripleability. We apply this criterion to Banach spaces.
Let Ban denote the category whose objects are real Banach spaces and whose mor-
phisms are linear maps which to not increase the norm. Let U: Ban
/Set be the functor
that takes a space B to its unit ball {b ‚ààB | |B| ‚â§1} and maps to their restriction.

106
MICHAEL BARR AND CHARLES WELLS
We will show that U reÔ¨Çects isomorphisms and has a left adjoint, but is nevertheless not
tripleable.
U reÔ¨Çects isos: Suppose f: B
/ C is such that Uf is an isomorphism. The proof
repeatedly uses the fact that for any b ‚ààB, b/ |b| is in UB. Thus f is injective (if f(b) = 0
then Uf must take b/ |b| to 0) and surjective (if c ‚ààC then c/ |c| is the image of some
b ‚ààUB, so c is the image of b |c|). It is also necessary to show that f ‚àí1 preserves the norm,
which will follow if we show that f preserves the norm. Let b ‚ààB and n = |f(b/ |b|)|.
Then
f(b/(n |b|) = (1/n)f(b)/ |b|)
must be in UC because its norm is 1. Since f is injective and Uf is surjective onto UC,
b/(n |b|) is in UB, whence n ‚â•1. Since f does not increase norms, n ‚â§1, so n = 1. Thus
f preserves norms, as required.
The left adjoint to U assigns to a set X the set FX of all functions f: X
/ R for
which Œ£(x‚ààX) |f(x)| ‚â§‚àû. The norm |f(x)| = Œ£ |f(x)| makes FX a Banach space. It is
in fact l1(X), where X is regarded as a measure space with atomic measure.
The identities for an algebra for the triple induced by F and U imply by a somewhat
long but straightforward agrument that for a given Banach space C, the induced algebra
structure c = UœµC: UFUC
/ UC is deÔ¨Åned for f ‚ààFUC by
c(f) = Œ£(x‚ààX) x |f(x)|
Then if C is the closed interval [‚àí1, 1], the only f ‚ààFUC for which c(f) = 1 is the
function with value 1 at 1 and 0 elsewhere, and the only f with c(f) = ‚àí1 are the
functions with value ‚àí1 at 1 and 0 elsewhere, and with value 1 at ‚àí1 and 0 elsewhere.
Letting B = (‚àí1, 1), this implies that c(FUB) ‚äÜB, which means by Exercise (SUBALG)
on page 92 of 3.2 that there is an algebra structure on the open interval that agrees with
c. But the open interval (‚àí1, 1) with the usual addition and scalar multiplication is not
the closed ball of any Banach space, so U is not tripleable.
Even worse is the three-point algebra [0, 1]/(0, 1), which is the coequalizer of the
inclusion of (0, 1) in [0, 1] and the zero map. It is instructive to work out the algebra
structure on this algebra.
4.5. Tripleability over Set. A useful necessary condition for tripleability over Set
is the following proposition.
4.6. Proposition. If U: B
/ Set is a tripleable functor, then the pullback of a regular
epi in B is a regular epi.
Proof. If c is a regular epi in B, then it is the coequalizer of its kernel pair (Corollary 2
and Exercise (EQC) on page 46 of Section 1.8). This kernel pair induces an equivalence
relation in Set which, like any such, is split. Hence by Proposition 2(c) of Section 3.3, c
is a U-contractible coequalizer. Hence Uc is a regular epi in Set. Let b be the pullback of
c along an arrow f. Then Ub is a regular epi in Set since U preserves pullbacks and the
pullback of a regular epi is a regular epi in Set. Ub is then the class map of an equivalence
relation and so b is a U-contractible coequalizer in B. Since U is tripleable, the PTT
implies that b is regular.

TOPOSES, TRIPLES AND THEORIES
107
4.7. Corollary. The category Cat of small categories and functors is not tripleable
over Set.
(Note that this means there is no functor from Cat to Set which is tripleable‚Äîin
particular, neither of the functors which take a category to its set of objects or its set of
arrows.)
Proof. Let 1 denote the category with one object and one arrow, and 2 the category
with two objects and exactly one non-identity morphism f, going from one object to the
other. There are two functors from 1 to 2, and to form their coequalizer is to identify the
domain and codomain of f. In this coequalizer, we must have the arrows f 2, f 3, and so
on, and there is no reason for any equalities among them, so the coequalizer is the monoid
(N, +) regarded as a category with one object. Thus the arrow 2
/ N is a regular epi.
See Exercise (SURJ) on page 108.
Now let M
/
/ N denote the submonoid of even integers. Let 2 (as opposed to 2)
denote 1 + 1, that is the category with two objects and no nonidentity arrows. It is easy
to see that
2
N
/
2
2


2
M
/ M
N


(2)
is a pullback and that the top arrow is not a regular epi.
(It is a notable phenomenon that a functor may merge objects and therefore make
arrows compose with each other that never dreamed of composing before the functor
was applied. This makes colimits in Cat hard to understand and is probably the main
reason why the oft-expressed notion that a category is a ‚Äúmonoid with many objects‚Äù
has only limited fruitfulness‚Äîin contrast to the very suggestive idea that a category is a
generalized poset.)
On the other hand, Cat is tripleable over the category Grph of graphs. The left adjoint
L to the underlying functor U: Cat
/ Grph is deÔ¨Åned by making LG (for a graph G)
the category whose nonidentity arrows are all composable paths of arrows of G. (Exercise
(GRADJ) on page 55 of Section 1.9.) Composition is concatenation of paths. Identity
arrows are empty paths.
That U reÔ¨Çects isomorphisms is the familiar fact that the inverse of a bijective functor
is a functor.
Finally, suppose
A
// B
(3)
is a pair of functors for which
UA
// UB
d
/ G
(4)
is a contractible coequalizer. In particular, it is an absolute coequalizer, so applying UL
gives a coequalizer
ULUA
// ULUB
ULd
/ ULG
(5)

108
MICHAEL BARR AND CHARLES WELLS
If b: LUB
/ B is the map corresponding to the given category structure on B (taking
a composable path to its composite), then by the coequalizer property there is a map g
making the following diagram commute.
UB
G
d
/
ULUB
UB
Ub

ULUB
ULG
ULd
/ ULG
G
g

(6)
and it is easy to see from the universal property of coequalizers that both horizontal
arrows are surjective. A straightforward check using that surjectivity then shows that
deÔ¨Åning composition of arrows a and b of ULG by a ‚ó¶b = g(a, b) and identity arrows as
images of identity arrows in UB makes G a category. Then d is a functor which is the
required coequalizer.
Grph is also tripleable over sets; this follows from Exercise (GRMN) on page 108 below
and Exercise (MAT) on page 110 in Section 3.5. Thus the composite of two tripleable
functors need not be tripleable. For another example, see Exercise (TABT) on page 108
below. In the next section we will state theorems giving circumstances under which the
composite of tripleable functors is tripleable.
Exercises 3.4.
(GRMN). Show that Grph is isomorphic to the category of set-valued actions of the
monoid M with multiplication table
i
s
t
i
i
s
t
s
s
s
t
t
t
s
t
(Hint: If M acts on X, X is the set of arrows of a graph and sx and tx are its source and
target.)
(TABT). a. Show that the inclusion of the category of torsion-free Abelian groups into
the category of Abelian groups is tripleable. (Hint: Try Exercise (REFL2) on page 104
of Section 3.3.)
b. Show that the category of Abelian groups is tripleable over Set.
c. Show that the underlying set functor from the category of torsion-free Abelian groups
to Set has a left adjoint (hint: restrict the free-Abelian-group functor).
d. Show that the functor in (c) reÔ¨Çects isomorphisms.
e. Show that the functor in (c) is not tripleable. (Hint: The two maps (m, n) 7‚Üím+2n
and (m, n) 7‚Üím from Z ‚äïZ
/ Z determine a U-split equivalence relation but are not
the kernel pair of anything).

TOPOSES, TRIPLES AND THEORIES
109
(SURJ). Using the notation of Corollary 4, we have the commutative diagram
2
N
F
/
2
Z/2Z
H
?
?
?
?
?
?
?
?
?
?
?
?
?
N
Z/2Z
G

We have already seen that F is a regular epi. Show that G is a regular epi and H is not,
so that the composite of regular epis need not be one. This destroys a very reasonable
sounding conjecture.
5. SuÔ¨Écient Conditions for Tripleability
We deÔ¨Åne two useful suÔ¨Écient doncitions on a functor which make it tripleable, which in
addition allow us to give circumstances under which the composite of tripleable functors
is tripleable.
Such a composite can fail to be tripleable if the Ô¨Årst functor applied fails to lift con-
tractible coequalizers to contractible coequalizers. However, the composite might still be
tripleable if the second functor lifts all coequalizers. This motivates the following two
deÔ¨Ånitions.
A functor U: B
/ C satisÔ¨Åes the hypotheses of the ‚ÄúVTT‚Äù (Vulgar Tripleability
Theorem) if it has a left adjoint, reÔ¨Çects isomorphisms, and if any reÔ¨Çexive U-contractible
coequalizer pair is already a contractible coequalizer in B. Since contractible coequlizers
are preserved by any functor, it follows that if U satisÔ¨Åes the VTT it must be tripleable.
U satisÔ¨Åes the hypotheses of the ‚ÄúCTT‚Äù (Crude Tripleability Theorem) if U has a
left adjoint and reÔ¨Çects isomorphisms, B has coequalizers of those reÔ¨Çexive pairs (f, g)
for which (Uf, Ug) is a coequalizer and U preserves those coequalizers. Such a functor is
clearly tripleable.
5.1. Proposition. Suppose U1: A
/ B and U2: B
/ C.
(a). If U1 and U2 both satisfy CTT (respectively VTT) then so does U2 ‚ó¶U1.
(b). If U1 satisÔ¨Åes CTT, U2 satisÔ¨Åes PTT and U3: C
/D satisÔ¨Åes VTT, then U3 ‚ó¶U2 ‚ó¶U1
is tripleable.
Proof. Easy.
The following proposition is a diÔ¨Äerent sort, imposing hypotheses on the categories
involved which imply the existence of an adjoint. A pointed category is a category with
an object 0 which is both initial and terminal. This implies that for any two objects A
and B there is a (necessarily unique) arrow from A to B that factors through 0. The
category of groups, for example, is pointed.

110
MICHAEL BARR AND CHARLES WELLS
5.2. Proposition. Let A be a complete cocomplete pointed category, let U: B
/ A be
tripleable, and let C be a small category. DeÔ¨Åne V : Func(C, B)
/ A by taking a functor
Œ® to the product of all objects UŒ®(C) of A over all objects C of C. Then V is tripleable.
Outline of proof. We will refer repeatedly to the following diagram, in which S is the
set of objects of C and i is the inclusion. In the direction from Func(C, B) to A, both
routes represent a factorization of V , and the square commutes.
Func(S, B)
Func(S, A)
Func(S,U)
/
Func(C, B)
Func(S, B)
Func(i,B)

Func(C, B)
Func(C, A)
Func(C,U)
/ Func(C, A)
Func(S, A)
Func(i,A)

Func(S, B)
Func(S, A)
/
Func(C, B)
Func(S, B)

Func(C, B)
Func(C, A)
o
Func(C,F)
Func(C, A)
Func(S, A)
O
Kan
Func(S, A)
A
Q
(VTT)
/
Func(S, A)
A
o
diagonal
F is the left adjoint of U, so Func(C, F) os the left adjoint of Func(C, U). The left adjoint
of Func(i, A) exists by Kan extensions because A is cocomplete (see Section 1.9). The
functor Q takes a functor F: S
/ A to the product of all its values; it is easy to see
that the diagonal map (takes an object of A to the constant functor with that object as
value) is the left adjoint. Thus by composition, V has a left adjoint.
The left vertical arrow preserves colimits because colimits (like limits) are computed
pointwise. Thus it satisÔ¨Åes the coequalizer condition of CTT. Note that it might not
have a left adjoint, although it will have one (use Kan extensions) if B is also cocomplete.
Func(S, U) satisÔ¨Åes the coequalizer condition of PTT by a similar argument. The point-
edness of A implies that
Q satisÔ¨Åes VTT. This works as follows: If T: S
/ A and C
is an object of C (element of S), then there is a canonical embedding TC
/ Q T of C
(which is the product of all the objects TC‚Ä≤) induced by the identity map on TC and the
point maps from TC to all the objects TC‚Ä≤. This makes the composite
TC
/ Q T
proj
/ TC
the identity. This enables one to transfer the maps involved in a U-split coequalizer in
Aup to Func(S, A), verifying VTT. Thus V factors into a composite of functors satisfying
the coequalizer conditions of CTT, PTT and VTT in that order, so it satisÔ¨Åes the PTT.
The observation using pointedness above, applied to V instead of to
Q, yields the proof
that V reÔ¨Çects isomorphisms. It follows that V satisÔ¨Åes the CTT, hence is tripleable.
Exercises 3.5.
(MAT). Show that if M is any monoid, the underlying functor to Set from the category
of actions by M on sets and equivariant maps is tripleable.
(MODT). Same as preceding exercise for the category of R-modules for any Ô¨Åxed ring R.
(MONTRP). Show that the functor L of Exercise (MONL) on page 56 of Section 1.9 is
tripleable.

TOPOSES, TRIPLES AND THEORIES
111
(PTD2). a. Show that any map 1
/ 0 in a category is an isomorphism (Cf. Exercise
(PTD) on page 9 of Section 1.1).
b. Show that if a category has 1 and equalizers and if Hom(1, ‚àí) is never empty, then
1 is initial.
6. Morphisms of Triples
In this section, we deÔ¨Åne a notion of morphism of triples on a given category in such a
way that functors between Eilenberg-Moore categories that commute with the underlying
functors correspond bijectively with morphisms of triples. In the process of proving this,
we will describe (Proposition 1) a method of constructing morphisms of triples which will
be used in Section 3.7.
Let T = (T, Œ∑, ¬µ) and T‚Ä≤ = (T ‚Ä≤Œ∑‚Ä≤, ¬µ‚Ä≤) be triples on a category C. A morphism of
triples Œ±: T
/T‚Ä≤ is a natural transformation Œ±: T
/T ‚Ä≤ making diagrams (1) and (2)
below commute. In (2), the notation Œ±2 denotes Œ±Œ± in the sense of Exercise (GOD) on
page 16 of Section 1.3. Thus Œ±2 is the morphism T ‚Ä≤Œ± ‚ó¶Œ±T which, because Œ± is a natural
transformation, is the same as Œ±T ‚Ä≤ ‚ó¶TŒ±.
T
T ‚Ä≤
Œ±
/
Id
T
Œ∑
Id
T ‚Ä≤
Œ∑‚Ä≤
?
?
?
?
?
?
?
?
?
?
?
?
?
(1)
T
T ‚Ä≤
Œ±
/
TT
T
¬µ

TT
T ‚Ä≤T ‚Ä≤
Œ±2
/ T ‚Ä≤T ‚Ä≤
T ‚Ä≤
¬µ‚Ä≤

(2)
The following proposition gives one method of constructing morphisms of triples. We are
indebted to Felipe Gago-Couso for Ô¨Ånding the gap in the statement and proof in the Ô¨Årst
edition and for Ô¨Ånding the correct statement.
6.1. Proposition. In the notation of the preceding paragraphs, let œÉ: TT ‚Ä≤
/ T ‚Ä≤ be a
natural transformation for which
T ‚Ä≤
TT ‚Ä≤
Œ∑T ‚Ä≤
/
T ‚Ä≤
T ‚Ä≤
id
?
?
?
?
?
?
?
?
?
?
?
?
?
TT ‚Ä≤
T ‚Ä≤
œÉ

(3)

112
MICHAEL BARR AND CHARLES WELLS
and
TT ‚Ä≤
T ‚Ä≤
œÉ
/
TTT ‚Ä≤
TT ‚Ä≤
TœÉ

TTT ‚Ä≤
TT ‚Ä≤
¬µT ‚Ä≤ / TT ‚Ä≤
T ‚Ä≤
œÉ

T ‚Ä≤T ‚Ä≤
T ‚Ä≤
¬µ‚Ä≤
/
TT ‚Ä≤T ‚Ä≤
T ‚Ä≤T ‚Ä≤
œÉT ‚Ä≤

TT ‚Ä≤T ‚Ä≤
TT ‚Ä≤
T¬µ‚Ä≤ / TT ‚Ä≤
T ‚Ä≤
œÉ

(a)
(b)
(4)
commute. Let Œ± = œÉ ‚ó¶TŒ∑‚Ä≤: T
/ T ‚Ä≤. Then Œ± is a morphism of triples.
Proof. That (1) commutes follows from the commutativity of
T ‚Ä≤
TT ‚Ä≤
/
Id
T ‚Ä≤
Œ∑‚Ä≤

Id
T
Œ∑
/ T
TT ‚Ä≤
TŒ∑‚Ä≤

T ‚Ä≤
TT ‚Ä≤
Œ∑T ‚Ä≤
/
T ‚Ä≤
T ‚Ä≤
id
"D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
TT ‚Ä≤
T ‚Ä≤
œÉ

(5)
In this diagram, the square commutes because Œ∑ is a natural transformation and the
triangle commutes by (3).
The following diagram shows that (2) commutes.
TT
T
¬µ
/
TT
TT ‚Ä≤T
TŒ∑‚Ä≤T

TT
TTT ‚Ä≤
TTŒ∑
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
T
TT ‚Ä≤
TŒ∑
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
TTT ‚Ä≤
TT ‚Ä≤
¬µT ‚Ä≤
/
TTT ‚Ä≤
TT ‚Ä≤
TœÉ
/ TT ‚Ä≤
TT ‚Ä≤
id
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
TTT ‚Ä≤
TT ‚Ä≤TT ‚Ä≤
TŒ∑‚Ä≤TT ‚Ä≤

TT ‚Ä≤
TT ‚Ä≤T ‚Ä≤
TŒ∑‚Ä≤T ‚Ä≤

TT ‚Ä≤T
TT ‚Ä≤TT ‚Ä≤
TT ‚Ä≤TŒ∑‚Ä≤ / TT ‚Ä≤TT ‚Ä≤
TT ‚Ä≤T ‚Ä≤
TT ‚Ä≤œÉ
/ TT ‚Ä≤T ‚Ä≤
TT ‚Ä≤
T¬µ‚Ä≤
/
TT ‚Ä≤T
T ‚Ä≤T
œÉT

TT ‚Ä≤TT ‚Ä≤
T ‚Ä≤TT ‚Ä≤
œÉTT ‚Ä≤

TT ‚Ä≤T ‚Ä≤
T ‚Ä≤T ‚Ä≤
œÉT ‚Ä≤

TT ‚Ä≤
T ‚Ä≤
œÉ

T ‚Ä≤T
T ‚Ä≤TT ‚Ä≤
T ‚Ä≤TŒ∑‚Ä≤
/ T ‚Ä≤TT ‚Ä≤
T ‚Ä≤T ‚Ä≤
T ‚Ä≤œÉT ‚Ä≤
/ T ‚Ä≤T ‚Ä≤
T ‚Ä≤
¬µ‚Ä≤
/
1
2
3
4
5
6
7
(6)

TOPOSES, TRIPLES AND THEORIES
113
In this diagram, square 1 commutes because ¬µ is a natural transformation, squares 2 and
3 because T¬µ‚Ä≤ is and squares 4 and 5 because œÉ is. The commutativity of square 6 is
a triple identity and square 7 is diagram 4(b). Finally, diagram 4(a) above says that
œÉ ‚ó¶¬µT ‚Ä≤ = œÉ ‚ó¶TœÉ which means that although the two arrows between TTT ‚Ä≤ and TT ‚Ä≤ are
not the same, they are when followed by œÉ, which makes the whole diagram commute.
Squares 1 through 5 of diagram (6) are all examples of part (a) of Exercise (GOD)
on page 16, Section 1.3. For example, to see how square 1 Ô¨Åts, take B, C and D of the
exercise to be C, F = id, G = T ‚Ä≤, H = T 2 and K = T, and Œ∫ = Œ∑‚Ä≤, ¬µ = ¬µ. Then square 1
is Œ∑‚Ä≤¬µ.
6.2. Corollary. With T and T‚Ä≤ as in Proposition 1, suppose œÉ: T ‚Ä≤T
/ T ‚Ä≤ is such
that œÉ ‚ó¶œÉT ‚Ä≤ = œÉ ‚ó¶T ‚Ä≤¬µ, œÉ ‚ó¶¬µT ‚Ä≤ = ¬µ‚Ä≤ ‚ó¶TœÉ, and œÉ ‚ó¶T ‚Ä≤Œ∑ = id. Then Œ± = œÉ ‚ó¶Œ∑T: T
/ T ‚Ä≤ is
a morphism of triples.
Proof. This is Proposition 1 stated in Catop (which means: reverse the functors but not
the natural transformations).
6.3. Theorem. There is a bijection between morphisms Œ±: T
/ T‚Ä≤ and functors
V : C T‚Ä≤
/ C T for which
C T‚Ä≤
C T
F
/
C T‚Ä≤
C
UT‚Ä≤
?
?
?
?
?
?
?
?
?
?
?
?
?
C T
C
UT

(7)
commutes. The bijection preserves composition.
Proof. Suppose Œ±: T
/ T‚Ä≤ is a morphism of triples. DeÔ¨Åne U Œ±: C T‚Ä≤
/ C T by
U Œ±(A, a: T ‚Ä≤A
/ A) = (A, a ‚ó¶Œ±A)
and for an algebra map f: A
/ B, U Œ±f = f. U Œ±(A, a) is a T-algebra: The unitary law
follows from (1) and the other law from the commutativity of this diagram:
TA
T ‚Ä≤A
Œ±A
/
TTA
TA
¬µA

TTA
TT ‚Ä≤A
TŒ±A
/ TT ‚Ä≤A
T ‚Ä≤A
T ‚Ä≤T ‚Ä≤A
T ‚Ä≤A
T ‚Ä≤Œ±
/
TT ‚Ä≤A
T ‚Ä≤T ‚Ä≤A
Œ±T ‚Ä≤A

TT ‚Ä≤A
TA
TŒ±
/ TA
T ‚Ä≤A
Œ±A

T ‚Ä≤A
A
a
/
T ‚Ä≤T ‚Ä≤A
T ‚Ä≤A
¬µ‚Ä≤A

T ‚Ä≤T ‚Ä≤A
T ‚Ä≤A
/ T ‚Ä≤A
A
a

TTA
T ‚Ä≤T ‚Ä≤A
Œ±2A
%K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
1
2
3
4
(8)
Here triangle 1 commutes by deÔ¨Ånition of Œ±2, square 2 because Œ± is a natural transfor-
mation, square 3 is diagram (2), and square 4 because Œ± is a structure map (diagram (1),
Section 3.2).

114
MICHAEL BARR AND CHARLES WELLS
Seeing that U Œ± is a functor is left as an exercise, as is the functoriality of the operation
which associates U Œ± to Œ±.
Conversely, suppose that V : C T‚Ä≤
/C T is a functor making (7) commute. If we apply
V to the free algebra (T ‚Ä≤A, ¬µ‚Ä≤A), the result must be a T-algebra (T ‚Ä≤A, œÉA) with the same
underlying object T ‚Ä≤A. The fact that œÉA is a T-algebra structure map means immediately
that œÉ is a natural transformation and it satisÔ¨Åes the hypotheses of Proposition 1. Hence
Œ± = œÉ ‚ó¶TŒ∑‚Ä≤: T
/ T ‚Ä≤ is a morphism of triples, as required.
We will conclude by showing that the association Œ± 7‚ÜíU Œ± is inverse to V 7‚ÜíœÉ ‚ó¶TŒ∑‚Ä≤.
One direction requires showing that for Œ±: T
/ T ‚Ä≤ and any object A, Œ±A = ¬µ‚Ä≤A ‚ó¶Œ±T ‚Ä≤A ‚ó¶
TŒ∑‚Ä≤A. This follows from the commutativity of the following diagram, in which the square
commutes because Œ± is a natural transformation, the triangle commutes by deÔ¨Ånition and
the bottom row is the identity by the deÔ¨Ånition of triple.
T ‚Ä≤A
T ‚Ä≤T ‚Ä≤A
T ‚Ä≤Œ∑‚Ä≤A
/
TA
T ‚Ä≤A
Œ±A

TA
TT ‚Ä≤A
TŒ∑‚Ä≤A
/ TT ‚Ä≤A
T ‚Ä≤T ‚Ä≤A

T ‚Ä≤A
¬µ‚Ä≤A
/
TT ‚Ä≤A
Œ∑T ‚Ä≤A

TT ‚Ä≤A
T ‚Ä≤A
"D
D
D
D
D
D
D
D
D
D
D
D
D
D
(9)
The other direction is more complicated. Suppose we are given V . We must show that
for any T‚Ä≤-algebra (A, a),
V (A, a) = (A, a ‚ó¶œÉA ‚ó¶TŒ∑‚Ä≤A)
(10)
where by deÔ¨Ånition œÉA is the T-algebra structure on T ‚Ä≤A obtained by applying V to the
free algebra (T ‚Ä≤A, ¬µ‚Ä≤A).
In the Ô¨Årst place,
¬µ‚Ä≤A: (T ‚Ä≤2A, ¬µ‚Ä≤T ‚Ä≤A)
/ (T ‚Ä≤, ¬µ‚Ä≤A)
is a morphism of T‚Ä≤-algebras, so because of (7), ¬µ‚Ä≤ is also a morphism of the T-algebras
(T ‚Ä≤2A, œÉT ‚Ä≤A)
/ (T ‚Ä≤A, œÉA). This says that the square in the diagram below commutes.
Since the triangle commutes by deÔ¨Ånition of triple, (10) is true at least for images under
T of free T ‚Ä≤-algebras.
TT ‚Ä≤A
TT ‚Ä≤T ‚Ä≤A
TŒ∑‚Ä≤T ‚Ä≤A
/
TT ‚Ä≤A
TT ‚Ä≤A
id
%K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
K
TT ‚Ä≤T ‚Ä≤A
TT ‚Ä≤A
T¬µ‚Ä≤A

T ‚Ä≤A
œÉA
/

T ‚Ä≤T ‚Ä≤A
œÉT ‚Ä≤A
/ T ‚Ä≤T ‚Ä≤A
T ‚Ä≤A
¬µ‚Ä≤A

(11)
Now by Proposition 4, Section 3.3, for any T‚Ä≤-algebra (A, a),
(T ‚Ä≤2A, ¬µ‚Ä≤T ‚Ä≤A)
Œ∑‚Ä≤A
/
T ‚Ä≤A
/ (T ‚Ä≤A, ¬µ‚Ä≤A)
a
/ (A, a)
(12)

TOPOSES, TRIPLES AND THEORIES
115
is a U-contractible coequalizer diagram. Applying UŒ± (where Œ± = œÉ ‚ó¶TŒ∑‚Ä≤) must give
a U-contractible coequalizer diagram since UŒ± commutes with the underlying functors.
Because (10) is true of images of free algebras, that diagram is
(T ‚Ä≤2A, œÉT ‚Ä≤A)
Œ∑‚Ä≤A
/
T ‚Ä≤A
/ (T ‚Ä≤A, œÉA)
a
/ (A, a)
(13)
where b = a ‚ó¶œÉA ‚ó¶TŒ∑‚Ä≤A. Since V also commutes with underlying functors, applying V
to (12) also gives a U-contractible coequalizer pair, with the same left and middle joints
as (13) (that is how œÉ was deÔ¨Åned). Its coequalizer must be V (A, a) since the underlying
functors create coequalizers. Thus (10) follows as required.
Exercises 3.6.
(CATT). Show that for a given category C, the triples in C and their morphisms form a
category.
(UF). Show that U Œ± as deÔ¨Åned in the proof of Theorem 3 is a functor.
(GAB). Let T be the Abelian group triple and T‚Ä≤ the free group triple. What is the
triple morphism Œ± corresponding to the inclusion of Abelian groups into groups given by
Theorem 3?
7. Adjoint Triples
In this section, we state and prove several theorems asserting the existence of adjoints to
certain functors based in one way or another on categories of triple algebras. These are
then applied to the study of the tripleability of functors which have both left and right
adjoints.
7.1. Induced Adjoints.
7.2. Theorem. In the following diagram (not supposed commutative) of categories and
functors,
B
C
U
"D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
B
B‚Ä≤
W
/ B‚Ä≤
C
U‚Ä≤
|zzzzzzzzzzzzzzz
B
C
b
F
D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
B
B‚Ä≤
W
/ B‚Ä≤
C
<
F ‚Ä≤
zzzzzzzzzzzzzzz
suppose that
(i). F is left adjoint to U,
(ii). F ‚Ä≤ is left adjoint to U ‚Ä≤,
(iii). WF is naturally isomorphic to F ‚Ä≤,
(iv). U is tripleable, and

116
MICHAEL BARR AND CHARLES WELLS
(v). W preserves coequalizers of U-contractible pairs.
Then W has a right adjoint R for which UR ‚àº= U ‚Ä≤.
Proof. We will deÔ¨Åne R by using Corollary 2 of Section 3.6. Let the triples corresponding
to the adjunctions be T = (T, Œ∑, ¬µ) and T‚Ä≤ = (T ‚Ä≤, Œ∑‚Ä≤, ¬µ‚Ä≤) respectively. As usual, suppose
that B = C T and U = U T. DeÔ¨Åne œÉ: T ‚Ä≤T
/ T so that
U ‚Ä≤WF
U ‚Ä≤F ‚Ä≤
‚àº
=
/
U ‚Ä≤WFUF
U ‚Ä≤WF
U‚Ä≤WœµF

U ‚Ä≤WFUF
U ‚Ä≤F ‚Ä≤UF
‚àº
=
/ U ‚Ä≤F ‚Ä≤UF
U ‚Ä≤F ‚Ä≤
œÉ

commutes.
Applying U ‚Ä≤W to diagram (4) of Section 3.1 and evaluating at F gives a diagram
which, when the isomorphism of (iii) is applied, shows that œÉ ‚ó¶œÉT = œÉ ‚ó¶T ‚Ä≤¬µ. An analogous
(easier) proof using (2) of Section 3.1 shows that œÉ ‚ó¶T ‚Ä≤Œ∑ = id. Thus by Corollary 2 of
Section 3.6, Œ± = œÉ ‚ó¶Œ∑‚Ä≤T: T
/ T ‚Ä≤ is a morphism of triples. The required functor R is
B‚Ä≤
/ C T‚Ä≤
/ C T, where the Ô¨Årst arrow is the comparison functor and the second is the
functor V induced by Œ±.
For an object B‚Ä≤ of B‚Ä≤, we have, applying the deÔ¨Ånitions of R, the comparison functor
Œ¶‚Ä≤ for U ‚Ä≤, and the functor V determined by Œ±, the following calculation:
URB‚Ä≤ = UV Œ¶B‚Ä≤ = UV (U ‚Ä≤B‚Ä≤, U ‚Ä≤œµ‚Ä≤B‚Ä≤)
= U(U ‚Ä≤B‚Ä≤, U ‚Ä≤œµ‚Ä≤B‚Ä≤ ‚ó¶Œ±U ‚Ä≤B‚Ä≤) = U ‚Ä≤B‚Ä≤,
so UR = U ‚Ä≤ as required.
We now show that R is right adjoint to W insofar as free objects are concerned, and
then appeal to the fact that algebras are coequalizers. (Compare the proof of Theorem 9
of Section 3.3). The following calculation does the Ô¨Årst: For C an object of C and B‚Ä≤ an
object of B‚Ä≤,
Hom(WFC, B‚Ä≤) ‚àº= Hom(F ‚Ä≤C, B‚Ä≤)
‚àº= Hom(C, U ‚Ä≤B‚Ä≤) ‚àº= Hom(C, URB‚Ä≤) ‚àº= Hom(FC, RB‚Ä≤)‚ó¶
Now any object of B has a presentation
FC2
// FC1
/ B
(‚àó)
by a U-contractible coequalizer diagram. Since U is tripleable, (‚àó) is a coequalizer. Thus
the bottom row of the diagram
Hom(B, RB‚Ä≤)
Hom(FC1, RB‚Ä≤)
/
Hom(WB, B‚Ä≤)
Hom(B, RB‚Ä≤)
Hom(WB, B‚Ä≤)
Hom(WFC1, B‚Ä≤)
/ Hom(WFC1, B‚Ä≤)
Hom(FC1, RB‚Ä≤)

Hom(FC1, RB‚Ä≤)
Hom(FC2, RB‚Ä≤)
/
Hom(WFC1, B‚Ä≤)
Hom(FC1, RB‚Ä≤)

Hom(WFC1, B‚Ä≤)
Hom(WFC2, B‚Ä≤)
/ Hom(WFC2, B‚Ä≤)
Hom(FC2, RB‚Ä≤)

Hom(FC1, RB‚Ä≤)
Hom(FC2, RB‚Ä≤)
/
Hom(WFC1, B‚Ä≤)
Hom(FC1, RB‚Ä≤)

Hom(WFC1, B‚Ä≤)
Hom(WFC2, B‚Ä≤)
/ Hom(WFC2, B‚Ä≤)
Hom(FC2, RB‚Ä≤)


TOPOSES, TRIPLES AND THEORIES
117
is an equalizer. By (v), W preserves coequalizers of U- contractible pairs, so the top row
is an equalizer. The required isomorphism of Homsets follows.
7.3. Theorem. In the following diagram (not supposed commutative) of categories and
functors,
B
C
U
"D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
B
B‚Ä≤
W
/ B‚Ä≤
C
U‚Ä≤
|zzzzzzzzzzzzzzz
B
C
b
F
D
D
D
D
D
D
D
D
D
D
D
D
D
D
D
B
B‚Ä≤
W
/ B‚Ä≤
C
<
F ‚Ä≤
zzzzzzzzzzzzzzz
(a). Suppose that
(i). F is left adjoint to U,
(ii). F ‚Ä≤ is left adjoint to U ‚Ä≤,
(iii). WF is naturally isomorphic to F ‚Ä≤,
(iv). U is of descent type, and
(v). B has and W preserves coequalizers of U-contractible coequalizer pairs.
Then W has a right adjoint R for which UR ‚àº= U ‚Ä≤.
(b). Suppose that
(i). F is left adjoint to U,
(ii). F ‚Ä≤ is left adjoint to U ‚Ä≤,
(iii). U ‚Ä≤W is naturally isomorphic to U,
(iv). U ‚Ä≤ is of descent type, and
(v). B has coequalizers.
Then W has a left adjoint L for which LF ‚Ä≤ ‚àº= F.
Proof.
(a). We must show that the hypothesis in Theorem 1 that U is tripleable can be weakened
to the assumption that it is of descent type. Consider the diagram
C T
B
Œ®
/
C T
C
UT
#G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
B
B‚Ä≤
W
/
B
C
U

B‚Ä≤
C
U‚Ä≤
{wwwwwwwwwwwwwwwwwwww
C T
B
o
Œ¶
C T
C
c
F T
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
G
B
B‚Ä≤
W
/
B
C
O
F
B‚Ä≤
C
;
F ‚Ä≤
wwwwwwwwwwwwwwwwwwww
in which the left adjoint Œ® exists because B has coequalizers (Proposition 11, Section 3.3).
Theorem 1 implies that W ‚ó¶Œ® has a right adjoint S: B‚Ä≤
/ C T. To apply Theorem 1
we need to know that W ‚ó¶Œ® ‚ó¶F T ‚àº= F ‚Ä≤. This follows from the given fact W ‚ó¶F ‚àº= F ‚Ä≤ and

118
MICHAEL BARR AND CHARLES WELLS
the fact that the counit of the adjunction between Œ¶ and Œ® must be an isomorphism by
Exercise (EQUIII) on page 55 of Section 1.9.
From this we have for objects A of C T and B‚Ä≤ of B‚Ä≤ that
Hom(Œ¶Œ®A, SB‚Ä≤) ‚àº= Hom(WŒ®Œ¶Œ®A, B‚Ä≤)
‚àº= Hom(WŒ®A, B‚Ä≤) ‚àº= Hom(A, SB‚Ä≤)‚ó¶
Thus by Exercise (REFL) on page 56(c) of Section 1.9, every object of the form SB‚Ä≤ is
Œ¶B for some B in B. Since Œ¶ is full and faithful, this allows the deÔ¨Ånition of a functor
R: B‚Ä≤
/ B for which S = Œ¶ ‚ó¶W.
The following calculation then shows that R is right adjoint to W:
Hom(WB, B‚Ä≤) ‚àº= Hom(WŒ®Œ¶B, B‚Ä≤) ‚àº= Hom(Œ¶B, SB‚Ä≤)
‚àº= Hom(Œ¶B, Œ¶RB‚Ä≤) ‚àº= Hom(B, RB‚Ä≤)‚ó¶
(b). If F ‚Ä≤C is an object in the image of F ‚Ä≤, then we have
Hom(F ‚Ä≤C, WB) ‚àº= Hom(C, U ‚Ä≤WB)
‚àº= Hom(C, UB) ‚àº= Hom(FC, B)
which shows that FC represents the functor Hom(F ‚Ä≤C, W‚àí).
Moreover, the Yoneda
lemma can easily be used to show that maps in B‚Ä≤ between objects in the image of F ‚Ä≤ give
rise to morphisms in B with the required naturality properties. Thus we get a functor
L deÔ¨Åned at least on the full subcategory whose objects are the image of F ‚Ä≤. It is easily
extended all of B‚Ä≤ by letting
F ‚Ä≤C2
// F ‚Ä≤C1
/ B‚Ä≤
be a coequalizer and deÔ¨Åning LB‚Ä≤ so that
FC2
// FC1
/ LB‚Ä≤
is as well. The universal mapping property of coequalizers gives, for any object B of B
the diagram below in which both lines are equalizers,
Hom(B‚Ä≤, WB)
Hom(F ‚Ä≤C1, WB)
/
Hom(LB‚Ä≤, B)
Hom(B‚Ä≤, WB)
Hom(LB‚Ä≤, B)
Hom(FC1, B)
/ Hom(FC1, B)
Hom(F ‚Ä≤C1, WB)
‚àº
=

Hom(F ‚Ä≤C1, WB)
Hom(F ‚Ä≤C2, WB)
/
Hom(FC1, B)
Hom(F ‚Ä≤C1, WB)
Hom(FC1, B)
Hom(FC2, B)
/ Hom(FC2, B)
Hom(F ‚Ä≤C2, WB)
‚àº
=

Hom(B‚Ä≤, WB)
Hom(F ‚Ä≤C1, WB)
/
Hom(LB‚Ä≤, B)
Hom(B‚Ä≤, WB)
Hom(LB‚Ä≤, B)
Hom(FC1, B)
/ Hom(FC1, B)
Hom(F ‚Ä≤C1, WB)
‚àº
=

Hom(F ‚Ä≤C1, WB)
Hom(F ‚Ä≤C2, WB)
/
Hom(FC1, B)
Hom(F ‚Ä≤C1, WB)
Hom(FC1, B)
Hom(FC2, B)
/ Hom(FC2, B)
Hom(F ‚Ä≤C2, WB)
‚àº
=

from which the adjointness follows.

TOPOSES, TRIPLES AND THEORIES
119
7.4. Theorem. [Butler] In the situation
C
C ‚Ä≤
V
/
B
C
U

B
B‚Ä≤
W
/ B‚Ä≤
C ‚Ä≤
U‚Ä≤

C
C ‚Ä≤
o
G
B
C
O
F
B
B‚Ä≤
/ B‚Ä≤
C ‚Ä≤
O
F ‚Ä≤
(a). Suppose:
(i). F is left adjoint to U,
(ii). F ‚Ä≤ is left adjoint to U ‚Ä≤,
(iii). W ‚ó¶F ‚àº= F ‚Ä≤ ‚ó¶V ,
(iv). G is right adjoint to V ,
(v). U is of descent type, and
(vi). B has and W preserves coequalizers of U-contractible coequalizer pairs.
Then W has a right adjoint.
(b). Suppose:
(i). F is left adjoint to U,
(ii). F ‚Ä≤ is left adjoint to U ‚Ä≤,
(iii). V ‚ó¶U ‚àº= U ‚Ä≤ ‚ó¶W,
(iv). G is left adjoint to V ,
(v). U ‚Ä≤ is of descent type, and
(vi). B has coequalizers.
Then W has a left adjoint.
.
Proof.
(a). Apply Theorem 2(a) to the diagram
B
C
U
?
?
?
?
?
?
?
?
?
?
?
?
?
B
B‚Ä≤
W
/ B‚Ä≤
C
GU‚Ä≤

B
C
_
F
?
?
?
?
?
?
?
?
?
?
?
?
?
B
B‚Ä≤
/ B‚Ä≤
C
?
F ‚Ä≤V


120
MICHAEL BARR AND CHARLES WELLS
(b). Apply Theorem 2(b) to the diagram
B
C ‚Ä≤
V U
?
?
?
?
?
?
?
?
?
?
?
?
?
B
B‚Ä≤
W
/ B‚Ä≤
C ‚Ä≤
U‚Ä≤

B
C ‚Ä≤
_
FG
?
?
?
?
?
?
?
?
?
?
?
?
?
B
B‚Ä≤
/ B‚Ä≤
C ‚Ä≤
?
F ‚Ä≤

7.5. Adjoint triples. By an adjoint triple in a category C, we mean
(i). A triple T = (T, Œ∑, ¬µ) in C,
(ii). A cotriple G = (G, œµ, Œ¥) in C, for which
(iii). T is left adjoint to G.
We say in this case that T is left adjoint to G.
A functor U: B
/ C is adjoint tripleable if it is tripleable and cotripleable (the
latter means that U op: Bop
/ C op is tripleable). Theorem 5 below implies, among other
things, that an adjoint tripleable functor results in an adjoint triple.
7.6. Proposition. Let U: B
/ C a functor, and suppose B has either U-contractible
equalizers or U-contractible coequalizers. Then U is adjoint tripleable if and only if it has
left and right adjoints and reÔ¨Çects isomorphisms.
Proof. We Ô¨Årst prove a weakened version of this proposition which is suÔ¨Écient to prove
Theorem 5 below. Then we will use Theorem 5 to prove the version as stated.
Assume that B has both U-contractible equalizers and U-contractible coequalizers.
The existence of both adjoints implies that they are preserved, so that the (weakened)
proposition follows from PTT.
7.7. Theorem. Let T be a triple in C and suppose that T has a right adjoint G. Then G
is the functor part of a cotriple G in C for which C T is equivalent to CG and the underlying
functor U T has left and right adjoints which induce T and G respectively.
Conversely, let U: B
/ C be a functor with right adjoint R and left adjoint L. Let
T = (T, Œ∑, ¬µ) be the triple induced by L and U and G = (G, œµ, Œ¥) the cotriple in C induced
by U and R. Then T is left adjoint to G and the category C T of T-algebras is equivalent
to the category CG of G-coalgebras.
Proof. To prove the Ô¨Årst statement, let G be right adjoint to T and consider the diagram
C T
C
UT
?
?
?
?
?
?
?
?
?
?
?
?
?
C T
C
UT
/ C
C
G

C T
C
_
F T
?
?
?
?
?
?
?
?
?
?
?
?
?
C T
C
/ C
C
?
T


TOPOSES, TRIPLES AND THEORIES
121
Theorem 1 implies that U T has a right adjoint RT: C
/ C T for which U T ‚ó¶RT = G.
By the weak version of Proposition 4, U T is tripleable and cotripleable. Hence C T is
equivalent to CG.
To do the converse, the adjunction between T and G is seen from the calculation
Hom(ULC, C‚Ä≤) ‚àº= Hom(LC, RC‚Ä≤) ‚àº= Hom(C, URC‚Ä≤)
Now the Ô¨Årst half of the theorem yields a right adjoint RT to U T which induces G, so C T
is equivalent to CG.
We now complete the proof of Proposition 4.
Assume that B has U-contractible
coequalizers. (The proof in the case that B has U-contractible equalizers is dual.) The
existence of a right adjoint to U means that U preserves them, so that U is tripleable by
PTT. Hence B is equivalent to C T. The second part of Theorem 5 then implies that B is
equivalent to C G, so that B must have U-contractible equalizers.
We saw in Section 3.1 that for any monoid M, the functor M √ó(‚àí) is the functor part
of a triple in Set. This functor has the right adjoint Hom(M, ‚àí), so is part of an adjoint
triple, and the underlying functor Set M
/ Set is adjoint tripleable. Analogously, if K
is a commutative ring and R a K-algebra, then R ‚äóK ‚àí: Mod K
/ Mod K has a right
adjoint HomK(R, ‚àí) and so gives rise to an adjoint triple. The algebras for this triple are
the modules over the K-algebra R (R modules in which the action of K commutes with
that of R). If K = Z, we just get R-modules.
In Section 6.7 we will make use of the fact that in a topos, functor categories (functors
from a category object to the topos) are adjoint tripleable. Exercise (FCS) on page 121
asks you to prove this for Set. The general situation is complicated by the problem of how
to deÔ¨Åne that functor category in a topos.
Exercises 3.7.
(FCS). Let C be a small category and E the category of functors from C to Set. There
is an underlying functor E
/ Set/Ob(C). Show that this functor is adjoint tripleable.
(Hint: One way to approach this is to use the Yoneda lemma to determine what the left
or right adjoint must be on objects of the form 1
/ Ob(C) and then use the fact that a
set is a coproduct of its elements and left and right adjoints preserve colimits and limits
respectively.)
(YFCS). Deduce the Yoneda lemma from Exercise (FCS) on page 121.
8. Historical Notes on Triples
It is very hard to say who invented triples. Probably many scientiÔ¨Åc discoveries are like
that. The Ô¨Årst use of them was by Godement [1958] who used the Ô¨Çabby sheaf cotriple to
resolve sheaves for computing sheaf cohomology. He called it the ‚Äústandard construction‚Äù
and presumably intended by that nothing more than a descriptive phrase. It seems likely
that he never intended to either create or name a new concept.

122
MICHAEL BARR AND CHARLES WELLS
Nonetheless Huber [1961] found these constructions useful in his homotopy theory
and now did name them standard constructions. He also provided the proof that every
adjoint pair gave rise to one, whatever it was called. He commented later that he proved
that theorem because he was having so much trouble demonstrating that the associative
identity was satisÔ¨Åed and noticed that all his standard constructions were associated with
adjoints.
As remarked in Section 3.2, Kleisli [1965] and independently Eilenberg-Moore [1965]
proved the converse. Although Hilton had conjectured the result, it was Kleisli [1964]
who had an application. He wanted to show that resolutions using resolvent pairs (essen-
tially pairs of adjoint functors) and those using triples give the same notion of resolution.
Huber‚Äôs construction gave the one direction and Kleisli‚Äôs gave the other.
Eilenberg and Moore also gave them the name by which they are known here: triples.
Although we do not regard this name as satisfactory we do not regard the proposed
substitutes as any better. In this connection, it is worth mentioning that when asked
why they hadn‚Äôt found a better term, Eilenberg replied that they hadn‚Äôt considered the
concept very important and hadn‚Äôt thought it worth investing much time in trying to Ô¨Ånd
a good name. (By contrast, when Cartan-Eilenberg [1956] was composed, the authors
gave so much thought to naming their most important concept that the manuscript had
blanks inserted before the Ô¨Ånal preparation, when they Ô¨Ånally found the exacterm.)
At the same time, more or less, Applegate [1965] was discovering the connection be-
tween triples and acyclic models and Beck [1967] (but the work was substantially Ô¨Ånished
in 1964) was discovering the connection with homology. In addition, Lawvere [1963] had
just found out how to do universal algebra by viewing an algebraic theory as a category
and an algebra as a functor. Linton was soon to connect these categories with triples.
In other words triples were beginning to pervade category theory but it is impossible to
give credit to any one person. The next important step was the tripleableness theorem of
Beck‚Äôs which in part was a generalization of Linton‚Äôs results. Variations on that theorem
followed (Duskin [1969], Par¬¥e [1971]) and acquired arcane names, but they all go back to
Beck and Linton. They mostly arose either because of the failure of tripleableness to be
transitive or because of certain special conditions.
Butler‚Äôs theorems‚ÄîTheorem 3 above includes somewhat special cases of two of them‚Äî
are due to a former McGill University graduate student, William Butler. They consisted
of a remarkable series of 64 theorems, 12 on the existence of adjoints and 52 on various
technical results on tripleableness and related questions such as when a functor is of
descent type. These theorems have never been published and, as a matter of fact, have
remained unveriÔ¨Åed, except by Butler, since 1971. Within the past two years, they have
been independently veriÔ¨Åed and substantially generalized in his doctoral thesis: [1984],
by another student, John A. Power, who found a few minor mistakes in the statements.

4
Theories
In this chapter, we explicate the naive concept of a mathematical theory, such as the theory
of groups or the theory of Ô¨Åelds, in such a way that a theory becomes a category and a
model for the theory becomes a functor based on the category. Thus a theory and a model
become instances of mathematical concepts which are widely used by mathematicians.
This is in contrast to the standard treatment of the topic (see ShoenÔ¨Åeld [1967], Chang
and Keisler [1973]) in which ‚Äútheory‚Äù is explicated as a formal language with rules of
deduction and axioms, and a model is a set with structure which corresponds in a speciÔ¨Åc
way with the language and satisÔ¨Åes the axioms. Our theories should perhaps have been
called ‚Äúcategorical theories‚Äù; however, the usage here is now standard among category
theorists.
Our theories are, however, less general than the most general sort of theory in math-
ematical logic.
We will construct a hierarchy of types of theories, consisting of categories with various
amounts of structure imposed on them. For example, we will construct the theory of
groups as the category with Ô¨Ånite products which contains the generic group object, in
the sense to be deÔ¨Åned precisely in Section 4.1. (The deÔ¨Ånition of group object using
representable functors mentioned in Section 1.7 does not require that the category have
Ô¨Ånite products but we do not know how to handle that more general type of theory.) On
the other hand, a theory of Ô¨Åelds using only categories with Ô¨Ånite products cannot be
given, so one must climb further in the hierarchy to give the generic Ô¨Åeld.
In this chapter we consider the part of the hierarchy which can be developed using only
basic ideas about limits. In the process we develop a version of Ehresmann‚Äôs theory of
sketches suitable for our purposes. This chapter may be read immediately after Chapter
1, except for Theorem 5 of Section 4.3. The theories higher in the hierarchy (in particular
including the theory of Ô¨Åelds) require the machinery of Grothendieck topologies and are
described in Chapter 8.
A brief description of this hierarchy and its connections with diÔ¨Äerent types of logical
systems has been given by Lawvere [1975]. Makkai and Reyes [1977] provide a detailed
exposition of the top of the hierarchy. Ad¬¥amek and RosiÀácky [1994] present much modern
123

124
MICHAEL BARR AND CHARLES WELLS
material on theories and their model categories not covered here. Barr and Wells [1999]
is more elementary and gives many examples of the use of sketches in computing science.
1. Sketches
1.1. Groups. An FP-category is a category with Ô¨Ånite products, and an FP-functor
between FP-categories is a functor which preserves Ô¨Ånite products. The FP theory of
groups should be an FP-category G containing a group object G which is generic in
the sense that every group object in any FP-category is the image of G under a unique
FP-functor from G to the category.
We will begin by constructing the FP-theory of groups from the ground up, so to
speak, but then interrupt ourselves for a diÔ¨Äerent approach which makes it obvious that
the theory thus constructed is uniquely determined.
To construct the FP-theory of groups, we must have an object representing the group,
powers of that object, morphisms representing the projection maps from those powers,
and morphisms representing the operations (identity, inverse, multiplication). A law like
the associative law is stated by requiring that two maps (representing the two ways of
multiplying) in the category are equal.
Thus we need a category containing an object G and all its powers, speciÔ¨Åcally includ-
ing G0, which is the terminal object. It must have morphisms m: G2
/ G, i: G
/ G
and u: G0
/G as operations. Each power Gk must have k projections pi: Gk
/G, and
for each k and n each n-tuple of maps Gk
/ G induces a map Gk
/ Gn. A category
containing all these maps must contain all their composites; for example the composites
m ‚ó¶m √ó 1 and m ‚ó¶1 √ó m: G3
/ G. The group laws are equivalent to requiring that the
following diagrams commute:
G
G √ó G
1√óu /
G
G
id
?
?
?
?
?
?
?
?
?
?
?
?
?
G √ó G
G
o
u√ó1
G √ó G
G
m

G
G
id

(1)
1
G
/
G
1

G
G √ó G
(1,i)
/ G √ó G
G
m

G
1
o
G √ó G
G
G √ó G
G
o
(i,1)
G
1

(2)

TOPOSES, TRIPLES AND THEORIES
125
and
G2
G
m
/
G3
G2
1√óm

G3
G2
m√ó1
/ G2
G
m

(3)
The commutativity of these diagrams, of course, forces many other pairs of arrows of
the category to be equal.
At Ô¨Årst sight, it seems reasonably clear that the data we have given determine a unique
category G. Assuming that that is the case, it is easy to see that giving a group object in
a category with Ô¨Ånite products (in other words, giving a model of the theory of groups in
such a category) is the same as giving a Ô¨Ånite-product-preserving functor from G to the
category.
However, there are complications in carrying out the construction of G (even more so in
the case of multi-sorted algebraic structures, about which more below). These diÔ¨Éculties
are analogous to the diÔ¨Éculties in constructing the free group on a set as consisting of
equivalence classes of strings: they are not insurmountable, but a construction using the
adjoint functor theorem is much less fussy.
1.2. Sketches. In this section, we introduce some machinery (sketches) which will en-
able us to give, in Section 4.3, a formal construction of G and analogous categories by
embedding the given data in a functor category and deÔ¨Åning G to be the smallest sub-
category with the required properties (having Ô¨Ånite products in the case of groups). Our
sketches are conceptually similar to, but diÔ¨Äerent in detail from those of Ehresmann (see
the historical notes in Section 4.5). Note that sketches here have only cones. Sketches
in many texts also have cocones (we consider this possibility in detail in Chapter 8); in
those texts what we call sketches may be called projective sketches.
Recall that a graph G consists of a set of vertices denoted G0 and a set of arrows
denoted G1 together with the operators d 0, d 1: G1
/ G0 which assign to each arrow
its source and target. Cones and diagrams are deÔ¨Åned for graphs in exactly the same
way as they are for categories. Note that we have carefully distinguished between cones
and commutative cones and between diagrams and commutative diagrams. Commutative
cones and diagrams of course make no sense for graphs.
By a sketch we mean a 4-tuple S = (G, U, D, C) where G is a graph, U: G0
/ G1
is a function which takes each object A of G0 to an arrow from A to A, D is a class of
diagrams in G and C is class of cones in G. Each cone in C goes from some vertex to
some diagram; that diagram need not be in D; in fact in general it is necessary to allow
diagrams which are not in D as bases of cones.
An FP-sketch is a sketch in which the cones are discrete; that is, there are no arrows
between two distinct vertices of the base.
If S‚Ä≤ is another sketch, a morphism of S into S‚Ä≤ = (G‚Ä≤, U ‚Ä≤, D‚Ä≤, C‚Ä≤) is a graph homo-
morphism h: G
/ G‚Ä≤ such that h ‚ó¶U = U ‚Ä≤ ‚ó¶h, every diagram in D is taken to a diagram
in D‚Ä≤, and every cone in C is taken to a cone in C‚Ä≤.

126
MICHAEL BARR AND CHARLES WELLS
If C is a category, the underlying sketch S = (G, U, D, C) of C has as graph the
underlying graph of C, for U the map which picks out the identity arrows of C, takes D
to be the class of all commutative diagrams of C and for C all the limit cones.
A model for a sketch S in a category C is then a sketch morphism from S into the
underlying sketch of C. It follows that a model forces all the diagrams of the sketch to
commute and all the cones of the sketch to be limit cones (hence commutative cones).
The models in C form a category.
The morphisms are ‚Äúnatural‚Äù transformations,
deÔ¨Åned in just the same way as natural transformations of functors (whose deÔ¨Ånition,
after all, makes no use of composition in the domain category). The models of S in Set
will be denoted Mod (S). The category of graph morphisms from S to Set which take all
the diagrams to commutative diagrams will be denoted throughout the book as Set S.
1.3. The sketch of the theory of groups. We may construct a suitable FP-sketch
for the theory of groups using the data given above. The objects of the graph of the sketch
should be 1 = G0, G = G1, G2 and G3. Note that these are just formal names for objects
at this point. We will shortly introduce cones to force a model in the sense just deÔ¨Åned
to take them to the powers of one object. These powers are just those needed to state
the various group laws.
The sketch for groups must have the following arrows, besides the identity arrows
required by the deÔ¨Ånition of sketch:
(i). Three arrows m: G2
/ G, i: G
/ G and u: 1
/ G for the operations.
(ii). Projection arrows for cones pi: G2
/ G, (i = 1, 2) and qi: G3
/ G, (i = 1, 2, 3).
In each case the cone is to the discrete diagram all of whose nodes are G.
(iii). An arrow G
/ 1.
(iv). ri: G
/ G2, (i = 1, 2), which will be forced to be id √ó u and u √ó id respectively.
To allay any confusion, we should make it perfectly clear that G2 is in no sense yet a
product. Thus the ri have to be explicitly assumed.
(v). si: G
/ G2, (i = 1, 2), to be (id, i) and (i, id)).
(vi). ti: G3
/ G2, (i = 1, 2), to be (q1, q2) and (q2, q3).
(vii). ni: G3
/ G2, (i = 1, 2), to be id √ó m and m √ó id.
As its designated cones, it must have the cones given in (ii) above and the empty cone
deÔ¨Åned on 1. Its diagrams must be diagrams (1) through (3) above (with arrows renamed
as just described) and forcing diagrams such as
G o
p1
G
id

r1
G2
G
p2
/
G
G2

G
1
/ 1
G
u


TOPOSES, TRIPLES AND THEORIES
127
which will force the r1 in models to be id √ó u,
G
G2
o
p1
G3
G
q1

G3
G
q2
/ G
G2
O
p2
G3
G2
t1
?
?
?
?
?
?
?
?
?
?
which will force t1 to be (q1, q2), and
G o
p1
G
G
id

G o
q1
G2
G
p2
/
G3
G2
n1

G3
G2
t2
/ G2
G
m

which will force n1 to be id √ó m.
The preceding construction is involved, but the principle behind it is straightforward.
You need
(i). an object to be the generic algebraic structure (group in the example above);
(ii). objects to be the powers needed to deÔ¨Åne the operations and state the laws;
(iii). arrows for identities, for the operations, and for the cones forcing the powers to be
actual powers; and
(iv). diagrams to state the laws.
In the process of constructing these diagrams you may need
(v). arrows composed out of operations and projections.
The deÔ¨Ånition in (v) requires additional diagrams such as the last three in the deÔ¨Ånition
of groups above.
It should be clear that algebraic structures with Ô¨Ånitary operations satisfying universal
equations (unlike Ô¨Åelds, for example, where one needs statements like ‚Äúx = 0 or xx‚àí1 = 1‚Äù)
can all be modeled in this way.
More complicated algebraic structures may be modeled by an FP-sketch, too. As an
example, consider the category of all M-actions for all monoids M. An object is a pair
(M, A) where M is a monoid which acts on the set A. A morphism (f, œï): (M, A)
/(M ‚Ä≤, A‚Ä≤)
has f a monoid homomorphism and œï a set map for which f(m)(œï(a)) = œï(ma) for
m ‚ààM and a ‚ààA. (One can deÔ¨Åne the category of all modules (R, M) where R is a
ring and M is an R-module analogously). The sketch for monoid actions will have to
contain objects M and A and objects representing M n for n = 0, 2, 3 as well as products
of certain powers of M with A.
The sketch for a theory for groups, for example, is essentially a direct translation of the
ingredients that go into the usual deÔ¨Ånition of groups in a textbook. However, the sketch

128
MICHAEL BARR AND CHARLES WELLS
which results is not a category, and so we cannot use the machinery of category theory to
study the resulting models. In Section 4.3, using the Ehresmann-Kennison theorem from
Section 4.2, we show how to achieve our original goal of producing a theory of groups
which is itself a category, in fact the category generated in a strong sense by the sketch
constructed above.
2. The Ehresmann-Kennison Theorem
This section is devoted to proving the following theorem, due independently to Ehresmann
[1967a], [1967b] and Kennison [1968]. A generalization to base categories other than Set
was proved by Freyd and Kelly [1972].
2.1. Theorem. Let S be a small sketch. Then Mod (S) is a reÔ¨Çective subcategory of Set S.
Proof. We follow Kennison‚Äôs original proof, which was stated for S a category and
for models which preserve all limits; but it works without change in the present case.
Ehresmann proved a much more general theorem of which this is a special case.
It is necessary to construct a left adjoint for the inclusion of Mod (S) in Set S. We will
do this using the adjoint functor theorem.
Limits in Set S are constructed pointwise in exactly the same way as for functor cate-
gories (see Exercise (LIMFUN) on page 41 of Section 1.7). It is necessary to show that
a limit of a diagram of morphisms (objects in Set S) takes the diagrams which are part of
the structure of S to commutative diagrams; but that is an easy exercise. To show that
inclusion preserves all limits requires showing that a morphism constructed as a limit of
a diagram of models takes cones to limit cones. This follows easily in exactly the same
way as it does for a limit of ordinary functors (Exercise (COMLIM) on page 130).
We need the following lemma to get the solution set condition.
2.2. Lemma. Let S be a small sketch, and F: S
/ Set a function on the objects of S.
There is a cardinal ‚Ñµwith the following property: If M is any model of S with the property
that F(A) ‚äÜM(A) for every object A of S, then there is a model
bF of S for which for
every object A of S,
(i). F(A) ‚äÜbF(A) ‚äÜM(A), and
(ii). The cardinality of
bF(A) is less than ‚Ñµ.
Given the lemma, let E ‚ààSet S, let M be a model, and let Œª: E
/ M be a natural
transformation. Let F be the function whose value on an object A is the image of ŒªA.
The lemma provides a cardinal ‚Ñµ(F) with the property that F is contained in a model
bF ‚äÜM whose cardinality at each object of S is at most ‚Ñµ(F). Now let ‚Ñµbe the sup of
the ‚Ñµ(F) as F varies over all object functions which are quotients of E. Then a solution
set for E will be the set of all natural transformations œïi: E
/ Mi for all models Mi for
which for all objects A of S, the cardinal of Mi(A) is less than or equal to ‚Ñµ.

TOPOSES, TRIPLES AND THEORIES
129
Proof. Proof of Lemma 2. For any such F as in the hypothesis, deÔ¨Åne a function F #
on objects by
F #(A) =
S{Mf(FB) | f: B
/ A}
(union over all arrows into A) and a function F ‚àóby
F ‚àó(A) =
S{x ‚àà
Q FDi | MDdxi = xj for all d: i
/ j ‚ààI}
the union over all those cones from A to D: I
/ G which are in the set C of cones of S.
(G is the underlying graph of S and each cone is to some diagram D: I
/ G deÔ¨Åned on
some index category I.)
For the purpose of understanding F ‚àó, observe that since M is a model, if Œ±: A
/ D
is a cone, then MŒ±: MA
/ MD is a limit cone in Set, whence
MA = {x ‚àà
Q MDi | MDdxi = xj for all d: i
/ j ‚ààI}
and xi = MŒ±i(x) for x ‚ààMA.
For any given F, let m denote the smallest cardinal which is greater than
(i). The cardinality of the set of arrows of S;
(ii). the cardinality of F(A) for every object A of S; and
(iii). the cardinality of I for every cone A
/ D(I) of S.
Clearly, F #(A) has cardinality less than m and it is not much harder to see that F ‚àó(A)
has cardinality less than mm (one is quantifying over sets‚Äîthe sets of projections Œ±i‚Äîof
cardinality less than m).
We construct a transÔ¨Ånite sequence of maps FŒ±, beginning with F0 = F.
For an
ordinal Œ±, if FŒ± has been deÔ¨Åned, then fŒ±+1 = (FŒ±)#‚àó. If Œ± is a limit ordinal, then for
each object A,
FŒ±(A) =
S{FŒ≤(A) | Œ≤ < Œ±}
According to the observations in the preceding paragraph, at each stage of this
construction the bound m on the cardinality of the sets F(A) may do no more than
exponentiate‚Äîand this bound is a function of S and the function F we started with, but
independent of M.
Now let
bF = FŒ≥, where Œ≥ is the smallest ordinal of cardinality greater than the
cardinality of the set of all arrows of S. (Note that Œ≥ is a limit ordinal). If we can show
bF is the object function of a model, we are done.
In the Ô¨Årst place, if f: B
/ A, then Mf( bF(B) ‚äÜ
bF(A). For if x ‚àà
bF(B), then
x ‚ààFŒ≤(B) for some ordinal Œ≤ < Œ≥, whence Mf(x) ‚ààFŒ≤+1(A) ‚äÜ
bF(A). Thus one can
deÔ¨Åne bF(f) to be the restriction of Mf to bF(B) and make bF a morphism of sketches.
To show that
bF preserves the limits in the sketch S, let Œ±: A
/ D be a cone of S,
where D: I
/ G. If x ‚ààbF(A), then x ‚ààMA, so for each d: i
/ j in I, MDdxi = xj,
so bFDdxi = xj because bFDd is the restriction of MDd. Hence
bF(A) ‚äÜ{x ‚àà
Q bFDi | bFDdxi = xj for all d: i
/ j in I} = lim bFD

130
MICHAEL BARR AND CHARLES WELLS
Conversely, suppose x ‚ààQ bFDi has the property that
bFDdxi = xj for all d: i
/ j
in I. For each i, xi ‚àà
bFDi, so there is some ordinal Œ≤i‚ü®Œ≥ for which xi ‚ààFŒ≤iDi. Now
since x ‚ààMA, xi = MŒ±i(x), and we can assume that if Œ±i = Œ±j then Œ≤i = Œ≤j. (For it is
perfectly possible that I have greater cardinality than the set of arrows of S). Thus the
set of all Œ≤i has cardinality less than or equal to the cardinality of the set of arrows of
S. That means there is a single ordinal Œ≤ < Œ≥ for which xi ‚ààFŒ≤Di for all objects i of
I. Thus it follows from the deÔ¨Ånition that x ‚ààFŒ≤+1(A) ‚äÜbF(A) which must therefore be
lim bFD.
Note: Exercise (RFLK) on page 130 shows that the information in the proof of the
lemma yields a more precise description of the left adjoint.
Exercises 4.2.
(RFLK). Let E ‚ààSet S, let M be a model of S, and let Œª: F
/ S be a natural transfor-
mation.
(i). Show that the model
bF constructed above is the smallest submodel of M through
which Œª factors. We say Œª is dense if bF = M.
(ii). Prove that if Œ±, Œ≤: M
/ N are natural transformations of models, Œª is dense, and
Œ± ‚ó¶Œª = Œ≤ ‚ó¶Œª, then Œ± = Œ≤.
(iii). Let œïi: E
/ Mi be the solution set for E constructed in the text. Then the œïi
determine a map E
/ Q Mi; let
bE be the smallest model through which this map
factors. Show that the function E
/ bE is the object function of a left adjoint to the
inclusion of Mod (S) in Set S.
(COMLIM)
‚ô¶. Let A be a category and C be a class of diagrams in A, each of which has
a limit in A. Suppose that I is index category and D: I
/ Set A a diagram of functors
such that each value of D preserves all the limits in the class C. Show that lim D also
preserves the limits in C. (Note that the functor category is complete because Set is (see
Exercise (LIMFUN) on page 41 of Section 1.7).)
3. Finite-Product Theories
Given an FP-sketch S, we want to construct the FP-category which will be the theory
generated by the sketch. Letting X be the unknown theory, let us discover properties it
must have until enough of them emerge to characterize it.
X will be the generic model of S, so there will be a sketch morphism m: S
/X. More-
over, composing with m should induce a bijection between the models of X considered as
a sketch with all its product cones and the models of S. Now because X is a category and
its cones are products, by Yoneda we can get a canonical embedding y: X op
/ Mod (X):
For an object X of X, y(X)(X‚Ä≤) = Hom(X, X‚Ä≤). Then y(X) is a model because repre-
sentable functors preserve limits and‚Äîlike all functors‚Äîpreserve commutative diagrams.
With the requirement that m induce an equivalence between Mod (X) and Mod (S), this

TOPOSES, TRIPLES AND THEORIES
131
produces the following diagram of sketch morphisms, in which e is the equivalence and
u = e ‚ó¶y ‚ó¶mop by deÔ¨Ånition. The composite across the top is the Yoneda embedding Y .
Sop
Mod (S)
u
/
X op
Sop
O
mop
X op
Mod (X)
y
/ Mod (X)
Mod (S)
e

Mod (S)
Set S
/
/
Mod (X)
Mod (S)
Mod (X)
Set X
/
/ Set X
Set S
Setm

(1)
Because e is an equivalence, m has to be an epimorphism in the category of sketches.
This would seem to mean that every object in X is a product of objects in S. Moreover,
Y , hence y, is full and faithful and X op is closed under Ô¨Ånite sums and contains the image
of Sop. This suggests that we try to construct X by deÔ¨Åning u and letting X op be the
full FP-subcategory generated by the image of u. We will construct u by constructing
X in the special case that S has no cones, and then bootstrap up to the FP case using
Kennison‚Äôs theorem.
3.1. Theorem. Given a sketch S with no cones (i.e., a graph with diagrams) there is
a category C and a model m: S
/ C such that composition with m is an equivalence
between Set S and Set C.
Proof. We constructed the free category for a graph with no diagrams in Exercise
(GRADJ) on page 55 of Section 1.9. Here, C can be obtained as a quotient category
from this free category by factoring out the smallest congruence making every diagram
commute (see Exercise (QUOT) on page 9 of Section 1.1). Then m is the map into the
free category followed by the quotient map. The required equivalence follows from the
deÔ¨Ånition of ‚Äúfree‚Äù and ‚Äúquotient‚Äù.
In this case, u is the composite Set m ‚ó¶j ‚ó¶mop, where j: C op
/ Set C is the Yoneda
embedding. u has the Yoneda-like property that for any model F: S
/ Set,
(Y)
Hom(u(S), F) ‚àº= F(S)‚ó¶
This follows since m is full and faithful and uS = Hom(mS, m(‚àí)); then use Yoneda.
Note that, as the composite of full and faithful functors, u is full and faithful.
To get the case when S does have nontrivial cones, we must have a map u: S
/Mod (S)
rather than into Set S. We have a map u1: Sop
/Set S, namely the map constructed above
called u for sketches with no cones (when S has no cones it is the u we want because then
Set S = Mod (S)). We take u to be k‚ó¶u1, where k is the adjoint to the inclusion of Mod (S) in
Set S given by Kennison‚Äôs Theorem (Section 4.2). It is a trivial consequence of adjointness
that property (Y) continues to hold in this case.
As suggested in our heuristic argument at the beginning of the section, we deÔ¨Åne
FP(S), the FP-theory generated by S to be the full FP-subcategory of Mod (S)op

132
MICHAEL BARR AND CHARLES WELLS
generated by the image of uop. In the rest of this section, we will use the factorization
Sop
FP(S)op
mop
?
?
?
?
?
?
?
?
?
?
?
?
?
Sop
Mod (S)
u
/ Mod (S)
FP(S)op
v

(2)
where v is the inclusion.
3.2. A theorem on adjoints. To see that FP(S) has the same models as S, we need
the following theorem.
3.3. Theorem. In the diagram of categories and functors,
X
Y
o
F
X0
X
I

X0
Y0
o
F0
Y0
Y
J

X
Y
o
X0
X

X0
Y0
o
Y0
Y
O
L
(3)
suppose that L is left adjoint to J. Then
(a). If I is full and faithful, F has a left adjoint E and FJ naturally equivalent to IF0,
then E0 = LEI is left adjoint to F0;
(b). If J is full and faithful, F has a right adjoint R, I has a left adjoint K and
KF is equivalent to F0L, then there is a functor (unique up to natural isomorphism)
R0: X0
/ Y0 for which JR0 ‚àº= RI; R0 is right adjoint to F0.
Proof. For (a),
Hom(LEIX0, Y0) ‚àº= Hom(EIX0, JY0) ‚àº= Hom(IX0, FJY0)
‚àº= Hom(IX0, IF0Y0) ‚àº= Hom(X0, F0Y0)‚ó¶
As for (b), Ô¨Årst note that since J is full and faithful, LJL ‚àº= L so that we have,
Hom(JLY, RIX0) ‚àº= Hom(FJLY, IX0) ‚àº= Hom(KFJLY, X0)
‚àº= Hom(F0LJL, X0) ‚àº= Hom(F0LY, X0)
‚àº= Hom(KFY, X0) ‚àº= Hom(FY, IX0)
‚àº= Hom(Y, RIX0)‚ó¶
Therefore, by Exercise (REFL) on page 56(c) of Section 1.9, there is a unique Y0 which
we will denote R0X0, for which JY0 ‚àº= RIX0. VeriÔ¨Åcation of the adjunction equation is
easy, so that R0 extends to a right adjoint to F0 by the pointwise construction of adjoints.

TOPOSES, TRIPLES AND THEORIES
133
3.4. Properties of morphisms of FP-sketches.
3.5. Theorem. Let f: S1
/ S2 be a morphism of FP-sketches. Then composition with
f deÔ¨Ånes a functor f ‚àó: Mod (S2)
/ Mod (S1) which has a left adjoint f#. Moreover, if
ui = vi ‚ó¶mop
i
is the embedding of Sop
i
into Mod (Si), then there is a functor FP(f)op which
is the unique functor making the middle square in the diagram commute.
Moreover,
every functor from FP(S1)op to FP(S2)op that makes the top square commute is naturally
isomorphic to FP(f)op.
Proof. We have the following diagram:
FP(S1)op
FP(S2)op
FP(f)op
/
Sop
1
FP(S1)op
mop
1

Sop
1
Sop
2
fop
/ Sop
2
FP(S2)op
mop
2

Mod (S1)
Mod (S2)
FP(S1)op
Mod (S1)
v1

FP(S1)op
FP(S2)op
FP(S2)op
Mod (S2)
v2

Set S1
Set S2
f!
/
Mod (S1)
Set S1

Mod (S1)
Mod (S2)
f#
/ Mod (S2)
Set S2

Set S1
Set S2
o
f‚àó
Mod (S1)
Set S1
O
Mod (S1)
Mod (S2)
o
f‚àó
Mod (S2)
Set S2
O
(4)
In this diagram, the lower f ‚àóis induced by composing with f, and since f takes cones
to cones, f ‚àórestricts to a map with the same name on models. f! is the left Kan extension
(Section 1.9). The inclusions of models into the functor categories have left adjoints by
Kennison‚Äôs theorem, and f# exists by Theorem 2(a).
The commutativity f# ‚ó¶u1 = u2 ‚ó¶f op follows from this computation, where the last
two isomorphisms follow from property (Y):
Hom(f#u1(X), M2) ‚àº= Hom(u1(X), f ‚àóM2) ‚àº= Hom(u1(X), M2 ‚ó¶f)
‚àº= M2(f(X)) ‚àº= Hom(u2(f(X)), M2)‚ó¶
Here X an object of S1 and M2 a model of S2.
Since f# is a left adjoint, it preserves colimits, whence f op
# preserves limits. Moreover,
f op
# (S1) ‚äÜS2 ‚äÜFP(S2), FP(S1) is the full closure of S1 under Ô¨Ånite products and FP(S2)
is full and closed under Ô¨Ånite products, so it follows that f#(FP(S1)op) ‚äÜFP(S2)op. We
let FP(f)op be the restriction of f#. Clearly it makes both squares commute. Uniqueness
for the middle one follows from the fact that v2 is monic, and uniqueness up to natural
isomorphism for the top one from the fact that FP(S1)op is the FP-subcategory generated
by the image of mop
1 .

134
MICHAEL BARR AND CHARLES WELLS
3.6. Theorem. Let S be an FP-sketch. Then m is a model of S. Moreover, any model
of S in a category C with Ô¨Ånite products has an extension along m to a model of FP(S)
in C. This extension is unique up to isomorphism in the functor category. Furthermore,
Mod (S) is equivalent to Mod (FP(S)), where FP(S)) is considered a sketch whose cones
are all the Ô¨Ånite product cones.
Proof. Just as in Exercise (PRES) on page 41 of Chapter 1.7, if u embeds S into a
subcategory of Set S, then uop preserves everything that every functor in that subcategory
preserves. It follows that uop and hence m is a model of S. Now let S1 = S and S2 = C in
Theorem 3. The fact that C is a category and has Ô¨Ånite products and u2 is a functor and
preserves Ô¨Ånite products implies that C is equivalent to FP(C). (Note that FP(S) is the
closure of S under two operations‚Äîcomposition of arrows and Ô¨Ånite products‚Äîand C is
closed under both of them).
3.7. Fine points. Observe that models of a sketch S which happens to be a category
with Ô¨Ånite products and whose cones happen to be all Ô¨Ånite product cones are the same
as FP-functors from the category.
It follows from the fact that Mod (S) is equivalent to Mod (FP(S)) that m is both
mono and epi in the category of FP-sketches. Nevertheless, m need not be surjective on
objects, nor reÔ¨Çect isomorphisms (a property more relevant than injectivity on objects).
For example, the embedding of the sketch for groups into the theory of groups is not
surjective, since the latter has all powers of G.
As for reÔ¨Çecting isomorphisms, consider the sketch obtained from the sketch for groups
by adding an arrow G
/ G2 and a diagram forcing m to be invertible. This forces all
the powers of G to be isomorphic.
3.8. Single-sorted theories. An FP-theory Th is single-sorted (or an algebraic
theory) if there is an object G of Th with the property that every object of Th is a power
of G. Most of the familiar categories in mathematics which are categories of models of
FP-theories are actually models of single-sorted theories.
This includes examples like
groups, rings, monoids, R-modules for a Ô¨Åxed ring R (each element of the ring is a unary
operation), and even unlikely looking examples such as the category of all modules (but
not the category of all monoid actions (Exercise (RMFP) on page 135)).
A set of objects in an FP-theory Th is a set of sorts for the theory if Th is the smallest
FP-subcategory of Th containing the set of objects. The examples just mentioned, espe-
cially the last, illustrate that the number of sorts for a theory is not well-deÔ¨Åned, although
single-sorted is well-deÔ¨Åned. Even though the category of all modules can be presented
as algebras for a single sorted theory, that is conceptually not the most reasonable way
to present it.
3.9. Single-sorted FP-algebras are tripleable over sets. The proof of the
following theorem requires material from Chapters 3, 8 and 9, but we include it here
because of the connection it makes between theories and tripleability.
3.10. Theorem. The category of models in Set of an FP-theory Th is tripleable over Set
if and only if it is the category of models of a single-sorted FP-theory.

TOPOSES, TRIPLES AND THEORIES
135
Proof. We make use of Theorem 5 of Section 9.1. The category of models of an FP-
theory is exact, as we will see in Section 8.4. If Th is single-sorted, then its generating
object (lying in the category of models via the embedding u given above) is a regular
projective generator. The converse follows immediately from Theorem 5 of Section 9.1.
Exercises 4.3.
(VFF)
‚ô¶. Show that mop in diagram (2) is full and faithful (but, as pointed out in the
text, not necessarily either injective or surjective on objects).
(RMFP). Show that the category of all modules (deÔ¨Åned analogously to the category of
all monoid actions deÔ¨Åned in Section 4.1) is given by a single-sorted theory. (Hint: The
underlying set of (R, M) where R is a ring and M is an R-module is R √ó M).
(SSFP)
‚ô¶. Show that if Th is a single sorted FP-theory, and Mod (Th) the category of
models of Th, then Th is equivalent to the full subcategory of Mod (Th)op consisting of the
Ô¨Ånitely generated free algebras.
Note: The following two exercises require familiarity with Theorem 5 above, parts of
Section 3.4 and Theorem 5 of Section 9.1.
(MAFP). Show that the category of all monoid actions (for all monoids) deÔ¨Åned in Sec-
tion 4.1 is the category of models of an FP-theory but not of a single-sorted FP-theory.
(Use Theorem 5, and show that it cannot have a single projective generator. Remember
the set acted upon can be empty. Or else use the following exercise.)
(EVTT)
‚ô¶. a. Prove that if A is a set of sorts for a theory Th, then Mod (Th) is tripleable
over Set A.
b. Prove that the full subcategory of Set A consisting of functions whose values are either
always empty or never empty satisÔ¨Åes VTT (see Section 3.5) over Set, with underlying
functor taking a function to the product of its values. (Its left adjoint takes a set to a
constant function.)
c. Prove that the following three statements about an FP-theory Th are equivalent:
(i). Th is equivalent to a single-sorted FP-theory.
(ii). If M is a model of Th in Set, then either MA is empty for every object A of Th or
MA is nonempty for every object A of Th.
(iii). The underlying functor Mod (Th)
/Set reÔ¨Çects isomorphisms. (Hint: Show that
if Th is generated by a single object X then evaluation at X reÔ¨Çects isomorphisms).
(OPS)
‚ô¶. Show that the elements of the free algebra on n generators for a single sorted
theory are in 1-1 correspondence with the set of n-ary operations.
(Hint: The n-ary
operations are the maps Gn
/ G in Th which are the same as arrows G
/ Gn in the
category of models. Now use adjointness.)

136
MICHAEL BARR AND CHARLES WELLS
4. Left Exact Theories
An LE-category is a left exact category, i.e. a category which has all Ô¨Ånite limits. An
LE-functor between LE-categories is one which preserves Ô¨Ånite limits. An LE-sketch
is a sketch, all of whose cones are over Ô¨Ånite diagrams.
Given an LE-sketch S, we can construct the LE-theory associated to S, denoted
LE(S), in exactly the same way that we constructed FP(S) in Section 4.3. As there, we
also get a generic LE-model m: S
/ LE(S) and we can prove the following two theorems.
In Theorem 1, vi is deÔ¨Åned as in Section 4.3.
4.1. Theorem. Let f: S1
/ S2 be a morphism of LE-sketches.
Then f induces a
map f ‚àó: Mod (S2)
/ Mod (S1) which has a left adjoint f#. Moreover, if, for i = 1, 2,
ui = vi ‚ó¶mop
i
is the embedding of Sop
i
into Mod (Si), then there is a functor LE(f)op which
is the unique functor making the bottom square in the following diagram commute. More-
over, any functor from LE(S1)op to LE(S2)op that makes the top square commute must be
naturally isomorphic to LE(f)op.
LE(S1)op
LE(S2)op
LE(f)op
/
Sop
1
LE(S1)op
mop
1

Sop
1
Sop
2
fop
/ Sop
2
LE(S2)op
mop
2

Mod (S1)
Mod (S2)
f#
/
LE(S1)op
Mod (S1)
v1

LE(S1)op
LE(S2)op
/ LE(S2)op
Mod (S2)
v2

Mod (S1)
Mod (S2)
o
f‚àó
LE(S1)op
Mod (S1)

LE(S1)op
LE(S2)op
/ LE(S2)op
Mod (S2)

4.2. Theorem. Let S be a LE-sketch. Then any model of S in an LE-category C has an
extension along m to a model of LE(S) in C. This model is unique up to isomorphism in
the functor category. Moreover, Mod (S) is equivalent to Mod (LE(S)) where the latter is
considered a sketch whose cones are all the cones over Ô¨Ånite diagrams.
The following corollary is immediate from Theorem 2.
4.3. Corollary. Every FP-theory has an extension to an LE-theory which has the same
models in any LE-category.
Thus for example there is an LE-theory of groups. Besides the powers of the generic
group G, it contains constructions which can be made from the powers of G and the arrows
in the FP-theory by forming Ô¨Ånite limits. Since the models preserve these limits, and
homomorphisms of groups are just natural transformations of the models, it follows that
homomorphisms in a Ô¨Åxed LE-category must preserve all constructions which can be made
on the groups using Ô¨Ånite limits in the theory of groups. For example, homomorphisms
must preserve the subset {(x, y) | xy = yx} of the product of a group with itself, since the
latter is an equalizer in the LE-theory of groups. Another example is the subset consisting

TOPOSES, TRIPLES AND THEORIES
137
of elements whose order divides 2 (or any other Ô¨Åxed integer). This subset is the equalizer
of the homomorphism which is identically 1 and the squaring map, both of which can be
expressed in the theory of groups.
The center of a group can be described as {x ‚ààG | for all y ‚ààG, xy = yx}. This
does not have the form of a limit because of the universal quantiÔ¨Åer inside the deÔ¨Ånition.
Moreover, there can be no clever way to express the center as a Ô¨Ånite limit, because it is
not preserved by homomorphisms.
In chapter 8, we are going to study in some detail the properties of categories of
models. However, one important property of models of LE-theories will be used before
that and we give the result here.
We must begin with a deÔ¨Ånition. A diagram D: I
/ C is called Ô¨Åltered if
(i). given any two objects i and j of I there is a third object k to which i and j both
map, and
(ii). given two arrows
I
f
/
g
/ J
of I there is an arrow h: j
/ k such that D(h) ‚ó¶D(f) = D(h) ‚ó¶D(g).
The slight awkwardness of this deÔ¨Ånition is the price we must pay for using index
graphs instead of index categories. We believe it is worth it for the reasons mentioned at
the end of Chapter 1. ‚Äúendcomment‚ÄúendcommentA colimit taken over a Ô¨Åltered diagram
is called a Ô¨Åltered colimit. The main signiÔ¨Åcance is that Ô¨Åltered colimits commute with
limits in Set and many other interesting categories (Exercise (FILT) on page 145).
4.4. Theorem. The category of set-valued models of a left exact theory has arbitrary
limits and all Ô¨Åltered colimits; moreover, these are preserved by the set-valued functors of
evaluation at the objects of the theory.
Proof. Let Th be an LE-theory. If {Mi} is a diagram of models, the fact that limits
commute with limits implies that the pointwise limit lim Mi is a model and is evidently
the limit of the given diagram. Similarly, the fact that Ô¨Ånite limits commute with Ô¨Åltered
colimits implies that the Ô¨Åltered colimit of models is a model. To say that these limits
and Ô¨Åltered colimits are computed ‚Äúpointwise‚Äù is the same thing as saying that they are
preserved by the evaluation.
4.5. Finitely presented algebras. A Ô¨Ånitely presented algebra for an equa-
tional theorythat is, a single-sorted FP-theory) is an algebra which is a coequalizer of
two arrows between Ô¨Ånitely generated free algebras. Since the LE theory associated with
an equational theory is the Ô¨Ånite limit closure of the sketch in the dual of the category
of models, it can also be viewed as the dual of the Ô¨Ånite colimit closure of the category
of Ô¨Ånitely generated free algebras in the category of algebras and hence contains every
Ô¨Ånitely presented algebra. Moreover, it clearly consists of exactly that category if and
only if that category is cocomplete.

138
MICHAEL BARR AND CHARLES WELLS
4.6. Theorem. Let C be the category of algebras for an equational theory. Then the cat-
egory of Ô¨Ånitely presented algebras is Ô¨Ånitely cocomplete, hence is the dual of the associated
LE theory.
Proof. We let F(n) denote the free algebra on n generators for a Ô¨Ånite integer n. Since
the sum of coequalizer diagrams is a coequalizer and the sum of Ô¨Ånite free algebras is
Ô¨Ånite free, it is evident that this category has Ô¨Ånite sums. So we must show that in any
coequalizer diagram
A‚Ä≤
// A
/ A‚Ä≤‚Ä≤
if A‚Ä≤ and A are Ô¨Ånitely presented, so is A‚Ä≤‚Ä≤. Consider the picture
F(m)
F(n)
D0 /
F(m‚Ä≤)
F(m)
F(m‚Ä≤)
F(n‚Ä≤)
D0 / F(n‚Ä≤)
F(n)
F(m)
F(n)
D1 /
F(m‚Ä≤)
F(m)
F(m‚Ä≤)
F(n‚Ä≤)
D1 / F(n‚Ä≤)
F(n)
F(n)
A
/
F(n‚Ä≤)
F(n)
F(n‚Ä≤)
A‚Ä≤
/ A‚Ä≤
A
d1

F(n)
A
F(n‚Ä≤)
F(n)
F(n‚Ä≤)
A‚Ä≤
A‚Ä≤
A
d0

A
A‚Ä≤‚Ä≤
d

in which the two rows and the column are coequalizers.
The properties of freeness,
in conjunction with the fact that D: F(n)
/ A is surjective, allow us to Ô¨Ånd arrows
d 0, d 1: F(n‚Ä≤)
/ F(n) making the diagram serially commutative. Furthermore, by re-
placing the top row by the sum of the top row and the second, making the d i be the
identity on the second component, everything remains as is and now both pairs of d i have
a common right inverse in such a way that the diagram remains serially commutative. By
applying the same trick to the top row we can suppose that the top row is also a reÔ¨Çexive
coequalizer. Thus the result follows from the following lemma whose proof we leave as an
exercise (Exercise (DIAG2) on page 145).
4.7. Lemma. In any category, if the top row and right column are reÔ¨Çexive coequaliz-
ers and the middle column is a reÔ¨Çexive parallel pair, then the diagonal sequence is a
coequalizer.
A‚Ä≤
A

A‚Ä≤
A

B‚Ä≤
B

B‚Ä≤
B

B
A
D
/
B‚Ä≤
B
OB‚Ä≤
A‚Ä≤
D
/ A‚Ä≤
A
O
C‚Ä≤
B‚Ä≤
o
C‚Ä≤
B‚Ä≤
/
C‚Ä≤
B‚Ä≤
/
A
A‚Ä≤‚Ä≤
d


TOPOSES, TRIPLES AND THEORIES
139
4.8. Examples of LE-theories. The main point of LE-theories is that many math-
ematical structures are models of LE-theories. In the remainder of this section, we will
show that
(i). posets and order-preserving maps,
(ii). categories and functors,
(iii). LE-categories and LE-functors, and
(iv). toposes and logical functors
are all categories of models of LE-theories. None of these is the category of models of
an FP-theory.
Toposes are the subject of Chapter 2, and logical functors are deÔ¨Åned in Section 5.3.
We deÔ¨Åne them below to maintain the independence of this chapter from Chapter 2.
We Ô¨Årst observe that to make an arrow f: B
/A become a mono in all the LE-models
of the sketch, one only need add the cone
A
B
f
/
A
A
UA

A
A
UA
/ A
B
f

A
B
f
?
?
?
?
?
?
?
?
?
?
?
?
?
to the set of cones of the sketch. This is shorthand for saying, ‚ÄúAdd the cone with vertex
A whose base is the diagram
A
B
f
/
A
A
B
f

and whose transition arrows are UA, UA and f to the sketch‚Äù. The diagram then must
become a pullback in any model (and UA must become idA), forcing f to be monic. (Note
that this cone is made up of data already given in the sketch).
Similarly, to construct a pullback of a diagram
B
C
g
/
B
A
C
f

where the objects and arrows are already in the diagram, one adds an object P and arrows
p1: P
/ A, p2: P
/ B, and p3: P
/ C and makes these data a cone of the sketch.

140
MICHAEL BARR AND CHARLES WELLS
To force the following diagram
E
e
/ A
f
/
g
/ B
to become an equalizer in the models, one must add a cone with vertex E and arrows to
the diagram
A
f
/
g
/ B
The latter diagram must not be included as one of the diagrams in the sketch as that
would obviously force f = g.
One can construct other limits in a similar way. In the sequel, that is what we mean
when we say that a sketch must have an arrow ‚Äúwhich is to be a monic‚Äù or an object
‚Äúwhich is to be a limit‚Äù of some given diagram.
Thus we can describe the sketch for posets as containing the following items.
(i). An object S, which will become the underlying set of the poset.
(ii). An object S2 to be the product of S and S.
(iii). An object R (the relation) and a monic i: R
/ S2.
To force R to be reÔ¨Çexive, you need an object ‚àÜ, a monic Œ¥: ‚àÜ
/ S2 and a cone
forcing it to be the equalizer of the projections. Then add an arrow r: ‚àÜ
/ R and a
diagram
‚àÜ
R
r
/
‚àÜ
S2
Œ¥
?
?
?
?
?
?
?
?
?
?
?
?
?
R
S2
i

You could instead construct a common right inverse to the projections of R onto S
but we need ‚àÜanyway.
For antisymmetry, add an arrow S2
/S2 and a diagram forcing it to be the switching
map. Then add an arrow s: R
/ R and a diagram forcing it to be the restriction of
the switching map. With this you can add an object A and a cone forcing it to be the
Ô¨Åber product R √óS R where the Ô¨Årst projection is UR and the second is s. Thus A must
become the set
{(r, r‚Ä≤) | (r, r‚Ä≤) ‚ààR and (r‚Ä≤, r) ‚ààR}
Note that A must become a subobject of R in the model (the pullback of a monic is a
monic), and so a subobject of S2. Antisymmetry is simply the requirement that there is
a monic e from A to ‚àÜand a diagram forcing the inclusion of A in S2 to factor through
it.
Transitivity can be attained by constructing the pullback
P = [(r1, r2, r3) | (r1, r2) ‚ààR and (r2, r3) ‚ààR]

TOPOSES, TRIPLES AND THEORIES
141
and an arrow p: P
/ R with a diagram forcing p(r1, r2, r3) = (r1, r3).
We will see in Chapter 8 (Theorem 1 of Section 8.4) that, since the category of posets
is not regular, it cannot be expressed as models of an FP-theory.
4.9. Categories. The work of constructing a sketch whose models are categories was
essentially done in Section 1.1, where categories were deÔ¨Åned by commutative diagrams.
Thus the sketch for categories must contain objects A (to be the set of arrows), O (to be
the set of objects) P, and Q, along with arrows d i: A
/ O, (i = 0, 1), u: O
/ A and
m: P
/ A, cones making P = [(f, g) | d 0(f) = d 1(g)] and
Q = [(f, g, h) | d 0(f) = d 1(g) and d 0(g) = d 1(h)]
It must also contain the diagrams (i) through (iv) of Section 1.¬ø; to include these
diagrams, we have to add the four arrows in those diagrams not already in the sketch,
such as 1 √ó m, and diagrams forcing those four arrows to be what they should be, in
much the same way as we added arrows to get the FP-sketch for groups in Section 4.1.
We omit the details. (Note that we do not need to add arrows to be idO or idA because
of the incorporation of the function U in the deÔ¨Ånition of sketch).
By omitting some of these arrows, you get a sketch for the category of graphs and
morphisms of graphs. However, that category is actually given by an FP-theory (see
Exercise (GRLE) on page 145).
4.10. Left exact categories. By adding appropriate data to the LE-theory of cat-
egories, one can force the models to be left exact categories with designated limits; the
morphisms of models are exactly the functors that preserve the designated limits.
To get left exactness, we force the existence of a terminal object and of pullbacks. We
do pullbacks in considerable detail as an example of how to do other constructions later;
the terminal object is done by similar methods (but more easily) and is omitted.
To the sketch for categories we add an object CC, which is to be the set of pairs of
arrows with common codomain, i.e.,
CC = {(f, g) ‚ààA √ó A | d 1(f) = d 1(g)};
an object CD, which is to be the set of pairs of arrows with common domain; and CS,
which is to be the set of commutative squares. Thus CC and CD must be the vertices of
the following ones:
A
O
d 1
/
CC
A
cc1

CC
A
cc2
/ A
O
d 1

A
O
d 0
/
CD
A
cd1

CD
A
cd2
/ A
O
d 0

Similarly, CS must be a cone which in an interpretation becomes
[(f, g, h, k) | d 0(f) = d 0(g), d 1(h) = d 1(k), d 1(f) = d 0(h),
d 1(g) = d 0(k), and m(h, f) = m(k, g)].

142
MICHAEL BARR AND CHARLES WELLS
This comes equipped with four projections si: CS
/ A. (Don‚Äôt confuse these pullbacks
with the pullbacks which we are trying to force the existence of in the models.)
We also add an arrow t: CS
/ CC which projects a commutative square onto its
lower right half; this is forced by adding the diagram
A
CC
cc1
/
CS
A
s3

CS
A
s4
/ A
CC
cc2

CS
CC
t
?
?
?
?
?
?
?
?
?
?
?
?
?
to the sketch.
Forming the pullback of something in CC must be an arrow Œª: CC
/ CD; on this
we must impose equations forcing the codomains of the two arrows which make up Œª(f, g)
to be the domains of f and g respectively. These are the diagrams
A
A
CC
A
cci

CC
CD
Œª
/ CD
A
cdi

O
d 0
/
o
d 1
for i = 1, 2.
To get the pullback condition, any commutative square must have a unique arrow
to the appropriate pullback square with the appropriate commutativity conditions. The
existence of the arrow is assured by including an arrow Œ∏: CS
/ A in the sketch which
for a given commutative square S = (f, g, h, k) makes everything in the following diagram
commute. Note that this diagram, unlike the ones above, is intended to be in a model,
not in the sketch.
S3
S4
h
/
S1
S3
f

S1
S2
g
/ S2
S4
k

S1
Œª(h, k)
Œ∏(S)
?
?
?
?
?
?
?
?
?
?
?
?
Œª(h, k)
S3
r

S2
Œª(h, k)
s

Here, r = cd1(Œª(t(S))) and s = cd2(Œª(t(S))).
To make everything in the preceding diagram commute requires several diagrams to
be added to the sketch. These diagrams must
(i). force the domain of Œ∏(S) to be the upper left corner of S;

TOPOSES, TRIPLES AND THEORIES
143
(ii). force the codomain of Œ∏(S) to be the upper left corner of Œª(t(S));
(iii). and make the two triangles in the preceding diagram commute.
In some cases, arrows and other diagrams deÔ¨Åning them must be added to the sketch
before these diagrams are included. For example, the diagram which makes the upper
triangle commute is the right diagram below, where the left diagram deÔ¨Ånes u.
CD
A
cd2
/
CC
CD
Œª

CC
S
o
t
S
A
A2
o
p1
A
Œ∏
/ A
A2
O
p2
S
A2
u
?
?
?
?
?
?
?
?
?
?
?
?
?
A2
A
m
/
S
A2
u

S
A
s2
?
?
?
?
?
?
?
?
?
?
?
?
?
Finally, to get the uniqueness of Œ∏, we must deÔ¨Åne an object SS in the sketch that is
to represent all sextuples of arrows in the following conÔ¨Åguration
S3
S4
h
/
S1
S3
f

S1
S2
g
/ S2
S4
k

S1
Œª(h, k)
v
?
?
?
?
?
?
?
?
?
?
?
?
S1
Œª(h, k)
u
?
?
?
?
?
?
?
?
?
?
?
?
Œª(h, k)
S3
r

S2
Œª(h, k)
s

for which r ‚ó¶u = r ‚ó¶v = f and s ‚ó¶u = s ‚ó¶v = g (which requires adding a certain cone and
some diagrams to the sketch) and an arrow Œ±: SS
/ A, along with diagrams forcing
Œ±(a) to equal both u and v.
4.11. Toposes. A topos is an LE-category with the property that for each object X
there is an object PX (the power object of X) and a subobject e: ‚ààX
/
/ X √ó PX
with the property that if u: U
/
/ X √ó B is any subobject of X √ó B for which
(i). this diagram
‚ààX
X √ó PX
/
/
U
‚ààX
Œ®(u)

U
X √ó B
/
u
/ X √ó B
X √ó PX
idX√óŒ¶U

(1)
is a pullback, and

144
MICHAEL BARR AND CHARLES WELLS
(ii). if u‚Ä≤: U ‚Ä≤
/
/ X √ó B determines the same subobject as u, then Œ®(u) = Œ®(u‚Ä≤) and
Œ¶(u) = Œ¶(u‚Ä≤). (This is equivalent to the deÔ¨Ånition in Chapter 2: the subobject ‚ààX is in
fact a universal element for the functor Sub (X, √ó(‚àí)), which is therefore representable.)
Toposes with designated limits and designated power objects are also models of an
LE-theory. One obtains them by adding some data determining the power object and ‚àà
to the sketch for LE-categories just given.
The Ô¨Årst thing we need is an object M of the sketch which is to consist of all the
monic arrows in A. This can be constructed as an equalizer of two arrows from A to CD,
one which takes f: X
/ Y to the pullback of
X
Y
f
/
X
X
X
Y
f

and another which takes f to
X
X
X
idX

X
X
idX
/ X
Both these arrows can be constructed by techniques used above.
We also need an arrow P: O
// O which should take an object (element of O) to
its power object, adn an arrow E: O
/ M along with diagrams forcing the domain of
E(X) to be X and the codomain to be X √ó PX.
Another equalizer construction will produce an object S of monos along with a speciÔ¨Åc
representation of the codomain of the mono as a product of two objects; in other words,
S = {(u, X, B) | u is monic, codomain of u is X √ó B}
The universal property of ‚ààthen requires an arrow œï: S
/A along with diagrams forcing
the domain of œï(u, X, B) to be B and the codomain to be PX. Further constructions
will give an arrow from A to A taking f: B
/ PX to (idX, f). From these ingredients
it is straightforward to construct an arrow Œ≤: S
/ CD that takes u: U
/ X √ó B to
‚ààX
X √ó PB
/
‚ààX
X √ó B
X √ó B
X √ó PB
idX√óœï(u)

The appropriate diagram then forces the pullback of this to be (1). The uniqueness of
œï(u) can be obtained by a construction similar to that which gave the uniqueness of the
arrow to a pullback.

TOPOSES, TRIPLES AND THEORIES
145
Perhaps the most eÔ¨Écient way to make œï and œà be invariant on subobjects is to
construct an object T consisting of all diagrams of the form
U
X √ó B
u
/
V
U

V
X √ó B
v
?
?
?
?
?
?
?
?
?
?
?
?
?
U
X √ó B
u
/
V
U
OV
X √ó B
v
?
?
?
?
?
?
?
?
?
?
?
?
?
with all four arrows monic. (In a model the arrows between U and V must become inverse
to each other). Then add to the sketch arrows œï‚Ä≤: T
/A and œà‚Ä≤: T
/A and diagrams
forcing œï‚Ä≤(u, v) = œï(u) = œï(v) and similarly for œà.
Exercises 4.4.
(FILT)
‚ô¶. Suppose D: I
/ Set is a Ô¨Åltered diagram. On the set U =
S DI deÔ¨Åne a
relation R by letting xRy for x ‚ààDI and y ‚ààDJ if and only if there is an object K and
maps f: I
/ K and g: J
/ K such that Df(x) = Dg(y).
(i). Show that R is an equivalence relation.
(ii). Show that the set of equivalence classes with the evident maps DI
/ U
/ U/R
is the colimit of D.
(iii). Show that if J is a Ô¨Ånite graph and E: J
/ Hom(I, Set) is a diagram, then
colim: Hom(I, Set)
/ Set preserves the limit of E.
(GRLE). One can construct an LE-theory for graphs by omitting some of the arrows,
cones and diagrams in the theory for categories, as suggested in the text, or by constructing
an FP-theory along the lines suggested in Exercise (GRMN) on page 108 of section 3.4 and
then constructing the LE-completion of that theory. Are the resulting theories equivalent
(or even isomorphic) as categories?
(REC). Show that the category of right-exact small categories and right-exact functors
is the category of models of an LE-theory.
(SUBS). Show that neither of these subcategories of Set is the category of models of an
LE-theory:
a. The full subcategory of Ô¨Ånite sets;
b. The full subcategory of inÔ¨Ånite sets.
(See Exercise (INF) on page 246 of Section 8.3.)
(DIAG2)
‚ô¶. Prove Lemma 6. (Hint: Use representable functors to reduce it to the dual
theorem for equalizers in Set. It is still a fairly delicate diagram chase.)
5. Notes on Theories
The motivating principle in our study of theories is: turn the mathematician‚Äôs informal
description of a type of structure into a mathematical object which can then be studied

146
MICHAEL BARR AND CHARLES WELLS
with mathematical techniques. The fruitfulness of the subject comes from the interplay
between properties of the description (the theory, or syntax) and properties of the objects
described (the models, or semantics). That LE theories are closed under Ô¨Åltered colimits
is an example of this (Theorem 4 of Section 4.4). Many other properties are given in
Theorem 1 of Section 8.4.
In classical model theory, of which a very good presentation is found in [Chang and
Keisler, 1973], the theory consists of a language, rules of inference and axioms; thus the
theory is an object of formal logic. The models are sets with structure. The natural notion
of morphism is that of elementary embedding. The reason for this is that inequality is
always a stateable predicate.
In our treatment, the theory is a category with certain properties (FP, LE, etc. as in
Chapter 4) and extra structure (a topology, as in Chapter 8), the models are functors
to other categories with appropriate structure, and morphisms of models are natural
transformations of these functors. This almost always gives the correct class of morphisms.
Categorical theories were devmloped in two contexts and from two diÔ¨Äerent directions.
One was by Grothendieck and his school in the context of classifying toposes (Grothen-
dieck [1964]). These are, essentially, our geometric theories as in Chapter 8. The other
source was the notion of (Ô¨Ånitary) equational theories due to Lawvere [1963]; they are our
single-sorted FP theories. Thus these two sources provided the top and bottom of our
hierarchy.
The Grothendieck school developed the idea of the classifying topos for a type of
structure in the late 1950‚Äôs. Because of the name, we assume that they were developed
by analogy with the concept of classifying space in topology.
In the 1960‚Äôs, Lawvere invented algebraic theories (our single-sorted FP theories) quite
explicitly as a way of describing algebraic structures using categories for theories and
functors for models. His work is based on the concept of G. BirkhoÔ¨Ä‚Äôs equational classes.
Of course, BirkhoÔ¨Ädid not describe these in terms of categories, nor was his concept
of lattice useful in this connection. The latter was primarily useful for describing the
classes of subobjects and quotient objects. Models were described in semantic terms and
it seems never to have occurred to anyone before Lawvere that the theory of groups could
be thought of as a generic group. Lawvere‚Äôs seminal observation that the theory of groups,
for example, is a category with a group object, that a group in Set is a product preserving
functor and that a morphism of groups is a natural transformation of functors is an idea
of a diÔ¨Äerent sort, rather than just an extension of existing ones.
Lawvere‚Äôs work was limited to Ô¨Ånitary equational theories, and it was Linton [1966],
[1969a] who extended it to inÔ¨Ånitary theories (not covered in this book) and made precise
the relation with triples. It became clear very early that the study of inÔ¨Ånitary theories
becomes much more tractable via the Lawvere-Linton approach.
Lawvere alluded to multisorted FP theories in his thesis and even asserted ‚Äì incorrectly
‚Äì that the category of algebras for a multisorted theory could be realized as algebras for a
single-sorted theory. Multisorted algebraic theories have recently found use in theoretical
computer science; see Barr and Wells [1999].

TOPOSES, TRIPLES AND THEORIES
147
An early attempt at extending theories beyond FP was Freyd‚Äôs ‚Äúessentially algebraic
theories‚Äù [1972], which are subsumed by our LE theories. The idea of deÔ¨Åning algebraic
structures in arbitrary categories predates Lawvere‚Äôs work; for example Eckmann-Hilton
[1962]. See also B¬¥enabou [1968], [1972].
Somewhere along the line it became clear that algebraic theories had classifying toposes
and that Lawvere‚Äôs program of replacing theories by categories, models by functors and
morphisms by natural transformations of those functors could be extended well beyond
the domain of equational theories.
Ehresmann introduced sketches in the late 1960‚Äôs as a way of bringing the formal
system closer to the mathematician‚Äôs naive description. (Our notion of sketch is even more
naive than his. However, the kinship is clear and we are only too happy to acknowledge
the debt.) The development of the categorical approach to general theories constituted the
major work of the last part of his career. The presentation in Bastiani-Ehresmann [1973]
(which contains references to his earlier work) is probably the best starting place for the
interested reader. Our description of sketches and induced theories is very diÔ¨Äerent from
Ehresmann‚Äôs. In particular, he constructs the theory generated by a sketch by a direct
transÔ¨Ånite induction rather than embedding in models and using Kennison‚Äôs Theorem.
(See Kelly [1982] for a general report on the use of transÔ¨Ånite induction in this area.)
Ehresmann‚Äôs sketches are based on graphs with partial composition rather than simply
graphs, but as is clear from our treatment in Section 4.1, the transition is straightforward.
The connection between logical theories and categorical theories was explored system-
atically by Makkai and Reyes (two logicians!) [1977] who showed that when restricted
to geometric theories the two were entirely interchangeable. See also Lambek and Scott
[1986] and Bunge [1983].
With the advent of toposes and geometric morphisms from Lawvere-Tierney, the the-
ory of geometric theories reached its full fruition. What was left was only to Ô¨Åll in the
holes ‚Äì special cases such as regular and Ô¨Ånite sum theories. This was more or less clear
to everyone (see Lawvere [1975]) but we have the Ô¨Årst systematic treatment of it.

5
Properties of Toposes
In this chapter we will develop various fundamental properties of toposes. Some of these
properties are familiar from Set; thus, every topos has Ô¨Ånite colimits and has internal
homsets (is Cartesian closed). Others are less familiar, but are technically important; an
outstanding example of this sort of property is the fact that if E is a topos then so is the
category E/A of objects over an object A of E. Our treatment makes substantial use of
triple theory as developed in Chapter 3.
1. Tripleability of P
1.1. Theorem. [Par¬¥e] P: Eop
/ E is tripleable.
Proof. We will use the Crude Tripleability Theorem (Section 3.5). P has a left adjoint,
namely Pop (Proposition 3 of Section 2.3). Eop has coequalizers of reÔ¨Çexive pairs, indeed
all coequalizers, because E has all Ô¨Ånite limits. The other properties, that P reÔ¨Çects
isomorphisms and preserves coequalizers of reÔ¨Çexive pairs, follow from Lemmas 4 and 5
below.
Before proving these lemmas, we illustrate the power of this theorem with:
1.2. Corollary. Any topos has Ô¨Ånite colimits.
Proof. By Theorem 1 of 3.4, a category of algebras ET for a triple T on a category E
has Ô¨Ånite limits if E does, but Eop having limits is equivalent to E having colimits.
The same argument implies that a topos has colimits of any class of diagrams that it
has limits of. The converse of this is also true (Exercise (LIM) on page 150).
Observe that for any topos E, the functor T = P ‚ó¶P is a covariant endofunctor of E.
Since T is the composite of a functor and its right adjoint, it is the functor part of a triple
(T, Œ∑: 1
/ T, ¬µ: T 2
/ T).
1.3. Lemma. For any object A of E, Œ∑A: A
/ PPA is monic.
Proof. The singleton map {}: A
/ PA is monic by Proposition 1 of Section 2.3, so
{} ‚ó¶{}: A
/ TA is also monic. The Lemma then follows from Exercise (ETAMON) on
page 87 of section 3.1.
148

TOPOSES, TRIPLES AND THEORIES
149
1.4. Lemma. P reÔ¨Çects isomorphisms.
Proof. Suppose f: B
/ A in E and suppose Pf is an isomorphism. Then so is PPf.
In the commutative diagram
PPA
PPB
o
PPf
A
PPA

Œ∑A

A
B
o
f
B
PPB

Œ∑B

(1)
the vertical arrows are monic by Lemma 3, so f is monic. Since for any object C of E,
HomE(C, Pf) is essentially the same (via the natural isomorphism œï of Section 2.1) as
Sub(C √ó f), the fact that Pf is an isomorphism means that Sub f: Sub A
/ Sub B is
an isomorphism in Set, i.e., a bijection.
Now A is a subobject of A via the identity and B is a subobject of A via f, which
we now know is monic. It is easy to see that Sub f(A) = Sub f(B) is the subobject
idB: B
/ B, so since Sub f is a bijection, idA: A
/ A and f: B
/ A determine the
same subobject of A. It follows easily that f is an isomorphism.
1.5. Lemma. P preserves the coequalizers of reÔ¨Çexive pairs. In fact, it takes them to
contractible coequalizers.
Proof. This elegant proof is due to Par¬¥e. A coequalizer diagram of a reÔ¨Çexive pair in
Eop is an equalizer diagram
A
f
/ B
g
/
h
/ C
(2)
in E in which g and h are split monos. All these diagrams are pullbacks:
A
B
f
/
A
A
1

A
A
1
/ A
B
f

B
C
h
/
A
B
f

A
B
f
/ B
C
g

B
C
h
/
B
B
1

B
B
1
/ B
C
h

(3)
Hence, by the Beck condition and the fact that ‚àÉidA = idPA, these diagrams commute:
PA
PB
‚àÉf
/
PA
PA
O
1
PA
PA
1
/ PA
PB
O
Pf
PB
PC
‚àÉh
/
PA
PB
O
Pf
PA
PB
‚àÉf
/ PB
PC
O
Pg
PB
PC
‚àÉh
/
PB
PB
O
1
PB
PB
1
/ PB
PC
O
Ph
(4)

150
MICHAEL BARR AND CHARLES WELLS
It follows from this that
PC
Pg
/
Ph
/ PB
Pf
/ PA
(5)
is a contractible coequalizer, with its contraction given by ‚àÉf and ‚àÉh.
Exercises 5.1.
(LIM)
‚ô¶. Show that a topos has colimits corresponding to whatever class of limits it has
and conversely. (Hint: To have a limit (resp. colimit) for all diagrams based on a graph
I is to have a left (resp. right) adjoint to the diagonal‚Äîor constant functor‚Äîfunctor
E
/ Func(I, E). Use the Butler Theorem 3 of 3.7 and the tripleability of Eop
/ E to
derive the two directions.)
(SPCO)
‚ô¶. Prove that (5) is a contractible coequalizer diagram.
2. Slices of Toposes
Recall from Section 1.1 that if C is a category and A an object of C, the category C/A,
called the slice of C by A, has as objects arrows C
/ A and morphisms commutative
triangles.
The following theorem is heavily used in proving the embedding theorems of Chapter
7.
2.1. Theorem. If E is a topos and A an object of E, then E/A is a topos.
Proof. E/A has a terminal object, namely the identity on A, and the map E/A
/ E
creates pullbacks (Exercise (PIX) on page 38 of Section 1.7), so E/A has Ô¨Ånite limits.
We must construct a power objectfor each object of E/A.
The product of objects B
/ A and C
/ A in E/A is the pullback B √óA C, which
is an object over A, and for any object X
/ A of E/A, Sub(X
/ A) is the same as
Sub(X) in E. Thus given an object f: B
/ A of E/A, we must construct an object
P(B
/ A) which represents Sub(B √óA C) regarded as a functor of objects g: C
/ A
of E/A. The key to the proof lies in representing the pullback B √óA C as the equalizer
[(b, c) | (b, fb, c) = (b, gc, c)], thus given as the equalizer:
B √óA C
d
/ B √ó C
d0
/
d1
/ B √ó A √ó C
Now suppose we are given the arrow
C
A
?
?
?
?
?
?
?
?
?
?
?
?
?
C
C‚Ä≤
/ C‚Ä≤
A


TOPOSES, TRIPLES AND THEORIES
151
in E/A. We have a serially commutative diagram in which both rows are equalizers of
reÔ¨Çexive pairs:
B √óA C‚Ä≤
B √ó C‚Ä≤
d
/
B √óA C
B √óA C‚Ä≤

B √óA C
B √ó C
d
/ B √ó C
B √ó C‚Ä≤

B √ó C‚Ä≤
B √ó A √ó C‚Ä≤
d0
/
B √ó C
B √ó C‚Ä≤

B √ó C
B √ó A √ó C
d0
/ B √ó A √ó C
B √ó A √ó C‚Ä≤

B √ó C‚Ä≤
B √ó A √ó C‚Ä≤
d1
/
B √ó C
B √ó C‚Ä≤

B √ó C
B √ó A √ó C
d1
/ B √ó A √ó C
B √ó A √ó C‚Ä≤

Applying P to this diagram gives rise to the diagram in which by Lemma 5 of the
preceding section the rows are contractible coequalizers. After Hom(1, ‚àí) is applied, we
get
Sub(B √ó A √ó C)
Sub(B √ó C)
o
Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó A √ó C)

Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó C‚Ä≤)
o
Sub(B √ó C‚Ä≤)
Sub(B √ó C)

Sub(B √ó A √ó C)
Sub(B √ó C)
d0
/
Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó A √ó C)

Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó C‚Ä≤)
d0
/ Sub(B √ó C‚Ä≤)
Sub(B √ó C)

Sub(B √ó A √ó C)
Sub(B √ó C)
d1
/
Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó A √ó C)

Sub(B √ó A √ó C‚Ä≤)
Sub(B √ó C‚Ä≤)
d1
/ Sub(B √ó C‚Ä≤)
Sub(B √ó C)

Sub(B √ó C)
Sub(B √óA C)
/
Sub(B √ó C‚Ä≤)
Sub(B √ó C)

Sub(B √ó C‚Ä≤)
Sub(B √óA C‚Ä≤)
/ Sub(B √óA C‚Ä≤)
Sub(B √óA C)

(‚àó)
in which by the external Beck condition the rows are contractible coequalizers with con-
tractions d 0 ‚ó¶‚àí, so this diagram commutes serially too. Thus
Hom(C, P(B √ó A))
Hom(C, PB)
o
Hom(C‚Ä≤, P(B √ó A))
Hom(C, P(B √ó A))

Hom(C‚Ä≤, P(B √ó A))
Hom(C‚Ä≤, PB)
o
Hom(C‚Ä≤, PB)
Hom(C, PB)

Hom(C, P(B √ó A))
Hom(C, PB)
d0
/
Hom(C‚Ä≤, P(B √ó A))
Hom(C, P(B √ó A))

Hom(C‚Ä≤, P(B √ó A))
Hom(C‚Ä≤, PB)
d0
/ Hom(C‚Ä≤, PB)
Hom(C, PB)

Hom(C, P(B √ó A))
Hom(C, PB)
d1
/
Hom(C‚Ä≤, P(B √ó A))
Hom(C, P(B √ó A))

Hom(C‚Ä≤, P(B √ó A))
Hom(C‚Ä≤, PB)
d1
/ Hom(C‚Ä≤, PB)
Hom(C, PB)

is serially commutative and has contractible pairs as rows. By the adjunction between
E and E/A (see Exercise (SLADJ) on page 55 of Section 1.9), the following is a serially
commutative diagram of contractible pairs:
Hom(C
/ A, P(B √ó A) √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)
o
Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C
/ A, P(B √ó A) √ó A
/ A)

Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C‚Ä≤
/ A, PB √ó A
/ A)
o
Hom(C‚Ä≤
/ A, PB √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)

Hom(C
/ A, P(B √ó A) √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)
d 0
/
Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C
/ A, P(B √ó A) √ó A
/ A)

Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C‚Ä≤
/ A, PB √ó A
/ A)
d 0
/ Hom(C‚Ä≤
/ A, PB √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)

Hom(C
/ A, P(B √ó A) √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)
d 1
/
Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C
/ A, P(B √ó A) √ó A
/ A)

Hom(C‚Ä≤
/ A, P(B √ó A
/ A) √ó A)
Hom(C‚Ä≤
/ A, PB √ó A
/ A)
d 1
/ Hom(C‚Ä≤
/ A, PB √ó A
/ A)
Hom(C
/ A, PB √ó A
/ A)

It follows from the Yoneda lemma that we have a contractible pair
P(B √ó A) √ó A
/
PB √ó A
/
o
P(B √ó A) √ó A
/
PB √ó A
/
/
P(B √ó A) √ó A
/
PB √ó A
/
/

152
MICHAEL BARR AND CHARLES WELLS
in E/A. Coequalizers exist in E/A; they are created by the underlying functor to E. Using
the facts that Hom functors, like all functors, preserve the coequalizers of contractible
pairs, and subobjects in E/A are identical to subobjects in E, it is easy to see from
diagram (*) above that the coequalizer of the above parallel pair represents Sub(B √óA ‚àí).
Exercise 5.2.
(SF)
‚ô¶. Assuming, as we establish in the next section, that pullbacks of regular epis are
regular epis, show that E
/E/A is faithful if and only if A
/1 is epi. (Hint: consider,
for
B
// C
the diagram
B
C
/
A √ó B
B

A √ó B
A √ó C
/ A √ó C
C

B
C
/
A √ó B
B

A √ó B
A √ó C
/ A √ó C
C

and use regularity.)
3. Logical Functors
Two sorts of functors between toposes have proved to be important. Logical functors
are those which preserve the structure given in the deÔ¨Ånition of a topos.
They will
be discussed in this section.
The other kind is geometric functors, which arise as an
abstraction of the map induced by a continuous map between topological spaces on the
corresponding categories of sheaves of sets. They will be discussed in Section 6.5.
A functor L which preserves the structure of a topos must be left exact (preserve Ô¨Ånite
limits) and preserve power objects in the sense that L applied to each power object must
represent in a strong sense speciÔ¨Åed below the corresponding subobject functor in the
codomain category. To make sense of this, note that any functor L: E
/ E‚Ä≤ induces
by restriction a function (also denoted L) from HomE(A, B) to HomE‚Ä≤(LA, LB) for any
objects A and B of E. Furthermore, if L is left exact (hence preserves monos and products
in particular), it takes any subobject U
/
/ A √ó B to a subobject LU
/
/ LA √ó LB.
In the following deÔ¨Ånition, we put a prime on P or œï to indicate that it is part of the
structure of E‚Ä≤.
A functor L: E
/E‚Ä≤ between toposes is called logical if it preserves Ô¨Ånite limits and
if for each object B, there is an isomorphism
Œ≤B: Hom(‚àí, LPB)
/ Sub(‚àí√ó LB)

TOPOSES, TRIPLES AND THEORIES
153
such that the following diagram commutes (œï is the natural transformation in diagram
(1) of Section 2.1).
Sub(A √ó B)
Sub(LA √ó LB)
/
Hom(A, PB)
Sub(A √ó B)
œï(A,B)

Hom(A, PB)
Hom(LA, LPB)
L
/ Hom(LA, LPB)
Sub(LA √ó LB)
(Œ≤B)A

(1)
Of course, the deÔ¨Ånition implies that for every object B of E, LPB is isomorphic to
P‚Ä≤LB. We will see below that in fact the induced isomorphism is natural in B.
3.1. Proposition. A functor L: E
/ E‚Ä≤ is logical if and only if for each object
B of E there is an isomorphism Œ±B: LPB
/ P‚Ä≤LB for which the induced map
Œ≥B: Hom(A, PB)
/ Hom(LA, P‚Ä≤LB) deÔ¨Åned by Œ≥B(f) = Œ±B ‚ó¶Lf for f: A
/ PB
preserves œï in the sense that
Sub(A √ó B)
Sub(LA √ó LB)
/
Hom(A, PB)
Sub(A √ó B)
œï(A,B)

Hom(A, PB)
Hom(LA, LPB)
Œ≥B
/ Hom(LA, LPB)
Sub(LA √ó LB)
œï‚Ä≤(LA,LB)

(2)
commutes.
Proof. If L is logical, so that (1) commutes, deÔ¨Åne Œ±B to be the unique isomorphism
making the triangle in (5) below commute. There is one, since LPB and P‚Ä≤LB represent
the same functor.
Sub(A √ó B)
Sub(LA √ó LB)
/
Hom(A, PB)
Sub(A √ó B)
œï(A,B)

Hom(A, PB)
L
/
Sub(LA √ó LB)

Hom(LA, LPB)
Hom(LA, P‚Ä≤LB)
Hom(LA,Œ±B) /
Hom(LA, LPB)
Sub(LA √ó LB)
Œ≤B

Hom(LA, P‚Ä≤LB)
Sub(LA √ó LB)
œï‚Ä≤(LA,LB)
ukkkkkkkkkkkkkkkkkkkkkkk
(5)
The arrow along the top of (5) is Œ≥B, so (2) commutes.
Conversely, given the arrows Œ±B, deÔ¨Åne Œ≤ by requiring that the triangle in (5) com-
mute; then (1) commutes as required. Œ≤ is natural in X because both small squares in

154
MICHAEL BARR AND CHARLES WELLS
(4) below commute for any f: X
/ Y :
Sub(X √ó LB)
Sub(Y √ó LB)
o
Hom(X, P‚Ä≤LB)
Sub(X √ó LB)
œï(X,LB)

Hom(X, P‚Ä≤LB)
Hom(Y, P‚Ä≤LB)
Hom(Y, P‚Ä≤LB)
Sub(Y √ó LB)
œï(Y,LB)

Hom(X, P‚Ä≤LB)
Hom(Y, P‚Ä≤LB)
o
Hom(X, LPB)
Hom(X, P‚Ä≤LB)
Hom(X,Œ±B)

Hom(X, LPB)
Hom(Y, LPB)
o
Hom(Y, LPB)
Hom(Y, P‚Ä≤LB)
Hom(Y,Œ±B)

(4)
3.2. Proposition. If L: E
/E‚Ä≤ is logical, then P‚Ä≤‚ó¶L is naturally isomorphic to Lop‚ó¶P.
Proof. In fact, the Œ± of Proposition 1 is a natural isomorphism. In view of the way that
Œ± is deÔ¨Åned in terms of Œ≥, the naturality follows from the fact that the top face in diagram
(5) below commutes for any g: B
/ C. This in turn follows from the fact that all the
other faces commute and œï and œï‚Ä≤ are isomorphisms. The left and right faces commute
by deÔ¨Ånition of P and P‚Ä≤. The bottom face commutes because L preserves monos and
pullbacks.
Sub(A √ó C)
Sub(LA √ó LC)
/
Hom(A, PC)
Sub(A √ó C)
œï(A,C)

Hom(A, PC)
Hom(LA, P‚Ä≤LC)
Œ≥C
/ Hom(LA, P‚Ä≤LC)
Sub(LA √ó LC)
œï‚Ä≤(LA,LC)

Sub(A √ó B)
Sub(LA √ó LB)
/
Hom(A, PB)
Sub(A √ó B)
œï(A,B)

Hom(A, PB)
Hom(LA, P‚Ä≤LB)
Œ≥B/ Hom(LA, P‚Ä≤LB)
Sub(LA √ó LB)
œï‚Ä≤(LA,LB)

Hom(LA, P‚Ä≤LC)
Hom(LA, P‚Ä≤LB)
Hom(LA,P‚Ä≤Lg)
zzzzz
|zzzzz
Hom(A, PC)
Hom(A, PB)
Hom(A,Pg)
D
D
D
D
D
"D
D
D
D
D
Sub(A √ó C)
Sub(A √ó B)
Sub(A√óg)
z
z
z
z
z
<z
z
z
z
z
Sub(LA √ó LC)
Sub(LA √ó LB)
Sub(LA√óLg)
DDDDD
bDDDDD
(5)
3.3. Proposition. Logical functors preserve the subobject classiÔ¨Åer
Proof. A logical functor preserves the terminal object since it preserves Ô¨Ånite limits,
and the subobject classiÔ¨Åer is P1.

TOPOSES, TRIPLES AND THEORIES
155
3.4. Proposition. Logical functors preserve Ô¨Ånite colimits.
Proof. Let L: E
/ E‚Ä≤ be a logical functor. Since P has a left adjoint, it preserves
Ô¨Ånite limits, so L ‚ó¶P preserves Ô¨Ånite limits. Hence by Proposition 2, P‚Ä≤ ‚ó¶Lop preserves
Ô¨Ånite limits. Since P‚Ä≤ is tripleable, it reÔ¨Çects limits (Proposition 1 and Exercise (URFL)
on page 103 of Section 5.5); hence Lop: Eop
/ E‚Ä≤op must preserve Ô¨Ånite limits. Thus L
preserves Ô¨Ånite colimits.
3.5. Proposition. A logical functor L has a right adjoint if and only if it has a left
adjoint.
Proof. If L has a right adjoint, then apply Butler‚Äôs Theorem 5(a) of Section 5.7 to this
diagram to conclude that Lop has a right adjoint, whence L has a left adjoint.
E
E‚Ä≤
L
/
Eop
E
P

Eop
E‚Ä≤op
Lop
/ E‚Ä≤op
E‚Ä≤
P‚Ä≤

E
E‚Ä≤
/
Eop
E
O
Pop
Eop
E‚Ä≤op
/ E‚Ä≤op
E‚Ä≤
O
P‚Ä≤op
(6)
A similar argument using Butler‚Äôs Theorem 5(b) of Section 5.7 yields the other impli-
cation.
3.6. Theorem. Let A‚àóbe the functor which takes an object B of E to the object B √ó
A
/ A (the arrow is projection) of E/A, and an arrow f: B
/ C to f √ó idA: B √ó
A
/ C √ó A. Then A‚àó
(i). is right adjoint to the forgetful functor,
(ii). is logical,
(iii). has a right adjoint A‚àó, and
(iv). is faithful if and only if A
/ 1 is epi.
Proof. (i) is Exercise (SLADJ) on page 55 of Section 1.9 and (iii) follows from (ii) by
Proposition 5. To prove (ii), observe Ô¨Årst that A‚àóclearly preserves limits. For a given
object C
/ A of E/A and an object B of E, diagram (1) becomes the diagram below.
Sub(C √ó B)
Sub(C √ó B √ó A
/ A)
/
Hom(C, PB)
Sub(C √ó B)
œï(C,B)

Hom(C, PB)
Hom(C √ó A
/ A, PB √ó A
/ A)
A‚àó
/ Hom(C √ó A
/ A, PB √ó A
/ A)
Sub(C √ó B √ó A
/ A)
Œ≤(C,B)

(7)
The lower right corner really is the set of subobjects of the product of C√óA
/A and
B √ó A
/ A in E/A, since that product is the pullback [(c, a, b, a) | a = a] = C √ó B √ó A.
The bottom arrow takes a subobject u to (u, p2).

156
MICHAEL BARR AND CHARLES WELLS
An arrow in the upper right corner must be of the form (u, p2) for some u: C √ó
A
/ PB). We deÔ¨Åne Œ≤ by requiring that Œ≤(C, B)(u, p2) to be the subobject (œï(C √ó
A, B)(u)) of Sub(C√óB√óA). Then Œ≤ is natural in B: given g: B‚Ä≤
/B, the commutativity
condition requires that
P(idC, g, p2)(œï(u), p2) = (œï(Pg(u)), p2)
which follows because œï is a natural isomorphism and so commutes with the functor
C √ó ‚àí√ó A.
We must show that (7) commutes. If f: C
/PB, the northern route around the dia-
gram takes f to œï(C √óA, B)(f, p2), whereas the southern route takes it to (œï(C, B)f, p2).
These are the same since œï commutes with the functor ‚àí√ó A. This completes the proof
of (ii). (iii) is immediate from (i), (ii) and Proposition 5.
Finally, we must prove (iv). If A
/ 1 is epi, then since B √ó ‚àíhas a right adjoint,
it preserves epis and we conclude that A √ó B
/ B is also epi. Now we must show that
if f Ã∏= g then A √ó f Ã∏= A √ó g. This follows from the fact just noted and the fact that this
diagram commutes:
B
C
f
/
A √ó B
B
proj

A √ó B
A √ó C
A√óf
/ A √ó C
C

B
C
g
/
A √ó B
B

A √ó B
A √ó C
A√óg
/ A √ó C
C

(8)
Conversely, if f: A
/ 1 is not epi, consider g, h: 1
/ B with g ‚ó¶f Ã∏= h ‚ó¶f. Then
A √ó g = A √ó h: A
/ A √ó 1
/ A √ó B
which contradicts faithfulness.
xThe right adjoint A‚àóis often called
Q
A, and the forgetful functor, which is left adjoint
to A‚àó, is called Œ£A. This is because an object B
/ A of E/A can be thought of as an
indexed family {Ba: a ‚ààA} of sets. In Set, Œ£A(B
/ A), which of course is B, is the
union of the family and
Q
A(B
/ A) is the product of the family. The two notations
are both useful and suggest diÔ¨Äerent, but equally correct, aspects of the story.
An object A for which A
/ 1 is epi is said to have global support. (Think of a
sheaf of continuous functions to see why).
3.7. Corollary. If f: A
/B in E, then the pullback functor f ‚àó: E/B
/E/A which
takes g: X
/ B to the pullback
A
B
f
/
P
A

P
X
/ X
B
g

has left and right adjoints.

TOPOSES, TRIPLES AND THEORIES
157
Proof. This follows from Theorem 6 by observing that for an object A
/ B of E/B,
(E/B)/(A
/ B) = E/A.
3.8. Corollary. In a topos, pullbacks commute with colimits. In particular, the pull-
back of an epimorphism is an epimorphism.
Proof. The Ô¨Årst sentence follows from Corollary 7. Given f: A
/ B epi,
B
B
id
/
A
B
f

A
B
f
/ B
B
id

must be a pushout. Applying the functor B‚Ä≤ √óB ‚àí, which preserves pushouts, to that
diagram gives
B‚Ä≤
B‚Ä≤
id
/
B‚Ä≤ √óB A
B‚Ä≤
B‚Ä≤ √óB A
B‚Ä≤
/ B‚Ä≤
B‚Ä≤
id

which must therefore be a pushout. Hence the map B‚Ä≤ √ó A
/ B‚Ä≤ must be epi.
Exercises 5.5.
(ASTAR)
‚ô¶. Show that in Set, A‚àó(g: C
/ A) can be taken to be the set of all functions
from A to C which split g, or alternatively as the product of the Ô¨Åbers of g.
4. Toposes are Cartesian Closed
A category is cartesian closed if the functor Hom(‚àí√ó A, B) is representable.
The
representing object is denoted BA, so that
Hom(C √ó A, B) ‚âÉHom(C, BA)
for all objects C of E. The object BA is called the exponential of B by A. The notation
BA is used because the global elements of BA, by the adjunction, are just the elements of
Hom(A, B).
The general elements of BA can also be thought of as functions. If f ‚ààT BA, y ‚ààT A,
deÔ¨Åne f(y) = ev A(f, y), where ev A: BA √ó A
/ B is the counit of the adjunction (see
Exercise (CCCC) on page 159). This notation has been developed extensively, for example
in Kock [1981]. It can conÔ¨Çict with our notation f(y) = f ‚ó¶y if T happens to be the same
as A; Kock‚Äôs treatment shows how to handle this conÔ¨Çict.

158
MICHAEL BARR AND CHARLES WELLS
4.1. Theorem. A topos is cartesian closed.
We will give two constructions of the exponential. One is an easy consequence of the
existence of a right adjoint to the functor A‚àó(= A√ó‚àí) of Section 5.5; the other constructs
BA as an equalizer, from which it follows that logical functors preserve the construction.
The Ô¨Årst construction follows from the observation that in Set, in the notation of
Section 5.5, A‚àó(B √ó A
/ A) is the set of functions from A to B √ó A which split the
structure map of B √ó A
/ A and this is just the set of all maps A to B. This suggests
trying A‚àó(B √ó A
/ A) as a candidate for BA, which works because of the following
sequence of calculations:
Hom(C √ó A, B) ‚âÉHom(C √ó A
/ A, B √ó A
/ A)
= Hom(A‚àóC, B √ó A
/ A) ‚âÉHom(C, A‚àó(B √ó A
/ A))‚ó¶
For the second construction, consider the canonical presentation
PPPPB
‚àà(PPB)
/
PP(‚ààB)
/ PPB
‚ààB
/ B
(1)
of the object B in Eop (Section 5.5). Writing f, g and h for the three maps and B‚Ä≤ = PB,
B‚Ä≤‚Ä≤ = PPPB this becomes an equalizer
B
f
/ PB‚Ä≤
g
/
h
/ PB‚Ä≤‚Ä≤
(2)
in E.
For any objects B and C, let œï(B, C): Hom(C, PB)
/ Sub(B √ó C) be the natural
isomorphism. Because it is an isomorphism, the middle and lower horizontal arrows in
the following diagram are uniquely deÔ¨Åned:
Hom(C, P(B‚Ä≤ √ó A))
Hom(C, P(B‚Ä≤‚Ä≤ √ó A))
/
Sub(B‚Ä≤ √ó A √ó C)
Hom(C, P(B‚Ä≤ √ó A))
O
œï(B‚Ä≤√óA,C)
Sub(B‚Ä≤ √ó A √ó C)
Sub(B‚Ä≤‚Ä≤ √ó A √ó C)
Sub(B‚Ä≤‚Ä≤ √ó A √ó C)
Hom(C, P(B‚Ä≤‚Ä≤ √ó A))
O
œï(B‚Ä≤‚Ä≤√óA,C)
Sub(B‚Ä≤ √ó A √ó C)
Sub(B‚Ä≤‚Ä≤ √ó A √ó C)
/
Hom(A √ó C, PB‚Ä≤)
Sub(B‚Ä≤ √ó A √ó C)
O
œï(B‚Ä≤,A√óC)‚àí1
Hom(A √ó C, PB‚Ä≤)
Hom(A √ó C, PB‚Ä≤‚Ä≤)
Hom(A√óC,g)
/ Hom(A √ó C, PB‚Ä≤‚Ä≤)
Sub(B‚Ä≤‚Ä≤ √ó A √ó C)
O
œï(B‚Ä≤‚Ä≤,A√óC)‚àí1
(5)
Let
gA: P(B‚Ä≤ √ó A)
/ P(B‚Ä≤‚Ä≤ √ó A)
be the map induced by the bottom arrow of (5) via the Yoneda lemma. In the same way,
deÔ¨Åne hA: P(B‚Ä≤ √ó A)
/ P(B‚Ä≤‚Ä≤ √ó A), and let the exponential BA be deÔ¨Åned by requiring
that
BA
/ P(B‚Ä≤ √ó A)
gA
/
hA
/ P(B‚Ä≤‚Ä≤ √ó A)
(4)

TOPOSES, TRIPLES AND THEORIES
159
be an equalizer.
It remains to prove that Hom(C, BA) is naturally isomorphic, as a functor of C, to
Hom(A√óC, B). This follows from applying Hom(A√óC, ‚àí) to diagram (2) and Hom(C, ‚àí)
to diagram (4). Both give equalizer diagrams since Hom(C, ‚àí) preserves equalizers. But
the parallel pairs of arrows being equalized in the diagrams thus obtained are naturally
isomorphic by (5) (for g) and the analog of (5) for h. Thus the left sides must be naturally
isomorphic, as required.
4.2. Corollary. Logical functors preserve exponentials.
The most common deÔ¨Ånition of topos in the literature is that it is a cartesian closed
category with Ô¨Ånite limits and a subobject classiÔ¨Åer. Exercises (ATO) and (OLDEF) on
page 159 of this section show that our deÔ¨Ånition is equivalent to the usual one.
Exercises 5.4.
(PIO)
‚ô¶. Show that for any object X of any topos, PX = ‚Ñ¶X.
(CCCC). Identify the counit AB √ó B
/ A in the category of sets. (Hint: this counit
in any cartesian closed category is called ev.)
(ATO). Let f: B
/C be an arrow in a topos. Show that Pf: PC
/PB corresponds
by the adjunction deÔ¨Åning ‚Ñ¶B to the arrow
ev ‚ó¶(1 √ó f): PC √ó B
/ ‚Ñ¶
where ev is the arrow of Exercise (CCCC) on page 159.
(OLDEF). Use Exercise (ATO) on page 159 to prove that a cartesian closed category
with a subobject classiÔ¨Åer and all Ô¨Ånite left limits is a topos.
(EL). Construct the following isomorphisms in any Cartesian closed category in such a
way that they are natural in both variables.
a. (B √ó C)A ‚àº= BA √ó CA.
b. (CA)B ‚àº= C(A√óB).
(FPCC). Show that in a cartesian closed category, if f, g ‚ààT BA and y ‚ààT A, then
(f, g)(y) = (f(y), g(y)). (This notation assumes that the isomorphism in Exercise (EL)
on page 159(a) is the identity map.)
(CCLE). Show that Cartesian closed categories are models of an LE-theory.
5. Exactness Properties of Toposes
In this section we deduce a number of facts about maps in a topos, most of which have
to do in some way with colimits.
5.1. Epi-mono factorizations.

160
MICHAEL BARR AND CHARLES WELLS
5.2. Lemma. If f: A
/ B is an epimorphism in a topos, and i: B
/ C is any map,
then the induced map A √óC A
/ B √óC B is epi.
Proof. The functor A √óC ‚àícommutes with colimits, hence preserves epimorphisms.
Thus the induced map f √ó 1: A √óC A
/ B √óC A is epi. Similarly, the induced map
1 √ó f: B √óC A
/ B √óC B is epi, so their composite is too.
An epi-mono factorization of an arrow f: A
/B in a category is a representation
f = m‚ó¶e where m is mono and e is epi. It is easy to see that in a topos, the representation is
essentially unique (Exercises (FAC) on page 163 and (EPIU) on page 164). The codomain
of e is called the image of f (see Exercise (IMGT) on page 164).
5.3. Theorem. If f: A
/ B is any arrow in a topos, then f has an epi-mono factor-
ization
Proof. Given f: A
/B, construct its kernel pair (h, k) and the coequalizer q: A
/C
of its kernel pair. Then because f coequalizes its kernel pair, there is an arrow i as in
Figure 1 below, and i has a kernel pair (u, v). Since q coequalizes the kernel pair of f,
there is an arrow r as in the Ô¨Ågure.
C √óB C
C
u
/
A √óB A
C √óB C
r

A √óB A
A
h
/ A
C
q

C √óB C
C
v
/
A √óB A
C √óB C

A √óB A
A
k
/ A
C

C
B
i
/
A
C

A
B
f
/ B
B
=

(1)
By Lemma 1, r is an epimorphism. Since q coequalizes h and k, u ‚ó¶r = v ‚ó¶r, so u = v.
Thus, because the two arrows in its kernel pair are the same, i is a monomorphism. The
required factorization is then f = i ‚ó¶q.
5.4. Exactness properties.
5.5. Proposition. Every epimorphism in a topos is regular.
Proof. Assume f in Figure 1 is epi. Then the map i must also be epi. It is mono, as we
proved, so is regular mono (Corollary 4 of Section 2.5). But a map which is both regular
mono and epi is an isomorphism. Hence f is a coequalizer, namely of its kernel pair, as
required.
Proposition 5 and preceding results imply that a complete topos is a regular category
(see Section 8.2).
The set of subobjects of an object forms a partially ordered set, and so one may ask
when a pair of subobjects has an intersection(greatest lower bound) or union (least upper
bound). In a category with Ô¨Ånite limits, intersections always exist: the intersection of

TOPOSES, TRIPLES AND THEORIES
161
subobjects B and C of D is the pullback
C
D
/
A
C

A
B
/ B
D

(2)
in which all the arrows are monomorphisms because the pullback of a mono is a mono.
Unions, however, are harder. In general categories, they are not colimits in a simple
way (see Exercise (AMS) on page 164). In a topos, however, the situation is quite simple.
5.6. Proposition. In a topos, the union of any two subobjects B and C of an object D
is the image of the arrow from B + C to D induced by the inclusions of B and C in D:
B + C
B ‚à™C
?
?
?
?
?
?
?
?
?
?
?
?
?
B + C
D
/ D
B ‚à™C
?

(5)
Proof. Trivial.
5.7. Proposition. Suppose that (2) is a pullback diagram in which all arrows are mono.
Then the induced arrow B +A C
/ D is monic.
Proof. The idea of the proof is to show that B +A C is isomorphic to B ‚à™C, so that
the induced arrow is the inclusion. Construct the kernel pair of the arrow from B + C to
D in diagram (5):
(B + C) √ó (B + C)
// B + C
/ B ‚à™C
(4)
The resulting diagram is a coequalizer, by Theorem 2 and Proposition 4. Since the
pullback commutes with colimits,
(B + C) √óD (B + C) ‚âÉB √óD B + B √óD C + C √óD B + C √óD C
= B + B ‚à©C + C ‚à©B + C‚ó¶
However, a map coequalizes the two arrows B + B ‚à©C + C ‚à©B + C
/ B + C if and
only if it coequalizes the two arrows B ‚à©C
/ B + C (because the two arrows agree on
the Ô¨Årst and last components and interchange the middle two). So
B ‚à©C
// B + C
/ B ‚à™C
is a coequalizer. This means that
C
B ‚à™C
/
B ‚à©C
C

B ‚à©C
B
/ B
B ‚à™C

(5)

162
MICHAEL BARR AND CHARLES WELLS
is a pushout (as well as a pullback) diagram, hence B ‚à™C = B +A C, as required.
As an application of Proposition 5, we have
5.8. Theorem. A functor between toposes which preserves monomorphisms, Ô¨Ånite prod-
ucts and cokernel pairs is left exact.
Proof. Let F: E
/ E‚Ä≤ satisfy the conditions of the theorem. It is suÔ¨Écient to show
that F preserves equalizers. So let
A
/ B
// C
be an equalizer. An easy argument using elements shows that this is equivalent to the
following diagram being an equalizer.
A
/ B
// B √ó C
Then the two maps to B √ó C are monic (split by the projection onto B). It is easily
seen that we have a pullback
B
B √ó C
/
/
A
B


A
B
/
/ B
B √ó C


It follows from Proposition 5 that
B +A B
/ B √ó C
is monic. Applying F, we have
FA
FB
/
FA
FA
OFA
FB
/ FB
FB
O
FB
FB +FA FB
/
FB
FB
FB
FB √ó FC
/ FB √ó FC
FB +FA FB
O
FA
FB
/
FA
FA
OFA
FB
/ FB
FB
O
FB
FB +FA FB
/
FB
FB
FB
FB √ó FC
/ FB √ó FC
FB +FA FB
O
The lower row is an equalizer because in a topos every mono is the equalizer of its
cokernel pair. An easy diagram chase shows that the upper row must be an equalizer,
too.
Since a topos has colimits, it has an initial object0. As in Set, where 0 is the empty
set, the initial object is the codomain of just one arrow, its own identity arrow. An initial
object with this property up to equivalence is said to be strict.
5.9. Proposition. If f: A
/ 0, then A ‚àº= 0.
Proof. Given f: A
/ 0, (f, idA): A
/ 0 √ó A is split monic. Since A √ó ‚àícommutes
with colimits, A √ó 0 ‚âÉ0, so A
/ 0 is a split monic. But any map to 0 is epic, so A is
isomorphic to 0.

TOPOSES, TRIPLES AND THEORIES
163
5.10. Corollary. Any map 0
/ A is monic.
Proof. Its kernel pair is 0 √óA 0
/ 0.
Exercises 5.5.
(FAC)
‚ô¶. A factorization system in a category consists of two classes M and E of
arrows with the properties that
(i). Both M and E contain all identity arrows and are closed under composition with
isomorphisms on both sides.
(ii). Every arrow can be factored as an arrow of E followed by an arrow of M.
(iii). (‚ÄúDiagonal Ô¨Åll-in property‚Äù). In any diagram
J
B
m
/
A
J

A
I
e
/ I
B

with m ‚ààM and e ‚ààE, there is a unique arrow from I to J making both triangles
commute.
Formulate the way in which the factorization in (ii) is unique and prove it.
(FAC2)
‚ô¶. a. Show that in any factorization system any map which satisÔ¨Åes the diagonal
Ô¨Åll-in property with respect to every map of M belongs to E. That is, if f has the property
that whenever there is a commutative square
C
D
m
/
A
C

A
B
f
/ B
D

with m ‚ààM, then there is an arrow from B to C making both triangles commute, then
f belongs to E. (Hint: Let f = m ‚ó¶e with e ‚ààE and m ‚ààM. Consider the square
¬∑
¬∑
m
/
¬∑
¬∑
e

¬∑
¬∑
f
/ ¬∑
¬∑
id

¬∑
¬∑
g


164
MICHAEL BARR AND CHARLES WELLS
and then the square
¬∑
¬∑
m
/
¬∑
¬∑
e

¬∑
¬∑
e
/ ¬∑
¬∑
m

¬∑
¬∑
id
zvvvvvvvvvvvvvvvvvv¬∑
¬∑
gm
zvvvvvvvvvvvvvvvvvv
and use the uniqeness property of the diagonal Ô¨Åll-in.)
Conclude
b. Every map in M ‚à©E is an isomorphism and every isomorphism belongs to M ‚à©E.
c. E is closed under composition.
d. In a pushout square,
¬∑
¬∑
e‚Ä≤
/
¬∑
¬∑

¬∑
¬∑
e
/ ¬∑
¬∑

if e ‚ààE, then so is e‚Ä≤.
e. If M consists of monos, then every split epi belongs to E.
Of course, the duals of all these properties also hold.
(EPIU). Show that in a factorization system in which either the class E consists of all
the epis or the class M consists of all the monos, the uniqueness of the diagonal Ô¨Åll-in
does not have to be assumed, only its existence.
(RGFAC)
‚ô¶. Show that in a regular category the monos and regular epis form a factor-
ization system. (Hint: The hypothesis is too strong; all that is needed is that a pullback
of a regular epi be an epi.)
(IMGT)
‚ô¶. The image of an arrow f: C
/ B in a category, if it exists, is a subobject I
of B through which f factors, with the property that if f factors through any subobject
J of B, then I is a subobject of J. Prove that a topos has images.
(DIAG5)
‚ô¶. Prove that the construction in diagram (5) makes B ‚à™C the least upper
bound of the subobjects B and C.
(FTOP). Show that there is a factorization system in the category of topological spaces
in which E consists of quotient maps with dense images and M consists of injective maps
to closed subspaces. Show that there are maps in E which are not epimorphisms.
(TOPF). Find at least three other factorization systems in the category of topological
spaces and continuous maps.
(SOI)
‚ô¶. Show that in a topos, f + g is an isomorphism if and only if f and g are.
(INITU)
‚ô¶. Prove that an object in a topos is the initial object if and only if it has exactly
one subobject.

TOPOSES, TRIPLES AND THEORIES
165
(AMS). The group Z2 √ó Z2 has three subgroups of order two.
a. Show that the union of any two of them in the subobject lattice of Z2 √ó Z2 is the
whole group.
b. Show that the pushout in the category of all groups of any two subgroups of order 2
over their intersection is an inÔ¨Ånite group generated by two generators of order 2. (Hint:
The group of isometries of the metric space of integers is inÔ¨Ånite and is generated by two
elements of order 2, namely rotation around 0 and rotation around 1/2.)
(SOO). Let E be a topos and O the full subcategory of subobjects of 1.
a. Show that O is a reÔ¨Çective subcategory of E. (Hint: Take an object X to the image
of X
/ 1.)
b. Show that the left adjoint L of the inclusion I in (a) preserves products. (Hint: Use
the fact that the pullback of an epi is an epi.)
(SASO)
‚ô¶. Use the previous exercise and the results of Section 5.5 to show that for any
object A of a topos E, the canonical functor Sub(A)
/ E/A has a left adjoint which
preserves products.
(FAEX)
‚ô¶. Let f: A
/ B be an arrow in a topos. Let
P f and
Q f be the left and right
adjoints of the pullback functor f ‚àóof Corollary 7.
a. Show that f induces an arrow f ‚àí1: Sub B
/ Sub A by pulling back which is the
restriction of f ‚àó.
b. Show that the restriction of
Q f is a right adjoint ‚àÄf: Sub A
/ Sub B to f ‚àí1.
c. Show that f ‚àí1 has a left adjoint ‚àÉf. (Hint: DeÔ¨Åne ‚àÉf to be ‚àÉi where ‚àÉis deÔ¨Åned as
in Section 2.4 and i is the inclusion of Imf in B.)
(DD). (The doctrinal diagram). Show that in the following diagram in which the arrows
are all deÔ¨Åned above,
(a). ‚àÉf ‚ó¶L ‚àº= L ‚ó¶P f,
(b). I ‚ó¶‚àÄf ‚àº=
Q f ‚ó¶I,
(c). f ‚àó‚ó¶I ‚àº= I ‚ó¶f ‚àí1, and
(d). f ‚àí1 ‚ó¶L ‚àº= L ‚ó¶f ‚àó.
Sub A
Sub B
o
‚àÉf
E/A
Sub A
L

E/A
E/B
o
P
f
E/B
Sub B
L

Sub A
Sub B
f‚àí1
/
E/A
Sub A
E/A
E/B
f‚àó
/ E/B
Sub B
Sub A
Sub B
o
‚àÄf
E/A
Sub A
O
I
E/A
E/B
o
Q
f
E/B
Sub B
O
I

166
MICHAEL BARR AND CHARLES WELLS
6. The Heyting Algebra Structure on ‚Ñ¶
6.1. Heyting algebras. Intuitionistic logicis a weakening of classical logic intended to
allow only ‚Äúpositive‚Äù proofs; in other words, proof by contradiction is ruled out. Just as
the concept of Boolean algebra results from abstracting the properties of ‚Äúand‚Äù, ‚Äúor‚Äù and
‚Äúnot‚Äù in classical logic, the concept of Heyting algebra arises by abstracting the properties
of ‚Äúand‚Äù, ‚Äúor‚Äù and ‚Äúimplies‚Äù (the latter must be taken as a primitive in intuitionistic
logic) in the logic developed by Brouwer, Heyting and others (see A. S. Troelstra [1977]).
Intuitionistic logic arises naturally in toposes; it is not the result of a philosophical position
on the part of those who do topos theory, although many people interested in constructive
mathematics have been attracted to the subject.
A Heyting algebra is a lattice with some extra structure. We denote the inÔ¨Åmum of a
and b in a lattice by a‚àßb and the supremum by a‚à®b. The ordering is denoted by ‚â§. The
maximum and minimum elements of the lattice, if they exist, are T and F respectively.
Then a Heyting algebra is a lattice with a minimum and an additional binary operation
‚Äú
/ ‚Äù satisfying the requirement that for all elements a, b and c, c ‚â§a
/ b if and only
if a ‚àßc ‚â§b.
This deÔ¨Ånition has a number of consequences. A Heyting algebra has a maximum
element, namely F
/ F.
The operation
/ has the properties that if a ‚â§b then
b
/ c ‚â§a
/ c and c
/ a ‚â§c
/ b; this last fact means that for Ô¨Åxed a, a
/ ‚àíis
a functor (regarding the lattice as a category) which is right adjoint to a ‚àß‚àí. Thus a
Heyting algebra is a lattice with minimum which is Cartesian closed as a category.
For any element a in a Heyting algebra, one deÔ¨Ånes ¬¨a as a
/ F. The operation ¬¨
has only some of the properties of the classical ‚Äúnot‚Äù. For example, a ‚â§¬¨¬¨a, but one
cannot prove that ¬¨¬¨a ‚â§a, that a ‚à®¬¨a = T, or the DeMorgan laws. In the exercises,
you are asked to verify these and other facts about Heyting algebras.
There are two important types of examples of Heyting algebras.
(i). Any Boolean algebra is naturally a Heyting algebra, deÔ¨Åning a
/ b to be ¬¨a ‚à®b.
(ii). The lattice of open sets of any topological space X is a Heyting algebra. Here, meet
and join are intersection and union, and A
/ B is the interior of (X ‚àíA)‚à™B. A spxecial
case of this, useful for constructing counterexamples, is the Sierpinski space: the set
S = {0, 1} with the empty set, S and {1} as the only open sets.
The lattice of open dense subsets of a topological space, together with the empty set,
also forms a Heyting algebra in the same way.
More information on Heyting algebras may be found in Rasiowa and Sikorski [1965],
where they are called ‚Äúpseudocomplemented lattices‚Äù.
6.2. The Heyting algebra structure on ‚Ñ¶. For an object A of a topos, intersec-
tion and union of subobjects make Sub(A) a lattice. Both operations induce functions
Sub(A) √ó Sub(A)
/ Sub(A), thus functions from
Hom(A, ‚Ñ¶) √ó Hom(A, ‚Ñ¶) ‚àº= Hom(A, ‚Ñ¶√ó ‚Ñ¶)

TOPOSES, TRIPLES AND THEORIES
167
to Hom(A, ‚Ñ¶). These two functions are natural in A: Suppose X and Y are subobjects
of B and f: A
/ B. We must show that Sub(f)(X ‚à™Y ) = Sub(f)(X) ‚à™Sub(f)(Y )
and similarly for intersection.
Now Sub(f)(X) is computed by pulling back along f.
The intersection and union are respectively a pullback and a pushout in E (diagram 5,
Section 5.5) and the pullback functor has both a left and a right adjoint by Corollary 7,
Section 5.5.
Thus it takes limits and colimits in E/B to limits and colimits in E/A.
Colimits in E/A are the same as colimits in E. As for limits, if D is a diagram in E/A, a
limit of D in E/A is the same as the limit of D
/ A in E, which is the sort of limit we
have here. Thus Sub(f) preserves intersection and union, as required.
Since the induced maps Hom(A, ‚Ñ¶√ó‚Ñ¶)
/Hom(A, ‚Ñ¶) are therefore natural, Yoneda
gives us binary operations ‚àß: ‚Ñ¶√ó ‚Ñ¶
/ ‚Ñ¶and ‚à®: ‚Ñ¶√ó ‚Ñ¶
/ ‚Ñ¶.
The order relation and the arrow operation are obtained this way: The equalizer
[(B, C) | B ‚à©C = B] = [(B, C) | B ‚â§C]
of the two maps ‚àßand the Ô¨Årst projection from ‚Ñ¶√ó ‚Ñ¶to ‚Ñ¶is a subobject of ‚Ñ¶√ó ‚Ñ¶and
so corresponds to a pullback
1
‚Ñ¶
/
‚â§
1

‚â§
‚Ñ¶√ó ‚Ñ¶
/ ‚Ñ¶√ó ‚Ñ¶
‚Ñ¶
/

(1)
Because Hom(A, ‚àí) preserves pullbacks and Sub(A) ‚àº= Hom(A, ‚Ñ¶), the order relation
‚â§A= {(B, C) | B ‚äÜC ‚äÜA}
on Sub(A) for any object A is then obtained by pulling back:
1
Hom(A, ‚Ñ¶)
/
‚â§A
1

‚â§A
Hom(A, ‚Ñ¶) √ó Hom(A, ‚Ñ¶)
/ Hom(A, ‚Ñ¶) √ó Hom(A, ‚Ñ¶)
Hom(A, ‚Ñ¶)
/ A

(2)
The following lemma follows immediately from the deÔ¨Ånitions.
6.3. Lemma. Let x and y be elements of ‚Ñ¶deÔ¨Åned on A. Let the corresponding subob-
jects of A be B and C respectively. Then:
a. x ‚â§y if and only if B ‚â§A C.
b. The subobject corresponding to x ‚àßy is B ‚àßC.
c. The subobject corresponding to x ‚à®y is B ‚à®C.
d. The subobject corresponding to x
/ y is B
/ C.
6.4. Lemma. If B and C are subobjects of A, then the following are equivalent:
e. B ‚â§A C
f. B
/ AC = A.

168
MICHAEL BARR AND CHARLES WELLS
Proof. B ‚â§A C is equivalent to x ‚â§y by Lemma 1(a). That is equivalent to x
/ y =
true (diagram (1)), which is equivalent to B
/ C = A by Lemma 1(d).
6.5. Lemma. If B, C and D are subobjects of A, then
g. D ‚àß(B
/ AC) = D ‚àßB
/ DD ‚àßC, and
h. D ‚â§B
/ AC if and only if D ‚àßB ‚â§D D ‚àßC.
Proof. Intersecting by D is pulling back along the inclusion of D in A, and a pullback
of a pullback is a pullback; that proves (a). By Lemma 2, D ‚â§A B
/ AC if and only if
D ‚àß(B
/ AC) = D. By (a) and Lemma 1 applied to Sub(D), that is true if and only if
D ‚àßB ‚â§D D ‚àßC.
From now on, we will drop the subscript A on the relation ‚â§A and the operation
/ A
on Sub(A).
6.6. Theorem. For any object A in a topos E, Sub(A) is a Heyting algebra with the
operations deÔ¨Åned above.
Proof. The minimum is evidently the subobject 0
/ A. Sub(A) is a lattice, so all
that is necessary is to prove that D ‚â§B
/ C if and only if D ‚àßB ‚â§C. If D ‚â§B
/ C,
then D ‚àßB ‚â§D ‚àßC ‚â§C by Lemma 2(b). Conversely, if D ‚àßB ‚â§C, then clearly
D ‚àßB ‚â§D ‚àßC because ‚àßis the greatest lower bound operation; then the result follows
from Lemma 2(b) again.
6.7. Corollary. ‚Ñ¶is a Heyting algebra, with minimum the unique element 0
/ ‚Ñ¶
and ‚àß, ‚à®and
/ as deÔ¨Åned above.
Proof. This follows immediately from Lemma 1.
When the Heyting algebra in ‚Ñ¶is that of a Boolean algebra, we call the topos Boolean.
This is equivalent to saying that every subobject of an object has a complement.
The category of sheaves over a topological space is a topos whose subobject classiÔ¨Åer
is the sheaf whose value at an open set U is the set of open subsets of U, with restriction
given by intersection. (Exercise (OMT) on page 77 of Section 2.5.) The natural Heyting
algebra structure on that sheaf is the Heyting algebra structure of Corollary 5.
Exercises 5.6.
(HEYT)
‚ô¶. Prove the following facts about Heyting algebras:
a. F
/ F is the maximum of the lattice.
b. If a ‚â§b then b
/ c ‚â§a
/ c and c
/ a ‚â§c
/ b.
c. a
/ b = T if and only if a ‚â§b.
d. b ‚â§a
/ b.
e. a ‚àß(a
/ b) = a ‚àßb. Hence a ‚àß(a
/ b) ‚â§b.
f. a ‚àß¬¨a = F.
g. a ‚â§¬¨¬¨a.
h. ¬¨a = ¬¨¬¨¬¨a
i. a ‚â§b implies ¬¨b ‚â§¬¨a

TOPOSES, TRIPLES AND THEORIES
169
(EXH). Show that a Ô¨Ånite lattice can be made into a Heyting algebra by a suitable choice
of ‚Äú
/ ‚Äù if and only if it is distributive. Show also that every chain is a Heyting algebra.
What is the double negation of an element in the latter case?
(MAL). (Freyd) Show that the category of Heyting algebras is a Mal‚Äôcev category: that
means that there is a ternary operation ¬µ(a, b, c) with the properties that ¬µ(a, a, c) = c
and ¬µ(a, b, b) = a. To deÔ¨Åne ¬µ, Ô¨Årst deÔ¨Åne
a ‚Üîb = (a
/ b) ‚àß(b
/ a)
and then let
¬µ(a, b, c) = ((a ‚Üîb) ‚Üîc) ‚àß(a ‚Üî(b ‚Üîc))

6
Permanence Properties of Toposes
This chapter is concerned with certain constructions on a topos which yield a topos. We
have already seen one such construction: a slice E/A of a topos E is a topos. The most
important construction in this chapter is that of the category of ‚Äúsheaves‚Äù in a topos
relative to a ‚Äútopology‚Äù. When the topos is a category of presheaves on a space and
the topology is the ‚Äúcanonical‚Äù one, the ‚Äúsheaves‚Äù are ordinary sheaves. The category of
sheaves in a topos (relative to any topology, canonical or not) turns out to be a topos.
The concept of topology is an abstraction of the concept of all coverings, which at one
level of abstraction is a ‚ÄúGrothendieck topology‚Äù and at a higher level is a ‚Äútopology on
a topos‚Äù. An important connection with logic is signalled by the fact that the double
negation operator on a topos is a topology in this sense.
We Ô¨Ånd it convenient here to start with the more abstract (but easier to understand)
idea of a topology on a topos Ô¨Årst. Later in the chapter we talk about Grothendieck
topologies and prove Giraud‚Äôs Theorem (Theorem 1 of Section 6.8) which characterizes
categories of sheaves for a Grothendieck topology.
We will also consider categories of coalgebras for a left exact cotriple in a topos, and
of algebras for an idempotent left exact triple. Both these categories are also toposes
(the latter are actually sheaves for a topology) and the constructions yield an important
factorization theorem (Section 6.5) for geometric morphisms.
1. Topologies
A topology on a category with pullbacks is a natural endomorphism j of the contravariant
subobject functor which is
(i). idempotent: j ‚ó¶j = j,
(ii). inÔ¨Çationary: A0 ‚äÜjA0 for any subobject A0 of an object A (where we write jA0
for jA(A0) as we will frequently in the sequel), and
(iii). order-preserving: if A0 and A1 are subobjects of A and A0 ‚äÜA1, then jA0 ‚äÜjA1.
See Exercise (IND) on page 174 for the independence of (ii) and (iii).
170

TOPOSES, TRIPLES AND THEORIES
171
When j is a topology on a category in which subobjects are representable by an object
‚Ñ¶, then using the Yoneda Lemma, j induces an endomorphism of ‚Ñ¶which is idempotent,
inÔ¨Çationary and order-preserving, and conversely such an endomorphism induces a topol-
ogy on the category. A topology in this sense on ‚Ñ¶can be given an equational deÔ¨Ånition
in terms of intersection and truth (Exercise (TOPEQ) on page 175).
A subobject A0 of an object A is j-closed in A if jA(A0) = A0 and j-dense in A
if jA(A0) = A. Observe that jA(A0) is j-closed by idempotence, and A is j-dense in A
because j is inÔ¨Çationary. When j is understood, we often write ‚Äúdense ‚Äù and ‚Äúclosed‚Äù.
A topology is superÔ¨Åcially like a closure operator on a topological space. However,
it does not preserve Ô¨Ånite unions (in fact we will see later that it does preserve Ô¨Ånite
intersections) and to this extent the terminology ‚Äúdense‚Äù and ‚Äúclosed‚Äù is misleading.
However, it is standard in the literature, so we retain it.
Let‚Äôs start with some examples.
(a). This example shows how the pasting property of a sheaf motivated the deÔ¨Ånition
of topology. Let X be a topological space and E the category of presheaves (functors
from the opposite of the open set lattice to Set) on X. Let F be a presheaf. DeÔ¨Åne an
endofunction jF of the set of subfunctors of F by requiring that for an open set U of X
and a subfunctor G of F, jF(G)(U) is the set of elements x ‚ààFU for which there is a
cover {Ui
/ U} such that for all i, x|Ui ‚ààG(Ui).
It is easy to see that if U ‚äÜV and y ‚ààjF(G)(V ) then the restriction of y in FU
is in jF(G)(U), so that jF(G) is really a subfunctor of F. Then the maps jF are the
components of a natural endomorphism of the subobject functor which is a topology on
E.
To verify this requires proving that j is a natural transformation and that it satisÔ¨Åes
(i)-(iii) of the deÔ¨Ånition of topology. We prove the hardest, naturality, at the end of this
section and leave the rest to you.
(b). In any topos, ¬¨¬¨ is a topology (Exercise (DN) on page 175). The proof is implicit
in the results and exercises to Section 5.6. We will see that when a topos is regarded as
a theory, then the sheaves for the double-negation topology force a Booleanization of the
theory. Those familiar with logic should note that the word ‚Äúforce‚Äù is used advisedly (see
Tierney [1976]).
(c). In any topos, if U
/
/ 1, there is a ‚Äúleast destructive‚Äù topology j for which j0 = U,
namely that which for a subobject A0 /
/A has jA(A0) = A0‚à™A√óU (note A√óU /
/A√ó
1 = A). This has the property that if U ‚â§V ‚â§1 then V is closed in 1.
(d). Topologies exist in categories which are not toposes, too. There is a topology on the
category of Abelian groups which assigns to each subgroup B of an Abelian group A the
subgroup
{a ‚ààA | there is a positive integer n for which na ‚ààB}
This subgroup is the kernel of the composite
A
/ A/B
/
A/B
t(A/B)

172
MICHAEL BARR AND CHARLES WELLS
where t denotes the torsion subgroup.
We should think of jA(B) as the set of all elements of A which are ‚Äúalmost in‚Äù B.
Equivalently, it may be thought of as elements which are ‚Äúalmost zero‚Äù mod B. Topologies
on additive categories are often called torsion theories .
1.1. Properties of topologies. We state here some technical lemmas which will be
used many times later.
1.2. Lemma. If
A0
A
/
/
B0
A0

B0
B
/
/ B
A
f

(1)
is a pullback, then there is a (necessarily unique) arrow jB(B0)
/ jA(A0) for which
jA(A0)
A
/
/
jB(B0)
jA(A0)

jB(B0)
B
/
/ B
A
f

(2)
is also a pullback.
Proof. Follow A0 around the two paths of the following diagram.
Sub A
Sub B
/
Sub A
Sub A
jA

Sub A
Sub B
/ Sub B
Sub B
jB

Exercise (TPPBA) on page 174 gives a converse to Lemma 1.
1.3. Lemma. Let C be a category with a topology j, A be an object of C and B, C, D be
subobjects of A. Then
(a). If C ‚äÜB, then jB(C) = B ‚à©jA(C).
(b). If C ‚äÜB, then jB(C) ‚äÜjA(C).
(c). B ‚äÜjA(B) is dense and jA(B) ‚äÜA is closed.

TOPOSES, TRIPLES AND THEORIES
173
(d). The ‚Äúdiagonal Ô¨Åll-in property‚Äù of a factorization system is satisÔ¨Åed: if
B
A
/
/
D
B


D
C
/
/ C
A


(3)
is a commutative square of monos with the top arrow dense and the bottom arrow closed,
then C ‚äÜB.
(e). If f: A‚Ä≤
/ A is any map in C and B is dense (resp. closed) in A, then f ‚àí1(B) is
dense (resp. closed) in A‚Ä≤.
(f). If B and C are both dense (resp. closed) in A then B ‚à©C is dense (resp. closed) in
A.
(g). If C ‚äÜB ‚äÜA and both inclusions are dense (resp. closed), then C is dense (resp.
closed) in A.
(h). jA(B) is characterized uniquely by the facts that B is dense in jA(B) and jA(B) is
closed in A.
Proof. (a) is a special case of Lemma 1 (if you ever get stuck trying to prove something
about a topology, try using the fact that a topology is a natural transformation) and (b)
is immediate from (a). (c) is immediate from (a) applied to B ‚äÜjA(B). For (d), apply j
in the diagram to get
B
jA(B)
/
=
/
D
B


D
jC(D)
/
/ jC(D)
jA(B)


A
/
/


C
/
=
/ C
A


from which the conclusion is immediate.
The ‚Äúdense‚Äù half of (e) is a special case of
Lemma 1, and the other half is true in any factorization system (Exercise (FAC2) on
page 163 of Section 5.5). Exactly the same is the case for (f), while both parts of (g) are
true in any factorization system. Finally (h) follows from the uniqueness of image in a
factorization system. The factorization system is on the category with the same objects
as C and the monos as maps.
1.4. Proposition. Let B and C be subobjects of A. Then jA(B ‚à©C) = jA(B) ‚à©jA(C).
Proof. It follows from Lemma 2(f) that B ‚à©C is dense in jA(B) ‚à©jA(C) and that
jA(B) ‚à©jA(C) is closed in A. By Lemma 2(h), this characterizes jA(B ‚à©C).

174
MICHAEL BARR AND CHARLES WELLS
1.5. Proposition. In a category with pullbacks which has a topology j, suppose the left
vertical arrow in the following commutative square is a dense mono, and the right vertical
arrow is a closed mono.
B
A
/
B0
B


B0
Ao
/ Ao
A


(4)
Then there is a map from B to A0 making both triangles commute.
Proof. The inverse image (pullback) of A0 is closed in B by Lemma 2(e) and dense
because it contains B0, so that the inverse image is B. The conclusion now follows easily.
1.6. Naturality of j for spatial sheaves. Here we outline the proof that the map j
of Example (a) is natural. We must prove that if F and F ‚Ä≤ are presheaves and Œª: F
/F ‚Ä≤
is a natural transformation, then
Sub F ‚Ä≤
Sub F ‚Ä≤
jF ‚Ä≤
/
Sub F
Sub F ‚Ä≤
O
Sub Œª
Sub F
Sub F
jF
/ Sub F
Sub F ‚Ä≤
O
Sub Œª
(5)
commutes.
If G‚Ä≤ is a subfunctor of F ‚Ä≤, then G = Sub Œª(G‚Ä≤) if for each open U, GU is the inverse
image of G‚Ä≤U along ŒªU. This is because limits are constructed pointwise in a functor
category like E.
Using this notation, it is necessary to show that for every open U, the inverse image
of jF ‚Ä≤(G‚Ä≤)(U) along ŒªU is jF(G)(U). To see this, suppose y ‚ààjF ‚Ä≤(G‚Ä≤)(U) and ŒªU(x) = y
for some x ‚ààFU. Then on some cover {Ui} of U, y|Ui ‚ààG‚Ä≤Ui for every i. Then by
deÔ¨Ånition, x|Ui ‚ààGUi and so x ‚ààjF(G)(U). Conversely, it is clear that if x ‚ààjF(G)(U)
then Œª(x) ‚ààjF ‚Ä≤(G‚Ä≤)(U).
Exercises 6.1.
(IND). Find an idempotent endomorphism of the three element chain which is inÔ¨Çationary
but not order-preserving and one which is order-preserving but not inÔ¨Çationary.
(TPPBA)
‚ô¶. Suppose that for each object A of a topos there is an idempotent, inÔ¨Çationary,
order-preserving map jA: Sub A
/ Sub A with the property that whenever
B0
B
/
/
A0
B0

A0
A
/
/ A
B


TOPOSES, TRIPLES AND THEORIES
175
is a pullback, then there is an arrow jA(A0)
/ jB(B0) for which
jB(B0)
B
/
/
jA(A0)
jB(B0)

jA(A0)
A
/
/ A
B

is also a pullback.
Show that these functions constitute a natural endomorphism of P and so induce a
topology on the topos.
(NATJ)
‚ô¶. Prove that the natural transformation j of Example (a) is a topology.
(TOPEQ)
‚ô¶. Prove that a topology on a category in which subobjects are representable
can be given as an endomorphism j of the representing object which is idempotent, takes
true to true, and commutes with intersection.
(DN)
‚ô¶. Use the results and exercises of Section 5.6 to show that there is a topology j on
any topos such that for any subobject A0 ‚äÜA, jA0 = ¬¨¬¨A0.
2. Sheaves for a Topology
In this section we deÔ¨Åne what it means for an object in a topos to be a sheaf for a topology
on the topos, and construct an ‚Äúassociated sheaf functor‚Äù.
2.1. Separated objects. Let j be a topology on a topos. An object A is j-separated
(or simply ‚Äúseparated‚Äù if j is understood) if A is a closed subobject of A √ó A via the
diagonal. We will form the separated quotient of an object A.
2.2. Proposition. Let R(A) be the closure of A in A √ó A. Then for any object B, an
element (f, g) ‚ààB RA if and only if the equalizer of f and g is dense in B.
Proof. If B0 is that equalizer then the outer square and hence by Lemma 1 of Section 6.1
the right hand square of
A
R(A)
/
/
B0
A

B0
jB(B0)
/
/ jB(B0)
R(A)

A √ó A
/
/

B
/
/ B
A √ó A
(f,g)

are pullbacks. The conclusion is now evident.
2.3. Corollary. R(A) is an equivalence relation on A.
Proof. ReÔ¨Çexivity and symmetry are clear. If (f, g) and (g, h) are elements of R(A)
deÔ¨Åned on B then the equalizer of f and h contains the intersection of those of f and g
and g and h, each of which is dense. But by Lemma 2(f) of 6.1 the intersection of two
dense subobjects is dense.

176
MICHAEL BARR AND CHARLES WELLS
In Abelian groups we form the torsion-free quotient by factoring out the elements
which are ‚Äúalmost zero‚Äù. In analogy with this construction, we will form the separated
quotient of A by identifying pairs of elements which are ‚Äúalmost equal‚Äù. Thus we form
the quotient
R(A)
// A
/ / S(A)
which we can do because equivalence relations in a topos are eÔ¨Äective. Note that A is
separated if and only if A = SA.
2.4. Proposition. S(A) is j-separated. If A
/
/ B, then S(A)
/
/ S(B).
Proof. The diagram
SA
SA √ó SA
/ /
RA
SA

RA
A √ó A
/ / A √ó A
SA √ó SA

is a pullback (standard because RA is the kernel pair of A
/ SA). It follows from the
fact that the pullback of an epi is an epi that the image of RA in SA√óSA is the diagonal
SA. If we apply j we get the pullback
j(SA √ó SA)(SA)
SA √ó SA
/ /
RA = j(A √ó A)(RA)
j(SA √ó SA)(SA)

RA = j(A √ó A)(RA)
A √ó A
/ / A √ó A
SA √ó SA

and the vertical arrows are epic so that j(SA √ó SA)(SA) = SA. Thus SA is separated.
As for the second assertion, when A /
/ B is monic, the diagram
B
B √ó B
/
A
B

A
A √ó A
/ A √ó A
B √ó B

is a pullback. Then apply j to get a pullback
RB
B √ó B
/
RA
RB

RA
A √ó A
/ A √ó A
B √ó B

Since RA and RB are equivalence relations on A and B, respectively, it follows from
Exercise (EQCLS) on page 179 that SA
/ SB is mono.

TOPOSES, TRIPLES AND THEORIES
177
2.5. Sheaves for a topology. An object in a topos is absolutely closed for a
topology j if it is j-closed as a subobject of any separated object. An object A in a topos
is a sheaf for a topology j if it is j-separated and absolutely closed.
For any object A, let FA denote the object S(j(PSA)(SA)) (using the singleton map
to include SA in PSA). We will show that FA is a sheaf and that F is the left adjoint
of the inclusion of the full subcategory of sheaves. F is the associated sheaf functor
(or sheaÔ¨ÅÔ¨Åcation).
2.6. Proposition. If A is separated, the map A
/ FA is a j-dense mono. If A is a
sheaf, then A
/ FA is an isomorphism.
Proof. Let A be separated. A is included in j(PA)(A), so by Proposition 3, SA = A is
included in S(j(PA)(A)) which is FA because A is separated.
To show that the inclusion is dense, let B = j(PA)(A) and let C be the inverse image
of A along the map B
/ FA, as in the diagram
A
C
/
A
FA
/
A

B = j(PA)(A)
/ B = j(PA)(A)
FA

Apply j to this diagram using Lemma 1 of Section 6.1 and the top row becomes the
identity on B so the bottom row must also become the identity because the vertical arrows
are epic.
2.7. Lemma. Let B0
/ B be a j-dense inclusion. Then any map B0
/ A can be
extended to a map B
/ FA.
Proof. In the diagram
SA
PSA
B0
SA
B0
B
/
(dense)
/ B
PSA

B0
A

A
SA

B
j(SA)

SA
j(SA)
/ j(SA)
PSA
(closed) /
j(SA)
FA = S(j(SA))

(in which j means j(PSA)), the rightmost vertical arrow exists because power objects
are injective (Exercise (INJ) on page 66 of Section 2.1) so the diagonal arrow exists by
Lemma 2(d) of Section 6.1.

178
MICHAEL BARR AND CHARLES WELLS
2.8. Proposition. Two maps to a separated object which agree on a dense subobject are
equal.
Proof. Consider the diagram
A
A √ó A
/
(diagonal)
/
B0
A

B0
B
/
(dense)
/ B
A √ó A

where the right arrow is induced by the given arrows. By Lemma 2(d) of Section 6.1, that
arrow factors through the diagonal, as required.
2.9. Proposition. Let A be separated and B0
/ B be a j-dense inclusion. Then any
map B0
/ FA can be extended to a unique map B
/ FA.
Proof. Consider the diagram
A
FA
/
C
A

C
B0
/ B0
FA

B
(dense)
/
where the square is a pullback. The composite along the top is a dense inclusion by
Proposition 4, and the fact that the composite of dense maps is dense. The requisite map
from B to FA exists by Lemma 5. That map and the map from B0 to FA agree on C
and so are equal by Proposition 6. The uniqueness follows similarly.
The following proposition shows that the essence of being a sheaf has survived our
process of abstraction.
2.10. Proposition.
(a). A separated object A is a sheaf if and only if whenever B0
/ B is dense then any
map B0
/ A has an extension to a map B
/ A.
(b). An arbitrary object A is a sheaf if and only if whenever B0
/ B is dense then any
map B0
/ A has a unique extension to a map B
/ A.
Remark: It follows readily from this proposition that if j is the topology of Example (a)
of Section 6.1, then the category of sheaves on X is the same as the category of j-sheaves
in the presheaf category.

TOPOSES, TRIPLES AND THEORIES
179
Proof. If A is a sheaf, these follow from Propositions 4 and 7.
Now suppose that the map extension condition holds. Let d0, d1: RA
/ A be the
kernel pair of the map A
/ SA. The equalizer of d0 and d1 is the diagonal of A √ó A,
which is dense in RA. Then by the version of the map extension condition in (b), d0 = d1;
hence A is separated.
Suppose m: A
/ B is monic with B separated. Since any subobject of a separated
object is separated (Exercise (ASS SH) on page 179), we may replace B by the j-closure
of A and suppose without loss of generality that A /
/ B is dense. The diagram
A
B
/
/
A
A

A
B
/
/ B
B

in which the vertical arrows are identities has a diagonal Ô¨Åll-in making the upper triangle
commute given by the map extension condition. As for the lower triangle, it commutes
when restricted to the dense subobject A. With B separated, this implies that the lower
triangle commutes, whence A = B, as required.
2.11. Theorem. For any object A in a topos, FA is a sheaf and F is a functor which
is left adjoint to the inclusion of the full subcategory of sheaves in the topos.
Proof. FA is clearly separated; that it is a sheaf then follows from Propositions 7 and 8.
Any map A
/ B to a sheaf gives a unique map SA
/ B, which by Proposition 7
extends to a unique map FA
/ FB = B; this gives the adjunction.
To show that F is a functor, it is suÔ¨Écient to use pointwise construction of adjoints
(Section 1.9).
Exercises 6.2.
(CLSH). Give an example of a presheaf which is j-closed in the sense of Example (a) of
Section 6.1 which is nevertheless not a sheaf.
(PRDC). Show that the product of dense monos is dense and the product of closed monos
is closed.
(MONOTEST). Suppose B0
/B is a j-dense inclusion with B j-separated. Prove that
a map B
/ A whose restriction to B0 is monic is itself monic.
(EQCLS). Show that in a serially commutative diagram
E‚Ä≤
A‚Ä≤
/
E
E‚Ä≤


E
A
/ A
A‚Ä≤


E‚Ä≤
A‚Ä≤
/
E
E‚Ä≤


E
A
/ A
A‚Ä≤


B‚Ä≤
/

B
/ B
B‚Ä≤
with both rows kernel pair/coequalizers and E = E‚Ä≤ √óA‚Ä≤ (A√óA), then B
/B‚Ä≤ is monic.

180
MICHAEL BARR AND CHARLES WELLS
(ASS SH). a. Show that if A
/ B is monic and B is separated then A is separated.
b. Show that if A
/ B is a dense mono where B is a sheaf then B = FA.
(UEZ). Show that if j is the topology of Example (iii) of Section 6.1 and E is the category
of sheaves on a topological space, then Shj(E) is the category of sheaves on the complement
of the open set U.
(SSR). Show that S is the object map of a functor which is left adjoint to the inclusion
of separated objects.
3. Sheaves form a topos
The full subcategory of sheaves for a topology jin a topos E is denoted Ej. In this section
we will prove that Ej is a topos. We will also prove that F, which we now know is left
adjoint to inclusion, is left exact, so that the inclusion is a geometric morphism.
3.1. The power object for sheaves. Using Yoneda, let œÑA: PA
/ PA denote
the map induced by the natural transformation j(A √ó ‚àí): Sub(A √ó ‚àí)
/ Sub(A √ó ‚àí).
Then evidently œÑA is an idempotent endomorphism of PA. Let PjA denote the splitting
object‚Äîthe equalizer of œÑA and the identity.
Then for any object B, Hom(B, PjA)
consists of the j-closed subobjects of A √ó B.
3.2. Proposition. Let B0
/
/ B be a j-dense mono. Then for any object A, pulling
back along A√óB0
/A√óB gives a one to one correspondence between j-closed subobjects
of A √ó B and j-closed subobjects of A √ó B0.
Proof. Since A √ó B0 is dense in A √ó B, it is suÔ¨Écient to prove this when A = 1. If
B1 /
/B0 is j-closed, then B2 = jB(B1) /
/B is a j-closed subobject of B. Lemma 2(a)
of Section 6.1 says that B0 ‚à©jB(B1) = jB0(B1), which is B1 since B1 is closed in B0.
If B3 ‚à©B0 = B1 also, we would have two diÔ¨Äerent factorizations of B1
/
/ B as dense
followed by closed, which is impossible by Exercise (FAC2) on page 163 of Section 5.5.
3.3. Proposition. PjA is a j-sheaf.
Proof. We use the characterization of sheaves of Proposition 8 of Section 6.2, which
requires us to show that when B0 is a dense subobject of B, the map
Hom(B, PjA) /
/ Hom(B0, PjA)
is an isomorphism. The left side (respectively the right side) represents the set of j-closed
subobjects of A√óB (respectively A√óB0). By Proposition 1, those two sets are in bijective
correspondence via pullback.
3.4. Theorem. Ej is a topos in which, for a sheaf A, PjA represents the subobjects.
Proof. It follows from the diagonal Ô¨Åll-in property (Lemma 2(d) of Section 6.1) that
a subobject of a sheaf is a sheaf if and only if it is j-closed. Thus for a sheaf A, PjA
represents the subsheaves of A. Finite limits exist because the inclusion of the subcategory
has a left adjoint.

TOPOSES, TRIPLES AND THEORIES
181
3.5. Exactness of F. We show here that the functor F is exact, which is equivalent
to showing that the inclusion of Ej into E is a geometric morphism. We begin with:
3.6. Proposition. The separated reÔ¨Çector S preserves products and monos.
Proof. That S preserves monos is Proposition 3 of Section 6.2.
The product of dense monos is dense (Exercise (PRDC) on page 179 of Section 6.2). It
follows that for an object A, A√óA
/RA√óRA is dense, so that RA√óRA ‚äÜR(A√óA).
Since products commute with reÔ¨Çexive coequalizers, we have the following commutative
diagram, in which both rows are coequalizers:
R(A √ó A)
A √ó A
/
RA √ó RA
R(A √ó A)
=

RA √ó RA
A √ó A
/ A √ó A
A √ó A
=

A √ó A
S(A √ó A)
/
A √ó A
A √ó A
A √ó A
SA √ó SA
/ SA √ó SA
S(A √ó A)

R(A √ó A)
A √ó A
/
RA √ó RA
R(A √ó A)

RA √ó RA
A √ó A
/ A √ó A
A √ó A

A √ó A
S(A √ó A)
/
A √ó A
A √ó A
A √ó A
SA √ó SA
/ SA √ó SA
S(A √ó A)

Since A √ó A is dense in RA √ó RA and RA √ó RA is closed in A √ó A √ó A √ó A (Exercise
(PRDC) on page 179 of Section 6.2), it follows from Lemma 2(h) of Section 6.1 that
RA√óRA = R(A√óA). The required isomorphism follows immediately from the uniqueness
of coequalizers.
3.7. Proposition. F preserves products and monos.
Proof. By the preceding proposition it is enough to show that F restricted to the
category of separated objects preserves products and monos. That it preserves monos is
obvious. Now let A and B be separated. It is clear from Exercise (PRDC) on page 179 of
Section 6.2 that A√óB is dense in FA√óFB and that the latter is a sheaf. It follows from
that and from Exercise (ASS SH) on page 179 of Section 6.2 that FA√óFA is F(A√óB).
3.8. Theorem. F is left exact.
Proof. F is a left adjoint so preserves cokernel pairs. The theorem then follows from
Proposition 5 above and Theorem 6 of Section 5.5.
Remark. S is not usually left exact. This shows that the full exactness properties of a
topos are required in this theorem. Various other combinations of exactness properties
have been proposed as a non-additive analog of a category being Abelian (sets of properties
which taken together with additivity would imply abelianness) but none of these proposals
would appear to allow the proof of a theorem like Theorem 6 of Section 5.5.
Let E and F be toposes. Recall from Section 2.2 that a functor u: E
/ F is a
geometric morphism if u has a left adjoint u‚àóand u‚àóis left exact. We will see in
Section 7.3 that morphisms of sites induce geometric morphisms. At this point we wish
merely to observe that the left adjoint F constructed above is left exact, so that:
3.9. Corollary. If j is a topology on the topos E and Ej the category of j-sheaves, then
the inclusion Ej
/ E is a geometric morphism.

182
MICHAEL BARR AND CHARLES WELLS
4. Left exact cotriples
A cotriple G = (G, œµ, Œ¥) in which G is a left exact functor is called a left exact cotriple.
In this section, we will prove:
4.1. Theorem. Let E be a toposand G a left exact cotriple in E. Then the category EG
of coalgebras of G is also a topos.
The proof requires a sequence of propositions. In these propositions, E and G satisfy
the requirements of the theorem. Note that G, being left exact, preserves pullbacks and
products.
It is not hard to show that when a cotriple is left exact we can speak of a subobject of
a coalgebra being a subcoalgebra without ambiguity. See Exercise (SUBCO) on page 184.
4.2. Proposition. Let (A, Œ±) be a coalgebra for G and B a subobject of A. Then B is
a subcoalgebra if and only if the inverse image of GB along Œ± is B.
Proof. If the inverse image of GB along Œ± is B, let the coalgebra structure Œ≤: B
/GB
be the restriction of Œ± to B.
This satisÔ¨Åes the required coalgebra identities because
G2B
/ G2A is monic. To say that inclusion is a coalgebra map requires this diagram
GB
GA
Gi
/
B
GB
Œ≤

B
A
/
i
/ A
GA
Œ±

(1)
to commute, but in fact it is a pullback by assumption.
Conversely, suppose we are given Œ≤ for which (1) commutes. We must show that for
any (variable) element Œ±: T
/A of A for which Œ±(a) ‚ààGB is actually in B. This follows
from the fact that a = œµA(Œ±(a)) (where œµ is the counit of the cotriple) which is an element
of B because a natural transformation between left exact functors takes an element of a
subobject to an element of the corresponding subobject.
Now let (A, Œ±) and (b, Œ≤) be coalgebras. Let
Œ¶(Œ±, Œ≤): Sub(A √ó B)
/ Sub(A √ó B)
be deÔ¨Åned by requiring that for a subobject C of A √ó B,
GC
GA √ó GB
/
/
Œ¶(C)
GC

Œ¶(C)
A √ó B
/
/ A √ó B
GA √ó GB
Œ±√óŒ≤

(2)
where we write Œ¶(C) for Œ¶(Œ±, Œ≤)(C), is a pullback.

TOPOSES, TRIPLES AND THEORIES
183
4.3. Proposition. Let (A, Œ±) and (B, Œ≤) be coalgebras and C a subobject of A √ó B.
Then Œ¶C is a subcoalgebra of A √ó B. It is the largest subcoalgebra contained in C; in
particular, C is a subcoalgebra if and only if C = Œ¶C.
Proof. Since Œ± √ó Œ≤ is a coalgebra structure on A √ó B (Exercise (PCA2) on page 184),
it suÔ¨Éces by Proposition 2 to show that we can Ô¨Åll in the upper left diagonal arrow in
the diagram below so that the diagram commutes.
GC
GA √ó GB
/
Œ¶(C)
GC

Œ¶(C)
A √ó B
/
/ A √ó B
GA √ó GB
Œ±√óŒ≤

G2C
G2A √ó G2B
/
G(Œ¶(C))
G2C

G(Œ¶(C))
GA √ó GB
/
/ GA √ó GB
G2A √ó G2B
GŒ±√óGŒ≤

A √ó B
GA √ó GB
Œ±√óŒ≤ww
{ww
Œ¶(C)
G(Œ¶(C))
GC
G2C
Œ¥
w
w
w
;w
w
w
GA √ó GB
G2A √ó G2B
Œ¥A√óŒ¥BGG
cGG
This follows immediately from the fact that all squares in the diagram commute and the
inner square is a pullback. The rest is left as Exercise (LSUB) on page 184.
4.4. Proposition. Œ¶(Œ±, Œ≤) is natural with respect to maps f: (B‚Ä≤, Œ≤‚Ä≤)
/ (B, Œ≤) in EG.
Proof. Naturality is equivalent to the requirement that the upper square in the diagram
below must commute. Here, C is a subobject of A √ó B and C‚Ä≤ is the inverse image of C
along A √ó f.
GC‚Ä≤
GA √ó GB‚Ä≤
/
Œ¶(C‚Ä≤)
GC‚Ä≤

Œ¶(C‚Ä≤)
A √ó B‚Ä≤
/
/ A √ó B‚Ä≤
GA √ó GB‚Ä≤
Œ±√óŒ≤‚Ä≤

GC
GA √ó GB
/
Œ¶(C)
GC

Œ¶(C)
A √ó B
/
/ A √ó B
GA √ó GB
Œ±√óŒ≤

A √ó B‚Ä≤
A √ó B
A√óf

Œ¶(C‚Ä≤)
Œ¶(C)
?
?
?
?
?
?
?
?
?
GC‚Ä≤
GC
?









GA √ó GB‚Ä≤
GA √ó GB
GA√óGf
???
_???
The inner and outer squares are pullbacks by deÔ¨Ånition. The bottom square is G applied
to the pullback in the deÔ¨Ånition of the subobject functor and hence is a pullback because
G is left exact. It follows that the upper square composed with the inner square is a
pullback. Since the inner square is too, so is the top one, which therefore commutes.
Let R: E
/ EG be the right adjoint to U: EG
/ E.
4.5. Corollary. There is a map Œ¶(Œ±): RPA
/ RPA for which
Hom((B, Œ≤), Œ¶(Œ±)) = Œ¶(Œ±, Œ≤)

184
MICHAEL BARR AND CHARLES WELLS
Proof. Yoneda.
We can now prove Theorem 1. Finite limits exist in EG because they are created by
the underlying functor U: EG
/E. To prove this you use the same sort of easy argument
as in proving Exercise (PCA2) on page 184.
The power object P(AŒ±) for a coalgebra (A, Œ±) is deÔ¨Åned to be the equalizer of Œ¶(Œ±)
and the identity map on RPA. Since
Sub(A √ó B) ‚àº= Hom(B, PA) ‚àº= Hom((B, Œ≤), RPA)
the theorem follows from Proposition 3 and Corollary 5.
Observe that R is a geometric morphism. Its left adjoint is easily seen to be faithful,
as well. We will see later that any geometric morphism with a faithful left adjoint arises
from a cotriple in this way.
A nice application of the theorem is a new proof, much simpler than that in Section 2.1,
that the functor category Set C is a topos for any small category C. This follows from two
observations: (i) If S is the set of objects of C, then Set S = Set/S, which is very easily
seen to be a topos.
(ii) The map Set C
/ Set S induced by the forgetful functor is
adjoint tripleable (Section 3.7), hence Set C is equivalent to the category of coalgebras of
an (evidently) left exact cotriple on Set/S.
Exercises 6.4.
(SUBCO). Let G = (G, œµ, Œ¥) be a left exact cotriple and (A, Œ±) be a G-coalgebra. Show
that a subobject A0 of A ‚Äúis‚Äù a subcoalgebra if and only if there is a commutative square
GA0
GA
/
A0
GA0

A0
A
/
/ A
GA

where the right arrow is the coalgebra structure map, in which case that square is a
pullback. Conclude that there is at most one subcoalgebra structure on a subobject of an
algebra, namely the left arrow in this square.
(PNT). Show that if F and G are product-preserving functors, Œª: F
/ G a natural
transformation, then for any objects A and B for which A√óB exists, Œª(A√óB) = ŒªA√óŒªB.
(PCA2). Show that if (G, œµ, Œ¥) is a left exact cotriple on a category with products and
(A, Œ±) and (B, Œ≤) are coalgebras, then so is (A √ó B, Œ± √ó Œ≤).
(LSUB). Verify the third sentence of Proposition 3. (Hint: Follow the map Œ¶(C)
/GC
by œµC.)

TOPOSES, TRIPLES AND THEORIES
185
5. Left exact triples
A left exact triple in a topos induces a topology on the topos for which the objects of
the form TA are sheaves. We will use this construction and the topos of coalgebras of a
cotriple discussed in the preceding section to obtain a facotrization theorem for geometric
morphisms.
Given a left exact triple T = (T, Œ∑¬µ) in a topos E, deÔ¨Åne for each object A a function
jA: Sub A
/ Sub A in this way: for a subobject A0 of A, jA(A0) is the inverse image of
TA0 along Œ∑A. In other words,
TA0
TA
/
/
jA(A0)
TA0

jA(A0)
A
/
/ A
TA
Œ∑A

(1)
must be a pullback. (Note the lower arrow, hence the upper, must be monic because T is
left exact.)
We will prove that these maps jA form a topology on E. The following lemmas assume
that T is a left exact triple, E is a category with Ô¨Ånite limits, and j is deÔ¨Åned as above.
5.1. Lemma. Whenever
B0
B
/
/
A0
B0

A0
A
/
/ A
B

(2)
is a pullback, then so is
jB(B0)
B
/
/
jA(A0)
jB(B0)

jA(A0)
A
/
/ A
B

(3)

186
MICHAEL BARR AND CHARLES WELLS
Proof. This can be read oÔ¨Äthe following square in much the same way that the natu-
rality of Œ¶ was deduced from (3) of Section 6.4.
TA0
TA
/
jA(A0)
TA0

jA(A0)
A
/ A
TA

TB0
TB
/
jB(B0)
TB0

jB(B0)
B
/ B
TB

A
B

jA(A0)
jB(B0)
?
?
?
?
?
TA0
TB0
?





TA
TB_??????
(4)
In this square, the inner and outer squares are pullbacks by deÔ¨Ånition and the bottom
square because T is left exact.
5.2. Lemma. A0 ‚äÜjA(A0) for any subobject A0 of an object A.
Proof. Use the universal property of pullbacks on Œ∑A0 and the inclusion of A0 in A.
5.3. Lemma. For any subobject A0 of an object A, TjA(A0) = jTA(TA0) = TA0.
Proof. To prove that TjA(A0) = TA0, apply T to (1) and follow it by ¬µ, getting
TA
TTA
TŒ∑A
/
TjA(A0)
TA


TjA(A0)
TTA0
/ TTA0
TTA

TTA
TA
¬µA
/
TTA0
TTA
TTA0
TA0
¬µA0
/ TA0
TA


(5)
The right vertical map from TA to TA is the identity, so
TjA(A0)
/ TTA0
/ TA0
/ TA
is the inclusion. Cancelling the top and bottom arrows then shows that the left vertical
arrow is an inclusion. This shows that TjA(A0) ‚äÜTA0, while the opposite inclusion is
evident from Lemma 2.
To show that jTA(TA0) = TA0, consider the following similar diagram.
TA
TTA
Œ∑TA
/
TA0
TA


TA0
TTA0
Œ∑TA0
/ TTA0
TTA

TTA
TA
¬µA
/
TTA0
TTA
TTA0
TA0
¬µA0
/ TA0
TA


(6)
In the same way as for (5), the left and right vertical arrows from top to bottom are
identities. This means the outer square is a pullback, so by Exercise (PBCC) on page 73
of Section 2.2, the upper square is too, as required.

TOPOSES, TRIPLES AND THEORIES
187
5.4. Lemma. If A0
/
/ A1
/
/ A then jA(A0) ‚äÜjA(A1).
Proof. Easy consequence of the universal property of pullbacks.
5.5. Lemma. A0 /
/A is j-dense if and only if there is an arrow from A to TA0 making
I rotated the following, to be compatible
A
TA
Œ∑A
/
A0
A


A0
TA0
Œ∑A0
/ TA0
TA


A
TA0
?












(7)
commute.
Proof. If jA(A0) = A, then there is a pullback diagram of the form
A
TA
Œ∑A
/
A
A

id

A
TA0
/ TA0
TA


(8)
(Notice the subtle point here: jA(A0) is deÔ¨Åned as a subobject of A, which means that
if it equals A the top arrow must be the identity). This gives the diagonal arrow in (7)
and makes the lower triangle commute; but then the upper one does too since the bottom
arrow is monic.
Conversely, if there is such a diagonal arrow, taking it as the left arrow in (8) is easily
seen to make (8) a pullback, as required.
5.6. Theorem. Given a left exact triple T in a topos E, the maps jA deÔ¨Åned above form
a topology on E for which each object of the form TA is a j-sheaf.
Proof. That j is a natural transformation follows from Lemma 1 and Exercise (TPPB)
on page 77 of Section 2.3. Lemma 2 shows that j is inÔ¨Çationary, Lemma 3 that it is
idempotent (because the diagrams corresponding to (1) for jA and jjA become the same)
and Lemma 4 that it is order-preserving.
We use Proposition 8 of Section 6.2 to show that TA is a sheaf. Assume that B0 is
a dense subobject of an object B and f: B0
/ TA is given. We must Ô¨Ånd a unique
extension B
/ TA. This follows from the following diagram, in which g is the arrow
given by Lemma 5.
B
TB0
g
?
?
?
?
?
?
B0
B
B0
TB0
Œ∑B0

TTA
Tf
/

TA
f
/ TA
TTA
Œ∑TA

TTA
/

TA
/ TA
TTA
O
¬µA
(9)

188
MICHAEL BARR AND CHARLES WELLS
The required map is ¬µA ‚ó¶Tf ‚ó¶g. It is straightforward to show that it is the unique
map which gives f when preceded by the inclusion of B0 in B.
5.7. Factorization of geometric morphisms. Now suppose that U = U‚àó: E‚Ä≤
/E
is a geometric morphism with inverse image map U ‚àó. Like any adjoint pair, U determines
a triple T = U‚àó‚ó¶U ‚àó, Œ∑, ¬µ) on E. Let j be its topology induced as in Theorem 6, and Ej
the category of j-sheaves.
5.8. Proposition. For any object A of E‚Ä≤, UA is a j-sheaf.
Proof. We again use Proposition 8 of Section 6.2. Suppose that B0 /
/ B is dense and
f: B0
/ UA. We get a diagram very much like (9):
B
TB0
u
?
?
?
?
?
?
B0
B
B0
TB0
Œ∑B0

TTA
Tf
/

TA
f
/ TA
TTA
Œ∑TUA

TTA
/

TA
/ TA
TTA
O
UœµA
(10)
Here, u is given by Lemma 5 and UœµA ‚ó¶Œ∑UA = id by Exercise (UCO) on page 56 of
Section 1.9. It follows that UœµA ‚ó¶Tf ‚ó¶u is the required arrow.
We now have a factorization of the given geometric morphism through Ej into two
geometric morphisms.
E‚Ä≤
E
U‚àó
/
Ej
E‚Ä≤
V ‚àó

Ej
E
incl
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
E‚Ä≤
E
o
U‚àó
Ej
E‚Ä≤
?
V‚àó
 Ej
E
_
F
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
Here, V‚àóis U‚àóregarded as going into Ej and V ‚àóis U ‚àócomposed with inclusion.
5.9. Theorem. V ‚àóis cotripleable.
Proof. V ‚àóis left exact by assumption, and so preserves all equalizers (and they exist
because Ej is a topos). So all we need to show is that it reÔ¨Çects isomorphisms.
Suppose f: A
/ B in Ej is such that V ‚àó(f) is an isomorphism. In the following
diagram, ‚àÜis the diagonal map, T ‚Ä≤ = V‚àó‚ó¶V ‚àó, and d0 and d1 are the projections from the
Ô¨Åber product. All the vertical maps are components of the unit Œ∑ corresponding to the

TOPOSES, TRIPLES AND THEORIES
189
adjunction of V ‚àóand V‚àó.
T ‚Ä≤A
T ‚Ä≤A √óT ‚Ä≤B T ‚Ä≤A
T ‚Ä≤(‚àÜ)
/
A
T ‚Ä≤A

A
A √óB A
/
‚àÜ
/ A √óB A
T ‚Ä≤A √óT ‚Ä≤B T ‚Ä≤A

T ‚Ä≤A
/

A
d0
/ A
T ‚Ä≤A

T ‚Ä≤A
/

A
d1
/ A
T ‚Ä≤A

T ‚Ä≤B
T ‚Ä≤f
/

B
f
/ B
T ‚Ä≤B

The composite across the top is f and T ‚Ä≤f is an isomorphism by assumption, so
T ‚Ä≤d0 = T ‚Ä≤d1. This means T ‚Ä≤(‚àÜ) is an isomorphism. But A is a j-sheaf, so it is j-separated,
meaning the left square is a pullback. (Note that as far as objects of Ej are concerned, T ‚Ä≤
is the triple determined by U and its left adjoint). That means that ‚àÜis an isomorphism,
so f is monic. That means that by the same argument the right square is a pullback, so
f is an isomorphism.
Thus every sheaf category in a topos is the category of coalgebras for a left exact
cotriple, and every geometric morphism is the composite of the cofree map for a left exact
cotriple followed by the inclusion of its category of coalgebras as a sheaf category in the
codomain topos.
Exercises 6.5.
(SEP). Use Lemma 3 to give a direct proof that any object of the form TA is separated.
(ILET). If j is a topology on a topos E, the inclusion of the category of sheaves in E and
its left adjoint the sheaÔ¨ÅÔ¨Åcation functor F given by Theorem 9 of Section 6.2 produce a
triple T = (T, Œ∑, ¬µ) in E.
a. Show that ¬µ is an isomorphism. (A triple for which ¬µ is an isomorphism is said to
be idempotent idempotent triple).
b. Show that the topology induced by that triple is j.
(KEMEQ). Show that the Kleisli and Eilenberg-Moore categories of an idempotent triple
are equivalent.
6. Categories in a Topos
We will deÔ¨Åne category objects in a category E with Ô¨Ånite limits by commutative dia-
grams as in Section 1.1. Functors between such category objects have a straightforward
deÔ¨Ånition. What is more interesting is that functor from a category object C in E to E
itself may be deÔ¨Åned even though E is not itself a category object in E. It turns out (as
in Set) that the category of such E-valued functors is a topos when E is a topos.
6.1. Category objects. A category object in E is C = (C, C1, d0, d1, u, c), where
C is the object of objects, C1 is the object of morphisms, d0: C1
/ C is the domain
map, d1: C1
/ C is the codomain map, u: C
/ C1 the unit map, and c: C2
/ C1

190
MICHAEL BARR AND CHARLES WELLS
the composition.
Here, C2 is the Ô¨Åber product [(f, g) | d0(f) = d1(g)].
In general,
Cn = [(f1, . . . , fn) | d1(fi) = d0(fi+1), i = 1, . . . , n ‚àí1], the object of composable n-tuples
of maps of C. These objects and maps must satisfy the following laws:
(i). d0 ‚ó¶u = d1 ‚ó¶u = idC.
(ii). The following diagrams commute:
C1
C
d0
/
C2
C1
c

C2
C1
p2
/ C1
C
d1

C1
C
d1
/
C2
C1
c

C2
C1
p1
/ C1
C
d0

(in other words, d0(c(f, g)) = d0(g) and d1(c(f, g)) = d1(f) for all elements (f, g) of C1),
(iii). c(c √ó id) = c(id √ó c): C3
/ C1, and
(iv). c(ud1, id) = c(id, ud0) = id: C1
/ C1.
In general, we will use the notation that when a letter denotes a category object, that
letter with subscript 1 denotes its arrows. The maps d0, d1 and u will always be called
by the same name.
An internal functor F: C
/ D between category objects of E is a pair of maps
F: C
/D and F1: C1
/D1 which commutes with all the structure maps: F ‚ó¶d0 = d0‚ó¶F1,
F ‚ó¶d1 = d1 ‚ó¶F1, F1 ‚ó¶u = u ‚ó¶F, and F1 ‚ó¶c = c ‚ó¶(F1 √óF1). It is straightforward to show that
the category of category objects and functors between them form a category Cat(E).
6.2. E-valued functors. There are two approaches to the problem of deÔ¨Åning the
notion of an E-valued functor from a category object C in a topos E to E. They turn out
to be equivalent. One is a generalization of the algebraic notion of monoid action and the
other is analogous to the topological concept of Ô¨Åbration We describe each construction
in Set Ô¨Årst and then give the general deÔ¨Ånition.
The algebraic approach is to regard C as a generalized monoid. Then a Set-valued
functor is a generalization of the notion of monoid action. Thus if F: C
/ Set and
f: A
/ B in C, one writes fx for Ff(x) when x ‚ààFA and shows that the map
(f, x)
/fx satisÔ¨Åes laws generalizing those of a monoid action: (1A)x = x and (fg)x =
f(gx) whenever fg and gx are deÔ¨Åned. This map (f, x)
/ fx has a Ô¨Åber product as
domain: x must be an element of d0(f). Moreover, it is a map over C.
Guided by this, we say a left C-object is a structure (A, œï, œà) where œï: A
/C, and
œà: C1 √óC A
/ A, where C1 √óC A = [(g, a) | a ‚ààA, g ‚ààC1 and œï(a) = d0(g)], for which
(i). œà(u(œï(a)), a) = a for all elements a of A,
(ii). œïœà(g, a) = d1(g) whenever œï(a) = d0(g), and

TOPOSES, TRIPLES AND THEORIES
191
(iii). œà(c(f, g), a) = œà(f, œà(g, a)) for all (f, g, a) for which a ‚ààA, f, g ‚ààC1 and œï(a) =
d0(g), d1(g) = d0(f).
A morphism of left C-objects is a map over C which commutes with œï and œà in the
obvious way. In Set, given a functor G: C
/ Set, A would be the disjoint union of all
the values of G for all objects of C, œï(x) would denote the object C for which x ‚ààGC,
and œà(x, g) would denote G(g)(x).
Contravariant functors can be handled by considering right C-objects.
The other approach, via Ô¨Åbrations, takes the values of a functor F: C
/ E and
joins them together in a category over C. The result has a property analogous to the
homotopy lifting property in algebraic topology and is a particular type of ‚ÄúopÔ¨Åbration‚Äù.
The general notion of opÔ¨Åbration (for Set) is given in Exercise (OPF) on page 194 and
will not be used in this book (see Gray [1974]).
(The corresponding object for contravariant functors to E‚Äîi.e. presheaves‚Äîis a ‚ÄúÔ¨Å-
bration.‚Äù These ideas were discovered by Grothendieck, who was primarily interested in
presheaves. What we call opÔ¨Åbrations he called coÔ¨Åbrations.)
The way this construction works in Set is this: Given F: C
/ Set, construct the
category D whose objects are the elements of the (disjoint) sets FC for objects C of C.
If you were explaining to someone the way F works, you might draw, for each element x
of FC and f: C
/ C‚Ä≤, an arrow from x to Ff(x). These arrows are the arrows of D.
They compose in the obvious way, and there is an obvious map from D to C. Then for
C ‚ààOb(C), FC is the inverse image of C under that map.
This has to be approached more indirectly in a topos. Given a topos E and a category
object C of E, a morphism œï: D
/C of category objects is a split discrete opÔ¨Åbration
if
C1
C
d0
/
D1
C1
œï1

D1
D
d0
/ D
C
œï

is a pullback. This says that the set of arrows of D is exactly the set
[(g, d) | g ‚ààC1, d ‚ààD, and d0(g) = œï(d)]
Furthermore, the identiÔ¨Åcation as a pullback square means that d0(g, d) = d (because the
top arrow must be the second projection) and similarly œï1(g, d) = g (hence œï(d1(g, d)) =
d1(g)).
It follows that for each object d of D and each arrow g out of œï(d) in C, there is exactly
one arrow of D over g with domain d; we denote this arrow (g, d). This property will be
referred to as the unique lifting property of opÔ¨Åbrations.
A split discrete opÔ¨Åbration over C is thus an object in E/C; we deÔ¨Åne a morphism of
split discrete opÔ¨Åbrations over C to be just a morphism in E/C.

192
MICHAEL BARR AND CHARLES WELLS
6.3. Proposition. Let E be a left exact category and C a category object of E. Then the
category of split discrete opÔ¨Åbrations over C is equivalent to the category of left C objects.
When E = Set, they are equivalent to the functor category Set C.
Proof. Suppose œï: D
/ C is a split discrete opÔ¨Åbration. Then D1 = C1 √óC D and
d1: D1
/ D. We claim that (D, œï, d1) is a left C action. All the veriÔ¨Åcations, including
that morphisms of split discrete opÔ¨Åbrations are taken to morphisms of left C actions,
make use of the unique lifting property. We show two of the required properties and leave
the others to you.
We show Ô¨Årst that d1(u(œïd), d) = d. Observe that œï1(u(œïd), d) = u(œïd) = œï1(ud)
and d0(u(œïd), d) = d = d0(ud). Therefore by the unique lifting property, ud = (u(œïd), d).
The result follows from the fact that d1(ud) = d.
We also need
d1(c(f, g), d) = d1(f, d1(g, d))
where d0(f) = d1(g) and d0(g) = œïd. Now the arrows (c(f, g), d) and c((f, d1(g, d)), (g, d))
(composition in D) both have domain d and lie over c(f, g). Therefore they are the same
arrow, so d1 of them is the same.
Going the other way, suppose that (A, œï, œà) is a left C-object. Let D = C1 √óC A =
[(g, a) | d0(g) = œï(a)]. Then the top part of the following serially commutative diagram
C1
C
o
u
D
C1
p1

D
A
o
(uœï,idA)
A
C
œï

C1
C
d0
/
D
C1

D
A
p2
/ A
C

C1
C
d1
/
D
C1

D
A
œà
/ A
C

is a category object with composition taking ((g, a), (g‚Ä≤, a‚Ä≤)) to (c(g, g‚Ä≤), a), and œï is a mor-
phism of category objects. The veriÔ¨Åcation of all the laws is tedious but straightforward.
It is then immediate from the deÔ¨Ånition of D that (œï, p1) is an split discrete opÔ¨Åbration.
Suppose (A, œï, œà) is a left C-object in Set. Then deÔ¨Åne a functor F: C
/ Set by
requiring that for an object C of C, FC = œï‚àí1(C). If x ‚ààFC and g: C
/ D, set
Fg(x) = œà(g, x). If (A‚Ä≤, œï‚Ä≤, œà‚Ä≤) is another left C-object and Œª: A
/ A‚Ä≤ is a morphism,
then Œª corresponds to a natural transformation between the corresponding functors whose
component at C is the restriction of Œª to FC (which is a subset of A). That this construc-
tion gives an equivalence between the category of left C-objects and Set C follows directly
from (i)-(iii) in the deÔ¨Ånition of left C-object and the deÔ¨Ånition of morphism.
6.4. Left C-objects form a topos. We will now bring in heavy artillery from several
preceding sections to show that the category of left C-objects and their morphisms form
a topos.
Let C be a category object in the topos E and let T: E/C
/ E/C be the functor
which takes A
/ C to C1 √óC A
/ C and f: A
/ B over C to C1 √óC f. Let Œ∑

TOPOSES, TRIPLES AND THEORIES
193
be the natural transformation from idE to T whose component at an object s: A
/ C
is Œ∑(s: A
/ C) = (us, idA).
Let ¬µ: T 2
/ T be the natural transformation whose
component at A
/ C is (c, idA). It then follows directly from the deÔ¨Ånition of left C-
objects and morphisms thereof that (T, Œ∑, ¬µ) is a triple and that the category of Eilenberg-
Moore algebras (œï: A
/ C, œà) is the category of left C-objects.
Now come the heavy cannon. By the constructions of Theorem 6 and Corollary 7 of
Section 5.3, T factors as the top row of
E/C
(d0)‚àó
/
o
Q
d0
E/C1
P
d1
/
o
(d1)‚àó
E/C
where the bottom row forms a right adjoint to T. Thus by Theorem 5 of Section 3.7, T
is adjoint tripleable and the category of left C-objects is the category of coalgebras for
a cotriple whose functor is G = Q d0 ‚ó¶(d1)‚àó. G has a left adjoint, so gives a left exact
cotriple. Hence by Theorem 1 of Section 6.4, we have:
6.5. Theorem. For any category object C of a topos E, the category of left C-objects
(equivalently the category of split discrete opÔ¨Åbrations of C) is a topos.
It is natural to denote the category of left C-objects by EC.
6.6. Theorem. Any category object functor f: C
/C ‚Ä≤ induces a functor f #: EC‚Ä≤
/EC
which is the restriction of the pullback functor f ‚àó. Moreover, f # has left and right adjoints.
Proof. That pulling back a split discrete opÔ¨Åbration produces a split discrete opÔ¨Åbration
is merely the statement that pulling back a pullback gives a pullback. The reader may
alternatively deÔ¨Åne f # on left C ‚Ä≤-objects by stipulating that f #(A‚Ä≤, œï‚Ä≤, œà‚Ä≤) = (A, œï, œà),
where A = [(c, a‚Ä≤) | fc = œï‚Ä≤a‚Ä≤], œï is the Ô¨Årst projection, and œà(g, (c, a‚Ä≤)) (where necessarily
d0(g) = c and œïa‚Ä≤ = fc) must be d1(g), œà‚Ä≤(f(g), a‚Ä≤)).
The square
E/C‚Ä≤
E/C
f‚àó
/
EC‚Ä≤
E/C‚Ä≤
U‚Ä≤

EC‚Ä≤
EC
f#
/ EC
E/C
U

commutes, where the vertical arrows are the underlying functors from triple algebras.
(They are in fact inclusions). Since the bottom arrow has both a left and a right adjoint,
so does the top one by Butler‚Äôs Theorems (Section 3.7, Theorem 3).
When C‚Ä≤ is the trivial category object with C‚Ä≤ = C‚Ä≤
1 = 1, then EC‚Ä≤ is E and the
induced map E
/ EC (where C is some category object) has left and right adjoints
denoted lim‚ÜíC and lim‚ÜêC respectively. When E is Set they are in fact the left and
right Kan extensions Notice that this says that, given a set function f: Y
/ I, then the
existence of
Q f ‚àí1(i) (which is a completeness property‚ÄîY and I can both be inÔ¨Ånite)
depends only on the fact that in Set we have Ô¨Ånite limits and a power object. Thus the
existence of P is a powerful hypothesis.

194
MICHAEL BARR AND CHARLES WELLS
Exercises 6.6.
(CSO). A simplicial object in a category E is a functor S: ‚àÜop
/ E where ‚àÜis
the category whose objects are the Ô¨Ånite sets {1, 2, . . . , n} for n = 0, 1, 2, . . . and whose
arrows are the order-preserving maps between these sets.
Prove that the category of
category objects and functors between them in a left exact category E is equivalent to a
full subcategory of the category of simplicial objects in E.
(OPF). Let F: D
/ C be a functor between categories (in Set). If A is an object of C,
the Ô¨Åber DA over C is the subcategory of D consisting of all objects mapping to A and
all arrows mapping to 1A. Its inclusion into D is denoted JA. F is an opÔ¨Åbration if
for each f: A
/ B in C there is a functor f ‚àó: DA
/ DB and a natural transformation
Œ∏f: JA
/JB ‚ó¶f ‚àówith every component lying over f, for which for any arrow m: D
/E
in D lying over f there is a unique arrow f ‚àó(D)
/ E making
D
f ‚àó(D)
(Œ∏f)D
?
?
?
?
?
?
?
?
?
?
?
?
?
D
E
m
/ E
f ‚àó(D)

commute. The opÔ¨Åbration is split if (1A)‚àó= 1(DA) and g‚àó‚ó¶f ‚àó= (g ‚ó¶f)‚àówhenever g ‚ó¶f
is deÔ¨Åned. It is discrete if the Ô¨Åbers DA are all sets‚Äîi.e., their only arrows are identity
arrows.
(‚ÄúSplit‚Äù is also called ‚Äúsplit normal,‚Äù the normal referring to preservation of
identities). A functor between opÔ¨Åbrations over C is a functor in Cat/C (it does not have
to preserve ‚àó).
a. Show that, for Set, a split discrete opÔ¨Åbration as deÔ¨Åned in the text is the same as
that deÔ¨Åned here.
b. Show that the subcategory of split opÔ¨Åbrations over C and functors which commute
with ‚àóis equivalent to the category of functors from C to Cat and natural transformations.
c. Show that opÔ¨Åbrations have the ‚Äúhomotopy lifting property‚Äù: If G and H are functors
from A to C, F: D
/ C is an opÔ¨Åbration, Œª: G
/ H is a natural transformation, and
G = F ‚ó¶G‚Ä≤ for some functor G‚Ä≤: A
/ D, then there is a functor H‚Ä≤: A
/ D such that
H = F ‚ó¶H‚Ä≤ and a natural transformation Œª‚Ä≤: G‚Ä≤
/ H‚Ä≤.
(OPFC). (Categorical deÔ¨Ånition of opÔ¨Åbration). Let F: D
/ C be a functor. Let 2
denote the category with two objects 0 and 1 whose only nonidentity arrow u goes from
0 to 1. Let S be the functor from Hom(2, D) to the comma category (F, 1C) which takes
M: 2
/ D to (M(0), F(M(u)), F(M(1))) (you can Ô¨Ågure out what it does to arrows
of Hom(2, D), which are natural transformations). Show that F is an opÔ¨Åbration if and
only if S has a left adjoint which is also a right inverse of S.

TOPOSES, TRIPLES AND THEORIES
195
7. Grothendieck Topologies
A Grothendieck topology on a category is a generalization of the concept of all open covers
of all open sets in a topological space.
A sieve (called ‚Äúcriblerq by some authors‚Äî‚Äúcrible‚Äù is the French word for ‚Äúsieve‚Äù) on
an object A is a family of arrows with codomain A. We will use the notation {Ai
/ A}
for a sieve, the i varying over an unspeciÔ¨Åed index set. We will follow the convention that
diÔ¨Äerent sieves have possibly diÔ¨Äerent index sets even if the same letter i is used, unless
speciÔ¨Åcally stated otherwise.
The set of Ô¨Åber products {Ai √óA Aj}, where i and j both run over the index set of the
sieve, will be used repeatedly in the sequel. If f: A
/B and {Ai
/A} is a sieve on A,
we write f|Ai for the composite of the projection Ai
/A followed by f, and f|Ai √óA Aj
for the composite of Ai √óA Aj
/ A followed by f.
A sieve {Ai
/ A} reÔ¨Ånes a sieve {Bj
/ A} if every arrow in the Ô¨Årst factors
through at least one arrow in the second.
A Grothendieck topology in a left exact category A is a family of sieves, called
covers, with the following properties.
(i). For each object A of A, idA is a cover.
(ii). (Stability) If {Ai
/A} is a cover and B
/A is an arrow, then {B √óA Ai
/B}
is a cover.
(iii). (Composability) If {Ai
/ A} is a cover, and for each i, {Aij
/ Ai} is a cover,
then {Aij
/ A} is a cover.
A Grothendieck topology is saturated if whenever {Ai
/ A} is a sieve and for
each i, {Aij
/ Ai} is a sieve for which {Aij
/ A} (doubly indexed!)
is a cover,
then {Ai
/ A} is a cover. It is clear that each Grothendieck topology is contained in a
unique saturated Grothendieck topology. It follows from (ii) (stability) that the saturation
contains all the sieves which have a reÔ¨Ånement in the original topology.
ReÔ¨Ånement is also deÔ¨Åned for topologies: one topology reÔ¨Ånes another if every cover
in the saturation of the second is in the saturation of the Ô¨Årst.
A site is a left exact category together with a speciÔ¨Åc saturated Grothendieck topology.
A morphism of sites is a left exact functor between sites which takes covers to covers.
Some examples of sites:
(a). The category of open sets of a Ô¨Åxed topological space together with all the open
covers of all open sets.
(b). Any left exact category together with all the universal regular epimorphisms, each
regarded as a sieve containing a single arrow. (‚ÄúUniversal‚Äù or ‚Äústablerq means preserved
under pullbacks.)
(c). A sieve {fi: Ai
/ A} is an epimorphic family if and only if whenever g Ã∏= h are
two maps from A to B, there is at least one index i for which g ‚ó¶fi Ã∏= h ‚ó¶fi. If epimorphic
families are stable under pullbacks, they form a site.

196
MICHAEL BARR AND CHARLES WELLS
If C is any category, an object of Set Cop is called a presheaf, a terminology used
particularly when C is a site. If f: A1
/ A2 in A and a ‚ààA2, then, motivated by the
discussion of sheaves on a topological space in Section 2.2, we write a|A1 for Ff(a). (We
recommend this notation‚Äîit makes the theory much more manageable.)
Let S = {Ai
/ A} be a sieve in a category C. If F: C op
/ Set is a presheaf, we
say that F is S-separated if FA
/ Q FAi is injective and that F is an S-sheaf if
FA
/ Q FAi
// Q F(Ai √óA Aj)
is an equalizer.
This generalizes the sheaf condition for topological spaces given by
Proposition 1, Section 2.2. Stated in terms of restrictions, F is S-separated if when-
ever a, a‚Ä≤ ‚ààFA with the property that for every i, a|Ai = a‚Ä≤|Ai, then a = a‚Ä≤. F is
an S-sheaf if in addition for every tuple of elements ai ‚ààAi with the property that
ai|Ai √óA Aj = aj|Ai √óA Aj, there is a (unique) element a ‚ààFA such that a|Ai = ai.
It is straightforward to see that a sieve S is an epimorphic family if every representable
functor Hom(‚àí, B) is S-separated, and we say that S is a regular or eÔ¨Äective epimor-
phic family if every representable functor is an S-sheaf. Both epimorphic and regular
epimorphic families are called stable or universal if they remain epimorphic (respectively
regular epimorphic) when pulled back.
In any category, stable epimorphic families, and also stable regular epimorphic families,
form a Grothendieck topology.
Note that since every epimorphism in a topos is universal and regular by Corollary 8
of Section 5.3 and Proposition 3 of Section 5.5, the class of all epimorphisms in a topos
forms a Grothendieck topology on the topos. However, epimorphic families in a topos
need not be regular unless the topos has arbitrary sums.
A site A determines a topology j on Set Aop as follows. If F is a presheaf in Set Aop and
F0 is a subpresheaf, then jF0 = jF(F0) is the functor whose value at A consists of all
a ‚ààFA for which there is a cover {Ai
/ A} such that a|Ai ‚ààF0Ai for all i.
7.1. Proposition. j as constructed above is a topology on Set Aop.
Proof.
(i). Naturality translates into showing that if the left square below is a pullback then so
is the right one.
G0
G
/
/
F0
G0

F0
F
/
/ F
G

jG0
G
/
/
jF0
jG0

jF0
F
/
/ F
G

Suppose a ‚ààjG0A, b ‚ààFA have the same image in GA. We must show b ‚ààjF0A. Let
{Ai
/A} witness that a ‚ààjG0(A). In other words, a|Ai ‚ààG0Ai for all i. Now consider

TOPOSES, TRIPLES AND THEORIES
197
this pullback diagram:
G0Ai
GAi
/
F0Ai
G0Ai

F0Ai
FAi
/ FAi
GAi

We know a|Ai ‚ààG0Ai and that b|Ai ‚ààFAi for all i. They must have the same image
in GAi, so b|Ai ‚ààF0Ai. Therefore b ‚ààjF0(A).
(ii). The inÔ¨Çationary property follows from the fact that idA is a cover.
(iii). The monotone property is a trivial consequence of the deÔ¨Ånition.
(iv). Idempotence follows from the composition property for covers.
Conversely, given a topology j on Set Aop, we can construct a Grothendieck topology
on A as follows. Any sieve {Ai
/ A} determines a subfunctor R of Hom(‚àí, A) deÔ¨Åned
for an object B by letting RB be the set of f: B
/ A for which for some i, there is
a factorization B
/ Ai
/ A of f. This is the same as saying R is the union of the
images of Hom(‚àí, Ai) in Hom(‚àí, A). Then we say {Ai
/ A} is a covering sieve for the
Grothendieck topology if R is j-dense.
7.2. Proposition. For any topology j, the deÔ¨Ånition just given produces a Grothendieck
topology on A.
The proof is straightforward and will be omitted.
The two constructions given above produce a one to one correspondence between
saturated Grothendieck topologies on A and topologies on Set Aop. We make no use of this
fact and the proof is uninteresting, so we omit it.
7.3. Proposition. Let A be a site and j the corresponding topology on Set Aop. Then a
presheaf F is a j-sheaf if and only if it is an S-sheaf for every sieve S of the topology.
Proof. Let F be an S-sheaf for every cover S of the site. Let G0
/G be a dense inclu-
sion of presheaves. We must by Theorem 8 of Section 6.2 construct for any Œ±0: G0
/ F
a unique extension Œ±: G
/ F.
Let A be an object of A. Since G0 is dense in G, for all a ‚ààGA there is a cover
{Ai
/ A} with the property that a|Ai ‚ààG0Ai for each i. Thus Œ±0A(a|Ai) ‚ààFAi for
each i. Moreover,
(a|Ai)|Ai √óA Aj = a|Ai √óA Aj = (a|Aj)|Ai √óA Aj
so applying Œ±0A, it follows that Œ±0A(a|Ai) ‚ààFA and thus determines the required arrow
Œ±.
To prove the converse, Ô¨Årst note that the class of covers in a Grothendieck topology
is Ô¨Åltered with respect to reÔ¨Ånement: if {Aj
/ A} and {Ak
/ A} are covers then
{Aj √óA Ak
/ A} is a cover reÔ¨Åning them.

198
MICHAEL BARR AND CHARLES WELLS
Now suppose F is a sheaf. For each object A, deÔ¨Åne F +A to be the colimit over all
covers of A of the equalizers of
Q FAi
// Q F(Ai √óA Aj)
It is easy to see that F + is a presheaf. We need only show that F = F +. To do
that it is suÔ¨Écient to show that F + is separated and F
/ F + is dense. The latter is
obvious. As for the former, it follows from the deÔ¨Ånition of j that F + is separated if and
only if whenever {Ai
/ A} is a cover and a1, a2 ‚ààF +A with a1|Ai = a2|Ai for all i,
then a1 = a2. Since F is a sheaf, F + satisÔ¨Åes this condition.
Now suppose a1, a2 ‚ààF +A and there is a cover {Ai
/ A} for which a1|Ai = a2|Ai
for all i. (In this and the next paragraph, restriction always refers to F +). By deÔ¨Ånition
of F +, there is a cover {Aj
/ A} for which a1|Aj ‚ààFAj and a cover {Ak
/ A} for
which a2|Ak ‚ààFAk for all k.
Next let {Al
/ A} be a cover simultaneously reÔ¨Åning {Ai
/ A}, {Aj
/ A} and
{Ak
/A}. Then a1|Al = a2|Al for all l because {Al
/A} reÔ¨Ånes {Ai
/A}. a1|Al ‚àà
FAl and a2|Al ‚ààFAl because {Al
/ A} reÔ¨Ånes both {Aj
/ A} and {Ak
/ A}.
Thus the two elements are equal in F +A because they are equal at a node in the diagram
deÔ¨Åning F +A. Hence F + is separated, as required.
7.4. Special types of Grothendieck topologies. A topology for which every
representable functor is a sheaf is called standard, or subcanonical. Note that for a
standard topology, if L is sheaÔ¨ÅÔ¨Åcation and Y is the Yoneda embedding, then LY = Y .
Thus when a site is standard, it is fully embedded by y into its own category of sheaves.
This embedding plays a central role in the proof of Giraud‚Äôs Theorem in Section 6.8 and
in the construction of cocone theories in Chapter 8.
The canonical Grothendieck topology on a left exact category is the Ô¨Ånest (most
covers) subcanonical topology.
7.5. Proposition. The following are equivalent for a Grothendieck topology.
(a). The covers are eÔ¨Äective epimorphic families.
(b). The representable functors are sheaves for the topology.
(c). The functor y = LY , where L is sheaÔ¨ÅÔ¨Åcation, is full and faithful.
Proof. (a) is equivalent to (b) by deÔ¨Ånition. If (b) is true, LY = Y and Y is full and
faithful, so (c) is true.
If (c) is true, for a given cover let R be the subfunctor of Y A constructed above. Then
R is j-dense in Y A. Apply L to the diagram
Y B
R
Y B

R
Y A
/
/ Y A

TOPOSES, TRIPLES AND THEORIES
199
Then the top line becomes equality so we have, from (c),
Hom(LY A, LY B) ‚àº= Hom(A, B)
‚àº= Hom(Y A, Y B)
/ Hom(R, Y B)
/ Hom(LR, LY B)
‚àº= Hom(LY A, LY B)
with composites all around the identity. Hence (a), and therefore (b), is true.
Exercises 6.7.
(MTY)
‚ô¶. Prove that the empty sieve is an eÔ¨Äective epimorphic family over the initial
object, and that it is universally so if and only if the initial object is strict.
(EPI)
‚ô¶. Show that the following are equivalent for a Grothendieck topology.
a. The covers are epimorphic families.
b. The representable functors are separated presheaves for the topology.
c. The functor y = LY , where L is sheaÔ¨ÅÔ¨Åcation, is faithful.
8. Giraud‚Äôs Theorem
Any topos E is a site with respect to the canonical topology. Giraud‚Äôs Theoremas orig-
inally stated says that certain exactness conditions on a category plus the requirement
that it have a set of generators (deÔ¨Åned below) are equivalent to its being the category
of sheaves over a small site. It is stated in this way, for example, in Makkai and Reyes
[1977], p. 53 or in Johnstone [1977], p. 17.
Our Theorem 1 below is stated diÔ¨Äerently, but it is in essence a strengthening of
Giraud‚Äôs Theorem.
If C is a category, a subset U of the objects of C is a set of (regular) generators
for C if for each object C of C the set of all morphisms from objects of U to C forms a
(regular) epimorphic family. We say that U is a conservative generating family if for
any object C and proper subobject C0 ‚äÜC, there is an object G ‚ààU and an element
c ‚ààG C for which c /‚ààG C0. See Exercise (GEN) on page 204 for the relationships among
these conditions.
Sums in a category are disjoint if for any objects A and B, the commutative diagram
A
B
0
A
0
B
?
?
?
?
?
?
?
?
?
?
A
A + B
?
?
?
?
?
?
?
?
?
?
A
BB
A + B

(in which the arrows to A+B are the canonical injections) is a pullback, and the canonical
injections are monic. Sums are universal if they are preserved under pullback.

200
MICHAEL BARR AND CHARLES WELLS
Recall from Exercise (RGFAC) on page 164 of 5.5 that a regular category is a category
with Ô¨Ånite limits in which regular epis are stable under pullback.
A Grothendieck topos is a category which
(i). is complete;
(ii). has all sums and they are disjoint and universal;
(iii). is regular with eÔ¨Äective equivalence relations; and
(iv). has a small set of regular generators.
We do not yet know that a Grothendieck topos is a topos, but that fact will emerge.
8.1. Theorem. (Giraud) The following are equivalent:
(a). E is a Grothendieck topos;
(b). E is the category of sheaves for a small site;
(c). E is a topos with arbitrary sums and a small set of generators.
Proof. That (b) implies (c) is clear because a sheaf category is a reÔ¨Çective subcategory of
a functor category. Earlier results, taken together with Exercise (GEN) on page 204, show
that (c) implies (a). For example, we have shown in Theorem 7 of 2.3 that equivalence
relations are eÔ¨Äective. In Corollary 8 of 5.3 we showed that pullbacks have adjoints from
which the disjoint stable sums and epis follow.
The proof that (a) implies (b) is immediate from the following proposition.
8.2. Proposition. Let E be a Grothendieck topos, and C a left exact subcategory con-
taining a (regular) generating family of E, regarded as a site on the topology of all sieves
which are regular epimorphic families in E. Then E is equivalent to Sh(C). Moreover, if
C is closed under subobjects, then the topology on C is canonical.
Proof. The proof consists of a succession of lemmas, in which E and C satisfy the
hypotheses of the Proposition. We begin by showing that the regular epimorphic families
form a topology.
8.3. Lemma. Every regular epimorphic family in a Grothendieck topos is stable.
Proof. A regular epimorphic family {Ei
/ E} in a category with all sums is charac-
terized by the fact that
X
(Ei √óE Ej)
//
X
Ei
/ E
is a coequalizer. Given the stable sums, this is equivalent to the assertion that
(
X
Ei) √óE (
X
Ei)
////
X
Ei
/ E
is a coequalizer, which implies that
P Ei
/ E is a regular epi. Since both sums and
regular epis are stable, so is this condition.

TOPOSES, TRIPLES AND THEORIES
201
In the rest of this section, we use Y , L, and y = LY as deÔ¨Åned in 6.7. We show
eventually that y is left exact and cocontinuous and deduce that it is an equivalence.
8.4. Corollary. For every object E of E, Y (E) is a sheaf.
Proof. Since every cover is a regular epimorphic family in E, it follows from the deÔ¨Åni-
tion of covers that representable functors are sheaves.
8.5. Lemma. y(0) = 0.
Proof. The stable sums in E imply that 0 is a strict initial object. For any object C of
C, Y (0)(C) = Hom(C, 0) = ‚àÖunless C = 0 in which case it is a singleton. If 0 is not an
object of C, this is the constantly null functor which is initial in the functor category, so
that its associated sheaf y(0) is initial in the sheaf category. If 0 is an object of C, then
y(0) can readily be seen to be initial, from the deÔ¨Ånition of initial, as soon as we observe
that F(0) = 0 for every sheaf F. Since 0 is covered by the empty sieve, we have, for any
sheaf F, an equalizer
F(0)
/ Q()
// Q()
in which the empty products have a unique element so that F(0) does too.
8.6. Lemma. y preserves sums.
Proof. We must show that if E =
P Ei, then
P Y Ei
/Y E is a dense inclusion (in the
presheaf category) so that the sheaf associated to the Ô¨Årst is the second. It is an inclusion
because Ei √óE Ej = 0, the injections into the sum are mono, and Y preserves limits.
Evaluating this at C in C (remember that Y is Hom-functor-valued), we must show that
for any f: C
/ E, there is a cover {Ck
/ C} such that f|Ck ‚àà
P Hom(Ck, Ei). This
means that for each k there is an i with f|Ck ‚ààHom(Ck, Ei).
Given f, let
C
P Ei
/
Cj
C


Cj
Ej
fj
/ Ej
P Ei


be a pullback.
The objects Cj may not be in C, but for each one there is a regular
epimorphic family (hence cover) {Cjk
/ Cj} with all Cjk in C because C contains a
generating family. (Observe that the second subscript k varies over an index set which
depends on the Ô¨Årst subscript j). Since C =
P Cj, {Cj
/ C} is a cover of C. Hence
the doubly indexed sieve {Cjk
/ C} is a cover of C in C. Furthermore, f|Cjk = fj|Cjk,
which is in Hom(Cjk, Ej).
8.7. Lemma. y preserves regular epis.

202
MICHAEL BARR AND CHARLES WELLS
Proof. The argument is similar to the above. Given E‚Ä≤
/ /E an element f ‚ààHom(C, E)
will not necessarily lift to an element of Hom(C, E‚Ä≤), but will do so on a cover of C, namely
a cover {Ci
/ C‚Ä≤} by objects in C of the object C‚Ä≤ gotten by pulling f back
E
E
/ /
C‚Ä≤
E
f‚Ä≤

C‚Ä≤
C
/ / C
E
f

8.8. Lemma. y preserves coequalizers.
Proof. It preserves limits because L and Y do. We also know that it preserves sums
and images and hence unions (even inÔ¨Ånite unions). The constructions used in Exercise
(GEQ) on page 205 are therefore all preserved by y, so y preserves the construction of
equivalence relations. Thus if
A
h
/
k
/ B
c
/ C
is a coequalizer, y takes the kernel pair of c (which is the equivalence relation generated
by h and k) to the kernel pair of yc. Since yc is regular epi, it is the coequalizer of yh
and yk.
8.9. Lemma. y is full and faithful.
Proof. The faithfulness follows immediately from the fact that C contains a set of regular
generators for E and that the covers are regular epimorphic families. As for the fullness,
the deÔ¨Ånition of y implies that when C is an object of C, Hom(yC, yE) ‚àº= Hom(C, E).
The universal property of colimits, together with the fact that these are preserved by
y allows one to extend this conclusion easily to the case that C belongs to the colimit
closure of C which is E.
8.10. Lemma. Every sheaf F is a coequalizer of a diagram of the kind
X
(yC‚Ä≤
k)
//
X
(yCi)
/ F
Proof. This is a trivial consequence of the fact that every functor, hence every sheaf is
a colimit of a diagram of representables.
8.11. Lemma. If C is closed in E under subobjects, then every cover in C is also a cover
in E.
Proof. Let {Ci
/ C} be a cover in C. As seen in Exercise (RGFAC) on page 164
of 5.5, a regular category has a factorization system using regular epis and monos. The
regular image in E of
P Ci
/ C is a subobject C0 ‚äÜC which, by hypothesis, belongs
to C. If C0 Ã∏= C, the family is not regular epimorphic.

TOPOSES, TRIPLES AND THEORIES
203
Now we can Ô¨Ånish the proof of Proposition 2. We already know that y is full and
faithful. Let F be a sheaf and represent it by a diagram as in Lemma 10 above. The fact
that y preserves sums implies that there is a coequalizer
yE1
// yE0
/ F
and the fact that y is full means the two arrows from E1 to E0 come from maps in E.
Letting E be the coequalizer of those maps in E, it is evident that yE ‚àº= F. Hence y is
an equivalence.
The last sentence of the proposition follows from Lemma 11.
It should remarked in connection with this theorem that if E has a small regular
generating set, C can be taken to be small by beginning with the generating set and
closing it under Ô¨Ånite products and subobjects. However, nothing in the proof requires C
to be small and it could even be taken to be E itself. Of course, in that case, it may be
thought that the functor category and the reÔ¨Çector L may not necessarily exist, but this
is a philosophical, not a mathematical objection. For those who care, we remark that it
is a topos in a larger universe. Moreover, the ‚ÄúreÔ¨Çection principle‚Äù guarantees that the
theorem is valid even in the category of all sets.
8.12. Theorem. Any left exact cocontinuous functor between Grothendieck toposes is
the left adjoint part of a geometric morphism.
Proof. We need only show that the right adjoint exists.
But Grothendieck toposes
are complete with generators so the Special Adjoint Functor Theorem guarantees the
existence.
A category whose Yoneda embedding has a left adjoint is called total. If the left
adjoint is also left exact, the category is called lex total. Freyd and Street have char-
acterized Grothendieck toposes as lex total categories satisfying a mild size restriction
[Street, 1981]. Street [1983] characterizes lex total categories in terms of conditions on
epimorphic families generalizing the requirements in Giraud‚Äôs theorem of having universal
eÔ¨Äective epimorphisms. Total categories are cocomplete in a strong sense. Street [1983]
says of them that they are ‚Äú...precisely the the algebraic and topological categories at
which traditional category theory was aimed.‚Äù
Some of the more obvious relations among these various notions appear in the theorem
below.
8.13. Theorem. Let E be a category. Then each of the following properties implies the
next. Moreover, (iv) plus the existence of a generating set implies (i).
(i). E is a Grothendieck topos
(ii). E is lex total,
(iii). y: E
/ Sh(E) is an equivalence,
(iv). E is a complete topos.

204
MICHAEL BARR AND CHARLES WELLS
Proof. We prove that (ii) implies (iii), which requires the most argument, and leave the
others as exercises.
Suppose E is lex total. Then Y : E
/ Psh(E) has a left exact left adjoint Y #. It
follows from results of Section 6.5 that E is a cocomplete topos. Let I: Sh(E)
/ Psh(E)
be the inclusion with left adjoint L, and as before, let y = LY . We will use the fact that y
preserves colimits; this follows from the fact that it preserves sums and (regular because
E is a topos) epis, and, as we will see in Section 7.6, Propositions 1 and 2, that is enough
in a countably complete topos. To show that y is an equivalence, it is enough to show
that every sheaf F is isomorphic to yE for some object E of E. Since every presheaf is a
colimit of representables IF = colim Y Ei, so
F = LIF = colim LY Ei = colim yEi = y colim Ei
as required.
We make no attempt here to investigate the reverse implications. Exercises (GRTOP)
and (BIGACT) on page 205 give an example of a complete topos that lacks a small
generating set.
Exercises 6.8.
(GSV). We have deÔ¨Åned a sieve and thus a cover in terms of collections {Ai
/ A}.
There is another way.
Let us say that a Giraud sieve on A is a subfunctor of the
representable functor Hom(‚àí, A). Say that a collection of Giraud sieves forms a Giraud
topology if it includes the identity sieve on every object and is invariant under pullback
and composition. Further say that a sieve (in the sense used previously in this book)
{Ai
/ A} is saturated if whenever an arrow B
/ A factors through one of the
arrows in the sieve, it already is one of the arrows in the sieve. Show that there is a
one-to-one correspondence between saturated sieves and Giraud sieves on an object A.
Conclude that topologies and Giraud topologies are equivalent.
(OMTS)
‚ô¶. Let C be a site and E = Sh(C).
a. Show that there is a presheaf which assigns to each object the set of Giraud sieves
on that object and that that is the subobject classiÔ¨Åer ‚Ñ¶in the presheaf category.
b. Show that the presheaf ‚Ñ¶j that assigns to each object the set of Giraud covers is a
sheaf and in fact the subobject classiÔ¨Åer in the sheaf category.
c. Show that the topology j (which, recall, can be viewed as an endomorphism of ‚Ñ¶) is
the classifying map of ‚Ñ¶j.
(DNC)
‚ô¶. Let C be a site and E = Shv(C). Prove that a Grothendieck topology on E
is contained in the ¬¨¬¨ topology if and only if no cover in the Grothendieck topology is
empty.
(GEN)
‚ô¶. a. Show that in a category C a set U of objects is a set of generators if and only
if when f, g: C
/ B are distinct then there is an element c ‚ààG C for some G ‚ààU for
which f(c) Ã∏= g(c).
b. Show that any regular generating family is conservative.

TOPOSES, TRIPLES AND THEORIES
205
c. Show that in a category with equalizers, any conservative generating family is a
generating family.
d. Show that in a topos any generating family is conservative. (Hint: every mono is
regular.)
e. Show that in a complete topos, every epimorphic family is regular; hence the converse
of (b) is true and every generating family is regular.
(GEQ)
‚ô¶. Let E be a countably complete (hence countably cocomplete) topos and R ‚äÜ
A√óA a relation on an object A. If S1 and S2 are two relations on A, then the composite
of S1 and S2 is, as usual, is the image of the pullback S1 √óA S2 where S1 is mapped to A
by the second projection and S2 by the Ô¨Årst.
(a). Let S = R ‚à™‚àÜ‚à™Rop. Show that S is the reÔ¨Çexive, symmetric closure of R.
(b). Let E be the union of the composition powers of S. Show that E is the equivalence
relation generated by R.
(Hint: Pullbacks, unions and countable sums are all preserved by pulling back.)
(GRTOP). By a measurable cardinal Œ± is meant a cardinal number for which there is an
ultraÔ¨Ålter f with the property that if any collection {Ui}, i ‚ààI is given for which #(I) < Œ±,
and each Ui ‚ààf, then ‚à©Ui ‚ààf. Call such an f an Œ±-measure. It is not known that
measurable cardinals exist, but for this exercise, we will assume not only that they exist,
but that there is a proper class of them. So let Œ±1, Œ±2, . . . , Œ±œâ, . . . (indexed by all ordinals)
be an increasing sequence of measurable cardinals and f1, f2, . . . , fœâ, . . . a corresponding
sequence of ultraÔ¨Ålters. Assume the following (known) property of measurable cardinals:
they are strongly inaccessible, meaning they cannot be reached by operations of product,
sum or exponentiation involving fewer, smaller cardinals.
DeÔ¨Åne, for any set S and ultraÔ¨Ålter f a functor FS = colim SU, U ‚ààf. Note that the
diagonal map S
/ SU induces a function S
/ FS, which is, in fact, the component
at S of a natural transformation.
a. Show that the functor F is left exact.
b. Show that if Œ± is measurable, f an Œ±-measure and #(S) < Œ±, then S
/ FS is an
isomorphism.
c. Show that if Fi is deÔ¨Åned as above, using the ultraÔ¨Ålter fi on Œ±i, then there is
a sequence Hi of left exact endofunctors on Set deÔ¨Åned by Hj+1 = Fj ‚ó¶Hj and Hj =
colim Hk, k < j when j is a limit ordinal.
d. Show that for any set S there is an i dependent on S such that for j > i,
Gj(S)
/ Gi(S) is an isomorphism.
e. Conclude that there is a left exact functor H: Set
/ Set whose values are not
determined by the values on any small subcategory.
f. Show that there is a left exact cotriple on Set √ó Set whose functor part is given by
G(S, T) = (S√óHT, T) for which the category of algebras does not have a set of generators
and hence is not a Grothendieck topos.

206
MICHAEL BARR AND CHARLES WELLS
(BIGACT). Let C be a proper class and G be the free group generated by C. (If you
don‚Äôt like this, we will describe an alternate approach later. Meantime continue.) Let E
be the category of those G-sets which have the property that all but a small subset of the
elements of C act as the identity automorphism. Show that E is a complete topos which
does not have a small generating set.
An alternate approach to the same category is to take as an object a 3-tuple (S, C0, f)
in which S is a set, C0 a sub-set of C and f: C0
/ Aut(S) a function. Morphisms
are deÔ¨Åned so as to make this the category of G-sets as deÔ¨Åned above. Although set-
theoretically unassailable, this approach seems conceptually much less clear.
As a matter of historical interest, this category was one of the earliest known examples
to show the necessity of the solution set condition in the GAFT. The evident underlying
set functor is easily seen to lack an adjoint while satisfying all the other conditions. We
believe it is due to Freyd.
(RGCO)
‚ô¶. Prove that if U is a set of regular generators for a category C, then every
object of C is a colimit of an indexed family of objects of U.

7
Representation Theorems
1. Freyd‚Äôs Representation Theorems
In this section we prove a number of theorems due to Freyd representing toposes into
various special classes of toposes. The development follows Freyd [1972] very closely.
1.1. Terminology. We deÔ¨Åne several related concepts which will be used in Chapters
7 and 8. We have put all the deÔ¨Ånitions here, although they are not all used in this
section, because some of the terminology varies in the literature.
A functor is regular if it is left exact and preserves regular epis (but it need not
preserve all coequalizers.) An exact category is a category which has Ô¨Ånite limits and
Ô¨Ånite colimits. An exact functor is one which preserves Ô¨Ånite limits and colimits, i.e.,
it is left and right exact. In the past the term ‚Äúexact category‚Äù has been used to denote
a regular category which has eÔ¨Äective equivalence relations (every equivalence relation is
the kernel pair of some arrow), and regular functors have also been called exact functors,
but we will not use that terminology.
A pretopos is a left exact category with eÔ¨Äective equivalence relations which has Ô¨Ånite
sums which are disjoint and stable and in which every morphism factors as a composite of
a stable regular epimorphism and a monomorphism. The corresponding type of morphism
is a near exact functor which is left exact and preserves regular epimorphisms and Ô¨Ånite
sums.
The main import of the work of Makkai and Reyes [1977] is that pretoposes
correspond to a broad class of theories in the sense of model theory in mathematical
logic.
1.2. Booleanness. A topos E is Boolean if for every subobject A of an object B,
A ‚à®¬¨A ‚àº= B. In the following proposition, 2 denotes 1 + 1.
1.3. Proposition. The following are equivalent for a topos E:
(a). E is Boolean.
(b). Every subobject of an object in E has a complement.
(c). The Heyting algebra structure on ‚Ñ¶as deÔ¨Åned in Section 5.6 is a Boolean algebra.
207

208
MICHAEL BARR AND CHARLES WELLS
(d). If false: 1
/‚Ñ¶is the classifying map of the zero subobject, then (true, false): 2
/‚Ñ¶
is an isomorphism.
Proof. (a) implies (b) because for any subobject A, A‚àß¬¨A = 0. (b) and (c) are clearly
equivalent by Theorem 4 of Section 5.6.
To see that (b) implies (d), observe that true:1
/ ‚Ñ¶has a complement A
/ ‚Ñ¶.
But A
/ ‚Ñ¶classiÔ¨Åes subobjects just as well as true because there is a one to one corre-
spondence between subobjects and their complements so that Proposition 4 of Section 2.3
shows that A = 1.
Finally, if (d) holds, any map f: E
/ 2 deÔ¨Ånes a complemented subobject since E
is the sum of the inverse images of the two copies of 1 (sums are stable under pullback).
Warning: Even when 2 is the subobject classiÔ¨Åer there may be other global sections
1
/2. In fact, the global sections of 2 can form any Boolean algebra whatever. However,
see Proposition 2 and Theorem 4 below.
A topos is said to be 2-valued if the only
subobjects of 1 are 0 and 1.
A topos is well-pointed if it is nondegenerate (that is 0 Ã∏= 1) and 1 is a generator.
By Exercise (GEN) on page 204 of Section 6.8, this is equivalent to saying that for each
object A and proper subobject A0 ‚äÜA, there is global element of A that does not factor
through A0. In particular, every non-zero object has a global element.
1.4. Proposition. Let E be a well-pointed topos. Then
(a). E is 2-valued.
(b). E is Boolean.
(c). Hom(1, ‚àí) preserves sums, epimorphisms, epimorphic families and pushouts of
monomorphisms.
(d). Every nonzero object is injective.
(e). Every object not isomorphic to 0 or 1 is a cogenerator.
Proof. (a) If U were a proper nonzero subobject of 1, the hypothesis would force the
existence of a map 1
/ U, making U = 1.
(b) There is a map (true, false): 1 + 1
/ ‚Ñ¶. This induces a map from Hom(1, 1 + 1)
to Hom(1, ‚Ñ¶) which is an isomorphism by (a). Since 1 is a generator, it follows that
(true, false) is an isomorphism. Booleanness now follows from Proposition 1.
(c) A map from 1 to Œ£Ai induces by pulling back on the inclusions of Ai into the sum
a decomposition 1 = Œ£Ui. By (a), all but one of the Ui must be zero and the remaining
one be 1, which means that the original map factors through exactly one Ai.
Given an epi A
/ B and a global element of B, the pullback
1
B
/
C
1

C
A
/ A
B


TOPOSES, TRIPLES AND THEORIES
209
and the map 1
/C provides a map 1
/A which shows that Hom(1, A)
/Hom(1, B)
is surjective, as required.
The preservation of epimorphic families follows from the preservation of sums and
epimorphisms.
Finally, given a pushout
C
D
/
/
A
C

A
B
/
/ B
D

the Booleanness implies that B = A+A‚Ä≤ for some subobject A‚Ä≤ of B, whence D = C +A‚Ä≤,
which we know is preserved by Hom(1, ‚àí).
(d) If A ‚äÜB = A + A‚Ä≤ and A Ã∏= 0 then the existence of A‚Ä≤
/ 1
/ A provides a
splitting for the inclusion A
/ B. (See Exercise (INJ) on page 66 of Section 2.1.)
As for (e), let A be an object diÔ¨Äerent from 0 and 1. Since A Ã∏= 0, there is a map
1
/ A and since A Ã∏= 1, that map is not an isomorphism so that there is a second map
1
/ A that does not factor through the Ô¨Årst. Any map out of 1 is a monomorphism.
Since 1 has no non-zero subobjects, these determine disjoint subobjects of A each of which
is isomorphic to 1. Since they are disjoint, their sum gives a mono of 2 into A. Hence it
is suÔ¨Écient to show that 2 is a cogenerator. Given a parallel pair
B
f
/
g
/ C
with f Ã∏= g, let v: 1
/ B be a map with f ‚ó¶v Ã∏= g ‚ó¶v.
Then we have the map
[f ‚ó¶v, g ‚ó¶v]: 1 + 1
/ C which is a mono by exactly the same reasoning and, since 2 is
injective, splits. But this provides a map h: C
/ 2 for which h ‚ó¶f ‚ó¶v is the one injection
of 1 into 2 and h ‚ó¶g ‚ó¶v is the other, so that they are diÔ¨Äerent. Hence h ‚ó¶f Ã∏= h ‚ó¶g which
shows that 2 is a cogenerator.
1.5. Embedding theorems.
1.6. Theorem. Every small topos has an exact embedding into a Boolean topos This
embedding preserves epimorphic families and all colimits.
Proof. Let E be the topos.
For each pair f, g: A
/ B of distinct arrows we will
construct a left exact, colimit preserving embedding of E into a Boolean topos which
keeps f and g distinct, and then take the product of all the Boolean toposes so obtained.
It is an easy exercise (Exercise (PBOOL) on page 211) that the product (as categories)
of Boolean toposes is a Boolean topos.
The map from E to E/A which takes an object C to C√óA
/A certainly distinguishes
f and g.
In the category E/A, the diagonal arrow A
/ A √ó A followed by A √ó f
(respectively A √ó g) gives a pair of distinct global elements of B whose equalizer is a
proper subobject U of 1. The topology j induced by U as in Example (c) of Section 6.1
makes the equalizer 0 in Shj(E/A), which is clearly a nondegenerate topos. The double

210
MICHAEL BARR AND CHARLES WELLS
negation sheaves in that category is a Boolean topos with the required property (Exercise
(DN2) on page 211). The arrows that f and g go to are still distinct because ¬¨¬¨0 = 0.
The limit preservation properties follow from the fact that the map E
/ E/A has
both adjoints and the associated sheaf functor is left exact and has a right adjoint.
1.7. Theorem. Every small Boolean toposB has a logical embedding to a product of
small well-pointed toposes.
Proof. The argument goes by constructing, for each nonzero object A of B, a logical
morphism T: B
/ C (where C depends on A) with C well-pointed and TA Ã∏= 0. This
will show that the the mapping of B into the product of all the categories C for all objects
A is an embedding (Exercise (FAITH) on page 211).
The proof requires the following lemma.
1.8. Lemma. For every small Boolean topos B and nonzero object A of B there is a small
topos B‚Ä≤ and a logical morphism T: B
/ B‚Ä≤ with TA Ã∏= 0 and such that for all objects B
of B either TB = 0 or TB has a global element.
Proof. Well order the objects of B taking A as the Ô¨Årst element.
Let B0 = B and
suppose that for all ordinal numbers Œ≤ < Œ±, BŒ≤ has been constructed, and whenever
Œ≥ < Œ≤, a family of logical morphisms uŒ≤Œ≥: BŒ≥
/ BŒ≤ is given such that
(i). uŒ≤Œ≤ = 1 and
(ii). for Œ¥ ‚â§Œ≥ ‚â§Œ≤, uŒ≤Œ≥ ‚ó¶uŒ≥Œ¥ = uŒ≤Œ¥.
(Such a family is nothing but a functor on an initial segment of ordinals regarded as
an ordered category and is often referred to as a coherent family).
If Œ± is a limit ordinal, let BŒ± be the direct limit of the BŒ≤ for Œ≤ < Œ±. If Œ± is the
successor of Œ≤ then let B be the least object of B which has not become 0 nor acquired
a global section in BŒ≤. Let
bB be its image in BŒ≤ and let BŒ± be BŒ≤/ bB. Stop when you
run out of objects. Since toposes are deÔ¨Åned as models of a left exact theory and logical
functors are morphisms of that theory, it follows from Theorem 4 of Section 4.4 that the
direct limit is a topos. By Exercise (BWP) on page 211, the last topos constructed by this
process is the required topos. It is easy to see that the functors in the cone are logical.
To prove Theorem 4, form the direct limit C of B, B‚Ä≤, B‚Ä≤‚Ä≤ (forming B‚Ä≤‚Ä≤ using the image
of A in B‚Ä≤) and so on. The image of A in C will be nonzero, and every nonzero object of
C has a global element.
The product of all these categories C for all objects A of B is the required topos.
1.9. Theorem. Every small topos has an exact embedding into a product of well-pointed
toposes.
1.10. Theorem. [Freyd‚Äôs Embedding Theorem] Every small topos has an embedding
into a power of Set that preserves Ô¨Ånite limits, Ô¨Ånite sums, epimorphisms, and the pushout
of a monomorphism.
Proof. Every well-pointed topos has a functor to Set, namely Hom(1, ‚àí), with those
properties.

TOPOSES, TRIPLES AND THEORIES
211
Exercises 7.1.
(BWP)
‚ô¶. Prove that a Boolean topos is well-pointed if and only if every nonzero object
has a global section.
(PWP). Prove that well-pointed toposes are not the models of an LE theory.
(DN2)
‚ô¶. Show that the category of sheaves for the topology of double negation (Exercise
(DN) on page 175 of Section 6.1) is a Boolean topos. (Hint: In any Heyting algebra
¬¨¬¨a = ¬¨¬¨¬¨¬¨a.)
(FAITH)
‚ô¶. a. Show that an exact functor from a Boolean topos is faithful if and only if
it takes no non-zero object to zero.
b. Show that an exact functor from a 2-valued topos to any non-degenerate topos is
faithful.
(RFI)
‚ô¶. Show that the embeddings of Theorems 6 and 7 reÔ¨Çect all limits and colimits
which they preserve. (Hint: First show that they reÔ¨Çect isomorphisms by considering the
image and the kernel pair of any arrow which is not an isomorphism.)
(PBOOL)
‚ô¶. a. Show that the product as categories of toposes is a topos.
b. Show that the product of Boolean toposes is Boolean.
(LOG). A category has stable sups if the supremum of any two subobjects exists
and is preserved by pullbacks.
It has stable images if for any arrow f: A
/ B,
Sub f: Sub B
/ Sub A has left adjoint which is preserved by pullbacks.
A left ex-
act category with stable sups and stable images is called a logical category. Show that
a category is a pretopos if and only if it is logical, has Ô¨Ånite disjoint sums and eÔ¨Äective
equivalence relations. (This comes from [Makkai and Reyes, 1977, pp.121‚Äì122].)
2. The Axiom of Choice
2.1. The Axiom of Choice. If f: A
/ B is an arrow in a category, we say that a
map g: B
/ A is a section of f if it is a right inverse of f, i.e. f ‚ó¶g = 1. If f has a
section, we say that it is a split epi (it is necessarily epi), although the second word is
often omitted when the meaning is clear. It is easy to see that the Axiom of Choice in
ordinary set theory is equivalent to the statement that in the category of sets, all epis are
split. A section of the map (): A
/ 1 is a global element. A global element of A is thus
often called a global section of A.
We say a topos satisÔ¨Åes the Axiom of Choice (AC) if every epi splits. It is often
convenient to break this up into two axioms:
(SS). (Supports Split): Every epimorphism whose codomain is a subobject of 1 splits.
(IAC). (Internal Axiom of Choice): If f: A
/ B is an epi, then for every object C,
f C: AC
/ BC is an epi.

212
MICHAEL BARR AND CHARLES WELLS
The name ‚ÄúSupports Split‚Äù comes from the concept of the support of an object X,
namely the image of the map X
/1 regarded as a subobject of 1. An object has global
support if its support is 1.
It is an easy exercise that AC implies SS and IAC. It will emerge from our discussion
that SS and IAC together imply AC.
We say f: A
/ B is a powerful epi if it satisÔ¨Åes the conclusion of IAC. We deÔ¨Åne
¬ß f by the pullback
1
BB
/
¬ßf
1

¬ßf
AB
/ AB
BB
fB

where the lower map is the transpose of the identity. Intuitively, ¬ß f is the set of sections
of f.
It is clear that if f B is epi then ¬ß f has global support (the converse is also true, see
Exercise (SEC) on page 215) and that ¬ß f has a global section if and only if f has a
section. In fact, global sections of ¬ß f are in one to one correspondence with sections of f.
2.2. Proposition. For a morphism f: A
/ B in a topos E, the following are equiva-
lent:
(a). f is a powerful epi;
(b). f B is epi;
(c). ¬ß f has global support.
(d). There is a faithful logical embedding L: E
/ F into some topos F such that Lf is
split epi.
Proof. (a) implies (b) by deÔ¨Ånition. (b) implies (c) because a pullback of an epi is epi.
To see that (c) implies (d) it is suÔ¨Écient to let F be E/ ¬ß f and L be ¬ß f √ó‚àí. By Theorem 6
of Section 5.3, L is faithful and logical. L therefore preserves the constructions of diagram
(1). In the corresponding diagram in F , ¬ß Lf has a global section (the diagonal) which
corresponds to a right inverse for Lf. For (d) implies (a), let C be an object and g a
right inverse for Lf. Then gLC is a right inverse for L(f C), which is isomorphic to (Lf)C.
Thus L(f C) is epi, which, because L is faithful, implies that f C is epi.
2.3. Proposition. Given a topos E there is a topos F and a logical, faithful functor
L: E
/ F for which, if f is a powerful epi in E, then Lf is a split epi in F .
Proof. Well order the set of powerful epis. We construct a transÔ¨Ånite sequence of toposes
and logical morphisms as follows: If EŒ± is constructed, let EŒ±+1 be EŒ±/ ¬ß fŒ± where fŒ± is
the powerful epi indexed by Œ± and the logical functor that constructed by Proposition 1.
At a limit ordinal Œ±, let EŒ± be the direct limit of all the preceding logical functors. The
required topos F is the direct limit of this family. As observed in the proof of Lemma 4
of Section 7.1, the direct limit of toposes and logical morphisms is a topos and the cone
functors are logical.

TOPOSES, TRIPLES AND THEORIES
213
2.4. Corollary. Given a topos E, there is a topos F in which every powerful epi splits
and a faithful, logical functor L from E to F .
Proof. Repeat the above process countably often.
2.5. Corollary. A topos satisÔ¨Åes the IAC if and only if it has a faithful, logical em-
bedding into a topos that satisÔ¨Åes the Axiom of Choice.
Proof. The ‚Äúif‚Äù part is very easy. For if a topos has such an embedding, it is immediate
that every epi is powerful. So suppose E is a topos that satisÔ¨Åes the IAC. If we show
that every slice and any colimit of such slices (called a limit slice because it is a limit in
the category of geometric morphisms) satisÔ¨Åes the IAC, then the topos constructed above
will have every epi powerful and every powerful epi split. The limit part is trivial since
every epi in the colimit is an epi before the colimit is reached (since the functors are all
faithful). Thus it is suÔ¨Écient to show that slicing preserves the IAC. If
B
A
g
?
?
?
?
?
?
?
?
?
?
?
?
?
B
C
/ C
A
h

is an epimorphism in E/A, then f: B
/ C is epi in E. Since E satisÔ¨Åes the IAC, the
object ¬ß f has global support. Now consider the diagram of toposes and logical functors:
E/A
E/(¬ßf √ó A)
/
E
E/A

E
E/¬ßf
/ E/¬ßf
E/(¬ßf √ó A)

If we apply ¬ß f √ó ‚àíto (*), we get
¬ßf √ó B
¬ßf √ó A
¬ßf√óg
?
?
?
?
?
?
?
?
?
?
?
?
¬ßf √ó B
¬ßf √ó C
¬ßf√óf
/ ¬ßf √ó C
¬ßf √ó A
¬ßf√óh

The map ¬ß f √ó f has a splitting in E/ ¬ß f. It is immediate, using the fact that it is a
section, to see that it makes the triangle commute and is hence a section in E/ ¬ß f √ó A.
But then E/A has a faithful (because ¬ß f √ó A
/ A has global support), logical functor
into a topos in which f has a section and hence by Proposition 1, f is a powerful epi.

214
MICHAEL BARR AND CHARLES WELLS
2.6. AC and Booleanness. Our goal is to show that a topos satisfying AC, and
ultimately a topos satisfying IAC, is Boolean. We require a lemma:
2.7. Lemma. If
C
D
/
A
C

A
B
/ B
D

is a pullback and a pushout with all arrows monic, then its image under any near exact
functor Œ¶ from E to a topos F is a pushout as well as a pullback.
Proof. Since (2) is a pushout,
A
// B + C
/ D
is a coequalizer. The kernel pair of the arrow from B + C to D is (B + C) √óD (B + C),
which is isomorphic to
B √óD B + B √óD C + C √óD B + C √óD C
B
/D monic implies that B √óD B = B and similarly C √óD C = C. The fact that (2) is
a pullback implies that the other two summands are each A. The result is that the kernel
pair is the reÔ¨Çexivized, symmetrized image of A in B + C. The same considerations will
apply to Œ¶ applied to (2). Thus
Œ¶B + Œ¶A + Œ¶A + Œ¶C
// Œ¶B + Œ¶C
/ Œ¶D
is a kernel pair and since the right arrow is epi, is also a coequalizer. It follows that
Œ¶AŒ¶B + Œ¶C
/ Œ¶D
is a coequalizer and hence that Œ¶ of (2) is a pushout.
2.8. Theorem. A topos E which satisÔ¨Åes the Axiom of Choice is Boolean
Proof. We must show that every subobject A of an object B has a complement. Since
a slice of a topos satisfying AC is a topos satisfying AC and subobjects of B in E are the
same as subobjects of 1 in E/B, it is suÔ¨Écient to consider the case B = 1. So let A be a
subobject of 1. Form the coequalizer
A
// 1 + 1
/ 1 +A 1
and Ô¨Ånd a right inverse f for the right arrow. Take the pullbacks C1 and C2 of f along
the two inclusions of 1 in 1+1; then we claim that the complement of A is C = C1 ‚à©C2 as
subobjects of 1. We know that A and C are subobjects of 1, so we have a map A+C
/1,
which we want to prove is an isomorphism. By Freyd‚Äôs Theorem 7 and Exercise (RFI)

TOPOSES, TRIPLES AND THEORIES
215
on page 211 of Section 7.1, there is a family of near-exact functors Œ¶: E
/ Set which
collectively reÔ¨Çect isomorphisms. By Lemma 5, everything in the construction of A + C
is preserved by near-exact functors, so it is suÔ¨Écient to prove that A + C
/ 1 is an
isomorphism in Set. In Set, either A = ‚àÖin which case C1 = C2 = C = 1 which is the
complement of A, or A = 1 in which case one of C1 or C2 is empty, so the intersection is
empty and is therefore the complement of A. In each case the map A + C
/ 1 is an
isomorphism.
2.9. Corollary. A topos satisfying IAC is Boolean.
Proof. Suppose A is a subobject of B in a topos satisfying IAC. According to Propo-
sition 4, the topos has a logical, faithful embedding into a topos satisfying the Axiom
of Choice. Since it is logical, it preserves the construction of ¬¨A. Thus the equation
A + ¬¨A = B is true in the original topos if and only if it is true after the embedding.
This follows from Theorem 6.
Exercises 7.2.
(SEC)
‚ô¶. Show that if f: A
/ B is a map for which ¬ß f has global support, then f B is
epi. (Hint: Slice by ¬ß f.)
(GAC). Show that if G is a nontrivial group, Set G satisÔ¨Åes IAC but not AC.
(COMP2). If A is a subobject of B, then A has a complement in B if and only if the
epimorphism B + B
/ B +A B is split.
(COMP3). If A is a subobject of B and C is any object whose support includes the
support of B, then A is complemented in B if and only if A √ó C is complemented in
B √ó C. (Hint: Adapt the argument used in Corollary 7.)
3. Morphisms of Sites
In this section, we state a theorem about extensions of left exact cover-preserving functors
to the sheaf category which will play the same role for theories with cocones (treated in
Chapter 8) that Theorem 4 of Section 4.3 plays for theories with only cones. This theorem
is also used in the proof of Deligne‚Äôs Theorem in the next section.
We need some preliminary results.
3.1. Proposition. Let B and D be complete toposes, A a left exact generating subcate-
gory of B, and f: B
/D a colimit-preserving functor whose restriction to A is left exact.
Then f is left exact.
Proof. Since A is left exact, it contains the terminal object 1, so f(1) = 1. Thus we
need ‚Äúonly‚Äù show that f preserves pullbacks.
In the proof below we systematically use A and B with or without subscripts to refer
to objects in A or B respectively. The proof requires several steps.

216
MICHAEL BARR AND CHARLES WELLS
(i). Let B =
P Ai. Then for any A, f preserves the pullback
A
B
/
A √óB Ai
A

A √óB Ai
Ai
/ Ai
B

where the right arrow is coordinate inclusion.
Proof. We have
X
A √óB Ai ‚àº= A
and
X
f(A √óB Ai) ‚àº= fA ‚àº=
X
f(A) √ófB f(Ai)
because f commutes with sums and so do pullbacks in a topos. Both these isomorphisms
are induced by the coordinate inclusions A √óB Ai
/ A. Thus the sum of all the maps
f(A √óB Ai)
/ fA √ófB fAi is an isomorphism, so all the individual ones are.
(ii). If
P A is the full subcategory of B consisting of sums of objects of A, then
P A has
Ô¨Ånite limits and the restriction of f to P A is left exact.
Proof. Suppose we are given
P A‚Ä≤
j
P Ai
/
P A‚Ä≤
j
P A‚Ä≤‚Ä≤
k
P A‚Ä≤‚Ä≤
k
P Ai

For each j, deÔ¨Åne A‚Ä≤
ji so that
A‚Ä≤
j
P Ai
/
A‚Ä≤
ji
A‚Ä≤
j

A‚Ä≤
ji
Ai
/ Ai
P Ai

is a pullback, and similarly deÔ¨Åne A‚Ä≤‚Ä≤
ki for each k. Because pullbacks distribute over sums,
P A‚Ä≤
j
P Ai
/
P
i,j,k A‚Ä≤
ji √óAi A‚Ä≤‚Ä≤
kl
P A‚Ä≤
j

P
i,j,k A‚Ä≤
ji √óAi A‚Ä≤‚Ä≤
kl
P A‚Ä≤‚Ä≤
k
/ P A‚Ä≤‚Ä≤
k
P Ai

is a pullback. This proves that pullbacks and hence all limits exist in
P A. Since sums
and all the pullbacks used in the preceding construction are preserved by f, f preserves
these pullbacks, and therefore all Ô¨Ånite limits in
P A.

TOPOSES, TRIPLES AND THEORIES
217
We will henceforth assume that A is closed under sums.
(iii). f preserves pullbacks of diagrams of this form:
B1
A
/
B1 √óA B2
B1

B1 √óA B2
B2
/ B2
A

In particular, f preserves monos whose target is in A.
Proof. By Exercise (RGCO) on page 206, Section 6.8, B1 is the colimit of objects Ai, i
running over some index set, and B2 is the colimit of objects A‚Ä≤
j, j running over a diÔ¨Äerent
index set. For each i and j, form the pullback Ai √óA A‚Ä≤
j. Then B1 √óA B2 is the colimit of
these pullbacks for i and j ranging over their respective index sets. Then we calculate
f(B1 √óA B2) ‚àº= f(colim(Ai √óA A‚Ä≤
j)) ‚àº= colim f(Ai √óA A‚Ä≤
j)
‚àº= colim fAi √ófA f(A‚Ä≤
j) ‚àº= f(B1) √ófA f(B2)‚ó¶
(iv). f preserves pullbacks
A1
B
/
A1 √óB A2
A1

A1 √óB A2
A2
/ A2
B

in which the two maps to B are joint epi.
Proof. Let A = A1 + A2. Under the hypothesis, A
/ B is an epi whose kernel pair is
the disjoint sum
E = A1 √óB A1 + A1 √óB A2 + A2 √óB A1 + A2 √óB A2
E is an equivalence relation whose transitivity is equivalent to the existence of an arrow
E √óA E
/ E (the Ô¨Åber product being the pullback of one projection against the other)
satisfying certain equations. This pullback is of the type shown in (iii) to be preserved
by f. It follows that fE is transitive on fA. The fact that E is a subobject of A √ó A
implies in a similar way that fE is a subobject of f(A √ó A) ‚àº= f(A) √ó f(A). Symmetry
and reÔ¨Çexivity are preserved by any functor, so fE is an equivalence relation on fA.
Hence it is the kernel pair of its coequalizer. Since f preserves colimits, that coequalizer
is fA
/ fB. So letting Aij = Ai √óB Aj and Cij = fAi √ófB fAj for i, j = 1, 2, both
rows in
C1,1 + C1,2 + C2,1 + C2,2
fA
/
f(A1,1) + f(A1,2) + f(A2,1) + f(A2,2)
C1,1 + C1,2 + C2,1 + C2,2

f(A1,1) + f(A1,2) + f(A2,1) + f(A2,2)
fA
/ fA
fA
=

fA
fB
/
fA
fA
fA
fB
/ fB
fB
=

C1,1 + C1,2 + C2,1 + C2,2
fA
/
f(A1,1) + f(A1,2) + f(A2,1) + f(A2,2)
C1,1 + C1,2 + C2,1 + C2,2

f(A1,1) + f(A1,2) + f(A2,1) + f(A2,2)
fA
/ fA
fA

fA
fB
/
fA
fA
fA
fB
/ fB
fB


218
MICHAEL BARR AND CHARLES WELLS
are kernel pairs, so the left vertical arrow is an isomorphism, from which it follows that
each component is an isomorphism. The second component is the one we were interested
in.
(v). Given the pullback
A1
B
/
A1 √óB A2
A1

A1 √óB A2
A2
/ A2
B

the induced map f(A1 √óB A2)
/ f(A1) √ófB f(A2) is monic.
Proof. This follows from the diagram
fA1 √ófB fA2
fA1 √ó fA2
/
f(A1 √óB A2)
fA1 √ófB fA2

f(A1 √óB A2)
f(A1 √ó A2)
/ f(A1 √ó A2)
fA1 √ó fA2
‚àº
=

where the horizontal arrows are induced by the mono A1 √óB A2
/ A1 √ó A2 (and so are
mono by (iii)) and the fact that if the composite of two arrows is monic then so is the
Ô¨Årst one.
(vi). Given the pullback
A1
B
/
A1 √óB A2
A1

A1 √óB A2
A2
/ A2
B

the induced map f(A1 √óB A2)
/ f(A1) √ófB f(A2) is epic.

TOPOSES, TRIPLES AND THEORIES
219
Proof. Since A is closed under sums, every object B has a presentation A
/ B (epi).
Form the following diagram
A‚Ä≤
1
A
/
A‚Ä≤
1 √óA A‚Ä≤
2
A‚Ä≤
1

A‚Ä≤
1 √óA A‚Ä≤
2
A‚Ä≤
2
/ A‚Ä≤
2
A

A1
B
/
A1 √óB A2
A1

A1 √óB A2
A2
/ A2
B

A‚Ä≤
2
A2
A‚Ä≤
1 √óA A‚Ä≤
2
A1 √óB A2
A‚Ä≤
1
A1
A
B ccGGGGGGGGGGGGGGGGGGGG
A‚Ä≤
1 √óA A‚Ä≤
2
A1 √óB A2
#G
G
G
G
G
G
G
A1 √óB A2
A1 √óB A2
#G
G
G
G
G
G
G
A‚Ä≤
2
A2 √óB A2
{{wwwwwww
A2 √óB A2
A2
{{{wwwwwww
A1 √óB A
A1
; ;w
w
w
w
w
w
w
A‚Ä≤
1
A1 √óB A
;w
w
w
w
w
w
w
in which A
/ B is a presentation, and then A‚Ä≤
i
/ Ai √óB A are presentations for
i = 1, 2.
Furthermore, A‚Ä≤
i √óB A is a pullback which by (iv) is preserved by f.
The
composite arrow in the upper left corner can be seen to be epi using Freyd‚Äôs Theorem 7
of 7.1 (the near-exact embedding into a power of Set) and a diagram chase in Set.
In the target category D we have a similar diagram:
fA‚Ä≤
1
fA
/
fA‚Ä≤
1 √ófA fA‚Ä≤
2
fA‚Ä≤
1

fA‚Ä≤
1 √ófA fA‚Ä≤
2
fA‚Ä≤
2
/ fA‚Ä≤
2
fA

fA1
fB
/
fA1 √ófB fA2
fA1

fA1 √ófB fA2
fA2
/ fA2
fB

fA‚Ä≤
2
fA2
fA‚Ä≤
1 √ófA fA‚Ä≤
2
fA1 √ófB fA2
fA‚Ä≤
1
fA1
fA
fB ddJJJJJJJJJJJJJJJJJJJJ
fA‚Ä≤
1 √ófA fA‚Ä≤
2
f(A1 √óB A2)
$J
J
J
J
J
J
J
f(A1 √óB A2)
fA1 √ófB fA2
$J
J
J
J
J
J
J
fA‚Ä≤
2
fA2 √ófB fA2
zzttttttt
fA2 √ófB fA2
fA2
zzttttttt
fA1 √ófB fA
fA1
: :t
t
t
t
t
t
t
fA‚Ä≤
1
fA1 √ófB fA
:t
t
t
t
t
t
t
The maps fA‚Ä≤
i
/ fAi √ófB fA (i = 1, 2) are epi because they are f of the corresponding
arrows in the diagram preceding this one. By the same argument using Freyd‚Äôs represen-
tation theorem as was used in the earlier diagram,
fA‚Ä≤
1 √ófA fA‚Ä≤
2
/ fA1 √ófA fA2
is epi, so the second factor
f(A1 √óB fA2)
/ fA1 √ófB fA2

220
MICHAEL BARR AND CHARLES WELLS
is also epi.
(vii). f preserves arbitrary pullbacks.
Proof. It follows from (v) and (vi) that f(A1√óBA2)
/fA1√ófBfA2 is an isomorphism.
Thus we can apply the argument used in (iii) above to the diagram
B1
B
/
B1 √óB B2
B1

B1 √óB B2
B2
/ B2
B

by replacing A by B throughout.
There are other proofs of Proposition 1 known, not quite as long, which depend on
analyzing the form of the Kan extension.
See for example Makkai and Reyes [1977,
Theorem 1.3.10].
In the application below, the categories B and D are both functor categories, and the
use of Freyd‚Äôs theorem can be avoided in that case by a direct argument.
3.2. Theorem. Suppose A and C are sites, and f: A
/C is a morphism of sites. Then
there is a functor f#: Sh(A)
/Sh(C) which is left exact and has a right adjoint for which
Sh(A)
Sh(C)
f#
/
A
Sh(A)
y

A
C
f
/ C
Sh(C)
y

commutes.
Proof. Form the diagram
C
Set Cop
Y
/
A
C
f

A
Set Aop
Y
/ Set Aop
Set Cop
f!

Set Cop
Sh(C)
L
/
Set Aop
Set Cop
Set Aop
Sh(A)
L
/ Sh(A)
Sh(C)
f#

C
Set Cop
/
A
C

A
Set Aop
/ Set Aop
Set Cop
O
f‚àó
Set Cop
Sh(C)
o
I
Set Aop
Set Cop
Set Aop
Sh(A)
o
I
Sh(A)
Sh(C)
O
f‚àó
in which f ‚àóis the functor composing with f and f! is the left Kan extension. Y is Yoneda,
I is inclusion, and L is sheaÔ¨ÅÔ¨Åcation. y = L ‚ó¶Y . The fact that f is cover-preserving easily
implies that f ‚àótakes sheaves to sheaves and so induces a functor which we also call f ‚àó
on the sheaf categories. Then by Theorem 2 of 4.3, f# = L ‚ó¶f! ‚ó¶I is left adjoint to f ‚àó.

TOPOSES, TRIPLES AND THEORIES
221
The commutativity follows from the following calculation:
Hom(f#yA, F)‚àº= Hom(yA, f ‚àóF) = Hom(LY A, f ‚àóF)
‚àº= Hom(Y A, If ‚àóF) ‚àº= If ‚àóF(A) = IF(fA)
‚àº= Hom(Y fA, IF) ‚àº= Hom(LY fA, F) = Hom(yfA, F)‚ó¶
Since f! is an instance of f#, it commutes with Y . Since Y is left exact, f!Y = Y f is
left exact and Proposition 1 forces f! to be left exact. Thus f# = Lf!I is the composite
of three left exact functors.
Exercise 7.3.
(UNIVG). Let A denote the category whose objects are Grothendieck toposes and whose
morphisms are left exact functors with a right adjoint (that is the adjoints to geometric
morphisms). Let B denote the category whose objects are essentially small sites, mean-
ing those sites which possess a small subcategory with the property that every object of
the site can be covered by covering sieves with domains in that subcategory. There is
an underlying functor U: A
/ B which associates to each Grothendieck topos the site
which is the same category equipped with the category of epimorphic families (which, in
a Grothendieck topos, is the same as the topology of regular epimorphic families). Show
that the category of sheaves functor is left adjoint to U.
4. Deligne‚Äôs Theorem
A topos E is coherent if it has a small full left exact generating subcategory C such that
every epimorphic family Ei
/C (for any object C) contains a Ô¨Ånite epimorphic subfam-
ily. Johnstone [1977] gives a proof of a theorem due to Grothendieck that characterizes
coherent Grothendieck toposes as those which are categories of sheaves on a site which
is a left exact category with a topology in which all the covers are Ô¨Ånite. In Chapter
8, we will see that coherent toposes classify theories constructed from left exact theories
by adding some Ô¨Ånite cocones. (In general, geometric theories allow cocones of arbitrary
size).
4.1. Theorem. [Deligne] Let E be a coherent Grothendieck toposindexgDeligne‚Äôs Theo-
rem. Then E has a left exact embedding into a product of copies of the category of sets
which is the left adjoint of a geometric morphism.
Proof. Let E0 be the smallest subtopos of E which contains C as well as every E-
subobject of every object of C. E0 is small because each object has only a set of subobjects
(they are classiÔ¨Åed by maps to ‚Ñ¶), and we need only repeatedly close under P, products
and equalizers at most a countable number of times, and take the union.
According to Theorem 7 of Section 7.1, there is a faithful near-exact embedding T
from E0 to a power of Set. f = T|C is left exact and preserves Ô¨Ånite epimorphic families
which, given the nature of C, implies that it preserves covers (by cover we mean in the
topology of epimorphic families). We interrupt the proof for

222
MICHAEL BARR AND CHARLES WELLS
4.2. Lemma. f preserves noncovers; that is, if a sieve {Ci
/ C} is not a cover, then
{fCi
/ fC} is not a cover.
Proof. E =
S Im(Ci
/ C) exists in E because E is complete. Since E0 is closed
under subobjects, that union belongs to E0; moreover, by hypothesis, it cannot be all
of C.
Therefore since T is faithful, it follows that TE is a proper subobject of TC,
through which all the TCi factor. Consequently all the fCi factor through this same
proper subobject of fC.
Let S be the codomain of f. By theorem 2 of Section 7.3, f: C
/ S extends to a
left exact functor f#: E = Sh(C)
/ S which has a right adjoint f ‚àó. We claim that f#
is faithful. It is enough to show that given a proper subobject E0 of an object E, then
f#(E0) is a proper subobject of f#(E).
Since C generates, there is an object C of C and an arrow C
/ E which does not
factor through E0. Form the diagram
E0
E
/
/
E1
E0

E1
C
/
/ C
E

P Ci
/ /
in which the square is a pullback and the Ci are a cover of E1 and belong to C. Since
C
/E does not factor throught E0, E1 is a proper subobject and so the sieve {Ci
/C}
is a noncover. By Lemma 2 and the fact that f# is a left adjoint, we have
f#E0
f#E
/
/
f#E1
f#E0

f#E1
f#C
/
/ f#C
f#E

P f#Ci
/ /
where the square is still a pullback and the sieve is a noncover.
It follows that
f#E0
/ f#E cannot be an isomorphism.
5. Natural Number Objects
In a topos, (A, a, t) is a pointed endomorphism structure, or PE-structure, if
a: 1
/ A is a global element of A and t: A
/ A is an endomorphism. PE-structures

TOPOSES, TRIPLES AND THEORIES
223
are clearly models of an FP-theory, and f: (A, a, t)
/ (A‚Ä≤, a‚Ä≤, t‚Ä≤) is a morphism of PE-
structures if
1
A‚Ä≤
a‚Ä≤
# #G
G
G
G
G
G
G
G
G
A
1
;
a
wwwwwwwww A
A‚Ä≤
f

A‚Ä≤
A‚Ä≤
t‚Ä≤
/
A
A‚Ä≤
A
A
t
/ A
A‚Ä≤
f

(1)
commutes.
A PE-structure N = (N, 0, s) is a natural number object or NNO (or object of
natural numbers or natural numbers object) if for any PE-structure (A, a, t) there is a
unique morphism t(‚àí)a: (N, 0, s)
/ (A, a, t). If we write (suggestively) tn(a) for t(‚àí)a(n)
when n ‚ààN, then the deÔ¨Åning properties of a morphism of PE-structure means that
(i). t0(a) = a, and
(ii). tsn(a) = t ‚ó¶tn(a).
It follows immediately that if we identify the natural number n with the global element
s ‚ó¶s ‚ó¶s ¬∑ ¬∑ ¬∑ s ‚ó¶0 (s occurring in the expression n times) of N, then expressions like tn(a) are
not ambiguous. However, now tn(a) is deÔ¨Åned for all elements n of N, not merely those
global elements obtained by applying s one or more times to 0.
In this section, we will derive some basic properties of natural number objects and
prove a theorem (Theorem 6 below) due to Freyd that characterizes them by exactness
properties. The proof is essentially the one Freyd gave; it makes extensive use of his
embedding theorems (Section 7.1).
We begin with Proposition 1 below, which says in eÔ¨Äect that any PE-structure contains
a substructure consisting of all elements tn(a). Note that this is a statement about closure
under a ‚Äúcountable‚Äù union in any topos, so it will not be a surprise that the proof is a bit
involved. Mikkelsen [1976] has shown that internal unions in PA, suitably deÔ¨Åned, always
exist. (Of course, Ô¨Ånite unions always exist). That result and a proof of Proposition 1
based on it may be found in Johnstone [1977].
5.1. Proposition. If (A, a, t) is a PE-structure, then there is a substructure A‚Ä≤ of A
for which the restricted map ‚ü®a, t‚ü©: 1 + A‚Ä≤
/ A‚Ä≤ is epi.
The notation ‚ü®a, t‚ü©is deÔ¨Åned in Section 1.8. A PE-structure (A‚Ä≤, a‚Ä≤, t‚Ä≤) for which ‚ü®a‚Ä≤, t‚Ä≤‚ü©
is epi will be called a Peano system.
Proof. We begin by deÔ¨Åning a natural transformation r: Sub(‚àí√ó A)
/ Sub(‚àí√ó A)
which takes U ‚äÜA √ó B to
U ‚à©(Im(idB √ó a) ‚à™(idB √ó t)(U))
where (idB √ó t)(U) means the image of
U
/
/ B √ó A
idB√ót
/ B √ó A

224
MICHAEL BARR AND CHARLES WELLS
That r is natural in B follows easily from the fact that pullbacks commute with
coequalizers, hence with images.
Note that if A‚Ä≤ ‚äÜA then rA‚Ä≤ = A‚Ä≤ if and only if
A‚Ä≤ ‚äÜIma ‚à™tA‚Ä≤.
The function r induces an arrow also called r: PA
/ PA. Let E be the equalizer of
r and idPA. DeÔ¨Åne C by the pullback
‚ààA
PA √ó A
/
/
C
‚ààA

C
E √ó A
/
/ E √ó A
PA √ó A

(2)
Here ‚ààA is deÔ¨Åned in Exercise (EPS) on page 66 of Section 2.1. In rest of the proof
of Proposition 1, we will repeatedly refer to the composites C
/ E and C
/ A of the
inclusion with the projections.
In the following lemma, A‚Ä≤ ‚äÜA corresponds to cA‚Ä≤: 1
/ PA.
5.2. Lemma. The following are equivalent for a subobject A‚Ä≤
/
/ A.
(i). A‚Ä≤ ‚äÜIma ‚à™tA‚Ä≤‚ó¶
(ii). rA‚Ä≤ = A‚Ä≤
(iii). cA‚Ä≤: 1
/ PA factors through E by a map u: 1
/ E.
(iv). A‚Ä≤ can be deÔ¨Åned as a pullback
1
E
/
A‚Ä≤
1

A‚Ä≤
C
/ C
E

(3)
for which the inclusion A‚Ä≤
/
/ A = A‚Ä≤
/ C
/ E √ó A
/ A, the last map being
projection.
Proof. That (i) is equivalent to (ii) follows from the fact that in a lattice, A ‚à©B = B
if and only if B ‚äÜA. That (ii) is equivalent to (iii) follows from the deÔ¨Ånition of E: take
B = 1 in the deÔ¨Ånition of r.

TOPOSES, TRIPLES AND THEORIES
225
Assuming (iii), construct v: A‚Ä≤
/ C by the following diagram, in which the outer
rectangle is a pullback, hence commutative, and the bottom trapezoid is the pullback (2).
‚ààA
PA √ó A
/
/
A‚Ä≤
‚ààA

A‚Ä≤
A = 1 √ó A
/
/ A = 1 √ó A
PA √ó A
C
C
v
?
?
?
?
?
?
?
?
?
?
?
?
?

C
E √ó A
/ E √ó A
A
/
A = 1 √ó A
E √ó A
u√óidA

A = 1 √ó A
A
idA
?
?
?
?
?
?
?
?
?
?
?
?
?
E √ó A
PA √ó A

(4)
The last part of (iv) follows immediately from the preceding diagram.
Now in the following diagram, II, III, IV and the left rectangle are pullbacks and III is
a mono square. Hence I and therefore the top rectangle are pullbacks by Exercise (PBCC)
on page 73, Section 2.2.
C
E √ó A
/
/
A‚Ä≤
C

A‚Ä≤
1 √ó A
/
/ 1 √ó A
E √ó A
u√óidA

E √ó A
E
/
1 √ó A
E √ó A
1 √ó A
1
p1
/ 1
E
u

‚ààA
PA √ó A
/
/
C
‚ààA

C
E √ó A
/
/ E √ó A
PA √ó A

PA √ó A
PA
/
E √ó A
PA √ó A
E √ó A
E
p1
/ E
PA

I
II
III
IV
(5)
Thus (iii) implies (iv).
Given (iv), let u: 1
/ E be the bottom arrow in (3). Then in (5), III is a pullback
and so is the rectangle I+II, so I is a pullback because II is a mono square. Hence the
rectangle I+III is a pullback. Clearly rectangle II+IV is a pullback, so the outer square
is a pullback as required.
Let D be the image of C
/ E √ó A
/ A. We will show that D is the subobject
required by Proposition 1.
5.3. Lemma. The statement
(A)
D ‚äÜIma ‚à™tD
is true if and only if
(B)
the map e: P1
/ C in the following pullback is epi.

226
MICHAEL BARR AND CHARLES WELLS
1 + C
A
P1
1 + C

P1
C
e
/ C
A

1 + A
/
/
(6)
Proof. We use Freyd‚Äôs near-exact embedding Theorem 7 of Section 7.1. By Lemma 2,
the statement (A) is the same as saying that two subobjects of A are equal, a statement
both preserved and reÔ¨Çected by a near-exact faithful functor. (Note that the deÔ¨Ånition of r
involves almost all the constructions preserved by a near-exact functor). Since statements
(A) and (B) are equivalent in the category of sets (easy), they are equivalent in a power
of the category of sets since all limits and colimits are constructed pointwise there. It
thus follows from the near-exact embedding theorem that (A) is equivalent to (B).
Now we will do another transference.
5.4. Lemma. Suppose that for every global element c: 1
/ C the map f: P2
/ 1 in
the pullback
1 + C
A
P2
1 + C

P2
1
f
/ 1
A
1 + C
1 + A
/ 1 + A
A
/
1
C

C
A

(7)
is epic. Then (B) is true.
Proof. We Ô¨Årst observe that by a simple diagram chase, if e: P
/ C is not epi, then
neither is the left vertical arrow in the following pullback diagram.
C
C √ó C
(c,idC)
/
P ‚Ä≤
C

P ‚Ä≤
P √ó C
/ P √ó C
C √ó C
e√óidC

(8)
Now if e in (6) is not epi, its image in the slice E/C is not epi either. The observation
just made would then provide a global element of C in a diagram of the form (7) in which
the map P
/1 is not epic. The lemma then follows from the fact that all constructions
we have made are preserved by the logical functor E
/ E/C.
5.5. Lemma. (B) is true.

TOPOSES, TRIPLES AND THEORIES
227
Proof. We prove this by verifying the hypothesis of Lemma 4. Let c be a global element
of C. DeÔ¨Åne C‚Ä≤ by requiring that
1
E
C‚Ä≤
1

C‚Ä≤
C
/ C
E

C
c
/
/
(9)
be a pullback, and P3 by requiring that the top square in
P2
1 + C
/
P3
P2

P3
1 + C‚Ä≤
/ 1 + C‚Ä≤
1 + C

P2
1
f

1 + C
1 + A

1 + A
A

1
C‚Ä≤
/
‚Ä≤
A
/
(10)
be a pullback. The bottom square is (7) with c replaced by the global element of C‚Ä≤
induced by c and the deÔ¨Ånition of C‚Ä≤. This square is easily seen to be a pullback, so the
outer rectangle is a pullback.
Because g ‚ó¶h epi implies g epi, it suÔ¨Éces to show that P3
/ 1 is epic. We can see
that by factoring the outer rectangle in (10) vertically:
1
C‚Ä≤
/
P3
1

P3
P4
/ P4
C‚Ä≤
C‚Ä≤
A
/
P4
C‚Ä≤
P4
1 + C
/ 1 + C
A

Here P4 is deÔ¨Åned so that the right square is a pullback. The middle arrow is epi by
Lemma 2 and Lemma 3, so the left arrow is epi as required.
By Lemma 5, D satisÔ¨Åes property (i) of Lemma 2. By Lemma 2, any subobject A‚Ä≤
which has that property factors through C, hence through its image D. Since Ima ‚à™tD
also has property (i) of Lemma 2 (easy), it must be that D = Ima ‚à™tD. This proves
Proposition 1.
5.6. Theorem. [Freyd] A PE-structure (A, a, t) for which
(i). ‚ü®a, t‚ü©is an isomorphism and

228
MICHAEL BARR AND CHARLES WELLS
(ii). the coequalizer of idA and t is 1
is a natural number object, and conversely.
The proof will make use of
5.7. Proposition. [The Peano Property] A PE structure (A, a, t) which satisÔ¨Åes re-
quirements (i) and (ii) of Theorem 6 has no proper PE-substructures.
Proof. Let (A‚Ä≤, a‚Ä≤, t‚Ä≤) be a substructure. By going to a subobject if necessary we may
assume by Proposition 1 that the restricted ‚ü®a‚Ä≤, t‚Ä≤‚ü©: 1 + A‚Ä≤
/ A‚Ä≤ is epi.
Since this
proposition concerns only constructions preserved by exact functors, we may assume by
Corollary 6 of Section 7.1 that the topos is well-pointed, hence by Proposition 2 of the
same section that it is Boolean.
Let A‚Ä≤‚Ä≤ be the complement of A‚Ä≤ in A. If the topos were Set, it would follow from the
fact that ‚ü®a, t‚ü©is an isomorphism on 1 + A and an epimorphism to A‚Ä≤ on 1 + A‚Ä≤ that
(‚àó)
tA‚Ä≤‚Ä≤ ‚äÜA‚Ä≤‚Ä≤
Since sums, isomorphisms, epimorphisms and subobjects are preserved by near-exact
functors, using the near-exact embedding of Theorem 7 of Section 7.1, (*) must be true
here. Thus t = t‚Ä≤ + t‚Ä≤‚Ä≤ where t‚Ä≤ and t‚Ä≤‚Ä≤ are the restrictions of t to A‚Ä≤ and A‚Ä≤‚Ä≤, respectively.
Since colimits commute with colimits, the coequalizer of idA and t is the sum of the
coequalizers of idA‚Ä≤ and t‚Ä≤ and of idA‚Ä≤‚Ä≤ and t‚Ä≤‚Ä≤. Such a sum cannot be 1 unless one of the
terms is 0 (Proposition 2(a) of Section 7.1). Since A‚Ä≤ is a substructure it contains the
global element a and so cannot be 0; hence it must be A, as required.
We now have all the ingredients to prove Theorem 6. Suppose we are given a natural
number object N = (N, 0, s). We Ô¨Årst show (i) of the theorem. A straightforward diagram
chase shows that if i1: 1
/ 1 + N is the inclusion and t = i2 ‚ó¶‚ü®0, s‚ü©: 1 + N
/ 1 + N,
then (1 + N, i1, t) is a PE-structure and ‚ü®0, s‚ü©is a morphism from this structure to N.
Thus the composite ‚ü®0, s‚ü©‚ó¶t(‚àí)(i1) (we remind you just this once that the last morphism,
by deÔ¨Ånition, is the unique morphism from N to (1 + N, i1, t)) is an endomorphism of N
as a PE-structure, so by deÔ¨Ånition of NNO must be the identity.
If we can show that the opposite composite t(‚àí)(i1) ‚ó¶‚ü®0, s‚ü©is the identity on 1 + N
we will have shown that ‚ü®0, s‚ü©is an isomorphism. That follows from this calculation, in
which we use the notation of (ii) at the beginning of this section:
t(‚àí)(i1) ‚ó¶‚ü®0, s‚ü©= ‚ü®t0(i1), ts(i1)‚ü©
= ‚ü®i1, ts‚ó¶idN(i1)‚ü©= ‚ü®i1, t ‚ó¶t(‚àí)(i1)‚ü©‚ó¶
But this last term is ‚ü®i1, i2‚ü©= id1+N, where i2 is the inclusion N
/ 1 + N, since
t = i2 ‚ó¶‚ü®0, s‚ü©and we have already shown that ‚ü®0, s‚ü©‚ó¶t(‚àí)(i1) is the identity.
To show that 1 is the coequalizer of s and idN, we need to show that given any
f: N
/ X with f ‚ó¶s = f, there is an arrow x: 1
/ X with f = x(). (As before,
() denotes the unique map from something to 1‚Äîhere the something must be N). We
deÔ¨Åne x = f(0). It is easy to see that both f and x() are PE-morphisms from N to the

TOPOSES, TRIPLES AND THEORIES
229
PE-structure (X, x, idX), hence must be the same. Uniqueness follows because N has a
global element 0, so the map N
/ 1 is epic.
For the converse, let (N, 0, s) satisfy (i) and (ii), so ‚ü®0, s‚ü©is an isomorphism and the
coequalizer of idN and s is 1. If (A, a, t) is any PE structure and f, g: N
/ A two
PE-morphisms, then the equalizer of f and g would be a PE-substructure of (N, 0, s), so
must be all of N by Proposition 7. Hence (N, 0, s) satisÔ¨Åes the uniqueness part of the
deÔ¨Ånition of NNO.
Now suppose (B, b, u) is a PE-structure.
Then so is (N √ó B, 0 √ó b, s √ó u).
By
Proposition 1, this structure must contain a substructure (A, a, t) with ‚ü®a, t‚ü©epic. More-
over, the projection maps composed with inclusion give PE-morphisms A
/ N =
A
/
/ N √ó B
/ N and A
/ B = A
/
/ N √ó B
/ B. Thus if we can show
that the map A
/ N is an isomorphism, we will be done.
This map A
/ N is epic because its image must be a PE-substructure of (N, 0, s),
so must be all of it by the Peano property. To see that it is monic (in a topos, monic +
epic = iso), it is suÔ¨Écient to prove:
5.8. Proposition. If ‚ü®a, t‚ü©is epi, ‚ü®0, s‚ü©is an isomorphism, the coequalizer of idN and
s is 1, and f: A
/ N is a PE-morphism, then f is monic.
Proof. The constructions involved in this statement are all preserved by exact functors,
so it is enough to prove it in a well-pointed topos.
Let K
/
/ A √ó A be the kernel
pair of f, K‚Ä≤ the complement of the diagonal ‚àÜin K, and N ‚Ä≤ the image of the map
K‚Ä≤
/ A
/ N (take either projection for K‚Ä≤
/ A‚Äîthe kernel pair is symmetric).
Let M be the complement of N ‚Ä≤. We must show M = N, for then N ‚Ä≤ = 0, so K‚Ä≤ = 0
(the only maps to an initial object in a topos are isomorphisms), so K = ‚àÜand f is then
monic.
We show that M = N by using the Peano property.
If a global element n of N is in N ‚Ä≤ it must lift to at least two distinct global elements a1,
a2 of A for which fa1 = fa2. (This is because Hom(1, ‚àí) preserves epis by Proposition 2
of Section 7.1, so an element of N ‚Ä≤ must lift to an element of K‚Ä≤.) If it is in M it must lift
to a unique element of A which f takes to n. Since any element of N must be in exactly
one of N ‚Ä≤ or M, the converse is true too: An element which lifts uniquely must be in M.
Suppose the global element 0: 1
/ N lifted to some a1 other than a. (Of course it
lifts to a.) Since ‚ü®a, t‚ü©is epi, a1 = t(a2). Thus 0 = ft(a2) = sf(a2) which would contradict
the fact that ‚ü®0, s‚ü©is an isomorphism. Thus by the argument in the preceding paragraph,
a ‚ààM. A very similar argument shows that if the global element n of N has a unique
lifting then so does sn. Hence sM ‚äÜM, so by the Peano property, M = N as required.
5.9. Corollary. An exact functor between toposes takes a NNO to a NNO.
Exercise 7.5.
(NNOP). a. Show that Set √ó Set is a topos with natural number object N √ó N.
b. Show more generally that if E1 and E2 are toposes with natural number objects N1
and N2, respectively, then E1 √ó E2 is a topos with natural number object N1 √ó N2.

230
MICHAEL BARR AND CHARLES WELLS
6. Countable Toposes and Separable Toposes
A Grothendieck topos is called separable if it is the category of sheaves on a site which is
countable as a category and which, in addition, has the property that there is a countable
base for the topology. By the latter condition is meant that there is a countable set of
covering sieves such that a presheaf is a sheaf if and only if it satisÔ¨Åes the sheaf condition
with respect to that set of sieves. Makkai and Reyes [1977] have generalized Deligne‚Äôs
theorem to the case of separable toposes. In the process of proving this, we also derive a
theorem on embedding of countable toposes due to Freyd [1972].
6.1. Standard toposes. A topos E is called standard if for any object A of E and
any reÔ¨Çexive, symmetric relation R ‚äÜA √ó A the union of the composition powers of R
exists. That is if R(n) is deÔ¨Åned inductively by letting R(1) = R and R(n+1) be the image
in A √ó A of the pullback R(n) √óA R, then we have
R ‚äÜR(1) ‚äÜR(2) ‚äÜ¬∑ ¬∑ ¬∑ ‚äÜR(n) ‚äÜ¬∑ ¬∑ ¬∑
and we are asking that this chain have a union.
By Exercise (GEQ) on page 205 of
Section 6.8, this union, when it exists, is the least equivalence relation containing by R.
Such a least equivalence relation always exists, being the kernel pair of the coequalizer
of the two projections of R, so this condition is equivalent to requiring that {R(n)} be
an epimorphic family over that least equivalence relation.
Of course if the topos has
countable sums the union may be formed as the image in A √ó A of the sum of those
composition powers. Hence we have,
6.2. Proposition. A countably complete topos is standard.
6.3. Proposition. Let E be a standard topos and u: E
/ F be a near exact functor
that preserves countable epimorphic families. Then u is exact.
Proof. It is suÔ¨Écient to show that u preserves coequalizers. In any regular category
the coequalizer of a parallel pair of maps is the same as the coequalizer of the smallest
equivalence relation it generates. The reÔ¨Çexive, symmetric closure of a relation R ‚äÜB√óB
is R‚à®‚àÜ‚à®Rop, a construction which is preserved by near exact functors. Thus it is suÔ¨Écient
to show that such a functor u preserves the coequalizer of a reÔ¨Çexive, symmetric relation.
‚Äúendcomment
So let R be a reÔ¨Çexive, symmetric relation and E be its transitive closure. Then by
hypothesis the composition powers, R(n) of R, are dense in E. Hence the images uR(n) ‚àº=
(uR)(n) are dense in uE. The isomorphism comes from the fact that all constructions used
in the building the composition powers are preserved by near exact functors. Moreover,
uE is an equivalence relation for similar reasons: the transitivity comes from a map
E √óB E
/ E and this arrow is simply transported to F . The least equivalence relation
on uB generated by uR contains every composition power of uR, hence their union which
is uE. Since uE is an equivalence relation, this least equivalence relation is exactly uE.
To Ô¨Ånish the argument, we observe that near exact functors preserve coequalizers
of eÔ¨Äective equivalence relations. This is a consequence of the facts that they preserve

TOPOSES, TRIPLES AND THEORIES
231
regular epis, that they preserve kernel pairs and that every regular epi is the coequalizer
of its kernel pair.
6.4. Proposition. If u: E
/ F is an exact embedding (not necessarily full) between
toposes and F is standard, so is E.
Proof. Let R be a reÔ¨Çexive, symmetric relation and E be the least equivalence relation
containing it. If the composition powers of R do not form an epimorphic family over E,
there is a proper subobject D ‚äÜE which contains every R(n). Applying u and using the
fact that it is faithful, we Ô¨Ånd that uD is a proper subobject of uE that contains every
uR(n). But the construction of E as the kernel pair of a coequalizer is preserved by exact
functors, so the uR(n) must cover uE in the standard topos F . Thus E must be standard
as well.
6.5. Proposition. A small topos is standard if and only if it has an exact embedding
into a complete topos that preserves epimorphic families. If the domain is Boolean, resp.
2-valued, the codomain may be taken to be Boolean, resp. 2-valued.
Proof. The ‚Äúonly if‚Äù part is a consequence of Propositions 1 and 3. As for the converse,
it suÔ¨Éces to take the category of sheaves for the topology of epimorphic families. The
functor y of Section 6.8 is an embedding that preserves epimorphic families, and Propo-
sition 2 gives the conclusion.
If B is a Boolean topos, this embedding may be followed by the associated sheaf
functor into the category of double negation sheaves. An exact functor on a Boolean
topos is faithful if and only if it identiÔ¨Åes no non-zero object to zero (Exercise (FAITH)
on page 211 of Section 7.1). But an object B is identiÔ¨Åed to 0 if and only if 0
/ B is
dense, which is impossible for B Ã∏= 0 as 0 certainly has a complement. If B is 2-valued,
every map to 1 with a non-0 domain is a cover. If F Ã∏= 0 is a presheaf and B
/ F is an
arbitrary element of F, then B
/ F
/ 1 is epi, whence so is F
/ 1. Thus 1 has no
proper subobjects except 0 and so the topos is 2-valued.
A topos with an NNO is called N-standard if the ordinary natural numbers (that is,
0, 1, 2, 3, ¬∑ ¬∑ ¬∑) form an epimorphic family over N. It follows from Theorem 6 of Section 7.5
that an exact functor preserves the NNO, if any. It is clear that any countably complete
topos is N-standard since N is then the sum of the ordinary natural numbers. If E is
a standard topos with an NNO, then from Proposition 4 it follows that E has an exact
embedding into a complete topos that preserves epimorphic families. As in the proof of
Proposition 3, a faithful exact functor reÔ¨Çects epimorphic families. Thus we have,
6.6. Proposition. A standard topos has an exact embedding into an N-standard topos
that preserves epimorphic families; moreover a standard topos with an NNO is N-standard.
6.7. Proposition. An N-standard topos has an exact embedding into an N-standard
Boolean topos that preserves epimorphic families.
Proof. Apply Theorem 3 of Section 7.1. The embedding preserves N and preserves
epimorphic families.

232
MICHAEL BARR AND CHARLES WELLS
6.8. Proposition. A countable N-standard Boolean topos has a logical functor to a 2-
valued N-standard Boolean topos.
Proof. We begin by observing that if U is a subobject of 1 in a topos E, then the
induced maps from subobject lattices in E to those of E/U are surjective. Moreover a
slice functor has a right adjoint and so preserves epimorphic families. Now let B be a
Boolean topos with a standard NNO and let U1, U2, ¬∑ ¬∑ ¬∑ enumerate the subobjects of N.
Having constructed the sequence
B
/ B1
/ B2
/ ¬∑ ¬∑ ¬∑
/ Bn
of toposes and logical functors gotten by slicing by subobjects of 1, we continue as follows.
Let m be the least integer for which the image of Um in Bn is non-0. Since the natural
numbers are an epimorphic family over N, there is at least one natural number, say
p: 1
/ N for which the pullback
Um
N
/
P
Um

P
1
/ 1
N

is non-0. The process can even be made constructive by choosing the least such. Then let
Bn+1 = Bn/P. In the limit topos, every non-0 subobject of N has a global section which
is a natural number. There are two conclusions from this. First, the natural numbers
cover and second, since 1 is subobject of N, every non-0 subobject of 1 also has a global
section which implies that the topos is 2-valued.
It is worth mentioning that the transÔ¨Ånite generalization of this argument breaks
down because at the limit ordinals you will lose the property of being N-standard; the
epimorphic families may cease being so at the limits (where the transition functors are not
faithful; see Lemma 9 below). The proof above uses an explicit argument to get around
that.
6.9. Corollary. Let B be a countable N-standard Boolean topos. Then for every non-0
object A of B, there is a logical functor from B into a countable 2-valued N-standard topos
in which A has a global section.
Proof. Just apply the above construction to B/A and replace, if necessary, the resultant
topos by a countable subtopos that contains A, N and the requisite global sections.
6.10. Lemma. Let EŒ± be a directed diagram of toposes and faithful logical morphisms
which preserve epimorphic families. Let E = colim EŒ±. Then for any Œ± the canonical
functor EŒ±
/ E is faithful, logical and preserves epimorphic families.

TOPOSES, TRIPLES AND THEORIES
233
Proof. We use the notation TŒ≤,Œ±: EŒ±
/EŒ≤ for Œ± ‚â§Œ≤ and TŒ±: EŒ±
/E for the element
of the cocone. Let fi: Ei
/ E be an epimorphic family in EŒ±. Let g, h: TŒ±E
/ E‚Ä≤ be
distinct maps in E. Directedness implies the existence of Œ≤ ‚â•Œ±, an object E‚Ä≤‚Ä≤ of EŒ≤ and
(necessarily distinct) maps
g‚Ä≤, h‚Ä≤: TŒ≤,Œ±E
/ E‚Ä≤‚Ä≤
such that TŒ≤(g‚Ä≤) = g and TŒ≤(h‚Ä≤) = h. Since {TŒ≤,Œ±fi} is also an epimorphic family, there is
an index i for which
g‚Ä≤ ‚ó¶TŒ≤,Œ±fi Ã∏= h‚Ä≤ ‚ó¶TŒ≤,Œ±fi
Since for all Œ≥ ‚â•Œ≤, TŒ≥,Œ≤ is faithful, it follows that
TŒ≤g‚Ä≤ ‚ó¶TŒ±fi Ã∏= TŒ≤h‚Ä≤ ‚ó¶TŒ±fi
which shows that the {TŒ±fi} are an epimorphic family. The fact that the TŒ± are faithful
and logical is implicit in what we have done.
6.11. Proposition. Every countable N-standard Boolean topos has a logical embedding
into a product of N-standard well-pointed toposes.
Proof. For a non-zero object A of the topos there is, by Corollary 5.9, a logical functor
into a countable 2-valued N-standard topos B in which A is not sent to zero (in fact
has a global section). Enumerate the elements of B and deÔ¨Åne a sequence of toposes
B = B0 ‚äÜB1 ‚äÜB2 ‚äÜ¬∑ ¬∑ ¬∑ in which Bi+1 is obtained from Bi by applying that Corollary
to the ith object in the enumeration. If Bœâ is the direct limit of this process, then every
object of B has a global section in Bœâ. Moreover, it follows from Exercise (FAITH) on
page 211 of Section 7.1 and Lemma 9 that the resultant functor B
/ Bœâ is logical,
faithful and preserves epimorphic families from which it follows that Bœâ is N-standard.
Applying the same argument to the sequence B ‚äÜBœâ ‚äÜBœâœâ ‚äÜBœâœâœâ ‚äÜ¬∑ ¬∑ ¬∑, and repeating
the above argument gives the required result.
6.12. Proposition. An N-standard topos is standard.
Proof. The conclusion is valid as soon as it is valid in every countable subtopos. Propo-
sitions 6 and 7 reduce it to the case of a 2-valued N-standard Boolean topos. Accordingly,
let B be such a topos, B be an object of B and R ‚äÜB √ó B be a reÔ¨Çexive, symmetric
relation on B. Using the mapping properties of N, let f: N
/ 2B√óB be the unique map
such that the diagram
1
2B√óB
‚Äò‚àÜ‚Äô
%L
L
L
L
L
L
L
L
L
N
1
9
rrrrrrrrrrr N
2B√óB
f

2B√óB
2B√óB
R‚ó¶‚àí
/
N
2B√óB

N
N
/ N
2B√óB
f

commutes. Here ‚Äò‚àÜ‚Äô corresponds to the diagonal of B √óB and R ‚ó¶‚àíis the internalization
of the operation on subobjects of B √ó B which is forming the composition with R. It is
constructed using the Yoneda lemma.

234
MICHAEL BARR AND CHARLES WELLS
The transpose of f is a map g: N √ó B √ó B
/ 2 which classiÔ¨Åes Q = [(n, b1, b2) |
(b1, b2) ‚ààR(n)]. The image E of Q in B √ó B under the projection is intuitively the set of
all [(b1, b2)] which are in some R(n). The diagram
R(n)
Q
/
B √ó B
R(n)

B √ó B
N √ó B √ó B
n√óB√óB
/ N √ó B √ó B
Q

Q
1
/
N √ó B √ó B
Q
N √ó B √ó B
2
/ 2
1

(‚àó)
shows that every R(n) is contained in E. We claim that E is an equivalence relation. First
observe that in a 2-valued N-standard Boolean topos the only global sections of N are
the standard ones (that is are either 0 or one its successors; this is, of course, where the
present use of ‚Äústandard‚Äù comes from). For when 1 has no proper non-0 subobjects, any
two global sections are equal or disjoint. Moreover, in an N-standard topos, no subobject
of N, hence no global section can be disjoint from every standard global section. Hence,
every global section is a standard one. Second observe that in a well-pointed topos, two
subobjects of an object are equal if and only if they admit the same global sections. Thus
to show that E ‚ó¶E ‚äÜE, it is suÔ¨Écient to show it on global sections. A global section of
E lifts to one on Q and a global section on E ‚ó¶E lifts to a pair of sections (n, b1, b2) and
(m, b2, b3) such that (b1, b2) ‚ààR(n) and (b2, b3) ‚ààR(m). We can easily show by induction
that
R(n) ‚ó¶R(m) ‚äÜR(m+n) ‚äÜE
from which it follows that E is an equivalence relation.
To complete the argument, we observe that since the natural numbers cover N and
products have adjoints, the maps n√óB √óB cover N√óB √óB as n varies over the standard
natural numbers. Since (*) is a pullback, it follows that the various R(n) cover Q and a
fortiori cover E. Hence B is standard.
6.13. Proposition. [Freyd] Every countable standard topos can be embedded exactly
into a power of Set.
Proof. By Proposition 5 a countable standard topos has an exact embedding into an
N-standard topos which by Proposition 6 can be exactly embedded into an N-standard
Boolean topos. By replacing the target by a countable subtopos, we can apply Proposi-
tion 10 to embed it logically‚Äîhence exactly‚Äîinto a product of N-standard well-pointed
toposes. In a well-pointed topos, the functor Hom(1, ‚àí) is an exact Set-valued functor.
Putting this all together, we have the desired conclusion.
Recall that a separable topos is the category of sheaves on a site which is both countable
and for which there is a set of countable covers that generate the topology.
6.14. Theorem. [Makkai and Reyes] If E is a separable Grothendieck topos then there
is a faithful family of Set-valued left exact functors on E which have right adjoints.

TOPOSES, TRIPLES AND THEORIES
235
Set-valued functors on a topos which are left exact and have a right adjoint are called
points. This theorem says that a separable Grothendieck topos has enough points.
Proof. Let E be a separable topos. For each object C of E and proper subobject E of
C, we construct inside E a countable subcategory C with certain properties. It should be
a topos; it should contain the image of E
/
/ C, the NNO of E (so C is standard), and a
generating set for E. It should contain all the objects used in the countably many sieves
{Ai
/ A} that generate the topology. It should also include the sum S of the objects
that appear in each such sieve, together with the coproduct injections, the induced map
S
/ A and the unique arrow S
/ N for which
A
N
/
Ai
A

Ai
1
/ 1
N

(‚àó)
is a pullback. Since we are closing a countable category under Ô¨Ånitary and countable
operations, the resulting category is countable, by exactly the same kind of argument
that you use to show that the free group generated by a countable set is countable. Note
that S is not in general the categorical sum in C.
Now apply Freyd‚Äôs Theorem 12 to get a faithful family of exact functors C
/ Set.
Each such functor takes (*) to a similar diagram from which it is clear that each such
functor preserves the sum
P An. Since that sum maps epimorphically onto A, each of the
functors preserves the covers which generate the topology and hence extends to a point
of E.
7. Barr‚Äôs Theorem
By adapting the proof of Theorem 4 of Section 7.1, we can obtain the following proposition,
from which we can deduce an embedding theorem for any Grothendieck topos.
7.1. Proposition. For every small Boolean topos B there is a small Boolean topos B in
which subobjects of 1 generate, and a logical morphism B
/B which preserves epimorphic
families.
Proof. . Well-order the set of objects of B which have global support. Given a Boolean
topos B and an object A of global support, the map B
/ B/A is faithful by Exercise
(SF) on page 152 of Section 5.2, and preserves epimorphic families because it has a
right adjoint. Moreover, the image of A has a global section. Thus we can construct
a well-ordered sequence of Boolean toposes BŒ± together with faithful logical morphisms
TŒ≤,Œ±: BŒ±
/ BŒ≤ whenever Œ± ‚â§Œ≤ as follows. Begin by letting B0 = B. Having constructed
BŒ± together with the appropriate transition functor, let A be the least object in the well-
ordering which has global support and lacks a global section. Take BŒ±+1 = BŒ±/A. At
a limit ordinal take a direct limit. In the latter case preservation of epimorphic families

236
MICHAEL BARR AND CHARLES WELLS
follows from Lemma 9 of Section 7.6. Taking the direct limit of this sequence, we get a
Boolean topos eB and a faithful logical morphism B
/ eB which preserves epimorphic
families, again by Lemma 9. Moreover, every object of B with global support has a global
section in eB.
By iterating this construction a countable number of times, and taking the directed
limit of the resulting sequence, we get a topos B and a logical morphism B
/ B which
is faithful and preserves epimorphic families. In B, every object with global support has a
global section. If A is an arbitrary object of B with support S, let T be the complement
of S in the subobject lattice of 1. Then the object A + T has a global section which
restricts to a section of A
/ S. Hence the subobjects of 1 generate.
7.2. Theorem. [Barr] Every Grothendieck toposindexgBarr‚Äôs Embedding Theorem has a
left exact cotripleable embedding into the topos of sheaves on a complete Boolean algebra.
Proof. To show that an exact functor is cotripleable, it is suÔ¨Écient to show that it
is faithful and has a right adjoint. Let E be a Grothendieck topos. Let C be a small
topos contained in E which contains a set of generators for E so that E is the category
of canonical sheaves on C as in Theorem 1 of 6.8. Combining Theorem 3 of 7.1 with
the above proposition we conclude that C can be embedded into a Boolean topos B#
which is generated by its subobjects of 1 so that the embedding is left exact and preserves
epimorphic families. If
bB is the completion of the Boolean algebra B of subobjects of 1
in B#, we claim that B# is embedded in the category Sh( bB) of sheaves on
bB and this
embedding is exact and preserves epimorphic families. Assuming this true, the result
follows from Theorem 2 of 7.3 plus Theorem 1 of 6.8.
To complete the argument, we must show that B# is embedded in Sh( bB). There is
a functor B#
/ Sh( bB) given by representing an element b ‚àà
bB as sup bi, with bi in B
and deÔ¨Åning, for an object C of B# the presheaf on bB given by colim Hom(bi, C). These
are not necessarily sheaves, so we must follow this by the associated sheaf functor. To
see that the resultant composite is faithful, let C
/
/ D be a non-isomorphic mono in
B# and let E be a complement of C in D. Then E is not the initial object of B# so that
it has a section over a non-zero object of B and hence is not the initial presheaf. The
associated sheaf contains a quotient of E and cannot be the initial sheaf. But it remains
a complement of the sheaf associated to C so that the inclusion of C into D does not
induce an isomorphism and the functor is faithful.
Note that the existence of the right adjoint to this left exact embedding means that
the embedding is the left adjoint part of a geometric morphism. Part of the signiÔ¨Åcance
of this result arises from the following.
7.3. Theorem. Let E be the category of sheaves on a complete Boolean algebra. Then
E satisÔ¨Åes the Axiom of Choice.
Proof. We begin by observing that if B is a complete Boolean algebra, a functor
F: Bop
/ Set is a sheaf if and only if whenever b =
S bi is a disjoint union, Fb ‚àº=
Q Fbi,
the isomorphism being the canonical map. The condition is necessary for then the bi cover
b and the intersection of any two of them is empty. To see that the condition is suÔ¨Écient

TOPOSES, TRIPLES AND THEORIES
237
it is enough to note that every cover has a reÔ¨Ånement which is disjoint. For if b =
S bi
is not disjoint, choose a simple ordering of the index set and replace bi by bi ‚àíS bj, the
union taken over the j‚ü®i.
Next we note that an epimorphism is onto. Let f: F
/ / G be an epimorphism of
sheaves and G0 /
/ G be the presheaf image of the map. We claim that G0 = G. For let
b =
S bi be a disjoint union. In the diagram
Q Fbi
Q G0bi
/ /
Fb
Q Fbi

Fb
G0
/ / G0
Q G0bi

Q G0bi
Q Gbi
/
/
G0
Q G0bi
G0
G
/
/ G
Q Gbi

it is easy to see that when the outer vertical arrows are isomorphisms, so is the middle
one. Thus G0 is a sheaf, which shows that G0 = G. Now to split the epi f, we choose
a maximal element (J, h) among the partially ordered set of pairs (I, g) in which I is an
ideal of B and g is a splitting of f|I. If J is not the whole of B, we consider separately
the cases that J is or is not principal.
In the former case, let J = (b) and suppose
b‚Ä≤ /‚ààJ. Then we may replace b‚Ä≤ by b‚Ä≤ ‚àíb and suppose that b‚Ä≤ is disjoint from b. Given an
element of x ‚ààGb‚Ä≤, choose an arbitrary element of y ‚ààFb‚Ä≤ mapping to it and extend h
by h(b‚Ä≤ ‚à™c) = y ‚à™hc. It is easy to see that this gives a morphism of presheaves, hence
of sheaves. If J is not principal, let b =
S J and extend h to b by h(b) =
S h(J). We
see, using the fact that F and G are sheaves that this extends h. This completes the
construction of a section of f.
8. Notes to Chapter 7
The results of Section 7.1, Section 7.5, and the parts of Section 7.6 pertaining to standard
toposes appeared in a remarkable paper that Peter Freyd wrote during a visit to Australia
in 1971 [Freyd, 1972]. These results form the basis for the modern representation theory
of toposes. We have followed Freyd‚Äôs exposition quite closely.
Although Barr‚Äôs theorem [Barr, 1974] appeared two years later than Freyd‚Äôs paper,
the work was done in ignorance of Freyd‚Äôs work with a proof quite diÔ¨Äerent from that
presented here. The latter is, of course, based on the ideas used by Freyd. There is an
entirely diÔ¨Äerent proof of this theorem due to Diaconescu which is given in Johnstone
[1977]. The result was in response to a question of Lawvere‚Äôs as to whether the example
of a Boolean-valued model of set theory for which the Boolean algebra lacked points
(complete 2-valued homomorphisms) was essentially the most general example of a topos
without points. The result, that every topos has a faithful point in a suitable Boolean
topos, showed that the Lawvere‚Äôs surmise was correct.
Diaconescu [1975] was the Ô¨Årst to show that AC implied Boolean.

238
MICHAEL BARR AND CHARLES WELLS
Deligne‚Äôs theorem [SGA 4, 1972] was proved for the purposes of algebraic geometry.
The original proof was completely diÔ¨Äerent. So far as we know, this is the Ô¨Årst place in
which it has been derived as a simple consequence of Freyd‚Äôs theorem.
Makkai and Reyes [1977] proved the theorem credited to them without reference to
Freyd‚Äôs work. Again, this seems to be the Ô¨Årst place in which the proof is done using
Freyd‚Äôs results.
Johnstone [1977] has put down Freyd‚Äôs representation theorems as ‚Äú. . . something
of a blind alley‚Äù. This chapter clearly demonstrates the utility of the theorems. It is
possible, of course, to want to avoid the use of Freyd‚Äôs theorems out of dislike of the
use of representation theory for proving things, or from a more general preference for
elementary or constructive methods. We do not share those attitudes. We feel it is a
matter of taste whether, for example, the proof we have given of the fact that AC implies
Boolean is better or worse than a harder, but elementary proof. We generally prefer a
proof which is more readily understood. (That is not necessarily the same as easier‚Äîsee
our proof of Proposition 1 of Section 7.3).
There are other useful representation theorems.
For example, Makkai and Reyes
[1977, Theorem 6.3.1] show that any Grothendieck topos can be embedded into the topos
of sheaves on a complete Heyting algebra by a functor which is the left adjoint part of a
geometric morphism and which preserves all infs as well as ‚àÄ. They also show [Theorem
6.3.3] that when there are enough points the Heyting algebra can be taken to be the open
set lattice of a topological space.
In both Abelian categories and regular categories there is a full embedding theorem,
which states that there is a full, exact embedding into a standard category. In the case
of Abelian categories, the standard categories are the categories of R-modules for rings
R, while in the regular case it was Set-valued functor categories. (A Set-valued functor
category can be viewed as the category of M-sets where is M is a monoid with many
objects, i.e. a category.) The corresponding theorem for toposes would be a full, exact
embedding into a functor category. Makkai [unpublished] has given an example of a topos
that has no such full embedding. Fortunately, these full embeddings have had very limited
usefulness. The existence of an embedding that reÔ¨Çects isomorphisms has allowed all the
diagram-chasing arguments that one seems to need.
It should be observed that hypotheses that a topos be small or even countable are not
a signiÔ¨Åcant limitation on results used for diagram-chasing. Any diagram involves only
a Ô¨Ånite number of objects and morphisms and can be taken as being in some countable
subtopos. We have already illustrated the technique in Section 7.6.
One of the main thrusts of categorical logic is the exploitation of the insight that
each pretopos corresponds to a theory in the sense of model theory (a language, a set of
deduction rules and a set of axioms), and vice versa. Under this equivalence, embedding
theorems correspond to completeness theorems‚Äîtheorems to the eÔ¨Äect that if a statement
made in the language is true in every model of a certain type, then it follows from the
axioms. In particular, Deligne‚Äôs theorem is an easy consequence of G¬®odel‚Äôs completeness
theorem for Ô¨Ånitary Ô¨Årst order logic.
In fact it is equivalent to that theorem for the

TOPOSES, TRIPLES AND THEORIES
239
case of Ô¨Ånitary geometric theories. Barr‚Äôs theorem can be interpreted as saying that if
something follows by classical logic from the axioms, then it follows by intuitionistic logic.
See Makkai, Reyes [1977] and Lambek-Scott [1986] for more details.

8
Cocone Theories
In this chapter, we consider a general type of theory which is left exact and which in
addition has various types of cocones included in the structure. In the kinds of theories
considered here, the family of cocones which is part of the structure is always induced
by the covers of a Grothendieck topology according to a construction which we will now
describe.
Let S = {Ai
/ A} be a sieve indexed by I in a left exact category C. Form a graph
I whose objects are I + (I √ó I), with arrows of the form
i o
l
(i, j)
r
/ j
We deÔ¨Åne a diagram D: I
/ C which takes i to Ai and (i, j) to the Ô¨Åber product
Ai √óA Aj. The cocone induced by S is the cocone from D to A whose arrows are the
arrows of the sieve S.
The reason for this restriction is not that this is the only conceivable kind of cocone
theory, but this the only kind of theory for which there is a generic topos (classifying
topos).
1. Regular Theories
A regular sketch R = (G, U, D, C, E) is a sketch (G, U, D, C) together with a class E
of arrows in G. A model of R is a model of the sketch which satisÔ¨Åes the additional
condition that every arrow in E is taken to a regular epimorphism.
A preregular theory is a left exact theory Th together with a class E of arrows. A
model of a preregular theory is a left exact functor which takes every arrow in E to a
regular epimorphism. It is clear that if R is a regular sketch, then the left exact theory
generated by R in the sense of Section 4.4 is a preregular theory, which we will denote
PR(R ), with the ‚Äúsame‚Äù class E of arrows.
The sieves are, of course, the single arrow sieves and the corresponding cocones consist
of diagrams
A √óB A
// A
e
/ B
240

TOPOSES, TRIPLES AND THEORIES
241
for e ‚ààE. If a functor M is left exact, then it is immediate that M takes (‚àó) into a
colimit if and only if M(e) is regular epi. Thus models are indeed characterized by the
properties of being left exact and taking the corresponding cocones to colimits.
A regular theory Th is a regular category, i.e., a left exact category in which regular
epis are stable under pullbacks. A model of a regular theory is a regular functor which we
will always suppose to take values in a regular category. This is the same as the model
of the underlying regular sketch which has all regular epis as its distinguished class of
morphisms.
In this section, we show how to begin with a regular sketch R and construct the regular
theory induced by R . In regular categories, it will have the same models as R .
An example of such a theory which arises in real life is the theory of regular rings.
(The coincidence of terminology is purely accidental). A regular ring is a ring A in
which for every element a there is an element b such that aba = a. This condition can be
rewritten as follows: DeÔ¨Åne B = {(a, b) | aba = a} ‚äÜA √ó A. Then A is a regular ring if
and only if the composite B
/ A √ó A
/ A (the last map is the Ô¨Årst projection) is
surjective.
The regular sketch to describe regular rings can be constructed as follows. Begin with
the sketch for rings in which A denotes the ring and add an object B together with an
arrow B
/A2 and a cone that forces the image of B in any model to be [(a, b) | aba = a].
Then E consists of the single arrow B
/ A that corresponds to the Ô¨Årst projection.
Notice that B and the map from B to A can be deÔ¨Åned in an arbitrary left exact
category (B is an equalizer). We say that a ring object in an arbitrary regular category is
a regular ring object if the map B
/ A is a regular epi. Of course, other deÔ¨Ånitions of
regular ring object in a category are conceivable; e.g., one could ask that the map be a split
epi. However, an attempt to formalize this would almost surely lead to the introduction
of a splitting map deÔ¨Åned by equations as part of the structure. This would lead to a
non-full subcategory of the category of rings. In the case of commutative rings and some
classes of non-commutative rings, this equational deÔ¨Ånition is actually equivalent to the
existential one.
Another example of a regular theory is the theory of groups in which every element is
an nth power for some Ô¨Åxed n > 1 (see Exercise (DIV) on page 243).
1.1. Regular theories from regular sketches. If R is a regular sketch, then
as remarked above, it generates a preregular theory PR(R ) with the same models by
following the process of Section 4.4 and taking for the class of arrows the image of the
given class in the regular sketch.
This preregular theory PR(R ) generates a site by closing the class E under pullbacks
and composition to obtain a topology. The covers in this topology each consist of only
one arrow. This site is also a preregular theory, with E consisting of all arrows which are
covers in the resulting topology.
1.2. Proposition. A model in a regular category of PR(R ) is the same as a model for
the site generated by R .

242
MICHAEL BARR AND CHARLES WELLS
Proof. This follows from the fact that a model preserves pullbacks and composition,
and a pullback of a regular epi in a regular category is a regular epi.
Now given a regular sketch R , we deÔ¨Åne Reg(R ), the regular theory associated to R ,
to be the full image of the composite
A
Y
/ Set Aop
L
/ Sh(Th)
where A is the site generated by R , Y is the Yoneda embedding and L is sheaÔ¨ÅÔ¨Åcation.
Observe that Reg(A) = Reg(R ).
The induced map A
/ Reg(A) will be denoted y. Note that y is left exact. If A is
already a regular category, then by Proposition 4 of Section 6.7, A = Reg(A).
1.3. Proposition. In the notation of the preceding paragraph, the covers in A become
regular epis in Reg(A).
Proof. Let f: B
/ A be a cover. In a left exact category to say that yf is a regular
epi is to say that
y(B √óA B) ‚àº= yB √óyA yB
// yB
/ yA
is a coequalizer. This is equivalent to saying that for every sheaf F,
Hom(yA, F)
/ Hom(yB, F)
// Hom(y(B √óA B), F)
is an equalizer. Now yA = LY (A) where L is left adjoint to the inclusion of the sheaf
category, so
Hom(y(‚àí), F) ‚àº= Hom(Y (‚àí), F) ‚àº= F(‚àí)
Hence
FA
/ FB
// F(B √óA B)
must be an equalizer, which is exactly the condition that F be a sheaf.
1.4. Proposition. Let A and B be preregular theories and f: A
/B a left exact functor
which takes arrows in the distinguished class of A to arrows in the distinguished class of
B. Then there is a unique regular functor Reg(f): Reg(A)
/ Reg(B) for which
Reg(A)
Reg(B)
Reg(f)
/
A
Reg(A)
y

A
B
f
/ B
Reg(B)
y

commutes.
Proof. The condition on f is equivalent to the assertion that it is a morphism of the
associated sites. The map f# constructed in Theorem 2 of Section 7.3 clearly takes yA
into yB, and so takes Reg(A) into Reg(B).

TOPOSES, TRIPLES AND THEORIES
243
1.5. Corollary. If B in the diagram above is a regular theory and A is the site associ-
ated to some regular sketch R , then there is an equivalence of categories between models
of R in B and regular morphisms from Reg(R ) = Reg(A) to B.
In other words, every regular sketch R has a model in a universal regular theory
Reg(R ) which induces an equivalence of model categories.
Exercise 8.1.
(DIV). a. Let n > 1 be an integer. Say that a group G is n-divisible if for any a ‚ààG
there is a b ‚ààG for which bn = a. Show that the category of n-divisible groups (and all
group homomorphisms between them) is the category of models for a regular theory.
b. Show that the group of all 2n roots of unity is 2-divisible. This group is denoted
Z2‚àû.
c. Show that in the category of 2-divisible groups, the equalizer of the zero map and the
squaring maps on Z2‚àûis Z/2Z, which is not divisible. Conclude that there is no left exact
theory which has this category as its category of algebras and for which the underlying
set functor is represented by one of the types.
2. Finite Sum Theories
If we wanted to construct a theory of Ô¨Åelds, we could clearly start with the sketch for
commutative rings, let us say with an object F representing the ring. Since the inverse
is deÔ¨Åned only for the subset of nonzero elements, we need to add an object Y to be the
nonzero elements and a map Y
/ Y together with equations forcing this map to be the
inverse map. All this is clear, except how to force Y to be the nonzero elements. We will
see in Section 8.4 that this cannot be done in an LE or even a regular theory.
The approach we take is based on the observation that a Ô¨Åeld is the sum (disjoint
union) of Y and a set Z = {0}. Thus to the LE-sketch of commutative rings we add
objects Y and Z and arrows
Z
/ F o
Y
Besides this, we need an arrow from Y to Y which takes an element to its inverse, and a
diagram forcing any element of Z to be zero (remember zero is already given by an arrow
from the terminal object to F in the LE-theory of commutative rings). This can be done
by techniques of Chapter 4 so we will not give details here.
A Ô¨Åeld is a model of this theory which takes (1) to a sum diagram. This construction
suggests that we vary the concept of regular theory deÔ¨Åned in Section 8.1 to allow more
general classes of covers. In this section, we develop the idea of a Ô¨Ånite-sum theory.
A Ô¨Ånite-sum sketch or FS-sketch S = (G, U, D, C, E) is a sketch (G, U, D, C) with
a class E of Ô¨Ånite sieves. A model of S is a LE-model of the sketch (G, U, D, C) which
takes each sieve to a sum diagram. In this book, the models will be in left exact categories
with disjoint Ô¨Ånite universal sums.
A pre-FS-theory is an LE-theory together with a distinguished class of sieves. Again,
a model of the theory is an LE model which takes the sieves to sums. An FS-sketch

244
MICHAEL BARR AND CHARLES WELLS
clearly induces a pre-FS-theory by taking the theory to be the LE completion of the
sketch and taking as distinguished sieves those corresponding to the distinguished sieves
of the original sketch.
An FS-theory is a left exact category with Ô¨Ånite disjoint universal sums. It will be
regarded as a pre-FS-theory by taking all Ô¨Ånite sums as distinguished sieves. A model of
one FS-theory in another is a left exact functor that preserves Ô¨Ånite sums.
An FS-sketch S induces an FS-theory FS(S) in the following way. Begin with the
LE-theory and take as covers the images of all the sieves in the original sketch. To this
add to the covers, for any sieve {Ai
/ A} in S, the sieves {Ai
/ Ai √óA Ai} (using
the diagonal map) and for any i Ã∏= j, the empty sieve with vertex Ai √óA Aj. Then add all
sieves obtained from the above by pullbacks and composition. Finally, take as FS(S) the
smallest subcategory closed under Ô¨Ånite sums of the category of sheaves for that topology
which contains the image of S.
2.1. Proposition. Let S be an FS-sketch. Any model of S in a left exact category with
Ô¨Ånite disjoint universal sums extends to a model of the associated FS-theory.
Proof. It is an easy exercise to show that in a left exact category with disjoint (Ô¨Ånite)
sums, a cocone {Ai
/ A} is characterized as a sum by the following assertions:
(i).
P Ai
/ / A
(ii). Ai
/ / Ai √óA Ai
(iii). 0
/ / Ai √óA Aj for i Ã∏= j
2.2. Theorem. Any FS-sketch has a model in a universal FS-theory which induces an
equivalence of model categories.
Proof. Essentially the same as Corollary 4 of Section 8.1 (the covers correspond to the
regular epis there).
Exercise 8.2.
(TOTO). Prove that total orderings and strictly increasing maps are models of a Ô¨Ånite-
sum theory. (Hint: express the order as a strict order and consider trichotomy).
3. Geometric Theories
A local ring is charactized as a ring A in which for each a ‚ààA either a or 1 ‚àía has
an inverse.
Both may be invertible, however, so that {a | a is invertible } and {a |
1 ‚àía is invertible } are not necessarily disjoint. We will describe in this section a more
general kind of theory in which such predicates may be stated.
A geometric sketch S = (G, U, C, D, E) is a sketch (G, U, C, D) together with a class
E of sieves. A model of a geometric sketch is a model of the sketch in a pretopos such
that the sieves are sent to regular epimorphic families. (Recall that a pretopos is a regular
category with eÔ¨Äective equivalence relations and disjoint universal Ô¨Ånite sums.) Note that

TOPOSES, TRIPLES AND THEORIES
245
you can still force a particular sieve to go to a sum by adding Ô¨Åber products forced to be
zero as in the preceding section.
A pre-geometric theory is a left exact category together with a class of sieves. As
above, a model is a left exact functor which takes the given sieves to regular epimorphic
families. A geometric sketch induces, in an obvious way, the structure of a sketch on its
associated left exact theory.
A geometric theory is simply a Grothendieck topos. A model is a functor which is
the left adjoint part of a geometric morphism. Using the special adjoint functor theorem,
it is not hard to show that a left exact functor between Grothendieck toposes which takes
covers to covers has a right adjoint, so that provides an equivalent deÔ¨Ånition of geometric
morphism. A model in Set is also known as a point. We have:
3.1. Theorem. Every geometric sketch has a model in a universal geometric theory
which induces an equivalence of model categories.
Proof. It is clear that there is an equivalence of categories between the models of the
geometric sketch and models of the associated pregeometric theory. The rest is similar to
the proof of Corollary 4 of Section 8.1.
An important variation on the notion of geometric theory is that of a coherent sketch.
A coherent sketch is a sketch in which all the sieves are Ô¨Ånite. A model is required to be a
model of the associated LE-theory which takes the sieves to regular epimorphic families.
However, the models are permitted to take values in an arbitrary pretopos.
A coherent theory is the same thing as a pretopos. We leave to the reader the task
of modifying the constructions given above to Ô¨Ånd the coherent theory associated to a
coherent sketch and of proving the analog of Theorem 1.
The model of the sketch in the universal geometric theory is called the generic model.
The generic topos is called the classifying topos for the theory. Of course, as we have
deÔ¨Åned things, the classifying topos for the geometric theory is the theory. However,
there are many kinds of theories besides geometric (FP, LE, Regular, FS, coherent) and
they all have classifying toposes.
The classifying topos of a pre-geometric theory is often constructed directly; that is
one adds directly all the necessary disjoint sums, quotients of equivalence relations, etc.
necessary to have a topos. This bears about the same relation to our construction as does
the construction of the free group using words does to the argument using the adjoint
functor theorem. In each case, both constructions are useful. The one is useful for getting
information about the detailed internal structure of the object while the other is useful for
the universal properties. Less obvious is the fact that the syntactic construction provides
a convenient locus for the semantic one to take place in. Did you ever wonder what x was
in the polynomial ring k[x] (which is the free k-algebra on a singleton set)? Even if x is
deÔ¨Åned, what is a ‚Äúformal sum of powers of x‚Äù?
For more about classifying toposes, see Johnstone [1977], Makkai and Reyes [1977],
Tierney [1976] and Mac Lane and Moerdijk [1992].
Exercises 8.3.

246
MICHAEL BARR AND CHARLES WELLS
(CTFP). Let S be a single sorted FP-sketch with generic object (generating sort) B. S
generates a geometric theory G by taking E to be empty. Let Th = LE(S).
a. Show that Set A is the geometric theory associated to S, where A = Thop is the
category of Ô¨Ånitely presented algebras. (See Theorem 5 of Section 4.1.)
b. Show that the generic model of S in G takes B to the underlying functor in Set A.
(MDU). Let S be an LE-sketch and G be the geometric theory generated by S, taking E
to be empty.
a. Show that G is a full subcategory of Set LE(S).
b. Show that the generic model of S in G takes each object B of S to the functor
from LE(S) to Set which evaluates at B, and each arrow of S to a natural transformation
between such functors.
c. Show that if f is a model of S in a topos E, then the induced model f ‚àó: G
/ E
is determined uniquely by what it does to the objects and arrows of S.
(This is the
semantic explication of the generic nature of the geometric theory of S, as opposed to
the syntactical one of Theorem 1. Note that a similar exercise can be done for FS- and
geometric sketches, with the functors from LE(S) replaced by sheaves.)
(INF). Show that there is a coherent theory whose models correspond to inÔ¨Ånite sets.
(Hint: For any set S and any natural number n, let Sn denote, as usual, all functions
from n to S. If E is an equivalence relation on n, let SE ‚äÜSn denote all functions whose
kernel pair is exactly E. Then Sn is the disjoint union of all the SE over all the equivalence
relations. Moreover, S is inÔ¨Ånite if and only for all n and all equivalence relations E in
n, SE is non-empty, meaning its terminal map is epi.)
(DLO). Construct a geometric theory which classiÔ¨Åes the category of dense linear order-
ings and strictly increasing maps. (See Exercise (TOTO) on page 244 of Section 8.2.)
Show that the topos is Boolean.
4. Properties of Model Categories
In this section we raise and partly answer questions of recognizing categories as categories
of models of diÔ¨Äerent sorts of theories. The answers we give are in the form of properties
that categories of models have, so that any category lacking them is not such a category.
For example, the category of categories is not a regular category and hence cannot be the
category of algebras of any triple (Corollary 4 of Section 3.4 and Theorem 5 of Section 4.3)
or even the category of models of any FP-theory (see Theorem 1 below).
In the following theorem we refer to these properties of a category C of models in
Set of a sketch S.
‚ÄúUnderlying functors‚Äù are functors which take a model to the set
corresponding to a given object B of the sketch.
(L:). C has all limits and the underlying functors preserve them.
(FC:). C has all Ô¨Åltered colimits and the underlying functors preserve them.
(R:). C is regular.

TOPOSES, TRIPLES AND THEORIES
247
(EE:). C has eÔ¨Äective equivalence relations and the underlying functors preserve their
coequalizers.
Other properties to which we refer require deÔ¨Ånitions.
For the purpose of the deÔ¨Ånitions that follow we must give a more general deÔ¨Ånition
of a regular epimorphic sieve in the case that the ambient category lacks the relevant
pullbacks. In Exercise (EPIS) on page 250 you are invited to show that the two deÔ¨Ånitions
agree in the presence of pullbacks.
A sieve {fi: Ai
/ A} is said to be regular epimorphic if whenever B is any object
and for each i there is given a morphism gi: Ai
/ B with the property that for any
object C of the category and pair of maps d 0: C
/ Ai, d 1: C
/ Aj, fi ‚ó¶d 0 = fj ‚ó¶d 1
implies gi ‚ó¶d 0 = gj ‚ó¶d 1, then there is a unique h: A
/ B such that gi = h ‚ó¶fi for all i.
The class C of objects may be replaced without loss of generality by a generating set.
An object G of a category is a regular projective generator if
(i). It is regular projective: for any regular epi A
/ B, the induced map
Hom(G, A)
/ Hom(G, B)
is surjective, and
(ii). It is a regular generator: the singleton {G} is a regular generating family (Sec-
tion 6.8).
More generally, a set G of objects is a regular projective generating set if it is a
regular generating family in which each object is a regular projective.
A Ô¨Ålter is a subset f of a lower semilattice (a poset with Ô¨Ånite meets) for which (i)
if a ‚ààf and a ‚â§b then b ‚ààf, and (ii) if a ‚ààf and b ‚ààf then the meet a ‚àßb ‚ààf. An
ultraÔ¨Ålter on a set I is a Ô¨Ålter f (under inclusion) of subsets of I with the property that
for each set J, either J or its complement belongs to f. It follows that if J ‚à™K ‚ààf, then
at least one of J or K must be (Exercise (ULTRA) on page 250). In a category C with
all products, an ultraproduct is an object constructed this way: Begin with a family
{(Ci)}, i ‚ààI of objects and an ultraÔ¨Ålter f. For each set J in the ultraÔ¨Ålter we deÔ¨Åne an
object N(J) =
Q
i‚ààJ(Ci). If K ‚äÜJ, then the universal property of products induces an
arrow N(J)
/N(K). This produces a Ô¨Åltered diagram and the colimit of that diagram
is the ultraproduct induced by
Q(Ci) and f. However, the concept of ultraproduct does
not itself have any universal mapping property. Note that since an ultraproduct is a
Ô¨Åltered colimit of products, L and FC together imply that a category has ultraproducts.
In the theorem below, we list a number of properties of categories of models. We
would emphasize that the categories may well and often do permit other limit and colimit
constructions. The ones mentioned in the theorem below are limited to those which are
preserved by the functors which evaluate the models (which are, after all, functors) at
the objects of the sketch. Equivalently, they are the constructions which are carried out
‚Äúpointwise‚Äù, meaning in the category of sets where the models take values.
4.1. Theorem.

248
MICHAEL BARR AND CHARLES WELLS
(a). If S is a single sorted FP-sketch then C has L, FC, R, EE and a regular projective
generator.
a. If S is an FP-sketch, then C has L, FC, R, EE and a regular projective generating
set.
b. If S is an LE-sketch then C has L and FC.
c. If S is a regular sketch then C has FC and all products.
d. If S is a coherent theory then C has FC and all ultraproducts.
e. If S is a geometric theory then C has FC.
Note that we give no properties distinguishing FS- and coherent theories.
Proof. The category of models in sets of an LE-sketch has all limits and Ô¨Åltered colimits
by Theorem 4 of Section 4.4. It is trivial to see that the same is true of models of FP-
sketches.
To show that FP-theories have eÔ¨Äective equivalence relations and are regular, we need
a lemma.
4.2. Lemma. Given the diagram
C10
C11
/
C00
C10

C00
C01
/ C01
C11

C11
C12
/
C01
C11
C01
C02
/ C02
C12

C10
C11
/
C00
C10

C00
C01
/ C01
C11

C11
C12
/
C01
C11
C01
C02
/ C02
C12

C10
C11
C00
C10
OC00
C01
o
C01
C11
C11
C12
C01
C11
C01
C02
C02
C12
C20
C21
/
C10
C20

C10
C11
C11
C21

C21
C22
/
C11
C21
C11
C12
C12
C22

C20
C21
/
C10
C20

C10
C11
C11
C21

C21
C22
/
C11
C21
C11
C12
C12
C22

which is serially commutative and in which all three rows and columns are coequalizers
and the top row and left column are reÔ¨Çexive, the induced
C00
// C11
/ C22
is also a coequalizer.
Proof. Exercise (COQT) on page 250.
Let M be a model, E a submodel of M which is an equivalence relation, and C
the quotient functor in Set FP(S), which we will prove to be a model. This last claim is
equivalent to the assertion that C preserves products. Let A and B be objects of FP(S).

TOPOSES, TRIPLES AND THEORIES
249
We get the diagram
EA √ó MB
MA √ó MB
/
EA √ó EB
EA √ó MB

EA √ó EB
MA √ó EB
/ MA √ó EB
MA √ó MB

MA √ó MB
CA √ó MB
/
MA √ó EB
MA √ó MB
MA √ó EB
CA √ó EB
/ CA √ó EB
CA √ó MB

EA √ó MB
MA √ó MB
/
EA √ó EB
EA √ó MB

EA √ó EB
MA √ó EB
/ MA √ó EB
MA √ó MB

MA √ó MB
CA √ó MB
/
MA √ó EB
MA √ó MB
MA √ó EB
CA √ó EB
/ CA √ó EB
CA √ó MB

EA √ó MB
MA √ó MB
EA √ó EB
EA √ó MB
O
EA √ó EB
MA √ó EB
o
MA √ó EB
MA √ó MB
MA √ó MB
CA √ó MB
MA √ó EB
MA √ó MB
MA √ó EB
CA √ó EB
CA √ó EB
CA √ó MB
EA √ó CB
MA √ó CB
/
EA √ó MB
EA √ó CB

EA √ó MB
MA √ó MB
MA √ó MB
MA √ó CB

MA √ó CB
CA √ó CB
/
MA √ó MB
MA √ó CB
MA √ó MB
CA √ó MB
CA √ó MB
CA √ó CB

EA √ó CB
MA √ó CB
/
EA √ó MB
EA √ó CB

EA √ó MB
MA √ó MB
MA √ó MB
MA √ó CB

MA √ó CB
CA √ó CB
/
MA √ó MB
MA √ó CB
MA √ó MB
CA √ó MB
CA √ó MB
CA √ó CB

The rows and columns are coequalizers because products in a topos have a right adjoint.
The lemma then implies that the diagonal is a coequalizer. But since E and M preserve
products, this implies that C does also.
This not only shows that the model category has coequalizers of equivalence relations,
but that the evaluation functors preserve them. In view of the Yoneda Lemma, that
is just the assertion that the objects of FP(S) are regular projective. To see that they
generate, observe that the maps from representable functors form an epimorphic family
in the functor category. But that category is a Grothendieck topos, so those maps form
a regular epimorphic family. It is easy to see that they continue to do so in any full
subcategory. If the FP-theory is single sorted, that set may be replaced by the generic
object to get a single regular projective generator.
Any surjective natural transformation in a Set-valued functor category is a coequalizer.
Since C is closed under limits, this means that maps between models are regular epis if
and only if they are surjective. It follows from this and the fact that the pullback of a
surjective map in Set is surjective that C is regular. This takes care of (a) and (b). (Note
that in fact C has all colimits, but they are not necessarily preserved by the evaluations.)
Let S be a regular sketch and R = Reg(S) be the regular theory associated to it.
If {Mi} is a family of models then we claim that the pointwise product M is a model.
Models must preserve Ô¨Ånite limits and take regular epis to regular epis. But a product of
Ô¨Ånite limits is a Ô¨Ånite limit and a product of regular epis is a regular epi (since it is in Set
and we carry out these constructions pointwise). As for Ô¨Åltered colimits, the argument
is similar. Filtered colimits commute with Ô¨Ånite limits in Set and in any category with
regular epis. This completes the proof of (d).
Let R denote a coherent theory and C be the category of models. Let I be an index
set, {Mi} an I-indexed family of models and f an ultraÔ¨Ålter on I. A product of models
is not a model, but it is regular. Since this property is preserved by Ô¨Åltered colimits
(Exercise (REGFC4) on page 250), an ultraproduct of models also preserves it. Thus it
suÔ¨Éces to show that the ultraproduct preserves Ô¨Ånite sums.
Let A and B be objects of the theory and suppose Ô¨Årst that for all i ‚ààI, MiA Ã∏= ‚àÖ
and MiB Ã∏= ‚àÖ. Let M = Q Mi. Then if N is the ultraproduct, the canonical morphism

250
MICHAEL BARR AND CHARLES WELLS
M
/ N is surjective at A, B and A + B. Consider the diagram
NA + NB
N(A + B)
/
MA + MB
NA + NB

MA + MB
M(A + B)
/ M(A + B)
N(A + B)

The vertical arrows are quotients and the horizontal arrows the ones induced by the
properties of sums. We want to show that the bottom arrow is an isomorphism. Let
x ‚ààN(A + B) and choose a y ‚ààM(A + B) lying over it. Since M(A + B) is a colimit
of the products over sets in f, there is a set J ‚ààf such that y = (yi), i ‚ààJ is an element
of
Q(MiA + MiB), the product taken over the i ‚ààJ. Let K = {i | yi ‚ààMiA} and
L = {i | yi ‚ààMiB}. Since K ‚à™L = J ‚ààf either K or L belongs to f. If K does, then
(yi), i ‚ààK is an element of MA whose image in NA goes to x ‚ààN(A + B).
To Ô¨Ånish the argument, let IA = {i ‚ààI | MiA Ã∏= ‚àÖ} and IB = {i ‚ààI | MiB Ã∏= ‚àÖ}.
We observe that if IA ‚à©IB ‚ààf, the proof above may be repeated with IA ‚à©IB replacing
I. If neither IA nor IB is in f, then it is clear that NA = NB = N(A + B) = ‚àÖ. Finally,
suppose that one of the two, say IA, is in f and the other one isn‚Äôt. Then we have
{i | Mi(A + B) = MiA + MiB = MiA} ‚ààf
whence N(A + B) = NA = NA + NB.
This theorem demonstrates, for instance, that the category of Ô¨Åelds is not the models
of any regular theory and similar such negative results. As for positive results, there
are few. Beck‚Äôs tripleableness theorem and its variants give a positive result in terms of
a chosen underlying set functor, or equivalently, in terms of chosen representing sketch.
Exercise (ORTHODOX) on page 251 shows that the category of models of an LE sketch
might be regular without being the category of models of an FP sketch.
Exercises 8.4.
(ULTRA). Let f be an ultraÔ¨Ålter. Show that if J ‚à™K ‚ààf then either J ‚ààf or K ‚ààf.
(COQT)
‚ô¶. Prove Lemma 2. (Compare Lemma 6 of Section 4.4 for a variation on this
assertion.)
(REGFC4). Prove that Ô¨Åltered colimits of regular functors are regular.
(EPIS)
‚ô¶. Show that the deÔ¨Ånition of regular epimorphic family given in this section is
the same as the one given in Section 6.7 in the presence of pullbacks. Show that the
class of C used in the deÔ¨Ånition in this section may be restricted to being in a generating
family.

TOPOSES, TRIPLES AND THEORIES
251
(EEPO). a. Show that the category of posets and order-preserving maps is a subcategory
of the category of graphs which is closed under products and subobjects.
b. Show that the map which takes the graph below to the graph obtained by identifying
A with A‚Ä≤ and B with B‚Ä≤
B
B‚Ä≤
A
B
OA
A‚Ä≤
A‚Ä≤
B‚Ä≤
O
(but not identifying the edges) has a kernel pair which is (i) an equivalence relation and
(ii) is deÔ¨Åned on a poset.
c. Use (a) and (b) to show that equivalence relations are not eÔ¨Äective in the category
of posets.
(ORTHODOX). An orthodox semigroup is a semigroup in which the product of any
two idempotents is idempotent. Let O be the category of orthodox semigroups and semi-
group homomorphisms.
a. Show that O is the category of models of an LE-sketch.
b. Show that O is regular. (Hint: Show that O is closed in the category of semigroups
under subobjects and products and that such a subcategory of a regular category is
regular.)
c. Show that O does not have eÔ¨Äective equivalence relations. (Hint: Any free semigroup
is orthodox.)
(TORGRP). In this exercise and the next, the categories of groups considered are un-
derstood to have all group homomorphisms as arrows. Show that the category of torsion
groups is the category of models of a geometric theory. Can it be the category of models
of a coherent theory? (Hint: For the Ô¨Årst part, consider the theory of groups augmented
with types
Gn = {x ‚ààG | xn = 1}
which is an equalizer and hence in the left exact theory. Require that {Gn
/ G} be a
cover.)
(CYCGRP). a. Show that the category of cyclic groups is not the category of models of
any coherent theory. (Hint: Consider a non-principal ultrapower of Z.)
b. Show that the category of Ô¨Ånite cyclic groups is not the category of models of any
geometric theory.

9
More on Triples
This chapter consists of four independent sections providing additional results about
triples. Everything may be read immediately after Chapter 3 except for Lemma 5 of
Section 9.3, which depends on a fairly easy result from Chapter 5.
1. Duskin‚Äôs Tripleability Theorem
In this section we state and prove a theorem of Duskin (Theorem 1) giving necessary and
suÔ¨Écient conditions for a functor U: B
/ C to be tripleable under certain assumptions
on the two categories involved.
If B is an equationally deÔ¨Åned class of algebras (i.e. models of a single sorted FP
theory) and C is Set then BirkhoÔ¨Ä‚Äôs theorem on varieties says that B is ‚Äúclosed under‚Äù
products, subobjects and quotients by equivalence relations in B. The Ô¨Årst two closure
properties mean little more than that, in our language, U creates limits.
The third
condition means that U creates coequalizers of parallel pairs which become equivalence
relations in C = Set.
Duskin‚Äôs Theorem is motivated by the idea that a functor U which satisfy a categorical
version of BirkhoÔ¨Ä‚Äôs theorem ought to be tripleable. We begin by studying equivalence
relations in a category. Throughout this section we study a functor U: B
/ C with left
adjoint F.
1.1. Equivalence pairs and separators. An equivalence pair on an object C is
a parallel pair f, g: B
/ C for which (a) f and g are jointly monic, which means that
for any elements x and y of B deÔ¨Åned on the same object, if f(x) = f(y) and g(x) = g(y)
then x = y; and (b) the induced pair of arrows from Hom(X, B)
/ Hom(X, C) is an
equivalence relation in Set for any object X. When B has products, f and g are jointly
monic if and only if the arrow (f, g) is monic, and are an equivalence pair if and only if
(f, g): B
/C√óC is an equivalence relation (see Exercise (ER) on page 40 of Section 1.7).
Maps f, g: B
/ C form a U-contractible equivalence pair if Uf and Ug are an
equivalence pair which is part of a contractible coequalizer diagram in C.
252

TOPOSES, TRIPLES AND THEORIES
253
A separator of a parallel pair f, g: B
/ C is the limit
[(b, b‚Ä≤) | f(b) = f(b‚Ä≤) and g(b) = g(b‚Ä≤)]
Thus it is the intersection of the kernel pairs of f and g. In particular, a category
which has separators of all parallel pairs has kernel pairs of all maps.
1.2. Duskin‚Äôs theorem.
1.3. Theorem. [Duskin] Suppose B has separators and C has kernel pairs of split epi-
morphisms. Then the following two statements are equivalent for a functor U: B
/ C:
(i). U is tripleable
(ii). U has an adjoint and reÔ¨Çects isomorphisms, and every U-contractible equivalence
pair has a coequalizer that is preserved by U.
Before we prove this theorem, notice what it says in the case of groups. An equivalence
pair d 0, d 1: H
/ G in Grp forces H to be simultaneously a subgroup of G √ó G and
a U-contractible equivalence relation on G (every equivalence pair in Set is part of a
contractible coequalizer diagram). It is easy to see that the corresponding quotient set is
the set of cosets of a normal subgroup of G, namely the set of elements of G equivalent to
1. The canonical group structure on the quotient set makes the quotient the coequalizer
of d 0 and d 1. Note that you can show that the quotient is the coequalizer by showing that
d 0 and d 1 are the kernel pair of the quotient map; since the quotient map is a regular epi
(it is the coequalizer of the trivial homomorphism and the injection of the kernel of the
quotient map into its domain), it follows from Exercise (EQC) on page 46 of Section 1.8
that the quotient map is the coequalizer of d 0 and d 1. That may not be the method of
proof that would have occurred to you, but it is the strategy of the proof that follows.
The argument is even more direct in the case of compact HausdorÔ¨Äspaces. If R is an
equivalence relation in that category on a space X then R is a closed (because compact)
subspace of X √ó X, so corresponds to a compact (because image of compact) HausdorÔ¨Ä
(because R is closed) quotient space X/R.
Proof. Proof of Theorem 1. Because of Beck‚Äôs Theorem and Proposition 3 of Section 3.3,
the proof that (i) implies (ii) is immediate.
To prove that (ii) implies (i), we Ô¨Årst prove three lemmas, all of which assume the
hypotheses of Theorem 1 (ii).
1.4. Lemma. If Uf: UA
/ UB is a split epimorphism, then f: A
/ B is a regular
epimorphism.
Proof. Let h, k: S
/ A be the kernel pair of f. Then because U preserves limits,
(Uh, Uk) is the kernel pair of Uf; hence by Exercise (KPSE) on page 258 (h, k) is a
U-contractible equivalence pair and so by assumption has a coequalizer A
/ C in B.
Thus there is an induced map from C to B which necessarily becomes an isomorphism
under U. Thus because U reÔ¨Çects isomorphisms, f must be the coequalizer of h and k.

254
MICHAEL BARR AND CHARLES WELLS
1.5. Lemma. If Ud, Ue: UE
/ UB is an equivalence pair, then so is d, e.
Proof. For any object B of B, UœµB ‚ó¶Œ∑UB = idUB (Exercise (UCO) on page 56 of
Section 1.9), so Lemma 2 implies that œµB is a regular epi.
Then by Corollary 7 of
Section 3.3,
FUFUB
FUœµB
/
œµFUB
/ FUB
œµB
/ B
is a coequalizer.
For any object C of C, the induced maps
Hom(C, UE)
// Hom(C, UB)
are an equivalence relation in Set, and by adjointness so is
Hom(FC, E)
// Hom(FC, B)
Putting the facts in the preceding two paragraphs together, we have that the rows in
Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/
Hom(B‚Ä≤, E)
Hom(B‚Ä≤, B)

Hom(B‚Ä≤, E)
Hom(FUB‚Ä≤, E)
/ Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)

Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/
Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, E)
/ Hom(FUFUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, B)

Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/
Hom(B‚Ä≤, E)
Hom(B‚Ä≤, B)

Hom(B‚Ä≤, E)
Hom(FUB‚Ä≤, E)
/ Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)

Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/
Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, E)
/ Hom(FUFUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, B)

are equalizers and the right hand and middle columns are both equivalence relations. It
follows from an easy diagram chase that the left hand column is an equivalence relation,
too.
1.6. Lemma. In the notation of Lemma 3, if f: B
/ Y is a map for which Ud and Ue
form the kernel pair of Uf, then d and e form the kernel pair of f.
Proof. The proof follows the same outline as that of Lemma 3. One has that for any
object C, the parallel pair in
Hom(FC, E)
// Hom(FC, B)
/ Hom(FC, B‚Ä≤‚Ä≤)
is the kernel pair of the right arrow, so that in the diagram below
Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/
Hom(B‚Ä≤, E)
Hom(B‚Ä≤, B)

Hom(B‚Ä≤, E)
Hom(FUB‚Ä≤, E)
/ Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)

Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/
Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, E)
/ Hom(FUFUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, B)

Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/
Hom(B‚Ä≤, E)
Hom(B‚Ä≤, B)

Hom(B‚Ä≤, E)
Hom(FUB‚Ä≤, E)
/ Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)

Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/
Hom(FUB‚Ä≤, E)
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, E)
/ Hom(FUFUB‚Ä≤, E)
Hom(FUFUB‚Ä≤, B)

Hom(B‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
/
Hom(B‚Ä≤, B)
Hom(B‚Ä≤, B‚Ä≤‚Ä≤)

Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/ Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)

Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUFUB‚Ä≤, B‚Ä≤‚Ä≤)
/
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/ Hom(FUFUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B‚Ä≤‚Ä≤)

Hom(B‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
/
Hom(B‚Ä≤, B)
Hom(B‚Ä≤, B‚Ä≤‚Ä≤)

Hom(B‚Ä≤, B)
Hom(FUB‚Ä≤, B)
/ Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)

Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUFUB‚Ä≤, B‚Ä≤‚Ä≤)
/
Hom(FUB‚Ä≤, B)
Hom(FUB‚Ä≤, B‚Ä≤‚Ä≤)
Hom(FUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B)
/ Hom(FUFUB‚Ä≤, B)
Hom(FUFUB‚Ä≤, B‚Ä≤‚Ä≤)


TOPOSES, TRIPLES AND THEORIES
255
the middle and right hand vertical parallel pairs are kernel pairs of the corresponding
arrows and the horizontal sides are all equalizers. Then a diagram chase shows that the
left hand column is a kernel pair diagram too.
Now, to prove that (ii) of Theorem 1 implies (i). By Beck‚Äôs Theorem, we must prove
that if
A
d 0
/
d 1
/ B
is a reÔ¨Çexive U-split coequalizer pair, then it has a coequalizer which is preserved by U.
In B, we construct the following diagram, in which (p0, p1) is the kernel pair of d 1 and
S is the separator of d 0 ‚ó¶p0 and d 0 ‚ó¶p1. The object E and the arrows into and out of it
will be constructed later.
A
B
d0
/
R
A
p1

R
E
y
/ E
B
u1

A
B
d1
/
R
A
p0

R
E
/ E
B
u0

S
R
e0
/
S
R
e1
/
In C, we have diagram (5), in which c is the coequalizer of Ud 1 and Ud 2 with con-
tracting maps s and t and (q0, q1) is the kernel pair of of the split epi c.
UA
UB
Ud0
/
UR
UA
Up1

UR
C‚Ä≤
w
/ C‚Ä≤
UB
q1

UA
UB
Ud1
/
UR
UA
Up0

UR
C‚Ä≤
/ C‚Ä≤
UB
q0

US
UR
Ue0
/
US
UR
Ue1
/
UA
UB
o
t
UB
C
/
UB
C
o
This is how the proof will proceed: (a) We will construct w and (b) show txhat it is a
split epi with (c) kernel pair (Ue0, Ue1). It then follows from Lemma 3 that (e0, e1) is a U-
contractible equivalence relation which must by hypothesis have a coequalizer v: R
/E
from which we conclude that up to isomorphism, UE can be taken to be C‚Ä≤. (d) We then
construct u0, u1 for which u0 ‚ó¶v = d 0 ‚ó¶p0 and u1 ‚ó¶v = d 0 ‚ó¶p1 and also U(u0) = q0 and
U(u1) = q1. Now c is the coequalizer of (q0, q1) (Exercise (EQC) on page 46 of Section 1.8:
if a regular epi has a kernel pair then it is the coequalizer of its kernel pair), so (u0, u1)
is a U-split equivalence pair, hence has a coequalizer x. By changing c to an isomorphic
arrow if necessary, we may assume that U(x) = c. Finally, (e) we show that x is also the
coequalizer of (d 0, d 1). It follows easily from the fact that U reÔ¨Çects isomorphisms that
U takes this coequalizer to an arrow isomorphic to c, as required.
(a). It follows from the identities for a contractible coequalizer that c coequalizes Ud 0‚ó¶Up0
and Ud 0 ‚ó¶Up1. Let w be the unique map (by virtue of (q0, q1) being the kernel pair of c)
for which q0 ‚ó¶w = Ud 0 ‚ó¶Up0 and q1 ‚ó¶w = Ud 0 ‚ó¶Up1.

256
MICHAEL BARR AND CHARLES WELLS
(b). To see that w is a split epi (surjective on elements), suppose that (b0, b1) ‚ààUB√óUB C‚Ä≤;
then s ‚ó¶c ‚ó¶b0 = s ‚ó¶c ‚ó¶b1, so Ud 1 ‚ó¶t ‚ó¶b0 = Ud 1 ‚ó¶t ‚ó¶b1, which means that (t ‚ó¶b0, t ‚ó¶b1) ‚ààUR
(Up0 and Up1 are the kernel pair of Ud 1). We claim that w(t ‚ó¶b0, t ‚ó¶b1) = (b0, b1). The
Ô¨Årst coordinate is
q0 ‚ó¶w(t ‚ó¶b0, t ‚ó¶b1) = Ud 0 ‚ó¶Up0(t ‚ó¶b0, t ‚ó¶b1) = Ud 0 ‚ó¶t ‚ó¶b0 = b0
and similarly the second coordinate is b1, as required. Hence w is a split epi.
(c). Since e0 and e1 form the separator of d 0 ‚ó¶p0 and d 0 ‚ó¶p1 and U preserves limits, Ue0
and Ue1 are the separator of Ud 0 ‚ó¶Up0 and Ud 0 ‚ó¶Up1. It is straightforward to calculate,
using the fact that q0 and q1 are jointly monic, that the kernel pair of w is the intersection
of the kernel pairs of Ud 0 ‚ó¶Up0 and Ud 0 ‚ó¶Up1. Hence Ue0 and Ue1 are the kernel pair of
w.
(d). Because e0 and e1 form the kernel pair of d 0 ‚ó¶p0 and d 0 ‚ó¶p1, they coequalize e0 and
e1, so for i = 0, 1 there are induced maps ui for which ui ‚ó¶v = d 0 ‚ó¶pi. Then
qi ‚ó¶w = U(d 0 ‚ó¶pi) = U(ui) ‚ó¶U(v) = U(ui) ‚ó¶w
so because w is epi, U(ui) = qi.
To complete the proof, we must show (e) that x, which by deÔ¨Ånition is the coequalizer
of u0 and u1 is also the coequalizer of d 0 and d 1. Now c = Ux is the coequalizer of Ud 0
and Ud 1, so by Exercise (EQC) on page 46 of Section 1.8, Ud 0 and Ud 1 is the kernel
pair of c. Hence by Lemma 4, d 0 and d 1 form the kernel pair of x. Since x is a regular
epi, it is the coequalizer of d 0 and d 1 as required.
1.7. Variation on Duskin‚Äôs theorem. The following version of Duskin‚Äôs theorem is
the form in which it is most often used.
1.8. Proposition. If
(i). B has separators,
(ii). C has kernel pairs of split epis,
(iii). U: B
/ C has an adjoint F,
(iv). U reÔ¨Çects isomorphisms and preserves regular epis, and
(v). U-contractible equivalence pairs in B are eÔ¨Äective and have coequalizers,
then U is tripleable
Proof. All that is necessary is to show that under these hypotheses, U preserves co-
equalizers of U-contractible equivalence pairs. If such an equivalence pair (d 0, d 1) has
coequalizer x and is the kernel pair of y, then by Exercise (EQC) on page 46 of Sec-
tion 1.8, x has kernel pair (d 0, d 1). Since U preserves kernel pairs, Ux is a regular epi
which has (Ud 0, Ud 1) as kernel pair. Again using Exercise (EQC) on page 46, Ux is
therefore the coequalizer of (d 0, d 1).

TOPOSES, TRIPLES AND THEORIES
257
1.9. Tripleability over Set. If X is a set and G is an object in a cocomplete category,
we write X ¬∑ G for the coproduct of X copies of G. In particular, if A is another object,
there is an obvious induced map Hom(G, A) ¬∑ G
/ A (the arrow from the copy of G
corresponding to f is f).
An object P of a category is a regular projective if whenever f: A
/B is a regular
epi then the induced map Hom(P, A)
/ Hom(P, B) is surjective. (If this is true for all
epis then P is a projective.) An object G is a generator if for each object A, the
induced map Hom(G, A) ¬∑ G
/ A is an epi. If the induced map is a regular epi, then
G is a regular generator. P is a regular projective generator if it is both a regular
projective and a regular generator. If it is both a generator and a projective then it is a
projective generator. The dual of ‚Äúprojective‚Äù is ‚Äúinjective‚Äù.
1.10. Theorem. A category C is tripleableover Set if and only if it is regular, has eÔ¨Äec-
tive equivalence relations and has a regular projective generator P for which X ¬∑ P exists
for all sets X.
Proof. If U: C
/Set is tripleable, then F(1) is a regular projective generator (Exercise
(RPF) on page 258). Then for any set X, F(X) = X ¬∑ F(1) because X = X ¬∑ 1 in Set and
F preserves colimits. (Compare Theorem 1(a), Section 8.4.)
For the converse, the functor which is tripleable is U = Hom(P, ‚àí), which has a left
adjoint taking X to X ¬∑ P (Exercise (RPA) on page 258).
U reÔ¨Çects isomorphisms: Suppose f: A
/ B and Uf is an isomorphism. The top
arrow in this diagram
A
B
f
/
UA ¬∑ P
A

UA ¬∑ P
UB ¬∑ P
/ UB ¬∑ P
B

is an isomorphism and the vertical arrows are regular epis, so f is a regular epi. On the
other hand, in this diagram
E
e
/ X
d 0
/
d 1
/ A
/ B
let (d 0, d 1) be the kernel pair of f and e the equalizer of d 0 and d 1. Since Uf is an
isomorphism, Ud 0 = Ud 1, so that Ue is an isomorphism. Hence by the Ô¨Årst part of this
argument, e is epi, whence d 0 = d 1 and so f is an isomorphism.
Now suppose e0, e1: A
/B is a U-contractible equivalence relation. Since equivalence
relations are eÔ¨Äective, there is a coequalizer/kernel pair diagram
A
e0
/
e1
/ B
c
/ C
Ue0 and Ue1 become the kernel pair of Uc because U preserves limits. Uc is epi because
P is a regular projective generator, so because we are in Set, Uc is the coequalizer of Ue0
and Ue1, as required.

258
MICHAEL BARR AND CHARLES WELLS
As an application of Theorem 5, observe that the Tietze Extension Theorem says
that the unit interval I is an injective cogenerator in CptHaus. Thus it is a projective
generator in the opposite category; in fact it is a regular projective generator since every
monomorphism in CptHaus is regular (take two copies of the codomain and amalgamate
the subspace).
1.11. Corollary. Hom(‚àí, I): CptHausop
/ Set is tripleable.
Proof. The only complicated thing to prove is that CptHaus has eÔ¨Äective coequivalence
relations. We leave the rest of the veriÔ¨Åcations to the reader.
Suppose
X
d 0
/
d 1
/ Y
is a coequivalence relation. Then there is a map r: Y
/ X for which r ‚ó¶d 0 = r ‚ó¶d 1. (In
fact, that is the only property of coequivalence relations we use. See Exercise (MAL2) on
page 258.) Let d: Z
/ X be the equalizer of d 0 and d 1. We must show that d 0 and d 1
form the cokernel pair of d. We do this by showing that the map X+ZX
/Y is bijective.
It is clearly surjective because [d 0, d 1]: X+X
/Y is. For j = 0, 1, d j is injective because
it has a left inverse r. It follows that if (for j = 0 or 1) [d 0, d 1](ijx) = [d 0, d 1](ijx‚Ä≤), then
x = x‚Ä≤. Clearly if [d 0, d 1](i0x) = [d 0, d 1](i1x‚Ä≤), then x = x‚Ä≤, hence d 0x = d 1x so that the
map from X +Z X to Y is injective as well as surjective, and so is an isomorphism.
Exercises 9.1.
(SEPKP)
‚ô¶. Show that if f: A
/B is a map, then the kernel pair of f is the the separator
of f and f. Show that if f, g: A
/B, then the separator of f and g is kerp(f)‚à©kerp(g).
(KPSE)
‚ô¶. Show that if g is a split epi and (h, k) is its kernel pair, then h, k and g form
a contractible coequalizer diagram.
(RPA)
‚ô¶. Show that if C is a category with a regular projective generator P, then
Hom(P, ‚àí) has a left adjoint taking a set X to the sum X ¬∑P (assuming that sum exists).
(RPF)
‚ô¶. Show that if U: C
/Set is tripleable, then F(1) is a regular projective generator
in C.
(MAL2). A single-sorted equational theory is called a Mal‚Äôcev theory if there is in the
theory a ternary operation ¬µ satisfying the equations ¬µ(a, a, c) = c and ¬µ(a, b, b) = a. A
theory which includes a group operation is automatically a Mal‚Äôcev theory for one can
deÔ¨Åne ¬µ(a, b, c) = ab‚àí1c. Thus the dual of the category of sets is the category of algebras
for a Mal‚Äôcev theory, since Set op is equivalent to the category of complete atomic Boolean
algebras which, like any rings, include the group operation of addition.
See Exercise
(MAL) on page 169 of Section 5.6 for an example that doesn‚Äôt arise from a group (or any
other binary) operation. Show that in the category of algebras for a Mal‚Äôcev theory every
reÔ¨Çexive relation is an equivalence relation.
The converse is also true. The construction of ¬µ in such a category can be sketched as
follows. On the free algebra on two generators which we will denote by 0 and 1 consider

TOPOSES, TRIPLES AND THEORIES
259
the relation generated by (0, 0), (1, 1) and (0, 1) which is the image of a map from the
free algebra on three generators (the map taking the three generators to the three above
mentioned elements). This image is a reÔ¨Çexive relation which is hence an equivalence
relation. In particular it is symmetric which means there is an element ¬µ in the free
algebra on three generators that maps to (1, 0). Given the correspondence between n-ary
operations and elements of the free algebra on n elements developed in Section 4.3 (see
Exercise (OPS) on page 135), this element corresponds to a ternary operation which (you
will have no doubt already guessed) is the required Mal‚Äôcev operation. Remarkably, one
need only assume that every reÔ¨Çexive relation is symmetric to derive the conclusion.
These operations were Ô¨Årst studied (you will have no doubt also guessed) by Mal‚Äôcev
[1954] who derived most of their interesting properties, not including what was probably
their most interesting property: every simplicial object in a category of algebras for a
Mal‚Äôcev theory satisÔ¨Åes Kan‚Äôs condition.
2. Distributive Laws
It is not ordinarily the case that when T1 = (T1, Œ∑1, ¬µ1) and T2 = (T2, Œ∑2, ¬µ2) are triples
on the same category, there is a natural triple structure on T2 ‚ó¶T1. But that does happen;
for example, the free ring triple is the composite of the free monoid triple followed by
the free Abelian group triple. The concept of distributive law for triples was formulated
by Jon Beck to formalize the fact that the distribution of multiplication over addition
explains this fact about the free ring triple.
Another way of seeing the distributive law in a ring is that it says that multiplication
is a homomorphism of the Abelian group structure. This underlies the concept of a lifting
of a triple, which we will see is equivalent to having a distributive law.
2.1. Distributive laws. Using the notation above, a distributive law of T1 over T2
is a natural transformation Œª: T1 ‚ó¶T2
/T2 ‚ó¶T1 for which the following diagrams commute.
We omit the ‚Äú‚ó¶‚Äù to simplify notation.
T1T2
T2T1
Œª
/
T1
T1T2
T1Œ∑2
T1
T2T1
Œ∑2T1
?
?
?
?
?
?
?
?
?
?
?
?
?
(D1)
T1T2
T2T1
Œª
/
T2
T1T2
Œ∑1T2
T2
T2T1
T2Œ∑1
?
?
?
?
?
?
?
?
?
?
?
?
?
(D2)

260
MICHAEL BARR AND CHARLES WELLS
T1T2
T1T 2
2
T1T2
T1¬µ2

T1T 2
2
T2T1T2
ŒªT2
/ T2T1T2
T2T1
T2T1T2
T2T1T2
T 2
2 T1
T2Œª
/ T 2
2 T1
T2T1
¬µ2T1

T1T2
T2T1
Œª
/
(D3)
T1T2
T 2
1 T2
T1T2
¬µ1T2

T 2
1 T2
T1T2T1
T1Œª
/ T1T2T1
T2T1
T1T2T1
T1T2T1
T2T 2
1
ŒªT1
/ T2T 2
1
T2T1
T2¬µ1

T1T2
T2T1
Œª
/
(D4)
For example, when T1 is the free monoid triple on Set and T2 is the free Abelian group
triple, we have a distributive law Œª: T1 ‚ó¶T2
/ T2 ‚ó¶T1 which takes an element of T1T2X
of the form
(P Œ±1(x) ¬∑ x)(P Œ±2(x) ¬∑ x) ¬∑ ¬∑ ¬∑ (P Œ±m(x) ¬∑ x)
(each sum only having the integer Œ±i(x) nonzero for a Ô¨Ånite number of terms) to
P Œ±1(x1)Œ±2(x2) ¬∑ ¬∑ ¬∑ Œ±m(xm) ¬∑ (x1x2 ¬∑ ¬∑ ¬∑ xm)
the sum over all strings of length m in elements of X.
Another example in Set has T1 the free semigroup triple and T2 deÔ¨Åned by T2(X) =
1 + X (the disjoint union‚Äîsee Example 3 of Section 3.1) Then T2 ‚ó¶T1 is the free monoid
triple. The distributive law Œª takes
1 + X + (1 + X)2 + (1 + X)3 + ¬∑ ¬∑ ¬∑ = 1 + X + 1 + X + X + X2
+ 1 + X + X + X + X2 + X2 + X2 + X3 + 1 + ¬∑ ¬∑ ¬∑
to 1 + X + X2 + X3 + ¬∑ ¬∑ ¬∑ by the map which takes each summand on the left to the same
thing on the right.
2.2. Lifting. If T1 and T2 are triples on a category C, a lifting of T2 to C T1 is a triple
T‚àó
2 = (T ‚àó
2 , Œ∑‚àó
2, ¬µ‚àó
2) on C T1 for which
(L1). U T1 ‚ó¶T ‚àó
2 = T2 ‚ó¶U T1,
(L2). U T1Œ∑‚àó
2 = Œ∑2U T1: U T1
/ U T1 ‚ó¶T ‚àó
2 and
(L3). U T1¬µ‚àó
2 = ¬µ2U T1: U T1 ‚ó¶(T ‚àó
2 )2
/ U T1 ‚ó¶T ‚àó
2 ‚ó¶
In understanding L2 and L3, observe that by L1, U T1 ‚ó¶T ‚àó
2 = T2 ‚ó¶U T1 and U T1 ‚ó¶(T ‚àó
2 )2 =
T2 ‚ó¶U T1 ‚ó¶T ‚àó
2 = T 2
2 ‚ó¶U T1.
Note that given a functor T ‚àó
2 satisfying (L1), rules (L2) and (L3) determine what Œ∑‚àó
2
and ¬µ‚àó
2 must be, and the resulting T‚àó
2 = (T ‚àó
2 , Œ∑‚àó
2, ¬µ‚àó
2) is trivially a triple.
A lifting of T2 is equivalent to having a natural way of viewing T2A as a T1 algebra
whenever A is a T1 algebra, in such a way that Œ∑2 and ¬µ2 are algebra morphisms.
Given a distributive law Œª: T1 ‚ó¶T2
/ T2 ‚ó¶T1, deÔ¨Åne T ‚àó
2 (A, a) = (T2A, T2a ‚ó¶ŒªA), and
deÔ¨Åne T ‚àó
2 to be the same as T2 on algebra morphisms.

TOPOSES, TRIPLES AND THEORIES
261
2.3. Proposition. T ‚àó
2 is the functor part of a lifting of T2 to C T1.
Proof. (L1) is clear, so (L2) and (L3) determine Œ∑‚àó
2 and ¬µ‚àó
2.
These diagrams show that T ‚àó
2 (A, a) is a T1 algebra.
T2A
T2T1A
o
T2a
T2A
T2A
=

T2A
T1T2A
Œ∑1T2A
/ T1T2A
T2T1A
ŒªA

T2A
T2T1A
T2Œ∑1A
K
K
K
K
K
K
%K
K
K
K
K
K
T1T2A
T2T1A
ŒªA
/
T 2
1 T2A
T1T2A
¬µ1T2A

T 2
1 T2A
T1T2T1A
T1ŒªA
/ T1T2T1A
T2T1A
T2T1A
T2A
a
/
T2T 2
1 A
T2T1A
T2¬µ1A

T2T 2
1 A
T2T1A
T2T1A
T2A
T2a

T2T 2
1 A
T2T1A
T2T1a
/
T2T 2
1 A
ŒªT1A

T1T2A
T1T2a
/ T1T2A
T2T1A
ŒªA

Furthermore,
Œ∑2A ‚ó¶a = T ‚àó
2 a ‚ó¶ŒªA ‚ó¶T1Œ∑2A
by (D1) and naturality, so Œ∑‚àó
2 is an algebra morphism, and
¬µ2A ‚ó¶T 2
2 a ‚ó¶T2ŒªA ‚ó¶ŒªT2A = T2a ‚ó¶ŒªA ‚ó¶T1¬µ2A: TT 2
2 A
/ T2A
by D3 and naturality, so ¬µ‚àó
2 is an algebra morphism.
2.4. Compatibility. The following deÔ¨Ånition captures the idea that a triple with func-
tor T2 ‚ó¶T1 is in a natural way the composite of triples with functors T2 and T1.
The triple T = (T2 ‚ó¶T1, Œ∑, ¬µ) is compatible with triples T1 = (T1, Œ∑1, ¬µ1) and T2 =
(T2, Œ∑2, ¬µ2) if
(C1). Œ∑ = TŒ∑2 ‚ó¶Œ∑1 = Œ∑1T ‚ó¶Œ∑2: id
/ T1 ‚ó¶T2‚ó¶
(C2). ¬µ ‚ó¶T2T1Œ∑2T1 = T2¬µ1: T2 ‚ó¶T 2
1
/ T2 ‚ó¶T1‚ó¶
(C3). ¬µ ‚ó¶T2Œ∑1T2T1 = ¬µ2T1: T 2
2 ‚ó¶T1
/ T2 ‚ó¶T1‚ó¶
(C4). ¬µ2T1 ‚ó¶T2¬µ = ¬µ ‚ó¶¬µ2T1T2T1: T 2
2 ‚ó¶T1 ‚ó¶T2 ‚ó¶T1
/ T2 ‚ó¶T1, and
(C5). T2¬µ1 ‚ó¶¬µT1 = ¬µ ‚ó¶T2T1T2¬µ1: T2 ‚ó¶T1 ‚ó¶T2 ‚ó¶T 2
1
/ T2 ‚ó¶T1‚ó¶
Given triples T1 and T2 on a category C and a lifting T‚àó
2 on C T1, we get
(C T1)T‚àó
2
F ‚àó
2
/
o
U‚àó
2
C T1
F1
/
o
U1
C

262
MICHAEL BARR AND CHARLES WELLS
whence F ‚àó
2 ‚ó¶F1 is left adjoint to U1 ‚ó¶U ‚àó
2, so
T2 ‚ó¶T1 = T2 ‚ó¶U1 ‚ó¶F1 = U1 ‚ó¶T ‚àó
2 ‚ó¶F1 = U1 ‚ó¶U ‚àó
2 ‚ó¶F ‚àó
2 ‚ó¶F1
produces a triple T = (T2 ‚ó¶T1, Œ∑, ¬µ) on C.
2.5. Proposition. With the notation of the preceding paragraph, the triple T is com-
patible with T1 and T2.
Proof. We will check one of the hardest compatibility conditions, namely C5, and leave
the rest to you. In the diagram, we have carried out the replacement of U2F2U1 by U1U ‚àó
2F ‚àó
2
and replaced ¬µ by its deÔ¨Ånition so that the diagram that has to be shown to commute is
U1U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 F1
U1U‚àó
2 F ‚àó
2 œµ1F1
/
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 F1U1F1
U1U‚àó
2 œµ‚àó
2F ‚àó
2 F1U1F1

U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1
U1U ‚àó
2F ‚àó
2 F1
U1U‚àó
2 œµ‚àó
2F ‚àó
2 F1

U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1
U1U‚àó
2 F ‚àó
2 U‚àó
2 F ‚àó
2 œµ1F1
/
U1U ‚àó
2F ‚àó
2 F1U1U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1U1F1
U1U‚àó
2 F ‚àó
2 œµ1U‚àó
2 F ‚àó
2 F1U1F1

U1U ‚àó
2F ‚àó
2 F1U1U ‚àó
2F ‚àó
2 F1U1F1
U1U ‚àó
2F ‚àó
2 F1U1U ‚àó
2F ‚àó
2 F1
U1U‚àó
2 F ‚àó
2 F1U1U‚àó
2 F ‚àó
2 œµ1F1
/ U1U ‚àó
2F ‚àó
2 F1U1U ‚àó
2F ‚àó
2 F1
U1U ‚àó
2F ‚àó
2 U ‚àó
2F ‚àó
2 F1
U1U‚àó
2 F ‚àó
2 œµ1U‚àó
2 F ‚àó
2 F1

Now suppose that the triple T is compatible with T1 and T2. DeÔ¨Åne Œª: T1‚ó¶T2
/T2‚ó¶T1
as the composite
T1T2
Œ∑2T1T2Œ∑1
/ T2T1T2T1
¬µ
/ T2T1
2.6. Proposition. Œª is a distributive law.
Proof. D1 and D2 follow from this diagram (note that TŒ∑ = T2T1Œ∑2Œ∑1).
T1T2
T2T1T2T1
Œ∑2T1T2Œ∑1
/
T1
T1T2
T1Œ∑2

T1
T2T1
Œ∑2T1
/ T2T1
T2T1T2T1

T2T1
¬µ
/
T2T1
TŒ∑

T2T1
T2T1
=
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?
?

TOPOSES, TRIPLES AND THEORIES
263
To get D4, consider this diagram.
T 2
1 T2T1
T2T1T2T1T2T1
/
T 2
1 T2
T 2
1 T2T1
T 2
1 T2Œ∑1

T 2
1 T2
T1T2T1T2T1
T1Œ∑2T1T2Œ∑1
/ T1T2T1T2T1
T2T1T2T1T2T1
Œ∑2T1T2T1T2T1

T2T1T2T1T2T1
T2T1T2T1
/
T1T2T1T2T1
T2T1T2T1T2T1
T1T2T1T2T1
T1T2T1
T1¬µ
/ T1T2T1
T2T1T2T1
Œ∑2T1T2T1

T1T2T1
T2T1T2T1
Œ∑2T1T2T1
/
T 2
1 T2T1
T1T2T1
¬µ1T2T1

T 2
1 T2T1
T2T1T2T1T2T1
Œ∑2T1Œ∑2T1T2T1 / T2T1T2T1T2T1
T2T1T2T1
¬µT2T1

T2T1T2T1
T2T1
¬µ
/
T2T1T2T1T2T1
T2T1T2T1
T2T1T2T1T2T1
T2T1T2T1
T2T1¬µ
/ T2T1T2T1
T2T1
¬µ

where the top left square commutes by deÔ¨Ånition, the top right square by naturality, and
the bottom right square by a triple identity. The bottom left square is the following
square applied to T2 ‚ó¶T1:
T 2
1
T2T 2
1
Œ∑2T 2
1
/ T2T 2
1
T2T1T2T1
T2T1Œ∑2T1
/
T 2
1
T1
Œ∑1
?
?
?
?
?
?
?
?
?
T1
T2T1
Œ∑2T1
/
T2T 2
1
T2T1
T1¬µ1
?
?
?
?
?
?
?
?
?
T2T1T2T1
T2T1
¬µ

Now the left and bottom route around square (1) is Œª ‚ó¶¬µ1T2 by deÔ¨Ånition of Œª and the
fact that
¬µ1T2T1 ‚ó¶T 2
1 T2Œ∑1 = T1T2Œ∑1 ‚ó¶¬µ1T2
by naturality, and the top and right route is T2¬µ1 ‚ó¶ŒªT1 ‚ó¶T1Œª because
T1T2T1
T2T1T2T 2
1
Œ∑1T1T2Œ∑1T1
/
T1T2T1
T2T1T2T1
Œ∑2T1T2T1
'O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
T2T1T2T 2
1
T2T1T2T1
T1T2T1¬µ1

T2T1
¬µ
/

T2T 2
1
¬µT1T1T2T1¬µ1
/ T2T 2
1
T2T1
T2¬µ1

The left triangle is a triple identity and the square is C5.
We leave the rest to you.
Exercise 9.2.

264
MICHAEL BARR AND CHARLES WELLS
(DL). Prove that for the constructive processes described in the text, all composites of
length three in the following triangle are the identity.
distributive
laws
compatible
triples
structures
e
Proposition 3
L
L
L
L
L
L
L
L
L
L
L
L
L
L
L
L
L
L
distributive
laws
liftings
Proposition 1
/ liftings
compatible
triples
structures
Proposition2
yrrrrrrrrrrrrrrrrr
3. Colimits of Triple Algebras
Theorem 1 of Section 3.4 gives what is perhaps the best possible result on the completeness
of categories of triple algebras. In this section, we investigate cocompleteness, with results
which are informative but less satisfactory. First we need a lemma.
3.1. Lemma. Let B be a category and I a small diagram. Then the diagonal functor
‚àÜ: B
/ BI has a left adjoint L, if and only if every functor F: I
/ B has a colimitin
B, and in that case LF is that colimit.
Proof. The isomorphism HomB(LF, B) ‚àº= HomBI(F, KB), where KB is the constant
functor, applied to the identity on LF yields a cocone from F to LF which is universal
by deÔ¨Ånition.
The converse is true by pointwise construction of adjoints.
Dually, a right adjoint, if it exists, takes a functor to its limit.
3.2. Theorem. [Linton] Let U = B
/ C be of descent type and I a small category.
In order that every D: I
/ B have a colimit, it suÔ¨Éces that every UD: I
/ C have
colimits and that B have coequalizers.
Note that there is no claim that any colimits are created by U, only that they exist.
Proof. We give a slick proof under the additional assumption that C is cocomplete. See
Linton [1969c] for a proof without this hypothesis. Apply Theorem 3(b) of Section 3.7
and Lemma 1 to the diagram
C
C I
‚àÜ
/
B
C

B
BI
‚àÜ
/ BI
C I
C
C I
o
colim
B
C

B
BI
‚àÜ
/ BI
C I
where the colimit functor on the bottom exists by Proposition 9.11 of section 1.9 of
Section 1.7.

TOPOSES, TRIPLES AND THEORIES
265
3.3. Corollary. Let B
/ C be of descent type and C have Ô¨Ånite colimits. Then B
has Ô¨Ånite colimits if and only if it has coequalizers.
A similar statement can be made for countable colimits, all colimits, etc.
3.4. Proposition. [Linton] Let T be a triple on Set. Then Set T is cocomplete.
Proof. Given
(A, a)
d 0
/
d 1
/ (B, b)
we must construct its coequalizer. Since the underlying functor from Set T creates limits,
B √ó B underlies a unique T-algebra. Let E ‚äÜB √ó B be the intersection of all subsets of
B √ó B which
(a). are T-subalgebras,
(b). are equivalence relations, and
(c). contain the image of R = (d 0, d 1): A
/ B.
E is clearly a subset satisfying all three conditions. Thus in Set,
E
// C
is a contractible pair because any equivalence relation in Set is. Thus U, being tripleable,
must lift the coequalizer of this contractible pair to a coequalizer in Set T which is also the
coequalizer of d 0 and d 1. Hence Set T has all colimits by Corollary 3.
3.5. When do triple algebras have coequalizers?. Given a triple T in a cat-
egory C, to force C T to have coequalizers seems to require some sort of preservation
properties for T. For example, if T preserves coequalizers and C has them, then C T will
have them too (Exercise (CCTA) on page 268). However, that happens only rarely.
Theorem 7 below is an example of what can be proved along these lines. We need
another result Ô¨Årst; it says that the quotient of an algebra map is an algebra map, if by
quotient we mean the image of a regular epimorphism.
3.6. Lemma. If C is regular, then the classes E of regular epis and M of all monos form
a factorization system.
Proof. This has the same proof as Theorem 2 of Section 5.5.
(The assumption of
regularity makes r in diagram (1) of Section 5.5 an epi).
Given an arrow F: C
/ B in such a category, its image via the factorization into a
regular epi followed by a mono is called its regular image.
One deÔ¨Ånes equivalence classes of epis the same way as for monos‚Äîif C
/ A and
C
/ B are epi, they are equivalent if there are (necessarily unique) maps for which
A
B
/
C
A
C
B
?
?
?
?
?
?
?
?
?
?
?
?
?
A
B
o
C
A
C
B
?
?
?
?
?
?
?
?
?
?
?
?
?

266
MICHAEL BARR AND CHARLES WELLS
commutes both ways.
A category C is regularly co-well-powered if for each object C there is a set R
consisting of regular epimorphisms of C with the property that every regular epimorphism
of C is equivalent to one in R.
3.7. Proposition. Let C be a regular, regularly co-well-powered category with coequal-
izers, and T a triple which preserves regular epis. Then the regular image of an algebra
morphism is a subalgebra of its codomain.
Notice that the condition that T preserve regular epis is automatically satisÔ¨Åed in
categories such as Set and categories of vector spaces over Ô¨Åelds in which every epi is split.
Proof. Let an algebra map (C, c)
/(B, b) factor as in the bottom line of the following
diagram. The vertical arrows make coequalizers as in diagram (13), Section 3.3. The arrow
a, and hence Ta, exists because of the diagonal Ô¨Åll-in property of the factorization system.
TC
TA
/ /
T 2C
TC
Tc

T 2C
T 2A
/ / T 2A
TA
Ta

TA
TB
/
T 2A
TA
T 2A
T 2B
/ T 2B
TB
Tb

TC
TA
/
T 2C
TC
¬µC

T 2C
T 2A
/ T 2A
TA
¬µA

TA
TB
/
T 2A
TA
T 2A
T 2B
/ T 2B
TB
¬µB

C
A
/ /
TC
C
c

TC
TA
TA
A
a

A
B
/
/
TA
A
TA
TB
TB
B
b

The associative law for algebra follows because it works when preceded by the epimor-
phism T 2C
/ T 2A. A similar diagram with Œ∑‚Äôs on top gives the unitary law.
3.8. Proposition. Let C and T satisfy the hypotheses of Proposition 6, and suppose in
addition that C is complete. Then C T has Ô¨Ånite colimits.
Proof. We construct coequalizers in B = C T and use Corollary 3.
Given a parallel pair
(B, b)
d 0
/
d 1
/ (C, c)
let C
/ Ci run over all regular quotients of C which are algebras and which coequalize
d 0 and d 1. Then form the image d: C
/ C0 which is a subalgebra of
Q Ci. Clearly d
coequalizes d 0 and d 1. If f: (C, c)
/ (C‚Ä≤, c‚Ä≤) coequalizes d 0 and d 1, the image of f is
among the Ci, say Cj. Then
C0
/ Q Ci
pj
/ Cj
inclusion
/ c‚Ä≤
is the required arrow. It is unique because if there were two arrows, their equalizer would
be a smaller subobject of C0 through which C
/ Q Ci factors.

TOPOSES, TRIPLES AND THEORIES
267
The following theorem provides another approach to the problem.
3.9. Theorem. Suppose C has Ô¨Ånite colimits and equalizers of arbitrary sets of maps
(with the same source and target). Let T be a triple in C which preserves colimits along
countable chains. Then B = C T has coequalizers.
Proof. Again we use Corollary 3. Let (2) be given, and let e: C
/C0 be the coequalizer
in C of d 0 and d 1.
For i > 0, deÔ¨Åne each Ci in the diagram below to be the colimit of everything that
maps to it.
T 2C0
TC0
T 2C
T 2C0
T 2e

T 2C
TC
Tc
/ TC
TC0
Te

TC0
C0
Œ∑C0
/
TC
TC0
TC
C
c
/ C
C0
e

T 2C0
TC0
T 2C
T 2C0

T 2C
TC
¬µC
/ TC
TC0

TC0
C0
/
TC
TC0
TC
C
/ C
C0

T 2C
TC0
T(ec)
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
T 2C
TC0
Te‚ó¶¬µC
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
T 2C1
TC1
T 2C0
T 2C1
T 2e0

T 2C0
TC0
TC0
TC1
Te0

TC1
C1
Œ∑C1
/
TC0
TC1
TC0
C0
/ C0
C1
e0

T 2C0
TC1
Tc0
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
T 2C0
TC1
Te0‚ó¶¬µC0
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
TC0
C1
c0
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
T 2C2
TC2
T 2C1
T 2C2
T 2e1

T 2C1
TC1
TC1
TC2
Te1

TC2
C2
Œ∑C2
/
TC1
TC2
TC1
C1
/ C1
C2
e1

T 2C1
TC2
Tc1
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
T 2C1
TC2
Te1‚ó¶¬µC1
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
TC1
C2
c1
$J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
J
...
...
T 2C2
...

T 2C2
TC2
TC2
...

...
...
TC2
...
TC2
C2
C2
...

It follows that ci+1 ‚ó¶Tci = ci+1 ‚ó¶Tei¬µCi.
If f: (C, c)
/ (B, b) coequalizes d 0 and d 1, then there is a unique g: C0
/ B for
which g ‚ó¶e = f. Then
g ‚ó¶e ‚ó¶c = f ‚ó¶c = b ‚ó¶Tf = b ‚ó¶Tg ‚ó¶Te
Also,
b ‚ó¶TgT(e ‚ó¶c) = b ‚ó¶Tf ‚ó¶Tc = f ‚ó¶c ‚ó¶Tc
= f ‚ó¶c ‚ó¶¬µC = b ‚ó¶Tf ‚ó¶¬µC = b ‚ó¶Tg ‚ó¶Te ‚ó¶¬µC,
and by a similar calculation,
b ‚ó¶Tg ‚ó¶Œ∑C0 ‚ó¶e ‚ó¶c = b ‚ó¶Tg ‚ó¶Te
It follows that there is a unique g1: C1
/ B for which g1 ‚ó¶e0 = g and g1 ‚ó¶c0 = b ‚ó¶Tg.

268
MICHAEL BARR AND CHARLES WELLS
Now assume gi: Ci
/B has the property that gi ‚ó¶ei‚àí1 = gi‚àí1 and b ‚ó¶Tgi‚àí1 = gi ‚ó¶ci‚àí1.
Then,
b ‚ó¶Tgi ‚ó¶Tci‚àí1 = b ‚ó¶T(b ‚ó¶Tgi‚àí1) = b ‚ó¶Tb ‚ó¶T 2gi‚àí1
= b ‚ó¶¬µB ‚ó¶T 2gi‚àí1 = b ‚ó¶Tgi‚àí1 ‚ó¶¬µCi‚àí1
= b ‚ó¶T(gi ‚ó¶ei‚àí1) ‚ó¶¬µCi‚àí1 = b ‚ó¶Tgi ‚ó¶Tei‚àí1 ‚ó¶¬µCi‚àí1,
and similar but easier calculations show that
b ‚ó¶Tgi ‚ó¶Tei‚àí1 = gi ‚ó¶ei‚àí1
and
b ‚ó¶Tgi ‚ó¶Œ∑Ci ‚ó¶ci‚àí1 = b ‚ó¶Tgi ‚ó¶Tei‚àí1
This means that there is a unique gi+1: Ci+1
/ B for which gi+1 ‚ó¶ei = gi and
b ‚ó¶Tgi = gi+1 ‚ó¶ci.
Now we go to the colimit of the chain. Let C‚Ä≤‚Ä≤ = colim Ci, so TC‚Ä≤‚Ä≤ = colim TCi‚àí1 and
T 2C‚Ä≤‚Ä≤ = colim T 2Ci‚àí2. We get g‚Ä≤: C‚Ä≤‚Ä≤
/ B whose ‚Äúrestriction‚Äù to Ci is gi. The maps
ci induce a map c‚Ä≤‚Ä≤: TC‚Ä≤‚Ä≤
/ C‚Ä≤‚Ä≤. This is an algebra structure map making g an algebra
morphism:
(a). g‚Ä≤ ‚ó¶c‚Ä≤‚Ä≤ = b ‚ó¶Tg‚Ä≤ because gi ‚ó¶ci = b ‚ó¶Tgi‚àí1.
(b). c‚Ä≤‚Ä≤ ‚ó¶Tc‚Ä≤‚Ä≤ = c‚Ä≤‚Ä≤ ‚ó¶¬µC‚Ä≤‚Ä≤ because ci ‚ó¶Tci‚àí1 = ci ‚ó¶Tei‚àí1 ‚ó¶¬µCi‚àí1 and the ei commute with
the transition maps in the diagram.
However, we are not done. This map g‚Ä≤ need not be unique. To make it unique, we
pull a trick similar to the construction in the proof of the Adjoint Functor Theorem. We
have a map e‚Ä≤: (C, c)
/ (C‚Ä≤‚Ä≤, c‚Ä≤‚Ä≤) induced by the ei which is an algebra morphism. The
equalizer of all the endomorphisms m of (C‚Ä≤‚Ä≤, c‚Ä≤‚Ä≤) for which me‚Ä≤ = e‚Ä≤ is the coequalizer.
This equalizer exists because it exists in C and tripleable functors create limits. By copying
the argument of the Adjoint Functor Theorem, one gets a map e‚Ä≤‚Ä≤: C
/ E which is the
required coequalizer.
Exercises 9.3.
(CCTA). Show that if T is a triple in C, C has coequalizers and T preserves them, then
C T has coequalizers.
(TRANS). Show that Theorem 8 may be generalized to show that if C has Ô¨Ånite colimits
and equalizers of arbitrary sets of maps and if T is a triple in C which preserves colimits
along chains indexed by some cardinal Œ±, then B = C T has coequalizers.
4. Free Triples
Given an endofunctor R: C
/ C on a category C, the free triple generated by R is a
triple T = (T, Œ∑, ¬µ) together with a natural transformation Œ±: R
/ T with the property

TOPOSES, TRIPLES AND THEORIES
269
that if T‚Ä≤ = (T ‚Ä≤, Œ∑‚Ä≤, ¬µ‚Ä≤) is a triple and Œ≤: R
/ T ‚Ä≤ is a natural transformation, then there
is a triple morphism T
/ T‚Ä≤ for which
R
T
Œ±
/
R
T ‚Ä≤
Œ≤
?
?
?
?
?
?
?
?
?
?
?
?
?
T
T ‚Ä≤
commutes.
The concept of free triple on R is clearly analogous to the concept of free monoid
on a set, with composition of functors playing the role of Cartesian product of sets.
In one special situation, we can construct the free triple on R in very much the same
way as for the free monoid. If C has countable sums and R preserves them, let T =
id + R + R ‚ó¶R + R ‚ó¶R ‚ó¶R + ¬∑ ¬∑ ¬∑. Then T ‚ó¶T ‚àº= T, and with the identity map and
the obvious map onto the Ô¨Årst summand serving as ¬µ and Œ∑ respectively, one obtains a
triple which is easily seen to be the free triple generated by R. (See Exercise (FTS) on
page 274).
To get a more general construction, we form the category which will be C T.
Let
(R: C) denote the category whose objects are pairs (C, f) where C is an object of C and
f: RC
/ C. A morphism f: (A, a)
/ (A‚Ä≤, a‚Ä≤) in (R: C) is an arrow f: A
/ A‚Ä≤ for
which
A
A‚Ä≤
Uf
/
RA
A

RA
RA‚Ä≤
Rf
/ RA‚Ä≤
A‚Ä≤
commutes. This is a (non-full) subcategory of the comma category (R, C). If R should
happen to be the functor part of a triple, then the category of algebras for the triple is a
full subcategory of (R: C).
The canonical underlying functor U: (R: C)
/ C takes (A, a) to A and f to f.
4.1. Proposition. The underlying functor U:(R: C)
/C satisÔ¨Åes the condition of the
PTT except possibly for the existence of a left adjoint. Thus if it has a left adjoint, it is
tripleable.
Proof. It is clear that U reÔ¨Çects isomorphisms. If
(A, a)
d 0
/
d 1
/ (B, b)
lies over a contractible coequalizer
A o
t
Ud0
/
Ud1
/ B
d
/
o
s
C

270
MICHAEL BARR AND CHARLES WELLS
then c = d ‚ó¶b ‚ó¶Rt is a structure on C for which d is a morphism in (R: C) which is the
required coequalizer.
4.2. Proposition. Let R: C
/ C be a functor and T = (T, Œ∑, ¬µ) a triple on C. Then
there is a one to one correspondence between natural transformations from R to T and
functors Œ¶: C T
/ (R: C) which commute with the underlying functors.
Proof. Given a natural transformation Œ±: R
/ T, deÔ¨Åne Œ¶ to take an algebra
(A, a: TA
/ A) to (A, a ‚ó¶Œ±A), and a morphism to itself. It is easy to see that this gives
a functor.
Going the other way, let Œ¶ be given. Since (TA, ¬µA) is a T-algebra, Œ¶(TA, ¬µA) =
(TA, œïA) for some arrow œïA: RTA
/ TA.
Now given a morphism f: A
/ B,
Tf: (TA, ¬µA)
/(TB, ¬µB) between (free) algebras, Œ¶Tf = Tf: (TA, œïA)
/(TB, œïB)
must be a morphism in (R: C). It is immediate from the deÔ¨Ånition that this is the same as
saying that œï: RT
/ T is a natural transformation, whence so is Œ± = œï ‚ó¶RŒ∑: R
/ T.
We must show that this construction is inverse to the one in the preceding paragraph.
For this we need
4.3. Lemma. Any functor Œ¶: C T
/(R: C) which commutes with the underlying functors
preserves the coequalizers of U T-contractible coequalizer pairs.
Proof. Such a functor clearly takes a U T-contractible coequalizer pair to a U-contractible
coequalizer pair, where U: (R: C)
/ C is the canonical underlying functor. Then by
Proposition 1 and the fact that U T is tripleable, Œ¶ must preserve the coequalizer.
Now suppose that Œ¶ is given, Œ± is constructed as above, and Œ¶‚Ä≤ is constructed from
Œ±. We must show that Œ¶ and Œ¶‚Ä≤ agree on T-algebras; to do this, we use the standard
technique of showing they agree on free algebras, so that by Lemma 3 they must agree
on coequalizers of U-contractible diagrams of free algebras; but those are all the algebras
by Proposition 4 of Section 3.3.
A free algebra has the form (TA, ¬µA), and ¬µ: (T 2A, ¬µTA)
/(TA, ¬µA) is a T-algebra
morphism. Thus ¬µ: (T 2A, œïTA)
/ (TA, œïA) is a morphism in (R: C), whence œï ‚ó¶R¬µ =
¬µ ‚ó¶œïT. Then
Œ¶‚Ä≤(TA, ¬µA) = (TA, ¬µA ‚ó¶Œ±TA) = (TA, ¬µA ‚ó¶œïTA ‚ó¶RŒ∑TA)
= (TA, œïA ‚ó¶R¬µA ‚ó¶RŒ∑TA) = (TA, œïA) = Œ¶(TA, ¬µA)
Thus Œ¶ and Œ¶‚Ä≤ agree on free algebras, and so since both U T and U preserve coequal-
izers, Œ¶ and Œ¶‚Ä≤ must agree on all algebras. (Since both U T and U create coequalizers of
U-contractible coequalizer pairs, Œ¶ and Œ¶‚Ä≤ do not merely take an algebra to isomorphic
objects of (R: C), but are actually the same functor.)
Conversely, suppose we start with a natural transformation Œ±, construct a functor
Œ¶, and then from Œ¶ construct a natural transformation Œ±‚Ä≤. As before, let Œ¶(TA, ¬µA) =
(TA, œïA). Since by deÔ¨Ånition Œ¶(TA, ¬µA) = (TA, ¬µA ‚ó¶Œ±TA), we have œï = ¬µ ‚ó¶Œ±T). Then
Œ±‚Ä≤ = œï ‚ó¶RŒ∑ = ¬µ ‚ó¶Œ±T ‚ó¶RŒ∑ = ¬µ ‚ó¶TŒ∑ ‚ó¶Œ± = Œ±

TOPOSES, TRIPLES AND THEORIES
271
4.4. Theorem. If U: (R: C)
/ C has a left adjoint F, then the resulting triple is the
free triple generated by R.
Proof. The comparison functor (R: C)
/ C T is an equivalence, so its inverse cor-
responds via Proposition 2 to a morphism Œ∑: R
/ T.
If Œª: R
/ T ‚Ä≤ is a natural
transformation, the composite of the corresponding functor with the comparison func-
tor yields a functor from C T‚Ä≤ to C T which by Theorem 3 of Section 3.6 corresponds to
natural transformation Œ±: T
/ T ‚Ä≤. Since Œ± ‚ó¶Œ∑ corresponds to the same functor from C T
to (R: C) as Œª, they must be equal.
The converse of Theorem 4 is true when C is complete:
4.5. Proposition. Let C be a complete category and R an endofunctor on C which
generates a free triple T. Then U: (R: C)
/ C has a left adjoint and the Eilenberg-
Moore category C T is equivalent to (R: C).
Proof. To construct the left adjoint we need a lemma.
4.6. Lemma. If C is complete, then (R: C) is complete.
Proof. The proof is the same as that of Theorem 1 of Section 3.4, which does not require
the existence of an adjoint.
Now let B be any set of objects of (R: C).
Let B# be the full subcategory of
(R: C) consisting of all subobjects of products of objects in B.
Then the composite
B#
/ (R: C)
/ C has an adjoint F by the Special Adjoint Functor Theorem, the
objects of B being the solution set.
Now form ¬ØB from B# by adding any object (B, b) for which there is a morphism
(B0, b0)
/ (B, b) for which B0
/ B is a split epi. If a map C
/ B in C is given, it
lifts via the splitting to a unique map C
/ B0 for which
C
B0
?
?
?
?
?
?
?
?
?
?
?
?
?
C
B
/ B
B0

commutes. This lifts to the unique map FC
/ (B0, b0) given by the deÔ¨Ånition of left
adjoint. Composition with B0
/ B gives a map FC
/ (B, b), and this sequence of
constructions gives an injection from HomC(C, B) to Hom¬ØB(FC, (B, b)). The fact that
B0
/ B is split makes it surjective, so that we have shown that the underlying functor
¬ØU: ¬ØB
/ C has a left adjoint.
If
(B‚Ä≤, b‚Ä≤)
// (B, b)
is a U-contractible coequalizer diagram with both algebras in ¬ØB, then it has a coequalizer
(B‚Ä≤‚Ä≤, b‚Ä≤‚Ä≤) in (R: C) which by deÔ¨Ånition belongs to ¬ØB. Thus since U: (R: C)
/ C satisÔ¨Åes
the requirements of PTT except for having a left adjoint, and ¬ØU is a restriction of U

272
MICHAEL BARR AND CHARLES WELLS
to a subcategory which has the requisite coequalizers, ¬ØU must be tripleable. Let T‚Ä≤ =
(T ‚Ä≤, Œ∑‚Ä≤, ¬µ‚Ä≤) be the resulting triple.
The inclusion C T‚Ä≤
//(R: C) corresponds to a natural transformation R
/T ‚Ä≤ which
by the deÔ¨Ånition of free triple gives a morphism T
/ T‚Ä≤ of triples which makes
R
T ‚Ä≤
?
?
?
?
?
?
?
?
?
?
?
?
?
R
T
/ T
T ‚Ä≤ 
commute, the top transformation being the one given by the deÔ¨Ånition of free triple.
By the correspondence between morphisms of triples and morphisms of triple algebras
(Theorem 3 of Section 3.6), this yields the commutative diagram
B = C T‚Ä≤
C T
W
/
B = C T‚Ä≤
C
UT‚Ä≤
'O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
C T
(R: C)
V
/
C T
C
UT

(R: C)
C
U
wooooooooooooooooooooo
B = C T‚Ä≤
C T
/
B = C T‚Ä≤
C
g
F T‚Ä≤
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
O
C T
(R: C)
/
C T
C
O
F T
(R: C)
C wooooooooooooooooooooo
(‚àó)
in which the top row is the inclusion.
Thus every object and every map of ¬ØB is in the image of C T. Since we began with any
set of objects, it follows that V is surjective on objects and maps.
Now take an object B of (R: C) and a ¬ØB contained in (R: C) as constructed above
which contains B. We have, in the notation of diagram (‚àó),
Hom(V F TC, B) ‚àº= Hom(V F TC, V WB) ‚àº= Hom(F TC, WB)
‚àº= Hom(C, U T ‚Ä≤B) ‚àº= Hom(C, UB),
which proves that U has a left adjoint.
The last statement in the proposition then follows from Proposition 1 and Theorem 4.
4.7. Proposition. Let C be complete and have Ô¨Ånite colimits and colimits of countable
chains. Let R be an endofunctor of C which commutes with colimits of countable chains.
Then R generates a free triple.
Proof. By Theorem 4, we need only construct a left adjoint to U: (R: C)
/ C. Let C
be an object of C. Form the sequence
C = C0
C1
e0
/
C = C0
RC0
RC0
C1
c1

C1
C2
e1
/
RC0
C1
RC0
RC1
Te0
/ RC1
C2
c2

C2
C3
e2
/
RC1
C2

RC1
RC2
Te1
/ RC2
C3
c3

C3
¬∑ ¬∑ ¬∑
/
RC2
C3
RC2
¬∑ ¬∑ ¬∑
/ ¬∑ ¬∑ ¬∑
¬∑ ¬∑ ¬∑

TOPOSES, TRIPLES AND THEORIES
273
in which each square is a pushout and C1 = C0 + RC0.
Let C‚Ä≤ = colim Cn.
Then
RC‚Ä≤ = colim RCn and there are induced maps e: C
/ C‚Ä≤ and c‚Ä≤: RC‚Ä≤
/ C‚Ä≤.
4.8. Lemma. For any diagram
RB
B
b
/
RB
CC
B
f

there is an arrow f ‚Ä≤: C‚Ä≤
/ B for which
RB
B
b
/
RC‚Ä≤
RB
Rf‚Ä≤

RC‚Ä≤
C‚Ä≤
c‚Ä≤
/ C‚Ä≤
B
f‚Ä≤

B
B
o
=
/
C‚Ä≤
B
C‚Ä≤
C
o
c
C
B
f

A
C
f
/
B
A
B
C
g

commutes.
Proof. Begin with f0 = f. Let f1: C1
/ B be deÔ¨Åned using the deÔ¨Åning property of
a sum by f1 ‚ó¶e0 = f and f1 ‚ó¶c1 = b ‚ó¶Rf. We will deÔ¨Åne fn for n ‚â•1 inductively; notice
that after f1 we are using a pushout rather than a sum, so our induction hypothesis will
have to carry with it a commutativity condition.
So assume that f0, ¬∑ ¬∑ ¬∑ , fn have been deÔ¨Åned in such a way that
(a). fi: Ci
/ B;
(b). fi ‚ó¶ci = b ‚ó¶Rfi‚àí1; and
(c). fi ‚ó¶ei‚àí1 = fi‚àí1.
Then b ‚ó¶Rfi ‚ó¶Rei‚àíl = b ‚ó¶Rfi‚àí1, so we can legitimately deÔ¨Åne fi+1 by requiring that
fi+1 ‚ó¶ci+1 = b ‚ó¶Rfi and fi+1 ‚ó¶ei = fi. The induced map f ‚Ä≤ then clearly satisÔ¨Åes the
required identities.
By Lemma 8, the objects (C‚Ä≤, c‚Ä≤: RC‚Ä≤
/ C‚Ä≤) form a solution set for the underlying
functor U: (R: C)
/ C, which therefore has a left adjoint as required.

274
MICHAEL BARR AND CHARLES WELLS
Exercises 9.4.
(FTS). Prove that if C is a category with countable sums and R an endofunctor which
preserves countable sums, then R generates a free triple.
(FTIN). (Lambek)
(i). Let R be an endofunctor of a category C. Show that if a: RA
/ A is an initial
object in (R: C), then a is an isomorphism.
(ii). Prove that an endofunctor which has no Ô¨Åxed points does not generate a free triple.
(iii). Prove that the covariant power set functor which takes a map to its direct image
does not generate a free triple.
(TRANSF). Formulate and prove a transÔ¨Ånite generalization of Theorem 7 analogous to
the way in which Exercise (TRANS) on page 268 of Section 9.3 generalizes Theorem 8 of
that section.

References
J. Ad¬¥amek and J. RosiÀácky, Locally Presentable and Accessible Categories. Cambridge University Press
(1994).
H. Applegate, Categories with models. Dissertation, Columbia University (1965).
H. Applegate and M. Tierney, Categories with models. Springer Lecture Notes in Mathematics 80, 156‚Äì
243 (1969).
M. Barr, Exact categories, in Exact Categories and Categories of Sheaves, Springer Lecture Notes in
Mathematics 236, 1‚Äì120. 1971.
M. Barr, Toposes without points. J. Pure and Applied Algebra 5, 265‚Äì280 (1974).
M. Barr, Coequalizers and free triples. Math. Z. 116 (1970), 307‚Äì322.
M. Barr, J. Beck, Homology and standard constructions, in Seminar on Triples and Categorical Homol-
ogy Theory. Springer Lecture Notes in Math. 80 (1969), 245‚Äì335.
M. Barr, R. Diaconescu, Atomic Toposes. J. Pure Applied Algebra, 17 (1980), 1‚Äì24.
M. Barr, R. Par¬¥e, Molecular Toposes. J. Pure Applied Algebra, 17 (1980), 127‚Äì152.
M. Barr and C. Wells, Category Theory for Computing Science, 3rd Edition. Les Publications CRM
(1999).
A. Bastiani and C. Ehresmann, Categories of sketched structures. Cahiers de Topologie et G¬¥eometrie
DiÔ¨Ä¬¥erentielle 13 (1973), 1‚Äì105.
J. M. Beck, Triples, Algebras, and Cohomology. Ph. D. Thesis, Columbia University (1967).
J. B¬¥enabou, Structures alg¬¥ebriques dans les cat¬¥egories. Cahiers de Topologie et G¬¥eometrie DiÔ¨Ä¬¥erentielle
10 (1968), 1‚Äì126.
J. B¬¥enabou, Structures alg¬¥ebriques dans les cat¬¥egories. Cahiers de Topologie et G¬¥eometrie DiÔ¨Ä¬¥erentielle
13 (1972), 103‚Äì214.
G. BirkhoÔ¨Ä, On the structure of abstract algebras. Proc. Cambridge Phil. Soc. 31 (1935), 433‚Äì454.
A. Blass, The interaction between category theory and set theory. Preprint, University of Michigan
(1983).
A. Boileau and A. Joyal, La logique des topos. J. Symbolic Logic 46 (1981), 6‚Äì16.
F. Borceux, Handbook of Categorical Algebra I, II and III. Cambridge University Press (1994).
M. C. Bunge, Toposes in logic and logic in toposes. (To appear, Proc. of the meeting of the Soc. for
Exact Philosophy, April, 1983.)
H. Cartan and S. Eilenberg, Homological Algebra. Princeton University Press, 1952.
275

276
MICHAEL BARR AND CHARLES WELLS
C. C. Chang and H. J. Keisler, Model Theory. North‚ÄìHolland, 1973.
P. M. Cohn, Universal Algebra. D. Reidel Publishing Company, 1982.
A. Day, Filter monads, continuous lattices and closure systems. Canadian J. Math. 27 (1975), 50‚Äì59.
B. Day, Note on the Stone representation theorem.
P. Deligne, La conjecture de Weil I. I. H. E. S. Publ. Math. 43 (1974), 273‚Äì307.
R. Diaconescu, Axiom of choice and complementation. Proc. Amer. Math. Soc. 51 (1975), 176‚Äì178.
R. Diaconescu, Change of base for toposes with generators. J. Pure Applied Algebra 6 (1975), 191‚Äì218.
E. Dubuc and G. M. Kelly, A presentation of topoi as algebraic relative to categories or graphs.
J. Duskin, Variations on Beck‚Äôs tripleability criterion. Springer Lecture Notes in Mathematics 106, 74‚Äì
129 (1969).
B. Eckmann and P. Hilton, Group-like structures in general categories. Math. Ann. 145 (1962), 227.
C. Ehresmann, Introduction to the theory of structured categories. Charles Ehresmann, ≈ìuvres
compl`etes et comment¬¥ees III, 2, 591‚Äì676. (Noted by V. Topencharov.)
C. Ehresmann, Probl`emes universels relatifs aux cat¬¥egories n-aires. C.R.A.S. 264 (273‚Äì276), 1967a.
C. Ehresmann, Sur les structures alg¬¥ebriques. C.R.A.S. 264 (840‚Äì843), 1967b.
C. Ehresmann, Esquisses et types de structures alg¬¥ebriques. Bul. Inst. Polit. Ia¬∏si t. XIV(XVIII), Fasc.
1‚Äì2 (1968), 1‚Äì14. Reprinted in ≈íuvres compl`etes et comment¬¥ees IV, 1, 19‚Äì33.
S. Eilenberg and S. MacLane, General theory of natural equivalences. Trans. A. M. S. 58, 1945, 231‚Äì
244.
S. Eilenberg and J. C. Moore, Adjoint functors and triples, Illinois J. Math. 9, 381‚Äì398 (1965).
G. D. Findlay, ReÔ¨Çexive homomorphic relations. Can. Math. Bull. 3 (1960), 131‚Äì132.
M. Fourman, The logic of topoi, in Handbook of Mathematical Logic, J. Barwise, ed. North-Holland,
1977.
P. Freyd, Abelian Categories: An introduction to the theory of functors. Harper and Row, 1964.
P. Freyd, Several new concepts: lucid and concordant functors, pre-limits, pre-completeness, the con-
tinuous and concordant completions of categories. In Category theory, homology theory and their
applications III: Proceedings of the Batelle Institute Conference, Seattle, 1968. Springer Lecture
Notes in Mathematics 99 (1969), 196‚Äì241.
P. Freyd, Aspects of topoi. Bull. Austral. Math. Soc. 7 (1972), 1‚Äì72 and 467-480. Corrections (pre-
print), 1973.
P. Freyd and A. Scedrov, Categories, Allegories. North-Holland Mathematical Library 39. North-
Holland (1990).
P. Gabriel and F. Ulmer, Lokal pr¬®asentierbare Kategorien, Springer Lecture Notes in Mathematics 221.
Springer-Verlag, 1971.
R. Godement, Th¬¥eorie des faisceaux. Hermann (1958).
J. Goguen, J. Meseguer, An initiality primer. Preprint, (1983a), SRI International, Computer Science
Laboratory, 333 Ravenswood Ave., Menlo Park, CA, USA, 94025.

TOPOSES, TRIPLES AND THEORIES
277
J. Goguen, J. Meseguer, Completeness of many-sorted equational logic. To appear in Houston J. Math.
(1983b).
A. Grothendieck, Sur quelques points d‚Äôalg`ebre homologique, TohÀÜoku Math. Journal 2, 1957, 119‚Äì221.
A. Grothendieck, Cohomologie ¬¥etale des sch¬¥emas. Seminaire de G¬¥eometrie Alg¬¥ebrique de L‚ÄôI. H. E. S.
1964.
A. Grothendieck, J. L. Verdier, Th¬¥eorie des topos. in SGA 4 Expos¬¥es I‚ÄìVI (1963-4), reprinted in
Springer Lecture Notes in Math. 269‚Äì270 (1972).
J. W. Gray, Formal Category I: Adjointness for 2-Categories. Springer Lecture Notes in Math. 391
(1974).
P. Huber, Homotopy theory in general categories. Math. Ann. 144, 361‚Äì385 (1961).
J. R. Isbell, General functorial semantics. (You must have this reference in your Ô¨Åles.)
P. T. Johnstone, Topos Theory. Academic Press, 1977.
P. T. Johnstone, G. Wraith, Algebraic theories in toposes, in Indexed Categories and their Applications,
Springer Lecture Notes in Mathematics 661 (1978).
D. M. Kan, Adjoint functors. Trans. A. M. S. 87, 1958, 294‚Äì329.
G. M. Kelly, On the essentially-algebraic theory generated by a sketch. Bulletin Australian Mathemat-
ical Society 26 (1982), 45‚Äì56.
G. M. Kelly, A uniÔ¨Åed treatment of transÔ¨Ånite constructions for free algebras, free monoids, colimits,
associated sheaves, and so on. Bulletin Australian Mathematical Society 22 (1980), 1‚Äì83.
J. F. Kennison, On limit-preserving functors. Illinois Jour. Math. 12, 616‚Äì619 (1968).
J. F. Kennison and D. Gildenhuys, Equational completion, model induced triples and pro-objects. J.
Pure Applied Algebra 1 (1971), 317‚Äì346.
H. Kleisli, Comparaison de la r¬¥esolution simpliciale `a la bar-r¬¥esolution. in Cat¬¥egories Non-Ab¬¥eliennes,
L‚ÄôUniversit¬¥e de Montr¬¥eal (1964), 85‚Äì99.
H. Kleisli, Every standard construction is induced by a pair of adjoint functors. Proc. A. M. S. 16,
544‚Äì546 (1965).
A. Kock and G. E. Reyes, Doctrines in categorical logic. In Handbook of Mathematical Logic, J. Bar-
wise, editor. North-Holland, 1977.
Anders Kock, Synthetic DiÔ¨Äerential Geometry. London Mathematical Society Lecture Note Series 51.
Cambridge University Press, 1981.
A. Kock and G. Wraith, Elementary toposes. Aarhus Lecture Notes 30, 1971.
J. Lambek and P. Scott, Introduction to higher-order categorical logic. Cambridge Studies in Advanced
Mathematics 7. Cambridge University Press (1986).
F. W. Lawvere, Functorial semantics of algebraic theories. Dissertation, Columbia University (1963).
Announcement in Proc. Nat. Acad. Sci. 50 (1963), 869‚Äì873.
F. W. Lawvere, An elementary theory of the category of sets. Preprint (1965).
F. W. Lawvere, The category of categories as a foundation for mathematics. Proceedings of the Con-
ference on Categorical Algebra at La Jolla. Springer-Verlag (1966).

278
MICHAEL BARR AND CHARLES WELLS
F. W. Lawvere, QuantiÔ¨Åers and sheaves. Actes du Congr`es International des Math¬¥ematiciens, Nice
(1970), 329‚Äì334.
F. W. Lawvere, Continuously variable sets: algebraic geometry = geometric logic. Proc. A. S. L. Logic
Colloquium, Bristol, 1973. North-Holland (1975),135-156
F. W. Lawvere, Introduction. Toposes, Algebraic Geometry and Logic. Springer Lecture Notes in Math.
445 (1975), 3‚Äì14.
F. W. Lawvere, Variable sets, ¬¥etendu, and variable structures in topoi (Notes by S. E. Landsburg),
Lecture Notes, University of Chicago (1976).
F. W. Lawvere, Variable quantities and variable structures in topoi. in Algebra, Topology and Category
Theory: a collection of papers in honor of Samuel Eilenberg. Academic Press (1976), 101‚Äì131.
F. E. J. Linton, Some aspects of equational categories. Proceedings of the Conference on Categorical
Algebra at La Jolla. Springer-Verlag (1966).
F. E. J. Linton, An outline of functorial semantics, Springer Lecture Notes in Mathematics 80, 7‚Äì52
(1969a).
F. E. J. Linton, Applied functorial semantics, Springer Lecture Notes in Mathematics 80, 53‚Äì74
(1969b).
F. E. J. Linton, Coequalizers in categories of algebras, Springer Lecture Notes in Mathematics 80, 75‚Äì
90 (1969c).
S. Mac Lane, Duality for groups. Bull. A. M. S. 56, 1950, 485‚Äì516.
S. Mac Lane, Categories for the Working Mathematician 2nd Edition. Springer-Verlag, 1998.
S. Mac Lane and I. Moerdijk, Sheaves in Geometry and Logic. Springer-Verlag (1992).
A. I. Mal‚Äôcev, On the general theory of algebraic systems. Math. Sbornik, N. S. 35 (1954). 3‚Äì20.
M. Makkai and G. Reyes, First Order Categorical Logic. Lecture Notes in Mathematics 611. Sringer-
Verlag, 1977.
C. McLarty, Elementary Categories, Elementary Toposes. Oxford Logic Guides 21. Clarendon Press
(1992).
C. J. Mikkelsen, Lattice Theoretic and Logical Aspects of Elementary Topoi. Aarhus University Various
Publications Series 25, 1976.
B. Mitchell, The full embedding theorem. Amer. J. Math. 86, 1964, 619‚Äì637.
B. Mitchell, Theory of Categories. Academic Press, 1965.
P. Mulry, Generalized Banach-Mazur functionals in the topos of recursive sets. J. Pure Applied Alge-
bra, 26 (1982), 71‚Äì83.
G. Osius, Categorial set theory: a characterization of the category of sets. J. Pure Applied Algebra, 4
(1974), 79‚Äì119.
G. Osius, Logical and set theoretical tools in elementary topoi. Model Theory and Topoi, Lecture Notes
in Mathematics 445 (1975), 297‚Äì346.
R. Par¬¥e, Connected components and colimits, J. Pure Applied Algebra, 3 (1973), 21‚Äì42.
R. Par¬¥e, D. Schumacher, Abstract families and the adjoint functor theorem, in Indexed Categories and
their Applications, Springer Lecture Notes in Mathematics 661 (1978).

TOPOSES, TRIPLES AND THEORIES
279
J. Peake and G. R. Peters, Extensions of algebraic theories. Prof. A. M. S. 32 (1972), 356‚Äì362.
H. Rasiowa and R. Sikorski, The Mathematics of Metamathematics. Polish ScientiÔ¨Åc Publishers, War-
saw (1963).
G. Reyes, From sheaves to logic. In Studies in Algebraic Logic, A. Daigneault, ed. MAA Studies in
Math., 9, Mathematical Association of America, l974.
R. Rosebrugh, On algebras deÔ¨Åned by operations and equations in a topos. J. Pure and Applied Alge-
bra 17 (1980), 203‚Äì221.
J. ShoenÔ¨Åeld, Mathematical Logic. Addison-Wesley, 1967.
R. Street, Notions of topos. Bull. Australian Math. Soc. 23 (1981), 199‚Äì208.
R. Street, The family approach to total cocompleteness and toposes, Reprint, School of Mathematics
and Physics, McQuarrie University, North Ryde, NSW 2113, Australia (1983).
R. Street, R. Walters, The comprehensive factorization of a functor, Bull. Amer. Math. Soc. 79 (1973),
936‚Äì941.
B. R. Tennison, Sheaf Theory. London Math. Soc. Lecutre Notes 20. Cambridge University Press
(1975).
A. S. Troelstra, Aspects of Constructive Mathematics. Handbook of Mathematical Logic, J. Barwise,
ed., North-Holland,
R. F. C. Walters, Categories and computer science. Cambridge University Press, 1991.
C. Wells, A triple in Cat. Proc. Edinburgh Math. Soc. 23 (1980), 261‚Äì268.
G. C. Wraith, Algebras over theories. Colloq. Math. 23 (1971), 180‚Äì190.
O. Wyler, Algebraic theories of continuous lattices. In Continuous lattices, Springer Lecture Notes in
Mathematics 871 (1981), 390‚Äì413.

280
MICHAEL BARR AND CHARLES WELLS
Index of exercises
2PB, 30
ABNOT, 21
ABSET, 53
AC, 12
ADJCAT, 54
AMS, 164
ASS SH, 179
ASTAR, 156
ATO, 158
AUT, 13
BAL, 76
BIGACT, 205
BOOL, 13
BWP, 210
CADJ, 53
CAE, 45
CATT, 114
CBB, 45
CCCC, 158
CCD, 38
CCL, 65
CCLA, 40
CCLE, 158
CCON, 8
CCTA, 266
CLSH, 178
COEQ, 45
COEQG, 45
COMA, 14
COMLIM, 129
COMMMON, 53
COMMRING, 53
COMP, 9
COMP2, 214
COMP3, 214
connlim, 38
CONT, 71
COQT, 248
CRCO, 103
CREA, 39
CRRF, 39
CSO, 193
CTFP, 244
CTR, 13
CYCGRP, 249
DD, 164
DIAG, 53
DIAG2, 144
DIAG5, 163
DIV, 241
DL, 261
DLO, 244
DN, 174
DN2, 210
DNC, 203
EAAM, 12
EAPL, 46
ECMP, 91
EEPO, 249
EL, 158
EMPTER, 37
EP, 29
EPI, 198
EPIS, 248
EPIU, 163
EPS, 65
EQC, 45
EQCLS, 178
EQL, 71
EQPB, 71
EQRF, 103
EQU, 13
EQUII, 17
EQUIII, 54
ER, 39
ETAMON, 87

TOPOSES, TRIPLES AND THEORIES
281
EVTT, 134
EXH, 168
EXID, 80
EXINV, 80
FAC, 162
FAC2, 162
FAEX, 164
FAITH, 210
FCR, 46
FCS, 120
FFC, 103
FILT, 144
FLKP, 39
FPCC, 158
FRE, 55
FRG, 13
FRGP, 25
FRGRP, 16
FRTR, 90
FTI, 13
FTIN, 272
FTOP, 163
FTS, 272
GAB, 114
GAC, 214
GAFT, 56
GEN, 203
GEQ, 204
GLEP, 21
GOD, 16
GP, 29
GPA, 25
GPAC, 54
GRADJ, 54
GRCO, 86
GRLE, 144
GRMN, 107
GRPT, 91
GRTOP, 204
GSV, 203
HEYT, 167
HMNAT, 16
HOMLIM, 39
IBAS, 71
IEL, 21
IFFS, 71
IIT, 8
ILET, 188
IMGT, 163
IND, 173
INF, 244
INFSET, 39
INITU, 163
INJ, 65
INJAB, 21
INJSET, 21
INVIM, 29
IPOS, 8
ISO, 8
KCTW, 91
KEM, 91
KEMEQ, 188
KPL, 39
KPSE, 256
LAT, 29
LFC, 38
LFU, 71
LGNT, 71
LIM, 149
LIMFUN, 40
LIMISO, 38
LMA, 77
LOC, 71
LOG, 210
LSUB, 183
MAFP, 134
MAL, 168
MAL2, 256
MAT, 109
MDU, 244
MODT, 109

282
MICHAEL BARR AND CHARLES WELLS
MONCO, 86
MONCO2, 91
MONL, 55
MONOTEST, 178
MONTRP, 109
MTY, 198
NATJ, 174
NNOP, 228
NSD, 14
NTF, 16
NTG, 16
NTN, 103
OLDEF, 158
OMT, 76
OMTS, 203
OPF, 193
OPFC, 193
OPP, 9
OPS, 134
ORTHODOX, 249
PBCC, 72
PBM, 29
PBOOL, 210
PBS, 29
PCA, 76
PCA2, 183
PEPB, 37
PER, 40
PIO, 158
PISO, 12
PIX, 38
PNT, 183
POLY, 86
POW, 13
POWO, 13
PPOS, 29
PPTT, 103
PRDC, 178
PREO, 9
PREORD, 13
PRES, 40
PROD, 37
PT, 71
PTD, 9
PTD2, 110
PTRP, 86
PTTP, 65
PWP, 210
QUOT, 9
REC, 144
REFL, 55
REFL2, 103
REGFC4, 248
REGMON, 38
REP, 55
REPLIM, 38
RFI, 210
RFLK, 129
RFUN, 87
RGCO, 205
RGFAC, 163
RMFP, 134
RMOD, 53
RPA, 256
RPF, 256
RUL, 87
SAFT, 56
SASO, 164
SCQ, 65
SEC, 214
SEP, 188
SEPKP, 256
SETC, 38
SETSPLIT, 21
SF, 151
SFSH, 71
SGRPOID, 8
SGTC, 38
SHAB, 87
SIG, 21

TOPOSES, TRIPLES AND THEORIES
283
SING, 16
SKEL, 9
SKEL2, 13
SLADJ, 55
SOI, 163
SOO, 164
SPCO, 149
SPO, 102
SSFP, 134
SSR, 179
STAR, 90
STK, 71
SUBALG, 91
SUBCO, 183
SUBF, 22
SUBLIM, 65
SUBS, 144
SUM, 45
SURJ, 108
SURJSPLIT, 21
SURRING, 21
SURTOP, 21
TABT, 107
TERM, 37
TF, 76
TISO, 8
TOP, 38
TOPA, 54
TOPEQ, 174
TOPF, 163
TORGRP, 249
TOTO, 242
TPPB, 77
TPPBA, 173
TRAN, 39
TRANS, 266
TRANSF, 272
TRE, 86
TRE2, 86
UCO, 55
UEZ, 179
UF, 114
ULTRA, 248
UND, 22
UNIQ, 25
UNIV, 24
UNIVG, 220
UNMN, 87
UPHI, 103
UPOW, 25
URFL, 102
USL, 14
USL2, 53
VFF, 134
YFCS, 120

284
MICHAEL BARR AND CHARLES WELLS
Index
P, 147
2-valued, 207
, 188
Ab, 2, 21, 41
absolute coequalizer, 94
absolutely closed, 176
AC, 210
adjoint, 46, 48, 50, 84, 131
adjoint functor theorem, 50
adjoint transpose, 47
adjoint triple, 119
adjoint tripleable, 119
algebraic theory, 133
application, 16
arrow, 1
arrow category, 8
arrow congruence, 9
arrows, 30
associated sheaf functor, 176
atom, 13
atomic, 13
Axiom of Choice, 210
Beck‚Äôs Theorem, 99
BirkhoÔ¨Ä‚Äôs Theorem, 250
Boolean, 167, 206
Butler‚Äôs Theorem, 118
CABA, 13
canonical, 197
canonical underlying functor, 267
cartesian closed, 156, 157
Cat(E), 189
categorical theory, vii
category, 1, 8, 140
category object, 188
category of Abelian groups, 2, 14, 53, 170
category of groups, 1, 2, 12, 14, 41, 42,
59, 89, 108
category of models, 244
category of sets, viii, 1, 13, 14, 210, 263
category of topological spaces, 2
change of base space, 70
classifying topos, 243
coalgebras, 90
cocone induced by, 238
cocontinuous, 41
codomain, 1
coequalizer, 41
cogenerating set, 56
cograph, 7
coherent, 220
coherent family, 209
coherent sketch, 243
coherent theory, 243
colimit, 40
comma category, 12
commutative cone, 31
commutative cone over D based on T, 25
commutative diagram, 3
commute, 3
commute serially, 72, 95
compatible, 259
complete, 13, 32
components, 14, 31
composite, 1, 204
congruence, 44
connected, 9
connected diagrams, 38
connected graph, 38
conservative generator, 198
continuous, 33
contractible, 93
contractible coequalizer, 93
contractible coequalizer pair, 94
contravariant functor, 10
contravariant hom functors, 11
coproduct, 40

TOPOSES, TRIPLES AND THEORIES
285
cotriple, 86
counit, 47
covariant, 11
covariant functor, 10
cover, 194
creates, 36
Crude Tripleability Theorem, 108
CTT, 108
deÔ¨Åned over, 17
dense, 129
descent type, 92
designated Ô¨Ånite limits, 33
diagram, 30
diagram of type, 30
direct image, 70
discrete, 32
discrete category, 54
discrete opÔ¨Åbration, 193
distributive law, 257
domain, 1
domain of variation, 17
dual, 4
Duskin‚Äôs Theorem, 251
eÔ¨Äective descent type, 92
eÔ¨Äective epimorphic family, 195
eÔ¨Äective equivalence relation, 44
Ehresmann-Kennison Theorem, 127
Eilenberg-Moore comparison functor, 90
element, 22
element free, 3
element of, 17
empty path, 57
epi, 18
epi-mono factorization, 159
epic, 18
epimorphic family, 194
epimorphism, 18, 45, 210
equalizer, 34
equational theory, 57
equivalence, 11
equivalence pair, 250
equivalence relation, 34, 43, 75
equivalent, 20
essentially small, 220
evaluation map, 64
exact category, 44, 206
exact functor, 206
exponential, 156
factorization system, 162
factors through, 19
faithful, 10
Ô¨Åber, 69, 193
Ô¨Åber product, 26
Ô¨Ålter, 245
Ô¨Åltered, 136
Ô¨Åltered colimit, 57, 136
Ô¨Åltered diagram, 57
Ô¨Ånite diagram, 30
Ô¨Ånite products, 33
Ô¨Ånite-sum sketch, 241
Ô¨Ånitely complete, 32
Ô¨Çabby, 84
forgetful functor, 10
FP theory of groups, 123
FP-category, 123
FP-sketch, 124
free, 90
free triple, 266
Freyd‚Äôs Embedding Theorem, 209
FS-sketch, 241
FS-theory, 242
full, 2, 10
function, 7
functor, 10
functor category, 15, 63
G-coalgebra, 90
generator, 198, 255
generic, 243
generic element, 18
geometric morphism, 71, 180, 187, 202
geometric sketch, 242
geometric theory, 243

286
MICHAEL BARR AND CHARLES WELLS
germ, 69
Giraud sieve, 203
Giraud topology, 203
global element, 20
global section, 210
global support, 155, 210
Godement‚Äôs rules, 17
graph, 7, 30
Grothendieck topology, 194
Grothendieck topos, 199, 202
group, 34, 123
groupoid, 54
Grp, 1, 42
has Ô¨Ånite limits, 33
has products, 33
Heyting algebra, 165
homomorphism, 30
homset, 1
IAC, 210
idempotent, 169
identity, 1
identity property, 8
image, 159, 163
index graph, 30
inÔ¨Çationary, 169
initial object, 4
injective, 65
internal axiom of choice, 210
internal functor, 189
inverse, 4
isomorphic, 11
isomorphism, 4
j-closed, 170
j-dense, 170
j-separated, 174
jointly monic, 39, 250
Kan extension, 52
kernel pair, 35
Kleisli category, 88
LE-category, 135
LE-functor, 135
LE-sketch, 135
LE-theory, 135
left adjoint, 46
left C-object, 189
left exact, 33, 36
left exact cotriple, 181
left exact triple, 184
left Kan extension, 52
lex total, 202
lifting, 258
limit, 31
limit slice, 212
Linton‚Äôs Theorem, 262
locally small, 1
logical, 151
logical category, 210
map, 1
model, 125, 238
model category, 244
monic, 18
mono, 18
mono square, 72
monomorphism, 18
morphism, 1, 124
morphism of sites, 194
morphism of triples, 110
n-divisible, 241
natural equivalence, 14
natural number object, 222
natural transformation, 14, 23, 31
near exact, 206
NNO, 222
nodes, 30
object, 1
objects, 30
opÔ¨Åbration, 193
opposite category, 4
order-preserving, 169

TOPOSES, TRIPLES AND THEORIES
287
orthodox semigroup, 249
over, 3
parallel pair, 93
Par¬¥e‚Äôs Theorem, 147
path, 57
path category, 57
PE-structure, 221
Peano property, 227
Peano system, 222
point, 243
pointed, 108
pointed endomorphism structure, 221
points, 233
pointwise construction of adjoints, 48
power object, 62, 142, 147
powerful epi, 211
powerset, 11
pre-FS-theory, 241
pre-geometric theory, 243
Precise Tripleability Theorem, 100
preorder, 9
preregular theory, 238
preserves, 10, 36
presheaf, 66, 195
pretopos, 206
product, 32
product of categories, 3
product projection, 32
projections, 12, 32
projective, 255
projective generator, 255
projective sketch, 124
PTT, 101
pullback, 26
pullback diagram, 26
pun, 121, 192
quotient category, 9
reÔ¨Ånes, 194
reÔ¨Çective, 55
reÔ¨Çector, 55
reÔ¨Çects, 10, 37
reÔ¨Çects isomorphisms, 92
reÔ¨Çexive, 97
reÔ¨Çexive coequalizer, 97
regular generator, 198
regular category, 41
regular epimorphic, 245
regular epimorphic family, 195
regular epimorphism, 41
regular functor, 206
regular generator, 255
regular image, 263
regular monomorphism, 41
regular projective, 255
regular projective generating set, 245
regular projective generator, 245, 255
regular ring, 239
regular sketch, 238
regular theory, 239
regularly co-well-powered, 264
representable functor, 24
restriction map, 66
retraction, 19
right exact, 41
S-separated, 195
S-sheaf, 195
saturated, 194, 203
section of, 210
sections, 66
separable, 229
separated object, 174
separator, 251
Set, 1
set of sorts, 133
sheaf, 66, 176
sheaf of sections, 66
sheaÔ¨ÅÔ¨Åcation, 70, 176
sheaves, 84
Sierpinski space, 165
sieve, 194, 238
simplicial object, 193
single-sorted, 133

288
MICHAEL BARR AND CHARLES WELLS
singleton, 75
site, 194
skeleton, 9
sketch, 124
slice, 149
slice category, 3
small, 1
solution set condition, 50
source, 1, 30
split, 93
split opÔ¨Åbration, 193
split discrete opÔ¨Åbration, 190
split epi, 210
split epimorphism, 18
split monomorphism, 19
SS, 210
stable, 195
stable images, 210
stable sups, 210
stable under pullback, 42
stalk, 69
standard, 197, 229
strict, 161
strict initial object, 198
structure map, 88
subcanonical, 197
subcategory, 2
subfunctor, 22
subobject, 20
subobject classiÔ¨Åer, 74
sum, 40
support, 210
supports split, 210
T-algebra, 88
target, 1, 30
terminal object, 4
theory, vii, 238
Top, 2
topology, 169
topos, vii, 63, 142
torsion theories , 171
total, 202
total space, 69
transpose, 47
triple, vii, 82
tripleable, 92, 100, 133
twisted arrow category of, 8
U-contractible equivalence pair, 250
ultraÔ¨Ålter, 245
ultraproduct, 245
under, 5
underlying graph, 30
underlying graph functor, 30
underlying set functor, 10
underlying sketch, 125
union, 160
unique lifting property, 190
unit, 47
universal, 194, 195
universal arrow, 50
universal element, 24
upper semilattice, 14
VTT, 108
Vulgar Tripleability Theorem, 108
weak universal arrow, 50
well powered, 56
well-pointed, 207
Yoneda embedding, 22, 23, 202
Yoneda map, 22, 23

TOPOSES, TRIPLES AND THEORIES
289
This article may be accessed from http://www.tac.mta.ca/tac/reprints or by anony-
mous ftp at ftp:/ / ftp.tac.mta.ca/ pub/ tac/ html/ tac/ reprints/ articles/ 1/
tr1.{dvi,ps}

REPRINTS IN THEORY AND APPLICATIONS OF CATEGORIES will disseminate articles from the
body of important literature in Category Theory and closely related subjects which have never been
published in journal form, or which have been published in journals whose narrow circulation makes
access very diÔ¨Écult. Publication in ‚ÄòReprints in Theory and Applications of Categories‚Äô will permit free
and full dissemination of such documents over the Internet.
Articles appearing have been critically reviewed by the Editorial Board of Theory and Applications
of Categories. Only articles of lasting signiÔ¨Åcance are considered for publication.
Distribution is via the Internet tools WWW/ftp.
Subscription information. Individual subscribers receive (by e-mail) abstracts of articles
as they are published.
To subscribe, send e-mail to tac@mta.ca including a full name and postal
address.
For institutional subscription, send enquiries to the Managing Editor, Robert Rosebrugh,
rrosebrugh@mta.ca.
Selection of reprints. After obtaining written permission from any copyright holder, any three
TAC Editors may propose a work for TAC Reprints to the Managing Editor. The proposal will be reported
to all Editors. The Managing Editor may either accept the proposal or require that the Editors vote on
it. Before such a vote, the author, title and original publication data will be circulated to Editors. If a
2/3 majority of those TAC Editors responding within one month agrees, the work will be accepted for
TAC Reprints. After a work is accepted, the author or proposer must provide to TAC either a usable
TeX source or a PDF document acceptable to the Managing Editor that reproduces a typeset version.
Up to Ô¨Åve pages of corrections, commentary and forward pointers may be appended by the author.
When submitting commentary, authors should read and follow the Format for submission of Theory and
Applications of Categories at http://www.tac.mta.ca/tac/.
Editorial board.
Managing editor. Robert Rosebrugh, Mount Allison University: rrosebrugh@mta.ca
TEXnical editor. Michael Barr, McGill University: barr@barrs.org
Transmitting editors.
Lawrence Breen, Universit¬¥e Paris 13: breen@math.univ-paris13.fr
Ronald Brown, University of North Wales: r.brown@bangor.ac.uk
Jean-Luc Brylinski, Pennsylvania State University: jlb@math.psu.edu
Aurelio Carboni, Universit`a dell Insubria: aurelio.carboni@uninsubria.it
Valeria de Paiva, Xerox Palo Alto Research Center: paiva@parc.xerox.com
Martin Hyland, University of Cambridge: M.Hyland@dpmms.cam.ac.uk
P. T. Johnstone, University of Cambridge: ptj@dpmms.cam.ac.uk
G. Max Kelly, University of Sydney: maxk@maths.usyd.edu.au
Anders Kock, University of Aarhus: kock@imf.au.dk
Stephen Lack, University of Western Sydney: s.lack@uws.edu.au
F. William Lawvere, State University of New York at BuÔ¨Äalo: wlawvere@acsu.buffalo.edu
Jean-Louis Loday, Universit¬¥e de Strasbourg: loday@math.u-strasbg.fr
Ieke Moerdijk, University of Utrecht: moerdijk@math.uu.nl
Susan NieÔ¨Åeld, Union College: niefiels@union.edu
Robert Par¬¥e, Dalhousie University: pare@mathstat.dal.ca
Jiri Rosicky, Masaryk University: rosicky@math.muni.cz
James StasheÔ¨Ä, University of North Carolina: jds@math.unc.edu
Ross Street, Macquarie University: street@math.mq.edu.au
Walter Tholen, York University: tholen@mathstat.yorku.ca
Myles Tierney, Rutgers University: tierney@math.rutgers.edu
Robert F. C. Walters, University of Insubria: robert.walters@uninsubria.it
R. J. Wood, Dalhousie University: rjwood@mathstat.dal.ca

