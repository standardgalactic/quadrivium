
Microelectronic Circuits

THE OXFORD SERIES IN ELECTRICAL AND COMPUTER ENGINEERING
Adel S. Sedra, Series Editor
Allen and Holberg, CMOS Analog Circuit Design, 3rd edition
Bobrow, Elementary Linear Circuit Analysis, 2nd edition
Bobrow, Fundamentals of Electrical Engineering, 2nd edition
Campbell, Fabrication Engineering at the Micro- and Nanoscale, 4th edition
Chen, Digital Signal Processing
Chen, Linear System Theory and Design, 4th edition
Chen, Signals and Systems, 3rd edition
Comer, Digital Logic and State Machine Design, 3rd edition
Comer, Microprocessor-Based System Design
Cooper and McGillem, Probabilistic Methods of Signal and System Analysis, 3rd edition
Dimitrijev, Principles of Semiconductor Device, 2nd edition
Dimitrijev, Understanding Semiconductor Devices
Fortney, Principles of Electronics: Analog & Digital
Franco, Electric Circuits Fundamentals
Ghausi, Electronic Devices and Circuits: Discrete and Integrated
Guru and Hiziroğlu, Electric Machinery and Transformers, 3rd edition
Houts, Signal Analysis in Linear Systems
Jones, Introduction to Optical Fiber Communication Systems
Krein, Elements of Power Electronics, 2nd Edition
Kuo, Digital Control Systems, 3rd edition
Lathi, Linear Systems and Signals, 3rd edition
Lathi and Ding, Modern Digital and Analog Communication Systems, 5th edition
Lathi, Signal Processing and Linear Systems
Martin, Digital Integrated Circuit Design
Miner, Lines and Electromagnetic Fields for Engineers
Mitra, Signals and Systems
Parhami, Computer Architecture
Parhami, Computer Arithmetic, 2nd edition
Roberts and Sedra, SPICE, 2nd edition
Roberts, Taenzler, and Burns, An Introduction to Mixed-Signal IC Test and Measurement, 2nd edition
Roulston, An Introduction to the Physics of Semiconductor Devices
Sadiku, Elements of Electromagnetics, 7th edition
Santina, Stubberud, and Hostetter, Digital Control System Design, 2nd edition
Sarma, Introduction to Electrical Engineering
Schaumann, Xiao, and Van Valkenburg, Design of Analog Filters, 3rd edition
Schwarz and Oldham, Electrical Engineering: An Introduction, 2nd edition

Sedra, Smith, Carusone, and Gaudet, Microelectronic Circuits, 8th edition
Stefani, Shahian, Savant, and Hostetter, Design of Feedback Control Systems, 4th edition
Tsividis, Operation and Modeling of the MOS Transistor, 3rd edition
Van Valkenburg, Analog Filter Design
Warner and Grung, Semiconductor Device Electronics
Wolovich, Automatic Control Systems
Yariv and Yeh, Photonics: Optical Electronics in Modern Communications, 6th edition
Żak, Systems and Control

EIGHTH EDITION
Microelectronic Circuits
Adel S. Sedra
University of Waterloo
Kenneth C. Smith
University of Toronto
Tony Chan Carusone
University of Toronto
Vincent Gaudet
University of Waterloo

Oxford University Press is a department of the University of Oxford. It furthers the University’s objective of excellence in research, scholarship,
and education by publishing worldwide. Oxford is a registered trade mark of Oxford University Press in the UK and certain other countries.
Published in the United States of America by Oxford University Press 198 Madison Avenue, New York, NY 10016, United States of America.
Copyright © 2020, 2015, 2010, 2004, 1998 by Oxford University Press; 1991, 1987 Holt, Rinehart, and Winston, Inc.; 1982 CBS College
Publishing
For titles covered by Section 112 of the US Higher Education Opportunity Act, please visit www.oup.com/us/he for the latest information
about pricing and alternate formats.
All rights reserved. No part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any form or by any means,
without the prior permission in writing of Oxford University Press, or as expressly permitted by law, by license, or under terms agreed with the
appropriate reproduction rights organization. Inquiries concerning reproduction outside the scope of the above should be sent to the Rights
Department, Oxford University Press, at the address above.
You must not circulate this work in any other form and you must impose this same condition on any acquirer.
Library of Congress Cataloging-in-Publication Data
Names: Sedra, Adel S., author. | Smith, Kenneth C. (Kenneth Carless), author. | Carusone, Tony Chan, author. | Gaudet, Vincent, author.
Title: Microelectronic circuits / Adel S. Sedra, University of Waterloo, Kenneth C. Smith, University of Toronto, Tony Chan Carusone,
University of Toronto, Vincent Gaudet, University of Waterloo.
Description: Eighth edition. | New York, NY: Oxford University Press, [2020] | Includes bibliographical references and index.
Identifiers: LCCN 2019017349 | ISBN 9780190853464 (acid-free paper) | ISBN 9780190853532 (ebook)
Version 5
Subjects: LCSH: Electronic circuits. | Microelectronics.
Classification: LCC TK7867 .S39 2020 | DDC 621.3815—dc23
LC record available at https://lccn.loc.gov/2019017349
Printing number: 9 8 7 6 5 4 3 2 1
Printed by LSC Communications, United States of America

  1
  2
  3
  4
  5
  6
  7
  8
  9
10
11
12
13
14
15
16
17
18
CONTENTS IN BRIEF
Tables
Historical Notes
Preface
PART I DEVICES AND BASIC CIRCUITS
Signals and Amplifiers
Operational Amplifiers
Semiconductors
Diodes
MOS Field-Effect Transistors (MOSFETs)
Bipolar Junction Transistors (BJTs)
Transistor Amplifiers
PART II ANALOG INTEGRATED CIRCUITS
Building Blocks of Integrated-Circuit Amplifiers
Differential and Multistage Amplifiers
Frequency Response
Feedback
Output Stages and Power Amplifiers
Operational-Amplifier Circuits
Filters
Oscillators
PART III DIGITAL INTEGRATED CIRCUITS
CMOS Digital Logic Circuits
Digital Design: Power, Speed, and Area
Memory and Clocking Circuits
Appendices
Summary Tables

Index

1.1
1.2
1.3
1.4
1.4.1
1.4.2
1.4.3
1.4.4
1.4.5
1.4.6
1.4.7
1.4.8
1.5
1.5.1
1.5.2
1.5.3
1.5.4
1.5.5
1.5.6
1.6
1.6.1
1.6.2
1.6.3
1.6.4
CONTENTS
Tables
Historical Notes
Preface
PART I DEVICES AND BASIC CIRCUITS
1 Signals and Amplifiers
Introduction
Signals
Frequency Spectrum of Signals
Analog and Digital Signals
Amplifiers
Signal Amplification
Amplifier Circuit Symbol
Voltage Gain
Power Gain and Current Gain
Expressing Gain in Decibels
The Amplifier Power Supplies
Amplifier Saturation
Symbol Convention
Circuit Models for Amplifiers
Voltage Amplifiers
Cascaded Amplifiers
Other Amplifier Types
Relationships between the Four Amplifier Models
Determining Ri and Ro
Unilateral Models
Frequency Response of Amplifiers
Measuring the Amplifier Frequency Response
Amplifier Bandwidth
Evaluating the Frequency Response of Amplifiers
Single-Time-Constant Networks

1.6.5
2.1
2.1.1
2.1.2
2.1.3
2.2
2.2.1
2.2.2
2.2.3
2.2.4
2.3
2.3.1
2.3.2
2.3.3
2.3.4
2.4
2.4.1
2.4.2
2.5
2.5.1
2.5.2
2.5.3
2.6
2.6.1
2.6.2
2.6.3
2.7
2.7.1
2.7.2
2.8
2.8.1
2.8.2
Classification of Amplifiers Based on Frequency Response
Summary
Problems
2 Operational Amplifiers
Introduction
The Ideal Op Amp
The Op-Amp Terminals
Function and Characteristics of the Ideal Op Amp
Differential and Common-Mode Signals
The Inverting Configuration
The Closed-Loop Gain
Effect of Finite Open-Loop Gain
Input and Output Resistances
An Important Application: The Weighted Summer
The Noninverting Configuration
The Closed-Loop Gain
Effect of Finite Open-Loop Gain
Input and Output Resistance
The Voltage Follower
Difference Amplifiers
A Single-Op-Amp Difference Amplifier
A Superior Circuit: The Instrumentation Amplifier
Integrators and Differentiators
The Inverting Configuration with General Impedances
The Inverting Integrator
The Op-Amp Differentiator
DC Imperfections
Offset Voltage
Input Bias and Offset Currents
Effect of VOS and IOS on the Operation of the Inverting Integrator
Effect of Finite Open-Loop Gain and Bandwidth on Circuit Performance
Frequency Dependence of the Open-Loop Gain
Frequency Response of Closed-Loop Amplifiers
Large-Signal Operation of Op Amps
Output Voltage Saturation
Output Current Limits

2.8.3
3.1
3.2
3.3
3.3.1
3.3.2
3.3.3
3.4
3.4.1
3.4.2
3.5
3.5.1
3.5.2
3.5.3
3.6
3.6.1
3.6.2
4.1
4.1.1
4.1.2
4.1.3
4.2
4.2.1
4.2.2
4.2.3
4.3
4.3.1
4.3.2
4.3.3
Slew Rate
Summary
Problems
3 Semiconductors
Introduction
Intrinsic Semiconductors
Doped Semiconductors
Current Flow in Semiconductors
Drift Current
Diffusion Current
Relationship between D and μ
The pn Junction
Physical Structure
Operation with Open-Circuit Terminals
The pn Junction with an Applied Voltage
Qualitative Description of Junction Operation
The Current–Voltage Relationship of the Junction
Reverse Breakdown
Capacitive Effects in the pn Junction
Depletion or Junction Capacitance
Diffusion Capacitance
Summary
Problems
4 Diodes
Introduction
The Ideal Diode
Current–Voltage Characteristic
The Rectifier
Limiting and Protection Circuits
Terminal Characteristics of Junction Diodes
The Forward-Bias Region
The Reverse-Bias Region
The Breakdown Region
Modeling the Diode
The Exponential Model
Graphical Analysis Using the Exponential Model
Iterative Analysis Using the Exponential Model

4.3.4
4.3.5
4.3.6
4.3.7
4.4
4.5
4.6
4.6.1
4.6.2
4.6.3
4.6.4
4.6.5
4.7
4.7.1
4.7.2
4.7.3
4.7.4
4.7.5
5.1
5.1.1
5.1.2
5.1.3
5.1.4
5.1.5
5.1.6
5.1.7
5.1.8
5.2
5.2.1
5.2.2
5.2.3
5.2.4
The Need for Rapid Analysis
The Constant-Voltage-Drop Model
The Ideal-Diode Model
Operation in the Reverse Breakdown Region
The Small-Signal Model
Voltage Regulation
Rectifier Circuits
The Half-Wave Rectifier
The Full-Wave Rectifier
The Bridge Rectifier
The Rectifier with a Filter Capacitor—The Peak Rectifier
Precision Half-Wave Rectifier—The Superdiode
Other Diode Applications
The Clamped Capacitor and Bootstrapping
The Voltage Doubler
Varactors
Photodiodes
Light-Emitting Diodes (LEDs)
Summary
Problems
5 MOS Field-Effect Transistors (MOSFETs)
Introduction
Device Structure and Physical Operation
Device Structure
Operation with Zero Gate Voltage
Creating a Channel for Current Flow
Applying a Small vDS
Operation as vDS Is Increased
Operation for vDS ≥ vOV: Channel Pinch-Off and Current Saturation
The p-Channel MOSFET
Complementary MOS or CMOS
Current–Voltage Characteristics
Circuit Symbol
The iD–vDS Characteristics
The iD–vGS Characteristic
Finite Output Resistance in Saturation

5.2.5
5.3
5.4
5.4.1
5.4.2
5.4.3
5.4.4
5.4.5
5.4.6
6.1
6.1.1
6.1.2
6.1.3
6.1.4
6.1.5
6.2
6.2.1
6.2.2
6.2.3
6.2.4
6.3
6.4
6.4.1
6.4.2
7.1
7.1.1
7.1.2
7.1.3
7.1.4
Characteristics of the p-Channel MOSFET
MOSFET Circuits at DC
Technology Scaling (Moore’s Law) and Other Topics
Technology Scaling
Subthreshold Conduction and Leakage Currents
The Role of the Substrate—The Body Effect
Temperature Effects
Breakdown and Input Protection
The Depletion-Type MOSFET
Summary
Problems
6 Bipolar Junction Transistors (BJTs)
Introduction
Device Structure and Physical Operation
Simplified Structure and Modes of Operation
Operation of the npn Transistor in the Active Mode
Structure of Actual Transistors
Operation in the Saturation Mode
The pnp Transistor
Current–Voltage Characteristics
Circuit Symbols and Conventions
Graphical Representation of Transistor Characteristics
Dependence of iC on the Collector Voltage—The Early Effect
An Alternative Form of the Common-Emitter Characteristics
BJT Circuits at DC
Transistor Breakdown and Temperature Effects
Transistor Breakdown
Dependence of β on IC and Temperature
Summary
Problems
7 Transistor Amplifiers
Introduction
Basic Principles
The Basis for Amplifier Operation
Obtaining a Voltage Amplifier
The Voltage-Transfer Characteristic (VTC)
Obtaining Linear Amplification by Biasing the Transistor

7.1.5
7.1.6
7.1.7
7.2
7.2.1
7.2.2
7.2.3
7.3
7.3.1
7.3.2
7.3.3
7.3.4
7.3.5
7.3.6
7.3.7
7.3.8
7.4
7.4.1
7.4.2
7.5
7.5.1
7.5.2
7.5.3
7.5.4
7.5.5
7.5.6
8.1
8.2
8.2.1
8.2.2
The Small-Signal Voltage Gain
Determining the VTC by Graphical Analysis
Deciding on a Location for the Bias Point Q
Small-Signal Operation and Models
The MOSFET Case
The BJT Case
Summary Tables
Basic Configurations
The Three Basic Configurations
Characterizing Amplifiers
The Common-Source (CS) and Common-Emitter (CE) Amplifiers
The Common-Source (Common-Emitter) Amplifier with a Source (Emitter)
Resistance
The Common-Gate (CG) and the Common-Base (CB) Amplifiers
The Source and Emitter Followers
Summary Tables and Comparisons
When and How to Include the Output Resistance ro
Biasing
The MOSFET Case
The BJT Case
Discrete-Circuit Amplifiers
A Common-Source (CS) Amplifier
A Common-Emitter Amplifier
A Common-Emitter Amplifier with an Emitter Resistance Re
A Common-Base (CB) Amplifier
An Emitter Follower
The Amplifier Frequency Response
Summary
Problems
PART II ANALOG INTEGRATED CIRCUITS
8 Building Blocks of Integrated-Circuit Amplifiers
Introduction
IC Design Philosophy
IC Biasing: Current Sources and Current Mirrors
The Basic MOSFET Current Source
The MOS Current Mirror

8.2.3
8.2.4
8.2.5
8.3
8.3.1
8.3.2
8.3.3
8.3.4
8.4
8.4.1
8.4.2
8.4.3
8.4.4
8.4.5
8.5
8.5.1
8.5.2
8.5.3
8.6
8.7
8.7.1
8.7.2
8.7.3
8.7.4
9.1
9.1.1
9.1.2
9.1.3
9.1.4
9.1.5
9.1.6
9.2
9.2.1
MOS Current-Steering Circuits
BJT Circuits
Small-Signal Operation of Current Mirrors
The Basic Gain Cell
The CS and CE Amplifiers with Current-Source Loads
The Intrinsic Gain
Effect of the Output Resistance of the Current-Source Load
Increasing the Gain of the Basic Cell
The Common-Gate and Common-Base Amplifiers as Current Buffers
The CG Circuit
Output Resistance of a CS Amplifier with a Source Resistance
The Body Effect in the CG Amplifier
The CB Circuit
Output Resistance of the Emitter-Degenerated CE Amplifier
The Cascode Amplifier
The MOS Cascode Amplifier
Distribution of Voltage Gain in a Cascode Amplifier
The BJT Cascode
The IC Source Follower
Current-Mirror Circuits with Improved Performance
The Cascode MOS Mirror
The Wilson BJT Current Mirror
The Wilson MOS Mirror
The Widlar Current Source
Summary
Problems
9 Differential and Multistage Amplifiers
Introduction
The MOS Differential Pair
Operation with a Common-Mode Input Voltage
Operation with a Differential Input Voltage
Large-Signal Operation
Small-Signal Operation
The Differential Amplifier with Current-Source Loads
Cascode Differential Amplifier
The BJT Differential Pair
Basic Operation

9.2.2
9.2.3
9.2.4
9.3
9.3.1
9.3.2
9.4
9.4.1
9.4.2
9.4.3
9.4.4
9.5
9.5.1
9.5.2
9.5.3
9.5.4
9.5.5
9.6
9.6.1
9.6.2
10.1
10.1.1
10.1.2
10.2
10.2.1
10.2.2
10.2.3
10.2.4
10.2.5
10.3
10.3.1
10.3.2
10.3.3
Input Common-Mode Range
Large-Signal Operation
Small-Signal Operation
Common-Mode Rejection
The MOS Case
The BJT Case
DC Offset
Input Offset Voltage of the MOS Differential Amplifier
Input Offset Voltage of the Bipolar Differential Amplifier
Input Bias and Offset Currents of the Bipolar Differential Amplifier
A Concluding Remark
The Differential Amplifier with a Current-Mirror Load
Differential-to-Single-Ended Conversion
The Current-Mirror-Loaded MOS Differential Pair
Differential Gain of the Current-Mirror-Loaded MOS Pair
The Bipolar Differential Pair with a Current-Mirror Load
Common-Mode Gain and CMRR
Multistage Amplifiers
A Two-Stage CMOS Op Amp
A Bipolar Op Amp
Summary
Problems
10 Frequency Response
Introduction
High-Frequency Transistor Models
The MOSFET
The BJT
High-Frequency Response of CS and CE Amplifiers
Frequency Response of the Low-Pass Single-Time-Constant Circuit
The Common-Source Amplifier
Frequency Response of the CS Amplifier When Rsig Is Low
The Common-Emitter Amplifier
Miller’s Theorem
The Method of Open-Circuit Time Constants
The High-Frequency Gain Function
Determining the 3-dB Frequency fH
Applying the Method of Open-Circuit Time Constants to the CS Amplifier

10.3.4
10.4
10.4.1
10.4.2
10.4.3
10.5
10.5.1
10.5.2
10.6
10.6.1
10.6.2
10.7
10.7.1
10.7.2
10.7.3
10.8
10.8.1
10.8.2
10.8.3
10.8.4
11.1
11.1.1
11.1.2
11.1.3
11.1.4
11.1.5
11.2
11.2.1
11.2.2
11.2.3
11.3
11.3.1
Application of the Method of Open-Circuit Time Constants to the CE Amplifier
High-Frequency Response of Common-Gate and Cascode Amplifiers
High-Frequency Response of the CG Amplifier
High-Frequency Response of the MOS Cascode Amplifier
High-Frequency Response of the Bipolar Cascode Amplifier
High-Frequency Response of Source and Emitter Followers
The Source-Follower Case
The Emitter-Follower Case
High-Frequency Response of Differential Amplifiers
Analysis of the Resistively Loaded MOS Amplifier
Frequency Response of the Current-Mirror-Loaded MOS Differential Amplifier
Other Wideband Amplifier Configurations
Obtaining Wideband Amplification by Source or Emitter Degeneration
Increasing fH by Buffering the Input Signal Source
Increasing fH by Eliminating the Miller Effect Using a CG or a CB Configuration with
an Input Buffer
Low-Frequency Response of Discrete-Circuit CS and CE Amplifiers
Frequency Response of the High-Pass Single-Time-Constant Circuit
The CS Amplifier
The Method of Short-Circuit Time Constants
The CE Amplifier
Summary
Problems
11 Feedback
Introduction
The General Feedback Structure
Signal-Flow Diagram
The Closed-Loop Gain
The Loop Gain
The Ideal Case of Infinite Open-Loop Gain A
Summary
Some Properties of Negative Feedback
Gain Desensitivity
Bandwidth Extension
Reduction in Nonlinear Distortion
The Feedback Voltage Amplifier
The Series–Shunt Feedback Topology

11.3.2
11.3.3
11.3.4
11.4
11.4.1
11.4.2
11.5
11.5.1
11.5.2
11.5.3
11.5.4
11.6
11.7
11.8
11.8.1
11.8.2
11.8.3
11.8.4
11.8.5
11.9
11.9.1
11.9.2
11.9.3
11.10
11.10.1
11.10.2
11.10.3
12.1
12.2
12.2.1
12.2.2
12.2.3
12.2.4
Examples of Series–Shunt Feedback Amplifiers
Analysis of the Feedback Voltage Amplifier
A Final Remark
Systematic Analysis of Feedback Voltage Amplifiers
The Ideal Case
The Practical Case
Other Feedback-Amplifier Types
Basic Principles
The Feedback Transconductance Amplifier (Series–Series)
The Feedback Transresistance Amplifier (Shunt–Shunt)
The Feedback Current Amplifier (Shunt–Series)
Summary of the Feedback-Analysis Method
The Stability Problem
Effect of Feedback on the Amplifier Poles
Stability and Pole Location
Poles of the Feedback Amplifier
Amplifiers with a Single-Pole Response
Amplifiers with a Two-Pole Response
Amplifiers with Three or More Poles
Stability Study Using Bode Plots
Gain and Phase Margins
Effect of Phase Margin on Closed-Loop Response
An Alternative Approach for Investigating Stability
Frequency Compensation
Theory
Implementation
Miller Compensation and Pole Splitting
Summary
Problems
12 Output Stages and Power Amplifiers
Introduction
Classification of Output Stages
Class A Output Stage
Transfer Characteristic
Signal Waveforms
Power Dissipation
Power-Conversion Efficiency

12.3
12.3.1
12.3.2
12.3.3
12.3.4
12.4
12.4.1
12.4.2
12.5
12.5.1
12.5.2
12.5.3
12.5.4
12.6
12.6.1
12.6.2
12.6.3
12.7
12.7.1
12.7.2
12.7.3
13.1
13.1.1
13.1.2
13.1.3
13.1.4
13.1.5
13.1.6
13.1.7
13.1.8
13.2
13.2.1
13.2.2
Class B Output Stage
Circuit Operation
Transfer Characteristic
Power-Conversion Efficiency
Power Dissipation
Class AB Output Stage
Circuit Operation
Output Resistance
Biasing the Class AB Circuit
Biasing Using Diodes
Biasing Using the VBE Multiplier
Use of Input Emitter Followers
Use of Compound Devices
CMOS Output Stages
The Source Follower
An Alternative Using a Common-Source Transistor
Class D Power Amplifiers
Power Transistors
Packages and Heat Sinks
Power BJTs
Power MOSFETs
Summary
Problems
13 Operational-Amplifier Circuits
Introduction
The Two-Stage CMOS Op Amp
The Circuit
Input Common-Mode Range and Output Swing
DC Voltage Gain
Common-Mode Rejection Ratio (CMRR)
Frequency Response
Slew Rate
Power-Supply Rejection Ratio (PSRR)
Design Trade-Offs
The Folded-Cascode CMOS OpAmp
The Circuit
Input Common-Mode Range and Output Swing

13.2.3
13.2.4
13.2.5
13.2.6
13.2.7
13.3
13.3.1
13.3.2
13.3.3
13.3.4
13.3.5
14.1
14.1.1
14.1.2
14.1.3
14.1.4
14.1.5
14.2
14.2.1
14.2.2
14.2.3
14.2.4
14.2.5
14.2.6
14.2.7
14.3
14.3.1
14.3.2
14.4
14.4.1
14.4.2
14.4.3
14.4.4
Voltage Gain
Frequency Response
Slew Rate
Increasing the Input Common-Mode Range: Rail-to-Rail Input Operation
Increasing the Output Voltage Range: The Wide-Swing Current Mirror
BJT Op-Amp Techniques
Bias Design
Design of the Input Stage
Common-Mode Feedback to Control the DC Voltage at the Output of the Input Stage
The 741 Op Amp Input Stage
Output-Stage Design for Near Rail-to-Rail Output Swing
Summary
Problems
14 Filters
Introduction
Basic Filter Concepts
Filter Transmission
Filter Types
Filter Specification
Obtaining the Filter Transfer Function: Filter Approximation
Obtaining the Filter Circuit: Filter Realization
The Filter Transfer Function
The Filter Order
The Filter Poles
The Filter Transmission Zeros
All-Pole Filters
Factoring T(s) into the Product of First-Order and Second-Order Functions
First-Order Filters
Second-Order Filter Functions
Butterworth and Chebyshev Filters
The Butterworth Filter
The Chebyshev Filter
Second-Order Passive Filters Based on the LCR Resonator
The Resonator Poles
Realization of Transmission Zeros
Realization of the Low-Pass Function
Realization of the Bandpass Function

14.4.5
14.5
14.5.1
14.5.2
14.5.3
14.6
14.6.1
14.6.2
14.6.3
14.6.4
14.7
14.7.1
14.7.2
14.7.3
14.8
14.8.1
14.8.2
14.8.3
14.8.4
15.1
15.1.1
15.1.2
15.1.3
15.1.4
15.2
15.2.1
15.2.2
15.2.3
15.2.4
15.2.5
15.3
15.3.1
15.3.2
Realization of the Notch Functions
Second-Order Active Filters Based on Inductance Simulation
The Antoniou Inductance-Simulation Circuit
The Op Amp–RC Resonator
Realization of the Various Filter Types
Second-Order Active Filters Based on the Two-Integrator Loop
Derivation of the Two-Integrator-Loop Biquad
Circuit Implementation
An Alternative Two-Integrator-Loop Biquad Circuit
Final Remarks
Second Order Active Filters Using a Single Op Amp
Bandpass Circuit
High-Pass Circuit
Low-Pass Circuit
Switched-Capacitor Filters
The Basic Principle
Switched-Capacitor Integrator
Switched-Capacitor Biquad Filter
Final Remarks
Summary
Problems
15 Oscillators
Introduction
Basic Principles of Sinusoidal Oscillators
The Oscillator Feedback Loop
The Oscillation Criterion
Analysis of Oscillator Circuits
Nonlinear Amplitude Control
Op Amp–RC Oscillator Circuits
The Wien-Bridge Oscillator
The Phase-Shift Oscillator
The Quadrature Oscillator
The Active-Filter-Tuned Oscillator
A Final Remark
LC and Crystal Oscillators
The Colpitts and Hartely Oscillators
The Cross-Coupled LC Oscillator

15.3.3
15.4
15.4.1
15.4.2
15.4.3
15.4.4
15.4.5
15.4.6
15.4.7
15.4.8
16.1
16.1.1
16.1.2
16.1.3
16.1.4
16.1.5
16.1.6
16.1.7
16.1.8
16.1.9
16.2
16.2.1
16.2.2
16.2.3
16.2.4
16.3
16.3.1
16.3.2
16.3.3
Crystal Oscillators
Nonlinear Oscillators or Function Generators
The Bistable Feedback Loop
Transfer Characteristic of the Bistable Circuit
Triggering the Bistable Circuit
The Bistable Circuit as a Memory Element
A Bistable Circuit with Noninverting Transfer Characteristic
Generating Square Waveforms Using a Bistable Circuit
Generating Triangular Waveforms
Generation of Sine Waves
Summary
Problems
PART III DIGITAL INTEGRATED CIRCUITS
16 CMOS Digital Logic Circuits
Introduction
CMOS Logic-Gate Circuits
Switch-Level Transistor Model
The CMOS Inverter
General Structure of CMOS Logic
The Two-Input NOR Gate
The Two-Input NAND Gate
A Complex Gate
Obtaining the PUN from the PDN and Vice Versa
The Exclusive-OR Function
Summary of the Synthesis Method
Digital Logic Inverters
The Voltage-Transfer Characteristic (VTC)
Noise Margins
The Ideal VTC
Inverter Implementation
The CMOS Inverter
Circuit Operation
The Voltage-Transfer Characteristic (VTC)
The Situation When QN and QP Are Not Matched
Summary
Problems

17.1
17.1.1
17.1.2
17.1.3
17.2
17.2.1
17.2.2
17.2.3
17.2.4
17.3
17.3.1
17.3.2
17.4
17.4.1
17.4.2
17.4.3
17.4.4
17.4.5
18.1
18.1.1
18.1.2
18.1.3
18.2
18.2.1
18.2.2
18.2.3
18.2.4
18.2.5
18.3
18.3.1
18.3.2
17 Digital Design: Power, Speed, and Area
Introduction
Dynamic Operation of the CMOS Inverter
Propagation Delay
Determining the Propagation Delay of the CMOS Inverter
Determining the Equivalent Load Capacitance C
Transistor Sizing
Inverter Sizing
Transistor Sizing in CMOS Logic Gates
Effects of Fan-In and Fan-Out on Propagation Delay
Driving a Large Capacitance
Power Dissipation
Sources of Power Dissipation
Power–Delay and Energy–Delay Products
Implications of Technology Scaling: Issues in Deep-Submicron Design
Silicon Area
Scaling Implications
Temperature, Voltage, and Process Variations
Wiring: The Interconnect
Digital Design in Modern Technologies
Summary
Problems
18 Memory and Clocking Circuits
Introduction
The Transmission Gate
Operation with NMOS Transistors as Switches
Restoring the Value of VOH to VDD
The Use of CMOS Transmission Gates as Switches
Latches and Flip-Flops
The Latch
The SR Flip-Flop
CMOS Implementation of SR Flip-Flops
A Simpler CMOS Implementation of the Clocked SR Flip-Flop
D Flip-Flop Circuits
Random-Access Memory (RAM) Cells
Static Memory (SRAM) Cell
Dynamic Memory (DRAM) Cell

18.3.3
18.4
18.4.1
18.4.2
18.4.3
18.4.4
A.
B.
C.
D.
E.
F.
G.
H.
I.
J.
K.
Flash Memory
Ring Oscillators and Special-Purpose Circuits
Ring Oscillators and Other Pulse-Generation Circuits
The Sense Amplifier
The Row-Address Decoder
The Column-Address Decoder
Summary
Problems
Appendices
VLSI Fabrication Technology
SPICE Device Models and Design with Simulation Examples
Two-Port Network Parameters
Some Useful Network Theorems
Single-Time-Constant Circuits
s-Domain Analysis: Poles, Zeros, and Bode Plots
Comparison of the MOSFET and the BJT
Filter Design Material
Bibliography
Standard Resistance Values and Unit Prefixes
Typical Parameter Values for IC Devices Fabricated in CMOS and Bipolar Processes
Summary Tables
Index

TABLES
REFERENCE AND STUDY
Table 1.1
The Four Amplifier Types
Table 1.2
Frequency Response of STC Networks
Table 2.1
Characteristics of the Ideal Op Amp
Table 3.1
Summary of Important Semiconductor Equations
Table 4.1
Diode Models
Table 5.1
Regions of Operation of the Enhancement NMOS Transistor
Table 5.2
Regions of Operation of the Enhancement PMOS Transistor
Table 5.3
Implications of Device and Voltage Scaling
Table 5.4
Typical Values of CMOS Device Parameters
Table 6.1
BJT Modes of Operation
Table 6.2
Summary of the BJT Current–Voltage Relationships in the Active Mode
Table 6.3
Simplified Models for the Operation of the BJT in DC Circuits
Table 7.1
Systematic Procedure for the Analysis of Transistor Amplifier Circuits
Table 7.2
Small-Signal Models of the MOSFET
Table 7.3
Small-Signal Models of the BJT
Table 7.4
Characteristics of MOSFET Amplifiers
Table 7.5
Characteristics of BJT Amplifiers
Table 8.1
Gain Distribution in the MOS Cascode Amplifier for Various Values of RL
Table 10.1 The MOSFET High-Frequency Model
Table 10.2 The BJT High-Frequency Model
Table 11.1 Summary of the Parameters and Formulas for the Ideal Feedback-Amplifier Structure of Fig. 11.1
Table 11.2 Summary of Relationships for the Four Feedback-Amplifier Topologies
Table 16.1 Important Parameters of the VTC of the Logic Inverter
Table 16.2 Summary of Important Static Characteristics of the CMOS Logic Inverter
Table 17.1 Implications of Device and Voltage Scaling
Table 17.2 Summary of Important Speed and Power Characteristics of the CMOS Logic Inverter
Table G.3 Comparison of the MOSFET and the BJT
Table J.1
Standard Resistance Values
Table J.2
SI Unit Prefixes
Table J.3
Meter Conversion Factors

Table K.1 Typical Values of CMOS Device Parameters
Table K.2 Typical Parameter Values for BJTs

HISTORICAL NOTES
Chapter 1
Analog vs. Digital Circuit Engineers
Bode Plots
Chapter 2
The Op Amp Revolution
Integrated Instrumentation Amplifiers
Early Op Amps and Analog Computation
Chapter 3
LCDs, the Face of Electronics
Chapter 4
The Earliest Semiconductor Diode
From Indication to Illumination
Chapter 5
The First Field-Effect Devices
Gordon Moore’s Law
Chapter 6
The Invention of the BJT
Chapter 7
Shockley and Silicon Valley
Lee De Forest—A Father of the Electronics Age
Chapter 8
Solid Circuits with “Flying Wires”
The Integrated Circuit
Chapter 9
The Long-Tailed Pair
The International Solid-State Circuits Conference (ISSCC)
Chapter 10 John Milton Miller: Capacitance Multiplication
RFID: Identification at a Distance
Chapter 11 Feedback: A Historical Note
Harry Nyquist: A Diverse Electronics Fundamentalist
Chapter 12 Hans Camenzind: The Inventor of the Class D Amplifier
Chapter 13 The Genie of Analog
The Creator of the μA741: David Fullagar
Chapter 14 Analog Filters: A Brief History
Early Filter Pioneers: Cauer and Darlington
Chapter 15 The Wien-Bridge Oscillator
Oscillator Pioneers
Chapter 16 Frank Marion Wanless: The Inventor of CMOS
Chapter 17 Federico Faggin: A Pioneer in Microprocessor Electronics
Chapter 18 Flip-Flop Fact

Blinding Flash

PREFACE
Microelectronic Circuits, Eighth Edition, is intended as a text for the core courses in electronic circuits
taught to majors in electrical and computer engineering. It should also prove useful to engineers and other
professionals wishing to update their knowledge through self-study.
As was the case with the first seven editions, the objective of this book is to develop in the reader the
ability to analyze and design electronic circuits, both analog and digital, discrete and integrated. While the
application of integrated circuits is covered, emphasis is placed on transistor circuit design. This is done
because of our belief that even if the majority of those studying this book were not to pursue a career in IC
design, knowledge of what is inside the IC package would enable intelligent and innovative application of
such chips. Furthermore, with the advances in VLSI technology and design methodology, IC design itself
has become accessible to an increasing number of engineers.
Prerequisites
The prerequisite for studying the material in this book is a first course in circuit analysis. As a review, some
linear circuits material is included here in the appendices: specifically, two-port network parameters in
Appendix C; some useful network theorems in Appendix D; single-time-constant circuits in Appendix E;
and s-domain analysis in Appendix F. In addition, a number of relevant circuit analysis problems are
included at the beginning of the end-of-chapter problems section of Chapter 1. No prior knowledge of
physical electronics is assumed. All required semiconductor device physics is included, and Appendix A
provides a brief description of IC fabrication. All these appendices can be found on the book’s website.
Emphasis on Design
It has been our philosophy that circuit design is best taught by pointing out the various tradeoffs available in
selecting a circuit configuration and in selecting component values for a given configuration. The emphasis
on design has been retained in this edition. In addition to design examples, and design-oriented exercises and
end-of-chapter problems (indicated with a D), the book includes on its website an extensive appendix
(Appendix B) where a large number of simulation and design examples are presented. These emphasize the
use of SPICE, the most valuable circuit-design aid.
New to the Eighth Edition
The most important change in the eighth edition is that two new coauthors have joined our team: Tony Chan
Carusone of the University of Toronto and Vincent Gaudet of the University of Waterloo.
While maintaining the philosophy and pedagogical approach of the first seven editions, several changes have
been made to both organization and coverage. Our goal in making structural changes has been to increase
modularity and thus flexibility for the instructor, without causing disturbance to courses currently using the
seventh edition. Changes in coverage are necessitated by the continuing advances in technology which make
some topics of greater relevance and others of less interest. As well, advances in IC process technology

1.
2.
3.
4.
5.
6.
7.
8.
require that the numbers used in the examples, exercises, and end-of-chapter problems be updated to reflect
the parameters of newer generations of IC technologies (e.g., some problems utilize the parameters of the 28-
nm CMOS process). This ensures that students are acquiring a real-world perspective on technology.
The guiding principle in this revision has been to make the book easier to teach and learn from. In pursuit of
this goal, the following specific and noteworthy changes have been made:
New End-of-Chapter Problems. About half of the approximately 1400 end-of-chapter problems
are new or revised. To aid the instructor in deciding which of this large number of problems to
assign, we have carefully selected a subset that we have designated essential problems. This should
also be helpful to students using the book for self-study. The Instructor’s Solutions Manual (ISM)
has been thoroughly revised by the authors. It includes complete solutions for all exercises and end-
of-chapter problems.
Video Examples. For the first time, we are including forty video examples. For each, the problem
statement is provided and the student is directed to a video on the website to watch the authors solve
the problem. Also, a directly related end-of-chapter problem is highlighted for the student to solve
after watching the video.
Summary Tables. New and existing summary tables have been combined together and made
available on the website. This collection of tables is an important resource for the student in
studying and as a reference while doing homework problems.
Improved Organization. While maintaining the very successful modular organization of the
seventh edition, we have reduced the number of parts of the eighth edition to three. Specifically, the
filters and oscillators chapters are now in Part II: Analog Integrated Circuits.
Streamlined Coverage and Book Size. Almost every chapter has been revised and streamlined
with emphasis on the essentials. This has resulted in a substantial reduction in the size of the book
(by almost 200 pages). However, removed material has been made available on the website for
those who want to continue to use it. Particular chapters that have been reduced are: Chapter 12
(Output Stages and Power Amplifiers); Chapter 13 (Op Amp Circuits); Chapter 14 (Filters); Chapter
15 (Oscillators); and Part III: Digital Integrated Circuits.
Early Coverage of Technology Scaling and Moore’s Law. The discussion of technology scaling
and Moore’s law is now started in Chapter 5 (MOSFETs). It is then referenced throughout the book,
and resumed in Chapter 17 (Digital Design) where the effects of scaling on the trinity of digital
design—speed, power, and area—are considered.
Modernizing the Study of Diodes. Chapter 4 has been reorganized to highlight the different levels
of abstraction and accuracy in diode modeling. While the coverage of standard material has been
streamlined and reduced somewhat, newer topics have been expanded and/or included such as
photodiodes, light-emitting diodes, application of diodes in electronic discharge (ESD) protection,
etc.
Clearer Derivations and Better Explanations. Three chapters in Part II: Analog Integrated
Circuits, have been thoroughly revised to simplify and clarify the presentation and to provide better
derivations. These are Chapter 8 (Building Blocks of IC Amplifiers), specifically the treatment of
the CG and CB amplifiers and the study of advanced current mirrors; Chapter 9 (Differential and
Multistage Amplifiers), specifically the treatment of common-mode gain and CMRR, DC offsets,
and the current-mirror-loaded differential amplifier; and Chapter 10 (Frequency Response), which
has been reorganized to deemphasize the study of the low-frequency response of discrete-circuit
amplifiers (now placed at the end of the chapter).

9.
10.
1.
2.
•
•
•
•
3.
•
•
•
•
•
•
•
•
•
•
•
Clearer, Improved, and Simplified Study of Feedback. Substantial improvements have been
made to Chapter 11 (Feedback) to make the subject easier to understand and use.
Streamlined and Better Organized Coverage of the Digital Topics. Part III: Digital Integrated
Circuits has undergone a thorough re-organization making it easier to integrate its topics into the
first and/or the second electronics course. Its first chapter, now Chapter 16, emphasizes the basics of
digital CMOS design, culminating in an in-depth study of the CMOS inverter’s static characteristic.
Then, Chapter 17 covers the three main metrics that are commonly used in digital circuit design and
optimization, namely speed, power, and area. We then complete the discussion of technology
scaling, first started in Chapter 5, by looking at how scaling impacts these three metrics. Finally,
Chapter 18 focuses on transistor-level memory circuits and clocking circuits. Many of the examples,
exercises, and problems in Part III have been redesigned to use newer technologies.
The Book’s Website
The companion website for the book (www.oup.com/he/sedra-smith8e) contains important materials that will
change frequently to reflect new developments. Here is a list of some of the materials available on the
website:
Summary tables useful for studying and practice problems.
Resources to support the use of Spice with problems and examples including
Links to circuit simulation tools.
The input files needed to perform simulations of problems from the book identified with a SIM
icon.
Additional Spice examples and the associated files.
Step-by-step guidance to help performing the Spice simulations.
Bonus text material of specialized topics that are either not covered or covered briefly in the current
edition of the textbook. These include:
Precision Rectifier Circuits
Junction Field-Effect Transistors (JFETs)
Gallium Arsenide (GaAs) Devices and Circuits
Specialty Diode Topics: Diode Logic Gates, Temperature Effects in Zener Diodes, and the
Schottky-Barrier Diode (SBD)
Useful Transistor Pairings
Selected Topics in BJT Ouput Stages: Class B Power Dissipation and Improvements, and
Protection Circuitry
The Classical CMOS Class AB Configuration
IC Power Amplifiers
Power Transistor Thermal Considerations
The 741 Op-Amp Circuit
Selected Analog Filter Topics

–
–
–
–
–
•
•
•
–
–
–
–
–
•
•
4.
5.
•
•
•
•
•
•
•
•
•
•
First- and Second-Order Filter Functions
Single-Amplifier Biquadratic Active Filters
Sensitivity
Transconductance-C Filters
Tuned Amplifiers
Waveform Generators: The Monostable Multivibrator, IC Timers, and Waveform-Shaping
Circuits
MOS Velocity Saturation and Subthreshold Leakage
Alternative Digital Logic Families
Pseudo-NMOS Logic Circuits
Dynamic MOS Logic Circuits
Transistor-Transistor Logic (TTL) Circuits
Emitter-Coupled Logic (ECL) Circuits
Bipolar and BiCMOS Digital Circuits
Memory Architectures and Read-Only Memory (ROM)
CMOS Image Sensors
Data sheets for hundreds of useful devices to help in laboratory experiments as well as in design
projects.
Appendices for the Book:
Appendix A: VLSI Fabrication Technology
Appendix B: Spice Design and Simulation Examples
Appendix C: Two-Port Network Parameters
Appendix D: Some Useful Network Theorems
Appendix E: Single-Time-Constant Circuits
Appendix F: s-Domain Analysis: Poles, Zeros and Bode Plots
Appendix G: Comparison of the MOSFET and the BJT
Appendix H: Filter Design Tools
Appendix I: Bibliography
Appendix L: Answers to Selected Problems
Exercises and End-of-Chapter Problems
Over 450 Exercises are integrated throughout the text. The answer to each exercise is given below the
exercise so students can check their understanding of the material as they read. Solving these exercises
should enable the reader to gauge his or her grasp of the preceding material. In addition, more than 1400
end-of-chapter problems, half of which are new or revised in this edition, are provided. The problems are
keyed to the individual chapter sections and their degree of difficulty is indicated by a rating system: difficult

problems are marked with an asterisk (*); more difficult problems with two asterisks (**); and very difficult
(and/or time consuming) problems with three asterisks (***). We must admit, however, that this
classification is by no means exact. Our rating no doubt depended to some degree on our thinking (and
mood!) at the time a particular problem was created. Answers to sample problems are given in Appendix L
(on the website), so students have a checkpoint to tell if they are working out the problems correctly.
Complete solutions for all exercises and problems are included in the Instructor’s Solutions Manual, which is
available from the publisher to those instructors who adopt the book.
As an aid to the instructor on deciding which to assign of this large number of problems, we have carefully
selected a subset and designated it essential problems. (These are the problems with blue numbers). This
should also be helpful to students using the book for self-study.
As in the previous seven editions, many examples are included. The examples, and indeed most of the
problems and exercises, are based on real circuits and anticipate the applications encountered in designing
real-life circuits. This edition continues the use of numbered solution steps in the figures for many examples,
as an attempt to recreate the dynamics of the classroom.
Summary Tables
New and existing summary tables are presented together on the website. This collection of tables is an
important resource for the student studying for exams or doing homework problems.
Video Examples
Today’s students learn by watching, and they appreciate video for the ability to control the pace of
presentation. For this edition, we have introduced video as a way to help students connect the text’s
examples to the homework problems they are assigned to solve. In 40 professionally produced videos, we
walk students step by step through the procedures required to solve some of the most common, and complex,
circuits they will have to master. We then provide related problems so that they can apply the strategies they
have just learned to comparable circuits. We believe these videos will help students close the gap between
learning and application. These videos are included in the enhanced ebook and are available to purchasers of
the print book using the access code packaged with new print copies. Students with rented or used print
copies can gain access to the videos by purchasing access to the ARC Premium site for Microelectronic
Circuits at www.oup.com/he/sedra-smith8e. Videos are also available on the ARC site for instructors using
Microelectronic Circuits.
Course Organization
The book contains sufficient material for a sequence of two single-semester courses, each of 40–50 lecture
hours. The modular organization of the book provides considerable flexibility for course design. In the
following, we suggest content for a sequence of two classical or standard courses. We also describe some
variations on the content of these two courses and specify supplemental material for a possible third course.
The First Course
The first course is based on Part I of the book, that is, Chapters 1–7. It can be taught, most simply by starting
at the beginning of Chapter 1 and concluding with the end of Chapter 7. However, as guidance to instructors

who wish to follow a different order of presentation or a somewhat modified coverage, or to deal with
situations where time might be constrained, we offer the following remarks:
The core of the first course is the study of the two transistor types, Chapters 5 and 6, in whatever order the
instructor wishes, and transistor amplifiers in Chapter 7. These three chapters must be covered in full.
Another important part of the first course is the study of diodes (Chapter 4). Here, however, if time does
not permit, some of the applications in the later part of the chapter can be skipped.
We have found it highly motivational to cover op amps (Chapter 2) near the beginning of the course. This
provides the students with the opportunity to work with a practical integrated circuit and to experiment with
nontrivial circuits.
Coverage of Chapter 1, at least of the amplifier sections, should prove helpful. Here the sections on
signals can be either covered in class or assigned as reading material. Section 1.6 on frequency response is
needed if the frequency-response of op-amp circuits is to be studied; otherwise this section can be delayed to
the second course.
Finally, if the students have not taken a course on physical electronics, Chapter 3 needs to be covered.
Otherwise, it can be used as review material or skipped altogether.
The Second Course
The main subject of the second course is integrated-circuit amplifiers and is based on Part II of the book, that
is, Chapters 8–15. These eight chapters, however, contain more material than can be taught in one course.
Thus, a judicious selection of topics to cover is called for. We hope that the following remarks can be helpful
in making these choices:
The core material of Part II is presented in Chapters 8–11 and these four chapters must be covered, though
not necessarily in their entirety. For instance, some of the sections near the end of a chapter and identified by
the “advanced material” icon can be skipped, usually with no loss of continuity.
Beyond the required chapters (8–11), the instructor has many possibilities for the remainder of the course.
These include a selection of topics from the remaining four chapters of Part II (12–15). Another possibility,
is to include an introduction to digital integrated circuits by covering Chapter 16, and if time permits,
selected topics of Chapters 17 and 18.
A Digitally Oriented First Course
A digitally-oriented first course can include the following: Chapter 1 (without Section 1.6), Chapter 2,
Chapter 3 (if the students have not had any exposure to physical electronics), Chapter 4 (perhaps without
some of the later applications sections), Chapter 5, selected topics from Chapter 7 emphasizing the basics of
the application of the MOSFET as an amplifier, Chapter 16, and selected topics from Chapters 17 and 18.
Such a course would be particularly suited for Computer Engineering students.
Supplemental Material/Third Course
Depending on the selection of topics for the first and second courses, some material will remain and can be
used for part of a third course or as supplemental material to support student design projects. These can
include Chapter 12 (Output Stages and Power Amplifiers), Chapter 13 (Op-Amp Circuits), Chapter 14
(Filters), and Chapter 15 (Oscillators), which can be used together with the advanced topics of Chapters 8–11

to support a third course on analog circuits. These can also include Chapters 16, 17, and 18 which can be
used for a portion of a senior-level course on digital IC design.
The Accompanying Laboratory
Courses in electronic circuits are usually accompanied by laboratory experiments. To support the laboratory
component for courses using this book, Vincent Gaudet has, in collaboration with K.C. Smith, authored a
laboratory manual. Laboratory Explorations, together with an Instructor’s Manual, is available from Oxford
University Press.
An alternative approach for laboratory experimentation involves the use of pre-wired circuit boards with
the experiments digitally controlled. Products that support this approach include AELabs, by Illuster
Technologies, and Analog Electronic Board, by Texas Instruments; both work on the NI Elvis platform.
More information can be found on the companion website (www.oup.com/he/sedra-smith8e).
An Outline for the Reader
Part I, Devices and Basic Circuits, includes the most fundamental and essential topics for the study of
electronic circuits. At the same time, it constitutes a complete package for a first course on the subject.
Chapter 1. The book starts with an introduction to the basic concepts of electronics in Chapter 1. Signals,
their frequency spectra, and their analog and digital forms are presented. Amplifiers are introduced as circuit
building blocks and their various types and models are studied. This chapter also establishes some of the
terminology and conventions used throughout the text.
Chapter 2. Chapter 2 deals with operational amplifiers, their terminal characteristics, simple applications,
and practical limitations. We chose to discuss the op amp as a circuit building block at this early stage simply
because it is easy to deal with and because the student can experiment with op-amp circuits that perform
nontrivial tasks with relative ease and with a sense of accomplishment. We have found this approach to be
highly motivating to the student. We should point out, however, that part or all of this chapter can be skipped
and studied at a later stage (for instance, in conjunction with Chapter 9, Chapter 11, and/or Chapter 13) with
no loss of continuity.
Chapter 3. Chapter 3 provides an overview of semiconductor concepts at a level sufficient for
understanding the operation of diodes and transistors in later chapters. Coverage of this material is useful in
particular for students who have had no prior exposure to device physics. Even those with such a background
would find a review of Chapter 3 beneficial as a refresher. The instructor can choose to cover this material in
class or assign it for outside reading.
Chapter 4. The first electronic device, the diode, is studied in Chapter 4. The diode terminal
characteristics, the circuit models that are used to represent it, and its circuit applications are presented.
Depending on the time available in the course, some of the diode applications and special diode types
(Section 4.7) can be skipped or left for the student to read.
Chapters 5 and 6. The foundation of electronic circuits is established by the study of the two transistor
types in use today: the MOS transistor in Chapter 5 and the bipolar transistor in Chapter 6. These two
chapters have been written to be completely independent of one another and thus can be studied in either
order, as desired. Furthermore, the two chapters have the same structure, making it easier and faster to study
the second device, as well as to draw comparisons between the two device types.
Each of Chapters 5 and 6 begins with a study of the device structure and its physical operation, leading to
a description of its terminal characteristics. Then, to allow the student to become very familiar with the

operation of the transistor as a circuit element, a large number of examples are presented of dc circuits
utilizing the device. The last section of each of Chapters 5 and 6 deals with second-order effects that are
included for completeness, but that can be skipped if time does not permit detailed coverage. Nevertheless,
we strongly recommend coverage of the newly introduced section on Moore’s law and tehnology scaling in
Chapter 5.
Chapter 7. The heart of a first course in electronics is the study of transistor amplifiers. Chapter 7
presents a unified treatment of the subject. It begins with the basic principles that underlie the operation of a
transistor, of either type, as an amplifier, and proceeds to present the important concepts of small-signal
operation and modeling. This is followed by a study of the basic configurations of single-transistor
amplifiers. After a presentation of dc biasing methods, the chapter concludes with practical examples of
discrete-circuit amplifiers. The combined presentation emphasizes the unity of the basic principles while
allowing for separate treatment of the two device types where this is warranted. Very importantly, we are
able to compare the two devices and to draw conclusions about their unique areas of application.
After the study of Part I, the reader will be fully prepared to study either analog integrated-circuits in Part
II, or digital integrated circuits in Part III.
Part II, Analog Integrated Circuits, is devoted to the study of practical amplifier circuits that can be
fabricated in the integrated-circuit (IC) form and their application in the design of filters and oscillators. Its
eight chapters constitute a coherent treatment of IC amplifier design and applications and can thus serve as a
second course in electronic circuits.
MOS and Bipolar. Throughout Part II, both MOS and bipolar circuits are presented side-by-side.
Because the MOSFET is by far the dominant device, its circuits are presented first. Bipolar circuits are
discussed to the same depth but occasionally more briefly.
Chapter 8. Beginning with a brief introduction to the philosophy of IC design, Chapter 8 presents the
basic circuit building blocks that are used in the design of IC amplifiers. These include current mirrors,
current sources, gain cells, and cascode amplifiers.
Chapter 9. The most important IC building block, the differential pair, is the main topic of Chapter 9. The
last section of Chapter 9 is devoted to the study of multistage amplifiers.
Chapter 10. Chapter 10 presents a comprehensive treatment of the important subject of amplifier
frequency response. Here, Sections 10.1 and 10.2 contain essential material; Section 10.3 provides a very
useful analysis method; Sections 10.4 to 10.7 present the frequency response analysis of a variety of
amplifier configurations; and Section 10.8 presents the low-frequency response of discrete-circuit amplifiers.
A selection of the later sections can be made depending on the time available and the instructor’s preference.
Chapter 11. The fourth of the essential topics of Part II, feedback, is the subject of Chapter 11. Both the
theory of negative feedback and its application in the design of practical feedback amplifiers are presented.
We also discuss the stability problem in feedback amplifiers and treat frequency compensation in some
detail.
Chapter 12. In Chapter 12 we switch gears from dealing with small-signal amplifiers to those that are
required to handle large signals and large amounts of power. Here we study the different amplifier classes—
A, B, and AB—and their realization in bipolar and CMOS technologies. We also briefly consider power
BJTs and power MOSFETs, and introduce the increasingly popular Class D amplifier. Depending on the
availability of time, some of the later sections can be skipped in a first reading.
Chapter 13. Chapter 13 brings together the topics of Part II in an important application; namely, the
design of operational amplifier circuits. We study both CMOS and bipolar op amps. We focus on the most

fundamental circuits: the two-stage and the folded cascode op amps. We also present biasing circuits and
techniques for low-voltage operation.
The last portion of Part III, Chapters 14 and 15, deals with Filters and Oscillators, and is intentionally
oriented toward applications and systems. The two topics illustrate powerfully and dramatically the
application of both negative and positive feedback.
Chapter 14. Chapter 14 deals with the design of filters, which are important building blocks of
communication and instrumentation systems. A comprehensive, design-oriented treatment of the subject is
presented. The material provided, together with the supplemental material in Appendix H, should allow the
reader to perform a complete filter design, starting from specification and ending with a complete circuit
realization. A wealth of design material is included.
Chapter 15. Chapter 15 deals with circuits for the generation of sinusoidal signals. It also includes a
section on nonlinear oscillators or function generators.
Part III, Digital Integrated Circuits, provides a brief but nonetheless comprehensive and sufficiently
detailed study of digital IC design. Our treatment is almost self-contained, requiring for the most part only a
thorough understanding of the MOSFET material presented in Chapter 5. Thus Part III can be studied right
after Chapter 5. The only exception to this is that knowledge of the internal capacitances of a MOSFET
(Section 10.1) will be needed before taking on Chapter 17.
Chapter 16. Chapter 16 is the foundation of Part III. It begins with the motivating topic of CMOS logic-
gate circuits, with a focus on switch-level implementaion of logic functions and gates. Then, following a
detailed study of digital logic inverters, we concentrate on the CMOS inverter, its static characteristics, and
its design. This chapter is the minimum needed to learn something meaningful about ditigal circuits.
Chapter 17. Chapter 17 presents a comprehensive overview of the so-called trinity of digital design
metrics: speed, area, and power. The chapter starts by thoroughly analyzing the dynamic characteristics of a
CMOS inverter. Then, transistor sizing is discussed, including the impact of sizing on speed and circuit area.
Afterwards, sources of power dissipation in digital circuits are introduced. The chapter concludes by
investigating the impact of semiconductor scaling—first introduced in Chapter 5—on digital circuit
performance metrics.
Chapter 18. Digital circuits can be broadly divided into logic and memory circuits. The latter is the
subject of Chapter 18, which first looks at the design of latches and flip-flops, and then goes into static and
dynamic cell designs for memory arrays. Finally, the chapter also introduces several useful peripheral
circuits used in synchronous systems.
Appendices. The twelve appendices contain much useful background and supplementary material. We
wish to draw the reader’s attention in particular to the first two: Appendix A provides a concise introduction
to the important topic of IC fabrication technology including IC layout. Appendix B provides SPICE device
models as well as a large number of design and simulation examples in PSpice® and Multisim™. The
examples are keyed to the book chapters. These Appendices and a great deal more material on these
simulation examples can be found on the Companion Website.
Ancillaries
A complete set of ancillary materials is available with this text to support your course.
For the Instructor

•
•
•
•
•
The Ancillary Resource Center (ARC) at www.oup.com/he/sedra-smith8e is a convenient destination for all
the instructor resources that accompany Microelectronic Circuits. Accessed online through individual user
accounts, the ARC provides instructors with access to up-to-date ancillaries at any time while guaranteeing
the security of grade-significant resources. On the ARC, you will find:
An electronic version of the Instructor’s Solutions Manual.
Video examples that take students step by step through the procedures required to solve 40 problems
presented in the text.
PowerPoint-based figure slides that feature all the images and summary tables from the text, with
their captions, so they can easily be displayed and explained in class.
Detailed instructor’s support for the SPICE circuit simulations.
A set of 65 exam questions, grouped by chapter, with complete solutions, suggested time allocations,
and a recommended breakdown of points per question.
The Instructor’s Solutions Manual (ISBN 9780190853488), written by Adel Sedra, contains detailed
solutions to all chapter exercises and end-of-chapter problems found in Microelectronic Circuits. The
Instructor’s Solutions Manual for Laboratory Explorations to Accompany Microelectronic Circuits (ISBN
9780197508589) contains detailed solutions to all the exercises and problems found in this student’s
laboratory guide; these solutions are also available online on the ARC instructor site for Microelectronic
Circuits (www.oup.com/he/sedra-smith8e).
For the Student and Instructor
The ARC Premium site, available at www.oup.com/he/sedra-smith8e, features 40 professionally produced
videos in which we walk students step by step through the procedures required to solve some of the most
common, and complex, circuits they will have to master. Solved Problems is a set of 150 additional
homework problems with complete solutions, covering concepts from the nine most used chapters in the
book. This self-study aid will help students master core concepts and prepare for homework assignments and
exams. Premium ARC content is included in the enhanced ebook. It is also available to purchasers of the
print book using the access code packaged with new print copies. Students with rented or used print copies
can purchase access codes to the ARC premium site for Microelectronic Circuits at www.oup.com/he/sedra-
smith8e.
A Companion Website at www.oup.com/he/sedra-smith8e features permanently cached versions of device
datasheets, so students can design their own circuits in class. The website also contains SPICE circuit
simulation examples and lessons. Bonus text topics and the Appendices are also featured on the website.
Another very important item on the website is the Summary Tables (ST) supplement. This compilation of
reference tables will benefit students completing homework assignments and studying for exams.
The Laboratory Explorations to Accompany Microelectronic Circuits (ISBN 9780197508572) invites
students to explore the realm of real-world engineering through practical, hands-on experiments. Keyed to
sections in the text and taking a “learn-by-doing” approach, it presents labs that focus on the development of
practical engineering skills and design practices.
Acknowledgments

Many of the changes in this eighth edition were made in response to feedback received from instructors who
adopted the seventh edition. We are grateful to all those who took the time to write to us. In addition, many
of the reviewers provided detailed commentary on the seventh edition and suggested a number of the
changes that we have incorporated in this edition. They are listed later; to all of them, we extend our sincere
thanks. We are also grateful for the feedback received from the students who have taken our electronics
courses over the years at the Universities of Toronto and Waterloo.
Over the recent years we have benefited greatly from discussions with a number of colleagues and friends. In
particular we are very grateful to the following: James Barby, University of Waterloo; David Nairn,
University of Waterloo; David Johns, University of Toronto; Ken Martin, University of Toronto; Wai-Tung
Ng, University of Toronto (who wrote the original version of Appendix A and contributed to Chapter 12 in
previous editions); Khoman Phang, University of Toronto; Gordon Roberts, McGill University; Ali
Sheikholeslami, University of Toronto; Oliver Trescases, University of Toronto; Amir Yazdani, Ryerson
University; and Derek Wright, University of Waterloo.
As she did for a number of the previous editions, Jennifer Rodrigues typed the revision with tremendous skill
and good humour, and Adel Sedra is very grateful to her. Thanks also to Nijwm Wary who helped prepare
the Spice ancillary material for this edition.
A large number of people at Oxford University Press contributed to the development of this edition and its
various ancillaries. We would like to specifically mention Eric Sinkins of OUP Canada, who has been a
tremendous support. We would also like to thank the former engineering editor, Dan Kaveney, the current
engineering editor, Dan Sayre, Art Director Michele Laseau, Assistant Editor, Megan Carlson, and
Production Manager, Lisa Grzan. A very special thank you goes to Senior Production Editor, Barbara
Mathieu, who once more has been superb: her attention to detail and emphasis on quality is without par.
Finally, we wish to thank our families for their support and understanding, and to thank all the students and
instructors who have valued this book thoroughout its history.
Adel S. Sedra
Kenneth C. Smith
Tony Chan Carusone
Vincent Gaudet
Waterloo, Ontario, Canada
September 2019
Reviewers of Eighth Edition
Marc Cahay, University of Cincinnati
Jin-Woo Choi, Louisiana State University, Baton Rouge, LA
Anthony S. Deese, The College of New Jersey, Ewing, NJ
Makarand Deo, Norfolk State University
Rohit Dua, Missouri University of Science and Technology, Springfield, MO
Nuri Emanetoglu, University of Maine, Orono, ME
Manoj Franklin, University of Maryland–College Park
Drew Hall, University of California–San Diego
Masum Hossain, University of Alberta
Yoon G. Kim, Calvin College, Grand Rapids, MI
Paul Kladitis, University of Dayton

Peter LoPresti, University of Tulsa
Edwin Marengo, Northeastern University, Boston, MA
Richard Martin, University of Delaware, Newark, DE
Bruce McNair, Stevens Institute of Technology, Hoboken, NJ
Cory Mettler, South Dakota State, Brookings, SD
Martin P. Mintchev, University of Calgary
Zoulikha Mouffak, California State University–Fresno
David Mueller, University of the Pacific, Stockton, CA
Zvi Roth, Florida Atlantic University, Boca Raton, FL
Andrew Y. J. Szeto, San Diego State University
Lili H. Tabrizi, California State University–Los Angeles
Margarita Takach, Seattle University
Ryan Christopher Toonen, University of Akron
Mehmet Vurkaç, Oregon Institute of Technology, Klamath Falls, OR
Lan Wei, University of Waterloo
Vesna Zeljkovic, Lincoln University
Dachun Zhao, California State University – Fullerton
Reviewers of Prior Editions
Maurice Aburdene, Bucknell University, Lewisburg, PA
Michael Bartz, University of Memphis, TN
Elizabeth Brauer, Northern Arizona University, Flagstaff, AZ
Martin Brooke, Duke University, Durham, NC
Jungseok Chae, Arizona State University, Tempe, AZ
Patrick L. Chapman, University of Illinois, Urbana–Champaign, IL
Yun Chiu, University of Illinois, Urbana–Champaign, IL
Roy H. Cornely, New Jersey Institute of Technology, Newark, NJ
Norman Cox, Missouri University of Science and Technology, Rolla, MO
Dale L. Critchlow, University of Vermont, Burlingon, VT
Robert Bruce Darling, University of Washington, Seattle, WA
Artice Davis, San Jose State University, CA
John Davis, University of Texas, Austin, TX
Christopher DeMarco, University of Wisconsin, Madison, WI
Lian Dong, Baylor University, Waco, TX
Robert Engelken, Arkansas State University, Jonesboro, AR
Muhammad Faisal, University of Michigan, Ann Arbor, MI
Ethan Farquhar, University of Tennessee, Knoxville, TN
Patrick Fay, University of Notre Dame, Notre Dame, IN
Eby G. Friedman, University of Rochester, NY
Paul M. Furth, New Mexico State University, Las Cruces, NM
Vincent Gaudet, University of Waterloo, Waterloo, Canada

Rhett T. George, Jr., Duke University, Durham, NC
Roobik Gharabagi, St. Louis University, MO
George Giakos, University of Akron, OH
John Gilmer, Wilkes University, Wilkes-Barre, PA
Michael Green, University of California, Irvine, CA
Elmer A. Grubbs, Northern Arizona University, Flagstaff, AZ
Steven de Haas, California State University, Sacramento, CA
Anas Hamoui, McGill University, Montreal, Canada
Reza Hashemian, Northern Illinois University, DeKalb, IL
William Harrell, Clemson University, SC
Reid Harrison, University of Utah, Salt Lake City, UT
Ward J. Helms, University of Washington, Seattle, WA
Richard Hornsey, York University, Toronto, Canada
Timothy Horiuchi, University of Maryland, College Park, MD
Hsiung Hsu, The Ohio State University, Columbus, OH
Robert Irvine, California State Polytechnic University, Pomona, CA
Mohammed Ismail, The Ohio State University, Columbus, OH
Paul Israelsen, Utah State University, Logan UT
Justin Jackson, Weber State University, Ogden, UT
Steve Jantzi, Broadcom, CA
Zhenhua Jiang, University of Miami, FL
Marian Kazimierczuk, Wright State University, Dayton, OH
John Khoury, Columbia University, New York, NY
Jacob B. Khurgin, The Johns Hopkins University, Baltimore, MD
Seongsin M. Kim, University of Alabama, Tuscaloosa, AL
Roger King, University of Toledo, OH
Clark Kinnaird, Southern Methodist University, Dallas, TX
Robert J. Krueger, University of Wisconsin, Milwaukee, WI
Joy Laskar, Georgia Institute of Technology, Atlanta, GA
Serhiy Levkov, New Jersey Institute of Technology, Newark, NJ
Tsu-Jae King Liu, University of California, Berkeley, CA
Yicheng Lu, Rutgers University, Piscataway, NJ
David Luke, University of New Brunswick, Fredericton, Canada
Leda Lunardi, North Carolina State University, Raleigh, NC
John Mankowski, Texas Tech University, Lubbock, TX
Thomas Matthews, California State University, Sacramento, CA
Chris Mi, University of Michigan, Dearborn, MI
Un-Ku Moon, Oregon State University, Corvallis, OR
Bahram Nabet, Drexel University, Philadelphia, PA
Dipankar Nagchoudhuri, Indian Institute of Technology, Delhi, India
David Nairn, University of Waterloo, Waterloo, Canada
Phyllis R. Nelson, California State Polytechnic University, Pomona, CA

Joseph H. Nevin, University of Cincinnati, OH
Robert W. Newcomb, University of Maryland, College Park, MD
Toshikazu Nishida, University of Florida, Gainesville, FL
Ken Noren, University of Idaho, Moscow, ID
Brita Olson, California Polytechnic University, Pomona, CA
Martin Peckerar, University of Maryland, College Park, MD
Khoman Phang, University of Toronto, Canada
Mahmudur Rahman, Santa Clara University, CA
Rabin Raut, Concordia University, Montreal, Canada
John A. Ringo, Washington State University, Pullman, WA
Zvi S. Roth, Florida Atlantic University, Boca Raton, FL
Mulukutla Sarma, Northeastern University, Boston, MA
John Scalzo, Louisiana State University, Baton Rouge, LA
Norman Scheinberg, City College, New York, NY
Pierre Schmidt, Florida International University, Miami, FL
Richard Schreier, Analog Devices, Toronto, Canada
Dipankar Sengupta, Royal Melbourne Institute of Technology, Australia
Ali Sheikholeslami, University of Toronto, Canada
Kuang Sheng, Rutgers University, Piscataway, NJ
Michael L. Simpson, University of Tennessee, Knoxville, TN
Karl A. Spuhl, Washington University in St. Louis, MO
Charles Sullivan, Dartmouth College, Hanover, NH
Matthew Swabey, Purdue University, West Lafayette, IN
Andrew Szeto, San Diego State University, CA
Khalid Hasan Tantawi, University of Alabama, Huntsville, AL
Joel Therrien, University of Massachusetts, Lowell, MA
Farid M. Tranjan, University of North Carolina, Charlotte, NC
Len Trombetta, University of Houston, TX
Daniel van der Weide, University of Delaware, Newark, DE
Gregory M. Wierzba, Michigan State University, East Lansing, MI
Mustapha C. E. Yagoub, University of Ottawa, Ottawa, Canada
Sandra Yost, University of Detroit, Mercy, MI
Donna Yu, North Carolina State University, Raleigh, NC
Jiann-Shiun Yuan, University of Central Florida, Orlando, FL
Alex Zaslavsky, Brown University, Providence, RI
Jianhua (David) Zhang, University of Illinois, Urbana–Champaign, IL

Microelectronic Circuits

P
PART I
Devices and Basic Circuits
CHAPTER 1
Signals and Amplifiers
CHAPTER 2
Operational Amplifiers
CHAPTER 3
Semiconductors
CHAPTER 4
Diodes
CHAPTER 5
MOS Field-Effect Transistors (MOSFETs)
CHAPTER 6
Bipolar Junction Transistors (BJTs)
CHAPTER 7
Transistor Amplifiers
art I, Devices and Basic Circuits, includes the most fundamental and essential topics for the study of electronic
circuits. At the same time, it constitutes a complete package for a first course on the subject.
The heart of Part I is the study of the three basic semiconductor devices: the diode (Chapter 4), the MOS transistor
(Chapter 5), and the bipolar transistor (Chapter 6). In each case, we study the device operation, its characterization, and
its basic circuit applications. Chapter 7 then follows with a study of the most fundamental application of the two
transistor types; namely, their use in amplifier design. This side-by-side study of MOSFET and BJT amplifiers allows us
to see similarities between these amplifiers and to compare them, which in turn highlights the distinct areas of
applicability of each, as well as showing the unity of the basic principles that underlie the use of transistors as amplifiers.
For those who have not had a prior course on device physics, Chapter 3 provides an overview of semiconductor
concepts at a level sufficient for the study of electronic circuits. A review of Chapter 3 should prove useful even for
those with prior knowledge of semiconductors.
Since the purpose of electronic circuits is the processing of signals, it is essential to understand signals, their
characterization in the time and frequency domains, and their analog and digital representations. The basis for such
understanding is provided in Chapter 1, which also introduces the most common signal-processing function,
amplification, and the characterization and types of amplifiers.

Besides diodes and transistors, the basic electronic devices, the op amp is studied in Part I. Although not an
electronic device in the most fundamental sense, the op amp is commercially available as an integrated circuit (IC)
package and has well-defined terminal characteristics. Thus, even though the op amp’s internal circuit is complex,
typically incorporating 20 or more transistors, its almost-ideal terminal behavior makes it possible to treat the op amp as
a circuit element and to use it in the design of powerful circuits, as we do in Chapter 2, without any knowledge of its
internal construction. We should mention, however, that the study of op amps can be delayed until a later point, and
Chapter 2 can be skipped with no loss of continuity.
The foundation of this book, and of any electronics course, is the study of the two transistor types in use today: the
MOS transistor in Chapter 5 and the bipolar transistor in Chapter 6. These two chapters have been written to be
completely independent of each other and thus can be studied in either order, as desired.
After the study of Part I, the reader will be fully prepared to undertake the study of either integrated-circuit amplifiers
in Part II or digital integrated circuits in Part III.

1.1
1.2
1.3
1.4
1.5
1.6
•
•
•
•
•
•
•
CHAPTER 1
Signals and Amplifiers
Introduction
Signals
Frequency Spectrum of Signals
Analog and Digital Signals
Amplifiers
Circuit Models for Amplifiers
Frequency Response of Amplifiers
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
That electronic circuits process signals, and thus understanding electrical signals is essential to
appreciating the material in this book.
The Thévenin and Norton representations of signal sources.
The representation of a signal as the sum of sine waves.
The analog and digital representations of a signal.
The most basic and pervasive signal-processing function: signal amplification, and correspondingly,
the signal amplifier.
How amplifiers are characterized (modeled) as circuit building blocks independent of their internal
circuitry.
How the frequency response of an amplifier is measured, and how it is calculated, especially in the
simple but common case of a single-time-constant (STC) type response.

Introduction
The subject of this book is modern electronics, a field that has come to be known as microelectronics.
Microelectronics refers to the integrated-circuit (IC) technology that at the time of this writing is capable of
producing circuits that contain billions of components in a small piece of silicon (known as a silicon chip)
whose area is roughly 100 mm2. One such microelectronic circuit is a complete digital computer, which is
known, appropriately, as a microcomputer or, more generally, a microprocessor. The microelectronic
circuits you will learn to design in this book are used in almost every device we encounter in our daily lives:
in the appliances we use in our homes; in the vehicles and transportation systems we use to travel; in the
cellphones we use to communicate; in the medical equipment we need to care for our health; in the
computers we use to do our work; and in the audio and video systems, the gaming consoles and televisions,
and the multitude of other digital devices we use to entertain ourselves. Indeed, it is difficult to conceive of
modern life without microelectronic circuits.
In this book we will study electronic devices that can be used singly (in the design of discrete circuits)
or as components of an integrated-circuit (IC) chip. We will study the design and analysis of
interconnections of these devices, which form discrete and integrated circuits of varying complexity and
perform a wide variety of functions. We will also learn about available IC chips and their application in the
design of electronic systems.
The purpose of this first chapter is to introduce some basic concepts and terminology. In particular, we
will learn about signals and about one of the most important signal-processing functions electronic circuits
are designed to perform: signal amplification. We will then look at circuit representations or models for
linear amplifiers. These models will be used in subsequent chapters in the design and analysis of actual
amplifier circuits.
In addition to motivating the study of electronics, this chapter serves as a bridge between the study of
linear circuits and that of the subject of this book: the design and analysis of electronic circuits. Thus, we
presume a familiarity with linear circuit analysis, as in the following example.
Video Example VE 1.1
For the circuit shown in Fig. VE1.1, find the current in each of the three resistors and the voltage (with respect to
ground) at their common node using two methods:


1.1 Signals
Signals contain information about a variety of things and activities in our physical world. Examples abound:
Information about the weather is contained in signals that represent the air temperature, pressure, wind
speed, etc. The voice of a radio announcer reading the news into a microphone provides an acoustic signal
that contains information about world affairs. To monitor the status of a nuclear reactor, instruments are used
to measure a multitude of relevant parameters, each instrument producing a signal.
To extract required information from a set of signals, the observer (be it a human or a machine)
invariably needs to process the signals in some predetermined manner. This signal processing is usually
most conveniently performed by electronic systems. For this to be possible, however, the signal must first be
converted into an electrical signal, that is, a voltage or a current. This process is accomplished by devices
known as transducers. A variety of transducers exist, each suitable for one of the various forms of physical
signals. For instance, the sound waves generated by a human can be converted into electrical signals using a
microphone, which is in effect a pressure transducer. It is not our purpose here to study transducers; rather,
we shall assume that the signals of interest already exist in the electrical domain and represent them by one
of the two equivalent forms shown in Fig. 1.1(a) and (b).
Figure 1.1 Two alternative representations of a signal source: (a) the Thévenin form; (b) the Norton form.
In Fig. 1.1(a) the signal is represented by a voltage source vs(t) with a source resistance Rs. In the alternate
representation of Fig. 1.1(b) the signal is represented by a current source is(t) with a source resistance Rs.
Although the two representations are equivalent, the one in Fig. 1.1(a) (known as the Thévenin form) is
preferred when Rs is low. The representation of Fig. 1.1(b) (known as the Norton form) is preferred when Rs
is high. You will come to appreciate this point later in this chapter when we study the different types of
amplifiers. For the time being, it is important to be familiar with Thévenin’s and Norton’s theorems (for a
brief review, see Appendix D) and to note that for the two representations in Fig. 1.1(a) and (b) to be
equivalent, their parameters are related by
Example 1.1
The output resistance of a signal source, although inevitable, is an imperfection that limits the ability of the
source to deliver its full signal strength to a load. To see this point more clearly, consider the signal source when
connected to a load resistance RL as shown in Fig. 1.2. For the case in which the source is represented by its
Thévenin equivalent form, find the voltage vo that appears across RL, and hence the condition that Rs must

(a)
(b)
(c)
(d)
satisfy for vo to be close to the value of vs. Repeat for the Norton-represented source, in this case finding the
current io that flows through RL and hence the condition that Rs must satisfy for io to be close to the value of is.
Figure 1.2 (a) Circuit for Example 1.1.
Video Example VE 1.2
Consider the voltage source in Fig. 1.2(a) connected to loads with the values shown below. In each case, find the
percentage change in the voltage and current across RL, vo and oo, in response to a 10% increase in the value of
RL. In which cases is it more appropriate to use a Norton equivalent source? In those cases, find the Norton
equivalent for Vs = 1 V.
Rs = 2 kΩ; RL = 100 kΩ
Rs = 100 Ω; RL = 8 Ω
Rs = 5 kΩ; RL = 50 kΩ
Rs = 1 kΩ; RL = 50 Ω
 Solution: Watch the authors solve this problem.
∨Show Solution


From the discussion above, it should be apparent that a signal is a time-varying quantity that can be
represented by a graph such as that shown in Fig. 1.3. In fact, the information content of the signal is
represented by the changes in its magnitude as time progresses; that is, the information is contained in the
“wiggles” in the signal waveform. In general, such waveforms are difficult to characterize mathematically. In
other words, it is not easy to describe succinctly an arbitrary-looking waveform such as that of Fig. 1.3. Of
course, such a description is of great importance for the purpose of designing appropriate signal-processing
circuits that perform desired functions on the given signal. An effective approach to signal characterization is
studied in the next section.
Figure 1.3 An arbitrary voltage signal vs(t).

(1.1)
1.2 Frequency Spectrum of Signals
It can be extremely useful to characterize a signal, and for that matter any arbitrary function of time, in terms
of its frequency spectrum. We can obtain such a description of signals through the mathematical tools of
Fourier series and Fourier transform.1 We are not interested here in the details of these transformations;
suffice it to say that they provide the means for representing a voltage signal vs(t) or a current signal is(t) as
the sum of sine-wave signals of different frequencies and amplitudes. This makes the sine wave a very
important signal in the analysis, design, and testing of electronic circuits. Therefore, we shall briefly review
the properties of the sinusoid.
Figure 1.4 shows a sine-wave voltage signal va(t),
where Va denotes the peak value or amplitude in volts and ω denotes the angular frequency in radians per
second; that is, ω = 2πf rad/s, where f is the frequency in hertz, f = 1/T Hz, and T is the period in seconds.
Figure 1.4 Sine-wave voltage signal of amplitude Va and frequency f = 1/T Hz. The angular frequency ω = 2πf rad/s.
The sine-wave signal is completely characterized by its peak value Va, its frequency ω, and its phase
with respect to an arbitrary reference time. In the case depicted in Fig. 1.4, the time origin has been chosen
so that the phase angle is 0. It is common to express the amplitude of a sine-wave signal in terms of its root-
mean-square (rms) value, which is equal to the peak value divided by 
. Thus the rms value of the
sinusoid va(t) of Fig. 1.4 is 
 For instance, when we speak of the wall power supply in our homes as
being 120 V, we mean that it has a sine waveform of 120
 volts peak value.
Returning now to the representation of signals as the sum of sinusoids, we note that the Fourier series is
utilized to accomplish this task for the special case of a signal that is a periodic function of time. On the
other hand, the Fourier transform is more general and can be used to obtain the frequency spectrum of a
signal whose waveform is an arbitrary function of time.
The Fourier series allows us to express a given periodic function of time as the sum of an infinite number
of sinusoids whose frequencies are harmonically related. For instance, the symmetrical square-wave signal in
Fig. 1.5 can be expressed as

(1.2)
Figure 1.5 A symmetrical square-wave signal of amplitude V.
where V is the amplitude of the square wave and ω0 = 2π/T (T is the period of the square wave) is called the
fundamental frequency. Note that because the amplitudes of the harmonics progressively decrease, the
infinite series can be truncated, with the truncated series providing an approximation to the square
waveform.
The sinusoidal components in the series of Eq. (1.2) constitute the frequency spectrum of the square-
wave signal. Such a spectrum can be graphically represented as in Fig. 1.6, where the horizontal axis
represents the angular frequency ω in radians per second.
Figure 1.6 The frequency spectrum (also known as the line spectrum) of the periodic square wave of Fig. 1.5.
The Fourier transform can be applied to a nonperiodic function of time, such as that depicted in Fig. 1.3,
and provides its frequency spectrum as a continuous function of frequency, as indicated in Fig. 1.7. Unlike
the case of periodic signals, where the spectrum consists of discrete frequencies (at ω0 and its harmonics),
the spectrum of a nonperiodic signal contains in general all possible frequencies. Nevertheless, the essential


approaches are equivalent. What fraction of the energy of a square wave is in its fundamental? In its
first five harmonics? In its first seven? First nine? In what number of harmonics is 90% of the energy?
(Note that in counting harmonics, the fundamental at ω0 is the first, the one at 2ω0 is the second, etc.)
∨Show Answer

1.3 Analog and Digital Signals
The voltage signal depicted in Fig. 1.3 is called an analog signal. The name derives from the fact that such a
signal is analogous to the physical signal that it represents. The magnitude of an analog signal can take on
any value; that is, the amplitude of an analog signal exhibits a continuous variation over its range of activity.
The vast majority of signals in the world around us are analog. Electronic circuits that process such signals
are known as analog circuits. A variety of analog circuits will be studied in this book.
An alternative form of signal representation is that of a sequence of numbers, each number representing
the signal magnitude at an instant of time. The resulting signal is called a digital signal. To see how a signal
can be represented in this form—that is, how signals can be converted from analog to digital form—consider
Fig. 1.8(a). Here the curve represents a voltage signal, identical to that in Fig. 1.3. At equal intervals along
the time axis, we have marked the time instants t0, t1, t2, and so on. At each of these time instants, the
magnitude of the signal is measured, a process known as sampling. Figure 1.8(b) shows a representation of
the signal of Fig. 1.8(a) in terms of its samples. The signal of Fig. 1.8(b) is defined only at the sampling
instants; it no longer is a continuous function of time; rather, it is a discrete-time signal. However, since the
magnitude of each sample can take any value in a continuous range, the signal in Fig. 1.8(b) is still an analog
signal.

Figure 1.8 Sampling the continuous-time analog signal in (a) results in the discrete-time signal in (b).
Now if we represent the magnitude of each of the signal samples in Fig. 1.8(b) by a number having a
finite number of digits, then the signal amplitude will no longer be continuous; rather, it is said to be
quantized, discretized, or digitized. The resulting digital signal then is simply a sequence of numbers that
represent the magnitudes of the successive signal samples.
The choice of number system to represent the signal samples affects the type of digital signal produced
and has a profound effect on the complexity of the digital circuits required to process the signals. It turns out
that the binary number system results in the simplest possible digital signals and circuits. In a binary system,
each digit in the number takes on one of only two possible values, denoted 0 and 1. Correspondingly, the
digital signals in binary systems need have only two voltage levels, which can be labeled low and high. As
an example, in some of the digital circuits studied in this book, the levels may be 0 V and +1.8 V. Figure 1.9
shows the time variation of such a digital signal. Observe that the waveform is a pulse train with 0 V
representing a 0 signal, or logic 0, and +1.8 V representing logic 1. Unlike the original analog signal, which
can take on any real value and therefore can be corrupted by noise, the digital waveform can withstand some
noise while still being able to distinguish between logic levels without any loss of information.

(1.3)
Figure 1.9 Variation of a particular binary digital signal with time.
If we use N binary digits (bits) to represent each sample of the analog signal, then the digitized sample
value can be expressed as
where b0, b1, ..., bN−1, denote the N bits and have values of 0 or 1. Here bit b0 is the least significant bit
(LSB), and bit bN−1 is the most significant bit (MSB). Conventionally, this binary number is written as
bN−1 bN−2 ... b0. We observe that such a representation quantizes the analog sample into one of 2N levels.
Obviously the greater the number of bits (i.e., the larger the N), the closer the digital word D approximates
the magnitude of the analog sample. That is, increasing the number of bits reduces the quantization error and
increases the resolution of the analog-to-digital conversion. This improvement is, however, usually obtained
at the expense of more complex and hence more costly circuit implementations. It is not our purpose here to
delve into this topic any deeper; we merely want the reader to appreciate the nature of analog and digital
signals. Nevertheless, it is an opportune time to introduce a very important circuit building block of modern
electronic systems: the analog-to-digital converter (A/D or ADC) shown in block form in Fig. 1.10. The
ADC accepts at its input the samples of an analog signal and provides for each input sample the
corresponding N-bit digital representation (according to Eq. 1.3) at its N output terminals.
Figure 1.10 Block-diagram representation of the analog-to-digital converter (ADC).
Thus although the voltage at the input might be, say, 1.51 V, at each of the output terminals (say, at the ith
terminal), the voltage will be either low (0 V) or high (1.8 V) if bi is supposed to be 0 or 1, respectively. The

1.9
(a)
(b)
(c)
dual circuit of the ADC is the digital-to-analog converter (D/A or DAC). It converts an N-bit digital input
to an analog output voltage.
Once the signal is in digital form, it can be processed using digital circuits. Of course digital circuits can
deal also with signals that do not have an analog origin, such as the signals that represent the various
instructions of a digital computer.
Since digital circuits deal exclusively with binary signals, their design is simpler than that of analog
circuits. Furthermore, digital systems can be designed using a relatively few different kinds of digital circuit
blocks. However, a large number (e.g., hundreds of thousands or even millions) of each of these blocks are
usually needed. Thus the design of digital circuits poses its own set of challenges to the designer but
provides reliable and economic implementations of a great variety of signal-processing functions, many of
which are not possible with analog circuits. Many signal-processing functions that relied upon analog
circuits in the past are now being performed digitally. Examples around us abound, from the digital watch
and calculator to digital audio systems and telephony. Modern computers and smartphones are enabled by
very-large-scale digital circuits. Image and video recording, storage, and transmission are all predominantly
performed by digital circuits. Digital circuits have a particularly special role to play in communication
because digital information is inherently more robust to noise than an analog signal.
The basic building blocks of digital systems are logic circuits and memory circuits. We will study both in
this book, beginning in Chapter 16.
One final remark: Although the digital processing of signals may appear to be all-pervasive, in fact many
electronic systems include both analog and digital parts. It follows that a good electronics engineer must be
proficient in the design of both analog and digital circuits, or mixed-signal or mixed-mode design as it is
currently known. Such is the aim of this book.
EXERCISE
Consider a 4-bit digital word D = b3b2b1b0 (see Eq. 1.3) used to represent an analog signal vA that
varies between 0 V and +3.75 V.
Give D corresponding to vA = 0 V, 0.25 V, 1 V, and 3.75 V.
What change in vA causes a change from 0 to 1 in (i) b0, (ii) b1, (iii) b2, and (iv) b3?
If vA = 1.3 V, what do you expect D to be? What is the resulting error in representation?
∨Show Answer
ANALOG VS. DIGITAL CIRCUIT ENGINEERS
∨

(1.4)
1.4 Amplifiers
In this section, we shall introduce the most fundamental signal-processing function, one that is employed in
some form in almost every electronic system, namely, signal amplification. We shall study the amplifier as a
circuit building block; that is, we shall consider its external characteristics and leave the design of its internal
circuit to later chapters.
1.4.1 Signal Amplification
From a conceptual standpoint, the simplest signal-processing task is signal amplification. The need for
amplification arises because transducers provide signals that are said to be “weak,” that is, in the microvolt
(µV) or millivolt (mV) range and possessing little energy. Such signals are too small for reliable processing,
which becomes much easier if the signal magnitude is made larger. The functional block that accomplishes
this task is the signal amplifier.
It is appropriate at this point to discuss the need for linearity in amplifiers. Care must be exercised in the
amplification of a signal, so that the information contained in the signal is not changed and no new
information is introduced. Thus when we feed the signal shown in Fig. 1.3 to an amplifier, we want the
output signal of the amplifier to be an exact replica of that at the input, except of course for having larger
magnitude. In other words, the “wiggles” in the output waveform must be identical to those in the input
waveform. Any change in waveform is considered to be distortion and is obviously undesirable.
An amplifier that preserves the details of the signal waveform is characterized by the relationship
where vi and vo are the input and output signals, respectively, and A is a constant representing the magnitude
of amplification, known as amplifier gain. Equation (1.4) is a linear relationship; hence the amplifier it
describes is a linear amplifier. It should be easy to see that if the relationship between vo and vi contains
higher powers of vi, then the waveform of vo will no longer be identical to that of vi. The amplifier is then
said to exhibit nonlinear distortion.
The amplifiers discussed so far are primarily intended to operate on very small input voltage signals.
Their purpose is to make the signal magnitude larger, and therefore they are thought of as voltage
amplifiers. The preamplifier in the home stereo system is an example of a voltage amplifier.
At this time we wish to mention another type of amplifier, namely, the power amplifier. Such an
amplifier may provide only a modest amount of voltage gain but substantial current gain. Thus while
absorbing little power from the input signal source to which it is connected, often a preamplifier, it delivers
large amounts of power to its load. An example is found in the power amplifier of the home stereo system,
whose purpose is to provide sufficient power to drive the loudspeaker, which is the amplifier load. Here we
should note that the loudspeaker is the output transducer of the stereo system; it converts the electric output
signal of the system into an acoustic signal. A further appreciation of the need for linearity can be acquired
by reflecting on the power amplifier. A linear power amplifier causes both soft and loud music passages to
be reproduced without distortion.

(1.5)
1.4.2 Amplifier Circuit Symbol
The signal amplifier is obviously a two-port circuit. Its function is conveniently represented by the circuit
symbol of Fig. 1.11(a). This symbol clearly distinguishes the input and output ports and indicates the
direction of signal flow. Thus, in subsequent diagrams it will not be necessary to label the two ports “input”
and “output.” For generality we have shown the amplifier to have two input terminals that are distinct from
the two output terminals. A more common situation is illustrated in Fig. 1.11(b), where a common terminal
exists between the input and output ports of the amplifier. This common terminal is used as a reference point
and is called the circuit ground.
Figure 1.11 (a) Circuit symbol for amplifier. (b) An amplifier with a common terminal (ground) between the input and
output ports.
1.4.3 Voltage Gain
A linear amplifier accepts an input signal vI(t) and provides at the output, across a load resistance RL (see
Fig. 1.12(a)), an output signal vO(t) that is a magnified replica of vI(t). The voltage gain of the amplifier is
defined by
Fig. 1.12(b) shows the transfer characteristic of a linear amplifier. If we apply to the input of this amplifier
a sinusoidal voltage of amplitude , we obtain at the output a sinusoid of amplitude 
.

(1.6)
(1.7)
(1.8)
(1.9)
Figure 1.12 (a) A voltage amplifier fed with a signal vI(t) and connected to a load resistance RL.
Figure 1.12 (b) Transfer characteristic of a linear voltage amplifier with voltage gain of Av.
1.4.4 Power Gain and Current Gain
An amplifier increases the signal power an important feature that distinguishes an amplifier from a
transformer. In the case of a transformer, although the voltage delivered to the load could be greater than the
voltage feeding the input side (the primary), the power delivered to the load (from the secondary side of the
transformer) is less than or at most equal to the power supplied by the signal source. On the other hand, an
amplifier provides the load with power greater than that obtained from the signal source. That is, amplifiers
have power gain. The power gain of the amplifier in Fig. 1.12(a) is defined as
where iO is the current that the amplifier delivers to the load (RL), iO = vO/RL, and iI is the current the
amplifier draws from the signal source. The current gain of the amplifier is defined as
From Eqs. (1.5), (1.6), (1.7), and (1.8) we note that

1.4.5 Expressing Gain in Decibels
The amplifier gains defined above are ratios of similarly dimensioned quantities. Thus they will be expressed
either as dimensionless numbers or, for emphasis, as V/V for the voltage gain, A/A for the current gain, and
W/W for the power gain. Alternatively, for a number of reasons, some of them historic, electronics engineers
express amplifier gain with a logarithmic measure. Specifically the voltage gain Av can be expressed as
and the current gain Ai can be expressed as
Since power is related to voltage (or current) squared, the power gain Ap can be expressed in decibels as
The absolute values of the voltage and current gains are used because in some cases Av or Ai will be a
negative number. A negative gain Av simply means that there is a 180° phase difference between input and
output signals; it does not imply that the amplifier is attenuating the signal. On the other hand, an amplifier
whose voltage gain is, say, −20 dB is in fact attenuating the input signal by a factor of 10 (i.e., Av = 0.1 V/V).
1.4.6 The Amplifier Power Supplies
Since the power delivered to the load is greater than the power drawn from the signal source, you may
wonder where this additional power comes from. The answer is found by observing that amplifiers need dc
power supplies for their operation. These dc sources supply the extra power delivered to the load as well as
any power that might be dissipated in the internal circuit of the amplifier (such power is converted to heat).
In Fig. 1.12(a) we have not explicitly shown these dc sources.
Figure 1.13(a) shows an amplifier that requires two dc sources: one positive of value VCC and one
negative of value VEE. The amplifier has two terminals, labeled V+ and V−, for connection to the dc supplies.
For the amplifier to operate, the terminal labeled V+ has to be connected to the positive side of a dc source
whose voltage is VCC and whose negative side is connected to the circuit ground. Also, the terminal labeled
V− has to be connected to the negative side of a dc source whose voltage is VEE and whose positive side is
connected to the circuit ground. Now, if the current drawn from the positive supply is denoted ICC and that
from the negative supply is IEE (see Fig. 1.13a), then the dc power delivered to the amplifier is

(1.10)
Figure 1.13 An amplifier that requires two dc supplies (shown as batteries) for operation.
If the power dissipated in the amplifier circuit is denoted Pdissipated, the power-balance equation for the
amplifier can be written as
where PI is the power drawn from the signal source and PL is the power delivered to the load. Since the
power drawn from the signal source is usually small, the amplifier power efficiency is defined as
The power efficiency is an important performance parameter for amplifiers that handle large amounts of
power. Such amplifiers, called power amplifiers, are used, for example, as output amplifiers of stereo
systems.
In order to simplify circuit diagrams, we shall adopt the convention illustrated in Fig. 1.13(b). Here the
V+ terminal is shown connected to an arrowhead pointing upward and the V− terminal to an arrowhead
pointing downward. The corresponding voltage is indicated next to each arrowhead. Note that in many cases
we will not explicitly show the connections of the amplifier to the dc power sources. Finally, we note that
some amplifiers require only one power supply.
Example 1.2
Consider a microphone producing a sinusoidal signal that is 400-mV peak. It delivers 10-µA peak sinusoidal
current to an amplifier that operates from ±1-V power supplies. The amplifier delivers a 0.8-V peak sinusoid to a
speaker load with 32-Ω resistance. The amplifier draws a current of 30 mA from each of its two power supplies.

Find the voltage gain, the current gain, the power gain, the power drawn from the dc supplies, the power
dissipated in the amplifier, and the amplifier efficiency.
From the above example we observe that the amplifier converts some of the dc power it draws from the
power supplies to signal power that it delivers to the load.
1.4.7 Amplifier Saturation
Practically speaking, the amplifier transfer characteristic remains linear over only a limited range of input
and output voltages. For an amplifier operated from two power supplies the output voltage cannot exceed a
specified positive limit and cannot decrease below a specified negative limit. The resulting transfer
characteristic is shown in Fig. 1.14, with the positive and negative saturation levels denoted L+ and L−,
respectively. Each of the two saturation levels is usually within a fraction of a volt of the voltage of the
corresponding power supply.
Obviously, in order to avoid distorting the output signal waveform, the input signal swing must be kept
within the linear range of operation,
In Fig. 1.14, which shows two input waveforms and the corresponding output waveforms, the peaks of the
larger waveform have been clipped off because of amplifier saturation.
∨Show Solution

Figure 1.14 An amplifier transfer characteristic that is linear except for output saturation.
1.4.8 Symbol Convention
At this point, we draw your attention to the terminology we will use throughout the book. To illustrate, Fig.
1.15 shows the waveform of a current iC(t) that is flowing through a branch in a particular circuit. The
current iC(t) consists of a dc component IC on which is superimposed a sinusoidal component ic(t) whose
peak amplitude is Ic. Observe that at a time t, the total

(1.11)
1.10
1.11
Figure 1.15 Symbol convention employed throughout the book.
instantaneous current iC(t) is the sum of the dc current IC and the signal current ic(t),
where the signal current is given by
Thus, we state some conventions: Total instantaneous quantities are denoted by a lowercase symbol with
uppercase subscript(s), for example, iC(t), vDS(t). Direct-current (dc) quantities are denoted by an uppercase
symbol with uppercase subscript(s), for example, IC, VDS. Incremental signal quantities are denoted by a
lowercase symbol with lowercase subscript(s), for example, ic(t), vgs(t). If the signal is a sine wave, then its
amplitude is denoted by an uppercase symbol with lowercase subscript(s), for example, Ic, Vgs. Finally,
although not shown in Fig. 1.15, dc power supplies are denoted by an uppercase letter with a double-letter
uppercase subscript, for example, VCC, VDD. A similar notation is used for the dc current drawn from the
power supply, for example, ICC, IDD.
EXERCISES
An amplifier has a voltage gain of 100 V/V and a current gain of 1000 A/A. Express the voltage and
current gains in decibels and find the power gain.
An amplifier operating from a single 15-V supply provides a 12-V peak-to-peak sine-wave signal to a
1- kΩ load and draws negligible input current from the signal source. The dc current drawn from the
∨Show Answer

15-V supply is 8 mA. What is the power dissipated in the amplifier, and what is the amplifier
efficiency?
∨Show Answer

(1.12)
1.5 Circuit Models for Amplifiers
A substantial part of this book is concerned with the design of amplifier circuits that use transistors of
various types. Such circuits will vary in complexity from those using a single transistor to those with 20 or
more devices. In order to be able to apply the resulting amplifier circuit as a building block in a system, one
must be able to characterize, or model, its terminal behavior. In this section, we study simple but effective
amplifier models. These models apply irrespective of the complexity of the internal circuit of the amplifier.
The values of the model parameters can be found either by analyzing the amplifier circuit or by performing
measurements at the amplifier terminals.
1.5.1 Voltage Amplifiers
Figure 1.16(a) shows a circuit model for the voltage amplifier. The model consists of a voltage-controlled
voltage source having a gain factor Avo, an input resistance Ri that accounts for the fact that the amplifier
draws an input current from the signal source, and an output resistance Ro that accounts for the change in
output voltage as the amplifier is called upon to supply output current to a load. To be specific, we show in
Fig. 1.16(b) the amplifier model fed with a signal voltage source vs having a resistance Rs and connected at
the output to a load resistance RL. The nonzero output resistance Ro causes only a fraction of Avovi to appear
across the output. Using the voltage-divider rule we obtain
Thus the voltage gain is given by
It follows that in order not to lose gain in coupling the amplifier output to a load, the output resistance Ro
should be much smaller than the load resistance RL. In other words, for a given RL one must design the
amplifier so that its Ro is much smaller than RL. Furthermore, there are applications in which RL is known to
vary over a certain range. In order to keep the output voltage vo as constant as possible, the amplifier is
designed with Ro much smaller than the lowest value of RL. An ideal voltage amplifier is one with Ro = 0.
Equation (1.12) indicates also that for RL = ∞, Av = Avo. Thus Avo is the voltage gain of the unloaded
amplifier, or the open-circuit voltage gain. It should also be clear that in specifying the voltage gain of an
amplifier, one must also specify the value of load resistance at which this gain is measured or calculated. If a
load resistance is not specified, it is normally assumed that the given voltage gain is the open-circuit gain
Avo.

(1.13)
Figure 1.16 (a) Circuit model for the voltage amplifier.
Figure 1.16 (b) The voltage amplifier with input signal source and load.
The finite input resistance Ri introduces another voltage-divider action at the input, with the result that
only a fraction of the source signal vs actually reaches the input terminals of the amplifier; that is,
It follows that in order not to lose a significant portion of the input signal in coupling the signal source to the
amplifier input, the amplifier must be designed to have an input resistance Ri much greater than the
resistance of the signal source, Ri ≫ Rs. Furthermore, there are applications in which the source resistance is
known to vary over a certain range. To minimize the effect of this variation on the value of the signal that
appears at the input of the amplifier, the designer ensures that Ri is much greater than the largest value of Rs.
An ideal voltage amplifier is one with Ri = ∞. In this ideal case both the current gain and power gain become
infinite.
The overall voltage gain (vo/vs) can be found by combining Eqs. (1.12) and (1.13),
There are situations in which one is interested not in voltage gain but only in a significant power gain.
For instance, the source signal can have a respectable voltage but a source resistance that is much greater
than the load resistance. Connecting the source directly to the load would result in significant signal
attenuation. In such a case, one requires an amplifier with a high input resistance (much greater than the

1.12
1.13
1.14
source resistance) and a low output resistance (much smaller than the load resistance) but with a modest
voltage gain (or even unity gain). Such an amplifier is referred to as a buffer amplifier. We shall encounter
buffer amplifiers often throughout this book.
EXERCISES
A sensor producing a voltage of 1 V rms with a source resistance of 1 MΩ is available to drive a 10-Ω
load. If connected directly, what voltage and power levels result at the load? If a unity-gain (i.e., Avo =
1) buffer amplifier with 1- MΩ input resistance and 10-Ω output resistance is interposed between
source and load, what do the output voltage and power levels become? For the new arrangement, find
the voltage gain from source to load, and the power gain (both expressed in decibels).
The output voltage of a voltage amplifier has been found to decrease by 20% when a load resistance of
1 kΩ is connected. What is the value of the amplifier output resistance?
An amplifier with an open-circuit voltage gain of +40 dB, an input resistance of 10 kΩ, and an output
resistance of 1 kΩ is used to drive a 1- kΩ load. What is the value of Avo? Find the value of the power
gain in decibels.
1.5.2 Cascaded Amplifiers
To meet given amplifier specifications, we often need to design the amplifier as a cascade of two or more
stages. The stages are usually not identical; rather, each is designed to serve a specific purpose. For instance,
in order to provide the overall amplifier with a large input resistance, the first stage is usually required to
have a large input resistance. Also, in order to equip the overall amplifier with a low output resistance, the
final stage in the cascade is usually designed to have a low output resistance. To illustrate the analysis and
design of cascaded amplifiers, we consider a practical example.
Example 1.3
Figure 1.17 depicts an amplifier composed of a cascade of three stages. The amplifier is fed by a signal source
with a source resistance of 100 kΩ and delivers its output into a load resistance of 100 Ω. The first stage has a
relatively high input resistance and a modest gain factor of 10. The second stage has a higher gain factor but
lower input resistance. Finally, the last, or output, stage has unity gain but a low output resistance. We wish to
evaluate the overall voltage gain, that is, vL/vs, the current gain, and the power gain.
∨Show Answer
∨Show Answer
∨Show Answer

1.15
1.16
1.17
(b)
Figure 1.17 Three-stage amplifier for Example 1.3.
A few comments on the cascade amplifier in the above example are in order. To avoid losing voltage
signal strength at the amplifier input, the first stage is designed to have an input resistance much larger than
the source resistance (1 MΩ ≫ 100 kΩ). The trade-off appears to be a moderate voltage gain (10 V/V). The
second stage realizes the bulk of the required voltage gain. The third and final, or output, stage functions as a
buffer amplifier, providing a relatively large input resistance and an output resistance much lower than RL
(10 Ω ≪ 100 Ω). In the following exercises, observe that when finding the gain of an amplifier stage in a
cascade amplifier, the loading effect of the succeeding amplifier stage must be taken into account as in the
above example.
EXERCISES
What would the overall voltage gain of the cascade amplifier in Fig. 1.17 be without stage 3 (i.e., with
the load resistance connected to the output of the second stage)?
For the cascade amplifier of Fig. 1.17, let vs be 1 mV. Find vi1, vi2, vi3, and vL.
(a)   Model the three-stage amplifier of Fig. 1.17 (without the source and load), using the voltage
amplifier model of Fig. 1.16(a). What are the values of Ri, Avo, and Ro?
If RL varies in the range 10 Ω to 1000 Ω, find the corresponding range of the overall voltage gain,
vo/vs.
1.5.3 Other Amplifier Types
In the design of an electronic system, the signal of interest—whether at the system input, at an intermediate
stage, or at the output—can be either a voltage or a current. For instance, some transducers have a source
resistance much larger than the amplifier’s input resistance and can therefore be more appropriately modeled
as current sources. Similarly, there are applications in which the amplifier output current rather than the
voltage is of interest. Thus, although it is the most popular, the voltage amplifier considered above is just one
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer

(1.14)
of four possible amplifier types. The other three are the current amplifier, the transconductance amplifier,
and the transresistance amplifier. Table 1.1 shows the four amplifier types, their circuit models, the definition
of their gain parameters, and the ideal values of their input and output resistances.
Table 1.1 The Four Amplifier Types
1.5.4 Relationships between the Four Amplifier Models
Although for a given amplifier a particular one of the four models in Table 1.1 is most preferable, any of the
four can be used to model any amplifier. In fact, simple relationships can be derived to relate the parameters
of the various models. For instance, the open-circuit voltage gain Avo can be related to the short-circuit
current gain Ais as follows: The open-circuit output voltage given by the voltage amplifier model of Table
1.1 is Avovi. The current amplifier model in the same table gives an open-circuit output voltage of AisiiRo.
Equating these two values and noting that ii = vi/Ri gives


1.5.5 Determining Ri and Ro
From the amplifier circuit models given in Table 1.1, we observe that the input resistance Ri of the amplifier
can be determined by applying an input voltage vi and measuring (or calculating) the input current ii; that is,
Ri = vi/ii. The output resistance is found as the ratio of the open-circuit output voltage to the short-circuit
output current. Alternatively, the output resistance can be found by eliminating the input signal source (then
ii and vi will both be zero) and applying a voltage signal vx to the output of the amplifier, as shown in Fig.
1.18. If we denote the current drawn from vx into the output terminals as ix (note that ix is opposite in
direction to io), then Ro = vx/ix. Although these techniques are conceptually correct, in actual practice more
refined methods are employed in measuring Ri and Ro.
Figure 1.18 Determining the output resistance.
1.5.6 Unilateral Models
The amplifier models considered above are unilateral; that is, signal flow is unidirectional, from input to
output. Whereas the unilateral model suggests that an amplifier’s input current and voltage are completely
independent of what is connected to the output, this may not be the case. For example, unintended coupling
may allow portions of signals at the amplifier output to appear at its input. We shall not pursue this point
further at this time except to mention that more complete models for linear two-port networks are given in
Appendix C. Also, in later chapters, we will find it necessary in certain cases to augment the models of Table
1.1 to take into account the nonunilateral nature of some transistor amplifiers.
Example 1.4
The bipolar junction transistor (BJT), which will be studied in Chapter 6, is a three-terminal device that when
powered up by a dc source (battery) and operated with small signals can be modeled by the linear circuit shown
in Fig. 1.19(a). The three terminals are the base (B), the emitter (E), and the collector (C). The heart of the
model is a transconductance amplifier represented by an input resistance between B and E (denoted rπ), a short-
circuit transconductance gm, and an output resistance ro.

(a)
(b)
Figure 1.19 (a) Small-signal circuit model for a bipolar junction transistor (BJT).
With the emitter used as a common terminal between input and output, Fig. 1.19(b) shows a transistor
amplifier known as a common-emitter or grounded-emitter circuit. Derive an expression for the voltage
gain vo/vs, and evaluate its magnitude for the case Rs = 5 kΩ, rπ = 2.5 kΩ, gm = 40 mA/V, ro = 100 kΩ, and
RL = 5 kΩ. What would the gain value be if the effect of ro were neglected?
Figure 1.19 (b) The BJT connected as an amplifier with the emitter as a common terminal between input and
output (called a common-emitter amplifier).
An alternative model for the transistor in which a current amplifier rather than a transconductance amplifier
is used is shown in Fig. 1.19(c). What must the short-circuit current gain β be? Give both an expression and
a value.
Figure 1.19 (c) An alternative small-signal circuit model for the BJT.
EXERCISES
∨Show Solution

1.18
1.19
1.20
1.21
Consider a current amplifier having the model shown in the second row of Table 1.1. Let the amplifier
be fed with a signal current-source is having a resistance Rs, and let the output be connected to a load
resistance RL. Show that the overall current gain is given by
Consider the transconductance amplifier whose model is shown in the third row of Table 1.1. Let a
voltage signal source vs with a source resistance Rs be connected to the input and a load resistance RL
be connected to the output. Show that the overall voltage gain is given by
Consider a transresistance amplifier having the model shown in the fourth row of Table 1.1. Let the
amplifier be fed with a signal current source is having a resistance Rs, and let the output be connected
to a load resistance RL. Show that the overall gain is given by
Find the input resistance between terminals B and G in the circuit shown in Fig. E1.21. The voltage vx
is a test voltage with the input resistance Rin defined as Rin ≡ vx/ix.
Figure E1.21
∨Show Answer

1.6 Frequency Response of Amplifiers2
From Section 1.2 we know that the input signal to an amplifier can always be expressed as the sum of
sinusoidal signals. It follows that an important way to characterize an amplifier is in terms of its response to
input sinusoids of different frequencies. Such a characterization of amplifier performance is known as the
amplifier frequency response.
1.6.1 Measuring the Amplifier Frequency Response
We begin the discussion of amplifier frequency response by showing how it is measured. Figure 1.20 depicts
a linear voltage amplifier fed at its input with a sine-wave signal of amplitude Vi and frequency ω. As the
figure indicates, the signal measured at the amplifier output also is sinusoidal with exactly the same
frequency ω. This is important to note: Whenever a sine-wave signal is applied to a linear circuit, the
resulting output is sinusoidal with the same frequency as the input. In fact, the sine wave is the only signal
that does not change shape as it passes through a linear circuit. Observe, however, that the output sinusoid
will in general have a different amplitude and will be shifted in phase relative to the input. The ratio of the
amplitude of the output sinusoid (Vo) to the amplitude of the input sinusoid (Vi) is the magnitude of the
amplifier gain (or transmission) at the test frequency ω. Also, the angle ϕ is the phase of the amplifier
transmission at the test frequency ω. If we denote the amplifier transmission, or transfer function as it is
more commonly known, by T(ω), then
The response of the amplifier to a sinusoid of frequency ω is completely described by |T(ω)| and ∠T(ω).
Now, to obtain the complete frequency response of the amplifier we simply change the frequency of the
input sinusoid and measure the new value for |T| and ∠T. The result will be a table and/or graph of gain
magnitude [|T(ω)|] versus frequency and a table and/or graph of phase angle [∠T(ω)] versus frequency.
These two plots together constitute the frequency response of the amplifier; the first is known as the
magnitude or amplitude response, and the second is the phase response. It is common to express the
magnitude of transmission in decibels and thus plot 20 log |T(ω)| versus frequency.

Figure 1.20 Measuring the frequency response of a linear amplifier: At the test frequency, the amplifier gain is
characterized by its magnitude (Vo/Vi) and phase ϕ.
1.6.2 Amplifier Bandwidth
Figure 1.21 shows the magnitude response of an amplifier. It indicates that the gain is almost constant over a
wide frequency range, roughly between ω1 and ω2. Signals whose frequencies are below ω1 or above ω2
will experience lower gain, with the gain decreasing as we move farther away from ω1 and ω2. The band of
frequencies over which the gain of the amplifier is almost constant, to within a certain number of decibels
(usually 3 dB), is called the amplifier bandwidth. Normally the amplifier is designed so that its bandwidth
coincides with the spectrum of the signals it is required to amplify. If this were not the case, the amplifier
would distort the frequency spectrum of the input signal, with different components of the input signal being
amplified by different amounts.
Figure 1.21 Typical magnitude response of an amplifier: |T(ω)| is the magnitude of the amplifier transfer function—that
is, the ratio of the output Vo(ω) to the input Vi(ω).
1.6.3 Evaluating the Frequency Response of Amplifiers
Having described the method used to measure the frequency response of an amplifier, we now briefly
discuss the method for analytically obtaining an expression for the frequency response. This is but a preview
of an important subject we will consider at length in Chapter 10.
To evaluate the frequency response of an amplifier, we have to analyze the amplifier equivalent circuit
model, taking into account all reactive components.3 Circuit analysis proceeds in the usual fashion but with
inductances and capacitances represented by their reactances. An inductance L has a reactance or impedance
jωL, and a capacitance C has a reactance or impedance 1/jωC or, equivalently, a susceptance or admittance
jωC. Thus in a frequency-domain analysis we deal with impedances and/or admittances. The result of the
analysis is the amplifier transfer function T(ω)

where Vi(ω) and Vo(ω) denote the input and output signals, respectively. T(ω) is generally a complex
function whose magnitude |T(ω)| gives the magnitude of transmission or the magnitude response of the
amplifier. The phase of T(ω) gives the phase response of the amplifier.
In the analysis of a circuit to determine its frequency response, the algebraic manipulations can be
considerably simplified by using the complex frequency variable s. In terms of s, the impedance of an
inductance L is sL and that of a capacitance C is 1/sC. Replacing the reactive elements with their impedances
and performing standard circuit analysis, we obtain the transfer function T(s) as
Subsequently, we replace s by jω to determine the transfer function for physical frequencies,4 T(jω). Note
that T(jω) is the same function we called T(ω) above5; the additional j is included in order to emphasize that
T(jω) is obtained from T(s) by replacing s with jω.
1.6.4 Single-Time-Constant Networks
In analyzing amplifier circuits to determine their frequency response, we can draw on knowledge of the
frequency-response characteristics of single-time-constant (STC) networks. An STC network is composed
of, or can be reduced to, one reactive component (inductance or capacitance) and one resistance. Examples
are shown in Fig. 1.22(a) and (b). An STC network formed of an inductance L and a resistance R has a time
constant τ = L/R. The time constant τ of an STC network composed of a capacitance C and a resistance R is
given by τ = CR.
Appendix F presents a study of STC networks and their responses to sinusoidal, step, and pulse inputs.
We encourage you to read Appendix F, as you will need an understanding of this material at various points
throughout this book. At this point we need the frequency-response results, so we will, in fact, briefly discuss
this important topic now.
Most STC networks can be classified into two categories,6 low pass (LP) and high pass (HP), with each
of the two categories displaying distinctly different signal responses. As an example, the STC network
shown in Fig. 1.22(a) is of the low-pass type and that in Fig. 1.22(b) is of the high-pass type. To see the
reasoning behind this classification, observe that the transfer function of each of these two circuits can be
expressed as a voltage-divider ratio, with the divider composed of a resistor and a capacitor. Now, recalling
how the impedance of a capacitor varies with frequency (Z = 1/jωC), it is easy to see that the transmission of
the circuit in Fig. 1.22(a) will decrease with frequency and approach zero as ω approaches ∞. Thus the
circuit of Fig. 1.22(a) acts as a low-pass filter7; it passes low-frequency, sine-wave inputs with little or no
attenuation (at ω = 0, the transmission is unity) and attenuates high-frequency input sinusoids. The circuit of
Fig. 1.22(b) does the opposite; its transmission is unity at ω = ∞ and decreases as ω is reduced, reaching 0
for ω = 0. The latter circuit, therefore, performs as a high-pass filter.

Figure 1.22 Two examples of STC networks: (a) a low-pass network and (b) a high-pass network.
Table 1.2 summarizes the frequency-response results for STC networks of both types,8 and sketches of
the magnitude and phase responses are given in Figs. 1.23(a) and (b) and 1.24(a) and (b). These frequency-
response diagrams are known as Bode plots, and the 3-dB frequency (ω0) is also known as the corner
frequency, break frequency, or pole frequency. We urge you to become familiar with this information and
to consult Appendix F if you need further clarification. In particular, you should be able to rapidly determine
the time constant τ of an STC circuit. The process is very simple: Set the independent voltage or current
source to zero; “grab hold” of the two terminals of the reactive element (capacitor C or inductor L); and
determine the equivalent resistance R that appears between these two terminals. The time constant is then CR
or L/R.
Table 1.2 Frequency Response of STC Networks
Low-Pass (LP)
High-Pass (HP)
Transfer Function T(s)
Transfer Function (for physical frequencies) T(jω)
Magnitude Response |T(jω)|
Phase Response 
−tan−1(ω/ω0)
tan−1(ω0/ω)
Transmission at ω = 0 (dc)
K
0
Transmission at ω = ∞
0
K
3-dB Frequency
ω0 = 1/τ ; τ ≡ time constant 
τ = CR or L/R
Bode Plots
in Fig. 1.23
in Fig. 1.24

Figure 1.23 (a) Magnitude of STC networks of the low-pass type.
Figure 1.23 (b) Phase response of STC networks of the low-pass type.

Figure 1.24 (a) Magnitude of STC networks of the high-pass type.
Figure 1.24 (b) Phase response of STC networks of the high-pass type.
Video Example VE 1.4
Figure VE1.4 shows a signal source connected to the input of an amplifier. Here Rs is the source resistance, and
Ri and Ci are the input resistance and input capacitance, respectively, of the amplifier. Derive an expression for
Vi(s)/Vs(s), and show that it is of the low-pass STC type. Find the 3-dB frequency for the case Rs = 20 kΩ, Ri =
40 kΩ, and Ci = 2pF.
BODE PLOTS
∨


(a)
(b)
(c)
(i)
(ii)
(iii)
(iv)
Figure 1.25 Circuit for Example 1.5.
Derive an expression for the amplifier voltage gain Vo/Vs as a function of frequency. From this
find expressions for the dc gain and the 3-dB frequency.
Calculate the values of the dc gain, the 3-dB frequency, and the frequency at which the gain
becomes 0 dB (i.e., unity) for the case Rs = 20 kΩ, Ri = 100 kΩ, Ci = 60 pF, μ = 144 V/V, Ro =
200 Ω, and RL = 1 kΩ.
Find vo(t) for each of the following inputs:
vi = 0.1 sin102t V
vi = 0.1 sin105t V
vi = 0.1 sin106t V
vi = 0.1 sin108t V
1.6.5 Classification of Amplifiers Based on Frequency Response
Amplifiers can be classified based on the shape of their magnitude-response curve. Figure 1.26(a), (b), and
(c) shows typical frequency-response curves for various amplifier types. In Fig. 1.26(a) the gain remains
constant over a wide frequency range, but falls off at low and high frequencies. This type of frequency
response is common in audio amplifiers since the dc and very-low-frequency components of an audio signal
are imperceptible to the human ear.
∨Show Solution

Figure 1.26 (a) Frequency response for a capacitively coupled amplifier.
Figure 1.26 (b) Frequency response for a direct-coupled amplifier.
Figure 1.26 (c) Frequency response for a tuned or bandpass amplifier.
As we will see in later chapters, internal capacitances in the device (a transistor) cause the falloff of
gain at high frequencies, just as Ci did in the circuit of Example 1.5. On the other hand, the falloff of gain at
low frequencies is usually caused by coupling capacitors used to connect one amplifier stage to another, as
indicated in Fig. 1.27. This practice is usually adopted to simplify the design process of the different stages.
Also, some sensors require large dc voltages for proper operation. Because this may damage the following
amplifier, a coupling capacitor is inserted between them. The coupling capacitors are usually chosen quite

1.22
large (a fraction of a microfarad to a few tens of microfarads) so that their reactance (impedance) is small at
the frequencies of interest. Nevertheless, at sufficiently low frequencies the reactance of a coupling capacitor
will become large enough to cause part of the signal being coupled to appear as a voltage drop across the
coupling capacitor, thus not reaching the subsequent stage. Coupling capacitors will thus cause loss of gain
at low frequencies and cause the gain to be zero at dc. This is not at all surprising, since from Fig. 1.27 we
observe that the coupling capacitor, acting together with the input resistance of the subsequent stage, forms a
high-pass STC circuit. It is the frequency response of this high-pass circuit that accounts for the shape of the
amplifier frequency response in Fig. 1.26(a) at the low-frequency end.
Figure 1.27 Use of a capacitor to couple amplifier stages.
There are many applications in which it is important that the amplifier maintain its gain at low
frequencies down to dc. This is the case when the signal of interest is nearly constant, for example, the signal
produced by a temperature sensor in a refrigerator. Furthermore, monolithic integrated-circuit (IC)
technology does not allow the fabrication of large coupling capacitors. Thus IC amplifiers are usually
designed as directly coupled or dc amplifiers (as opposed to capacitively coupled, or ac amplifiers).
Figure 1.26(b) shows the frequency response of a dc amplifier. Such a frequency response characterizes what
is referred to as a low-pass amplifier.
In a number of applications, such as in the design of radio and TV receivers, the need arises for an
amplifier whose frequency response peaks around a certain frequency (called the center frequency) and
falls off on both sides of this frequency, as shown in Fig. 1.26(c). Amplifiers with such a response are called
tuned amplifiers, bandpass amplifiers, or bandpass filters. A tuned amplifier forms the heart of the front-
end or tuner of a communication receiver; by adjusting its center frequency to coincide with the frequency of
a desired communications channel (e.g., a radio station), the signal of this particular channel can be received
while those of other channels are attenuated or filtered out. Tuned amplifiers are also useful for the
sinusoidal signals that are commonly used as clocks in electronic systems while attenuating noise and
interference at other frequencies.
EXERCISES
Consider a voltage amplifier having a frequency response of the low-pass STC type with a dc gain of
60 dB and a 3-dB frequency of 1000 Hz. Find the gain in dB at f = 10 Hz, 10 kHz, 100 kHz, and 1
MHz.
∨Show Answer

D1.23
D1.24
Consider a transconductance amplifier having the model shown in Table 1.1. If the amplifier load
consists of a resistance RL in parallel with a capacitance CL, convince yourself that the voltage transfer
function realized, Vo/Vi, is of the low-pass STC type. For example, this may be a suitable model when
a transistor is driving an ultrasonic transducer. Consider the case where the transducer is a load with RL
= 1 kΩ and CL = 4.5 nF, and find the largest value of Ro for which a 3-dB bandwidth of at least 40 kHz
is provided. With this value of Ro, find the minimum value of Gm required to ensure a dc gain of at
least 40 dB.
Consider the situation illustrated in Fig. 1.27. Let the output resistance of the first voltage amplifier be
1 kΩ and the input resistance of the second voltage amplifier (including the resistor shown) be 9 kΩ.
The resulting equivalent circuit is shown in Fig. E1.24. Convince yourself that V2/Vs is a high-pass
STC function. What is the smallest value for C that will ensure that the 3-dB frequency is not higher
than 100 Hz?
Figure E1.24
∨Show Answer
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
An electrical signal source can be represented in either the Thévenin form (a voltage source vs in series
with a source resistance Rs) or the Norton form (a current source is in parallel with a source resistance
Rs). The Thévenin voltage vs is the open-circuit voltage between the source terminals; the Norton current
is is equal to the short-circuit current between the source terminals. For the two representations to be
equivalent, vs and Rsis must be equal.
A signal can be represented either by its waveform versus time or as the sum of sinusoids. The latter
representation is known as the frequency spectrum of the signal.
The sine-wave signal is completely characterized by its peak value (or rms value, which is the peak/
,
its frequency (ω in rad/s or f in Hz; ω = 2πf and f = 1/T, where T is the period in seconds), and its phase
with respect to an arbitrary reference time.
Analog signals have magnitudes that can assume any value. Electronic circuits that process analog
signals are called analog circuits. Sampling the magnitude of an analog signal at discrete instants of time
and representing each signal sample by a number results in a digital signal. Digital signals are processed
by digital circuits.
The simplest digital signals are obtained when the binary system is used. An individual digital signal
then assumes one of only two possible values: low and high (say, 0 V and +1.8 V), corresponding to
logic 0 and logic 1, respectively.
An analog-to-digital converter (ADC) provides at its output the digits of the binary number representing
the analog signal sample applied to its input. The output digital signal can then be processed using digital
circuits. Refer to Fig. 1.10 and Eq. (1.3).
The transfer characteristic, vO versus vI, of a linear amplifier is a straight line with a slope equal to the
voltage gain. Refer to Fig. 1.12(a) and (b).
Amplifiers increase the signal power and thus require dc power supplies for their operation.
The amplifier voltage gain can be expressed as a ratio Av in V/V or in decibels, 20 log |Av|, dB. Similarly,
for current gain: Ai A/A or 20 log |Ai|, dB. For power gain: Ap W/W or 10 log Ap, dB.
Depending on the signal to be amplified (voltage or current) and on the desired form of output signal
(voltage or current), there are four basic amplifier types: voltage, current, transconductance, and
transresistance amplifiers. For the circuit models and ideal characteristics of these four amplifier types,
refer to Table 1.1. A given amplifier can be modeled by any one of the four models, in which case their
parameters are related by the formulas in Eqs. (1.14), (1.15), and (1.16).
The sinusoid is the only signal whose waveform is unchanged through a linear circuit. Sinusoidal signals
are used to measure the frequency response of amplifiers.
The transfer function T(s) ≡ Vo(s)/Vi(s) of a voltage amplifier can be determined from circuit analysis.
Substituting s = jω gives T(jω), whose magnitude |T(jω)| is the magnitude response, and whose phase
ϕ(ω) is the phase response, of the amplifier.
Amplifiers are classified according to the shape of their frequency response, |T(jω)|. Refer to Fig. 1.26.

■
■
■
Single-time-constant (STC) networks are those networks that are composed of, or can be reduced to, one
reactive component (L or C) and one resistance (R). The time constant τ is either L/R or CR.
STC networks can be classified into two categories: low pass (LP) and high pass (HP). LP networks pass
dc and low frequencies and attenuate high frequencies. The opposite is true for HP networks.
The gain of an LP (HP) STC circuit drops by 3 dB below the zero-frequency (infinite-frequency) value at
a frequency ω0 = 1/τ. At high frequencies (low frequencies) the gain falls off at the rate of 6 dB/octave or
20 dB/decade. Refer to Table 1.2 and Figs. 1.23(a) and (b) and 1.24(a) and (b). Further details are given
in Appendices E and F.

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
(e)
(f)
(a)
(b)
(c)
(d)
(e)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Circuit Basics
As a review of the basics of circuit analysis and in order for the readers to gauge their preparedness for the study of
electronic circuits, this section presents a number of relevant circuit analysis problems. For a summary of
Thévenin’s and Norton’s theorems, refer to Appendix D. The problems are grouped in appropriate categories.
Resistors and Ohm’s Law
1.1 Ohm’s law relates V, I, and R for a resistor. For each of the situations following, find the missing item:
R = 1 kΩ, V = 0.5 V
V = 2 V, I = 1 mA
R = 20 kΩ, I = 0.1 mA
R = 100 Ω, V = 5 V
Note: Volts, milliamps, and kilohms constitute a consistent set of units.
1.2 Measurements taken on various resistors are shown below. For each, calculate the power dissipated in the
resistor and the power rating necessary for safe operation using standard components with power ratings of 1/8 W,
1/4 W, 1/2 W, 1 W, or 2 W:
1 kΩ conducting 20 mA
1 kΩ conducting 40 mA
100 kΩ conducting 1 mA
10 kΩ conducting 4 mA
1 kΩ dropping 20 V
1 kΩ dropping 11 V
1.3 Ohm’s law and the power law for a resistor relate V, I, R, and P, making only two variables independent. For
each pair identified below, find the other two:
R = 1 kΩ, I = 2mA
V = 1 V, I = 20 mA
V = 1 V, P = 100 mW
I = 0.1 mA, P = 2 mW
R = 1 kΩ, P = 0.1 W
∨Show Answer

Combining Resistors
1.4 You have available only 5- kΩ resistors, but you have as many as you would like. Using series and parallel
combinations of them, realize the following resistor values: 20 kΩ, 1.67 kΩ, 12.5 kΩ, 23.75 kΩ.
1.5 In the analysis and test of electronic circuits, it is often useful to connect one resistor in parallel with another to
obtain a nonstandard value, one which is smaller than the smaller of the two resistors. Often, particularly during
circuit testing, one resistor is already installed, in which case the second, when connected in parallel, is said to
“shunt” the first. If the original resistor is 10 kΩ, what is the value of the shunting resistor needed to reduce the
combined value by 1%, 5%, 10%, and 50%? What is the result of shunting a 10- kΩ resistor by 1 MΩ? By 100 kΩ?
By 10 kΩ?
Voltage Dividers
1.6 Figure P1.6(a) shows a two-resistor voltage divider. Its function is to generate a voltage VO (smaller than the
power-supply voltage VDD) at its output node X. The circuit looking back at node X is equivalent to that shown in
Fig. P1.6(b). Observe that this is the Thévenin equivalent of the voltage-divider circuit. Find expressions for VO
and RO.
Figure P1.6 (a)
Figure P1.6 (b)
1.7 A two-resistor voltage divider employing a 2- kΩ and a 1- kΩ resistor is connected to a 3-V ground-referenced
power supply to provide a 2-V voltage. Sketch the circuit. Assuming exact-valued resistors, what output voltage
∨Show Answer
∨Show Answer

(measured to ground) and equivalent output resistance result? If the resistors used are not ideal but have a ±5%
manufacturing tolerance, what are the extreme output voltages and resistances that can result?
D 1.8 You are given three resistors, each of 10 kΩ, and a 9-V battery whose negative terminal is connected to
ground. With a voltage divider using some or all of your resistors, how many positive-voltage sources of magnitude
less than 9 V can you design? List them in order, smallest first. What is the output resistance (i.e., the Thévenin
resistance) of each?
D *1.9 Two resistors, with nominal values of 470 Ω and 1 kΩ, are used in a voltage divider with a +3-V supply to
create a nominal +1-V output. Assuming the resistor values to be exact, what is the actual output voltage produced?
Which resistor must be shunted (paralleled) by what third resistor to create a voltage-divider output of 1.00 V? If an
output resistance of exactly 333 Ω is also required, what do you suggest?
Current Dividers
1.10 Figure P1.10 shows a two-resistor current divider fed with an ideal current source I. Show that
Figure P1.10
and find the voltage V that develops across the current divider.
1.11 Figure P1.11 shows a current source driving N resistors in parallel. Show that the current through the kth
resistor is
Figure P1.11
∨Show Answer
∨Show Answer

Show that when N = 2, this expression is the same as for a two-resistor current divider.
D 1.12 Design a simple current divider that will reduce the current provided to a 6- kΩ load to one-quarter of that
available from the source.
D 1.13 A designer searches for a simple circuit to provide one-fifth of a signal current I to a load resistance R.
Suggest a solution using one resistor. What must its value be? What is the input resistance of the resulting current
divider? For a particular value R, the designer discovers that the otherwise-best-available resistor is 10% too high.
Suggest two circuit topologies using one additional resistor that will solve this problem. What is the value of the
resistor required in each case? What is the input resistance of the current divider in each case?
D 1.14 A current source produces a sinusoidal signal with 0.5 mA peak amplitude. However, the voltage across the
source must not exceed 1 V, otherwise the signal becomes distorted. What is the maximum load resistance that may
be connected to the source while respecting this limit? If a 10- kΩ load is to be connected, what additional resistor
must be connected in parallel to prevent distortion? What is the resulting current signal through the 10- kΩ load?
Thévenin Equivalent Circuits
1.15 For the circuit in Fig. P1.15, find the Thévenin equivalent circuit between terminals (a) 1 and 2, (b) 2 and 3,
and (c) 1 and 3.
Figure P1.15
1.16 Through repeated application of Thévenin’s theorem, find the Thévenin equivalent of the circuit in Fig. P1.16
between node 4 and ground, and hence find the current that flows through a load resistance of 3 kΩ connected
between node 4 and ground.
Figure P1.16
Circuit Analysis
1.17 For the circuit shown in Fig. P1.17, find the current in each of the three resistors and the voltage (with respect
to ground) at their common node using two methods:
∨Show Answer
∨Show Answer

(a)
(b)
 
Loop Equations: Define branch currents I1 and I2 in R1 and R2, respectively; write two equations; and
solve them.
Node Equation: Define the node voltage V at the common node; write a single equation; and solve it.
Which method do you prefer? Why?
Figure P1.17
1.18 The circuit shown in Fig. P1.18 represents the equivalent circuit of an unbalanced bridge. Such equivalent
circuits arise, for example, in pressure sensors where the resisances R1−4 vary with pressure and the output signal is
observed across terminals 1 and 2. It is required to calculate the current in the detector branch (R5) and the voltage
across it. Although this can be done by using loop and node equations, a much easier approach is possible: Find the
Thévenin equivalent of the circuit to the left of node 1 and the Thévenin equivalent of the circuit to the right of
node 2. Then solve the resulting simplified circuit.
Figure P1.18
1.19 Two sources are connected as shown in Fig. P1.19 below. Use Thévenin equivalent representations to help
find the voltage vo.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
(a)
(b)
(c)
(d)
(e)
Figure P1.19
1.20 Derive an expression for vo/vs for the circuit shown in Fig. P1.20.
Figure P1.20
AC Circuits
1.21 The periodicity of recurrent waveforms, such as sine waves or square waves, can be completely specified
using only one of three possible parameters: radian frequency, ω, in radians per second (rad/s); (conventional)
frequency, f, in hertz (Hz); or period, T, in seconds (s). As well, each of the parameters can be specified numerically
in one of several ways: using letter prefixes associated with the basic units, using scientific notation, or using some
combination of both. Thus, for example, a particular period may be specified as 100 ns, 0.1 µs, 10−1 µs, 105 ps, or
1 × 10−7 s. (For the definition of the various prefixes used in electronics, see Appendix J.) For each of the measures
listed below, express the trio of terms in scientific notation associated with the basic unit (e.g., 10−7 s rather than
10−1µs).
T = 10−4 µs
f = 3 GHz
ω = 6.28 × 104 rad/s
T = 10−7 s
f = 60 Hz
ω = 100 krad/s
f = 270 MHz
1.22 Find the complex impedance, Z, of each of the following basic circuit elements at 60 Hz, 100 kHz, and 1 GHz:
R = 1 kΩ
C = 10 nF
C = 10 pF
L = 10 mH
L = 1 µH
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(a)
(b)
(c)
(d)
1.23 Find the complex impedance at 10 kHz of the following networks:
1 kΩ in series with 1 nF
1 kΩ in parallel with 0.01 µF
10 kΩ in parallel with 100 pF
100 kΩ in series with 10 mH
*1.24 Write an expression for the complex impedance of a parallel combination of an inductor, L, and a capacitor,
C, as a function of frequency.
Find the frequency at which the magnitude of the impedance becomes infinite. What happens to the phase of the
impedance at this frequency? What current will the parallel combination draw from an ideal sinusoidal voltage
source at this frequency?
Section 1.1: Signals
1.25 Any given signal source provides an open-circuit voltage, voc, and a short-circuit current, isc. For the
following sources, calculate the internal resistance, Rs; the Norton current, is; and the Thévenin voltage, vs:
voc = 3 V, isc = 3 mA
voc = 500 mV, isc = 50 µA
1.26 A particular signal source produces an output of 100 µA when loaded by a 100- kΩ resistor and 500 µA when
loaded by a 10- kΩ resistor. Calculate the Thévenin voltage, Norton current, and source resistance.
1.27 An audio signal source is connected to a speaker. When connected to a 16-Ω speaker, the source delivers 25%
less power than when connected to a 32-Ω headphone speaker. What is the source resistance?
1.28 A temperature sensor is specified to provide 2 mV/°C. When connected to a load resistance of 10 kΩ, the
output voltage was measured to change by 10 mV, corresponding to a change in temperature of 20°C. What is the
source resistance of the sensor?
1.29 Refer to the Thévenin and Norton representations of the signal source (Fig. 1.1(a) and (b)). If the current
supplied by the source is denoted io and the voltage appearing between the source output terminals is denoted vo,
sketch and clearly label vo versus io for 0 ≤ io ≤ is.
1.30 Consider voltage sources connected to loads with the values shown below. In each case, find the
percentage change in VL and IL in response to a 10% increase in the value of RL. In which cases is it
more appropriate to use a Norton equivalent source? In those cases, find the Norton equivalent for Vs = 1
V.
Rs = 5 kΩ; RL = 200 kΩ
Rs = 5 Ω; RL = 50 Ω
Rs = 2 kΩ; RL = 100 Ω
Rs = 150 Ω; RL = 16 Ω
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
Figure P1.30
1.31 The connection of a signal source to an associated signal processor or amplifier generally involves some
degree of signal loss as measured at the processor or amplifier input. Considering the two signal-source
representations shown in Fig. 1.1(a) and (b), provide two sketches showing each signal-source representation
connected to the input terminals (and corresponding input resistance) of a signal processor. What signal-processor
input resistance will result in 95% of the open-circuit voltage being delivered to the processor? What input
resistance will result in 95% of the short-circuit signal current entering the processor?
Section 1.2: Frequency Spectrum of Signals
1.32 To familiarize yourself with typical values of angular frequency ω, conventional frequency f, and period T,
complete the entries in the following table:
Case
ω (rad/s)
f (Hz)
T (s)
a
5 × 109
b
2 × 109
c
1 × 10−10
d
60
e
6.28 × 104
f
1 × 10−5
1.33 For the following peak or rms values of some important sine waves, calculate the corresponding other value:
117 V rms, a household-power voltage in North America
33.9 V peak, a somewhat common voltage in rectifier circuits
220 V rms, a household-power voltage in parts of Europe
220 kV rms, a high-voltage transmission-line voltage in North America
1.34 Give expressions for the sine-wave voltage signals having:
3-V peak amplitude and 20-kHz frequency
120-V rms and 60-Hz frequency
0.2-V peak-to-peak and 108-rad/s frequency
100-mV peak and 1-ns period
1.35 Characterize a symmetrical square-wave wave with peak-to-peak amplitude 2V and period 0.5 ms. Sketch the
waveform. What is its average value? Its lowest value? Its highest value? Its frequency? Write an expression for it
in terms of its sinusoidal components.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
1.36 Measurements taken of a square-wave signal using a frequency-selective voltmeter (called a spectrum
analyzer) show its spectrum to contain adjacent components (spectral lines) at 98 kHz and 126 kHz of amplitudes
63 mV and 49 mV, respectively. What would direct measurement of the fundamental show its frequency and
amplitude to be? What is the rms value of the fundamental? What are the peak-to-peak amplitude and period of the
originating square wave?
1.37 A symmetrical square wave with peak amplitude 
 and zero average is to be approximated by its first five
(lowest frequency) sinusoidal components. Compare the rms value of the square wave to that of its approximation.
What is the percentage difference?
1.38 Find the amplitude of a symmetrical square wave of period T that provides the same power as a sine wave of
peak amplitude 
 and the same frequency. Does this result depend on equality of the frequencies of the two
waveforms?
Section 1.3: Analog and Digital Signals
1.39 Give the binary representation of the following decimal numbers: 0, 5, 13, 32, and 63.
1.40 Consider a 4-bit digital word b3b2b1b0 in a format called signed-magnitude, in which the most significant bit,
b3, is interpreted as a sign bit—0 for positive and 1 for negative values. List the values that can be represented by
this scheme. What is peculiar about the representation of zero? For a particular analog-to-digital converter (ADC),
each change in b0 corresponds to a 0.5-V change in the analog input. What is the full range of the analog signal that
can be represented? What signed-magnitude digital code results for an input of +2.5 V? For −3.0 V? For +2.7 V?
For −2.8 V?
1.41 Consider an N-bit DAC whose output varies from 0 to VFS (where the subscript FS denotes “full-scale”).
Show that a change in the least significant bit (LSB) induces a change of VFS/(2N − 1) in the output. This is
the resolution of the converter.
Convince yourself that the DAC can produce any desired output voltage between 0 and VFS with at most
VFS/2(2N − 1) error (i.e., one-half the resolution). This is called the quantization error of the converter.
For VFS = 5 V, how many bits are required to obtain a resolution of 2 mV or better? What is the actual
resolution obtained? What is the resulting quantization error?
1.42 Figure P1.42 shows the circuit of an N-bit DAC. Each of the N bits of the digital word to be converted controls
one of the switches. When the bit is 0, the switch is in the position labeled 0; when the bit is 1, the switch is in the
position labeled 1. The analog output is the current iO. Vref is a constant reference voltage.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
(a)
(b)
(c)
Figure P1.42
Show that
Which bit is the LSB? Which is the MSB?
For Vref = 10 V, R = 10 kΩ, and N = 8, find the maximum value of iO obtained. What is the change in iO
resulting from the LSB changing from 0 to 1?
1.43 An audio signal is sampled at 44.1 kHz. Each sample is represented by 16 bits. What is the speed of this
system in bits per second?
1.44 Each pixel in a 10-megapixel image is represented by 8 bits for the intensity of red, 8 bits for green, and 8 bits
for blue. How many such images can be stored in 16 Gbits of memory?
Section 1.4: Amplifiers
1.45 Various amplifier and load combinations are measured as listed below using rms values. For each, find the
voltage, current, and power gains (Av, Ai, and Ap, respectively) both as ratios and in dB:
vI = 100 mV, iI = 100 µA, vO = 10 V, RL = 100 Ω
vI = 10 µV, iI = 100 nA, vO = 1 V, RL = 10 kΩ
vI = 1 V, iI = 1 mA, vO = 5 V, RL = 10 Ω
1.46 An amplifier operating from ±3-V supplies provides a 2.2-V peak sine wave across a 100-Ω load when
provided with a 0.2-V peak input from which 1.0 mA peak is drawn. Find the voltage gain, current gain, and power
gain expressed as ratios and in decibels. If the amplifier efficiency is 10%, find the supply power, supply current,
and amplifier dissipation.
1.47 An amplifier using balanced power supplies is known to saturate for signals extending within 1.0 V of either
supply. For linear operation, its gain is 200 V/V. What is the rms value of the largest undistorted sine-wave output
available, and input needed, with ±5-V supplies? With ±10-V supplies? With ±15-V supplies?
Section 1.5: Circuit Models for Amplifiers
1.48 Consider the voltage-amplifier circuit model shown in Fig. 1.16(b), in which Avo = 100 V/V under the
following conditions:
Ri = 10Rs, RL = 10Ro
Ri = Rs, RL = Ro
Ri = Rs/10, RL = Ro/10
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(c)
Calculate the overall voltage gain vo/vs in each case, expressed both directly and in decibels.
1.49 An amplifier with 40 dB of small-signal, open-circuit voltage gain, an input resistance of 1 MΩ, and an output
resistance of 100 Ω, drives a load of 500 Ω. What voltage and power gains (expressed in dB) would you expect
with the load connected? If the amplifier has a peak output-current limitation of 20 mA, what is the rms value of
the largest sine-wave input for which an undistorted output is possible? What is the corresponding output power
available?
1.50 A 10-mV signal source having an internal resistance of 5 kΩ is connected to an amplifier for which
the input resistance is 1 kΩ, the open-circuit voltage gain is 100 V/V, and the output resistance is 200 Ω.
The amplifier is connected in turn to a 100-Ω load.
What overall voltage gain results as measured from the source internal voltage to the load? Where did all
the gain go? What would the gain be if the source was connected directly to the load? What is the ratio of
these two gains? This ratio is a useful measure of the benefit the amplifier brings.
Now instead, replace the source by its Norton equivalent and the amplifier with the equivalent current
amplifier from Table 1.1. What is the current gain, io/is? Show that it is the same as would be computed using
the voltage amplifier model.
1.51 A buffer amplifier with a gain of 1 V/V has an input resistance of 1 MΩ and an output resistance of 20 Ω. It is
connected between a 1-V, 200- kΩ source and a 100-Ω load. What load voltage results? What are the corresponding
voltage, current, and power gains (in dB)?
1.52 Consider the cascade amplifier of Fig. 1.17. Find the overall voltage gain vo/vs obtained when the first and
second stages are interchanged. Compare this value with the result in Example 1.3, and comment.
1.53 You are given two amplifiers, A and B, to connect in cascade between a 10-mV, 100- kΩ source and a 100-Ω
load. The amplifiers have voltage gain, input resistance, and output resistance as follows: for A, 100 V/V, 100 kΩ,
10 kΩ, respectively; for B, 10 V/V, 10 kΩ, 1 kΩ, respectively. Your problem is to decide how the amplifiers should
be connected. To proceed, evaluate the two possible connections between source S and load L, namely, SABL and
SBAL. Find the voltage gain for each both as a ratio and in decibels. Which amplifier arrangement is best?
D *1.54 A designer has available voltage amplifiers with an input resistance of 100 kΩ, an output resistance of 1
kΩ, and an open-circuit voltage gain of 15. The signal source has a 50- kΩ resistance and provides a 5-mV rms
signal, and it is required to provide a signal of at least 3 V rms to a 200-Ω load. How many amplifier stages are
required? What is the output voltage actually obtained?
D *1.55 Design an amplifier that provides 0.5 W of signal power to a 100-Ω load resistance. The signal source
provides a 30-mV rms signal and has a resistance of 0.5 MΩ. Three types of voltage-amplifier stages are available:
A high-input-resistance type with Ri = 1 MΩ, Avo = 10, and Ro = 10 kΩ
A high-gain type with Ri = 10 kΩ, Avo = 100, and Ro = 1 kΩ
A low-output-resistance type with Ri = 10 kΩ, Avo = 1, and Ro = 20 Ω
Design a suitable amplifier using a combination of these stages. Your design should utilize the minimum number of
stages and should ensure that the signal level is not reduced below 10 mV at any point in the amplifier chain. Find
the load voltage and power output realized.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
D *1.56 You are required to design a voltage amplifier to be driven from a signal source having a 5-mV peak
amplitude and a source resistance of 10 kΩ to supply a peak output of 2 V across a 1- kΩ load.
What is the required voltage gain from the source to the load?
If the peak current available from the source is 0.1 µA, what is the smallest input resistance allowed? For the
design with this value of Ri, find the overall current gain and power gain.
If the amplifier power supply limits the peak value of the output open-circuit voltage to 3 V, what is the largest
output resistance allowed?
For the design with Ri as in (b) and Ro as in (c), what is the required value of open-circuit voltage gain, 
, of the amplifier?
If, as a possible design option, you are able to increase Ri to the nearest value of the form 1 × 10n Ω and to
decrease Ro to the nearest value of the form 1 × 10m Ω, find (i) the input resistance achievable; (ii) the output
resistance achievable; and (iii) the open-circuit voltage gain now required to meet the specifications.
D 1.57 A voltage amplifier with an input resistance of 40 kΩ, an output resistance of 100 Ω, and a gain of 300 V/V
is connected between a 10- kΩ source with an open-circuit voltage of 10 mV and a 100-Ω load. For this situation:
What output voltage results?
What is the voltage gain from source to load?
What is the voltage gain from the amplifier input to the load?
If the output voltage across the load is twice that needed and there are signs of amplifier saturation, suggest the
location and value of a single resistor that would produce the desired output. Choose an arrangement that
would cause minimum disruption to an operating circuit. (Hint)
1.58 A current amplifier supplies 1 mA to a load resistance of 1 kΩ. When the load resistance is increased to 12
kΩ, the output current decreases to 0.5 mA. What are the values of the short-circuit output current and the output
resistance of the amplifier?
1.59 A transresistance amplifier for which Ri = 100 Ω, Ro = 10 Ω, and Rm = 5 kΩ is to be connected between a 100-
mV source with a resistance of 1 kΩ and a load of 1 kΩ. What are the values of current gain io/ii, of voltage gain
vo/vs, and of power gain expressed directly and in decibels?
1.60 A transconductance amplifier with Ri = 2 kΩ, Gm = 20 mA/V, and Ro = 5 kΩ is fed with a voltage source
having a source resistance of 500 Ω and is loaded with a 1- kΩ resistance. Find the voltage gain realized.
D **1.61 A designer is required to provide, across a 10- kΩ load, the weighted sum, vO = 10v1 + 20v2, of input
signals v1 and v2, each having a source resistance of 10 kΩ. She has a number of transconductance amplifiers for
which the input and output resistances are both 10 kΩ and Gm = 20 mA/V, together with a selection of suitable
resistors. Sketch an appropriate amplifier topology with additional resistors selected to provide the desired result.
Your design should use the minimum number of amplifiers and resistors. (Hint)
1.62 Figure P1.62 shows a transconductance amplifier whose output is fed back to its input.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
Find the input resistance Rin of the resulting one-port network. (Hint)
Show that when driven by a voltage source, vs, having source resistance Rs = Rin, the voltage gain vo/vs = 0.5 ·
vo/vi (This is another method for finding the input resistance.)
Figure P1.62
D 1.63 You are required to design an amplifier to sense the open-circuit output voltage of a transducer and to
provide a proportional voltage across a load resistor. The equivalent source resistance of the transducer is specified
to vary in the range of 1 kΩ to 10 kΩ. Also, the load resistance varies in the range of 1 kΩ to 10 kΩ. The change in
load voltage corresponding to the specified change in Rs should be 10% at most. Similarly, the change in load
voltage corresponding to the specified change in RL should be limited to 10%. Also, corresponding to a 10-mV
transducer open-circuit output voltage, the amplifier should provide a minimum of 1 V across the load. What type
of amplifier is required? Sketch its circuit model, and specify the values of its parameters. Specify appropriate
values for Ri and Ro of the form 1 × 10m Ω.
D 1.64 You are required to design an amplifier to sense the short-circuit output current of a light sensor and to
provide a proportional voltage across a load resistor. The equivalent source resistance of the transducer is specified
to vary in the range of 1 kΩ to 10 kΩ. Similarly, the load resistance is known to vary in the range of 1 kΩ to 10 kΩ.
The change in load voltage corresponding to the specified change in Rs should be 10% at most. Similarly, the
change in load voltage corresponding to the specified change in RL is to be limited to 10%. Also, for a nominal
transducer short-circuit output current of 10 µA, the amplifier is required to provide a minimum voltage across the
load of 1 V. What type of amplifier is required? Sketch its circuit model, and specify the values of the model
parameters. For Ri and Ro, specify appropriate values in the form 1 × 10m Ω.
1.65 For the circuit in Fig. P1.65, show that

and
Figure P1.65
1.66 An amplifier with an input resistance of 5 kΩ, when driven by a current source of 1 µA and a source resistance
of 200 kΩ, has a short-circuit output current of 5 mA. When the amplifier is used to drive a 2- kΩ load, an output
voltage of 5 V is observed. When connected to a 1- kΩ load, give the values of the voltage gain, current gain, and
power gain expressed as ratios and in decibels.
1.67 Figure P1.67(a) shows two transconductance amplifiers connected in a special configuration. Find vo in terms
of v1 and v2. Let gm = 100 mA/V and R = 5 kΩ. If v1 = v2 = 1 V, find the value of vo. Also, find vo for the case v1 =
1.01 V and v2 = 0.99 V. (Note: This circuit is called a differential amplifier and is given the symbol shown in Fig.
P1.67(b). A particular type of differential amplifier known as an operational amplifier will be studied in Chapter
2.)
∨Show Answer

Figure P1.67 (a)
Figure P1.67 (b)
1.68 Any linear two-port network including linear amplifiers can be represented by one of four possible parameter
sets, given in Appendix C. For the voltage amplifier, the most convenient representation is in terms of the g
parameters. If the amplifier input port is labeled as port 1 and the output port as port 2, its g-parameter
representation is described by the two equations:
Figure P1.68 shows an equivalent circuit representation of these two equations. By comparing this
equivalent circuit to that of the voltage amplifier in Fig. 1.16(a), identify corresponding currents and
voltages as well as the correspondence between the parameters of the amplifier equivalent circuit and
the g parameters. Hence give the g parameter that corresponds to each of Ri, Avo, and Ro. Notice that
there is an additional g parameter with no correspondence in the amplifier equivalent circuit. Which
one? What does it signify? What assumption did we make about the amplifier that resulted in the
absence of this particular g parameter from the equivalent circuit in Fig. 1.16(a)?

Figure P1.68
Section 1.6: Frequency Response of Amplifiers
1.69 Use the voltage-divider rule to derive the transfer functions T(s) ≡ Vo(s)/Vi(s) of the circuits shown in Fig.
1.22(a) and (b), and show that the transfer functions are of the form given at the top of Table 1.2.
1.70 Figure VE 1.4 shows a signal source connected to the input of an amplifier. Here Rs is the source
resistance, and Ri and Ci are the input resistance and input capacitance, respectively, of the amplifier.
Derive an expression for Vi(s)/Vs(s), and show that it is of the low-pass STC type. Find the 3-dB
frequency and dc gain for the case Rs = 10 kΩ, Ri = 40 kΩ, and Ci = 5 pF.
1.71 For the circuit shown in Fig. P1.71, find the transfer function T(s) = Vo(s)/Vi(s), and arrange it in the
appropriate standard form from Table 1.2. Is this a high-pass or a low-pass network? What is its transmission at
very high frequencies? [Estimate this directly, as well as by letting s → ∞ in your expression for T(s).] What is the
corner frequency ω0? For R1 = 20 kΩ, R2 = 100 kΩ, and C = 0.1 µF, find f0. What is the value of |T(jω0)|?
Figure P1.71
D 1.72 You must couple a voltage source Vs with a resistance Rs to a load RL via a capacitor C. Derive an
expression for the transfer function from source to load (i.e., Vl/Vs), and show that it is of the high-pass STC type.
For Rs = 4 kΩ and RL = 10 kΩ, find the smallest coupling capacitor that will result in a 3-dB frequency no greater
than 200 Hz.
1.73 Measurement of the frequency response of an amplifier yields the data in the following table:
f (Hz)
| T | (dB)
∠T (°)
0
60
0
100
60
1000
−45
104
40
105
20
0
Provide plausible approximate values for the missing entries. Also, sketch and clearly label the magnitude
frequency response (i.e., provide a Bode plot) for this amplifier.
1.74 Measurement of the frequency response of an amplifier yields the data in the following table:
∨Show Answer
∨Show Answer

f (Hz)
1
102
103
104
105
106
107
| T | (dB)
0
40
77
80
77
60
40
0
Provide approximate plausible values for the missing table entries. Also, sketch and clearly label the magnitude
frequency response (Bode plot) of this amplifier.
1.75 The unity-gain voltage amplifiers in Fig. P1.75 have infinite input resistances and zero output resistances and
thus function as perfect buffers. Assuming that their gain is frequency independent, convince yourself that the
overall gain Vo/Vi will drop by 3 dB below the value at dc at the frequency for which the gain of each RC circuit is
1.0 dB down. What is that frequency in terms of CR?
Figure P1.75
1.76 When a high-frequency transconductance amplifier whose output resistance is 100 kΩ is connected to a load
capacitor, the measured 3-dB bandwidth of the amplifier is reduced from 5 MHz to 100 kHz. Estimate the value of
the load capacitor. If the original cutoff frequency can be attributed to a small parasitic capacitor at the output node
(i.e., between the output and ground), what would you estimate it to be?
D *1.77 A designer wishing to lower the overall upper 3-dB frequency of a three-stage amplifier to 5 kHz considers
shunting one of two nodes to ground with a capacitor: Node A, at the output of the first stage, or Node B, at the
output of the second stage. While measuring the overall frequency response of the amplifier, she connects a
capacitor of 1 nF, first to node A and then to node B, lowering the 3-dB frequency from 3 MHz to 200 kHz and 40
kHz, respectively.
If she knows that each amplifier stage has an input resistance of 100 kΩ, what output resistance must the driving
stage have at node A? At node B? What capacitor value should she connect to which node to solve her design
problem most economically?
D 1.78 An amplifier with an input resistance of 100 kΩ and an output resistance of 1 kΩ is to be capacitively
coupled to a 10- kΩ source and a 1- kΩ load. Available capacitors have values only of the form 1 × 10−n F. What
are the values of the smallest capacitors needed to ensure that the corner frequency associated with each is less than
100 Hz? What actual corner frequencies result? For the situation in which the basic amplifier has an open-circuit
voltage gain (Avo) of 100 V/V, find an expression for T(s) = Vo(s)/Vs(s).
*1.79 A voltage amplifier has the transfer function
∨Show Answer
∨Show Answer

(a)
(b)
(c)
Using the Bode plots for low-pass and high-pass STC networks (Figs. 1.23(a) and (b) and 1.24(a) and (b)), sketch a
Bode plot for |Av|. Give approximate values for the gain magnitude at f =10 Hz, 102 Hz, 103 Hz, 104 Hz, 105 Hz,
106 Hz, 107 Hz, and 108 Hz. Find the bandwidth of the amplifier (defined as the frequency range over which the
gain remains within 3 dB of the maximum value).
*1.80 For the circuit shown in Fig. P1.80, first evaluate Ti(s) = Vi(s)/Vs(s) and the corresponding cutoff (corner)
frequency. Second, evaluate To(s) = Vo(s)/Vi(s) and the corresponding cutoff frequency. Put each of the transfer
functions in the standard form (see Table 1.2), and combine them to form the overall transfer function, T(s) = Ti(s)
× To(s). Provide a Bode plot for |T(jω)|. What is the bandwidth between 3-dB cutoff points?
Figure P1.80
D **1.81 A transconductance amplifier having the equivalent circuit shown in Table 1.1 is fed with a voltage
source Vs having a source resistance Rs, and its output is connected to a load consisting of a resistance RL in
parallel with a capacitance CL. For given values of Rs, RL, and CL, it is required to specify the values of the
amplifier parameters Ri, Gm, and Ro to meet the following design constraints:
At most, x% of the input signal is lost in coupling the signal source to the amplifier (i.e., Vi ≥ [1 − (x/100)]Vs).
The 3-dB frequency of the amplifier is equal to or greater than a specified value f3dB.
The dc gain Vo/Vs is equal to or greater than a specified value A0.
Show that these constraints can be met by selecting

Find Ri, Ro, and Gm for Rs = 10 kΩ, x = 10%, A0 = 100 V/V, RL = 10 kΩ, CL = 20 pF, and f3dB = 2 MHz.
*1.82 Consider the circuit in Fig P1.82. You are required to make the transfer function independent of frequency.
Show this is achieved by selecting C1 with a value C2(R2/R1). Under this condition the circuit is called a
compensated attenuator and is frequently used in the design of oscilloscope probes. Find the transmission of the
compensated attenuator in terms of R1 and R2.
Figure P1.82
*1.83 An amplifier with a frequency response of the type shown in Fig. 1.21 is specified to have a phase shift of
magnitude no greater than 5.7° over the amplifier bandwidth, which extends from 100 Hz to 1 kHz. You learn that
the gain falloff at the low-frequency end is determined by the response of a high-pass STC circuit and that at the
high-frequency end it is determined by a low-pass STC circuit. What do you expect the time constants of these two
STC circuits to be? What is the drop in gain in decibels (relative to the maximum gain) at the two frequencies that
define the amplifier bandwidth? What are the frequencies at which the drop in gain is 3 dB? (Hint: Refer to Figs.
1.23(a) and (b) and 1.24(a) and (b).)
∨Show Answer
∨Show Answer
∨Show Answer

2.1
2.2
2.3
2.4
2.5
2.6
2.7
2.8
•
•
•
•
•
CHAPTER 2
Operational Amplifiers
Introduction
The Ideal Op Amp
The Inverting Configuration
The Noninverting Configuration
Difference Amplifiers
Integrators and Differentiators
DC Imperfections
Effect of Finite Open-Loop Gain and Bandwidth on Circuit Performance
Large-Signal Operation of Op Amps
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The terminal characteristics of the ideal op amp.
How to analyze circuits containing op amps, resistors, and capacitors.
How to use op amps to design amplifiers having precise characteristics.
How to design more sophisticated op-amp circuits, including summing amplifiers, instrumentation
amplifiers, and integrators.
Important nonideal characteristics of op amps and how these limit the performance of basic op-amp
circuits.

Introduction
Having learned basic amplifier concepts and terminology, we are now ready to undertake the study of a
circuit building block of universal importance: the operational amplifier (op amp).
One of the reasons for the popularity of the op amp is its versatility. As we will see, one can do almost
anything with op amps! Equally important is the fact that the integrated circuit (IC) op amp has
characteristics that closely approach the assumed ideal. This implies that it is quite easy to design circuits
using the IC op amp. Also, op-amp circuits work at performance levels that are quite close to those predicted
theoretically. It is for this reason that we are studying op amps at this early stage. It is expected that by the
end of this chapter you should be able to successfully design nontrivial circuits using op amps.
An IC op amp is made up of many (about 20) transistors together with resistors, and (usually) one
capacitor connected in a rather complex circuit. Since we have not yet studied transistor circuits, we will not
discuss the circuit inside the op amp in this chapter. Instead we will treat the op amp as a circuit building
block and study its terminal characteristics and applications. This approach is quite satisfactory in many op-
amp applications. Nevertheless, for the more difficult and demanding applications it is quite useful to know
what is inside the op-amp package. This topic will be studied in Chapter 13. More advanced applications of
op amps will appear in later chapters.
THE OP AMP REVOLUTION
∨

2.1 The Ideal Op Amp
2.1.1 The Op-Amp Terminals
From a signal point of view the op amp has three terminals: two input terminals and one output terminal.
Figure 2.1 shows the symbol we shall use to represent the op amp. Terminals 1 and 2 are input terminals, and
terminal 3 is the output terminal. As explained in Section 1.4, amplifiers require dc power to operate. Most
IC op amps require two dc power supplies, as shown in Fig. 2.2(a) and (b). Two terminals, 4 and 5, are
brought out of the op-amp package and connected to a positive supply voltage VCC and a negative supply
voltage −VEE, respectively. In Fig. 2.2(b) we explicitly show the two dc power supplies as batteries with a
common ground. In some op amps, the negative supply terminal may be connected directly to ground (VEE =
0). In this book, the common terminals between the two power supplies is considered to be the circuit ground
(see Fig. 2.2b). In what follows we will not, for simplicity, explicitly show the op-amp power supplies.
Figure 2.1 Circuit symbol for the op amp.
Figure 2.2 The op amp shown connected to dc power supplies.
In addition to the three signal terminals and the two power-supply terminals, an op amp may have other
terminals for specific purposes. These other terminals can include terminals for frequency compensation and
terminals for offset nulling; both functions will be explained in later sections.
EXERCISE

2.1
What is the minimum number of terminals required by a single op amp? What is the minimum number
of terminals required on an integrated-circuit package containing four op amps (called a quad op amp)?
2.1.2 Function and Characteristics of the Ideal Op Amp
The op amp is designed to sense the difference between the voltage signals applied at its two input terminals
(i.e., the quantity v2 − v1), multiply this by a number A, and cause the resulting voltage A(v2 − v1) to appear
at output terminal 3. Thus v3 = A(v2 − v1). Here we should emphasize that when we talk about the voltage at
a terminal we mean the voltage between that terminal and ground; thus v1 means the voltage applied
between terminal 1 and ground.
The ideal op amp is not supposed to draw any input current; that is, the signal current into terminal 1 and
the signal current into terminal 2 are both zero. In other words, the input impedance of an ideal op amp is
supposed to be infinite. How about the output terminal 3? This terminal is supposed to act as the output
terminal of an ideal voltage source. That is, the voltage between terminal 3 and ground will always be equal
to A(v2 − v1), independent of the current that may be drawn from terminal 3 into a load impedance. In other
words, the output impedance of an ideal op amp is supposed to be zero.
Putting together all of the above, we arrive at the equivalent circuit model shown in Fig. 2.3. Note that
the output is in phase with (has the same sign as) v2 and is out of phase with (has the opposite sign of) v1.
For this reason, input terminal 1 is called the inverting input terminal and is distinguished by a “−” sign,
while input terminal 2 is called the noninverting input terminal and is distinguished by a “+” sign.
∨Show Answer

Figure 2.3 Equivalent circuit of the ideal op amp.
As the above description makes clear, the op amp responds only to the difference signal v2 − v1 and
hence ignores any signal common to both inputs. That is, if v1 = v2 = 1 V, then the output will (ideally) be
zero. We call this property common-mode rejection, and we conclude that an ideal op amp has zero
common-mode gain or, equivalently, infinite common-mode rejection. We will have more to say about this
point later. For the time being note that the op amp is a differential-input, single-ended-output amplifier,
with the latter term referring to the fact that the output appears between terminal 3 and ground.1 Gain A is
called the differential gain, for obvious reasons. Perhaps not so obvious is another name we give it: the
open-loop gain. The reason for this name will become obvious later, when we “close the loop” around the
op amp and define another gain, the closed-loop gain.
An important characteristic of op amps is that they are direct-coupled or dc amplifiers, where dc stands
for direct-coupled (it could equally well stand for direct current, since a direct-coupled amplifier is one that
amplifies signals whose frequency is as low as zero). The fact that op amps are direct-coupled devices will
allow us to use them in many important applications. For example, they may be used to amplify signals that
change very slowly, such as from a temperature sensor.
How about bandwidth? The ideal op amp has a gain A that remains constant down to zero frequency and
up to infinite frequency. That is, ideal op amps will amplify signals of any frequency with equal gain, and are
thus said to have infinite bandwidth.
We have discussed all of the properties of the ideal op amp except for one, which in fact is the most
important. This has to do with the value of A. The ideal op amp should have a gain A whose value is very
large and ideally infinite. You may justifiably ask: If the gain A is infinite, how are we going to use the op
amp? The answer is very simple: In almost all applications the op amp will not be used alone in a so-called

(2.1)
(2.2)
(2.3)
(2.4)
open-loop configuration. Rather, we will use other components to apply feedback to close the loop around
the op amp, as will be illustrated in detail in Section 2.2.
For future reference, Table 2.1 lists the characteristics of the ideal op amp.
Table 2.1 Characteristics of the Ideal Op Amp
1. Infinite input impedance
2. Zero output impedance
3. Zero common-mode gain or, equivalently, infinite common-mode rejection
4. Infinite open-loop gain A
5. Infinite bandwidth
2.1.3 Differential and Common-Mode Signals
The differential input signal vId is simply the difference between the two input signals v1 and v2; that is,
The common-mode input signal vIcm is the average of the two input signals v1 and v2; namely,
Equations (2.1) and (2.2) can be used to express the input signals v1 and v2 in terms of their differential and
common-mode components as follows:
and
These equations can in turn lead to the pictorial representation in Fig. 2.4.

2.2
2.3
Figure 2.4 Representation of the signal sources v1 and v2 in terms of their differential and common-mode components.
EXERCISES
Consider an op amp that is ideal except that its open-loop gain A = 103. The op amp is used in a
feedback circuit, and the voltages appearing at two of its three signal terminals are measured. In each
of the following cases, use the measured values to find the expected value of the voltage at the third
terminal. Also give the differential and common-mode input signals in each case. (a) v2 = 0 V and v3 =
4V; (b) v2 = +2 V and v3 = −10 V; (c) v1 = 2.002 V and v2 = 1.998 V; (d) v1 = −1.2 V and v3 = −1.2 V.
The internal circuit of a particular op amp can be modeled by the circuit shown in Fig. E2.3. Express v3
as a function of v1 and v2. For the case Gm = 20 mA/V, R = 5 kΩ, and μ = 50, find the value of the
open-loop gain A.
∨Show Answer

Figure E2.3
∨Show Answer

2.2 The Inverting Configuration
As mentioned above, op amps are not used alone; rather, the op amp is connected to passive components in a
feedback circuit. There are two such basic circuit configurations employing an op amp and two resistors: the
inverting configuration, which is studied in this section, and the noninverting configuration, which we shall
study in the next section.
Figure 2.5 shows the inverting configuration. It consists of one op amp and two resistors, R1 and R2.
Resistor R2 is connected from the output terminal of the op amp, terminal 3, back to the inverting or negative
input terminal, terminal 1. We speak of R2 as applying negative feedback; if R2 were connected between
terminals 3 and 2 we would have called this positive feedback, which generally causes the op-amp output to
saturate rather than providing a stable gain. Therefore, the inverting configuration will always be connected
with negative feedback. Note also that R2 closes the loop around the op amp. In addition to adding R2, we
have grounded terminal 2 and connected a resistor R1 between terminal 1 and an input signal source with a
voltage vI. The output of the overall circuit is taken at terminal 3 (i.e., between terminal 3 and ground).
Terminal 3 is, of course, a convenient point from which to take the output, since the impedance level there is
ideally zero. Thus the voltage vO will not depend on the value of the current that might be supplied to a load
impedance connected between terminal 3 and ground.
2.2.1 The Closed-Loop Gain
We now wish to analyze the circuit in Fig. 2.5 to determine the closed-loop gain G, defined as
Figure 2.5 The inverting closed-loop configuration.
We will do so assuming the op amp to be ideal. Figure 2.6(a) shows the equivalent circuit, and the analysis
proceeds as follows: The gain A is very large (ideally infinite). If we assume that the circuit is “working” and
producing a finite output voltage at terminal 3, then the voltage between the op-amp input terminals should
be negligibly small and ideally zero. Specifically, if we call the output voltage vO, then, by definition,

Figure 2.6 (a) Analysis of the inverting configuration.
Figure 2.6 (b) Analysis of the inverting configuration. The circled numbers indicate the order of analysis steps.
It follows that the voltage at the inverting input terminal (v1) is given by v1 = v2. That is, because the gain A
approaches infinity, the voltage v1 approaches and ideally equals v2. We speak of this as the two input
terminals “tracking each other in potential.” We also speak of a “virtual short circuit” that exists between the
two input terminals. Here the word virtual should be emphasized, and one should not make the mistake of
physically shorting terminals 1 and 2 together while analyzing a circuit. A virtual short circuit means that
whatever voltage is at 2 will automatically appear at 1 because of the infinite gain A. But terminal 2 happens
to be connected to ground; thus v2 = 0 and v1 = 0. We speak of terminal 1 as being a virtual ground—that
is, having zero voltage but not physically connected to ground.

Now that we have determined v1 we are in a position to apply Ohm’s law and find the current i1 through
R1 (see Fig. 2.6(b)) as follows:
Where will this current go? It cannot go into the op amp, since the ideal op amp has an infinite input
impedance and hence draws zero current. It follows that i1 will have to flow through R2 to the low-
impedance terminal 3. We can then apply Ohm’s law to R2 and determine vO; that is,
Thus,
which is the required closed-loop gain. Figure 2.6(b) illustrates these steps and indicates by the circled
numbers the order in which the analysis is performed.
We thus see that the closed-loop gain is simply the ratio of the two resistances R2 and R1. The minus sign
means that the closed-loop amplifier provides signal inversion. Thus if R2/R1 = 10 and we apply at the input
(vI) a sine-wave signal of 1 V peak-to-peak, then the output vO will be a sine wave of 10 V peak-to-peak and
phase-shifted 180° with respect to the input sine wave. Because of the minus sign associated with the closed-
loop gain, this configuration is called the inverting configuration.
The fact that the closed-loop gain depends entirely on external passive components (resistors R1 and R2)
is very significant. It means that we can make the closed-loop gain as accurate as we want by selecting
passive components of appropriate accuracy. It also means that the closed-loop gain is (ideally) independent
of the op-amp gain. This is a dramatic illustration of negative feedback: We started out with an amplifier
having very large gain A, and by applying negative feedback we have obtained a closed-loop gain R2/R1 that
is much smaller than A but is stable and predictable. That is, we are trading gain for accuracy.
Video Example VE 2.1
An ideal op amp is connected as shown in Fig. 2.5 with R1 = 10 kΩ and R2 = 100 kΩ. A symmetrical square
wave with levels of 0 V and 1 V is applied at the input. Sketch and clearly label the waveform of the resulting
output voltage. What is its average value? What is its highest value? What is its lowest value? Also sketch the
current waveform through R1, labeling its maximum, minimum, and average.
 Solution: Watch the authors solve this problem:


(2.5)
(a)
(b)
The infinite input impedance of the op amp forces the current i1 to flow entirely through R2. The output
voltage vO can thus be determined from
Collecting terms, the closed-loop gain G is found as
We note that as A approaches ∞, G approaches the ideal value of −R2/R1. Also, from Fig. 2.7 we see that as
A approaches ∞, the voltage at the inverting input terminal approaches zero. This is the virtual-ground
assumption we used in our earlier analysis when the op amp was assumed to be ideal. Finally, note that Eq.
(2.5) in fact indicates that to minimize the dependence of the closed-loop gain G on the value of the open-
loop gain A, we should make
If A is not much greater than (1 + R2/R1), the closed-loop gain G will decrease below its ideal value. In
practice, A (and hence G) are frequency dependent so that the ideal behavior is approximated only up to
some maximum frequency.
Example 2.1
Consider the inverting configuration with R1 = 1 kΩ and R2 = 100 kΩ, that is, having an ideal closed-loop gain
of −100.
Find the closed-loop gain for the cases A = 103, 104, and 105. In each case determine the percentage error in
the magnitude of G relative to the ideal value of R2/R1 (obtained with A = ∞). Also determine the voltage v1
that appears at the inverting input terminal when vI = 0.1 V.
If the open-loop gain A changes from 100,000 to 50,000 (i.e., drops by 50%), what is the corresponding
percentage change in the magnitude of the closed-loop gain G?
2.2.3 Input and Output Resistances
∨Show Solution

Assuming an ideal op amp with infinite open-loop gain, the input resistance of the closed-loop inverting
amplifier of Fig. 2.5 is simply equal to R1. This can be seen from Fig. 2.6(b), where
Now recall that in Section 1.5 we learned that the amplifier input resistance forms a voltage divider with the
resistance of the source that feeds the amplifier. Thus, to avoid the loss of signal strength, voltage amplifiers
are required to have high input resistance. In the case of the inverting op-amp configuration we are studying,
to make Ri high we should select a high value for R1. However, if the required gain R2/R1 is also high, then
R2 could become impractically large (e.g., greater than a few megohms). We may conclude that the inverting
configuration suffers from a low input resistance. A solution to this problem is discussed in Example 2.2
below.
Since the output of the inverting configuration is taken at the terminals of the ideal voltage source A(v2 −
v1) (see Fig. 2.6a), it follows that the output resistance of the closed-loop amplifier is zero.
Example 2.2
Assuming the op amp to be ideal, derive an expression for the closed-loop gain vO/vI of the circuit shown in Fig.
2.8. Use this circuit to design an inverting amplifier with a gain of 100 and an input resistance of 1 MΩ. Assume
that for practical reasons it is required not to use resistors greater than 1 MΩ. Compare your design with that
based on the inverting configuration of Fig. 2.5.
Figure 2.8 Circuit for Example 2.2. The circled numbers indicate the sequence of the steps in the analysis.
Video Example VE 2.2
∨Show Solution


D2.4
2.5
2.6
EXERCISES
Use the circuit of Fig. 2.5 to design an inverting amplifier having a gain of −10 and an input resistance
of 100 kΩ. Give the values of R1 and R2.
The circuit shown in Fig. E2.5(a) can be used to implement a transresistance amplifier (see Table 1.1 in
Section 1.5). Such circuits are often used to amplify weak current signals, such as those from
photodiodes that detect light for optical communication or proximity sensors. Find the value of the
input resistance Ri, the transresistance Rm, and the output resistance Ro of the transresistance amplifier.
If the signal source shown in Fig. E2.5(b) is connected to the input of the transresistance amplifier, find
the amplifier output voltage.
Figure E2.5 (a)
Figure E2.5 (b)
For the circuit in Fig. E2.6 determine the values of v1, i1, i2, vO, iL, and iO. Also determine the voltage
gain vO/vI, current gain iL/iI, and power gain PO/PI.
∨Show Answer
∨Show Answer

Figure E2.6
2.2.4 An Important Application: The Weighted Summer
A very important application of the inverting configuration is the weighted-summer circuit shown in Fig.
2.10. Here we have a resistance Rf in the negative-feedback path (as before), but we have a number of input
signals v1, v2, …, vn each applied to a corresponding resistor R1, R2, …, Rn, which are connected to the
inverting terminal of the op amp. From our previous discussion, the ideal op amp will have a virtual ground
appearing at its negative input terminal. Ohm’s law then tells us that the currents i1, i2, …, in are given by
Figure 2.10 A weighted summer.
∨Show Answer

(2.6)
(2.7)
(2.8)
All these currents sum together to produce the current i,
which will be forced to flow through Rf (since no current flows into the input terminals of an ideal op amp).
The output voltage vO may now be determined by another application of Ohm’s law,
Thus,
That is, the output voltage is a weighted sum of the input signals v1, v2, …, vn. This circuit is therefore called
a weighted summer. Note that each summing coefficient may be independently adjusted by adjusting the
corresponding “feed-in” resistor (R1 to Rn). This nice property, which greatly simplifies circuit adjustment, is
a direct consequence of the virtual ground that exists at the inverting op-amp terminal. As the reader will
soon come to appreciate, virtual grounds are extremely “handy.” In the weighted summer of Fig. 2.10 all the
summing coefficients must be of the same sign. The need occasionally arises for summing signals with
opposite signs. Such a function can be implemented, however, using two op amps as shown in Fig. 2.11.
Assuming ideal op amps, it can be easily shown that the output voltage is given by
Figure 2.11 A weighted summer capable of implementing summing coefficients of both signs.
Weighted summers are utilized in a variety of applications including in the design of audio systems, where
they can be used in mixing signals originating from different musical instruments.
EXERCISES

D2.7
D2.8
Design an inverting op-amp circuit to form the weighted sum vO of two inputs v1 and v2. It is required
that vO = −(v1 + 4v2). Choose values for R1, R2, and Rf so that for a maximum output voltage of 4 V
the current in the feedback resistor will not exceed 1 mA.
Use the idea presented in Fig. 2.11 to design a weighted summer that provides
∨Show Answer
∨Show Answer

2.3 The Noninverting Configuration
The second closed-loop configuration we shall study is shown in Fig. 2.12. Here the input signal vI is applied
directly to the positive input terminal of the op amp while one terminal of R1 is connected to ground.
Figure 2.12 The noninverting configuration.
2.3.1 The Closed-Loop Gain
Analysis of the noninverting circuit to determine its closed-loop gain (vO/vI) is illustrated in Fig. 2.13. Again
the order of the steps in the analysis is indicated by circled numbers. Assuming that the op amp is ideal with
infinite gain, a virtual short circuit exists between its two input terminals. Hence the difference input signal is
Figure 2.13 Analysis of the noninverting circuit. The sequence of the steps in the analysis is indicated by the circled
numbers.

(2.9)
(2.10)
Thus the voltage at the inverting input terminal will be equal to that at the noninverting input terminal, which
is the applied voltage vI. The current through R1 can then be determined as vI/R1. Because of the infinite
input impedance of the op amp, this current will flow through R2, as shown in Fig. 2.13. Now the output
voltage can be determined from
which yields
To gain further insight into the operation of the noninverting configuration, consider this point: Since the
current into the op-amp inverting input is zero, the circuit composed of R1 and R2 acts in effect as a voltage
divider feeding a fraction of the output voltage back to the inverting input terminal of the op amp; that is,
Then the infinite op-amp gain and the resulting virtual short circuit between the two input terminals of the op
amp forces this voltage to be equal to that applied at the positive input terminal; thus,
which yields the gain expression given in Eq. (2.9).
At this point, let us reflect further on the action of the negative feedback present in the noninverting
circuit of Fig. 2.12. Let vI increase. Such a change in vI will cause vId to increase, and vO will
correspondingly increase as a result of the high (ideally infinite) gain of the op amp. However, a fraction of
the increase in vO will be fed back to the inverting input terminal of the op amp through the (R1, R2) voltage
divider. The result of this feedback will be to counteract the increase in vId, driving vId back to zero, albeit at
a higher value of vO that corresponds to the increased value of vI. This degenerative action of negative
feedback gives it the alternative name degenerative feedback. Finally, note that the argument above applies
equally well if vI decreases. A formal and detailed study of feedback is presented in Chapter 11.
2.3.2 Effect of Finite Open-Loop Gain
As we have done for the inverting configuration, we now consider the effect of the finite op-amp open-loop
gain A on the gain of the noninverting configuration. Assuming the op amp to be ideal except for having a
finite open-loop gain A, it can be shown that the closed-loop gain of the noninverting amplifier circuit of Fig.
2.12 is given by

(2.11)
(2.12)
Observe that the denominator is identical to that for the case of the inverting configuration (Eq. 2.5). This is
no coincidence; it is a result of the fact that both the inverting and the noninverting configurations have the
same feedback loop, which can be readily seen if the input signal source is eliminated (i.e., short-circuited).
The numerators, however, are different, for the numerator gives the ideal or nominal closed-loop gain
(−R2/R1 for the inverting configuration, and 1 + R2/R1 for the noninverting configuration). Finally, we note
(with reassurance) that the gain expression in Eq. (2.11) reduces to the ideal value for A = ∞. In fact, it
approximates the ideal value for
This is the same condition as in the inverting configuration, except that here the quantity on the right-hand
side is the nominal closed-loop gain. The expressions for the actual and ideal values of the closed-loop gain
G in Eqs. (2.11) and (2.9), respectively, can be used to determine the percentage error in G resulting from the
finite op-amp gain A as
Thus, as an example, if an op amp with an open-loop gain of 1000 is used to design a noninverting amplifier
with a nominal closed-loop gain of 10, we would expect the closed-loop gain to be about 1% below the
nominal value.
2.3.3 Input and Output Resistance
The gain of the noninverting configuration is positive—hence the name noninverting. The input impedance
of this closed-loop amplifier is ideally infinite, since no current flows into the positive input terminal of the
op amp. The output of the noninverting amplifier is taken at the terminals of the ideal voltage source A(v2 −
v1) (see the op-amp equivalent circuit in Fig. 2.3), and thus the output resistance of the noninverting
configuration is zero.
2.3.4 The Voltage Follower
The property of high input impedance is a very desirable feature of the noninverting configuration. It enables
using this circuit as a buffer amplifier to connect a source with a high impedance to a low-impedance load.
We discussed the need for buffer amplifiers in Section 1.5. In many applications the buffer amplifier is not
required to provide any voltage gain; rather, it is used mainly as an impedance transformer or a power
amplifier. In such cases we may make R2 = 0 and R1 = ∞ to obtain the unity-gain amplifier shown in Fig.
2.14(a). This circuit is commonly referred to as a voltage follower, since the output voltage “follows” the
input voltage. In the ideal case, vO = vI, Rin = ∞, Rout = 0, and the follower has the equivalent circuit shown
in Fig. 2.14(b).

2.9
Since in the voltage-follower circuit the entire output is fed back to the inverting input, the circuit is said
to have 100% negative feedback. The infinite gain of the op amp then acts to make vId = 0 and hence vO = vI.
Observe that the circuit is elegant in its simplicity!
Since the noninverting configuration has a gain greater than or equal to unity, depending on the choice of
R2/R1, some prefer to call it “a follower with gain.”
Figure 2.14 (a) The unity-gain buffer or follower amplifier.
Figure 2.14 (b) Its equivalent circuit model.
EXERCISES
Use the superposition principle to find the output voltage of the circuit shown in Fig. E2.9.
Figure E2.9
∨Show Answer

2.10
D2.11
2.12
2.13
2.14
If in the circuit of Fig. E2.9 the 1- kΩ resistor is disconnected from ground and connected to a third
signal source v3, use superposition to determine vO in terms of v1, v2, and v3.
Design a noninverting amplifier with a gain of 2. At the maximum output voltage of 10 V the current in
the voltage divider is to be 10 µA.
(a) Show that if the op amp in the circuit of Fig. 2.12 has a finite open-loop gain A, then the closed-
loop gain is given by Eq. (2.11). (b) For R1 = 1 kΩ and R2 = 9 kΩ find the percentage deviation ϵ of the
closed-loop gain from the ideal value of (1 + R2/R1) for the cases A = 103, 104, and 105. For vI = 1 V,
find in each case the voltage between the two input terminals of the op amp.
For the circuit in Fig. E2.13 find the values of iI, v1, i1, i2, vO, iL, and iO. Also find the voltage gain
vO/vI, the current gain iL/iI, and the power gain PL/PI.
Figure E2.13
It is required to connect a transducer having an open-circuit voltage of 1 V and a source resistance of 1
MΩ to a load of 1- kΩ resistance. Find the load voltage if the connection is done (a) directly, and (b)
through a unity-gain voltage follower.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(2.13)
(2.14)
2.4 Difference Amplifiers
Having studied the two basic configurations of op-amp circuits together with some of their direct
applications, we are now ready to consider a somewhat more involved but very important application.
Specifically, we shall study the use of op amps to design difference or differential amplifiers.2 A difference
amplifier is one that responds only to the difference between the two signals applied at its input. The
representation of signals in terms of their differential and common-mode components was given in Fig. 2.4.
It is repeated here in Fig. 2.15 with slightly different symbols to serve as the input signals for the difference
amplifiers we are about to design. Although ideally the difference amplifier will amplify only the differential
input signal vId and reject completely the common-mode input signal vIcm, practical circuits will have an
output voltage vO given by
Figure 2.15 Representing the input signals to a differential amplifier in terms of their differential and common-mode
components.
where Ad denotes the amplifier differential gain and Acm denotes its common-mode gain (ideally zero). The
efficacy of a differential amplifier is measured by the degree of its rejection of common-mode signals in
preference to differential signals. This is usually quantified by the common-mode rejection ratio (CMRR),
The need for difference amplifiers arises frequently in the design of electronic systems, especially those
employed in instrumentation. As a common example, consider a transducer providing a small (e.g., 1 mV)
signal between its two output terminals while each of the two wires leading from the transducer terminals to
the measuring instrument may have a large interference signal (e.g., 1 V) relative to the circuit ground. The
instrument front end obviously needs a difference amplifier.

(2.15)
Before we proceed any further we should address a question that the reader might have: The op amp is
itself a difference amplifier; why not just use an op amp? The answer is that the very high (ideally infinite)
gain of the op amp makes it impossible to use by itself. Rather, as we did before, we have to devise an
appropriate feedback network to connect to the op amp to create a circuit whose closed-loop gain is finite,
predictable, and stable.
2.4.1 A Single-Op-Amp Difference Amplifier
Our first attempt at designing a difference amplifier is motivated by the observation that the gain of the
noninverting amplifier configuration is positive, (1 + R2/R1), while that of the inverting configuration is
negative, (−R2/R1). Combining the two configurations while ensuring that the two gain magnitudes are equal
will therefore amplify the difference between two input signals. This requires attenuation of the positive
input to reduce the positive path gain from (1 + R2/R1) to (R2/R1). A voltage divider (R3, R4) is used for this
purpose, resulting in the circuit shown in Fig. 2.16. The proper ratio of the voltage divider can be determined
as follows:
Figure 2.16 A difference amplifier.
This can be satisfied by selecting
Let’s now step back and verify that the circuit in Fig. 2.16 with R3 and R4 selected according to Eq. (2.15)
does in fact function as a difference amplifier. Specifically, we wish to determine the output voltage vO in
terms of vI1 and vI2. To that end, note that the circuit is linear, and thus we can use superposition.
To apply superposition, we first reduce vI2 to zero—that is, ground the terminal to which vI2 is applied—
and then find the corresponding output voltage, which will be due entirely to vI1. We denote this output
voltage vO1. Its value may be found from the circuit in Fig. 2.17(a), which we recognize as that of the

(2.16)
(2.17)
inverting configuration. The existence of R3 and R4 does not affect the gain expression, since no current
flows through either of them. Thus,
Figure 2.17 Application of superposition to the analysis of the circuit of Fig. 2.16.
Next, we reduce vI1 to zero and evaluate the corresponding output voltage vO2. The circuit will now take the
form shown in Fig. 2.17(b), which we recognize as the noninverting configuration with an additional voltage
divider, made up of R3 and R4, connected to the input vI2. The output voltage vO2 is therefore given by
where we have utilized Eq. (2.15).
The superposition principle tells us that the output voltage vO is equal to the sum of vO1 and vO2. Thus
we have
Thus, as expected, the circuit acts as a difference amplifier with a differential gain Ad of
Of course this is predicated on the op amp being ideal and on the selection of R3 and R4 so that their ratio
matches that of R1 and R2 (Eq. 2.15). To make this matching requirement easier to satisfy, we usually select

(2.18)
(2.19)
Let’s next consider the circuit with only a common-mode signal applied at the input, as shown in Fig. 2.18.
The figure also shows some of the analysis steps. Thus,
The output voltage can now be found from
Substituting i2 = i1 and for i1 from Eq. (2.18),
Thus,
For the design with the resistor ratios selected according to Eq. (2.15), we obtain
as expected. Note, however, that any mismatch in the resistance ratios can make Acm nonzero, and hence
CMRR finite.

(2.20)
Figure 2.18 Analysis of the difference amplifier to determine its common-mode gain Acm ≡ vO/vIcm.
In addition to rejecting common-mode signals, a difference amplifier is usually required to have a high
input resistance. To find the input resistance between the two input terminals (i.e., the resistance seen by vId),
called the differential input resistance Rid, consider Fig. 2.19. Here we have assumed that the resistors are
selected so that
Now
Since the two input terminals of the op amp track each other in potential, we may write a loop equation and
obtain
Thus,
Note that if the amplifier is required to have a large differential gain (R2/R1), then R1 will need to be
relatively small and the input resistance correspondingly low, a drawback of this circuit. Another drawback
of the circuit is that it is not easy to vary the differential gain of the amplifier. Both drawbacks are overcome
in the instrumentation amplifier discussed next.

2.15
D2.16
Figure 2.19 Finding the input resistance of the difference amplifier for the case R3 = R1 and R4 = R2.
EXERCISES
Consider the difference-amplifier circuit of Fig. 2.16 for the case R1 = R3 = 2 kΩ and R2 = R4 = 200
kΩ. (a) Find the value of the differential gain Ad. (b) Find the value of the differential input resistance
Rid and the output resistance Ro. (c) If the resistors have 1% tolerance (i.e., each can be within ±1% of
its nominal value), use Eq. (2.19) to find the worst-case common-mode gain Acm and hence the
corresponding value of CMRR.
Find values for the resistances in the circuit of Fig. 2.16 so that the circuit behaves as a difference
amplifier with an input resistance of 20 kΩ and a gain of 10.
2.4.2 A Superior Circuit: The Instrumentation Amplifier
The low-input-resistance problem of the difference amplifier of Fig. 2.16 can be solved by using voltage
followers to buffer the two input terminals; that is, a voltage follower of the type in Fig. 2.14 is connected
between each input terminal and the corresponding input terminal of the difference amplifier. However, if we
are going to use two additional op amps, we should ask the question: Can we get some voltage gain from
them? It is especially interesting that we can achieve this without compromising the high input resistance
simply by using noninverting stages rather than unity-gain followers. Achieving some or indeed the bulk of
the required gain in this new first stage of the differential amplifier eases the burden on the difference
amplifier in the second stage, leaving it to its main task of implementing the differencing function and thus
rejecting common-mode signals.
The resulting circuit is shown in Fig. 2.20(a). It consists of two stages in cascade. The first stage is
formed by op amps A1 and A2 and their associated resistors, and the second stage is the by-now-familiar
difference amplifier formed by op amp A3 and its four associated resistors. Observe that as we set out to do,
each of A1 and A2 is connected in the noninverting configuration and thus realizes a gain of (1 + R2/R1). It
follows that each of vI1 and vI2 is amplified by this factor, and the resulting amplified signals appear at the
outputs of A1 and A2, respectively.
∨Show Answer
∨Show Answer

(2.21)
1.
2.
3.
The difference amplifier in the second stage operates on the difference signal (1 + R2/R1)(vI2 − vI1) = (1
+ R2/R1)vId and provides at its output
Thus the differential gain realized is
The common-mode gain will be zero because of the differencing action of the second-stage amplifier.
The circuit in Fig. 2.20(a) has the advantage of very high (ideally infinite) input resistance and high
differential gain. Also, provided A1 and A2 and their corresponding resistors are matched, the two signal
paths are symmetric—a definite advantage in the design of a differential amplifier. The circuit, however, has
three major disadvantages:
The input common-mode signal vIcm is amplified in the first stage by a gain equal to that experienced
by the differential signal vId. This is a very serious issue, for it could result in the signals at the outputs
of A1 and A3 being of such large magnitudes that the op amps saturate (more on op-amp saturation in
Section 2.8). But even if the op amps do not saturate, the difference amplifier of the second stage will
now have to deal with much larger common-mode signals, with the result that the CMRR of the
overall amplifier will inevitably be reduced.
The two amplifier channels in the first stage have to be perfectly matched, otherwise a common-mode
input signal may appear differentially between their two outputs. Such a signal would get amplified by
the difference amplifier in the second stage.
To vary the differential gain Ad, two resistors have to be varied simultaneously, say the two resistors
labeled R1. At each gain setting the two resistors have to be perfectly matched: a difficult task.
All three problems can be solved with a very simple wiring change: Simply disconnect the node between the
two resistors labeled R1, node X, from ground. The circuit with this small but functionally profound change
is redrawn in Fig. 2.20(b), where we have lumped the two resistors (R1 and R1) together into a single resistor
(2R1).

Figure 2.20 (a) A popular circuit for an instrumentation amplifier: Initial approach to the circuit.
Figure 2.20 (b) A popular circuit for an instrumentation amplifier: The circuit in (a) with the connection between node X
and ground removed and the two resistors R1 and R1 lumped together.

(2.22)
Figure 2.20 (c) A popular circuit for an instrumentation amplifier: Analysis of the circuit in (b) assuming ideal op amps.
Analysis of the circuit in Fig. 2.20(b), assuming ideal op amps, is straightforward, as is illustrated in Fig.
2.20(c). The key point is that the virtual short circuits at the inputs of op amps A1 and A2 cause the input
voltages vI1 and vI2 to appear at the two terminals of resistor (2R1). Thus the differential input voltage vI2 −
vI1 ≡ vId appears across 2R1 and causes a current i = vId/2R1 to flow through 2R1 and the two resistors
labeled R2. This current in turn produces a voltage difference between the output terminals of A1 and A2
given by
The difference amplifier formed by op amp A3 and its associated resistors senses the voltage difference (vO2
− vO1) and provides a proportional output voltage vO:
Thus the overall differential voltage-gain is given by

(2.23)
2.17
Observe that proper differential operation does not depend on the matching of the two resistors labeled R2.
Indeed, if one of the two is of different value, say 
 the expression for Ad becomes
Consider next what happens when the two input terminals are connected together to a common-mode input
voltage vIcm. It is easy to see that an equal voltage appears at the negative input terminals of A1 and A2,
causing the current through 2R1 to be zero. Thus there will be no current flowing in the R2 resistors, and the
voltages at the output terminals of A1 and A2 will be equal to the input (i.e., vIcm). Thus the first stage no
longer amplifies vIcm; it simply propagates vIcm to its two output terminals, where they are subtracted to
produce a zero common-mode output by A3. The difference amplifier in the second stage, however, now has
a much improved situation at its input: The difference signal has been amplified by (1 + R2/R1) while the
common-mode voltage remained unchanged.
Finally, we observe from the expression in Eq. (2.22) that the gain can be varied by changing only one
resistor, 2R1. We conclude that this is an excellent differential amplifier circuit and is widely employed as an
instrumentation amplifier, that is, as the input amplifier used in a variety of electronic instruments.
Example 2.3
Design the instrumentation amplifier circuit in Fig. 2.20(b) to provide a gain that can be varied over the range of
2 to 1000 utilizing a 100- kΩ variable resistance (a potentiometer, or “pot” for short).
EXERCISE
Consider the instrumentation amplifier of Fig. 2.20(b) with a common-mode input voltage of +5V (dc)
and a differential input signal of 10-mV-peak sine wave. Let (2R1) = 1 kΩ, R2 = 0.5 MΩ, and R3 = R4 =
10 kΩ. Find the voltage at every node in the circuit.
INTEGRATED INSTRUMENTATION AMPLIFIERS
∨
∨Show Solution
∨Show Answer

(2.24)
2.5 Integrators and Differentiators
The op-amp circuit applications we have studied thus far utilized resistors in the op-amp feedback path and
in connecting the signal source to the circuit, that is, in the feed-in path. As a result, circuit operation has
been (ideally) independent of frequency. By allowing the use of capacitors together with resistors in the
feedback and feed-in paths of op-amp circuits, we open the door to a very wide range of useful and exciting
applications of the op amp. We begin our study of op-amp–RC circuits by considering two basic
applications, namely, signal integrators and differentiators.3
2.5.1 The Inverting Configuration with General Impedances
To begin with, consider the inverting closed-loop configuration with impedances Z1(s) and Z2(s) replacing
resistors R1 and R2, respectively. The resulting circuit is shown in Fig. 2.22 and, for an ideal op amp, has the
closed-loop gain or, more appropriately, the closed-loop transfer function
As explained in Section 1.6, replacing s by jω provides the transfer function for physical frequencies ω, that
is, the transmission magnitude and phase for a sinusoidal input signal of frequency ω.
Figure 2.22 The inverting configuration with general impedances in the feedback and the feed-in paths.
Example 2.4
For the circuit in Fig. 2.23, derive an expression for the transfer function Vo(s)/Vi(s). Show that the transfer
function is that of a low-pass STC circuit. By expressing the transfer function in the standard form shown in
Table 1.2, find the dc gain and the 3-dB frequency. Design the circuit to obtain a dc gain of 40 dB, a 3-dB
frequency of 1 kHz, and an input resistance of 1 kΩ. At what frequency does the magnitude of transmission
become unity? What is the phase angle at this frequency?
EARLY OP AMPS AND ANALOG COMPUTATION
∨

(2.25)
Figure 2.23 Circuit for Example 2.4.
2.5.2 The Inverting Integrator
By placing a capacitor in the feedback path (i.e., in place of Z2 in Fig. 2.22) and a resistor at the input (in
place of Z1), we obtain the circuit of Fig. 2.24(a). We shall now show that this circuit realizes the
mathematical operation of integration. Let the input be a time-varying function vI(t). The virtual ground at
the inverting op-amp input causes vI(t) to appear in effect across R, and thus the current i1(t) will be vI(t)/R.
This current flows through the capacitor C, causing charge to accumulate on C. If we assume that the circuit
begins operation at time t = 0, then at an arbitrary time t the current i1(t) will have deposited on C a charge
equal to 
. Thus the capacitor voltage vC(t) will change by 
. If the initial voltage on
C (at t = 0) is denoted VC, then
Now the output voltage vO(t) = −vC(t); thus,
Thus the circuit provides an output voltage that is proportional to the time integral of the input, with VC
being the initial condition of integration and CR the integrator time constant. Note that, as expected, there
is a negative sign attached to the output voltage, and thus this integrator circuit is said to be an inverting
integrator. It is also known as a Miller integrator after an early worker in this field.
∨Show Solution

(2.26)
(2.27)
(2.28)
(2.29)
Figure 2.24 (a) The Miller or inverting integrator.
Figure 2.24 (b) Frequency response of the integrator.
The operation of the integrator circuit can be described alternatively in the frequency domain by
substituting Z1(s) = R and Z2(s) = 1/sC in Eq. (2.24) to obtain the transfer function
For physical frequencies, s = jω and
Thus the integrator transfer function has magnitude
and phase

(2.30)
The Bode plot for the integrator magnitude response can be obtained by noting from Eq. (2.28) that as ω
doubles (increases by an octave) the magnitude is halved (decreased by 6 dB). Thus the Bode plot is a
straight line of slope –6 dB/octave (or, equivalently, –20 dB/decade). This line (shown in Fig. 2.24b)
intercepts the 0-dB line at the frequency that makes |Vo/Vi| = 1, which from Eq. (2.28) is
The frequency ωint is known as the integrator frequency and is simply the inverse of the integrator time
constant.
Example 2.5
An integrator is commonly used to amplify signals from a photodetector (measuring light intensity). In Fig. 2.25,
the photodetector is represented by the current source iS producing a 10-kHz sinusoid having 10-µA peak
amplitude and a source resistance of 5 kΩ. Find the value of C and the integrator frequency ωint so that the
output at vO will have 200-mV peak amplitude.
Figure 2.25 The integrator with input current source (Example 2.5).
Comparing the frequency response of the integrator to that of an STC low-pass network indicates that the
integrator behaves as a low-pass filter with a corner frequency of zero. Observe also that at ω = 0, the
magnitude of the integrator transfer function is infinite. This indicates that at dc the op amp is operating with
an open loop. This should also be obvious from the integrator circuit itself. Reference to Fig. 2.24(a) shows
that the feedback element is a capacitor, and thus at dc, where the capacitor behaves as an open circuit, there
is no negative feedback! This is a very significant observation and one that indicates a source of problems
with the integrator circuit: Any tiny dc component in the input signal will theoretically produce an infinite
output. Of course, no infinite output voltage results in practice; rather, the output of the amplifier saturates at
a voltage close to the op-amp positive or negative power supply (L+ or L−), depending on the polarity of the
input dc signal.
∨Show Solution

The dc problem of the integrator circuit can be alleviated by connecting a resistor RF across the
integrator capacitor C, as shown in Fig. 2.26, and thus the gain at dc will be –RF/R rather than infinite. Such
a resistor provides a dc feedback path. Unfortunately, however, the integration is no longer ideal, and the
lower the value of RF, the less ideal the integrator circuit becomes. This is because RF causes the frequency
of the integrator pole to move from its ideal location at ω = 0 to one determined by the corner frequency of
the STC network (RF,C). Specifically, the integrator transfer function becomes
as opposed to the ideal function of −1/sCR. The lower the value we select for RF, the higher the corner
frequency (1/CRF) will be and the more nonideal the integrator becomes. Thus selecting a value for RF
presents the designer with a trade-off between dc performance and signal performance. The effect of RF on
integrator performance is investigated further in Example 2.6.
Figure 2.26 The Miller integrator with a large resistance RF connected in parallel with C in order to provide negative
feedback and hence finite gain at dc.
Example 2.6
Find the output produced by a Miller integrator in response to an input pulse of 1-V height and 1-ms width [Fig.
2.27(a)]. Let R = 10 kΩ and C = 10 nF. If the integrator capacitor is shunted by a 1- MΩ resistor, how will the
response be modified? The op amp is specified to saturate at ±13 V.
Figure 2.27 (a) Waveforms for Example 2.6: Input pulse.

(2.31)
Figure 2.27 (b) Waveforms for Example 2.6: Output linear ramp of ideal integrator with time constant of 0.1
ms.
Figure 2.27 (c) Waveforms for Example 2.6: Output exponential ramp with resistor RF connected across
integrator capacitor.
The preceding example hints at an important application of integrators, namely, their use in providing
triangular waveforms in response to square-wave inputs. This application is explored in Exercise 2.18.
Integrators have many other applications, including their use in the design of filters (Chapter 14).
2.5.3 The Op-Amp Differentiator
Interchanging the location of the capacitor and resistor in the integrator circuit results in the circuit in Fig.
2.28(a), which performs differentiation of the input signal vI(t). The virtual ground at the op-amp inverting
input terminal causes vI(t) to appear across the capacitor C. Thus the current through C will be C(dvI(t)/dt),
which flows through the feedback resistor R resulting in the op-amp output voltage,
∨Show Solution

(2.32)
(2.33)
2.18
Figure 2.28 (a) A differentiator.
Figure 2.28 (b) Frequency response of a differentiator with a time constant CR.
The transfer function of the circuit can be found from Eq (2.24),
from which the magnitude response is found by substituting s = jω,
Plotted in Fig. 2.28(b), the magnitude response increases at +6 dB/octave (+20 dB/decade) and exhibits large
(ideally infinite) gain at high frequency. Unfortunately, the differentiator may experience a lot of high-
frequency noise at the output and may suffer from instability (Chapter 11). Hence, in practice, it is usually
necessary to connect a small-valued resistor in series with the capacitor.
EXERCISES
Consider a symmetrical square wave of 5-V peak-to-peak, 0 average, and 2-µs period applied to a
Miller integrator. Find the value of the time constant CR such that the triangular waveform at the output

D2.19
D2.20
has a 5-V peak-to-peak amplitude.
Use an ideal op amp to design an inverting integrator with an input resistance of 10 kΩ and an
integration time constant of 10−3 s. What is the gain magnitude and phase angle of this circuit at 10
rad/s and at 1 rad/s? What is the frequency at which the gain magnitude is unity?
Design a differentiator to have a time constant of 10−2 s and an input capacitance of 0.01 µF. What is
the gain magnitude and phase of this circuit at 10 rad/s, and at 103 rad/s? In order to limit the high-
frequency gain of the differentiator circuit to 100, a resistor is added in series with the capacitor. Find
the required resistor value.
∨Show Answer
∨Show Answer
∨Show Answer

2.6 DC Imperfections
Thus far we have primarily considered the op amp to be ideal. Being thoroughly familiar with the
characteristics of practical op amps and the effects of such characteristics on the performance of op-amp
circuits will allow the designer to use the op amp intelligently, especially if the application at hand is not a
straightforward one. The nonideal properties of op amps will, of course, limit the range of operation of the
circuits analyzed in the previous examples.
In this and the next two sections we consider some of the important nonideal properties of the op amp.4
We will treat one nonideality at a time, beginning in this section with the dc problems to which op amps are
susceptible.
2.6.1 Offset Voltage
Because op amps are direct-coupled devices with large gains at dc, they are prone to dc problems. The first
such problem is the dc offset voltage. To understand this problem consider the following conceptual
experiment: If the two input terminals of the op amp are tied together and connected to ground, we will find
that despite the fact that vId = 0, a finite dc voltage exists at the output. In fact, if the op amp has a high dc
gain, the output will be at either the positive or negative saturation level. The op-amp output can be brought
back to its ideal value of 0 V by connecting a dc voltage source of appropriate polarity and magnitude
between the two input terminals of the op amp. This external source balances out the input offset voltage of
the op amp. It follows that the input offset voltage (VOS) must be of equal magnitude and of opposite
polarity to the voltage we applied externally.
The input offset voltage arises as a result of the unavoidable mismatches present in the input differential
stage inside the op amp. In later chapters (in particular Chapters 9 and 13) we shall study this topic in detail.
Here, however, our concern is to investigate the effect of VOS on the operation of closed-loop op-amp
circuits. To that end, we note that general-purpose op amps exhibit VOS in the range of 1 mV to 5 mV. Also,
the value of VOS depends on temperature. The op-amp data sheets usually specify typical and maximum
values for VOS at room temperature as well as the temperature coefficient of VOS (usually in µV/°C). They
do not, however, specify the polarity of VOS because the component mismatches that give rise to VOS are
obviously not known a priori; different units of the same op-amp type may exhibit either a positive or a
negative VOS.
To analyze the effect of VOS on the operation of op-amp circuits, we need a circuit model for the op amp
with input offset voltage. Such a model is shown in Fig. 2.29. It consists of a dc source of value VOS placed
in series with the positive input lead of an offset-free op amp. The justification for this model follows from
the description above.

2.21
Figure 2.29 Circuit model for an op amp with input offset voltage VOS.
EXERCISE
Use the model of Fig. 2.29 to sketch the transfer characteristic vO versus vId(vO ≡ v3 and vId ≡ v2 − v1)
of an op amp having an open-loop dc gain A0 = 104 V/V, output saturation levels of ±10 V, and VOS of
+5 mV.
Figure E2.21 Transfer characteristic of an op amp with VOS = 5 mV and output saturation levels ±10 V.
Analysis of op-amp circuits to determine the effect of the op-amp VOS on their performance is
straightforward: The input voltage signal source is short-circuited and the op amp is replaced with the model
of Fig. 2.29. (Eliminating the input signal, done to simplify matters, is based on the principle of
superposition.) Following this procedure, we find that both the inverting and the noninverting amplifier
configurations result in the same circuit, that shown in Fig. 2.30, from which the output dc voltage due to
VOS is found to be
∨Show Answer

(2.34)
This output dc voltage can have a large magnitude. For instance, a noninverting amplifier with a closed-loop
gain of 1000, when constructed from an op amp with a 5-mV input offset voltage, will have a dc output
voltage of +5 V or −5 V (depending on the polarity of VOS) rather than the ideal value of 0 V. Now, when an
input signal is applied to the amplifier, the corresponding signal output will be superimposed on the 5-V dc.
Obviously then, the allowable signal swing at the output will be reduced. Even worse, if the signal to be
amplified is dc, we would not know whether the output is due to VOS or to the signal!
Figure 2.30 Evaluating the output dc offset voltage due to VOS in a closed-loop amplifier.
Some op amps are provided with two additional terminals to which a specified circuit can be connected
to trim to zero the output dc voltage due to VOS. Figure 2.31 shows such an arrangement that is typically
used with general-purpose op amps. A potentiometer is connected between the offset-nulling terminals with
the wiper of the potentiometer connected to the op-amp negative supply. Moving the potentiometer wiper
introduces an imbalance that counteracts the asymmetry present in the internal op-amp circuitry and that
gives rise to VOS. We shall return to this point in the context of our study of the internal circuitry of op amps
in Chapter 13. It should be noted, however, that even though the dc output offset can be trimmed to zero, the
problem remains of the variation (or drift) of VOS with temperature.

2.22
Figure 2.31 The output dc offset voltage of an op amp can be trimmed to zero by connecting a potentiometer to the two
offset-nulling terminals. The wiper of the potentiometer is connected to the negative supply of the op amp.
One way to overcome the dc offset problem is by capacitively coupling the amplifier. This, however, will
be possible only in applications where the closed-loop amplifier is not required to amplify dc or very-low-
frequency signals. Figure 2.32(a) shows a capacitively coupled amplifier. Because of its infinite impedance
at dc, the coupling capacitor will cause the gain to be zero at dc. As a result, the equivalent circuit for
determining the dc output voltage resulting from the op-amp input offset voltage VOS will be that shown in
Fig. 2.32(b). Thus VOS sees in effect a unity-gain voltage follower, and the dc output voltage VO will be
equal to VOS rather than VOS(1 + R2/R1), which is the case without the coupling capacitor. As far as input
signals are concerned, the coupling capacitor C forms together with R1 an STC high-pass circuit with a
corner frequency of ω0 = 1/CR1. Thus the gain of the capacitively coupled amplifier will fall off at the low-
frequency end [from a magnitude of (1 + R2/R1) at high frequencies] and will be 3 dB down at ω0.
Figure 2.32 (a) A capacitively coupled inverting amplifier. (b) The equivalent circuit for determining its dc output offset
voltage VO.
EXERCISES
Consider an inverting amplifier with a nominal gain of 1000 constructed from an op amp with an input
offset voltage of 3 mV and with output saturation levels of ±10 V. (a) What is (approximately) the peak

2.23
sine-wave input signal that can be applied without output clipping? (b) If the effect of VOS is nulled at
room temperature (25°C), how large an input can one now apply if: (i) the circuit is to operate at a
constant temperature? (ii) the circuit is to operate at a temperature in the range 0°C to 75°C and the
temperature coefficient of VOS is 10 µV/°C?
Consider the same amplifier as in Exercise 2.22—that is, an inverting amplifier with a nominal gain of
1000 constructed from an op amp with an input offset voltage of 3 mV and with output saturation
levels of ±10 V—except here let the amplifier be capacitively coupled as in Fig. 2.32(a). (a) What is
the dc offset voltage at the output, and what (approximately) is the peak sine-wave signal that can be
applied at the input without output clipping? Is there a need for offset trimming? (b) If R1 = 1 kΩ and
R2 = 1 MΩ, find the value of the coupling capacitor C1 that will ensure that the gain will be greater
than 57 dB down to 1 kHz.
2.6.2 Input Bias and Offset Currents
The second dc problem encountered in op amps is illustrated in Fig. 2.33. In order for the op amp to operate,
its two input terminals have to be supplied with dc currents, termed the input bias currents.5 In Fig. 2.33
these two currents are represented by two current sources, IB1 and IB2, connected to the two input terminals.
It should be emphasized that the input bias currents are independent of the fact that a real op amp has finite
(though large) input resistance (not shown in Fig. 2.33). The op-amp manufacturer usually specifies the
average value of IB1 and IB2 as well as their expected difference. The average value IB is called the input
bias current,
and the difference is called the input offset current and is given by
Typical values for general-purpose op amps that use bipolar transistors are IB = 100 nA and IOS = 10 nA.
∨Show Answer
∨Show Answer

Figure 2.33 The op-amp input bias currents represented by two current sources IB1 and IB2.
We now wish to find the dc output voltage of the closed-loop amplifier due to the input bias currents. To
do this we ground the signal source and obtain the circuit shown in Fig. 2.34 for both the inverting and
noninverting configurations. As shown in Fig. 2.34, the output dc voltage is given by
Figure 2.34 Analysis of the closed-loop amplifier, taking into account the input bias currents.

(2.35)
(2.36)
(2.37)
This obviously places an upper limit on the value of R2. Fortunately, however, there is a technique for
reducing the value of the output dc voltage due to the input bias currents. The method consists of introducing
a resistance R3 in series with the noninverting input lead, as shown in Fig. 2.35. From a signal point of view,
R3 has a negligible effect (ideally no effect). The appropriate value for R3 can be determined by analyzing
the circuit in Fig. 2.35, where analysis details are shown, and the output voltage is given by
Figure 2.35 Reducing the effect of the input bias currents by introducing a resistor R3.
Consider first the case IB1 = IB2 = IB, which results in
Thus we can reduce VO to zero by selecting R3 such that
That is, R3 should be made equal to the parallel equivalent of R1 and R2.

(2.38)
Substituting Eq. (2.37) for R3 into Eq. (2.36), and replacing (IB1 − IB2) by IOS, gives
which is usually about an order of magnitude smaller than the value obtained without R3 (Eq. 2.37). We
conclude that to minimize the effect of the input bias currents, one should place in the positive lead a
resistance equal to the equivalant dc resistance seen by the inverting terminal. We emphasize the word dc in
the last statement; note that if the amplifier is ac-coupled, we should select R3 = R2, as shown in Fig. 2.36.
Figure 2.36 In an ac-coupled amplifier the dc resistance seen by the inverting terminal is R2; hence R3 is chosen equal to
R2.
While we are on the subject of ac-coupled amplifiers, we should note that one must always provide a
continuous dc path between each of the input terminals of the op amp and ground. This is the case no matter
how small IB is. For this reason the ac-coupled noninverting amplifier of Fig. 2.37 will not work without the
resistance R3 to ground. Unfortunately, including R3 lowers considerably the input resistance of the closed-
loop amplifier.
Figure 2.37 Illustrating the need for a continuous dc path for each of the op-amp input terminals. Specifically, note that
the amplifier will not work without resistor R3.
Video Example VE 2.3


(2.39)
2.6.3 Effect of VOS and IOS on the Operation of the Inverting Integrator
In our discussion of the inverting integrator circuit in Section 2.5.2 we mentioned the susceptibility of this
circuit to saturation in the presence of small dc voltages or currents. It behooves us, then, to consider the
effect of the op-amp dc offsets on its operation. As you will see, these effects can be quite dramatic.
To see the effect of the input dc offset voltage VOS, consider the integrator circuit in Fig. 2.38, where for
simplicity we have short-circuited the input signal source. Analysis of the circuit is straightforward and is
shown in Fig. 2.37. Assuming for simplicity that at time t = 0 the voltage across the capacitor is zero, the
output voltage as a function of time is given by
Figure 2.38 Determining the effect of the op-amp input offset voltage VOS on the Miller integrator circuit. Note that
since the output rises with time, the op amp eventually saturates.
Thus vO increases linearly with time until the op amp saturates—clearly an unacceptable situation! As
should be expected, the dc input offset current IOS produces a similar problem. Figure 2.39 illustrates the
situation. Observe that we have added a resistance R in the op-amp positive-input lead in order to keep the
input bias current IB from flowing through C. Nevertheless, the offset current IOS will flow through C and
cause vO to ramp linearly with time until the op amp saturates.

2.25
Figure 2.39 Effect of the op-amp input bias and offset currents on the performance of the Miller integrator circuit.
As mentioned in Section 2.5.2 the dc problem of the integrator circuit can be alleviated by connecting a
resistor RF across the integrator capacitor C, as shown in Fig. 2.26. Such a resistor provides a dc path
through which the dc currents (VOS/R) and IOS can flow (assuming a resistance equal to R || RF is connected
in the positive op-amp lead), with the result that vO will now have a dc component [VOS(1 + RF/R) + IOSRF]
instead of rising linearly. To keep the dc offset at the output small, one would select a low value for RF.
Unfortunately, however, the lower the value of RF, the less ideal the integrator circuit becomes.
EXERCISE
Consider a Miller integrator with a time constant of 1 ms and an input resistance of 10 kΩ. Let the op
amp have VOS = 2 mV and output saturation voltages of ±12 V. (a) Assuming that when the power
supply is turned on the capacitor voltage is zero, how long does it take for the amplifier to saturate? (b)
Select the largest possible value for a feedback resistor RF so that at least ±10 V of output signal swing
remains available. What is the corner frequency of the resulting STC network?
∨Show Answer

2.7 Effect of Finite Open-Loop Gain and Bandwidth on Circuit
Performance
2.7.1 Frequency Dependence of the Open-Loop Gain
The differential open-loop gain A of an op amp is not infinite; rather, it is finite and decreases with
frequency. Figure 2.40 shows a plot for |A|, with the numbers typical of some commercially available
general-purpose op amps (such as the popular 741-type op amp, available from many semiconductor
manufacturers).
Figure 2.40 Open-loop gain of a typical general-purpose, internally compensated op amp.
Note that although the gain is quite high at dc and low frequencies, it starts to fall off at a rather low
frequency (10 Hz in our example). The uniform –20-dB/decade gain rolloff shown is typical of internally
compensated op amps. These are units that have a network (usually a single capacitor) included within the
same IC chip whose function is to cause the op-amp gain to have the single-time-constant (STC) low-pass
response shown. This process of modifying the open-loop gain is termed frequency compensation, and its
purpose is to ensure that op-amp circuits will be stable (as opposed to oscillatory). The subject of stability of
op-amp circuits—or, more generally, of feedback amplifiers—will be studied in Chapter 11.

(2.40)
(2.41)
(2.42)
(2.43)
(2.44)
(2.45)
(2.46)
(2.47)
By analogy to the response of low-pass STC circuits (see Section 1.6 and, for more detail, Appendix E),
the gain A(s) of an internally compensated op amp may be expressed as
which for physical frequencies, s = jω, becomes
where A0 denotes the dc gain and ωb is the 3-dB frequency (corner frequency or “break” frequency). For the
example shown in Fig. 2.40, A0 = 105 and ωb = 2π × 10 rad/s. For frequencies ω ≫ ωb (about 10 times and
higher) Eq. (2.43) may be approximated by
Thus,
from which it can be seen that the gain |A| reaches unity (0 dB) at a frequency denoted by ωt and given by
Substituting in Eq. (2.42) gives
The frequency ft = ωt/2π is usually specified on the data sheets of commercially available op amps and is
known as the unity-gain bandwidth.6 Also note that for ω ≫ ωb the open-loop gain in Eq. (2.40) becomes
The gain magnitude can be obtained from Eq. (2.45) as
Thus if ft is known (106 Hz in our example), we can easily determine the magnitude of the op-amp gain at a
given frequency f. Furthermore, observe that this relationship correlates with the Bode plot in Fig. 2.40.

2.26
(2.48)
(2.49)
(2.50)
Specifically, for 
 doubling f (an octave increase) results in halving the gain (a 6-dB reduction).
Similarly, increasing f by a factor of 10 (a decade increase) results in reducing |A| by a factor of 10 (20 dB).
As a matter of practical importance, we note that the production spread in the value of ft between op-amp
units of the same type is usually much smaller than that observed for A0 and fb. For this reason ft is preferred
as a specification parameter. Finally, it should be mentioned that an op amp having this uniform –6-
dB/octave (or equivalently –20-dB/decade) gain rolloff is said to have a single-pole model. Also, since this
single pole dominates the amplifier frequency response, it is called a dominant pole. For more on poles (and
zeros), the reader may wish to consult Appendix F.
EXERCISE
An internally compensated op amp is specified to have an open-loop dc gain of 106 dB and a unity-
gain bandwidth of 3 MHz. Find fb and the open-loop gain (in dB) at fb, 300 Hz, 3 kHz, 12 kHz, and 60
kHz.
2.7.2 Frequency Response of Closed-Loop Amplifiers
We next consider the effect of limited op-amp gain and bandwidth on the closed-loop transfer functions of
the two basic configurations: the inverting circuit of Fig. 2.5 and the noninverting circuit of Fig. 2.12. The
closed-loop gain of the inverting amplifier, assuming a finite op-amp open-loop gain A, was derived in
Section 2.2 and given in Eq. (2.5), which we repeat here.
Substituting for A from Eq. (2.40) and using Eq. (2.44) gives
For A0 ≫ 1 + R2/R1, which is usually the case,
which is of the same form as that for a low-pass STC network (see Table 1.2). Thus the inverting amplifier
has an STC low-pass response with a dc gain of magnitude equal to R2/R1. The closed-loop gain rolls off at a
uniform –20-dB/decade slope with a corner frequency (3-dB frequency) given by
∨Show Answer

(2.51)
(2.52)
(2.53)
Similarly, analysis of the noninverting amplifier of Fig. 2.12, assuming a finite open-loop gain A, yields the
closed-loop gain in Eq. (2.11), repeated here.
Substituting for A from Eq. (2.40) and making the approximation A0 ≫ 1 + R2/R1 results in
Thus the noninverting amplifier has an STC low-pass response with a dc gain of (1 + R2/R1) and a 3-dB
frequency given also by Eq. (2.51).
Example 2.7
Consider an op amp with ft = 1 MHz. Find the 3-dB frequency of closed-loop amplifiers with nominal gains of
+1000, +100, +10, +1, −1, −10, −100, and −1000. Sketch the magnitude frequency response for the amplifiers
with closed-loop gains of +10 and −10.
The table in Example 2.7 above clearly illustrates the trade-off between gain and bandwidth: For a given
op amp, the lower the closed-loop gain required, the wider the bandwidth achieved. Indeed, the noninverting
configuration exhibits a constant gain–bandwidth product equal to ft of the op amp. An interpretation of
these results in terms of feedback theory will be given in Chapter 11.
Video Example VE 2.4
Consider a noninverting amplifier with a gain of 10 using an internally compensated op amp with ft = 4 MHz.
What is the 3-dB frequency of the amplifier? If the input is a 10 mV-step, find the 10% to 90% rise time of the
output voltage. (Note: The step response of STC low-pass networks is discussed in Appendix E. Specifically,
note that the 10% to 90% rise time of a low-pass STC circuit with a time constant τ is 2.2τ .)
 Solution: Watch the authors solve this problem:
∨Show Solution


2.8 Large-Signal Operation of Op Amps
In this section, we study the limitations on the performance of op-amp circuits when large output signals are
present.
2.8.1 Output Voltage Saturation
Similar to all other amplifiers, op amps operate linearly over a limited range of output voltages. Specifically,
the op-amp output saturates in the manner shown in Fig. 1.14 with L+ and L− related to the positive and
negative power supply voltages, respectively. Thus, an op amp that is operating from ±15-V supplies may
saturate when the output voltage reaches about +13 V in the positive direction and –13 V in the negative
direction. For this particular op amp the rated output voltage is said to be ±13 V. To avoid clipping off the
peaks of the output waveform, and the resulting waveform distortion, the input signal must be kept
correspondingly small. When operating from low supply voltages, such as those provided by single-cell
batteries, it is naturally important for L± to closely approach the supply voltages, thus allowing for the largest
possible signal amplitude. Op amps for which L± equal the supply voltages are common for such
applications and are said to offer rail-to-rail output.
2.8.2 Output Current Limits
Another limitation on the operation of op amps is that their output current is limited to a specified maximum.
For instance, the popular 741 op amp is specified to have a maximum output current of ±20 mA. Thus, in
designing closed-loop circuits utilizing the 741, the designer has to ensure that under no condition will the op
amp be required to supply an output current, in either direction, exceeding 20 mA. This, of course, has to
include both the current in the feedback circuit as well as the current supplied to a load resistor. If the circuit
requires a larger current, the op-amp output voltage will saturate at the level corresponding to the maximum
allowed output current.
Example 2.8
Consider the noninverting amplifier circuit shown in Fig. 2.43. As shown, the circuit is designed for a nominal
gain (1 + R2/R1) = 10 V/V. It is fed with a low-frequency sine-wave signal of peak voltage Vp and is connected
to a load resistor RL. The op amp is specified to have output saturation voltages of ±13 V and output current
limits of ±20 mA.

(a)
(b)
(c)
(d)
(2.54)
Figure 2.43 (a) A noninverting amplifier with a nominal gain of 10 V/V designed using an op amp that saturates
at ±13-V output voltage and has ±20-mA output current limits.
Figure 2.43 (b) When the input sine wave has a peak of 1.5 V, the outupt is clipped off at ±13 V.
For Vp = 1 V and RL = 1 kΩ, specify the signal resulting at the output of the amplifier.
For Vp = 1.5 V and RL = 1 kΩ, specify the signal resulting at the output of the amplifier.
For RL = 1 kΩ, what is the maximum value of Vp for which an undistorted sine-wave output is obtained?
For Vp = 1 V, what is the lowest value of RL for which an undistorted sine-wave output is obtained?
2.8.3 Slew Rate
Another phenomenon that can cause nonlinear distortion when large output signals are present is slew-rate
limiting. The name refers to the fact that there is a specific maximum rate of change possible at the output of
a real op amp. This maximum is known as the slew rate (SR) of the op amp and is defined as
∨Show Solution

and is usually specified on the op-amp data sheet in units of V/µs. It follows that if the input signal applied to
an op-amp circuit is such that it demands an output response that is faster than the specified value of SR, the
op amp will not comply. Rather, its output will change at the maximum possible rate, which is equal to its
SR. As an example, consider an op amp connected in the unity-gain voltage-follower configuration shown in
Fig. 2.44(a), and let the input signal be the step voltage shown in Fig. 2.44(b). The output of the op amp will
not be able to rise instantaneously to the ideal value V; rather, the output will be the linear ramp of slope
equal to SR, shown in Fig. 2.44(c). The amplifier is then said to be slewing, and its output is slew-rate
limited.
Figure 2.44 (a) Unity-gain follower.
Figure 2.44 (b) Input step waveform.
Figure 2.44 (c) Linearly rising output waveform obtained when the amplifier is slew-rate limted.

(2.55)
(2.56)
2.29
Figure 2.44 (d) Exponentially rising output waveform obtained when V is sufficiently small so that the initial slope
(ωtV) is smaller than or equal to SR.
In order to understand the origin of the slew-rate phenomenon, we need to know about the internal circuit
of the op amp, which we will study in Chapter 13. For now, it is enough to be aware of the phenomenon and
that it is distinct from the finite op-amp bandwidth that limits the frequency response of the closed-loop
amplifiers, studied in the previous section. The limited bandwidth is a linear phenomenon and does not result
in a change in the shape of an input sinusoid; that is, it does not lead to nonlinear distortion. The slew-rate
limitation, on the other hand, can cause nonlinear distortion to an input sinusoidal signal when its frequency
and amplitude are such that the corresponding ideal output would require vO to change at a rate greater than
SR. This is the origin of another related op-amp specification, its full-power bandwidth, to be explained later.
Before leaving the example in Fig. 2.44, however, we should point out that if the step input voltage V is
sufficiently small, the output can be the exponentially rising ramp shown in Fig. 2.44(d). Such an output
would be expected from the follower if the only limitation on its dynamic performance were the finite op-
amp bandwidth. Specifically, the transfer function of the follower can be found by substituting R1 = ∞ and
R2 = 0 in Eq. (2.53) to obtain
which is a low-pass STC response with a time constant 1/ωt. Its step response would therefore be (see
Appendix E)
The initial slope of this exponentially rising function is (ωtV). Thus, as long as V is sufficiently small so that
ωtV ≤ SR, the output will be as in Fig. 2.44(d).
EXERCISE
An op amp that has a slew rate of 1 V/µs and a unity-gain bandwidth ft of 1 MHz is connected in the
unity-gain follower configuration. Find the largest possible input voltage step for which the output
waveform will still be given by the exponential ramp of Eq. (2.56). For this input voltage, what is the
10% to 90% rise time of the output waveform? If an input step 10 times as large is applied, find the
10% to 90% rise time of the output waveform.
Example 2.9
Consider the unity-gain follower with a sine-wave input given by
∨Show Answer

2.30
An op amp having a slew rate SR and maximum output swing Vomax, but otherwise ideal, is used. What is the
maximum frequency, fM, for which a full-swing sinusoid will not cause distortion due to slew-rate limiting?
EXERCISE
An op amp has a rated output voltage of ±5 V and a slew rate of 10 V/µs. What is its full-power
bandwidth? If an input sinusoid with frequency f = 5fM is applied to a unity-gain follower constructed
using this op amp, what is the maximum possible amplitude that can be accommodated at the output
without incurring SR distortion?
∨Show Solution
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
The IC op amp is a versatile circuit building block. It is easy to apply, and the performance of op-amp
circuits closely matches theoretical predictions.
The op-amp terminals are the inverting input terminal (1), the noninverting input terminal (2), the output
terminal (3), the positive-supply terminal (4) to be connected to the positive power supply (VCC), and the
negative-supply terminal (5) to be connected to the negative supply (−VEE).
The ideal op amp responds only to the difference input signal, that is, (v2 − v1). It provides at the output
terminal 3 a signal A(v2 −v1), where A, the open-loop gain, is very large (e.g., 104 to 106) and ideally
infinite. It has infinite input resistance and zero output resistance. (See Table 2.1.)
Negative feedback is applied to an op amp by connecting a passive component between its output
terminal and its inverting (negative) input terminal. Negative feedback causes the voltage between the
two input terminals to become very small and ideally zero. Correspondingly, a virtual short circuit is said
to exist between the two input terminals. If the positive input terminal is connected to ground, a virtual
ground appears on the negative input terminal.
The two most important assumptions in the analysis of op-amp circuits, presuming negative feedback
and ideal op amps, are as follows: the two input terminals of the op amp are at the same voltage, and zero
current flows into the op-amp input terminals.
With negative feedback applied and the loop closed, the closed-loop gain is almost entirely determined
by external components: For the inverting configuration, Vo/Vi = −R2/R1; and for the noninverting
configuration, Vo/Vi = 1 + R2/R1.
The noninverting closed-loop configuration features a very high input resistance. A special case is the
unity-gain follower, frequently employed as a buffer amplifier to connect a high-resistance source to a
low-resistance load.
The difference amplifier of Fig. 2.16 is designed with R4/R3 = R2/R1, resulting in vO = (R2/R1)(vI2 − vI1).
The instrumentation amplifier of Fig. 2.20(b) provides vO = (1 + R2/R1)(R4/R3) (vI2 −vI1). It is usually
designed with R3 =R4, and R1 and R2 selected to provide the required gain. If an adjustable gain is
needed, part of R1 can be made variable.
The inverting Miller integrator of Fig. 2.24(a) is frequently used in analog signal-processing functions
such as filters (Chapter 14).
The input offset voltage, VOS, is the magnitude of dc voltage that when applied between the op-amp
input terminals, with appropriate polarity, reduces the dc offset voltage at the output to zero.
The effect of VOS on performance can be evaluated by including in the analysis a dc source VOS in series
with the op-amp positive input lead. For both the inverting and the noninverting configurations, VOS
results in a dc offset voltage at the output of VOS(1 + R2/R1).
Capacitively coupling an op amp reduces the dc offset voltage at the output considerably.

■
■
■
■
■
The average of the two dc currents, IB1 and IB2, that flow into the input terminals of the op amp, is called
the input bias current, IB. In a closed-loop amplifier, IB gives rise to a dc offset voltage at the output of
magnitude IBR2. This voltage can be reduced to IOSR2 by connecting a resistance in series with the
positive input terminal equal to the total dc resistance seen by the negative input terminal, where IOS is
the input offset current; that is, IOS = |IB1 − IB2|.
Connecting a large resistance in parallel with the capacitor of an op-amp inverting integrator prevents op-
amp saturation (due to the effect of VOS and IB).
For most internally compensated op amps, the open-loop gain falls off with frequency at a rate of −20
dB/decade, reaching unity at a frequency ft (the unity-gain bandwidth). Frequency ft is also known as the
gain–bandwidth product of the op amp: ft = A0 fb, where A0 is the dc gain, and fb is the 3-dB frequency of
the open-loop gain. At any frequency f ≫ fb, the op-amp gain |A| 
 ft/f.
For both the inverting and the noninverting closed-loop configurations, the 3-dB frequency is equal to
ft/(1 + R2/R1).
The maximum rate at which the op-amp output voltage can change is called the slew rate. The slew rate,
SR, is usually specified in V/µs. Op-amp slewing can result in nonlinear distortion of output signal
waveforms.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 2.1: The Ideal Op Amp
2.1 What is the minimum number of pins required for a so-called dual-op-amp IC package, one containing two op
amps? What is the number of pins required for a so-called quad-op-amp package, one containing four op amps?
2.2 The circuit of Fig. P2.2 uses an op amp that is ideal except for having a finite gain A. Measurements indicate vO
= 2.5 V when vI = 1.0 V. What is the op-amp gain A?
Figure P2.2
2.3 Measurement of a circuit incorporating what is thought to be an ideal op amp shows the voltage at the op-amp
output to be −3.500 V and that at the negative input to be −1.000 V. For the amplifier to be ideal, what would you
expect the voltage at the positive input to be? If the measured voltage at the positive input is −1.002 V, what is
likely to be the actual gain of the amplifier?
∨Show Answer
∨Show Answer
∨Show Answer

2.4 A set of experiments is run on an op amp that is ideal except for having a finite gain A. The results are tabulated
below. Are the results consistent? If not, are they reasonable, in view of the possibility of experimental error? What
do they show the gain to be? Using this value, predict values of the measurements that were accidentally omitted
(the blank entries).
Experiment #
v1
v2
vO
1
0.00
0.00
0.00
2
–1.00
–1.00
0.00
3
–1.00
–1.00
4
1.00
1.02
4.01
5
2.01
2.00
–1.99
6
1.99
2.00
2.00
7
5.10
–5.10
*2.5 Refer to Exercise 2.3. This problem explores an alternative internal structure for the op amp. In particular, we
wish to model the internal structure of a particular op amp using two transconductance amplifiers and one
transresistance amplifier. Suggest an appropriate topology. For equal transconductances Gm and a transresistance
Rm, find an expression for the open-loop gain A. For Gm = 100 mA/V and Rm = 1 × 105 Ω, what value of A results?
2.6 Two amplifier inputs are expressed in each row of the table below either in terms of their node voltages with
respect to ground, v1 and v2, or in terms of their differential and common-mode voltages, vId and vIcm. Complete
the table.
v1
v2
vId
vIcm
0.90
0.90
0.50
1.00
−1.20
−1.10
−0.15
0.05
−0.20
0.00
2.7 The two wires leading from the output terminals of a transducer pick up an interference signal that is a 60-Hz,
2-V sinusoid. The output signal of the transducer is sinusoidal of 5-mV amplitude and 1000-Hz frequency. Give
expressions for vcm, vd, and the total signal between each wire and the system ground.
2.8 Nonideal (i.e., real) operational amplifiers respond to both the differential and common-mode components of
their input signals (refer to Fig. 2.4 for signal representation). Thus the output voltage of the op amp can be
expressed as
where Ad is the differential gain (referred to simply as A in the text) and Acm is the common-mode gain (assumed to
be zero in the text). The op amp’s effectiveness in rejecting common-mode signals is measured by its CMRR,
defined as
∨Show Answer

Consider an op amp whose internal structure is of the type shown in Fig. E2.3 except for a mismatch ∆Gm between
the transconductances of the two channels; that is,
Find expressions for Ad, Acm, and CMRR. What is the maximum permitted percentage mismatch between the two
Gm values if a minimum CMRR of 60 dB is required?
Section 2.2: The Inverting Configuration
2.9 Assuming ideal op amps, find the voltage gain vo/vi and input resistance Rin of the circuits in Fig. P2.9(a), (b),
(c), and (d).
Figure P2.9 (a)
Figure P2.9 (b)
Figure P2.9 (c)

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
Figure P2.9 (d)
2.10 A particular inverting circuit uses an ideal op amp and two 10- kΩ resistors. What closed-loop gain would you
expect? If a dc voltage of +1.00 V is applied at the input, what outputs result? If the 10- kΩ resistors are said to be
“1% resistors,” having values somewhere in the range (1 ± 0.01) times the nominal value, what range of outputs
would you expect to actually measure for an input of precisely 1.00 V?
2.11 You are provided with an ideal op amp and three 10- kΩ resistors. Using series and parallel resistor
combinations, how many different inverting-amplifier circuit topologies are possible? What is the largest
(noninfinite) available voltage gain magnitude? What is the smallest (nonzero) available gain magnitude? What are
the input resistances in these two cases?
SIM 2.12 For ideal op amps operating with the following feedback networks in the inverting configuration, what
closed-loop gain results?
R1 = 10 kΩ, R2 = 20 kΩ
R1 = 10 kΩ, R2 = 100 kΩ
R1 = 10 kΩ, R2 = 5 kΩ
R1 = 100 kΩ, R2 = 5 MΩ
R1 = 100 kΩ, R2 = 0.5 MΩ
D 2.13 Given an ideal op amp, what are the values of the resistors R1 and R2 to be used to design amplifiers with
the closed-loop gains listed below? In your designs, use at least one 10- kΩ resistor and another equal or larger
resistor.
−1 V/V
−10 V/V
−20 V/V
−0.5 V/V
D 2.14 Design an inverting op-amp circuit for which the gain is −5 V/V and the total resistance used is 6 kΩ.
D 2.15 Using the circuit of Fig. 2.5 and assuming an ideal op amp, design an inverting amplifier with a gain of 26
dB having the largest possible input resistance under the constraint of having to use resistors no larger than 100 kΩ.
What is the input resistance of your design?
2.16 An ideal op amp is connected as shown in Fig. 2.5 with R1 = 2 kΩ and R2 = 8 kΩ. A symmetrical square-wave
signal with levels of 0 V and 1 V is applied at the input. Sketch and clearly label the waveform of the resulting
∨Show Answer
∨Show Answer
∨Show Answer

output voltage. What is its average value? What is its highest value? What is its lowest value? Also
sketch the current waveform through R1, labeling its maximum, minimum, and average.
2.17 For the circuit in Fig. P2.17, assuming an ideal op amp, find the currents through all branches and
the voltages at all nodes. Find the power dissipated in each resistor, and the total power dissipated in all
resistors. How much power is delivered by the −1-V input source? Where does the rest of the power come from?
Figure P2.17
2.18 In the circuit of Fig. P2.17, what is the current flowing through the output of the ideal op amp? If we wish to
use a practical op amp that has a specified maximum output current of 2.5 mA, how may the values of the resistors
R1 and R2 be changed so that the gain remains the same?
2.19 An inverting op-amp circuit is fabricated with the resistors R1 and R2 having x% tolerance (i.e., the value of
each resistance can deviate from the nominal value by as much as ±x%). What is the tolerance on the realized
closed-loop gain? Assume the op amp to be ideal. If the nominal closed-loop gain is −100 V/V and x = 1, what is
the range of gain values expected from such a circuit?
2.20 An ideal op amp with 5- kΩ and 10- kΩ resistors is used to create a +2.5-V supply from a −5-V reference.
Sketch the circuit. What are the voltages at the ends of the 5- kΩ resistor? If these resistors are so-called 1%
resistors, whose actual values are the range bounded by the nominal value ±1%, what are the limits of the output
voltage produced? If the −5-V supply can also vary by ±1%, what is the range of the output voltages that might be
found?
D 2.21 An inverting op-amp circuit for which the required gain is −50 V/V uses an op amp whose open-loop gain is
only 200 V/V. If the larger resistor used is 100 kΩ, to what must the smaller be adjusted? With what resistor must a
2- kΩ resistor connected to the input be shunted to achieve this goal? (Note that a resistor Ra is said to be shunted
by resistor Rb when Rb is placed in parallel with Ra.)
D 2.22 (a) Design an inverting amplifier with a closed-loop gain of −200 V/V and an input resistance of 1 kΩ.
(b) If the op amp is known to have an open-loop gain of 5000 V/V, what do you expect the closed-loop gain of your
circuit to be (assuming the resistors have precise values)?
(c) Give the value of a resistor you can place in parallel (shunt) with R1 to restore the closed-loop gain to its
nominal value. Use the closest standard 1% resistor value (see Appendix J).
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(d) Alternatively, give the closest standard resistor value that may be connected in series with R2 to restore the
closed-loop gain to its ideal value.
2.23 An op amp with an open-loop gain of 5000 V/V is used in the inverting configuration so that its output voltage
ranges from −10 V to +10 V. What is the maximum voltage by which the “virtual ground node” departs from its
ideal value?
2.24 The circuit in Fig. P2.24 is frequently used to provide an output voltage vo proportional to an input signal
current ii.
Figure P2.24
Derive expressions for the transresistance Rm ≡ vo/ii and the input resistance Ri ≡ vi/ii for the following cases:
A is infinite.
A is finite.
2.25 Show that for the inverting amplifier if the op-amp gain is A, the input resistance is given by
*2.26 Figure P2.26 shows an op amp that is ideal except for having a finite open-loop gain and is used to realize an
inverting amplifier whose gain has a nominal magnitude G = R2/R1. To compensate for the gain reduction due to
the finite A, a resistor Rc is shunted across R1. Show that perfect compensation is achieved when Rc is selected
according to
∨Show Answer

Figure P2.26
D*2.27 (a) Use Eq. (2.5) to obtain the amplifier open-loop gain A required to realize a specified closed-
loop gain (Gnominal = −R2/R1) within a specified gain error ,
(b) Design an inverting amplifer for a nominal closed-loop gain of −30, an input resistance of 1 kΩ, and a gain
error of ≤5%. Specify R1, R2, and the minimum A required.
*2.28 (a) Use Eq. (2.5) to show that a reduction ∆A in the op-amp gain A gives rise to a reduction ∆|G| in the
magnitude of the closed-loop gain G with ∆|G| and ∆A related by
(b) If in a closed-loop amplifier with a nominal gain (i.e., R2/R1) of 100, A decreases by 10%, what is the
minimum nominal A required to limit the percentage change in |G| to 0.1%?
2.29 An inverting amplifier is accidentally connected with positive feedback as illustrated in Fig. P2.29. Assuming
the op amp has a finite gain A, find an expression for the closed-loop gain, vO/vI. Show that if A = 1 + (R2/R1), the
closed-loop gain becomes infinite, indicating instability. Real op-amp gain varies with input frequency so that
instability is practically inevitable when positive feedback is used.
Figure P2.29
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(a)
(b)
(c)
2.30 Consider the circuit in Fig. 2.8 with R1 = R2 = R4 = 2 MΩ, and assume the op amp to be ideal. Find values for
R3 to obtain the following gains:
−50 V/V
−20 V/V
−5V/V
D 2.31 An inverting op-amp circuit using an ideal op amp must be designed to have a gain of −200 V/V using
resistors no larger than 1 MΩ.
For the simple two-resistor circuit, what input resistance would result?
If the circuit in Fig. 2.8 is used with three resistors of maximum value, what input resistance results? What is
the value of the smallest resistor needed?
2.32 The inverting circuit with the T network in the feedback is redrawn in Fig. P2.32 in a way that emphasizes the
observation that R2 and R3 in effect are in parallel (because the ideal op amp forces a virtual ground at the inverting
input terminal). Use this observation to derive an expression for the gain (vO/vI) by first finding (vX/vI) and (vO/vX).
For the latter use the voltage-divider rule applied to R4 and (R2 || R3).
Figure P2.32
*2.33 The circuit in Fig. P2.33 can be considered to be an extension of the circuit in Fig. 2.8.
Find the resistances looking into node 1, R1; node 2, R2; node 3, R3; and node 4, R4.
Find the currents I1, I2, I3, and I4, in terms of the input current I.
Find the voltages at nodes 1, 2, 3, and 4, that is, V1, V2, V3, and V4 in terms of (IR).
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
Figure P2.33
2.34 The circuit in Fig. P2.34 utilizes an ideal op amp.
Find I1, I2, I3, IL, and Vx.
If VO is not to be lower than −8 V, find the maximum allowed value for RL.
If RL is varied in the range 100 Ω to 500 kΩ, what is the corresponding change in IL and in VO?
Figure P2.34
D 2.35 Use the circuit in Fig. P2.34 as an inspiration to design a circuit that supplies a constant current IL of 3.1
mA to a variable resistance RL. Assume the availability of a 1.5-V battery and design so that the current drawn
from the battery is 0.1 mA. For the smallest resistance in the circuit, use 500 Ω. If the op amp saturates at ±10 V,
what is the maximum value that RL can have while the current source supplying it operates properly?
D 2.36 Assuming the op amp to be ideal, it is required to design the circuit shown in Fig. VE 2.2 to
implement a current amplifier with gain iL/iI = 11 A/A.
 
Find the required value for R.
What are the input and the output resistance of this current amplifier?
If RL = 1 kΩ and the op amp operates in an ideal manner as long as vO is in the range ±12 V, what range of iI
is possible?
∨Show Answer

(d)
(a)
(b)
(c)
(d)
If the amplifier is fed with a current source having a current of 0.2 mA and a source resistance of 10 kΩ, find
iL.
D 2.37 Design the circuit shown in Fig. P2.37 to have an input resistance of 100 kΩ and a gain that can be varied
from −1 V/V to −100 V/V using the 100- kΩ potentiometer R4. What voltage gain results when the potentiometer is
set exactly at its middle value?
Figure P2.37
2.38 A weighted summer circuit using an ideal op amp as shown in Fig. 2.10 has three inputs using 20- kΩ resistors
and a feedback resistor of 50 kΩ. A signal v1 is connected to two of the inputs while a signal v2 is connected to the
third. Express vO in terms of v1 and v2. If v1 = 1 V and v2 = −1 V, what is vO?
2.39 Design an op-amp circuit to provide an output vO = −[2v1 + (v2/2)]. Choose the lowest possible values of
resistors for which the input current (from each input signal source) does not exceed 50 µA for 1-V input signals.
D 2.40 Use the scheme illustrated in Fig. 2.10 to design an op-amp circuit with inputs v1, v2, and v3, whose output
is vO = −(1v1+ 4v2+ 6v3) using the smallest possible resistors but no smaller than 1 kΩ.
D 2.41 An ideal op amp is connected in the weighted summer configuration of Fig. 2.10. The feedback resistor Rf =
100 kΩ, and eight 100- kΩ resistors are connected to the inverting input terminal of the op amp. Show, by
sketching the various circuit configurations, how this basic circuit can be used to implement the following
functions:
vO = −(v1 + 2v2 + 5v3)
vO = −(v1 + v2 + 2v3 + 4v4)
vO = −(2v1 + 6v2)
vO = −8v1
∨Show Answer
∨Show Answer

(a)
In each case find the input resistance seen by each of the signal sources supplying v1, v2, v3, and v4. Suggest at least
two additional summing functions that you can realize with this circuit. How would you realize a summing
coefficient that is 0.5?
D 2.42 Give a circuit, complete with component values, for a weighted summer that shifts the dc level of a sine-
wave signal of 3 sin(ωt) V from zero to −3 V. Assume that in addition to the sine-wave signal you have a dc
reference voltage of 1.5 V available. Sketch the output signal waveform.
D 2.43 Use two ideal op amps and resistors to implement the summing function
*2.44 Figure P2.44 shows a circuit for a digital-to-analog converter (DAC). The circuit accepts a 4-bit input binary
word a3a2a1a0, where a0, a1, a2, and a3 take the values of 0 or 1, and it provides an analog output voltage vO
proportional to the value of the digital input. Each of the bits of the input word controls the correspondingly
numbered switch. For instance, if a2 is 0 then switch S2 connects the 20- kΩ resistor to ground, while if a2 is 1 then
S2 connects the 20- kΩ resistor to the +5-V power supply. Show that vO is given by
where Rf is in kilohms. Find the value of Rf so that vO ranges from 0 to −5 volts.
Figure P2.44
Section 2.3: The Noninverting Configuration
D 2.45 Given an ideal op amp to implement designs for the following closed-loop gains, what values of resistors
(R1, R2) should be used? Use at least one 10- kΩ resistor as the smallest resistor in your design.
+5 V/V
∨Show Answer

(b)
(c)
(d)
+10 V/V
+21 V/V
+100 V/V
D 2.46 Design a circuit based on the topology of the noninverting amplifier to obtain a gain of +1.5 V/V, using only
10- kΩ resistors. Note that there are two possibilities. Which of these can be easily converted to have a gain of
either +1.0 V/V or +2.0 V/V simply by short-circuiting a single resistor in each case?
D 2.47 Figure P2.47 shows a circuit for an analog voltmeter of very high input resistance that uses an inexpensive
moving-coil meter. The voltmeter measures the voltage V applied between the op amp’s positive-input terminal and
ground. The moving-coil meter deflects a small mechanical arm in response to a current. Assuming it produces
full-scale deflection when the current passing through it is 100 µA, find the value of R such that a full-scale reading
is obtained when V is +10 V. Does the value of the meter resistance affect the voltmeter calibration?
Figure P2.47
D*2.48 (a) Use superposition to show that the output of the circuit in Fig. P2.48 is given by
∨Show Answer
∨Show Answer

Figure P2.48
where RN = RN1 || RN2 || ··· || RNn, and
(b) Design a circuit to obtain
The smallest resistor used should be 10 kΩ.
D*2.49 Design a circuit, using one ideal op amp, whose output is vO = vI1 + 2vI2 − 9vI3 + 4vI4. (Hint)
2.50 Derive an expression for the voltage gain, vO/vI, of the circuit in Fig. P2.50.

Figure P2.50
2.51 For the circuit in Fig. P2.51, use superposition to find vO in terms of the input voltages v1 and v2. Assume an
ideal op amp. For
find vO.
Figure P2.51
D 2.52 The circuit shown in Fig. P2.52 utilizes a 50- kΩ potentiometer to realize an adjustable-gain amplifier.
Derive an expression for the gain as a function of the potentiometer setting x. Assume the op amp to be ideal. What
is the range of gains obtained? Show how to add a fixed resistor so that the gain range can be 1 to 21 V/V. What
should the resistor value be?
∨Show Answer

(a)
(b)
(c)
Figure P2.52
D 2.53 Given the availability of resistors of value 1 kΩ and 10 kΩ only, design a circuit based on the noninverting
configuration to realize a gain of +10 V/V. What is the input resistance of your amplifier?
2.54 It is required to connect a 10-V source with a source resistance of 1 MΩ to a 1- kΩ load. Find the voltage that
will appear across the load if:
The source is connected directly to the load.
An inverting amplifier utilizing 100- kΩ resistors and an ideal op amp to realize a gain of −1 V/V is inserted
between the source and load.
A unity-gain op-amp buffer is inserted between the source and load.
In each case find the load current and the current supplied by the source. Where does the load current come from in
cases (b) and (c)?
2.55 Derive an expression for the gain of the voltage follower of Fig. 2.14, assuming the op amp to be ideal except
for having a finite gain A. Calculate the value of the closed-loop gain for A = 60 dB, 40 dB, and 20 dB. In each case
find the percentage error in gain magnitude from the nominal value of unity.
2.56 A 1-V peak sinusoid is applied to a voltage follower. Assuming the op amp to be ideal, what is the differential
signal appearing at the op-amp input terminals? What is the common-mode signal appearing at the op-amp inputs?
How does this compare with the differential and common-mode op-amp input signals arising in an inverting
configuration designed for a gain of −1?
2.57 Complete the following table for feedback amplifiers created using one ideal op amp. Note that Rin signifies
input resistance and R1 and R2 are feedback-network resistors as labeled in the inverting and noninverting
configurations.
Case
Gain
Rin
R1
R2
a
−10 V/V
20 kΩ
b
−4 V/V
100 kΩ
c
−2 V/V
20 kΩ
d
+1 V/V
∞
e
+25 V/V
100 kΩ
f
+9 V/V
40 kΩ
g
−0.5 V/V
10 kΩ
D 2.58 You wish to select an op amp for use in a noninverting configuration having a nominal gain of +20 V/V.
Using Eq. (2.12), find the minimum op-amp gain A, expressed in decibels, required to ensure the actual closed-loop
∨Show Answer

gain is within 1% of its nominal value.
D 2.59 A noninverting op-amp circuit with nominal gain of 10 V/V uses an op amp with open-loop gain of 100
V/V and a lowest-value resistor of 10 kΩ. What closed-loop gain actually results? With what value resistor can
which resistor be shunted to achieve the nominal gain? If in the manufacturing process, an op amp of gain 200 V/V
were used, what closed-loop gain would result in each case (the uncompensated one, and the compensated one)?
2.60 Use Eq. (2.11) to show that if the reduction in the closed-loop gain G from the nominal value G0 = 1 + R2/R1
is to be kept less than x% of G0, then the open-loop gain of the op amp must exceed G0 by at least a factor F =
(100/x)−1 
 100/x. Find the required F for x = 0.01, 0.1, 1, and 10. Utilize these results to find for each value of x
the minimum required open-loop gain to obtain closed-loop gains of 1, 10, 102, 103, and 104 V/V.
2.61 For each of the following combinations of op-amp open-loop gain A and nominal closed-loop gain G0,
calculate the actual closed-loop gain G that is achieved. Also, calculate the percentage by which |G| falls short of
the nominal gain magnitude |G0|.
Case
G0 (V/V)
A (V/V)
a
−1
10
b
+1
10
c
−5
100
d
+2
10
e
−10
100
f
−10
1000
g
+1
5
2.62 Figure P2.62 shows a circuit that provides an output voltage vO whose value can be varied by turning the
wiper of the 100- kΩ potentiometer. Find the range over which vO can be varied. If the potentiometer is a “20-turn”
device, find the change in vO corresponding to each turn of the pot.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
Figure P2.62
Section 2.4: Difference Amplifiers
2.63 Find the voltage gain vO/vId for the difference amplifier of Fig. 2.16 for the case R1 = R3 = 5 kΩ and R2 = R4 =
50 kΩ. What is the differential input resistance Rid? If the two key resistance ratios (R2/R1) and (R4/R3) are
different from each other by 1%, what do you expect the common-mode gain Acm to be? Also, find the CMRR in
this case. Neglect the effect of the ratio mismatch on the value of Ad.
D 2.64 Using the difference amplifier configuration of Fig. 2.16 and assuming an ideal op amp, design the circuit to
provide the following differential gains. In each case, the differential input resistance should be 10 kΩ.
1 V/V
5 V/V
10 V/V
25 V/V
2.65 For the circuit shown in Fig. P2.65, express vO as a function of v1 and v2. What is the input resistance seen by
v1 alone? By v2 alone? By a source connected between the two input terminals? By a source connected to both
input terminals simultaneously?
Figure P2.65
2.66 Consider the difference amplifier of Fig. 2.16 with the two input terminals connected together to an input
common-mode signal source. For R2/R1 = R4/R3, show that the input common-mode resistance is (R3 + R4) || (R1 +
R2).
*2.67 For the difference amplifier of Fig. 2.16, show that if each resistor has a tolerance of ±100 % (i.e., for, say, a
5% resistor,  = 0.05) then the worst-case CMRR is given approximately by
∨Show Answer
∨Show Answer

where K is the nominal (ideal) value of the ratios (R2/R1) and (R4/R3). Calculate the value of worst-case CMRR for
an amplifier designed to have a differential gain of ideally 100 V/V, assuming that the op amp is ideal and that 1%
resistors are used. What resistor tolerance is needed if a CMRR of 80 dB is required?
*2.68 (a) Find Ad and Acm for the difference amplifier circuit shown in Fig. P2.68.
(b) If the op amp is specified to operate properly as long as the common-mode voltage at its positive and negative
inputs falls in the range ±2.5 V, what is the corresponding limitation on the range of the input common-mode signal
vIcm? (This is known as the common-mode range of the differential amplifier.)
(c) The circuit is modified by connecting a 10- kΩ resistor between node A and ground, and another 10- kΩ resistor
between node B and ground. What will now be the values of Ad, Acm, and the input common-mode range?
Figure P2.68
D*2.69 To obtain a high-gain, high-input-resistance difference amplifier, the circuit in Fig. P2.69 employs positive
feedback, in addition to the negative feedback provided by the resistor R connected from the output to the negative
input of the op amp. Specifically, a voltage divider (R5, R6) connected across the output feeds a fraction β of the
output, that is, a voltage βvO, back to the positive-input terminal of the op amp through a resistor R. Assume that R5
and R6 are much smaller than R so that the current through R is much lower than the current in the voltage divider,
with the result that β 
 R6/(R5 + R6). Show that the differential gain is given by
(Hint)
Design the circuit to obtain a differential gain of 10 V/V and differential input resistance of 2 MΩ. Select values for
R, R5, and R6, such that (R5 + R6) ≤ R/100.
∨Show Answer

Figure P2.69
*2.70 Figure P2.70 shows a modified version of the difference amplifier. The modified circuit includes a resistor
RG, which can be used to vary the gain. Show that the differential voltage gain is given by
Figure P2.70
(Hint).
*2.71 For the differential amplifier of Fig. P2.71, derive an expression for the output, vO, in terms of the differential
input, vId = vI2 − vI1, and the potentiometer setting x. Note that the circuit acts as a difference amplifier whose
output can be adjusted by the potentiometer setting. What is the change in output voltage when x is changed from 0
to 1? How may this range be increased?
∨Show Answer

(a)
(b)
(i)
(ii)
(iii)
(iv)
Figure P2.71
D*2.72 The circuit shown in Fig. P2.72 is a representation of a versatile IC known as a differential amplifier
module available from different manufacturers under various part numbers such as INA105 and AMP03. It consists
of an op amp and precision resistors. The circuit can be configured for a variety of applications by the appropriate
connection of terminals A, B, C, D, and O.
Figure P2.72
Show how the circuit can be used to implement a difference amplifier of unity gain.
Show how the circuit can be used to implement single-ended amplifiers with gains:
−1 V/V
+1 V/V
+2 V/V
+1/2 V/V
Avoid leaving a terminal open-circuited, for such a terminal may act as an “antenna,” picking up interference and
noise through capacitive coupling. Rather, find a convenient node to connect such a terminal in a redundant way.

(a)
(b)
(c)
When more than one circuit implementation is possible, comment on the relative merits of each, taking into
account such considerations as dependence on component matching and input resistance.
2.73 Consider the instrumentation amplifier of Fig. 2.20(b) with a common-mode input voltage of +1 V (dc) and a
differential input signal of 100-mV peak-to-peak sine wave. Let 2R1 = 2 kΩ, R2 = 50 kΩ, R3 = R4 = 10 kΩ. Find
the voltage at every node in the circuit.
2.74 In the instrumentation amplifier of Fig. 2.20(a), one of the resistors R2 is replaced by a slightly different value
R2 + ∆R. Find an expression for the resulting gain from a common-mode input at vI1 and vI2 to the output vO. Make
this gain zero by modifying the value of one of the resistors R1.
2.75 (a) Consider the instrumentation amplifier circuit of Fig. 2.20(a). If the op amps are ideal except that their
outputs saturate at ±5 V, in the manner shown in Fig. 1.14, find the maximum allowed input common-mode signal
for the case R1 = 1 kΩ and R2 = 100 kΩ.
(b) Repeat (a) for the circuit in Fig. 2.20(b), and comment on the difference between the two circuits.
2.76 (a) Expressing vI1 and vI2 in terms of differential and common-mode components, find vO1 and vO2 in the
circuit in Fig. 2.20(a) and hence find their differential component vO2 − vO1 and their common-mode component 
 Now find the differential gain and the common-mode gain of the first stage of this
instrumentation amplifier and hence the CMRR.
(b) Repeat for the circuit in Fig. 2.20(b), and comment on the difference between the two circuits.
*2.77 For an instrumentation amplifier of the type shown in Fig. 2.20(b), a designer proposes to make R2 = R3 = R4
= 100 kΩ, and 2R1 = 10 kΩ. For ideal components, what difference-mode gain, common-mode gain, and CMRR
result? Reevaluate the worst-case values for these for the situation in which all resistors are specified as ±1% units.
Repeat the latter analysis for the case in which 2R1 is reduced to 1 kΩ. What do you conclude about the effect of
the gain of the first stage on CMRR? (Hint)
D 2.78 Design the instrumentation-amplifier circuit of Fig. 2.20(b) to realize a differential gain, variable in the
range 2 to 50, utilizing a 100- kΩ pot as variable resistor.
SIM *2.79 The circuit shown in Fig. P2.79 is intended to supply a voltage to floating loads (those for which both
terminals are ungrounded) while making greatest possible use of the available power supply.
Assuming ideal op amps, sketch the voltage waveforms at nodes B and C for a 1-V peak-to-peak sine wave
applied at A. Also sketch vO.
What is the voltage gain vO/vI?
Assuming that the op amps operate from ±5-V power supplies and that their output saturates at ±4 V (in the
manner shown in Fig. 1.14), what is the largest sine-wave input that can be accommodated? Specify both its
peak-to-peak and rms values.
∨Show Answer
∨Show Answer
∨Show Answer

Figure P2.79
*2.80 The circuits in Fig. P2.80(a) and (b) are intended to function as voltage-to-current converters; that is, they
supply the load impedance ZL with a current proportional to vI and independent of the value of ZL. Show that this is
indeed the case, and find for each circuit iO as a function of vI. Comment on the differences between the two
circuits.
Figure P2.80 (a)
∨Show Answer

(a)
(b)
(c)
(d)
Figure P2.80 (b)
Section 2.5: Integrators and Differentiators
2.81 A Miller integrator incorporates an ideal op amp, a resistor R of 10 kΩ, and a capacitor C of 1 nF. A sine-wave
signal is applied to its input.
At what frequency (in Hz) are the input and output signals equal in amplitude?
At that frequency, how does the phase of the output sine wave relate to that of the input?
If the frequency is lowered by a factor of 10 from that found in (a), by what factor does the output voltage
change, and in what direction (smaller or larger)?
What is the phase relation between the input and output in situation (c)?
D 2.82 Design a Miller integrator with a time constant of 1 ms and an input resistance of 100 kΩ. A dc voltage of
−1 volt is applied at the input at time 0, at which moment vO = − 5 V. How long does it take the output to reach 0
V? + 5 V?
2.83 An op-amp-based inverting integrator is measured at 10 kHz to have a voltage gain of −104 V/V. At what
frequency is its gain reduced to −1 V/V? What is the integrator time constant?
2.84 An inverting integrator accepts an input pulse of amplitude +100 mV, 1 ms in duration. It draws 10 μA from
the input voltage source, and its output changes by −1 V. Find the values of R and C and sketch the integrator
magnitude response, labeling the integrator frequency.
D 2.85 Design a Miller integrator whose input resistance is 1 kΩ and unity-gain frequency is 10 MHz. What
components are needed? For long-term stability, a feedback resistor is introduced across the capacitor to limit the
dc gain to 40 dB. What is its value? What is the associated lower 3-dB frequency? Sketch and label the output that
results with a 0.1-µs, 1-V positive-input pulse (initially at 0 V) with (a) no dc stabilization (but with the output
initially at 0 V) and (b) the feedback resistor connected.
∨Show Answer
∨Show Answer
∨Show Answer

*2.86 A Miller integrator whose input and output voltages are initially zero and whose time constant is 0.1 ms is
driven by the signal shown in Fig. P2.86. Sketch and label the output waveform that results. Indicate what happens
if the input levels are ±1 V, with the time constant the same (0.1 ms) and with the time constant raised to 1 ms.
Figure P2.86
2.87 Consider a Miller integrator having a time constant of 0.2 ms and an output that is initially zero, when fed with
a string of pulses of 10-µs duration and 1-V amplitude rising from 0 V (see Fig. P2.87). Sketch and label the output
waveform resulting. How many pulses are required for an output voltage of 1 V?
Figure P2.87
D 2.88 Figure 2.23 shows a circuit that performs a low-pass STC function and is known as a first-order low-pass
active filter. Design the circuit to obtain an input resistance of 10 kΩ, a dc gain of 20 dB, and a 3-dB frequency of
200 kHz. Sketch the circuit’s magnitude response indicating the frequency where it is 0 dB.
*2.89 Show that a Miller integrator implemented with an op amp with a finite open-loop gain A0 has a low-pass
STC transfer function. What is the pole frequency of the STC function? How does this compare with the pole
frequency of the ideal integrator? If an ideal Miller integrator is fed with a −1-V pulse signal with a width T = CR,
what will the output voltage be at t = T? Assume that at t = 0, vO = 0. Repeat for an integrator with an op amp
having A0 = 1000.
2.90 An op-amp differentiator with 1-ms time constant is driven by the rate-controlled step shown in Fig. P2.90.
Assuming vO to be zero initially, sketch and label its waveform.
∨Show Answer

Figure P2.90
2.91 Use an ideal op amp to design a differentiator circuit having a time constant of 10−5 s using a 1-nF capacitor.
Sketch the magnitude and phase response of the circuit, indicating the frequency at which the magnitude response
equals 0 dB. A series input resistor is added to limit the gain magnitude at high frequencies to 100 V/V. Sketch the
magnitude and phase responses of this modified circuit on the same axes as the ideal differentiator. How does the
phase response change at high frequencies?
D 2.92 Figure P2.92 shows a first-order high-pass active filter that has a single time-constant response. Derive the
transfer function and show that the high-frequency gain is (−R2/R1) and the 3-dB frequency ω0 = 1/CR1. Design the
circuit to obtain a high-frequency input resistance of 2 kΩ, a high-frequency gain of 40 dB, and a 3-dB frequency
of 2 MHz. At what frequency does the magnitude of the transfer function equal unity?
Figure P2.92
D**2.93 Derive the transfer function of the circuit in Fig. P2.93 (for an ideal op amp) and show that it can be
written in the form
Figure P2.93
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
where ω1 = 1/C1R1 and ω2 = 1/C2R2. Assuming that the circuit is designed such that ω2 ≫ ω1, find approximate
expressions for the transfer function in the following frequency regions:
ω ≪ ω1
ω1 ≪ ω ≪ ω2
ω ≫ ω2
Use these approximations to sketch a Bode plot for the magnitude response. Observe that the circuit performs as an
amplifier whose gain rolls off at the low-frequency end in the manner of a high-pass STC network, and at the high-
frequency end in the manner of a low-pass STC network. Design the circuit to provide a gain of 40 dB in the
“middle-frequency range,” a low-frequency 3-dB point at 200 Hz, a high-frequency 3-dB point at 200 kHz, and an
input resistance (at ω ≫ ω1) of 2 kΩ.
Section 2.6: DC Imperfections
2.94 An op amp wired in the inverting configuration with the input grounded, having R2 = 20 kΩ and R1 = 2 kΩ,
has an output dc voltage of −80 mV. If the input bias current is known to be very small, find the input offset
voltage.
2.95 A noninverting amplifier with a gain of 25 uses an op amp having an input offset voltage of ±2 mV. Find the
output when the input is 0.1 sin ωt volts.
2.96 A noninverting amplifier with a closed-loop gain of 100 is designed using an op amp having an input offset
voltage of 3 mV and output saturation levels of ±3V. What is the maximum amplitude of the sine wave that can be
applied at the input without the output clipping? If the amplifier is capacitively coupled in the manner indicated in
Fig. 2.37, what would the maximum possible amplitude be?
2.97 An op amp connected in a closed-loop inverting configuration having a gain of 46 dB and using relatively
small-valued resistors is measured with input grounded to have a dc output voltage of −0.2 V. What is its input
offset voltage? Prepare an offset-voltage-source sketch resembling that in Fig. 2.29. Be careful of polarities.
2.98 A particular inverting amplifier with nominal gain of −100 V/V uses an imperfect op amp in conjunction with
100- kΩ and 10- MΩ resistors. The output voltage is found to be +1 V when measured with the input open and +0.5
V with the input grounded.
What is the bias current of this amplifier? In what direction does it flow?
Estimate the value of the input offset voltage.
A 10- MΩ resistor is connected between the positive-input terminal and ground. With the input left floating
(disconnected), the output dc voltage is measured to be −0.1 V. Estimate the input offset current.
D*2.99 A noninverting amplifier with a gain of +10 V/V using 100 kΩ as the feedback resistor operates from a 5-
kΩ source. For an amplifier offset voltage of 0 mV, but with a bias current of 2 µA and an offset current of 0.2 µA,
what range of outputs would you expect? Indicate where you would add an additional resistor to compensate for the
bias currents. What does the range of possible outputs then become? A designer wishes to use this amplifier with a
15- kΩ source. In order to compensate for the bias current in this case, what resistor would you use? And where?
D 2.100 The circuit of Fig. 2.37 is used to create an ac-coupled noninverting amplifier with a gain of 100 V/V
using resistors no larger than 100 kΩ. What values of R1, R2, and R3 should be used? For a break frequency due to
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
C1 at 10 kHz, and that due to C2 at 1 kHz, what values of C1 and C2 are needed?
*2.101 Consider the difference amplifier circuit in Fig. 2.16 driven by an ideal voltage source. Let R1 = R3 = 100
kΩ and R2 = R4 = 1 MΩ. If the op amp has VOS = 5 mV, IB = 100 nA, and IOS = 20 nA, find the worst-case
(largest) dc offset voltage at the output.
*2.102 The circuit shown in Fig. P2.102 uses an op amp having a ±3-mV offset. What is its output offset voltage?
What does the output offset become with the input ac coupled through a capacitor C? If, instead, a large capacitor is
placed in series with the 10- kΩ resistor, what does the output offset become?
Figure P2.102
2.103 Using offset-nulling facilities provided for the op amp, a closed-loop amplifier with gain of +1000 is adjusted
at 25°C to produce zero output with the input grounded. If the input offset-voltage drift is specified to be 20 µV/°C,
what output would you expect at −40°C and at 85°C? While nothing can be said separately about the polarity of the
output offset at either −40 or 85°C, what would you expect their relative polarities to be?
2.104 An op amp is connected in a closed loop with gain of +100 utilizing a feedback resistor of 1 MΩ.
 
 
If the input bias current is 200 nA, what output voltage results with the input grounded?
If the input offset voltage is ±1 mV and the input bias current as in (a), what is the largest possible output that
can be observed with the input grounded?
If bias-current compensation is used, what is the value of the required resistor? If the offset current is no more
than one-tenth the bias current, what is the resulting output offset voltage (due to offset current alone)?
With bias-current compensation as in (c) in place, what is the largest dc voltage at the output due to the
combined effect of offset voltage and offset current?
*2.105 An op amp intended for operation with a closed-loop gain of –100 V/V uses resistors of 10 kΩ and 1 MΩ
with a bias-current-compensation resistor R3. Assuming an ideal voltage source at the input, what should the value
of R3 be? With input grounded, for one particular op amp the output offset voltage is found to be +0.30 V. Estimate
the input offset current assuming zero input offset voltage. In this case, if we know the input offset current is one-
tenth the bias current what value of R3 will result in zero output offset voltage?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(c)
(d)
(e)
2.106 A Miller integrator with R = 10 kΩ and C = 10 nF is implemented by using an op amp with VOS = 2 mV, IB =
0.1 µA, and IOS = 20 nA. To provide a finite dc gain, a 1- MΩ resistor is connected across the capacitor.
To compensate for the effect of IB, a resistor is connected in series with the positive-input terminal of the op
amp. What should its value be?
With the resistor of (a) in place, find the worst-case dc output voltage of the integrator when the input is
grounded.
Section 2.7: Effect of Finite Open-Loop Gain and Bandwidth on Circuit Performance
2.107 The data in the following table apply to internally compensated op amps. Fill in the blank entries.
A0
fb (Hz)
ft (Hz)
105
103
104
108
5 × 102
108
20
107
2 × 105
10
2.108 A measurement of the open-loop gain of an internally compensated op amp at very low frequencies shows it
to be 106 dB. At 200 kHz, it is 40 dB. Estimate values for A0, fb, and ft.
2.109 Measurements of the open-loop gain of a compensated op amp intended for high-frequency operation
indicate that the gain is 4 × 103 at 100 kHz and 8 × 102 at 1 MHz. Estimate its 3-dB frequency, its unity-gain
frequency, and its dc gain.
2.110 Measurements made on the internally compensated amplifiers listed below provide the dc gain and the
frequency at which the gain has dropped by 20 dB. For each, what are the 3 dB and unity-gain frequencies?
2 × 105 V/V and 5 × 102 Hz
20 × 103 V/V and 1 kHz
1800 V/V and 0.1 MHz
60 dB and 10 MHz
200 V/mV and 25 kHz
SIM 2.111 An inverting amplifier with nominal gain of −50 V/V employs an op amp having a dc gain of 104 and a
unity-gain frequency of 108 Hz. What is the 3-dB frequency f3dB of the closed-loop amplifier? What is its gain at
0.1 f3dB and at 10 f3dB?
2.112 A particular op amp, characterized by a gain–bandwidth product of 20 MHz, is operated with a closed-loop
gain of +25 V/V. What 3-dB bandwidth results? At what frequency does the closed-loop amplifier exhibit a −6°
phase shift? A −84° phase shift?
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
(a)
(b)
(c)
(a)
2.113 Find the ft required for internally compensated op amps to be used in the implementation of closed-loop
amplifiers with the following nominal dc gains and 3-dB bandwidths:
−50 V/V; 200 kHz
+50 V/V; 200 kHz
+2 V/V; 5 MHz
−2 V/V; 5 MHz
−1000 V/V; 100 kHz
+1 V/V; 20 MHz
−1 V/V; 20 MHz
2.114 A noninverting op-amp circuit with a gain of 34 dB is found to have a 3-dB frequency of 200 kHz. For a
particular system application, a bandwidth of 1 MHz is required. What is the highest gain available under these
conditions?
SIM 2.115 Consider a noninverting amplifier with gain of 5 utilizing an internally compensated op amp
with ft = 2 MHz. What is the 3-dB frequency of the amplifier? At what frequency is the gain of the
amplifier 1% below its low-frequency magnitude? If the input is a 10-mV step, find the 10% to 90% rise
time of the output voltage. (Note: The step response of STC low-pass networks is discussed in Appendix
E. Specifically, note that the 10% to 90% rise time of a low-pass STC circuit with a time constant τ is 2.2τ .)
D*2.116 It is required to design a noninverting amplifier with a dc gain of 5. When a step voltage of 10 mV is
applied at the input, it is required that the output be within 1% of its final value in at most 20 ns. What must the ft
of the op amp be? (Note: The step response of STC low-pass networks is discussed in Appendix E.)
D*2.117 This problem illustrates the use of cascaded closed-loop amplifiers to obtain an overall bandwidth greater
than can be achieved using a single-stage amplifier with the same overall gain.
Show that cascading two identical amplifier stages, each having a low-pass STC frequency response with a 3-
dB frequency f1, results in an overall amplifier with a 3-dB frequency given by
It is required to design a noninverting amplifier with a dc gain of 40 dB utilizing a single internally
compensated op amp with ft = 2 MHz. What is the 3-dB frequency obtained?
Redesign the amplifier of (b) by cascading two identical noninverting amplifiers each with a dc gain of 20 dB.
What is the 3-dB frequency of the overall amplifier? Compare this to the value obtained in (b) above.
D**2.118 A designer, wanting to achieve a stable gain of 100 V/V with a 3-dB frequency above 5 MHz, considers
her choice of amplifier topologies. What unity-gain frequency would a single operational amplifier require to
satisfy her need? Unfortunately, the best available amplifier has an ft of 50 MHz. How many such amplifiers
connected in a cascade of identical noninverting stages would she need to achieve her goal? What is the 3-dB
frequency of each stage? What is the overall 3-dB frequency?
2.119 Consider the use of an op amp with a unity-gain frequency ft in the realization of:
An inverting amplifier with dc gain of magnitude K.
∨Show Answer
∨Show Answer

(b)
(a)
(b)
(c)
(a)
(b)
(c)
A noninverting amplifier with a dc gain of K.
In each case find the 3-dB frequency and the gain–bandwidth product (GBP ≡ |Gain| × f3dB). Comment on the
results.
**2.120 Consider an inverting summer with two inputs, V1 and V2, designed so that an ideal op amp provides Vo =
−(V1 + 2V2). If the op amp has a finite gain A, show that
Section 2.8: Large-Signal Operation of Op Amps
2.121 A particular op amp using ±15-V supplies operates linearly for outputs in the range −14 V to +14 V. If used
in an inverting amplifier configuration of gain −100, what is the rms value of the largest possible sine wave that can
be applied at the input without output clipping?
SIM 2.122 Consider an op amp connected in the inverting configuration to realize a closed-loop gain of −100 V/V
utilizing resistors of 1 kΩ and 100 kΩ. A load resistance RL is connected from the output to ground, and a low-
frequency sine-wave signal of peak amplitude Vp is applied to the input. Let the op amp be ideal except that its
output voltage saturates at ±10 V and its output current is limited to the range ±10 mA. This is the case for an
ADA4077 op amp operating from ±11-V supplies.
For RL = 2 kΩ, what is the maximum possible value of Vp while an undistorted output sinusoid is obtained?
Repeat (a) for RL = 200 Ω.
If it is desired to obtain an output sinusoid of 10-V peak amplitude, what minimum value of RL is allowed?
SIM 2.123 An op amp having a slew rate of 1.2 V/µs (such as the ADA4077 operating from ±5 V supplies with a 2
kΩ load) is to be used in the unity-gain follower configuration, with input pulses that rise from 0 to 2 V. What is the
shortest pulse that can be used while ensuring full-amplitude output? For such a pulse, describe the output
resulting.
2.124 For operation with 10-V output pulses with the requirement that the sum of the rise and fall times represent
only 20% of the pulse width (at half-amplitude), what is the slew-rate requirement for an op amp to handle pulses
20 µs wide? (Note: The rise and fall times of a pulse signal are usually measured between the 10%- and 90%-
height points.)
*2.125 An inverting amplifier with a gain of −5 V/V and input resistance 20 kΩ uses an op amp with a slew rate of
1 V/µs, maximum output current of ±1 mA, and ft = 3 MHz.
At what frequency will the amplifier gain drop by 1 dB?
At the frequency specified in (a), what is the maximum amplitude sinusoid for which the amplifier will avoid
slew rate limiting?
Under the conditions described in parts (a) and (b), what is the largest capacitive load that can be driven while
staying within the maximum output current limits?
2.126 For an amplifier having a slew rate of 40 V/µs, what is the highest frequency at which a 2-V peak-to-peak
sine wave can be produced at the output?
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
D*2.127 In designing with op amps one has to check the limitations on the voltage and frequency ranges of
operation of the closed-loop amplifier, imposed by the op-amp finite bandwidth (ft), slew rate (SR), and output
saturation (Vomax). This problem illustrates the point by considering the use of an op amp with ft = 20 MHz, SR =
10 V/µs, and Vomax = 10 V in the design of a noninverting amplifier with a nominal gain of 10. Assume a sine-
wave input with peak amplitude Vi.
If Vi = 0.5 V, what is the maximum frequency before the output distorts?
If f = 200 kHz, what is the maximum value of Vi before the output distorts?
If Vi = 50 mV, what is the useful frequency range of operation?
If f = 50 kHz, what is the useful input voltage range?
∨Show Answer
∨Show Answer

3.1
3.2
3.3
3.4
3.5
3.6
•
•
•
•
CHAPTER 3
Semiconductors
Introduction
Intrinsic Semiconductors
Doped Semiconductors
Current Flow in Semiconductors
The pn Junction
The pn Junction with an Applied Voltage
Capacitive Effects in the pn Junction
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The basic properties of semiconductors and in particular silicon, which is the material used to make
most of today’s electronic circuits.
How doping a pure silicon crystal dramatically changes its electrical conductivity, which is the
fundamental idea underlying the use of semiconductors in the implementation of electronic devices.
The two mechanisms by which current flows in semiconductors: drift and diffusion of charge carriers.
The structure and operation of the pn junction; a basic semiconductor structure that implements the
diode and plays a dominant role in transistors.

Introduction
Thus far we have dealt with electronic circuits, and notably amplifiers, as system building blocks. For
instance, in Chapter 2 we learned how to use op amps to design interesting and useful circuits, taking
advantage of the terminal characteristics of the op amp and without any knowledge of what is inside the op-
amp package. Though interesting and motivating, this approach has limitations. Indeed, to become circuit
designers, we have to go beyond this black-box or system-level abstraction and learn about the basic devices
from which electronic circuits are assembled, namely, diodes (Chapter 4) and transistors (Chapters 5 and 6).
These solid-state devices are made using semiconductor materials, predominantly silicon.
In this chapter, we introduce the properties and physics of semiconductors. The objective is to provide
you with a basis for understanding the physical operation of diodes and transistors so that you may use them
effectively in circuit design. Although many of the concepts presented in this chapter apply to semiconductor
materials in general, our treatment is heavily biased toward silicon, the material used in the vast majority of
microelectronic circuits. To complement the material presented here, Appendix A describes the integrated-
circuit fabrication process. As explained in Appendix A, whether our circuit consists of a single transistor or
is an integrated circuit containing more than 6 billion transistors, it is fabricated in a single silicon crystal,
which gives rise to the name monolithic circuit. This chapter therefore begins with a study of the crystal
structure of semiconductors and introduces the two types of charge carriers available for current conduction:
electrons and holes. The most significant property of semiconductors is that their conductivity can be varied
over a very wide range through the introduction of controlled amounts of impurity atoms into the
semiconductor crystal in a process called doping. Doped semiconductors are discussed in Section 3.2. This
is followed by the study in Section 3.3 of the two mechanisms for current flow in semiconductors, namely,
carrier drift and carrier diffusion.
Armed with these basic semiconductor concepts, we spend the remainder of the chapter on the study of
an important semiconductor structure: the pn junction. In addition to being essentially a diode, the pn
junction is the basic element of the bipolar junction transistor (BJT, Chapter 6) and plays an important role in
the operation of field-effect transistors (FETs, Chapter 5).

3.1 Intrinsic Semiconductors
As their name implies, semiconductors are materials whose conductivity lies between that of conductors,
such as copper, and insulators, such as glass. There are two kinds of semiconductors: single-element
semiconductors, such as germanium and silicon, which are in group IV in the periodic table; and compound
semiconductors, such as gallium-arsenide, which are formed by combining elements from groups III and V
or groups II and VI. Compound semiconductors are useful in special electronic circuit applications as well as
in applications that involve light, such as light-emitting diodes (LEDs). One of the two elemental
semiconductors, germanium, was used in the fabrication of very early transistors (late 1940s, early 1950s). It
was quickly supplanted by silicon, on which today’s integrated-circuit technology is almost entirely based.
For this reason, we will deal mostly with silicon devices throughout this book.1
A silicon atom has four valence electrons, and thus it requires another four to complete its outermost
shell. This is achieved by sharing one of its valence electrons with each of its four neighboring atoms. Each
pair of shared electrons forms a covalent bond. The result is that a crystal of pure or intrinsic silicon has a
regular lattice structure, where the atoms are held in their position by the covalent bonds. Figure 3.1 shows a
two-dimensional representation of such a structure.
Figure 3.1 Two-dimensional representation of the silicon crystal. The circles represent the inner core of silicon atoms,
with +4 indicating its positive charge of +4q, which is neutralized by the charge of the four valence electrons. Observe
how the covalent bonds are formed by sharing of the valence electrons. At 0 K, all bonds are intact and no free electrons
are available for current conduction.
At sufficiently low temperatures, approaching absolute zero (0 K), all the covalent bonds are intact and
no electrons are available to conduct electric current. Thus, at such low temperatures, the intrinsic silicon

crystal behaves as an insulator.
At room temperature, sufficient thermal energy exists to break some of the covalent bonds, a process
known as thermal generation. As shown in Fig. 3.2, when a covalent bond is broken, an electron is freed.
The free electron can wander away from its parent atom, and it becomes available to conduct electric
current if an electric field is applied to the crystal. As the electron leaves its parent atom, it leaves behind a
net positive charge, equal to the magnitude of the electron charge. Thus, an electrons from a neighboring
atom may be attracted to this positive charge, and leaves its parent atom. This action fills up the “hole” that
existed in the ionized atom but creates a new hole in the other atom. This process may repeat itself, with the
result that we effectively have a positively charged carrier, or hole, moving through the silicon crystal
structure and being available to conduct electric current. The charge of a hole is equal in magnitude to the
charge of an electron. As temperature increases, more covalent bonds are broken and electron–hole pairs are
generated. The increase in the numbers of free electrons and holes results in an increase in the conductivity
of silicon.
Figure 3.2 At room temperature, some of the covalent bonds are broken by thermal generation. Each broken bond gives
rise to a free electron and a hole, both of which become available for current conduction.
Thermal generation results in free electrons and holes in equal numbers and hence equal concentrations,
where concentration refers to the number of charge carriers per unit volume (cm3). The free electrons and
holes move randomly through the silicon crystal structure, and in the process some electrons may fill some
of the holes. This process, called recombination, results in the disappearance of free electrons and holes.
The recombination rate is proportional to the number of free electrons and holes, which in turn is determined
by the thermal generation rate. The latter is a strong function of temperature. In thermal equilibrium, the
recombination rate is equal to the generation rate, and we can conclude that the concentration of free
electrons n is equal to the concentration of holes p,

(3.1)
(3.2)
(3.3)
3.1
where ni denotes the number of free electrons and holes in a unit volume (cm3) of intrinsic silicon at a given
temperature. Results from semiconductor physics give ni as
where B is a material-dependent parameter that is 7.3 × 1015cm−3K−3/2 for silicon; T is the temperature in K;
Eg, a material parameter known as the bandgap energy, is 1.12 electron volt (eV) for silicon2; and k is
Boltzmann’s constant (8.62 × 10−5 eV/K). The bandgap energy Eg is the minimum energy required to break
a covalent bond and thus generate an electron-hole pair.
Finally, it is useful for future purposes to express the product of the hole and free-electron concentration as
where for silicon at room temperature, ni 
 1.5 × 1010/cm3. As we will see shortly, this relationship extends
to extrinsic or doped silicon as well.
Example 3.1
Calculate the value of ni for silicon at room temperature (T 
 300 K).
EXERCISE
Calculate the intrinsic carrier density ni for silicon at T = 50 K and 350 K.
LCDs, THE FACE OF ELECTRONICS
∨
∨Show Solution
∨Show Answer

3.2 Doped Semiconductors
The intrinsic silicon crystal described above has equal concentrations of free electrons and holes, generated
by thermal generation. These concentrations are far too small for silicon to conduct appreciable current at
room temperature. Also, the carrier concentrations and hence the conductivity are strong functions of
temperature, not a desirable property in an electronic device. Fortunately, a method was developed to change
the carrier concentration in a semiconductor crystal substantially and in a precisely controlled manner. This
process is known as doping, and the resulting silicon is referred to as doped silicon.
Doping involves introducing impurity atoms into the silicon crystal in sufficient numbers to substantially
increase the concentration of either free electrons or holes but with little or no change in the crystal
properties of silicon. To increase the concentration of free electrons, n, silicon is doped with an element with
a valence of 5, such as phosphorus. The resulting doped silicon is then said to be of n type. To increase the
concentration of holes, p, silicon is doped with an element having a valence of 3, such as boron, and the
resulting doped silicon is said to be of p type.
Figure 3.3 shows a silicon crystal doped with phosphorus impurity. The dopant (phosphorus) atoms
replace some of the silicon atoms in the crystal structure. Since the phosphorus atom has five electrons in its
outer shell, four of these electrons form covalent bonds with the neighboring atoms, and the fifth electron
becomes a free electron. Thus each phosphorus atom donates a free electron to the silicon crystal, and the
phosphorus impurity is called a donor. It should be clear, though, that no holes are generated by this process.
The net positive charge associated with the phosphorus atom is a bound charge that does not move through
the crystal.
Figure 3.3 A silicon crystal doped by a pentavalent element. Each dopant atom donates a free electron and is thus called
a donor. The doped semiconductor becomes n type.

(3.4)
(3.5)
(3.6)
(3.7)
If the concentration of donor atoms is ND, where ND is usually much greater than ni, the concentration of
free electrons in the n-type silicon will be
where the subscript n denotes n-type silicon. Thus nn is determined by the doping concentration and not by
temperature. This is not the case, however, for the hole concentration. All the holes in the n-type silicon are
those generated by thermal ionization. Their concentration pn can be found by noting that the relationship in
Eq. (3.3) applies equally well for doped silicon, provided thermal equilibrium is achieved. Thus for n-type
silicon
Substituting for nn from Eq. (3.4), we obtain for pn
Thus pn will have the same dependence on temperature as that of 
. Finally, we note that in n-type
silicon the concentration of free electrons nn will be much larger than that of holes. Hence electrons are said
to be the majority charge carriers and holes the minority charge carriers in n-type silicon.
To obtain p-type silicon in which holes are the majority charge carriers, a trivalent impurity such as
boron is used. Figure 3.4 shows a silicon crystal doped with boron. Note that the boron atoms replace some
of the silicon atoms in the silicon crystal structure. Since each boron atom has three electrons in its outer
shell, it accepts an electron from a neighboring atom, thus forming covalent bonds. The result is a hole in the
neighboring atom and a bound negative charge at the acceptor (boron) atom. It follows that each acceptor
atom provides a hole. If the acceptor doping concentration is NA, where 
 the hole concentration
becomes
where the subscript p denotes p-type silicon. Here the majority carriers are holes and their concentration is
determined by NA. The concentration of minority electrons can be found by using the relationship
and substituting for pp from Eq. (3.6),
Thus, the concentration of the minority electrons will have the same temperature dependence as that of 
.

3.2
3.3
We wish to emphasize that a piece of n-type or p-type silicon is electrically neutral; the charge of the
majority free carriers (electrons in the n-type and holes in the p-type silicon) is neutralized by the bound
charges associated with the impurity atoms.
Figure 3.4 A silicon crystal doped with boron, a trivalent impurity. Each dopant atom gives rise to a hole, and the
semiconductor becomes p type.
Example 3.2
Consider an n-type silicon for which the dopant concentration ND = 1017/cm3. Find the electron and hole
concentrations at T = 300 K.
EXERCISES
For the situation in Example 3.2, find the electron and hole concentrations at 350 K. You may use the
value of ni at T = 350 K found in Exercise 3.1.
For a silicon crystal doped with boron, what must NA be if at T = 300 K the electron concentration
drops below the intrinsic level by a factor of 106?
∨Show Solution
∨Show Answer
∨Show Answer


(3.8)
(3.9)
3.3 Current Flow in Semiconductors
There are two distinctly different mechanisms for the movement of charge carriers and hence for current
flow in semiconductors: drift and diffusion.
3.3.1 Drift Current
When an electrical field E is established in a semiconductor crystal, holes are accelerated in the direction of
E, and free electrons are accelerated in the direction opposite to that of E. This is illustrated in Fig. 3.5. The
holes acquire a velocity
where μp is a constant called the hole mobility: It represents the ease by which holes move through the
silicon crystal in response to the electrical field E. Since velocity has the units of centimeters per second and
E has the units of volts per centimeter, we see from Eq. (3.8) that the mobility μp must have the units of
centimeters squared per volt-second (cm2/V · s). For intrinsic silicon μp = 480 cm2/V · s.
Figure 3.5 An electric field E established in a bar of silicon causes the holes to drift in the direction of E and the free
electrons to drift in the opposite direction. Both the hole and electron drift currents are in the direction of E.
The free electrons acquire a drift velocity
where the result is negative because the electrons move in the direction opposite to E. Here μn is the electron
mobility, which for intrinsic silicon is about 1350 cm2/V · s. Note that μn is about 2.5 times μp, signifying
that electrons move with much greater ease than holes through the silicon crystal.
Let’s now return to the single-crystal silicon bar shown in Fig. 3.5. Let the concentration of holes be p
and that of free electrons n. We wish to calculate the current component due to the flow of holes. Consider a
plane perpendicular to the x direction. The silicon bar has a cross-sectional area A in this direction. In one

(3.10)
(3.11)
(3.12)
(3.13)
(3.14)
(3.15)
(3.16)
second, the hole charge that crosses that plane will be (Aqpνp-drift) coulombs, where q is the magnitude of
electron charge. This then must be the hole component of the drift current flowing through the bar,
Substituting for νp-drift from Eq. (3.8), we obtain
We are usually interested in the current density Jp, which is the current per unit cross-sectional area,
The current due to the drift of free electrons can be found in a similar manner. By convention, the direction
of current flow is in the direction of positive charge flow and opposite to the direction of negative charge
flow. Thus, electrons drifting from right to left result in current flowing from left to right.
Substituting for νn-drift from Eq. (3.9), we obtain the current density Jn = IS,n/A as
We can now find the total drift current density by summing JS,p and JS,n from Eqs. (3.11) and (3.12),
We can express this as
where the resistivity ρ is
Eq. (3.14) is a form of Ohm’s law and can be written alternately as
Thus the units of ρ are: 

(3.17)
3.4
We can find the resistance of the single-crystal silicon bar in Fig. 3.5 in terms of its resistivity, cross-
sectional area, and length L:
Example 3.3
Find the resistivity of (a) intrinsic silicon and (b) p-type silicon with NA = 1016/cm3. Use ni = 1.5 × 1010/cm3,
and assume that for intrinsic silicon μn = 1350 cm2/V · s and μp = 480 cm2/V · s, and for the doped silicon μn =
1110 cm2/V · s and μp = 400 cm2/V · s. (Note that doping results in reduced carrier mobilities.)
EXERCISE
A uniform bar of n-type silicon of 2-µm length has a voltage of 1 V applied across it. If ND = 1016/cm3
and μn = 1350 cm2/V · s, find (a) the electron drift velocity, (b) the time it takes an electron to cross the
2-µm length, (c) the drift-current density, and (d) the resistance and drift current in the case that the
silicon bar has a cross-sectional area of 0.25 µm2.
3.3.2 Diffusion Current
Carrier diffusion occurs when the density of charge carriers in a piece of semiconductor is not uniform. For
instance, if by some mechanism the concentration of, say, holes, is made higher in one part of a piece of
silicon than in another, then holes will diffuse from the region of high concentration to the region of low
concentration. The diffusion process is like what we would see if we dropped a few ink drops in a water-
filled tank. The diffusion of charge carriers gives rise to a net flow of charge, or diffusion current.
As an example, consider the bar of silicon shown in Fig. 3.6(a): By some unspecified process, we have
arranged to inject holes into its left side. This continuous hole injection gives rise to and maintains a hole
concentration profile such as that shown in Fig. 3.6(b).
Figure 3.6 A bar of silicon (a) into which we inject holes, thus creating the hole concentration profile along the x axis,
shown in (b). The holes diffuse in the positive direction of x and give rise to a hole diffusion current in the same
∨Show Solution
∨Show Answer

(3.18)
(3.19)
direction. Note that we are not showing the circuit to which the silicon bar is connected.
Figure 3.6 (b) A graphical represenation of the hole concentration profile.
This profile in turn causes holes to diffuse from left to right along the silicon bar, resulting in a hole current
in the x direction. The magnitude of the current at any point is proportional to the slope of the concentration
profile, or the concentration gradient, at that point,
where JD,p is the hole-current density (A/cm2), q is the magnitude of electron charge, Dp is a constant called
the diffusion constant or diffusivity of holes; and p(x) is the hole concentration at point x. Note that the
gradient (dp/dx) is negative, resulting in a positive current in the x direction, as should be expected.
In the case of electron diffusion resulting from an electron concentration gradient (see Fig. 3.7), a similar
relationship applies, giving the electron-current density,
where Dn is the diffusion constant or diffusivity of electrons. Observe that a negative (dn/dx) gives rise to a
negative current, since the positive direction of current is that of the flow of positive net charge (and opposite
to that of the flow of negative charge). In intrinsic silicon, typical values for the diffusion constants are Dp =
12 cm2/s and Dn = 35 cm2/s.
At this point you may be wondering where the diffusion current in the silicon bar in Fig. 3.6(a) goes. A
good question, as we are not showing how the right-side end of the bar is connected to the rest of the circuit.
We will address this and related questions in detail in our discussion of the pn junction later in this chapter.

3.5
Figure 3.7 If we establish the electron concentration profile shown in a bar of silicon, electrons diffuse in the x direction,
giving rise to an electron diffusion current in the negative-x direction.
Example 3.4
Consider a bar of silicon with a hole concentration profile described by
Find the hole-current density at x = 0. Let p0 = 1016/cm3, Lp = 1 µm, and Dp = 12 cm2/s. If the cross-sectional
area of the bar is 100 µm2, find the current ID,p.
EXERCISE
The linear electron-concentration profile shown in Fig. E3.5 has been established in a piece of silicon.
If n0 = 1017/cm3 and W = 0.5 µm, find the electron-current density in microamperes per micron
squared (µA/µm2). If a diffusion current of 1 mA is required, what must the cross-sectional area (in a
direction perpendicular to the page) be? Recall that Dn = 35 cm2/s.
∨Show Solution

(3.20)
3.6
Figure E3.5
3.3.3 Relationship between D and μ
A simple but powerful relationship relates the diffusion constant with the mobility,
where VT = kT/q. The parameter VT is known as the thermal voltage. At room temperature, T 
 300 K and
VT = 25.9 mV. We will encounter VT repeatedly throughout this book. The relationship in Eq. (3.20) is
known as the Einstein relationship.
EXERCISE
Use the Einstein relationship to find Dn and Dp for intrinsic silicon using μn = 1350 cm2/V · s and μp =
480 cm2/V · s.
∨Show Answer
∨Show Answer

3.4 The pn Junction
Having learned important semiconductor concepts, we are now ready to consider our first practical
semiconductor structure: the pn junction. As mentioned previously, the pn junction implements the diode
(Chapter 4) and plays the dominant role in the structure and operation of the bipolar junction transistor (BJT,
Chapter 6). As well, understanding pn junctions is very important to the study of the MOSFET operation
(Chapter 5).
3.4.1 Physical Structure
Figure 3.8 shows a simplified physical structure of the pn junction. It consists of a p-type semiconductor
(e.g., silicon) brought into close contact with an n-type semiconductor material (also silicon). In actual
practice, both the p and n regions are part of the same silicon crystal; that is, the pn junction is formed within
a single silicon crystal by creating regions of different dopings (p and n regions). Appendix A provides a
description of the fabrication process of integrated circuits including pn junctions. As indicated in Fig. 3.8,
external wire connections are made to the p and n regions through metal contacts. If the pn junction is used
as a diode, these constitute the diode terminals and we therefore label them “anode” and “cathode” in
keeping with diode terminology.3
Figure 3.8 Simplified physical structure of the pn junction. (Actual geometries are given in Appendix A.) As the pn
junction implements the junction diode, its terminals are labeled anode and cathode.
3.4.2 Operation with Open-Circuit Terminals
Figure 3.9(a) shows a pn junction under open-circuit conditions—that is, the external terminals are open.
The “+” signs in the p-type material denote the majority holes. The charge of these holes is neutralized by an
equal amount of bound negative charge associated with the acceptor atoms. For simplicity, these bound
charges are not shown in the diagram. Also not shown are the minority electrons generated in the p-type
material by thermal ionization.
In the n-type material the majority electrons are indicated by “–” signs. Here also, the bound positive
charge, which neutralizes the charge of the majority electrons, is not shown in order to keep the diagram
simple. The n-type material also contains minority holes generated by thermal ionization but not shown in
the diagram.
The Diffusion Current ID Because the concentration of holes is high in the p region and low in the n
region, holes diffuse across the junction from the p side to the n side. Similarly, electrons diffuse across the

junction from the n side to the p side. These two current components add together to form the diffusion
current ID, whose direction is from the p side to the n side, as indicated in Fig. 3.9(a).
The Depletion Region The holes that diffuse across the junction into the n region quickly recombine with
some of the majority electrons present there and thus disappear from the scene. This recombination process
results also in the disappearance of some free electrons from the n-type material. Thus some of the bound
positive charge will no longer be neutralized by free electrons, and this charge is said to have been
uncovered. Since recombination takes place close to the junction, there will be a region close to the junction
that is depleted of free electrons and contains uncovered bound positive charge, as indicated in Fig. 3.9(a).
The electrons that diffuse across the junction into the p region quickly recombine with some of the
majority holes there, and thus disappear from the scene. This results also in the disappearance of some
majority holes, causing some of the bound negative charge to be uncovered (i.e., no longer neutralized by
holes). Thus, in the p material close to the junction, there will be a region depleted of holes and containing
uncovered bound negative charge, as indicated in Fig. 3.9(a).
From the above it follows that a carrier-depletion region will exist on both sides of the junction, with
the n side of this region positively charged and the p side negatively charged. This carrier-depletion region—
or, simply, depletion region—is also called the space-charge region. The charges on both sides of the
depletion region cause an electric field E to be established across the region in the direction indicated in Fig.
3.9(a). Hence a potential difference results across the depletion region, with the n side at a positive voltage
relative to the p side, as shown in Fig. 3.9(b). Thus the resulting electric field opposes the diffusion of holes
into the n region and electrons into the p region. In fact, the voltage drop across the depletion region acts as a
barrier that has to be overcome for holes to diffuse into the n region and electrons to diffuse into the p
region. The larger the barrier voltage, the smaller the number of carriers that will be able to overcome the
barrier, and hence the lower the magnitude of diffusion current. Thus it is the appearance of the barrier
voltage V0 that limits the carrier diffusion process. It follows that the diffusion current ID depends strongly
on the voltage drop V0 across the depletion region.
Figure 3.9 (a) The pn junction with no applied voltage (open-circuited terminals).

(3.21)
Figure 3.9 (b) The potential distribution along an axis perpendicular to the junction.
The Drift Current IS and Equilibrium In addition to the current component ID due to majority-carrier
diffusion, a component due to minority-carrier drift exists across the junction. Specifically, some of the
thermally generated holes in the n material move toward the junction and reach the edge of the depletion
region. There, they experience the electric field in the depletion region, which sweeps them across that
region into the p side. Similarly, some of the minority thermally generated electrons in the p material move
to the edge of the depletion region and get swept by the electric field in the depletion region across that
region into the n side. These two current components—electrons moved by drift from p to n and holes
moved by drift from n to p—add together to form the drift current IS, whose direction is from the n side to
the p side of the junction, as indicated in Fig. 3.9(a). Since the current IS is carried by thermally generated
minority carriers, its value is strongly dependent on temperature; however, it is independent of the value of
the depletion-layer voltage V0. This is because the drift current is determined by the number of minority
carriers that make it to the edge of the depletion region; any minority carriers that manage to get to the edge
of the depletion region will be swept across by E irrespective of the value of E or, correspondingly, of V0.
Under open-circuit conditions (Fig. 3.9a) no external current exists; thus the two opposite currents across
the junction must be equal in magnitude:
This equilibrium condition4 is maintained by the barrier voltage V0. Thus, if for some reason ID exceeds IS,
then more bound charge will be uncovered on both sides of the junction, the depletion layer will widen, and
the voltage across it (V0) will increase. This in turn causes ID to decrease until equilibrium is achieved with
ID = IS. On the other hand, if IS exceeds ID, then the amount of uncovered charge will decrease, the depletion
layer will narrow, and the voltage across it (V0) will decrease. This causes ID to increase until equilibrium is
achieved with ID = IS.
The Junction Built-in Voltage With no external voltage applied, the barrier voltage V0 across the pn
junction can be shown to be given by5

where NA and ND are the doping concentrations of the p side and n side of the junction, respectively. Thus V0
depends both on doping concentrations and on temperature since these impact the diffusion current, and thus
the barrier voltage required to oppose it. The voltage V0 is known as the junction built-in voltage.
Typically, for silicon at room temperature, V0 is in the range of 0.6 V to 0.9 V.
When the pn junction terminals are left open-circuited, the voltage measured between them will be zero.
That is, the voltage V0 across the depletion region does not appear between the junction terminals. This is
because similar built-in voltages arise at the metal–semiconductor junctions at the terminals, which counter
and exactly balance the barrier voltage. If this were not the case, we would be able to draw energy from the
isolated pn junction, which would clearly violate the principle of conservation of energy.
Width of and Charge Stored in the Depletion Region Figure 3.10(a), (b), (c), and (d) provide further
illustration of the situation in the pn junction in equilibrium. In Fig. 3.10(a) we show a junction in which NA
> ND, a common situation in practice. The carrier concentrations on both sides of the junction are shown in
Fig. 3.10(b). We have denoted the minority-carrier concentrations in both sides by np0 and pn0, with the
additional subscript “0” signifying equilibrium (i.e., before external voltages are applied, as you will see in
the next section). The depletion region extends in both the p and n materials and equal amounts of charge
exist on both sides (Q+ and Q− in Fig. 3.10c). However, since we usually use unequal dopings NA and ND, as
in Fig. 3.10(b), the width of the depletion layer will not be the same on the two sides. Rather, to uncover the
same amount of charge, the depletion layer will extend deeper into the more lightly doped material.
Specifically, if we denote the width of the
Figure 3.10 (a) A pn junction with the terminals open-circuited.
Figure 3.10 (b) Carrier concentrations; note that NA > ND.

(3.22)
(3.23)
(3.24)
(3.25)
Figure 3.10 (c) The charge stored in both sides of the depletion region; QJ = |Q+| = |Q−|.
Figure 3.10 (d) The built-in voltage V0.
depletion region in the p side by xp and in the n side by xn, we can express the magnitude of the charge on
the n side of the junction as
and that on the p side of the junction as
where A is the cross-sectional area of the junction in the plane perpendicular to the page. The charge equality
condition can now be written as
which can be rearranged to yield
The width W of the depletion layer can be shown to be given by

(3.26)
(3.27)
(3.28)
(3.29)
3.7
where s is the electrical permittivity of silicon = 11.7 0 = 11.7 × 8.85 × 10−14 F/cm = 1.04 × 10−12 F/cm.
Typically W is in the range 0.1 µm to 1 µm. We can use Eqs. (3.24) and (3.25) to obtain xn and xp in terms of
W as
We can express the charge stored on either side of the depletion region in terms of W by using Eqs. (3.22)
and (3.26) to obtain
Finally, we can substitute for W from Eq. (3.25) to obtain
These expressions for QJ will prove useful in subsequent sections.
Usually, one side of the junction is much more heavily doped than the other, and the depletion region
exists almost entirely on the more lightly doped side. For example, if NA ≫ ND, then 
These are one-sided junctions.
Example 3.5
Consider a pn junction in equilibrium at room temperature (T = 300 K) with doping concentrations of NA =
1018/cm3 and ND = 1016/cm3 and a cross-sectional area A = 10−4 cm2. Calculate pp, np0, nn, pn0, V0, W, xn, xp,
and QJ. Use ni = 1.5 × 1010/cm3.
EXERCISES
Show that
∨Show Solution

3.8
(3.25ʹ)
(3.26ʹ)
(3.27ʹ)
(3.28ʹ)
(3.29ʹ)
3.9
Show that for a one-sided pn junction in which the p side is much more heavily doped than the n side
(i.e., NA ≫ ND), referred to as a p+n diode, Eqs. (3.25), (3.26), (3.27), (3.28), and (3.29) can be
simplified as follows:
If in the fabrication of the pn junction in Example 3.5, it is required to increase the minority-carrier
concentration in the n region by a factor of 2, what must be done?
∨Show Answer

3.5 The pn Junction with an Applied Voltage
Having studied the open-circuited pn junction in detail, we are now ready to apply a dc voltage between its
two terminals to find its electrical conduction properties. If we apply a voltage so that the p side is made
more positive than the n side, it is referred to as a forward-bias6 voltage. Conversely, if we make the n side
more positive than the p side, it is said to be a reverse-bias voltage. As you will see, the pn junction exhibits
vastly different conduction properties in its forward and reverse directions.
We will begin with a simple qualitative description in Section 3.5.1 and then consider an analytical
description of the i–v characteristic of the junction in Section 3.5.2.
3.5.1 Qualitative Description of Junction Operation
Figure 3.11(a), (b), and (c) show the pn junction under three different conditions: (a) the open-circuit or
equilibrium condition studied in the previous section; (b) the reverse-bias condition, where a dc voltage VR is
applied; and (c) the forward-bias condition, where a dc voltage VF is applied.
Figure 3.11 (a) The pn junction in equilibrium.

Figure 3.11 (b) The pn junction in reverse bias.
Figure 3.11 (c) The pn junction in forward bias.
Notice that in the open-circuit case, a barrier voltage V0 develops, making n more positive than p, and
limiting the diffusion current ID to a value exactly equal to the drift current IS. This results in a zero current
at the junction terminals, as should be the case, since the terminals are open-circuited. Also, as mentioned
previously, the barrier voltage V0, though it establishes the current equilibrium across the junction, does not
in fact appear between the junction terminals because opposing built-in voltages arise at the terminals’ metal
contacts.

(3.30)
(3.31)
Consider now the reverse-bias case in (b). The externally applied reverse-bias voltage VR adds to the
barrier voltage, thus increasing the effective barrier voltage to (V0 + VR) as shown. This reduces the number
of holes that diffuse into the n region and the number of electrons that diffuse into the p region. As a result,
the diffusion current ID is dramatically reduced. As you will see shortly, a reverse-bias voltage of a volt or so
is sufficient to cause ID 
 0, and the current across the junction and through the external circuit will be
equal to IS. Recalling that IS is the current due to the drift across the depletion region of the thermally
generated minority carriers, we expect IS to be very small and to be strongly dependent on temperature. We
will show this to be the case very shortly. We conclude that in the reverse direction, the pn junction conducts
a very small and almost constant current equal to IS.
Before leaving the reverse-bias case, observe that the increase in barrier voltage will be accompanied by
a corresponding increase in the stored uncovered charge on both sides of the depletion region. This in turn
means a wider depletion region, needed to uncover the additional charge required to support the larger
barrier voltage (V0 + VR). Analytically, we can obtain these results by extending the results of the
equilibrium case. Thus we obtain the width of the depletion region by replacing V0 in Eq. (3.25) by (V0 +
VR),
and the magnitude of the charge stored on either side of the depletion region by replacing V0 in Eq. (3.29) by
(V0 + VR),
We next consider the forward-bias case shown in Fig. 3.11(c). Here the applied voltage VF is in the
direction that subtracts from the built-in voltage V0, resulting in a reduced barrier voltage (V0 − VF) across
the depletion region. This reduced barrier voltage will be accompanied by reduced depletion-region charge
and correspondingly narrower depletion-region width W. Most importantly, the lowering of the barrier
voltage will enable more holes to diffuse from p to n and more electrons to diffuse from n to p. Thus the
diffusion current ID increases substantially and can become many orders of magnitude larger than the drift
current IS. The current I in the external circuit is, of course, the difference between ID and IS,
and it flows in the forward direction of the junction, from p to n. We thus conclude that the pn junction can
conduct a substantial current in the forward-bias region and that current is mostly a diffusion current whose
value is determined by the forward-bias voltage VF.
3.5.2 The Current–Voltage Relationship of the Junction

(3.32)
(3.33)
(3.34)
We are ready to find an analytical expression that describes the current–voltage relationship of the pn
junction. We will consider a junction operating with a forward applied voltage V and derive an expression for
the current I that flows in the forward direction (from p to n). However, our derivation is general and will
yield the reverse current when the applied voltage V is made negative.
From the qualitative description above we know that a forward-bias voltage V subtracts from the built-in
voltage V0, thus resulting in a lower barrier voltage (V0 − V). The lowered barrier in turn makes it possible
for a greater number of holes to overcome the barrier and diffuse into the n region. We can make a similar
statement about electrons from the n region diffusing into the p region.
Let us now consider the holes injected into the n region. The concentration of holes in the n region at the
edge of the depletion region will increase considerably. In fact, an important result from device physics
shows that the steady-state concentration at the edge of the depletion region will be
That is, the concentration of the minority holes increases from the equilibrium value of pn0 (see Fig. 3.10b)
to the much larger value determined by the value of V, given by Eq. (3.32).
We describe this situation as follows: The forward-bias voltage V results in an excess concentration of
minority holes at x = xn, given by
The increase in minority-carrier concentration in Eqs. (3.32) and (3.33) occurs at the edge of the depletion
region (x = xn). As the injected holes diffuse into the n material, some will recombine with the majority
electrons and disappear. Thus, the excess hole concentration will decay exponentially with distance. As a
result, the total hole concentration in the n material will be given by
Substituting for the “Excess concentration” from Eq. (3.33) gives
The exponential decay is characterized by the constant Lp, which is called the diffusion length of holes in
the n material. The smaller the value of Lp, the faster the injected holes will recombine with the majority
electrons, resulting in a steeper decay of minority-carrier concentration.
Figure 3.12 shows the steady-state minority-carrier concentration profiles on both sides of a pn junction
in which 
. Let’s stay a little longer with the diffusion of holes into the n region. Note that the
shaded region under the exponential represents the excess minority carriers (holes). From our study of
diffusion in Section 3.3, we know that the establishment of a carrier concentration profile such as that in Fig.
3.12 is essential to support a steady-state diffusion current. In fact, we can now find the value of the hole–
diffusion current density by applying Eq. (3.18),

(3.35)
(3.36)
Substituting for pn(x) from Eq. (3.34) gives
Figure 3.12 Minority-carrier distribution in a forward-biased pn junction. We assume that the p region is more heavily
doped than the n region; NA ≫ ND.
As expected, Jp(x) is highest at x = xn,
and decays exponentially for x > xn, as the minority holes recombine with the majority electrons. This
recombination, however, means that the majority electrons will have to be replenished by a current that
injects electrons from the external circuit into the n region of the junction. This latter current component has
the same direction as the hole current (because electrons moving from right to left give rise to current in the
direction from left to right). It follows that as Jp(x) decreases, the electron current component increases by
exactly the same amount, making the total current in the n material constant at the value given by Eq. (3.36).
An exactly parallel development can be applied to the electrons that are injected from the n to the p
region, resulting in an electron diffusion current given by a simple adaptation of Eq. (3.36),

(3.37)
(3.38)
(3.39)
(3.40)
Now, although the currents in Eqs. (3.36) and (3.37) are found at the two edges of the depletion region, their
values do not change in the depletion region. Thus we can drop the location descriptors (xn), (−xp), add the
two current densities, and multiply by the junction area A to obtain the total current I as
Substituting for 
 and for 
 gives
From this equation we note that for a negative V (reverse bias) with a magnitude of a few times VT (25.9 mV
at room temperature), the exponential term becomes essentially zero, and the current across the junction
becomes negative and constant. From our qualitative description in Section 3.5.1, we know that this current
must be IS. Thus,
where
Figure 3.13 shows the I–V characteristic of the pn junction (Eq. 3.39). Observe that in the reverse
direction the current saturates at a value equal to –IS. For this reason, IS is given the name saturation
current. From Eq. (3.40) we see that IS is directly proportional to the cross-sectional area A of the junction.
Thus, another name for IS, one we prefer to use in this book, is the junction scale current. Typical values for
IS, for junctions of various areas, range from 10−18 A to 10−12 A.
Besides being proportional to the junction area A, the expression for IS in Eq. (3.40) indicates that IS is
proportional to 
, which is a very strong function of temperature (see Eq. 3.2).

3.10
3.11
3.12
3.13
Figure 3.13 The pn junction I–V characteristic.
Example 3.6
For the pn junction considered in Example 3.5 for which NA = 1018/cm3, ND = 1016/cm3, A = 10−4cm2, and ni =
1.5 × 1010/cm3, let Lp = 5 µm, Ln = 10 µm, Dp (in the n region) = 10 cm2/V · s, and Dn (in the p region) = 18
cm2/V · s. The pn junction is forward biased and conducting a current I = 0.1 mA. Calculate: (a) IS; (b) the
forward-bias voltage V; and (c) the component of the current I due to hole injection and that due to electron
injection across the junction.
EXERCISES
Show that if NA ≫ ND,
For the pn junction in Example 3.6, find the value of IS and that of the current I at V = 0.605 V (same
voltage found in Example 3.6 at a current I = 0.1 mA) if ND is reduced by a factor of 2.
For the pn junction considered in Examples 3.5 and 3.6, find the width of the depletion region W
corresponding to the forward-bias voltage found in Example 3.6. (Hint)
For the pn junction considered in Examples 3.5 and 3.6, find the width of the depletion region W and
the charge stored in the depletion region QJ when a 2-V reverse bias is applied. Also find the value of
the reverse current I.
∨Show Solution
∨Show Answer
∨Show Answer

3.5.3 Reverse Breakdown
The description of the operation of the pn junction in the reverse direction, and the I−V relationship of the
junction in Eq. (3.39), indicate that at a reverse-bias voltage –V, with V ≫ VT, the reverse current that flows
across the junction is approximately equal to IS and thus is very small. However, as the magnitude of the
reverse-bias voltage V is increased, a value is reached at which a very large reverse current flows as shown in
Fig. 3.14. Observe that as V reaches the value VBR, the dramatic increase in reverse current is accompanied
by a very small increase in the reverse voltage; that is, the reverse voltage across the junction remains very
close to the value VBR. The phenomenon is known as junction breakdown. It is not a destructive
phenomenon. That is, the pn junction can be repeatedly operated in the breakdown region without a
permanent effect on its characteristics. This, however, is predicated on the assumption that the magnitude of
the reverse-breakdown current is limited by the external circuit to a “safe” value. The “safe” value is one that
results in the limitation of the power dissipated in the junction to a safe, allowable level.
Figure 3.14 The I–V characteristic of the pn junction showing the rapid increase in reverse current in the breakdown
region.
There are two possible mechanisms for pn junction breakdown: the zener effect and the avalanche
effect. If a pn junction breaks down with a breakdown voltage VBR < 5 V, the breakdown mechanism is
usually the zener effect. Avalanche breakdown occurs when VBR is greater than approximately 8 V. For
∨Show Answer

junctions that break down between 5 V and 8 V, the breakdown mechanism can be either the zener or the
avalanche effect or a combination of the two.
Zener breakdown occurs when the electric field in the depletion layer increases to the point of breaking
covalent bonds and generating electron–hole pairs. The electrons generated in this way will be swept by the
electric field into the n side and the holes into the p side.
Thus these electrons and holes constitute a reverse current across the junction. Once the zener effect starts, a
large number of carriers can be generated, with a negligible increase in the junction voltage. Thus the reverse
current in the breakdown region will be large and its value must be determined by the external circuit, while
the reverse voltage appearing between the diode terminals will remain close to the specified breakdown
voltage VBR, often denoted VZ7 in this case.
The other breakdown mechanism, avalanche breakdown, occurs when the minority carriers that cross the
depletion region under the influence of the electric field gain sufficient kinetic energy to be able to break
covalent bonds in atoms with which they collide. The carriers liberated by this process may have sufficiently
high energy to be able to cause other carriers to be liberated in another ionizing collision. This process keeps
repeating in the fashion of an avalanche, with the result that many carriers are created that are able to support
any value of reverse current, as determined by the external circuit, with a negligible change in the voltage
drop across the junction.
As will be seen in Chapter 4, some pn junction diodes are fabricated to operate specifically in the zener
breakdown region, where use is made of the nearly constant voltage VZ.

(3.41)
(3.42)
(3.43)
(3.44)
3.6 Capacitive Effects in the pn Junction
There are two charge-storage mechanisms in the pn junction. One is associated with the charge stored in the
depletion region, and the other is associated with the minority-carrier charge stored in the n and p materials
as a result of the concentration profiles established by carrier injection. While the first is easier to see when
the pn junction is reverse biased, the second is in effect, and typically predominating, only when the junction
is forward biased.
3.6.1 Depletion or Junction Capacitance
When a pn junction is reverse biased with a voltage VR, the charge stored on either side of the depletion
region is given by Eq. (3.31),
Thus, for a given pn junction,
where α is given by
In an ideal capacitor, the stored charge is linearly proportional to the applied voltage. In a pn junction, Eq.
(3.41) tells us QJ is nonlinearly related to VR, as shown in Fig. 3.15. This nonlinear relationship makes it
difficult to define a capacitance that accounts for the need to change QJ whenever VR is changed. We can,
however, assume that the junction is operating at a point such as Q, as indicated in Fig. 3.15, and define a
capacitance Cj that relates the change in the charge QJ to a change in the voltage VR,
This incremental-capacitance approach turns out to be quite useful in electronic circuit design, as we shall
see throughout this book.
Using Eq. (3.43) together with Eq. (3.41) yields

(3.45)
(3.46)
(3.47)
Figure 3.15 The charge stored on either side of the depletion layer as a function of the reverse voltage VR.
The value of Cj at zero reverse bias can be obtained from Eqs. (3.42) and (3.44) as
which enables us to express Cj as
Before leaving the subject of depletion-region or junction capacitance we point out that in the pn junction
we have been studying, the doping concentration is made to change abruptly at the junction boundary. Such a
junction is known as an abrupt junction. There is another type of pn junction in which the carrier
concentration is made to change gradually from one side of the junction to the other. To allow for such a
graded junction, the formula for the junction capacitance (Eq. 3.46) can be written in the more general form
where m is a constant called the grading coefficient, whose value ranges from 1/3 to 1/2 depending on the
manner in which the concentration changes from the p to the n side.
EXERCISE

3.14
(3.48)
(3.49)
(3.50)
For the pn junction considered in Examples 3.5 and 3.6, find Cj0 and Cj at VR = 2 V. Recall that V0 =
0.814 V, NA = 1018/cm3, ND = 1016/cm3, and A = 10−4 cm2.
3.6.2 Diffusion Capacitance
Consider a forward-biased pn junction. In steady state, minority-carrier distributions in the p and n materials
are established, as shown in Fig. 3.12. Thus a certain amount of excess minority-carrier charge is stored in
each of the p and n bulk regions (outside the depletion region). If the terminal voltage V changes, this charge
will have to change before a new steady state is achieved. This charge-storage phenomenon gives rise to
another capacitive effect, distinctly different from that due to charge storage in the depletion region.
To calculate the excess minority-carrier charge, refer to Fig. 3.12. The excess hole charge stored in the n
region can be found from the shaded area under the exponential as follows:8
Substituting for pn(xn) from Eq. (3.32) and using Eq. (3.36) enables us to express Qp as
The factor 
 that relates Qp to Ip is a useful device parameter that has the dimension of time (s) and
is denoted τp
Thus,
The time constant τp is known as the excess minority-carrier (hole) lifetime. It is the average time it
takes for a hole injected into the n region to recombine with a majority electron. This definition of τp implies
that the entire charge Qp disappears and has to be replenished every τp seconds. The current that
accomplishes the replenishing is Ip = Qp/τp. This is an alternate derivation for Eq. (3.50).
A relationship similar to that in Eq. (3.50) can be developed for the electron charge stored in the p region,
∨Show Answer

(3.51)
(3.52)
(3.53)
(3.54)
(3.55)
3.15
3.16
where τn is the electron lifetime in the p region. The total excess minority-carrier charge can be obtained by
adding together Qp and Qn,
This charge can be expressed in terms of the diode current I = Ip + In as
where τT is called the mean transit time of the junction. Obviously, τT is related to τp and τn. Furthermore,
for most practical devices, one side of the junction is much more heavily doped than the other. For instance,
if 
, one can show that 
, 
, and thus 
.
For small changes around a bias point, we can define an incremental diffusion capacitance Cd as
Using Eqs. (3.53) and (3.39) approximating 
, we can show that
where I is the forward-bias current. Note that Cd is directly proportional to the forward current I and thus is
negligibly small when the diode is reverse biased. Also note that to keep Cd small, the transit time τT must be
made small, an important requirement for a pn junction intended for high-speed or high-frequency operation.
EXERCISES
Use the definition of Cd in Eq. (3.54) to derive the expression in Eq. (3.55) by means of Eqs. (3.53) and
(3.39).
For the pn junction considered in Examples 3.5 and 3.6 for which Dp = 10 cm2/V · s, and Lp = 5 µm,
find τp and Cd at a forward-bias current of 0.1 mA. Recall that for this junction, Ip 
 I.
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
Today’s microelectronics technology is almost entirely based on the semiconductor material silicon. If
a circuit is to be fabricated as a monolithic integrated circuit (IC) it is made using a single silicon
crystal, no matter how large the circuit is (modern chips can contain billions of transistors).
In a crystal of intrinsic or pure silicon, the atoms are held in position by covalent bonds. At very low
temperatures, all the bonds are intact, and no charge carriers are available to conduct electrical current.
At room temperature, thermal energy causes some of the covalent bonds to break, thus generating free
electrons and holes that become available for current conduction.
Current in semiconductors is carried by free electrons and holes. Their numbers are equal and
relatively small in intrinsic silicon. Thus, intrinsic silicon is an insulator.
The conductivity of silicon can be increased dramatically by introducing small amounts of appropriate
impurity materials into the silicon crystal in a process called doping.
There are two kinds of doped semiconductor: n-type, in which electrons are abundant, and p-type, in
which holes are abundant.
There are two mechanisms for the transport of charge carriers in semiconductors: drift and diffusion.
Carrier drift results when an electric field E is applied across a piece of silicon. The electric field
accelerates the holes in the direction of E and the electrons in the direction opposite to E. These two
current components add together to produce a drift current in the direction of E.
Carrier diffusion occurs when the concentration of charge carriers is made higher in one part of the
silicon crystal than in other parts. To establish a steady-state diffusion current, a carrier concentration
gradient must be maintained in the silicon crystal.
A basic semiconductor structure is the pn junction. It is fabricated in a silicon crystal by creating a p
region in close proximity to an n region. The pn junction is a diode and plays a dominant role in the
structure and operation of transistors.
When the terminals of the pn junction are left open, no current flows externally. However, two equal
and opposite currents, ID and IS, flow across the junction, and equilibrium is maintained by a built-in
voltage V0 that develops across the junction, with the n side positive relative to the p side. Note,
however, that the voltage across an open junction is 0 V, since V0 is canceled by potentials appearing
at the metal-to-semiconductor connection interfaces.
The voltage V0 appears across the depletion region, which extends on both sides of the junction.
The diffusion current ID is carried by holes diffusing from p to n and electrons diffusing from n to p.
ID flows from p to n, which is the forward direction of the junction. Its value depends on V0.
The drift current IS is carried by thermally generated minority electrons in the p material that are swept
across the depletion layer into the n side, and by thermally generated minority holes in the n side that
are swept across the depletion region into the p side. IS flows from n to p, in the reverse direction of
the junction, and its value is a strong function of temperature but independent of V0.
Forward biasing the pn junction (i.e. applying an external voltage V that makes p more positive than n)
reduces the barrier voltage to V0 − V and produces an exponential increase in ID while IS remains

■
■
■
■
unchanged. The net result is a substantial current I = ID − IS that flows across the junction and through
the external circuit.
Applying a negative V reverse biases the junction and increases the barrier voltage, with the result that
ID is reduced to almost zero and the net current across the junction becomes the very small reverse
current IS.
If the reverse voltage is increased in magnitude to a value VBR specific to the particular junction, the
junction breaks down, and a large reverse current flows. The value of the reverse current must be
limited by the external circuit.
Whenever the voltage across a pn junction is changed, some time has to pass before steady state is
reached. This is due to the charge-storage effects in the junction, which are modeled by two
capacitances: the junction capacitance Cj and the diffusion capacitance Cd.
Table 3.1 provides a summary of pertinent relationships and the values of physical constants.
Table 3.1 Summary of Important Semiconductor Equations



(a)
(b)
(c)
(d)
(e)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
If in the following problems you require values of particular parameters or physical constants that are not stated,
please consult Table 3.1.
Section 3.1: Intrinsic Semiconductors
3.1 Find values of the intrinsic carrier concentration ni for silicon at −55°C, 0°C, 20°C, 75°C, and 125°C. At each
temperature, what fraction of the atoms is ionized? Recall that a silicon crystal has approximately 5 × 1022
atoms/cm3.
3.2 Calculate the value of ni for gallium arsenide (GaAs) at T = 300 K. The constant B = 3.56 × 1014 cm−3K−3/2
and the bandgap voltage Eg = 1.42 eV. Compare with that of silicon at the same temperature.
3.3 Find the total number of free electrons in a circular wafer of single crystal silicon that is 300 μm thick and 15
cm in diameter at T = 300 K.
Section 3.2: Doped Semiconductors
3.4 For a p-type silicon in which the dopant concentration NA = 2 × 1018/cm3, find the hole and electron
concentrations at T = 300 K.
3.5 For a silicon crystal doped with phosphorus, what must ND be if at T = 300 K the hole concentration drops
below the intrinsic level by a factor of 108?
3.6 In a boron-doped silicon layer with impurity concentration of 1017/cm3, find the hole and electron
concentrations at 27°C and 125°C. Is the result n- or p-type silicon?
Section 3.3: Current Flow in Semiconductors
3.7 Find the end-to-end resistance of a bar 15-µm long, 3-µm wide, and 1-µm thick, made of the following
materials at 25°C:
intrinsic silicon
n-doped silicon with ND = 5 × 1016/cm3
n-doped silicon with ND = 5 × 1018/cm3
p-doped silicon with NA = 5 × 1016/cm3
aluminum with resistivity of 2.8 µΩ·cm
∨Show Answer
∨Show Answer

For intrinsic silicon, use the data in Table 3.1. For doped silicon, assume μn = 3μp = 1200 cm2/V · s. (Recall that R
= ρL/A.)
3.8 Contrast the electron and hole drift velocities through a 10-µm layer of intrinsic silicon across which a voltage
of 3 V is imposed. Let μn = 1350 cm2/V · s and μp = 480 cm2/V · s·
3.9 Find the length of a silicon bar having a 5-µm × 4-µm cross section and having free-electron and hole densities
of 104/cm3 and 1016/cm3, respectively, so that 0.2 mA current flows when 1 V is applied end-to-end. Use μn =
1200 cm2/V · s and μp = 500 cm2/V · s.
3.10 In a 10-µm-long bar of donor-doped silicon, what donor concentration is needed to realize a current density of
2 mA/µm2 in response to an applied voltage of 1 V? (Note: Although the carrier mobilities change with doping
concentration, as a first approximation you may assume μn to be constant and use 1350 cm2/V · s, the value for
intrinsic silicon.)
3.11 Holes are being steadily injected into a region of n-type silicon (connected to other devices, the details of
which are not important for this question). In the steady state, the excess-hole concentration profile shown in Fig.
P3.11 is established in the n-type silicon region at room temperature. Here “excess” means over and above the
thermal-equilibrium concentration (in the absence of hole injection), denoted pn0. If ND = 1016/cm3, ni = 1.5 ×
1010/cm3, Dp = 12 cm2/s, and W = 50 nm, find the density of the current that will flow in the x direction.
Figure P3.11
3.12 Both the carrier mobility and the diffusivity decrease as the doping concentration of silicon is increased. Table
P3.12 provides a few data points for μn, μp, Dn, and Dp versus doping concentration at room temperature. Use the
Einstein relationship to find the missing values.
Table P3.12
Doping Concentration (carriers/cm3)
μn (cm2/V · s)
μp (cm2/V · s)
Dn (cm2/s)
Dp (cm2/s
Intrinsic
1350
480
1016
1200
400
1017
20
7
10
4
∨Show Answer
∨Show Answer
∨Show Answer

1018
Section 3.4: The pn Junction
3.13 Calculate the built-in voltage of a junction in which the p and n regions are doped equally with 5 × 1016
atoms/cm3. Assume ni = 1.5 × 1010/cm3. With the terminals left open, what is the width of the depletion region,
and how far does it extend into the p and n regions? If the cross-sectional area of the junction is 2 µm2, find the
magnitude of the charge stored on either side of the junction.
3.14 If, for a particular junction, the acceptor concentration is 1017/cm3 and the donor concentration is 1016/cm3,
find the junction built-in voltage. Assume ni = 1.5 × 1010/cm3. Also, find the width of the depletion region (W) and
its extent in each of the p and n regions when the junction terminals are left open. Calculate the magnitude of the
charge stored on either side of the junction. Assume that the junction area is 10 µm2.
3.15 Estimate the total charge stored in a 0.1-µm depletion layer on one side of a 10-µm × 10-µm junction. The
doping concentration on that side of the junction is 5 × 1017/cm3.
3.16 In a pn junction for which 
, and the depletion layer exists mostly on the lightly doped side with W
= 0.2 µm, find V0 if ND = 1016/cm3. Also calculate QJ for the case A = 10 µm2.
3.17 By how much does V0 change if NA or ND is increased by a factor of 10?
3.18 In a pn junction with NA ≫ ND ≫ ni, sketch a plot of charge density on both sides of the junction. How does
the sketch change if ND is increased by a factor of 4?
3.19 Given that the electric field E has a triangular profile as shown in Fig. P3.19, and that the built-in potential, V0,
is given by the total area under the triangle, find an expression for the maximum electric field magnitude, Emax, in
terms of the dopant concentrations and fundamental constants.
Figure P3.19
Section 3.5: The pn Junction with an Applied Voltage
3.20 If a 2-V reverse-bias voltage is applied across the junction specified in Problem 3.14, find W and QJ.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

3.21 Show that for a pn junction reverse-biased with a voltage VR, the depletion-layer width W and the charge
stored on either side of the junction, QJ, can be expressed as
where W0 and QJ0 are the values in equilibrium.
3.22 In a forward-biased pn junction show that the ratio of the current component due to hole injection across the
junction to the component due to electron injection is given by
Evaluate this ratio for the case NA = 1018/cm3, ND = 1016/cm3, Lp = 5 µm, Ln = 10 µm, Dp = 10 cm2/s, and Dn =
20 cm2/s, and hence find Ip and In for the case in which the pn junction is conducting a forward current I = 100 µA.
3.23 Calculate IS and the current I for V = 780 mV for a pn junction for which NA = 1017/cm3, ND = 1016/cm3, A =
20 µm2, ni = 1.5 × 1010/cm3, Lp = 5 µm, Ln = 10 µm, Dp = 10 cm2/s, and Dn = 18 cm2/s.
3.24 Assuming that the temperature dependence of IS arises mostly because IS is proportional to 
, use the
expression for ni in Eq. (3.2) to determine the factor by which 
 changes as T changes from 300 K to 310 K. This
will be approximately the same factor by which IS changes for a 10°C rise in temperature. What is the factor?
3.25 A p+n junction is one in which the doping concentration in the p region is much greater than that in the n
region. In such a junction, the forward current is mostly due to hole injection across the junction. Show that
For the specific case in which ND = 1016/cm3, Dp = 10 cm2/s, Lp = 10 µm, and A = 104 µm2, find IS and the
voltage V obtained when I = 0.2 mA. Assume operation at 300 K where ni = 1.5 × 1010/cm3.
3.26 A pn junction for which the breakdown voltage is 12 V has a rated (i.e., maximum allowable) power
dissipation of 0.25 W. What continuous current in the breakdown region will raise the dissipation to half the rated
value? If breakdown occurs for only 10 ms in every 20 ms, what average breakdown current is allowed?
Section 3.6: Capacitive Effects in the pn Junction
3.27 For the pn junction specified in Problem 3.14, find Cj0 and Cj at VR = 2V.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
3.28 For a particular junction for which Cj0 = 0.4 pF, V0 = 0.75 V, and m = 1/3, find Cj at reverse-bias voltages of 1
V and 3 V.
3.29 The junction capacitance Cj can be thought of as that of a parallel-plate capacitor and thus given by
Show that this approach leads to a formula identical to that obtained by combining Eqs. (3.42) and (3.44) [or
equivalently, by combining Eqs. (3.44) and (3.45)].
3.30 A pn junction operating in the forward-bias region with a current I of 0.4 mA is found to have a diffusion
capacitance of 1 pF. What diffusion capacitance do you expect this junction to have at I = 0.1 mA? What is the
mean transit time for this junction?
*3.31 A short-base diode is one where the widths of the p and n regions are much smaller than Ln and Lp,
respectively. As a result, the excess minority-carrier distribution in each region is a straight line rather than the
exponentials shown in Fig. 3.12.
For the short-base diode, sketch a figure corresponding to Fig. 3.12 and assume as in Fig. 3.12 that NA ≫ ND.
Following a derivation similar to that given in Section 3.5.2, show that if the widths of the p and n regions are
denoted Wp and Wn then
and
Also, assuming Q 
 Qp, I 
 Ip, show that
where
If a designer wishes to limit Cd to 8 pF at I = 1 mA, what should Wn be? Assume Dp = 10 cm2/s.
∨Show Answer
∨Show Answer


4.1
4.2
4.3
4.4
4.5
4.6
4.7
•
•
•
•
•
•
CHAPTER 4
Diodes
Introduction
The Ideal Diode
Terminal Characteristics of Junction Diodes
Modeling the Diode
The Small-Signal Model
Voltage Regulation
Rectifier Circuits
Other Diode Applications
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The characteristics of the ideal diode and how to analyze and design circuits containing multiple ideal
diodes together with resistors and dc sources to realize useful and interesting nonlinear functions.
The details of the i–v characteristic of the junction diode and how to use it to analyze diode circuits
operating in the various bias regions: forward, reverse, and breakdown.
A simple but effective model of the diode i–v characteristic in the forward direction: the constant-
voltage-drop model.
A powerful technique for the application and modeling of nonlinear devices such as the diode: dc-
biasing the diode and modeling its operation for small signals around the dc operating point by means
of the small-signal model.
Application of the diode in the design of rectifier circuits, which convert ac voltages to dc as needed for
powering electronic equipment.
Other practical and important applications of diodes such as for protecting circuits from excessive
voltages and for lighting.

Introduction
In Chapters 1 and 2 we dealt almost entirely with linear circuits; any nonlinearity, such as that introduced by
amplifier output saturation, was treated as a problem to be solved by the circuit designer. However, there are
many other signal-processing functions that can be implemented only by nonlinear circuits. Examples
include the generation of dc voltages from the ac power supply, and the generation of signals of various
waveforms (e.g., sinusoids, square waves, pulses). Also, digital logic and memory circuits constitute a
special class of nonlinear circuits.
The simplest and most fundamental nonlinear circuit element is the diode. Just like a resistor, the diode
has two terminals; but unlike the resistor, which has a linear (straight-line) relationship between the current
flowing through it and the voltage appearing across it, the diode has a nonlinear i–v characteristic.
In order to understand the essence of the diode function, we begin with a fictitious element, the ideal
diode. We then introduce the silicon junction diode, explain its terminal characteristics, and provide
techniques for analyzing diode circuits. These techniques rely on device modeling. Our study of modeling
the diode characteristics will lay the foundation for modeling transistor operation in the next three chapters.
Diodes are commonly used in the design of rectifiers, which convert ac to dc in many electronic systems.
We will thus study rectifier circuits in detail. We will also briefly consider other applications of diodes,
including voltage limiting and regulation.
The junction diode is nothing more than the pn junction we studied in Chapter 3, and most of this chapter
is concerned with the study of silicon pn-junction diodes. In the last section, however, we briefly consider
some specialized diode types, including the photodiode and the light-emitting diode (LED).

4.1 The Ideal Diode
4.1.1 Current–Voltage Characteristic
The ideal diode can be considered the most fundamental nonlinear circuit element. It is a two-terminal
device with the circuit symbol of Fig. 4.1(a) and the i–v characteristic shown in Fig. 4.1(b). We can interpret
the terminal characteristic of the ideal diode as follows: If a negative voltage (relative to the reference
direction indicated in Fig. 4.1a) is applied to the diode, no current flows and the diode behaves as an open
circuit (Fig. 4.1c). Diodes operated in this mode are said to be reverse biased, or operated in the reverse
direction. An ideal diode has zero current when operated in the reverse direction and is said to be cut off, or
simply off.
Figure 4.1 (a) The ideal diode: diode circuit symbol.
Figure 4.1 (b) The ideal diode: i–v characteristic.
Figure 4.1 (c) The ideal diode: equivalent circuit in the reverse direction.

Figure 4.1 (d) The ideal diode: equivalent circuit in the forward direction.
On the other hand, if a positive current (relative to the reference direction indicated in Fig. 4.1a) is
applied to the ideal diode, zero voltage drop appears across the diode. In other words, the ideal diode
behaves as a short circuit in the forward direction (Fig. 4.1d); it passes any current with zero voltage drop. A
forward-biased diode is said to be turned on, or simply on.
From this description we can see that the external circuit must be designed to limit the forward current
through a conducting diode, and the reverse voltage across a cutoff diode, to predetermined values. Figure
4.2(a) and (b) shows two diode circuits that illustrate this point. In the circuit of Fig. 4.2(a) the diode is
obviously conducting. Thus its voltage drop will be zero, and the current through it will be determined by the
+10-V supply and the 1- kΩ resistor as 10 mA. The diode in Fig. 4.2(b) is obviously cut off, and thus its
current will be zero, which in turn means that the entire 10-V supply will appear as reverse bias across the
diode.
Figure 4.2 The two modes of operation of ideal diodes and the use of an external circuit to limit (a) the forward current
and (b) the reverse voltage.
The positive terminal of the diode is called the anode and the negative terminal the cathode, a carryover
from the days of vacuum-tube diodes. The i–v characteristic of the ideal diode (conducting in one direction
and not in the other) should explain the choice of its arrow-like circuit symbol.
As you can tell from the preceding description, the i–v characteristic of the ideal diode is highly
nonlinear; although it consists of two straight-line segments, they are at 90° to one another. A nonlinear
curve that consists of straight-line segments is said to be piecewise linear. If a device with a piecewise-
linear characteristic is used in a particular application in such a way that the signal across its terminals
swings along only one of the linear segments, then the device can be considered a linear circuit element as
far as that particular circuit application is concerned. On the other hand, if signals swing past one or more of
the break points in the characteristic, linear analysis is no longer possible.

4.1.2 The Rectifier
A fundamental application of the diode, one that makes use of its severely nonlinear i–v curve, is the rectifier
circuit shown in Fig. 4.3(a). The circuit consists of the series connection of a diode D and a resistor R. Let
the input voltage vI be the sinusoid shown in Fig. 4.3(b), and assume the diode to be ideal. During the
positive half-cycles of the input sinusoid, the positive vI will cause current to flow through the diode in its
forward direction. It follows that the diode voltage vD will be very small—ideally zero. Thus the circuit will
have the equivalent shown in Fig. 4.3(c), and the output voltage vO will be equal to the input voltage vI. On
the other hand, during the negative half-cycles of vI, the diode will not conduct. Thus the circuit will have
the equivalent shown in Fig. 4.3(d), and vO will be zero. Thus the output voltage will have the waveform
shown in Fig. 4.3(e). Note that while vI alternates in polarity and has a zero average value, vO is
unidirectional and has a finite average value or a dc component. Thus the circuit of Fig. 4.3(a) rectifies the
signal and hence is called a rectifier. It can be used to generate dc from ac. We will study rectifier circuits in
Section 4.6.
Figure 4.3 (a) Rectifier circuit.
Figure 4.3 (b) Input waveform.
Figure 4.3 (c) Equivalent circuit when vI ≥ 0.

4.1
4.2
Figure 4.3 (d) Equivalent circuit when vI ≤ 0.
Figure 4.3 (e) Output waveform.
EXERCISES
For the circuit in Fig. 4.3(a), sketch the transfer characteristic vO versus vI.
For the circuit in Fig. 4.3(a), sketch the waveform of vD.
4.3 In the circuit of Fig. 4.3(a), let vI have a peak value of 10 V and R = 5 kΩ. Find the peak value of iD and the
dc component of vO. (Hint)
Example 4.1
Figure 4.4(a) shows a circuit for charging a 12-V battery. If vS is a sinusoid with 24-V peak amplitude, find the
fraction of each cycle during which the diode conducts. Also, find the peak value of the diode current and the
maximum reverse-bias voltage that appears across the diode.
∨Show Answer
∨Show Answer
∨Show Answer

Figure 4.4 (a) Circuit for Example 4.1.
Figure 4.4 (b) Waveforms for Example 4.1.
4.1.3 Limiting and Protection Circuits
Limiter circuits use diodes to limit voltage excursions. This can provide useful waveform shaping or protect
sensitive circuits.
A rearrangement of the circuit in Fig. 4.4(a) results in the simple limiter in Fig. 4.5(a). When the input vI
is below V+, the diode is off and therefore an open circuit. The equivalent schematic is shown in Fig. 4.5(b).
No current flows through the resistor R, and vO = vI. When the input vI exceeds V+, the diode turns on,
resulting in the equivalent circuit of Fig. 4.5(c), where vO = V+. Thus, the circuit keeps vO from exceeding
the upper limit established by V+. Its input–output characteristic is shown in Fig. 4.5(d). When on, the diode
must conduct a current,
Reversing the diode’s polarity results in a limiter that establishes a lower limit on the voltage excursions.
∨Show Solution

Figure 4.5 (a) A simple limiter circuit.
Figure 4.5 (b) When vI < V+, the diode is reverse biased. Hence, it is an open circuit.
Figure 4.5 (c) When vI > V+, the diode turns on limiting vO to V+.
Figure 4.5 (d) The resulting input-output relationship.
Example 4.2
Assuming ideal diodes, find the input–output characteristic of the limiter circuit in Fig. 4.6(a). If vI = 100 V and
R = 100 Ω, what current is conducted by each of the two diodes?

Figure 4.6 (a) Simple limiter circuit in Example 4.2.
Figure 4.6 (b) The equivalent circuit when |vI| < 5 V.
Figure 4.6 (c) The equivalent circuit when vI > 5 V.
Figure 4.6 (d) The equivalent circuit when vI < –5 V.
Figure 4.6 (e) The input–output relationship.
∨Show Solution

High voltages can arise on circuit nodes owing simply to the buildup of static electric charge during
manufacturing or through normal handling and use. The resulting voltages can be sufficient to damage the
components permanently. Thus, practically every complex electronic component includes protection circuits
that keep at-risk circuit nodes within safe limits. These are a particular class of limiters called electrostatic
discharge (ESD) circuits that can take on a form very similar to the circuit in Example 4.2. In extreme cases,
thousands of volts may arise at vI, requiring the diodes to conduct a short burst of high current to protect the
circuit.
Video Example VE 4.1 Analysis Using the Ideal Diode Model
Find the labeled voltages and currents in Fig. VE4.1(a) and (b), assuming that the diodes are ideal.
Figure VE4.1 Circuit for Video Example 4.1.
 Solution: Watch the authors solve this problem.


Figure E4.4 (b)
Figure E4.4 (c)
Figure E4.4 (d)

4.5
4.6
Figure E4.4 (e)
Figure E4.4 (f)
Figure E4.5 shows a circuit for an ac voltmeter. It uses a moving-coil meter that gives a full-scale
reading when the average current flowing through it is 1 mA. The moving-coil meter has a 50-Ω
resistance.
Figure E4.5
Find the value of R that results in the meter indicating a full-scale reading when the input sine-wave
voltage vI is 20 V peak-to-peak. (Hint)
Select the resistor value R in Fig. 4.6(a) so that the maximum diode current is 50 mA for |vI| < 20 V.
∨Show Answer
∨Show Answer
∨Show Answer


1.
2.
3.
4.2 Terminal Characteristics of Junction Diodes
The most common implementation of the diode uses a pn junction. We studied the physics of the pn junction
and derived its i–v characteristic in Chapter 3. That the pn junction is used to implement the diode function
should come as no surprise: the pn junction can conduct substantial current in the forward direction and
almost no current in the reverse direction. In this section we study the i–v characteristic of the pn junction
diode in detail in order to prepare ourselves for diode circuit applications.
Figure 4.7 shows the i–v characteristic of a silicon junction diode. The same characteristic is shown in
Fig. 4.8 with some scales expanded and others compressed to reveal details. Note that the scale changes have
resulted in the apparent discontinuity at the origin.
As indicated, the characteristic curve consists of three distinct regions:
The forward-bias region, determined by v > 0
The reverse-bias region, determined by v < 0
The breakdown region, determined by v < −VBR
These three regions of operation are described in the following sections.
Figure 4.7 The i–v characteristic of a silicon junction diode.

(4.1)
Figure 4.8 The silicon diode i–v relationship with some scales expanded and others compressed in order to reveal
details.
4.2.1 The Forward-Bias Region
The diode enters the forward-bias—or, simply, forward—region of operation when the terminal voltage v is
positive. In the forward region the i–v relationship is closely approximated by
In this equation1 IS is a constant for a given diode at a given temperature. A formula for IS in terms of the
diode’s physical parameters and temperature was given in Eq. (3.40). The current IS is usually called the
saturation current (for reasons that will become apparent shortly). Another name for IS, and one that we
will occasionally use, is the scale current.
This name comes from the fact that IS is directly proportional to the cross-sectional area of the diode.
Doubling the junction area produces a diode with double the value of IS and, as the diode equation indicates,
double the value of current i for a given forward voltage v. For “small-signal” diodes, which are small-size
diodes intended for low-power applications, IS is on the order of 10−15 A. The value of IS is, however, a very
strong function of temperature. As a rule of thumb, IS doubles in value for every 5°C rise in temperature.
The voltage VT in Eq. (4.1) is a constant called the thermal voltage and is given by

(4.2)
(4.2a)
(4.3)
(4.4)
where
k = Boltzmann’s constant = 8.62 × 10−5 eV/K = 1.38 × 10−23 joules/kelvin
T = the absolute temperature in kelvins = 273 + temperature in °C
q = the magnitude of electronic charge = 1.60 × 10−19 coulomb
Substituting these into Eq. (4.2) gives
Thus, at room temperature (20°C) the value of VT is 25.3 mV. In rapid approximate circuit analysis we will
use 
 at room temperature.2
For appreciable current i in the forward direction, specifically for 
, we can approximate Eq. (4.1)
by the exponential relationship
Alternatively, we can express this relationship in the logarithmic form:
where ln denotes the natural (base e) logarithm.
The exponential relationship of the current i to the voltage v holds over a span of many decades of
current (e.g., a factor of 107). This is quite a remarkable property of junction diodes, one that is also found in
bipolar junction transistors and that has been exploited in many interesting applications.
Let’s consider the forward i–v relationship in Eq. (4.3) and evaluate the current I1 corresponding to a
diode voltage V1:
Similarly, if the voltage is V2, the diode current I2 will be
These two equations can be combined to produce

(4.5)
which can be rewritten as
or, in terms of base-10 logarithms,
This equation states that for a decade (factor of 10) change in current, the diode voltage drop changes by
2.3VT, which is roughly 60 mV. This also suggests that the diode i–v relationship is most conveniently
plotted on semilog paper. Using the vertical, linear axis for v and the horizontal, log axis for i, we get a
straight line with a slope of 60 mV per decade of current.
A glance at the i–v characteristic in the forward region (Fig. 4.8) reveals that the current is negligibly
small for v less than about 0.5 V. This value is usually referred to as the cut-in voltage. However, this
apparent threshold in the characteristic is simply a consequence of the exponential relationship. Another
consequence of this relationship is the rapid increase of i. Thus, for a “fully conducting” diode, the voltage
drop lies in a narrow range, approximately 0.6 V to 0.8 V. This gives rise to a simple “model” for the diode
where we assume that a conducting diode has approximately a 0.7-V drop across it. Diodes with different
current ratings (i.e., different areas and correspondingly different IS) will exhibit the 0.7-V drop at different
currents. For instance, a small-signal diode can be considered to have a 0.7-V drop at i = 1 mA, while a
higher-power diode can have a 0.7-V drop at i = 1 A. We will study diode-circuit analysis and diode models
in the next section.
Example 4.3
A silicon diode said to be a 1-mA device displays a forward voltage of 0.7 V at a current of 1 mA. Evaluate the
junction scaling constant IS. What scaling constants would apply for a 1-A diode of the same manufacture that
conducts 1 A at 0.7 V?
Video Example VE 4.2 Analysis Using the Exponential Diode Model
In the circuit shown in Fig. VE4.2, D1 has 10 times the junction area of D2. What value of V results? To obtain a
value for V of 60 mV, what current I2 is needed?
∨Show Solution


4.7
4.8
4.9
4.10
depending on the color of light. Unless otherwise stated, we focus on silicon diodes that have an
approximately 0.7-V drop when conducting.
Since for any given diode both IS and VT are functions of temperature, the forward i–v characteristic
varies with temperature, as illustrated in Fig. 4.9. At a given constant diode current, the voltage drop across
the diode decreases by about 2 mV for every 1°C increase in temperature. The change in diode voltage with
temperature has been exploited in the design of electronic thermometers.
Figure 4.9 Temperature dependence of the diode forward characteristic. At a constant current, the voltage drop decreases
by approximately 2 mV for every 1°C increase in temperature.
EXERCISES
Find the change in diode voltage if the current changes from 0.1 mA to 10 mA.
A silicon junction diode has v = 0.7 V at i = 1 mA. Find the voltage drop at i = 0.1 mA and i = 10 mA.
A germanium diode exhibits a forward drop of 0.3 V while conducting 0.2 mA. Find its scale current,
IS.
Using the fact that a silicon diode has IS = 10−14 A at 25°C and that IS increases by 15% per °C rise in
temperature, find the value of IS at 125°C.
4.2.2 The Reverse-Bias Region
The diode enters the reverse-bias region of operation when the voltage v is made negative. Equation (4.1)
predicts that if v is negative and a few times larger than VT (25 mV) in magnitude, the exponential term
becomes negligibly small compared to unity, and the diode current becomes
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

4.11
That is, the current in the reverse direction is constant and equal to IS. This is where the term saturation
current comes from.
Real diodes exhibit reverse currents that, though quite small, are much larger than IS. For instance, a
small-signal diode whose IS is roughly 10−14 A to 10−15 A could show a reverse current on the order of 1
nA. The reverse current also increases somewhat with the increase in magnitude of the reverse voltage. Note
that because the current is so small, these details are not clearly evident on the diode i–v characteristic of Fig.
4.8.
A large part of the reverse current is due to leakage effects. These leakage currents are proportional to the
junction area, just as IS is. Their dependence on temperature, however, is different from that of IS. Thus,
whereas IS doubles for every 5°C rise in temperature, the corresponding rule of thumb for the temperature
dependence of the reverse current is that it doubles for every 10°C rise in temperature.
EXERCISE
The diode in the circuit of Fig. E4.11 is a large high-current device whose reverse leakage is reasonably
independent of voltage. If V = 1 V at 20°C, find the value of V at 40°C and at 0°C.
Figure E4.11
4.2.3 The Breakdown Region
The third distinct region of diode operation is the breakdown region, which is easy to identify on the diode i–
v characteristic in Fig. 4.8. The diode enters the breakdown region when the magnitude of the reverse
∨Show Answer

voltage exceeds a threshold value that is specific to the particular diode, called the breakdown voltage and
denoted VBR.
As we can see from Fig. 4.8, in the breakdown region the reverse current increases rapidly, and the
increase in voltage drop is very small. Diode breakdown is normally not destructive, provided the power
dissipated in the diode is limited by external circuitry to a “safe” level. This safe value is normally specified
on the device data sheets. It therefore is necessary to limit the reverse current in the breakdown region to a
value consistent with the permissible power dissipation. Some useful applications of reverse breakdown
include voltage regulation (Section 4.5) and light detection (Section 4.7.4).

(4.6)
(4.7)
4.3 Modeling the Diode
Having studied the diode terminal characteristics, we can begin analyzing circuits using forward-conducting
diodes, such as the one in Fig. 4.10. It consists of a dc source VDD, a resistor R, and a diode. To determine
the diode voltage VD and current ID, there are a variety of diode models that could help with our analysis. So
far, we know two: the ideal-diode model and the exponential model. We’ll assess the suitability of these two
models in various analysis situations. We will also develop and comment on other models. This material,
besides being useful in the analysis and design of diode circuits, establishes a foundation for modeling
transistor operation, which we will study in the next three chapters.
4.3.1 The Exponential Model
The exponential model provides the most accurate description of diode operation outside of the breakdown
region. Unfortunately, its severely nonlinear nature makes it the most difficult to use. To illustrate, let’s
analyze the circuit in Fig. 4.10 using the exponential diode model.
Assuming that VDD is greater than 0.5 V or so, the diode current will be much greater than IS, and we can
represent the diode i–v characteristic by the exponential relationship, resulting in
The other equation that governs circuit operation is found by writing a Kirchhoff loop equation, giving
Assuming that the diode parameter IS is known, Eqs. (4.6) and (4.7) are two equations in the two unknown
quantities ID and VD. We can solve for these using either graphical analysis or iterative analysis.
Figure 4.10 A simple circuit used to illustrate the analysis of diode circuits.
4.3.2 Graphical Analysis Using the Exponential Model
Graphical analysis is performed by plotting the relationships of Eqs. (4.6) and (4.7) on the i–v plane. The
solution is the point of intersection of the two graphs. A sketch of the graphical construction is shown in Fig.
4.11. The curve represents the exponential diode equation (Eq. 4.6), and the straight line represents Eq. (4.7).
Such a straight line is known as the load line, a name that will become more meaningful in later chapters.
The load line intersects the diode curve at point Q, which represents the operating point of the circuit. Its
coordinates give the values of ID and VD.

Graphical analysis helps us visualize circuit operation. However, the effort involved in performing such
an analysis, particularly for complex circuits, is too great to be justified in practice.
Figure 4.11 Graphical analysis of the circuit in Fig. 4.10 using the exponential diode model.
4.3.3 Iterative Analysis Using the Exponential Model
Equations (4.6) and (4.7) can be solved using a simple iterative procedure illustrated in the following
example.
Example 4.4
Determine the current ID and the diode voltage VD for the circuit in Fig. 4.10 with VDD = 5 V and R = 1 kΩ.
Assume that the diode has a current of 1 mA at a voltage of 0.7 V.
4.3.4 The Need for Rapid Analysis
The iterative analysis procedure used in the example above is simple and yields accurate results after two or
three iterations. Nevertheless, there are situations in which the effort and time required are still too much. If
we’re doing a pencil-and-paper design of a relatively complex circuit, we need rapid and simple circuit
analysis. With quick analysis, we can evaluate various possibilities before deciding on a suitable circuit
design. To speed up the analysis, we have to accept less precise results. This is seldom a problem, because
we can do the more accurate analysis once we have a final or almost-final design with the aid of a computer
circuit-analysis program such as SPICE (see Appendix B and the website). We can then use the results of
such an analysis to further refine or “fine-tune” the design.
∨Show Solution

To speed up the analysis, we must find a simpler model for the diode forward characteristic.
4.3.5 The Constant-Voltage-Drop Model
The simplest and most widely used diode model is the constant-voltage-drop model. This model is based on
the observation that a forward-conducting diode has a voltage drop that varies in a relatively narrow range,
say, 0.6 to 0.8 V. It assumes this voltage to be constant at 0.7 V.3 With a forward voltage below 0.7 V, it
assumes zero diode current. The resulting piecewise-linear model is illustrated in Fig. 4.12(a), (b), (c), and
(d).
Figure 4.12 (a) Development of the diode constant-voltage-drop model: the exponential characteristic.
Figure 4.12 (b) Development of the diode constant-voltage-drop model: approximating the exponential characteristic by
a piecewise-linear one.
Figure 4.12 (c) Development of the diode constant-voltage-drop model: the resulting model of the diode with reverse
bias or vD < 0.7 V.

Figure 4.12 (d) Development of the diode constant-voltage-drop model: model of the forward-conducting diode.
The constant-voltage-drop model is the one we use most often in the initial phases of analysis and
design. This is especially true if at these stages we do not have detailed information about the diode
characteristics, which is often the case.
Finally, note that if we use the constant-voltage-drop model to solve the problem in Example 4.4, we get
and
which are not very different from the values we got with the more elaborate exponential model.
Video Example VE 4.3 Analysis Using the Constant-Voltage-Drop Diode Model
For the circuits in Fig. VE4.1(a) and (b), using the constant-voltage-drop (VD = 0.7 V) diode model, find the
values of the labeled currents and voltages.
 Solution: Watch the authors solve this problem.


D4.13
4.14
Design the circuit in Fig. E4.13 to provide an output voltage of 2.4 V. Assume that the diodes available
have 0.7-V drop at 1 mA.
Figure E4.13
Repeat Exercise 4.4 using the 0.7-V-drop model to obtain better estimates of I and V than those found
in Exercise 4.4 (using the ideal-diode model).
4.3.7 Operation in the Reverse Breakdown Region
The very steep i–v curve that the diode exhibits in the breakdown region (Fig. 4.8) and the almost-constant
voltage drop that this indicates suggest that we can use diodes operating in the breakdown region for
amplification and in the design of circuits whose purpose is to maintain nearly constant dc voltages, called
voltage regulators (studied in Section 4.5). The two reverse breakdown mechanisms were introduced in
Chapter 3: avalanche and zener. The diode’s construction will determine which of these two mechanisms is
predominant.
Avalanche Breakdown Avalanche is typically observed with VBR 
 10 V. It is the more common form of
reverse breakdown for diodes required to withstand a high reverse voltage without appreciable current. Once
operating in avalanche breakdown, the combination of large reverse current at high VBR results in very high
power dissipation. Unless we limit the reverse current, overheating can result in permanent damage to the
diode. Thus, in most applications we avoid avalanche breakdown by respecting the maximum reverse
voltage4 specified by the diode manufacturer.
In some applications, however, we can take advantage of avalanche operation to translate very small
stimuli into large currents. For example, avalanche photodiodes (APDs) are designed to operate in
breakdown so that even very low levels of light initiate detectable reverse current. In some APDs the
∨Show Answer
∨Show Answer

•
absorption of a single photon sets off a spike of current. These can be used to detect the precise arrival time
of weak light pulses.
Zener Breakdown and the Zener Diode Manufactured specifically to operate under zener breakdown,
zener diodes maintain a nearly constant reverse voltage drop, VZ, over a wide range of reverse currents.
Figure 4.13(a) shows the circuit symbol of the zener diode indicating the polarity of VZ and current flow in
normal applications. Figure 4.13(b) shows details of the diode i–v characteristic. The manufacturer will often
specify several key parameters as indicated in Figure 4.13(b):
Figure 4.13 (a) Circuit symbol for the zener diode.
Figure 4.13 (b) The diode i–v characteristic with the breakdown region shown in some detail.
Figure 4.13 (c) Model for the zenor diode.
The reverse voltage VZT at a test current IZT corresponding to the operating point Q. Typical values for
VZT are below 10 V, although higher voltages are possible.

•
•
•
(4.8)
4.15
4.16
The “knee” current IZK, corresponding to the reverse current at the onset of zener operation.
The maximum power the device can safely dissipate. For example, a 0.5-W, 6.8-V zener diode can
operate safely at currents up to a maximum of about 70 mA.
The temperature coefficient (TC) of the zener voltage VZ, commonly known as its temco and
expressed in mV/°C.
The incremental resistance of the zener, rz, will often also be specified. It relates changes in current, ∆I,
to the resulting change in reverse voltage, ∆V = rz∆I. Note that rz is inversely related to the slope of the i–v
curve at Q in Fig. 4.13(b). Lower values of rz indicate a steeper i–v curve and, hence, a more constant
reverse voltage. The almost-linear i–v characteristic of the zener diode suggests it can be modeled as in Fig.
4.13(c). Here, VZ0 denotes the point at which the straight line of slope 1/rz intersects the voltage axis in Fig.
4.13(b). The equivalent circuit model is another example of piecewise-linear modeling, and is analytically
described by
It is applicable in the vicinity of Q.
EXERCISES
The diode in Fig. 4.10 has a peak inverse voltage of 30 V. What is the minimum voltage VDD that will
ensure safe operation?
A 200-mW 3.5-V zener diode is specified at a test current of 10 mA. Its incremental resistance is 10 Ω.
What voltage will result when conducting a reverse current of 20 mA? What is the maximum current it
can safely dissipate?
∨Show Answer
∨Show Answer

(4.9)
(4.10)
4.4 The Small-Signal Model
We have so far considered the analysis of diode circuits using the nonlinear (exponential) model, and several
piecewise-linear models including the constant-voltage-drop model, the ideal model, and the model for zener
diodes in reverse breakdown. Linearized models may be solved directly and quickly, by hand or by a
computer, but have so far provided only approximate results. In this section, we consider an alternative
technique for modeling nonlinear devices that preserves the benefits of linear circuit analysis but provides
more accuracy than piecewise-linear models as long as the circuit voltages and currents stay within a narrow
range. These same methods will be applied to transistors in later chapters to enable rapid and intuitive
analysis of amplifiers and other complex circuits.
Consider the situation in Fig. 4.14(a), where a dc voltage VDD establishes a dc current ID through the
series combination of a resistance R and a diode D. The resulting diode voltage is denoted VD. As mentioned
above, we can find the values of ID and VD by solving the circuit using the diode exponential characteristic
or, much more quickly, we can find approximate values using the diode constant-voltage-drop model.
Next, consider the situation of VDD undergoing a small change ∆VDD, as shown in Fig. 4.14(b). As
indicated, the current ID changes by an increment ∆ID, and the diode voltage VD changes by an increment
∆VD. We want to find a quick way to determine the values of these incremental changes. Toward that end,
we develop a “small-signal” model for the diode. Here the word signal emphasizes that in general, ∆VDD can
be a time-varying quantity. The qualifier “small” indicates that this diode model applies only when ∆VD is
kept sufficiently small, with “sufficiently” to be quantified shortly.
Figure 4.14 (a) A simple diode circuit; (b) the situation when VDD changes by ∆VDD.
To develop the diode small-signal model, refer to Fig. 4.15. We express the voltage across the diode as
the sum of the dc voltage VD and the time-varying signal vd(t),5
Correspondingly, the total instantaneous diode current iD(t) will be

(4.11)
(4.12)
(4.13)
(4.14)
(4.15)
Substituting for vD from Eq. (4.9) gives
In the absence of the signal vd(t), the diode voltage is equal to VD, and the diode current is
Thus, iD(t) in Eq. (4.11) can be expressed as
Now if the amplitude of the signal vd(t) is kept sufficiently small such that
then we may expand the exponential of Eq. (4.13) in a series and truncate the series after the first two terms
to obtain the approximate expression
This is the small-signal approximation. It is valid when the variations in diode voltage, vd, are kept smaller
than about 5 mV (see Eq. 4.14, and recall that VT = 25 mV).6 Signal amplitudes elsewhere in the circuit may
be much larger, so long as Eq. (4.14) is satisfied.

(4.16)
Figure 4.15 Development of the diode small-signal model.
Thus, superimposed on the dc current ID, we have a signal current component directly proportional to the
signal voltage vd. That is,
where, adopting the approximation in Eq. (4.15), we have

(4.17)
(4.18)
(4.19)
1.
2.
3.
The quantity relating the signal current id to the signal voltage vd is the diode small-signal resistance,
Note that the value of rd is expressed in ohms and is inversely proportional to the bias current ID.
We gain additional insight into the small-signal approximation and the small-signal diode model by
considering again the graphical construction in Fig. 4.15. Here we see the diode operating at a dc bias point
Q characterized by the dc voltage VD and the corresponding dc current ID. Superimposed on VD we have a
signal vd(t), assumed (arbitrarily) to have a triangular waveform.
It is easy to see that using the small-signal approximation is equivalent to assuming that the signal
amplitude is sufficiently small such that the excursion along the i–v curve is limited to a short almost-linear
segment. The slope of this segment is equal to the slope of the tangent to the i–v curve at the operating point
Q. You are encouraged to prove that the slope of the i–v curve at i = ID is equal to ID/VT, which is 1/rd, the
small-signal conductance. That is,
From the preceding we conclude that superimposed on the quantities VD and ID that define the dc bias
point, or quiescent point, of the diode will be the small-signal quantities vd(t) and id(t), which are related by
the diode small-signal resistance rd evaluated at the bias point (Eq. 4.18). Thus the small-signal analysis can
be performed separately from the dc bias analysis, a great convenience that results from the linearization of
the diode characteristics inherent in the small-signal approximation.
Specifically, we summarize the procedure as follows:
Perform dc analysis precisely using the exponential model, or approximately using the constant-
voltage-drop model, or other piecewise-linear model. Thus, for the circuit in Fig. 4.14(b), we analyze
the circuit in Fig. 4.14(a) to find ID.
Linearize the circuit. For a forward-biased diode, we find rd by substituting the current ID into Eq.
(4.18). We find the small-signal equivalent circuit by eliminating all independent dc sources (whose
contribution to the final solution we already included in step 1) and replacing the diode with its small-
signal resistance, rd. For the circuit in Fig. 4.14(b), this results in the small-signal equivalent circuit in
Fig. 4.16.
Solve the linearized circuit. For example, we find the incremental quantities ∆ID and ∆VD using the
small-signal equivalent circuit in Fig. 4.16. We may want to check that the solution is consistent with
our small-signal approximation. That is, ∆VD 
 5 mV.

If necessary, we combine the results of the dc and small-signal analyses to find the complete solution. This is
shown in Fig. 4.14(b), where the current is ID + ∆ID.
Figure 4.16 Circuit for determining the incremental quantities ∆ID and ∆VD for the circuit in Figure 4.14(b). Note that
replacing the diode with its small-signal resistance rd results in a linear circuit.
We should not misinterpret the small-signal equivalent circuit. There is no actual diode resistance
corresponding to rd. It is merely a schematic representation of the linear relationship between the small-
signal variables vd and id. Nevertheless, small-signal equivalent circuits are essential to circuit analysis,
providing intuition and fast, accurate solutions. We use these same steps, with different small-signal models,
to analyze transistor circuits in Chapter 7.
Example 4.5
Consider the circuit shown in Fig. 4.17(a) for the case in which R = 10 kΩ. The power supply V+ has a dc value
of 10 V on which is superimposed a 60-Hz sinusoid of 1-V peak amplitude. (This “signal” component of the
power-supply voltage is an imperfection in the power-supply design. It is known as the power-supply ripple.
More on this later.) Calculate both the dc voltage of the diode and the amplitude of the sine-wave signal
appearing across it. Assume the diode to have a 0.7-V drop at 1-mA current.
Figure 4.17 (a) Circuit for Example 4.5.

Figure 4.17 (b) Circuit for calculating the dc operating point.
Figure 4.17 (c) Small-signal equivalent circuit.
Finally, we note that while rd models the small-signal operation of the diode at low frequencies, its
dynamic operation is modeled by the capacitances Cj and Cd, which we studied in Section 3.6 and which
also are small-signal parameters. A complete model of the diode includes Cj and Cd in parallel with rd.
The diode models presented so far are summarized in Table 4.1.
Table 4.1 Diode models
∨Show Solution


4.17
4.18
4.5 Voltage Regulation
A voltage regulator is a circuit designed to provide a constant dc voltage between its output terminals. The
output voltage must remain as constant as possible in spite of (a) changes in the load current drawn from the
regulator output terminal and (b) changes in the dc power-supply voltage that feeds the regulator circuit.
Since the forward-voltage drop of the diode remains almost constant at approximately 0.7 V while the
current through it varies by relatively large amounts, a forward-biased diode can make a simple voltage
regulator. For instance, we saw in Example 4.5 that while the 10-V dc supply voltage had a ripple of 2 V
peak-to-peak (a ±10% variation), the corresponding ripple in the diode voltage was only about ±2.7 mV (a
±0.4% variation). We can obtain regulated voltages greater than 0.7 V by connecting a number of diodes in
series. For example, three forward-biased diodes in series provide a voltage of about 2 V. We look at one
such circuit in the following example, which utilizes the diode small-signal model to quantify the efficacy of
the voltage regulator that is realized.
Example 4.6
Consider the circuit in Fig. 4.18. A string of three diodes is used to provide a constant voltage of about 2.1 V. We
want to calculate the percentage change in this regulated voltage caused by (a) a ±10% change in the power-
supply voltage, and (b) connection of a 1- kΩ load resistance.
Figure 4.18 Circuit for Example 4.6.
EXERCISES
Find the value of the diode small-signal resistance rd at bias currents of 0.1 mA, 1 mA, and 10 mA.
Consider a diode biased at 1 mA. Find the change in current as a result of changing the voltage by (a) –
10 mV, (b) –5 mV, (c) +5 mV, and (d) +10 mV. In each case, do the calculations (i) using the small-
∨Show Solution
∨Show Answer

D4.19
(a)
(b)
(c)
(a)
signal model and (ii) using the exponential model.
Design the circuit of Fig. E4.19 so that VO = 3V when IL = 0, and VO changes by 20 mV per 1 mA of
load current.
Use the small-signal model of the diode to find the value of R.
Specify the value of IS of each of the diodes.
For this design, use the diode exponential model to determine the actual change in VO when a
current IL = 1 mA is drawn from the regulator.
Figure E4.19
Figure 4.18 is an example of a shunt regulator, so named because the regulator circuit appears in parallel
(shunt) with the load.
We now illustrate, by way of an example, the use of zener diodes in the design of shunt regulators.
Example 4.7
The 6.8-V zener diode in the circuit of Fig. 4.19(a) is specified to have VZ = 6.8 V at IZ = 5 mA, rz = 20 Ω, and
IZK = 0.2 mA. The supply voltage V+ is nominally 10 V but can vary by ±1 V.
Find VO with no load and with V+ at its nominal value.
∨Show Answer
∨Show Answer

(b)
(c)
(d)
(e)
(f)
4.20
Find the change in VO resulting from the ±1-V change in V+. Note that (∆VO/∆V+), usually expressed in
mV/V, is known as line regulation.
Find the change in VO resulting from connecting a load resistance RL that draws a current IL = 1 mA, and
hence find the load regulation (∆VO/∆IL) in mV/mA.
Find the change in VO when RL = 2 kΩ.
Find the value of VO when RL = 0.5 kΩ.
What is the minimum value of RL for which the diode still operates in the breakdown region?
Figure 4.19 (a) Circuit for Example 4.7. (b) The circuit with the zener diode replaced with its equivalent circuit
model.
Though simple and useful, shunt regulators based on diodes are inherently inefficient. Connecting the
diode in parallel with the load means diode current is drawn in addition to load current, thereby dissipating
extra power. Moreover, we can only produce the output voltages inherent to the diodes we select. Such
circuits have been largely replaced by specially designed integrated circuits that perform voltage regulation
more efficiently and with greater flexibility.
EXERCISE
A zener diode whose nominal voltage is 6 V at 5 mA has an incremental resistance of 80 Ω. What
voltage do you expect if the diode current is halved? Doubled? What is the value of VZ0 in the zener
model?
∨Show Solution
∨Show Answer


4.6 Rectifier Circuits
An important application of diodes is in the design of rectifier circuits. A diode rectifier forms an essential
building block of the dc power supplies required to power electronic equipment. Figure 4.20 shows a block
diagram of such a power supply. As indicated, the power supply is fed from the 120-V (rms)7 60-Hz ac line,
and it delivers a dc voltage VO (usually in the range of 3 V to 20 V) to an electronic circuit represented by
the load block. The dc voltage VO is required to be as constant as possible in spite of variations in the ac line
voltage and in the current drawn by the load.
The first block in a dc power supply is the power transformer. It consists of two separate coils wound
around an iron core that magnetically couples the two windings. The primary winding, having N1 turns, is
connected to the 120-V ac supply, and the secondary winding, having N2 turns, is connected to the circuit of
the dc power supply. Thus an ac voltage vS of 120(N2/N1) V (rms) develops between the two terminals of the
secondary winding. By selecting an appropriate turns ratio (N1/N2) for the transformer, the designer can step
the line voltage down to the value required to yield the particular dc voltage output of the supply. For
instance, a secondary voltage of 8-V rms may be appropriate for a dc output of 5 V. We can achieve this with
a 15:1 turns ratio.
In addition to providing the appropriate sinusoidal amplitude for the dc power supply, the power
transformer provides electrical isolation between the electronic equipment and the power-line circuit. This
isolation minimizes the risk of electric shock to the equipment user.
The diode rectifier converts the input sinusoid vS to a unipolar output, which can have the pulsating
waveform indicated in Fig. 4.20. Although this waveform has a nonzero average or a dc component, its
pulsating nature makes it unsuitable as a dc source for electronic circuits, hence the need for a filter. The
variations in the magnitude of the rectifier output are considerably reduced by the filter block in Fig. 4.20. In
this section we’ll look at a number of rectifier circuits and a simple implementation of the output filter.
The output of the rectifier filter, though much more constant than without the filter, still contains a time-
dependent component, known as ripple. To reduce the ripple and to stabilize the magnitude of the dc output
voltage against variations caused by changes in load current, we use a voltage regulator. It can be a shunt
regulator like those studied in Section 4.5. Alternatively, and much more commonly these days, we use an
integrated-circuit regulator.
Figure 4.20 Block diagram of a dc power supply.

(4.20a)
(4.20b)
(4.21)
4.6.1 The Half-Wave Rectifier
The half-wave rectifier uses alternate half-cycles of the input sinusoid. Figure 4.21(a) shows the circuit of a
half-wave rectifier. We analyzed this circuit in Section 4.1 (see Fig. 4.3) assuming an ideal diode. Using the
more realistic constant-voltage-drop diode model,
We have sketched the transfer characteristic represented by these equations in Fig. 4.21(b). We continue to
assume a forward voltage VD = 0.7 V, although rectifier diodes conducting large forward current may have
VD = 0.8 V to 1.0 V. Figure 4.21(c) shows the output voltage obtained when the input vS is a sinusoid.
In selecting diodes for rectifier design, we specify two important parameters: the current-handling
capability required of the diode, determined by the largest forward current the diode is expected to conduct,
and the peak inverse voltage (PIV) that the diode must be able to withstand without breakdown, determined
by the largest reverse voltage that is expected to appear across the diode. In the rectifier circuit of Fig.
4.21(a), we observe that when vS is negative, the diode will be cut off and vO will be zero. It follows that the
PIV is equal to the peak of vS,
It is usually a good idea, however, to select a diode that has a reverse breakdown voltage at least 50% greater
than the expected PIV.
Before leaving the half-wave rectifier, note two points. First, it is possible to use the diode exponential
characteristic to determine the exact transfer characteristic of the rectifier (see Problem 4.66). However, the
amount of work involved is usually too great to be justified in practice. Of course, we can easily do the
analysis using a computer circuit-analysis program such as SPICE.
Second, whether we analyze the circuit accurately or not, it should be obvious that this circuit does not
function properly when the input signal is small. For instance, this circuit cannot be used to rectify an input
sinusoid of 100-mV amplitude. For such an application we resort to a so-called precision rectifier, which
uses diodes in conjunction with op amps. One such circuit is presented in Section 4.6.5.
Figure 4.21 (a) Half-wave rectifier.

4.21
Figure 4.21 (b) Transfer characteristic of the rectifier circuit.
Figure 4.21 (c) Input and output waveforms.
EXERCISE
For the half-wave rectifier circuit in Fig. 4.21(a), show the following: (a) For the half-cycles during
which the diode conducts, conduction begins at an angle θ = sin−1 (VD/Vs) and terminates at (π – θ), for
a total conduction angle of (π – 2θ). (b) The average value (dc component) of vO is VO 
 (1/π)Vs −
VD/2. (c) The peak diode current is (Vs − VD)/R.
Find numerical values for these quantities for the case of 12-V (rms) sinusoidal input, VD 
 0.7 V, and
R = 100 Ω. Also, give the value for PIV.
4.6.2 The Full-Wave Rectifier
The full-wave rectifier uses both halves of the input sinusoid. To provide a unipolar output, it inverts the
negative halves of the sine wave. One possible implementation is shown in Fig. 4.22(a). Here the
transformer secondary winding is center-tapped to provide two equal voltages vS across the two halves of
∨Show Answer

the secondary winding with the polarities indicated. Note that when the input line voltage (feeding the
primary) is positive, both of the signals labeled vS will be positive. In this case D1 will conduct and D2 will
be reverse biased. The current through D1 will flow through R and back to the center tap of the secondary.
The circuit then behaves like a half-wave rectifier, and the output during the positive half-cycles when D1
conducts will be identical to that produced by the half-wave rectifier.
Now, during the negative half-cycle of the ac line voltage, both of the voltages labeled vS will be
negative. Thus D1 will be cut off while D2 will conduct. The current conducted by D2 will flow through R
and back to the center tap. It follows that during the negative half-cycles while D2 conducts, the circuit
behaves again as a half-wave rectifier. The important point, however, is that the current through R always
flows in the same direction, and thus vO will be unipolar, as indicated in Fig. 4.22(c). We obtain the output
waveform again using the diode model with constant forward voltage drop, VD. The resulting transfer
characteristic is shown in Fig. 4.22(b).
Figure 4.22 (a) Full-wave rectifier using a transformer with a center-tapped secondary winding: circuit.
Figure 4.22 (b) Full-wave rectifier using a transformer with a center-tapped secondary winding: transfer characteristic
assuming a constant-voltage-drop model for the diodes.

Figure 4.22 (c) Full-wave rectifier using a transformer with a center-tapped secondary winding: input and output
waveforms.
The full-wave rectifier obviously produces a more “energetic” waveform than the half-wave rectifier. In
almost all rectifier applications, we opt for a full-wave type of some kind.
To find the PIV of the diodes in the full-wave rectifier circuit, consider the situation during the positive
half-cycles. Diode D1 is conducting, and D2 is cut off. The voltage at the cathode of D2 is vO, and that at its
anode is –vS. Thus the reverse voltage across D2 will be (vO + vS), which will reach its maximum when vO is
at its peak value of (Vs – VD), and vS is at its peak value of Vs; thus,
which is approximately twice that for the case of the half-wave rectifier.
Video Example VE 4.4 Analysis of a Full-Wave Rectifier
The full-wave rectifier circuit in Fig. 4.22(a) with a 1- kΩ load operates from a 120-V (rms) 60-Hz household
supply through a 6-to-1 transformer. It uses two silicon diodes that can be modeled to have a 0.7-V drop for all
currents. What is the peak voltage of the rectified output? For what fraction of a cycle does each diode conduct?
What is the average output voltage? What is the average current in the load?
 Solution: Watch the authors solve this problem.


conduction path, and so vO will be lower than vS by two diode drops (compared to one drop in the circuit
previously discussed). This is somewhat of a disadvantage of the bridge rectifier.
Next, consider the situation during the negative half-cycles of the input voltage, shown in Fig. 4.23(c).
The secondary voltage vS will be negative, so −vS will be positive, forcing current through D3, R, and D4.
Meanwhile, diodes D1 and D2 will be reverse biased. The important point to note, though, is that during both
half-cycles, current flows through R in the same direction (from right to left), and thus vO will always be
positive, as indicated in Fig. 4.23(d).
Figure 4.23 (a) The bridge rectifier: circuit.
Figure 4.23 (b) The bridge rectifier: the equivalent circuit during positive half-cycles.
Figure 4.23 (c) The bridge rectifier: the equivalent circuit during negative half-cycles.

4.23
Figure 4.23 (d) The bridge rectifier: input and output waveforms.
To determine the peak inverse voltage (PIV) of each diode, consider the circuit during the positive half-
cycles. The reverse voltage across D3 can be found from the loop formed by D3, R, and D2 as
Thus the maximum value of vD3 occurs at the peak of vO and is given by
Notice that here the PIV is about half the value for the full-wave rectifier with a center-tapped transformer.
This is another advantage of the bridge rectifier.
Yet one more advantage of the bridge-rectifier circuit over one using a center-tapped transformer is that
the secondary winding only needs about half as many turns. Another way of looking at this is to notice that
each half of the secondary winding of the center-tapped transformer is used for only half the time. These
advantages have made the bridge rectifier the most popular rectifier circuit configuration.
EXERCISE
For the bridge-rectifier circuit of Fig. 4.23(a), use the constant-voltage-drop diode model to show that
(a) the average (or dc component) of the output voltage is VO 
 (2/π)Vs − 2VD and (b) the peak diode
current is (Vs − 2VD)/R. Find numerical values for the quantities in (a) and (b) and the PIV for the case
in which vS is a 12-V (rms) sinusoid, VD 
 0.7 V, and R = 100 Ω.
4.6.4 The Rectifier with a Filter Capacitor—The Peak Rectifier
∨Show Answer

The pulsating nature of the output voltage produced by the rectifier circuits discussed above makes it
unsuitable as a dc supply for electronic circuits. A simple way to reduce the variation of the output voltage is
to place a capacitor across the load resistor. It will be shown that this filter capacitor substantially reduces
the variations in the rectifier output voltage.
To see how the rectifier circuit with a filter capacitor works, consider first the simple circuit shown in
Fig. 4.24(a) and (b). Let the input vI be a sinusoid with a peak value Vp, and assume the diode to be ideal. As
vI goes positive, the diode conducts and the capacitor is charged so that vO = vI. This situation continues until
vI reaches its peak value Vp. Beyond the peak, as vI decreases, the diode becomes reverse biased and the
output voltage remains constant at the value Vp. In fact, theoretically speaking, the capacitor will retain its
charge and hence its voltage indefinitely, because there is no way for the capacitor to discharge. So the
circuit provides a dc voltage output equal to the peak of the input sine wave. This is a very encouraging
result since we want to produce a dc output.
Next, consider the more practical situation where a load resistance R is connected across the capacitor C,
as shown in Fig. 4.25(a). We will continue to assume the diode to be ideal. As before, for a sinusoidal input,
the capacitor charges to the peak of the input Vp. Then the diode cuts off, and the capacitor discharges
through the load resistance R. The capacitor discharge will continue for almost the entire cycle, until the time
at which vI exceeds the capacitor voltage. Then the diode turns on again and charges the capacitor up to the
peak of vI, and the process repeats itself. Notice that to keep the output voltage from decreasing too much
during capacitor discharge, we select a value for C so that the time constant CR is much greater than the
discharge interval.
Figure 4.24 (a) A simple circuit used to illustrate the effect of a filter capacitor.

(4.22)
(4.23)
1.
2.
2.
4.
Figure 4.24 (b) Input and output waveforms assuming an ideal diode. Note that the circuit provides a dc voltage equal to
the peak of the input sine wave. The circuit is therefore known as a peak rectifier or a peak detector.
We are now ready to analyze the circuit in detail. Figure 4.25(b) shows the steady-state input and output
voltage waveforms under the assumption that CR ≫ T, where T is the period of the input sinusoid. The
waveforms of the load current
and of the diode current (when it is conducting)
are shown in Fig. 4.25(c). The following observations are in order:
The diode conducts for a brief interval, ∆t, near the peak of the input sinusoid and supplies the
capacitor with charge equal to that lost during the much longer discharge interval. The latter is
approximately equal to the period T.
Assuming an ideal diode, the diode conduction begins at time t1, at which the input vI equals the
exponentially decaying output vO. Conduction stops at t2 shortly after the peak of vI; we can determine
the exact value of t2 by setting iD = 0 in Eq. (4.23).
During the diode-off interval, the capacitor C discharges through R, and so vO decays exponentially
with a time constant CR. The discharge interval begins just past the peak of vI. At the end of the
discharge interval, which lasts for almost the entire period T, vO = Vp – Vr, where Vr is the peak-to-
peak ripple voltage. When CR ≫ T, the value of Vr is small.
When Vr is small, vO is almost constant and equal to the peak value of vI. Thus the dc output voltage is
approximately equal to Vp. Similarly, the current iL is almost constant, and its dc component IL is
given by

(4.24)
Figure 4.25 Voltage and current waveforms in the peak-rectifier circuit with CR ≫ T. The diode is assumed ideal.

(4.25)
(4.26)
(4.27a)
(4.27b)
If needed, we can derive a more accurate expression for the output dc voltage by taking the average of the
extreme values of vO,
This allows us to derive expressions for Vr and for the average and peak values of the diode current.
During the diode-off interval, vO can be expressed as
At the end of the discharge interval we have
Now, since CR ≫ T, we can use the approximation 
 to get
To keep Vr small we must select a capacitance C so that 
. The ripple voltage Vr in Eq. (4.26) can
be expressed in terms of the frequency f = 1/T as
Using Eq. (4.24) we can express Vr by the alternate expression
Note that an alternative interpretation of the approximation made in Eq. (4.27b) is that the capacitor
discharges by means of a constant current IL = Vp/R. This approximation is valid as long as 
.
Assuming that diode conduction ceases almost at the peak of vI, we can determine the conduction
interval ∆t from
where ω = 2πf = 2π/T is the angular frequency of vI. Since (ωΔt) is a small angle, we can use the
approximation 
 to obtain

(4.28)
(4.29)
(4.30)
(4.31)
(4.32)
We note that when Vr ≪ Vp, the conduction angle ωΔt will be small, as we assumed.
Another useful interpretation is that the charge supplied by the diode to the capacitor during the
conduction interval must equal the charge that the capacitor loses during the discharge interval. The average
capacitor, diode, and load currents during conduction are related by Eq. (4.23), iCav = iDav − IL. Hence, the
supplied charge is
and the lost charge is
These charges are given by the shaded areas of (iD − iL) on Fig. 4.25(c), which must be equal. Equating Eqs.
(4.29) and (4.30), the average diode current during conduction is
To select an appropriate diode, we must find the peak value of the diode current. We do this by
evaluating Eq. (4.23) at the onset of conduction (t = −∆t where t = 0 is at the peak) and using Eq. (4.24):
From Eqs. (4.31) and (4.32), we see that for 
, which correlates with the fact that
the waveform of iD is almost a right-angle triangle (see Fig. 4.25c).
Example 4.8
Consider a peak rectifier fed by a 60-Hz sinusoid with a peak value Vp = 100 V. Let the load resistance R = 10
kΩ. Find the value of the capacitance C that will result in a peak-to-peak ripple of 2 V. Also, calculate the
fraction of the cycle during which the diode is conducting and the average and peak values of the diode current.
The circuit of Fig. 4.25(a) is known as a half-wave peak rectifier. The full-wave rectifier circuits of
Figs. 4.22(a) and 4.23(a) can be converted to peak rectifiers by including a capacitor across the load resistor.
As in the half-wave case, the output dc voltage will be almost equal to the peak value of the input sine wave
∨Show Solution

(4.33)
(4.34)
(4.35)
(Fig. 4.26). The ripple frequency, however, will be twice that of the input. We can find the peak-to-peak
ripple voltage for this case using a procedure identical to that above but with the discharge period T replaced
by T/2, resulting in
While the diode conduction interval, ∆t, will still be given by Eq. (4.28), the average and peak currents in
each of the diodes will be given by
Comparing these expressions with the corresponding ones for the half-wave case, we note that for the same
values of Vp, f, R, and Vr (and thus the same IL), we need a capacitor half the size of that required in the half-
wave rectifier. Also, the current in each diode in the full-wave rectifier is approximately half the current
flowing in the diode of the half-wave circuit.
Figure 4.26 Waveforms in the full-wave peak rectifier.
The analysis above assumed ideal diodes. We can improve the accuracy of the results by taking the diode
voltage drop into account. We can easily do this by replacing the peak voltage Vp to which the capacitor
charges with (Vp – VD) for the half-wave circuit and the full-wave circuit using a center-tapped transformer
and with (Vp – 2VD) for the bridge-rectifier case.
We conclude this section by noting that peak-rectifier circuits find application in signal-processing
systems where it is required to detect the peak of an input signal. In such a case, the circuit is referred to as a
peak detector. A particularly popular application of the peak detector is in the design of a demodulator for
amplitude-modulated (AM) signals. AM signals are useful when a low-bandwidth signal is to be
communicated using a high-frequency portion of spectrum. For example, AM radios receive audio signals
(where bandwidth is limited to less than 10 kHz) that are communicated using spectrum around 1MHz.

4.24
4.25
AM signals are sinusoids with a time-varying amplitude, Vp(t), that bears the information being
communicated (e.g., the audio signal in an AM radio).
Typically, the variations in Vp(t) occur much more slowly than the underlying sinusoid (called a carrier) at
ω0, so that Vp(t) is visible by looking at the “envelope” of the waveform, as illustrated in Fig. 4.27. The
output of a peak detector will approximately follow this envelope, and is thus useful as an AM demodulator.
To avoid excessive drop of the output between successive peaks, we must ensure 1/CR < ω0. On the other
hand, if CR is too large, the peak detector output will not be able to follow declines in Vp(t), so 1/CR must be
larger than the highest frequency components of Vp(t).
Figure 4.27 The amplitude modulated (AM) signal vAM is a sinusoid at a frequency ωo, called the carrier frequency, and
has an amplitude modulated by the information-bearing signal Vp.
EXERCISES
Derive the expressions in Eqs. (4.33), (4.34), and (4.35).
Consider a bridge-rectifier circuit with a filter capacitor C placed across the load resistor R for the case
in which the transformer secondary delivers a sinusoid of 12 V (rms) having a 60-Hz frequency and
assuming VD = 0.8 V and a load resistance R = 100 Ω. Find the value of C that results in a ripple
voltage no larger than 1 V peak-to-peak. What is the dc voltage at the output? Find the load current.
Find the diodes’ conduction angle. Provide the average and peak diode currents. What is the peak
reverse voltage across each diode? Specify the diode in terms of its peak current and its PIV.
∨Show Answer

4.6.5 Precision Half-Wave Rectifier—The Superdiode8
The rectifier circuits we have studied so far suffer from having one or two diode drops in the signal paths.
Thus these circuits work well only when the signal to be rectified is much larger than the voltage drop of a
conducting diode (0.7 V or so). In such a case, the details of the diode forward characteristics or the exact
value of the diode voltage do not play a prominent role in determining circuit performance. This is indeed
the case in the application of rectifier circuits in power-supply design. There are other applications, however,
where the signal to be rectified is small (e.g., on the order of 100 mV or so) and thus clearly insufficient to
turn on a diode. Also, in instrumentation applications, we often need rectifier circuits with very precise and
predictable transfer characteristics. For these applications, a class of circuits has been developed using op
amps (Chapter 2) together with diodes to provide precision rectification. In the following discussion, we
study one such circuit. A comprehensive study of op amp–diode circuits is available on the website.
Figure 4.28(a) shows a precision half-wave rectifier circuit consisting of a diode placed in the negative-
feedback path of an op amp, with R being the rectifier load resistance. The op amp, of course, needs power
supplies, but for simplicity, these are not shown in the circuit diagram. The circuit works like this: If vI goes
positive, the output voltage vA of the op amp will go positive and the diode will conduct, thus establishing a
closed feedback path between the op amp’s output terminal and the negative input terminal. This negative-
feedback path will cause a virtual short circuit to appear between the two input terminals of the op amp.
Thus the voltage at the negative input terminal, which is also the output voltage vO, will equal (to within a
few millivolts) that at the positive input terminal, which is the input voltage vI,
Note that the offset voltage 
 exhibited in the simple half-wave rectifier circuit of Fig. 4.21 is no
longer present. For the op-amp circuit to start operating, vI has to exceed only a negligibly small voltage
equal to the diode drop divided by the op amp’s open-loop gain. In other words, the straight-line transfer
characteristic vO–vI almost passes through the origin. This makes this circuit suitable for applications
involving very small signals.
Now let’s see what happens when vI goes negative. The op amp’s output voltage vA will tend to follow
and go negative. This will reverse-bias the diode, and no current will flow through resistance R, causing vO
to remain equal to 0 V. Thus, for vI < 0, vO = 0. Since in this case the diode is off, the op amp will be
operating in an open-loop fashion, and its output will be at its negative saturation level.
THE EARLIEST SEMICONDUCTOR DIODE
∨

4.26
4.27
Figure 4.28 (a) The “superdiode” precision half-wave rectifier and (b) its almost-ideal transfer characteristic. Note that
when vI > 0 and the diode conducts, the op amp supplies the load current, and the source is conveniently buffered, an
added advantage. Not shown are the op-amp power supplies.
The transfer characteristic of this circuit will be that shown in Fig. 4.28(b), which is almost identical to
the ideal characteristic of a half-wave rectifier. The nonideal diode characteristics have been almost
completely masked by placing the diode in the negative-feedback path of an op amp. This is another
dramatic application of negative feedback, a subject we will study formally in Chapter 11. The combination
of diode and op amp, shown in the dashed box in Fig. 4.28(a), is appropriately referred to as a “superdiode.”
EXERCISES
Consider the operational rectifier or superdiode circuit of Fig. 4.28(a), with R = 1 kΩ. For vI = 10 mV,
1 V, and –1 V, what are the voltages that result at the rectifier output and at the output of the op amp?
Assume that the op amp is ideal and that its output saturates at ±12 V. The diode has a 0.7-V drop at 1-
mA current.
If the diode in the circuit of Fig. 4.28(a) is reversed, find the transfer characteristic vO as a function of
vI.
∨Show Answer
∨Show Answer

4.7 Other Diode Applications
In this section we will consider additional nonlinear circuit applications of diodes along with special types of
diodes worth noting.
4.7.1 The Clamped Capacitor and Bootstrapping
If in the basic peak-rectifier circuit we take the output across the diode rather than across the capacitor, we
get an interesting circuit with important applications. The circuit, called a dc restorer, is shown in Fig.
4.29(a), (b) and (c) fed with a square wave. Because of the polarity in which the diode is connected, the
capacitor will charge to a voltage vC with the polarity indicated in Fig. 4.29(b) and equal to the magnitude of
the most negative peak of the input signal, neglecting the diode’s voltage drop. Subsequently, the diode turns
off and the capacitor retains its voltage indefinitely. If, for instance, the input square wave has the arbitrary
levels –6 V and +4 V, then vC will be equal to 6 V. Now, since the output voltage vO is given by
it follows that the output waveform will be identical to that of the input, except that it is shifted upward by
vC volts. In our example the output will thus be a square wave with levels of 0 V and +10 V.
Figure 4.29 The clamped capacitor or dc restorer with a square-wave input and no load.
Another way of visualizing the operation of the circuit in Fig. 4.29(b) is to note that because the diode is
connected across the output with the polarity shown, it prevents the output voltage from going below 0 V (by
conducting and charging up the capacitor, thus causing the output to rise to 0 V), but this connection will not
constrain the positive excursion of vO. The output waveform will therefore have its lowest peak clamped to 0
V, which is why the circuit is called a clamped capacitor. It should be obvious that reversing the diode
polarity will provide an output waveform whose highest peak is clamped to 0 V. In either case, the output
waveform will have a finite average value or dc component that is entirely unrelated to the average value of
the input waveform. As an application, consider a pulse signal being transmitted through a capacitively
coupled or ac-coupled system. The capacitive coupling will cause the pulse train to lose whatever dc
component it originally had. Feeding the resulting pulse waveform to a clamping circuit provides it with a
well-determined dc component, a process known as dc restoration. This is why the circuit is also called a dc
restorer.

Restoring dc is useful because the dc component or average value of a pulse waveform is an effective
measure of its duty cycle.9 The duty cycle of a pulse waveform can be modulated (in a process called
pulsewidth modulation) and made to carry information. In such a system, detection or demodulation could
be achieved simply by feeding the received pulse waveform to a dc restorer and then using a simple RC low-
pass filter to separate the average of the output waveform from the superimposed pulses.
The clamped capacitor may be modified so that the clamping voltage is VCC instead of ground. Figure
4.30 is an example of a simple bootstrapping circuit, so named because the voltage vI is “bootstrapped”
onto VCC. Bootstrapping is useful when a signal must be referenced to some potential other than ground, or
when a voltage must track time variations in the voltage on another node.
Figure 4.30 Simple bootstrapping circuit using a clamped capacitor.
4.7.2 The Voltage Doubler
Figure 4.31(a) shows a circuit made up of two sections in cascade: a clamped capacitor formed by C1 and
D1, and a peak rectifier formed by D2 and C2. When excited by a sinusoid of amplitude Vp the clamping
section provides the voltage waveform vD1 shown, assuming ideal diodes, in Fig. 4.31(b). Note that while
the positive peaks are clamped to 0 V, the negative peak reaches –2Vp. In response to this waveform, the
peak-detector section provides a dc voltage across capacitor C2 equal to the negative peak of vD1, that is,
−2Vp. Because the output voltage is double the input peak, the circuit is known as a voltage doubler. The
technique can be extended to provide output dc voltages that are higher multiples of Vp.
Figure 4.31 (a) Voltage doubler: circuit.

4.28
4.29
4.30
Figure 4.31 (b) Voltage doubler: waveforms of the input voltage, the voltage across D1, and the output voltage vo =
−2Vp.
EXERCISES
If the diode in the circuit of Fig. 4.29 is reversed, what will the dc component of vO become?
The bootstrapping circuit in Fig. 4.30 is used with VCC = 5 V and Vp = 3 V. Assuming an ideal model
for the diode, what is the voltage on the capacitor? What is the peak inverse voltage on the diode?
4.7.3 Varactors
In Chapter 3 we learned that reverse-biased pn junctions exhibit a charge-storage effect that is modeled with
the depletion-layer or junction capacitance Cj. As Eq. (3.47) indicates, Cj is a function of the reverse-bias
voltage VR. This dependence turns out to be useful in a number of applications, such as the automatic tuning
of radio receivers. Special diodes are therefore fabricated to be used as voltage-variable capacitors known as
varactors. These devices are optimized to make the capacitance a strong function of voltage by arranging
that the grading coefficient m is 3 or 4.
EXERCISE
Consider a varactor with a capacitance Cj0 = 100 fF at zero bias, V0 = 3 V, and m = 3. Using Eq. (3.47),
estimate the capacitance at 1 V and 3 V reverse bias.
∨Show Answer
∨Show Answer
∨Show Answer

(4.33)
4.7.4 Photodiodes
If a reverse-biased pn junction is illuminated, photons impacting the junction cause covalent bonds to break.
Electron-hole pairs are then generated in the depletion layer. The electric field in the depletion region sweeps
the liberated electrons to the n side and the holes to the p side, giving rise to a reverse current across the
junction. This photocurrent, iP, is proportional to the intensity of incident light. Such a diode, called a
photodiode, can be used to convert light signals into electrical signals.
The responsivity, R, of a photodiode is the reverse current produced per watt of incident light power, P.
Hence,
Higher responsivity is provided by photodiodes that are sensitive to longer wavelengths of light because each
photon carries less energy, hence there are more photons (and more charge carriers generated) per watt of
light. Responsivity is reduced if some of the photons are not absorbed (because either they are reflected or
they pass through the photodiode) and if some of the charge carriers produced experience recombination
before they can result in current at the photodiode terminals.
The symbol for a photodiode is shown in Fig. 4.32(a) with reverse bias, VR. In the absence of light, a
photodiode’s i–v characteristic is that of a normal diode. The small reverse leakage current in a photodiode is
referred to as dark current, ID in Fig. 4.32(b), since it flows even in the absence of light. The i–v curve
shifts toward more reverse current in proportion to the intensity of absorbed light. The model of a reverse-
biased photodiode exposed to light in Fig. 4.32(c) shows dark current in parallel with the photocurrent. Thus,
dark current places a lower limit on the level of light that may be readily detected. As with all diodes, the
photodiode has an associated junction capacitance, Cj, which depends on the surface area of the photodiode
and the applied reverse bias voltage, VR.
Figure 4.32 (a) Reverse-biased photodiode under illumination.
Figure 4.32 (b) Shifting i–v characteristic of the photodiode under illumination.

Figure 4.32 (c) Model of the photodiode under illumination with dark current ID and photocurrent iP.
Avalanche photodiodes are biased around their reverse breakdown voltage so that a single incident
photon can set off an avalanche effect that results in more than one electron–hole pair. They therefore can
exhibit much higher responsivities, but they require larger bias voltage.
The quantum of light carried by each photon depends upon its wavelength, and the amount of energy
required to generate an electron–hole pair in a diode depends on the semiconductor material. Thus, different
semiconductors absorb light at different wavelengths. Moreover, materials with a so-called indirect bandgap
such as silicon are poor absorbers of light and therefore require a thicker depletion region to convert light
into current. Direct bandgap semiconductors absorb light within a very thin layer of material, making them
better suited to high-speed operation. Thus photodiodes manufactured using a compound semiconductor10
such as gallium arsenide are used when high-speed operation is required. For example, high-speed optical
communication utilizes very narrow pulses of infrared light, only a few picoseconds in duration. The light is
carried along glass fibers to the surface of a high-speed photodiode. When high-speed operation is not
required, silicon photodiodes are often used to detect light in the visible spectrum because of their low cost.
Finally, note that without reverse bias, the illuminated photodiode functions as a solar cell. Usually
fabricated from low-cost silicon, a solar cell converts light to electrical energy.
4.7.5 Light-Emitting Diodes (LEDs)
The light-emitting diode (LED) performs the opposite function of the photodiode: it converts a forward
current into light. LEDs are very popular devices. They find application in the design of displays and for
general lighting. They can be made to produce light in a variety of colors. Furthermore, LEDs can be
designed to produce coherent light with high spectral purity. The resulting device is a laser diode. Laser
diodes are used in optical communication systems and in optical data storage, among other applications.
You will recall from Chapter 3 that in a forward-biased pn junction, minority carriers are injected across
the junction and diffuse into the p and n regions. The diffusing minority carriers then recombine with the
majority carriers. In indirect bandgap semiconductors such as silicon, electrons must pass through an
intermediate state as they move from the conduction band into a covalent bond (i.e., as they undergo
recombination). In doing so, they transfer energy to the surrounding crystal lattice in the form of heat.
However, in direct bandgap semiconductors, recombination can emit a photon. The energy, hence
wavelength, of the photon depends upon the gap in energy between the two states, which is, in turn, related
to the chemical composition of the semiconductor and the forward voltage drop required to sustain current in
the pn junction. For example, red LEDs can be made from gallium arsenide phosphide and exhibit a forward
voltage drop of approximately 1.8 V, whereas blue LEDs can be made from indium gallium nitride and have
a forward voltage drop of 2.5–4.0 V.
The light emitted by an LED is proportional to the number of recombinations that take place, which in
turn is proportional to the forward current in the diode. Commercial LEDs typically have an inherent series

4.31
4.32
4.33
4.34
resistance that causes their i–v relationship to deviate from the exponential of a typical diode. Nevertheless,
LED current increases rapidly with forward voltage, so when connecting them to voltage sources, an explicit
series resistor is typically added.
EXERCISES
A reverse biased photodiode with a responsivity of 0.5 A/W and 100 nA dark current is exposed to 1
mW of light. How much reverse current is produced? What if the incident light is 1 µW?
We wish to use a reverse-biased photodiode with responsivity of 0.3 A/W as a light sensor. Our
objective is to sense light illuminating the photodiode with an intensity of 10 mW/m2. What should the
surface area of the photodiode be in order to produce 1 µA of current (neglecting dark current)? If at a
particular reverse-bias voltage the photodiode exhibits 10 pF capacitance per mm2 of surface area,
estimate the photodiode capacitance.
We wish to operate three red LEDs in series as shown in Fig. E4.33 under a 9-V supply. They each
have a rated forward voltage drop of 1.8 V at 20 mA. What value resistor, R, is required to sustain 20
mA?
Figure E4.33
If, instead, green LEDs are used in Fig. E4.33, with a forward voltage drop of 2.2 V at 20 mA, what
value resistor, R, is required?
Combining an LED with a photodiode in the same package results in a device known as an optoisolator.
The LED converts an electrical signal applied to the optoisolator into light, which the photodiode detects and
converts back to an electrical signal at the output of the optoisolator. Use of the optoisolator provides
complete electrical isolation between the electrical circuit that is connected to the isolator’s input and the
circuit that is connected to its output. Such isolation can be useful in reducing the effect of electrical
interference on signal transmission within a system, making the optoisolator a frequently used device in the
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

design of digital systems. It can also be used in the design of medical instruments to reduce the risk of
electrical shock to patients.
Note that the optical coupling between an LED and a photodiode need not be accomplished inside a
small package. Indeed, it can be implemented over a long distance using an optical fiber, as is done in fiber-
optic communication links.
FROM INDICATION TO ILLUMINATION
∨

■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
In the forward direction, the ideal diode conducts any current forced by the external circuit while
displaying a zero voltage drop. The ideal diode does not conduct in the reverse direction; any applied
voltage appears as reverse bias across the diode.
Diodes are often used to limit voltage excursions, for example, to protect sensitive circuits.
The forward conduction of practical silicon-junction diodes is accurately characterized by the
relationship i = 
A silicon diode conducts a negligible current until the forward voltage is at least 0.5 V. Then the current
increases rapidly, with the voltage drop increasing by 60 mV for every decade of current change.
In many applications, a conducting diode is modeled as having a constant voltage drop of 0.7 V (for
silicon).
In the reverse direction, a silicon diode conducts a current on the order of 10−9 A. This current is much
greater than IS because of leakage effects, and it increases with the magnitude of reverse voltage.
Beyond a certain value of reverse voltage (that depends on the diode), breakdown occurs, and current
increases rapidly with a small corresponding increase in voltage. Zener diodes are designed to operate in
the breakdown region.
When operated with currents that deviate only slightly from a dc value ID, a diode’s exponential i–v
relationship may be linearized. The resulting small-signal resistance is rd = VT/ID. The approximation is
accurate for variations in vD of less than about 5 mV.
We can use the nearly constant voltage drops produced by diodes, in both forward and reverse
breakdown operation, to generate stable dc voltages. These are shunt voltage regulators.
Rectifiers convert ac voltages into unipolar voltages. Half-wave rectifiers do this by passing the voltage
in half of each cycle and blocking the opposite-polarity voltage in the other half of the cycle. Full-wave
rectifiers accomplish the task by passing the voltage in half of each cycle and inverting the voltage in the
other halfcycle.
The bridge-rectifier circuit is the preferred full-wave rectifier configuration.
The variation of the output waveform of the rectifier is reduced considerably by connecting a capacitor C
across the output load resistance R. The resulting circuit is the peak rectifier. The output waveform then
consists of a dc voltage almost equal to the peak of the input sine wave, Vp, on which is superimposed a
ripple component of frequency 2f (in the full-wave case) and of peak-to-peak amplitude Vr = Vp/2fCR.
Applying a time-varying waveform to a circuit consisting of a capacitor in series with a diode and taking
the output across the diode provides a clamping function. Specifically, depending on the polarity of the
diode, either the positive or negative peaks of the signal will be clamped to the voltage at the other
terminal of the diode (for example, ground). In this way the output waveform has a nonzero average or
dc component, and the circuit is known as a dc restorer.
By cascading a clamping circuit with a peak-rectifier circuit, we create a voltage doubler.
Photodiodes are reverse-biased diodes that convert light into reverse current. Light-emitting diodes
(LEDs) convert forward current into light. Depending on the color of light, LEDs are made from

different semiconductors exhibiting different forward voltage drops greater than 0.7 V.

PROBLEMS
problems with blue numbers are considered essential;
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
 Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 4.1: The Ideal Diode
4.1 An AA battery, whose Thévenin equivalent is a voltage source of 1.5 V and a resistance of 2 Ω, is connected to
the terminals of an ideal diode. Describe two possible situations that result. What are the diode current and terminal
voltage when (a) the connection is between the diode cathode and the positive terminal of the battery and (b) the
anode and the positive terminal are connected?
4.2 For the circuits shown in Fig. P4.2(a), (b), (c), and (d) using ideal diodes, find the values of the voltages and
currents indicated.
Figure P4.2(a)
∨Show Answer

Figure P4.2(b)
Figure P4.2(c)
Figure P4.2(d)
4.3 For the circuits shown in Fig. P4.3(a) and (b) using ideal diodes, find the values of the labeled voltages and
currents.

Figure P4.3(a)
Figure P4.3(b)
4.4 In each of the ideal-diode circuits shown in Fig. P4.4(a), (b), (c), (d), (e), (f), (g), (h), (i), (j), and (k), vI is a 1-
kHz, 5-V peak sine wave. Sketch the waveform resulting at vO. What are its positive and negative peak values?
Figure P4.4(a)
Figure P4.4(b)
∨Show Answer

Figure P4.4(c)
Figure P4.4(d)
Figure P4.4(e)
Figure P4.4(f)
Figure P4.4(g)

Figure P4.4(h)
Figure P4.4(i)
Figure P4.4(j)
Figure P4.4(k)
4.5 The circuit shown in Fig. P4.5 is a model for a battery charger. Here vI is a 10-V peak sine wave, D1 and D2 are
ideal diodes, I is a 100-mA current source, and B is a 3-V battery. Sketch and label the waveform of the battery
current iB. What is its peak value? What is its average value? If the peak value of vI is reduced by 10%, what do the
peak and average values of iB become?

Figure P4.5
4.6 The circuits shown in Fig. P4.6(a) and (b) can function as logic gates for input voltages that are either high or
low. Using “1” to denote the high value and “0” to denote the low value, prepare a table with four columns
including all possible input combinations and the resulting values of X and Y. What logic function is X of A and B?
What logic function is Y of A and B? For what values of A and B do X and Y have the same value? For what values
of A and B do X and Y have opposite values?
Figure P4.6
4.7 Assuming that the diodes in the circuits of Fig. P4.7(a) and (b) are ideal, find the values of the
labeled voltages and currents.

Figure P4.7
4.8 Assuming that the diodes in the circuits of Fig. P4.8(a) and (b) are ideal, utilize Thévenin’s theorem to simplify
the circuits and thus find the values of the labeled currents and voltages.
Figure P4.8
D 4.9 For the rectifier circuit of Fig. 4.3(a), let the input sine wave have 120-V rms value and assume the diode to
be ideal. Select a suitable value for R so that the peak diode current does not exceed 40 mA. What is the greatest
reverse voltage that will appear across the diode?
4.10 A symmetrical square wave of 10-V peak-to-peak amplitude and zero average is applied to a circuit
resembling that in Fig. 4.3(a) and employing a 200-Ω resistor. What is the peak output voltage that results? What is
∨Show Answer
∨Show Answer

the average output voltage that results? What is the peak diode current? What is the average diode current? What is
the maximum reverse voltage across the diode?
4.11 We want to use the circuit of Fig. 4.3(a) with R = 200 Ω and a square-wave input at vI that alternates between
+5V and −3 V. Sketch the resulting waveform at vO. What is the resulting peak and average current through the
diode?
D 4.12 In the circuit of Fig. 4.4(a), select a new value for R so that the peak current through the diode is limited to
50 mA.
D *4.13 Design a battery-charging circuit, resembling that in Fig. 4.4(a) and using an ideal diode, in which current
flows to the 12-V battery 25% of the time with an average value of 100 mA. What peak-to-peak sine-wave voltage
is required? What resistance is required? What peak diode current flows? What peak reverse voltage does the diode
endure? If resistors can be specified to only one significant digit, and the peak-to-peak voltage only to the nearest
volt, what design would you choose to guarantee the required charging current? What fraction of the cycle does
diode current flow? What is the average diode current? What is the peak diode current? What peak reverse voltage
does the diode endure?
4.14 The circuit of Fig. P4.14 can be used in a signaling system using one wire plus a common ground return. At
any moment, the input has one of three values: +3 V, 0 V, –3 V.
Figure P4.14
What is the status of the lamps for each input value? (Note that the lamps can be located apart from each other and
that there may be several of each type of connection, all on one wire!)
4.15 The limiter circuit of Fig. 4.5(a) is connected with V+ = 3 V and R = 100 Ω. The diode data sheet specifies a
maximum reverse voltage of 10 V and maximum forward current of 50 mA. What are the maximum and minimum
voltages that may be safely applied at vI?
4.16 The limiter circuit shown in Fig. 4.5(a) has V+ = 5 V and R = 500 Ω. Plot iD versus the input voltage vI. How
does the plot change if a 1- kΩ load resistor is connected between vO and ground?
4.17 The diodes in Fig. 4.6(a) must be able to withstand lightning strikes that cause the input voltage to temporarily
spike to vI = ± 200 V. What peak current and peak reverse voltage must the diodes handle if R = 100 Ω?
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
(e)
Section 4.2: Terminal Characteristics of Junction Diodes
4.18 Calculate the value of the thermal voltage, VT, at –55°C, 0°C, +40°C, and +125°C. At what temperature is VT
exactly 25 mV?
4.19 At what forward voltage does a diode conduct a current equal to 108IS? In terms of IS, what current flows in
the same diode when its forward voltage is 0.7 V? Assume room temperature.
4.20 A diode for which the forward voltage drop is 0.7 V at 1.0 mA is operated at 0.6 V. What is the value of the
current?
4.21 A particular diode is found to conduct 1 mA with a junction voltage of 0.7 V. What current will flow in this
diode if the junction voltage is raised to 0.71 V? To 0.8 V? If the junction voltage is lowered to 0.69 V? To 0.6 V?
What change in junction voltage will double the diode current?
4.22 The following measurements are taken on particular junction diodes for which V is the terminal voltage and I
is the diode current. For each diode, estimate values of IS and the terminal voltage at 10% of the measured current.
V = 0.750 V at I = 1.00 A
V = 0.650 V at I = 1.00 mA
V = 0.650 V at I = 10 µA
V = 0.700 V at I = 10 mA
4.23 Listed below are the results of measurements taken on several different junction diodes. For each diode, the
data provided are the diode current I and the corresponding diode voltage V. In each case, estimate IS and the diode
current at 750 mV.
10.0 mA, 700 mV
1.0 mA, 700 mV
10 A, 800 mV
0.1 mA, 700 mV
10 µA, 600 mV
4.24 The circuit in Fig. P4.24 utilizes three identical diodes having IS = 10−14 A. Find the value of the current I
required to obtain an output voltage VO = 2.0 V at room temperature.
∨Show Answer
∨Show Answer
∨Show Answer

Figure P4.24
If a current of 1 mA is drawn away from the output terminal by a load, what is the change in output voltage? What
change in output voltage is caused by a 40°C increase in temperature?
4.25 A junction diode is operated in a circuit in which it is supplied with a constant current I. What is the effect on
the forward voltage of the diode if an identical diode is connected in parallel?
4.26 Two diodes with saturation currents IS1 and IS2 are connected in parallel with their cathodes joined together
and connected to grounds. The two anodes are joined together and fed with a constant current I. Find the currents
ID1 and ID2 that flow through the two diodes, and the voltage VD that appears across their parallel combination.
4.27 In the circuit shown in Fig. P4.27, D1 has 20 times the junction area of D2. What value of V results?
To obtain a value for V of 60 mV, what current I2 is needed?
 
Figure P4.27
∨Show Answer
∨Show Answer

4.28 For the circuit shown in Fig. P4.28, the diodes are identical. Find the value of R for which V = 50 mV.
Figure P4.28
4.29 A diode fed with a constant current I = 1 mA has a voltage V = 690 mV at 20°C. Find the diode voltage at
−20°C and at +85°C. If the current is increased to I = 5 mA, what is the impact on the diode voltage at −20°C,
20°C, and 85°C?
4.30 In the circuit shown in Fig. P4.30, D1 is a large-area, high-current diode whose reverse leakage is high and
independent of applied voltage, while D2 is a much smaller, low-current diode. At an ambient temperature of 20°C,
resistor R1 is adjusted to make VR1 = V2 = 520 mV. Subsequent measurement indicates that R1 is 520 kΩ. What do
you expect the voltages VR1 and V2 to become at 0°C and at 60°C?
Figure P4.30
4.31 When a 10-A current is applied to a particular diode, it is found that the junction voltage immediately becomes
700 mV. However, as the power being dissipated in the diode raises its temperature, it is found that the voltage
decreases and eventually reaches 600 mV. What is the apparent rise in junction temperature? What is the power
dissipated in the diode in its final state? What is the temperature rise per watt of power dissipation? (This is called
the thermal resistance.)

(a)
(b)
(a)
(b)
(c)
*4.32 A designer of an instrument that must operate over a wide supply-voltage range, noting that a diode’s
junction-voltage drop is relatively independent of junction current, considers the use of a large diode to establish a
small relatively constant voltage. A power diode, for which the nominal current at 0.8 V is 10 A, is available. If the
current source feeding the diode changes in the range 1 mA to 3 mA and if, in addition, the temperature changes by
±20°C, what is the expected range of diode voltage?
*4.33 As an alternative to the idea suggested in Problem 4.32, the designer considers a second approach to
producing a relatively constant small voltage from a variable current supply: It relies on the ability to make quite
accurate copies of any small current that is available (using a process called current mirroring). The designer
proposes to use this idea to supply two diodes of different junction areas with equal currents and to measure their
junction-voltage difference. Two types of diodes are available: for a forward voltage of 700 mV, one conducts 0.1
mA, while the other conducts 1 A. Now, for identical currents in the range of 1 mA to 3 mA supplied to each, what
range of difference voltages result? What is the effect of a temperature change of ±20°C on this arrangement?
4.34 Find an expression for the voltage across a diode with a small series resistance, r, in terms of the current. If r =
10 Ω, what is the change in voltage when the current increases from 1 mA to 2 mA?
Section 4.3: Modeling the Diode
*4.35 Consider the graphical analysis of the diode circuit of Fig. 4.10 with VDD = 1 V, R = 1 kΩ, and a diode
having IS = 10−15 A. Calculate a small number of points on the diode characteristic in the vicinity of where you
expect the load line to intersect it, and use a graphical process to refine your estimate of diode current. What value
of diode current and voltage do you find? Analytically, find the voltage corresponding to your estimate of current.
By how much does it differ from the graphically estimated value?
4.36 Use the iterative-analysis procedure to determine the diode current and voltage in the circuit of Fig. 4.10 for
VDD = 1.5 V, R = 2 kΩ, and a diode having IS = 10−15 A.
4.37 A “1-mA diode” (i.e., one that has vD = 0.7 V at iD = 1 mA) is connected in series with a 200-Ω resistor to a
1.0 V supply.
Provide a rough estimate of the diode current you would expect.
Estimate the diode current more closely using iterative analysis.
4.38 Consider the circuit in Fig. 4.10 with VDD = 3 V and R = 3 kΩ.
Find the current using a constant-voltage-drop model.
What value of IS is required to make this solution exact?
Approximately how much will the current change from this value if IS increases by a factor of 100?
D 4.39 A designer has a supply of diodes for which a current of 2 mA flows at 0.7 V. Using a 1-mA current source,
the designer wishes to create a reference voltage of 1.3 V. Suggest a combination of series and parallel diodes that
will do the job as well as possible. How many diodes are needed? What voltage is actually achieved?
4.40 Repeat Example 4.2 using the constant-voltage-drop (VD = 0.7 V) diode model.
4.41 For the circuits shown in Fig. P4.2, using the constant-voltage-drop (VD = 0.7 V) diode model, find the
voltages and currents indicated.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

4.42 For the circuits shown in Fig. P4.3, using the constant-voltage-drop (VD = 0.7 V) diode model, find the
voltages and currents indicated.
4.43 For the circuits in Fig. P4.7, using the constant-voltage-drop (VD = 0.7 V) diode model, find the
values of the labeled currents and voltages.
 
4.44 For the circuits in Fig. P4.8, utilize Thévenin’s theorem to simplify the circuits and find the values of the
labeled currents and voltages. Assume that conducting diodes can be represented by the constant-voltage-drop
model (VD = 0.7 V).
D 4.45 Repeat Problem 4.9, representing the diode by the constant-voltage-drop (VD = 0.7 V) model. How different
is the resulting design?
4.46 Partial specifications of a collection of zener diodes are provided below. Complete the table by finding the
missing value for each diode. Also, in each case, find the reverse voltage across the zener at 10 mA current.
VZT
IZT
rz
VZ0
VZ @ IZ = 10 mA
(a)
3 V
2 mA
50 Ω
(b)
5 V
5 mA
4.5 V
(c)
6 V
150 Ω
5.7 V
(d)
1 mA
100 Ω
9V
4.47 A zener diode is rated for 3-V operation at 5 mA with an incremental resistance of 100 Ω. It is connected to a
voltage source VS through a 1- kΩ resistor. What is the maximum voltage VS that can be applied without exceeding
the zener’s maximum power rating of 40 mW? What is the voltage across the zener under this condition?
4.48 A constant current is passed through a 6-V zener diode having a TC of 1.5 mV/°C in series with a regular
forward-conducting diode with a TC of −2 mV/°C. What is the resulting temperature coefficient of the voltage
across both diodes?
Section 4.4: The Small-Signal Model
4.49 The small-signal model is said to be valid for voltage variations of about 5 mV. To what percentage current
change does this correspond? (Consider both positive and negative signals.) What is the maximum allowable
voltage signal (positive or negative) if the current change is to be limited to 10%?
4.50 In a particular circuit application, ten “20-mA diodes” (a 20-mA diode is a diode that provides a 0.7-V drop
when the current through it is 20 mA) connected in parallel operate at a total current of 0.1 A. For the diodes
closely matched, what current flows in each? What is the corresponding small-signal resistance of each diode and
of the combination? Compare this with the incremental resistance of a single diode conducting 0.1 A. If each of the
20-mA diodes has a series resistance of 0.2 Ω associated with the wires bonded to the junction, what is the
equivalent resistance of the 10 parallel-connected diodes? What connection resistance would a single diode need in
order to be totally equivalent? (Note: This is why the parallel connection of real diodes can often be used to
advantage.)
4.51 In the circuit shown in Fig. P4.51, I is a dc current and vs is a sinusoidal signal. Capacitors C1 and C2 are very
large; their function is to couple the signal to and from the diode but block the dc current from flowing into the
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

signal source or the load (not shown). Use the diode small-signal model to show that the signal component of the
output voltage is
Figure P4.51
If vs = 10 mV, find vo for I = 1 mA, 0.1 mA, and 1 µA. Let Rs = 1 kΩ. At what value of I does vo
become one-half of vs? Note that this circuit functions as a signal attenuator with the attenuation factor
controlled by the value of the dc current I.
4.52 In the attenuator circuit of Fig. P4.51, let Rs = 10 kΩ. The diode is a 1-mA device; that is, it exhibits a voltage
drop of 0.7 V at a dc current of 1 mA. For small input signals, what value of current I is needed for vo/vs = 0.50?
0.10? 0.01? 0.001? In each case, what is the largest input signal that can be used while ensuring that the signal
component of the diode current is limited to ±10% of its dc current? What output signals correspond?
4.53 In the capacitor-coupled attenuator circuit shown in Fig. P4.53, I is a dc current that varies from 0 mA to 1
mA, and C1 and C2 are large coupling capacitors. For very small input signals, so that the diodes can be represented
by their small-signal resistances rd1 and rd2, give the small-signal equivalent circuit and thus show that 
 and hence that 
, where I is in mA. Find vo/vi for I = 0 µA, 1 µA, 10 µA, 100 µA, 500
µA, 600 µA, 900 µA, 990 µA, and 1 mA. Note that this is a signal attenuator whose transmission is linearly
controlled by the dc current I.

(a)
(b)
(c)
Figure P4.53
*4.54 In the circuit shown in Fig. P4.54, diodes D1 through D4 are identical, and each exhibits a voltage drop of 0.7
V at a 1-mA current.
For small input signals (e.g., 10-mV peak), find the small-signal equivalent circuit and use it to determine
values of the small-signal transmission vo/vi for various values of I: 0 µA, 1 µA, 10 µA, 100 µA, 1 mA, and 10
mA.
For a forward-conducting diode, what is the largest signal-voltage magnitude that it can support while the
corresponding signal current is limited to 10% of the dc bias current? Now, for the circuit in Fig. P4.54, for
10-mV peak input, what is the smallest value of I for which the diode currents remain within ±10% of their dc
values?
For I = 1 mA, what is the largest possible output signal for which the diode currents deviate by at most 10% of
their dc values? What is the corresponding peak input? What is the total current in each diode?
∨Show Answer

Figure P4.54
**4.55 In Problem 4.54 we investigated the operation of the circuit in Fig. P4.54 for small input signals. In this
problem we wish to find the voltage-transfer characteristic (VTC) vO versus vI for −12V ≤ vI ≤ 12V for the case I =
1 mA and each of the diodes exhibits a voltage drop of 0.7 V at a current of 1 mA. Toward this end, use the diode
exponential characteristic to construct a table that gives the values of: the current iO in the 10- kΩ resistor, the
current in each of the four diodes, the voltage drop across each of the four diodes, and the input voltage vI, for vO =
0, +1 V, +2 V, +5 V, +9 V, +9.9 V, +9.99 V, +10.5 V, +11 V, and +12 V. Use these data, with extrapolation to
negative values of vI and vO, to sketch the required VTC. Also sketch the VTC that results if I is reduced to 0.5
mA. (Hint)
 *4.56 In the circuit shown in Fig. P4.56, I is a dc current and vi is a sinusoidal signal with small amplitude
(less than 10 mV) and a frequency of 100 kHz. Representing the diode by its small-signal resistance rd, which is a
function of I, sketch the small-signal equivalent circuit and use it to determine the sinusoidal output voltage Vo, and
thus find the phase shift between Vi and Vo. Find the value of I that will provide a phase shift of –45°, and find the
range of phase shift achieved as I is varied over the range of 0.1 times to 10 times this value.
∨Show Answer

(a)
(b)
(c)
Figure P4.56
Section 4.5: Voltage Regulation
*4.57 Consider the voltage-regulator circuit shown in Fig. P4.57. The value of R is selected to obtain an output
voltage VO (across the diode) of 0.7 V.
Figure P4.57
Use the diode small-signal model to show that the change in output voltage corresponding to a change of 1 V
in V+ is
This quantity is known as the line regulation and is usually expressed in mV/V.
Generalize the expression above for the case of m diodes connected in series and the value of R adjusted so
that the voltage across each diode is 0.7 V (and VO = 0.7m V).
Calculate the value of line regulation for the case V+ = 10 V (nominally) and (i) m = 1 and (ii) m = 3.
*4.58 Consider the voltage-regulator circuit shown in Fig P4.57 under the condition that a load current IL is drawn
from the output terminal.

(a)
(b)
(c)
If the value of IL is sufficiently small that the corresponding change in regulator output voltage ∆VO is small
enough to justify using the diode small-signal model, show that
This quantity is known as the load regulation and is usually expressed in mV/mA.
If the value of R is selected such that at no load the voltage across the diode is 0.7 V and the diode current is
ID, show that the expression derived in (a) becomes
Select the lowest possible value for ID that results in a load regulation whose magnitude is ≤ 5mV/mA. If V+ is
nominally 10 V, what value of R is required? Also, specify the diode required in terms of its IS.
Generalize the expression derived in (b) for the case of m diodes connected in series and R adjusted to obtain
VO = 0.7m V at no load.
D *4.59 Design a diode voltage regulator to supply 1.5 V to a 1.5- kΩ load. Use two diodes specified to have a 0.7-
V drop at a current of 1 mA. The diodes are to be connected to a +5-V supply through a resistor R. Specify the
value for R. What is the diode current with the load connected? Find and compare the power dissipated in the
diodes to the power dissipated in the load. What is the increase resulting in the output voltage when the load is
disconnected? What change results if the load resistance is reduced to 1 kΩ? To 750 Ω? To 500 Ω? (Hint)
D *4.60 A voltage regulator consisting of two diodes in series fed with a constant-current source is used
as a replacement for a single carbon–zinc cell (battery) of nominal voltage 1.5 V. The regulator load
current varies from 2 mA to 7 mA. Constant-current supplies of 5 mA, 10 mA, and 15 mA are
available. Which would you choose, and why? What change in output voltage would result when the
load current varies over its full range?
D 4.61 A designer requires a shunt regulator of approximately 20 V. Two kinds of zener diodes are available: 6.8-V
devices with rz of 10 Ω and 5.1-V devices with rz of 25 Ω. For the two major choices possible, find the load
regulation. In this calculation neglect the effect of the regulator resistance R.
4.62 A shunt regulator utilizing a zener diode with an incremental resistance of 10 Ω is fed through a 200-Ω
resistor. If the raw supply changes by 1.0 V, what is the corresponding change in the regulated output voltage?
D 4.63 Design a 7.5-V zener regulator circuit using a 7.5-V zener specified at 10 mA. The zener has an incremental
resistance rz = 30 Ω and a knee current of 0.5 mA. The regulator operates from a 10-V supply and delivers a
nominal current of 5 mA to the load. What is the value of R you have chosen? What is the regulator output voltage
when the supply is 10% high? Is 10% low? What is the output voltage when both the supply is 10% high and the
load is removed? What is the largest load current that can be delivered while the zener operates at a current no
lower than the knee current while the supply is 10% low? What is the load voltage in this case?
D *4.64 It is required to design a zener shunt regulator to provide a regulated voltage of about 10 V. The available
10-V, 1-W zener of type 1N4740 is specified to have a 10-V drop at a test current of 25 mA. At this current, its rz is
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
(e)
7 Ω. The raw supply, VS, available has a nominal value of 20 V but can vary by as much as ±25%. The regulator is
required to supply a load current of 0 mA to 20 mA. Design for a minimum zener current of 5 mA.
Find VZ0.
Calculate the required value of R.
Find the line regulation. What is the change in VO expressed as a percentage, corresponding to the ±25%
change in VS?
Find the load regulation. By what percentage does VO change from the no-load to the full-load condition?
What is the maximum current that the zener in your design is required to conduct? What is the zener power
dissipation under this condition?
Section 4.6: Rectifier Circuits
4.65 Consider the half-wave rectifier circuit of Fig. 4.21(a) with the diode reversed. Let vS be a sinusoid with 5-V
peak amplitude, and let R = 2 kΩ. Use the constant-voltage-drop diode model with VD = 0.7 V.
Sketch the transfer characteristic.
Sketch the waveform of vO.
Find the average value of vO.
Find the peak current in the diode.
Find the PIV of the diode.
4.66 Using the exponential diode characteristic, show that for vS and vO both greater than zero, the circuit of Fig.
4.21(a) has the transfer characteristic
where vS and vO are in volts and R is in kilohms. Note that this relationship can be used to obtain the voltage
transfer characteristic vO vs. vS by finding vS corresponding to various values of vO.
4.67 Consider a half-wave rectifier circuit with a triangular-wave input of 6-V peak-to-peak amplitude and zero
average, and with R = 1 kΩ. Assume that the diode can be represented by the constant-voltage-drop model with VD
= 0.7 V. Find the average value of vO.
4.68 A half-wave rectifier circuit with a 500-Ω load operates from a 120-V (rms) 60-Hz household supply through
a 12-to-1 step-down transformer. It uses a silicon diode that can be modeled to have a 0.7-V drop for any current.
What is the peak voltage of the rectified output? For what fraction of the cycle does the diode conduct? What is the
average output voltage? What is the average current in the load?
4.69 A full-wave rectifier circuit with a 500-Ω load operates from a 120-V (rms) 60-Hz household
supply through a 6-to-1 transformer having a center-tapped secondary winding. It uses two silicon
diodes that can be modeled to have a 0.7-V drop for all currents. What is the peak voltage of the
rectified output? For what fraction of a cycle does each diode conduct? What is the average output
voltage? What is the average current in the load?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
(d)
4.70 A full-wave bridge-rectifier circuit with a 500-Ω load operates from a 120-V (rms) 60-Hz household supply
through a 6-to-1 step-down transformer having a single secondary winding. It uses four diodes, each of which can
be modeled to have a 0.7-V drop for any current. What is the peak value of the rectified voltage across the load?
For what fraction of a cycle does each diode conduct? What is the average voltage across the load? What is the
average current through the load?
D 4.71 It is required to design a full-wave rectifier circuit using the circuit of Fig. 4.22(a) to provide:
an average output voltage of 10 V
an average output voltage of 25 V
a peak output voltage of 20 V
In each case find the required turns ratio of the transformer. Assume that a conducting diode has a voltage drop of
0.7 V. The ac line voltage is 120 V rms.
D 4.72 Repeat Problem 4.71 for the bridge-rectifier circuit of Fig. 4.23(a).
D 4.73 Consider the full-wave rectifier in Fig. 4.22(a) when the transformer turns ratio is such that the voltage
across the entire secondary winding is 20 V rms. If the input ac line voltage is 220 V rms and it fluctuates by as
much as ±10%, find the required PIV of the diodes. (Remember to use a factor of safety in your design.)
4.74 The circuit in Fig. P4.74 implements a complementary-output rectifier. Sketch and clearly label the waveforms
of 
 and 
. Assume a 0.7-V drop across each conducting diode. If the magnitude of the average of each output
is to be 12 V, find the required amplitude of the sine wave across the entire secondary winding. What is the PIV of
each diode?
Figure P4.74
4.75 Augment the rectifier circuit of Problem 4.68 with a capacitor chosen to provide a peak-to-peak ripple voltage
of (i) 10% of the peak output and (ii) 1% of the peak output. In each case:
What average output voltage results?
What fraction of the cycle does the diode conduct?
What is the average diode current?
What is the peak diode current?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
4.76 Repeat Problem 4.75 for the rectifier in Problem 4.69.
4.77 Repeat Problem 4.75 for the rectifier in Problem 4.70.
D *4.78 It is required to use a peak rectifier to design a dc power supply that provides an average dc output voltage
of 12 V on which a maximum of ±1-V ripple is allowed. The rectifier feeds a load of 200 Ω. The rectifier is fed
from the line voltage (120 V rms, 60 Hz) through a transformer. The diodes available have 0.7-V drop when
conducting. If the designer opts for the half-wave circuit:
Specify the rms voltage that must appear across the transformer secondary.
Find the required value of the filter capacitor.
Find the maximum reverse voltage that will appear across the diode, and specify the PIV rating of the diode.
Calculate the average current through the diode during conduction.
Calculate the peak diode current.
D *4.79 Repeat Problem 4.78 for the case in which the designer opts for a full-wave circuit utilizing a center-
tapped transformer.
D *4.80 Repeat Problem 4.78 for the case in which the designer opts for a full-wave bridge-rectifier circuit.
D *4.81 Consider a half-wave peak rectifier fed with a voltage vS having a triangular waveform with 24-V peak-to-
peak amplitude, zero average, and 1-kHz frequency. Assume that the diode has a 0.7-V drop when conducting. Let
the load resistance R = 100 Ω and the filter capacitor C = 100 µF. Find the average dc output voltage, the time
interval during which the diode conducts, and the maximum diode current.
D *4.82 Consider the circuit in Fig. P4.74 with two equal filter capacitors placed across the load resistors R.
Assume that the diodes available exhibit a 0.7-V drop when conducting. Design the circuit to provide ±12-V dc
output voltages with a peak-to-peak ripple no greater than 1 V. Each supply should be capable of providing 100-mA
dc current to its load resistor R. Completely specify the capacitors, diodes, and the transformer.
4.83 The op amp in the precision rectifier circuit of Fig. P4.83 is ideal with output saturation levels of ±13 V.
Assume that when conducting, the diode exhibits a constant voltage drop of 0.7 V. Find v−, vO, and vA for:
vI = +1V
vI = +3V
vI = −1V
vI = −3V
Figure P4.83
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
Also, plot the output waveform at vO and find the average output voltage obtained when vI is a symmetrical square
wave of 1-kHz frequency, 5-V amplitude, and zero average.
4.84 The op amp in the circuit of Fig. P4.84 is ideal with output saturation levels of ±12 V. The diodes exhibit a
constant 0.7-V drop when conducting. Find v−, vA, and vO for:
vI = +1V
vI = +3V
vI = −1V
vI = −3V
Figure P4.84
*4.85 The following amplitude-modulated signal is applied to the precision rectifier circuit in Fig. P4.85.
Figure P4.85
Sketch the waveform at the output, vO, if the time constant CR is 0.1 ms. Repeat for CR = 0.1 µs.
∨Show Answer

Section 4.7: Other Diode Applications
4.86 A clamped capacitor using an ideal diode with cathode grounded is supplied with a sine wave of 5-V rms.
What is the average (dc) value of the resulting output?
4.87 The clamped capacitor in Fig. P4.87 is loaded by the resistor R. The input vI is a symmetric 10-V peak-to-peak
square wave at 100 kHz. Sketch the waveform at vO if the time constant CR = 10 µs.
Figure P4.87
Figure P4.88(a)
Figure P4.88(b)
Figure P4.88(c)
∨Show Answer

Figure P4.88(d)
Figure P4.88(e)
Figure P4.88(f)
Figure P4.88(g)

(a)
(b)
(c)
(a)
(b)
Figure P4.88(h)
*4.88 For the circuits in Fig. P4.88, each utilizing an ideal diode (or diodes), sketch the output for the input shown.
Label the most positive and most negative output levels. Assume CR ≫ T.
4.89 A varactor has Cj0 = 150 fF at zero bias, V0 = 3V, and m = 3. Find the range of bias voltages required to vary
its capacitance from 80 fF to 20 fF.
4.90 A reverse-biased photodiode is specified to have a dark current of 100 pA and a responsivity of 0.5 A/W. It is
connected to the transresistance amplifier shown in Fig. P4.90. Assume an ideal op amp.
What is the reverse-bias voltage across the photodiode?
What is the output voltage vO with no illumination?
What is the output voltage vO with 10 µW of light incident on the photodiode?
Figure P4.90
4.91 An LED is forward-biased by a 3-V battery through a resistor. Find the resistor value required to sustain
10 mA through a green LED at 2.2 V forward voltage drop.
10 mA through a red LED at 1.8 V forward voltage drop.
∨Show Answer
∨Show Answer

5.1
5.2
5.3
5.4
•
•
•
•
CHAPTER 5
MOS Field-Effect Transistors
(MOSFETs)
Introduction
Device Structure and Physical Operation
Current–Voltage Characteristics
MOSFET Circuits at DC
Technology Scaling (Moore’s Law) and Other Topics
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The physical structure of the MOS transistor and how it works.
How the voltage between two terminals of the transistor controls the current that flows through the
third terminal, and the equations that describe these current–voltage characteristics.
How to analyze and design circuits that contain MOS transistors, resistors, and dc sources.
Moore’s law and how it has driven the advancement of microelectronics over the past 50 years.

•
•
Introduction
Having studied the junction diode, which is the most basic two-terminal semiconductor device, we turn our
attention to three-terminal semiconductor devices. Three-terminal devices are far more useful than two-
terminal ones because they can be used in a multitude of applications, from signal amplification to digital
logic and memory. They operate by using the voltage between two terminals to control the current flowing in
the third terminal. The three-terminal device can thus be used as a controlled source, which, as we learned in
Chapter 1, is the basis for amplifier design. Also, in the extreme, we can use the control signal to cause the
current in the third terminal to change from zero to a large value, thus allowing the device to act as a switch.
As we shall see in Chapter 16, the switch is the basis for the logic inverter, the basic element of digital
circuits.
There are two major types of three-terminal semiconductor devices:
the metal-oxide-semiconductor field-effect transistor (MOSFET), which we cover in this chapter; and
the bipolar junction transistor (BJT), which we study in Chapter 6.
Although both transistor types offer unique features and areas of application, the MOSFET has become by
far the most widely used electronic device, especially in the design of integrated circuits (ICs), which are
entire circuits fabricated on a single silicon chip.
Compared to BJTs, MOSFETs can be made quite small (i.e., requiring a small area on the silicon IC
chip). They are simpler to manufacture (see Appendix A) and require less power to operate. Furthermore,
circuit designers have found ingenious ways to implement digital and analog functions using MOSFETs
almost exclusively (i.e., with very few or no resistors).
All of these properties have made it possible to pack large numbers of MOSFETs (many billion) on a
single IC chip to create sophisticated, very-large-scale-integrated (VLSI) digital circuits such as those for
memory and microprocessors. Analog circuits such as amplifiers and filters can also be implemented in
MOS technology, albeit in smaller, less-dense chips. Also, both analog and digital functions are increasingly
being implemented on the same IC chip, in what is known as mixed-signal design.
This chapter will help you become familiar with the MOSFET: its physical structure and operation,
terminal characteristics, and dc circuit applications. This will give you a solid foundation for the application
of the MOSFET in amplifier design (Chapter 7) and in digital circuit design (Chapter 16). Although discrete
MOS transistors are available, and the material studied in this chapter will enable you to design discrete
MOS circuits, our study of the MOSFET is strongly influenced by the fact that most of its applications are in
integrated-circuit design. You will learn much more about the design of IC analog and digital MOS circuits
throughout the rest of this book.
THE FIRST FIELD-EFFECT DEVICES
∨

5.1 Device Structure and Physical Operation
The enhancement-type MOSFET is the most widely used field-effect transistor. Except for the last section,
this chapter is devoted to the study of the enhancement-type MOSFET. We begin in this section by learning
about its structure and physical operation. Then, in the next section, we will look at the current–voltage
characteristics of the device.
5.1.1 Device Structure
Figure 5.1 (a) and (b) shows the physical structure of the n-channel enhancement-type MOSFET. (The
meaning of the names “enhancement” and “n-channel” will become apparent shortly.) The transistor is built
on a p-type substrate, a single-crystal silicon wafer that provides physical support for the device (and for the
entire circuit in the case of an integrated circuit). Two heavily doped n-type regions, indicated as the n+
source1 and the n+ drain regions, are created in the substrate. A thin layer of silicon dioxide (SiO2) of
thickness tox (typically 1 nm to 10 nm),2 which is an excellent electrical insulator, is grown on the surface of
the substrate, covering the area between the source and drain regions. Metal is deposited on top of that oxide
layer to form what’s called the gate electrode of the device. Metal contacts are also made to the source
region, the drain region, and the substrate, also known as the body.3 This creates four terminals: the gate
terminal (G), the source terminal (S), the drain terminal (D), and the substrate or body terminal (B).
Figure 5.1 (a) Physical structure of the n-channel enhancement-type MOSFET: perspective view. Typically, L = 20 nm
to 1 μm, W = 30 nm to 100 μm, and the thickness of the oxide layer (tox) is in the range of 1 to 10 nm.

Figure 5.1 (b) Physical structure of the n-channel enhancement-type MOSFET: cross section. Typically, L = 20 nm to 1
μm, W = 30 nm to 100 μm, and the thickness of the oxide layer (tox) is in the range of 1 to 10 nm.
At this point it should be clear that the name metal-oxide-semiconductor FET comes from its physical
structure. The name, however, has become a general one and is used also for FETs that do not use metal for
the gate electrode. Our description of MOSFET operation and characteristics applies regardless of which
type of gate electrode is used.
Here we note that the gate electrode is electrically insulated from the device body (by the oxide layer). It
is this insulation that causes the current in the gate terminal to be extremely small (of the order of 10−15 A).
Notice that the substrate forms pn junctions with the source and drain regions. In normal operation these
pn junctions are kept reverse biased at all times. Since, as we shall see shortly, the drain will always be at a
positive voltage relative to the source, the two pn junctions can be effectively cut off by simply connecting
the body terminal to the source terminal. We shall assume this to be the case in the following description of
MOSFET operation. Thus, we will assume that the body has no effect on the device operation, and we can
treat the MOSFET as a three-terminal device, with the terminals being the gate (G), the source (S), and the
drain (D). We will show that a voltage applied to the gate controls current flow between the source and the
drain. This current will flow in the longitudinal direction from drain to source in the “channel region.” Note
that this region has a length L and a width W, two important parameters of the MOSFET. Typically, L is in
the range of 20 nm to 1 μm, and W is in the range of 30 nm to 100 μm. Finally, note that the MOSFET is
symmetrical; thus its source and drain can be interchanged with no change in device characteristics.
5.1.2 Operation with Zero Gate Voltage
When zero voltage is applied to the gate, we have two back-to-back diodes in series between drain and
source. One diode is formed by the pn junction between the n+ drain region and the p-type substrate, and the
other diode is formed by the pn junction between the p-type substrate and the n+ source region. These back-
to-back diodes prevent current conduction from drain to source when a voltage vDS is applied. In fact, the
path between drain and source has a very high resistance (of the order of 1012 Ω).

5.1.3 Creating a Channel for Current Flow
Now let’s consider the situation depicted in Fig. 5.2. Here we have grounded the source and the drain and
applied a positive voltage to the gate. Since the source is grounded, the gate voltage appears in effect
between gate and source and thus is denoted vGS. The positive voltage on the gate causes, in the first
instance, the free holes (which are positively charged) to be repelled from the area of the substrate just under
the gate (the channel region). These holes are pushed downward into the substrate, leaving behind a carrier-
depletion region. The depletion region is populated by the bound negative charge associated with the
acceptor atoms. These charges are “uncovered” because the neutralizing holes have been pushed downward
into the substrate.
Figure 5.2 The enhancement-type NMOS transistor with a positive voltage applied to the gate. An n channel is induced
at the top of the substrate beneath the gate.
As well, the positive gate voltage attracts electrons from the n+ source and drain regions (where they are
in abundance) into the channel region. When a sufficient number of electrons accumulate near the surface of
the substrate under the gate, an n region is in effect created, connecting the source and drain regions to one
another, as shown in Fig. 5.2. Now if we apply a voltage between drain and source, current flows through
this induced n region, carried by the mobile electrons. The induced n region forms a channel for current
flow from drain to source and is aptly called so. Correspondingly, the MOSFET of Fig. 5.2 is called an n-
channel MOSFET or, alternatively, an NMOS transistor. Note that an n-channel MOSFET is formed in a
p-type substrate: The channel is created by inverting the substrate surface from p type to n type.
The value of vGS at which a sufficient number of mobile electrons accumulate under the gate to form a
conducting channel is called the threshold voltage, Vt.4 Obviously, Vt for an n-channel FET is positive. The
value of Vt is controlled during device fabrication and typically lies in the range of 0.3 V to 1.0 V.

(5.1)
(5.2)
(5.3)
The gate and the channel region of the MOSFET form a parallel-plate capacitor, with the oxide layer
acting as the capacitor dielectric. The positive gate voltage causes positive charge to accumulate on the top
plate of the capacitor (the gate electrode). The corresponding negative charge on the bottom plate is formed
by the electrons in the induced channel. An electric field thus develops in the vertical direction. It is this field
that controls the amount of charge in the channel, and thus it determines the channel conductivity and, in
turn, the current that flows through the channel when a voltage vDS is applied. This is the origin of the name
“field-effect transistor” (FET).
The voltage across this parallel-plate capacitor, that is, the voltage across the oxide, must exceed Vt for a
channel to form. When vDS = 0, as in Fig. 5.2, the voltage at every point along the channel is zero, and the
voltage across the oxide (i.e., between the gate and the points along the channel) is uniform and equal to vGS.
The excess of vGS over Vt is called the effective voltage or the overdrive voltage and is the quantity that
determines the charge in the channel. In this book, we shall denote (vGS − Vt) by vOV,
We can express the magnitude of the electron charge in the channel by
where Cox, called the oxide capacitance, is the capacitance of the parallel-plate capacitor per unit gate area
(in units of F/m2), W is the width of the channel, and L is the length of the channel. The oxide capacitance
Cox is given by
where ϵox is the permittivity of the silicon dioxide,
The oxide thickness tox is determined by the process used to fabricate the MOSFET. As an example, for a
process with tox = 4 nm,
It is much more convenient to express Cox per micron squared. For our example, this yields 8.6 fF/μm2,
where fF denotes femtofarad (10−15 F). For a MOSFET fabricated in this technology with a channel length L
= 0.18 μm and width W = 0.72 μm, the total capacitance between gate and channel is
Finally, note from Eq. (5.2) that as vOV is increased, the magnitude of the channel charge increases
proportionately. Sometimes this is depicted as an increase in the depth of the channel: the larger the

(5.4)
(5.5)
overdrive voltage, the deeper the channel.
5.1.4 Applying a Small vDS
Having induced a channel, we now apply a positive voltage vDS between drain and source, as shown in Fig.
5.3. First consider the case where vDS is small (i.e., 50 mV or so). The voltage vDS causes a current iD to
flow through the induced n channel. Current is carried by free electrons traveling from source to drain
(hence the names source and drain). By convention, the direction of current flow is opposite to that of the
flow of negative charge. Thus the current in the channel, iD, will be from drain to source, as shown in Fig.
5.3.
Figure 5.3 An NMOS transistor with vGS > Vt and with a small vDS applied. The device acts as a resistance whose value
is determined by vGS. Specifically, the channel conductance is proportional to vGS – Vt, and thus iD is proportional to
(vGS – Vt)vDS. Note that the depletion region is not shown (for simplicity).
Now we need to calculate the value of iD. Because vDS is small, we can continue to assume that the
voltage between the gate and various points along the channel remains approximately constant and equal to
the value at the source end, vGS. Thus, the effective voltage between the gate and the various points along the
channel remains equal to vOV, and the channel charge Q is still given by Eq. (5.2). To calculate the current iD
we first find the charge per unit channel length, which, from Eq. (5.2), is
The voltage vDS establishes an electric field E across the length of the channel,

(5.6)
(5.7)
(5.8)
(5.9)
(5.10)
(5.11)
This electric field in turn causes the channel electrons to drift toward the drain with a velocity given by
where μn is the mobility of the electrons at the surface of the channel, a physical parameter whose value
depends on the fabrication process. We can now find the value of iD by multiplying the charge per unit
channel length (Eq. 5.4) by the electron drift velocity (Eq. 5.6),
Thus, for small vDS, the channel behaves as a linear resistance whose value is controlled by the overdrive
voltage vOV, which in turn is determined by vGS :
The conductance gDS of the channel can be found from Eq. (5.7) or (5.8) as
or
Notice that the conductance is determined by the product of three factors: (μnCox), (W/L), and vOV (or
equivalently, vGS − Vt). To better understand MOSFET operation, we consider each of the three factors in
turn.
The first factor, (μnCox), is determined by the process technology used to fabricate the MOSFET. It is the
product of the electron mobility, μn, and the oxide capacitance, Cox. It makes physical sense for the channel
conductance to be proportional to each of μn and Cox and hence to their product, which is called the process
transconductance parameter5 and given the symbol 
 where the subscript n denotes n channel,
It can be shown that with μn having the dimensions of meters squared per volt-second (m2/V · s) and Cox
having the dimensions of farads per meter squared (F/m2), the dimensions of 
 are amperes per volt squared
(A/V2).
The second factor in the expression for the conductance gDS in Eqs. (5.9) and (5.10) is the transistor
aspect ratio (W/L). That the channel conductance is proportional to the channel width W and inversely

(5.12)
(5.13a)
(5.13b)
proportional to the channel length L also makes perfect physical sense. The (W/L) ratio is obviously a
dimensionless quantity that is determined by the device designer, who can select the values of W and L to
give the device the i−v characteristics desired. For a given fabrication process, however, there is a minimum
channel length, Lmin. In fact, a given fabrication process is characterized by its smallest possible channel
length, and the minimum is being continually reduced as technology advances. For instance, in 2019 the
state-of-the-art in commercially available MOS technology was a 14-nm process, meaning that for this
process the minimum channel length possible was 14 nm. Finally, we should note that the oxide thickness tox
scales down with Lmin. Thus, for a 0.13-μm technology, tox is 2.7 nm, but for the popular 65-nm technology,
tox is about 2.2 nm. We will have more to say about technology scaling and Moore’s law in Section 5.4.
The product of the process transconductance parameter 
 and the transistor aspect ratio (W/L) is the
MOSFET transconductance parameter kn,
Just like 
, the MOSFET transconductance parameter kn has the dimensions of A/V2 .
The third term in the expression of the channel conductance gDS is the overdrive voltage vOV. This is
hardly surprising, since vOV directly determines the magnitude of electron charge in the channel. As we will
see, vOV is a very important circuit-design parameter. In this book, we will use vOV and vGS − Vt
interchangeably.
We conclude this subsection by noting that with vDS kept small, the MOSFET behaves as a linear
resistance rDS whose value is controlled by the gate voltage vGS,
The operation of the MOSFET as a voltage-controlled resistance is illustrated in Fig. 5.4, which is a graph of
iD versus vDS for various values of vGS. Note that the resistance is infinite for vGS ≤ Vt and decreases as vGS
is increased above Vt. It is important to note that although vGS is used as the parameter for the set of graphs
in Fig. 5.4, the graphs in fact depend only on vOV (and, of course, kn).

5.1
Figure 5.4 The iD–vDS characteristics of the MOSFET in Fig. 5.3 when the voltage applied between drain and source,
vDS, is kept small. The device operates as a linear resistance whose value is controlled by vGS.
By now you should understand that for the MOSFET to conduct, a channel has to be induced. Then,
increasing vGS above the threshold voltage Vt enhances the channel, hence the names enhancement-mode
operation and enhancement-type MOSFET. Finally, we note that the current that leaves the source
terminal (iS) is equal to the current that enters the drain terminal (iD), and the gate current iG = 0.
EXERCISES
A 0.18-μm fabrication process is specified to have tox = 4 nm, μn = 450 cm2/V · s, and Vt = 0.5 V. Find
the value of the process transconductance parameter 
. For a MOSFET with minimum length
fabricated in this process, find the required value of W so that the device exhibits a channel resistance
rDS of 1 kΩ at vGS = 1 V.
5.1.5 Operation as vDS Is Increased
Next let’s consider the situation as vDS is increased. For this purpose, let vGS be held constant at a value
greater than Vt ; that is, let the MOSFET be operated at a constant overdrive voltage vOV. In Fig. 5.5, you can
see that vDS appears as a voltage drop across the length of the channel. In other words, as we travel along the
channel from source to drain, the voltage (measured relative to the source) increases from zero to vDS. Thus
the voltage between the gate and points along the channel decreases from vGS = Vt + vOV at the source end to
vGD = vGS − vDS = Vt + vOV − vDS at the drain end. Since the channel depth depends on this voltage, and
specifically on the amount by which this voltage exceeds Vt, we find that the channel is no longer of uniform
depth; rather, the channel takes the tapered shape shown in Fig. 5.5, being deepest at the source end (where
the depth is proportional to vOV) and shallowest at the drain end (where the depth is proportional to vOV −
vDS). This point is further illustrated in Fig. 5.6 (a) and (b).
∨Show Answer

Figure 5.5 Operation of the MOSFET as vDS is increased. The induced channel acquires a tapered shape, and its
resistance increases as vDS is increased. Here, vGS is kept constant at a value > Vt ; vGS = Vt + vOV. It is the widening of
the depletion region (not shown) as a result of the increased VDS that makes the channel shallower near the drain.

Figure 5.6 (a) For a MOSFET with vGS = Vt + vOV, applying of vDS causes the voltage drop along the channel to vary
linearly, with an average value of 
 at the midpoint. Since vGD > Vt, the channel still exists at the drain end. (b) The
channel shape corresponding to the situation in (a). While the depth of the channel at the source end is still proportional
to vOV, that at the drain end is proportional to (vOV − vDS).
As vDS is increased, the channel becomes more tapered and its resistance increases correspondingly.
Thus, the iD − vDS curve does not continue as a straight line but bends, as shown in Fig. 5.7. The equation
describing this portion of the iD−vDS curve can be derived using the information in Fig. 5.6. Specifically,
note that the charge in the tapered channel is proportional to the channel cross-sectional area shown in Fig.
5.6(b). This area in turn can be seen as proportional to 
 or 
. Thus, the
relationship between iD and vDS can be found by replacing vOV in Eq. (5.7) by 
,

(5.14)
(5.15)
(5.16)
Figure 5.7 The drain current iD versus the drain-to-source voltage vDS for an enhancement-type NMOS transistor
operated with vGS = Vt + vOV.
This relationship describes the semiparabolic portion of the iD−vDS curve in Fig. 5.7. It applies to the entire
segment down to vDS = 0. Specifically, note that as vDS is reduced, we can neglect 
 relative to vOV in
the factor in parentheses, and the expression reduces to that in Eq. (5.7). The latter of course is an
approximation and applies only for small vDS (i.e., near the origin).
There is another useful interpretation of the expression in Eq. (5.14). From Fig. 5.6(a) we see that the
average voltage along the channel is 
. Thus, the average voltage that gives rise to channel charge and
hence to iD is no longer vOV but 
, which is indeed the factor that appears in Eq. (5.14). Finally,
we should note that Eq. (5.14) is frequently written in the alternate form
Also, we can replace vOV by (vGS−Vt) and rewrite Eq. (5.15) as
5.1.6 Operation for vDS ≥ vOV: Channel Pinch-Off and Current Saturation

(5.17)
(5.18)
Above we assumed that even though the channel became tapered, it still had a finite (nonzero) depth at the
drain end. This is achieved by keeping vDS sufficiently small that the voltage between the gate and the drain,
vGD, exceeds Vt. This is indeed the situation shown in Fig. 5.6(a). Note that for this situation to occur, vDS
must not exceed vOV, for as vDS = vOV, vGD = Vt, and the channel depth at the drain end reduces to zero.
Figure 5.8(a) and (b) show vDS reaching vOV and vGD correspondingly reaching Vt. The zero depth of
the channel at the drain end gives rise to the term channel pinch-off. Increasing vDS beyond this value (i.e.,
vDS > vOV) has no effect on the channel shape and charge, and the current through the channel remains
constant at the value reached for vDS = vOV. We say that the drain current saturates at the value found by
substituting vDS = vOV in Eq. (5.14),
Figure 5.8 Operation of MOSFET with vGS = Vt + vOV, as vDS is increased to vOV. At the drain end, vGD decreases to Vt
and the channel depth at the drain end reduces to zero (pinch-off). At this point, the MOSFET enters the saturation mode
of operation. Further increasing vDS (beyond vDSsat = vOV) has no effect on the channel shape and iD remains constant.
The MOSFET is then said to have entered the saturation region (or, equivalently, the saturation mode of
operation). The voltage vDS at which saturation occurs is denoted vDSsat,
Note that channel pinch-off does not mean channel blockage: Current continues to flow through the pinched-
off channel, and the electrons that reach the drain end of the channel are accelerated through the depletion

(5.19)
(a)
(b)
(c)
5.2
D5.3
(a)
(b)
(c)
(d)
(e)
region that exists there (not shown in Fig. 5.5) and into the drain terminal. Any increase in vDS above vDSsat
appears as a voltage drop across the depletion region. Thus, both the current through the channel and the
voltage drop across it remain constant in saturation.
The saturation portion of the iD−vDS curve is, as we might expect, a horizontal straight line, as shown in
Fig. 5.7. Also indicated in Fig. 5.7 is the name of the region of operation obtained with a continuous (non-
pinched-off) channel, the triode region. This name is a carryover from the days of vacuum-tube devices,
whose operation a FET resembles.
Finally, we can replace vOV in Eq. (5.17) by (vGS−Vt) to obtain the alternate expression for saturation-
mode iD,
Example 5.1
Consider a process technology for which Lmin = 0.18 μm, tox = 4 nm, μn = 450 cm2/V · s, and Vt = 0.5 V.
Find Cox and 
.
For a MOSFET with W/L = 1.8 μm/0.18 μm, calculate the values of vOV, vGS, and vDSmin needed to operate
the transistor in the saturation region with a current iD = 100 μA.
For the device in (b), find the values of vOV and vGS required to cause the device to operate as a 1000-Ω
resistor for very small vDS.
EXERCISES
For a 65-nm process technology for which tox = 1.4 nm, μn = 216 cm2/V · s, and Vt = 0.35 V, find Cox, 
, and the values of vOV and vGS required to operate a transistor having W/L = 10 in saturation with iD
= 50 μA. What is the minimum value of vDS needed?
A circuit designer intending to operate a MOSFET in saturation is considering the effect of changing
the device dimensions and operating voltages on the drain current iD. Specifically, by what factor does
iD change in each of the following cases?
The channel length is doubled.
The channel width is doubled.
The overdrive voltage is doubled.
The drain-to-source voltage is doubled.
Changes (a), (b), (c), and (d) are made simultaneously.
∨Show Solution
∨Show Answer

Which of these cases might cause the MOSFET to leave the saturation region?
5.1.7 The p-Channel MOSFET
Figure 5.9(a) shows a cross section of a p-channel enhancement-type MOSFET. The structure is similar to
that of the NMOS device except that here the substrate is n type and the source and the drain regions are p+
type; that is, all semiconductor regions are reversed in polarity relative to their counterparts in the NMOS
case. The PMOS and NMOS transistors are said to be complementary devices.
Figure 5.9 (a) Physical structure of the PMOS transistor. Note that it is similar to the NMOS transistor shown in Fig.
5.1(b) except that all semiconductor regions are reversed in polarity.
Figure 5.9 (b) A negative voltage vGS of magnitude greater than |Vtp| induces a p channel, and a negative vDS causes a
current iD to flow from source to drain.
∨Show Answer

To induce a channel for current flow between source and drain, a negative voltage is applied to the gate,
that is, between gate and source, as indicated in Fig. 5.9(b). By increasing the magnitude of the negative vGS
beyond the magnitude of the threshold voltage Vtp, which by convention is negative, a p channel is
established as shown in Fig. 5.9(b). This condition can be described as
or, to avoid dealing with negative signs,
Now, to make a current iD flow in the p channel, we apply a negative voltage vDS to the drain.6 The current
iD is carried by holes and flows through the channel from source to drain. As we did for the NMOS
transistor, we define the process transconductance parameter for the PMOS device as
where μp is the mobility of the holes in the induced p channel. Typically, μp = 0.25 μn to 0.5 μn and is
process-technology dependent. The transistor transconductance parameter kp is obtained by multiplying 
by the aspect ratio W/L,
The remainder of the description of the physical operation of the p-channel MOSFET follows that for the
NMOS device, except of course for the sign reversals of all voltages. We will present the complete current–
voltage characteristics of both NMOS and PMOS transistors in the next section.
PMOS technology originally dominated MOS integrated-circuit manufacturing, and the original
microprocessors utilized PMOS transistors. As the technological difficulties of fabricating NMOS transistors
were solved, NMOS completely supplanted PMOS. The main reason for this change is that electron mobility
μn is higher by a factor of 2 to 4 than the hole mobility μp, resulting in NMOS transistors having greater
gains and speeds of operation than PMOS devices. Subsequently, a technology was developed that permits
the fabrication of both NMOS and PMOS transistors on the same chip. Appropriately called complementary
MOS, or CMOS, this technology is currently the dominant electronics technology.
5.1.8 Complementary MOS or CMOS
As the name implies, complementary MOS technology uses MOS transistors of both polarities. Although
CMOS circuits are somewhat more difficult to fabricate than NMOS, the availability of complementary
devices makes many powerful circuit configurations possible. Indeed, CMOS is now the most widely used of
all the IC technologies in both analog and digital circuits. CMOS technology has virtually replaced designs
based on NMOS transistors alone, and by 2019 CMOS technology had taken over many applications that
just a few years earlier were possible only with bipolar devices. Throughout this book, we will study many
CMOS circuit techniques.
Figure 5.10 shows a cross section of a CMOS chip illustrating how the PMOS and NMOS transistors are
fabricated. Observe that while the NMOS transistor is built directly in the p-type substrate, the PMOS

transistor is built in a specially created n region, known as an n well. The two devices are isolated from each
other by a thick region of oxide that functions as an insulator.
Figure 5.10 Cross section of a CMOS integrated circuit. Note that the PMOS transistor is formed in a separate n-type
region, known as an n well, which functions as the body for the PMOS transistor. Not shown are the connections made to
the p-type body and to the n well body.

5.2 Current–Voltage Characteristics
Building on the physical foundation established in the previous section for the operation of the enhancement
MOS transistor, in this section we present its complete current–voltage characteristics. These characteristics
can be measured at dc or at low frequencies and thus are called static characteristics. The dynamic effects
that limit the operation of the MOSFET at high frequencies and high switching speeds will be discussed in
Chapter 10.
5.2.1 Circuit Symbol
Figure 5.11(a) shows the circuit symbol for the n-channel enhancement-type MOSFET. The spacing between
the two vertical lines that represent the gate and the channel indicates that the gate electrode is insulated
from the body of the device. The polarity of the p-type substrate (body) and the n channel is indicated by the
arrowhead on the line representing the body (B). This arrowhead also indicates the polarity of the transistor,
namely, that it is an n-channel device.
Figure 5.11 (a) Circuit symbol for the n-channel enhancement-type MOSFET. (b) Modified circuit symbol with an
arrowhead on the source terminal to distinguish it from the drain and to indicate device polarity (i.e., n channel). (c)
Simplified circuit symbol to be used when the source is connected to the body or when the effect of the body on device
operation is unimportant.
Although the MOSFET is a symmetrical device, it is often useful in circuit design to designate one
terminal as the source and the other as the drain (without having to write S and D beside the terminals). The
modified circuit symbol in Fig. 5.11(b) accomplishes that by placing an arrowhead on the source terminal to
distinguish it from the drain terminal. The arrowhead points in the normal direction of current flow and thus
indicates the polarity of the device (i.e., n channel). Notice that in the modified symbol, there is no need to
show the arrowhead on the body line. Although the circuit symbol of Fig. 5.11(b) clearly distinguishes the
source from the drain, in practice it is the polarity of the voltage applied across the device that determines
source and drain; the drain is always positive relative to the source in an n-channel MOSFET.
In applications where the source is connected to the body of the device, a further simplification of the
circuit symbol is possible, as indicated in Fig. 5.11(c). This symbol is also used in applications when the
effect of the body on circuit operation is not important, as will be seen later.
5.2.2 The iD–vDS Characteristics

Table 5.1 provides the conditions and the formulas for the operation of the NMOS transistor in each of the
three possible regions: the cutoff region, the triode region, and the saturation region. The cutoff and triode
regions are useful when we want to operate the MOSFET as a switch. If we want to use the MOSFET to
design an amplifier, it must be operated in the saturation region. The rationale for these choices will be
addressed in Chapter 7.
Table 5.1 Regions of Operation of the Enhancement NMOS Transistor
At the top of Table 5.1 we show a circuit consisting of an NMOS transistor and two dc supplies
providing vGS and vDS. This conceptual circuit can be used to measure the iD–vDS characteristic curves of
the NMOS transistor. Each curve is measured by setting vGS to a desired constant value, varying vDS, and
measuring the corresponding iD. Two of these characteristic curves are shown in the accompanying diagram:

one for vGS < Vtn and the other for vGS = Vtn + vOV. (Note that we are now using Vtn to denote the threshold
voltage of the NMOS transistor, to distinguish it from that of the PMOS transistor, denoted Vtp.)
As Table 5.1 shows, the boundary between the triode region and the saturation region is determined by
whether vDS is less or greater than the overdrive voltage vOV at which the transistor is operating. An
equivalent way to check for the region of operation is to examine the relative values of the drain and gate
voltages. To operate in the triode region, the gate voltage must exceed the drain voltage by at least Vtn volts,
which ensures that the channel remains continuous (not pinched off). On the other hand, to operate in
saturation, the channel must be pinched off at the drain end; pinch-off is achieved here by keeping vD higher
than vG–Vtn, that is, not allowing vD to fall below vG by more than Vtn volts. Refer to Fig. 5.12 for a
graphical reminder of these conditions.
Figure 5.12 The relative levels of the terminal voltages of the enhancement NMOS transistor for operation in the triode
region and in the saturation region.
Figure 5.13 shows a set of iD–vDS characteristics for the NMOS transistor. Notice that each graph is
obtained by setting vGS above Vtn by a specific value of overdrive voltage, denoted vOV1, vOV2, vOV3, and
vOV4. This in turn is the value of vDS at which the corresponding graph saturates, and the value of the
resulting saturation current is directly determined by the value of vOV, namely, 
 You
should memorize both the structure of these graphs and the coordinates of the saturation points.

(5.20)
(5.21)
(5.22)
Figure 5.13 The iD–vDS characteristics for an enhancement-type NMOS transistor.
Finally, notice that the boundary between the triode and the saturation regions, that is, the locus of the
saturation points, is a parabolic curve described by
5.2.3 The iD–vGS Characteristic
When the MOSFET is used to design an amplifier, it is operated in the saturation region. As Fig. 5.13
indicates, in saturation the drain current is a constant determined by vGS (or vOV) and is independent of vDS.
That is, the MOSFET operates as a constant-current source where the value of the current is determined by
vGS. In effect, then, the MOSFET operates as a voltage-controlled current source with the control
relationship described by
or in terms of vOV,
This is the relationship that underlies the application of the MOSFET as an amplifier. The fact that it is
nonlinear creates a challenge when designing linear amplifiers, but we will show how to do this in Chapter 7.

Figure 5.14 shows the iD–vGS characteristic of an NMOS transistor operating in saturation. Note that if
we want to plot iD versus vOV, we simply shift the origin to the point vGS = Vtn.
Figure 5.14 The iD–vGS characteristic of an NMOS transistor operating in the saturation region. The iD–vOV
characteristic can be obtained by simply relabeling the horizontal axis, that is, shifting the origin to the point vGS = Vtn.
The view of the MOSFET in the saturation region as a voltage-controlled current source is illustrated by
the equivalent-circuit representation shown in Fig. 5.15. For reasons that will become apparent shortly, the
circuit in Fig. 5.15 is known as a large-signal equivalent circuit. Note that the current source is ideal,7 with
an infinite output resistance representing the independence, in saturation, of iD from vDS. This is what we
have assumed in the idealized model of device operation we have used so far. We are about to rectify an
important shortcoming of this model. First, however, we present an example.
Figure 5.15 Large-signal, equivalent-circuit model of an n-channel MOSFET operating in the saturation region.
Example 5.2

(a)
(b)
5.4
5.5
Consider an NMOS transistor fabricated in a 0.18-µm process with L = 0.18 µm and W = 2 µm. The process
technology is specified to have Cox = 8.6 fF/µm2, µn = 450 cm2/V · s, and Vtn = 0.5 V.
Find vGS and vDS that result in the MOSFET operating at the edge of saturation with iD = 100 µA.
If vGS is kept constant, find vDS that results in iD = 50 µA.
EXERCISES
An NMOS transistor is operating at the edge of saturation with an overdrive voltage vOV and a drain
current iD. If vOV is doubled, and we must maintain operation at the edge of saturation, what should
vDS be changed to? What value of drain current results?
An n-channel MOSFET operating with vOV = 0.5 V exhibits a linear resistance rDS = 1 kΩ when vDS is
very small. What is the value of the device transconductance parameter kn? What is the value of the
current iD obtained when vDS is increased to 0.2 V? to 0.5 V? and to 1 V?
5.2.4 Finite Output Resistance in Saturation
Equation (5.21) and the corresponding large-signal equivalent circuit in Fig. 5.15, as well as the graphs in
Fig. 5.13, show that in saturation, iD is independent of vDS. Thus, a change ΔvDS in the drain-to-source
voltage causes a zero change in iD, which implies that the incremental resistance looking into the drain of a
saturated MOSFET is infinite. This, however, is an idealization based on the premise that once the channel is
pinched off at the drain end, further increases in vDS have no effect on the channel’s shape. But, in practice,
increasing vDS beyond vOV does affect the channel somewhat. As vDS is increased, the channel pinch-off
point moves slightly away from the drain, toward the source. This is illustrated in Fig. 5.16, which shows
that the voltage across the channel remains constant at vOV, and the additional voltage applied to the drain
appears as a voltage drop across the narrow depletion region between the end of the channel and the drain
region. This voltage accelerates the electrons that reach the drain end of the channel and sweeps them across
the depletion region into the drain. Note, however, that (with depletion-layer widening) the channel length is
in effect reduced, from L to L – ΔL, a phenomenon known as channel-length modulation. Now, since iD is
inversely proportional to the channel length (Eq. 5.21), iD increases with vDS.
∨Show Solution
∨Show Answer
∨Show Answer

(5.23)
Figure 5.16 Increasing vDS beyond vDSsat (which is equal to vOV) causes the channel pinch-off point to move slightly
away from the drain, thus reducing the effective channel length (by ΔL).
We account for this effect in the expression for iD by including a factor 1 + λ(vDS – vOV) or, for
simplicity, (1 + λvDS),
Here λ is a device parameter whose units are reciprocal volts (V–1) The value of λ depends both on the
process technology used to fabricate the device and on the channel length L that the circuit designer selects.
Specifically, the value of λ is much larger for newer submicron technologies than for older technologies. This
makes intuitive sense: Newer technologies have very short channels, and are thus much more greatly
impacted by the channel-length modulation effect. Also, for a given process technology, λ is inversely
proportional to L.
Figure 5.17 presents a typical set of iD–vDS characteristics showing the effect of channel-length
modulation. The observed linear dependence of iD on vDS in the saturation region is represented in Eq. (5.23)
by the factor (1 + λvDS). From Fig. 5.17 we can see that when the straight-line iD–vDS characteristics are
extrapolated, they intercept the vDS axis at the point, vDS = –VA, where VA is a positive voltage. Equation
(5.23), however, indicates that iD = 0 at vDS = –1/λ. It follows that

(5.24)
(5.25)
Figure 5.17 Effect of vDS on iD in the saturation region. The MOSFET parameter VA depends on the process technology
and, for a given process, is proportional to the channel length L.
and thus VA is a device parameter with the dimensions of V. For a given process, VA is proportional to the
channel length L that the designer selects for a MOSFET. We can isolate the dependence of VA on L by
expressing it as
where 
 is entirely process-technology dependent, with the dimensions of volts per micron. Typically, 
falls in the range of 5 V/µm to 50 V/µm. The voltage VA is usually referred to as the Early voltage, after J.
M. Early, who discovered a similar phenomenon for the BJT (See Chapter 6).
Equation (5.23) indicates that when channel-length modulation is taken into account, the saturation
values of iD depend on vDS. Thus, for a given vGS, a change ΔvDS yields a corresponding change ΔiD in the
drain current iD. It follows that the output resistance of the current source representing iD in saturation is no
longer infinite. Defining the output resistance ro as8
and using Eq. (5.23) results in

(5.26)
(5.27)
(5.27’)
5.6
which can be written as
or, equivalently,
where 
 is the drain current without channel-length modulation taken into account; that is,
Thus the output resistance is inversely proportional to the drain current.9 Finally, we show in Fig. 5.18 the
large-signal, equivalent-circuit model incorporating ro.
Figure 5.18 Large-signal, equivalent-circuit model of the n-channel MOSFET in saturation, incorporating the output
resistance ro. The output resistance models the linear dependence of iD on vDS and is given by Eq. (5.27).
EXERCISES
An NMOS transistor is fabricated in a 0.18-µm process having µnCox = 400 µA/V2 and 
 of channel length. If L = 0.8 µm and W = 16 µm, find VA and λ. Find the value of
iD that results when the device is operated with an overdrive voltage vOV = 0.2 V and vDS = 0.8 V.
Also, find the value of ro at this operating point. If vDS is increased by 1 V, what is the corresponding
change in iD?
5.2.5 Characteristics of the p-Channel MOSFET
∨Show Answer

The circuit symbol for the p-channel enhancement-type MOSFET is shown in Fig. 5.19(a). Figure 5.19(b)
shows a modified circuit symbol in which an arrowhead pointing in the normal direction of current flow is
included on the source terminal. When the source is connected to the substrate, the simplified symbol of Fig.
5.19(c) is usually used.
Figure 5.19 (a) Circuit symbol for the p-channel enhancement-type MOSFET. (b) Modified symbol with an arrowhead
on the source lead. (c) Simplified symbol for cases where the source is connected to the body.
The regions of operation of the PMOS transistor and the corresponding conditions and expression for iD
are shown in Table 5.2. Note that the equations are written in a way that emphasizes physical intuition and
avoids the confusion of negative signs. Thus while Vtp is by convention negative, we use |Vtp|, and the
voltages vSG and vSD are positive. Also, in all of our circuit diagrams we will always draw p-channel devices
with their sources on top so that current flows from top to bottom. Finally, we note that PMOS devices also
suffer from the channel-length modulation effect. This can be taken into account by including a factor (1 + |
λ | vSD) in the saturation-region expression for iD as follows
Table 5.2 Regions of Operation of the Enhancement PMOS Transistor

(5.28)
(5.29)
or equivalently
where λ and VA (the Early voltage for the PMOS transistor) are by convention negative quantities, hence we
use |λ| and | VA|.
Finally, we should note that for a given CMOS fabrication process λn and |λp| are generally not equal,
and similarly for VAn and |VAp|.

To recap, to turn a PMOS transistor on, the gate voltage has to be made lower than that of the source by
at least |Vtp|. To operate in the triode region, the drain voltage has to exceed that of the gate by at least |Vtp|;
otherwise, the PMOS operates in saturation. Finally, Fig. 5.20 provides a pictorial representation of these
operating conditions.
Figure 5.20 The relative levels of the terminal voltages of the enhancement-type PMOS transistor for operation in the
triode region and in the saturation region.
Video Example VE 5.1
The PMOS transistor in Fig. VE5.1 has Vtp = –0.5 V. As the gate voltage vG is varied from +3 V to 0 V, the
transistor moves through all of its three possible modes of operation. Specify the values of vG at which the
device changes modes of operation.
Figure VE5.1 Circuit for Video Example 5.1.
 Solution: Watch the authors solve this problem.


(f)
For λ = –0.2V–1 and for the value of vOV determined in (d), find iD at vD = +1 V and at vD = 0 V;
hence, calculate the value of the apparent output resistance in saturation. Compare to the value
found in (e).
∨Show Answer

5.3 MOSFET Circuits at DC
Having studied the current–voltage characteristics of MOSFETs, we now consider circuits involving only dc
voltages and currents. Specifically, we shall present a series of design and analysis examples of MOSFET
circuits operating at dc. The goal of these examples is to make you familiar with the device and to help you
acquire the ability to perform MOSFET circuit analysis both rapidly and effectively.
To keep matters simple and focus our attention on the essence of MOSFET circuit operation, we will
generally neglect channel-length modulation; that is, we will assume λ = 0. We will find it convenient to
work in terms of the overdrive voltage; VOV = VGS – Vtn for NMOS and |VOV | = VSG – |Vtp| for PMOS.
Also, since we are only dealing with dc quantities, we will use uppercase symbols with uppercase subscripts
for all currents and voltages.
Example 5.3
Design the circuit of Fig. 5.21: that is, determine the values of RD and RS so that the transistor operates at ID =
0.2 mA and VD = +0.2 V. The NMOS transistor has Vt = 0.5 V, μnCox = 400 μA/V2, L = 0.5 μm, and W = 15
μm. Neglect the channel-length modulation effect (i.e., assume that λ = 0).
Figure 5.21 Circuit for Example 5.3.
Video Example VE 5.2
Design the circuit of Fig. 5.21 to establish a drain current of 0.1 mA and a drain voltage of +0.3 V. The
MOSFET has Vt = 0.5 V, μnCox = 400 μA/V2, L = 0.4 μm, and W = 5 μm. Specify the required values for RS and
RD. Assume λ = 0.
 Solution: Watch the authors solve this problem.
∨Show Solution



D5.9
D5.10
EXERCISES
For the circuit in Fig. E5.9, find the value of R that results in VD = 0.7 V. The MOSFET has 
, and λ = 0.
Figure E5.9
Figure E5.10 shows a circuit obtained by augmenting the circuit of Fig. E5.9 with a transistor Q2
identical to Q1 and a resistance R2. Find the value of R2 that results in Q2 operating at the edge of the
saturation region. Use your solution to Exercise 5.9.
Figure E5.10
Example 5.5
Design the circuit in Fig. 5.23 to establish a drain voltage of 0.1 V. What is the effective resistance between drain
and source at this operating point? Let Vtn = 0.5 V and 
 = 2 mA/V2.
∨Show Answer
∨Show Answer

5.11
Figure 5.23 Circuit for Example 5.5.
EXERCISES
If in the circuit of Example 5.5 the value of RD is doubled (to 13.1 kΩ), find approximate values for ID
and VD.
Example 5.6
Analyze the circuit shown in Fig. 5.24(a) to determine the voltages at all nodes and the currents through all
branches. Let Vtn = 1 V and 
 = 1 mA/V2. Neglect the channel-length modulation effect (i.e., assume λ
= 0).
Figure 5.24 (a) Circuit for Example 5.6.
∨Show Solution
∨Show Answer
∨Show Solution

5.12
D5.13
D5.14
EXERCISES
For the circuit of Fig. 5.24(b), what is the largest value that RD can have while the transistor remains in
the saturation mode?
Redesign the circuit of Fig. 5.24(b) for the following requirements: VDD = +5 V, ID = 0.32 mA, VS =
1.6 V, VD = 3.4 V, with a 1-μA current through the voltage divider RG1, RG2. Assume the same
MOSFET as in Example 5.6.
Example 5.7
Design the circuit of Fig. 5.25 so that the transistor operates in saturation with ID = 0.5 mA and VD = +3 V. Let
the PMOS transistor have Vtp = –1 V and 
 = 1 mA/V2. Assume λ = 0. What is the largest value that RD
can have while maintaining saturation-region operation?
Figure 5.25 Circuit for Example 5.7.
EXERCISES
For the circuit in Fig. E5.14, find the value of R that casues the PMOS transistor to operate with an
overdrive voltage |VOV| = 0.6 V. The threshold voltage is Vtp = –0.4 V, the process transconductance
parameter 
 = 0.1 mA/V2, and W/L = 10 μm/0.18 μm.
∨Show Answer
∨Show Answer
∨Show Solution
∨Show Answer

Figure E5.14
Example 5.8
The NMOS and PMOS transistors in the circuit of Fig. 5.26(a) are matched, with 
(Wn/Ln) = 
(Wp/Lp) = 1
mA/V2 and Vtn = – Vtp = 1 V. Assuming λ = 0 for both devices, find the drain currents IDN and IDP, as well as
the voltage VO, for VI = 0 V, +2.5 V, and –2.5 V.
Figure 5.26 (a) Circuit for Example 5.8.
Video Example VE 5.4
∨Show Solution


Figure E5.15
Concluding Remark If a MOSFET is conducting but its mode of operation (saturation or triode) is not
known, we assume operation in the saturation region, solve the problem, and check whether the conditions
for saturation-mode operation are satisfied. If not, then the MOSFET is operating in the triode region, and
we redo the analysis accordingly.
∨Show Answer

5.4 Technology Scaling (Moore’s Law) and Other Topics
In this section, we round out our study of the operation and characteristics of the MOSFET by briefly
looking into a number of related topics, the most important of which is technology scaling. Popularly known
as Moore’s law, the continual reduction of the physical dimensions of MOSFETs over the past 50 years has
been the driving force of the microelectronics revolution.
5.4.1 Technology Scaling
As mentioned in Section 5.1.4, a given CMOS process technology is characterized by the minimum channel
length it allows. Thus, in a 0.18-μm CMOS process, the minimum allowable MOSFET channel length is
0.18 μm. Advances in CMOS fabrication technology over the past 50 years have resulted in processes for
which Lmin has been continually reduced. In fact, every 2 to 3 years, a new CMOS process has been
introduced for which Lmin is reduced by about 30%, that is, to 0.7 of the value in the preceding technology.
Thus, with every new technology generation, the MOSFET area has been reduced by a factor of 1/(0.7×0.7)
or approximately 2, allowing the assembly of twice as many devices on a silicon chip of the same area. This
astounding phenomenon, predicted over 50 years ago by Gordon Moore, has become known as Moore’s
law. It is the ability to pack an exponentially increasing number of transistors on an integrated-circuit (IC)
chip that has resulted in the continual reduction in the cost of electronic products (e.g., computers, tablets,
smartphones, etc.). Also, the diminishing size of transistors has enabled these devices to operate at much
greater speeds.
Figure 5.27 shows the exponential reduction in MOSFET channel length (by a factor of 2 every 5 years)
over a period of 50 years. The solid dots on the graph indicate some of the prominent technology generations
or technology nodes. Thus, we see the 10-μm process of the early 1970s, the submicron (Lmin < 1 μm)
processes of the early 1990s, and the deep-submicron (Lmin < 0.25 μm) processes of the last two decades,
including the state-of-the-art 14-nm process represented by the second-last dot on the graph. A number of
microprocessor chips manufactured using this technology were announced in 2018. These chips contain
between 6 billion and 9 billion transistors and are clocked at about 5 GHz. Finally, the last dot on the graph
represents a 7-nm CMOS technology that in 2018 was used to fabricate a computer memory chip. We will
study digital circuits in Part III of this book.
GORDON MOORE’S LAW
∨

Figure 5.27 The MOSFET channel length has been reduced by a factor of 2 about every 5 years. This phenomenon,
known as Moore’s law, is continuing.
Implications of Technology Scaling Technology scaling refers to the scaling down of the MOSFET
device dimensions L, W, and tox by a factor 1/S, where S > 1. Simultaneously, the power supply voltage VDD
and the threshold voltage Vt are scaled down by the same factor. The reduction of VDD is motivated by two
factors: (1) to keep the longitudinal electric field in the short channel from reaching very high values and (2)
to reduce the power dissipation.
Table 5.3 shows some of the scaling implications. Notice that the MOSFET area is scaled by 1/S2, and
that the oxide capacitance Cox is scaled by the factor S. Assuming μn and μp do not change, the process
transconductance parameters, 
 and 
, increase by the factor S. Finally, the gate capacitance Cgate is scaled
by 1/S and thus decreases. The reduction in Cgate points in the direction of increased speed of operation, as
we will see in later chapters.
Table 5.3 Implications of Device and Voltage Scaling
 
Parameter
Relationship
Scaling Factor
1
W, L, tox
 
1/S
2
VDD, Vt
 
1/S
3
Area/Device
WL
1/S2
4
Cox
ϵox/tox
S
5
μnCox, μpCox
S
6
Cgate
WLCox
1/S
Typical Parameter Values Realized in Some CMOS Processes With the theoretical implications of
technology scaling in hand, let’s now look at some of the more popular CMOS processes. Table 5.4 provides
typical values for the important parameters of NMOS and PMOS transistors fabricated in a number of
CMOS processes, ranging from the rather old 0.8-μm process to the very recent 28-nm process. Although the
0.8-μm and 0.5-μm processes are now obsolete, their data are included to show trends in the values of
various parameters.

1.
2.
3.
4.
Table 5.4 Typical Values of CMOS Device Parameters
0.8 μm
0.5 μm
0.25 μm
0.18 μm
0.13 μm
65 nm
28 nm
Parameter
NMOS PMOS NMOS PMOS NMOS PMOS NMOS PMOS NMOS PMOS NMOS PMOS NMOS PMOS
tox (nm)
15
15
9
9
6
6
4
4
2.7
2.7
1.4
1.4
1.4
1.4
Cox (fF/
μm2)
2.3
2.3
3.8
3.8
5.8
5.8
8.6
8.6
12.8
12.8
25
25
34
34
μ(cm2/V·s) 550
250
500
180
460
160
450
100
400
100
216
40
220
200
μCox
(μA/V2)
127
58
190
68
267
93
387
86
511
128
540
100
750
680
Vt0 (V)
0.7
-0.7
0.7
-0.8
0.5
-0.6
0.5
-0.5
0.4
-0.4
0.35
-0.35
0.3
-0.3
VDD (V)
5
5
3.3
3.3
2.5
2.5
1.8
1.8
1.3
1.3
1.0
1.0
0.9
0.9
25
20
20
10
5
6
5
6
5
6
3
3
1.5
1.5
Cov (fF/
μm)
0.2
0.2
0.4
0.4
0.3
0.3
0.37
0.33
0.36
0.33
0.33
0.31
0.4
0.4
Here we note that although the 0.18-μm and 0.13-μm processes are not very new, they remain popular in the
design of analog circuits.10
Some important observations on the data in Table 5.4 are:
The scaling down of tox and the corresponding scaling up of Cox follows theoretical predictions,
except for the last technology node shown (28-nm), which represents the trend for subsequent
technologies: tox cannot be reduced further as this results in increased gate leakage current. Thus,
to increase Cox, a different material (other than silicon dioxide) with a higher permittivity is used
for the gate dielectric.
Although not predicted by our simple scaling framework (Table 5.3), both μn and μp decrease with
scaling, with the latter decreasing much faster. Thus, we see that for the 0.13-μm and 65-nm
processes, the μp/μn ratio is nearly 1/4. This is problematic as it results in PMOS devices becoming
the bottleneck for the gain and speed achieved in CMOS circuits (a lot more on this later). To
reverse this trend, modern processes (including the 28-nm process shown) use techniques that
result in μp becoming almost equal to μn.
While the reduction in VDD has been dramatic (from 5 V for the 0.8-μm process to 0.9 V for the
28-nm process), it has not followed the theoretical trend assumed in Table 5.3. The same
observation applies to | Vt |, which despite having been reduced from 0.7 V to 0.3 V, has not
followed the theoretical scaling model. There is a very good reason for not reducing | Vt | any
further: as | Vt | becomes smaller, the leakage current through the channel becomes greater. We will
have more to say about leakage currents shortly.
Another significant though undesirable feature of modern deep-submicron CMOS technologies is
that the channel-length modulation effect has become very pronounced. As a result, | 
 | has
decreased to about 1.5 V/μm. Correspondingly, short-channel MOSFETs exhibit low values for the
output resistance ro.
The iD–vGS Characteristic of Short-Channel MOSFETs In Section 5.1 we arrived at the square-law iD–
vGS characteristic by assuming that the drift velocity of the electrons along the channel, and hence iD,
increases in proportion to the longitudinal electric field established by vDS. However, this does not apply for

very short channels; at high values of the longitudinal electric field, the carrier drift velocity no longer
increases. This velocity saturation phenomenon is one of a host of issues that occur in short-channel
devices, resulting in iD increasing more slowly with vGS than predicted by the square-law relationship.
It is beyond the scope of this book to consider more elaborate models that better characterize short-
channel MOSFETs. Thus, for pencil-and-paper analysis, which is critical in the initial phase of designing a
circuit, we will continue to use the square-law MOSFET model. For circuit simulation, which is an
indispensable step in the final stages of designing an IC, more elaborate models available in simulation
programs such as Spice can be used (see Appendix B).
5.4.2 Subthreshold Conduction and Leakage Currents
In our study of the NMOS transistor in Section 5.1, we assumed that current conduction between drain and
source occurs only when vGS exceeds Vt. That is, we assumed that for vGS < Vt no current flows between
drain and source. This, however, turns out not to be the case, especially for deep-submicron devices.
Specifically, for vGS < Vt, a small current iD flows. To be able to see this subthreshold conduction, we have
redrawn the iD–vGS graph in Fig. 5.28 using a logarithmic scale for iD. Notice that at low values of vGS, the
relationship between log iD and vGS is linear, indicating that iD varies exponentially with vGS. The
exponential iD–vGS characteristic of a MOSFET operating in the subthreshold region resembles that of the
BJT (Chapter 6).
Figure 5.28 The iD–vGS characteristic of a short-channel MOSFET. To show the details of subthreshold conduction a
logarithmic scale is needed for iD.
Subthreshold conduction has been put to good use in the design of very-low-power circuits such as those
needed for electronic watches. Generally speaking, however, subthreshold conduction is a problem in digital
IC design, primarily because of the nonzero current iD that flows for vGS = 0. This current is considered a
leakage current and results in power dissipation even when the transistor is cut off. To keep leakage currents
as small as possible, | Vt | of the MOSFET is not reduced below 0.3 V or so. Although the leakage current is
low (few pico amps) and the power dissipation in each cutoff transistor is correspondingly small, the
problem becomes serious in modern digital IC chips, which contain billions of transistors. Leakage currents,
therefore, limit the battery life of mobile electronics that are idle for long periods of time. Also, leakage
currents increase dramatically with temperature (similar to the diode saturation or scale current), so that
more power is wasted at higher temperatures.

(5.30)
(5.31)
5.16
5.4.3 The Role of the Substrate—The Body Effect
In many applications the source terminal of a MOSFET is connected to the substrate (or body) terminal B,
which causes the pn junction between the substrate and the induced channel (review Fig. 5.5) to have a
constant zero (cutoff) bias. In such a case the substrate does not play any role in circuit operation and its
existence can be ignored altogether.
In integrated circuits, however, the substrate is usually shared across many MOS transistors. In order to
maintain the cutoff condition for all the substrate-to-channel junctions, the substrate is usually connected to
the most negative power supply in an NMOS circuit (the most positive in a PMOS circuit). The resulting
reverse-bias voltage between source and body (VSB in an n-channel device) will have an effect on device
operation. Consider, for example, an NMOS transistor whose substrate is negative relative to its source. The
reverse-bias voltage will widen the depletion region (refer to Fig. 5.2). This, in turn, reduces the channel
depth. To return the channel to its former state, vGS has to be increased.
The simplest way to represent the effect of VSB on the channel is as a change in the threshold voltage Vt.
Increasing the reverse substrate bias voltage VSB results in an increase in Vt according to the relationship
where Vt0 is the threshold voltage for VSB = 0; ϕf is a physical parameter with (2ϕf) typically 0.6 V; γ is a
fabrication-process parameter given by
where q is the magnitude of the electron charge (1.6 × 10−19 C), NA is the doping concentration of the p-type
substrate, and ϵs is the permittivity of silicon (11.7ϵ0 = 11.7 × 8.854 × 10−14 = 1.04 × 10−12 F/cm). The
parameter γ has the dimension of 
 and is typically 0.4 V1/2. Finally, note that Eq. (5.30) applies equally
well for p-channel devices with VSB replaced by the reverse bias of the substrate, VBS (or, alternatively,
replace VSB by |VSB|) and note that γ is negative. Also, in evaluating γ, NA must be replaced with ND, the
doping concentration of the n well in which the PMOS is formed. For p-channel devices, 2ϕf is typically 0.75
V, and γ is typically −0.5 V1/2.
EXERCISES
An NMOS transistor has Vt0 = 0.8 V, 2ϕf = 0.7 V, and γ = 0.4 V1/2. Find Vt when VSB = 3 V.
Equation (5.30) indicates that an incremental change in VSB causes an incremental change in Vt, which in
turn produces an incremental change in iD, even though vGS might have been kept constant. It follows that
∨Show Answer

the body voltage controls iD; thus, the body acts as another gate for the MOSFET, a phenomenon known as
the body effect. The parameter γ is known as the body-effect parameter.
5.4.4 Temperature Effects
Both Vt and kʹ are temperature sensitive. The magnitude of Vt decreases by about 2 mV for every 1°C rise in
temperature. This decrease in |Vt| gives rise to a corresponding increase in drain current as temperature is
increased. However, because kʹ decreases with temperature and its effect is a dominant one, the overall
observed effect of a temperature increase is a decrease in drain current. This very interesting result is put to
use in applying the MOSFET in power circuits (Chapter 12).
5.4.5 Breakdown and Input Protection
As the voltage on the drain is increased, a value is reached at which the pn junction between the drain region
and the substrate suffers avalanche breakdown (see Section 3.5.3). This breakdown usually occurs at
voltages of 10 V and higher and results in a somewhat rapid increase in current (known as a weak
avalanche).
Another breakdown effect that occurs at lower voltages in modern devices is called punch-through. It
occurs in devices with relatively short channels when the drain voltage is increased to the point that the
depletion region surrounding the drain region extends through the channel to the source. The drain current
then increases rapidly. Normally, punch-through does not result in permanent damage to the device.
Yet another kind of breakdown occurs when the gate-to-source voltage exceeds a few volts. This is the
breakdown of the gate oxide and results in permanent damage to the device. As the MOSFET has a very
high input resistance and a very small input capacitance, small amounts of static charge accumulating on the
gate capacitor can cause its breakdown voltage to be exceeded.
To prevent the accumulation of static charge on the gate capacitor of a MOSFET, gate-protection devices
are usually included at the input terminals of MOS integrated circuits. The protection mechanism invariably
makes use of clamping diodes.
In later chapters, we shall see that small MOSFET devices are required for high-speed operation, but due
to breakdown, it is difficult to combine high speed and high voltages in MOSFET circuits. This is where the
bipolar junction transistor (studied in Chapter 6) excels.
5.4.6 The Depletion-Type MOSFET
We conclude this section with a brief discussion of another type of MOSFET, the depletion-type MOSFET.
Its structure is similar to that of the enhancement-type MOSFET with one important difference: The
depletion MOSFET has a physically implanted channel. Thus an n-channel depletion-type MOSFET has an
n-type silicon region connecting the n+ source and the n+ drain regions at the top of the p-type substrate.
Thus if a voltage vDS is applied between drain and source, a current iD flows for vGS = 0. In other words,
there is no need to induce a channel, unlike the case of the enhancement-type MOSFET.
The channel depth and hence its conductivity can be controlled by vGS in exactly the same manner as in
the enhancement-type device. Applying a positive vGS enhances the channel by attracting more electrons
into it. Here, however, we also can apply a negative vGS, which causes electrons to be repelled from the

channel; thus the channel becomes shallower, and its conductivity decreases. The negative vGS is said to
deplete the channel of its charge carriers, and this mode of operation (negative vGS) is called depletion
mode. As the magnitude of vGS is increased in the negative direction, a value is reached at which the channel
is completely depleted of charge carriers and iD is reduced to zero, even though vDS may be still applied.
This negative value of vGS is the threshold voltage of the n-channel depletion-type MOSFET.
The description above suggests (correctly) that a depletion-type MOSFET can be operated in the
enhancement mode by applying a positive vGS and in the depletion mode by applying a negative vGS. This is
illustrated in Fig. 5.29(a) and Fig. 5.29(b), which shows both the circuit symbol for the depletion NMOS
transistor (Fig. 5.29a) and its iD–vGS characteristic. Observe that here the threshold voltage Vtn is negative.
The iD–vDS characteristics (not shown) are similar to those for the enhancement-type MOSFET except for
the negative Vtn. Finally, note that in the device symbol the shaded area next to the vertical line denotes the
existing channel.
Figure 5.29 (a) The circuit symbol for an n-channel depletion-type MOSFET. Note that IDSS denotes the drain current
when vGS = 0.

5.17
Figure 5.29 (b) The iD – vGS characteristic in saturation for an n-channel depletion-type MOSFET. Note that IDSS
denotes the drain current when vGS = 0.
Depletion-type MOSFETs can be fabricated on the same IC chip as enhancement-type devices, resulting
in circuits with improved characteristics. The depletion-type MOSFET, however, is a specialty device and is
not commonly used.
EXERCISE
For a depletion-type NMOS transistor with Vt = −2 V and 
, find the minimum
vDS required to operate in the saturation region when vGS = +1 V. What is the corresponding value of
iD?
∨Show Answer

■
■
■
■
■
■
■
Summary
The enhancement-type MOSFET is the most widely used semiconductor device. It is the basis of CMOS
technology, which is the most popular IC fabrication technology today. CMOS provides both n-channel
(NMOS) and p-channel (PMOS) transistors, which increases design flexibility. The minimum MOSFET
channel length achievable with a given CMOS process is used to characterize the process. This figure has
been continually reduced and is currently 14 nm.
The overdrive voltage, |vOV| ≡ |vGS| − |Vt|, is the key quantity that governs the operation of the MOSFET.
For the MOSFET to operate in the saturation region, which is the region for amplifier application, |vDS| ≥
|vOV|, and the resulting 
 (for NMOS; replace μn with μp for PMOS). If |vDS| <
|vov|, the MOSFET operates in the triode region, which together with cutoff is used for operating the
MOSFET as a switch.
Table 5.1 and Table 5.2 summarize the conditions and relationships that describe the operation of NMOS
and PMOS transistors, respectively.
In saturation, iD shows some linear dependence on vDS as a result of the change in channel length. This
channel-length modulation becomes more pronounced as L decreases. It is modeled by ascribing an
output resistance ro = |VA|/ID to the MOSFET model. Here, the Early voltage 
, where 
 is a process-dependent parameter.
When analyzing dc MOSFET circuits, if a MOSFET is conducting but its region of operation (saturation
or triode) is not known, we assume saturation-mode operation. Then, we solve the problem and check to
determine whether the assumption was justified. If not, then the transistor is operating in the triode
region, and we must redo the analysis accordingly.
Over the past 50 years, the MOSFET dimensions have been continually reduced, allowing IC designers
to pack more and more transistors (now, billions) on the same chip and to operate the resulting chips at
vastly increased speeds. Refer to Table 5.3 for the implications of technology scaling and to Table 5.4 for
representative parameter values of MOSFETs fabricated in a number of popular technology nodes.
The depletion-type MOSFET has an implanted channel and thus can be operated in either the depletion
or enhancement mode. It is characterized by the same equations used for the enhancement device except
for having a negative Vtn (positive Vtp for depletion PMOS transistors).

(a)
(b)
(c)
(d)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulations Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 5.1: Device Structure and Physical Operation
5.1 MOS technology is used to fabricate a capacitor, utilizing the gate metallization and the substrate as the
capacitor electrodes. Find the area required per 1-pF capacitance for oxide thickness ranging from 1 nm to 10 nm.
For a square plate capacitor of 10 pF, what dimensions are needed?
5.2 Calculate the total charge stored in the channel of an NMOS transistor having Cox = 25 fF/μm2, L = 65 nm, and
W = 650 nm, and operated at vOV = 0.15 V and vDS =0 V.
5.3 Use dimensional analysis to show that the units of the process transconductance parameter 
 are A/V2. What
are the dimensions of the MOSFET transconductance parameter kn?
5.4 An NMOS transistor that is operated with a small vDS is found to exhibit a resistance rDS. By what factor will
rDS change in each of the following situations?
vOV is doubled.
The device is replaced with another fabricated in the same technology but with double the width.
The device is replaced with another fabricated in the same technology but with both the width and length
doubled.
The device is replaced with another fabricated in a more advanced technology for which the oxide thickness is
halved and similarly for W and L (assume μn remains unchanged).
D 5.5 An NMOS transistor fabricated in a technology for which 
 and Vt = 0.4 V is required to
operate with a small vDS as a variable resistor ranging in value from 250 Ω to 1 kΩ. Specify the range required for
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
the control voltage vGS and the required transistor width W. It is required to use the smallest possible device, as
limited by the minimum channel length of this technology (Lmin = 0.13 μm) and the maximum allowed voltage of
1.3 V.
5.6 Sketch a set of iD–vDS characteristic curves for an NMOS transistor operating with a small vDS (in the manner
shown in Fig. 5.4). Let the MOSFET have kn = 10 mA/V2 and Vtn = 0.4 V. Sketch and clearly label the graphs for
vGS = 0.4, 0.6, 0.8, 1.0, and 1.2 V. Let vDS be in the range 0 to 50 mV. Give the value of rDS obtained for each of
the five values of vGS. Although only a sketch, your diagram should be drawn to scale as much as possible.
D5.7 An n-channel MOS device in a technology for which oxide thickness is 1.4 nm, minimum channel length is
65 nm, 
, and Vt = 0.35 V operates in the triode region, with small vDS and with the gate–source
voltage in the range 0 V to +1.0 V. If the device has the minimum channel length, what must its width be so that
the minimum available resistance is 100 Ω?
5.8 Consider an NMOS transistor operating in the triode region with a constant overdrive voltage VOV. Find an
expression for the incremental resistance
Give the values of rds in terms of kn and VOV for VDS = 0, 0.2VOV, 0.5VOV, 0.8VOV, and VOV.
5.9 An NMOS transistor with kn = 5 mA/V2 and Vt = 0.4 V is operated with vGS = 0.6 V. At what value of vDS does
the transistor enter the saturation region? What value of iD is obtained in saturation?
5.10 Consider a CMOS process for which Lmin = 0.18 μm, tox = 4 nm, μn = 450 cm2/V · s, and Vt = 0.5 V.
Find Cox and 
.
For an NMOS transistor with W/L = 2.4 μm/0.18 μm, calculate the values of vOV, vGS, and vDSmin needed to
operate the transistor in the saturation region with a current iD = 0.1 mA.
For the device in (b), find the values of vOV and vGS required to cause the device to operate as a 500-Ω resistor
for very small vDS.
5.11 A p-channel MOSFET with a threshold voltage Vtp = −0.5 V has its source connected to ground.
What should the gate voltage be for the device to operate with an overdrive voltage of |vOV| = 0.4 V?
With the gate voltage as in (a), what is the highest voltage allowed at the drain while the device operates in the
saturation region?
If the drain current obtained in (b) is 0.2 mA, what would the current be for vD = −20 mV and for vD = −2V?
5.12 With the knowledge that μp = 0.25 μn, what must be the relative width of n-channel and p-channel devices
having equal channel lengths if they are to have equal drain currents when operated in the saturation mode with
overdrive voltages of the same magnitude?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
5.13 An n-channel device has 
 = 400 μA/V2, Vt = 0.5 V, and W/L = 20. The device is to operate as a switch for
small vDS, utilizing a control voltage vGS in the range 0 V to 1.8 V. Find the switch closure resistance, rDS, and
closure voltage, vDS, obtained when vGS = 1.8 V and iD = 0.2 mA. If μp 
 0.25 μn, what must W/L be for a p-
channel device that provides the same performance as the n-channel device in this application?
5.14 Consider an n-channel MOSFET with tox = 4 nm, μn = 450 cm2/V · s, Vt = 0.5 V, and W/L = 10. Find the drain
current in the following cases:
vGS = 1.8 V and vDS = 1V
vGS = 0.7 V and vDS = 1.5 V
vGS = 1.8 V and vDS = 0.1 V
vGS = vDS = 1.8 V
Section 5.2: Current–Voltage Characteristics
In the following problems, when λ is not specified, assume it is zero.
*5.15 Show that when channel-length modulation is neglected (i.e., λ = 0), plotting iD/kn versus vDS for various
values of vOV, and plotting iD/kn versus vOV for vDS ≥ vOV, results in universal representation of the iD – vDS and iD
– vGS characteristics of the NMOS transistor. That is, the resulting graphs are both technology and device
independent. Furthermore, these graphs apply equally well to the PMOS transistor by a simple relabeling of
variables. (How?) What is the slope at vDS = 0 of each of the iD/kn versus vDS graphs? For the iD/kn versus vOV
graph, find the slope at a point vOV = VOV.
5.16 An NMOS transistor having Vt = 0.5 V is operated in the triode region with vDS small. With vGS = 0.7 V, it is
found to have a resistance rDS of 1 kΩ. What value of vGS is required to obtain rDS = 200 Ω? Find the
corresponding resistance values obtained with a device having twice the value of W.
5.17 A particular MOSFET for which Vtn = 0.4 V and 
(W/L) = 2 mA/V2 is to be operated in the saturation
region. If iD is to be 50 μA, find the required vGS and the minimum required vDS. Repeat for iD = 200 μA.
5.18 A particular n-channel MOSFET is measured to have a drain current of 360 μA at vGS = vDS = 1 V and of 160
μA at vGS = vDS = 0.8 V. What are the values of kn and Vt for this device?
D5.19 For a particular IC-fabrication process, the transconductance parameter 
 = 400 μA/V2, and Vt = 0.5 V. In
an application in which vGS = vDS = Vsupply = 1.8 V, a drain current of 2 mA is required of a device of minimum
length of 0.18 μm. What value of channel width must the design use?
5.20 An NMOS transistor, operating in the linear-resistance region with vDS = 50 mV, is found to conduct 50 μA
for vGS = 0.8 V and 100 μA for vGS = 1.2 V. What is the apparent value of threshold voltage Vt? If 
 = 500 μA/V2,
what is the device W/L ratio? What current would you expect to flow with vGS = 1V and vDS = 0.2 V? If the device
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
is operated at vGS = 1 V, at what value of vDS will the drain end of the MOSFET channel just reach pinch-off, and
what is the corresponding drain current?
5.21 For an NMOS transistor, for which Vt = 0.5 V, operating with vGS in the range of 1.0 V to 1.8 V, what is the
largest value of vDS for which the channel remains continuous?
5.22 An NMOS transistor, fabricated with W = 20 μm and L = 1 μm in a technology for which 
 = 100 μA/V2 and
Vt = 0.8 V, is to be operated at very low values of vDS as a linear resistor. For vGS varying from 1.0 V to 4.8 V, what
range of resistor values can be obtained? What is the available range if
the device width is halved?
the device length is halved?
both the width and length are halved?
5.23 When the drain and gate of a MOSFET are connected together, a two-terminal device known as a “diode-
connected transistor” results. Figure P5.23(a) and Figure P5.23(b) show such devices obtained from MOS
transistors of both polarities. Show that
the i–v relationship is given by
the incremental resistance r for a device operating at v = |V| + VOV is given by
Figure P5.23 (a)
∨Show Answer
∨Show Answer

Figure P5.23 (b)
5.24 For the circuit in Fig. P5.24, sketch iD versus vS for vS varying from 0 to VDD. Clearly label your sketch.
Figure P5.24
5.25 For the circuit in Fig. P5.25, find an expression for vDS in terms of iD. Sketch and clearly label a graph for vDS
versus iD.
Figure P5.25
*5.26 The table below lists 10 different cases labeled (a) to (j) for operating an NMOS transistor with Vt = 1 V. In
each case the voltages at the source, gate, and drain (relative to the circuit ground) are specified. You are required
to complete the table entries. Note that if you encounter a case for which vDS is negative, you should exchange the
drain and source before solving the problem. You can do this because the MOSFET is a symmetric device.
Voltage (V)
Case
VS
VG
VD
VGS
VOV
VDS
Region of operation
a
+1.0
+1.0
+2.0
b
+1.0
+2.5
+2.0
c
+1.0
+2.5
+1.5
d
+1.0
+1.5
0

(a)
(b)
e
0
+2.5
+1.0
f
+1.0
+1.0
+1.0
g
−1.0
0
0
h
−1.5
0
0
i
−1.0
0
+1.0
j
+0.5
+2.0
+0.5
5.27 The NMOS transistor in Fig. P5.27 has Vt = 0.5 V and k = 2 mA/V2 . Sketch and clearly label iD versus vG
with vG varying in the range 0 to +1.8 V. Give equations for the various portions of the resulting graph.
Figure P5.27
5.28 Figure P5.28 shows two NMOS transistors operating in saturation at equal VGS and VDS.
If the two devices are matched except for a maximum possible mismatch in their W/L ratios of 2%, what is the
maximum resulting mismatch in the drain currents?
If the two devices are matched except for a maximum possible mismatch in their Vt values of 10 mV, what is
the maximum resulting mismatch in the drain currents? Assume that the nominal value of Vt is 0.5 V.
Figure P5.28
5.29 For a particular MOSFET operating in the saturation region at a constant vGS, iD is found to be 200 μA for vDS
= 1 V and 205 μA for vDS = 1.5 V. Find the values of ro, VA, and λ.
5.30 A particular MOSFET has VA = 10 V. For operation at 10 μA and 100 μA, what are the expected output
resistances? In each case, for a change in vDS of 1 V, what percentage change in drain current would you expect?
D5.31 In a particular IC design in which the standard channel length is 0.18 μm, an NMOS device of standard
length with W/L of 10 operating at 100 μA is found to have an output resistance of 20 kΩ, about  of that needed.
What dimensional change can be made to solve the problem? What is the new device length? The new device
width? The new W/L ratio? What is VA for the standard device in this IC? The new device?
∨Show Answer
∨Show Answer

D5.32 For a particular n-channel MOS technology, in which the minimum channel length is 0.2 μm, the associated
value of λ is 0.5 V−1 . If a particular device for which L is 1.0 μm operates in saturation at vDS = 1 V with a drain
current of 100 μA, what does the drain current become if vDS is raised to 2 V? What percentage change does this
represent? What can be done to reduce the percentage by a factor of 2?
5.33 An NMOS transistor is fabricated in a 0.18-μm process having 
 and 
 of channel
length. If L = 0.54 μm and W = 5.4 μm, find VA and λ. Find the value of iD that results when the device is operated
with an overdrive voltage of 0.25 V and vDS = 1 V. Also, find the value of ro at this operating point. If vDS is
increased by 0.5 V, what is the corresponding change in iD?
5.34 If in an NMOS transistor, both W and L are quadrupled and VOV is halved, by what factor does ro change?
D5.35 Consider the circuit in Fig. P5.28 with both transistors perfectly matched but with the dc voltage at the drain
of Q1 lowered to +1 V. If the two drain currents are to be matched within 5% (i.e., the maximum difference allowed
between the two currents is 5%), what is the minimum required value of VA? If the technology is specified to have 
 = 10 V/μm, what is the minimum channel length the designer must use?
5.36 Complete the missing entries in the following table, which describes characteristics of suitably operating
NMOS transistors:
MOS
1
2
3
4
λ (V−1)
0.1
VA (V)
20
5
ID (mA)
0.5
 
0.2
 
ro (kΩ)
 
25
100
500
5.37 A PMOS transistor has 
, Vt = −0.5 V, and λ = −0.1 V−1. The gate is connected to
ground and the source to +1 V. Find the drain current for vD = +0.8V, +0.6 V, +0.5 V, 0 V, and −1 V.
5.38 A p-channel transistor for which |Vt| = 0.4 V and |VA| = 4 V operates in saturation with |vGS| = 1 V, |vDS| = 1.6
V, and iD = 2 mA. Find corresponding signed values for VGS, VSG, VDS, VSD, Vt, VA, λ, and 
.
5.39 The table below lists the terminal voltages of a PMOS transistor in six cases, labeled a, b, c, d, e, and f. The
transistor has Vtp = −1 V. Complete the table entries.
 
VS
VG
VD
VSG
|VOV |
VSD
Region of operation
a
+2
+2
0
 
 
 
 
b
+2
+1
0
 
 
 
 
c
+2
0
0
 
 
 
 
d
+2
0
+1
 
 
 
 
e
+2
0
+1.5
 
 
 
 
f
+2
0
+2
 
 
 
 
∨Show Answer
∨Show Answer
∨Show Answer

5.40 The PMOS transistor in Fig. P5.40 has Vtp = −0.4 V. As the gate voltage vG is varied from +2 V to 0 V, the
transistor moves through all of its three possible modes of operation. Specify the values of vG at which the device
changes modes of operation.
Figure P5.40
**5.41 Various NMOS and PMOS transistors, numbered 1 to 4, are measured in operation, as shown in the table
below. For each transistor, find the values of μCoxW/L and Vt that apply and complete the table, with V in volts, I in
μA, and μCoxW/L in μA/V2. Assume λ = 0.
Case
Transistor
VS
VG
VD
ID
Type
Mode
μCOXW/L
Vt
a
1
0
1
2.5
100
 
 
 
 
 
1
0
1.5
2.5
400
 
 
 
 
b
2
5
3
−4.5
50
 
 
 
 
 
2
5
2
−0.5
450
 
 
 
 
c
3
5
3
4
200
 
 
 
 
 
3
5
2
0
800
 
 
 
 
d
4
−2
0
0
72
 
 
 
 
 
4
−4
0
−3
270
 
 
 
 
*5.42 All the transistors in the circuits shown in Fig. P5.42(a), (b), (c), and (d) have the same values of |Vt|, k',
W/L, and λ. Moreover, λ is negligibly small. All operate in saturation at ID = I and |VGS | = |VDS| = 1 V. Find the
voltages V1, V2, V3, and V4. If |Vt| = 0.5 V and I = 0.1 mA, how large a resistor can be inserted in series with each
drain while maintaining saturation? If the current source I requires at least 0.5 V between its terminals to operate
properly, what is the largest resistor that can be placed in series with each MOSFET source while ensuring
saturated-mode operation of each transistor at ID = I? In the latter limiting situation, what do V1, V2, V3, and V4
become?
∨
Show Answer

Figure P5.42 (a)
Figure P5.42 (b)

Figure P5.42 (c)
Figure P5.42 (d)
Section 5.3: MOSFET Circuits at DC
Note: If λ is not specified, assume it is zero.
D 5.43 Design the circuit of Fig. P5.43 to establish a drain current of 0.1 mA and a drain voltage of +0.2
V. The MOSFET has Vt = 0.2 V, μnCox = 400 μA/V2, L = 0.5 μm, and W = 4 μm. Specify the required
values for RS and RD. Assume λ = 0.

(a)
(b)
Figure P5.43
5.44 The NMOS transistor in the circuit of Fig. P5.43 has Vt = 0.4 V and kn = 4mA/V2. The voltages at the source
and the drain are measured and found to be −0.55 V and +0.1 V, respectively. What current ID is flowing, and what
must the values of RD and RS be? What is the largest value for RD for which ID remains unchanged?
D 5.45 For the circuit in Fig. E5.10, assume that Q1 and Q2 are matched except for having different widths, W1 and
W2. Let Vt = 0.5 V, 
 = 0.4 mA/V2, L1 = L2 = 0.36 μm, W1 = 1.8 μm, and λ = 0.
Find the value of R required to establish a current of 100 μA in Q1.
Find W2 and R2 so that Q2 operates at the edge of saturation with a current of 0.5 mA.
5.46 The transistor in the circuit of Fig. P5.46 has 
 = 0.5 mA/V2, Vt = 0.4 V, and λ = 0. Show that operation at the
edge of saturation is obtained when the following condition is satisfied:
Figure P5.46
D5.47 It is required to operate the transistor in the circuit of Fig. P5.46 at the edge of saturation with ID = 50 μA. If
Vt = 0.4 V, find the required value of RD.
∨Show Answer

D5.48 The PMOS transistor in the circuit of Fig. P5.48 has Vt = −0.5 V, μpCox = 100 μA/V2, L = 0.18 μm, and λ =
0. Find the values required for W and R in order to establish a drain current of 160 μA and a voltage VD of 0.8 V.
Figure P5.48
D5.49 The NMOS transistors in the circuit of Fig. P5.49 have Vt = 0.4 V, μnCox = 400 μA/V2, λ = 0, and
L1 = L2 = 0.18 μm. Find the required values of gate width for each of Q1 and Q2, and the value of R, to
obtain the voltage and current values indicated.
Figure P5.49
D5.50 The NMOS transistors in Fig. P5.50 have Vt = 0.5 V, μnCox = 200 μA/V2, λ = 0, and = L2 = L3 = 0.5 μm.
Find the required values of gate width for each of Q1, Q2, and Q3 to obtain the voltage and current values indicated.
∨Show Answer
∨Show Answer

(a)
(b)
Figure P5.50
5.51 Consider the circuit of Fig. 5.24(a). In Example 5.6 it was found that when Vt = 1 V and 
(W/L) = 1 mA/V2,
the drain current is 0.5 mA and the drain voltage is +7 V. If the transistor is replaced with another having Vt = 1.5 V
with 
(W/L) = 1.5 mA/V2, find the new values of ID and VD. Comment on how tolerant (or intolerant) the circuit
is to changes in device parameters.
D 5.52 Using a PMOS transistor with Vt = −1.5 V, 
, and λ = 0, design a circuit that
resembles that in Fig. 5.24(a). Using a 10-V supply, design for a gate voltage of +6 V, a drain current of 0.5 mA,
and a drain voltage of +5 V. Find the values of RS and RD. Also, find the values of the resistances in the voltage
divider feeding the gate, assuming a 1-μA current in the divider.
5.53 The MOSFET in Fig. P5.53 has Vt = 0.4 V, 
= 500 μA/V2, and λ = 0. Find the required values of W/L and R
so that when VI = VDD = +1.3 V, rDS = 50 Ω and VO = 50 mV.
Figure P5.53
*5.54 In the circuits shown in Fig. P5.54(a), (b), (c), and (d) transistors are characterized by |Vt| = 0.5 V, k' W/L = 5
mA/V2, and λ = 0.
Find the labeled voltages V1 through V7.
In each of the circuits, replace the current source with a resistor. Select the resistor value to yield a current as
close to that of the current source as possible, while using resistors specified in the 1% table provided in
∨Show Answer
∨Show Answer

Appendix J.
Figure P5.54 (a)
Figure P5.54 (b)

Figure P5.54 (c)
Figure P5.54 (d)
5.55 For each of the circuits in Fig. P5.55(a), (b), (c), (d), (e), (f), (g), and (h), find the labeled node voltages. For
all transistors, 
(W/L) = 2 mA/V2, Vt = 0.5 V, and λ = 0.
∨Show Answer

Figure P5.55 (a)
Figure P5.55 (b)
Figure P5.55 (c)

Figure P5.55 (d)
Figure P5.55 (e)
Figure P5.55 (f)

Figure P5.55 (g)
Figure P5.55 (h)
*5.56 For the circuits shown in Fig. P5.56(a) and Fig. P5.56(b), find the labeled node voltages. The NMOS
transistors have Vt = 0.4 V and 
(W/L) = 5 mA/V2.
Figure P5.56 (a)

(a)
(b)
Figure P5.56 (b)
*5.57 For the circuit in Fig. P5.57:
Show that for the PMOS transistor to operate in saturation, the following condition must be satisfied:
If the transistor is specified to have |Vtp| = 1 V and kp = 0.2 mA/V2, and for I = 0.1 mA, find the voltages VSD
and VSG for R = 0, 10 kΩ, 30 kΩ, and 100 kΩ.
Figure P5.57
5.58 For the circuits in Fig. P5.58(a), Fig. P5.58(b), and Fig. P5.58(c) μnCox = 4 μpCox = 400 μA/V2,
|Vt| = 0.4 V, λ = 0, L = 0.2 μm, and W = 1 μm, unless otherwise specified.
 

Find the labeled currents and voltages.
Figure P5.58 (a)
Figure P5.58 (b)
Figure P5.58 (c)
SIM *5.59 For the devices in the circuit of Fig. P5.59, |Vt| = 0.5 V, λ = 0, μnCox = 400 μA/V2, L = 0.5 μm, and W =
0.5 μm. Find V2 and I2. How do these values change if Q3 and Q4 are made to have W = 5 μm?
∨Show Answer

(a)
(b)
Figure P5.59
5.60 In the circuit of Fig. P5.60, transistors Q1 and Q2 have Vt = 0.5 V, and the process transconductance parameter
 = 400 μA/V2. Find V1, V2, and V3 for each of the following cases:
(W/L)1 = (W/L)2 = 10
(W/L)1 = 1.5(W/L)2 = 10
Figure P5.60
Section 5.4: Technology Scaling (Moore’s Law) and Other Topics
*5.61 The table below shows four technology generations, each characterized by the minimum possible MOSFET
channel length (row 1). In going from one generation to another, both L and tox are scaled by the same factor. The
power supply utilized, VDD, is also scaled by the same factor, to keep the magnitudes of all electrical fields within
the device unchanged. Unfortunately, but for good reasons, Vt cannot be scaled similarly.
Complete the table entries, noting that in the last row you are asked to find the number of transistors that can be
placed on an IC chip fabricated in each of the technologies in terms of the number obtained with the 0.5-μm
technology (n).
1
L (μm)
0.5
0.25
0.18
0.13
2
10
 
 
 
∨Show Answer

(b)
tox (nm)
3
Cox (fF/μm2)
 
 
 
 
4
 
 
 
 
5
kn (mA/V2)
For W/L = 10
 
 
 
 
6
Device area, A (μm2)
L = Lmin, W/L = 10
 
 
 
 
7
VDD (V)
5
 
 
 
8
Vt (V)
0.7
0.5
0.4
0.4
9
ID (mA)
For VGS = VDS = VDD
 
 
 
 
10
P (mW) = VDDID
 
 
 
 
11
P/A (mW/μm2)
 
 
 
 
12
Devices per chip
n
 
 
 
5.62 A chip with a certain area designed using the 5-μm process of the late 1970s contains 20,000 MOSFETs. What
does Moore’s law predict the number of transistors to be on a chip of equal area fabricated using the 32-nm process
of 2013?
5.63 In a particular application, an n-channel MOSFET operates with VSB in the range 0 V to 4 V. If Vt0 is
nominally 1.0 V, find the range of Vt that results if γ = 0.5 V1/2 and 2ϕf = 0.6 V. If the gate oxide thickness is
increased by a factor of 4, what does the threshold voltage become?
5.64 A p-channel transistor operates in saturation with its source voltage 3 V lower than its substrate. For y = 0.5
V1/2, 2ϕf = 0.75 V, and Vt0 = −0.7 V, find Vt.
5.65 Consider a diode-connected NMOS transistor fed with a constant current of 0.5 mA. Assume λ = 0.
(a) If at 20°C, Vt = 0.5 V and kn = 1 mA/V2, find VGS.
If the temperature rises to 50°C, find the resulting VGS given that Vt changes by − 2mV/°C and 
 changes by
−0.3%/°C.
5.66 (a) Using the expression for iD in saturation and neglecting the channel-length modulation effect (i.e., let λ =
0), derive an expression for the per unit change in iD per °C [(∂iD/iD)/∂T] in terms of the per unit change in 
 per
°C [(∂
/
)/∂T], the temperature coefficient of Vt in V/°C (∂ Vt/∂ T), and VGS and Vt.
(b) If Vt decreases by 2 mV for every °C rise in temperature, find the temperature coefficient of 
 that results in iD
decreasing by 0.2%/°C when the NMOS transistor with Vt = 1 V is operated at VGS = 5V.
5.67 A depletion-type n-channel MOSFET with 
 W/L = 2 mA/V2 and Vt = −3 V has its source and gate
grounded. Find the region of operation and the drain current for vD = 0.1 V, 1 V, 3 V, and 5 V. Neglect the channel-
length-modulation effect.
∨Show Answer
∨Show Answer

5.68 For a particular depletion-mode NMOS device, Vt = −2 V, 
W/L = 200 μA/V2, and λ = 0.02 V. When
operated at vGS = 0, what is the drain current that flows for vDS = 1V, 2 V, 3 V, and 10 V? What does each of these
currents become if the device width is doubled with L the same? With L also doubled?
*5.69 Neglecting the channel-length-modulation effect, show that for the depletion-type NMOS transistor of Fig.
P5.69 the i–v relationship is given by
(Recall that Vt is negative.) Sketch the i–v relationship for the case: Vt = −2V and kn = 2 mA/V2.
Figure P5.69
∨Show Answer

6.1
6.2
6.3
6.4
•
•
•
CHAPTER 6
Bipolar Junction Transistors
(BJTs)
Introduction
Device Structure and Physical Operation
Current–Voltage Characteristics
BJT Circuits at DC
Transistor Breakdown and Temperature Effects
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The physical structure of the bipolar transistor and how it works.
How the voltage between two terminals of the transistor controls the current that flows through the
third terminal, and the equations that describe these current–voltage characteristics.
How to analyze and design circuits that contain bipolar transistors, resistors, and dc sources.

Introduction
In this chapter, we study the other major three-terminal device: the bipolar junction transistor (BJT). The
material in this chapter parallels but does not rely on the MOSFET material in Chapter 5, so you can study
these two chapters in either order.
Three-terminal devices are far more useful than two-terminal ones, such as the diodes we studied in
Chapter 4, because they can be used in a multitude of applications, ranging from signal amplification to the
design of digital logic and memory circuits. They operate by using the voltage between two terminals to
control the current flowing in the third terminal. The three-terminal device can thus be used as a controlled
source, which is the basis for amplifier design, as we learned in Chapter 1. Also, in the extreme, we can use
the control signal to cause the current in the third terminal to change from zero to a large value, allowing the
device to act as a switch. As we will see in Chapter 16, the switch is the basis for the logic inverter, the basic
element of digital circuits.
The invention of the BJT in 1948 at the Bell Telephone Laboratories ushered in the era of solid-state
circuits. Transistors replaced vacuum tubes in radios and television sets and sparked a revolution in the way
we work, play, and, indeed, live. We can trace the dominance of information technology and the emergence
of the knowledge-based economy to the invention of the transistor.
The bipolar transistor enjoyed nearly three decades as the device of choice in the design of both discrete
and integrated circuits. Although the MOSFET had been known very early on, because its fabrication
requires a thin insulating layer, it was not until the 1970s and 1980s that it became a serious competitor to
the BJT. By 2019, the MOSFET was undoubtedly the most widely used electronic device, and CMOS
technology had become the technology of choice whenever a large number of transistors must be combined
on a single chip. Nevertheless, the BJT remains a significant device that excels in certain applications.
The BJT remains popular in discrete-circuit design, where it is used together with other discrete
components such as resistors and capacitors to implement circuits that are assembled on printed-circuit
boards (PCBs). There is a very wide selection of BJT types suited for nearly every conceivable application.
BJTs (on their own and in combination with CMOS in what is known as BiCMOS) remain particularly
important for circuits that combine high voltages and high-frequency signals; for example, power amplifiers
for radio and higher-frequency applications.
In this chapter, we start with a description of the physical operation of the BJT. This physical description
will help you understand the performance of the transistor as a circuit element. We then quickly move from
describing current flow in terms of electrons and holes to a study of the transistor terminal characteristics.
We will develop circuit models for transistor operation in different modes and use them in the analysis and
design of transistor circuits. The main objective of this chapter is to make you very familiar with the BJT and
to lay the foundation for the use of the BJT in amplifier design (Chapter 7).

6.1 Device Structure and Physical Operation
6.1.1 Simplified Structure and Modes of Operation
Figure 6.1 shows a simplified structure for the BJT (We will show a practical transistor structure later; see
also Appendix A, which deals with fabrication technology.) As you can see in Fig. 6.1, the BJT consists of
three semiconductor regions: the emitter region (n type), the base region ( p type), and the collector region (n
type). This kind of transistor is called an npn transistor. Another transistor, a dual of the npn, shown in Fig.
6.2, has a p-type emitter, an n-type base, and a p-type collector, and is appropriately called a pnp transistor. A
terminal is connected to each of the three semiconductor regions of the transistor, with the terminals labeled
emitter (E), base (B), and collector (C).
Figure 6.1 A simplified structure of the npn transistor.
Figure 6.2 A simplified structure of the pnp transistor.
The transistor consists of two pn junctions, called the emitter–base junction (EBJ) and the collector–
base junction (CBJ). The bias condition (forward or reverse) of each of these junctions will give us the
different modes of operation of the BJT shown in Table 6.1. We use the active mode if we want the
transistor to operate as an amplifier. Switching applications (e.g., logic circuits) utilize both the cutoff mode

and the saturation mode. As the name implies, in the cutoff mode no current flows; this is because both
junctions are reverse biased.
Table 6.1 BJT Modes of Operation
Mode
EBJ
CBJ
Cutoff
Reverse
Reverse
Active
Forward
Reverse
Saturation
Forward
Forward
As we will see shortly, charge carriers of both polarities—that is, electrons and holes—participate in the
current-conduction process in a bipolar transistor, which is the reason for the name bipolar. (Notice the
contrast with the MOSFET, where current is conducted by charge carriers of one type only: electrons in n-
channel devices or holes in p-channel devices. In earlier days, some people referred to FETs as unipolar
devices.)
6.1.2 Operation of the npn Transistor in the Active Mode
Of the three modes of operation of the BJT, the active mode is the most important. Therefore, we begin our
study of the BJT by considering its physical operation in the active mode. (Refer to Section 3.5 if you need a
refresher on the operation of the pn junction under forward-bias conditions: that material will come in handy
here.) Figure 6.3 shows an npn transistor biased to operate in the active mode. Two external voltage sources
are used to establish the required bias conditions for active-mode operation. The voltage VBE causes the p-
type base to be higher in potential than the n-type emitter, thus forward biasing the emitter–base junction.
Figure 6.3 Simplified current flow in an npn transistor biased to operate in the active mode.

(6.1)
The collector–base voltage VCB causes the n-type collector to be at a higher potential than the p-type base,
thus reverse biasing the collector–base junction.
Current Flow The forward bias on the emitter–base junction will cause current to flow across it. This
current will consist of two components: electrons injected from the emitter into the base, and holes injected
from the base into the emitter. As you will see shortly, we want the first component (current caused by
electrons flowing from emitter to base) to be much larger than the second component (current caused by
holes flowing from base to emitter). We can accomplish this by fabricating the device with a heavily doped
emitter and a lightly doped base; that is, the device is designed to have a high density of electrons in the
emitter and a low density of holes in the base.
The current flowing across the emitter–base junction constitutes the emitter current iE, as shown in Fig.
6.3. The direction of iE is “out of” the emitter lead, which, following the usual conventions, is in the
direction of the positive-charge flow (hole current) and opposite to the direction of the negative-charge flow
(electron current), with the emitter current iE being equal to the sum of these two components. However,
since the electron component is much larger than the hole component, the emitter current is dominated by the
electron component.
From our study in Section 3.5 of the current flow across a forward-biased pn junction, we know that the
magnitude of both the electron and the hole components of iE are proportional to evBE/VT, where vBE is the
forward voltage across the base–emitter junction and VT is the thermal voltage (approximately 25 mV at
room temperature).
Let’s now focus on the first current component, the one carried by electrons injected from the emitter
into the base. These electrons are minority carriers in the p-type base region. Because their concentration is
highest at the emitter side of the base, the injected electrons diffuse through the base region toward the
collector. In their journey across the base, some of the electrons will combine with holes, which are majority
carriers in the base. However, since the base is usually very thin and, as we mentioned earlier, lightly doped,
the proportion of electrons that are “lost” through this recombination process is quite small. For this reason,
most of the diffusing electrons reach the boundary of the collector–base depletion region. Because the
collector is more positive than the base (by the reverse-bias voltage vCB), these successful electrons are
swept across the CBJ depletion region into the collector. They will thus get collected and constitute the
collector current iC.
The Collector Current From what we have just seen, the collector current is carried by the electrons that
reach the collector region. Its direction is opposite to that of the flow of electrons, and thus into the collector
terminal. Its magnitude is proportional to evBE/VT:
where the constant of proportionality IS, as in the case of the diode, is called the saturation current and is a
transistor parameter. We will have more to say about IS shortly.
Here it is important to note that iC is independent of the value of vCB. As long as the collector is positive
with respect to the base, the electrons that reach the collector side of the base region are swept into the
collector and will register as collector current.

(6.2)
(6.3)
(6.4)
(6.5)
(6.6)
(6.7)
The Base Current Figure 6.3 shows that the base current iB is composed of two components. The first
component iB1 is due to the holes injected from the base region into the emitter region. This current
component is proportional to evBE/VT. The second component of base current, iB2, is due to holes that have to
be supplied by the external circuit in order to replace the holes lost from the base through the recombination
process. Because iB2 is proportional to the number of electrons injected into the base, it is also proportional
to evBE/VT. Thus the total base current, iB = iB1 + iB2, is proportional to evBE/VT, and can be expressed as a
fraction of the collector current iC:
That is,
where β is a transistor parameter.
For modern npn transistors, β is in the range 50 to 200, but it can be as high as 1000 for special devices.
For reasons that will become clear later, the parameter β is called the common-emitter current gain.
The above description indicates that the value of β is highly influenced by two factors: the width of the
base region, W, and the relative dopings of the base region and the emitter region, NA/ND. To obtain a high β
(which is what we want since β represents a gain parameter) the base should be thin (W small) and lightly
doped and the emitter heavily doped (making NA/ND small). For modern integrated circuit fabrication
technologies, W is in the nanometer range.
The Emitter Current Since the current that enters a transistor must leave it, it can be seen from Fig. 6.3 that
the emitter current iE is equal to the sum of the collector current iC and the base current iB:
Using Eqs. (6.2) and (6.4) gives
That is,
Alternatively, we can express Eq. (6.5) in the form

(6.8)
(6.9)
(6.10)
(6.11)
where the constant α is related to β by
Thus the emitter current in Eq. (6.6) can be written
Finally, we can use Eq. (6.8) to express β in terms of α, that is,
We can see from Eq. (6.8) that α is a constant (for a particular transistor) that is less than but very close
to one. For instance, if β = 100, then α 
 0.99. Equation (6.10) reveals an important fact: Small changes in α
correspond to very large changes in β. This mathematical observation manifests itself physically, with the
result that transistors of the same type may have widely different values of β. For reasons that will become
clear later, α is called the common-base current gain.
Minority-Carrier Distribution We can better understand the physical operation of the BJT by considering
the distribution of minority charge carriers in the base and the emitter. Figure 6.4 shows the profiles of the
concentration of electrons in the base and holes in the emitter of an npn transistor operating in the active
mode. Notice that since the doping concentration in the emitter, ND, is much higher than the doping
concentration in the base, NA, the concentration of electrons injected from emitter to base, np(0), is much
higher than the concentration of holes injected from the base to the emitter, pn(0). Both quantities are
proportional to evBE/VT,
where np0 is the thermal-equilibrium value of the minority-carrier (electron) concentration in the base region.

(6.12)
Figure 6.4 Profiles of minority-carrier concentrations in the base and in the emitter of an npn transistor operating in the
active mode: vBE > 0 and vCB ≥ 0.
Next, notice that because the base is very thin, the concentration of excess electrons decays almost
linearly (as opposed to the usual exponential decay we see with the excess holes in the emitter region).
Furthermore, the reverse bias on the collector–base junction causes the concentration of excess electrons at
the collector side of the base to be zero. (Remember that electrons that reach that point are swept into the
collector.)
The tapered profile of the minority-carrier concentration (Fig. 6.4) causes the electrons injected into the
base to diffuse through the base region toward the collector. This electron diffusion current In is directly
proportional to the slope of the straight-line concentration profile,
where AE is the cross-sectional area of the base–emitter junction (in the direction perpendicular to the page),
q is the magnitude of the electron charge, Dn is the electron diffusivity in the base, and W is the effective
width of the base. Notice that the negative slope of the minority-carrier concentration results in a negative
current In across the base; in other words, In flows from right to left (in the negative direction of x), which
corresponds to the usual convention, opposite to the direction of electron flow.
The recombination in the base region, though slight, causes the excess minority-carrier concentration
profile to deviate from a straight line and take the slightly concave shape indicated by the broken line in Fig.

(6.13)
6.4. The slope of the concentration profile at the EBJ is slightly higher than that at the CBJ, with the
difference accounting for the small number of electrons lost in the base region through recombination.
Finally, we have the collector current iC = In, which gives a negative value for iC, indicating that iC flows
in the negative direction of the x axis (i.e., from right to left). Since we take this to be the positive direction
of iC, we can drop the negative sign in Eq. (6.12). Doing this and substituting for np (0) from Eq. (6.11), we
can express the collector current iC as
where the saturation current IS is given by
Substituting 
, where ni is the intrinsic carrier density and NA is the doping concentration in
the base, we can express IS as
The saturation current IS is inversely proportional to the base width W and is directly proportional to the
area of the EBJ. Typically IS is in the range of 10−12 A to 10−18 A (depending on the size of the device).
Because IS is proportional to 
, it is a strong function of temperature, approximately doubling for every
5°C rise in temperature. (For the dependence of 
 on temperature, refer to Eq. 3.2.)
Since it is directly proportional to the junction area (i.e., the device size), IS is also called the scale
current. Two transistors that are identical except that one has an EBJ area, say, twice that of the other will
have saturation currents with that same ratio (i.e., 2). So for the same value of vBE the larger device will have
a collector current twice that of the smaller device. This concept is often used in integrated-circuit design.
Recapitulation and Equivalent-Circuit Models We have presented a first-order model for the operation of
the npn transistor in the active mode. Basically, the forward-bias voltage vBE causes an exponentially related
current iC to flow in the collector terminal. The collector current iC is independent of the collector voltage as
long as the collector–base junction remains reverse biased; i.e., vCB ≥ 0. Thus in the active mode the
collector terminal behaves as an ideal constant-current source where the value of the current is determined
by vBE. The base current iB is a factor 1/β of the collector current, and the emitter current is equal to the sum
of the collector and base currents. Since iB is much smaller than iC (i.e., β ⨠ 1), iE is roughly equal to iC.
More precisely, the collector current is a fraction α of the emitter current, with α smaller than, but close to,
unity.
We can represent this first-order model with the equivalent circuit shown in Fig. 6.5(a). Here, diode DE
has a scale current ISE equal to (IS/α), so it provides a current iE related to vBE according to Eq. (6.9). The

current of the controlled source, which is equal to the collector current, is controlled by vBE according to the
exponential relationship indicated, a restatement of Eq. (6.1). This model is in essence a nonlinear voltage-
controlled current source. We can convert it to the current-controlled current-source model shown in Fig.
6.5(b) by expressing the current of the controlled source as αiE. Note that this model is also nonlinear
because of the exponential relationship of the current iE through diode DE and the voltage vBE. This model
shows us that if the transistor is used as a two-port network with the input port between E and B and the
output port between C and B (i.e., with B as a common terminal), then the current gain observed (iC/iE) is
equal to α. This is why α is called the common-base current gain.
Figure 6.5 Large-signal equivalent-circuit models of the npn BJT operating in the active mode.
We can use two other equivalent-circuit models, shown in Fig. 6.5(c) and Fig. 6.5(d), to represent the
operation of the BJT. The model of Fig. 6.5(c) is essentially a voltage-controlled current source. However,
here diode DB conducts the base current, so its current scale factor is IS/β, resulting in the iB–vBE relationship
given in Eq. (6.3). By simply expressing the collector current as βiB we obtain the current-controlled current-

6.1
6.2
6.3
6.4
6.5
6.6
source model shown in Fig. 6.5(d). From this latter model we observe that if the transistor is used as a two-
port network with the input port between B and E and the output port between C and E (i.e., with E as the
common terminal), then the current gain observed (iC/iB) is equal to β. This is why β is called the common-
emitter current gain.
Finally, we note that the models in Fig. 6.5(a), (b), (c), and (d) apply for any positive value of vBE. That
is, unlike the models we will discuss in Chapter 7, here there is no limitation on the size of vBE, which is
why these models are referred to as large-signal models.
Example 6.1
An npn transistor having IS = 10−15A and β = 100 is connected as follows: The emitter is grounded, the base is
fed with a constant-current source supplying a dc current of 10 µA, and the collector is connected to a 5-V dc
supply via a resistance RC of 3 kΩ. Assuming that the transistor is operating in the active mode, find VBE and
VCE. Use these values to verify active-mode operation. Replace the current source with a resistance connected
from the base to the 5-V dc supply. What resistance value is needed to result in the same operating conditions?
EXERCISES
Consider an npn transistor with vBE = 0.7 V at iC = 1 mA. Find vBE at iC = 0.1 mA and 10 mA.
Transistors of a certain type are specified to have β values in the range of 50 to 150. Find the range of
their α values.
An npn BJT in a particular circuit has a base current of 14.46 µA, an emitter current of 1.460 mA, and
a base–emitter voltage of 0.7 V. For these conditions, calculate α, β, and IS.
Calculate β for two transistors for which α = 0.99 and 0.98. For collector currents of 10 mA, find the
base current of each transistor.
A transistor for which IS = 10−16 A and β = 100 is conducting a collector current of 1 mA. Find vBE.
Also, find ISE and ISB for this transistor.
For the circuit in Fig. 6.6(a) analyzed in Example 6.1, find the maximum value of RC that will still
result in active-mode operation.
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

6.7
6.1.3 Structure of Actual Transistors
Figure 6.7 shows a more realistic (but still simplified) cross section of an npn BJT. Notice that the collector
virtually surrounds the emitter region, making it difficult for the electrons injected into the thin base to
escape being collected. In this way, the resulting α is close to unity and β is large. Notice also that the device
is not symmetrical, so the emitter and collector cannot be interchanged.1 For more detail on the physical
structure of actual devices, see Appendix A.
The structure in Fig. 6.7 also shows that the CBJ has a much larger area than the EBJ. Thus the CB diode
DC has a saturation current ISC that is much larger than the saturation current of the EB diode DE. Typically,
ISC is 10 to 100 times larger than ISE (remember 
).
Figure 6.7 Cross section of an npn BJT.
EXERCISE
A particular transistor has IS = 10−15 A and α 
 1. If the CBJ area is 100 times the area of the EBJ,
find the collector scale current ISC.
6.1.4 Operation in the Saturation Mode2
As we mentioned earlier, for the BJT to operate in the active mode, the CBJ must be reverse biased. So far,
we have stated this condition for the npn transistor as vCB ≥ 0. However, we know that a pn junction does not
effectively become forward biased until the forward voltage across it exceeds approximately 0.4 V. It follows
that we can maintain active-mode operation of an npn transistor for negative vCB down to approximately
−0.4 V. This is illustrated in Fig. 6.8, which is a sketch of iC versus vCB for an npn transistor operated with a
constant emitter current IE. As we would expect, iC is independent of vCB in the active mode, a situation that
extends for vCB going negative to approximately −0.4 V. Below this value of vCB, the CBJ begins to conduct
sufficiently that the transistor leaves the active mode and enters the saturation mode, where iC decreases.
∨Show Answer

(6.14)
Figure 6.8 The iC−vCB characteristic of an npn transistor fed with a constant emitter current IE. The transistor enters the
saturation mode for vCB < – 0.4 V, and the collector current diminishes.
To see why iC decreases in saturation, we can build a model for the saturated npn transistor as follows.
We augment the model of Fig. 6.5(c) with the forward-conducting CBJ diode DC, as shown in Fig. 6.9.
Notice that the current iBC will subtract from the controlled-source current, resulting in the reduced collector
current iC given by
Figure 6.9 Modeling the operation of an npn transistor in saturation by augmenting the model of Fig. 6.5(c) with a
forward-conducting diode DC. Note that the current through DC increases iB and reduces iC.
where ISC is the saturation current for DC and is related to IS by the ratio of the areas of the CBJ and the EBJ.
The second term in Eq. (6.14) will play an increasing role as vBC exceeds 0.4 V or so, causing iC to decrease
and eventually reach zero.

(6.15)
(6.16)
1.
2.
(6.17)
6.8
6.9
Figure 6.9 also indicates that in saturation the base current will increase to the value
Equations (6.14) and (6.15) can be combined to obtain the ratio iC/iB for a saturated transistor. Note that this
ratio is lower than the value of β. Furthermore, the ratio decreases as vBC is increased and the transistor is
driven deeper into saturation. Because we can set iC/iB of a saturated transistor to any desired value lower
than β by adjusting vBC, this ratio is known as forced β and denoted βforced,
As we will show, in analyzing a circuit we can determine whether the BJT is in the saturation mode by
either of the following two tests:
Is the CBJ forward biased by more than 0.4 V?
Is the ratio iC/iB lower than β?
The collector-to-emitter voltage vCE of a saturated transistor can be found from Fig. 6.9 as the difference
between the forward-bias voltages of the EBJ and the CBJ,
Remember that the CBJ has a much larger area than the EBJ. As a result, VBC will be smaller than VBE by
0.1 to 0.3 V. Thus,
Typically we will assume that a transistor at the edge of saturation has VCEsat = 0.3 V, while a transistor deep
in saturation has VCEsat = 0.2 V.
EXERCISES
Use Eq. (6.14) to show that iC reaches zero at
Calculate VCE for a transistor whose CBJ has 100 times the area of the EBJ.
Use Eqs. (6.14), (6.15), and (6.16) to show that a BJT operating in saturation with VCE = VCEsat has a
forced β given by
∨Show Answer

Find βforced for β = 100, ISC/IS = 100, and VCEsat = 0.2 V.
6.1.5 The pnp Transistor
The pnp transistor operates in a manner similar to that of the npn device. Figure 6.10 shows a pnp transistor
biased to operate in the active mode. Here the voltage VEB causes the p-type emitter to have higher potential
than the n-type base, thus forward biasing the emitter–base junction. The collector–base junction is reverse
biased by the voltage VBC, which keeps the p-type collector lower in potential than the n-type base.
Figure 6.10 Current flow in a pnp transistor biased to operate in the active mode.
Unlike the npn transistor, current in the pnp device is mainly conducted by holes injected from the
emitter into the base as a result of the forward-bias voltage vEB. Since the component of emitter current
contributed by electrons injected from base to emitter is kept small by using a lightly doped base, most of the
emitter current is due to holes. The electrons injected from base to emitter give rise to the first component of
base current, iB1. Also, a number of the holes injected into the base recombine with the majority carriers in
the base (electrons) and will thus be lost. The disappearing base electrons have to be replaced from the
external circuit, giving rise to the second component of base current, iB2. The holes that succeed in reaching
∨Show Answer

6.10
6.11
the boundary of the depletion region of the collector–base junction are attracted by the negative voltage on
the collector. Thus these holes are swept across the depletion region into the collector and appear as collector
current.
It is clear from the this description that the current–voltage relationship of the pnp transistor will be
identical to that of the npn transistor except that vBE has to be replaced by vEB. Also, the large-signal, active-
mode operation of the pnp transistor can be modeled by any of four equivalent circuits similar to those for
the npn transistor in Fig. 6.5(a), (b), (c), and (d). Two of these four circuits are shown in Fig. 6.11(a) and (b).
Finally, the pnp transistor can operate in the saturation mode in a manner analogous to that described for the
npn device.
Figure 6.11 Two large-signal models for the pnp transistor operating in the active mode.
EXERCISES
Consider the model in Fig. 6.11(a) applied in the case of a pnp transistor whose base is grounded,
whose emitter is fed by a constant-current source of 2 mA, and whose collector is connected to a –10-V
dc supply. Find the emitter voltage, the base current, and the collector current if β = 50 and IS = 10−14
A.
For a pnp transistor having IS = 10−11 A and β = 100, calculate vEB for iC = 1.5 A.
∨Show Answer
∨Show Answer
THE INVENTION OF THE BJT
∨

6.2 Current–Voltage Characteristics
6.2.1 Circuit Symbols and Conventions
The physical structure we have used so far to explain transistor operation is awkward to use when drawing
the schematic of a multitransistor circuit. Fortunately, there is a very descriptive and convenient circuit
symbol for the BJT. Figures 6.12(a) and (b) show the symbol for the npn and the pnp transistors,
respectively. In both symbols the emitter is distinguished by an arrowhead. This distinction is important
because, as we saw in the last section, BJTs are not symmetric devices.
Figure 6.12 Circuit symbols for BJTs.
The polarity of the device—npn or pnp—is indicated by the direction of the arrowhead. It points in the
direction of normal current flow in the emitter, which is also the forward direction of the base–emitter
junction. Since we have adopted a drawing convention by which currents flow from top to bottom, we will
always draw pnp transistors with their emitters on top, as shown in Fig. 6.12(b).
Figure 6.13(a) and (b) show npn and pnp transistors connected to dc sources so that they operate in the
active mode. Figure 6.13 also shows the reference and actual directions of current flow throughout the
transistor. Our convention is to take the reference direction to coincide with the normal direction of current
flow. Normally, then, we should not encounter a negative value for iE, iB, or iC.
The convenience of this circuit-drawing convention should be obvious from Fig. 6.13(a) and (b).
Currents flow from top to bottom and voltages are higher at the top and lower at the bottom. The arrowhead
on the emitter also indicates the polarity of the emitter–base voltage that should be applied in order to
forward-bias the emitter–base junction. Just a glance at the circuit symbol of the pnp transistor, for example,
tells us that we should make the emitter higher in voltage than the base (by vEB) in order to make current
flow into the emitter (downward). Note that the symbol vEB means the voltage by which the emitter (E) is
higher than the base (B). Thus for a pnp transistor operating in the active mode, vEB is positive; in an npn
transistor, vBE is positive.

Figure 6.13 Voltage polarities and current flow in transistors operating in the active mode.
From the discussion in Section 6.1 it follows that an npn transistor whose EBJ is forward biased (usually,
vBE 
 0.7 V) will operate in the active mode as long as the collector voltage does not fall below that of the
base by more than approximately 0.4 V. Otherwise, the transistor leaves the active mode and enters the
saturation region.3
Similarly, the pnp transistor will operate in the active mode if the EBJ is forward biased (usually, vEB 
0.7 V) and the collector voltage is not allowed to rise above that of the base by more than 0.4 V or so.
Otherwise, the CBJ becomes forward biased, and the pnp transistor enters the saturation region.
For greater emphasis, Fig. 6.14(a) and (b) illustrate the conditions for operating the BJT in the active
mode and in the saturation mode. Also, for easy reference, Table 6.2 summarizes the BJT current–voltage
relationships in the active mode of operation.
Figure 6.14 Graphical representation of the conditions for operating the BJT in the active mode and in the saturation
mode.
Table 6.2 Summary of the BJT Current–Voltage Relationships in the Active Mode

Table 6.2 Summary of the BJT Current–Voltage Relationships in the Active Mode
Note: For the pnp transistor, replace vBE with vEB.
The Collector–Base Reverse Current (ICBO) In our discussion of current flow in transistors we ignored the
small reverse currents carried by thermally generated minority carriers. Although such currents can be safely
neglected in modern transistors, the reverse current across the collector–base junction deserves some
mention. This current, denoted ICBO, is the reverse current flowing from collector to base with the emitter
open-circuited (hence the subscript O). This current is usually in the nanoampere range, a value that is many
times higher than its theoretically predicted value because ICBO contains a substantial leakage component. Its
value is dependent on vCB and depends strongly on temperature, approximately doubling for every 10°C rise.
Example 6.2
The transistor in the circuit of Fig. 6.15(a) has β = 100 and exhibits a vBE of 0.7 V at iC = 1 mA. Design the
circuit so that a current of 2 mA flows through the collector and a voltage of +5 V appears at the collector.
Figure 6.15 (a) Circuit for Example 6.2.

D6.12
6.13
Figure 6.15 (b) Circuit for Example 6.2.
EXERCISES
Repeat Example 6.2 for a transistor fabricated in a modern integrated-circuit process. Such a process
yields devices that exhibit larger vBE at the same iC because they have much smaller junction areas.
The dc power supplies used in modern IC technologies fall in the range of 1 V to 3 V. Design a circuit
similar to that shown in Fig. 6.15(a) except that now the power supplies are ±1.5 V and the BJT has β =
100 and exhibits vBE of 0.8 V at iC = 1 mA. Design the circuit so that a current of 2 mA flows through
the collector and a voltage of +0.5 V appears at the collector.
In the circuit shown in Fig. E6.13, the voltage at the emitter was measured and found to be –0.7 V. If β
= 50, find IE, IB, IC, and VC.
∨Show Solution
∨Show Answer

6.14
Figure E6.13
In the circuit shown in Fig. E6.14, measurement indicates VB to be +1.0 V and VE to be +1.7 V. What
are α and β for this transistor? What voltage VC do you expect at the collector?
Figure E6.14
∨Show Answer
∨Show Answer


6.2.2 Graphical Representation of Transistor Characteristics
It is sometimes useful to describe the transistor i–v characteristics graphically. Figure 6.16 shows the iC–vBE
characteristic, which is the exponential relationship
which is identical to the diode i–v relationship. The iE –vBE and iB–vBE characteristics are also exponential
but with different scale currents: IS/α for iE, and IS/β for iB. Since the constant of the exponential
characteristic, 1/VT, is quite high (
 40), the curve rises very sharply. For vBE smaller than about 0.5 V, the
current is negligibly small.4 Also, over most of the normal current range, vBE lies in the range of 0.6 V to 0.8
V. In performing rapid first-order dc calculations, we normally assume that VBE 
 0.7 V, which is similar to
the approach we used in the analysis of diode circuits (Chapter 4). For a pnp transistor, the iC –vEB
characteristic looks identical to that of Fig. 6.16, with vBE replaced with vEB.
Figure 6.16 The iC–vBE characteristic for an npn transistor.
As in silicon diodes, the voltage across the emitter–base junction decreases by about 2 mV for each rise
of 1°C in temperature, provided the junction is operating at a constant current. Figure 6.17 illustrates this
temperature dependence by depicting iC–vBE curves for an npn transistor at three different temperatures.

6.15
Figure 6.17 Effect of temperature on the iC–vBE characteristic. At a constant emitter current (broken line), vBE changes
by −2 mV/°C.
EXERCISE
Consider a pnp transistor with vEB = 0.7 V at iE = 1 mA. Let the base be grounded, the emitter be fed
by a 2-mA constant-current source, and the collector be connected to a –5-V supply through a 1- kΩ
resistance. If the temperature increases by 30°C, find the changes in emitter and collector voltages.
Neglect the effect of ICBO.
6.2.3 Dependence of iC on the Collector Voltage—The Early Effect
In the active region, the collector current of a practical BJT shows some dependence on the collector voltage.
As a result, unlike the graph shown in Fig. 6.8, the iC–vCB characteristics of a practical BJT are not perfectly
horizontal straight lines. To see this dependence more clearly, consider the conceptual circuit in Fig. 6.18(a).
The transistor is connected in the common-emitter configuration; that is, here the emitter serves as a
common terminal between the input and output ports. The voltage vBE can be set to any desired value by
adjusting the dc source connected between base and emitter. At each value of vBE, the corresponding iC–vCE
characteristic curve can be measured point by point by varying the dc source connected between collector
and emitter and measuring the corresponding collector current. The result is the family of iC–vCE
characteristic curves shown in Fig. 6.18(b) and known as common-emitter characteristics.
∨Show Answer

(6.18)
Figure 6.18 (a) Conceptual circuit for measuring the iC–vCE characteristics of the BJT. (b) The iC–vCE characteristics of
a practical BJT.
At low values of vCE (lower than about 0.3 V), as the collector voltage goes below that of the base by
more than 0.4 V, the collector–base junction becomes forward biased and the transistor leaves the active
mode and enters the saturation mode. We will look at details of the iC–vCE curves in the saturation region
shortly. At this time, however, we wish to examine the characteristic curves in the active region in detail. We
observe that the characteristic curves, though still straight lines, have finite slope. In fact, when extrapolated,
the characteristic lines meet at a point on the negative vCE axis, at vCE = –VA. The voltage VA, a positive
number, is a parameter for the particular BJT, with typical values in the range of 10 V to 100 V. It is called
the Early voltage, after J. M. Early, the engineering scientist who first studied this phenomenon.
At a given value of vBE, increasing vCE increases the reverse-bias voltage on the collector–base junction,
and thus increases the width of the depletion region of this junction (refer to Fig. 6.4). This produces a
decrease in the effective base width W. Because IS is inversely proportional to W (Eq. 6.13), IS will increase
and iC increases proportionally. This is the Early effect, also known as the base-width modulation effect.5
We can account for the linear dependence of iC on vCE by assuming that IS remains constant and
including the factor (1 + vCE/VA) in the equation for iC as follows:

(6.19)
(6.20)
(6.21)
(6.22)
The nonzero slope of the iC–vCE straight lines indicates that the output resistance looking into the collector
is not infinite. Rather, it is finite and defined by
Using Eq. (6.18) we can show that
where IC and VCE are the coordinates of the point at which the BJT is operating on the particular iC–vCE
curve (i.e., the curve obtained for vBE equal to the constant value VBE at which Eq. (6.19) is evaluated).
Alternatively, we can write
where 
 is the value of the collector current with the Early effect neglected; that is,
It is rarely necessary to include the dependence of iC on vCE in dc bias design and analysis that is
performed by hand. Such an effect, however, can be easily included in the SPICE simulation of circuit
operation, which is frequently used to “fine-tune” pencil-and-paper analysis or design.
The finite output resistance ro can have a significant effect on the gain of transistor amplifiers. This is
particularly the case in integrated-circuit amplifiers, as we will see in Chapter 8. Fortunately, there are many
situations in which ro can be included relatively easily in pencil-and-paper analysis. For simplicity, however,
we usually drop the prime from Eq. (6.21) and simply use ro = VA/IC, where IC is the collector current
without the Early effect.
The output resistance ro can be included in the circuit model of the transistor. This is illustrated in Fig.
6.19(a) and (b), where we show the two large-signal circuit models of a common-emitter npn transistor
operating in the active mode, those in Figs. 6.5(c) and (d), with the resistance ro connected between the
collector and the emitter terminals.

6.16
6.17
6.18
Figure 6.19 Large-signal, equivalent-circuit models of an npn BJT operating in the active mode in the common-emitter
configuration with the output resistance ro included.
EXERCISES
Use the circuit model in Fig. 6.19(a) to express iC in terms of evBE/VT and vCE and thus show that this
circuit is a direct representation of Eq. (6.18).
Find the output resistance of a BJT for which VA = 100 V at IC = 0.1, 1, and 10 mA.
Consider the circuit in Fig. 6.18(a). At vCE = 1 V, vBE is adjusted to yield a collector current of 1 mA.
Then, while vBE is kept constant, vCE is raised to 11 V. Find the new value of IC. For this transistor, VA
= 100 V.
6.2.4 An Alternative Form of the Common-Emitter Characteristics
We show another way of expressing the transistor common-emitter characteristics in Fig. 6.20(a), (b), and
(c). Here the base current iB, rather than the base–emitter voltage vBE, is used as a parameter. That is, each
iC–vCE curve is measured with the base fed with a constant current iB. The resulting characteristics, shown in
Fig. 6.20(b), look similar to those in Fig. 6.18(b). Figure 6.20(c) shows an expanded view of the
characteristics in the saturation region.
∨Show Answer
∨Show Answer

Figure 6.20 (a) Common-emitter characteristics: Basic CE circuit.
Figure 6.20 (b) Common-emitter characteristics: Note that the horizontal scale is expanded around the origin to show
the saturation region in some detail.

(6.23)
Figure 6.20 (c) Common-emitter characteristics. Common-emitter characteristics: Showing a much greater expansion of
the saturation region.
The Common-Emitter Current Gain β In the active region of the characteristics in Fig. 6.20(b) we have
identified a particular point Q. Note that this operating point for the transistor is characterized by a base
current IB, a collector current IC, and a collector–emitter voltage VCE. The ratio IC/IB is the transistor β.
However, there is another way to measure β: change the base current by an increment ∆iB and measure the
resulting increment ∆iC, while keeping VCE constant. This is illustrated in Fig. 6.20(b). The ratio ∆iC/∆iB
should, according to our study so far, give an identical value for β. It turns out, however, that the latter value
of β (called incremental, or ac, β) is a little different from the dc β (i.e., IC/IB). The difference, however, is
too subtle for our needs here. We shall use β to denote both dc and incremental values.6
The Saturation Voltage VCEsat and Saturation Resistance RCEsat Refer next to the expanded view of the
common-emitter characteristics in the saturation region in Fig. 6.20(c). The “bunching together” of the
curves in the saturation region implies that the incremental β is lower there than in the active region. A
possible operating point in the saturation region is labeled X. It is characterized by a base current IB, a
collector current ICsat, and a collector–emitter voltage VCEsat. From our previous discussion of saturation,
recall that ICsat = βforced IB, where βforced < β.
The iC–vCE curves in saturation are rather steep, indicating that the saturated transistor exhibits a low
collector-to-emitter resistance RCEsat,
Typically, RCEsat ranges from a few ohms to a few tens of ohms.

That the collector-to-emitter resistance of a saturated BJT is small should have been anticipated from the
fact that between C and E we now have two forward-conducting diodes in series7 (see also Fig. 6.9).
A simple model for the saturated BJT is shown in Fig. 6.21. Here we assume that VBE is constant at
approximately 0.7 V and VCE is constant at approximately 0.2 V. In other words, we have neglected the
small saturation resistance RCEsat for the sake of making the model simple for hand calculations.
Figure 6.21 A simplified equivalent-circuit model of the saturated transistor.
Example 6.3
For the circuit in Fig. 6.22, determine the value of the voltage VBB that results in the transistor operating
Figure 6.22 Circuit for Example 6.3.
(a) in the active mode with VCE = 5V
(b) at the edge of saturation
(c) deep in saturation with βforced = 10
For simplicity, assume that VBE remains constant at 0.7 V. The transistor β is specified to be 50.

6.19
6.20
6.21
EXERCISES
Repeat Example 6.3 for RC = 10 kΩ.
For the circuit in Fig. 6.22, find VCE for VBB = 0 V.
For the circuit in Fig. 6.22, let VBB be set to the value obtained in Example 6.3, part (a), namely, VBB =
1.7 V. Verify that the transistor is indeed operating in the active mode. Now, while keeping VBB
constant, find the value to which RC should be increased in order to obtain (a) operation at the edge of
saturation and (b) operation deep in saturation with βforced = 10.
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer

6.3 BJT Circuits at DC
We are now ready to consider the analysis of BJT circuits to which only dc voltages are applied. In the
following examples we use the simple model in which |VBE| of a conducting transistor is 0.7 V and |VCE| of a
saturated transistor is 0.2 V, and we neglect the Early effect. These models are shown in Table 6.3. Better
models can, of course, be used to obtain more accurate results, but analysis using these more complex
models takes more time; more importantly, the added complexity could impede our ability to gain insight
into circuit behavior. Accurate results using elaborate models can be obtained using circuit simulation with
SPICE. This is almost always done in the final stages of a design and certainly before circuit fabrication.
Computer simulation, however, is not a substitute for quick pencil-and-paper circuit analysis, an essential
ability that aspiring circuit designers must master. The following series of examples is a step in that
direction.
Table 6.3 Simplified Models for the Operation of the BJT in DC Circuits
When analyzing a circuit, the first question we need to answer is: In which mode is the transistor
operating? In some cases, the answer will be obvious. For instance, a quick check of the terminal voltages
will indicate whether the transistor is cut off or conducting. If it is conducting, we have to determine whether
it is in the active mode or in saturation. In some cases, it won’t be obvious; with practice, however, it will
become clear in more and more situations. Fortunately, we can always find the answer, using the following
procedure.
Assume that the transistor is in the active mode and, using the active-mode model in Table 6.3, determine
the various voltages and currents. Then, check for consistency of the results with the assumption of active-

mode operation; in other words, is VCB of an npn transistor greater than −0.4 V (or VCB of a pnp transistor
lower than 0.4 V)? If the answer is yes, then our task is complete. If the answer is no, assume saturation-
mode operation and, using the saturation-mode model in Table 6.3, determine currents and voltages, and then
check whether the results fit with the assumption of saturation-mode operation. Here the test is usually to
compute the ratio IC/IB and verify that it is lower than the transistor β (i.e., βforced < β). For a given transistor
type or part number, the manufacturer only gurantees β values will fall within a certain range, say 50 to 150.
For this reason, we must use the lowest specified β for this test. Finally, note that the order of these two
assumptions can be reversed.
A Note on Units Except when otherwise specified, throughout this book we use a consistent set of units,
namely, volts (V), milliamps (mA), and kilohms ( kΩ).
Example 6.4
Consider the circuit in Fig. 6.23(a), which we have redrawn in Fig. 6.23(b) to remind you of the convention for
indicating connections to dc sources. We want to analyze this circuit to determine all node voltages and branch
currents. We will assume that β is specified to be 100.
Figure 6.23 (a) Analysis of the circuit for Example 6.4: a circuit.

Figure 6.23 (b) Analysis of the circuit for Example 6.4: the circuit redrawn to show the convention used in this
book to show connections to the dc sources.
Figure 6.23 (c) Analysis of the circuit for Example 6.4: analysis with the steps numbered.
Example 6.5
We want to analyze the circuit of Fig. 6.24(a) to determine the voltages at all nodes and the currents through all
branches. Note that this circuit is identical to that of Fig. 6.23(a) except that the voltage at the base is now +6 V.
∨Show Solution

Assume that the transistor β is specified to be at least 50.
Figure 6.24 (a) Analysis of the circuit for Example 6.5.
Figure 6.24 (b) Analysis of the circuit for Example 6.5. The circled numbers indicate the order of analysis steps.

Figure 6.24 (c) Analysis of the circuit for Example 6.5. The circled numbers indicate the order of analysis steps.
Example 6.6
We want to analyze the circuit in Fig. 6.25(a) to determine the voltages at all nodes and the currents through all
branches. Note that this circuit is identical to the one considered in Examples 6.4 and 6.5 except that now the
base voltage is zero.
Figure 6.25 (a) Example 6.6: circuit.
∨Show Solution

D6.22
D6.23
D6.24
Figure 6.25 (b) Example 6.6: analysis with steps numbered.
EXERCISES
For the circuit in Fig. 6.23(a), find the highest voltage to which the base can be raised while the
transistor remains in the active mode. Assume α 
1.
Redesign the circuit of Fig. 6.23(a) (i.e., find new values for RE and RC) to establish a collector current
of 0.5 mA and a reverse-bias voltage on the collector–base junction of 2 V. Assume α 
1.
For the circuit in Fig. 6.24(a), find the value to which the base voltage should be changed so that the
transistor operates in saturation with a forced β of 5.
Video Example VE 6.2
The transistor in Fig. VE6.2 has a very high β. Find VE and VC for VB (a) +2.0 V, (b) +1.7 V, and (c) 0 V.
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer


D6.25
D6.26
We want to analyze the circuit of Fig. 6.26(a) to determine the voltages at all nodes and the currents through all
branches.
Figure 6.26 (a) Example 6.7: circuit.
Figure 6.26 (b) Example 6.7: analysis with steps numbered. The value of β is assumed to be infinite.
EXERCISES
For the circuit in Fig. 6.26(a), find the largest value to which RC can be raised while the transistor
remains in the active mode.
Redesign the circuit of Fig. 6.26(a) (i.e., find new values for RE and RC) to establish a collector current
of 1 mA and a reverse bias on the collector–base junction of 4 V. Assume 
.
∨Show Solution
∨Show Answer
∨Show Answer


D6.27
Example 6.8
We want to analyze the circuit in Fig. 6.27(a) to determine the voltages at all nodes and the currents in all
branches. Assume β = 100.
Figure 6.27 (a) Example 6.8: circuit.
Figure 6.27 (b) Example 6.8: analysis with steps numbered.
EXERCISE
The circuit of Fig. 6.27(a) is to be fabricated using a transistor type whose β is specified to be in the
range of 50 to 150. That is, individual units of this same transistor type can have β values anywhere in
this range. Redesign the circuit by selecting a new value for RC so that all fabricated circuits are
guaranteed to be in the active mode. What is the range of collector voltages that the fabricated circuits
may exhibit?
∨Show Solution
∨Show Answer

Example 6.9
We want to analyze the circuit of Fig. 6.28(a) to determine the voltages at all nodes and the currents through all
branches. The minimum value of β is specified to be 30.
Figure 6.28 (a) Example 6.9: circuit.
Figure 6.28 (b) Example 6.9: analysis with steps numbered.
Example 6.10
We want to analyze the circuit of Fig. 6.29(a) to determine the voltages at all nodes and the currents through all
branches. Assume β = 100.
∨Show Solution

Figure 6.29 (a) Circuit for Example 6.10.
Figure 6.29 (b) Circuit for Example 6.10.
Figure 6.29 (c) Circuit for Example 6.10.

6.28
Figure 6.29 (d) Circuit for Example 6.10.
EXERCISE
If the transistor in the circuit of Fig. 6.29(a) is replaced with another having half the value of β (i.e., β =
50), find the new value of IC, and express the change in IC as a percentage.
Example 6.11
We want to analyze the circuit in Fig. 6.30(a) to determine the voltages at all nodes and the currents through all
branches.
∨Show Solution
∨Show Answer

6.29
6.30
Figure 6.30 (a) Circuit for Example 6.11.
Figure 6.30 (b) Circuit for Example 6.11.
In the above examples, we often used a precise value of α to calculate the collector current. Since α 
 1,
the error in these calculations will be very small if we assume α = 1 and IC = IE. Therefore, except in
calculations that depend critically on the value of α (e.g., the calculation of base current), we usually assume
α 
 1.
EXERCISES
For the circuit in Fig. 6.30, find the total current drawn from the power supply. Hence find the power
dissipated in the circuit.
The circuit in Fig. E6.30 is to be connected to the circuit in Fig. 6.30(a) as indicated; specifically, the
base of Q3 is to be connected to the collector of Q2. If Q3 has β = 100, find the new value of VC2 and
the values of VE3 and IC3.
∨Show Solution
∨Show Answer

Figure E6.30
Example 6.12
We want to evaluate the voltages at all nodes and the currents through all branches in the circuit of Fig. 6.31(a).
Assume β = 100.
Figure 6.31 (a) Example 6.12: circuit.
∨Show Answer

6.31
6.32
Figure 6.31 (b) Example 6.12: analysis with steps numbered.
EXERCISES
Solve the problem in Example 6.12 for the case of a voltage of –5 V feeding the bases. What voltage
appears at the emitters?
Solve the problem in Example 6.12 with the voltage feeding the bases changed to +10 V. Assume that
βmin = 30, and find VE, VB, IC1, and IC2.
Video Example VE 6.4
For the circuit in Fig. VE6.4, find VB and VE for vI = 0 V, +2 V, –2.5 V, and –5 V. The BJTs have β = 50.
∨Show Solution
∨Show Answer
∨Show Answer


6.4 Transistor Breakdown and Temperature Effects
We conclude this chapter with a brief discussion of two important nonideal effects in the BJT: voltage
breakdown, and the dependence of β on IC and temperature.
6.4.1 Transistor Breakdown
The maximum voltages that can be applied to a BJT are limited by the EBJ and CBJ breakdown effects that
follow the avalanche multiplication mechanism we described in Section 3.5.3. Consider first the common-
base configuration (Fig. 6.32(a)). The iC – vCB characteristics in Fig. 6.32(b) indicate that for iE = 0 (i.e.,
when the emitter is open-circuited) the collector–base junction breaks down at a voltage denoted by BVCBO
(where BV stands for breakdown voltage). For iE > 0, breakdown occurs at voltages smaller than BVCBO.
Typically, for discrete BJTs, BVCBO is greater than 50 V.
Figure 6.32 The BJT common-base characteristics including the transistor breakdown region.
Next consider the common-emitter characteristics of Fig. 6.33(a) and (b), which show breakdown
occurring at a voltage BVCEO. Here, although breakdown is still of the avalanche type, the effects on the
characteristics are more complex than in the common-base configuration. We will not explain these in detail;
it is sufficient to point out that typically BVCEO is about half BVCBO. On transistor data sheets, BVCEO is
sometimes listed as the sustaining voltage LVCEO.

6.33
Figure 6.33 The BJT common-emitter characteristics including the breakdown region.
Breakdown of the CBJ in either the common-base or common-emitter configuration is not destructive as
long as the power dissipation in the device is kept within safe limits. This, however, is not the case with the
breakdown of the emitter–base junction. The EBJ breaks down in an avalanche manner at a voltage BVEBO
much smaller than BVCBO. Typically, BVEBO is in the range of 6 V to 8 V, and the breakdown is destructive
in the sense that the β of the transistor is permanently reduced. This does not prevent us from using the EBJ
as a zener diode to generate reference voltages in IC design, because in that case we aren’t concerned with
the β-degradation effect. Transistor breakdown and the maximum allowable power dissipation are important
parameters in the design of power amplifiers, as we shall see in Chapter 12.
EXERCISE
What is the output voltage of the circuit in Fig. E6.33 if the transistor BVBCO = 70 V?

Figure E6.33
6.4.2 Dependence of β on IC and Temperature
Throughout this chapter we have assumed that the transistor common-emitter dc current gain, β, is constant
for a given transistor. In fact, β depends on the dc current at which the transistor is operating, as shown in
Fig. 6.34. The physical processes that give rise to this dependence are beyond the scope of this book. Note,
however, that there is a current range over which β is highest. Normally, we would arrange to operate the
transistor at a current within this range.
∨Show Answer

Figure 6.34 Typical dependence of β on IC and on temperature in an integrated-circuit npn silicon transistor intended for
operation around 1 mA.
Figure 6.34 also shows the dependence of β on temperature. The fact that β increases with temperature
can lead to serious problems in transistors that operate at large power levels (see Chapter 12).

■
■
■
■
■
■
■
■
■
Summary
Depending on the bias conditions on its two junctions, the BJT can operate in one of three possible
modes: cutoff (both junctions reverse biased), active (the EBJ forward biased and the CBJ reverse
biased), and saturation (both junctions forward biased). Refer to Table 6.1.
For amplifier applications, the BJT is operated in the active mode. Switching applications make use of
the cutoff and saturation modes.
A BJT operating in the active mode provides a collector current 
. The base current iB = iC/
β, and the emitter current iE = iC + iB. Also, iC = αiE, and thus β = α/(1 − α) and α = β/(β + 1). See Table
6.2.
To ensure operation in the active mode, the collector voltage of an npn transistor must be kept higher
than approximately 0.4 V below the base voltage. For a pnp transistor, the collector voltage must be
lower than approximately 0.4 V above the base voltage. Otherwise, the CBJ becomes forward biased,
and the transistor enters the saturation region.
At a constant collector current, the magnitude of the base–emitter voltage decreases by about 2 mV for
every 1°C rise in temperature.
The BJT will be at the edge of saturation when |vCE| is reduced to about 0.3 V. In saturation, 
, and the ratio of iC to iB is lower than β (i.e., βforced < β).
In the active mode, iC shows a slight dependence on vCE. This phenomenon, known as the Early effect, is
modeled by ascribing a finite (i.e., noninfinite) output resistance to the BJT: 
, where VA is
the Early voltage and 
 is the dc collector current without the Early effect taken into account. In
discrete circuits, ro plays a minor role and can usually be neglected. This is not the case, however, in
integrated-circuit design (Chapter 8).
We can greatly simplify the dc analysis of transistor circuits by assuming that 
.
Refer to Table 6.3.
If the BJT is conducting, we can assume it is operating in the active mode and, using the active-mode
model, determine all currents and voltages. We can then check the validity of the initial assumption by
determining whether the CBJ is reverse biased. If it is, the analysis is complete; otherwise, we have to
assume the BJT is operating in saturation and redo the analysis using the saturation-mode model and
checking at the end that IC < βIB.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulations Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 6.1: Device Structure and Physical Operation
6.1 The terminal voltages of various npn transistors are measured during operation in their respective circuits with
the following results (in volts):
Case
E
B
C
Mode
1
0
0.7
0.7
2
0
0.8
0.1
3
-0.7
0
1.0
4
-0.7
0
-0.6
5
1.3
2.0
5.0
6
0
0
5.0
In this table, 0 indicates the reference terminal to which the black (negative) probe of the voltmeter is connected.
For each case, identify the mode of operation of the transistor.
6.2 Two transistors, fabricated with the same technology but having different junction areas, when operated at a
base-emitter voltage of 0.75 V, have collector currents of 0.4 mA and 2 mA. Find IS for each device. What are the
relative junction areas?
6.3 In a particular technology, a small BJT operating at vBE = 30VT conducts a collector current of 100 µA. What is
the corresponding saturation current? For a transistor in the same technology but with an emitter junction that is 32
times larger, what is the saturation current? What current will this transistor conduct at vBE = 30VT? What is the
base–emitter voltage of the latter transistor at iC = 1 mA? Assume active-mode operation in all cases.
6.4 Two transistors have EBJ areas as follows: AE1 = 100 µm × 100 µm and AE2 = 0.4 µm × 0.4 µm. If the two
transistors are operated in the active mode and conduct equal collector currents, what do you expect the difference
in their vBE values to be?
3.7 × 10−17 A; 1.87 × 10−16 A; 5:1
∧Hide Answer

6.5 Find the collector currents that you would expect for operation at vBE = 700 mV for two transistors for which IS
= 10−13 A and IS = 10−17 A. For the transistor with the larger EBJ, what vBE would provide a collector current
equal to that provided by the smaller transistor at vBE = 700 mV? Assume active-mode operation in all cases.
6.6 In this problem, we contrast two BJT integrated-circuit fabrication technologies: For the “old” technology, a
typical npn transistor has IS = 2 × 10−15 A, and for the “new” technology, a typical npn transistor has IS = 2 × 10−18
A. These typical devices have vastly different junction areas and base widths. For our purpose here we wish to
determine the vBE required to establish a collector current of 0.5 mA in each of the two typical devices. Assume
active-mode operation.
6.7 Consider an npn transistor whose base–emitter drop is 0.76 V at a collector current of 2 mA. What current will
it conduct at vBE = 0.70 V? What is its base–emitter voltage for iC = 4 µA?
6.8 In a particular BJT operating in the active mode, the base current is 10 µA, and the collector current is 900 µA.
Find β and α for this device.
6.9 Find the values of β that correspond to α values of 0.5, 0.8, 0.9, 0.95, 0.98, 0.99, 0.995, and 0.999.
6.10 Find the values of α that correspond to β values of 1, 2, 10, 20, 50, 100, 200, 500, and 1000.
*6.11 For a transistor with α close to unity, show that if α changes by a small per-unit amount (∆α/α), the
corresponding per-unit change in β is given approximately by
Now, for a transistor whose nominal β is 100, find the percentage change in its α value corresponding to a drop in
its β of 10%.
6.12 An npn transistor of a type whose β is specified to range from 50 to 200 is connected in a circuit with emitter
grounded, collector at +10 V, and a current of 10 µA injected into the base. Calculate the range of collector and
emitter currents that can result. What is the maximum power dissipated in the transistor? (Note: Perhaps you can
see why this is a bad way to establish the operating current in the collector of a BJT.)
6.13 A BJT is specified to have IS = 2 × 10−15 A and β that falls in the range of 50 to 200. If the transistor is
operated in the active mode with vBE set to 0.700 V, find the expected range of iC, iB, and iE.
6.14 Measurements made on a number of transistors operating in the active mode with iE = 1 mA indicate base
currents of 10 µA, 20 µA, and 50 µA. For each device, find iC, β, and α.
6.15 Measurements of VBE and two terminal currents taken on a number of npn transistors operating in the active
mode are in the following table. For each, calculate the missing current value as well as α, β, and IS as indicated by
the table.
Transistor
a
b
c
d
e
VBE (mV)
700
690
580
780
820
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

Transistor
a
b
c
d
e
IC (mA)
1.000
1.000
10.10
IB (µA)
10
5
120
1050
IE (mA)
1.020
0.235
75.00
α
β
IS
6.16 When operated in the active mode, a particular npn BJT conducts a collector current of 1 mA and has vBE =
0.7 V and iB = 10 µA. Use these data to create specific transistor models of the form shown in Figs. 6.5(a) to (d).
6.17 Using the npn transistor model of Fig. 6.5(b), consider the case of a transistor for which the base is connected
to ground, the collector is connected to a 3-V dc source through a 2- kΩ resistor, and a 1-mA current source is
connected to the emitter with the polarity so that current is drawn out of the emitter terminal. If β = 100 and IS = 5
× 10−15 A, find the voltages at the emitter and the collector and calculate the base current.
D 6.18 Consider an npn transistor operated in the active mode and represented by the model of Fig. 6.5(d). Let the
transistor be connected as indicated by the equivalent circuit shown in Fig. 6.6(b). Calculate the values of RB and
RC that will establish a collector current IC of 0.5 mA and a collector-to-emitter voltage VCE of 1 V. The BJT is
specified to have β =50 and IS = 5 × 10−15 A, and VCC = 5V.
6.19 An npn transistor has a CBJ with an area 100 times that of the EBJ. If IS = 10−15 A, find the voltage drop
across EBJ and across CBJ when each is forward biased and conducting a current of 1 mA. Also find the forward
current each junction would conduct when forward biased with 0.5 V.
*6.20 In order to investigate the operation of the npn transistor in saturation using the model of Fig. 6.9, let IS =
10−15 A, vBE = 0.7 V, β =100, and ISC/IS = 100. For each of three values of vCE (namely, 0.4 V, 0.3 V, and 0.2 V),
find vBC, iBC, iBE, iB, iC, and iC/iB. Present your results in a table. Also find vCE that results in iC = 0.
*6.21 Use Eqs. (6.14), (6.15), and (6.16) to show that an npn transistor operated in saturation exhibits a collector-
to-emitter voltage, VCEsat, given by
Use this relationship to evaluate VCEsat for βforced = 50, 10, 5, 1, and 0 for a transistor with β = 100 and with a CBJ
area 100 times that of the EBJ. Present your results in a table.
6.22 Consider the pnp large-signal model of Fig. 6.11(b) applied to a transistor having IS = 10−15 A and β = 40. If
the emitter is connected to ground, the base is connected to a current source that pulls 10 µA out of the base
terminal, and the collector is connected to a negative supply of −5 V via a 10- kΩ resistor, find the collector
voltage, the emitter current, and the base voltage.
6.23 A pnp transistor has vEB = 0.6 V at a collector current of 0.1 mA. What do you expect vEB to become at iC = 1
mA? At iC = 10 mA?
∨Show Answer
∨Show Answer

6.24 A pnp transistor modeled with the circuit in Fig. 6.11(b) is connected with its base at ground, collector at –1.0
V, and a 1-mA current is injected into its emitter. If the transistor has β = 20, what are its base and collector
currents? In which direction do they flow? If IS = 10−15 A, what voltage results at the emitter? What does the
collector current become if a transistor with β = 200 is substituted? (Note: The fact that the collector current
changes by less than 5% for a ten-fold increase in β illustrates that this is a good way to establish a specific
collector current.)
6.25 A pnp power transistor operates with an emitter-to-collector voltage of 5 V, an emitter current of 5 A, and VEB
= 0.8 V. For β = 20, what base current is required? What is IS for this transistor? Compare the emitter–base junction
area of this transistor with that of a small-signal transistor that conducts iC = 1 mA with vEB = 0.70 V. How much
larger is it?
6.26 While Fig. 6.5 provides four possible large-signal equivalent circuits for the npn transistor, only two
equivalent circuits for the pnp transistor are provided in Fig. 6.11. Supply the missing two.
6.27 By analogy to the npn case shown in Fig. 6.9, give the equivalent circuit of a pnp transistor in saturation.
Section 6.2: Current–Voltage Characteristics
6.28 For the circuits in Fig. P6.28(a), (b), (c), and (d), assume that the transistors have very large β. Some
measurements have been made on these circuits, with the results indicated in the figure. Find the values of the other
labeled voltages and currents.
Figure P6.28(a)
∨Show Answer

Figure P6.28(b)
Figure P6.28(c)
Figure P6.28(d)
∨Show Answer

6.29 Measurements on the circuits of Fig. P6.29(a), (b) and (c) produce labeled voltages as indicated. Find the
value of β for each transistor.
Figure P6.29(a)
Figure P6.29(b)
Figure P6.29(c)
6.30 A very simple circuit for measuring β of an npn transistor is shown in Fig. P6.30. In a particular design, VCC is
provided by a 3-V battery; M is a current meter with a 50-µA full scale and relatively low resistance that you can
neglect for our purposes here. Assuming that the transistor has VBE = 0.7 V at IE = 1 mA, what value of RC would
establish a resistor current of 1 mA? Now, to what value of β does a meter reading of full scale correspond? What is
β if the meter reading is 1/5 of full scale? 1/10 of full scale?

Figure P6.30
6.31 Repeat Exercise 6.13 for the situation in which the power supplies are reduced to ±3 V.
D 6.32 Design the circuit in Fig. P6.32 to establish a current of 0.5 mA in the emitter and a voltage of −0.5 V at the
collector. The transistor vEB = 0.7 V at IE = 1 mA, and β = 100. To what value can RC be increased while the
collector current remains unchanged?
Figure P6.32
D 6.33 The table of standard values for resistors with 5% tolerance in Appendix J shows that the closest values to
those found in the design of Example 6.2 are 5.1 kΩ and 6.8 kΩ. For these values, use approximate calculations
∨Show Answer

(e.g., VBE 
 0.7 V and α 
 1) to determine the values of collector current and collector voltage that are likely to
result.
D 6.34 Design the circuit in Fig. VE6.1 to establish IC = 0.5 mA and VC = 0 V. The transistor exhibits
vBE of 0.7 V at iC = 1 mA, and β = 100.
 
6.35 For the circuits shown in Fig. P6.35(a), (b), (c), and (d), find the emitter, base, and collector voltages and
currents. Use β = 50, but assume |VBE| = 0.7 V independent of current level.
Figure P6.35(a)
Figure P6.35(b)
∨Show Answer

(a)
(b)
Figure P6.35(c)
Figure P6.35(d)
6.36 The current ICBO of a small transistor is measured to be 10 nA at 25°C. If the temperature of the device is
raised to 125°C, what do you expect ICBO to become?
6.37 Augment the model of the npn BJT shown in Fig. 6.19(a) by a current source representing ICBO. Assume that
ro is very large and thus can be neglected. In terms of this addition, what do the terminal currents iB, iC, and iE
become? If the base lead is open-circuited while the emitter is connected to ground, and the collector is connected
to a positive supply, find the emitter and collector currents.
6.38 A BJT whose emitter current is fixed at 1 mA has a base–emitter voltage of 0.70 V at 25°C. What base–
emitter voltage would you expect at 0°C? At 100°C?
6.39 A particular pnp transistor operating at an emitter current of 0.5 mA at 20°C has an emitter–base voltage of
692 mV.
What does vEB become if the junction temperature rises to 50°C?
If the transistor is operated at a fixed emitter–base voltage of 700 mV, what emitter current flows at
20°C? At 50°C?

6.40 Consider a transistor for which the base–emitter voltage drop is 0.7 V at 10 mA. What current flows for vBE =
0.5 V? Evaluate the ratio of the slopes of the iC–vBE curve at vBE = 700 mV and at vBE = 500 mV. The large ratio
confirms the point that the BJT has an “apparent threshold” at vBE 
 0.5 V.
6.41 Use Eq. (6.18) to plot iC versus vCE for an npn transistor having IS = 10−15 A and VA = 100 V. Provide curves
for vBE = 0.65, 0.70, 0.72, 0.73, and 0.74 volts. Show the characteristics for vCE up to 15 V.
*6.42 In the circuit shown in Fig. P6.42, current source I is 1.1 mA, and at 25°C vBE = 680 mV at iE = 1 mA. At
25°C with β = 100, what currents flow in R1 and R2? What voltage would you expect at node E? Noting that the
temperature coefficient of vBE for IE constant is −2 mV/°C, what is the TC of vE? For an ambient temperature of
75°C, what voltage would you expect at node E? Clearly state any simplifying assumptions you make.
Figure P6.42
6.43 For a particular npn transistor operating at a vBE of 680 mV and IC = 0.5 mA, the iC–vCE characteristic has a
slope of 0.5 × 10−5 Ʊ. To what value of output resistance does this correspond? What is the value of the Early
voltage for this transistor? For operation at 5 mA, what would the output resistance become?
6.44 For a BJT having an Early voltage of 40 V, what is its output resistance at 1 mA? At 100 µA?
6.45 Measurements of the iC–vCE characteristic of a small-signal transistor operating at vBE = 710 mV show that iC
= 1.1 mA at vCE = 5V and that iC = 1.3 mA at vCE = 15 V. What is the corresponding value of iC near saturation?
At what value of vCE is iC = 1.2 mA? What is the value of the Early voltage for this transistor? What is the output
resistance that corresponds to operation at vBE = 710 mV?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
6.46 Give the pnp equivalent circuit models that correspond to those shown in Fig. 6.19 for the npn case.
6.47 A BJT operating at iB = 10 µA and iC = 1.0 mA undergoes a reduction in base current of 1.0 µA. When vCE is
held constant, the corresponding reduction in collector current is 0.08 mA. What are the values of β and the
incremental β or βac that apply? If the base current is increased from 10 µA to 12 µA and vCE is increased from 8 V
to 10 V, what collector current results? Assume VA = 100 V.
6.48 For the circuit in Fig. P6.48 let VCC = 5 V, RC = 10 kΩ, and RB = 100 kΩ. The BJT has β = 50. Find the value
of VBB that results in the transistor operating
Figure P6.48
in the active mode with VC = 2 V;
at the edge of saturation;
deep in saturation with βforced = 10.
Assume VBE 
 0.7 V.
SIM D *6.49 Consider the circuit of Fig. P6.48 for the case VBB = VCC. If the BJT is saturated, use the equivalent
circuit of Fig. 6.21 to derive an expression for βforced in terms of VCC and (RB/RC). Also derive an expression for
the total power dissipated in the circuit. For VCC = 5V, design the circuit so that it operates at a forced β as close to
10 as possible while limiting the power dissipation to no larger than 20 mW. Use 1% resistors (see Appendix J).
6.50 The pnp transistor in the circuit in Fig. P6.50 has β = 50. Show that the BJT is operating in the saturation
mode and find βforced and VC. To what value should RB be increased in order for the transistor to operate at the
edge of saturation?
∨Show Answer
∨Show Answer

Figure P6.50
Section 6.3: BJT Circuits at DC
6.51 The transistor in the circuit of Fig. P6.51 has a very high β. Find VE and VC for VB (a) +2.0 V, (b)
+1.7 V, and (c) 0 V.
 
Figure P6.51
6.52 The transistor in the circuit of Fig. P6.51 has a very high β. Find the highest value of VB for which the
transistor still operates in the active mode. Also, find the value of VB for which the transistor operates in saturation
with a forced β of 3.
*6.53 Consider the operation of the circuit shown in Fig. P6.53 for VB at –1 V, 0 V, and +1 V. Assume that β is very
high. What values of VE and VC result? At what value of VB does the emitter current reduce to one-tenth of its
∨Show Answer

value for VB = 0 V? For what value of VB is the transistor just at the edge of conduction? (vBE = 0.5 V) What values
of VE and VC correspond? For what value of VB does the transistor reach the edge of saturation? What values of VC
and VE correspond? Find the value of VB for which the transistor operates in saturation with a forced β of 1.5.
Figure P6.53
6.54 For the transistor shown in Fig. P6.54, assume α 
 1 and vBE = 0.5 V at the edge of conduction. What are the
values of VE and VC for VB = 0 V? For what value of VB does the transistor cut off? Saturate? In each case, what
values of VE and VC result?
Figure P6.54
∨Show Answer

D 6.55 Consider the circuit in Fig. P6.51 with the base voltage VB obtained using a voltage divider across the 5-V
supply. Assuming the transistor β to be very large (i.e., ignoring the base current), design the voltage divider to
obtain VB = 1.5 V. Design for a 0.1-mA current in the voltage divider. Now, if the BJT β = 100, analyze the circuit
to determine the collector current and the collector voltage.
6.56 A single measurement indicates the emitter voltage of the transistor in the circuit of Fig. P6.56 to be
1.0 V. Under the assumption that |VBE| = 0.7 V, what are VB, IB, IE, IC, VC, β, and α ?
 
Figure P6.56
D 6.57 Design a circuit using a pnp transistor for which α 
 1 using two resistors connected appropriately to ±2 V
so that VB = 0 V, IE = 0.5 mA, and VBC = 1 V. What exact values of RE and RC would be needed? Now, consult the
table of standard 5% resistor values provided in Appendix J to select suitable practical values. What values of
resistors have you chosen? What are the values of IE and VBC that result?
6.58 In the circuit shown in Fig. P6.58, the transistor has β = 40. Find the values of VB, VE, and VC. If RB is raised
to 100 kΩ, what voltages result? With RB = 100 kΩ, what value of β would return the voltages to the values first
calculated?
∨Show Answer
∨Show Answer

Figure P6.58
6.59 In the circuit shown in Fig. P6.58, the transistor has β =50. Find the values of VB, VE, and VC, and verify that
the transistor is operating in the active mode. What is the largest value that RC can have while the transistor remains
in the active mode?
SIM 6.60 For the circuit in Fig. P6.60, find VB, VE, and VC for RB = 100 kΩ, 10 kΩ, and 1 kΩ. Let β =100.
∨Show Answer

Figure P6.60
6.61 For the circuits in Fig. P6.61(a), (b), (c), (d), and (e), find values for the labeled node voltages and branch
currents. Assume β to be very high.
Figure P6.61(a)
∨Show Answer

Figure P6.61(b)
Figure P6.61(c)
Figure P6.61(d)

Figure P6.61(e)
*6.62 Repeat the analysis of the circuits in Fig. P6.61(a), (b), (c), (d), and (e) using β =100. Find all the labeled
node voltages and branch currents.
D *6.63 Design the circuit in Fig. P6.63 so that a current of 1 mA is established in the emitter and a voltage of −1 V
appears at the collector. The transistor used has a nominal β of 100. However, the β value can be as low as 50 and
as high as 150. Your design should ensure that the specified emitter current is obtained when β =100 and that at the
extreme values of β the emitter current does not change by more than 10% of its nominal value. Also, design for as
large a value for RB as possible. Give the values of RB, RE, and RC to the nearest kilohm. What is the expected
range of collector current and collector voltage corresponding to the full range of β values?
Figure P6.63
D 6.64 The pnp transistor in Fig. P6.64 has β = 50. Find the value for RC that gives VC = +2 V. What happens if the
transistor is replaced with another having β = 100? Give the value of VC in the latter case.
∨Show Answer
∨Show Answer

Figure P6.64
6.65 Design the circuit in Fig. P6.65 to obtain IE = 0.2 mA, VE = +2 V, and VC = +5 V. Design for IB2 = 0.1 mA.
Use standard 5% resistors (refer to Table J.1 in Appendix J). The transistor has VBE = 0.7 V and β = 100.
Figure P6.65
Table J.1 Standard Resistance Values
1% Resistor Values ( kΩ)
5% Resistor Values ( kΩ)
100–174
178–309
316–549
562–976
10
100
178
316
562
11
102
182
324
576
12
105
187
332
590
13
107
191
340
604
15
110
196
348
619
16
113
200
357
634
18
115
205
365
649
∨Show Answer

(a)
(b)
20
118
210
374
665
22
121
215
383
681
24
124
221
392
698
27
127
226
402
715
30
130
232
412
732
33
133
237
422
750
36
137
243
432
768
39
140
249
442
787
43
143
255
453
806
47
147
261
464
825
51
150
267
475
845
56
154
274
487
866
62
158
280
499
887
68
162
287
511
909
75
165
294
523
931
82
169
301
536
953
91
174
309
549
976
*6.66 For the circuit shown in Fig. P6.66, find the labeled node voltages for:
β = ∞
β = 100
Figure P6.66
D *6.67 Using β = ∞, design the circuit shown in Fig. P6.67 so that the emitter currents of Q1, Q2, and Q3 are 0.5
mA, 0.5 mA, and 1 mA, respectively, and V3 = 0, V5 = −2V, and V7 = 1 V. For each resistor, select the nearest
∨Show Answer

standard value utilizing the table of standard values for 5% resistors in Appendix J. Now, for β = 100, find the
values of V3, V4, V5, V6, and V7.
Figure P6.67
6.68 For the circuit in Fig. VE 6.4, find VB and VE for vI = 0 V, −2 V, +2.5 V, and +5 V. The BJTs have β
=50.
 
6.69 All the transistors in the circuits of Fig. P6.69(a), (b), (c) are specified to have a minimum β of 50. Find
approximate values for the collector voltages and calculate forced β for each of the transistors. (Hint)
Figure P6.69(a)
∨Show Answer

Figure P6.69(b)
Figure P6.69(c)
∨Show Answer

7.1
7.2
7.3
7.4
7.5
•
•
•
•
•
CHAPTER 7
Transistor Amplifiers
Introduction
Basic Principles
Small-Signal Operation and Models
Basic Configurations
Biasing
Discrete-Circuit Amplifiers
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
How the transistor (a MOSFET or a BJT) can be used to make an amplifier.
How to obtain linear amplification from the fundamentally nonlinear MOS and bipolar transistor.
How to model the linear operation of a transistor around a bias point by an equivalent circuit that can
be used in the analysis and design of transistor amplifiers.
The three basic ways to connect a MOSFET or a BJT to construct amplifiers with different properties.
Practical circuits for MOS and bipolar transistor amplifiers that can be constructed using discrete
components.

Introduction
Having studied the two major transistor types, the MOSFET (Chapter 5) and the BJT (Chapter 6), we now
begin to study their application. There are two distinctly different kinds of transistor applications: as a
switch, in the design of digital circuits (Chapters 16–18) and as a controlled source, in the design of
amplifiers for analog circuits. This chapter and the next six focus on the use of the transistor in the design of
various amplifier types.
Since the basic principles that underlie the use of the MOSFET and the BJT in amplifier design are the
same, we study the two devices together in this chapter. Besides providing some economy in presentation,
this unified study allows us to make important comparisons between MOS and bipolar amplifiers.
The bulk of this chapter is concerned with the fundamental principles and concepts that are the basis for
the application of transistors in amplifier design: We study in detail the models that are used to represent
both transistor types in the analysis and design of small-signal linear amplifiers. We also study the three
basic configurations in which each of the two transistor types can be connected to create an amplifier.
The chapter concludes with examples of discrete-circuit amplifiers. These are circuits that can be
assembled using discrete transistors, resistors, and capacitors on printed-circuit boards (PCBs). They
predominantly use BJTs, and their design differs in significant ways from the design of integrated-circuit
(IC) amplifiers. The latter predominantly use MOSFETs, and their study begins in Chapter 8. However, the
fundamental principles and concepts introduced in this chapter apply equally well to both discrete and
integrated amplifiers.

(7.1)
(7.2)
7.1 Basic Principles
7.1.1 The Basis for Amplifier Operation
The basis for using the transistor (a MOSFET or a BJT) in amplifier design is that when we operate the
device in the active region, we create a voltage-controlled current source. Specifically, when a MOSFET is
operated in the saturation or pinch-off region, also referred to in this chapter as the active region, the voltage
between gate and source, vGS, controls the drain current iD according to the square-law relationship. For an
NMOS transistor, this is expressed as
In this first-order model of MOSFET operation, the drain current iD does not depend on the drain voltage
vDS because the channel is pinched off at the drain end, thus “isolating” the drain. To focus on essentials, we
will neglect the Early effect for now.
Similarly, when a BJT is operated in the active region, the base-emitter voltage vBE controls the collector
current iC according to the exponential relationship which, for an npn transistor, is expressed as
Here, this first-order model of BJT operation indicates that the collector current iC does not depend on the
collector voltage vCE because the collector–base junction is reverse biased, thus “isolating” the collector.
Figure 7.1 (a) and (b) show an NMOS transistor and an npn transistor operating in the active mode.
Notice that for the NMOS transistor, the pinch-off condition is ensured by keeping vDS ≥ vOV. Since the
overdrive voltage vOV = vGS − Vtn, this condition implies that vGD ≤ Vtn, which indeed ensures channel
pinch-off at the drain end.
Similarly, for the npn transistor in Fig. 7.1(b), the CBJ reverse-bias condition is ensured by keeping vCE
≥ 0.3 V. Since vBE is usually in the vicinity of 0.7 V, vBC is kept smaller than 0.4 V, which is enough to
prevent this relatively large-area junction from conducting.

Figure 7.1 Operating (a) an NMOS transistor and (b) an npn transistor in the active mode. Note that vGS = Vtn + vOV and
vDS ≥ vOV; thus vGD ≤ Vtn, which ensures channel pinch-off at the drain end. Similarly, vBE 
 0.7 V, and vCE ≥ 0.3 V
results in vBC ≤ 0.4 V, which is sufficient to keep the CBJ from conducting.
Although we used NMOS and npn transistors to illustrate the conditions for active-mode operation,
similar conditions apply for PMOS and pnp transistors, as we studied in Chapters 5 and 6, respectively.
Finally, we note that the control relationships in Eqs. (7.1) and (7.2) are nonlinear. Nevertheless, we shall
shortly devise a technique for obtaining almost-linear amplification from these fundamentally nonlinear
devices.
7.1.2 Obtaining a Voltage Amplifier
From the above we see that the transistor is basically a transconductance amplifier: that is, an amplifier
whose input signal is a voltage and whose output signal is a current. More commonly, however, we are
interested in voltage amplifiers. A simple way to convert a transconductance amplifier to a voltage amplifier
is to pass the output current through a resistor and take the voltage across the resistor as the output. Doing
this for a MOSFET gives us the simple amplifier circuit shown in Fig. 7.2(a) and (b). Here vGS is the input
voltage, RD (known as a load resistance) converts the drain current iD to a voltage (iDRD), and VDD is the
supply voltage that powers up the amplifier and, together with RD, establishes operation in the active region,
as we will show shortly.

(7.3)
Figure 7.2 (a) An NMOS amplifier and (b) its voltage transfer characteristic (VTC); and (c) an npn amplifier and (d) its
VTC.
In the amplifier circuit of Fig. 7.2(a) and (b) the output voltage is taken between the drain and ground,
rather than simply across RD. This is because we need to maintain a common ground reference between the
input and the output. The output voltage vDS is given by

(7.4)
(7.5)
(7.6)
(7.7)
(7.8)
It is an inverted version (note the minus sign) of iDRD that is shifted by the constant value of the supply
voltage VDD.
An exactly similar arrangement applies for the BJT amplifier, as illustrated in Fig. 7.2(c) and (d). Here
the output voltage vCE is given by
7.1.3 The Voltage-Transfer Characteristic (VTC)
A useful tool that provides insight into the operation of an amplifier circuit is its voltage-transfer
characteristic (VTC). This is simply a plot (or a clearly labeled sketch) of the output voltage versus the input
voltage. For the MOS amplifier in Fig. 7.2(a), this is the plot of vDS versus vGS shown in Fig. 7.2(b).
Observe that for vGS < Vt, the transistor is cut off, iD = 0 and, from Eq. (7.3), vDS = VDD. As vGS exceeds
Vt, the transistor turns on and vDS decreases. However, since initially vDS is still high, the MOSFET operates
in saturation or the active region. This continues as vGS is increased until the value of vGS is reached that
results in vDS becoming lower than vGS by Vt volts [point B on the VTC in Fig. 7.2(b)]. For vGS greater than
that at point B, the transistor operates in the triode region and vDS decreases more slowly.
The VTC in Fig. 7.2(b) indicates that the segment of greatest slope (hence potentially the largest
amplifier gain) is that labeled AB, which corresponds to operation in the active region. To use a MOSFET as
an amplifier, we confine its operating point to the segment AB at all times. An expression for the segment
AB can be obtained by substituting for iD in Eq. (7.3) by its active-region value from Eq. (7.1), thus
This is obviously a nonlinear relationship. Nevertheless, linear (or almost-linear) amplification can be
obtained by using the technique of biasing the MOSFET. Before considering biasing, however, it is useful to
determine the coordinates of point B, which is at the boundary between the saturation and the triode regions
of operation. These can be obtained by substituting in Eq. (7.5), vGS = VGS|B and vDS = VDS|B = VGS|B − Vt.
The result is
Point B can be alternatively characterized by the overdrive voltage
and

7.1
(7.9)
(7.10)
EXERCISE
Consider the amplifier of Fig. 7.2(a) with VDD = 1.8 V, RD = 17.5 kΩ, and with a MOSFET specified to
have Vt = 0.4 V, kn = 4 mA/V2, and λ = 0. Determine the coordinates of the end points of the active-
region segment of the VTC. Also, determine VDS|C assuming VGS|C = VDD.
An exactly similar development applies to the BJT case, as illustrated in Fig. 7.2(c) and (d). In this case,
over the active-region or amplifier segment AB, the output voltage vCE is related to the input voltage vBE by
Here also, the input–output relationship is nonlinear. Nevertheless, linear (or almost-linear) amplification can
be obtained by using the biasing technique discussed next.
7.1.4 Obtaining Linear Amplification by Biasing the Transistor
Biasing enables us to obtain almost-linear amplification from the MOSFET and the BJT. The technique is
illustrated for the MOSFET case in Fig. 7.3(a) and (b). We select a dc voltage VGS to obtain operation at a
point Q on the segment AB of the VTC. We will discuss how to select an appropriate location for the bias
point Q shortly. For the time being, observe that the coordinates of Q are the dc voltages VGS and VDS, which
are related by
Point Q is known as the bias point or the dc operating point. Since at Q no signal component is present,
it is also known as the quiescent point (hence the symbol Q).
∨Show Answer

Figure 7.3 Biasing the MOSFET amplifier at a point Q located on the segment AB of the VTC.
Next, the signal to be amplified, vgs, a function of time t, is superimposed on the bias voltage VGS, as
shown in Fig. 7.4(a). Thus the total instantaneous value of vGS becomes
The resulting vDS(t) can be obtained by substituting for vGS(t) into Eq. (7.5). Graphically, we can use the
VTC to obtain vDS(t) point by point, as illustrated in Fig. 7.4(b). Here we show vgs as a triangular wave of
“small” amplitude. Specifically, the amplitude of vgs is small enough to restrict the excursion of the
instantaneous operating point to a short, almost-linear segment of the VTC around the bias point Q. The
shorter the segment, the greater the linearity achieved, and the closer to an ideal triangular wave the signal
component at the output, vds, will be. This is the essence of obtaining linear amplification from the nonlinear
MOSFET.

Figure 7.4 (a) The MOSFET amplifier with a small time-varying signal vgs(t) superimposed on the dc bias voltage VGS.
Figure 7.4 (b) The MOSFET operates on a short, almost-linear segment of the VTC around the bias point Q and
provides an output voltage vds = Avvgs.
Before leaving Fig. 7.4(b) let’s look at what happens when we increase the amplitude of the signal vgs.
As the instantaneous operating point is no longer confined to the almost-linear segment of the VTC, the
output signal vds deviates from its ideal triangular shape; that is, it exhibits nonlinear distortion. Worse yet, if
the input signal amplitude becomes sufficiently large, the instantaneous operating point may leave the

(7.11)
(7.12)
(7.13)
(7.14)
(7.15)
segment AB altogether. If this happens at the negative peaks of vgs, the transistor will cut off for a portion of
the cycle and the positive peaks of vds will be “clipped off.” If it occurs at the positive peaks of vgs, the
transistor will enter the triode region for a portion of the cycle, and the negative peaks of vds will become
flattened. It follows that the selection of the location of the bias point Q can have a profound effect on the
maximum allowable amplitude of vds, referred to as the allowable signal swing at the output. We will have
more to say later on this important point.
An exactly parallel development can be applied to the BJT amplifier. In fact, all we need to do is replace
the NMOS transistor in Figs. 7.3(a) and 7.4(a) with an npn transistor and change the voltage and current
symbols to their BJT counterparts. The resulting bias point Q will be characterized by dc voltages VBE and
VCE, which are related by
and a dc current IC,
Also, superimposing a small-signal vbe on the dc bias voltage VBE results in
which can be substituted into Eq. (7.9) to obtain the total instantaneous value of the output voltage vCE(t).
Here again, we get almost-linear operation by keeping vbe small enough to restrict the excursion of the
instantaneous operating point to a short, almost-linear segment of the VTC around the bias point Q. Similar
comments also apply to the maximum allowable signal swing at the output.
7.1.5 The Small-Signal Voltage Gain
The MOSFET Case Consider the MOSFET amplifier in Fig. 7.4(a). If the input signal vgs is kept small, the
corresponding signal at the output vds will be nearly proportional to vgs with the constant of proportionality
being the slope of the almost-linear segment of the VTC around Q. This is the voltage gain of the amplifier,
and we can determine its value by finding the slope of the tangent to the VTC at the bias point Q,
Using Eq. (7.5) we obtain
which we can express in terms of the overdrive voltage at the bias point, VOV, as

1.
2.
(7.16)
(7.17)
(7.18)
We make the following observations on this expression for the voltage gain.
The gain is negative, which tells us that the amplifier is inverting; that is, there is a 180° phase shift
between the input and the output. This inversion is obvious in Fig. 7.4(b) and should have been
anticipated from Eq. (7.5).
The gain is proportional to the load resistance RD, to the transistor transconductance parameter kn,
and to the overdrive voltage VOV. This all makes intuitive sense.
Another simple and insightful expression for the voltage gain Av can be derived by recalling that the dc
current in the drain at the bias point is related to VOV by
This equation can be combined with Eq. (7.15) to obtain
That is, the gain is simply the ratio of the dc voltage drop across the load resistance RD to VOV /2. We can
express it in the alternative form
Since the maximum slope of the VTC in Fig. 7.4(b) occurs at point B, the maximum gain magnitude
|Avmax| is obtained by biasing the transistor at point B,
and since VDS|B = VOV|B,
where VOV|B is given by Eq. (7.7). Of course, this result is only of theoretical importance since biasing at B
would leave no room for negative signal swing at the output. Nevertheless, the result in Eq. (7.18) is
valuable as it tells us the maximum voltage gain achievable from this basic amplifier circuit. As an example,
for a discrete-circuit amplifier operated with VDD = 5 V and VOV|B = 0.5 V, the maximum achievable gain is
18 V/V. An integrated-circuit amplifier using a modern submicron MOSFET operated with VDD = 1.3 V and
with VOV|B = 0.2 V realizes a maximum gain of 11 V/V.

(a)
(b)
D7.2
(7.19)
(7.20)
Finally, note that to maximize the gain, the bias point Q should be as close to point B as possible,
consistent with the required signal swing at the output. We will explore this point further in the end-of-
chapter problems.
Example 7.1
Consider the amplifier circuit shown in Fig. 7.4(a). The transistor is specified to have Vt = 0.4 V, 
= 0.4
mA/V2, W/L = 10, and λ = 0. Also, let VDD = 1.8 V, RD = 17.5 kΩ, and VGS = 0.6 V.
For vgs = 0 (and hence vds = 0), find VOV, ID, VDS, and Av.
What is the maximum symmetrical signal swing allowed at the drain? Hence, find the maximum allowable
amplitude of a sinusoidal vgs.
EXERCISE
For the amplifier circuit studied in Example 7.1, create two alternative designs, each providing a
voltage gain of −10 by (a) changing RD while keeping VOV constant and (b) changing VOV while
keeping RD constant. For each design, specify VGS, ID, RD, and VDS.
The BJT Case We can use a similar development to obtain the small-signal voltage gain of the BJT
amplifier shown in Fig. 7.6,
Using Eq. (7.9) together with Eq. (7.12), we obtain
∨Show Solution
∨Show Answer

1.
2.
(7.21)
(7.22)
Figure 7.6 BJT amplifier biased at a point Q, with a small voltage signal vbe superimposed on the dc bias voltage VBE.
The resulting output signal vce appears superimposed on the dc collector voltage VCE. The amplitude of vce is larger than
that of vbe by the voltage gain Av.
We make the following observations on this expression for the voltage gain:
The gain is negative, which tells us that the amplifier is inverting; that is, there is a 180° phase shift
between the input and the output. This inversion should have been anticipated from Eq. (7.9).
The gain is proportional to the collector bias current IC and to the load resistance RC.
Additional insight into the voltage gain Av can be obtained by expressing Eq. (7.20) as
That is, the gain is the ratio of the dc voltage drop across the load resistance RC to the physical constant VT
(recall that the thermal voltage VT 
 25 mV at room temperature). This relationship is similar in form to that
for the MOSFET (Eq. 7.16) except that here the denominator is a physical constant (VT) rather than a design
parameter (VOV/2). Usually, VOV/2 is larger than VT, thus we can obtain higher voltage gain from the BJT
amplifier than from the MOSFET amplifier. This should not be surprising, as the exponential iC–vBE
relationship is much steeper than the square-law relationship iD–vGS.
The gain Av in Eq. (7.21) can be expressed alternately as

(7.23)
(a)
(b)
(c)
(d)
7.3
from which we see that maximum gain is achieved when VCE is at its minimum value of about 0.3 V,
Here again, this is only a theoretical maximum, since biasing the BJT at the edge of saturation leaves no
room for negative signal swing at the output. Equation (7.23) nevertheless tells us the maximum voltage gain
achievable from the basic BJT amplifier. As an example, for VCC = 5 V, the maximum gain is 188 V/V,
considerably larger than in the MOSFET case. For modern low-voltage technologies, a VCC of 1.3 V
provides a gain of 40 V/V, again much larger than the MOSFET case. The reader should not, however, jump
to the conclusion that the BJT is preferred to the MOSFET in the design of modern integrated-circuit
amplifiers; in fact, the opposite is true, as we shall see in Chapter 8 and beyond.
Finally, Eq. (7.22) shows us that to maximize |Av| the transistor should be biased at the lowest possible
VCE consistent with the desired value of negative signal swing at the output.
Example 7.2
Consider an amplifier circuit using a BJT having IS = 10−15 A, a collector resistance RC = 6.8 kΩ, and a power
supply VCC = 10 V.
Determine the value of the bias voltage VBE required to operate the transistor at VCE = 3.2 V. What is the
corresponding value of IC?
Find the voltage gain Av at this bias point. If an input sine-wave signal of 5-mV peak amplitude is
superimposed on VBE, find the amplitude of the output sine-wave signal (assume linear operation).
Find the positive increment in vBE (above VBE) that drives the transistor to the edge of saturation, where
vCE = 0.3 V.
Find the negative increment in vBE that drives the transistor to within 1% of cutoff (i.e., to vCE = 0.99VCC).
EXERCISE
For the situation described in Example 7.2, while keeping IC unchanged at 1 mA, find the value of RC
that will result in a voltage gain of −320 V/V. What is the largest negative signal swing allowed at the
output (assume that vCE is not to decrease below 0.3 V)? What (approximately) is the corresponding
input signal amplitude? (Assume linear operation.)
∨Show Solution
∨Show Answer

(7.24)
7.1.6 Determining the VTC by Graphical Analysis
Figure 7.7 shows a graphical method for determining the VTC of the amplifier of Fig. 7.4(a). Although
graphical analysis of transistor circuits is rarely employed in practice, it is useful to us at this stage for
gaining greater insight into circuit operation, especially in figuring out where to locate the bias point Q.
The graphical analysis is based on the observation that for each value of vGS, the circuit will be operating
at the point of intersection of the iD−vDS graph corresponding to the particular value of vGS and the straight
line representing Eq. (7.3), which can be rewritten in the form
The straight line representing this relationship is superimposed on the iD−vDS characteristics in Fig. 7.7. It
intersects the horizontal axis at vDS = VDD and has a slope of −1/RD. Since this straight line represents in
effect the load resistance RD, it is called the load line. The VTC is then determined point by point. Note that
we have labeled four important points: point A at which vGS = Vt, point Q at which the MOSFET can be
biased for amplifier operation (vGS = VGS and vDS = VDS), point B at which the MOSFET leaves saturation
and enters the triode region, and point C, which is deep into the triode region and for which vGS = VDD. If
the MOSFET is to be used as a switch, then operating points A and C are applicable: At A the transistor is
off (open switch), and at C the transistor operates as a low-valued resistance rDS and has a small voltage
drop (closed switch). The incremental resistance at point C is also known as the closure resistance. The
operation of the MOSFET as a switch is illustrated in Fig. 7.8(a) and (b). A detailed study of the application
of the MOSFET as a switch is undertaken in Chapter 16, dealing with CMOS digital logic circuits.

Figure 7.7 Graphical construction to determine the voltage-transfer characteristic of the amplifier in Fig. 7.4(a).
Figure 7.8 Operation of the MOSFET in Fig. 7.4(a) as a switch: (a) open, corresponding to point A in Fig. 7.7; (b)
closed, corresponding to point C in Fig. 7.7. The closure resistance is approximately equal to rDS because VDS is usually
very small.

We can use the graphical analysis method above to determine the VTC of the BJT amplifier in Fig.
7.2(c). Here point A, Fig. 7.2(d), corresponds to the BJT just turning on (vBE 
 0.5 V), and point B
corresponds to the BJT leaving the active region and entering the saturation region. If the BJT is to be
operated as a switch, the two modes of operation are cutoff (open switch) and saturation (closed switch). As
discussed in Section 6.2, in saturation, the BJT has a small closure resistance RCEsat as well as an offset
voltage. More seriously, switching the BJT out of its saturation region can require a relatively long delay
time to ensure the removal of the charge stored in the BJT base region. This phenomenon has made the BJT
much less attractive than the MOSFET in digital logic applications.1
7.1.7 Deciding on a Location for the Bias Point Q
For the MOSFET amplifier, the bias point Q is determined by the values of VGS and of the load resistance
RD. Two important considerations in deciding on the location of Q are the required gain and the desired
signal swing at the output. To illustrate this, consider the VTC shown in Fig. 7.4(b). Here the value of RD is
fixed and the only variable remaining is the value of VGS. Since the slope increases as we move closer to
point B, we obtain higher gain by locating Q as close to B as possible. However, the closer Q is to the
boundary point B, the smaller the allowable magnitude of negative signal swing. Thus, as often happens in
engineering design, we need to make a trade-off. The answer here is relatively simple: For a given RD, locate
Q as close to the triode region (point B) as possible to obtain high gain but sufficiently distant to allow for
the required negative signal swing. However, when we take the Early effect into account, the determination
of an optimal bias point Q can become more complicated.
In deciding on a value for RD, it helps to refer to the iD−vDS plane. Figure 7.9 shows two load lines
giving two extreme bias points: Point Q1 is too close to VDD, putting a severe constraint on the positive
signal swing of vds. Exceeding the allowable positive maximum causes the positive peaks of the signal to be
clipped off, since the MOSFET will turn off for the part of each cycle near the positive peak. We say that the
circuit does not have sufficient “headroom.” Similarly, point Q2 is too close to the boundary of the triode
region, thus severely limiting the allowable negative signal swing of vds.
Exceeding this limit would cause the transistor to enter the triode region for part of each cycle near the
negative peaks, resulting in a distorted output signal. In this situation, we say that the circuit does not have
sufficient “legroom.” We will have more to say on bias design in Section 7.4. Finally, note that exactly the
same considerations apply to the BJT amplifier.

Figure 7.9 Two load lines and corresponding bias points. Bias point Q1 does not leave sufficient room for positive signal
swing at the drain (too close to VDD). Bias point Q2 is too close to the boundary of the triode region and might not allow
for sufficient negative signal swing.

(7.25)
(7.26)
7.2 Small-Signal Operation and Models
In Section 7.1 we learned that we can obtain linear amplification by biasing the transistor to operate in the
active region and by keeping the input signal small. In this section, we explore the small-signal operation in
greater detail.
7.2.1 The MOSFET Case
Consider the conceptual amplifier circuit shown in Fig. 7.10. Here the MOS transistor is biased by applying
a dc voltage2 VGS, and the input signal to be amplified, vgs, is superimposed on the dc bias voltage VGS. The
output voltage is taken at the drain.
Figure 7.10 Conceptual circuit utilized to study the operation of the MOSFET as a small-signal amplifier.
The DC Bias Point We can find the dc bias current ID by setting the signal vgs to zero; thus,
where we have neglected channel-length modulation (i.e., we have assumed λ = 0). Here VOV = VGS − Vt is
the overdrive voltage at which the MOSFET is biased to operate. The dc voltage at the drain, VDS, will be
To ensure saturation-region operation, we must have

(7.27)
(7.28)
(7.29)
(7.30)
(7.31)
(7.32)
Furthermore, since the total voltage at the drain will have a signal component superimposed on VDS, VDS has
to be sufficiently greater than VOV to allow for the required negative signal swing.
The Signal Current in the Drain Terminal Next, let us apply the input signal vgs. The total instantaneous
gate-to-source voltage will be
resulting in a total instantaneous drain current iD,
The first term on the right-hand side of Eq. (7.28) is the dc bias current ID (Eq. 7.25). The second term
represents a current component that is directly proportional to the input signal vgs. The third term is a current
component that is proportional to the square of the input signal. This last component is undesirable because
it represents nonlinear distortion. To reduce the nonlinear distortion introduced by the MOSFET, the input
signal should be kept small so that
resulting in
or, equivalently,
If this small-signal condition is satisfied, we may neglect the last term in Eq. (7.28) and express iD as
where
The parameter that relates id and vgs is the MOSFET transconductance gm,

(7.33)
(7.34)
or in terms of the overdrive voltage VOV,
Figure 7.11 presents a graphical interpretation of the small-signal operation of the MOSFET amplifier. Note
that gm is equal to the slope of the iD–vGS characteristic at the bias point,
This is the formal definition of gm, which can be shown to yield the expressions given in Eqs. (7.32) and
(7.33).
Figure 7.11 Small-signal operation of the MOSFET amplifier.
The Voltage Gain Returning to the circuit in Fig. 7.10, we can express the total instantaneous drain voltage
vDS as follows:
Under the small-signal condition, we have

(7.35)
(7.36)
which we can rewrite as
Thus the signal component of the drain voltage is
which indicates that the voltage gain is given by
The minus sign in Eq. (7.36) indicates that the output signal vds is 180° out of phase with the input signal
vgs. This is illustrated in Fig. 7.12, which shows vGS and vDS. The input signal is assumed to have a
triangular waveform with an amplitude much smaller than 2(VGS – Vt), the small-signal condition in Eq.
(7.29), to ensure linear operation. For operation in the saturation (active) region at all times, the minimum
value of vDS should not fall below the corresponding value of vGS by more than Vt. Also, the maximum
value of vDS should be smaller than VDD; otherwise the FET will enter the cutoff region and the peaks of the
output signal waveform will be clipped off.
Finally, notice that by substituting for gm from Eq. (7.33) the voltage-gain expression in Eq. (7.36)
becomes identical to that derived in Section 7.1—namely, Eq. (7.15).

Figure 7.12 Total instantaneous voltages vGS and vDS for the circuit in Fig. 7.10.
Separating the DC Analysis and the Signal Analysis From the preceding analysis, we see that under the
small-signal approximation, signal quantities are superimposed on dc quantities. For instance, the total drain
current iD equals the dc current ID plus the signal current id, the total drain voltage vDS = VDS + vds, and so
on. It follows that we can greatly simplify the analysis and design by separating dc or bias calculations from
small-signal calculations. That is, once we have established a stable dc operating point and have calculated
all dc quantities, we can perform signal analysis ignoring dc quantities.
Small-Signal Equivalent-Circuit Models From a signal point of view, the FET behaves as a voltage-
controlled current source. It accepts a signal vgs between its gate and source and provides a current gmvgs at
the drain terminal. The input resistance of this controlled source is very high—ideally, infinite. The output
resistance—that is, the resistance looking into the drain—also is high, and so far we have assumed it to be
infinite. Putting all of this together, we arrive at the circuit in Fig. 7.13(a), which represents the small-signal
operation of the MOSFET and is thus a small-signal model or a small-signal equivalent circuit.

(7.37)
(7.38)
Figure 7.13 Small-signal models for the MOSFET: (a) neglecting the dependence of iD on vDS in the active region (the
channel-length modulation effect) and (b) including the effect of channel-length modulation, modeled by output
resistance 
. These models apply equally well for both NMOS and PMOS transistors.
In analyzing a MOSFET amplifier circuit, we can replace the transistor with the equivalent-circuit model
shown in Fig. 7.13(a). The rest of the circuit remains unchanged except that ideal constant dc voltage
sources are replaced by short circuits. This is because the voltage across an ideal constant dc voltage source
does not change, and thus there will always be a zero voltage signal across a constant dc voltage source. A
dual statement applies for constant dc current sources; namely, the signal current of an ideal constant dc
current source will always be zero, and thus an ideal constant dc current source can be replaced by an open
circuit in the small-signal equivalent circuit of the amplifier. We can then use the resulting circuit to perform
any required signal analysis, such as calculating voltage gain.
The most serious shortcoming of the small-signal model of Fig. 7.13(a) is that it assumes the drain
current in saturation to be independent of the drain voltage. From our study of the MOSFET characteristics
in saturation, we know that the drain current does in fact depend on vDS in a linear manner. Such dependence
was modeled by a finite resistance ro between drain and source, whose value was given by Eq. (5.27) in
Section 5.2.4, which we repeat here (with the prime on ID dropped) as
where the Early voltage VA = 1/λ is a MOSFET parameter that either is specified or can be measured.
Remember that for a given process technology, VA is proportional to the MOSFET channel length. The
current ID is the value of the dc drain current without the channel-length modulation taken into account; that
is,
Typically, ro is in the range of 10 kΩ to 1000 kΩ. It follows that we can improve the accuracy of the small-
signal model by including ro in parallel with the controlled source, as shown in Fig. 7.13(b). It is important
to note that the small-signal model parameters gm and ro depend on the dc bias point of the MOSFET.

(7.39)
(7.40)
(7.41)
1.
Returning to the amplifier of Fig. 7.10, we find that replacing the MOSFET with the small-signal model
of Fig. 7.13(b) and eliminating the dc sources results in the amplifier small-signal equivalent circuit shown
in Fig. 7.14, from which the following expression for the voltage gain can be found:
Thus, the finite output resistance ro reduces the magnitude of the voltage gain.
Figure 7.14 Small-signal equivalent circuit model of the amplifier in Fig. 7.10.
Although the analysis above is performed on an NMOS transistor, the results, and the equivalent-circuit
models of Fig. 7.13(a) and (b), apply equally well to PMOS devices, except for using 
and |VA| and replacing kn with kp.
The Transconductance gm We shall now take a closer look at the MOSFET transconductance given by Eq.
(7.32), which we rewrite with 
 as follows:
This relationship indicates that gm is proportional to the process transconductance parameter 
 and to the W/L ratio of the MOS transistor; hence to obtain relatively large
transconductance the device must be short and wide. We also see that for a given device the
transconductance is proportional to the overdrive voltage, VOV = VGS − Vt, the amount by which the bias
voltage VGS exceeds the threshold voltage Vt. Note, however, that increasing gm by biasing the device at a
larger VGS has the disadvantage of reducing the allowable voltage signal swing at the drain.
We can find another useful expression for gm by substituting 
 [from Eq. (7.25)] for
VOV in Eq. (7.40):
This expression shows us two things:
For a given MOSFET, gm is proportional to the square root of the dc bias current.

2.
(7.42)
At a given bias current, gm is proportional to 
.
In contrast, as we will see shortly, the transconductance of the BJT is proportional to the bias current and is
independent of the physical size and geometry of the device.
To gain some insight into the values of gm obtained in MOSFETs, consider an integrated-circuit device
operating at ID = 0.2 mA and having 
. Equation (7.41) shows that for W/L = 1, gm = 0.45
mA/V, whereas a device for which W/L = 100 has gm = 4.5 mA/V. In contrast, a BJT operating at a collector
current of 0.2 mA has gm = 8 mA/V.
Yet another useful expression for gm of the MOSFET can be obtained by substituting for 
 in
Eq. (7.40) by 2ID/(VGS – Vt)2:
A convenient graphical construction that clearly illustrates this relationship is shown in Fig. 7.15.
Figure 7.15 The slope of the tangent at the bias point Q intersects the vOV axis at 
. Thus, 
 .
In summary, there are three different relationships for determining gm—Eqs. (7.40), (7.41), and (7.42)—
and there are three design parameters—(W/L), VOV, and ID, any two of which can be chosen independently.
That is, the designer may choose to operate the MOSFET with a certain overdrive voltage VOV and at a
particular current ID; the required W/L ratio can then be found and the resulting gm determined.3

7.4
7.5
7.6
7.7
7.8
7.9
EXERCISES
For the amplifier in Fig. 7.10, let VDD = 5 V, RD = 10 kΩ, Vt = 1V, 
 = 20 µA/V2, W/L = 20, VGS =
2V, and λ = 0.
(a) Find the dc current ID and the dc voltage VDS.
(b) Find gm.
(c) Find the voltage gain.
(d) If vgs = 0.2 sin ωt volts, find vds assuming that the small-signal approximation holds. What are the
minimum and maximum values of vDS?
(e) Use Eq. (7.28) to determine the various components of iD. Using the identity 
, show that there is a slight shift in ID (by how much?) and that there is a
second-harmonic component (i.e., a component with frequency 2 ω). Express the amplitude of the
second-harmonic component as a percentage of the amplitude of the fundamental. (This value is known
as the second-harmonic distortion.)
An NMOS transistor has μnCox = 60 µA/V2, W/L = 40, Vt = 1 V, and VA = 15 V. Find gm and ro when
(a) the bias voltage VGS = 1.5 V, (b) the bias current ID = 0.5 mA.
A MOSFET is to operate at ID = 0.1 mA and is to have gm = 1 mA/V. If 
 = 500 µA/V2, find the
required W/L ratio and the overdrive voltage.
For a fabrication process for which 
, find the ratio of the width of a PMOS transistor to
the width of an NMOS transistor so that the two devices have equal gm for the same bias conditions.
The two devices have equal channel lengths.
A PMOS transistor has 
, and W/L = 16 µm/0.8 µm. Find ID and gm
when the device is biased at VGS = −1.6 V. Also, find the value of ro if λ (at L = 1 µm) = –0.04 V−1.
Derive an expression for (gmro) in terms of VA and VOV. As we shall see in Chapter 8, this is an
important transistor parameter and is known as the intrinsic gain. Evaluate the value of gmro for an
NMOS transistor fabricated in a 0.18-µm CMOS process for which 
 of channel
length. Let the device have three times the minimum channel length and be operated at an overdrive
voltage of 0.2 V.
Example 7.3
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

Figure 7.16(a) shows a discrete MOSFET amplifier biased with a drain-to-gate resistance RG. We will study this
biasing arrangement in Section 7.4. The input signal vi is coupled to the gate via a large capacitor, and the output
signal at the drain is coupled to the load resistance RL via another large capacitor. We want to analyze this
amplifier circuit to determine its small-signal voltage gain, its input resistance, and the largest allowable input
signal. The transistor has 
, and VA = 50 V. Assume that the coupling
capacitors are large enough that they act as short circuits at the signal frequencies of interest.
Figure 7.16 (a) Example 7.3: amplifier circuit.
Figure 7.16 (b) Example 7.3: circuit for determining the dc operating point.
Figure 7.16 (c) Example 7.3: the amplifier small-signal equivalent circuit.

D7.10
Figure 7.16 (d) Example 7.3: a simplified version of the circuit in (c).
EXERCISE
Consider the amplifier circuit of Fig. 7.16(a) without the load resistance RL and with channel-length
modulation neglected. Let VDD = 5 V, Vt = 0.7 V, and kn = 1 mA/V2. Find VOV, ID, RD, and RG to
obtain a voltage gain of −25 V/V and an input resistance of 0.5 M Ω. What is the maximum allowable
input signal, ?
Video Example VE 7.1 Analysis of a MOS Amplifier
In the circuit of Fig. VE7.1, the NMOS transistor has |Vt| = 0.5 V and VA = 50 V and operates with VD = 1 V.
What is the voltage gain 
 ? What do VD and the gain become for I increased to 1 mA?
∨Show Solution
∨Show Answer


controlled source. This addition obviously does not change the terminal currents and is thus allowed. The
newly created circuit node, labeled X, is joined to the gate terminal G in Fig. 7.17(c). Observe that the gate
current does not change—that is, it remains equal to zero—and thus this connection does not alter the
terminal characteristics. We now have a controlled current source gmvgs connected across its control voltage
vgs. We can replace this controlled source by a resistance as long as this resistance draws an equal current as
the source. (See the source-absorption theorem in Appendix D.) Thus the value of the resistance is vgs/gmvgs
=1/gm. This replacement is shown in Fig. 7.17(d), which depicts the alternative model. Notice that ig is still
zero, id = gmvgs, and is = vgs/(1/gm) = gmvgs, all the same as in the original model in Fig. 7.17(a).
Figure 7.17 Development of the T equivalent-circuit model for the MOSFET. For simplicity, ro has been omitted;
however, it may be added between D and S in the T model of (d).

The model of Fig. 7.17(d) shows that the resistance between gate and source looking into the source is
1/gm. This observation and the T model prove useful in many applications. Note that the resistance between
gate and source, looking into the gate, is infinite.
In developing the T model we did not include ro. If we want, we can do this by incorporating in the
circuit of Fig. 7.17(d) a resistance ro between drain and source, as shown in Fig. 7.18(a). An alternative
representation of the T model, in which the voltage-controlled current source is replaced with a current-
controlled current source, is shown in Fig. 7.18(b).
Figure 7.18 (a) The T model of the MOSFET augmented with the drain-to-source resistance ro. (b) An alternative
representation of the T model.
Finally, note that in order to distinguish the model of Fig. 7.13(b) from the equivalent T model, the
former is sometimes referred to as the hybrid-π model, a carryover from the bipolar transistor literature. We
will explain the origin of this name shortly.
Example 7.4
Figure 7.19(a) shows a MOSFET amplifier biased by a constant-current source I. Assume that the values of I
and RD are such that the MOSFET operates in the saturation region. The input signal vi is coupled to the source
terminal by a large capacitor CC1. Similarly, the output signal at the drain is taken through a large coupling
capacitor CC2. Find the input resistance Rin and the voltage gain vo/vi. Neglect channel-length modulation.

7.11
Figure 7.19 (a) Amplifier circuit for Example 7.4.
Figure 7.19 (b) Small-signal equivalent circuit of the amplifier in (a).
EXERCISE
Use the T model of Fig. 7.18(b) to show that a MOSFET whose drain is connected to its gate exhibits
an incremental resistance equal to [(1/gm) || ro].
Modeling the Body Effect As we mentioned earlier (see Section 5.4), the body effect occurs in a MOSFET
when the source is not tied to the substrate (which is always connected to the most negative power supply in
the integrated circuit for n-channel devices and to the most positive for p-channel devices). Thus the
∨Show Solution
∨Show Answer

(7.49)
(7.50)
(7.51)
substrate (body) will be at signal ground, but since the source is not, a signal voltage vbs develops between
the body (B) and the source (S). The substrate then acts as a “second gate” or a backgate for the MOSFET.
Thus the signal vbs gives rise to a drain-current component, which we will write as gmbvbs, where gmb is the
body transconductance, defined as
Recalling that iD depends on vBS through the dependence of Vt on VBS, we can show that
where
Typically the value of χ lies in the range 0.1 to 0.3.
Figure 7.20(a) and (b) show the MOSFET model augmented to include the controlled source gmbvbs that
models the body effect. Ideally, this is the model to be used whenever the source is not connected to the
substrate. However, except in some very particular situations, the body effect can generally be ignored in the
initial, pencil-and-paper design of MOSFET amplifiers.
Finally, although the analysis above was performed on an NMOS transistor, the results and the equivalent
circuit of Fig. 7.20(a) and (b) apply equally well to PMOS transistors, except for using 
, and |λ| and replacing 
 with 
 in the appropriate formula.
Figure 7.20 Small-signal, equivalent-circuit model of a MOSFET in which the source is not connected to the body.
7.2.2 The BJT Case
We next consider the small-signal operation of the BJT and develop small-signal equivalent-circuit models
that represent its operation at a given bias point. The following development parallels what we used for the

(7.52)
(7.53)
(7.54)
(7.55)
MOSFET except that here we have an added complication: The BJT draws a finite base current. As we will
see shortly, this phenomenon (finite β) manifests itself as a finite input resistance looking into the base of the
BJT (as compared to the infinite input resistance looking into the gate of the MOSFET).
Consider the conceptual amplifier circuit shown in Fig. 7.21(a). Here the base–emitter junction is
forward biased by a dc voltage VBE. The reverse bias of the collector–base junction is established by
connecting the collector to another power supply of voltage VCC through a resistor RC. The input signal to be
amplified is represented by the voltage source vbe that is superimposed on VBE.
Figure 7.21 (a) Conceptual circuit to illustrate the operation of the transistor as an amplifier. (b) The circuit of (a) with
the signal source vbe eliminated for dc (bias) analysis.
The DC Bias Point We first consider the dc bias conditions by setting the signal vbe to zero. The circuit
reduces to that in Fig. 7.21(b), and we can write the following relationships for the dc currents and voltages:
For active-mode operation, VCE should be greater than (VBE − 0.4) by an amount that allows for the
required negative signal swing at the collector.
The Collector Current and the Transconductance If a signal vbe is applied as shown in Fig. 7.21(a), the
total instantaneous base–emitter voltage vBE becomes

(7.56)
(7.57)
(7.58)
(7.59)
(7.60)
(7.61)
(7.62)
Correspondingly, the collector current becomes
Use of Eq. (7.52) yields
Now, if vbe ≪ VT, we can approximate Eq. (7.56) as
Here we have expanded the exponential in Eq. (7.56) in a series and retained only the first two terms. That
is, we have assumed that
so that we can neglect the higher-order terms in the exponential series expansion. The condition in Eq. (7.58)
is the small-signal approximation for the BJT and corresponds to that in Eq. (7.29) for the MOSFET case.
The small-signal approximation for the BJT is valid only for vbe less than 5 mV, or 10 mV at most. Under
this approximation, the total collector current is given by Eq. (7.57) and can be rewritten
Thus the collector current is composed of the dc bias value IC and a signal component ic,
This equation relates the signal current in the collector to the corresponding base–emitter signal voltage. We
can rewrite it as
where gm is the transconductance, and, from Eq. (7.60), it is given by

(7.63)
We observe that the transconductance of the BJT is directly proportional to the collector bias current IC.
Thus to obtain a constant predictable value for gm, we need a constant predictable IC. Also, we note that
BJTs have relatively high transconductance in comparison to MOSFETs; for instance, at 
. Finally, unlike the MOSFET, whose gm depends on the device dimensions
(W and L), gm of a BJT depends only on the dc collector current at which it is biased to operate.
A graphical representation of gm is given in Fig. 7.22, where gm is equal to the slope of the tangent to the
 characteristic curve at iC = IC (i.e., at the bias point Q). Thus,
Figure 7.22 Linear operation of the BJT under the small-signal condition: A small-signal vbe with a triangular waveform
is superimposed on the dc voltage VBE. It gives rise to a collector-signal current ic, also of triangular waveform,
superimposed on the dc current IC. Here, ic = gmvbe, where gm is the slope of the iC–vBE curve at the bias point Q.

7.12
7.13
(7.64)
(7.65)
(7.66)
(7.67)
(7.68)
The small-signal approximation implies keeping the signal amplitude small enough that operation is
restricted to an almost-linear segment of the 
 exponential curve. If we increase the signal amplitude,
the collector current will have components nonlinearly related to vbe.
EXERCISES
Use Eq. (7.63) to derive the expression for gm in Eq. (7.62).
Calculate the value of gm for a BJT biased at IC = 0.5 mA.
The Base Current and the Input Resistance at the Base To determine the resistance seen by vbe, we first
evaluate the total base current iB using Eq. (7.59), as follows:
Thus,
where IB is equal to IC/β and the signal component ib is given by
Substituting for IC/VT by gm gives
The small-signal input resistance between base and emitter, looking into the base, is denoted by rπ and is
defined as
Using Eq. (7.66) gives
∨Show Answer

(7.69)
7.14
(7.70)
(7.71)
(7.72)
Thus rπ is directly proportional to β and is inversely proportional to gm and thus to the bias current IC.
Substituting for gm in Eq. (7.68) from Eq. (7.62) and replacing IC/β by IB gives an alternative expression for
rπ,
Recall that since the gate current of the MOSFET is zero (at dc and low frequencies) the input resistance at
the gate is infinite; that is, in the MOSFET there is no counterpart to rπ.4
EXERCISE
A BJT amplifier is biased to operate at a constant collector current IC = 0.5 mA irrespective of the
value of β. If the manufacturer specifies β to range from 50 to 200, give the expected range of gm, IB,
and rπ.
The Emitter Current and the Input Resistance at the Emitter We can find the total emitter current iE
using Eq. (7.59) as
Thus,
where IE is equal to IC/α and the signal current ie is given by
If we denote the small-signal resistance between base and emitter looking into the emitter by re, it can be
defined as
Using Eq. (7.71) we find that re, called the emitter resistance, is given by
∨Show Answer

(7.73)
(7.74)
(7.75)
Comparison with Eq. (7.62) reveals that
We can find the relationship between rπ and re by combining their respective definitions in Eqs. (7.67) and
(7.72) as
Thus,
which yields
Figure 7.23 illustrates the definition of rπ and re.
Figure 7.23 Illustrating the definition of rπ and re.
Finally, a comparison with the MOSFET would be useful: For the MOSFET, α = 1 and the resistance
looking into the source is simply 1/gm.
EXERCISE
SHOCKLEY AND SILICON VALLEY
∨

7.15
(7.76)
(7.77)
(7.78)
(7.79)
7.16
A BJT having β = 100 is biased at a dc collector current of 1 mA. Find the value of gm, re, and rπ at the
bias point.
The Voltage Gain The total collector voltage vCE is
Thus, superimposed on the collector bias voltage VCE we have signal voltage vce given by
from which we find the voltage gain Av of this amplifier as
Here again we note that because gm is directly proportional to the collector bias current, the gain will be as
stable as the collector bias current. Substituting for gm from Eq. (7.62) enables us to express the gain in the
form
which is identical to the expression we derived in Section 7.1 (Eq. 7.21). Finally, we note that the gain
expression in Eq. (7.78) is identical in form to that for the MOSFET amplifier (namely, −gmRD).
EXERCISE
In the circuit of Fig. 7.21(a), VBE is adjusted to yield a dc collector current of 1 mA. Let VCC = 15 V,
RC = 10 kΩ, and β = 100. Find the voltage gain vce/vbe. If vbe = 0.005 sin ωt volt, find vC(t) and iB(t).
∨Show Answer
∨Show Answer

Separating the Signal and the DC Quantities The analysis above indicates that every current and voltage
in the amplifier circuit of Fig. 7.21(a) is composed of two components: a dc component and a signal
component. For instance, vBE = VBE + vbe, iC = IC + ic, and so on. The dc components are determined from
the dc circuit given in Fig. 7.21(b) and from the relationships imposed by the transistor (Eqs. 7.52 through
7.54). On the other hand, we can represent the signal operation of the BJT by eliminating the dc sources, as
shown in Fig. 7.24. Observe that since the voltage of an ideal dc supply does not change, the signal voltage
across it will be zero. For this reason we have replaced VCC and VBE with short circuits. Had the circuit
contained ideal dc current sources, these would have been replaced by open circuits. Note, however, that the
circuit of Fig. 7.24 is useful only insofar as it shows the various signal currents and voltages; it is not an
actual amplifier circuit, since the dc bias circuit is not shown.
Figure 7.24 also shows the expressions for the current increments (ic, ib, and ie) obtained when a small
signal vbe is applied. These relationships can be represented by a circuit. Such a circuit must have three
terminals—C, B, and E—and must yield the same terminal currents indicated in Fig. 7.24. The resulting
circuit is then equivalent to the transistor as far as small-signal operation is concerned, and thus it can be
considered an equivalent small-signal circuit model.
Figure 7.24 The amplifier circuit of Fig. 7.21(a) with the dc sources (VBE and VCC) eliminated (short-circuited). Thus
only the signal components are present. Note that this is a representation of the signal operation of the BJT and not an
actual amplifier circuit.
The Hybrid-π Model An equivalent-circuit model for the BJT is shown in Fig. 7.25(a). This model
represents the BJT as a voltage-controlled current source and explicitly includes the input resistance looking
into the base, rπ. The model obviously yields ic = gmvbe and ib = vbe/rπ. Not so obvious, however, is the fact
that the model also yields the correct expression for ie. This can be shown as follows: At the emitter node we
have

A slightly different equivalent-circuit model can be obtained by expressing the current of the controlled
source (gmvbe) in terms of the base current ib as follows:
This results in the alternative equivalent-circuit model shown in Fig. 7.25(b). Here the transistor is
represented as a current-controlled current source, with the control current being ib.
Figure 7.25 Two slightly different versions of the hybrid-π model for the small-signal operation of the BJT. The
equivalent circuit in (a) represents the BJT as a voltage-controlled current source (a transconductance amplifier), and that
in (b) represents the BJT as a current-controlled current source (a current amplifier).
As we have done in the case of the MOSFET’s small-signal models, we can account for the Early effect
(the slight dependence of iC on vCE due to basewidth modulation) by adding the resistance ro = VA/IC
between collector and emitter, as shown in Fig. 7.26(a) and (b). Note that to conform with the literature, we
have renamed vbe as vπ. The two models of Fig. 7.26(a) and (b) are versions of the hybrid-π model, the most
widely used model for the BJT. The equivalent circuit of Fig. 7.26(a) corresponds to that of the MOSFET
[Fig. 7.13(b)] except for rπ, which accounts for the finite base current (or finite β) of the BJT. However, the
equivalent circuit of Fig. 7.26(b) has no MOS counterpart.

(7.80)
7.17
Figure 7.26 The hybrid-π small-signal model, in its two versions, with the resistance ro included.
It is important to note that the small-signal equivalent circuits of Fig. 7.26(a) and (b) model the operation
of the BJT at a given bias point. This should be obvious from the fact that the model parameters gm, rπ, and
ro depend on the value of the dc bias current IC, as indicated in Fig. 7.26(a) and (b). That is, these equivalent
circuits model the incremental operation of the BJT around the bias point.
As in the case of the MOSFET amplifier, including ro in the BJT model causes the voltage gain of the
conceptual amplifier of Fig. 7.21(a) to become
Thus, the magnitude of the gain is reduced somewhat.
EXERCISE
For the model in Fig. 7.25(b) show that ic = gmvbe and ie = vbe/re.
The T Model Although the hybrid-π model (in one of its two variants shown in Fig. 7.25(a)) and (b) can be
used to carry out small-signal analysis of any transistor circuit, there are situations in which an alternative
model, shown in two versions in Fig. 7.27, is much more convenient. This model is called, as in the case of
the MOSFET, the T model. The model of Fig. 7.27(a) represents the BJT as a voltage-controlled current
source with the control voltage being vbe. Here, however, the resistance between base and emitter, looking
into the emitter, is explicitly shown. From Fig. 7.27(a) we see clearly that the model yields the correct
expressions for ic and ie. It can also be shown to yield the correct expression for ib (see Exercise 7.18).

7.18
Figure 7.27 Two slightly different versions of what is known as the T model of the BJT. The circuit in (a) is a voltage-
controlled current source representation and that in (b) is a current-controlled current source representation. These
models explicitly show the emitter resistance re rather than the base resistance rπ featured in the hybrid-π model.
If in the model of Fig. 7.27(a) we express the current of the controlled source in terms of the emitter
current as
we obtain the alternative T model shown in Fig. 7.27(b). Here the BJT is represented as a current-controlled
current source but with the control signal being ie.
Finally, the T models can be augmented by ro to account for the dependence of ic to vce (the Early effect)
to obtain the equivalent circuits shown in Fig. 7.28.
EXERCISE
Show that for the T model in Fig. 7.27(a), ib = vbe/rπ.
Small-Signal Models of the pnp Transistor Although the small-signal models in Figs. 7.26(a) and (b) and
7.28(a) and (b) were developed for the case of the npn transistor, they apply equally well to the pnp transistor
with no change in polarities.

Figure 7.28 The T models of the BJT.
Example 7.5
We want to analyze the transistor amplifier shown in Fig. 7.29(a) to find its voltage gain vo/vi. Assume β = 100
and neglect the Early effect.
Figure 7.29 (a) Example 7.5: amplifier circuit.

Figure 7.29 (b) Example 7.5: circuit for dc analysis.
Figure 7.29 (c) Example 7.5: amplifier circuit with dc sources replaced by short circuits.
Figure 7.29 (d) Example 7.5: amplifier circuit with the transistor replaced by its hybrid-π, small-signal model.
Example 7.6
∨Show Solution

To learn more about the way transistor amplifiers operate, we can consider the waveforms at various points in
the circuit analyzed in the previous example. For this purpose assume that vi has a triangular waveform. First
determine the maximum amplitude that vi is allowed to have. Then, with the amplitude of vi set to this value,
give the waveforms of the total quantities iB(t), vBE(t), iC(t), and vC(t).
Example 7.7
We need to analyze the circuit of Fig. 7.31(a) to determine the voltage gain and the signal waveforms at various
points. Capacitor CC1 couples the signal vi to the emitter while blocking dc. In this way the dc bias established
by V+ and V− together with RE and RC will not be disturbed when the signal vi is connected.
Figure 7.31 (a) Example 7.7: circuit.
∨Show Solution

Figure 7.31 (b) Example 7.7: dc analysis.
Figure 7.31 (c) Example 7.7: circuit with the dc sources eliminated.

7.19
Figure 7.31 (d) Example 7.7: small-signal analysis using the T model for the BJT.
Assume CC1 to be very large so as to act as a perfect short circuit at signal frequencies of interest. Similarly,
another very large capacitor CC2 is used to couple the output signal vo to other parts of the system. You may
neglect the Early effect.
EXERCISE
To increase the voltage gain of the amplifier analyzed in Example 7.7, the collector resistance RC is
increased to 7.5 kΩ. Find the new values of VC, Av, and the peak amplitude of the output sine wave
corresponding to an input sine wave vi of 10-mV peak.
Performing Small-Signal Analysis Directly on the Circuit Diagram In most cases we should explicitly
replace each BJT with its small-signal model and analyze the resulting circuit, as we have done in the
examples above. This systematic procedure is particularly recommended for beginning students.
Experienced circuit designers, however, often perform a first-order analysis directly on the circuit. Figure
7.33(a) and (b) illustrate this process for the two circuits we analyzed in Examples 7.5 and 7.7. We urge you
to follow this direct analysis procedure (the steps are numbered). Notice that the equivalent-circuit model is
implicitly utilized; we are only saving the step of drawing the circuit with the BJT replaced with its model.
Direct analysis, however, has an additional very important benefit: It provides insight regarding the signal
transmission through the circuit. Such insight can prove invaluable in design, particularly at the stage of
selecting a circuit configuration appropriate for a given application. Direct analysis can also be used for
MOS amplifier circuits.
∨Show Solution
∨Show Answer

7.20
(a)
(b)
(c)
Figure 7.33 (a) Performing signal analysis directly on the circuit diagram with the BJT small-signal model implicitly
employed: circuit for Example 7.5.
Figure 7.33 (b) Performing signal analysis directly on the circuit diagram with the BJT small-signal model implicitly
employed: circuit for Example 7.7.
EXERCISE
The transistor in Fig. E7.20 is biased with a constant current source I = 1 mA and has β = 100 and VA =
100 V.
Neglecting the Early effect, find the dc voltages at the base, emitter, and collector.
Find gm, rπ, and ro.
If terminal Z is connected to ground, X to a signal source vsig with a source resistance Rsig = 2 kΩ,
and Y to an 8- kΩ load resistance, use the hybrid-π model shown in Fig. 7.26(a) to draw the small-
signal equivalent circuit of the amplifier. (Note that the current source I should be replaced with

1.
2.
3.
4.
5.
an open circuit.) Calculate the overall voltage gain vy/vsig. If ro is neglected, what is the error in
estimating the gain magnitude? (Note: An infinite capacitance is used to indicate that the
capacitance is large enough to act as a short circuit at all signal frequencies of interest. However,
the capacitor still blocks dc.)
Figure E7.20
7.2.3 Summary Tables
The results of this section are summarized in three tables. Table 7.1 lists the five steps for analyzing a
MOSFET or a BJT amplifier circuit. Table 7.2 presents the MOSFET small-signal, equivalent-circuit
models, together with the formulas for calculating the parameter values of the models. Finally, Table 7.3
supplies the corresponding data for the BJT.
Table 7.1 Systematic Procedure for the Analysis of Transistor Amplifier Circuits
Eliminate the signal source and determine the dc operating point of the transistor.
Calculate the values of the parameters of the small-signal model.
Eliminate the dc sources by replacing each dc voltage source by a short circuit and each dc current source by
an open circuit.
Replace the transistor with one of its small-signal, equivalent-circuit models. Although any of the models can
be used, one might be more convenient than the others for the particular circuit being analyzed. This point is
made clearer in Section 7.3.
Analyze the resulting circuit to determine the required quantities (e g , voltage gain, input resistance)
∨Show Answer

Table 7.2 Small-Signal Models of the MOSFET
Table 7.3 Small-Signal Models of the BJT



7.3 Basic Configurations
Let’s take stock of where we are and where we are going in our study of transistor amplifiers. In Section 7.1
we examined the principle underlying the application of the MOSFET, and of the BJT, as an amplifier. There
we found that we can achieve almost-linear amplification by dc biasing the transistor at an appropriate point
in its active region of operation, and by keeping the input signal (vgs or vbe) small. We then developed, in
Section 7.2, circuit models that represent the small-signal operation of each of the two transistor types, thus
providing a systematic procedure for analyzing transistor amplifiers.
We are now ready to consider the various possible configurations of MOSFET and BJT amplifiers. In
order to focus on the most important features of the various configurations, we shall present them in their
most simple, or “stripped-down,” version. Thus, we will not show the dc biasing arrangements, leaving the
study of bias design to the next section. Section 7.5 brings everything together by showing practical discrete-
circuit amplifiers, namely, amplifier circuits that can be constructed using discrete components. The study of
integrated-circuit amplifiers begins in Chapter 8.
7.3.1 The Three Basic Configurations
There are three basic configurations for connecting a MOSFET or a BJT as an amplifier. Each of these
configurations is obtained by connecting one of the device terminals to ground, thus creating a two-port
network with the grounded terminal being common to the input and output ports. The resulting
configurations are shown in Fig. 7.34(a), (b), and (c) for the MOSFET and in Fig. 7.34(d), (e) and (f) for the
BJT.
In the circuit of Fig. 7.34(a) we have connected the source terminal to ground, applied the input voltage
signal vi between the gate and ground, and taken the output voltage signal vo between the drain and ground,
across the resistance RD. We call this configuration the grounded-source or common-source (CS) amplifier,
and it is by far the most popular MOS amplifier configuration; in fact, we used it in Sections 7.1 and 7.2 to
study MOS amplifier operation. A parallel set of remarks apply to the BJT counterpart, the grounded-emitter
or common-emitter (CE) amplifier in Fig. 7.34(d).
The common-gate (CG) or grounded-gate amplifier is shown in Fig. 7.34(b), and its BJT counterpart,
the common-base (CB) or grounded-base amplifier in Fig. 7.34(e). Here the gate (base) is grounded, the
input signal vi is applied to the source (emitter), and the output signal vo is taken at the drain (collector)
across the resistance RD (RC). We encountered a CG amplifier in Example 7.4 and a CB amplifier in
Example 7.7.
Finally, Fig. 7.34(c) shows the common-drain (CD) or grounded-drain amplifier, and Fig. 7.34(f) shows
its BJT counterpart, the common-collector (CC) or grounded collector amplifier. Here the drain (collector)
is grounded, the input signal vi is applied between gate (base) and ground, and the output voltage vo is taken
between the source (emitter) and ground, across a resistance RL. For reasons that will become apparent
shortly, this pair of configurations is more commonly called the source follower and the emitter follower.

Figure 7.34 (a) The common-source (CS) MOSFET amplifier configuration.
Figure 7.34 (b) The common-gate (CG) MOSFET amplifier configuration.
Figure 7.34 (c) The common-drain (CG) or source follower MOSFET amplifier configuration.
Figure 7.34 (d) The common-emitter (CE) BJT amplifier configuration.

Figure 7.34 (e) The common-base (CB) BJT amplifier configuration.
Figure 7.34 (f) The common-collector (CC) or emitter follower BJT amplifier configuration.
Our study of the three basic amplifier configurations of the MOSFET and of the BJT will reveal that
each has distinctly different attributes, hence areas of application. As well, we will see that although each
pair of configurations (e.g., CS and CE) has many common attributes, there are important differences as
well.
Our next step is to replace the transistor in each of the six circuits in Fig. 7.34(a), (b), (c), (d), (e), and (f)
with an appropriate equivalent-circuit model and analyze the resulting circuits to determine important
parameters of each amplifier configuration. To simplify matters, we will not include ro in the initial analysis.
At the end of the section we will explain when to include ro in the analysis and how great we can expect its
effect to be.
7.3.2 Characterizing Amplifiers
Before we begin our study of the different transistor amplifier configurations, let’s consider how to
characterize the performance of an amplifier as a circuit building block. We introduced this topic in Section
1.5.

Figure 7.35(a) shows an amplifier fed with a signal source that has an open-circuit voltage vsig and an
internal resistance Rsig. These can be the parameters of an actual signal source or, in a cascade amplifier, the
Thévenin equivalent of the output circuit of another amplifier stage preceding the one under study. The
amplifier is shown with a load resistance RL connected to the output terminal. Here, RL can be an actual load
resistance or the input resistance of a succeeding amplifier stage in a cascade amplifier.
Figure 7.35 (a) Characterization of the amplifier as a functional block: An amplifier fed with a voltage signal vsig having
a source resistance Rsig, and feeding a load resistance RL.
Figure 7.35 (b) Characterization of the amplifier as a functional block: equivalent-circuit representation of the circuit in
(a).
Figure 7.35 (c) Characterization of the amplifier as a functional block: determining the amplifier output resistance Ro.

(7.83)
Figure 7.35 (d) Characterization of the amplifier as a functional block: alternative representation of the circuit in (a).
Figure 7.35(b) shows the amplifier circuit with the amplifier block replaced by its equivalent-circuit
model. The input resistance Rin represents the loading effect of the amplifier input on the signal source. It is
found from and together with the resistance Rsig forms a voltage divider that reduces vsig to the value vi that
appears at the amplifier input,
Most of the amplifier circuits studied in this section are unilateral. That is, they do not contain internal
feedback, and thus Rin is independent of RL. However, in general Rin may depend on the load resistance RL.
Indeed one of the six configurations studied in this section, the emitter follower, exhibits such dependence.
The second parameter in characterizing amplifier performance is the open-circuit voltage gain Avo,
defined as
The third and final parameter is the output resistance Ro. Observe from Fig. 7.35(b) that Ro is the
resistance seen looking back into the amplifier output terminal with vi set to zero. Thus Ro can be
determined, at least conceptually, as indicated in Fig. 7.35(c), with
Because Ro is determined with vi = 0, the value of Ro does not depend on Rsig.
The controlled source Avovi and the output resistance Ro represent the Thévenin equivalent of the
amplifier output circuit, and the output voltage vo can be found from

(7.84)
(7.85)
(7.86)
Thus the voltage gain of the amplifier proper, Av, can be found as
and the overall voltage gain, Gv,
can be determined by combining Eqs. (7.83) and (7.85):
In some cases, we will find it more convenient to represent the amplifier output with the equivalent
circuit shown in Fig. 7.35(d). Here, Gm is the short-circuit transconductance of the amplifier,
while Ro is the same as in the Thévenin representation. We can use the model in Fig. 7.35(d) to determine the
open-circuit voltage gain of the amplifier proper as
7.3.3 The Common-Source (CS) and Common-Emitter (CE) Amplifiers
Of the three basic transistor amplifier configurations, the common-source (or common-emitter for BJT) is
the most widely used. Typically, in an amplifier formed by cascading a number of gain stages, the bulk of the
voltage gain is obtained by using one or more common-source (or common-emitter) stages in cascade.
Characteristic Parameters of the CS Amplifier Figure 7.36(a) shows a common-source amplifier (with
the biasing arrangement omitted) fed with a signal source vsig having a source resistance Rsig. We want to
analyze this circuit to determine Rin, Avo, and Ro. For this purpose, we assume that RD is part of the
amplifier; thus if a load resistance RL is connected to the amplifier output, RL appears in parallel with RD. In
such a case, we want to determine Av and Gv as well.

(7.87)
(7.88)
(7.89)
(7.90)
Figure 7.36 (a) Common-source amplifier fed with a signal vsig from a generator with a resistance Rsig. The bias circuit
is omitted.
Figure 7.36 (b) The common-source amplifier with the MOSFET replaced with its hybrid-π model.
Replacing the MOSFET with its hybrid-π model (without ro), we obtain the CS amplifier equivalent
circuit in Fig. 7.36(b) for which, tracing the signal from input to output, we can write by inspection
Thus,
If a load resistance RL is connected across RD, the voltage gain Av can be obtained from
where Avo is given by Eq. (7.88) and Ro by Eq. (7.89), or alternatively by simply adding RL in parallel with
RD in Eq. (7.88), thus

(7.91)
(7.92)
7.21
(7.93)
We can easily show that the expression obtained from Eq. (7.90) is identical to that in Eq. (7.91). Finally,
since Rin = ∞ and thus vi = vsig, the overall voltage gain Gv is equal to Av,
EXERCISE
A CS amplifier utilizes a MOSFET biased at ID = 0.25 mA with VOV = 0.25 V and RD = 20 kΩ. The
amplifier is fed with a signal source having Rsig = 100 kΩ, and a 20- kΩ load is connected to the
output. Find Rin, Avo, Ro, Av, and Gv. If, to maintain reasonable linearity, the peak of the input sine-
wave signal is limited to 10% of 2VOV, what is the peak of the sine-wave voltage at the output?
Characteristic Parameters of the CE Amplifier Figure 7.37(a) shows a common-emitter amplifier. Its
equivalent circuit, obtained by replacing the BJT with its hybrid-π model (without ro), is shown in Fig.
7.37(b). We can analyze this circuit to obtain the characteristic parameters of the CE amplifier. The analysis
parallels that for the MOSFET above except that here we have the added complexity of a finite input
resistance rπ . Tracing the signal through the amplifier from input to output, we can write by inspection
Figure 7.37 (a) Common-emitter amplifier fed with a signal vsig from a generator with a resistance Rsig. The bias circuit
is omitted.
∨Show Answer

(7.94)
(7.95)
(7.96)
(7.97)
Figure 7.37 (b) The common-emitter amplifier circuit with the BJT replaced by its hybrid-π model.
Thus,
With a load resistance RL connected across RC,
and the overall voltage gain Gv can be found from
Thus,
It is important to note here that the finite input resistance (rπ ) reduces the magnitude of the voltage gain by
the voltage-divider ratio 
. The extent of the gain reduction depends on the relative values of
rπ and Rsig. However, there is a compensating effect in the CE amplifier: gm of the BJT is usually much
higher than the corresponding value of the MOSFET.
Example 7.8
A CE amplifier using a BJT with β = 100 is biased at IC = 1 mA and has a collector resistance RC = 5 kΩ. Find
Rin, Ro, and Avo. If the amplifier is fed with a signal source having a resistance of 5 kΩ, and a load resistance RL
= 5 kΩ is connected to the output terminal, find the resulting Av and Gv. If π is to be limited to 5 mV, what are
the corresponding sig and o with the load connected?
∨Show Solution

7.22
1.
2.
3.
4.
EXERCISE
The designer of the amplifier in Example 7.8 decides to lower the bias current to half its original value
in order to raise the input resistance and hence increase the fraction of vsig that appears at the input of
the amplifier proper. In an attempt to maintain the voltage gain, the designer decides to double the
value of RC. For the new design, determine Rin, Avo, Ro, Av, and Gv. If the peak amplitude of vπ is to be
limited to 5 mV, what are the corresponding values of sig and o (with the load connected)?
Comment
Final Remarks
The CS and CE amplifiers are the most useful of all transistor amplifier configurations. They exhibit a
moderate-to-high input resistance (infinite for the CS), a moderate-to-high output resistance, and
reasonably high voltage gain.
The input resistance of the CE amplifier, Rin = rπ = β/gm, is inversely proportional to the dc bias
current IC. To increase Rin, we are tempted to lower the bias current IC; however, this also lowers gm
and hence the voltage gain. This is a significant design trade-off. If we want a much higher input
resistance, then we can modify the CE configuration (as discussed in Section 7.3.4), or we can insert
an emitter-follower stage between the signal source and the CE amplifier (see Section 7.3.6).
Reducing RD or RC to lower the output resistance of the CS or CE amplifier, respectively, is usually
not a viable proposition because this also reduces the voltage gain. Alternatively, if we need a very low
output resistance (in the ohms or tens-of-ohms range), we can use a source-follower or an emitter-
follower stage between the output of the CS or CE amplifier and the load resistance (see Section
7.3.6).
Although the CS and the CE configurations are the workhorses of transistor amplifiers, both suffer
from a limitation on their high-frequency response. As we will show in Chapter 10, combining the CS
(CE) amplifier with a CG (CB) amplifier can extend the bandwidth considerably. The CG and CB
amplifiers are studied in Section 7.3.5.
7.3.4 The Common-Source (Common-Emitter) Amplifier with a Source
(Emitter) Resistance
It is often beneficial to insert a resistance Rs (a resistance Re) in the source lead (the emitter lead) of a
common-source (common-emitter) amplifier. Figure 7.38(a) shows a CS amplifier with a resistance Rs in its
source lead. The corresponding small-signal equivalent circuit is shown in Fig. 7.38(b), where we have used
the T model for the MOSFET. We use the T model instead of the hybrid-π model because it makes the
analysis in this case much simpler. In general, whenever a resistance is connected in the source lead, the T
∨Show Answer

(7.98)
model is preferred. The source resistance then appears in series with the model resistance 1/gm and can be
added to it.
Figure 7.38 (a) The CS amplifier with a source resistance Rs: circuit without bias details.
Figure 7.38 (b) The CS amplifier with a source resistance Rs: equivalent circuit with the MOSFET represented by its T
model.
From Fig. 7.38(b) we see that as expected, the input resistance Rin is infinite and thus vi = vsig. Unlike the
CS amplifier, however, here only a fraction of vi appears between gate and source as vgs. The voltage divider
composed of 1/gm and Rs can be used to determine vgs, as follows:
Thus we can use the value of Rs to control the magnitude of the signal vgs and thereby ensure that vgs does
not become too large and cause unacceptably high nonlinear distortion. This is the first benefit of including
resistor Rs. We will see other benefits in later sections and chapters. For instance, we will show in Chapter 10
that Rs causes the useful bandwidth of the amplifier to be extended. The mechanism by which Rs causes such
improvements in amplifier performance is negative feedback. To see how Rs introduces negative feedback,
refer to Fig. 7.38(a): If with vsig and hence vi kept constant, the drain current increases for some reason, the
source current also will increase, resulting in an increased voltage drop across Rs. Thus the source voltage
rises, and the gate-to-source voltage decreases. The latter effect causes the drain current to decrease,

(7.99)
(7.100)
(7.101)
(7.102)
counteracting the initially assumed change, an indication of the presence of negative feedback, which we
will formally study in Chapter 11. There we will learn that the improvements negative feedback provides
come at the expense of a reduction in gain. We will now show this to be the case in the circuit of Fig. 7.38(a)
and (b).
We can find the output voltage vo by multiplying the controlled-source current i by RD,
We can then find the current i in the source lead by dividing vi by the total resistance in the source,
Thus, the voltage gain Avo is
which can also be expressed as
Equation (7.100) indicates that including the resistance Rs reduces the voltage gain by the factor (1 + gmRs).
This is the price we pay for the improvements gained as a result of Rs. It is interesting to note that in Chapter
11, we will find that the factor (1 + gmRs) is the “amount of negative feedback” introduced by Rs. It is also
the same factor by which linearity, bandwidth, and other performance parameters improve. Because of the
negative-feedback action of Rs it is known as a source-degeneration resistance.
There is another useful interpretation of the expression for the drain current in Eq. (7.99): The quantity
between brackets on the right-hand side can be thought of as the “effective transconductance with Rs
included.” Thus, including Rs reduces the transconductance by the factor (1 + gmRs). This, of course, is
simply the result of the fact that only a fraction, 1/(1 + gmRs), of vi appears as vgs (see Eq. 7.98).
The alternative gain expression in Eq. (7.101) has a powerful and insightful interpretation: The voltage
gain between gate and drain is equal to the ratio of the total resistance in the drain (RD) to the total resistance
in the source (1/gm + Rs),
This is a general expression. For instance, setting Rs = 0 in Eq. (7.101) yields Avo of the CS amplifier.

(7.103)
(7.104)
7.23
Finally, we consider the situation when a load resistance RL is connected at the output. We can find the
gain Av using the open-circuit voltage gain Avo together with the output resistance Ro, which we find to be
Alternatively, we can find Av by simply replacing RD in Eq. (7.101) or (7.100) by (RD ||RL); thus,
or
Observe that Eq. (7.104) is a direct application of the ratio of total resistance rule of Eq. (7.102). Note, too,
that because Rin is infinite, 
 and the overall voltage gain Gv is equal to Av.
EXERCISE
In Exercise 7.21 we applied an input signal vsig of 50 mV peak and obtained an output signal of
approximately 1 V peak. Assume that for some reason we now have an input signal vsig that is 0.2 V
peak and that we want to modify the circuit to keep vgs unchanged, and thus keep the nonlinear
distortion from increasing. What value should we use for Rs? What value of Gv will result? What will
the peak signal at the output become? Assume ro = ∞.
We next turn our attention to the BJT case. Figure 7.39(a) shows a CE amplifier with a resistance Re in
its emitter. The corresponding equivalent circuit, using the T model, is shown in Fig. 7.39(b). Note that in the
BJT case, as with the MOSFET, the T model results in a simpler analysis and should be used whenever there
is a resistance in series with the emitter.
To determine the amplifier input resistance Rin, we note from Fig. 7.39(b) that
∨Show Answer

(7.105)
(7.106)
(7.107)
Figure 7.39 (a) The CE amplifier with an emitter resistance Re; circuit without bias details.
Figure 7.39 (b) The CE amplifier with an emitter resistance Re: equivalent circuit with the BJT replaced with its T
model.
where
and
Thus,

(7.108)
(7.109)
(7.110)
(7.111)
This is a very important result. It states that the input resistance looking into the base is (β + 1) times the
total resistance in the emitter; this is known as the resistance-reflection rule. The factor (β + 1) arises
because the base current is 1/(β + 1) times the emitter current. The expression for Rin in Eq. (7.107) shows
clearly that including a resistance Re in the emitter can substantially increase Rin, a very desirable result.
Indeed, the value of Rin is increased by the ratio
Thus the circuit designer can use the value of Re to control the value of Rin.
To determine the voltage gain Avo, we see from Fig. 7.38(b) that
Substituting for ie from Eq. (7.106) gives
This is a very useful result: It states that the gain from base to collector is α times the ratio of the total
resistance in the collector to the total resistance in the emitter (in this case, re + Re),
This is the BJT version of the MOSFET expression in Eq. (7.102) except that here we have the additional
factor α. This factor arises because ic = αie, unlike the MOSFET case where id = is. Usually, 
 and can
be dropped from Eq. (7.110).
The open-circuit voltage gain in Eq. (7.109) can be expressed alternatively as
Thus,

(7.112)
(7.113)
(7.114)
Thus, including Re reduces the magnitude of the voltage gain by the factor (1 + gmRe), which is the same
factor by which Rin is increased. This highlights an interesting trade-off between gain and input resistance, a
trade-off that the designer can exercise through the choice of an appropriate value for Re.
The output resistance Ro can be found from the circuit in Fig. 7.39(b) by inspection:
If a load resistance RL is connected at the amplifier output, Av can be found as
which could have been written directly using Eq. (7.110). The overall voltage gain Gv can now be found:
Substituting for Rin from Eq. (7.107) and replacing α with β/(β + 1) results in
Careful examination of this expression reveals that the denominator comprises the total resistance in the base
circuit [recall that (β + 1)(re + Re) is the reflection of (re + Re) from the emitter side to the base side]. Thus
the expression in Eq. (7.113) states that the voltage gain from base to collector is equal to β times the ratio of
the total resistance in the collector to the total resistance in the base. The factor β appears because it is the
ratio of the collector current to the base current. This general and useful expression has no counterpart in the
MOS case. We notice that the overall voltage gain Gv is lower in magnitude than the value without Re,
namely,
because of the additional term (β + 1)Re in the denominator. The gain, however, is now less sensitive to the
value of β, a desirable result because of the typical wide variability in the value of β.

(7.115)
1.
2.
3.
4.
5.
7.24
Another important consequence of including Re in the emitter is that it enables the amplifier to handle
larger input signals without incurring nonlinear distortion. This is because only a fraction of the input signal
at the base, vi, appears between the base and the emitter. Specifically, from the circuit in Fig. 7.39(b), we see
that
Thus, for the same vπ, the signal at the input terminal of the amplifier, vi, can be greater than for the CE
amplifier by the factor (1 + gmRe).
To summarize, including a resistance Re in the emitter of the CE amplifier results in the following:
The input resistance Rin is increased by the factor (1 + gmRe).
The voltage gain from base to collector, Av, is reduced by the factor (1 + gmRe).
For the same nonlinear distortion, the input signal vi can be increased by the factor (1 + gmRe).
The overall voltage gain is less dependent on the value of β.
The high-frequency response is significantly improved (as we will see in Chapter 10).
With the exception of gain reduction, these characteristics represent performance improvements. Indeed, the
reduction in gain is the price we pay for the other performance improvements. In many cases this is a good
bargain; it is the underlying philosophy for the use of negative feedback. That the resistance Re introduces
negative feedback in the amplifier circuit can be verified through a procedure similar to the one we used
above for the MOSFET case. In Chapter 11, where we will study negative feedback formally, we will find
that the factor (1 + gmRe), which appears repeatedly, is the “amount of negative feedback” introduced by Re.
Finally, we note that the negative-feedback action of Re gives it the name emitter degeneration resistance.
Example 7.9
For the CE amplifier specified in Example 7.8, what value of Re is needed to raise Rin to a value four times that
of Rsig? With Re included, find Avo, Ro, Av, and Gv. Also, if 
π is limited to 5 mV, what are the corresponding
values of 
 and 
 ?
EXERCISE
Show that with Re included, and vπ limited to a maximum value 
, the maximum allowable input
signal, 
, is given by
∨Show Solution

(7.116)
If the transistor is biased at IC = 0.5 mA and has a β of 100, what value of Re is needed to permit an
input signal 
 of 100 mV from a source with a resistance Rsig = 10 kΩ while limiting 
 to 10 mV?
What is Rin for this amplifier? If the total resistance in the collector is 10 kΩ, what Gv value results?
7.3.5 The Common-Gate (CG) and the Common-Base (CB) Amplifiers
Figure 7.40(a) shows a common-gate amplifier with the biasing circuit omitted. The amplifier is fed with a
signal source characterized by vsig and Rsig. Since Rsig appears in series with the source, it is more
convenient to represent the transistor with the T model than with the π model. Doing this, we obtain the
amplifier equivalent circuit shown in Fig. 7.40(b).
From inspection of the equivalent circuit of Fig. 7.40(b), we see that the input resistance
We should have expected this, since we are looking into the source and the gate is grounded. Typically 1/gm
is a few hundred ohms; thus the CG amplifier has a low input resistance.
To determine the voltage gain Avo, we write at the drain node
and substitute for the source current i from
∨Show Answer

(7.117)
(7.118)
(7.119)
Figure 7.40 (a) Common-gate (CG) amplifier with bias arrangement omitted. (b) Equivalent circuit of the CG amplifier
with the MOSFET replaced with its T model.
to obtain
which except for the positive sign is identical to the expression for Avo of the CS amplifier.
By inspecting the circuit in Fig. 7.40(b), we can find the output resistance of the CG circuit as
which is the same as in the case of the CS amplifier.
Although the gain of the CG amplifier proper has the same magnitude as that of the CS amplifier, this is
usually not the case for the overall voltage gain. The low input resistance of the CG amplifier can cause the
input signal to be severely attenuated. Specifically,
from which we see that except for situations in which Rsig is on the order of 1/gm, the signal transmission
factor vi/vsig can be very small and the overall voltage gain Gv can be just as small. Specifically, with a
resistance RL connected at the output
Thus,

(7.120)
7.25
(7.121)
Notice that the overall voltage gain is simply the ratio of the total resistance in the drain circuit to the total
resistance in the source circuit. If Rsig is of the same order as RD and RL, Gv will be very small.
Because of its low input resistance, the CG amplifier alone has very limited application. One of its uses
is to amplify high-frequency signals that come from sources with relatively low resistances. These include
cables, where it is usually necessary for the input resistance of the amplifier to match the characteristic
resistance of the cable. As we will show in Chapter 10, the CG amplifier has excellent high-frequency
response. Thus it can be combined very usefully with the CS amplifier to take advantage of the best features
of each of the two configurations. We will study a very important circuit of this kind in Chapter 8.
EXERCISE
A CG amplifier is required to match a signal source with Rsig = 100 Ω. At what current ID should the
MOSFET be biased if it is operated at an overdrive voltage of 0.20 V? If the total resistance in the
drain circuit is 2 kΩ, what is the overall voltage gain?
Very similar results can be obtained for the CB amplifier shown in Fig. 7.41(a). Specifically, from the
equivalent circuit in Fig. 7.41(b) we can find
Figure 7.41 (a) CB amplifier with bias details omitted.
∨Show Answer

(7.122)
(7.123)
(7.124)
7.26
Figure 7.41 (b) Amplifier equivalent circuit with the BJT represented by its T model.
and with a load resistance RL connected to the output, the overall voltage gain is
Since α 
 1, we see that as in the case of the CG amplifier, the overall voltage gain is simply the ratio of the
total resistance in the collector to the total resistance in the emitter. We also note that the overall voltage gain
is almost independent of the value of β (except through the small dependence of α on β), a desirable property.
Observe that for Rsig of the same order as RC and RL, the gain will be very small.
In summary, the CB and CG amplifiers have a very low input resistance (1/gm), an open-circuit voltage
gain that is positive and equal in magnitude to that of the CE (CG) amplifier (gmRC or gmRD), and, like the
CE (CS) amplifier, a relatively high output resistance (RC or RD). Because of its very low input resistance,
the CB (CG) circuit alone is not attractive as a voltage amplifier except in specialized applications, such as
the cable amplifier mentioned above. The CB (CG) amplifier has excellent high-frequency performance,
which makes it useful in combination with other circuits in the implementation of high-frequency amplifiers,
as we will see in Chapters 8 and 10.
EXERCISES
Consider a CB amplifier using a BJT biased at IC = 1 mA and with RC = 5 kΩ. Determine Rin, Avo, and
Ro. If the amplifier is loaded in RL = 5 kΩ, what value of Av results? What Gv is obtained if Rsig = 5

7.27
kΩ?
A CB amplifier is required to amplify a signal delivered by a coaxial cable having a characteristic
resistance of 50 Ω. What bias current IC should be used to obtain Rin that is matched to the cable
resistance? To get an overall voltage gain of Gv of 40 V/V, what should the total resistance in the
collector (i.e., 
) be?
7.3.6 The Source and Emitter Followers
The last of the basic transistor amplifier configurations is the common-drain (common-collector) amplifier,
an important circuit that finds application in the design of both small-signal amplifiers and amplifiers that are
required to handle large signals and deliver substantial amounts of signal power to a load. This latter variety
will be studied in Chapter 12. The common-drain amplifier is more commonly known as the source follower,
and the common-collector amplifier is more commonly known as the emitter follower. The reason behind
these names will become apparent shortly.
The Need for Voltage Buffers Before analyzing the source and the emitter followers, let’s look at one of
their more common applications. Consider the situation depicted in Fig. 7.42(a). A signal source delivering a
signal of reasonable strength (1 V) with an internal resistance of 1 MΩ is to be connected to a 1- kΩ load
resistance. Connecting the source to the load directly as in Fig. 7.42(b) would result in severe attenuation of
the signal; the signal appearing across the load will be only 1/(1000 + 1) of the input signal, or about 1 mV.
An alternative course of action is shown in Fig. 7.42(c). Here we have interposed an amplifier between the
source and the load. Our amplifier, however, is unlike the amplifiers we have been studying in this chapter so
far; it has a voltage gain of only one. This is because our signal is already strong enough that we do not need
to increase its amplitude. Note, however, that our amplifier has a very high input resistance, thus almost all
of vsig (i.e., 1 V) will appear at the input of the amplifier proper. Since the amplifier has a low output
resistance (100 Ω), 90% of this signal (0.9 V) will appear across the load, obviously a very significant
improvement over the situation without the amplifier. As we will see next, the source follower can easily
implement the unity-gain buffer amplifier shown in Fig. 7.42(c).
Figure 7.42 (a) Illustrating the need for a unity-gain voltage buffer amplifier.
∨Show Answer
∨Show Answer

Figure 7.42 (b) Illustrating the need for a unity-gain voltage buffer amplifier.
Figure 7.42 (c) Illustrating the need for a unity-gain voltage buffer amplifier.
Characteristic Parameters of the Source Follower Figure 7.43(a) shows a source follower with the bias
circuit omitted. The source follower is fed with a signal generator (vsig, Rsig) and has a load resistance RL
connected between the source terminal and ground. We shall assume that RL includes both the actual load
and any other resistance that may be present between the source terminal and ground (e.g., for biasing
purposes). Normally, the actual load resistance would be much lower than these other resistances and thus
would dominate. Since the MOSFET has a resistance RL connected in its source terminal, it is most
convenient to use the T model, as shown in Fig. 7.43(b). From this circuit we can write by inspection
Figure 7.43 (a) Common-drain amplifier or source follower with the bias circuit omitted. (b) Equivalent circuit of the
source follower obtained by replacing the MOSFET with its T model.

(7.125)
(7.126)
(7.127)
(7.128)
D7.28
D7.29
and obtain Av from the voltage divider formed by 1/gm and RL as
Setting RL = ∞ we obtain
We find the output resistance Ro by setting vi = 0 (i.e., by grounding the gate). Now looking back into the
output terminal, excluding RL, we simply see 1/gm, thus
The unity open-circuit voltage gain together with Ro in Eq. (7.127) can be used to find Av when a load
resistance RL is connected. The result is simply the expression in Eq. (7.125). Finally, because of the infinite
Rin, vi = vsig, and the overall voltage gain is
Thus Gv will be lower than one. However, because 1/gm is usually low, the voltage gain can be close to one.
The unity open-circuit voltage gain in Eq. (7.126) indicates that the voltage at the source terminal will follow
that at the input, hence the name source follower.
To sum up, the source follower features a very high input resistance (ideally infinite), a relatively low
output resistance (1/gm), and an open-circuit voltage gain that is near unity (ideally exactly one). Thus the
source follower is ideally suited for implementing the unity-gain voltage buffer of Fig. 7.42(c). The source
follower is also used as the output (i.e., last) stage in a multistage amplifier, where its function is to equip the
overall amplifier with a low output resistance, thus enabling it to supply relatively large load currents
without loss of gain (i.e., with little reduction of output signal level). We will study the design of output
stages in Chapter 12.
EXERCISES
It is required to design a source follower that implements the buffer amplifier shown in Fig. 7.42(c). If
the MOSFET is operated with an overdrive voltage VOV = 0.25 V, at what drain current should it be
biased? Find the output signal amplitude and the signal amplitude between gate and source.
A MOSFET is connected in the source-follower configuration and used as the output stage of a cascade
amplifier. It is required to provide an output resistance of 200 Ω. If the MOSFET has 
 = 0.4 mA/V2
∨Show Answer

(7.129)
and is operated at VOV = 0.25 V, find the required W/L ratio. Also specify the dc bias current ID. If the
amplifier load resistance varies over the range 1 kΩ to 10 kΩ, what is the range of Gv of the source
follower?
Characteristic Parameters of the Emitter Follower Although the emitter follower does not have an
infinite input resistance (as the source follower does), it is still widely used as a voltage buffer. In fact, it is a
very versatile and popular circuit. We will therefore study it in some detail.
Figure 7.44(a) shows an emitter follower with the equivalent circuit shown in Fig. 7.44(b). The input
resistance Rin is found from
Substituting for ib = ie/(β + 1) where ie is given by
we obtain
a result that we could have written directly using the resistance-reflection rule. Note that as expected the
emitter follower takes the low load resistance and reflects it to the base side, where the signal source is, after
increasing its value by a factor (β + 1). It is this impedance transformation property of the emitter follower
that makes it useful in connecting a low-resistance load to a high-resistance source, that is, to implement a
buffer amplifier.
∨Show Answer

(7.130)
(7.131)
(7.132)
Figure 7.44 (a) Common-collector amplifier or emitter follower with the bias circuit omitted. (b) Equivalent circuit
obtained by replacing the BJT with its T model.
The voltage gain Av is given by
Setting RL = ∞ yields Avo,
Thus, as expected, the open-circuit voltage gain of the emitter follower proper is one, which means that the
signal voltage at the emitter follows that at the base, which is the origin of the name “emitter follower.”
To determine Ro, refer to Fig. 7.44(b) and look back into the emitter (i.e., behind or excluding RL) while
setting vi = 0 (i.e., grounding the base). You will see re of the BJT, thus
This result together with Avo = 1 yields Av in Eq. (7.130), thus confirming our earlier analysis.
We next determine the overall voltage gain Gv, as follows:

(7.133)
Figure 7.45 Simple equivalent circuits for the emitter follower obtained by (a) reflecting re and RL to the base side, and
(b) reflecting vsig and Rsig to the emitter side. Note that the circuit in (b) can be obtained from that in (a) by simply
dividing all resistances by (β + 1).
Using the above expression for vi/vsig and substituting for Av from Eq. (7.130) gives us
This equation indicates that the overall gain, though lower than one, can be close to one if (β + 1)RL is larger
or comparable in value to Rsig. This again confirms the action of the emitter follower in delivering a large
proportion of vsig to a low-valued load resistance RL even though Rsig can be much larger than RL. The key
point is that RL is multiplied by (β + 1) before it is “presented to the source.” Figure 7.45(a) shows an
equivalent circuit of the emitter follower obtained by simply reflecting re and RL to the base side. The overall
voltage gain Gv ≡ vo/vsig can be determined directly and very simply from this circuit by using the voltage
divider rule. The result is the expression for Gv already given in Eq. (7.133).
Dividing all resistances in the circuit of Fig. 7.45(a) by β + 1 does not change the voltage ratio vo/vsig.
Thus we obtain another equivalent circuit, shown in Fig. 7.45(b), that we can use to determine Gv ≡ vo/vsig of
the emitter follower. A glance at this circuit reveals that it is simply the equivalent circuit obtained by
reflecting vsig and Rsig from the base side to the emitter side. In this reflection, vsig does not change, but Rsig

(7.134)
is divided by β + 1. Thus, we either reflect to the base side and obtain the circuit in Fig. 7.45(a) or we reflect
to the emitter side and obtain the circuit in Fig. 7.45(b). From the latter, Gv can be found as
Notice that this expression is the same as the one in Eq. (7.133) except for dividing both the numerator and
denominator by β + 1.
The expression for Gv in Eq. (7.134) has an interesting interpretation: The emitter follower reduces Rsig
by the factor (β + 1) before “presenting it to the load resistance RL”: an impedance transformation that has
the same buffering effect.
At this point it is important to note that although the emitter follower does not provide voltage gain it has
a current gain of β + 1.
Thévenin Representation of the Emitter-Follower Output A more general representation of the emitter-
follower output is shown in Fig. 7.46(a). Here Gvo is the overall open-circuit voltage gain that can be
obtained by setting RL = ∞ in the circuit of Fig. 7.45(b), as illustrated in Fig. 7.46(b). The result is Gvo = 1.
The output resistance Rout is different from Ro. To determine Rout, we set vsig to zero (rather than setting vi to
zero). Again we can use the equivalent circuit in Fig. 7.45(b) to do this, as illustrated in Fig. 7.46(c). We see
that
Figure 7.46 (a) Thévenin representation of the output of the emitter follower.
Figure 7.46 (b) Obtaining Gvo from the equivalent circuit in Fig. 7.45(b).

(7.135)
Figure 7.46 (c) Obtaining Rout from the equivalent circuit in Fig. 7.45(b) with vsig set to zero.
Figure 7.46 (d) The emitter follower with Rin and Rout determined simply by looking into the input and output terminals,
respectively.
Finally, in Fig. 7.46(d) we show the emitter-follower circuit together with its Rin and Rout. Observe that
Rin is determined by reflecting re and RL to the base side (by multiplying their values by β +1). To determine
Rout, grab hold of the emitter and look backward while vsig = 0. You will see re in series with Rsig, which,
because it is in the base, must be divided by (β + 1).
We note that unlike the amplifier circuits we studied earlier, the emitter follower is not unilateral. This is
manifested by the fact that Rin depends on RL and Rout depends on Rsig.
Example 7.10
We need to design an emitter follower to implement the buffer amplifier of Fig. 7.47(a). Specify the required
bias current IE and the minimum value the transistor β must have. Determine the maximum allowed value of vsig
if vπ is to be limited to 5 mV in order to obtain reasonably linear operation. With vsig = 200 mV, find the signal
voltage at the output if RL is changed to 2 kΩ, and to 0.5 kΩ.

7.30
Figure 7.47 (a) Circuit for Example 7.10.
Figure 7.47 (b) Circuit for Example 7.10.
EXERCISE
An emitter follower uses a transistor with β = 100 and is biased at IC = 5 mA. It operates between a
source with a resistance of 10 kΩ and a load of 1 kΩ. Find Rin, Gvo, Rout, and Gv. What is the peak
amplitude of vsig that results in vπ having a peak amplitude of 5 mV? Find the resulting peak amplitude
at the output.
Enhancing the Emitter-Follower: The Darlington Configuration From the above we see that the
performance of the emitter follower can be improved by increasing the value of β. It follows that we can
obtain an enhanced emitter follower by placing two BJTs in cascade, as shown in Fig. 7.48(a). This is known
as the Darlington configuration, and the pair of cascaded transistors as the Darlington pair. The
Darlington pair can be thought of as a composite transistor with β = β1β2. It can be used to implement a
high-performance voltage follower, as shown in Fig. 7.48(b).
∨Show Solution
∨Show Answer

7.31
Figure 7.48 (a) The Darlington configuration. (b) Voltage follower using the Darlington configuration.
EXERCISE
For the Darlington voltage follower in Fig. 7.48(b), show that:
Evaluate Rin, Rout, and vo/vsig for the case IE2 = 5 mA, β1 = β2 = 100, RE = 1 kΩ, and Rsig = 100 kΩ.
7.3.7 Summary Tables and Comparisons
For easy reference and to enable comparisons, we present the formulas for determining the characteristic
parameters for the various configurations of MOSFET and BJT amplifiers in Tables 7.4 and 7.5,
respectively; In addition to the remarks made throughout this section about the characteristics and
applications of the various configurations, we make the following concluding points:
∨Show Answer

1.
2.
3.
4.
5.
6.
7.
8.
MOS amplifiers provide much higher, ideally infinite input resistances (except, of course, for the CG
configuration). This is a definite advantage over BJT amplifiers.
BJTs exhibit higher gm values than MOSFETs, resulting in higher gains.
For discrete-circuit amplifiers—that is, those assembled from discrete components on a printed-circuit
board (PCB)—the BJT remains the device of choice. This is because discrete BJTs are much easier to
handle physically than discrete MOSFETs and, more important, a wide variety of discrete BJTs are
available commercially. The rest of this chapter is concerned with discrete-circuit amplifiers.
Integrated-circuit (IC) amplifiers mostly use MOSFETs, although BJTs are used in certain niche areas.
Chapters 8 to 13 are mainly concerned with IC amplifiers.
The CS and CE configurations are best suited for realizing the bulk of the gain required in an
amplifier. Depending on the magnitude of the gain required, either a single stage or a cascade of two
or three stages can be used.
Including a resistance Rs in the source of the CS amplifier (a resistance Re in the emitter of the CE
amplifier) provides a number of performance improvements at the expense of gain reduction.
The low input resistance of the CG and CB amplifiers makes them useful only in specific applications.
As we will see in Chapter 10, these two configurations exhibit a much better high-frequency response
than that available from the CS and CE amplifiers. This makes them useful as high-frequency
amplifiers, especially when combined with the CS or CE circuit. We shall study one such combination
in Chapter 8.
The source follower (emitter follower) can be used as a voltage buffer for connecting a high-resistance
source to a low-resistance load, and as the output stage in a multistage amplifier, where its purpose is
to equip the amplifier with a low output resistance.
Table 7.4 Characteristics of MOSFET Amplifiersa,b

Table 7.5 Characteristics of BJT Amplifiersa,b,c

1.
2.
1.
2.
(7.136)
7.3.8 When and How to Include the Output Resistance ro
So far we have been neglecting the output resistance ro of the MOSFET and the BJT. We have done this for
two reasons:
To keep things simple and focus attention on the significant features of each of the basic
configurations, and
Because our main interest in this chapter is discrete-circuit design, where the circuit resistances (e.g.,
RC, RD, and RL) are usually much smaller than ro.
Nevertheless, in some instances it is relatively easy to include ro in the analysis. Specifically:
In the CS and CE amplifiers, we can see that ro of the transistor appears in parallel with RD and RC,
respectively, and can be simply included in the corresponding formulas by replacing RD with (RD || ro)
and RC with (RC || ro). The effect will be a reduction in the magnitude of gain, of perhaps 5% to 10%.
In the source and emitter followers, we can see that the transistor ro appears in parallel with RL and
can be taken into account by replacing RL in the corresponding formulas with (RL || ro). Here too, the
effect of taking ro into account is a small reduction in gain. More significant, however, taking ro into
account reduces the open-circuit voltage gain Avo from unity to
There are configurations in which taking ro into account complicates the analysis considerably. These are
the CS (CE) amplifier with a source (emitter) resistance, and the CG (CB) amplifier. Fortunately, for discrete
implementation of these configurations, the effect of neglecting ro is usually small (which can be verified by
computer simulation).
Finally, a very important point: In the analysis and design of IC amplifiers, ro must always be taken into
account. This is because, as we will see in the next chapter, all the circuit resistances are of the same order of
magnitude as ro; neglecting ro can result in completely erroneous results.
LEE DE FOREST—A FATHER OF THE ELECTRONICS AGE
∨

7.4 Biasing
As we discussed in Section 7.1, an essential step in the design of a transistor amplifier is establishing an
appropriate dc operating point for the transistor. This is known as biasing or bias design. In this section, we
study the biasing methods commonly used in discrete-circuit amplifiers. Biasing of integrated-circuit
amplifiers will be studied in Chapter 8.
Bias design aims to establish a dc current in the drain (collector) that is predictable and insensitive to
variations in temperature and to the large variations in parameter values between devices of the same type.
For instance, discrete BJTs belonging to the same manufacturer’s part number can have β values that range,
say, from 50 to 150. Nevertheless, the bias design for an amplifier using this particular transistor type may
specify that the dc collector current shall always be within, say, ±10% of the nominal value of, say, 1 mA.
We can make a similar statement about the desired insensitivity of the dc drain current to the wide variations
encountered in Vt of discrete MOSFETs.
A second consideration in bias design is locating the dc operating point in the active region of operation
of the transistor to obtain high voltage gain while allowing for the required output signal swing without
letting the transistor leave the active region at any time (in order to avoid nonlinear distortion). We discussed
this point in Section 7.1.7.
Although we will consider the biasing of MOSFET and BJT amplifiers separately, the resulting circuits
are very similar. Also, we will see that good bias designs incorporate a feedback mechanism that works to
keep the dc bias point as constant as possible.
In order to keep matters simple and focus our attention on significant issues, we will neglect the Early
effect; that is, assume λ = 0 or VA = ∞. This is certainly allowed in initial designs of discrete circuits. Of
course, the design can be fine-tuned at a later point with the assistance of a circuit-simulation program such
as SPICE.
7.4.1 The MOSFET Case
Biasing by Fixing VGS The most straightforward approach to biasing a MOSFET is to fix its gate-to-source
voltage VGS to the value required5 to provide the desired ID. We can derive the voltage value from the
power-supply voltage VDD by using an appropriate voltage divider, as shown in Fig. 7.49(a). However, no
matter how the voltage VGS is generated, this is not a good approach to biasing a MOSFET. To understand
why, recall that
and note that the values of the threshold voltage Vt, the oxide-capacitance Cox, and (to a lesser extent) the
transistor aspect ratio W/L vary widely among devices of supposedly the same size and type. This is certainly
the case for discrete devices, in which large spreads in the values of these parameters occur among devices
of the same manufacturer’s part number. The spread can also be large in integrated circuits, especially among
devices fabricated on different wafers and certainly between different batches of wafers. Furthermore, both

Vt and μn depend on temperature, with the result that if we fix the value of VGS, the drain current ID becomes
very much temperature dependent.
Figure 7.49 (a) Biasing the MOSFET with a constant VGS generated from VDD using a voltage divider (RG1,RG2).
Figure 7.49 (b) The use of fixed bias (constant VGS) can result in a large variability in the value of ID. Devices 1 and 2
represent extremes among units of the same type.
To emphasize the point that biasing by fixing VGS is not a good technique, we show in Fig. 7.49(b) two
iD–vGS characteristic curves representing extreme values in a batch of MOSFETs of the same type. Observe
that for the fixed value of VGS, the resultant spread in the values of the drain current can be substantial.
Biasing by Fixing VG and Connecting a Resistance in the Source An excellent biasing technique for
discrete MOSFET circuits consists of fixing the dc voltage at the gate, VG, and connecting a resistance in the
source lead, as shown in Fig. 7.50(a). For this circuit,

(7.137)
Figure 7.50 (a) Biasing using a fixed voltage at the gate, VG, and a resistance in the source lead, RS: basic arrangement.
Figure 7.50 (b) Biasing using a fixed voltage at the gate, VG, and a resistance in the source lead, RS: reduced variability
in ID.
Figure 7.50 (c) Biasing using a fixed voltage at the gate, VG, and a resistance in the source lead, RS: practical
implementation using a single supply.

Figure 7.50 (d) Biasing using a fixed voltage at the gate, VG, and a resistance in the source lead, RS: coupling of a signal
source to the gate using a capacitor CC1.
Figure 7.50 (e) Biasing using a fixed voltage at the gate, VG, and a resistance in the source lead, RS: practical
implementation using two supplies.
Now, if VG is much greater than VGS, ID will be mostly determined by the values of VG and RS. However,
even if VG is not much larger than VGS, resistor RS provides negative feedback, which acts to stabilize the
value of the bias current ID. To see how this comes about, consider what happens when ID increases for
whatever reason. Equation (7.137) indicates that since VG is constant, VGS will have to decrease. This in turn
results in a decrease in ID, a change that is opposite to what we initially assumed. Thus the action of RS
works to keep ID as constant as possible.6
Figure 7.50(b) illustrates the effectiveness of this biasing scheme. Here too, we show the iD–vGS
characteristics for two devices that represent the extremes of a batch of MOSFETs. Superimposed on the
device characteristics is a straight line that represents the constraint imposed by the bias circuit—namely, Eq.
(7.137). The intersection of this straight line with the iD–vGS characteristic curve provides the coordinates
(ID and VGS) of the bias point. Notice that compared to the case of fixed VGS, here the variability obtained in
ID is much smaller. Also, note that the variability decreases as VG and RS are made larger (thus providing a
bias line that is less steep).

7.32
D7.33
Two possible practical discrete implementations of this bias scheme are shown in Figs. 7.50(c) and (e).
The circuit in Fig. 7.50(c) uses one power-supply VDD and derives VG through a voltage divider (RG1, RG2).
Since IG = 0, RG1 and RG2 can be selected to be very large (in the megohm range), allowing the MOSFET to
present a large input resistance to a signal source that may be connected to the gate through a coupling
capacitor, as shown in Fig. 7.50(d). Here capacitor CC1 blocks dc and thus allows us to couple the signal vsig
to the amplifier input without disturbing the MOSFET dc bias point. The selected value of CC1 should be
large enough to approximate a short circuit at all signal frequencies of interest. We will study capacitively
coupled MOSFET amplifiers, which are suitable only in discrete-circuit design, in Section 7.5. Finally, note
that in the circuit of Fig. 7.50(c), resistor RD is selected to be as large as possible to obtain high gain but
small enough to allow for the desired signal swing at the drain while keeping the MOSFET in saturation at
all times.
When two power supplies are available, as is often the case, we can use the somewhat simpler bias
arrangement of Fig. 7.50(e). This circuit is an implementation of Eq. (7.137), with VG replaced by VSS.
Resistor RG establishes a dc ground at the gate and presents a high input resistance to a signal source that
may be connected to the gate through a coupling capacitor.
Example 7.11
We need to design the circuit of Fig. 7.50(c) to establish a dc drain current ID = 0.5 mA. The MOSFET is
specified to have Vt = 1 V and 
 = 1 mA/V2. For simplicity, neglect the Early effect (i.e., assume λ = 0).
Use a power-supply VDD =15 V. Calculate the percentage change in the value of ID when the MOSFET is
replaced with another unit having the same 
 but Vt = 1.5 V.
EXERCISES
Consider the MOSFET in Example 7.11 when fixed-VGS bias is used. Find the required value of VGS to
establish a dc bias current ID = 0.5 mA. Recall that the device parameters are 
1 mA/V2, and λ = 0. What is the percentage change in ID when the transistor is replaced with another
having Vt = 1.5 V?
Design the circuit of Fig. 7.50(e) to operate at a dc drain current of 0.5 mA and VD = + 2 V. Let Vt = 1
V, 
 = 1 mA/V2, λ =0, VDD = VSS = 5 V. Use standard 5% resistor values (see Appendix J), and
give the resulting values of ID, VD, and VS.
Video Example VE 7.2 Classical Biasing of a MOS Amplifier
∨Show Solution
∨Show Answer
∨Show Answer


D7.34
direction to the one we originally assumed. Thus the negative feedback or degeneration provided by RG
works to keep the value of ID as constant as possible.
The circuit of Fig. 7.52 can be used as an amplifier by applying the input voltage signal to the gate via a
coupling capacitor so as not to disturb the dc bias conditions already established. The amplified output signal
at the drain can be coupled to another part of the circuit, again via a capacitor. We considered such an
amplifier circuit in Section 7.2 (Example 7.3).
EXERCISE
Design the circuit in Fig. 7.52 to operate at a dc drain current of 0.5 mA. Assume VDD = +5 V, 
= 1 mA/V2, Vt = 1 V, and λ = 0. Use a standard 5% resistance value for RD (see Appendix J), and give
the actual values obtained for ID and VD.
Figure 7.52 Biasing the MOSFET using a large drain-to-gate feedback resistance, RG.
7.4.2 The BJT Case
Before presenting the “good” biasing schemes, we should point out why two obvious arrangements are not
good. First, attempting to bias the BJT by fixing the voltage VBE by, for instance, using a voltage divider
across the power supply VCC, as shown in Fig. 7.53(a), is not a viable approach: The very sharp exponential
relationship iC−vBE means that any small and inevitable differences in VBE from the desired value will result
in large differences in IC and in VCE. Second, biasing the BJT by establishing a constant current in the base,
∨Show Answer

as shown in Fig. 7.53(b), where IB 
 (VCC − 0.7)/RB, is also not recommended. Here the typically large
variations in the value of β among units of the same device type will result in correspondingly large
variations in IC and hence in VCE.
Figure 7.53 Two obvious schemes for biasing the BJT: (a) by fixing VBE; (b) by fixing IB. Both result in wide variations
in IC and hence in VCE and therefore are considered to be “bad.” Neither scheme is recommended.
The Classical Discrete-Circuit Bias Arrangement Figure 7.54(a) shows the arrangement most commonly
used for biasing a discrete-circuit transistor amplifier if only a single power supply is available. The
technique consists of supplying the base of the transistor with a fraction of the supply voltage VCC through
the voltage divider R1, R2. In addition, a resistor RE is connected to the emitter. This circuit is very similar to
one we used for the MOSFET [Fig. 7.50(c)]. Here, however, the design must take into account the finite base
current.

(7.141)
(7.142)
(7.143)
(7.144)
(7.145)
Figure 7.54 Classical biasing for BJTs using a single power supply: (a) circuit; (b) circuit with the voltage divider
supplying the base replaced with its Thévenin equivalent.
Figure 7.54(b) shows the same circuit with the voltage-divider network replaced by its Thévenin
equivalent,
We can find the current IE by writing a Kirchhoff loop equation for the base–emitter–ground loop, labeled L,
and substituting IB = IE/(β + 1):
To make IE insensitive to temperature and β variation,7 we design the circuit to satisfy the following two
constraints:
Condition (7.144) ensures that small variations in VBE (
 0.7 V) will be swamped by the much larger VBB.
There is a limit, however, on how large VBB can be: For a given value of the supply voltage VCC, the higher
the value we use for VBB, the lower will be the sum of voltages across RC and the collector–base junction

7.35
(VCB). On the other hand, we want the voltage across RC to be large in order to obtain high voltage gain and
large signal swing (before transistor cutoff). We also want VCB (or VCE) to be large, to provide a large signal
swing (before transistor saturation). Thus, as is the case in any design, we have a set of conflicting
requirements, and the solution must be a trade-off. As a rule of thumb, we design for VBB about  VCC, VCB
(or VCE) about  VCC, and IC RC about 
.
Condition (7.145) makes IE insensitive to variations in β and could be satisfied by selecting small RB.
This in turn is achieved by using low values for R1 and R2. Lower values for R1 and R2, however, will mean
a higher current drain from the power supply, and will result in a lowering of the input resistance of the
amplifier (if the input signal is coupled to the base),8 which is the trade-off involved in this part of the
design. We should note that condition (7.145) means that we want to make the base voltage independent of
the value of β and determined solely by the voltage divider. This will obviously be satisfied if the current in
the divider is made much larger than the base current. Typically we select R1 and R2 such that their current is
in the range of IE to 0.1IE.
We can gain further insight into the mechanism by which the bias arrangement of Fig. 7.54(a) stabilizes
the dc emitter (and hence collector) current by considering the feedback action provided by RE. Let us say
that for some reason the emitter current increases. The voltage drop across RE, and hence VE, will increase
correspondingly. Now, if the base voltage is determined primarily by the voltage divider R1, R2, which is the
case if RB is small, it will remain constant, and the increase in VE will result in a corresponding decrease in
VBE. This in turn reduces the collector (and emitter) current, a change opposite to what we had originally
assumed. Thus RE provides a negative feedback action that stabilizes the bias current. This should remind
you of the resistance Re that we included in the emitter lead of the CE amplifier in Section 7.3.4. Also, the
feedback action of RE in the circuit of Fig. 7.54(a) is similar to the feedback action of RS in the circuit of Fig.
7.50(c). We will study negative feedback formally in Chapter 11.
Example 7.12
We want to design the bias circuit of the amplifier in Fig. 7.54(a) to establish a current IE = 1 mA usinga power
supply VCC = +12 V. The transistor is specified to have a nominal β value of 100.
EXERCISE
For design 1 in Example 7.12, calculate the expected range of IE if the transistor used has β in the range
of 50 to 150. Express the range of IE as a percentage of the nominal value 
 obtained for
β = 100. Repeat for design 2.
∨Show Solution
∨Show Answer

(7.146)
D7.36
A Two-Power-Supply Version of the Classical Bias Arrangement A somewhat simpler bias arrangement
is possible if two power supplies are available, as shown in Fig. 7.55. Writing a loop equation for the loop
labeled L gives
This equation is identical to Eq. (7.143) except for VEE replacing VBB. Thus the two constraints of Eqs.
(7.144) and (7.145) apply here as well. Note that if the transistor is to be used with the base grounded (i.e., in
the common-base configuration), then RB can be eliminated altogether. On the other hand, if the input signal
is to be coupled to the base, then RB is needed. We will study complete circuits of the various BJT amplifier
configurations in Section 7.5. Finally, notice that the circuit in Fig. 7.55 is the counterpart of the MOS circuit
in Fig. 7.50(e).
Figure 7.55 Biasing the BJT using two power supplies. Resistor RB is needed only if the signal is to be capacitively
coupled to the base. Otherwise, the base can be connected directly to ground, or to a grounded signal source, resulting in
almost total β-independence of the bias current.
EXERCISE
The bias arrangement of Fig. 7.55 is to be used for a common-base amplifier. Design the circuit to
establish a dc emitter current of 1 mA and provide the highest possible voltage gain while allowing for a
signal swing at the collector of ±2 V. Use +10-V and –5-V power supplies.
Biasing Using a Collector-to-Base Feedback Resistor In the BJT case, there is a counterpart to the
MOSFET circuit of Fig. 7.52. Figure 7.56(a) shows such a simple but effective biasing arrangement that is
∨Show Answer

(7.147)
suitable for common-emitter amplifiers. The circuit uses a resistor RB connected between the collector and
the base. Resistor RB provides negative feedback, which helps to stabilize the bias point of the BJT.
Figure 7.56 (a) A common-emitter transistor amplifier biased by a feedback resistor RB.
Figure 7.56 (b) A Analysis of the circuit in (a).
Analysis of the circuit is shown in Fig. 7.56(b), from which we can write
Thus the emitter bias current is given by
It is interesting to note that this equation is identical to Eq. (7.143), which governs the operation of the
traditional bias circuit, except that VCC replaces VBB and RC replaces RE. It follows that to obtain a value of
IE that is insensitive to variation of β, we need to select RB/(β + 1) ≪ RC. Note, however, that the value of RB
determines the allowable negative signal swing at the collector since

(7.148)
D7.37
EXERCISE
Design the circuit of Fig. 7.56 to obtain a dc emitter current of 1 mA, maximum gain, and a ±2-V
signal swing at the collector; that is, design for VCE = +2.3 V. Let VCC = 10 V and β = 100.
∨Show Answer

7.5 Discrete-Circuit Amplifiers
With our study of transistor amplifier basics complete, we will now put everything together by presenting
practical circuits for discrete-circuit amplifiers. These circuits, which use the amplifier configurations
studied in Section 7.3 and the biasing methods of Section 7.4, can be assembled using off-the-shelf discrete
transistors, resistors, and capacitors. Though practical and carefully selected to illustrate some important
points, the circuits in this section are only examples of discrete-circuit transistor amplifiers. Indeed, there is a
great variety of such circuits, a number of which are explored in the end-of-chapter problems.
As we mentioned earlier, the vast majority of discrete-circuit amplifiers use BJTs. This is why all but one
of the circuits presented in this section use BJTs. Of course, if we wanted, we could use MOSFETs in the
same amplifier configurations presented here. Also, the MOSFET is the device of choice in the design of
integrated-circuit (IC) amplifiers. We begin our study of IC amplifiers in Chapter 8.
As we will see shortly, the circuits in this section use large capacitors (in the µF range) to couple the
signal source to the input of the amplifier, and to couple the amplifier output signal to a load resistance or to
the input of another amplifier stage. As well, a large capacitor is used to establish a signal ground at the
desired terminal of the transistor (e.g., at the emitter of a CE amplifier). The use of capacitors for these
purposes simplifies the design considerably: Since capacitors block dc, we can first carry out the dc bias
design and then connect the signal source and load to the amplifier without disturbing the dc design. These
amplifiers are therefore known as capacitively coupled amplifiers.
7.5.1 A Common-Source (CS) Amplifier
As mentioned in Section 7.3, the common-source (CS) configuration is the most widely used of all MOSFET
amplifier circuits. A common-source amplifier using the bias circuit of Fig. 7.50(c) is shown in Fig. 7.57(a).
Notice that to establish a signal ground (sometimes called an ac ground) at the source, we have connected a
large capacitor, CS, between the source and ground. This capacitor, usually in the microfarad range, is
required to provide a very small impedance (ideally, zero impedance—in effect, a short circuit) at all signal
frequencies of interest. In this way, the signal current passes through CS to ground and thus bypasses the
resistance RS; hence, CS is called a bypass capacitor. Obviously, the lower the signal frequency, the less
effective the bypass capacitor becomes. We will study this issue in Chapter 10. For our purposes here we will
assume that CS is acting as a perfect short circuit and thus is establishing a zero signal voltage at the
MOSFET source.

Figure 7.57 (a) A common-source amplifier using the classical biasing arrangement of Fig. 7.50(c). Signal quantities are
shown in color.
Figure 7.57 (b) Circuit for determining the bias point.

(7.149)
(7.150)
D7.38
Figure 7.57 (c) Equivalent circuit and analysis.
To prevent disturbances to the dc bias current and voltages, the signal to be amplified, shown as voltage
source vsig with an internal resistance Rsig, is connected to the gate through a large capacitor CC1. Known as
a coupling capacitor, CC1 is required to act as a perfect short circuit at all signal frequencies of interest
while blocking dc. Here again, we note that as the signal frequency is lowered, the impedance of CC1 (i.e.,
1/jωCC1) will increase and its effectiveness as a coupling capacitor will be correspondingly reduced. This
problem, too, will be considered in Chapter 10 in connection with the dependence of the amplifier operation
on frequency. For our purposes here we will assume that CC1 is acting as a perfect short circuit as far as the
signal is concerned.
The voltage signal resulting at the drain is coupled to the load resistance RL via another coupling
capacitor CC2. We will assume that CC2 also acts as a perfect short circuit at all signal frequencies of interest
and thus that the output voltage vo = vd. Note that RL can be either an actual load resistor, to which the
amplifier provides its output voltage signal, or the input resistance of another amplifier stage in cases where
more than one stage of amplification is needed. (We will study multistage amplifiers in Chapter 9.)
Since a capacitor behaves as an open circuit at dc, the circuit for performing the dc bias design and
analysis is obtained by open-circuiting all capacitors. The resulting circuit is shown in Fig. 7.57(b) and can
be designed as discussed in Section 7.4.1.
To determine the characteristics of the CS amplifier of Fig. 7.57(a)—that is, its input resistance, voltage
gain, and output resistance—we replace the MOSFET with its hybrid-π small-signal model, replace VDD
with a signal ground, and replace all coupling and bypass capacitors with short circuits. The result is the
circuit in Fig. 7.57(c). Analysis is straightforward and is shown on the figure, thus
which shows that to keep Rin high, large values should be used for RG1 and RG2, usually in the megohm
range. The overall voltage gain Gv is
Notice that we have taken ro into account, simply because it is easy to do so. Its effect, however, is
usually small (this is not the case for IC amplifiers, as we will see in Chapter 8). Finally, to encourage you to
do the small-signal analysis directly on the original circuit diagram, with the MOSFET model used
implicitly, we show some of the analysis on the circuit of Fig. 7.57(a).
EXERCISES
Design the bias circuit in Fig.7.57(b) for the CS amplifier of Fig. 7.57(a). Assume the MOSFET is
specified to have Vt = 1 V, kn = 4 mA/V2, and VA = 100 V. Neglecting the Early effect, design for ID =
0.5 mA, VS = 3.5 V, and VD = 6 V using a power-supply VDD = 15 V. Specify the values of RS and RD.

7.39
D7.40
(7.151)
(7.152)
If a current of 2 µA is used in the voltage divider, specify the values of RG1 and RG2. Give the values
of the MOSFET parameters gm and ro at the bias point.
For the CS amplifier of Fig. 7.57(a), use the design obtained in Exercise 7.38 to find Rin, Ro, and the
overall voltage gain Gv when Rsig = 100 kΩ and RL = 20 kΩ.
As we discussed in Section 7.3, there can be beneficial effects of having an unbypassed resistance Rs in
the source lead of the CS amplifier. We can do this in the circuit of Fig. 7.57(a) by splitting the
resistance RS into two resistances: Rs, which is left unbypassed, and (RS − Rs), across which the bypass
capacitor CS is connected. Now, if, in order to improve linearity of the amplifier in Exercises 7.38 and
7.39, vgs is to be reduced to half its value, what value should Rs have? What would the amplifier gain
Gv become? Recall that when Rs is included it becomes difficult to include ro in the analysis, so neglect
it.
7.5.2 A Common-Emitter Amplifier
The common-emitter (CE) amplifier is the most widely used of all BJT amplifier configurations. Figure
7.58(a) shows a CE amplifier using the classical biasing arrangement of Fig. 7.54(a), the design of which
was considered in Section 7.4. The CE circuit in Fig. 7.58(a) is the BJT counterpart of the CS amplifier of
Fig. 7.57(a). It utilizes coupling capacitors CC1 and CC2 and bypass capacitor CE. Here we assume that these
capacitors, while blocking dc, behave as perfect short circuits at all signal frequencies of interest.
To determine the characteristic parameters of the CE amplifier, we replace the BJT with its hybrid-π
model, replace VCC with a short circuit to ground, and replace the coupling and bypass capacitors with short
circuits. The resulting small-signal equivalent circuit of the CE amplifier is shown in Fig. 7.58(b). The
analysis is straightforward and is given in the figure, thus
which tells us that to keep Rin relatively high, we should select larger values for RB1 and RB2 (typically in the
range of tens or hundreds of kilohms). This requirement conflicts with the need to keep RB1 and RB2 low so
as to minimize the dependence of the dc current IC on the transistor β. We discussed this design trade-off in
Section 7.4.
The voltage gain Gv is given by
∨Show Answer
∨Show Answer
∨Show Answer

D7.41
7.42
Note that we have taken ro into account because it is easy to do so. Remember, though, that the effect of this
parameter on discrete-circuit amplifier performance is usually small.
EXERCISES
Design the bias circuit of the CE amplifier of Fig. 7.58(a) to obtain IE = 0.5 mA and VC = +6 V. Design
for a dc voltage at the base of 5 V and a current through RB2 of 50 µA. Let VCC = +15 V, β = 100, and
VBE 
 0.7 V. Specify the values of RB1, RB2, RE, and RC. Also give the values of the BJT small-signal
parameters gm, rπ, and ro at the bias point. (For the calculation of ro, let VA = 100 V.)
For the amplifier designed in Exercise 7.41, find Rin, Ro, and Gv when Rsig = 10 kΩ and RL = 20 kΩ.
Figure 7.58 (a) A common-emitter amplifier using the classical biasing arrangement of Fig. 7.54(a). Signal quantities
are shown in color.
∨Show Answer
∨Show Answer

(a)
(b)
Figure 7.58 (b) Equivalent circuit and analysis.
Video Example VE 7.3 Design and Analysis of a Common-Emitter Amplifier
In the circuit of Fig. VE7.3, vsig is a small sine-wave signal with zero average. The transistor β is 100.
Figure VE7.3 Circuit for Video Example 7.3.
Find the value of RE to establish a dc emitter current of about 0.5 mA.
Find RC to establish a dc collector voltage of about +0.5 V.


Figure 7.59 (a) A common-emitter amplifier with an unbypassed emitter resistance Re.
Figure 7.59 (b) The amplifier small-signal model and analysis.

(7.153)
(7.154)
7.43
Analysis of the circuit in Fig. 7.59(b) is straightforward and is shown in the figure. Thus,
Here we see that including Re increases Rin because it increases the input resistance looking into the base by
adding a component 
. The overall voltage gain Gv is
EXERCISE
For the amplifier designed in Exercise 7.41 and analyzed in Exercise 7.42, we want to raise Rin to 10
kΩ. What is the required value of Re, and what does the overall voltage gain Gv become?
Video Example VE 7.4 Discrete-Circuit CE Amplifier with Emitter-Degeneration
In the circuit of Fig. VE7.4, the BJT is biased with a constant-current source, and vsig is a small sine-wave
signal. Find Rin and the gain vo/vsig. Assume β =100. If the amplitude of the signal vbe is to be limited to 5 mV,
what is the largest allowable signal at the input? What is the corresponding signal at the output?
∨Show Answer


(7.155)
D7.44
bypass capacitor to establish a signal ground at the base.
The small-signal equivalent circuit of the CB amplifier is shown in Fig 7.60(b). As expected, we have
used the T model of the BJT and have not included ro. Including ro would complicate the analysis
significantly without making much difference to the results. From the circuit in Fig. 7.60(b) we find
which as expected can be very small, causing vi to be a small fraction of vsig,
Now,
and
Thus, the overall voltage gain is given by
EXERCISE
Design the CB amplifier of Fig. 7.60(a) to provide an input resistance Rin that matches the source
resistance of a cable with a characteristic resistance of 50 Ω. Assume that 
. The available
power supplies are ±5 V and RL = 8 kΩ. Design for a dc collector voltage VC = +1 V. Specify the
values of RC and RE. What is the overall voltage gain? If vsig is a sine wave with a peak amplitude of
10 mV, what is the peak amplitude of the output voltage? Let 
.
7.5.5 An Emitter Follower
Figure 7.61(a) shows an emitter follower designed using the bias arrangement of Fig. 7.55 with two power
supplies, VCC and −VEE. The bias resistance RB affects the input resistance of the follower and should be
∨Show Answer

chosen as large as possible while limiting the dc voltage drop across it to a small fraction of VEE; otherwise
the dependence of the bias current IC on β can become unacceptably large.
Figure 7.60 (a) A common-base amplifier using the structure of Fig. 7.55 with RB omitted (since the base is grounded).
Small-signal quantities are shown in color.

Figure 7.60 (b) Equivalent circuit obtained by replacing the transistor with its T model.
Figure 7.61(b) shows the small-signal equivalent circuit of the emitter follower. Here, as expected, we
have replaced the BJT with its T model and included ro (since this can be done very simply). We can see that
the input resistance of the emitter follower is
Figure 7.61 (a) An emitter-follower circuit.

(7.156)
(7.157)
(7.158)
(7.159)
Figure 7.61 (b) Small-signal equivalent circuit of the emitter follower with the transistor replaced by its T model. Note
that ro is included because it is easy to do so. Normally, its effect on performance is small.
where Rib, the input resistance looking into the base, can be obtained by using the resistance-reflection rule.
Toward that end, note that ro appears in parallel with RE and RL (which is why it can be easily taken into
account). Thus,
We can find the overall voltage gain by tracking the signal transmission from source to load,
and vo is obtained as the fraction of vi determined by the voltage-divider ratio,
Thus,

(7.160)
(7.161)
D7.45
Finally, we can find the output resistance Rout by short-circuiting vsig and looking back into the output
terminal, excluding RL, as
where we have used the inverse resistance-reflection rule, namely, dividing the total resistance in the base,
(RB || Rsig), by (β + 1).
EXERCISE
Design the emitter follower of Fig. 7.61(a) to operate at a dc emitter current IE = 1 mA. Allow a dc
voltage drop across RB of 1 V. The available power supplies are ±5 V, β = 100, VBE = 0.7 V, and VA =
100 V. Specify the values required for RB and RE. If Rsig = 50 kΩ and RL = 1 kΩ, find Rin, vi/vsig, vo/vi,
Gv, and Rout. (Note: In the bias design, neglect the Early effect.)
7.5.6 The Amplifier Frequency Response
So far, we have assumed that the gain of transistor amplifiers is constant independent of the frequency of the
input signal. This implies that transistor amplifiers have infinite bandwidth, which of course is not true. To
illustrate, we show in Fig. 7.62 a sketch of the gain of a CS or CE amplifier such as those shown in Figs.
7.57 and 7.58, respectively, versus frequency. Observe that, indeed, the gain remains almost constant over a
wide frequency range. This is the useful frequency range of operation for the particular amplifier. So far, we
have been assuming that our amplifiers are operating in this frequency band, called the midband.
Figure 7.62 indicates that at lower frequencies, the magnitude of the amplifier gain falls off. This is
because the coupling and bypass capacitors no longer have low impedances. Recall that we assumed that
their impedances were small enough to act as short circuits. Although this can be true at midband
frequencies, as the frequency of the input signal is lowered, the reactance 1/jωC of each of these capacitors
becomes significant, and it can be shown that, as a result, the overall voltage gain of the amplifier decreases.
Figure 7.62 also indicates that the gain of the amplifier falls off at the high-frequency end. This is due to
the internal capacitive effects in the BJT and the MOSFET. In Chapter 10 we will study the internal
capacitive effects of both transistor types and will augment their hybrid-π models with capacitances that
model these effects.
∨Show Answer

Figure 7.62 Sketch of the magnitude of the gain of a CS (Fig. 7.57) or CE (Fig. 7.58) amplifier versus frequency. The
graph delineates the three frequency bands relevant to frequency-response determination.
We will also undertake a detailed study of the frequency response of transistor amplifiers in Chapter 10.
For the time being, it is important to realize that for every transistor amplifier, there is a finite band over
which the gain is almost constant. The boundaries of this useful frequency band, or midband, are the two
frequencies fL and fH at which the gain drops by a certain number of decibels (usually 3 dB) below its value
at midband. As shown in Fig. 7.62, the amplifier bandwidth, or 3-dB bandwidth, is defined as the difference
between the lower (fL) and upper or higher (fH) 3-dB frequencies:
and since usually 
,
A figure of merit for the amplifier is its gain–bandwidth product, defined as
where |AM| is the magnitude of the amplifier gain in the midband. You will see in Chapters 10 and 11 that in
amplifier design it is usually possible to trade off gain for bandwidth—for instance, by including resistance
Re in the emitter of the CE amplifier.

■
■
■
■
■
■
■
■
■
■
Summary
The essence of the MOSFET (the BJT) as an amplifier is that when the transistor is operated in the active
region, vGS controls iD (vBE controls iC) in the manner of a voltage-controlled current source. When the
device is dc biased in the active region, and the signal vgs (vbe) is kept small, the operation becomes
almost linear, with id = gmvgs (ic = gmvbe).
The most fundamental parameter in characterizing the small-signal linear operation of a transistor is the
transconductance gm. For a MOSFET, gm = 
; and
for the BJT, gm = IC/VT.
A systematic procedure for analyzing a transistor amplifier circuit is presented in Table 7.1. Tables 7.2
and 7.3 present the small-signal models for the MOSFET and the BJT, respectively. These tables can be
found in the Summary Tables supplement online at www.oup.com/he/sedra-smith8e.
When a resistance is connected in series with the source (or emitter), the T model is the most convenient
to use.
The three basic configurations of MOS and BJT amplifiers are presented in Fig. 7.35(a), (b), (c), and (d),.
Their characteristic parameter values are provided in Table 7.4 (for the MOS case) and in Table 7.5 (for
the BJT case).
The CS amplifier, has (ideally) infinite input resistance and a reasonably high gain but a rather high
output resistance and a limited high-frequency response (more on the latter point in Chapter 10). It is
used to obtain most of the gain in a cascade amplifier. Similar remarks apply to the CE amplifier, except
that it has a relatively low input resistance (rπ = β/gm) arising from the finite base current of the BJT
(finite β). Its voltage gain, however, can be larger than that of the CS amplifier because of the higher
values of gm obtained with BJTs.
Adding a resistance Rs in the source of a CS amplifier (a resistance Re in the emitter of a CE amplifier)
can benefit the design by raising the input resistance of the CE amplifier, increasing linearity, and
extending the useful amplifier bandwidth, at the expense of reducing the gain, all by a factor equal to (1
+ gmRs) [(1 + gmRe) for the BJT case].
The CG (CB) amplifier has a low input resistance and thus, used alone, it has limited and specialized
applications. However, its excellent high-frequency response makes it attractive in combination with the
CS (CE) amplifier (Chapters 8 and 10).
The source follower has (ideally) infinite input resistance, a voltage gain lower than but close to unity,
and a low output resistance. It is used as a voltage buffer and as the output stage of a multistage
amplifier. Similar remarks apply to the emitter follower except that its input resistance, though large, is
finite. Specifically, the emitter follower multiplies the total resistance in the emitter by (β + 1) before
presenting it to the signal source.
The resistance-reflection rule is useful in the analysis of BJT amplifier circuits: All resistances in the
emitter circuit including the emitter resistance re can be reflected to the base side by multiplying them by
(β + 1). Conversely, we can reflect all resistances in the base circuit to the emitter side by dividing them
by (β + 1).

■
■
■
In the analysis and design of discrete-circuit amplifiers, it is rarely necessary to take the transistor output
resistance ro into account. In some situations, however, ro can be easily taken into account; specifically
in the CS (CE) amplifier and in the source (emitter) follower. (In IC amplifiers, ro must always be taken
into account.)
A key step in the design of transistor amplifiers is to bias the transistor to operate at an appropriate point
in the active region. A good bias design ensures that the parameters of the operating point (ID, VOV, and
VDS for the MOSFET; IC and VCE for the BJT) are predictable and stable and do not vary by large
amounts when the transistor is replaced by another of the same type. The bias methods studied in this
chapter are suited for discrete-circuit amplifiers only because they use large coupling and bypass
capacitors.
Discrete-circuit amplifiers predominantly use BJTs. The opposite is true for IC amplifiers, where the
device of choice is the MOSFET.

(a)
(b)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 7.1: Basic Principles
7.1 For the MOS amplifier of Fig. 7.2(a) with VDD = 3 V, Vt = 0.5 V, kn = 10 mA/V2, and RD = 15 kΩ, determine
the coordinates of the active-region segment (AB) of the VTC [Fig. 7.2(b)].
D 7.2 For the MOS amplifier of Fig. 7.2(a) with VDD = 3 V and kn = 5 mA/V2, we want to have the end point of
the VTC, point B, at VDS = 0.3 V. What value of RD do we need? If the transistor is replaced with another having
twice the value of the transconductance parameter kn, what new value of RD do we need?
D 7.3 We want to bias the MOS amplifier of Fig. 7.3 at point Q for which VOV = 0.2 V and VDS = 1 V. Find the
required value of RD when VDD = 3 V, Vt = 0.5 V, and kn = 10 mA/V2. Also specify the coordinates of the VTC end
point B. What is the small-signal voltage gain of this amplifier? Assuming linear operation, what is the maximum
allowable negative signal swing at the output? What is the corresponding peak input signal?
7.4 The MOS amplifier of Fig. 7.4(a), when operated with VDD = 2 V, has a maximum small-signal voltage gain
magnitude of 14 V/V. Find VOV and VDS for bias point Q at which a voltage gain of −12 V/V is obtained.
7.5 Consider the amplifier of Fig. 7.4(a) for the case VDD = 5 V, RD = 24 kΩ, 
(W/L) = 1 mA/V2, and Vt = 1 V.
Find the coordinates of the two end points of the saturation-region segment of the amplifier transfer
characteristic, that is, points A and B in Fig. 7.4(b).
If the amplifier is biased to operate with an overdrive voltage VOV of 0.5 V, find the coordinates of the bias
point Q on the transfer characteristic. Also, find the value of ID and of the incremental gain Av at the bias
∨Show Answer
∨Show Answer
∨Show Answer

(c)
(a)
(b)
(c)
(d)
point.
For the situation in (b), and disregarding the distortion caused by the MOSFET’s square-law characteristic,
what is the largest amplitude of a sine-wave voltage signal that can be applied at the input while the transistor
remains in saturation? What is the amplitude of the output voltage signal that results? What gain value does
the combination of these amplitudes imply? By what percentage is this gain value different from the
incremental gain value calculated above? Why is there a difference?
7.6 Various measurements are made on an NMOS amplifier for which the drain resistor RD is 20 kΩ. First, dc
measurements show the voltage across the drain resistor, VRD, to be 2 V and the gate-to-source bias voltage to be
0.75 V. Then, ac measurements with small signals show the voltage gain to be –16 V/V. What is the value of Vt for
this transistor? If the process transconductance parameter 
 is 400 µA/V2, what is the MOSFET’s W/L?
*7.7 The expression for the incremental voltage gain Av given in Eq. (7.16) can be written as
where VDS is the bias voltage at the drain. This indicates that for given values of VDD and VOV, the gain magnitude
can be increased by biasing the transistor at a lower VDS. This, however, reduces the allowable output signal swing
in the negative direction. Assuming linear operation around the bias point, show that the largest possible negative
output signal peak 
 achievable while the transistor remains saturated is
For VDD = 5 V and VOV = 0.5 V, provide a table of values for Av, 
, and the corresponding 
 for VDS = 1 V, 1.5 V,
2 V, and 2.5 V. If 
 (W/L) = 1 mA/V2, find ID and RD for the design for which VDS = 1 V.
D *7.8 Design the MOS amplifier of Fig. 7.4(a) to obtain maximum gain while allowing for an output voltage
swing of at least ±0.2 V. Let VDD = 2 V, and use an overdrive voltage of approximately 0.2 V.
Specify VDS at the bias point.
What is the gain achieved? What is the signal amplitude 
 that results in the 0.2-V signal amplitude at the
output?
If the dc bias current in the drain is to be 100 µA, what value of RD is needed?
If 
 = 400 µA/V2, what W/L ratio is required for the MOSFET?
*7.9 Figure P7.9 shows an amplifier in which the load resistor RD has been replaced with another NMOS transistor
Q2 connected as a two-terminal device. Note that because vDG of Q2 is zero, it will be operating in saturation at all
times, even when vI = 0 and iD2 = iD1 = 0. Note also that the two transistors conduct equal drain currents. Using iD1
= iD2, show that for the range of vI over which Q1 is operating in saturation, that is, for
∨Show Answer

Figure P7.9
the output voltage will be given by
where we have assumed Vt1 = Vt2 = Vt. Thus the circuit functions as a linear amplifier, even for large input signals.
For (W/L)1 = (50 µm/0.5 µm) and (W/L)2 = (5 µm/0.5 µm), find the voltage gain.
7.10 A BJT amplifier circuit like the one in Fig. 7.6 is operated with VCC = + 3 V and is biased at VCE = +0.5 V.
Find the voltage gain, the maximum allowed output negative swing without the transistor entering saturation, and
the corresponding maximum input signal permitted.
7.11 For the amplifier circuit in Fig. 7.6 with VCC = + 5V and RC = 1 kΩ, find VCE and the voltage gain at the
following dc collector bias currents: 0.5 mA, 1 mA, 2.5 mA, 4 mA, and 4.5 mA. For each, give the maximum
possible positive- and negative-output signal swings as determined by the need to keep the transistor in the active
region. Present your results in a table.
D 7.12 Consider the CE amplifier circuit of Fig. 7.6 when operated with a dc supply VCC = +3 V. You want to find
the point at which the transistor should be biased; that is, the value of VCE so that the output sine-wave signal vce
resulting from an input sine-wave signal vbe of 5-mV peak amplitude has the maximum possible magnitude. What
is the peak amplitude of the output sine wave and the value of the gain obtained? Assume linear operation around
the bias point. (Hint)
7.13 A designer considers a number of low-voltage BJT amplifier designs utilizing power supplies with voltage
VCC of 1.0, 1.5, 2.0, or 3.0 V. For transistors that saturate at VCE = 0.3 V, what is the largest possible voltage gain
achievable with each of these supply voltages? If in each case biasing is adjusted so that VCE = VCC/2, what gains
∨Show Answer
∨Show Answer

are achieved? If a negative-going output signal swing of 0.4 V is required, at what VCE should the transistor be
biased to obtain maximum gain? What is the gain achieved with each of the supply voltages? (Notice that all of
these gains are independent of the value of IC chosen!)
D *7.14 A BJT amplifier such as that in Fig. 7.6 is to be designed to support relatively undistorted sine-wave
output signals of peak amplitudes P volts without the BJT entering saturation or cutoff and to have the largest
possible voltage gain, denoted Av V/V. Show that the minimum supply voltage VCC needed is given by
Also, find VCC, specified to the nearest 0.5 V, for the following situations:
(a) Av = −20 V/V, P = 0.2 V
(b) Av = −50 V/V, P = 0.5 V
(c) Av = −100 V/V, P = 0.5 V
(d) Av = −100 V/V, P = 1.0 V
(e) Av = −200 V/V, P = 1.0 V
(f) Av = −500 V/V, P = 1.0 V
(g) Av = −500 V/V, P = 2.0 V
7.15 The transistor in the circuit of Fig. P7.15 is biased at a dc collector current of 0.2 mA. What is the voltage
gain? (Hint)
Figure P7.15
7.16 Sketch and label the voltage-transfer characteristic of the pnp amplifier shown in Fig. P7.16.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
Figure P7.16
*7.17 In deriving the expression for small-signal voltage gain Av in Eq. (7.21) we neglected the Early effect. Derive
this expression including the Early effect by substituting
in Eq. (7.4) and including the factor (1 + VCE/VA) in Eq. (7.11). Show that the gain expression changes to
When VCC = 5 V and VCE = 2 V, what is the gain without and with the Early effect taken into account? Let VA = 50
V.
7.18 When the amplifier circuit of Fig. 7.6 is biased with a certain VBE, the dc voltage at the collector is found to be
+1V. For VCC = +3 V and RC = 2 kΩ, find IC and the small-signal voltage gain. For a change ∆vBE = +5 mV,
calculate the resulting ∆vO. Calculate it two ways: by using the transistor exponential characteristic ∆iC, and
approximately, using the small-signal voltage gain. Repeat for ∆vBE = −5 mV. Summarize your results in a table.
*7.19 Consider the amplifier circuit of Fig. 7.6 when operated with a supply voltage VCC = +3V.
What is the theoretical maximum voltage gain that this amplifier can provide?
What value of VCE must this amplifier be biased at to provide a voltage gain of –60 V/V?
If the dc collector current IC at the bias point in (b) is to be 0.5 mA, what value of RC should be used?
What is the value of VBE required to provide the bias point mentioned above? Assume that the BJT has IS =
10−15 A.
If a sine-wave signal vbe with a 5-mV peak amplitude is superimposed on VBE, find the corresponding output
voltage signal vce that will be superimposed on VCE assuming linear operation around the bias point.
Characterize the signal current ic that will be superimposed on the dc bias current IC.

(g)
(h)
(i)
What is the value of the dc base current IB at the bias point? Assume β = 100. Characterize the signal current
ib that will be superimposed on the base current IB.
Dividing the amplitude of vbe by the amplitude of ib, evaluate the incremental (or small-signal) input
resistance of the amplifier.
Sketch and clearly label correlated graphs for vBE, vCE, iC, and iB versus time. Note that each graph consists of
a dc or average value and a superimposed sine wave. Be careful of the phase relationships of the sine waves.
7.20 The essence of transistor operation is that a change in vBE, ∆vBE, produces a change in iC, ∆iC. By keeping
∆vBE small, ∆iC is approximately linearly related to ∆vBE, ∆iC = gm∆vBE, where gm is known as the transistor
transconductance. By passing ∆iC through RC, an output voltage signal ∆vO is obtained. Use the expression for the
small-signal voltage gain in Eq. (7.20) to derive an expression for gm. Find the value of gm for a transistor biased at
IC = 0.5 mA.
7.21 The purpose of this problem is to illustrate the application of graphical analysis to the circuit shown in Fig.
P7.21. Sketch iC−vCE characteristic curves for the BJT for iB = 10 µA, 20 µA, 30 µA, and 40 µA. Assume the lines
to be horizontal (i.e., neglect the Early effect), and let β =100. For VCC = 5 V and RC = 1 kΩ, sketch the load line.
What peak-to-peak collector voltage swing will result for iB varying over the range 10 µA to 40 µA? If the BJT is
biased at 
, find the value of IC and IB. If at this current VBE = 0.7 V and if RB = 100 kΩ, find the
required value of VBB.
Figure P7.21
**7.22 Sketch the iC−vCE characteristics of an npn transistor having β = 100 and VA = 100 V. Sketch characteristic
curves for iB = 20 µA, 50 µA, 80 µA, and 100 µA. For the purpose of this sketch, assume that iC = β iB at vCE = 0.
Also, sketch the load line obtained for VCC = 10 V and RC = 1 kΩ. If the dc bias current into the base is 50 µA,
write the equation for the corresponding iC−vCE curve. Also, write the equation for the load line, and solve the two
equations to obtain VCE and IC. If the input signal causes a sinusoidal signal of 30-µA peak amplitude to be
superimposed on IB, find the corresponding signal components of iC and vCE.
Section 7.2: Small-Signal Operation and Models
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
7.23 This problem investigates the nonlinear distortion introduced by a MOSFET amplifier. Let the signal vgs be a
sine wave with amplitude Vgs, and substitute vgs = Vgs sin ωt in Eq. (7.28). Using the trigonometric identity 
, show that the ratio of the signal at frequency 2ω to that at frequency ω, expressed as a
percentage (known as the second-harmonic distortion) is
If in a particular application Vgs is 10 mV, find the minimum overdrive voltage at which the transistor should be
operated so that the second-harmonic distortion is kept to less than 1%.
7.24 For the amplifier in Fig. 7.10, let VDD = 2 V, RD = 15 kΩ, Vt = 0.5 V, 
 = 0.4 mA/V2, W/L = 12.5, VGS =
0.7 V, and λ = 0.
Find the dc current ID and the dc voltage VDS.
Find gm.
Find the voltage gain.
If vgs = 0.015 sin ωt volts, find vds assuming that the small-signal approximation holds. What are the
minimum and maximum values of vDS?
Use Eq. (7.28) to determine the various components of iD. Using the identity 
,
determine the second-harmonic distortion defined as the ratio of the component of iD of frequency 2ω to the
component of iD of frequency ω, multiplied by 100.
7.25 Consider the MOSFET amplifier of Fig. 7.10 for the case Vt = 0.4 V, kn = 10 mA/V2, VGS = 0.6 V, VDD = 1.8
V, and RD = 6.8 kΩ.
Find the dc quantities ID and VDS.
Calculate the value of gm at the bias point.
Calculate the value of the voltage gain.
If the MOSFET has λ = 0.2 V−1, find ro at the bias point and calculate the voltage gain.
D 7.26 The NMOS amplifier of Fig. 7.10 is to be designed to provide a 0.2-V peak output signal. Assume VDD =
1.8 V and RD = 10 kΩ. If the gain is to be −10 V/V, what gm is required? Bias the amplifier as close to the edge of
the saturation region as possible consistent with the required signal swing. Specify the required values of VOV and
ID. If 
 = 380 μA/V2 what W/L ratio is required? If Vt = 0.4 V, find VGS.
7.27 An NMOS transistor has μnCox = 400 µA/V2, W/L = 20, Vt = 0.5 V, and VA = 5 V. Find gm and ro when (a) the
bias voltage VGS = 0.75 V, (b) the bias current ID = 0.5 mA.
∨Show Answer
∨Show Answer
∨Show Answer

7.28 In the table on page 479, for MOS transistors operating under a variety of conditions, complete as many
entries as possible. Although some data is not available, it is always possible to calculate gm using either Eq. (7.40),
(7.41), or (7.42). Assume μn = 500 cm2/V· s, μp = 250 cm2/V · s, and Cox = 0.4 fF/µm2.
Voltages (V)
Dimensions (µm)
Case
Type
ID (mA)
|VGS|
|Vt|
|VOV|
W
L
W/L
gm(mA/V)
a
N
1
3
2
 
 
1
 
 
 
b
N
1
 
0.7
0.5
50
 
 
 
 
c
N
10
 
 
2
 
1
 
 
 
d
N
0.5
 
 
0.5
 
 
 
 
 
e
N
0.1
 
 
 
10
2
 
 
 
f
N
 
1.8
0.8
 
40
4
 
 
 
g
P
0.5
 
 
 
 
 
25
 
 
h
P
 
3
1
 
 
 
 
0.5
 
i
P
10
 
 
 
4000
2
 
 
 
j
P
10
 
 
4
 
 
 
 
 
k
P
 
 
 
1
30
3
 
 
 
l
P
 
 
 
5
 
 
 
0.08
 
7.29 An NMOS technology has μnCox = 400 µA/V2, Vt = 0.5 V, and 
 = 6V/µm. For a transistor with L = 0.5
µm, find ro and the value of W that results in gm = 2 mA/V at ID = 0.25 mA. Also, find ro and the required VGS.
7.30 For the NMOS amplifier in Fig. P7.30, replace the transistor with its T equivalent circuit, assuming λ = 0.
Derive expressions for the voltage gains vs/vi and vd/vi.
Figure P7.30
∨Show Answer

(a)
SIM 7.31 In the circuit of Fig. P7.31, the NMOS transistor has 
 and VA = 20 V and operates with VD
= 1 V. What is the voltage gain vo/vi? What do VD and the gain become for I increased to 1 mA?
7.32 For a 0.18-µm CMOS fabrication process: Vtn = 0.5 V, Vtp = –0.5 V, μnCox = 400 µA/V2, μpCox =
100 µA/V2, VA (n-channel devices) = 5L (µm), and |VA| (p-channel devices) = 6L (µm). Find the small-signal
model parameters gm and ro for both an NMOS and a PMOS transistor having W/L = 5 µm/0.5 µm and operating at
ID = 100 µA. Also, find the overdrive voltage at which each device must be operating.
Figure P7.31
7.33 Figure P7.33 shows a discrete-circuit amplifier. The input signal vsig is coupled to the gate through a very
large capacitor (shown as infinite). The transistor source is connected to ground at signal frequencies via a very
large capacitor (shown as infinite). The output voltage signal that develops at the drain is coupled to a load
resistance via a very large capacitor (shown as infinite). All capacitors behave as short circuits for signals and as
open circuits for dc.
If the transistor has Vt = 1 V, and kn = 4 mA/V2, verify that the bias circuit establishes VGS = 1.5 V, ID = 0.5
mA, and VD = +7.0 V. That is, assume these values, and verify that they are consistent with the values of the
circuit components and the device parameters.
∨
Show Answer
∨Show Answer

(b)
(c)
(d)
(a)
(b)
Figure P7.33
Find gm and ro if VA = 100 V.
Draw a complete small-signal equivalent circuit for the amplifier, assuming all capacitors behave as short
circuits at signal frequencies.
Find Rin, vgs/vsig, vo/vgs, and vo/vsig.
7.34 Consider a transistor biased to operate in the active mode at a dc collector current IC. Calculate the collector
signal current as a fraction of IC (i.e., ic/IC) for input signals vbe of +1 mV, –1 mV, +2 mV, –2 mV, +5 mV, –5 mV,
+8 mV, –8 mV, +10 mV, –10 mV, +12 mV, and –12 mV. In each case do the calculation two ways:
using the exponential characteristic, and
using the small-signal approximation.
Present your results in the form of a table that includes a column for the error introduced by the small-signal
approximation. Comment on the range of validity of the small-signal approximation.
7.35 An npn BJT with grounded emitter is operated with VBE = 0.700 V, at which the collector current is 1 mA. A
2- kΩ resistor connects the collector to a +5-V supply. What is the resulting collector voltage VC? Now, if a signal
applied to the base raises vBE to 705 mV, find the resulting total collector current iC and total collector voltage vC
using the exponential iC–vBE relationship. For this situation, what are vbe and vc? Calculate the voltage gain vc/vbe.
Compare with the value obtained using the small-signal approximation, that is, –gmRC.
7.36 A transistor with β = 100 is biased to operate at a dc collector current of 0.4 mA. Find the values of gm, rπ, and
re. Repeat for a bias current of 40 µA.
7.37 A pnp BJT is biased to operate at IC = 0.5 mA. What is the associated value of gm? If β = 100, what is the
value of the small-signal resistance seen looking into the emitter (re)? into the base (rπ)? If the collector is
∨Show Answer

connected to a 5- kΩ load, with a signal of 5-mV peak applied between base and emitter, what output signal voltage
results?
D 7.38 A designer wants to create a BJT amplifier with a gm of 20 mA/V and a base input resistance of 4000 Ω or
more. What collector-bias current should she choose? What is the minimum β she can tolerate for the transistor
used?
7.39 A transistor operating with nominal gm of 40 mA/V has a β that ranges from 60 to 150. Also, the bias circuit,
being less than ideal, allows a ±10% variation in IC. What are the extreme values found of the resistance looking
into the base?
7.40 In the circuit of Fig. 7.21, VBE is adjusted so that VC = 1 V. If VCC = 3 V, RC = 2 kΩ, and a signal vbe = 0.005
sin ωt volts is applied, find expressions for the total instantaneous quantities iC(t), vC(t), and iB(t). Assume linear
operation. The transistor has β = 100. What is the voltage gain?
D *7.41 We wish to design the amplifier circuit of Fig. 7.21 under the constraint that VCC is fixed. Let the input
signal 
 sin ωt, where 
 is the maximum value for acceptable linearity. For the design that results in the
largest signal at the collector, without the BJT leaving the active region, show that
and find an expression for the voltage gain obtained. For 
, find the dc voltage at the
collector, the amplitude of the output voltage signal, and the voltage gain.
7.42 The table below summarizes some of the basic attributes of a number of BJTs of different types, operating as
amplifiers under various conditions. Provide the missing entries.
Transistor
a
b
c
d
e
f
g
α
1.000
0.90
β
100
∞
IC (mA)
1.00
1.00
IE (mA)
1.00
5
IB (mA)
0.020
1.10
gm (mA/V)
700
re (Ω)
25
100
rπ (Ω)
10.1 kΩ
7.43 A BJT is biased to operate in the active mode at a dc collector current of 0.5 mA. It has a β of 100 and VA of
100 V. Give the four small-signal models (Figs. 7.26 and 7.28) of the BJT complete with the values of their
parameters.
7.44 Using the T model of Fig. 7.27(a), show that the input resistance between base and emitter, looking into the
base, is equal to rπ.
∨Show Answer
∨Show Answer

7.45 Show that the collector current provided by the model of Fig. 7.27(b) is equal to that provided by the model in
Fig. 7.27(a).
7.46 Show that the hybrid-π model of Fig. 7.25(b) is the incremental version of the large-signal model of Fig.
6.5(d).
7.47 Show that the T model of Fig. 7.27(b) is the incremental version of the large-signal model of Fig. 6.5(b).
7.48 The transistor amplifier in Fig. P7.48 is biased with a current source I and has a very high β. Find the dc
voltage at the collector, VC. Also, find the value of re. Replace the transistor with the T model of Fig. 7.27(b) (note
that the dc current source I should be replaced with an open circuit). Hence find the voltage gain vc/vi.
Figure P7.48
7.49 For the conceptual circuit shown in Fig. 7.24, RC = 5 kΩ, gm =20 mA/V, and β =100. If a peak-to-peak output
voltage of 0.5 V is measured at the collector, what are the peak-to-peak values of vbe and ib?
7.50 Figure P7.50 shows the circuit of an amplifier fed with a signal source vsig with a source resistance Rsig. The
bias circuitry is not shown. Replace the BJT with its hybrid-π equivalent circuit of Fig. 7.25(a). Find the input
resistance Rin ≡ vπ/ib, the voltage transmission from source to amplifier input, vπ/vsig, and the voltage gain from
base to collector, vo/vπ. Use these to show that the overall voltage gain vo/vsig is given by
∨Show Answer
∨Show Answer

Figure P7.50
7.51 Figure P7.51 shows a transistor with the collector connected to the base. The bias arrangement is not shown.
Since a zero vBC implies operation in the active mode, the BJT can be replaced by one of the small-signal models
of Figs. 7.25 and 7.27. Use the model of Fig. 7.27(b) and show that the resulting two-terminal device, known as a
diode-connected transistor, has a small-signal resistance r equal to re.
Figure P7.51
7.52 Figure P7.52 shows a particular configuration of BJT amplifiers known as “emitter follower.” The bias
arrangement is not shown. Replace the BJT with its T equivalent-circuit model of Fig. 7.27(b). Show that

7.53 For the circuit shown in Fig. P7.53, draw a complete small-signal equivalent circuit using an appropriate T
model for the BJT (use α = 0.99). You should show the values of all components, including the model parameters.
What is the input resistance Rin? Calculate the overall voltage gain (vo/vsig).
Figure P7.52
Figure P7.53
7.54 In the circuit shown in Fig. P7.54, the transistor has a β of 200. What is the dc voltage at the collector?
Replacing the BJT with one of the hybrid-π models (neglecting ro), draw the equivalent circuit of the amplifier.
Find the input resistances Rib and Rin and the overall voltage gain (vo/vsig). For an output signal of ±0.3 V, what
values of vsig and vb are required?

Figure P7.54
7.55 Consider the augmented hybrid-π model shown in Fig. 7.26(a). Disregarding how biasing is done, what is the
largest possible voltage gain available for a signal source connected directly to the base and a very-high-resistance
load? Calculate the value of the maximum possible gain for VA = 20 V and VA = 120 V.
D 7.56 Redesign the circuit of Fig. 7.31(a) by raising the resistor values by a factor of n to increase the resistance
seen by the input vi to 75 Ω. What value of voltage gain results? Grounded-base circuits of this kind are used in
systems such as cable TV, in which, for highest-quality signaling, load resistances need to be “matched” to the
equivalent resistances of the interconnecting cables.
D *7.57 Design an amplifier using the configuration of Fig. 7.31(a). The power supplies available are ±5 V. The
input signal source has a resistance of 100 Ω, and the amplifier input resistance must match this value. (Note that 
 The amplifier is to have the greatest possible voltage gain and the largest possible output
signal but retain small-signal linear operation by keeping the signal component across the base–emitter junction to
no more than 5 mV. Find appropriate values for RE and RC. What is the value of voltage gain realized from signal
source to output?
*7.58 The transistor in the circuit shown in Fig. P7.58 is biased to operate in the active mode. Assuming that β is
very large, find the collector bias current IC. Replace the transistor with the small-signal equivalent-circuit model of
Fig. 7.27(b) (remember to replace the dc power supply with a short circuit). Analyze the resulting amplifier
equivalent circuit to show that
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
Figure P7.58
Find the values of these voltage gains (for α 
 1). Now, if the terminal labeled vo1 is connected to ground, what
does the voltage gain vo2/vi become?
Section 7.3: Basic Configurations
7.59 An amplifier with an input resistance of 200 kΩ, an open-circuit voltage gain of 100 V/V, and an output
resistance of 200 Ω is connected between a 20- kΩ signal source and a 2- kΩ load. Find the overall voltage gain Gv.
Also find the current gain, defined as the ratio of the load current to the current drawn from the signal source.
D 7.60 Specify the parameters Rin, Avo, and Ro of an amplifier that is to be connected between a 10- kΩ source and
a 1- kΩ load and is required to meet the following specifications:
No more than 5% of the signal strength is lost in the connection to the amplifier input;
If the load resistance changes from the nominal value of 1 kΩ to a low value of 0.5 kΩ, the change in output
voltage is limited to 5% of nominal value; and
The nominal overall voltage gain is 100 V/V.
7.61 An amplifier has an input resistance of 100 kΩ, a short-circuit transconductance of 10 mA/V, and an output
resistance of 100 kΩ. Find the open-circuit voltage gain Avo, and the overall voltage gain Gv when the amplifier is
fed with a voltage source having Rsig = 100 kΩ, and a load resistance RL = 100 kΩ is connected at the output.
∨Show Answer
∨Show Answer
∨Show Answer

7.62 An alternative equivalent circuit of an amplifier fed with a signal source (vsig, Rsig) and connected to a load RL
is shown in Fig. P7.62. Here Gvo is the open-circuit overall voltage gain,
and Rout is the output resistance with vsig set to zero. This is different from Ro. Show that
where 
 .
Figure P7.62
Figure P7.63
Also show that the overall voltage gain is
*7.63 Most practical amplifiers have internal feedback that makes them non-unilateral. In such a case, Rin depends
on RL. To illustrate this point we show in Fig. P7.63 the equivalent circuit of an amplifier where a feedback

(a)
(b)
resistance Rf models the internal feedback mechanism that is present in this amplifier. It is Rf that makes the
amplifier non-unilateral.
Show that
Evaluate Rin, Avo, and Ro for the case R1 = 100 kΩ, Rf = 1 MΩ, gm = 100 mA/V, R2 = 100 Ω, and RL = 1 kΩ.
Which of the amplifier characteristic parameters is most affected by Rf (that is, relative to the case with Rf = ∞)?
For Rsig = 100 kΩ determine the overall voltage gain, Gv, with and without Rf present.
7.64 Calculate the overall voltage gain of a CS amplifier fed with a 1- MΩ source and connected to a 20- kΩ load.
The MOSFET has gm = 2 mA/V, and a drain resistance RD = 20 kΩ is utilized.
7.65 A CS amplifier utilizes a MOSFET with μnCox = 400 µA/V2 and W/L = 10. It is biased at ID = 0.5 mA and
uses RD = 10 kΩ. Find Rin, Avo, and Ro. Also, if a load resistance of 10 kΩ is connected to the output, what overall
voltage gain Gv is realized? Now, if a 0.5-V peak sine-wave signal is required at the output, what must the peak
amplitude of vsig be?
D 7.66 A common-source amplifier uses a MOSFET operated at VOV = 0.2 V. The amplifier feeds a load resistance
RL = 10 kΩ. The designer selects RD = 2RL. If you are required to realize an overall voltage gain Gv of −10 V/V
what gm do you need? Specify the bias current ID. If, to increase the output signal swing, RD is reduced to RD = RL,
what does Gv become?
7.67 Two identical CS amplifiers are connected in cascade. The first stage is fed with a source vsig having a
resistance Rsig = 100 kΩ. A load resistance RL = 10 kΩ is connected to the drain of the second stage. Each
MOSFET is biased at ID = 0.2 mA and operates with VOV = 0.2 V. Each stage utilizes a drain resistance RD = 10
kΩ.
Sketch the equivalent circuit of the two-stage amplifier.
Calculate the overall voltage gain Gv.
7.68 A CE amplifier utilizes a BJT with β = 160 biased at IC = 0.4 mA; it has a collector resistance RC = 10 kΩ.
Find Rin, Ro, and Avo. If the amplifier is fed with a signal source with a resistance of 10 kΩ, and a load resistance
RL = 10 kΩ is connected to the output terminal, find the resulting Av and Gv. If the peak voltage of the sine wave
appearing between base and emitter is to be limited to 5 mV, what 
sig is allowed, and what output voltage signal
appears across the load?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
D *7.69 In this problem we investigate the effect of the inevitable variability of β on the realized gain of the CE
amplifier. For this purpose, use the overall gain expression in Eq. (7.114).
where 
.
Consider the case 
 = 10 kΩ and Rsig = 10 kΩ, and let the BJT be biased at IC = 1 mA. The BJT has a
nominal β of 100.
What is the nominal value of |Gv|?
If β can be anywhere between 50 and 150, what is the corresponding range of |Gv|?
If in a particular design, it is required to maintain |Gv| within ±20% of its nominal value, what is the maximum
allowable range of β?
If it is not possible to restrict β to the range found in (c), and the designer has to contend with β in the range 50
to 150, what value of bias current IC would result in |Gv| falling in a range of ±20% of a new nominal value?
What is the nominal value of |Gv| in this case?
7.70 Two identical CE amplifiers are connected in cascade. The first stage is fed with a source vsig having a
resistance Rsig = 10 kΩ. A load resistance RL = 10 kΩ is connected to the collector of the second stage. Each BJT is
biased at IC = 0.2 mA and has β = 120. Each stage utilizes a collector resistance RC = 10 kΩ.
Sketch the equivalent circuit of the two-stage amplifier.
Find the overall voltage gain, vo2/vsig.
7.71 A MOSFET connected in the CS configuration has a transconductance gm = 5 mA/V. When a resistance Rs is
connected in the source lead, the effective transconductance is reduced to 2.5 mA/V. Estimate the value of Rs.
D 7.72 A CS amplifier using an NMOS transistor with gm = 4 mA/V is found to have an overall voltage gain of
−20 V/V. What value should a resistance Rs inserted in the source lead have to reduce the overall voltage gain to
−10 V/V?
7.73 The overall voltage gain of a CS amplifier with a resistance Rs = 200 Ω in the source lead is measured and
found to be −10 V/V. When Rs is shorted, but the circuit operation remains linear, the gain doubles. What must gm
and RD be? What value of Rs is needed to obtain an overall voltage gain of −16 V/V?
7.74 A CE amplifier uses a BJT with β = 100 biased at IC = 0.5 mA and has a collector resistance RC = 15 kΩ and a
resistance Re =200Ω connected in the emitter. Find Rin, Avo, and Ro. If the amplifier is fed with a signal source
having a resistance of 10 kΩ, and a load resistance RL = 15 kΩ is connected to the output terminal, find the
resulting Av and Gv. If the peak voltage of the sine wave appearing between base and emitter is to be limited to 5
mV, what 
 is allowed, and what output voltage signal appears across the load?
D 7.75 Design a CE amplifier with a resistance Re in the emitter to meet the following specifications:
∨Show Answer
∨Show Answer

(i)
(ii)
Input resistance Rin = 50 kΩ.
When fed from a signal source with a peak amplitude of 0.1 V and a source resistance of 50 kΩ, the peak
amplitude of vπ is 5 mV.
Specify Re and the bias current IC. The BJT has β = 74. If the total resistance in the collector is 10 kΩ, find the
overall voltage gain Gv and the peak amplitude of the output signal vo.
SIM D 7.76 Including an emitter resistance Re reduces the variability of the gain Gv due to the inevitable wide
variance in the value of β. Consider a CE amplifier operating between a signal source with Rsig = 10 kΩ and a total
collector resistance RC || RL of 10 kΩ. The BJT is biased at IC = 1 mA and its β is specified to be nominally 100 but
can lie in the range of 50 to 150. First determine the nominal value and the range of |Gv| without resistance Re.
Then select a value for Re that will ensure that |Gv| be within ±20% of its new nominal value. Specify the value of
Re, the new nominal value of |Gv|, and the expected range of |Gv|.
7.77 A CG amplifier using an NMOS transistor for which gm =5 mA/V has a 5- kΩ drain resistance RD and a 5- kΩ
load resistance RL. The amplifier is driven by a voltage source with a 250-Ω resistance. What is the input resistance
of the amplifier? What is the overall voltage gain Gv ? By what factor must the bias current ID of the MOSFET be
changed so that Rin matches Rsig?
7.78 A CG amplifier when fed with a signal source having Rsig = 100 Ω is found to have an overall voltage gain of
12 V/V. When a 100-Ω resistance is added in series with the signal generator, the overall voltage gain decreases to
10 V/V. What must gm of the MOSFET be? If the MOSFET is biased at ID = 0.25 mA, at what overdrive voltage
must it be operating?
D 7.79 A CB amplifier is operating with RL = 5 kΩ, RC = 5 kΩ, and Rsig = 50 Ω. At what current IC should the
transistor be biased for the input resistance Rin to equal that of the signal source? What is the resulting overall
voltage gain? Assume 
.
7.80 For the circuit in Fig. P7.80, let 
 and 
. Find vo.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
Figure P7.80
7.81 A CB amplifier biased at IE = 0.2 mA with RC = RL = 10 kΩ is driven by a signal source with Rsig = 0.5 kΩ.
Find the overall voltage gain Gv. If the maximum signal amplitude of the voltage between base and emitter is
limited to 10 mV, what are the corresponding amplitudes of vsig and vo? Assume 
7.82 A source follower is required to connect a high-resistance source to a load whose resistance is nominally 2 kΩ
but can be as low as 1.5 kΩ and as high as 5 kΩ. What is the maximum output resistance that the source follower
must have if the output voltage is to remain within ±10% of nominal value? If the MOSFET has kn = 10 mA/V2, at
what current ID must it be biased? At what overdrive voltage is the MOSFET operating?
D 7.83 A source follower is required to deliver a 0.5-V peak sinusoid to a 2- kΩ load. If the peak amplitude of vgs
is to be limited to 50 mV, and the MOSFET transconductance parameter kn is 5 mA/V2, what is the lowest value of
ID at which the MOSFET can be biased? At this bias current, what are the maximum and minimum currents that
the MOSFET will be conducting (at the positive and negative peaks of the output sine wave)? What must the peak
amplitude of vsig be?
D 7.84 An emitter follower is required to deliver a 0.5-V peak sinusoid to a 2- kΩ load. If the peak amplitude of vbe
is to be limited to 5 mV, what is the lowest value of IE at which the BJT can be biased? At this bias current, what
are the maximum and minimum currents that the BJT will be conducting (at the positive and negative peaks of the
output sine wave)? If the resistance of the signal source is 200 kΩ, what value of Gv is obtained? Thus determine
the required amplitude of vsig. Assume β = 100.
7.85 An emitter follower with a BJT biased at IC = 5 mA and having β = 200 is connected between a source with
Rsig = 10 kΩ and a load RL = 200 Ω.
Find Rin, vb/vsig, and vo/vsig.
∨Show Answer
∨Show Answer

(b)
(c)
(a)
(b)
If the signal amplitude across the base–emitter junction is to be limited to 10 mV, what is the corresponding
amplitude of vsig and vo?
Find the open-circuit voltage gain Gvo and the output resistance Rout. Use these values first to verify the value
of Gv obtained in (a), then to find the value of Gv obtained with RL reduced to 150 Ω.
7.86 An emitter follower, when driven from a 10- kΩ source, was found to have an output resistance Rout of 125 Ω.
The output resistance increased to 225 Ω when the source resistance was doubled. Find the overall voltage gain
when the follower is driven by a 10- kΩ source and loaded with a 1- kΩ resistor.
7.87 For the Darlington follower in Fig. 7.48(b) let Q2 be biased at a collector current of 10 mA and let β1 = β2 =
100. If Rsig =1 MΩ and RL = 1 kΩ, find Gvo, Rout, and Gv.
7.88 For the general amplifier circuit shown in Fig. P7.88 neglect the Early effect.
Find expressions for vc/vsig and ve/vsig.
If vsig is disconnected from node X, node X is grounded, and node Y is disconnected from ground and
connected to vsig, find the new expression for vc/vsig.
7.89 When the Early effect is neglected, the overall voltage gain of a CE amplifier with a collector resistance RC =
10 kΩ is calculated to be −100 V/V. If the BJT is biased at IC = 1 mA and the Early voltage is 125 V, provide a
better estimate of the voltage gain Gv.
Figure P7.88
7.90 Show that when ro is taken into account, the voltage gain of the source follower becomes
∨Show Answer
∨Show Answer

Now, with RL removed, the voltage gain is carefully measured and found to be 0.98. Then, when RL is connected
and its value is varied, it is found that the gain is halved at RL = 500 Ω. If the amplifier remained linear throughout
this measurement, what must the values of gm and ro be?
D *7.91 In this problem, we investigate the effect of changing the bias current IC on the overall voltage gain Gv of
a CE amplifier. Consider a CE amplifier operating with a signal source Rsig = 10 kΩ and with RC||RL = 10 kΩ. The
BJT is specified to have β = 100 and VA = 25 V. Use Eq. (7.114) (with ro included in parallel with RC and RL in the
numerator) to find |Gv| at IC = 0.1 mA, 0.2 mA, 0.5 mA, 1.0 mA, and 1.25 mA. Observe the effect of ro on limiting
|Gv| as IC is increased. Find the value of IC that results in |Gv| = 50 V/V.
Section 7.4: Biasing
D 7.92 Consider the classical biasing scheme shown in Fig. 7.50(c), using a 9-V supply. For the
MOSFET, Vt = 0.7 V, λ = 0, and kn = 5mA/V2. Arrange that the drain current is 0.2 mA, with about one-
third of the supply voltage across each of RS and RD. Use 22 MΩ for the larger of RG1 and RG2. What
are the values of RG1, RG2, RS, and RD that you have chosen? Specify them to two significant digits. For
your design, how far is the drain voltage from the edge of saturation?
D 7.93 Using the circuit topology displayed in Fig. 7.50(e), arrange to bias the NMOS transistor at ID = 0.2 mA
with VD midway between cutoff and the beginning of triode operation. The available supplies are ±5 V. For the
NMOS transistor, Vt = 0.7 V, λ = 0, and kn = 5 mA/V2. Use a gate-bias resistor of 10 MΩ. Specify RS and RD to
two significant digits.
D *7.94 In an electronic instrument using the biasing scheme shown in Fig. 7.50(c), a manufacturing error reduces
RS to zero. Let VDD = 15 V, RG1 = 10 MΩ, and RG2 =5.1 MΩ. What is the value of VG created? If supplier
specifications allow kn to vary from 0.2 to 0.3 mA/V2 and Vt to vary from 1.0 V to 1.5 V, what are the extreme
values of ID that may result? What value of RS should have been installed to limit the maximum value of ID to 1.5
mA? Choose an appropriate standard 5% resistor value (refer to Appendix J). What extreme values of current now
result?
7.95 An NMOS transistor is connected in the bias circuit of Fig. 7.50(c), with VG = 4V and RS = 15 kΩ. The
transistor has Vt = 0.7 V and kn = 5 mA/V2. What bias current results? If a transistor for which kn is 50% higher is
used, what is the resulting percentage increase in ID?
SIM 7.96 The bias circuit of Fig. 7.50(c) is used in a design with VG = 5 V and RS = 2 kΩ. For a MOSFET with kn
= 2 mA/V2, the source voltage is 2 V. What must Vt be for this device? In a device for which Vt is 0.5 V less, what
does VS become? What bias current results?
D 7.97 Design the circuit of Fig. 7.50(e) for a MOSFET having Vt = 0.6 V and kn = 5 mA/V2. Let VDD = VSS = 3 V.
Design for a dc bias current of 0.4 mA and for the largest possible voltage gain (and thus the largest possible RD)
consistent with allowing a 1.2-V peak-to-peak voltage swing at the drain. Assume that the signal voltage on the
source terminal of the FET is zero.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(a)
D 7.98 Design the circuit in Fig. P7.98 so that the transistor operates in saturation with VD biased 1 V from the
edge of the triode region, with ID = 1 mA and VD = 3 V, for each of the following two devices (use a 10-µA current
in the voltage divider):
|Vt| = 1 V and 
 W/L = 0.5 mA/V2
|Vt| = 2 V and 
 W/L = 1.25 mA/V2
Figure P7.98
For each case, specify the values of VG, VD, VS, R1, R2, RS, and RD.
D **7.99 A very useful way to characterize the stability of the bias current ID is to evaluate the sensitivity of ID
relative to a particular transistor parameter whose variability might be large. The sensitivity of ID relative to the
MOSFET parameter 
 (W/L) is defined as
and its value, when multiplied by the variability (or tolerance) of K, provides the corresponding expected variability
of ID,
The purpose of this problem is to investigate the use of the sensitivity function in the design of the bias circuit of
Fig. 7.50(e).
Show that when Vt is constant,
∨Show Answer

(b)
(c)
(a)
(b)
(a)
(b)
For a MOSFET having K = 100 µA/V2 with a variability of ±10% and Vt = 1 V, find the value of RS that
would result in ID = 100 µA with a variability of ±1%. Also, find VGS and the required value of VSS.
Using the same MOSFET as in (a), if the available supply VSS = 5 V, find the value of RS for ID = 100 µA.
Evaluate the sensitivity function, and give the expected variability of ID in this case.
D *7.100 The variability (∆ID/ID) in the bias current ID due to the variability (∆Vt/Vt) in the threshold voltage Vt
can be evaluated from
where 
, the sensitivity of ID relative to Vt, is defined as
For a MOSFET biased with a fixed VGS, show that
and find the variability in ID for Vt = 0.5 V and ∆Vt/Vt = ±5%. Let the MOSFET be biased at VOV = 0.25 V.
For a MOSFET biased with a fixed gate voltage VG and a resistance RS included in the source lead, show that
For the same parameters given in (a), find the required value of (IDRS) and VG to limit ∆ID/ID to ±5%. What value
of RS is needed if ID is 100 µA?
SIM 7.101 In the circuit of Fig. 7.52, let RG = 10 MΩ, RD = 5 kΩ, and VDD = 5 V. For each of the following two
transistors, find the voltages VD and VG.
Vt = 0.7 V and kn = 5 mA/V2
Vt = 1.5 V and kn = 10 mA/V2
D 7.102 Using the feedback bias arrangement shown in Fig. 7.52 with a 3-V supply and an NMOS device for
which Vt = 0.75 V and kn = 3.2 mA/V2, find RD to establish a drain current of 0.2 mA.
∨Show Answer
∨Show Answer

D 7.103 Figure P7.103 shows a variation of the feedback-bias circuit of Fig. 7.52. Using a 3-V supply with an
NMOS transistor for which Vt = 0.8 V, kn = 4 mA/V2, and λ = 0, provide a design that biases the transistor at ID =
0.5 mA, with VDS large enough to allow saturation operation for a 1-V negative signal swing at the drain. Use 13
MΩ as the largest resistor in the feedback-bias network. What values of RD, RG1, and RG2 have you chosen?
Figure P7.103
D 7.104 For the circuit in Fig. 7.53(a), neglect the base current IB in comparison with the current in the voltage
divider. It is required to bias the transistor at IC = 1 mA, which requires selecting RB1 and RB2 so that VBE = 0.710
V. If VCC =3 V, what must the ratio RB1/RB2 be? Now, if RB1 and RB2 are 1% resistors, that is, each can be in the
range of 0.99 to 1.01 of its nominal value, what is the range obtained for VBE? What is the corresponding range of
IC? If RC =2 kΩ, what is the range obtained for VCE? Comment on the efficacy of this biasing arrangement.
D 7.105 It is required to bias the transistor in the circuit of Fig. 7.53(b) at IC =1 mA. The transistor β is specified to
be nominally 100, but it can fall in the range of 50 to 150. For VCC = +3 V and RC = 2 kΩ, find the required value
of RB to achieve IC =1 mA for the “nominal” transistor. What is the expected range for IC and VCE? Comment on
the efficacy of this bias design.
D 7.106 Consider the single-supply bias network in Fig. 7.54(a). Provide a design using a 9-V supply in which the
supply voltage is equally split between RC, VCE, and RE with a collector current of 0.5 mA. The transistor β is
specified to have a minimum value of 80. Use a voltage-divider current of IE/10, or slightly higher. Since a
reasonable design should operate for the best transistors for which β is very high, do your initial design with β = ∞.
Then choose the 5% resistors (see Appendix J) required to produce a VBB that is slightly higher than the ideal
value. Specify the values you have chosen for RE, RC, R1, and R2. Now, find VB, VE, VC, and IC for your final
design using β =80.
D 7.107 This problem investigates an alternative solution to the design problem specified in Problem 7.106. You
are required to design the bias circuit in Fig. 7.54(a) for the case VCC = 9 V. Design for the supply voltage equally
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
split between RC, VCE, and RE with a collector current of IC = 0.5 mA. Your design should be based on a minimum
value of 80 for the transistor β. Use a current in R1 equal to IC/10. Begin your design by finding RE = VE/IE and
then find RC, R1, and R2. Choose suitable 5% resistors (see Appendix J). Specify the values you have chosen for
RE, RC, R1, and R2, and find IE, IC, VB, and VC.
D *7.108 You are required to design the bias circuit of Fig. 7.54(a) for a BJT whose nominal β =100.
Find the largest ratio (RB/RE) that will guarantee IE remains within ±5% of its nominal value for β as low as
50 and as high as 150.
If the resistance ratio found in (a) is used, find an expression for the voltage VBB ≡ VCCR2/(R1 + R2) that will
result in a voltage drop of VCC/3 across RE.
For VCC =5 V, find the required values of R1, R2, and RE to obtain IE =0.5 mA and to satisfy the requirement
for stability of IE in (a).
Find RC so that VCE =1.0 V for β equal to its nominal value.
Check your design by evaluating the resulting range of IE.
D 7.109 Design the circuit in Fig. 7.55 using ±1.5-V supplies, IC =0.2 mA, and VC placed 1 V above VE.
Thetransistor to be used has a minimum β of 50. Design for the device with the lowest β and use the largest value
for RB consistent with limiting the voltage drop across it to approximately one-tenth the voltage drop across RE.
Use standard 5% resistors (see Appendix J). Evaluate your design by calculating IC, VE, VB, and VC for the two
cases: β = ∞ and β = 50.
D *7.110 Using ±3-V power supplies, design a version of the circuit in Fig. 7.55 in which the signal will be
coupled to the emitter and thus RB can be set to zero. Find values for RE and RC so that a dc emitter current of 0.2
mA is obtained and so that the gain is maximized while allowing ±1 V of signal swing at the collector. Assume β =
50. If temperature increases from the nominal value of 25°C to 125°C, estimate the percentage change in collector
bias current. In addition to the –2 mV/°C change in VBE, assume that the transistor β changes over this temperature
range from 50 to 150.
SIM D 7.111 Using a 3-V power supply, design a version of the circuit of Fig. 7.56 to provide a dc emitter current
of 0.5 mA and to allow a ±1-V signal swing at the collector. The BJT has a nominal β =100. Use standard 5%
resistor values (see Appendix J). If the actual BJT used has β =50, what emitter current is obtained? Also, what is
the allowable signal swing at the collector? Repeat for β =150.
D *7.112 (a) Using a 3-V power supply, design the feedback bias circuit of Fig. 7.56 to provide IC =1 mA and VC =
VCC/2 for β = 100.
(b) Select standard 5% resistor values, and reevaluate VC and IC for β =100.
(c) Find VC and IC for β = ∞.
(d) To improve the situation that occurs when high-β transistors are used, we have to arrange for an additional
current to flow through RB. We can do this by connecting a resistor between base and emitter, as shown in Fig.
P7.112.
∨Show Answer
∨Show Answer
∨Show Answer

Design this circuit for β = 100. Use a current through RB2 equal to the base current. Now, what values of VC and IC
result with β = ∞?
Figure P7.112
Figure P7.113
D 7.113 A circuit that can provide a very large voltage gain for a high-resistance load is shown in Fig. P7.113. Find
the values of I and RB to bias the BJT at IC = 0.5 mA and VC = 1.5 V. Let β = 100.
7.114 The circuit in Fig. P7.114 provides a constant current IO as long as the circuit to which the collector is
connected maintains the BJT in the active mode. Show that
∨Show Answer

Figure P7.114
D *7.115 For the circuit in Fig. P7.115, assuming all transistors to be identical with β infinite, derive an expression
for the output current IO, and show that by selecting R1 = R2 and keeping the currents in all junctions equal, the
current IO will be
which is independent of VBE. What must the relationship of RE to R1 and R2 be? For VCC = 10 V and VBE = 0.7 V,
design the circuit to obtain an output current of 0.5 mA. What is the lowest voltage that can be applied to the
collector of Q3?

Figure P7.115
D 7.116 For the circuit in Fig. P7.116 find the value of R that will result in 
. What is the largest
voltage that can be applied to the collector? Assume |VBE| = 0.7 V.
Figure P7.116
Section 7.5: Discrete-Circuit Amplifiers
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
7.117 Calculate the overall voltage gain Gv of a common-source amplifier for which gm = 5 mA/V, ro = 50 kΩ, RD
= 10 kΩ, and RG1||RG2 = 10 MΩ. The amplifier is fed from a signal source with a Thévenin resistance of 1 MΩ,
and the amplifier output is coupled to a load resistance of 20 kΩ
SIM 7.118 The NMOS transistor in the CS amplifier shown in Fig. 7.57(a) has Vt = 0.75 V and VA = 50 V. Also,
VDD = 5 V, RG1 = 750 kΩ, RG2 = 500 kΩ, RD = 10 kΩ, RS = 4 kΩ, Rsig = 100 kΩ, and RL = 10 kΩ.
Neglecting the Early effect, verify that the MOSFET is operating in saturation with ID = 0.25 mA and VOV =
0.25 V. What must the MOSFET’s kn be? What is the dc voltage at the drain?
Find Rin and Gv.
If vsig is a sinusoid with a peak amplitude 
sig, find the maximum allowable value of 
sig for which the
transistor remains in saturation. What is the corresponding amplitude of the output voltage?
What is the value of resistance R that needs to be inserted in series with capacitor CS in order to allow us to
double the input signal sig ? What output voltage now results?
SIM D *7.119 The PMOS transistor in the CS amplifier of Fig. P7.119 has Vtp = −0.75 V and a very large |VA|.
Select a value for RS to bias the transistor at ID = 0.5 mA and |VOV| = 0.25 V. Assume vsig to have
a zero dc component.
Select a value for RD that results in Gv = −12 V/V.
Find the largest sinusoid 
sig that the amplifier can handle while remaining in the saturation
region. What is the corresponding signal at the output?
If, to obtain reasonably linear operation, sig is limited to 50 mV, what value can RD be increased
to while maintaining saturation-region operation? What is the new value of Gv?
Figure P7.119
∨Show Answer

(a)
(b)
(c)
(d)
(e)
7.120 Figure P7.120 shows a scheme for coupling and amplifying a high-frequency pulse signal. The circuit uses
two MOSFETs whose bias details are not shown and a 50-Ωcoaxial cable. Transistor Q1 operates as a CS amplifier
and Q2 as a CG amplifier. For proper operation, transistor Q2 is required to present a 50-Ω resistance to the cable.
This situation is known as “proper termination” of the cable and ensures that there will be no signal reflection
coming back on the cable. When the cable is properly terminated, its input resistance is 50 Ω. What must gm2 be? If
Q1 is biased at the same point as Q2, what is the amplitude of the current pulses in the drain of Q1? What is the
amplitude of the voltage pulses at the drain of Q1? What value of RD is required to provide 1-V pulses at the drain
of Q2?
D *7.121 The MOSFET in the circuit of Fig. P7.121 has Vt = 0.8 V, kn = 5 mA/V2, and VA = 40 V.
Find the values of RS, RD, and RG so that ID = 0.4 mA, the largest possible value for RD is used while a
maximum signal swing at the drain of ±0.8 V is possible, and the input resistance at the gate is 10 MΩ.
Neglect the Early effect.
Figure P7.120
Find the values of gm and ro at the bias point.
If terminal Z is grounded, terminal X is connected to a signal source with a resistance of 1 MΩ, and terminal
Y is connected to a load resistance of 10 kΩ, find the voltage gain from signal source to load.
If terminal Y is grounded, find the voltage gain from X to Z with Z open-circuited. What is the output
resistance of the source follower?
If terminal X is grounded and terminal Z is connected to a current source delivering a signal current of 50
µAand having a resistance of 100 kΩ, find the voltage signal that can be measured at Y. For simplicity, neglect
the effect of ro.
∨Show Answer

(b)
(c)
Figure P7.121
*7.122 (a) The NMOS transistor in the source-follower circuit of Fig. P7.122(a) has gm = 5 mA/V and a large ro.
Find the open-circuit voltage gain and the output resistance.
The NMOS transistor in the common-gate amplifier of Fig. P7.122(b) has gm = 5 mA/V and a large ro. Find
the input resistance and the voltage gain.
If the output of the source follower in (a) is connected to the input of the common-gate amplifier in (b), use the
results of (a) and (b) to obtain the overall voltage gain vo/vi.
∨Show Answer

(a)
(b)
(c)
Figure P7.122
D *7.123 The MOSFET in the amplifier circuit of Fig. P7.123 has Vt = 0.6 V, kn = 5 mA/V2, and VA = 60 V. The
signal vsig has a zero average.
It is required to bias the transistor to operate at an overdrive voltage VOV = 0.2 V. What must the dc voltage at
the drain be? Calculate the dc drain current ID taking into account VA. Now, what value must the drain
resistance RD have?
Calculate the values of gm and ro at the bias point established in (a).
Using the small-signal equivalent circuit of the amplifier, show that the voltage gain is given by
and find the value of the gain.

(a)
(b)
(c)
Figure P7.123
P.S. This feedback amplifier and the gain expression should remind you of an op amp utilized in the inverting
configuration. We will study feedback formally in Chapter 11.
D *7.124 The MOSFET in the amplifier circuit of Fig. P7.124 has Vt = 0.6 V and kn = 5 mA/V2. We will assume
that VA is sufficiently large so that we can ignore the Early effect. The input signal vsig has a zero average.
It is required to bias the transistor to operate at an overdrive voltage VOV = 0.2 V. What must the dc voltage at
the drain be? Calculate the dc drain current ID. What value must RD have?
Calculate the value of gm at the bias point.
Use the small-signal equivalent circuit of the amplifier to show that
and
where
(d) Evaluate vo/vsig and Rin.

(a)
(b)
(c)
Figure P7.124
P.S. This feedback amplifier circuit and the gain formula should remind you of an op amp connected in the
noninverting configuration. We will study feedback formally in Chapter 11.
7.125 For the common-emitter amplifier in Fig. 7.58(a), let VCC = 9 V, RB1 = 120 kΩ, RB2 = 62 kΩ, RE = 4.7 kΩ,
and RC = 10 kΩ. The transistor has β =100. Calculate the dc bias current IC. If the amplifier operates between a
source for which Rsig = 5 kΩ and a load of 5 kΩ, replace the transistor with its hybrid-π model, and find the values
of Rin, and the overall voltage gain vo/vsig.
D 7.126 Using the topology of Fig. 7.58(a), design an amplifier to operate between a 2- kΩ source and a 2- kΩ load
with a gain vo/vsig of – 40 V/V. The power supply available is 15 V. Use an emitter current of approximately 2 mA
and a current of about one-tenth of that in the voltage divider that feeds the base, with the dc voltage at the base
about one-third of the supply. The transistor available has β =100. Use standard 5% resistors (see Appendix J).
D 7.127 A designer, having examined the situation described in Problem 7.125 and estimating the available gain to
be approximately –30 V/V, wants to explore the possibility of improvement by reducing the loading of the source
by the amplifier input. As an experiment, the designer varies the resistance levels by a factor of approximately 3:
RB1 to 360 kΩ, RB2 to 180 kΩ, RE to 15 kΩ, and RC to 30 kΩ (standard values of 5%-tolerance resistors). With
VCC = 9 V, Rsig = 5 kΩ, RL = 5 kΩ, and β =100, what does the gain become? Comment.
D *7.128 The CE amplifier circuit of Fig. P7.128 is biased with a constant-current source I. It is required to design
the circuit (i.e., find values for I, RB, and RC) to meet the following specifications:
Rin 
 10 kΩ.
The dc voltage drop across RB is approximately 0.2 V.
The open-circuit voltage gain from base to collector is the maximum possible, consistent with the requirement
that the collector voltage never fall by more than approximately 0.4 V below the base voltage with the signal
between base and emitter being as high as 5 mV.
∨Show Answer

(a)
(b)
(c)
Assume that vsig is a sinusoidal source, the available supply VCC = 5 V, and the transistor has β =100. Use standard
5% resistance values, and specify the value of I to one significant digit. What base-to-collector open-circuit voltage
gain does your design provide? If Rsig = RL = 20 kΩ, what is the overall voltage gain?
Figure P7.128
D 7.129 In the circuit of Fig. P7.129, vsig is a small sine-wave signal with zero average. The transistor β
is 100.
 
Find the value of RE to establish a dc emitter current of about 0.2 mA.
Find RC to establish a dc collector voltage of about +0.5 V.
For RL = 10 kΩ, draw the small-signal equivalent circuit of the amplifier and determine its overall voltage
gain.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
Figure P7.129
*7.130 The amplifier of Fig. P7.130 consists of two identical common-emitter amplifiers connected in cascade.
Observe that the input resistance of the second stage, Rin2, constitutes the load resistance of the first stage.
For VCC = 15 V, R1 = 100 kΩ, R2 = 47 kΩ, RE = 3.9 kΩ, RC = 6.8 kΩ, and β =100, determine the dc collector
current and dc collector voltage of each transistor.
Draw the small-signal equivalent circuit of the entire amplifier and give the values of all its components.
Find Rin1 and vb1/vsig for Rsig = 5 kΩ.
Find Rin2 and vb2/vb1.
For RL =2 kΩ, find vo/vb2.
Find the overall voltage gain vo/vsig.
∨Show Answer

(a)
(b)
Figure P7.130
7.131 In the circuit of Fig. P7.131, the BJT is biased with a constant-current source, and vsig is a small
sine-wave signal. Find Rin and the gain vo/vsig. Assume β = 100. If the amplitude of the signal vbe is to
be limited to 5 mV, what is the largest signal at the input? What is the corresponding signal at the
output?
Figure P7.131
7.132 The BJT in the circuit of Fig. P7.132 has β = 100.
Find the dc collector current and the dc voltage at the collector.
Replacing the transistor with its T model, draw the small-signal equivalent circuit of the amplifier. Analyze the
resulting circuit to determine the voltage gain vo/vi.
∨Show Answer

Figure P7.132
D 7.133 For the circuit in Fig. P7.133, find the value of the bias current I that results in Rin = Rsig. Also, find the
voltage gain vo/vsig. Assume that the source provides a small signal vsig and that β =100.
Figure P7.133
7.134 For the emitter-follower circuit shown in Fig. P7.134, the BJT used is specified to have β values in the range
of 80 to 180 (a distressing situation for the circuit designer).

(a)
(b)
(c)
(a)
Figure P7.134
For the two extreme values of β (β =80 and β =180), find:
IE, VE, and VB
the input resistance Rin
the voltage gain vo/vsig
7.135 For the emitter follower in Fig. P7.135, the signal source is directly coupled to the transistor base. If the dc
component of vsig is zero, find the dc emitter current. Assume β =100. Neglecting ro, find Rin, the voltage gain
vo/vsig, the current gain io/ii, and the output resistance Rout.
Figure P7.135
**7.136 For the circuit in Fig. P7.136, called a boot-strapped follower:
Find the dc emitter current and gm, re, and rπ. Use β = 100.
∨Show Answer

(b)
(c)
(a)
(b)
(c)
(d)
(e)
Replace the BJT with its T model (neglecting ro), and analyze the circuit to determine the input resistance Rin
and the voltage gain vo/vsig.
Repeat (b) for the case when capacitor CB is open-circuited. Compare the results with those obtained in (b) to
find the advantages of bootstrapping.
Figure P7.136
*7.137 For the follower circuit in Fig. P7.137, let transistor Q1 have β =50 and transistor Q2 have β =100, and
neglect the effect of ro. Use VBE = 0.7 V.
Find the dc emitter currents of Q1 and Q2. Also, find the dc voltages VB1 and VB2.
If a load resistance RL =1 kΩ is connected to the output terminal, find the voltage gain from the
base to the emitter of Q2, vo/vb2, and find the input resistance Rib2 looking into the base of Q2.
(Hint: Consider Q2 as an emitter follower fed by a voltage vb2 at its base.)
Replacing Q2 with its input resistance Rib2 found in (b), analyze the circuit of emitter follower Q1
to determine its input resistance Rin and the gain from its base to its emitter, ve1/vb1.
If the circuit is fed with a source having a 100- kΩ resistance, find the transmission to the base of
Q1, vb1/vsig.
Find the overall voltage gain vo/vsig.
∨Show Answer

Figure P7.137
D 7.138 A CE amplifier has a midband voltage gain of 
 = 100 V/V, a lower 3-dB frequency fL = 100 Hz, and a
higher 3-dB frequency fH = 500 kHz. In Chapter 10 we will learn that connecting a resistance Re in the emitter of
the BJT results in lowering fL and raising fH by the factor (1 + gmRe). If the BJT is biased at IC = 1 mA, find Re that
will result in fH at least equal to 2 MHz. What will the new values of fL and AM be?
∨Show Answer

I
PART II
Analog Integrated Circuits
CHAPTER 8
Building Blocks of Integrated-Circuit Amplifiers
CHAPTER 9
Differential and Multistage Amplifiers
CHAPTER 10
Frequency Response
CHAPTER 11
Feedback
CHAPTER 12
Output Stages and Power Amplifiers
CHAPTER 13
Operational-Amplifier Circuits
CHAPTER 14
Filters
CHAPTER 15
Oscillators
n Part I, we studied the MOSFET and the BJT and became familiar with their basic circuit applications. In particular,
we learned how to design and analyze discrete-circuit transistor amplifiers. These amplifier circuits are assembled
from discrete transistors, resistors, and capacitors on printed-circuit boards. This technology for fabricating electronic
circuits and systems is economical only for low-volume production. Circuits and systems that are to be produced in high
volumes (that is, millions of units) can be produced much more economically and reliably using integrated-circuit (IC)
technology. Part II is devoted to the design and analysis of analog integrated circuits, while digital integrated circuits are
the subject of Part III.
Integrated circuits (ICs) are expensive to produce in low volumes, and it can be costly to make the first unit due to
the need for expensive fabrication masks (see Appendix A). ICs are also more difficult to debug and repair than are
discrete circuits. However, once the masks are made, it is very economical to make millions of a particular IC. Also, the
resulting circuits and systems are much smaller, and very complex electronic systems can be reliably made with

integrated circuits. Because the lengths of the wires on an IC are so much smaller, speed and bandwidth are often
increased and power is reduced.
The eight chapters of Part II constitute a coherent treatment of analog integrated circuits and can thus serve as a
second course in electronic circuits. While the first six chapters (8–13) focus on the design and analysis of amplifiers, the
last two chapters (14 and 15) deal with two other important analog functional blocks: filters and oscillators.
Throughout Part II, MOSFET and BJT circuits are treated side by side. Because over 90% of ICs today employ the
MOSFET, its circuits are presented first. Nevertheless, BJT circuits are presented with equal depth, although sometimes
somewhat more briefly. In this regard, we draw the reader’s attention to Appendix G (on the website), which presents a
valuable compilation of the properties of transistors of both types, allowing interesting comparisons to be made. In
particular, refer to Table G.3, which is included also in the Summary Tables section on the website. As well, typical
device parameter values are provided in Appendix K for a number of CMOS and bipolar fabrication technologies.

8.1
8.2
8.3
8.4
8.5
8.6
8.7
•
•
•
•
•
•
•
•
CHAPTER 8
Building Blocks of Integrated-
Circuit Amplifiers
Introduction
IC Design Philosophy
IC Biasing: Current Sources and Current Mirrors
The Basic Gain Cell
The Common-Gate and Common-Base Amplifiers as Current Buffers
The Cascode Amplifier
The IC Source Follower
Current-Mirror Circuits with Improved Performance
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The basic integrated-circuit (IC) design philosophy and how it differs from that for discrete-circuit
design.
How current sources are used to bias IC amplifiers, and how current mirrors are used to replicate the
reference current generated in one location at other locations on the IC chip.
The basic gain cells of IC amplifiers, namely, the CS and CE amplifiers with current-source loads.
How the CG and CB amplifiers act as current buffers.
How to increase the gain of the basic gain cell through the principle of cascoding.
Analysis and design of the cascode amplifier and the cascode current source in both their MOS and
bipolar forms.
How the IC source follower differs from the discrete version.
Some ingenious analog circuit-design techniques that result in current mirrors with vastly improved
characteristics.

Introduction
Having studied the two major transistor types, the MOSFET and the BJT, and their basic discrete-circuit
amplifier configurations, we are now ready to begin the study of integrated-circuit (IC) amplifiers. This
chapter is devoted to the design of the basic building blocks of IC amplifiers.
We begin with a brief section on the design philosophy of integrated circuits and how it differs from that
of discrete circuits. This is followed by the study of IC biasing in Section 8.2, highlighting the design of
current sources and current mirrors. The current mirror is one of the most important building blocks of
analog integrated circuits. More advanced mirror circuits are presented in Section 8.7.
The heart of this chapter is the material in Sections 8.3 to 8.5. In Section 8.3 we present the basic gain
cell of IC amplifiers, namely, the current-source-loaded common-source (common-emitter) amplifier. Then,
in exploring how to increase its gain, we discover the need for current buffers. In Section 8.4, we study the
two amplifier configurations capable of implementing a current buffer, the common-gate and common-base
amplifiers. This study differs from that in Chapter 7 in that ro of the transistor is included, as must always be
the case in integrated circuits. The study of the CG and CB leads naturally and seamlessly to the principle of
cascoding and its applications in amplifier design. The cascode amplifier combines a CS (CE) gain cell with
a CG (CB) current buffer to obtain higher gain and other desirable characteristics.
Throughout this chapter, MOS and bipolar circuits are presented side by side, which allows a certain
economy in presentation and, more important, provides an opportunity to compare and contrast the two
circuit types.

1.
2.
3.
4.
5.
6.
7.
8.1 IC Design Philosophy
Integrated-circuit fabrication technology (Appendix A) imposes constraints on and provides opportunities to
the circuit designer. To cope with the constraints and take advantage of the opportunities, IC designers have
over the years invented (and continue to invent) many ingenious techniques, and a distinct philosophy has
emerged for the design of integrated circuits. In the following we provide a brief summary of the important
constraints and opportunities and the major features of the IC design philosophy:
In IC design, chip area is at a premium, and good designs are those that are economical in their use of
“silicon real estate.” This area constraint dictates the use of transistors in preference to resistors.
Transistors on an IC can be made small and cheap. Thus, while the designer of discrete circuits aims to
minimize the number of transistors, this is not the case in IC design.
Unlike the designer of discrete circuits, who is limited to available off-the-shelf transistors, the IC
designer has the freedom to specify the transistor dimensions. As well, IC technology allows the
fabrication of arrays of transistors having dimensions of specified ratios capable of being realized with
great precision. For instance, the designer can implement an array of bipolar transistors whose emitter-
base-junction areas have binary weighted ratios. CMOS technology provides even more flexibility,
with the W and L values of MOS transistors selected to fit a very wide range of device requirements.
Resistors, especially those with large values, occupy large silicon areas and should generally be
avoided. Instead, constant-current sources implemented with transistors are used in applications such
as biasing, or in place of the load resistance of a transistor amplifier.
Although small-valued resistors can be fabricated on an IC chip, their absolute values cannot
economically be made precise. Rather, arrays of such resistors can be made to have relatively precise
ratios.
Chip-area considerations also make it impossible to fabricate large-valued capacitors such as those
used for signal coupling and bypass in discrete-circuit amplifiers. As a result, IC amplifiers are all
direct coupled and use clever techniques to establish signal grounds, as we will see later in this chapter
and the next.
Small-size capacitors, such as those in the picofarad and fraction-of-a picofarad range, are easy to
fabricate in IC MOS technology, with very precise ratios. Capacitors of this kind can be combined
with MOS amplifiers and MOS switches to implement a wide variety of signal-processing functions,
such as filters (Section 14.8).
To pack a large number of devices on the same IC chip, thereby reducing system size and cost while
improving reliability, the trend has been to reduce the device dimensions. (For a discussion of Moore’s
law and device scaling, see Section 5.4.) As of 2019, CMOS process technologies are capable of
producing transistors with less than 10-nm channel length. To avoid breaking down the thin oxide
layers (less than 1 nm used in these devices), power supplies are limited to 1 V or so. Low power-
supply voltages help with another major design challenge: keeping the power dissipated in the chip
within acceptable limits. However, the use of such low dc power-supply voltages presents the circuit
designer with a host of challenges. For instance, MOS transistors must be operated with overdrive
voltages of 0.1 V to 0.2 V. In our study of MOS amplifier design, we will frequently comment on such
issues.

8. Currently, the vast majority of analog integrated circuits are designed using CMOS technology.
However, BJTs are still used in special analog applications, such as high-quality general-purpose op-
amp packages.
SOLID CIRCUITS WITH “FLYING WIRES”
∨

(8.1)
(8.2)
8.2 IC Biasing: Current Sources and Current Mirrors
Biasing in integrated-circuit design is based on the use of constant-current sources. On an IC chip with a
number of amplifier stages, a constant dc current (called a reference current) is generated at one location
and is then replicated at various other locations for biasing the various amplifier stages through a process
known as current steering. This approach has the advantage that the effort expended on generating a
predictable and stable reference current, usually utilizing a precision resistor external to the chip or a special
circuit on the chip, need not be repeated for every amplifier stage. Furthermore, the bias currents of the
various stages track each other in case of changes in power-supply voltage or in temperature.
In this section, we study circuit building blocks and techniques used in the bias design of IC amplifiers.
These current-source circuits are also used as amplifier load elements, as we will see in Sections 8.3 and 8.4.
8.2.1 The Basic MOSFET Current Source
Figure 8.1 shows the circuit of a simple MOS constant-current source. The heart of the circuit is transistor
Q1, the drain of which is shorted to its gate,1 thereby forcing it to operate in the saturation mode with
Figure 8.1 Circuit for a basic MOSFET constant-current source. For proper operation, the output terminal, that is, the
drain of Q2, must be connected to a circuit that ensures that Q2 operates in saturation.
where we have neglected channel-length modulation. The drain current of Q1 is supplied by VDD through
resistor R, which in most cases would be outside the IC chip. Since the gate currents are zero,

(8.3)
(8.4)
where the current through R is considered the reference current of the current source and is denoted IREF.
Equations (8.1) and (8.2) can be used together to determine the value required for R to generate a given IREF.
Now consider transistor Q2: It has the same VGS as Q1; thus, if we assume that it is operating in
saturation, its drain current, which is the output current IO of the current source, will be
where we have neglected channel-length modulation. Equations (8.1) and (8.3) enable us to relate the output
current IO to the reference current IREF as follows:
This is a simple and attractive relationship: The special connection of Q1 and Q2 provides an output current
IO that is related to the reference current IREF by the aspect ratios of the transistors. In other words, the
relationship between IO and IREF is solely determined by the geometries of the transistors. In the special case
of identical transistors, IO = IREF, the circuit simply replicates or mirrors the reference current in the output
terminal. For this reason, the circuit composed of Q1 and Q2 is called a current mirror. Note that the term is
used regardless of the ratio of device dimensions.
8.2.2 The MOS Current Mirror
Figure 8.2 depicts the current-mirror circuit with the input reference current shown as being supplied by a
current source for both simplicity and generality. The current gain or current transfer ratio of the current
mirror is given by Eq. (8.4).
Figure 8.2 Basic MOSFET current mirror.

(8.5)
(8.6)
(8.7)
(8.8)
(8.9)
(8.10)
We next consider the effect of VO on IO. In the description above for the operation of the current source
of Fig. 8.1, we assumed Q2 to be operating in saturation. This is essential if Q2 is to supply a constant-
current output. To ensure that Q2 is saturated, the circuit to which the drain of Q2 is to be connected must
establish a drain voltage VO that satisfies the relationship
or, equivalently, in terms of the overdrive voltage VOV of Q1 and Q2,
In other words, the current source and the current mirror will operate properly with an output voltage VO as
low as VOV, which is a few tenths of a volt.
The minimum voltage VCSmin required across a current source or a current mirror for its proper operation
is an important characteristic parameter of the current source and the current mirror. Given that for modern
CMOS technology, VDD has become as low as one volt or so, it is imperative that VCSmin be as small as
possible. For the current source in Fig. 8.1 and the current mirror in Fig. 8.2, VCSmin is equal to VOV of Q1
and Q2.
Although thus far neglected, channel-length modulation can have a significant effect on the operation of
the current mirror. For the mirror in Fig. 8.2, we see that the output current will be at its nominal value of
at the value of VO that makes Q1 and Q2 have the same VDS; that is, VO = VGS. As VO deviates from this
value, IO will deviate from the nominal value by ∆IO,
where ro2 is the output resistance of Q2,
and where VA2 is the Early voltage of Q2. Equations (8.7), (8.8), and (8.9) can be used to find IO at an
arbitrary VO (that is greater than VOV) as

D8.1
This analysis is illustrated graphically in Fig. 8.3, which shows IO versus VO. Note that this is the iD − vDS
characteristic curve of Q2 that corresponds to vGS2 = VGS. Finally, observe from Eq. (8.9) that the output
resistance of the mirror, rO2, is proportional to the Early voltage of Q2, VA2. Since for a given process
technology, VA2 is proportional to the channel length of Q2, to obtain a high output resistance, we normally
give the mirror transistor Q2 a relatively long channel.
Figure 8.3 Output characteristic of the current source in Fig. 8.1 and the current mirror of Fig. 8.2.
Example 8.1
Given VDD = 3 V and using IREF = 100 µA, design the circuit of Fig. 8.1 to obtain an output current whose
nominal value is 100 µA. Find R if Q1 and Q2 are matched and have channel lengths of 1 µm, channel widths of
10 µm, Vt = 0.7 V, and 
 What is the lowest possible value of VO? Assuming that for this
process technology, the Early voltage 
 find the output resistance of the current source. Also,
find the change in output current resulting from a +1-V change in VO.
EXERCISE
In the current source of Example 8.1, it is required to reduce the change in output current, ∆IO,
corresponding to a change in output voltage, ∆VO, of 1 V to 1% of IO. What should the dimensions of
Q1 and Q2 be changed to? Assume that Q1 and Q2 are to remain matched.
∨Show Solution
∨Show Answer


(8.13)
(8.14)
(8.15)
Figure 8.4 A current-steering circuit.
To ensure operation in the saturation region, the voltages at the drains of Q2 and Q3 are constrained as
follows:
or, equivalently,
where VOV1 is the overdrive voltage at which Q1, Q2, and Q3 are operating. In other words, the drains of Q2
and Q3 will have to remain higher than −VSS by at least the overdrive voltage, which is usually a few tenths
of a volt.
Continuing our discussion of the circuit in Fig. 8.4, we see that current I3 is fed to the input side of a
current mirror formed by PMOS transistors Q4 and Q5. This mirror provides
where I4 = I3. To keep Q5 in saturation, its drain voltage should be

where VOV5 is the overdrive voltage at which Q5 is operating.
The constant current I2 generated in the circuit of Fig. 8.4 can be used to bias a source-follower amplifier
like the one implemented by transistor Q6 in Fig. 8.5(a). Similarly, the constant current I5 can be used as the
load for a common-source amplifier like the one implemented with transistor Q7 in Fig. 8.5(b). We will
discuss the use of current sources as load elements for CS amplifiers in Section 8.3.
Figure 8.5 Application of the constant currents I2 and I5 generated in the current-steering circuit of Fig. 8.4: (a)
Constant-current I2 is the bias current for the source follower Q6, and (b) constant-current I5 is the load current for the
common-source amplifier Q7.
Finally, an important point to note is that in the circuit of Fig. 8.4, while Q2 pulls its current I2 from a
circuit (not shown in Fig. 8.4), Q5 pushes its current I5 into a circuit (not shown in Fig. 8.4). Thus Q5 is
appropriately called a current source, whereas Q2 should more properly be called a current sink. An IC
normally needs both current sources and current sinks. The difference between a current source and a current
sink is further illustrated in Fig. 8.6(a) and (b), where VCSmin denotes the minimum voltage needed across
the current source (or sink) to operate properly.

D8.2
Figure 8.6 (a) A current source; and (b) a current sink.
EXERCISE
For the circuit of Fig. 8.4, let VDD = VSS = 1.5 V, Vtn = 0.6 V, Vtp = −0.6 V, all channel lengths = 1 µm, 
, and λ = 0. For IREF = 10 µA, find the widths of all
transistors to obtain I2 = 60 µA, I3 = 20 µA, and I5 = 80 µA. The voltage at the drain of Q2 must be
allowed to go down to within 0.2 V of the negative supply, and the voltage at the drain of Q5 must be
allowed to go up to within 0.2 V of the positive supply.
8.2.4 BJT Circuits
The basic BJT current mirror is shown in Fig. 8.7. It works in a fashion very similar to that of the MOS
mirror. However, there are two important differences: First, the nonzero base current of the BJT (or,
equivalently, the finite β) causes an error in the current transfer ratio of the bipolar mirror. Second, the
current transfer ratio is determined by the relative areas of the emitter–base junctions of Q1 and Q2.
∨Show Answer

(8.16)
(8.17)
Figure 8.7 The basic BJT current mirror.
Let’s first consider the case of β sufficiently high that we can neglect the base currents. The reference
current IREF is passed through the diode-connected transistor Q1 and thus establishes a corresponding
voltage VBE, which in turn is applied between the base and emitter of Q2. Now, if Q2 is matched to Q1 or,
more specifically, if the EBJ area of Q2 is the same as that of Q1, and thus Q2 has the same scale current IS
as Q1, then the collector current of Q2 will be equal to that of Q1; that is,
For this to happen, however, Q2 must be operating in the active mode, which in turn is achieved as long as
the collector voltage VO is 0.3 V or so higher than that of the emitter.
To obtain a current transfer ratio other than unity, say m, we simply arrange that the area of the EBJ of Q2
is m times that of Q1. In this case,
In general, the current transfer ratio is given by
Alternatively, if the area ratio m is an integer, we can think of Q2 as equivalent to m transistors, each
matched to Q1 and connected in parallel.
Next we consider the effect of finite transistor β on the current transfer ratio. The analysis for the case in
which the current transfer ratio is nominally unity—that is, for the case in which Q2 is matched to Q1 —is
illustrated in Fig. 8.8. The key point here is that since Q1 and Q2 are matched and have the same VBE, their

(8.18)
(8.19)
(8.20)
collector currents will be equal. The rest of the analysis is straightforward. A node equation at the collector
of Q1 yields
Figure 8.8 Analysis of the current mirror taking into account the finite β of the BJTs.
Finally, since IO = IC, the current transfer ratio can be found as
Note that as β approaches ∞, IO/IREF approaches the nominal value of one. For typical values of β, however,
the error in the current transfer ratio can be significant. For instance, β = 100 results in a 2% error in the
current transfer ratio. Furthermore, the error due to the finite β increases as the nominal current transfer ratio
is increased. We encourage you to show that for a mirror with a nominal current transfer ratio m—that is, one
in which IS2 = mIS1—the actual current transfer ratio is given by
In common with the MOS current mirror, the BJT mirror has a finite output resistance Ro,

(8.21)
8.3
(8.22)
(8.23)
(8.24)
where VA2 and ro2 are the Early voltage and the output resistance, respectively, of Q2. Thus, even if we
neglect the error due to finite β, the output current IO will be at its nominal value only when Q2 has the same
VCE as Q1, namely, at VO = VBE. As VO is changed, IO will correspondingly change. Taking both the finite β
and the finite Ro into account, we can express the output current of a BJT mirror with a nominal current
transfer ratio m as
where we note that the error term due to the Early effect is expressed in a form that shows that it reduces to
zero for VO = VBE.
EXERCISE
Consider a BJT current mirror with a nominal current transfer ratio of unity. Let the transistors have IS
= 10−15A, β = 100, and VA = 100 V. For IREF = 1 mA, find IO when VO = 5 V. Also, find the output
resistance.
A Simple Current Source As in the MOS case, the basic BJT current mirror can be used to implement a
simple current source, as shown in Fig. 8.9. Here the reference current is
where VBE is the base–emitter voltage corresponding to the desired value of IREF. For matched transistors,
the output current IO is given by
The output resistance of this current source is ro of Q2,
∨Show Answer

D8.4
Figure 8.9 A simple BJT current source.
EXERCISE
Assuming the availability of BJTs with scale currents IS = 10−15A, β = 100, and VA = 50 V, design the
current-source circuit of Fig. 8.9 to provide an output current IO = 0.5 mA at VO = 2 V. The power
supply VCC = 5 V. Give the values of IREF, R, and VOmin. Also, find IO at VO = 5 V.
Current Steering To generate bias currents for different amplifier stages in an IC, the current-steering
approach described for MOS circuits can be applied in the bipolar case. As an example, consider the circuit
shown in Fig. 8.10. The dc reference current IREF is generated in the branch that consists of the diode-
connected transistor Q1, resistor R, and the diode-connected transistor Q2:
∨Show Answer

(8.25)
Figure 8.10 Generation of a number of constant currents of various magnitudes.
Now, for simplicity, assume that all the transistors have high β and thus that the base currents are negligibly
small. We will also neglect the Early effect. The diode-connected transistor Q1 forms a current mirror with
Q3; thus Q3 will supply a constant current I1 equal to IREF. Transistor Q3 can supply this current to any load
as long as the voltage that develops at the collector does not exceed (VCC − 0.3 V); otherwise Q3 would enter
the saturation region.
To generate a dc current twice the value of IREF, two transistors, Q5 and Q6, each of them matched to Q1,
are connected in parallel. The combination forms a mirror with Q1, so that I3 = 2IREF. Note that the parallel
combination of Q5 and Q6 is equivalent to a transistor with an EBJ area double that of Q1, which is precisely
what is done when this circuit is fabricated in IC form.
Transistor Q4 forms a mirror with Q2; thus Q4 provides a constant current I2 equal to IREF. Note that
while Q3 sources its current to parts of the circuit whose voltage should not exceed (VCC − 0.3 V), Q4 sinks

its current from parts of the circuit whose voltage should not decrease below (−VEE + 0.3 V). Finally, to
generate a current three times IREF, three transistors, Q7, Q8, and Q9, each of which is matched to Q2, are
connected in parallel, and the combination is placed in a mirror configuration with Q2. Again, in an IC
implementation, Q7, Q8, and Q9 would be replaced with a transistor having a junction area three times that
of Q2.
Video Example VE 8.2 A BJT Current Steering Circuit
Find the voltages at all nodes and the currents through all branches in the circuit of Fig. VE8.2. Assume |VBE| =
0.7 V and β = ∞.
Figure VE8.2 Circuit for Video Example 8.2.
 Solution: Watch the authors solve this problem:


Figure E8.5
A Bipolar Mirror with Base-Current Compensation Figure 8.11 shows a bipolar current mirror with a
current transfer ratio that is much less dependent on β than that of the simple current mirror. The reduced
dependence on β is achieved by including transistor Q3, whose emitter supplies the base currents of Q1 and
Q2. The sum of the base currents is then divided by (β3 + 1), resulting in a much smaller error current that
has to be supplied by IREF. Detailed analysis is shown on the circuit diagram; it is based on the assumption
that Q1 and Q2 are matched and thus have equal collector currents, IC. A node equation at the node labeled x
gives
∨Show Answer

(8.26)
(8.27)
Figure 8.11 A current mirror with base-current compensation.
Since
the current transfer ratio of the mirror will be
which means that the error due to finite β has been reduced from 2/β in the simple mirror to 2/β2, a
tremendous improvement. Unfortunately, however, the output resistance remains approximately equal to that
of the simple mirror, namely ro. Finally, note that if a reference current IREF is not available, we simply
connect node x to the power supply, VCC, through a resistance R. The result is a reference current given by
8.2.5 Small-Signal Operation of Current Mirrors
In addition to their use in biasing, current mirrors are sometimes used as current amplifiers. It is therefore
useful to derive the small-signal parameters of the current mirror, that is, Rin, Ais, and Ro. Here, Ais is the

short-circuit current gain.
Figure 8.12(a) shows a MOS current mirror biased with a dc input current ID1 and fed with a small-
signal input current ii. Note that VGS and ID2 are the resulting dc quantities, while vgs and io are signal
quantities. Although we are not showing the circuit to which the output terminal is connected, we are
assuming that the voltage at the drain of Q2 exceeds the minimum required to keep Q2 in saturation. Figure
8.12(b) shows the small-signal equivalent circuit model of the current mirror. In the following, we determine
the value of the model parameters.
Figure 8.12 Obtaining the small-signal parameters of the MOS current mirror as a current amplifier.

(8.28)
(8.29)
(8.30)
(8.31)
D8.6
Replacing Q1 and Q2 with their small-signal models results in the circuit in Fig. 8.12(c). Notice that the
controlled current source gm1vgs appears across its control voltage vgs and thus can be replaced with a
resistance, 1/gm1, as shown in Fig. 8.12(d). For the latter circuit we can obtain
where
Thus,
Substituting for gm1,2 = μnCox(W/L)1,2VOV, where VOV is the overdrive voltage at which Q1 and Q2 are
operating, yields for the short-circuit current gain
which is equal to the dc or large-signal current transfer ratio except for a small error factor represented by the
quantity in the square brackets.
We conclude that the current mirror is an excellent current amplifier: It has a relatively low input
resistance (1/gm1), a relatively high output resistance (ro2), and a gain determined by the aspect ratios of the
MOSFETs. We can use a similar procedure to find the small-signal parameters of the bipolar mirror
(Problem 8.25).
EXERCISE
The MOSFETs in the current mirror of Fig. 8.12(a) have equal channel lengths, μnCox = 400 µA/V2,
and 
 = 20 V/µm. If the input bias current is 100 µA, find W1, W2, L1, and L2 to obtain a short-circuit
current gain that is ideally 5 A/A, an input resistance of 1 kΩ, and an output resistance of 40 kΩ. What
is the expected percentage error in the current transfer ratio?
∨Show Answer

THE INTEGRATED CIRCUIT
∨

1.
2.
3.
8.3 The Basic Gain Cell
8.3.1 The CS and CE Amplifiers with Current-Source Loads
The basic gain cell in an IC amplifier is a common-source (CS) or common-emitter (CE) transistor loaded
with a constant-current source, as shown in Figs. 8.13(a) and (b). These circuits are similar to the CS and CE
amplifiers studied in Section 7.3, except that here we have replaced the resistances RD and RC with constant-
current sources. We have done so for three reasons:
The constant-current source doubles as both the biasing and the load device.
From Eq. (7.18), the maximum gain obtained from a CS amplifier with a resistive load is
approximately 2VDD/VOV. Since for modern CMOS process technologies 
 and 
, the gain is limited to about 10 V/V. Higher voltage gains can be achieved by replacing
RD with a current source having a large output resistance Ro. This will be demonstrated in this and the
next sections.
As we mentioned in Section 8.1, in IC technology, using current sources implemented with transistors
is easier and more economical in terms of chip area than using resistances with reasonably precise
values.
The circuits in Figs. 8.13(a) and (b) are said to be current-source loaded or active loaded. Before we
consider the small-signal analysis of the active-loaded CS and CE amplifiers, a word on their dc bias is in
order. We know that in each circuit, Q1 is biased at ID = I and IC = I. But what determines the dc voltages at
the drain (collector) and at the gate (base)? Usually, these gain cells will be part of larger circuits in which
negative feedback is used to fix the values of VDS and VGS (VCE and VBE). In the next chapter we will begin
to see complete IC amplifiers including biasing. For the time being, let’s assume that the MOS transistor in
Fig. 8.13(a) is biased to operate in the saturation region and that the BJT in Fig. 8.13(b) is biased to operate
in the active region. We will often refer to both the MOSFET and the BJT as operating in the “active region.”

(8.32)
(8.33)
(8.34)
Figure 8.13 The basic gain cells of IC amplifiers: (a) current-source- or active-loaded common-source amplifier; (b)
current-source- or active-loaded common-emitter amplifier; (c) small-signal equivalent circuit of (a); and (d) small-
signal equivalent circuit of (b).
Small-signal analysis of the current-source-loaded CS and CE amplifiers can be performed using their
equivalent-circuit models, shown respectively in Fig. 8.13(c) and (d). Notice that since we assume the
current-source load to be ideal, it is represented in the models by an infinite resistance. Practical current
sources have finite output resistance, as we have seen in the previous section. For now note that the CS and
CE amplifiers of Fig. 8.13(a) and (b) are in effect operating in an open-circuit fashion. The only resistance
between their output node and ground is the output resistance of the transistor itself, ro. Thus the voltage
gain obtained in these circuits is the maximum possible for a CS or a CE amplifier.
From Fig. 8.13(c) we obtain for the active-loaded CS amplifier:
Similarly, from Fig. 8.13(d) we obtain for the active-loaded CE amplifier:

(8.35)
(8.36)
(8.37)
(8.38)
(8.39)
(8.40)
(8.41)
(8.42)
Thus both circuits realize a voltage gain of magnitude gmro. Since this is the maximum gain possible in a CS
or CE amplifier, we refer to it as the intrinsic gain and give it the symbol A0. Before we go further, let’s
examine A0 in a little more detail.
8.3.2 The Intrinsic Gain
For the BJT, we can derive a formula for the intrinsic gain A0 = gmro by using the following formulas for gm
and ro:
The result is
Thus A0 is simply the ratio of the Early voltage VA, which is a technology-determined parameter, and the
thermal voltage VT, which is a physical parameter (approximately 0.025 V at room temperature). The value
of VA ranges from 5 V to 35 V for modern IC fabrication processes to 100 V to 130 V for the older, so-called
high-voltage processes (see Appendix G). As a result, the value of A0 will be in the range of 200 V/V to
5000 V/V, with the lower values characteristic of modern small-feature-size devices. It is important to note
that for a given bipolar-transistor fabrication process, A0 is independent of the transistor junction area and of
its bias current. This is not the case for the MOSFET, as we shall now see.
Recall from our study of the MOSFET gm in Section 7.2 that there are three possible expressions for gm.
Two of these are particularly useful for our purposes here:
For the MOSFET ro we have

(8.43)
(8.44)
(8.45)
(8.46)
1.
2.
3.
where VA is the Early voltage and 
 is the technology-dependent component of the Early voltage. Utilizing
each of the gm expressions together with the expression for ro, we obtain for A0,
which can be expressed in the alternate forms
and
The expression in Eq. (8.44) is the one most directly comparable to that of the BJT (Eq. 8.40). Here,
however, we note the following:
The quantity in the denominator is VOV/2, which is a design parameter. Although the value of VOV that
designers use for modern submicron technologies has been steadily decreasing, it is still about 0.15 V
to 0.3 V. Thus VOV/2 is 0.075 V to 0.15 V, which is 3 to 6 times higher than VT. Furthermore, there are
reasons for selecting higher values for VOV (to be discussed in later chapters).
The numerator quantity is both process dependent (through 
) and device dependent (through L), and
its value has been steadily decreasing with the scaling down of the technology (see Appendix K).
From Eq. (8.45) we see that for a given technology (i.e., a given value of 
) the intrinsic gain A0 can
be increased by using a longer MOSFET and operating it at a lower VOV. As usual, however, there are
design trade-offs. For instance, we will see in Chapter 10 that increasing L and lowering VOV result,
independently, in decreasing the amplifier bandwidth.
As a result, the intrinsic gain realized in a MOSFET fabricated in a modern short-channel technology is only
10 V/V to 40 V/V, an order of magnitude lower than that for a BJT.
The alternative expression for the MOSFET A0 given in Eq. (8.46) reveals a very interesting fact: For a
given process technology (
 and μnCox) and a given device (W and L), the intrinsic gain is inversely
proportional to 
 This is illustrated in Fig. 8.14, which shows a typical plot for A0 versus the bias current
ID. The plot confirms that the gain increases as the bias current is lowered. The gain, however, levels off at
very low currents. This is because the MOSFET enters the subthreshold region of operation (Section 5.4.2),
where it becomes very much like a BJT with an exponential current–voltage characteristic. The intrinsic gain
then becomes constant, just like that of a BJT. Note, however, that although higher gain is obtained at lower

8.7
values of ID, the price paid is a lower gm (Eq. 8.42) and less ability to drive capacitive loads, and thus a
decrease in bandwidth. This point will be studied in Chapter 10.
Figure 8.14 The intrinsic gain of the MOSFET versus bias current ID. Outside the subthreshold region, this is a plot of 
 for the case: 
 and W = 20 µm.
Example 8.2
We wish to compare the values of gm, Rin, Ro, and A0 for a CS amplifier that is designed using an NMOS
transistor with L = 0.4 µm and W =4 µm and fabricated in a 0.25-µm technology specified to have μnCox = 267
µA/V2 and 
 with those for a CE amplifier designed using a BJT fabricated in a process with β
= 100 and VA = 10 V. Assume that both devices are operating at a drain (collector) current of 100 µA.
EXERCISE
A CS amplifier utilizes an NMOS transistor with L = 0.36 µm and W/L = 10; it was fabricated in a
0.18-µm CMOS process for which μnCox = 387 µA/V2 and 
. Find the values of gm and
A0 obtained at ID = 10 µA, 100 µA, and 1 mA.
8.3.3 Effect of the Output Resistance of the Current-Source Load
∨Show Solution
∨Show Answer

(8.47)
(8.48)
The current-source load of the CS amplifier in Fig. 8.13(a) can be implemented using a PMOS transistor
biased in the saturation region to provide the required current I, as shown in Fig. 8.15(a). We can use the
large-signal MOSFET model (Section 5.2, Fig. 5.18) to model Q2 as shown in Fig. 8.15(b), where
and
Figure 8.15 (a) The CS amplifier with the current-source load implemented with a p-channel MOSFET Q2.
Figure 8.15 (b) The circuit with Q2 replaced with its large-signal model.

(8.49)
(8.50)
Figure 8.15 (c) small-signal equivalent circuit of the amplifier.
Thus the current-source load no longer has an infinite resistance; instead, it has a finite output resistance ro2.
This resistance will in effect appear in parallel with ro1, as shown in the amplifier equivalent-circuit model in
Fig. 8.15(c), from which we obtain
Not surprisingly, the finite output resistance of the current-source load reduces the magnitude of the voltage
gain from (gm1ro1) to 
 This reduction can be substantial. For instance, if Q2 has an Early
voltage equal to that of Q1, ro2 = ro1 and the gain is reduced by half,
Finally, we note that a similar development can be used for the bipolar case.
Example 8.3
A practical circuit implementation of the common-source amplifier with a current-source load is shown in Fig.
8.16(a). Here the current-source transistor Q2 is the output transistor of a current mirror formed by Q2 and Q3
and fed with a reference current IREF. The NMOS version of this current source was studied in Section 8.1.
Assume that Q2 and Q3 are matched.
Figure 8.16 (a) Practical implementation of the common-source amplifier with a current-source load.

(a)
(b)
(c)
(d)
8.8
8.9
Figure 8.16 (b) Replacing the current-source load with a resistance RD connected to a new power-supply
voltage 
.
Let VDD = 1.8 V, Vtn = −Vtp = 0.5 V, μnCox = 4 μpCox = 400 µA/V2, | VA | = 5 V for all transistors, and IREF =
100 µA.
Find the dc component of vI and the W/L ratios so that all transistors operate at | VOV | = 0.2 V.
Determine the small-signal voltage gain.
What is the allowable range of signal swing at the output for almost-linear operation?
If the current-source load is replaced with a resistance RD connected to a power supply 
 as
shown in Fig. 8.16(b), find the value of RD and 
 to keep ID, the voltage gain, and the output
signal swing unchanged.
EXERCISES
A CMOS common-source amplifier such as that in Fig. 8.16(a), fabricated in a 0.18-µm technology,
has 
W/L 
= 
7.2 
µm/0.36 
µm 
for 
all 
transistors, 
5V/µm, 
and 
. Find gm1, ro1, ro2, and the voltage gain.
Consider the active-loaded CE amplifier when the constant-current source I is implemented with a pnp
transistor. Let I = 0.1 mA, |VA| = 50 V (for both the npn and the pnp transistors), and β = 100. Find Rin,
ro (for each transistor), gm, A0, and the amplifier voltage gain.
8.3.4 Increasing the Gain of the Basic Cell
∨Show Solution
∨Show Answer
∨Show Answer

We conclude this section by considering a question: How can we increase the voltage gain obtained from the
basic gain cell? The answer lies in finding a way to raise the level of the output resistance of both the
amplifying transistor and the load transistor. To increase the output resistance of the amplifying transistor, we
need a circuit that passes the current gmvi provided by the amplifying transistor right through, but increases
the resistance from ro to a much larger value. This requirement is illustrated in Fig. 8.17(a) which shows the
CS amplifying transistor Q1 together with its output equivalent circuit. Note that for the time being we are
not showing the load device. In Fig. 8.17(b) we have inserted a shaded box between the drain of Q1 and a
new output terminal labeled d2. Here again we are not showing the load to which d2 will be connected. Our
“black box” takes in the output current of Q1 and passes it to the output; thus at its output we have the
equivalent circuit shown, consisting of the same controlled source gm1vi but with the output resistance
increased by a factor K.

Figure 8.17 To increase the voltage gain realized in the basic gain cell shown in (a), a functional block, shown as a black
box in (b), is connected between d1 and the load. This new block is required to pass the current gm1vi right through but
raise the resistance level by a factor K. The functional block is a current buffer and can be realized with a common-gate
transistor, as demonstrated in the next section.
Now, what does the black box really do? Since it passes the current gm1vi right through, it must have a
very low, ideally zero, input resistance, and a current gain of unity. These two properties, together with the
fact that it has a high output resistance, mean that it is a current buffer. It is the dual of the voltage buffer
(the source and emitter followers), which passes the voltage but lowers the resistance level.
If we search our repertoire of transistor amplifier configurations studied in Section 7.3, the only
candidate for implementing this current-buffering action is the common-gate (or in bipolar, common-base)
amplifier. Indeed, recall that the CG and CB circuits have a unity current gain. What we have not yet
investigated, however, is their resistance transformation property. We shall do this in the next section.

8.4 The Common-Gate and Common-Base Amplifiers as Current Buffers
In this section, we study the IC versions of the CG and CB amplifier configurations focusing on their use as
current buffers. This study differs in a significant way from that of the discrete-circuit versions (Section
7.3.5) because here we have to take into account the output resistance of the transistor, ro.
8.4.1 The CG Circuit
Figure 8.18(a) shows a CG amplifier with the biasing arrangement shown only partially. The amplifier is fed
with a current signal source isig having a resistance Rs, and it has a load resistance RL. The latter is usually
implemented using a PMOS current source, as discussed earlier.
To characterize the signal performance of the CG amplifier as a current buffer, we model it with the
equivalent circuit shown in Fig. 8.18(b). Here Rin is the input resistance looking into the source of the CG
transistor, Rout is the output resistance looking back into the drain with isig set to zero, and Ais is the current
gain io/isig with RL set to zero; in other words, Ais is the short-circuit current gain of the CG amplifier.
Figure 8.18 (a) A CG amplifier with the bias arrangement only partially shown.
Figure 8.18 (b) Equivalent circuit model of the CG amplifier in (a).

(8.51)
(8.52)
Input Resistance The input resistance Rin can be found using the circuit of Fig. 8.19. Here we have
employed the π model of the MOSFET and applied a test voltage vx to the input.
The input resistance is given by
Some of the analysis is shown in Fig. 8.19. Now, writing a loop equation for the loop comprising vx, ro,
and RL gives
Since the voltage at the source node vx is equal to −vgs, we can replace vgs by −vx and rearrange terms to
obtain 
,
For 
,
This is a very interesting result. First, it shows that if ro is infinite, as was the case in our analysis of the
discrete CG amplifier in Section 7.3.5, then Rin reduces to 1/gm, verifying the result we found there. If ro
cannot be neglected, as is always the case in IC amplifiers, we see that the input resistance depends on RL in
an interesting fashion: The load resistance RL is transformed to the input by dividing it by the intrinsic gain
A0 = gmro. Thus, even as RL is increased, this impedance transformation property ensures that Rin remains
relatively low, an important characteristic of a current buffer.

Figure 8.19 Determining the input resistance Rin of the CG amplifier.
Short-Circuit Current Gain The short-circuit current gain can be determined using the circuit in Fig.
8.20(a) as
Figure 8.20 (a) Determining the short-circuit current gain Ais = io/isig of the CG amplifier.

(8.53)
Figure 8.20 (b) A simplified version of the circuit in (a).
Observe that by considering the circuit composed of the controlled source gmvgs and the resistance ro as a
supernode, the current entering that node will be equal to the current exiting, namely io. Next, note that the
voltage at the source node S is −vgs and that this voltage appears across the current source gmvgs; thus, we
can use the source absorption theorem (Appendix C) to replace the controlled source by a resistance 1/gm.
This produces the simplified equivalent circuit shown in Fig. 8.20(b), from which we can find io/isig by using
the current-divider rule,
Thus,
For 
 and 
which is an important characteristic of a current buffer.
Output Resistance To obtain the output resistance Rout we use the circuit shown in Fig. 8.21. Here we have
open circuited isig but left the source resistance Rs, and applied a test voltage vx to the output. The output
resistance is given by

(8.54)
(8.55)
(8.56)
(8.57)
(8.58)
Figure 8.21 Determining the output resistance Rout of the CG amplifier.
Some of the analysis is shown in Fig. 8.21. Now, a loop equation for the loop comprising vx, ro, and Rs
gives
Notice that the voltage at the source terminal is −vgs and thus can also be expressed as
Substituting this value for vgs in Eq. (8.54) and rearranging terms to obtain 
 yields
which can be written in the alternate form
For 
,
and if we also have gmRs ≫ 1, then
Equation (8.57) indicates that the output resistance of the CG amplifier includes, in addition to the
transistor’s ro, a component related to the resistance in the source lead Rs. The key point is that the CG
amplifier transforms the source resistance Rs to the output by multiplying it by the intrinsic gain A0 = gmro.

8.10
8.11
8.12
8.13
This impedance transformation is the inverse to that observed from output to input. Now, if Rs is large then
the output resistance of the CG circuit can be very large; this also is an important characteristic of a current
buffer.
To summarize, the CG circuit has a unity current gain; a low input resistance, obtained by dividing RL by
gmro; and a high output resistance, obtained by multiplying Rs by gmro. Thus it makes for an excellent
current buffer and can be used to implement the shaded functional box in Fig. 8.17(b). As a useful summary,
Fig. 8.22 illustrates the impedance transformation properties of the common-gate amplifier.
Figure 8.22 The impedance transformation properties of the common-gate amplifier. Depending on the values of Rs and
RL, we can sometimes write 
 However, such approximations are not always
justified.
EXERCISES
For the CG amplifier in Fig. 8.18(a) with the input signal source replaced by its Thévenin equivalent,
show that the voltage gain is given by
where vo is the signal voltage at the drain.
For 
a 
CG 
amplifier 
for 
which 
, 
find 
Rin 
for 
the 
following 
cases: 
For 
a 
CG 
amplifier 
for 
which 
, 
find 
Rout 
for 
the 
following 
cases: 
For a CG amplifier for which Rs = ro, find Ais for the cases: gmro = 20, 50, and 100.
∨Show Answer
∨Show Answer
∨Show Answer

(8.59)
(8.60)
8.4.2 Output Resistance of a CS Amplifier with a Source Resistance
In Section 7.3.4, we considered some of the benefits of including a resistance Rs in the source lead of a CS
amplifier, as in Fig. 8.23. Such a resistance is referred to as a source-degeneration resistance because it
reduces the effective transconductance of the CS stage to gm/(1 + gmRs), that is, by a factor (1 + gmRs). This
also is the factor by which a number of performance parameters are increased, such as linearity and
bandwidth (as we will see in Chapter 10). At this point, we simply wish to show that the expression we
derived for the output resistance of the CG amplifier applies directly to the case of a source-degenerated CS
amplifier. This is because when we determine Ro, we ground the input terminal, making transistor Q appear
as a CG transistor. Thus Ro is given by Eq. (8.55), namely,
Figure 8.23 The output resistance expression of the CG amplifier can be used to find the output resistance of a source-
degenerated common-source amplifier. Here, a useful interpretation of the result is that Rs increases the output resistance
by the factor (1 + gmRs).
Since manually 
, the second term on the right-hand side will be much lower than the third and
can be neglected, resulting in
Thus source degeneration increases the output resistance of the CS amplifier from ro to (1 + gmRs)ro, again
by the same factor (1 + gmRs). In Chapter 11, we will find that Rs introduces negative (degenerative)

feedback of an amount (1 + gmRs).
Video Example VE 8.3 MOS Current Source with Source Degeneration
Figure VE8.3 shows a current source realized using a current mirror with two matched transistors Q1 and Q2.
Two equal resistances Rs are inserted in the source leads to increase the output resistance of the current source. If
Q2 is operating at gm = 2 mA/V and has VA = 5 V, and if the maximum allowed dc voltage drop across Rs is 0.2
V, what is the maximum available output resistance of the current source? Assume that the voltage at the
common-gate node is approximately constant.
Figure VE8.3 Circuit for Video Example VE8.3.
 Solution: Watch the authors solve this problem:


Figure 8.24 The body effect can be easily taken into account in the analysis of the CG circuit by replacing gm by (1 +
χ)gm, where 
8.4.4 The CB Circuit
Analysis of the CB amplifier parallels that of the CG amplifier except that it is complicated by the finite base
current, which manifests itself as a resistance rπ between the base and emitter terminals.
Figure 8.25(a) shows a CB amplifier with the bias details only partially shown and with a load resistance
RL that is normally implemented with a pnp current source. To characterize the signal performance of the CB
amplifier as a current buffer, we model it with the equivalent circuit shown in Fig. 8.25(b), which is the same
model used for the CG circuit above. To determine the model parameters, Rin, Ais, and Rout, we replace the
BJT with its hybrid-π model and obtain the circuit shown in Fig. 8.25(c). Here, we observe that unlike the
CG case, we have an additional resistance rπ that appears between emitter and base and thus in parallel with
Re. Using this observation, we can obtain expressions for Rin, Ais, and Rout by appropriately modifying the
corresponding expressions derived above for the CG case.

(8.61)
Figure 8.25 (a) A CB amplifier. (b) Equivalent circuit model of the CB amplifier in (a). (c) The CB amplifier in (a) with
the transistor replaced with its π model.
We can find the input resistance Rin of the CB amplifier by augmenting the expression for Rin of the CG
circuit in Eq. (8.51) with a parallel resistance rπ, thus

(8.62)
(8.63)
(8.64)
(8.65)
(8.66)
(8.67)
For 
,
Here we see that ro = ∞ yields 
 which is consistent with the case of the discrete-circuit
CB amplifier studied in Section 7.3.5. Also, for RL = 0, Rin = re. As RL is increased from 0 and as long as rπ
is much greater than the value between the square brackets,
which is identical to the CG case, indicating that the CB amplifier has similar resistance-transformation
properties. However, unlike the CG amplifier, the CB circuit has a maximum value for Rin determined by the
shunt resistance rπ,
which is reached when RL = ∞.
We can find the short-circuit current gain of the CB amplifier by replacing Rs in Eq. (8.53) with (Re || rπ),
thus
which for 
 and 
 reduces to
For 
The output resistance Rout of the CB amplifier can be obtained by replacing Rs in Eq. (8.55) with 
,
thus
which can be written in the alternative form

(8.68)
(8.69)
(8.70)
8.15
8.16
8.17
For 
,
Thus, similar to the CG amplifier, the CB amplifier exhibits an impedance transformation property that
raises the output resistance. Unlike the CG case, however, the output resistance of the CB circuit has an
absolute maximum value obtained by setting Re = ∞ as
We conclude that the CB circuit has a current gain of nearly unity, a low input resistance, and a high output
resistance; thus it makes for an excellent current buffer. The impedance transformation properties of the CB
circuit are summarized in Fig. 8.26.
Figure 8.26 The impedance transformation properties of the CB amplifier. Note that for β = ∞, these formulas reduce to
those for the MOSFET case (Fig. 8.21).
EXERCISES
For a CB amplifier with 
, find approximate values for Rin for the following cases: RL = 0;
ro; βro; ∞.
For a CB amplifier with 
 find approximate values for Rout for the following cases: 
 re; rπ; ro; ∞.
For a CB amplifier with Re = ro and β = 100, find Ais for gmro = 100 and 1000.
∨Show Answer
∨Show Answer
∨Show Answer

(8.71)
(8.72)
8.18
8.4.5 Output Resistance of the Emitter-Degenerated CE Amplifier
As in the MOS case, we can use the expression for the output resistance derived for the CB amplifier (Eq.
8.69) for the case of a CE amplifier with a resistance Re connected in its emitter, as shown in Fig. 8.27,
which can be written in the alternate form
Thus, emitter degeneration multiplies the transistor output resistance ro by the factor 
Note that this factor has a maximum value of (1 + gmrπ) or (β + 1), obtained when 
. Thus the
theoretical maximum output resistance realized is (β + 1)ro and is achieved when the emitter is open
circuited.
Figure 8.27 Output resistance of a CE amplifier with an emitter resistance Re.
EXERCISE
Find the output resistance of a CE amplifier biased at IC = 0.1 mA and having a resistance of 1 kΩ
connected in its emitter. Let β = 100 and VA = 20 V. What is the value of the output resistance without
degeneration?
∨Show Answer


8.5 The Cascode Amplifier
Cascoding refers to the use of a transistor connected in the common-gate (or the common-base)
configuration to provide current buffering for the output of a common-source (or a common-emitter)
amplifying transistor. As we found from our study of the CG and CB circuits in the previous section, their
current-buffering action provides a high output resistance, thus enabling the cascode amplifier to have a
voltage gain much larger than that possible with the CS or CE gain cells alone.
8.5.1 The MOS Cascode Amplifier
The Ideal Case Figure 8.28(a) shows a MOS cascode amplifier loaded with an ideal constant-current source
I. Here Q1 is the CS amplifying transistor, and Q2 is the CG cascode2 transistor. Since the constant-current
source is ideal, its incremental resistance will be infinite, and thus the cascode amplifier will be operating
with an infinite load resistance. It follows that the voltage gain realized, vo/vi, will be the open-circuit voltage
gain
Figure 8.28 (a) A cascode amplifier with a constant-current source load.

(8.73)
(8.75)
Figure 8.28 (b) The amplifier equivalent circuit with Q1 replaced with its output equivalent circuit, and the dc sources
eliminated. Note that RL of the cascode amplifier is infinite.
Figure 8.28 (c) The output equivalent circuit of the cascode amplifier.
To find Avo, we first replace Q1 with its output equivalent circuit consisting of the controlled current
source gm1vi and the output resistance ro1, as shown in Fig. 8.28(b). Next, recalling that the CG transistor
has a short-circuit current gain of almost unity and an output resistance that is approximately (gm2ro2) times
the resistance in its source lead, ro1, we can say that the output equivalent circuit will be as shown in Fig.
8.28(c).
The open-circuit voltage gain can now be determined as follows,
For the case gm1 = gm2 = gm and ro1 = ro2 = ro,
Thus cascoding increases the gain magnitude from A0 to 
Implementation of the Constant-Current Source Load If the current source load is implemented with a
PMOS transistor (which can be part of a PMOS current mirror) as shown in Fig. 8.29(a) and (b), the load
resistance RL will be equal to the output resistance of Q3, ro3,

(8.76)
(8.77)
and the voltage gain of the cascode amplifier will be
from which we can readily see that since RL ≪ Ro, the total resistance will be approximately equal to ro3 and
the gain will be
Thus the gain magnitude will be back to A0, of the same order as that realized by a CS amplifier. In other
words, the use of a simple current-source load with a relatively low output resistance has in effect destroyed
the cascoding advantage of increased output resistance. Nevertheless, it turns out that this cascode amplifier,
whose gain is of the same order as that of a CS amplifier, does in fact have a major advantage over the CS
circuit: It exhibits a much wider bandwidth. We will demonstrate this point in Chapter 10.
Figure 8.29 (a) A MOS cascode amplifier loaded in a simple PMOS current source Q3.
Figure 8.29 (b) Equivalent circuit at the amplifier output.
The Use of a Cascode Current Source To realize a gain of the order of 
 the load resistance RL must be
of the same order as Ro of the cascode amplifier. We can do this using a cascode current source like the one

(8.78)
(8.79)
(8.80)
in Fig. 8.30. Here Q4 is the current-source transistor, and Q3 is the CG cascode transistor. Voltages VG3 and
VG4 are dc bias voltages. The cascode transistor Q3 multiplies the output resistance of Q4, ro4, by (gm3ro3) to
provide an output resistance for the cascode current source of
Combining a cascode amplifier with a cascode current source results in the circuit of Fig. 8.31(a). The
equivalent circuit at the output side is shown in Fig. 8.31(b), from which we can easily find the voltage gain:
Thus,
For the case in which all transistors are identical,
By comparison to the gain expression in Eq. (8.50), we see that using the cascode configuration for both the
amplifying transistor and the current-source load transistor results in an increase in the magnitude of gain by
a factor equal to A0.
Figure 8.30 Employing a cascode transistor Q3 to raise the output resistance of the current source Q4.

Figure 8.31 A cascode amplifier with a cascode current-source load.
Example 8.4
Design the cascode current source of Fig. 8.30 to provide a current of 100 µA and an output resistance of 500
kΩ. Assume the availability of a 0.18-µm CMOS technology for which VDD = 1.8 V, Vtp = −0.5 V, μpCox = 90
µA/V2, and 
 Use |VOV| = 0.3 V and determine L and W/L for each transistor, and the values
of the bias voltages VG3 and VG4. Design to maximize the allowable signal swing at the output terminal.
Video Example VE 8.4 Design of a MOS Cascode Amplifier
Design the cascode amplifier of Fig. 8.28(a) to obtain gm1 = 2 mA/V and Ro = 200 kΩ. Use the 0.18-µm
technology whose parameters are specified in Table K.1 (Appendix K). Determine L, W/L, VG2, and I. Use
identical transistors operated at VOV = 0.2 V, and design for the maximum possible negative signal swing at the
output. What is the value of the minimum permitted output voltage?
∨Show Solution


(8.81)
(8.82)
(8.83)
(8.84)
8.5.2 Distribution of Voltage Gain in a Cascode Amplifier
It is often useful to know how much of the overall voltage gain of a cascode amplifier is realized in each of
its two stages: the CS stage Q1, and the CG stage Q2. For this purpose, consider the cascode amplifier shown
in Fig. 8.32(a). Here, we have included a load resistance RL, which represents the output resistance of the
current-source load plus any additional resistance that may be connected to the output node. The voltage gain
Av of the amplifier can be found as
Thus,
The overall gain Av can be expressed as the product of the voltage gains of Q1 and Q2 as
To obtain 
 we need to find the total resistance between the drain of Q1 and ground. Referring
to Fig. 8.32(b) and denoting this resistance Rd1, we can express Av1 as
where Rin2 is the input resistance of the CG transistor Q2. From Eq. (8.52), we can write
Figure 8.32 (a) The cascode amplifier with a load resistance RL. Only signal quantities are shown.

Figure 8.32 (b) Determining vo1.
Finally, we can obtain Av2 by dividing the total gain Av given by Eq. (8.81) by Av1. For insight into the effect
of the value of RL on the overall gain of the cascode and on how this gain is distributed among the two stages
of the cascode amplifier, Table 8.1 provides approximate values for the case ro1 = ro2 = ro and for four
different values of RL: (1) RL = ∞, obtained with an ideal current-source load; (2) RL = (gmro)ro, obtained
with a cascode current-source load; (3) RL = ro, obtained with a simple current-source load; and (4) RL =
0.2r0, a representative value for some RF amplifier applications.
Table 8.1 Gain Distribution in the MOS Cascode Amplifier for Various Values of RL
Observe that while case 1 represents an idealized situation, it is useful in providing the theoretical
maximum voltage gain we can achieve in a MOS cascode amplifier. Case 2, which assumes a cascode
current-source load with an output resistance equal to that of the cascode amplifier, provides a realistic
estimate of the gain we could achieve if we wanted to maximize the realized gain. In certain situations,
however, that is not our objective. This point is important, for as we shall see in Section 10.4, there is an
entirely different application of the cascode amplifier: to obtain wideband amplification by extending the
upper-3-dB frequency fH. As we will see, this application calls for the situation represented by case 3, where
the gain achieved in the CS amplifier is only −2 V/V, and of course the overall gain is now only −(gmro). In
Section 10.4 we will see that this trade-off of the overall gain to obtain extended bandwidth is in some cases
a good bargain!
EXERCISE

8.22
(8.85)
(8.86)
(8.87)
Consider a cascode amplifier for which the CS and CG transistors are identical and are biased to
operate at ID = 0.1 mA with VOV = 0.2 V. Also let VA = 2 V. Find Av1, Av2, and Av for two cases: (a) RL
= 20 kΩ and (b) RL = 400 kΩ.
8.5.3 The BJT Cascode
Figure 8.33(a) shows the BJT cascode amplifier with an ideal current-source load. Voltage VB2 is a dc bias
voltage for the CB cascode transistor Q2. The circuit is very similar to the MOS cascode, and the small-
signal analysis will follow in a parallel fashion. First, note that the input resistance of the bipolar cascode
amplifier is finite,
The equivalent circuit of the output of the cascode amplifier is shown in Fig. 8.33(b). To obtain Ro we use
the formula in Eq. (8.68) and note that the resistance Re in the emitter of Q2 is ro1, thus
This result is similar but certainly not identical to that for the MOS cascode. Here, because of the finite β of
the BJT, we have rπ2 appearing in parallel with ro1. This poses a very significant constraint on Ro of the BJT
cascode. Specifically, because 
 will always be lower than rπ2, it follows that the maximum
possible value of Ro is
Thus the maximum output resistance we can achieve by cascoding is 
∨Show Answer

(8.88)
(8.89)
(8.90)
Figure 8.33 (a) A BJT cascode amplifier with an ideal current-source load.
Figure 8.33 (b) Small-signal equivalent circuit of the output of the cascode amplifier.
The open-circuit voltage gain of the bipolar cascode can be found using the equivalent circuit of Fig.
8.33(b) as
Thus,
For the case gm1 = gm2, ro1 = ro2,
which will be less than (gmro)2 in magnitude. In fact, the maximum possible gain magnitude is obtained
when 
 and is given by

8.23
8.24
Note that to realize gains approaching this level, the current-source load must also be cascoded. Figure 8.34
shows a cascode BJT amplifier with a cascode current-source load.
Figure 8.34 A BJT cascode amplifier with a cascode current source.
EXERCISES
Find an expression for the maximum voltage gain achieved in the amplifier of Fig. 8.34.
Consider the BJT cascode amplifier of Fig. 8.34 when biased at a current of 0.2 mA. Assuming that
npn transistors have β = 100 and VA = 5 V and that pnp transistors have β = 50 and |VA| = 4 V, find Ron,
Rop, and Av. Use the result of Exercise 8.23 to determine the maximum achievable gain.
∨Show Answer
∨Show Answer

8.6 The IC Source Follower
In this section, we study another important building block of integrated-circuit amplifiers: the IC source
follower. Having an infinite input resistance and a low-output resistance, the source follower is used as a
voltage buffer. Recall that we studied the discrete-circuit source follower in Section 7.3.6.
Figure 8.35(a) shows a source follower formed by transistor Q1 and biased by a constant-current supplied
by the current mirror Q2−Q3. Observe that since the source of Q1 cannot be connected to the body (which is
at signal ground potential) a voltage signal vbs develops between body and source and gives rise to a current
signal gmbvbs, as indicated in the equivalent circuit in Fig. 8.35(b). The equivalent circuit shows also the
output resistance ro3 of the bias current source Q3, which acts as a load resistance for the follower Q1.
Figure 8.35 (a) A source follower biased with a current mirror Q2−Q3 and with the body terminal shown. Because the
source cannot be connected to the body, the body effect should be taken into account.
Figure 8.35 (b) Equivalent circuit.
An important observation to make from the equivalent circuit is that the controlled source (gmbvbs)
appears across its control voltage vbs. Thus we can use the source-absorption theorem (Appendix D) to
replace the controlled source with a resistance 1/gmb. Next, note that the three resistances 1/gmb, ro1, and ro3

(8.91)
(8.92)
(8.93)
(8.94)
(8.95)
8.25
appear in parallel between the source and ground. If we denote their parallel equivalent RL, we can show that
the voltage gain of the source follower is
where
In cases where 
and
Substituting for gmb = χgm where χ = 0.1to0.2,
This is the maximum possible gain obtained from an IC source follower. The actual gain will usually be
lower because of the effect of ro1 and ro3.
The output resistance Rout of the source follower can be obtained from Fig. 8.35(b) as
EXERCISE
For the source follower in Fig. 8.35(a), let the bias current of Q1 be 200 µA and assume Q1 is operating
at VOV = 0.2 V. If VA = 5 V and χ = 0.2, find the voltage gain and output resistance of the source
follower.
∨Show Answer


1.
2.
3.
(8.96)
8.7 Current-Mirror Circuits with Improved Performance
As we have seen throughout this chapter, current sources play a major role in the design of IC amplifiers.
The constant-current source is used both in biasing and as an active load, and in Section 8.2 we studied
simple forms of both MOS and bipolar current sources and, more generally, current mirrors. We also
demonstrated the need to improve the characteristics of simple sources and mirrors. Specifically, three
performance parameters need to be addressed:
The accuracy of the current transfer ratio of the mirror. For bipolar mirrors, this parameter is primarily
affected by the transistor β. For both bipolar and MOS mirrors, the Early effect affects the current
transfer ratio.
The output resistance, Ro. Among other reasons, the need to increase the output resistance of current
sources stems from the need to increase the voltage gain achievable in an amplifier stage. While
simple bipolar and MOS mirrors have output resistances equal to ro, cascoding can be used to increase
the output resistance.
The minimum dc voltage required across the current source. The need to keep this voltage as small as
possible stems from the low dc voltage supplies used in modern IC technologies. Simple BJT and
MOS sources can operate with dc voltages in the range of 0.2 V to 0.3 V. More elaborate mirror
circuits, unfortunately, tend to require higher voltages.
In this section we study MOS and bipolar current mirrors that feature improvements in one or more of these
characteristics.
8.7.1 The Cascode MOS Mirror
The use of cascoding in the design of current sources was presented in Section 8.5. Figure 8.36 shows the
basic cascode current mirror. Observe that in addition to the diode-connected transistor Q1, which is part of
the basic mirror Q1–Q2, another diode-connected transistor, Q4, is used to provide a suitable bias voltage for
the gate of the cascode transistor Q3. To determine the output resistance of the cascode mirror at the drain of
Q3, we assume that because of the low incremental resistances of the diode-connected transistors Q1 and Q4,
the voltages across them will remain almost constant, and thus the signal voltages at the gates of Q2 and Q3
will be nearly zero. Thus Ro will be that of the cascode current source formed by Q2 and Q3,
Thus, as expected, cascoding raises the output resistance of the current mirror by the factor (gm3ro3), which
is the intrinsic gain of the cascode transistor.
A drawback of the cascode current mirror is that it consumes a relatively large portion of the steadily
shrinking supply voltage VDD. While the simple MOS mirror operates properly with a voltage as low as VOV
across its output transistor, the cascode circuit of Fig. 8.36 required a minimum voltage of Vt + 2VOV. This is
because the gate of Q3 is at 2VGS = 2Vt + 2VOV and the voltage at the drain of Q3 can go below that at the
gate by a maximum of Vt. Thus the minimum voltage required across the output of the cascode mirror is 1 V

8.26
or so. This obviously limits the signal swing at the output of the mirror (i.e., at the output of the amplifier
that utilizes this current source as a load). In Chapter 13, we will study a modified cascode mirror known as
the wide-swing current mirror.
Figure 8.36 A cascode MOS current mirror.
EXERCISE
For a cascode MOS mirror utilizing devices with Vt = 0.5 V, μnCox = 387 µA/V2, 
 = 5V/µm, W/L =
3.6 µm/0.36 µm, and IREF = 100 µA, find the minimum voltage required at the output and the output
resistance.
8.7.2 The Wilson BJT Current Mirror
A simple but ingenious modification of the basic bipolar mirror results in both reducing the β dependence
and increasing the output resistance. The resulting circuit, known as the Wilson mirror after its inventor
George Wilson, an IC design engineer working at the time for Tektronix, is shown in Fig. 8.37(a). Note that
the circuit employs negative feedback: A current almost equal to the output current IO is fed to the basic
current mirror formed by Q1 and Q2 with the output current of this mirror, in the collector of Q2, fed back to
the input node of the mirror. The analysis to determine the effect of finite β on the current transfer ratio is
shown in Fig. 8.37(a), from which we can write
∨Show Answer

(8.97)
which is much less dependent on β than in the case of the simple current mirror.
Figure 8.37 (a) The Wilson bipolar current mirror: circuit showing analysis to determine the current transfer ratio.

1.
2.
Figure 8.37 (b) The Wilson bipolar current mirror: determining the output resistance.
This analysis assumes that Q1 and Q2 conduct equal collector currents. There is, however, a slight
problem with this assumption: The collector-to-emitter voltages of Q1 and Q2 are not equal, which
introduces a current offset or a systematic error. This problem can be solved by adding a diode-connected
transistor in series with the collector of Q2, as we shall shortly show for the MOS version.
To determine the output resistance of the Wilson current source, we set IREF = 0 and apply a test voltage
vx to the output terminal (the collector of Q3) as shown in Fig. 8.37(b). Here we have replaced each of the
three transistors with its hybrid-π equivalent circuit. Our goal is to analyze the circuit to determine the
current ix drawn from vx and hence the output resistance Ro,
The analysis proceeds as follows:
The current ix enters the supernode formed by the controlled source gm3vπ3 and resistance ro3 and
divides into two currents, i1 and i2, that exit the supernode. Thus,
Current i1, the input current to the (Q1,Q2) mirror, flows into the total resistance between node C1 and
ground, which is dominated by the resistance of diode-connected transistor Q1 and thus is
approximately equal to 1/gm1. Thus,

3.
4.
5.
(8.98)
The controlled current-source of Q2 is
A loop equation for loop L1 gives
Substituting for vc1 = i1/gm1 gives us the following relationship between i2 and i1:
That is, as expected, the current mirror (Q1,Q2) provides an output current i2 that is approximately
equal to i1. Since i1 + i2 = ix, then
Finally, we write a loop equation for L2:
Substituting 
 and rearranging gives us
Since

8.27
Thus the Wilson current mirror has an output resistance 
 times higher than that of Q3 alone. This is
a result of the negative feedback obtained by feeding the collector current of Q2 (i2) back to the base of Q3.
As we can see from the above analysis, this feedback increases the current through ro3 to approximately 
 and thus the voltage across ro3 and the output resistance increase by the same factor, 
 Finally,
note that the factor  comes about because only half of ix is mirrored back to the base of Q3.
The Wilson mirror is preferred over the cascode circuit because the latter has the same dependence on β
as the simple mirror. However, like the cascode mirror, the Wilson mirror requires an additional VBE drop for
its operation; that is, for proper operation we must allow for 1 V or so across the Wilson mirror output.
EXERCISE
For β = 100 and ro = 100 kΩ, contrast the Wilson mirror and the simple mirror by evaluating the
current transfer-ratio error due to finite β, and the output resistance.
8.7.3 The Wilson MOS Mirror
Figure 8.38(a) shows the MOS version of the Wilson mirror. Obviously, there is no β error to reduce here,
and the advantage of the MOS Wilson lies in its enhanced output resistance. However, before delving into
the analysis, we should take a moment to appreciate how the circuit works: The output current IO in Q3 is
fed to the input of the basic current mirror formed by Q1 and Q2. This mirror in turn provides in the drain of
Q2 a current that, neglecting for the moment the Early effect, is equal to IO. This latter current is fed back to
the input node, where it is forced to equal IREF (because the gate current of Q3 is zero). This negative
feedback is the essential feature of the Wilson mirror, giving it its high output resistance, as we will now
show.
Figure 8.38 (a) The Wilson MOS mirror: circuit.
∨Show Answer

1.
Figure 8.38 (b) The Wilson MOS mirror: analysis to determine output resistance.
Figure 8.38 (c) The Wilson MOS mirror: modified circuit.
To determine the output resistance Ro, we set IREF = 0 and apply a test voltage vx to the output terminal
(the drain of Q3), as shown in Fig. 8.38(b). Here we have replaced each of the three transistors with its
hybrid-π equivalent circuit. Our goal is to analyze the circuit to determine the current ix drawn from vx and
hence the output resistance Ro,
The analysis proceeds as follows:
The current ix enters the supernode formed by the controlled source gm3vgs3 and resistance ro3, and
exits the supernode at node S3 and flows into the diode-connected transistor Q1.

2.
3.
4.
5.
(8.99)
The diode-connected transistor Q1 has a resistance approximately equal to 1/gm1. The current ix, which
is the input current to the mirror (Q1,Q2), establishes a voltage across Q1 of approximately ix/gm1.
Thus
The controlled current-source of Q2 is
which is the output current of the mirror (Q1,Q2).
Since the input current of Q3 is zero, the output current of Q2 flows into ro2, with the result that
Thus the voltage vgs3 is given by
and the controlled current-source of Q3 is
Finally, a loop equation around L gives us
which can be rearranged to yield
which can be approximated as
Thus, the Wilson MOS mirror exhibits an increase of output resistance by a factor (gm3ro3), a result identical
to the one we achieved in the cascode mirror. Finally, to balance the two branches of the mirror and thus
avoid the systematic current error resulting from the difference in VDS between Q1 and Q2, the circuit can be
modified as shown in Fig. 8.38(c).

(8.100)
(8.101)
(8.102)
(8.103)
8.7.4 The Widlar Current Source
Our final current-source circuit, known as the Widlar current source (after Robert Widlar, a pioneer in
analog IC design), is shown in Fig. 8.39. It differs from the basic current-mirror circuit in an important way:
A resistor RE is included in the emitter lead of Q2. Neglecting base currents, we can write
Figure 8.39 The Widlar current source.
and
where we have assumed that Q1 and Q2 are matched devices. Combining Eqs. (8.100) and (8.101) gives us
But from the circuit we see that
Thus,

(8.104)
(8.105)
The design and advantages of the Widlar current source are illustrated in the following example.
Example 8.5
The two circuits for generating a constant current IO = 10 µA shown in Fig. 8.40(a) and (b) operate from a 3-V
supply. Determine the required values of the resistors, assuming that VBE is 0.7 V at a current of 1 mA and
neglecting the effect of finite β.
Figure 8.40 Circuits for Example 8.5.
The above example shows that using the Widlar circuit allows us to generate a small constant current
using relatively small resistors. This important advantage yields considerable savings in chip area. In fact,
the alternative circuit of Fig. 8.40(a), requiring a 242- kΩ resistance, is totally impractical for
implementation in IC form because of the very high value of resistor R1.
Another important characteristic of the Widlar current source is that its output resistance is high. The
increase in the output resistance, above that achieved in the basic current source, is due to the emitter-
degeneration resistance RE. To determine the output resistance of Q2, we assume that since the base of Q2 is
connected to ground via the small resistance re of Q1, the incremental voltage at the base will be small. Thus
we can use the formula in Eq. (8.72) and adapt it for our purposes here as follows:
∨Show Solution

8.28
Thus the output resistance is increased above ro by a factor that can be significant.
EXERCISE
Find the output resistance of each of the two current sources designed in Example 8.5. Let VA = 100 V
and β = 100.
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
Integrated-circuit fabrication technology offers the circuit designer many exciting opportunities, the most
important of which is the large number of inexpensive small-area MOS transistors. An overriding
concern for IC designers, however, is minimizing chip area or “silicon real estate.” As a result, large-
valued resistors and capacitors are virtually absent.
Biasing in integrated circuits utilizes current sources. As well, current sources are used as load devices.
Typically, an accurate and stable reference current is generated and then replicated to provide bias
currents for the various amplifier stages on the chip. The heart of the current-steering circuitry utilized to
perform this function is the current mirror.
The MOS current mirror has a current transfer ratio of (W/L)2/(W/L)1. For a bipolar mirror, the ratio is
IS2/IS1.
Bipolar mirrors suffer from the finite β, which reduces the accuracy of the current transfer ratio.
Both bipolar and MOS mirrors of the basic type have a finite output resistance equal to ro of the output
device. Also, for proper operation, a voltage of at least 0.3 V is required across the output transistor of a
simple bipolar mirror (|VOV| for the MOS case).
The basic gain cell of IC amplifiers is the CS (CE) amplifier with a current-source load. For an ideal
current-source load (i.e., one with infinite output resistance), the transistor operates in an open-circuit
fashion and thus provides the maximum gain possible, Avo = −gmro = −A0.
The intrinsic gain A0 is given by A0 = VA/VT for a BJT and A0 = VA/(VOV/2) for a MOSFET. For a BJT,
A0 is constant independent of bias current and device dimensions. For a MOSFET, A0 is inversely
proportional to 
 (see Eq. 8.46).
Simple current-source loads reduce the gain realized in the basic gain cell because of their finite output
resistance (usually comparable to the value of ro of the amplifying transistor).
To raise the output resistance of the CS or CE transistor, we stack a CG or CB transistor on top. This is
cascoding.
The CG and CB amplifiers act as current buffers. They have a short-circuit current gain of unity. For the
CG: 
. For the CB 
 and 
 gmro(Re || rπ).
The CG or CB transistor in the cascode passes the current gm1vi provided by the CS or CE transistor to
the output but increases the resistance at the output from ro1 to (gm2ro2)ro1 in the MOS case [gm2ro2(ro1
|| rπ2) in the bipolar case]. The maximum output resistance achieved in the bipolar case is β2ro2.
A MOS cascode amplifier operating with an ideal current-source load achieves a gain of 
To realize the full advantage of cascoding, the load current-source must also be cascoded, in which case a
gain as high as 
 can be obtained.
A CS amplifier with a resistance Rs in its source lead has an output resistance 
 The
corresponding formula for the BJT case is 

■
■
Cascoding can be applied to current mirrors to increase their output resistances. An alternative that also
solves the β problem in the bipolar case is the Wilson circuit. The MOS Wilson mirror has an output
resistance of 
, and the BJT version has an output resistance of 
 Both the cascode and
Wilson mirrors require at least 1 V or so for proper operation.
The Widlar current source provides an area-efficient way to implement a low-valued constant-current
source that also has a high output resistance.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 8.2: IC Biasing—Current Sources and Current Mirrors
D 8.1 Using two matched MOS transistors with W/L = 10, 
, and Vtn = 0.5 V, design the circuit in
Fig. 8.1 to provide IO = 80 µA. Assume VDD = 1.8 V and neglect the effect of channel-length modulation. Specify
the value required for R and the minimum value that VO can have while Q2 still operates in saturation.
8.2 For VDD = 1.2 V and using IREF = 10 µA, it is required to design the circuit of Fig. 8.1 to obtain an
output current whose nominal value is 60 µA. Find R and W2 if Q1 and Q2 have equal channel lengths of
0.4 µm, W1 = 1 µm, Vt = 0.4 V, and 
 What is the lowest possible value of VO?
Assuming that for this process technology, the Early voltage 
 find the output resistance
of the current source. Also, find the change in output current resulting from a +0.2-V change in VO.
D 8.3 Using VDD = 1.8 V and a pair of matched MOSFETs, design the current-source circuit of Fig. 8.1 to provide
an output current of 150-µA nominal value. To simplify matters, assume that the nominal value of the output
current is obtained at VO 
 VGS. The circuit must operate for VO in the range of 0.3 V to VDD and the change in IO
over this range must be limited to 10% of the nominal value of IO. Find the required value of R and the device
dimensions. For the fabrication-process technology used, μnCox = 400 µA/V2, 
 = 10 V/µm, and Vt = 0.5 V.
D 8.4 Sketch the p-channel counterpart of the current-source circuit of Fig. 8.1. Let the sources of Q1 and Q2 be
connected to VDD. Let VDD = 1.3 V, |Vt| = 0.4 V, Q1 and Q2 be matched, and μpCox = 80 µA/V2. Find the device
W/L ratios and the value of the resistor that sets the value of IREF so that a nominally 50-µA output current is
obtained. The current source is required to operate for VO as high as 1.1 V. Neglect channel-length modulation.
∨Show Answer

SIM D 8.5 A current source is implemented using the basic NMOS current mirror with IREF = 25 µA, L1 = L2 =
0.54 µm, W1 = 1.74 µm, and W2 = 4W1. The circuit is fabricated in the 0.18-µm CMOS technology with the
parameters given in Table K.1. Determine VOV, IOnominal, VCSmin, and Ro. Also, find IO for VO = 0.2 V, 0.7 V, 1.2
V, and 1.7 V.
Table K.1 Typical Values of CMOS Device Parameters
8.6 For the current-steering circuit of Fig. P8.6, find IO in terms of IREF and device W/L ratios.
Figure P8.6
D 8.7 The current-steering circuit of Fig. P8.7 is fabricated in a CMOS technology for which μnCox = 400 µA/V2,
μpCox = 100 µA/V2, Vtn = 0.5 V, Vtp = −0.5 V, 
 = 6 V/µm, and 
= 6 V/µm. If all devices have L = 0.5 µm,
design the circuit so that IREF = 20 µA, I2 = 80 µA, I3 = I4 = 50 µA, and I5 = 100 µA. Use the minimum possible
device widths needed to operate the current source Q2 with voltages at its drain as high as +0.8 V and to operate the
current sink Q5 with voltages at its drain as low as –0.8 V. Specify the widths of all devices and the value of R. Find
the output resistance of the current source Q2 and the output resistance of the current sink Q5.
∨Show Answer

(a)
(b)
Figure P8.7
*8.8 A PMOS current mirror consists of three PMOS transistors, one diode connected and two used as current
outputs. All transistors have 
 and L = 1.0 µm but three different widths,
namely, 10 µm, 20 µm, and 40 µm. When the diode-connected transistor is supplied from a 100-µA source, how
many different output currents are available? Repeat with two of the transistors, diodes connected and the third
used to provide current output. For each possible input-diode combination, give the values of the output currents
and of the VSG that results.
8.9 Consider the BJT current mirror of Fig. 8.7 with a nominal current transfer ratio of unity. Let the transistors
have IS = 6×10−18 A, β = 100, and VA = 35 V. For IREF = 100 µA, find IO when VO = 2 V. Also, find the output
resistance and the change in IO resulting from VO changing by 1.0 V.
8.10 Consider the basic BJT current mirror of Fig. 8.7 when Q1 and Q2 are matched and IREF = 0.2 mA. Neglecting
the effect of finite β, find the change in IO, both as an absolute value and as a percentage, corresponding to VO
changing from 0.5 V to 3 V. The Early voltage is 50 V.
8.11 Consider the basic bipolar current mirror of Fig. 8.7 for the case in which Q1 and Q2 are identical devices
having IS = 10−17A.
Assuming the transistor β is very high, find the range of VBE and IO corresponding to IREF increasing from 10
µA to 10 mA. Assume that Q2 remains in the active mode, and neglect the Early effect.
Find the range of IO corresponding to IREF in the range of 10 µA to 10 mA, taking into account the finite β.
Assume that β remains constant at 100 over the current range 0.1 mA to 5 mA but that at IC 
 10 mA and at
IC 
 10 µA, β = 50. Specify IO corresponding to IREF = 10 µA, 0.1 mA, 1 mA, and 10 mA. Note that β
variation with current causes the current transfer ratio to vary.
8.12 Consider the basic BJT current mirror of Fig. 8.7 for the case in which Q2 has m times the area of Q1. Show
that the current transfer ratio is given by Eq. (8.19). If β is specified to be a minimum of 50, what is the largest
current transfer ratio m possible if the error introduced by the finite β is limited to 10%?
∨Show Answer
∨Show Answer

D 8.13 Give the circuit for the pnp version of the basic current mirror of Fig. 8.7. If β of the pnp transistor is 50,
what is the current gain (or transfer ratio) IO /IREF for the case of identical transistors, neglecting the Early effect?
D 8.14 The current-source circuit of Fig. P8.14 uses a pair of matched pnp transistors having IS = 10−15A, β = 50,
and |VA| = 50 V. Design the circuit to provide an output current IO = 1 mA at VO = 1 V. What values of IREF and R
are needed? What is the maximum allowed value of VO while the current source continues to operate properly?
What change occurs in IO corresponding to VO changing from the maximum positive value to –5 V? Hint: Adapt
Eq. (8.21) for this case as:
Figure P8.14
8.15 Find the voltages at all nodes and the currents through all branches in the circuit of Fig. P8.15.
Assume |VBE| = 0.7 V and β = ∞.
 
∨Show Answer

Figure P8.15
8.16 For the circuit in Fig. P8.16, let |VBE| = 0.7 V and β = ∞. Find I, V1, V2, V3, V4, and V5 for (a) R = 10 kΩ and
(b) R = 100 kΩ.
Figure P8.16
∨Show Answer

(a)
(b)
D 8.17 Using the ideas embodied in Fig. 8.10, design a multiple-mirror circuit using power supplies of ±3 V to
create source currents of 0.1 mA, 0.2 mA, and 0.4 mA and sink currents of 0.3 mA, 0.5 mA, and 1 mA. Assume
that the BJTs have |VBE| 0.7 V and large β. What is the total power dissipated in your circuit?
*8.18 The circuit shown in Fig. P8.18 is known as a current conveyor.
Figure P8.18
Assuming that Y is connected to a voltage V, a current I is forced into X, and terminal Z is connected to a
voltage that keeps Q5 in the active region, show that a current equal to I flows through terminal Y, that a
voltage equal to V appears at terminal X, and that a current equal to I flows through terminal Z. Assume β to
be large, corresponding transistors are matched, and all transistors are operating in the active region.
With Y connected to ground, show that a virtual ground appears at X. Now, if X is connected to a +5-V supply
through a 10- kΩ resistor, what current flows through Z?
8.19 For the base-current-compensated mirror of Fig. 8.11, let the three transistors be matched and specified to
have a collector current of 1 mA at VBE = 0.7 V. For IREF of 100 µA and assuming β = 100, what will the voltage at
node x be? If IREF is increased to 1 mA, what is the change in VX? What is the value of IO obtained with VO = VX
in both cases? Give the percentage difference between the actual and ideal value of IO in each case. What is the
lowest voltage at the output for which proper current-source operation is maintained?
D 8.20 Extend the current-mirror circuit of Fig. 8.11 to n outputs. What is the resulting current transfer ratio from
the input to each output, IO/IREF? If the deviation from unity is to be kept at 0.2% or less, what is the maximum
possible number of outputs for BJTs with β = 100?
*8.21 For the base-current-compensated mirror of Fig. 8.11, show that the incremental input resistance (seen by the
reference current source) is approximately 2VT/IREF. Evaluate Rin for IREF = 100 µA. (Hint)
8.22 The MOSFETs in the current mirror of Fig. 8.12(a) have equal channel lengths of 0.5 µm, W1 = 5 µm, W2 =
30 µm, μnCox = 500 µA/V2, and 
. If the input bias current is 25 µA, find Rin, Ais, and Ro.
∨Show Answer

D 8.23 The MOSFETs in the current mirror of Fig. 8.12(a) have equal channel lengths, μnCox = 400 µA/V2 and 
V/µm. If the input bias current is 200 µA, find W1, W2, and L to obtain a nominal short-circuit current
gain of 4, an input resistance of 500 Ω, and an output resistance of 20 kΩ. What is the expected error in the current
transfer ratio due to channel-length modulation?
8.24 Figure P8.24 shows an amplifier utilizing a current mirror Q2–Q3. Here Q1 is a common-source amplifier fed
with vI = VGS + vi, where VGS is the gate-to-source dc bias voltage of Q1 and vi is a small signal to be amplified.
Find the signal component of the output voltage vO and hence the small-signal voltage gain vo/vi. Also, find the
small-signal resistance of the diode-connected transistor Q2 in terms of gm2, and hence the total resistance between
the drain of Q1 and ground. What is the voltage gain of the CS amplifier Q1? Neglect all ro’s.
Figure P8.24
*8.25 In a manner parallel to the one used for the MOS current mirror in Section 8.2.5, analyze the BJT mirror
circuit in Fig. P8.25 to determine its small-signal input resistance Rin, short-circuit current gain Ais ≡ io/ii, and
output resistance Ro. To do this, replace each of Q1 and Q2 with its hybrid-π model. Let Q1 and Q2 have the same
β, but let the EBJ area of Q2 be m times that of Q1. Assuming that ro1 ≫ 1/gm1, show that
Find the values of Rin, Ais, and Ro for the case I = 0.1 mA, m = 5, β = 100, and VA = 30 V.
∨Show Answer
∨Show Answer

Figure P8.25
8.26 Find the incremental (i.e., small-signal) resistance of each of the diode-connected transistors shown in Fig.
P8.26. Assume that the dc bias current I = 0.2 mA. For the MOSFET, let μnCox = 400 µA/V2 and W/L = 10.
Neglect ro for both devices.
Figure P8.26
Section 8.3: The Basic Gain Cell
8.27 Find gm, rπ, ro, and A0 for the CE amplifier of Fig. 8.13(b) when operated at I = 20 µA, 200 µA, and 2 mA.
Assume β = 100 and remains constant as I is varied, and that VA = 16 V. Present your results in a table.
8.28 Consider the CE amplifiers of Fig. 8.13(b) for the case of I = 0.5 mA, β = 200, and VA = 30 V. Find Rin, Avo,
and Ro. If you needed to raise Rin by a factor of 5 by changing I, what value of I is required, assuming that β
∨Show Answer

remains unchanged? What are the new values of Avo and Ro? If the amplifier is fed with a signal source having Rsig
= 10 kΩ and is connected to a load of 200- kΩ resistance, find the overall voltage gain, vo/vsig.
8.29 Find the intrinsic gain of an NMOS transistor fabricated in a process for which 
 and 
 =
10 V/µm. The transistor has a 0.4-µm channel length and is operated at VOV = 0.2 V. If a 1-mA/V transconductance
is required, what must ID and W be?
8.30 An NMOS transistor fabricated in a certain process is found to have an intrinsic gain of 40 V/V when operated
at an ID of 100 µA. Find the intrinsic gain for ID = 25 µA and ID = 400 µA. For each of these currents, find the
factor by which gm changes from its value at ID = 100 µA.
D 8.31 Consider an NMOS transistor fabricated in a 0.18-µm technology for which 
 and 
 It is required to obtain an intrinsic gain of 25 V/V and a gm of 1 mA/V. Using VOV = 0.2 V, find the
required values of L, W/L, and the bias current I.
D 8.32 Sketch the circuit for a current-source-loaded CS amplifier that uses a PMOS transistor for the amplifying
device. Assume the availability of a single +1.8-V dc supply. If the transistor is operated with |VOV| = 0.3 V, what is
the highest instantaneous voltage allowed at the drain?
8.33 An NMOS transistor operated with an overdrive voltage of 0.25 V is required to have a gm equal to that of an
npn transistor operated at IC = 50 µA. What must ID be? What value of gm is realized?
8.34 For an NMOS transistor with L = 0.5 µm fabricated in the 0.13-µm process specified in Table K.1 in
Appendix K, find gm, ro, and A0 if the device is operated with VOV = 0.15 V and ID = 50 µA. Also, find the
required device width W.
8.35 For an NMOS transistor with L = 0.54 µm fabricated in the 0.18-µm process specified in Table K.1 in
Appendix K, find gm, ro, and A0 obtained when the device is operated at ID = 200 µA with VOV = 0.2 V. Also, find
W.
8.36 Fill in the table below. For the BJT, let β = 100 and VA = 40 V. For the MOSFET, let μnCox = 400 µA/ V2, W/L
= 40, and VA = 10 V.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
8.37 A CS amplifier utilizes an NMOS transistor with L = 0.54 µm and W/L = 10. It was fabricated in a 0.18-µm
CMOS process for which μnCox = 400 µA/V2 and 
 What is the bias current of the transistor for
which A0 = 20 V/V?
8.38 A CS amplifier utilizes an NMOS transistor with L = 0.36 µm and W/L = 10. It was fabricated in a 0.18-µm
CMOS process for which μnCox = 400 µA/V2 and 
 = 5V/µm. Find the values of gm and A0 obtained at ID = 20
µA, 200 µA, and 2 mA.
D 8.39 An NMOS transistor is fabricated in the 0.18-µm process whose parameters are given in Table K.1 in
Appendix K. The device has a channel length twice the minimum and is operated at VOV = 0.25 V and ID = 10 µA.
What values of gm, ro, and A0 are obtained?
If ID is increased to 100 µA, what do VOV, gm, ro, and A0 become?
If the device is redesigned with a new value of W so that it operates at VOV = 0.25 V for ID = 100 µA, what do
gm, ro, and A0 become?
If the redesigned device in (c) is operated at 10 µA, find VOV, gm, ro, and A0.
Which designs and operating conditions produce the lowest and highest values of A0? What are these values?
In each of these two cases, if W/L is held at the same value but L is made 10 times larger, what gains result?
D 
8.40 
Find 
A0 
for 
an 
NMOS 
transistor 
fabricated 
in 
a 
CMOS 
process 
for 
which 
 The transistor has a 0.5-µm channel length and is operated with an
overdrive voltage of 0.15 V. What must W be for the NMOS transistor to operate at ID = 50 µA? Also, find the
values of gm and ro.
D 8.41 The circuit in Fig. 8.15(a) is fabricated in the 0.13-µm CMOS process whose parameters are specified in
Table K.1 (Appendix K). The supply voltage VDD = 1.3 V. The two transistors have L = 0.4 µm and are to be
operated at ID = 100 µA and |VOV| = 0.15 V. Find the required values of VG, (W/L)1, (W/L)2, and Av.
D 8.42 The circuit in Fig. 8.15(a) is fabricated in the 0.18-µm CMOS process whose parameters are specified in
Table K.1 (Appendix K). VDD = 1.8 V. Design the circuit to obtain a voltage gain Av = −20 V/V. Use devices of
equal length L operating at I = 100 µA and |VOV| = 0.2 V. Determine the required values of VG, L, (W/L)1, and
(W/L)2.
8.43 Figure P8.43 shows an IC MOS amplifier formed by cascading two common-source stages. Assuming that
VAn = |VAp| and that the biasing current sources have output resistances equal to those of Q1 and Q2, find an
expression for the overall voltage gain in terms of gm and ro of Q1 and Q2. If Q1 and Q2 are to be operated at equal
overdrive voltages, |VOV|, find the required value of |VOV| if |VA| = 4 V and the gain required is 300 V/V.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
Figure P8.43
*8.44 The NMOS transistor in the circuit of Fig. P8.44 has Vt = 0.5 V, 
, and VA = 20 V.
Neglecting the dc current in the feedback network and the effect of channel-length modulation, find VGS.
Then find the dc current in the feedback network and VDS. Verify that you were justified in neglecting the
current in the feedback network when you found VGS.
Find the small-signal voltage gain, vo/vi. What is the peak of the largest output sine-wave signal that is
possible while the NMOS transistor remains in saturation? What is the corresponding input signal?
Find the small-signal input resistance Rin.
Figure P8.44
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
(e)
SIM 8.45 The CMOS amplifier in Fig.8.16(a) is fabricated in the 0.13-µm CMOS process whose parameters are
specified in Table K.1. All transistors have L = 0.4 µm and are operated at VOV = 0.15 V, IREF = 100 µA and VDD =
1.3 V.
Find the dc component of vI and the W/L ratios of the transistors.
Determine the small-signal voltage gain.
What is the allowable range of signal swing at the output for almost-linear operation?
If the current-source load is replaced with a resistance RD connected to a power supply 
 as shown in Fig.
8.16(b), find the values of RD and 
 so that ID, the voltage gain, and the output signal swing remain
unchanged.
D 8.46 Consider the CMOS amplifier of Fig. 8.16(a) when fabricated with a process for which 
 Find IREF and (W/L)1 to obtain a voltage gain of –
20 V/V and an output resistance of 50 kΩ. Recall that Q2 and Q3 are matched. If Q2 and Q3 are to be operated at
the same overdrive voltage as Q1, what must their W/L ratios be?
D 8.47 Design the CMOS amplifier of Fig. 8.16(a) utilizing the 0.13-µm process whose parameters are specified in
Table K.1. The output voltage must be able to swing to within approximately 0.2 V of the power-supply rails (i.e.,
from 0.2 V to 1.1 V), and the voltage gain must be about 10 V/V. Design for a dc bias current of 50 µA, and use
devices with the same channel length. If the channel length is an integer multiple of the minimum 0.13 µm, what
channel length is needed and what W/L ratios are required? What gain is achieved? If it is required to raise the gain
by a factor of 2, what channel length would be required, and by what factor does the total gate area of the circuit
increase? VDD = 1.3 V.
*8.48 
The 
MOSFETs 
in 
the 
circuit 
of 
Fig. 
P8.48 
are 
matched, 
having 
. The resistance R = 1 MΩ.
For G and D open, what are the drain currents ID1 and ID2?
For ro = ∞, what is the voltage gain of the amplifier from G to D? (Hint)
For finite ro(|VA| = 20 V), what is the voltage gain from G to D and the input resistance at G?
If G is driven (through a large coupling capacitor) from a source vsig having a resistance of 20 kΩ, find the
voltage gain vd/vsig.
For what range of output signals do Q1 and Q2 remain in the saturation region?
∨Show Answer

(a)
(b)
(c)
(d)
Figure P8.48
8.49 Transistor Q1 in Fig. P8.49 is operating as a CE amplifier with an active load provided by transistor Q2, which
is the output transistor in a current mirror formed by Q2 and Q3. (Note that the biasing arrangement for Q1 is not
shown.)
Neglecting the finite base currents of Q2 and Q3, and assuming that their 
 and that Q2 has five
times the area of Q3, find the value of I.
If Q1 and Q2 are specified to have |VA| = 20 V, find ro1 and ro2 and hence the total resistance at the collector of
Q1.
Find rπ1 and gm1 assuming that β1 = 50.
Find Rin, Av, and Ro.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
Figure P8.49
Section 8.4: The CG and CB Amplifiers as Current Buffers
8.50 For the CG amplifier in Fig. 8.18, let gm = 2 mA/V, ro = 20 kΩ, Rs = 20 kΩ, and RL = 840 kΩ. Determine the
values of Rin, Ais, and Rout. If the signal source is converted to its Thévenin form, determine the voltage gain
vo/vsig, where vo = ioRL and vsig = isigRs.
8.51
For the CG amplifier in Fig. 8.18(a), show that the current gain io/isig is given by
For the case gm = 2 mA/V, ro = 20 kΩ, and Rs = 20 kΩ, find the current gain obtained with RL = 20 kΩ.
If RL is doubled (that is, increased by 100%), find the corresponding percentage change in current gain.
If RL is increased from 20 kΩ to 200 kΩ (that is, increased by 900%), what is the corresponding change in
current gain?
Using the results of (c) and (d), comment on the performance of the CG circuit as a current buffer.
D8.52 A CG stage is required to connect a 25- kΩ source to a 1- MΩ load. The CG transistor is to provide an
output resistance equal to that of the load. What approximate value of intrinsic gain must the transistor have? If the
available process fabrication technology provides 
 specify the required channel length. Operate
the transistor at VOV = 0.15 V.
D 8.53 Design the current source in Fig. P8.53 to deliver a current of 0.2 mA with an output resistance of 500 kΩ.
The transistor has VA = 20 V and Vt = 0.5 V. Design for VOV = 0.2 V and specify Rs and VBIAS.
Figure P8.53
∨Show Answer
∨Show Answer
∨Show Answer

D 8.54 Figure P8.54 shows a current source realized using a current mirror with two matched transistors Q1 and
Q2. Two equal resistances Rs are inserted in the source leads to increase the output resistance of the current source.
If Q2 is operating at gm = 2 mA/V and has VA = 5 V, and if the maximum allowed dc voltage drop across
Rs is 0.2 V, what is the maximum available output resistance of the current source? Assume that the
voltage at the common-gate node is approximately constant.
Figure P8.54
8.55 
In 
the 
common-gate 
amplifier 
circuit 
of 
Fig. 
P8.55, 
Q2 
and 
Q3 
are 
matched. 
 and all transistors have |Vt| = 0.5 V and |VA| = 5 V.
Figure P8.55
The signal vsig is a small sinusoidal signal with no dc component.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(a)
(b)
(c)
(d)
(e)
Neglecting the effect of VA, find the dc drain current of Q1 and the required value of VBIAS.
Find the values of gm1 and ro for all transistors.
Find the value of Rin.
Find the value of Rout.
Calculate the voltage gains vo/vi and vo/vsig.
How large can vsig be (peak-to-peak) while maintaining saturation-mode operation for Q1 and Q2?
8.56 For the CB amplifier in Fig. 8.25, let the transistor be biased at IC = 0.1 mA and have β = 100 and VA = 20 V.
The source resistance Re = 25 kΩ and the load resistance RL (implemented by a current source) is 1 MΩ. Determine
the values of Rin, Ais, and Rout. If the signal source is converted to its Thévenin form, determine the voltage gain
vo/vsig, where vo = ioRL and vsig = isigRe.
8.57
For the CB amplifier in Fig. 8.25, use the equivalent circuit in Fig. 8.25(b) to obtain an expression for the
current gain io/isig.
Find the current gain for the case gm = 5 mA/V, ro = 200 kΩ, β = 100, Re = 20 kΩ, and RL = 200 kΩ.
If RL is doubled (that is, increased by 100%), find the corresponding percentage change in current gain.
If RL is increased from 200 kΩ to 2 MΩ (that is, by 900%), what is the corresponding percentage change in
current gain?
Using the results of (c) and (d), comment on the performance of the CB circuit as a current buffer.
8.58 What value of load resistance RL causes the input resistance of the CB amplifier to be approximately double
the value of re?
8.59 For the constant-current source circuit shown in Fig. P8.59, find the collector current I and the output
resistance. The BJT is specified to have β = 100, VBE = 0.7 V, and VA = 25 V. If the collector voltage undergoes a
change of 2 V while the BJT remains in the active mode, what is the corresponding change in collector current?
Figure P8.59
∨Show Answer

D8.60 Consider the constant-current source circuit in Fig. P8.59 for the general case of an emitter resistance Re. Let
β = 100, VA = 25 V, and VBE = 0.7 V. Use the approximate expression for the output resistance Ro,
to obtain a relationship between the output resistance Ro and the current I. Hence, find the output resistance for I =
0.1 mA, 0.2 mA, 0.5 mA, and 1 mA. For each case, give the required value of Re.
8.61 Find the value of the resistance Re, which, when connected in the emitter lead of a CE BJT amplifier, raises
the output resistance by a factor of (a) 5, (b) 10, and (c) 50. What is the maximum possible factor by which the
output resistance can be raised, and at what value of Re is it achieved? Assume the BJT has β = 100 and is biased at
IC = 0.2 mA.
Section 8.5: The Cascode Amplifier
D 8.62 In a MOS cascode amplifier, the cascode transistor is required to raise the output resistance by a factor of
20. If the transistor is operated at VOV = 0.2 V, what must its VA be? If the process technology specifies 
, what channel length must the transistor have?
8.63 The cascode amplifier in Fig. 8.28(a) is fabricated using two identical transistors having VA = 3 V and
operated at VOV = 0.15 V. What is the realized open-circuit voltage gain?
D 8.64 For a cascode current source such as that in Fig. 8.30, show that if the two transistors are identical, the
current I supplied by the current source and the output resistance Ro are related by IRo = 2|VA|2 / |VOV|. Now
consider the case of transistors that have |VA| = 3 V and are operated at |VOV| of 0.15 V. Also, let μpCox = 100
µA/V2. Find the W/L ratios required and the output resistance realized for the two cases: (a) I = 50 µA and (b) I =
200 µA. Assume that VSD for the two devices is the minimum required (i.e., |VOV|).
D *8.65 For a cascode current source, such as that in Fig. 8.30, show that if the two transistors are identical, the
current I supplied by the current source and the output resistance Ro are related by
Now consider the case of a 0.18-µm technology for which 
 and let the transistors be operated at
|VOV| = 0.2 V. Find the figure-of-merit IRo for the three cases of L equal to the minimum channel length, twice the
minimum, and three times the minimum. Complete the entries of the table at the bottom of the page. Give W/L and
the area 2WL in terms of n, where n is the value of W/L for the case I = 0.01 mA. In the table, Av denotes the gain
obtained in a cascode amplifier such as that in Fig. 8.31 that utilizes our current source as load and which has the
same values of gm and Ro as the current-source transistors.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
For each current value, what is the price paid for the increase in Ro and Av obtained as L is increased?
For each value of L, what advantage is obtained as I is increased, and what is the price paid? (Hint)
Contrast the performance obtained from the circuit with the largest area with that obtained from the circuit
with the smallest area.
D 8.66 Design the cascode amplifier of Fig. 8.28(a) to obtain gm1 = 3mA/V and Ro = 150 kΩ. Use the
0.13-µm technology whose parameters are specified in Table K.1. Determine L, W/L, VG2, and I. Use
identical transistors operated at VOV = 0.15 V, and design for the maximum possible negative signal
swing at the output. What is the value of the minimum permitted output voltage?
D 8.67 Design the circuit of Fig. 8.30 to provide an output current of 100 µA. Use VDD = 1.3 V, and assume the
PMOS transistors to be identical and have μpCox = 128 µA/V2, Vtp = −0.4 V, and |VA| = 3 V. The current source is
to have the widest possible signal swing at its output. Design for VOV = 0.15 V, and specify the values of the
transistor W/L ratios and of VG3 and VG4. What is the highest allowable voltage at the output? What is the value of
Ro?
8.68 The cascode amplifier of Fig. 8.31 is operated at a current of 0.2 mA with all devices operating at |VOV| = 0.25
V. All devices have |VA| = 4 V. Find gm1, the output resistance of the amplifier, Ron, the output resistance of the
current source, Rop, the overall output resistance, Ro, and the voltage gain, Av.
D 8.69 Design the CMOS cascode amplifier in Fig. 8.31 for the following specifications: gm1 = 1 mA/V and Av =
−280 V/V. Assume that the amplifier is fabricated in the 0.18-µm CMOS process specified in Table K.1 in
Appendix K. Use the same channel length L for all devices and operate all four devices at |VOV| = 0.2 V. Determine
the required channel length L, the bias current I, and the W/L ratio for each of four transistors. Assume that suitable
bias voltages have been chosen, and neglect the Early effect in determining the W/L ratios.
8.70 The cascode transistor can be thought of as providing a “shield” for the input transistor from the voltage
variations at the output. To quantify this “shielding” property of the cascode, consider the situation in Fig. P8.70.
Here we have grounded the input terminal (i.e., reduced vi to zero), applied a small change vx to the output node,
and denoted the voltage change that results at the drain of Q1 by vy. By what factor is vy smaller than vx?
∨Show Answer
∨Show Answer

Figure P8.70
8.71 Consider the cascode amplifier of Fig. 8.31 with the dc component at the input VI = 0.6 V, VG2 = 0.9 V, VG3 =
0.4 V, VG4 = 0.7 V, and VDD = 1.3 V. If all devices are matched, that is, kn1 = kn2 = kp3 = kp4, and have equal |Vt| of
0.4 V, what is the overdrive voltage at which the four transistors are operating? What is the allowable voltage range
at the output?
SIM 8.72 A CMOS cascode amplifier such as that in Fig. 8.32(a) has identical CS and CG transistors that have W/L
= 5.4 µm/0.36 µm and biased at I = 0.2 mA. The circuit is fabricated in the 0.18-µm process specified in Table K.1.
At what value of RL does the gain become –100 V/V? What is the voltage gain of the common-source stage?
8.73 The purpose of this problem is to investigate the signal currents and voltages at various points throughout a
cascode amplifier circuit. Knowledge of this signal distribution is very useful in designing the circuit so as to allow
for the required signal swings. Figure P8.73 shows a CMOS cascode amplifier with all dc voltages replaced with
signal grounds. As well, we have explicitly shown the resistance ro of each of the four transistors. For simplicity,
we are assuming that the four transistors have the same gm and ro. The amplifier is fed with a signal vi.
∨Show Answer

(a)
(b)
(c)
Figure P8.73
Determine R1, R2, and R3. Assume 
Determine i1, i2, i3, i4, i5, i6, and i7, all in terms of vi. (Hint)
Determine v1, v2, and v3, all in terms of vi.

(d)
If vi is a 5-mV peak sine wave and gmro = 20, sketch and clearly label the waveforms of v1, v2, and v3.
8.74 Figure P8.74 shows an amplifier known as a “double cascode.” It uses an additional CG transistor Q3 to
increase the resistance by an additional factor (gm3ro3). Find an expression for the output resistance Ro and the
voltage gain Avo ≡ vo/vi (assume the current-source load to be ideal). For identical transistors with gm = 2 mA/V
and ro = 15 kΩ, find Ro and Avo.
Figure P8.74
8.75 A cascode current source formed of two pnp transistors for which β = 50 and VA = 6 V supplies a current of
0.2 mA. What is the output resistance?
8.76 Use Eq. (8.86) to show that for a BJT cascode current source utilizing identical pnp transistors and supplying a
current I,
Evaluate the figure-of-merit IRo for the case |VA| = 5 V and β = 50. Now find Ro for the cases of I = 0.1, 0.5, and
1.0 mA.
8.77 Consider the BJT cascode amplifier of Fig. 8.34 for the case that all transistors have equal β and ro. Show that
the voltage gain Av can be expressed in the form
∨Show Answer

Evaluate Av for the case |VA| = 5 V and β = 50. Note that except for the fact that β depends on I as a second-order
effect, the gain is independent of the bias current I!
8.78 A bipolar cascode amplifier has a current-source load with an output resistance βro. Let β = 50, |VA| = 32 V,
and I = 0.25 mA. Find the voltage gain Av.
8.79 In this problem, we will explore the difference between using a BJT as cascode device and a MOSFET as
cascode device. Refer to Fig. P8.79(a) and (b). Given the following data, calculate gm1, Ro, and Avo for the circuits
(a) and (b): I = 100 µA, β = 125, μnCox = 400 µA/V2, W/L = 25, VA = 1.8 V
Figure P8.79
Section 8.6: The Integrated-Circuit Source Follower
8.80 A source follower for which 
and Vt = 0.5 V is required to provide a dc level shift (between input and output) of 0.8 V. What must the bias
current be? Find gm, gmb, ro, Avo, and Ro. Assume that the bias current source has an output resistance equal to ro.
Also find the voltage gain when a load resistance of 3 kΩ is connected to the output.
Section 8.7: Current-Mirror Circuits with Improved Performance
8.81 Consider a cascode NMOS mirror using devices fabricated in the 0.13-µm CMOS process specified in Table
K.1. Let all transistors have W/L = 3.9 µm/0.39 µm, and let IREF = 50 µA. Find the minimum voltage required at
the output and the output resistance.
∨Show Answer
∨Show Answer

SIM 8.82 A particular cascoded NMOS current mirror, such as that shown in Fig. 8.36, is fabricated in the 0.18-µm
CMOS process specified in Table K.1. All transistors have equal channel lengths L = 0.54µm. Width W1 = W4 =
2.7 µm, and W2 = W3 = 27 µm. The reference current IREF is 20 µA. What output current results? What are the
voltages at the gates of Q2 and Q3? What is the lowest voltage at the output for which proper current-source
operation is possible? What are the values of gm and ro of Q2 and Q3? What is the output resistance of the mirror?
8.83 To further increase the output resistance of a cascode current source or current mirror, another level of
cascoding can be employed as shown is Fig. P8.83. Find the output resistance of this double-cascode current
mirror.
Figure P8.83
8.84 Consider the Wilson current-mirror circuit of Fig. 8.37(a) when supplied with a reference current IREF of 0.2
mA. Find the output resistance Ro. What is the change in IO corresponding to a change of +1 V in the voltage at the
collector of Q3? Give both the absolute value and the percentage change. Let β = 100 and VA = 20 V.
D 8.85 (a) The circuit in Fig. P8.85 is a modified version of the Wilson current mirror. Here the output transistor is
“split” into two matched transistors, Q3 and Q4. Find IO1 and IO2 in terms of IREF. Assume all transistors to be
matched with current gain β.
∨Show Answer
∨Show Answer

(a)
(b)
Figure P8.85
(b) Use this idea to design a circuit that generates currents of 0.1 mA, 0.2 mA, and 0.4 mA, using a reference
current source of 0.7 mA. What are the actual values of the currents generated for β = 50?
D 8.86 Use the pnp version of the Wilson current mirror to design a 0.1-mA current source. The current source is
required to operate with the voltage at its output terminal as low as –1.5 V. If the power supplies available are ±1.5
V, what is the highest voltage possible at the output terminal?
*8.87 For the Wilson current mirror of Fig. 8.37(a), show that the incremental input resistance seen by IREF is
approximately 2VT/IREF. (Neglect the Early effect in this derivation and assume a signal ground at the output.)
Evaluate Rin for IREF = 0.2 mA.
8.88 The Wilson MOS mirror in Fig. 8.38(a) is fabricated in the 0.13-µm CMOS process specified in Table K.1. All
three transistors are identical with channel length L = 4Lmin and W/L = 16. For IREF = 100 µA, find the voltage at
the gates of Q1 and Q2, and the voltage at the gate of Q3. What is the minimum voltage required at the drain of Q3
for proper operation of the mirror? Find the output resistance Ro.
8.89 Show that the incremental input resistance (seen by IREF) for the Wilson MOS mirror of Fig. 8.38(a) is 2/gm.
Assume that all three transistors are identical and neglect the Early effect. Also, assume a signal ground at the
output. (Hint)
*8.90 Consider the Wilson MOS mirror of Fig. 8.88(a) for the case of all transistors identical, with W/L = 10, μnCox
= 400 µA/V2, Vtn = 0.5 V, and VA = 18 V. The mirror is fed with IREF = 180 µA.
Obtain an estimate of VOV and VGS at which the three transistors are operating, by neglecting the Early effect.
Noting that Q1 and Q2 are operating at different VDS, obtain an approximate value for the difference in their
currents and hence determine IO.
∨Show Answer

(c)
(d)
(e)
(f)
To eliminate the systematic error between IO and IREF caused by the difference in VDS between Q1 and Q2, a
diode-connected transistor Q4 can be added to the circuit as shown in Fig. 8.38(c). What do you estimate IO to
be now?
What is the minimum allowable voltage at the output node of the mirror?
Convince yourself that Q4 will have no effect on the output resistance of the mirror. Find Ro.
What is the change in IO (both absolute value and percentage) that results from ΔVO = 1 V?
8.91 Using the idea employed in the modified Wilson MOS mirror in Fig. 8.38(c), modify the Wilson BJT mirror of
Fig. 8.37(a) to eliminate the systematic error resulting from the difference in VCE of Q1 and Q2.
D 8.92 (a) Utilizing a reference current of 200 µA, design a Widlar current source to provide an output current of
20 µA. Assume β to be high.
(b) If β = 200 and VA = 50 V, find the value of the output resistance, and find the change in output current
corresponding to a 5-V change in output voltage.
D 8.93 (a) For the circuit in Fig. P8.93, assume BJTs with high β and vBE = 0.7 V at 1 mA. Find the value of R that
will result in IO = 10 µA.
(b) For the design in (a), find Ro assuming β = 100 and VA = 50 V.
Figure P8.93
D 8.94 If the pnp transistor in the circuit of Fig. P8.94 is characterized by its exponential relationship with a scale
current IS, show that the dc current I is determined by IR = VT ln(I/IS). Assume Q1 and Q2 to be matched and Q3,
Q4, and Q5 to be matched. Find the value of R that yields a current I = 100 µA. For the BJT, VEB = 0.7 V at IE =
1mA.
∨Show Answer

Figure P8.94

9.1
9.2
9.3
9.4
9.5
9.6
•
•
•
•
•
CHAPTER 9
Differential and Multistage
Amplifiers
Introduction
The MOS Differential Pair
The BJT Differential Pair
Common-Mode Rejection
DC Offset
The Differential Amplifier with a Current-Mirror Load
Multistage Amplifiers
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The essence of the operation of the MOS and the bipolar differential amplifiers: how they reject
common-mode noise or interference and amplify differential signals.
The analysis and design of MOS and BJT differential amplifiers.
Differential-amplifier circuits of varying complexity, using passive resistive loads, current-source
loads, and cascodes—the building blocks we studied in Chapter 8.
An ingenious and highly popular differential-amplifier circuit that utilizes a current-mirror load.
The structure, analysis, and design of amplifiers composed of two or more stages in cascade. Two
practical examples are studied in detail: a two-stage CMOS op amp and a four-stage bipolar op amp.

Introduction
The differential-pair or differential-amplifier configuration is the most widely used building block in analog
integrated-circuit design. For instance, the input stage of every op amp is a differential amplifier. Also, the
BJT differential amplifier is the basis of a very-high-speed logic-circuit family, called emitter-coupled logic
(ECL).
Initially invented in the 1940s for use with vacuum tubes, the basic differential-amplifier configuration
was subsequently implemented with discrete bipolar transistors. However, it was the advent of integrated
circuits that has made the differential pair extremely popular in both bipolar and MOS technologies. There
are two reasons why differential amplifiers are so well suited for IC fabrication: First, as we shall see, the
performance of the differential pair depends critically on the matching between the two sides of the circuit.
Integrated-circuit fabrication is capable of providing matched devices whose parameters track over wide
ranges of changes in environmental conditions. Second, by their very nature, differential amplifiers utilize
more components (approaching twice as many) than single-ended circuits. Integrated-circuit technology
makes available large numbers of transistors at relatively low cost.
We assume that the reader is familiar with the basic concept of a differential amplifier as presented in
Section 2.1. Nevertheless it is worthwhile to answer the question: Why differential? Basically, there are two
reasons for using differential in preference to single-ended amplifiers. First, differential circuits are much
less sensitive to noise and interference than single-ended circuits. Consider, for instance, two wires carrying
a small differential signal as the voltage difference between the two wires. Now, assume that there is an
interference signal that is coupled to the two wires, either capacitively or inductively. As the two wires are
physically close together, the interference voltages on the two wires (i.e., between each of the two wires and
ground) will be equal. Since, in a differential system, only the difference signal between the two wires is
sensed, it will contain no interference component!
The second reason for preferring differential amplifiers is that the differential configuration enables us to
bias the amplifier and to couple amplifier stages together without the need for bypass and coupling
capacitors such as those utilized in the design of discrete-circuit amplifiers (Section 7.5). This is another
reason why differential circuits are ideally suited for IC fabrication where large capacitors are impossible to
fabricate economically.
The major topic of this chapter is the differential amplifier in both its MOS and bipolar implementations.
You will see that the design and analysis of differential amplifiers relies heavily on the material on single-
stage amplifiers presented in Chapters 7 and 8. We will follow the study of differential amplifiers with
examples of practical multistage amplifiers, again in both MOS and bipolar technologies.

9.1 The MOS Differential Pair
Figure 9.1 shows the basic MOS differential-pair configuration. It consists of two matched transistors, Q1
and Q2, whose sources are joined together and biased by a constant-current source I. The latter is usually
implemented by a MOSFET circuit of the type studied in Sections 8.2 and 8.5. For the time being, let’s
assume that the current source is ideal with infinite output resistance. Although each drain is shown
connected to the positive supply through a resistance RD, in most cases active (current-source) loads are
used, as we will see shortly. For the time being, however, we will explain the essence of the differential-pair
operation using simple resistive loads. Whatever type of load is used, it is essential that the MOSFETs
operate in the saturation region at all times.
Figure 9.1 The basic MOS differential-pair configuration.
The differential amplifier in Fig. 9.1 is fed with two voltages, vG1 and vG2, which can in general be
expressed as

(9.1)
(9.2)
where VCM, the average of vG1 and vG2, is the common-mode input, and vid, the difference between vG1 and
vG2, is the differential input.
9.1.1 Operation with a Common-Mode Input Voltage
To see how the differential pair works, consider first the case when equal dc voltages, VCM, are applied to
the two gate terminals. That is, as shown in Fig. 9.2, vG1 = vG2 = VCM. Since Q1 and Q2 are matched, the
current I will divide equally between the two transistors. Thus, iD1 = iD2 = I/2, and the voltage at the sources,
VS, will be
Figure 9.2 The MOS differential pair with a common-mode input voltage VCM.
where VGS is the gate-to-source voltage corresponding to a drain current of I/2. Neglecting channel-length
modulation, VGS and I/2 are related by
or in terms of the overdrive voltage VOV,

(9.3)
(9.4)
(9.5)
(9.6)
(9.7)
(9.8)
(a)
(b)
(c)
The voltage at each drain will be
and the output voltage between the two drains
will be zero.
Now, let us vary the value of the common-mode voltage VCM. We see that the current I will continue to
divide equally between Q1 and Q2, and thus the voltages at the drains will not change and the output voltage
VO will continue to be zero. Thus the differential pair does not respond to (i.e., it rejects) common-mode
input signals.
An important specification of a differential amplifier is its input common-mode range. This is the range
of VCM over which the differential pair operates properly. The highest value of VCM is limited by the
requirement that Q1 and Q2 remain in saturation, thus
The lowest value of VCM is determined by the need to allow for a sufficient voltage across the current source
I for it to operate properly. If a voltage VCS is needed across the current source, then
Example 9.1
For the MOS differential pair with a common-mode voltage VCM applied, as shown in Fig. 9.2, let VDD = VSS =
1.5 V, 
(W/L) = 4 mA/V2, Vt = 0.5 V, I = 0.4 mA, and RD = 2.5 kΩ, and neglect channel-length modulation.
Assume that the current source I requires a minimum voltage of 0.4 V to operate properly.
Find VOV and VGS for each transistor.
For VCM = 0, find VS, ID1, ID2, VD1, VD2, and VO.
Repeat (b) for VCM = +1 V.

(d)
(e)
(f)
9.1
Repeat (b) for VCM = − 0.2 V.
What is the highest permitted value of VCM?
What is the lowest value allowed for VCM?
EXERCISE
For the amplifier in Example 9.1, find the input common-mode range for the case in which the two
drain resistances RD are increased by a factor of 2.
9.1.2 Operation with a Differential Input Voltage
Next we apply a difference or differential input voltage by grounding the gate of Q2 (i.e., setting vG2 = 0)
and applying a signal vid to the gate of Q1, as shown in Fig. 9.4. We can see that since vid = vGS1 – vGS2, if
vid is positive, vGS1 will be greater than vGS2 and hence iD1 will be greater than iD2; correspondingly, vD1
will be lower than vD2, and the difference output voltage vO will be positive. On the other hand, when vid is
negative, vGS1 will be lower than vGS2, iD1 will be smaller than iD2, and correspondingly vD1 will be higher
than vD2; in other words, the difference or differential output voltage vO will be negative.
∨Show Solution
∨Show Answer

(9.9)
Figure 9.4 The MOS differential pair with a differential input signal vid applied. With vid positive: vGS1 > vGS2, iD1 >
iD2, and vD1 < vD2; thus vO will be positive. With vid negative: vGS1 < vGS, iD1 < iD2, and vD1 > vD2; thus vO will be
negative.
From the above, we see that the differential pair responds to difference-mode or differential input
signals by providing a corresponding differential output signal between the two drains. At this point, it is
useful to inquire about the value of vid that causes the entire bias current I to flow in one of the two
transistors. In the positive direction, this happens when vGS1 reaches the value that corresponds to iD1 = I,
and vGS2 is reduced to a value equal to the threshold voltage Vt, at which point vS = −Vt. The value of vGS1
can be found from
as
where VOV is the overdrive voltage corresponding to a drain current of I/2 (Eq. 9.5). Thus, the value of vid at
which the entire bias current I is steered into Q1 is

(9.10)
9.2
If vid is increased beyond 
 remains equal to I, vGS1 remains equal to 
, and
vS rises correspondingly, thus keeping Q2 off. In a similar manner we can show that in the negative direction,
as vid reaches 
 turns off and Q2 conducts the entire bias current I. Thus the current I can be
steered from one transistor to the other by varying vid in the range
which defines the range of differential-mode operation. Finally, observe that we have assumed that Q1 and
Q2 remain in saturation even when one of them is conducting the entire current I.
EXERCISE
For the MOS differential pair specified in Example 9.1 find (a) the value of vid that causes Q1 to
conduct the entire current I, and the corresponding values of vD1, vD2, and vO; (b) the value of vid that
causes Q2 to conduct the entire current I, and the corresponding values of vD1, vD2, and vO; (c) the
corresponding range of the differential output voltage vO.
To use the differential pair as a linear amplifier, we keep the differential input signal vid small. As a
result, the current in one of the transistors (Q1 when vid is positive) will increase by an increment ∆I
proportional to vid, to (I/2 + ∆I). Simultaneously, the current in the other transistor will decrease by the same
amount to become (I/2 – ∆I). A voltage signal –∆IRD develops at one of the drains and an opposite-polarity
signal, ∆IRD, develops at the other drain. Thus the output voltage taken between the two drains, vO, will be
2∆I RD, which is proportional to the differential input signal vid. The small-signal operation of the
differential pair will be studied in detail in Section 9.1.4.
9.1.3 Large-Signal Operation
We shall now derive expressions for the drain currents iD1 and iD2 in terms of the input differential signal vid
≡ vG1 – vG2. The derivation assumes that the differential pair is perfectly matched and neglects channel-
length modulation (λ = 0 or VA = ∞). Thus these expressions do not depend on the details of the circuit to
which the drains are connected, and we do not show these connections in Fig. 9.5; we simply assume that the
circuit maintains Q1 and Q2 in the saturation region of operation at all times.
∨Show Answer

(9.11)
(9.12)
(9.13)
(9.14)
(9.15)
(9.16)
Figure 9.5 The MOSFET differential pair for the purpose of deriving the transfer characteristics, iD1 and iD2 versus vid =
vG1 – vG2.
To begin with, we express the drain currents of Q1 and Q2 as
Taking the square roots of both sides of each of Eqs. (9.11) and (9.12), we obtain
Subtracting Eq. (9.14) from Eq. (9.13) and substituting
results in
The constant-current bias imposes the constraint

(9.17)
(9.18)
(9.19)
(9.20)
(9.21)
(9.22)
Equations (9.16) and (9.17) are two equations in the two unknowns iD1 and iD2 and can be solved as follows:
Squaring both sides of Eq. (9.16) and substituting for iD1 + iD2 = I gives
Substituting for iD2 from Eq. (9.17) as iD2 = I − iD1 and squaring both sides of the resulting equation
provides a quadratic equation in iD1 that can be solved to yield
Now, since the increment in iD1 above the bias value of I/2 must have the same polarity as vid, only the root
with the “+” sign in the second term is physically meaningful; thus,
The corresponding value of iD2 is found from iD2 = I − iD1 as
At the bias (quiescent) point, vid = 0, leading to
Correspondingly,
where

(9.23)
(9.24)
This relationship enables us to replace 
 in Eqs. (9.18) and (9.19) with 
 to express iD1 and
iD2 in the alternative form
These two equations describe the effect of applying a differential input signal vid on the currents iD1 and iD2.
They can be used to obtain the normalized plots, iD1/I and iD2/I versus vid/VOV, shown in Fig. 9.6. Note that
at vid = 0, the two currents are equal to I/2. Making vid positive causes iD1 to increase and iD2 to decrease by
equal amounts, to keep the sum constant, iD1 + iD2 = I. The current is steered entirely into Q1 when vid
reaches the value 
, as we found out earlier. For vid negative, identical statements can be made by
interchanging iD1 and iD2. In this case, 
 steers the current entirely into Q2. Finally, note that
the plots in Fig. 9.6 are universal, as they apply to any MOS differential pair.

(9.25)
(9.26)
(9.27)
Figure 9.6 Normalized plots of the currents in a MOSFET differential pair. Note that VOV is the overdrive voltage at
which Q1 and Q2 operate when conducting drain currents equal to I/2, the equilibrium situation. These graphs are
universal and apply to any MOS differential pair.
The transfer characteristics of Eqs. (9.23) and (9.24) and Fig. 9.6 are obviously nonlinear. This is due to
the term involving 
. Since we are interested in obtaining linear amplification from the differential pair, we
will strive to make this term as small as possible. For a given value of VOV, the only thing we can do is keep
(vid/2) much smaller than VOV,
which is the condition for the small-signal approximation. It results in
and
which, as expected, indicate that iD1 increases by an increment id, and iD2 decreases by the same amount, id,
where id is proportional to the differential input signal vid,
Recalling from our study of the MOSFET amplifier in Chapter 7 that a MOSFET biased at a current ID has a
transconductance gm = 2ID/VOV, we recognize the factor (I/VOV) in Eq. (9.27) as gm of each of Q1 and Q2,
which are biased at ID = I/2. Now, why vid/2? Simply because vid divides equally between the two devices
with vgs1 = vid/2 and vgs2 = −vid/2, which causes Q1 to have a current increment id and Q2 to have a current
decrement id. We shall analyze the small-signal operation of the MOS differential pair shortly. At this time,
however, we wish to return to Eqs. (9.23) and (9.24) and note that for a given vid, and a given I, linearity can
be increased by increasing the overdrive voltage VOV at which each of Q1 and Q2 is operating. This can be
done by using smaller W/L ratios. The price paid for the increased linearity is a reduction in gm and hence a
reduction in gain. In this regard, we observe that the normalized plot of Fig. 9.6, though compact, masks this
design degree of freedom. Figure 9.7 shows plots of the transfer characteristics iD1,2/I versus vid for various
values of VOV. These graphs clearly illustrate the linearity–transconductance trade-off obtained by changing
the value of VOV: The linear range of operation can be extended by operating the MOSFETs at a higher VOV
(by using smaller W/L ratios) at the expense of reducing gm and hence the gain. This trade-off is based on the
assumption that the bias current I is being kept constant. The bias current can, of course, be increased to

9.3
obtain a higher gm. The expense for doing this, however, is increased power dissipation, a serious limitation
in IC design.
Figure 9.7 The linear range of operation of the MOS differential pair can be extended by operating the transistor at a
higher value of VOV.
EXERCISE
A MOS differential pair is operated at a bias current I of 0.4 mA. If μnCox = 0.2 mA/V2, find the
required values of W/L and the resulting gm if the MOSFETs are operated at VOV = 0.2, 0.3, and 0.4 V.
For each value, give the maximum |vid| for which the term involving 
 in Eqs. (9.23) and (9.24),
namely, 
, is limited to 0.1.
9.1.4 Small-Signal Operation
In this section we build on our understanding of the basic operation of the differential pair and consider in
some detail how it operates as a linear amplifier.
Differential Gain Figure 9.8(a) shows the MOS differential amplifier with input voltages
∨Show Solution

(9.28)
Figure 9.8 (a) Small-signal analysis of the MOS differential amplifier: The circuit with a common-mode voltage applied
to set the dc bias voltage at the gates and with vid applied in a complementary (or balanced) manner.
Figure 9.8 (b) Small-signal analysis of the MOS differential amplifier: The circuit prepared for small-signal analysis.
Figure 9.8 (c) Small-signal analysis of the MOS differential amplifier: The circuit in (b), with the MOSFETs replaced
with T models.
and

(9.29)
(9.30)
Here, VCM denotes a common-mode dc voltage within the input common-mode range of the differential
amplifier. It is needed in order to set the dc voltage of the MOSFET gates. Typically VCM is at the middle
value of the power supply. Thus, for our case, where two complementary supplies are utilized, VCM is
typically 0 V.
The differential input signal vid is applied in a complementary (or balanced) manner; that is, vG1 is
increased by vid/2 and vG2 is decreased by vid/2. This would be the case, for instance, if the differential
amplifier were fed from the output of another differential-amplifier stage. Sometimes, however, the
differential input is applied in a single-ended fashion, as we saw earlier in Fig. 9.4. The difference in the
resulting performance is too subtle for our current needs.
As Fig. 9.8(a) shows, the amplifier output can be taken either between one of the drains and ground or
between the two drains. In the first case, the resulting single-ended outputs vo1 and vo2 will be riding on top
of the dc voltages at the drains, 
. This is not the case when the output is taken between the two
drains; the resulting differential output vod (having a 0-V dc component) will be entirely a signal
component. Later, we will see other significant advantages to taking the output voltage differentially.
Our objective now is to analyze the small-signal operation of the differential amplifier of Fig. 9.8(a) to
determine its voltage gain in response to the differential input signal vid. To that end we show in Fig. 9.8(b)
the circuit with the power supplies grounded, the bias current source I removed, and VCM eliminated; that is,
only signal quantities are shown. For the time being we will neglect the effect of the MOSFET ro. Finally,
note that Q1 and Q2 are both biased at a dc current of I/2 and operating at an overdrive voltage VOV.
From the symmetry of the circuit and the balanced manner in which vid is applied, we observe that the
signal voltage at the joint source connection must be zero, acting as a sort of virtual ground. Thus Q1 has a
gate-to-source voltage signal vgs1 = vid/2, and Q2 has vgs2 = −vid/2. Assuming 
, the condition
for the small-signal approximation, the changes resulting in the drain currents of Q1, and Q2 will be
proportional to vgs1 and vgs2, respectively. Thus Q1 will have a drain current increment gm(vid/2), and Q2
will have a drain current decrement gm(vid/2), where gm denotes the equal transconductances of the two
devices,
These results correspond to those obtained earlier using the large-signal transfer characteristics and imposing
the small-signal condition, Eqs. (9.25) to (9.27). To further illustrate the small-signal operation of the
differential amplifier, we show in Fig. 9.8(c) its equivalent circuit obtained by replacing each of the
MOSFETs with the corresponding T model. We encourage you to study the correspondence between the
elements and quantities in Fig. 9.8(b) and 9.8(c).
It is useful at this point to observe again that a signal ground is established at the source terminals of the
transistors without resorting to the use of a large bypass capacitor, clearly a major advantage of the
differential-pair configuration.

(9.31)
(9.32)
(9.33)
(9.34)
(9.35)
The essence of differential-pair operation is that it provides complementary current signals in the drains;
what we do with the resulting pair of complementary current signals is, in a sense, a separate issue. Here, of
course, we are simply passing the two current signals through a pair of matched resistors, RD, and thus
obtaining the drain voltage signals
and
If the output is taken in a single-ended fashion, the resulting gain becomes
or
Alternatively, if the output is taken differentially, the gain becomes
Thus another advantage of taking the output differentially is an increase in gain by a factor of 2 (6 dB). It
should be noted, however, that although differential outputs are preferred, a single-ended output is needed in
some applications. We will have more to say about this later.
An alternative and useful way of viewing the operation of the differential pair in response to a
differential input signal vid is illustrated in Fig. 9.9(a) and (b). Here we are making use of the fact that the
resistance between gate and source of a MOSFET, looking into the source, is 1/gm. As a result, between G1
and G2 we have a total resistance, in the source circuit, of 2/gm. It follows that we can obtain the current id
simply by dividing vid by 2/gm, as indicated in the figure.

Figure 9.9 (a) An alternative view of the small-signal differential operation of the MOS differential pair: analysis done
directly on the circuit.
Figure 9.9 (b) An alternative view of the small-signal differential operation of the MOS differential pair: analysis using
equivalent-circuit models.
The Differential Half-Circuit When a symmetrical differential amplifier is fed with a differential signal in a
balanced manner, as in the case in Fig. 9.8(a), the performance can be determined by considering only half
the circuit. The equivalent differential half-circuit is shown in Fig. 9.10. It has a grounded source, a result of
the virtual ground that appears on the common sources’ terminal of the MOSFETs in the differential pair.
Note that Q1 is operating at a drain bias current of (I/2) and an overdrive voltage VOV.

(9.36)
Figure 9.10 The equivalent differential half-circuit of the differential amplifier of Fig. 9.8. Here Q1 is biased at I/2 and is
operating at VOV. This circuit can be used to determine the differential voltage gain of the differential amplifier Ad =
vod/vid.
We can determine the differential gain Ad directly from the half-circuit. For instance, if we wish to take
ro of Q1 and Q2 into account, we can use the half-circuit with the following result:
More significantly, we can determine the frequency response of the differential gain by analyzing the half-
circuit, as we shall do in Chapter 10.
Example 9.2
Give the differential half-circuit of the differential amplifier shown in Fig. 9.11(a). Assume that Q1 and Q2 are
perfectly matched. Neglecting ro, determine the differential voltage gain Ad ≡ vod/vid.

Figure 9.11 (a) Differential amplifier for Example 9.2.
Figure 9.11 (b) Differential half-circuit.
Video Example VE 9.1 Design of a MOS Differential Amplifier
Design a MOS differential amplifier to operate from ±1-V supplies and dissipate no more than 1 mW in its
equilibrium state. Select the value of VOV so that the value of vid that steers the current from one side of the pair
to the other is 0.25 V. The differential voltage gain Ad is to be 10 V/V. Assume 
 = 400 µA/V2 and neglect the
Early effect. Specify the required values of I, RD, and W/L.
∨Show Solution


Figure 9.12 (a) Differential amplifier with current-source loads formed by Q3 and Q4.
Figure 9.12 (b) Differential half-circuit of the amplifier in (a).
EXERCISE

9.5
The differential amplifier of Fig. 9.12(a) is fabricated in a 0.18-µm CMOS technology for which μnCox
= 4μpCox = 400 µA/V2, 
, and 
. If the bias current I = 200 µA and all
transistors have a channel length twice the minimum and are operating at |VOV| = 0.2 V, find W/L for
each of Q1, Q2, Q3, and Q4, and determine the differential voltage gain Ad.
9.1.6 Cascode Differential Amplifier
We can increase the gain of the differential amplifier using the cascode configuration studied in Section 8.5.
Figure 9.13(a) shows a CMOS differential amplifier with cascoding applied to the amplifying transistors Q1
and Q2 via transistors Q3 and Q4, and to the current-source transistors Q7 and Q8 via transistors Q5 and Q6.
The differential voltage gain can be found from the differential half-circuit shown in Fig. 9.13(b) as
Figure 9.13 (a) Cascode differential amplifier.
∨Show Answer
THE LONG-TAILED PAIR
∨

(9.38)
(9.39)
(9.40)
9.6
Figure 9.13 (b) Differential half-circuit of the cascode differential amplifier in (a).
where
and,
EXERCISE
The CMOS cascode differential amplifier of Fig. 9.13(a) is fabricated in a 0.18-µm technology for
which μnCox = 4μpCox = 400 µA/V2, |Vt| = 0.5 V, and 
. If the bias current I = 200
µA, and all transistors have a channel length twice the minimum and are operating at |VOV| = 0.2 V,
find W/L for each of Q1 to Q8, and determine the differential voltage gain Ad.
∨Show Answer

9.2 The BJT Differential Pair
Figure 9.14 shows the basic BJT differential-pair configuration. It is very similar to the MOSFET circuit and
consists of two matched transistors, Q1 and Q2, whose emitters are joined together and biased by a constant-
current source I. The latter is usually implemented by a transistor circuit of the type studied in Sections 8.2
and 8.6. Although each collector is shown connected to the positive supply voltage VCC through a resistance
RC, this connection is not essential to the operation of the differential pair—that is, in some applications the
two collectors may be connected to current sources rather than resistive loads. It is essential, though, that the
collector circuits be such that Q1 and Q2 operate in the active mode at all times.
Figure 9.14 The basic BJT differential-pair configuration.
9.2.1 Basic Operation
To see how the BJT differential pair works, consider first the case of a common-mode dc voltage VCM
applied to the two input terminals. That is, as shown in Fig. 9.15(a), vB1 = vB2 = VCM. Since Q1 and Q2 are
matched, and assuming an ideal bias current source I with infinite output resistance, it follows that the
current I will remain constant and, from symmetry, that I will divide equally between the two devices. Thus
iE1 = iE2 = I/2, and the voltage at the emitters will be VCM −VBE, where VBE is the base–emitter voltage
[assumed in Fig 9.15(a) to be approximately 0.7 V] corresponding to an emitter current of I/2. The voltage at
each collector will be 
, and the difference in voltage between the two collectors, VO, will be
zero.
Now let us vary the value of the common-mode input voltage VCM. As long as Q1 and Q2 remain in the
active region, and the current source I has sufficient voltage across it to operate properly, the current I will

still divide equally between Q1 and Q2, and the voltages at the collectors will not change. Thus, VO remains
equal to zero, indicating that the differential pair does not respond to (i.e., it rejects) changes in the common-
mode input voltage.
As another experiment, let the voltage vB2 be set to a constant value, say, zero (by grounding B2), and let
vB1 = +1 V [see Fig. 9.15(b)]. With a bit of reasoning we can see that Q1 will be on and conducting all of the
current I and that Q2 will be off. For Q1 to be on (with VBE1 = 0.7 V), the emitter has to be at approximately
+0.3 V, which keeps the EBJ of Q2 reverse-biased. The collector voltages will be vC1 = VCC − αIRC and vC2
= VCC, and VO = αIRC.
Let us now change vB1 to –1 V [Fig. 9.15(c)]. Again with some reasoning we can see that Q1 will turn
off, and Q2 will carry all the current I. The common emitter will be at –0.7 V, which means that the EBJ of
Q1 will be reverse biased by 0.3 V. The collector voltages will be vC1 = VCC and vC2 = VCC − αIRC, and VO
= −αIRC.
From the foregoing, we see that the differential pair certainly responds to difference-mode (or
differential) signals. In fact, with relatively small difference voltages we are able to steer the entire bias
current from one side of the pair to the other. This current-steering property of the differential pair allows it
to be used in logic circuits.
To use the BJT differential pair as a linear amplifier, we apply a very small differential signal (a few
millivolts), which will result in one of the transistors conducting a current of I/2+∆I; the current in the other
transistor will be I/2 − ∆I, with ∆I being proportional to the difference input voltage (see Fig. 9.15(d)). The
output voltage taken between the two collectors, vod, will be 2α ∆IRC, which is proportional to the
differential input signal vi. The small-signal operation of the differential pair will be studied shortly.
Figure 9.15 (a) Different modes of operation of the BJT differential pair: the differential pair with a common-mode input
voltage VCM.

Figure 9.15 (b) Different modes of operation of the BJT differential pair: the differential pair with a “large” differential
input signal.
Figure 9.15 (c) Different modes of operation of the BJT differential pair: the differential pair with a large differential
input signal of polarity opposite to that in (b).

9.7
Figure 9.15 (d) Different modes of operation of the BJT differential pair: the differential pair with a small differential
input signal vi. Note that we have assumed the bias current source I to be ideal (i.e., it has an infinite output resistance)
and thus I remains constant with the change in the voltage across it.
EXERCISE
Find vE, vC1, and vC2 in the circuit of Fig. E9.7. Assume that |vBE| of a conducting transistor is
approximately 0.7 V and that α 
 1.
Figure E9.7
∨Show Answer

(9.41)
(9.42)
9.8
(9.43)
(9.44)
9.2.2 Input Common-Mode Range
Refer to the circuit in Fig. 9.15(a). The allowable range of VCM is determined at the upper end by Q1 and Q2
leaving the active mode and entering saturation. Thus
The lower end of the VCM range is determined by the need to provide a certain minimum voltage VCS across
the current source I to ensure its proper operation. Thus,
EXERCISE
Determine the input common-mode range for a bipolar differential amplifier operating from ±2.5-V
power supplies and biased with a simple current source that delivers a constant current of 0.4 mA and
requires a minimum of 0.3 V for its proper operation. The collector resistances RC = 5 kΩ.
9.2.3 Large-Signal Operation
We now present a general analysis of the BJT differential pair of Fig. 9.14. If we denote the voltage at the
common emitter by vE and neglect the Early effect, the exponential relationship applied to each of the two
transistors may be written
These two equations can be combined to obtain
which can be manipulated to yield
∨Show Answer

(9.45)
(9.46)
(9.47)
(9.48)
(9.49)
The circuit imposes the additional constraint
Using Eq. (9.47) together with Eqs. (9.45) and (9.46) and substituting vB1 − vB2 = vid gives
The collector currents iC1 and iC2 can be obtained simply by multiplying the emitter currents in Eqs. (9.48)
and (9.49) by α, which is normally very close to unity.
The fundamental operation of the differential amplifier is illustrated by Eqs. (9.48) and (9.49). First, note
that the amplifier responds only to the difference voltage vid. That is, if vB1 = vB2 = VCM, the current I
divides equally between the two transistors irrespective of the value of the common-mode voltage VCM. This
is the essence of differential-amplifier operation, which also gives rise to its name.
Another important observation is that a relatively small difference voltage vid will cause the current I to
flow almost entirely in one of the two transistors. Figure 9.16 shows a plot of the two collector currents
(assuming α 
 1) as a function of the differential input signal. This normalized plot can be used universally.
Observe that a difference voltage of about 4VT (
100 mV) is sufficient to switch the current almost entirely
to one side of the BJT pair. Note that this is much smaller than the corresponding voltage for the MOS pair, 
. The fact that such a small signal can switch the current from one side of the BJT differential pair to
the other means that the BJT differential pair can be used as a fast current switch.

Figure 9.16 Transfer characteristics of the BJT differential pair of Fig. 9.14 assuming α 
 1.
The nonlinear transfer characteristics of the differential pair, shown in Fig. 9.16, will not be utilized any
further in this chapter. Rather, in the following we shall be interested specifically in the application of the
differential pair as a small-signal amplifier. For this purpose, the difference input signal is limited to less than
about VT/2 in order that we may operate on a linear segment of the characteristics around the midpoint x (in
Fig. 9.16).
Before leaving the large-signal operation of the differential BJT pair, we wish to point out an effective
technique frequently employed to extend the linear range of operation. It consists of including two equal
resistances Re in series with the emitters of Q1 and Q2, as shown in Fig. 9.17(a). The resulting transfer
characteristics for three different values of Re are sketched in Fig. 9.17(b). Observe that expansion of the
linear range is obtained at the expense of reduced Gm (which is the slope of the transfer curve at vid = 0) and
hence reduced gain. This result should come as no surprise; Re here is performing in exactly the same way as
the emitter resistance Re does in the CE amplifier with emitter degeneration (see Section 7.3.4). Finally, we
also note that this linearization technique is in effect the bipolar counterpart of the technique employed for
the MOS differential pair (Fig. 9.7). In the latter case, however, VOV was varied by changing the transistors’
W/L ratio, a design tool with no counterpart in the BJT.

9.9
Figure 9.17 (a) BJT differential pair.
Figure 9.17 (b) The transfer characteristics of (a) can be linearized (i.e., the linear range of operation can be extended)
by including resistances in the emitters.
EXERCISE
For the BJT differential pair of Fig. 9.14, find the value of input differential signal that is sufficient to
cause iE1 = 0.99I.
9.2.4 Small-Signal Operation
∨Show Answer

(9.50)
(9.51)
In this section we study the application of the BJT differential pair in small-signal amplification. Figure 9.18
shows the BJT differential pair with a difference voltage signal vid applied between the two bases. Implied is
that the dc level at the input—that is, the common-mode input voltage—has been somehow established. For
instance, one of the two input terminals can be grounded and vid applied to the other input terminal.
Alternatively, the differential amplifier may be fed from the output of another differential amplifier. In the
latter case, the voltage at one of the input terminals will be VCM + vid/2 while the voltage at the other input
terminal will be VCM− vid/2.
Figure 9.18 The currents and voltages in the differential amplifier when a small differential input signal vid is applied.
The Collector Currents When vid Is Applied For the circuit of Fig. 9.18, we may use Eqs. (9.48) and
(9.49) to write
Multiplying the numerator and the denominator of the right-hand side of Eq. (9.50) by evid/2VT gives

(9.52)
(9.53)
(9.54)
(9.55)
Assume that 
. We may thus expand the exponential 
 in a series and retain only the first
two terms:
Thus
Similar manipulations can be applied to Eq. (9.51) to obtain
Equations (9.52) and (9.53) tell us that when vid = 0, the bias current I divides equally between the two
transistors of the pair. Thus each transistor is biased at an emitter current of I/2. When a “small-signal” vid is
applied differentially (i.e., between the two bases), the collector current of Q1 increases by an increment ic
and that of Q2 decreases by an equal amount. This ensures that the sum of the total currents in Q1 and Q2
remains constant, as constrained by the current-source bias. The incremental (or signal) current component ic
is given by
Equation (9.54) has an easy interpretation. First, note from the symmetry of the circuit (Fig. 9.18) that
the differential signal vid should divide equally between the base–emitter junctions of the two transistors.
Thus the total base–emitter voltages will be
where VBE is the dc BE voltage corresponding to an emitter current of I/2. Therefore, the collector current of
Q1 will increase by gmvid/2 and the collector current of Q2 will decrease by gmvid/2. Here gm denotes the
transconductance of Q1 and of Q2, which are equal and given by
Thus Eq. (9.54) simply states that ic = gmvid/2.

(9.56)
(9.57)
(9.58)
An Alternative Viewpoint There is an extremely useful alternative interpretation of the results above.
Assume the current source I to be ideal. Its incremental resistance then will be infinite. Thus the voltage vid
appears across a total resistance of 2re, where
Correspondingly, there will be a signal current ie, as illustrated in Fig. 9.19(a) and (b), given by
Thus the collector of Q1 will exhibit a current increment ic and the collector of Q2 will exhibit a current
decrement ic:
Note that in Fig. 9.19(a) we have shown signal quantities only. It is implied, of course, that each transistor is
biased at an emitter current of I/2. For greater emphasis, we show in Fig. 9.19(b) the equivalent circuit
obtained by replacing each BJT with its T model.
Figure 9.19 A simple technique for determining the signal currents in a differential amplifier excited by a differential
voltage signal vid; dc quantities are not shown. While Fig. 9.19(a) utilizes the BJT T model implicitly, the T model of
both BJTs are shown explicitly in Fig. 9.19(b).

(9.59)
(9.60)
(9.61)
This method of analysis is particularly useful when resistances are included in the emitters, as shown in
Fig. 9.20. For this circuit we have
Figure 9.20 A differential amplifier with emitter resistances. Only signal quantities are shown (in color).
Input Differential Resistance Unlike the MOS differential amplifier, which has an infinite input resistance,
the bipolar differential pair exhibits a finite input resistance, a result of the finite β of the BJT.
The input differential resistance is the resistance seen between the two bases; that is, it is the resistance
seen by the differential input signal vid. For the differential amplifier in Figs. 9.18 and 9.19 (a) we can see
that the base current of Q1 shows an increment ib and the base current of Q2 shows an equal decrement,
Thus the differential input resistance Rid is given by

(9.62)
(9.63)
(9.64)
(9.65)
(9.66)
(9.67)
(9.68)
(9.69)
This result is just a restatement of the familiar resistance-reflection rule: namely, the resistance between the
two bases is equal to the total resistance in the emitter circuit multiplied by (β + 1). We can use this rule to
find the input differential resistance for the circuit in Fig. 9.20:
Differential Voltage Gain We have established that for small difference input voltages ( 
 ; i.e.,
vid smaller than about 20 mV), the collector currents are given by
where
Thus the total voltages at the collectors will be
The quantities in parentheses are the dc voltages at each of the two collectors.
As in the MOS case, the output voltage signal of a bipolar differential amplifier can be taken
differentially (i.e., between the two collectors, vod = vc2 – vc1). The differential gain of the differential
amplifier will be
For the differential amplifier with resistances in the emitter leads (Fig. 9.20), the differential gain is given
by
This equation is a familiar one: It states that the voltage gain is equal to the ratio of the total resistance
in the collector circuit (2RC) to the total resistance in the emitter circuit (2re + 2Re).
The Differential Half-Circuit As in the MOS case, we can find the differential gain of the BJT differential
amplifier by considering its differential half-circuit. Figure 9.21(a) shows a differential amplifier fed by a

differential signal vid that is applied in a complementary (push–pull or balanced) manner. That is, while
the base of Q1 is raised by vid/2, the base of Q2 is lowered by vid/2. We have also included the output
resistance REE of the bias current source. From symmetry, it follows that the signal voltage at the emitters
will be zero. Thus the circuit is equivalent to the two common-emitter amplifiers shown in Fig. 9.21(b),
where each of the two transistors is biased at an emitter current of I/2. Note that the finite output resistance
REE of the current source will have no effect on the operation. The equivalent circuit in Fig. 9.21(b) is valid
for differential operation only.
Figure 9.21 Equivalence of the BJT differential amplifier in (a) to the two common-emitter amplifiers in (b). This
equivalence applies only for differential input signals. Either of the two common-emitter amplifiers in (b) can be used to
find the differential gain, differential input resistance, frequency response, and so on, of the differential amplifier.
Since in Fig. 9.21(b), vo2 = −vo1 = vod/2, the two common-emitter transistors yield similar results about
the performance of the differential amplifier. Thus only one is needed to analyze the differential small-signal
operation of the differential amplifier, and it is known as the differential half-circuit. If we take the
common-emitter transistor fed with +vid/2 as the differential half-circuit and replace the transistor with its
low-frequency, hybrid-π, equivalent-circuit model, we will get the circuit in Fig. 9.22. In evaluating the
model parameters rπ, gm, and ro, we must recall that the half-circuit is biased at I/2. The voltage gain of the
differential amplifier is equal to the voltage gain of the half-circuit—that is, vo1/(vid/2). Here, we note that
including ro will modify the gain expression in Eq. (9.68) to

(9.70)
Figure 9.22 Equivalent-circuit model of the differential half-circuit formed by Q1 in Fig. 9.21(b).
The input differential resistance of the differential amplifier is twice that of the half-circuit—that is, 2rπ.
Finally, we note that the differential half-circuit of the amplifier of Fig. 9.20 is a common-emitter transistor
with a resistance Re in the emitter lead.
Example 9.3
The differential amplifier in Fig. 9.23 uses transistors with β = 100. Evaluate the following:
Figure 9.23 Circuit for Example 9.3.


∨Show Answer

9.3 Common-Mode Rejection
Thus far, we have seen that the differential amplifier responds to a differential input signal and completely
rejects a common-mode signal. This latter point was shown clearly both at the outset of our discussion of
differential amplifiers and in Example 9.1, where we saw that changes in VCM over a wide range resulted in
no change in the voltage at either of the two drains. The same phenomenon was demonstrated for the BJT
differential amplifier in Section 9.2.1. This highly desirable result is, however, a consequence of our
assumption that the current source that supplies the bias current I is ideal. We will now consider the situation
when a more realistic current source with a finite output resistance is used.
9.3.1 The MOS Case
Figure 9.24(a) shows a MOS differential amplifier biased with a current source having an output resistance
RSS. As before, the dc voltage at the input is defined by VCM. Here, however, we also have an incremental
signal vicm applied to both input terminals. This common-mode input signal can represent an interference
signal or noise that is picked up by both inputs and is clearly undesirable. Our objective now is to find how
much of vicm makes its way to the output of the amplifier.
Figure 9.24 (a) A MOS differential amplifier with a common-mode input signal vicm superimposed on the input dc
common-mode voltage VCM.

Figure 9.24 (b) The amplifier circuit prepared for small-signal analysis.
Figure 9.24 (c)The amplifier circuit with the transistors replaced with their T model and ro neglected.

(9.71)
(9.72)
Figure 9.24 (d) The circuit in (b) split into its two halves; each half is said to be a “CM half-circuit.”
Before we determine the common-mode gain of the amplifier, we need to address the effect RSS has on
the bias current of Q1 and Q2. That is, with vicm set to zero, the bias current in Q1 and Q2 will no longer be
I/2 but will be larger than I/2 by an amount determined by VCM and RSS. However, since RSS is usually very
large, this additional dc current in each of Q1 and Q2 is usually small enough that we can neglect it, thus
assuming that Q1 and Q2 continue to operate at a bias current of I/2. You might also be wondering about the
effect of RSS on the differential gain. The answer is very simple: The virtual ground that develops on the
common-source terminal when a differential input signal is applied results in a zero signal current through
RSS; hence RSS has no effect on the value of Ad.
To determine the response of the differential amplifier to the common-mode input signal vicm, consider
the circuit in Fig. 9.24(b), where we have replaced each of VDD and VSS by a short circuit and I by an open
circuit. The circuit is obviously symmetrical, and thus the two transistors will carry equal signal currents,
denoted i. The value of i can be easily determined by replacing each of Q1 and Q2 with its T model and, for
simplicity, neglecting ro. The resulting equivalent circuit is shown in Fig. 9.24(c), from which we can write
Thus,
The voltages at the drain of Q1 and Q2 can now be found as
resulting in

(9.73)
(9.74)
(9.75)
(9.76)
(9.77)
(9.78)
It follows that both vo1 and vo2 will be corrupted by the common-mode signal vicm and will be given
approximately by
where we have assumed that 
. Nevertheless, because vo1 = vo2, the differential output
voltage vod will remain free of common-mode interference:
Thus the circuit still rejects common-mode signals! Unfortunately, however, this will not be the case if the
circuit is not perfectly matched, as we will now show.
Before we proceed, notice that we can obtain all the results above by considering only half the
differential amplifier. Figure 9.24(d) shows the two half-circuits of the differential amplifier that apply for
common-mode analysis. To see the equivalence, observe that each of the two half-circuits indeed carries a
current i given by Eq. (9.72) and the voltages at the source terminals are equal (vs = 2iRSS). Thus the two
sources can be joined, returning the circuit to the original form in Fig. 9.24(b). Each of the circuits in Fig.
9.24(d) is known as the common-mode half-circuit. Note the difference between the CM half-circuit and
the differential half-circuit.
Effect of RD Mismatch When the two drain resistances exhibit a mismatch ∆RD, as they inevitably do, the
voltages at the two drains will no longer have equal components due to vicm. Rather, if the load of Q1 is RD
and that of Q2 is (RD + ΔRD) the drain signal voltages arising from vicm will be
and
Thus,
and we can find the common-mode gain Acm as

(9.79)
(9.80)
(9.81)
(9.82)
(9.83)
9.11
which can be expressed in the alternate form
It follows that a mismatch in the drain resistances causes the differential amplifier to have a finite common-
mode gain. Thus, a portion of the interference or noise signal vicm will appear as a component of vod. A
measure of the effectiveness of the differential amplifier in amplifying differential-mode signals and
rejecting common-mode interference is the ratio of the magnitude of its differential gain |Ad| to the
magnitude of its common-mode gain |Acm|. This ratio is termed common-mode rejection ratio (CMRR).
Thus,
and is usually expressed in decibels,
For the case of a MOS differential amplifier with drain resistances RD that exhibit a mismatch ∆RD, the
CMRR can be found as the ratio of Ad in Eq. (9.35) to Acm in Eq. (9.79), thus
It follows that to obtain a high CMRR, we should utilize a bias current source with a high output resistance
RSS, and we should strive to obtain a high degree of matching between the drain resistances (i.e., keep
∆RD/RD small).
EXERCISE
A MOS differential pair operated at a bias current of 0.8 mA employs transistors with W/L = 100 and
μnCox = 0.2 mA/V2, using RD = 5 kΩ and RSS = 25 kΩ. Find the differential gain, the common-mode
gain when the drain resistances have a 1% mismatch, and the CMRR.
∨Show Answer

(9.84)
(9.85)
9.12
Effect of gm Mismatch on CMRR Another possible mismatch between the two halves of the MOS
differential pair is a mismatch in gm of the two transistors. If the two transistors Q1 and Q2 have a mismatch
∆gm in their gm values, this mismatch leads to a finite common-mode gain given by
The corresponding CMRR will be
Note that both expressions have exactly the same form as the corresponding expressions for the case of RD
mismatch. Thus, as in that case, to keep CMRR high, we use a biasing current source with a high output
resistance RSS and, of course, strive to maintain a high degree of matching between Q1 and Q2.
EXERCISE
For the MOS amplifier specified in Exercise 9.11, compute the CMRR resulting from a 1% mismatch
in gm.
Example 9.4
In this example we consider the design of the current source that supplies the bias current of a MOS differential
amplifier. Imagine we have to achieve a CMRR of 100 dB and assume that the only source of mismatch between
Q1 and Q2 is a 2% mismatch in their W/L ratios. Let I = 200 µA and assume that all transistors are to be operated
at VOV = 0.2 V. For the 0.18-µm CMOS fabrication process available, 
 = 5V/µm. If a simple current source is
used for I, what channel length is required? If a cascode current source is used, what channel length is needed for
the two transistors in the cascode?
Video Example VE 9.3 Gain and CMRR of a MOS Differential Amplifier
An NMOS differential pair is biased by a current source I = 0.2 mA having an output resistance RSS = 100 kΩ.
The amplifier has drain resistances RD = 10 kΩ, using transistors with kn = 3 mA/V2, and ro that is large. If the
output is taken differentially and there is a 1% mismatch between the drain resistances, find |Ad|,|Acm|, and
CMRR.
∨Show Answer
∨Show Solution


9.13
EXERCISE
For the MOS differential amplifier considered in Exercise 9.11, find the differential gain, the common-
mode gain, and the CMRR obtained if the output is taken single-endedly.
9.3.2 The BJT Case
An identical development applies for studying the common-mode rejection of the BJT differential amplifier.
Figure 9.25(a) and (b) show a bipolar differential amplifier with an input common-mode signal vicm. Here
REE is the output resistance of the bias current source I. We wish to find the voltages that result from vicm at
the collectors of Q1 and Q2, vo1 and vo2, and between the two collectors, vod. To that end, we use the
common-mode half-circuits shown in Fig. 9.25(b). The signal vo1 that appears at the collector of Q1 in
response to vicm will be
Figure 9.25 (a) The differential amplifier fed by a common-mode input signal vicm.
∨Show Answer

(9.91)
(9.92)
(9.93)
(9.94)
Figure 9.25 (b) Equivalent “half-circuits” for common-mode calculations.
Similarly, vo2 will be
where we have neglected the transistor ro, for simplicity. We can find the differential output signal vod as
Thus, while the voltages at the two collectors will contain common-mode noise or interference
components, the output differential voltage will be free from such interference. This condition, however, is
based on the assumption of perfect matching between the two sides of the differential amplifier. Any
mismatch will result in vod acquiring a component proportional to vicm. For example, a mismatch ∆RC
between the two collector resistances results in
Since 
, Eq. (9.93) can be approximated and written in the form
The common-mode rejection ratio can now be found from

(9.95)
together with using Eqs. (9.68) and (9.94), with the result that
which is similar in form to the expression for the MOS pair [Eq. (9.83)]. Thus, to obtain a high CMRR, we
design the current source to have a large output resistance REE and strive for close matching of the collector
resistances.
Common-Mode Input Resistance The definition of the common-mode input resistance Ricm is illustrated in
Fig. 9.26(a). Figure 9.26(b) shows the equivalent common-mode half-circuit; its input resistance is 2Ricm.
The value of 2Ricm can be determined by analyzing the circuit of Fig. 9.26(b) while taking ro into account
(because REE and RC can be equal to, or larger than, ro). The analysis is straightforward but tedious and can
be shown (Problem 9.79) to yield the following result
Figure 9.26 (a) Definition of the input common-mode resistance Ricm.

(9.96)
(a)
(b)
(c)
9.14
Figure 9.26 (b) The equivalent common-mode half-circuit.
Example 9.5
For the differential amplifier analyzed in Example 9.3, let the bias-current source have an output resistance REE
= 200 kΩ. Evaluate:
the worst-case common-mode gain if the two collector resistances are accurate to within ±1%.
the CMRR in dB.
the input common-mode resistance (assuming the Early voltage VA = 100 V).
EXERCISE
A bipolar differential amplifier uses a simple (i.e., a single CE transistor) current source to supply a
bias current I of 200 µA, and simple current-source loads formed by pnp transistors. For all transistors,
β = 100 and |VA| = 10 V. Find gm, RC, |Ad|, Rid, REE, CMRR (if the two load transistors exhibit a 1%
mismatch in their ro’s), and Ricm. (Hint: Remember to take into account ro1 and ro2 in calculating |Ad|.)
∨Show Solution
∨Show Answer

9.4 DC Offset
Because differential amplifiers are directly coupled and have finite gain at dc, they suffer from a number of
dc problems. In this section we study some of these.
9.4.1 Input Offset Voltage of the MOS Differential Amplifier
Consider the basic MOS differential amplifier in Fig. 9.27(a). If both input terminals are grounded, and if
transistors Q1 and Q2 are perfectly matched, then the current I splits equally between Q1 and Q2, resulting in
ID1 = ID2 = I/2. If the two load resistances RD1 and RD2 are exactly equal, then the dc voltages at the two
drains will be equal, and the differential dc output voltage VO will be zero.
Figure 9.27 (a) The MOS differential pair with both inputs grounded. Device and resistance mismatches result in a finite
dc output VO. (b) Application of the input offset voltage VOS to the input terminals with appropriate polarity reduces VO
to zero.
Practical circuits, however, exhibit mismatches between Q1 and Q2 that will cause a mismatch between
ID1 and ID2. As well, RD1 and RD2 will never be perfectly matched. These various mismatches, which are
inevitable in a differential amplifier, result in a finite nonzero dc differential output voltage VO even when
the two input terminals are grounded. We call this voltage the output dc offset voltage. Since VO is a result
of random mismatches, we cannot deduce its polarity theoretically.

We will now consider the various possible mismatches in the differential amplifier circuit of Fig. 9.27(a)
and estimate their contribution to the dc offset of the amplifier. We will do so by considering a parameter
known as the input dc offset voltage VOS, which is defined as the magnitude of the dc voltage, which, when
applied between the two input terminals of the amplifier with appropriate polarity, will reduce the dc offset at
the output, VO, to zero. This definition is illustrated in Fig. 9.27(b). Since the polarity of VO is not known a
priori, we will not concern ourselves with the polarity of VOS. Instead, our goal is to determine the
magnitude of VOS that results from each source of mismatch in the amplifier circuit.
Three factors contribute to the dc offset voltage of the MOS differential amplifier of Fig. 9.27(a):
mismatch in the load resistances RD, mismatch in the transconductance parameters kn of Q1 and Q2 [recall
that kn = μnCox(W/L)], and mismatch in the threshold voltages Vt of Q1 and Q2. Let’s consider these three
sources of offset in turn:
VOS Due to RD Mismatch Let Q1 and Q2 be perfectly matched, so that ID1 = ID2 = I/2. Now, if the two
resistances RD1 and RD2 have a mismatch ∆RD, that is,
then a dc offset voltage will develop between the two drains. To reduce the output voltage to zero, we apply
a voltage VOS between the input terminals, as shown in Fig. 9.27(b). Thus the currents become
To obtain a zero voltage between the two output terminals, the voltage drops across RD1 and RD2 must be
equal, that is,
which results in
Substituting for 
 gives us

(9.97)
Thus, the offset voltage is directly proportional to VOV and, of course, to ∆RD/RD. For example, a differential
pair in which the two transistors are operating at an overdrive voltage of 0.2 V, and each drain resistance is
accurate to within ±1%, can have a worst case ∆RD/RD of 0.02 and correspondingly an input offset voltage
VOS of
VOS Due to kn Mismatch Next, consider the case when the transconductance parameters kn of Q1 and Q2
exhibit a mismatch ∆kn, that is,
Such a mismatch can be caused, for example, by a mismatch in the (W/L) ratios of Q1 and Q2. The kn
mismatch will cause the current I to no longer divide equally between Q1 and Q2. Instead, with the two input
terminals grounded and thus VGS1 = VGS2, the currents become
The mismatch between ID1 and ID2 will result in an output offset voltage VO even when the two resistances
RD are perfectly matched. To reduce VO to zero, we apply an input voltage VOS, as shown in Fig. 9.27(b),
and adjust the value of VOS to reduce the mismatch between ID1 and ID2 to zero. This occurs when
which results in

(9.98)
Substituting for 
 gives
Here again, we note that VOS resulting from a kn mismatch is proportional to VOV and, of course, ∆kn/kn.
VOS Due to Vt Mismatch Finally, consider the effect of a mismatch ∆Vt between the threshold voltages of
Q1 and Q2, that is,
The current ID1 will be given by
Substituting 
 and assuming that 
, we can approximate the expression
for ID1 as
Now, substituting for 
, we obtain
Since ID2 = I − ID1, we obtain

(9.99)
(9.100)
9.15
To reduce the imbalance between ID1 and ID2 to zero and thus obtain a zero dc output offset voltage, we
apply VOS whose value is such that
That is,
Substituting 
 gives
which is a very logical result! For modern CMOS technology, ∆Vt can be as high as a few millivolts.
Finally, since the three sources of offset voltage are not correlated, an estimate of the total input offset
voltage can be found as
EXERCISE
For a MOS differential pair operated at VOV = 0.2 V, find the three components of the input offset
voltage. Let ∆RD/RD = 2%, ∆kn/kn = 2%, and ΔVt = 2 mV. Use Eq. (9.100) to obtain an estimate of the
total VOS.
9.4.2 Input Offset Voltage of the Bipolar Differential Amplifier
We can find the offset voltage of the bipolar differential pair in Fig. 9.28(a) the same way we determined the
dc offset voltage of the MOS pair above. Note, however, that in the bipolar case there is no analog to the Vt
mismatch of the MOSFET pair. Here the output offset results from mismatches in the load resistances RC1
and RC2 and from junction area, β, and other mismatches in Q1 and Q2. Consider first the effect of the load
mismatch. Let
∨Show Answer

(9.101)
Figure 9.28 (a) The BJT differential pair with both inputs grounded. Device and resistance mismatch result in a finite dc
output VO. (b) Application of the input offset voltage VOS to the input terminals with appropriate polarity reduces VO to
zero.
and assume that Q1 and Q2 are perfectly matched. It follows that current I will divide equally between Q1
and Q2, and thus a dc offset voltage will develop between the two collectors.
To reduce this output offset voltage to zero, we apply a voltage VOS between the input terminals, as
shown is Fig. 9.28(b). If the value of VOS is such that the imbalance it introduces between IC1 and IC2
cancels the output dc offset due to ∆RC, a development similar to that used above for the MOS case results in
An important point to note is that in comparison to the corresponding expression for the MOS pair (Eq.
9.97), here the offset is proportional to VT rather than VOV/2. VT at 25 mV is 3 to 6 times lower than VOV/2.
Hence bipolar differential pairs exhibit lower offsets than their MOS counterparts. As an example, consider
collector resistors that are accurate to within ±1%. Then the worst-case mismatch will be ∆RC/RC = 0.02,
and the resulting input offset voltage will be

(9.102)
(9.103)
Next consider the effect of mismatches in transistors Q1 and Q2, specifically in their emitter–base
junction areas. This kind of area mismatch gives rise to a proportional mismatch in the scale currents IS,
Refer to Fig. 9.28(a) and note that VBE1 = VBE2. Thus, the current I will split between Q1 and Q2 in
proportion to their IS values, resulting in
The corresponding mismatch between IC1 and IC2 will result in an output offset voltage VO, even when the
two resistances RC are perfectly matched. To reduce VO to zero, we apply an input voltage VOS, as shown in
Fig. 9.28(b), and adjust its value to reduce the mismatch between IC1 and IC2 to zero. We can show that the
value of VOS is given by
As an example, an area mismatch of 4% gives rise to ∆IS/IS = 0.04 and an input offset voltage of 1 mV. Here
again we note that the offset voltage is proportional to VT rather than to the much larger VOV, which
determines the offset of the MOS pair due to ∆kn/kn mismatch.
Since the two contributions to the input offset voltage are usually not correlated, we can estimate the total
input offset voltage using

(9.104)
(9.105)
(9.106)
(9.107)
There are other possible sources for input offset voltage such as mismatches in the values of β and ro.
Some of these are investigated in the end-of-chapter problems. Finally, note that there is a popular way to
compensate for the offset voltage. It involves introducing a deliberate mismatch in the values of the two
collector resistances so that the differential output voltage is reduced to zero when both input terminals are
grounded. Such an offset-nulling scheme is explored in Problem 9.81.
9.4.3 Input Bias and Offset Currents of the Bipolar Differential Amplifier
In a perfectly symmetric bipolar differential pair, the two input terminals carry equal dc currents; that is,
This is the input bias current of the differential amplifier.
Mismatches in the amplifier circuit and most importantly a mismatch in β make the two input dc currents
unequal. The resulting difference is the input offset current, IOS, given as
Let
then
Formally, the input bias current IB is defined as follows:
Thus

(9.108)
9.16
As an example, a 10% β mismatch results in an offset current that is one-tenth the value of the input bias
current.
Finally, note that a great advantage of the MOS differential pair is that it does not suffer from a finite
input bias current or from mismatches thereof!
EXERCISE
For a BJT differential amplifier utilizing transistors having β = 100, matched to 10% or better, and
areas that are matched to 10% or better, along with collector resistors that are matched to 2% or better,
find VOS, IB, and IOS. The dc bias current I is 100 µA.
9.4.4 A Concluding Remark
The definitions presented here are identical to those presented in Chapter 2 for op amps. In fact, as you will
see in Chapter 13, it is the input differential stage in an op-amp circuit that primarily determines the op-amp
dc offset voltage, input bias and offset currents, and input common-mode range.
∨Show Answer

1.
2.
3.
9.5 The Differential Amplifier with a Current-Mirror Load
The differential amplifiers we have studied thus far have been of the differential output variety; that is, the
output is taken between the two drains (or two collectors) rather than between one of the drains (collectors)
and ground. Taking the output differentially has three major advantages:
It decreases the common-mode gain and thus increases the common-mode rejection ratio (CMRR).
Recall that while the drain (collector) voltages change somewhat in response to a common-mode input
signal, the difference between the drain (collector) voltages remains essentially zero except for a small
change due to the mismatches inevitably present in the circuit.
It decreases the input offset voltage.
It increases the differential gain by a factor of 2 (6 dB) because the output is the difference between
two voltages of equal magnitude and opposite sign.
These advantages are sufficiently compelling that at least the first stage in an IC amplifier such as an op amp
is differential-in, differential-out. The differential transmission of the signal on the chip also minimizes its
susceptibility to corruption with noise and interference, which usually occur in a common-mode fashion.
Nevertheless, it is usually required at some point to convert the signal from differential to single-ended; for
instance, to connect it to an off-chip load. Figure 9.29 shows a block diagram of a three-stage amplifier in
which the first two stages are of the differential-in, differential-out type, and the third has a single-ended
output, that is, an output that is referenced to ground. We now address the question of conversion from
differential to single-ended.
Figure 9.29 A three-stage amplifier consisting of two differential-in, differential-out stages, A1 and A2, and a
differential-in, single-ended-out stage A3.
9.5.1 Differential-to-Single-Ended Conversion
Figure 9.30 illustrates the simplest, most basic approach for differential-to-single-ended conversion. It
consists of simply ignoring the drain current signal of Q1 and eliminating its drain resistor altogether, and
taking the output between the drain of Q2 and ground. The obvious drawback of this scheme1 is that we lose
a factor of 2 (or 6 dB) in gain as a result of “wasting” the drain signal current of Q1. A much better approach
would be to find a way of utilizing the drain current signal of Q1, and that is exactly what the circuit we are
about to discuss accomplishes.

Figure 9.30 (a) A simple but inefficient approach for differential-to-single-ended conversion.
Figure 9.30 (b) The circuit with the power supplies eliminated for signal calculations. Note that the current signal in Q1
is not utilized, and as a result, the gain achieved is 6 dB lower than the differential-output case.
9.5.2 The Current-Mirror-Loaded MOS Differential Pair
Figure 9.31(a) shows a MOS differential pair formed by transistors Q1 and Q2, loaded by a current mirror
formed by transistors Q3 and Q4. As shown, the output voltage is taken between the drain connection of Q2
and Q4 and ground.

Figure 9.31 (a) The current-mirror-loaded MOS differential pair. Assuming perfect matching and neglecting the Early
effect, in all transistors, we show in (b) the circuit at equilibrium, (c) the circuit with a common-mode input signal vicm,
and (d) the circuit with a differential input signal vid.
To see how the circuit in Fig. 9.31(a) works, we first consider an idealized situation with perfect
matching and with the channel-length modulation (and hence ro) in all transistors neglected. Figure 9.31(b)
shows the quiescent or equilibrium situation, where the two input terminals are connected to ground. The
bias current I divides equally between Q1 and Q2. The drain current of Q1, I/2, is fed to the input transistor of
the mirror, Q3. Thus, a replica of this current is provided by the output transistor of the mirror, Q4. Notice
that at the output node, the two currents I/2 balance each other out, leaving a zero current to flow out to the

next stage or to a load (not shown). This is obviously the desired result! Further, if Q4 is perfectly matched to
Q3, its drain voltage will track the voltage at the drain of Q3; thus, in equilibrium, the voltage at the output
will be VO = VDD − VSG3.
Next, consider the situation in Figure 9.31(c), where a common-mode signal vicm is applied to the input
terminals. Here, we have eliminated all dc sources and replaced the bias current source I by its output
resistance RSS. As you can see, in response to vicm, Q1 and Q2 conduct current signals i 
 vicm/2RSS. The
drain current signal of Q1 is reproduced by the current mirror in the drain of Q4. At the output mode, the
mirrored current i cancels out the signal current i of Q2, resulting in a zero output current and
correspondingly zero output voltage. Thus, the amplifier rejects the common-mode input signal vicm.
Finally, Fig. 9.31(d) shows the situation when a differential input signal vid is applied. As expected, a
current 
 develops in Q1 and Q2. The drain current signal of Q1 is reproduced by the current
mirror in the drain of Q4. In this case, however, at the output node, the mirrored current i adds to the current
signal i in the drain of Q2, thus providing an output current 2i. It is this factor of 2, which is a result of the
current-mirror action, that makes it possible to convert the signal to single-ended (that is, between the output
node and ground) with no loss of gain! The output current 2i flows through the parallel combination of the
output resistance of the amplifier and a load resistance (if one is connected) to provide the output voltage vo.
In conclusion, before immersing ourselves in detailed analysis of the circuit, it is important to recap the
essence of its operation: For dc quantities and common-mode inputs, the current-mirror load produces an
output current in the drain of Q4 that cancels the current of Q2. On the other hand, for differential input
signals, the output current of the mirror adds to the current of Q2.
9.5.3 Differential Gain of the Current-Mirror-Loaded MOS Pair
As we learned in Chapter 8, the Early effect manifested by the output resistance ro of the transistor, plays a
significant role in the operation of active-loaded amplifiers. Therefore, we shall now take ro into account and
derive an expression for the differential gain vo/vid of the current-mirror-loaded MOS differential pair (Fig.
9.31a). To that end, we first observe that the circuit is not symmetrical: While the drain of Q1 sees the small
resistance of the diode-connected transistor Q3 (approximately equal to 1/gm3), the drain of Q2 sees the
much larger output resistance of Q4 (ro4). Thus, a virtual ground will not develop at the common sources2
and we cannot use the differential half-circuit technique.
Our approach will be to represent the output of the circuit in Fig. 9.31(a) by the general equivalent circuit
shown in Fig. 9.32. Here Gmd is the short-circuit transconductance for differential input, and Ro is the output
resistance. In the following, we will show that

(9.109)
(9.110)
(9.110A)
(9.111)
(9.111A)
(9.112)
9.17
Figure 9.32 Output equivalent circuit of the amplifier in Fig. 9.31(a) for differential input signals.
where gm1,2 is the transconductance of each of Q1 and Q2. We will also show that
Since ro2 is the output resistance of the differential pair and ro4 is the output resistance of the current mirror,
Ro can be expressed as
Thus we will have two intuitively appealing results: The differential short-circuit transconductance of the
circuit is equal to gm of each of the two transistors of the differential pair, and the output resistance is the
parallel equivalent of the output resistance of the differential amplifier Rod and the output resistance of the
current mirror Rom. Thus, the open-circuit differential voltage gain can be found as
Alternatively we can express Ad as
Writing gm1,2 simply as gm, and for the case ro2 = ro4 = ro,
where A0 is the intrinsic gain of the MOS transistor.
EXERCISE
A current-mirror-loaded MOS differential amplifier of the type shown in Fig. 9.31(a) is specified as
follows: (W/L)n = 100, (W/L)p = 200, μnCox = 2μpCox = 0.2 mA/V2, VAn = |VAp| = 20 V, and I = 0.8

mA. Calculate Gmd, Ro, and Ad.
Derivation of the Differential Short-Circuit Transconductance, Gmd Figure 9.33(a) shows the current-
mirror-loaded MOS amplifier with the output terminal short-circuited to ground. Our purpose is to determine
the differential short-circuit transconductance
∨Show Answer

Figure 9.33 Derivation of the differential short-circuit transconductance 
 .

(9.113)
(9.114)
(9.115)
Short-circuiting the output terminal makes the circuit nearly balanced. This is because the drain of Q1
sees the small resistance of the diode-connected transistor Q3, and now the drain of Q2 sees a short circuit. It
follows that the voltage at the MOSFET sources will be approximately zero. Now, replacing each of the four
transistors with its hybrid-π model and noting that for the diode-connected transistor Q3, the model reduces
to a resistance (1/gm3 || ro3), we obtain the equivalent circuit shown in Fig. 9.33(b). The short-circuit output
current io can be found by writing a node equation at the output and noting that the currents in ro2 and ro4 are
zero; thus
Next, we note that
and vgs3 can be obtained from a node equation at d1 as
which for the usual case of 
, reduces to
Combining Eqs. (9.113) to (9.115) and substituting gm3 = gm4 and gm1 = gm2 = gm gives
from which Gmd is found to be
as expected.
Derivation of the Output Resistance Ro Figure 9.34 shows the circuit3 for determining the output
resistance Ro. Observe that we have set vid to zero, resulting in the ground connections at the gates of Q1 and
Q2. We have applied a test voltage vx in order to determine Ro,

Figure 9.34 Circuit for determining Ro. The circled numbers indicate the order of the analysis steps.
We can greatly simplify our analysis by following the circled numbers to observe the current transmission
around the circuit. The current i that enters Q2 must exit at its source. It then enters Q1, exiting at the drain to
feed the Q3−Q4 mirror. Since for the diode-connected transistor Q3, 1/gm3 is much smaller than ro3, most of
the current i flows into the drain proper of Q3. The mirror responds by providing an equal current i in the
drain of Q4.
We can find the relationship between i and vx by observing that at the output node
where Ro2 is the output resistance of Q2. Now, Q2 is a CG transistor and has in its source lead the input
resistance Rin1 of the CG transistor Q1. Noting that the load resistance of Q1 is 
, which is
approximately 1/gm3, we can obtain Rin1 by using the expression for the input resistance of a CG transistor
(Eq. 8.52),

(9.116)
(9.117)
We then use this value of Rin1 to determine Ro2 utilizing the expression in Eq. (8.55) as follows:
which, for gm1 = gm2 = gm and 
, yields
Returning to the output node, we write
Substituting for Ro2 from Eq. (9.116), we obtain
Thus,
which is the result we stated earlier.
9.5.4 The Bipolar Differential Pair with a Current-Mirror Load
The bipolar version of the active-loaded differential pair is shown in Fig. 9.35(a). The circuit structure and
operation are very similar to those of its MOS counterpart except that here we have to contend with the
effects of finite β and the resulting finite input resistance at the base, rπ. For the time being, however, we
shall ignore the effect of finite β on the dc bias of the four transistors and assume that in equilibrium all
transistors are operating at a dc current of I/2.

(9.118)
(9.119)
(9.120)
Figure 9.35 (a) Current-mirror-loaded bipolar differential pair.
Figure 9.35 (b) Small-signal equivalent circuit of the amplifier output when a differential signal 
 is
applied.
Differential Gain To obtain an expression for the differential gain, we use an approach identical to the one
we used earlier in the MOS case. That is, we represent the output of the amplifier with the equivalent circuit
shown in Fig. 9.35(b) and show that the differential short-circuit transconductance Gmd is given by
where gm1,2 denotes gm of each of Q1 and Q2, and that the output resistance Ro is given by
Both results are identical to those for the MOS case and can be similarly derived.
Equations (9.118) and (9.119) can now be combined to obtain the differential gain,

(9.121)
(9.122)
9.18
where 
, and since ro2 = ro4 = ro, we can simplify Eq. (9.120) to
Although this expression is identical to the one we found for the MOS circuit, the gain is much larger
because gmro for the BJT is more than an order of magnitude greater than gmro of a MOSFET. The
downside, however, lies in the low input resistance of BJT amplifiers. Indeed, from the circuit in Fig.
9.35(a), we can see that the differential input resistance is equal to 2rπ,
in sharp contrast to the infinite input resistance of the MOS amplifier. Thus, while the voltage gain realized
in a current-mirror-loaded BJT amplifier stage is large, when a subsequent BJT stage is connected to the
output, its inevitably low input resistance will drastically reduce the overall voltage gain.
EXERCISE
For the current-mirror-loaded BJT differential amplifier let I = 0.8 mA, VA = 100 V, and β = 160. Find
Gmd, Ro, Ad, and Rid.
Systematic Input Offset Voltage In addition to the random offset voltages that result from the mismatches
inevitably present in the differential amplifier, the current-mirror-loaded bipolar differential pair suffers from
a systematic offset voltage that has no counterpart in the MOS version. This is due to the error in the current
transfer ratio of the current-mirror load caused by the finite β of the pnp transistors that make up the mirror.
This issue is investigated in Problem 9.97.
9.5.5 Common-Mode Gain and CMRR
In our initial discussion of the current-mirror-loaded differential amplifier we found the common-mode gain
to be zero. Specifically, Fig. 9.31(c) shows that the current mirror provides an output current in the drain of
Q4 that is exactly equal to the common-mode current signal in the drain of Q2, resulting in a zero output
current and correspondingly zero output voltage. This perfect cancellation of currents, however, is predicated
on two assumptions: (1) that the common-mode current signals in the drains of Q1 and Q2 are equal, and (2)
that the current transfer ratio of the current mirror is exactly one. The first assumption is not valid because of
the obvious imbalance between the two sides of the circuit. The second assumption also is not valid for
practical current-mirror circuits, as we have already seen in Section 8.2.5, where we derived an expression
for the small-signal current transfer ratio of the basic MOS mirror and found that it deviates somewhat from
unity. It follows that the common-mode gain of the current-mirror-loaded differential amplifier will not be
zero. In the following we derive expressions for Acm and for the CMRR.
∨Show Answer

Figure 9.36(a) shows the circuit with a common-mode signal vicm applied and with the dc sources
eliminated, except, of course, for the output resistance RSS of the bias current source I. Because of the
imbalance between the two sides of the circuit, we will not be able to use the common-mode half-circuit.
Rather, as we have done in our analysis of the differential gain, we will model the common-mode operation
of the circuit with the output equivalent circuit shown in Fig. 9.36(b). Here Gmcm is the common-mode short-
circuit transconductance, and Ro is the output resistance. Of course, Ro is the same output resistance we
derived in connection with the analysis of the differential gain above.
Figure 9.36 (a) Analysis of the current-mirror-loaded MOS differential amplifier to determine its common-mode gain:
The circuit with vicm applied and the dc sources removed.
Figure 9.36 (b) Analysis of the current-mirror-loaded MOS differential amplifier to determine its common-mode gain:
Output equivalent circuit.

(9.123)
(9.124)
(9.125)
Figure 9.36 (c) Analysis of the current-mirror-loaded MOS differential amplifier to determine its common-mode gain:
Circuit for determining Gmcm.
Derivation of the Common-Mode Transconductance Gmcm We can derive an expression for the common-
mode transconductance Gmcm using the equivalent circuit in Fig. 9.36(c). Here we have replaced each of Q1
and Q2 with their equivalent-circuit models, and replaced the current mirror with its small-signal model. The
latter consists of the input resistance Rim, the short-circuit current gain Am, and the output resistance Rom. To
obtain Gmcm we have short-circuited the output node to ground, thus
We analyze the circuit in Fig. 9.36(c) as follows. A node equation at D1 yields
A node equation at D2 provides
Finally, a node equation at S results in

(9.126)
(9.127)
(9.128)
(9.129)
(9.130)
(9.131)
Next we use Eq. (9.125) to substitute for vs into Eqs. (9.123) and (9.124). Then we solve the two resulting
equations together to obtain i1 and i2. This process, which is rather tedious, yields the following results:
and
where
In obtaining Eqs. (9.126), (9.127), and (9.128) we assumed gm1 = gm2 = gm and ro1 = ro2 = ro. Since 
, and 
,
where
and the expressions for i1 and i2 simplify to
Equations (9.129) and (9.130) clearly show that i1 and i2 are slightly different [note that (Rim/ro) ≪ 1]. This
difference, though small, contributes to making the common-mode gain nonzero.
To complete the derivation of Gmcm we write a node equation at the output node as

(9.132)
(9.133)
(9.134)
(9.135)
(9.136)
(9.137)
Substituting for i1 and i2 from (9.129) and (9.130), respectively, gives
Thus,
Equation (9.133) tells us the two separate reasons for the finite nonzero Gmcm: that Am ≠ 1 (the first term
between the square brackets) and that i1 and i2 are unequal (the second term within the square brackets).
The expression in Eq. (9.133) is general and applies regardless of the actual current-mirror
implementation used. For the simple MOS mirror used in the circuit in Fig. 9.36(a), we have from Section
8.5.2
and
Substituting for Rim and Am from Eqs. (9.134) and (9.135), respectively, into Eq. (9.133), we obtain
where we have assumed that 
 and 
 .
Common-Mode Gain The common-mode gain can be found as
Since ro2 = ro and ro4 = ro3,
This expression clearly indicates that | Acm | is small and can be reduced by using a bias current source with a
large output resistance RSS.

(9.138)
(9.139)
(a)
(b)
(c)
(d)
The Common-Mode Rejection Ratio We can find the common-mode rejection ratio (CMRR) by dividing |
Ad | from Eq. (9.112) by | Acm | from Eq. (9.137). Alternatively, since both Ad and Acm are obtained as the
product of the respective Gm by Ro, we can find the CMRR by dividing | Gmd |, which is equal to gm1,2, by |
Gmcm | from Eq. (9.136):
In this expression ro = ro1,2 = Rod and ro3 = ro4 = Rom, thus
Note that the CMRR will be large. Its value can be increased by raising the value of the output resistance of
the bias-current source, RSS.
Video Example VE 9.4 Design of a Current-Mirror-Loaded MOS Differential Amplifier
Design the current-mirror-loaded differential MOS amplifier of Fig. 9.32(a) to obtain a differential gain of 50
V/V. The technology available provides μnCox = 4μpCox = 400µA/V2, |Vt| = 0.5 V, and 
 V/µm and
operates from ±1-V supplies. Use a bias current I = 200 µA and operate all devices at |VOV| = 0.2 V. Assume all
transistors have the same channel length.
Find the W/L ratios of the four transistors.
Specify the channel length required of all transistors.
If VICM = 0, what is the allowable range of vo?
If I is delivered by a simple NMOS current source operated at the same VOV and having the same channel
length as the other four transistors, determine the CMRR obtained.
 Solution: Watch the authors solve this problem:


9.6 Multistage Amplifiers
Practical transistor amplifiers usually consist of a number of stages connected in cascade. In addition to
providing gain, the first (or input) stage is usually required to provide a high input resistance in order to
avoid loss of signal level when the amplifier is fed from a high-resistance source. In a differential amplifier
the input stage must also provide large common-mode rejection. The function of the middle stages of an
amplifier cascade is to provide the bulk of the voltage gain. In addition, the middle stages provide such other
functions as the conversion of the signal from differential mode to single-ended mode (unless, of course, the
amplifier output also is differential) and the shifting of the dc level of the signal in order to allow the output
signal to swing both positive and negative. These two functions and others will be illustrated later in this
section and in greater detail in Chapter 13.
Finally, the main function of the last (or output) stage of an amplifier is to provide a low output
resistance in order to avoid loss of gain when a low-valued load resistance is connected to the amplifier.
Also, the output stage should be able to supply the current required by the load in an efficient manner—that
is, without dissipating an unduly large amount of power in the output transistors. We have already studied
one type of amplifier configuration suitable for implementing output stages, namely, the source follower and
the emitter follower. In Chapter 12 we will see that the source and emitter followers are not optimum from
the point of view of power efficiency and that other, more appropriate circuit configurations exist for output
stages that are required to supply large amounts of output power. In fact, we will encounter some such output
stages in the op-amp circuit examples studied in Chapter 13.
To illustrate the circuit structure and the method of analysis of multistage amplifiers, we will present two
examples: a two-stage CMOS op amp and a four-stage bipolar op amp.
9.6.1 A Two-Stage CMOS Op Amp
Figure 9.37 shows a popular structure for CMOS op amps known as the two-stage configuration. The
circuit utilizes two power supplies, which can range from ±0.9 V for the 0.18-µm technology down to ±0.5
V for the 65-nm technology. A reference bias current IREF is generated either externally or using on-chip
circuits. The current mirror formed by Q8 and Q5 supplies the differential pair Q1−Q2 with bias current. The
W/L ratio of Q5 is selected to yield the desired value for the input-stage bias current I (or I/2 for each of Q1
and Q2). The input differential pair is loaded with the current mirror formed by Q3 and Q4. Thus the input
stage is identical to that studied in Section 9.5 (except that here the differential pair is implemented with
PMOS transistors and the current mirror with NMOS).
THE INTERNATIONAL SOLID-STATE CIRCUITS CONFERENCE (ISSCC) ∨

(9.140)
(9.141)
Figure 9.37 Two-stage CMOS op-amp configuration.
The second stage consists of Q6, which is a common-source amplifier loaded with the current-source
transistor Q7. A capacitor Cc is included in the negative-feedback path of the second stage. Its function will
be explained in Chapter 13, when we study the frequency response of this amplifier.
A striking feature of the circuit in Fig. 9.37 is that it does not have a low-output-resistance stage. In fact,
the output resistance of the circuit is equal to (ro6 || ro7) and is thus rather high. This circuit, therefore, is not
suitable for driving low-impedance loads. Nevertheless, the circuit is very popular and is used frequently for
implementing op amps in VLSI circuits, where the op amp needs to drive only a small capacitive load, for
example, in switched-capacitor circuits (Chapter 14). Also, when this op amp is utilized, negative feedback
is applied, which results in reducing the output resistance, as will be seen in Chapter 11. The simplicity of
the circuit results in an op amp of reasonably good quality realized in a very small chip area.
Voltage Gain The differential voltage gain of the first stage was found in Section 9.5 to be given by
where gm1 is the transconductance of each of the transistors of the first stage, that is, Q1 and Q2.
The second stage is a current-source-loaded, common-source amplifier whose voltage gain is given by
The dc open-loop gain of the op amp is the product of A1 and A2.
Example 9.6
Consider the circuit in Fig. 9.37 with the following device geometries (in µm).

(9.142)
(9.143)
(9.144)
Transistor
Q1
Q2
Q3
Q4
Q5
Q6
Q7
Q8
W/L
10/0.4
10/0.4
2.5/0.4
2.5/0.4
20/0.4
5/0.4
20/0.4
20/0.4
Let IREF = 100 µA, Vtn = 0.5 V, Vtp = −0.5 V, μnCox = 400 µA/V2, μpCox = 100 µA/V2, |VA| (for all devices) =
5V, VDD = VSS = 1 V. For all devices, evaluate ID, |VOV|, |VGS|, gm, and ro. Also find A1, A2, the dc open-loop
voltage gain, the input common-mode range, and the output voltage range. Neglect the effect of VA on bias
current.
Input Offset Voltage The device mismatches inevitably present in the input stage give rise to an input offset
voltage. The components of this input offset voltage can be calculated using the methods developed in
Section 9.4.1. Because device mismatches are random, the resulting offset voltage is referred to as random
offset. This is to distinguish it from another type of input offset voltage that can be present even if all
appropriate devices are perfectly matched. This predictable or systematic offset can be minimized by careful
design. Although it occurs also in BJT op amps, it is usually much more pronounced in CMOS op amps
because their gain-per-stage is rather low.
To see how systematic offset can occur in the circuit of Fig. 9.37, let the two input terminals be
grounded. If the input stage is perfectly balanced, then the voltage appearing at the drain of Q4 will be equal
to that at the drain of Q3, which is (−VSS + VGS4). Now this is also the voltage that is fed to the gate of Q6. In
other words, a voltage equal to VGS4 appears between gate and source of Q6. Thus the drain current of Q6,
I6, will be related to the drain current of Q4, which is equal to I/2, by the relationship
In order for no offset voltage to appear at the output, this current must be exactly equal to the current
supplied by Q7. The latter current is related to the current I of the parallel transistor Q5 by
Now, the condition for making I6 = I7 can be found from Eqs. (9.142) and (9.143) as
If this condition is not met, a systematic offset will result. From the specification of the device geometries in
Example 9.6, we can verify that condition (9.144) is satisfied, and, therefore, the op amp analyzed in that
example should not exhibit a systematic input offset voltage.
EXERCISE
∨Show Solution

9.20
(a)
(b)
(c)
(d)
(e)
Consider the CMOS op amp of Fig. 9.37 when fabricated in a 0.13-µm CMOS technology for which
μnCox = 4μpCox = 512 µA/V2, |Vt| = 0.4 V, and VDD = VSS = 0.65 V. For a particular design, I = 128
µA, (W/L)1 = (W/L)2 =  (W/L)5 = 44.4, and (W/L)3 = (W/L)4 = 11.1.
Find the (W/L) ratios of Q6 and Q7 so that I6 = 128 µA.
Find the overdrive voltage, |VOV|, at which each of Q1, Q2, and Q6 is operating.
Find gm for Q1, Q2, and Q6.
If |VA| = 3.2 V, find ro2, ro4, ro6, and ro7.
Find the voltage gains A1 and A2, and the overall gain A.
9.6.2 A Bipolar Op Amp
Our second example of multistage amplifiers is the bipolar op amp shown in Fig. 9.38. The circuit consists
of four stages. The differential-in, differential-out input stage consists of transistors Q1 and Q2, which are
biased by current source Q3. The second stage is also a differential-input amplifier, but its output is taken
single-endedly at the collector of Q5. This stage is formed by Q4 and Q5, which are biased by the current
source Q6. Note that the conversion from differential to single-ended as performed by the second stage
results in a loss of gain by a factor of 2. In the more elaborate method for accomplishing this conversion
studied in Section 9.5, a current mirror was used as an active load.
∨Show Answer

Figure 9.38 A four-stage bipolar op amp.
In addition to providing some voltage gain, the third stage, consisting of the pnp transistor Q7, provides
the essential function of shifting the dc level of the signal. Thus, while the signal at the collector of Q5 is not
allowed to swing below the voltage at the base of Q5 (+10 V), the signal at the collector of Q7 can swing
negatively (and positively, of course). From our study of op amps in Chapter 2, we know that the output
terminal of the op amp should be capable of both positive and negative voltage swings. Therefore every op-
amp circuit includes a level-shifting arrangement. Although the use of the complementary pnp transistor
provides a simple solution to the level-shifting problem, other forms of level shifter exist. As an example,
note that level shifting is accomplished in the CMOS op amp we have studied in Section 9.6.1 by using
complementary devices for the two stages: that is, p-channel for the first stage and n-channel for the second
stage.
The output stage of the op amp consists of emitter follower Q8. As we know from our study of op amps
in Chapter 2, ideally the output operates around zero volts. This and other features of the BJT op amp will be

(a)
(b)
(c)
(d)
illustrated in Example 9.7.
Example 9.7
In this example, we analyze the dc bias of the bipolar op-amp circuit of Fig. 9.38. To that end, Fig. 9.39 shows
the circuit with the two input terminals connected to ground.
Figure 9.39 Circuit for Example 9.7 with all the dc currents and voltages shown.
Perform an approximate dc analysis (assuming β ≫ 1, |VBE| 0.7 
 V, and neglecting the Early effect) to
calculate the dc currents and voltages everywhere in the circuit. Note that Q6 has four times the area of each
of Q9 and Q3.
Calculate the quiescent power dissipation in this circuit.
If transistors Q1 and Q2 have β = 100, calculate the input bias current of the op amp.
What is the input common-mode range of this op amp?
∨Show Solution

9.21
Example 9.8
Use the dc bias quantities evaluated in Example 9.7 to analyze the circuit in Fig. 9.38 to determine the input
resistance, the voltage gain, and the output resistance.
EXERCISE
Use the results of Example 9.8 to calculate the overall voltage gain of the amplifier in Fig. 9.38 when it
is connected to a source having a resistance of 10 kΩ and a load of 1 kΩ.
Analysis Using Current Gains There is an alternative method for analyzing bipolar multistage amplifiers
that can be easier to perform in some cases. The method makes use of current gains or more appropriately
current-transmission factors. In effect, we trace the transmission of the signal current throughout the
amplifier cascade, evaluating all the current transmission factors in turn. We shall illustrate the method by
using it to analyze the amplifier circuit of the preceding example.
Figure 9.44 shows the amplifier circuit prepared for small-signal analysis. We have indicated the signal
currents through all the circuit branches. Also shown are the input resistances of all four stages of the
amplifier. These should be evaluated before we begin the analysis.
Figure 9.44 The circuit of the multistage amplifier of Fig. 9.38 prepared for small-signal analysis. Indicated are the
signal currents throughout the amplifier and the input resistances of the four stages.
∨Show Solution
∨Show Answer

9.22
The purpose of the analysis is to determine the overall voltage gain (vo/vid). To that end, we express vo in
terms of the signal current in the emitter of Q8, ie8, and vid in terms of the input signal current ii, as follows:
Thus, the voltage gain can be expressed in terms of the current gain (ie8/ii) as
Next, we expand the current gain (ie8/ii) in terms of the signal currents throughout the circuit as follows:
Each of the current-transmission factors on the right-hand side is either the current gain of a transistor or the
ratio of a current divider. Thus, reference to Fig. 9.44 enables us to find these factors by inspection:
These ratios can be easily evaluated and their values used to determine the voltage gain.
With a little practice, it is possible to carry out such an analysis very quickly, without explicitly labeling
the signal currents on the circuit diagram. We can simply “walk through” the circuit, from input to output, or
vice versa, determining the current-transmission factors one at a time, in a chainlike fashion.
EXERCISE
Use the values of input resistance found in Example 9.8 to evaluate the seven current-transmission
factors and hence the overall current gain and voltage gain.
∨Show Answer


■
■
■
■
■
■
■
■
■
Summary
The differential-pair or differential-amplifier configuration is the most widely used building block in
analog IC design. The input stage of every op amp is a differential amplifier.
There are two reasons for preferring differential to single-ended amplifiers: Differential amplifiers are
insensitive to interference, and they do not need bypass and coupling capacitors.
For a MOS (bipolar) pair biased by a current source I, each device operates at a drain (collector,
assuming α = 1) current of I/2 and a corresponding overdrive voltage VOV (no counterpart in bipolar).
Each device has gm = I/VOV (αI/2VT, for bipolar) and ro = |VA|/(I/2).
With the two input terminals connected to a suitable dc voltage VCM, the bias current I of a perfectly
symmetrical differential pair divides equally between the two transistors, resulting in a zero voltage
difference between the two drains (collectors). To steer the current completely to one side of the pair
requires a difference input voltage vid of at least 
 (4VT for bipolar).
Superimposing a differential input signal vid on the dc common-mode input voltage VCM such that vI1 =
VCM + vid /2 and vI2 = VCM − vid/2 causes a virtual signal ground to appear on the common-source
(common-emitter) connection. In response to vid, the current in Q1 increases by gmvid/2 and the current
in Q2 decreases by gmvid/2. Thus, voltage signals of ±gm (RD || ro)vid/2 develop at the two drains
(collectors, with RD replaced by RC). If the output voltage is taken single-endedly, that is, between one of
the drains (collectors) and ground, a differential gain of  gm(RD || ro) is realized. When the output is
taken differentially, that is, between the two drains (collectors), the differential gain realized is twice as
large: gm(RD || ro).
The analysis of a differential amplifier to determine differential gain, differential input resistance,
frequency response of differential gain, and so on is simplified by using the differential half-circuit, a
common-source (common-emitter) transistor biased at I/2.
An input common-mode signal vicm gives rise to drain (collector) voltage signals that are ideally equal
and given by −vicm(RD/2RSS)[−vicm(RC/2REE) for the bipolar pair], where RSS (REE) is the output
resistance of the current source that supplies the bias current I. When the output is taken single-endedly, a
common-mode gain of magnitude |Acm| = RD/2RSS (RC/2REE for the bipolar case) results. Taking the
output differentially results, in the perfectly matched case, in zero Acm (infinite CMRR). Mismatches
between the two sides of the pair make Acm finite even when the output is taken differentially: A
mismatch ΔRD causes |Acm| = (RD/2RSS)(ΔRD/RD); a mismatch ∆kn causes |Acm| = (RD/2RSS) (Δkn/kn).
Corresponding expressions apply for the bipolar pair.
While the input differential resistance Rid of the MOS pair is infinite, that for the bipolar pair is only 2rπ
but can be increased to 2(β + 1)(re + Re) by including resistances Re in the two emitters. This will lower
Ad, however.
Mismatches between the two sides of a differential pair result in a differential dc output voltage VO even
when the two input terminals are tied together and connected to a dc voltage VCM. This signifies the

■
■
■
presence of an input offset voltage. In a MOS pair there are three main sources for VOS:
For the bipolar pair there are two main sources:
A popular circuit in both MOS and bipolar analog ICs is the current-mirror-loaded differential pair. It
realizes a high differential gain Ad = gm(Ro pair || Ro mirror) and a low common-mode gain, |Acm| =
1/2gm3RSS for the MOS circuit, as well as performing the differential-to-single-ended conversion with no
loss of gain.
The CMOS two-stage amplifier studied in Section 9.6.1 is intended for use as part of an IC system and
thus is required to drive only small capacitive loads. Therefore it does not have an output stage with a
low output resistance.
A multistage amplifier typically consists of three or more stages: an input stage having a high input
resistance, a reasonably high gain, and, if differential, a high CMRR; one or two intermediate stages that
realize the bulk of the gain; and an output stage having a low output resistance. In designing and
analyzing a multistage amplifier, the loading effect of each stage on the one that precedes it must be
taken into account.

(a)
(b)
(c)
(d)
(e)
(f)
(g)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM  Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 9.1: The MOS Differential Pair
9.1 For an NMOS differential pair with a common-mode voltage VCM applied, as shown in Fig. 9.2, let VDD = VSS
= 1.0 V, 
 = 0.4 mA/V2, (W/L)1,2 = 10, Vtn = 0.4 V, I = 0.16 mA, RD = 5 kΩ, and neglect channel-length
modulation.
Find VOV and VGS for each transistor.
For VCM = 0, find VS, ID1, ID2, VD1, VD2, and VO.
Repeat (b) for VCM = +0.4 V.
Repeat (b) for VCM = −0.1 V.
What is the highest value of VCM for which Q1 and Q2 remain in saturation?
If current source I requires a minimum voltage of 0.2 V to operate properly, what is the lowest value allowed
for VS and hence for VCM?
What is the input common-mode range?
9.2 For the PMOS differential amplifier shown in Fig. P9.2, let Vtp = −0.4 V and 
W/L = 5mA/V2. Neglect
channel-length modulation.
∨Show Answer

(a)
(b)
Figure P9.2
For VG1 = VG2 = 0 V, find |VOV | and VSG for each of Q1 and Q2. Also find VS, VD1, VD2, and VO.
If the current source requires a minimum voltage of 0.2 V, find the input common-mode range.
9.3 For the differential amplifier specified in Problem 9.1 let vG2 =0 and vG1 = vid. Find the value of vid that
corresponds to each of the following situations:
(a) iD1 = iD2 = 0.08 mA; (b) iD1 = 0.12 mA and iD2 = 0.04 mA; (c) iD1 = 0.16 mA and iD2 = 0 (Q2 just cuts off);
(d) iD1 = 0.04 mA and iD2 = 0.12 mA; (e) iD1 =0mA (Q1 just cuts off) and iD2 =0.16 mA. For each case, find vS,
vD1, vD2, and vO.
SIM 9.4 For the differential amplifier specified in Problem 9.2, let vG2 = 0 and vG1 = vid. Find the range of vid
needed to steer the bias current from one side of the pair to the other. At each end of this range, give the value of
the voltage at the common-source terminal, the drain voltages, and vO.
9.5 Consider the differential amplifier specified in Problem 9.1 with G2 grounded and vG1 = vid. Let vid be adjusted
to the value that causes iD1 = 0.09 mA and iD2 = 0.07 mA. Find the corresponding values of vGS2, vS, vGS1, and
hence vid. What is the difference output voltage vO? What is the voltage gain vO/vid? What value of vid results in
iD1 = 0.07 mA and iD2 = 0.09 mA?
D 9.6 Design the circuit in Fig. P9.6 to obtain a dc voltage of 0 V at each of the drains of Q1 and Q2 when vG1 =
vG2 = 0 V. Operate all transistors at VOV = 0.15 V and assume that for the process technology in which the circuit is
fabricated, Vtn = 0.35 V and μnCox = 400 µA/V2. Neglect channel-length modulation. Determine the values of R,
RD, and the W/L ratios of Q1, Q2, Q3, and Q4. What is the input common-mode voltage range for your design?
∨Show Answer

Figure P9.6
9.7 The table providing the answers to Exercise 9.3 shows that as the maximum input signal to be applied to the
differential pair is increased, linearity is maintained at the same level by operating at a higher VOV. If |vid|max is to
be 230 mV, use the data in the table to determine the required VOV and the corresponding values of W/L and gm.
9.8 Use Eq. (9.23) to show that if the term involving 
 is to be kept to a maximum value of k then the maximum
possible fractional change in the transistor current is given by
and the corresponding maximum value of vid is given by
Evaluate both expressions for k = 0.01, 0.1, and 0.2.
9.9 A MOS differential amplifier biased with a current source I = 100 µA is found to switch currents completely to
one side of the pair when a difference signal vid = 0.25 V is applied. At what overdrive voltage will each of Q1 and
Q2 be operating when vid = 0? If vid for full current switching is to be 0.5 V, what must the bias current I be
changed to?
D 9.10 Design the MOS differential amplifier of Fig. 9.5 to operate at VOV = 0.2 V and to provide a
transconductance gm of 2 mA/V. Specify the W/L ratios and the bias current. The technology available provides Vt
= 0.5 V and μnCox =400 µA/V2.
*9.11 For the MOS differential pair in Fig. 9.5, specify the value of vid ≡ vG1 − vG2, in terms of VOV, that
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(c)
(d)
(e)
causes iD1 to increase by 10% above its equilibrium value of I/2.
makes iD1/iD2 = 1.0; 2.0; 1.1; 1.01; 20.
9.12 An NMOS differential amplifier is operated at a bias current I of 0.2 mA and has a W/L ratio of 12.5, μnCox =
400 µA/V2, VA = 5 V, and RD = 20 kΩ. Find VOV, gm, ro, and Ad.
D 9.13 Design an NMOS differential amplifier to operate with a differential input voltage that can be as high as 0.1
V while keeping the nonlinear term under the square root in Eq. (9.23) to a maximum of 0.04. A transconductance
gm of 2 mA/V is needed, and the amplifier must provide a differential output signal of 1 V when the input is at its
maximum value. Find the required values of VOV, I, RD, and W/L. Assume that the technology available has μnCox
= 200 µA/V2 and λ = 0.
D 9.14 Design a MOS differential amplifier to operate from ±1-V power supplies and dissipate no more than 1 mW
in the equilibrium state. The differential voltage gain Ad is to be 10 V/V and the output common-mode dc voltage is
to be 0.2 V. (Note: This is the dc voltage at the drains.) Assume μnCox = 400 µA/V2 and neglect the Early effect.
Specify I, RD, and W/L.
D 9.15 Design a MOS differential amplifier to operate from ±0.6-V supplies and dissipate no more than
0.3 mW in its equilibrium state. Select the value of VOV so that the value of vid that steers the current
from one side of the pair to the other is 0.2 V. The differential voltage gain Ad is to be 8 V/V. Assume 
= 500 µA/V2 and neglect the Early effect. Specify the required values of I, RD, and W/L.
9.16 An NMOS differential amplifier with equal drain resistors, RD = 47 kΩ, has a differential gain Ad of 20 V/V.
What is the value of gm for each of the two transistors?
If each of the two transistors is operating at an overdrive voltage VOV = 0.2 V, what must the value of I be?
For vid = 0, what is the dc voltage across each RD?
If vid is 20-mV peak-to-peak sine wave applied in a balanced manner but superimposed on VCM = 0.5 V, what
is the peak of the sine-wave signal at each drain?
What is the lowest value that VDD must have to ensure saturation-mode operation for Q1 and Q2 at all times?
Assume Vt = 0.5 V.
9.17 A MOS differential amplifier is designed to have a differential gain Ad equal to the voltage gain obtained from
a common-source amplifier. Both amplifiers utilize the same values of RD and supply voltages, and all the
transistors have the same W/L ratios. What must the bias current I of the differential pair be relative to the bias
current ID of the CS amplifier? What is the ratio of the power dissipation of the two circuits?
9.18 A differential amplifier is designed to have a differential voltage gain equal to the voltage gain of a common-
source amplifier. Both amplifiers use the same values of RD and supply voltages and are designed to dissipate equal
amounts of power in their equilibrium or quiescent state. As well, all the transistors use the same channel length.
What must the width W of the differential-pair transistors be relative to the width of the CS transistor?
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
D 9.19 Figure P9.19 shows a MOS differential amplifer with the drain resistors RD implemented using diode-
connected PMOS transistors, Q3 and Q4. Let Q1 and Q2 be matched, and Q3 and Q4 be matched.
Figure P9.19
Find the differential half-circuit and use it to derive an expression for Ad in terms of gm1,2, gm3,4, ro1,2, and
ro3,4.
Neglecting the effect of the output resistances ro, find Ad in terms of μn, μp, (W/L)1,2 and (W/L)3,4.
If μn = 4μp and all four transistors have the same channel length, find (W1,2/W3,4) that results in Ad = 10 V/V.
9.20 Find the differential half-circuit for the differential amplifier shown in Fig. P9.20 and use it to derive an
expression for the differential gain Ad ≡ vod/vid in terms of gm, RD, and Rs. Neglect the Early effect. What is the
gain with Rs = 0? What is the value of Rs (in terms of 1/gm) that reduces the gain to half this value?

(a)
Figure P9.20
*9.21 The resistance Rs in the circuit of Fig. P9.20 can be implemented by using a MOSFET operated in the triode
region, as shown in Fig. P9.21. Here Q3 implements Rs, with the value of Rs determined by the voltage VC at the
gate of Q3.
Figure P9.21
With vG1 = vG2 = 0 V, and assuming that Q1 and Q2 are operating in saturation, what dc voltages appear at the
sources of Q1 and Q2? Express these in terms of the overdrive voltage VOV at which each of Q1 and Q2
operates, and Vt.

(b)
(c)
(d)
For the situation in (a), what current flows in Q3? What overdrive voltage VOV3 is Q3 operating at, in terms of
VC, VOV, and Vt?
Now consider the case vG1 = +vid/2 and vG2 = −vid/2, where vid is a small signal. Convince yourself that Q3
now conducts current and operates in the triode region with a small vDS. What resistance rDS does it have,
expressed in terms of the overdrive voltage VOV3 at which it is operating? This is the resistance Rs. Now if all
three transistors have the same W/L, express Rs in terms of VOV, VOV3, and gm1,2.
Find VOV3 and hence VC that result in (i) Rs = 1/gm1,2; (ii) Rs = 0.5/gm1,2.
*9.22 The circuit of Fig. P9.22 shows an effective way of implementing the resistance Rs needed for the circuit in
Fig. P9.20. Here Rs is realized as the series equivalent of two MOSFETs Q3 and Q4 that are operated in the triode
region, thus, Rs = rDS3 + rDS4. Assume that Q1 and Q2 are matched and operate in saturation at an overdrive
voltage VOV that corresponds to a drain bias current of I/2. Also, assume that Q3 and Q4 are matched.
Figure P9.22
(a) With vG1 = vG2 = 0 V, what dc voltages appear at the sources of Q1 and Q2? What current flows through Q3 and
Q4? At what overdrive voltages are Q3 and Q4 operating? Find an expression for rDS for each of Q3 and Q4 and
hence for Rs in terms of (W/L)1,2, (W/L)3,4, and gm1,2.
(b) Now with vG1 = vid/2 and vG2 = −vid/2, where vid is a small signal, find an expression of the voltage gain Ad ≡
vod/vid in terms of gm1,2, RD, (W/L)1,2, and (W/L)3,4.
D *9.23 Figure P9.23 shows a circuit for a differential amplifier with an active load. Here Q1 and Q2 form the
differential pair, while the current source transistors Q4 and Q5 form the active loads for Q1 and Q2, respectively.
The dc bias circuit that establishes an appropriate dc voltage at the drains of Q1 and Q2 is not shown. It is required
to design the circuit to meet the following specifications:

(a)
(b)
(c)
(d)
Figure P9.23
Differential gain Ad = 25 V/V.
IREF = I = 200 µA.
The dc voltage at the gates of Q6 and Q3 is +0.4 V.
The dc voltage at the gates of Q7, Q4, and Q5 is −0.4 V.
The technology available is specified as follows: μnCox = 4 μpCox = 400 µA/V2; Vtn = |Vtp| = 0.4 V, VAn = |VAp| = 5
V. Specify the required value of R and the W/L ratios for all transistors. Also specify ID and |VGS| at which each
transistor is operating. For dc bias calculations you may neglect channel-length modulation.
*9.24 A design error has resulted in a gross mismatch in the circuit of Fig. P9.24. Specifically, Q2 has twice the
W/L ratio of Q1. If vid is a small sine-wave signal, find:
∨Show Answer

(a)
(b)
(c)
Figure P9.24
ID1 and ID2.
VOV for each of Q1 and Q2.
The differential gain Ad in terms of RD, I, and VOV.
D 9.25 For the cascode differential amplifier of Fig. 9.13(a), show that if all transistors have the same channel
length and are operated at the same |VOV| and assuming that 
 = 
, the differential gain Ad is given
by
Now design the amplifier to obtain a differential gain of 600 V/V. Use |VOV| = 0.15 V. If 
 = 5 V/µm, specify the
required channel length L. If gm is to be as high as possible but the power dissipation in the amplifier (in
equilibrium) is to be limited to 0.6 mW, what bias current I would you use? Let VDD = VSS = 0.9 V.
Section 9.2: The BJT Differential Pair
9.26 For the differential amplifier of Fig. 9.15(a) let I = 0.2 mA, VCC = VEE = 1.5 V, VCM = −0.5 V, RC = 5 kΩ, and
β = 100. Assume that the BJTs have vBE = 0.7 V at iC = 1 mA. Find the voltage at the emitters and at the outputs.
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
9.27 An npn differential amplifier with I = 0.2 mA, VCC = VEE = 1.5 V, and RC = 5 kΩ utilizes BJTs with β = 100
and vBE = 0.7 V at iC = 1 mA. If vB2 = 0, find VE, VC1, and VC2 obtained with vB1 = +0.5 V, and with vB1 = −0.5 V.
Assume that the current source requires a minimum of 0.3 V for proper operation.
9.28 An npn differential amplifier with I = 0.2 mA, VCC = VEE = 1.5 V, and RC = 5 kΩ utilizes BJTs with β = 100
and vBE = 0.7 V at iC = 1 mA. Assuming that the bias current is obtained by a simple current source and that all
transistors require a minimum vCE of 0.3 V for operation in the active mode, find the input common-mode range.
9.29 Repeat Exercise 9.7 for an input of –0.3 V.
9.30 An npn differential pair employs transistors for which vBE = 690 mV at iC = 1 mA, and β = 50. The transistors
leave the active mode at vCE ≤ 0.3 V. The collector resistors RC = 82 kΩ, and the power supplies are ±1.2 V. The
bias current I = 20 µA and is supplied with a simple current source.
For vB1 = vB2 = VCM = 0 V, find VE, VC1, and VC2.
Find the input common-mode range.
If vB2 = 0, find the value of vB1 that increases the current in Q1 by 10%.
9.31 Consider the BJT differential amplifier when fed with a common-mode voltage VCM as shown in Fig. 9.15(a).
As is often the case, the supply voltage VCC may not be pure dc but might include a ripple component vr of small
amplitude and a frequency of 120 Hz (see Section 4.6). Thus the supply voltage becomes VCC + vr. Find the ripple
component of the collector voltages, vC1 and vC2, as well as of the difference output voltage vod ≡ vC2 − vC1.
Comment on the differential amplifier response to this undesirable power-supply ripple.
D 9.32 Consider the differential amplifier of Fig. 9.14 and let the BJT β be very large:
What is the largest input common-mode signal that can be applied while the BJTs remain comfortably in the
active region with vCB = 0?
If the available power supply VCC is 1.5 V, what value of IRC should you choose in order to allow a common-
mode input signal of ±0.75 V?
For the value of IRC found in (b), select values for I and RC. Use the largest possible value for I subject to the
constraint that the base current of each transistor (when I divides equally) should not exceed 1 µA. Let β =
100.
9.33 To gain insight into the possibility of nonlinear distortion resulting from large differential input signals applied
to the differential amplifier of Fig. 9.14, evaluate the normalized change in the current iE1, ∆iE1/I = (iE1 − (I/2))/I,
for differential input signals vid of 2, 5, 8, 10, 20, 30, and 40 mV. Use a table to show the ratio (∆iE1/I)/vid, which
represents the proportional transconductance gain of the differential pair, versus vid. Comment on the linearity of
the differential pair as an amplifier.
D 9.34 Design the circuit of Fig. 9.14 to provide a differential output voltage vO of 1 V when the differential input
signal is 10 mV. A current source of 1 mA and a positive supply of +5 V are available. What is the largest possible
input common-mode voltage for the circuit to operate as required? Assume α 
 1.
*9.35 For the circuit in Fig. 9.14, assuming α = 1 and IRC = 5 V, use Eqs. (9.48) and (9.49) to find iC1 and iC2, and
hence determine vod = vC2 − vC1 for input differential signals vid ≡ vB1 − vB2 of 2 mV, 5 mV, 10 mV, 15 mV, 20
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
mV, 25 mV, 30 mV, 35 mV, and 40 mV. Plot vod versus vid, and hence comment on the amplifier linearity. As
another way of visualizing linearity, determine the gain (vo/vid) versus vid. Comment on the resulting graph.
9.36 In a differential amplifier using a 0.6-mA emitter bias current source, the two BJTs are not matched. Rather,
one has twice the emitter junction area of the other. For a differential input signal of zero volts, what do the
collector currents become? What difference input is needed to equalize the collector currents? Assume α = 1.
*9.37 This problem explores the linearization of the transfer characteristics of the differential pair achieved by
including emitter-degeneration resistances Re in the emitters (see Fig. 9.17). Consider the case I = 200 µA with the
transistors exhibiting vBE = 690 mV at iC = 1 mA and assume α 
 1.
With no emitter resistances Re, what value of VBE results when vid = 0?
With no emitter resistances Re, use the large-signal model to find iC1 and iC2 when vid = 20 mV.
Now find the value of Re that will result in the same iC1 and iC2 as in (b) but with vid = 200 mV. Use the large-
signal model.
Calculate the effective transconductance Gm as the ratio of the difference current, (iC1 − iC2), to vid in the
cases without and with the Re’s. By what factor is Gm reduced? How does this factor relate to the increase in
vid? Comment.
9.38 A BJT differential amplifier uses a 200-µA bias current. What is the value of gm of each device? If β is 160,
what is the differential input resistance?
D 9.39 Design the basic BJT differential amplifier circuit of Fig. 9.18 to provide a differential input resistance of at
least 50 kΩ and a differential voltage gain of 80 V/V. The transistor β is specified to be at least 100. Specify I and
RC.
9.40 For a differential amplifier to which a total difference signal of 10 mV is applied, what is the equivalent signal
to its corresponding CE half-circuit? If the emitter current source I is 200 µA, what is re of the half-circuit? For a
load resistance of 5 kΩ in each collector, what is the half-circuit gain? What magnitude of signal output voltage
would you expect at each collector? Between the two collectors?
9.41 A BJT differential amplifier is biased from a 0.5-mA constant-current source and includes a 400-Ω resistor in
each emitter. The collectors are connected to VCC via 10- kΩ resistors. A differential input signal of 0.2 V is
applied between the two bases.
Find the signal current in the emitters (ie) and the signal voltage vbe for each BJT.
What is the total emitter current in each BJT?
What is the signal voltage at each collector? Assume α = 1.
What is the voltage gain realized when the output is taken between the two collectors?
D 9.42 Design a BJT differential amplifier to amplify a differential input signal of 0.2 V and provide a
differential output signal of 2 V. To ensure adequate linearity, it is required to limit the signal amplitude
across each base–emitter junction to a maximum of 5 mV. Another design requirement is that the
differential input resistance be at least 400 kΩ. The BJTs available are specified to have β ≥ 100. Give
the circuit configuration and specify the values of all its components.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
D 9.43 Design a bipolar differential amplifier such as that in Fig. 9.18 to operate from ±2.5 V power supplies and to
provide differential gain of 60 V/V. The power dissipation in the quiescent state should not exceed 1 mW.
Specify the values of I and RC. What dc voltage appears at the collectors?
If β = 100, what is the input differential resistance?
For vid = 10 mV, what is the signal voltage at each of the collectors?
For the situation in (c), what is the maximum allowable value of the input common-mode voltage, VCM?
Recall that to maintain an npn BJT in saturation, vB should not exceed vC by more than 0.4 V.
D *9.44 In this problem we explore the trade-off between input common-mode range and differential gain in the
design of the bipolar differential BJT amplifier. Consider the bipolar differential amplifier in Fig. 9.14 with the
input voltages
Bearing in mind that for a BJT to remain in the active mode, vBC should not exceed 0.4 V, show that when vid
has a peak 
, the maximum input common-mode voltage VCMmax is given by
For the case VCC = 2.5 V and 
 = 10 mV, use the relationship above to determine VCMmax for the case Ad =
50 V/V. Also find the peak output signal 
 and required value of IRC. Now if the power dissipation in the
circuit is to be limited to 1 mW in the quiescent state (i.e., with vid = 0), find I and RC. (Remember to include
the power drawn from the negative power supply −VEE = −2.5 V.)
If VCMmax is to be +1 V, and all other conditions remain the same, what maximum gain Ad is achievable?
9.45 For the differential amplifier of Fig. 9.14, let VCC = +5 V and IRC = 4 V. Find the differential gain Ad. Sketch
and clearly label the waveforms for the total collector voltages vC1 and vC2 and for (vO) for the case:
9.46 Consider a bipolar differential amplifier in which the collector resistors RC are replaced with simple current
sources implemented using pnp transistors. Sketch the circuit and give its differential half-circuit. If VA = 25 V for
all transistors, find the differential voltage gain achieved.
9.47 For each of the emitter-degenerated differential amplifiers shown in Fig. P9.47, find the differential half-
circuit and derive expressions for the differential gain Ad and differential input resistance Rid. For each circuit, what
dc voltage appears across the bias current source(s) in the quiescent state (i.e., with vid = 0)? Hence, which of the
two circuits will allow a larger negative VCM?
∨Show Answer

Figure P9.47 (a)
Figure P9.47 (b)
9.48 Consider a bipolar differential amplifier that, in addition to the collector resistances RC, has a load resistance
RL connected between the two collectors. What does the differential gain Ad become?
9.49 A bipolar differential amplifier having resistance Re inserted in series with each emitter [as in Fig. P9.47(a)] is
biased with a constant current I. When both input terminals are grounded, the dc voltage measured across each Re is
found to be 3 VT and that measured across each RC is found to be 80VT. What differential voltage gain Ad do you
expect the amplifier to have?
∨Show Answer

9.50 A bipolar differential amplifier with emitter-degeneration resistances Re and Re is fed with the arrangement
shown in Fig. P9.50. Derive an expression for the overall differential voltage gain Gv ≡ vod/vsig. If Rsig is of such a
value that vid = 0.5vsig, find the gain Gv in terms of RC, re, Re, and α. Now if β is doubled, by what factor does Gv
increase?
Figure P9.50
9.51 A particular differential amplifier operates from an emitter current source I = 0.2 mA. Each of the collector
resistances RC = 20 kΩ and a load resistance RL = 40 kΩ is connected between the two collectors. If the amplifier is
fed in the manner shown in Fig. P9.50 with Rsig = 80 kΩ, find the overall voltage gain. Let β = 160.
9.52 Find the voltage gain and the input resistance of the amplifier shown in Fig. P9.52 assuming β = 100.
∨Show Answer

Figure P9.52
9.53 Find the voltage gain and input resistance of the amplifier in Fig. P9.53 assuming that β = 100.
Figure P9.53
9.54 Derive an expression for the small-signal voltage gain vo/vi of the circuit shown in Fig. P9.54 in two different
ways:
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(c)
(d)
(e)
Figure P9.54
as a differential amplifier
as a cascade of a common-collector stage Q1 and a common-base stage Q2
Assume that the BJTs are matched and have a current gain α, and neglect the Early effect. Verify that both
approaches lead to the same result.
Section 9.3: Common-Mode Rejection
SIM 9.55 An NMOS differential pair is biased by a current source I = 0.2 mA having an output
resistance RSS =100 kΩ. The amplifier has drain resistances RD =12 kΩ, using transistors with 
W/L =
5mA/V2, and ro that is large. If the output is taken differentially and there is a 1% mismatch between the
drain resistances, find |Ad|, |Acm|, and CMRR.
9.56 For the differential amplifier shown in Fig. P9.2, let Q1 and Q2 have 
, and assume that the
bias current source has an output resistance of 50 kΩ. Find |VOV|, gm, |Ad|, |Acm|, and the CMRR (in dB) obtained
with the output taken differentially. The drain resistances are known to have a mismatch of 2%.
SIM D *9.57 The differential amplifier in Fig. P9.57 utilizes a resistor RSS to establish a 0.02-mA dc bias current.
Note that this amplifier uses a single 2-V supply and thus the dc common-mode voltage VCM cannot be zero.
Transistors Q1 and Q2 have 
 = 1mA/V2, Vt = 0.4 V, and λ = 0.
Find the required value of VCM.
Find the value of RD that results in a differential gain Ad of 15 V/V.
Determine the dc voltage at the drains.
Determine the single-ended-output common-mode gain ∆VD1/∆VCM. (Hint)
Use the common-mode gain found in (d) to find the change in VCM that results in Q1 and Q2 entering the
triode region.
∨Show Answer

Figure P9.57
9.58 It can be shown that if the drain resistors of a MOS differential amplifier have a mismatch ∆RD and if
simultaneously the transconductances of Q1 and Q2 have a mismatch ∆gm, the common-mode gain is given by
Note that this equation indicates that RD can be deliberately varied to compensate for the initial variability in gm
and RD, that is, to minimize Acm.
In a MOS differential amplifier for which RD =5 kΩ and RSS =50 kΩ, the common-mode gain is found to be
0.002 V/V. Find the percentage change required in one of the two drain resistors to reduce Acm to zero (or close to
zero).
D 9.59 Design a MOS differential amplifier to have a CMRR of 74 dB. The only source of mismatch in the circuit
is a 1% difference between the W/L ratios of the two transistors. Let I = 100 µA and assume that all transistors are
operated at VOV = 0.2 V. For the 0.18-µm CMOS fabrication process available, 
 = 5V/µm. What is the value of L
required for the current-source transistor? If the current-source transistor is cascoded with an idential transistor,
what will the CMRR value become?
D 9.60 A MOS differential amplifier utilizing a simple current source to provide the bias current I has a CMRR of
60 dB. If the CMRR must be raised to 100 dB by adding a cascode transistor to the current source, what must the
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
(e)
intrinsic gain A0 of the cascode transistor be? If the cascode transistor is operated at VOV = 0.2 V, what must its VA
be? If for the specific technology utilized 
, specify the channel length L of the cascode transistor.
9.61 The differential amplifier circuit of Fig. P9.61 utilizes a resistor connected to the negative power supply to
establish the bias current I.
Figure P9.61
For vB1 = vid/2 and vB2 = –vid/2, where vid is a small signal with zero average, find the magnitude of the
differential gain, | vo/vid |.
For vB1 = vB2 = vicm, where vicm has a zero average, find the magnitude of the common-mode gain, | vo/vicm |.
Calculate the CMRR
If vB1 = 0.1 sin 2π × 60t +0.005 sin 2π × 1000t, volts, and vB2 = 0.1 sin 2π × 60t−0.005 sin 2π × 1000t, volts,
find vo.
9.62 Consider the basic differential circuit in which the transistors have β = 120 and VA = 80 V, with I = 0.2 mA,
REE = 400 Ω, and RC = 20 Ω. The collector resistances are matched to within 2%. Find:
the differential gain
the differential input resistance
the common-mode gain
the common-mode rejection ratio
the common-mode input resistance
9.63 For the differential amplifier shown in Fig. P9.63, identify and sketch the differential half-circuit and the
common-mode half-circuit. Find the differential gain, the differential input resistance, the common-mode gain
assuming the resistances RC have 1% tolerance, and the common-mode input resistance. For these transistors, β =
100 and VA =100 V.
∨Show Answer

(a)
(b)
(c)
Figure P9.63
9.64 In a bipolar differential-amplifier circuit, the bias current generator consists of a simple common-emitter
transistor operating at 200 µA. For this transistor, and those used in the differential pair, VA = 30 V and β = 60.
What common-mode input resistance would result? Assume RC ≪ ro.
9.65 A bipolar differential amplifier with I = 0.2 mA utilizes transistors for which VA = 20 V and β = 100. The
collector resistances RC = 10 kΩ and are matched to within 10%. Find:
the differential gain
the common-mode gain and the CMRR if the bias current I is generated using a simple current mirror
the common-mode gain and the CMRR if the bias current I is generated using a Wilson mirror. (Refer to Eq.
8.98 for Ro of the Wilson mirror.)
D 9.66 Design a differential amplifier to provide the largest possible signal to a pair of 10- kΩ load resistances. The
input differential signal is a sinusoid of 5-mV peak amplitude, which is applied to one input terminal while the
other input terminal is grounded. The power supply VCC available is 5 V. To determine the required bias current I,
derive an expression for the total voltage at each of the collectors in terms of VCC and I in the presence of the input
signal. Then impose the condition that both transistors remain well out of saturation with a minimum vCB of
roughly 0 V. Thus determine the required value of I. For this design, what differential gain is achieved? What is the
amplitude of the signal voltage obtained between the two collectors? Assume α 
 1.
D *9.67 Design a BJT differential amplifier that provides two single-ended outputs (at the collectors). The
amplifier is to have a differential gain (to each of the two outputs) of at least 100 V/V, a differential input resistance
≥ 10 kΩ, and a common-mode gain (to each of the two outputs) no greater than 0.1 V/V. Use a 2-mA current source
for biasing. Give the complete circuit with component values and suitable power supplies that allow for ±2 V swing
at each collector and an input common-mode voltage as high as +3 V. Specify the minimum value that the output
resistance of the bias current source must have. If the current source is realized by a simple mirror, what must the
minimum value of VA be? The BJTs available have β ≥ 100. What is the value of the input common-mode
resistance when the bias source has the lowest acceptable output resistance?
∨Show Answer

(a)
(b)
9.68 When the output of a BJT differential amplifier is taken differentially, its CMRR is found to be 46 dB higher
than when the output is taken single-endedly. If the only source of common-mode gain when the output is taken
differentially is the mismatch in collector resistances, what must this mismatch be (in percent)?
*9.69 In a particular BJT differential amplifier, a production error results in one of the transistors having an
emitter–base junction area that is twice that of the other. With the inputs grounded, how will the emitter bias current
split between the two transistors? If the output resistance of the current source is 400 kΩ and the resistance in each
collector (RC) is 15 kΩ, find the common-mode gain obtained when the output is taken differentially. Assume α 
1. (Hint)
Section 9.4: DC Offset
D 9.70 An NMOS differential pair is to be used in an amplifier whose drain resistors are 10 kΩ ± 1%. For the pair, 
W/L = 4mA/V2. Decide whether to use a bias current I of 160 µA or 360 µA. Contrast the differential gain and
input offset voltage for the two possibilities.
D 9.71 An NMOS differential amplifier for which the MOSFETs have a transconductance parameter kn and whose
drain resistances RD have a mismatch ∆RD is biased with a current I.
Find expressions for Ad and VOS in terms of kn, RD, ∆RD/RD, and I. Use these expressions to relate VOS and
Ad .
If kn = 4mA/V2, RD = 10 kΩ, and ∆RD/RD = 0.02, find the maximum gain realized if VOS is to be limited to 1
mV, 2 mV, 3 mV, 4 mV, and 5 mV. For each case, give the value of the required bias current I. Note the trade-
off between gain and offset voltage.
D 9.72 An NMOS amplifier, whose designed operating point is at VOV = 0.2 V, is suspected to have a variability of
Vt of ±4 mV, and of W/L and RD (independently) of ±1%. What is the worst-case input offset voltage you would
expect to find? What is the major contribution to this total offset? If you used a variation of one of the drain
resistors to reduce the output offset to zero and thereby compensate for the uncertainties (including that of the other
RD), what percentage change from nominal would you require?
9.73 An NMOS differential pair operating at a bias current I of 100 µA uses transistors for which 
 and W/L = 10. Find the three components of input offset voltage under the conditions that
∆RD/RD = 4%, ∆(W/L)/(W/L) = 4%, and ∆Vt = 5 mV. In the worst case, what might the total offset be? For the
usual case of the three effects being independent, what is the offset likely to be?
9.74 A bipolar differential amplifier uses two well-matched transistors, but collector load resistors that are
mismatched by 8%. What input offset voltage is required to reduce the differential dc output voltage to zero?
9.75 A bipolar differential amplifier uses two transistors whose scale currents IS differ by 8%. If the two collector
resistors are well matched, find the resulting input offset voltage.
9.76 Modify Eq. (9.101) for a differential amplifier having a resistance RE connected in the emitter of each
transistor. Let the bias current source be I.
9.77 A differential amplifier uses two transistors whose β values are β1 and β2. If everything else is matched, show
that the input offset voltage is approximately VT[(1/β1) − (1/β2)]. Evaluate VOS for β1 = 50 and β2 = 100. (Hint)
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
9.78 Two possible differential amplifier designs are considered, one using BJTs and the other MOSFETs. In both
cases, the collector (drain) resistors are maintained within ±2% of nominal value. The MOSFETs are operated at
VOV = 200 mV. What input offset voltage results in each case? What does the MOS VOS become if the devices are
increased in width by a factor of 4 while the bias current is kept constant?
*9.79 A differential amplifier uses two transistors having VA values of 100 V and 200 V. If everything else is
matched, find the resulting input offset voltage. Assume that the two transistors are intended to be biased at a VCE
of about 10 V.
**9.80 A differential amplifier is fed in a balanced or push–pull manner, and the source resistance in series with
each base is Rs. Show that a mismatch ∆Rs between the values of the two source resistances gives rise to an input
offset voltage of approximately (I/2β)∆Rs / [1 + (gmRs)/β].
9.81 One approach to “offset correction” involves adjusting the values of RC1 and RC2 to reduce the differential
output voltage to zero when both input terminals are grounded. This offset-nulling process can be accomplished by
using a potentiometer in the collector circuit, as shown in Fig. P9.81. Find the potentiometer setting, represented by
the fraction x of its value connected in series with RC1, that is required for nulling the output offset voltage that
results from:
Figure P9.81
RC1 being 5% higher than nominal and RC2 5% lower than nominal.
Q1 having an area 4% larger than nominal, while Q2 has area 4% smaller than nominal.
9.82 A differential amplifier for which the total emitter bias current is 500 µA uses transistors for which β is
specified to lie between 80 and 200. What is the largest possible input bias current? The smallest possible input bias
current? The largest possible input offset current?
∨Show Answer
∨Show Answer

*9.83 In a particular BJT differential amplifier, a production error results in one of the transistors having an
emitter–base junction area twice that of the other. With both inputs grounded, find the current in each of the two
transistors and hence the dc offset voltage at the output, assuming that the collector resistances are equal. Use
small-signal analysis to find the input voltage that would restore current balance to the differential pair. Repeat
using large-signal analysis and compare results.
D 9.84 A large fraction of mass-produced differential-amplifier modules using 20- kΩ collector resistors is found to
have an input offset voltage ranging from +2 mV to –2 mV. By what amount must one collector resistor be adjusted
to reduce the input offset to zero? If an adjustment mechanism is devised that raises one collector resistance while
correspondingly lowering the other, what resistance change is needed? If a potentiometer connected as shown in
Fig. P9.81 is used, what value of potentiometer resistance (specified to 1 significant digit) is needed? Assume that
the offset is entirely due to the finite tolerance of RC.
Section 9.5: The Differential Amplifier with a Current-Mirror Load
9.85 The differential amplifier of Fig. 9.31(a) is found to have a differential short-circuit transconductance of 2
mA/V. A differential input signal is applied and the output voltage is measured with a load resistance RL connected.
It is found that when RL is reduced from ∞ to 25 kΩ, the magnitude of the output signal is reduced by half. What do
you estimate Ro and Ad (with RL disconnected) to be?
9.86 A current-mirror-loaded NMOS differential amplifier is fabricated in a technology for which 
 = 6V/µm.
All the transistors have L = 0.5 µm. If the differential-pair transistors are operated at VOV = 0.2 V, what open-circuit
differential gain is realized?
9.87 The differential amplifier of Fig. 9.31(a) is biased with I = 200 µA. All transistors have L = 0.5 µm, and Q1
and Q2 have W/L = 20. The circuit is fabricated in a process for which μnCox = 400 µA/V2 and 
 = 6V/µm. Find
gm1,2, ro2, ro4, and Ad.
D 9.88 In a current-mirror-loaded differential amplifier of the form shown in Fig. 9.31(a), all transistors are
characterized by k'W/L = 4mA/V2, and |VA| = 5 V. Find the bias current I for which the gain vo/vid = 25 V/V.
D 9.89 Consider a current-mirror-loaded differential amplifier such as that shown in Fig. 9.31(a) with the bias
current source implemented with the modified Wilson mirror of Fig. P9.89 with I = 200 µA. The transistors have
|Vt| = 0.4V and k'W/L = 5mA/V2. What is the lowest value of the total power supply (VDD + VSS) that allows each
transistor to operate with |VDS | ≥ | VGS|?
∨Show Answer
∨Show Answer
∨Show Answer

Figure P9.89
*9.90 (a) Sketch the circuit of a current-mirror-loaded MOS differential amplifier in which the input transistors are
cascoded and a cascode current mirror is used for the load. (b) Show that if all transistors are operated at an
overdrive voltage VOV and have equal Early voltages |VA|, the gain is given by
Evaluate the gain for VOV = 0.20 V and VA =10 V.
9.91 Figure P9.91 shows the current-mirror-loaded MOS differential amplifier prepared for small-signal analysis.
We have pulled ro out of each transistor; thus, the current in the drain of each transistor will be gmvgs. We have also
simplified matters by indicating approximate values for some of the node voltages. For instance, the output voltage 
, which we have derived in the text. The voltage at the common sources has been found to be
roughly +vid/4, which is very far from the virtual ground we might expect. Also, the voltage at the drain of Q1 is
approximately −vid/4, confirming our contention that the voltage there is vastly different from the output voltage,
hence the lack of balance in the circuit and the unavailability of a differential half-circuit. Find the currents labeled
i1 to i13 in terms of VOS is given by (gmvid). Determine their values in the sequence of their numbering and assume
gmro ≫ 1. Assume that all transistors are operating at the same |VOV|. Write the current values on the circuit
diagram and reflect on the results.
∨Show Answer

Figure P9.91
9.92 A current-mirror-loaded NMOS differential amplifier operates with a bias current I of 200 µA. The NMOS
transistors are operated at VOV = 0.2 V and the PMOS devices at 
. The Early voltages are 10 V for the
NMOS and 8 V for the PMOS transistors. Find Gmd, Ro, and Ad. Forwhat value of load resistance is the gain
reduced by a factor of 2?
9.93 This problem investigates the effect of transistor mismatches on the input offset voltage of the current-mirror-
loaded MOS differential amplifier of Fig. 9.31(a). For this purpose, ground both input terminals and short-circuit
the output node to ground.
(a) If the amplifying transistors Q1 and Q2 exhibit a W/L mismatch of ∆(W/L)A, find the resulting short-circuit
output current and hence show that the corresponding VOS is given by
where VOV is the overdrive voltage at which Q1 and Q2 are operating.
(b) Repeat for a mismatch ∆(W/L)M in the W/L ratios of the mirror transistor Q3 and Q4 to show that the
corresponding VOS is given by
where VOV is the overdrive voltage at which Q1 and Q2 are operating.
∨Show Answer

(c) For a circuit in which all transistors are operated at |VOV| = 0.2 V and all W/L ratios are accurate to within ±1%
of nominal, find the worst-case total offset voltage VOS.
9.94 The differential amplifier in Fig. 9.35(a) is operated with I = 400 µA, with devices for which VA =10 V and β
= 100. What differential input resistance, output resistance, differential short-circuit transconductance, and open-
circuit voltage gain would you expect? What will the voltage gain be if the input resistance of the subsequent stage
is equal to Rid of this stage?
9.95 Figure P9.95 shows a differential cascode amplifier with an active load formed by a Wilson current mirror.
Utilizing the expressions derived in Chapter 8 for the output resistance of a bipolar cascode and the output
resistance of the Wilson mirror, and assuming all transistors to be identical, show that the differential voltage gain
Ad is given approximately by
Evaluate Ad for the case of β = 100 and VA = 20 V.
D 9.96 Consider the bias design of the Wilson-loaded cascode differential amplifier shown in Fig. P9.95.
∨Show Answer

(a)
(b)
(c)
(d)
Figure P9.95
What is the largest signal voltage possible at the output without Q7 saturating? Assume that the CB junction
conducts when the voltage across it exceeds 0.4 V.
What should the dc bias voltage established at the output (by an arrangement not shown) be in order to allow
for positive output signal swing of 1.5 V?
What should the value of VBIAS be in order to allow for a negative output signal swing of 1.5 V?
What is the upper limit on the input common-mode voltage VICM?
∨Show Answer

9.97 In addition to the random offset voltages that result from the mismatches inevitably present in the differential
amplifier, the current-mirror-loaded bipolar differential amplifier suffers from a systematic offset voltage. This is
due to the error in the current transfer ratio of the current-mirror load caused by the finite β of the pnp transistors
that make up the mirror. The situation is illustrated in Fig. P9.97. Show that the resulting input offset voltage is
given by
and evaluate VOS for βP = 50. Also, if the simple current mirror is replaced by the pnp version of the Wilson mirror
of Fig. 8.37(a), find the expected systematic input offset voltage. Give both an expression and a value.
Figure P9.97
9.98 For the BiCMOS differential amplifier in Fig. P9.98 let VDD = VSS =3 V, I = 0.2 mA, 
W/L = 6.4 mA/V2;
|VA| for p-channel MOSFETs is 10 V, |VA| for npn transistors is 30 V. Find Gmd, Ro, and Ad.

(a)
(b)
(c)
(d)
(a)
(b)
Figure P9.98
SIM D 9.99 Design the current-mirror-loaded differential MOS amplifier of Fig. 9.31(a) to obtain a
differential gain of 60 V/V. The technology available provides μnCox = 4μpCox = 500 µA/V2, |Vt| = 0.4
V, and 
 = 15 V/µm and operates from ±0.8-V supplies. Use a bias current I = 200 µA and operate all
devices at |VOV| = 0.15 V. Assume all transistors have the same channel length.
Find the W/L ratios of the four transistors.
Specify the channel length required of all transistors.
If VICM = 0, what is the allowable range of vO?
If I is delivered by a simple NMOS current source operated at the same VOV and having the same channel
length as the other four transistors, determine the CMRR obtained.
9.100 Consider the current-mirror-loaded MOS differential amplifier of Fig. 9.31(a) in two cases:
Current source I is implemented with a simple current mirror.
Current source I is implemented with the modified Wilson current mirror shown in Fig. P9.100.
∨Show Answer

Figure P9.100
Recalling that for the simple mirror RSS = ro|QS and for the Wilson mirror 
 and assuming that
all transistors have the same |VA| and 
, show that for (a)
and for (b)
where VOV is the overdrive voltage that corresponds to a drain current of I/2. For k'W/L = 4mA/V2, I = 160 µA, and
|VA| = 5 V, find CMRR for both cases.
9.101 The MOS differential amplifier of Fig. 9.31(a) is biased with a simple current mirror delivering I = 200 µA.
All transistors are operated at VOV = 0.2 V and have VA = 6 V. Find Gmd, Ro, Ad, RSS, Rim, Am, Gmcm, Acm, and
CMRR.
9.102 A current-mirror-loaded MOS differential amplifier is found to have a differential voltage gain Ad of 30 V/V.
Its bias current source has an output resistance RSS = 100 kΩ. The current mirror utilized has a current gain Am of
0.98 A/A, an input resistance Rim of 1.63 kΩ, and an output resistance Rom of 75 kΩ. If the output resistances of the
amplifier Rod is 50 kΩ, find Gmcm, Acm, and CMRR.
∨Show Answer

(a)
D 9.103 A current-mirror-loaded MOS differential amplifier has a differential voltage gain Ad of 40 V/V. The
output resistance of the current-mirror load is equal to the output resistance of the amplifier at 40 kΩ. If the current-
mirror gain is 0.98 A/A and its input resistance Rim is 500 Ω, find the required value of the output resistance RSS of
the bias current source to obtain a CMRR of 80 dB.
Section 9.6: Multistage Amplifiers
9.104 Consider the circuit in Fig. 9.37 with the device geometries (in µm) shown in Table P9.104. Let IREF = 50
µA, |Vt| = 0.4 V for all devices, μnCox = 360 µA/V2, μpCox = 90 µA/V2, |VA| = 6 V for all devices, VDD = VSS = 0.9
V. Determine the width of Q6, W, that will ensure that the op amp will not have a systematic offset voltage. Then,
for all devices evaluate ID, |VOV|, |VGS|, gm, and ro. Provide your results in a table similar to Table 9.1. Also find
A1, A2, the open-loop voltage gain, the input common-mode range, and the output voltage range. Neglect the effect
of VA on the bias currents.
Table P9.104
Transistor
Q1
Q2
Q3
Q4
Q5
Q6
Q7
Q8
W/L
25/0.5
25/0.5
6.25/0.5
6.25/0.5
50/0.5
W/0.5
50/0.5
12.5/0.5
D 9.105 The two-stage CMOS op amp in Fig. P9.105 is fabricated in a 0.18-µm technology having 
 =
400 µA/V2, Vtn = −Vtp = 0.4 V.
Figure P9.105
With A and B grounded, perform a dc design that will result in each of Q1, Q2, Q3, and Q4 conducting a drain
current of 100 µA and each of Q6 and Q7 a current of 200 µA. Design so that all transistors operate at 0.2-V
∨Show Answer

(b)
(c)
(d)
(a)
(b)
(c)
(a)
(b)
(c)
(d)
overdrive voltages. Specify the W/L ratio required for each MOSFET. Present your results in tabular form.
What is the dc voltage at the output (ideally)?
Find the input common-mode range.
Find the allowable range of the output voltage.
With vA = vid/2 and vB = −vid/2, find the voltage gain vo/vid. Assume an Early voltage of 6 V.
D *9.106 In a particular design of the CMOS op amp of Fig. 9.37 the designer wishes to investigate the effects of
increasing the W/L ratio of both Q1 and Q2 by a factor of 4. Assuming that all other parameters are kept unchanged,
refer to Example 9.6 to help you answer the following questions:
What change results in |VOV| and in gm of Q1 and Q2?
What change results in the voltage gain of the input stage? In the overall voltage gain?
What is the effect on the input offset voltages? (You might wish to refer to Section 9.4).
9.107 Consider the amplifier of Fig. 9.37, whose parameters are specified in Example 9.6. If a manufacturing error
results in the W/L ratio of Q7 being 24/0.4, find the current that Q7 will now conduct. Thus find the systematic
offset voltage that will appear at the output. (Use the results of Example 9.6.) Assuming that the open-loop gain
will remain approximately unchanged from the value found in Example 9.6, find the corresponding value of input
offset voltage, VOS.
9.108 Consider the input stage of the CMOS op amp in Fig. 9.37 with both inputs grounded. Assume that the two
sides of the input stage are perfectly matched except that the threshold voltages of Q3 and Q4 have a mismatch ∆Vt.
Show that a current gm3∆Vt appears at the output of the first stage. What is the corresponding input offset voltage?
D 9.109 The two-stage op amp in Figure P9.105 is fabricated in a 65-nm technology having 
 =
540 µA/V2 and Vtn = −Vtp = 0.35 V. The amplifier is operated with VDD = +1.2 V and VSS = 0 V.
Perform a dc design that will cause each of Q1, Q2, Q3, and Q4 to conduct a drain current of 200 µA and each
of Q6 and Q7 to conduct a current of 400 µA. Design so that all transistors operate at 0.15-V overdrive
voltages. Specify the W/L ratio required for each MOSFET. Present all results in a table.
Find the input common-mode range.
Find the allowable range of the output voltage.
With vA = vid/2 and vB = −vid/2, find the voltage gain vo/vid. Assume an Early voltage of 2.4 V.
*9.110 Figure P9.110 shows a bipolar op-amp circuit that resembles the CMOS op amp of Fig. 9.37. Here, the input
differential pair Q1–Q2 is loaded in a current mirror formed by Q3 and Q4. The second stage is formed by the
current-source-loaded common-emitter transistor Q5. Unlike the CMOS circuit, here there is an output stage
formed by the emitter follower Q6. The function of capacitor CC will be explained later, in Chapter 11. All
transistors have β = 100, |VBE| = 0.7 V, and ro = ∞.
∨Show Answer
∨Show Answer

(a)
(b)
Figure P9.110
For inputs grounded and output held at 0 V (by negative feedback, not shown) find the emitter currents of all
transistors.
Calculate the gain of the amplifier with RL = 1 kΩ.
9.111 A BJT differential amplifier, biased to have re = 100 Ω and utilizing two 100-Ω emitter resistors and 5- kΩ
loads, drives a second differential stage biased to have re = 50 Ω. All BJTs have β = 100. What is the voltage gain
of the first stage? Also find the input resistance of the first stage, and the current gain from the input of the first
stage to the collectors of the second stage.
9.112 In the multistage amplifier of Fig. 9.38, emitter resistors are to be introduced: 100 Ω in the emitter lead of
each of the first-stage transistors and 25 Ω for each of the second-stage transistors. What is the effect on input
resistance, the voltage gain of the first stage, and the overall voltage gain? Use the bias values found in Example
9.7.
D 9.113 Consider the circuit of Fig. 9.38 and its output resistance. Which resistor has the most effect on the output
resistance? What should this resistor be changed to if the output resistance is to be reduced by a factor of 2? What
will the amplifier gain become after this change? What other change can you make to restore the amplifier gain to
approximately its prior value?
D 9.114 (a) If, in the multistage amplifier of Fig. 9.38, the resistor R5 is replaced by a constant-current source 
 1
mA, such that the bias situation is essentially unaffected, what does the overall voltage gain of the amplifier
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
become? Assume that the output resistance of the current source is very high. Use the results of Example 9.8.
(b) With the modification suggested in (a), what is the effect of the change on output resistance? What is the overall
gain of the amplifier when loaded by 100 Ω to ground? The original amplifier (before modification) has an output
resistance of 152 Ω and a voltage gain of 8513 V/V. What is its gain when loaded by 100 Ω? Comment. Use β =
100.
*9.115 Figure P9.115 shows a three-stage amplifier in which the stages are directly coupled. The amplifier,
however, utilizes bypass capacitors, and, as such, its frequency response falls off at low frequencies. For our
purposes here, we shall assume that the capacitors are large enough to act as perfect short circuits at all signal
frequencies of interest.
Figure P9.115
Find the dc bias current in each of the three transistors. Also find the dc voltage at the output. Assume |VBE| =
0.7V, β = 100, and neglect the Early effect.
Find the input resistance and the output resistance.
Use the current-gain method to evaluate the voltage gain vo/vi.
**9.116 The MOS differential amplifier shown in Fig. P9.116 utilizes three current mirrors for signal transmission:
Q4−Q6 has a transmission factor of 2 [i.e., (W/L)6/(W/L)4 = 2], Q3−Q5 has a transmission factor of 1, and Q7−Q8
has a transmission factor of 2. All transistors are sized to operate at the same overdrive voltage, |VOV|. All
transistors have the same Early voltage |VA|.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
Figure P9.116
Provide in tabular form the values of ID, gm, and ro of each of the eight transistors in terms of I, VOV, and VA.
Show that the differential voltage gain Ad is given by
Show that the CM gain is given by
where RSS is the output resistance of the bias current source I. (Hint: Since the input differential circuit is
balanced, each of Q1 and Q2 will conduct a common-mode signal current of approximately (vicm/2RSS). These
currents are fed into the current mirror loads. Use the current-mirror equivalent circuit derived in Section
8.2.5. Specificially, for each current mirror, the current transfer ratio is given by
where gm and ro are the parameters of the input transistor of the mirror.)
If the current source I is implemented using a simple mirror and the MOS transistor is operated at the same
VOV, show that the CMRR is given by
Find the input CM range and the output linear range in terms of VDD, |Vt|, and |Vov|.

10.1
10.2
10.3
10.4
10.5
10.6
10.7
10.8
•
•
•
•
•
•
•
•
CHAPTER 10
Frequency Response
Introduction
High-Frequency Transistor Models
High-Frequency Response of CS and CE Amplifiers
The Method of Open-Circuit Time Constants
High-Frequency Response of Common-Gate and Cascode Amplifiers
High-Frequency Response of Source and Emitter Followers
High-Frequency Response of Differential Amplifiers
Other Wideband Amplifier Configurations
Low-Frequency Response of Discrete-Circuit CS and CE Amplifiers
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The internal capacitive effects in the MOSFET and the BJT and how to model these effects by adding
capacitances to the hybrid-π model of each transistor type.
The high-frequency limitation on the gain of CS and CE amplifiers, and how the gain falloff and the
upper 3-dB frequency fH are mostly determined by the small capacitance between the drain and gate
(collector and base).
A powerful method for analyzing the high-frequency response of amplifier circuits of varying
complexity.
How the cascode amplifier studied in Chapter 8 can be designed to obtain wider bandwidth than is
possible with CS and CE amplifiers.
The high-frequency performance of source and emitter followers.
The high-frequency performance of differential amplifiers.
Circuit configurations for obtaining wideband amplification.
How coupling and bypass capacitors cause the gain of discrete-circuit amplifiers to fall off at low
frequencies, and how to estimate the frequency fL at which the gain decreases by 3 dB below its value
at midband.

Introduction
In our study of transistor amplifiers in Chapters 7 through 9, we have assumed that their gain is constant
independent of the frequency of the input signal. This would imply that their bandwidth is infinite, which of
course is not true! To illustrate, we show in Fig. 10.1 a sketch of the magnitude of the gain versus the
frequency of the input signal of a discrete-circuit BJT or MOS amplifier. Notice that there is indeed a wide
frequency range over which the gain remains almost constant. This is the useful frequency range of operation
for the particular amplifier. So far, we have been assuming that our amplifiers are operating in this band,
called the middle-frequency band or midband. The amplifier is designed so that its midband coincides with
the frequency spectrum of the signals it is required to amplify. If this were not the case, the amplifier would
distort the frequency spectrum of the input signal, with different components of the input signal being
amplified by different amounts.
Figure 10.1 Graph of the gain of a discrete-circuit BJT or MOS amplifier versus the frequency of the input signal,
showing the three frequency bands relevant to frequency-response determination.
Figure 10.1 shows that at lower frequencies, the magnitude of the amplifier gain falls off. This occurs
because the coupling and bypass capacitors no longer have low impedances. Recall that we assumed that
their impedances were small enough to act as short circuits. Although this can be true at midband
frequencies, as the frequency of the input signal is lowered, the reactance 1/jωC of each of these capacitors
becomes significant and, as we will show in Section 10.8, this results in a decrease in the overall voltage
gain of the amplifier. In the analysis of the low-frequency response of discrete-circuit amplifiers in Section
10.8 we will be particularly interested in how to determine the frequency fL, which defines the lower end of
the midband. It is usually defined as the frequency at which the gain drops by 3 dB below its value in
midband. Integrated-circuit amplifiers don’t use coupling and bypass capacitors, and so their midband
extends down to zero frequency (dc), as shown in Fig. 10.2.

Figure 10.2 Frequency response of a direct-coupled (dc) amplifier. Notice that the gain does not fall off at low
frequencies, and the midband gain AM extends down to zero frequency.
Figures 10.1 and 10.2 indicate that the gain of the amplifier falls off at the high-frequency end. This is
due to internal capacitive effects in the transistor. We will study these effects in Section 10.1 and model them
with capacitances that we will add to the hybrid-π models. We will use the resulting high-frequency device
models in Section 10.3 in the analysis of the high-frequency response of CS and CE amplifiers. We will be
specifically interested in how to determine the frequency fH, which defines the upper end of the midband. It
is defined as the frequency at which the gain drops by 3 dB below its midband value. Since fH ≫ fL, the
amplifier bandwidth is usually taken to be equal to fH,
A figure of merit for the amplifier is its gain–bandwidth product, defined as
We will see that in amplifier design, it is usually possible to trade off gain for bandwidth.
This chapter is concerned with the frequency-response analysis of amplifier configurations of varying
degrees of complexity. We are particularly interested in ways to extend the amplifier bandwidth (i.e.,
increase fH) either by adding specific circuit components, such as source and emitter-degeneration
resistances, or by changing the circuit configuration altogether.
Before going further, we encourage you to review Section 1.6, which introduces amplifier frequency
response and the extremely important topic of single-time-constant (STC) circuits. More details on STC
circuits can be found in Appendix E. As well, Appendix F provides a review of important tools from circuit
and system theory: poles, zeros, and Bode plots.

Finally, a note on notation: Since we will be dealing with quantities that are functions of frequency, or,
equivalently, the Laplace variable s, we will be using capital letters with lowercase subscripts for our
symbols. This practice conforms with the symbol notation introduced in Chapter 1.

10.1 High-Frequency Transistor Models
The gain falloff at high frequencies is caused by the capacitive effects internal to the transistors. In this
section we will briefly consider these effects and, more importantly, show how the transistor small-signal
model can be augmented to take these effects into account.
10.1.1 The MOSFET
From our study of the physical operation of the MOSFET in Section 5.1, we know that the device has
internal capacitances. In fact, we used one of these, the gate-to-channel capacitance, in our derivation of the
MOSFET i−v characteristics. There, however, we assumed that the steady-state charges on these
capacitances are acquired instantaneously. In other words, we did not account for the finite time required to
charge and discharge the various internal capacitances. As a result, the device models we derived, such as the
small-signal model, do not include any capacitances. The use of these models would predict constant
amplifier gain independent of frequency. We know, however, that this (unfortunately) does not happen in
practice; in fact, the gain of every MOSFET amplifier falls off at some high frequency. Similarly, the
MOSFET digital logic inverter (Chapter 16) exhibits a finite nonzero propagation delay. To be able to predict
these results, we must augment the MOSFET model by including internal capacitances. This is the subject of
this section.
To visualize the physical origin of the various internal capacitances, refer to Fig. 10.3, which shows the
cross section of an n-channel MOSFET operating in the saturation region, as signified by the tapered n
channel that is pinched off at the drain end. There are four internal capacitances: Two of these, Cgs and Cgd,
result from the gate-capacitance effect; the other two, Csb and Cdb, are the depletion capacitances of the pn
junctions formed by the source region and the substrate, and the drain region and the substrate, respectively.
Figure 10.3 Cross section of an n-channel MOSFET operating in the saturation region. The four internal capacitances,
Cgs, Cgd, Csb, and Cdb, are indicated. Note that the bias voltages are not shown. Also not shown, to keep the diagram
simple, is the depletion region.

(10.1)
(10.2)
(10.3)
(10.4)
(10.5)
We discussed the gate-capacitive effect in Section 5.1. Briefly, the polysilicon gate forms a parallel-plate
capacitor with the channel region, with the oxide layer serving as the capacitor dielectric. The gate (or oxide)
capacitance per unit gate area is denoted Cox. When the channel is tapered and pinched off, the gate
capacitance is given by  WLCox. In addition to this capacitance, there are two other small capacitances
resulting from the overlap of the gate with the source region (or source diffusion) and the drain region (or
drain diffusion). Each of these overlaps has a length Lov, so the resulting overlap capacitances Cov are given
by
Typically, Lov = 0.05 to 0.1L. We can now express the gate-to-source capacitance Cgs as
For the gate-to-drain capacitance, we note that the channel pinch-off at the drain end causes Cgd to consist
entirely of the overlap component Cov,
The depletion-layer capacitances of the two reverse-biased pn junctions formed between each of the
source and the drain diffusions and the p-type substrate (body) can be determined using the formula
developed in Section 3.6 (Eq. 3.47). Thus, for the source diffusion, we have the source-body capacitance,
Csb,
where Csb0 is the value of Csb at zero body-source bias, VSB is the magnitude of the reverse-bias voltage, and
V0 is the junction built-in voltage (0.6 V to 0.8 V). Similarly, for the drain diffusion, we have the drain-body
capacitance Cdb,
where Cdb0 is the capacitance value at zero reverse-bias voltage and VDB is the magnitude of this reverse-
bias voltage. Note that we have assumed that for both junctions, the grading coefficient m = .
Note that each of these junction capacitances includes a component arising from the bottom side of the
diffusion and a component arising from the sidewalls of the diffusion. Specifically, each diffusion has three
sidewalls that are in contact with the substrate and that thus contribute to the junction capacitance (the fourth
wall is in contact with the channel).

10.1
The formulas for the junction capacitances in Eqs. (10.4) and (10.5) assume small-signal operation.
Typical values for the various capacitances exhibited by an n-channel MOSFET in a 0.15-µm CMOS process
are given in the following exercise.
EXERCISE
For an n-channel MOSFET with tox = 3 nm, L = 0.15 µm, W = 1.5 µm, Lov = 0.03 µm, Csb0 = Cdb0 = 1
fF, V0 = 0.9 V, VSB = 0.2 V, and VDS = 0.8 V, calculate the following capacitances when the transistor is
operating in saturation: Cox, Cov, Cgs, Cgd, Csb, and Cdb.
The High-Frequency MOSFET Model Figure 10.4(a) shows the small-signal model of the MOSFET,
including the four capacitances Cgs, Cgd, Csb, and Cdb. This model can be used to predict the high-frequency
response of MOSFET amplifiers. Because it is quite complex for manual analysis, its use is limited to
computer simulation using SPICE or similar software. Fortunately, when the source is connected to the body,
the model simplifies considerably, as shown in Fig. 10.4(b). In this model, Cgd, although small, plays a
significant role in determining the high-frequency response of amplifiers, so it must be kept in the model.
Capacitance Cdb, on the other hand, can sometimes be neglected, resulting in significant simplification of
manual analysis. The resulting circuit is shown in Fig. 10.4(c).
Figure 10.4 (a) High-frequency, equivalent-circuit model for the MOSFET.
∨Show Answer

(10.6)
(10.7)
(10.8)
Figure 10.4 (b) The equivalent circuit for the case in which the source is connected to the substrate (body).
Figure 10.4 (c) The equivalent-circuit model of (b) with Cdb neglected (to simplify analysis).
The MOSFET Unity-Gain Frequency (fT) A figure of merit for the high-frequency operation of the
MOSFET as an amplifier is the unity-gain frequency, fT, also known as the transition frequency, which
gives rise to the subscript T. This is defined as the frequency at which the short-circuit current gain of the
common-source configuration becomes unity. Figure 10.5 shows the MOSFET hybrid-π model with the
source as the common terminal between the input and output ports. To determine the short-circuit current
gain, the input is fed with a current-source signal Ii and the output terminals are short-circuited. We can see
that the current in the short circuit is given by
From Fig. 10.5, we see that Cgd appears in parallel with Cgs and thus we can express Vgs in terms of the
input current Ii as
Equations (10.6) and (10.7) can be combined to obtain the short-circuit current gain,
For physical frequencies s = jω, the magnitude of the current gain is

(10.9)
where we have neglected ωCgd relative to gm. The gain magnitude becomes one at the frequency
Thus the unity-gain frequency fT = ωT/2π is
Since fT is proportional to gm, which determines the midband gain, and inversely proportional to the
MOSFET internal capacitances, which limit the amplifier bandwidth, the higher the value of fT, the more
effective the MOSFET becomes as an amplifier. Substituting for gm using Eq. (7.41), we can express fT in
terms of the bias current ID (see Problem 10.3). Alternatively, we can substitute for gm from Eq. (7.40) to
express fT in terms of the overdrive voltage VOV (see Problem 10.4). Both expressions give us additional
insight into the high-frequency operation of the MOSFET. Also refer to Appendix G for a further discussion
of fT.
Figure 10.5 Determining the short-circuit current gain Io/Ii.
Typically, fT ranges from about hundreds of MHz for the older technologies (e.g., a 0.5-µm CMOS
process) to hundreds of GHz for newer high-speed technologies (e.g., a 28-nm CMOS process).
Summary For easy reference, the MOSFET high-frequency model, together with expressions for its
parameters, is presented in Table 10.1.
Table 10.1 The MOSFET High-Frequency Model

10.2
EXERCISE
Calculate fT for the n-channel MOSFET whose capacitances were found in Exercise 10.1. Assume
operation at 100 µA and that 
 = 500 µA/V2.
10.1.2 The BJT
∨Show Answer

1.
(10.10)
(10.11)
(10.12)
2.
In our study of the physical operation of the BJT in Section 6.1, we assumed transistor action to be
instantaneous, and as a result the transistor models we developed do not include any elements (i.e.,
capacitors or inductors) that would cause time or frequency dependence. Actual transistors, however, exhibit
charge-storage phenomena that limit the speed and frequency of their operation. We have already
encountered such effects in our study of the pn junction in Chapter 3, where we learned that they can be
modeled using capacitances. Here we study the charge-storage effects that take place in the BJT and account
for them by adding capacitances to the hybrid-π model. The resulting augmented BJT model will be able to
predict the observed dependence of amplifier gain on frequency.
There are three major charge-storage effects in the BJT, each of which can be modeled by a capacitance
as follows:
The Base-Charging or Diffusion Capacitance Cde. When the transistor is operating in the active
mode, minority-carrier charge is stored in the base region. For an npn transistor, the stored electron
charge in the base, Qn, can be expressed in terms of the collector current iC as
where τF is a device constant with the dimension of time. It is known as the forward base-transit
time and represents the average time a charge carrier (electron) spends in crossing the base. Typically,
τF is in the range of 1 ps to 100 ps.
    Equation (10.10) applies for large signals and, since iC is exponentially related to vBE, Qn will
similarly depend on vBE. For small signals, we can define the small-signal diffusion capacitance
Cde,
resulting in
where IC is the dc collector bias current at which the transistor is operating. Thus, whenever vBE
changes by vbe, the collector current changes by gmvbe and the charge stored in the base changes by
Cdevbe = (τFgm)vbe. This incremental charge has to be supplied by the base current.
The Base–Emitter Junction Capacitance Cje. A change in vBE changes not only the charge stored in
the base region but also the charge stored in the base–emitter depletion layer. This distinct charge-
storage effect is represented by the EBJ depletion-layer capacitance, Cje. From the development in
Chapter 3, we know that for a forward-biased junction, which the EBJ is, the depletion-layer
capacitance is given approximately by

(10.13)
3.
(10.14)
(10.15)
where Cje0 is the value of Cje at zero EBJ voltage.
The Collector–Base Junction Capacitance Cμ. In active-mode operation, the CBJ is reverse biased,
and its junction or depletion capacitance, usually denoted Cμ, can be found from
where Cμ0 is the value of Cμ at zero voltage; VCB is the magnitude of the CBJ reverse-bias voltage,
V0c is the CBJ built-in voltage (typically, 0.75 V), and m is its grading coefficient (typically, 0.2–0.5).
The High-Frequency Model Figure 10.6 shows the hybrid-π model of the BJT, including capacitive effects.
Specifically, there are two capacitances: the emitter–base capacitance Cπ = Cde + Cje and the collector–base
capacitance Cμ. Typically, Cπ is in the range of a few picofarads to a few tens of picofarads, and Cμ is in the
range of a fraction of a picofarad to a few picofarads.1
Figure 10.6 The high-frequency hybrid-π model of the BJT.
The values of the model parameters can be determined at a given bias point using the formulas presented
in this section and in Chapter 6. They can also be found from the terminal measurements specified on the
BJT data sheets. For computer simulation, SPICE uses the parameters of the given IC process technology to
evaluate the BJT model parameters (see Appendix B).
The BJT Unity-Gain Frequency The transistor data sheets do not usually specify the value of Cπ. Rather,
they normally give the behavior of β (or hfe) versus frequency. In order to determine Cπ and Cμ, we will
derive an expression for β, the CE short-circuit current gain, as a function of frequency in terms of the
hybrid-π components. For this purpose consider the circuit shown in Fig. 10.7, in which the collector is
shorted to the emitter. A node equation at C provides the short-circuit collector current Ic as

(10.16)
(10.17)
(10.18)
(10.19)
Figure 10.7 Circuit for deriving an expression for β(s) ≡ Ic/Ib.
The relationship between Vπ and Ib can be established by multiplying Ib by the impedance seen between B
and E:
Thus we can find β by combining Eqs. (10.15) and (10.16):
At the frequencies for which this model is valid, ωCμ ≪ gm; thus we can neglect the sCμ term in the
numerator and write
Thus,
where β0 is the low-frequency value of β. Thus β has a single-pole (or single-time-constant) response with a
3-dB frequency at ω = ωβ, where
Figure 10.8 shows a Bode plot for |β|. From the –20-dB/decade slope, it follows that the frequency at which |
β| drops to unity, which is called the unity-gain bandwidth ωT, is given by

(10.20)
(10.21)
Thus,
and
This expression is identical to that of fT for the MOSFET (Eq. 10.9) with Cπ replacing Cgs and Cμ replacing
Cgd.
Figure 10.8 Bode plot for |β|.
The unity-gain bandwidth fT, also known as the transition frequency, which gives rise to the subscript
T, is usually specified on the data sheets of a transistor. In some cases fT is given as a function of IC and VCE.
To see how fT changes with IC, recall that gm is directly proportional to IC, but only part of Cπ (the diffusion
capacitance Cde) is directly proportional to IC. It follows that fT decreases at low currents, as shown in Fig.
10.9. However, the decrease in fT at high currents, also shown in Fig. 10.9, cannot be explained by this
argument; rather, it is due to the same phenomenon that causes β0 to decrease at high currents (Section
6.4.2). In the region where fT is almost constant, Cπ is dominated by the diffusion part and is much greater
than Cμ. That is, 
 and

(10.22)
Figure 10.9 Variation of fT with IC.
Typically, fT is in the range of hundreds of megahertz to hundreds of gigahertz. The value of fT can be
used in Eq. (10.21) to determine Cπ + Cμ. The capacitance Cμ is usually determined separately by measuring
the capacitance between base and collector at the desired reverse-bias voltage VCB.
Before leaving this section, we should mention that the high-frequency model of Fig. 10.7 characterizes
transistor operation fairly accurately up to a frequency of about 0.2 fT. At higher frequencies one has to add
other parasitic elements to the model. In particular, there is another somewhat important capacitive effect in
BJTs on an IC chip: the collector-substrate capacitance Ccb. We will take Ccb into account in some
applications.
Summary For easy reference, the BJT high-frequency model, together with formulas for determining its
parameter values, is presented in Table 10.2.
Table 10.2 The BJT High-Frequency Model

10.3
10.4
10.5
EXERCISES
Find Cde, Cje, Cπ, Cμ, and fT for a BJT operating at a dc collector current IC = 1 mA and a CBJ reverse
bias of 2 V. The device has τF = 20 ps, Cje0 = 20 fF, Cμ0 = 20 fF, V0e = 0.9 V, V0c = 0.5 V, and mCBJ =
0.33.
For a BJT operated at IC = 1 mA, find fT and Cπ if Cμ = 2 pF and |β| = 10 at 50 MHz.
If Cπ of the BJT in Exercise 10.4 includes a relatively constant depletion-layer capacitance of 2 pF, find
fT of the BJT when operated at IC = 0.1 mA.
∨Show Answer
∨Show Answer
∨Show Answer

(10.23)
(10.24)
(10.25)
(10.26)
(10.27)
10.2 High-Frequency Response of CS and CE Amplifiers
Equipped with equivalent-circuit models that represent the high-frequency operation of the MOSFET and the
BJT, we now address the question of the high-frequency performance of the CS and CE amplifiers. Our
objective is to identify the mechanism that limits the high-frequency performance of these important
amplifier configurations. As well, we need to find a simple approach to estimate the frequency fH at which
the gain falls by 3 dB below its value at midband frequencies, |AM|.
The analysis presented here applies equally well to discrete-circuit, capacitively coupled amplifiers and
to IC amplifiers, whose frequency responses were shown in Fig. 10.1 and in Fig. 10.2, respectively. At the
frequencies of interest to us here (the high-frequency band), all coupling and bypass capacitors behave as
perfect short circuits, and amplifiers of both types have identical high-frequency equivalent circuits.
10.2.1 Frequency Response of the Low-Pass Single-Time-Constant Circuit
Analyzing the high-frequency response of amplifiers is much easier once we know the frequency response of
the low-pass single-time-constant circuit, shown in its Thévenin form in Fig. 10.10(a) and in its Norton form
in Fig. 10.10(b). The circuit has the time constant
and the transfer function
where the pole-frequency ωP is given by
For physical frequencies, s = jω and the magnitude of the transfer function is
Thus, at 
 in other words, the gain drops 3 dB below its value at dc. It
follows that the 3-dB frequency ωH is equal to ωP.
For ω ≫ ωP,

(10.28)
Thus, whenever ω increases by a factor of 10 (a decade increase), the gain decreases by a factor of 10 (i.e.,
by 20 dB). This is confirmed by the Bode plot for | Vo/Vi | shown in Fig. 10.10(c).
Figure 10.10 (a) The low-pass single-time-constant circuit in its Thévenin form.
Figure 10.10 (b) The low-pass single-time-constant circuit in its Norton form.
Figure 10.10 (c) Bode plot for |Vo/Vi|.
10.2.2 The Common-Source Amplifier

Figure 10.11(a) shows a common-source amplifier fed with a signal source Vsig having a resistance Rsig and
connected to a load resistance RL. Here RL represents either a passive or an active (i.e., current source) load.
Replacing the MOSFET with its high-frequency hybrid-π equivalent-circuit model results in the circuit
shown in Fig. 10.11(b). This circuit can be simplified as illustrated in Fig. 10.11(c), by combining RL and ro
in a single resistance 
,
Figure 10.11 (a) A common-source amplifier.
Figure 10.11 (b) Equivalent circuit of (a).
Figure 10.11 (c) The circuit of (b) simplified by combining RL and ro into a single resistance 
.

(10.29)
(10.30)
Figure 10.11 (d) The equivalent circuit with Cgd replaced at the input side with the equivalent capacitance Ceq.
Figure 10.11 (e) The frequency-response plot, which is that of a low-pass, single-time-constant circuit.
The midband gain AM can be found from the circuit in Fig. 10.11(c) by setting Cgs = Cgd = 0. The result is
We can analyze the circuit in Fig. 10.11(c) to find its transfer function Vo/Vsig in terms of the complex
frequency variable s. Because two capacitors, Cgs and Cgd, are present, the resulting transfer function will be
of second order. The poles and zeros can then be found. This, however, will not provide us with simple
expressions that reveal the essence of what limits the high-frequency operation of the CS amplifier. We need
that insight in order to be able to make intelligent decisions when designing the circuit. Therefore, we will

(10.31)
(10.32)
(10.33)
not derive the transfer function and instead we will opt for an approximate approach that will reveal
considerable information about the high-frequency operation of the CS amplifier.
Our approach is to focus on the input side of the circuit and simplify the input circuit to a simple RC low-
pass network. To do so, we need to replace the bridging capacitor Cgd by an equivalent capacitance Ceq
between node G and ground. To that end, consider first the output node. We can see that the load current is
(gmVgs – Igd), where (gmVgs) is the output current of the transistor and Igd is the current supplied through the
very small capacitance Cgd. At frequencies in the vicinity of fH, which defines the edge of the midband, we
can assume that Igd is still much smaller than (gmVgs), so that Vo can be given approximately by
Eq. (10.31) indicates that the gain from gate to drain is 
, the same value as in the midband. The
current Igd can now be found as
Now, the left-hand side of the circuit in Fig. 10.11(c), at XX', knows of the existence of Cgd only through the
current Igd. Therefore, we can replace Cgd by an equivalent capacitance Ceq between the gate and ground as
long as Ceq draws a current equal to Igd. That is,
which gives us
Thus Cgd gives rise to a much larger capacitance Ceq, which appears at the amplifier input. The
multiplication effect that Cgd undergoes comes about because it is connected between circuit nodes G and D,
whose voltages are related by a large negative gain 
. This effect is known as the Miller effect, and 
 is known as the Miller multiplier.
Using Ceq enables us to simplify the equivalent circuit at the input side to that shown in Fig. 10.11(d),
which we recognize as a single-time-constant (STC) circuit of the low-pass type. Thus we can express the
output voltage Vgs of the STC circuit as
where ωP is the pole frequency of the STC circuit,

(10.34)
(10.35)
(10.36)
(10.37)
(10.38)
(10.39)
1.
2.
with
Combining Eqs. (10.31) and (10.33) results in the following expression for the high-frequency gain of the
CS amplifier,
which is in the form
where the midband gain AM is given by Eq. (10.30) and ωH is the upper 3-dB frequency,
and
We thus see that the high-frequency response is that of a low-pass STC network with a 3-dB frequency fH
determined by the time constant CinRsig. Figure 10.11(e) shows a sketch of the magnitude of the high-
frequency gain.
Before leaving this section we want to highlight the following points:
The upper 3-dB frequency is determined by the interaction of Rsig and Cin = Cgs + Cgd
. It
follows that a large value of Rsig will cause fH to be lowered.
The total input capacitance Cin is usually dominated by Ceq, which in turn is made large by the
multiplication effect that Cgd undergoes. So, although Cgd is usually a very small capacitance, its
effect on the amplifier frequency response can be very significant as a result of its multiplication by
the factor 
, which is approximately equal to the midband gain of the amplifier. This is the
Miller effect, which causes the CS amplifier to have a large total input capacitance Cin and hence a
low fH.

3.
4.
5.
To extend the high-frequency response of a MOSFET amplifier, we have to find configurations in
which the Miller effect is absent or at least reduced. We will return to this subject at great length in
Section 10.4 and beyond.
The above analysis, resulting in an STC or a single-pole response, is approximate. Specifically, it is
based on neglecting Igd relative to gmVgs, an assumption that applies well at frequencies not too much
higher than fH. An exact analysis of the circuit in Fig. 10.11(c) reveals that the circuit has a second
pole with a frequency much greater than fH, and transmission zeros at s = ∞ and s = gm/Cgd; the
latter’s frequency is also much greater than fH. Thus both the second pole and the zero will have
negligible effect on our estimate of fH. So, the method that uses the Miller effect is more than
sufficient for a quick estimate of fH. As well, the approximate approach helps to reveal the primary
limitation on the high-frequency response: the Miller effect.
The CS amplifier is said to have a dominant high-frequency pole with frequency 
Example 10.1
Find the midband gain AM and the upper 3-dB frequency fH of an integrated-circuit CS amplifier fed with a
signal source having an internal resistance Rsig = 20 kΩ. The amplifier has RL = 20 kΩ, gm = 2 mA/V, ro = 20
kΩ, Cgs = 20 fF, and Cgd = 5 fF. Also, find the frequency of the transmission zero.
Video Example VE 10.1 Gain and High-Frequency Response of a CS Amplifier
A common-source amplifier is fed with a signal source having a resistance Rsig = 100 kΩ and feeds a load
resistance RL = 25 kΩ. The MOSFET is operating at gm = 5mA/V and has ro = 25 kΩ. The device capacitances
are Cgs = 30 fF and Cgd = 10 fF. Find the midband gain AM, the 3-dB frequency fH, and the frequency of the
transmission zero.
 Solution: Watch the authors solve this problem.
∨Show Solution


(10.40)
(10.41)
(10.42)
Figure 10.12 (a) High-frequency equivalent circuit of a CS amplifier fed with a signal source having a very low
(effectively zero) resistance.
Figure 10.12 (b) The circuit with Vsig reduced to zero to determine the pole.
Figure 10.12 (c) Bode plot for the gain of the circuit in (a).
Returning to the circuit in Fig. 10.12(a), we can now derive its transfer function Vo/Vsig. First, note that
Second, we can express the current Igd that flows through Cgd as
Next, we can write a node equation at the output node as

(10.43)
(10.44)
(10.45)
(10.46)
(10.47)
where
Combining Eqs. (10.41) and (10.42) to eliminate Igd, substituting Vgs = Vsig from Eq. (10.40), and
manipulating the resulting equation to obtain the transfer function Vo/Vsig gives us
Thus, while the dc gain remains equal to gmRLʹ, and the frequency of the transmission zero remains
unchanged at
the high-frequency response is now determined by a pole formed by (CL + Cgd) together with 
. Thus the
3-dB frequency fH is now given by
To see how this pole is formed, refer to Fig. 10.12(b), which shows the equivalent circuit with Vsig reduced
to zero. Observe that the circuit reduces to a capacitance (CL + Cgd) in parallel with a resistance 
.
We note that the transmission zero frequency, given by Eq. (10.44), is much higher than fH,
Thus, fZ does not play a significant role in the vicinity of fH. In fact, the gain decreases from its low-
frequency value of 
 at a uniform rate of –20 dB/decade, reaching unity (0 dB) at a frequency ft, which
is equal to the gain–bandwidth product,
Thus,
Figure 10.12(c) shows a sketch of the high-frequency gain of the CS amplifier.

10.8
Example 10.2
Consider an IC CS amplifier fed with a source having Rsig = 0 and having an effective load resistance 
composed of ro of the amplifier transistor in parallel with an equal resistance ro of the current-source load. Let
gm = 2 mA/V, ro = 20 kΩ, Cgs = 20 fF, Cgd = 5 fF, and CL = 25 fF. Find AM, fH, ft, and fZ. If the amplifying
transistor is to be operated at twice the original overdrive voltage while W and L remain unchanged, by what
factor must the bias current be changed? What are the new values of AM, fH, ft, and fZ?
EXERCISE
For the CS amplifier considered in Example 10.2 operating at the original values of VOV and ID, find
the value to which CL should be increased to place ft at 3 GHz.
We conclude this section by noting that the most general case when Rsig is not zero and CL is present will be
dealt with in the Section 10.3.
10.2.4 The Common-Emitter Amplifier
Fig. 10.13(a) shows a CE amplifier; its high-frequency equivalent circuit is given in Fig. 10.13(b). The latter
circuit can be simplified by using Thévenin’s theorem at the input side and combining the two parallel
resistances at the output side. Thus, we obtain the equivalent circuit in Fig. 10.13(c) from which we can find
the midband gain AM by setting Cπ and Cμ to zero. The result is
Figure 10.13 (a) CE amplifier circuit.
∨Show Solution
∨Show Answer

Figure 10.13 (b) Equivalent circuit of (a).
Figure 10.13 (c) The circuit of (b) simplified at both the input side and the output side.
Figure 10.13 (d) Equivalent circuit with Cμ replaced at the input side with the equivalent capacitance Ceq.

(10.48)
(10.49)
(10.50)
(10.51)
(10.52)
(10.53)
Figure 10.13 (e) Sketch of the frequency-response Bode plot, which is that of a low-pass STC circuit.
where
Next we observe that the circuit in Fig. 10.13(c) is identical to that of the CS amplifier in Fig. 10.11(c). Thus
the analysis can follow the same process we used for the CS case, as illustrated in Figs. 10.13(c) and (d). The
result is that the CE amplifier gain at high frequencies is given approximately by
where AM is given by Eq. (10.48) and the 3-dB frequency fH is given by
where
and
Notice that Cin is simply the sum of Cπ and the Miller capacitance Cμ + 
. From the circuit in Fig.
10.13(b) we can easily find the resistance 
 seen by Cin by reducing Vsig to zero, “grabbing hold” of the

10.9
(10.54)
terminals B and E, and looking back (to the left). There we will see rπ in parallel with Rsig.
Finally, comments very similar to those made on the high-frequency response of the CS amplifier can be
made here as well.
Example 10.3
Find the midband gain and the upper 3-dB frequency of the common-emitter amplifier of Fig. 10.13(a) for the
following case: IE = 1 mA, Rsig = 5 kΩ, RL = 5 kΩ, β0 = 100, VA = 100 V, Cμ = 1 pF, and fT = 800 MHz. Also,
determine the frequency of the transmission zero.
EXERCISE
For the amplifier in Example 10.3, find the value of RL that reduces the midband gain to half the value
found. What value of fH results? Note the trade-off between gain and bandwidth.
10.2.5 Miller’s Theorem
In our analysis of the high-frequency response of the common-source and common-emitter amplifiers, we
employed a technique for replacing the bridging capacitance (Cgd or Cμ) by an equivalent input capacitance.
This very useful and effective technique is based on a general theorem known as Miller’s theorem, which
we now present.
Consider the situation in Fig. 10.14(a). As part of a larger circuit that is not shown, we have isolated two
circuit nodes, labeled 1 and 2, between which an impedance Z is connected. Nodes 1 and 2 are also
connected to other parts of the circuit, as signified by the broken lines emanating from the two nodes.
Furthermore, we assume that the voltage at node 2 is related to that at node 1 by
∨Show Solution
∨Show Answer

(10.55a)
(10.55b)
Figure 10.14 The Miller equivalent circuit.
In typical situations, K is a gain factor that can be positive or negative and has a magnitude usually larger
than one.
Miller’s theorem states that impedance Z can be replaced by two impedances: Z1 connected between
node 1 and ground and Z2 connected between node 2 and ground, where
and
to obtain the equivalent circuit shown in Fig. 10.14(b).
The proof of Miller’s theorem is achieved by deriving Eqs. (10.55) as follows: In the original circuit of
Fig. 10.14(a), the only way that node 1 “feels the existence” of impedance Z is through the current I that Z
draws away from node 1. Therefore, to keep this current unchanged in the equivalent circuit, we must choose
the value of Z1 so that it draws an equal current,
which yields the value of Z1 in Eq. (10.55a). Similarly, to keep the current into node 2 unchanged, we must
choose the value of Z2 so that
which yields the expression for Z2 in Eq. (10.55b).

Example 10.4
Figure 10.15(a) shows an ideal voltage amplifier with a gain of −100 V/V and an impedance Z connected
between its output and input terminals. Find the Miller equivalent circuit when Z is (a) a 1- MΩ resistance and
(b) a 1-pF capacitance. In each case, use the equivalent circuit to determine Vo/Vsig.
Figure 10.15 (a) Circuit for Example 10.4.
Figure 10.15 (b) Circuit for Example 10.4.
Figure 10.15 (c) Circuit for Example 10.4.
From Example 10.4, we can see that the Miller replacement of a feedback or bridging resistance results,
for a negative K, in a smaller resistance [by a factor (1 − K)] at the input. If the feedback element is a
capacitance, its value is multiplied by (1 − K) to obtain the equivalent capacitance at the input side. The
multiplication of a feedback capacitance by (1 − K) is called Miller multiplication or the Miller effect. We
have encountered the Miller effect in the analysis of the CS and CE amplifiers. Note, however, that we
∨Show Solution

neglected the Miller capacitance at the output because it is small; for the CS case, C2 = 
.
JOHN MILTON MILLER: CAPACITANCE MULTIPLICATION
∨

(10.56)
(10.57)
10.3 The Method of Open-Circuit Time Constants
In Section 10.2 we presented an approximate method, using the Miller effect, to analyze the high-frequency
response of the CS and CE amplifiers; the method provides a reasonably accurate estimate of fH and, equally
important, considerable insight into the mechanism that limits high-frequency operation. Unfortunately,
however, this method cannot deal with the case when a load capacitance CL is present. As well, the method
cannot easily be extended to more complex amplifier circuits. In the following we present an alternative
method for estimating fH. The method is both general and easy to use. Before doing so, however, we will
digress briefly to consider the amplifier poles and zeros.
10.3.1 The High-Frequency Gain Function
The amplifier gain, taking into account the internal transistor capacitances, can be expressed as a function of
the complex-frequency variable s in the general form
where AM is the midband gain, which for IC amplifiers is also equal to the low-frequency or dc gain (refer to
Fig. 10.2). The value of AM can be determined by analyzing the amplifier equivalent circuit while neglecting
the effect of the transistor internal capacitances—in other words, by assuming that they act as perfect open
circuits. By taking these capacitances into account, we see that the gain acquires the factor FH(s), which can
be expressed in terms of its poles and zeros, which are usually real, as follows:
where ωP1, ωP2, …, ωPn are positive numbers representing the frequencies of the n real poles2 and ωZ1,
ωZ2, …, ωZn are positive, negative, or infinite numbers representing the frequencies of the n real
transmission zeros. Since the frequencies of the zeros and poles are by definition greater than the midband
frequencies, we see from Eq. (10.57) that as s approaches midband frequencies, FH(s) approaches unity and
the gain approaches AM.
10.3.2 Determining the 3-dB Frequency fH
The amplifier designer usually is most interested in the part of the high-frequency band that is close to the
midband. This is because the designer needs to estimate—and, if need be, modify—the value of the upper 3-
dB frequency fH (or ωH; fH = ωH/2π). In many cases the zeros are either at infinity or at such high
frequencies as to be of little significance in determining ωH. If in addition one of the poles, say ωP1, is of
much lower frequency than any of the other poles, then this pole will have the greatest effect on the value of
the amplifier ωH. In other words, this pole will dominate the high-frequency response of the amplifier, and

(10.58)
(10.59)
10.10
(10.60)
(10.61)
the amplifier is said to have a dominant-pole response. In such cases, the function FH(s) can be
approximated by
which is the transfer function of a first-order (or STC) low-pass network. It follows that if a dominant pole
exists, then the determination of ωH is greatly simplified:
This is the situation we encountered in the cases of the common-source and common-emitter amplifiers we
analyzed in Section 10.2. As a rule of thumb, a dominant pole exists if the lowest-frequency pole is at least
two octaves (a factor of 4) away from the nearest pole or zero.
EXERCISE
A direct-coupled amplifier has a dc gain of 1000 V/V and an upper 3-dB frequency of 100 kHz. Find
the transfer function and the gain–bandwidth product in hertz.
In most practical cases, however, it is not easy to determine the poles and zeros. Nevertheless, we can
obtain an estimate of ωH using the method of open-circuit time constants, as follows.
Consider the function FH(s) [Eq. (10.57)], with the numerator and denominator factors multiplied out,
where the coefficients a and b are related to the frequencies of the zeros and poles, respectively. Now, if a
dominant pole exists, FH(s) can be approximated as
and the 3-dB frequency ωH is given by
The value of b1 can be found by setting the input signal to zero and considering the various capacitances in
the high-frequency equivalent circuit one at a time while reducing all other capacitors to zero (or,
∨Show Answer

(10.62)
(10.63)
equivalently, replacing them with open circuits). That is, to obtain the contribution of capacitance Ci, we
reduce all other capacitances to zero, reduce the input signal source to zero, and determine the resistance Ri
seen by Ci. This can be done either by inspection or by replacing Ci with a voltage source Vx, finding the
current Ix drawn from Vx, and calculating Ri ≡ Vx/Ix. The time constant τi associated with Ci is then found as
τi = CiRi. This process is then repeated for all other capacitors in the circuit. The value of b1 is computed by
summing the individual time constants, called open-circuit time constants,
where we have assumed that there are n capacitors in the high-frequency equivalent circuit.
We will henceforth refer to b1 as the high-frequency time constant and denote it τH. Thus, ωH is found
as
In complex circuits we usually do not know whether a dominant pole exists. Nevertheless, using Eq. (10.63)
to determine ωH normally yields remarkably good results3 even if a dominant pole does not exist.
10.3.3 Applying the Method of Open-Circuit Time Constants to the CS
Amplifier
Figure 10.16 shows the high-frequency equivalent circuit for the common-source amplifier. Here, resistance 
 represents the total resistance between the output (drain) node and ground and includes ro and RL (if one
is present). Similarly, CL represents the total capacitance between the drain node and ground and includes the
MOSFET’s drain-to-body capacitance (Cdb), the capacitance introduced by a current-source load, the input
capacitance of a succeeding amplifier stage (if one is present), and in some cases, as we will see in later
chapters, a deliberately introduced capacitance. In IC MOS amplifiers, CL can be substantial.
Figure 10.16 High-frequency equivalent circuit for the CS amplifier.

(10.64)
(10.65)
We wish to determine the 3-dB frequency fH of the CS amplifier in Fig. 10.16 using the method of open-
circuit time constants. To that end, we set Vsig = 0 and consider each of the three capacitances at a time,
setting the other two to zero. Figure 10.17(a) shows the resulting circuit for determining the resistance Rgs
seen by Cgs, thus
Figure 10.17 Application of the open-circuit time-constants method to the CS equivalent circuit of Fig. 10.16.
For Cgd, we obtain the circuit in Fig. 10.17(b). This circuit is somewhat complex, and we cannot determine
Rgd by inspection. Rather, we apply a test current source Ix and determine the voltage Vx that results across
Ix. We see that
A loop equation gives

(10.66)
(10.67)
(10.68)
(10.69)
A node equation at D gives
Thus,
Substituting for Vgs from Eq. (10.65) and manipulating the resulting equation gives
Finally, for CL we obtain the circuit shown in Fig. 10.17(c), from which
Next, we use the resistance values in Eqs. (10.64), (10.66), and (10.67) to obtain the effective high-frequency
time constant τH,
and the 3-dB frequency fH is
An important observation is available from Eq. (10.68), which can be rewritten as
We note that the first term is simply CinRsig, where Cin is dominated by the Miller capacitance Cgd (1 + gm
). The method of open-circuit time constants, however, also provides the second term, which results from
the interaction of (Cgd + CL) with 
. Thus, while the first term in Eq. (10.69) arises at the input node, the
second term occurs at the output node. The second term can be dominant in cases where Rsig is small, as we
have seen in Section 10.2.3.
Example 10.5

10.11
10.12
10.13
An integrated-circuit CS amplifier has gm = 2 mA/V, Cgs = 20 fF, Cgd = 5 fF, CL = 25 fF, Rsig = 20 kΩ, and 
 =
10 kΩ. Determine fH and the frequency of the transmission zero fZ caused by Cgd. Note that this amplifier is the
same as that analyzed in Example 10.1 except that here we include CL.
EXERCISES
For the CS amplifier in Example 10.5, using the value of fH determined by the method of open-circuit
time constants, find the gain–bandwidth product. Recall that gm = 2 mA/V and 
 = 10 kΩ.
As a way to trade gain for bandwidth, the designer of the CS amplifier in Example 10.5 connects a load
resistor at the output that results in halving the value of 
. Find the new values of |AM|, fH, and the
gain–bandwidth product.
As another way to trade dc gain for bandwidth, the designer of the CS amplifier in Example 10.5
decides to operate the amplifying transistor at double the value of VOV by increasing the bias current
fourfold. Find the new values of gm, 
, |AM|, fH, and the gain–bandwidth product. Assume that 
 is
the parallel equivalent of ro of the amplifying transistor and that of the current-source load.
We conclude this section by emphasizing that the method of open-circuit time constants reveals to the
circuit designer the relative contribution of the various capacitances to the determination of the amplifier
bandwidth fH. For instance, for the amplifier in Example 10.5, we see that while Cgd contributes the most
(2150 ps of 2800 pF, or 77%) because of the Miller effect, the contribution of each of Cgs (14%) and CL
(9%) is not insignificant. Such information can be useful in the amplifier-design process.
10.3.4 Application of the Method of Open-Circuit Time Constants to the CE
Amplifier
The method of open-circuit time constants can be applied to the common-emitter amplifier to determine its
3-dB frequency in a manner analogous to that used in the case of the CS amplifier above. Specifically,
consider the CE amplifier whose high-frequency equivalent circuit is shown in Fig. 10.13(b) but with the
more realistic situation where a capacitance CL is connected across RL. Using Thévenin’s theorem at the
input, we can replace Vsig, Rsig, and rπ by
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer

(10.70)
(10.71)
(10.72)
(10.73)
(10.74)
(10.75)
and
The structure of the resulting circuit will be identical to that of the CS amplifier in Fig. 10.16 with Vsig
replaced by 
, Rsig by 
, Cgs by Cπ, and Cgd by Cμ. The formulas developed for the CS case can then
be adapted for the CE case to obtain:
Thus,
and
Video Example VE 10.2 Gain and Frequency Response of a CE Amplifier
A common-emitter amplifier has Cπ = 5 pF, Cμ = 0.3 pF, CL = 5 pF, gm = 20 mA/V, β = 100, RL = 5 kΩ, and Rsig
= 5 kΩ. Find the midband gain AM and an estimate of the 3-dB frequency fH using the Miller effect. Also, obtain
another estimate of fH using the method of open-circuit time constants. Which of the two estimates would you
consider to be more realistic, and why?
 Solution: Watch the authors solve this problem.


10.4 High-Frequency Response of Common-Gate and Cascode
Amplifiers
Although common-source and common-emitter amplifiers provide substantial gain at midband frequencies,
their gain falls off in the high-frequency band at a relatively low frequency. This is primarily due to the large
input capacitance Cin, whose value is significantly increased by the Miller component. The latter is large
because of the Miller multiplication effect that the bridging capacitance Cgd (or Cμ) experiences. It follows
that the key to obtaining wideband operation, that is, high fH, is to use circuit configurations that do not
suffer from the Miller effect. One such configuration is the common-gate circuit.
10.4.1 High-Frequency Response of the CG Amplifier
Figure 10.18(a) shows a CG amplifier with the MOSFET internal capacitances Cgs and Cgd pulled out of the
model and indicated. For generality, a capacitance CL is included at the output node to represent the
combination of the output capacitance of a current-source load and the input capacitance of a succeeding
amplifier stage. Capacitance CL also includes the MOSFET capacitance Cdb. Note the CL appears in effect in
parallel with Cgd; therefore, in the following analysis we will lump the two capacitances together.
Figure 10.18 (a) The common-gate amplifier with the transistor internal capacitances shown. A load capacitance CL is
also included.

Figure 10.18 (b) Equivalent circuit of the CG amplifier with the MOSFET replaced with its T model.
Figure 10.18 (c) Equivalent circuit for the case in which ro is neglected.
Figure 10.18 (d) Circuit for determining the resistance Rgs seen by Cgs.

(10.76)
(10.77)
(10.78)
Figure 10.18 (e) Circuit for determining the resistance Rgd seen by (CL + Cgd).
It is important to note at the outset that each of the three capacitances in the circuit of Fig. 10.18(a) has a
grounded node. Therefore none of the capacitances undergoes the Miller multiplication effect observed in
the CS stage. It follows that the CG circuit can be designed to have a much wider bandwidth than that of the
CS circuit, especially when the resistance of the signal generator is large. To analyze the high-frequency
response of the CG amplifier of Fig. 10.18(a), we replace the MOSFET with its T model. The resulting
circuit, with Cgd lumped with CL, is shown in Fig. 10.18(b).
We shall consider first the case of a discrete-circuit CG amplifier in which ro can be neglected.
Eliminating ro results in the circuit in Fig. 10.18(c). We immediately observe that there are two poles: one at
the input side with a frequency fP1,
and the other at the output side with a frequency fP2,
The relative locations of the two poles will depend on the specific situation. However, fP2 is usually lower
than fP1; thus fP2 can be dominant. The important point to note is that both fP1 and fP2 are usually much
higher than the frequency of the dominant input pole in the CS stage. An approximate value for fH can be
obtained by applying the method of open-circuit time constants to the circuit of Fig. 10.18(c), resulting in
and

(10.79)
(10.80)
(10.81)
(10.82)
(10.83)
(10.84)
(10.85)
(10.86)
(10.87)
Thus,
and
In IC amplifiers, ro has to be taken into account. Applying the method of open-circuit time constants to
the equivalent circuit in Fig. 10.18(b), we obtain the circuit in Fig. 10.18(d) for determining Rgs. From this
circuit we find that
where Rin is the input resistance of the CG amplifier with a load resistance RL. An expression for Rin was
derived in Chapter 8 and given in Eq. (8.51),
The resistance Rgd seen by (CL + Cgd) can be obtained from the circuit in Fig. 10.18(e),
where Ro is the output resistance of a CG amplifier with a resistance Rsig connected between source and
ground. From Chapter 8, Eq. (8.55), we have
Finally,
and
Example 10.6
Consider a common-gate amplifier with gm = 2 mA/V, ro = 20 kΩ, Cgs = 20 fF, Cgd = 5 fF, CL = 25 fF, Rsig = 20
kΩ, and RL = 20 kΩ. Assume that CL includes Cdb. Determine the input resistance, the midband gain, and the

10.15
upper 3-dB frequency fH.
EXERCISE
In order to raise the midband gain of the CG amplifier in Example 10.6, the circuit designer decides to
use a cascode current source for the load device, thus raising RL by a factor of gmro = 40; that is, RL
becomes 800 kΩ. Find Rin, the midband gain, and fH. Comment on the results.
We conclude this section by noting that a properly designed CG circuit can have a wide bandwidth.
However, the input resistance will be low and the overall midband gain can be very low. It follows that the
CG circuit alone will not do the job! However, combining the CG with the CS amplifier in the cascode
configuration can result in a circuit having the high input resistance and gain of the CS amplifier together
with the wide bandwidth of the CG amplifier, as we shall now see.
10.4.2 High-Frequency Response of the MOS Cascode Amplifier
In Section 8.5 we studied the cascode amplifier and analyzed its performance at midband frequencies. There
we learned that by combining the CS and CG configurations, the cascode amplifier exhibits a very high input
resistance and a voltage gain that can be as high as 
, where A0 = gmro is the intrinsic gain of the
MOSFET. For our purposes here, we will see that the versatility of the cascode circuit allows us to trade off
some of this high midband gain in return for a wider bandwidth.
Figure 10.20 shows the cascode amplifier with all transistor internal capacitances indicated. Also
included is a capacitance CL at the output node to represent the combination of Cdb2, the output capacitance
of a current-source load, and the input capacitance of a succeeding amplifier stage (if any). Note that Cdb1
and Cgs2 appear in parallel, and we will combine them in the following analysis. Similarly, CL and Cgd2
appear in parallel and will be combined.
∨Show Solution
∨Show Answer

1.
2.
(10.88)
(10.89)
3.
4.
(10.90)
Figure 10.20 The cascode circuit with the various transistor capacitances indicated.
The easiest and, in fact, quite insightful approach to determining the 3-dB frequency fH is to employ the
open-circuit time-constants method:
Capacitance Cgs1 sees a resistance Rsig.
Capacitance Cgd1 is the gate-to-drain capacitance of the CS amplifier Q1; thus it sees a resistance
Rgd1, which can be obtained by adapting the formula in Eq. (10.66),
where Rd1, the total resistance at D1, is given by the parallel equivalent of the resistance looking into
the drain of Q1 (ro1) and the resistance looking into the source of Q2 (Rin2), thus
Capacitance (Cdb1 + Cgs2) sees a resistance Rd1.
Capacitance (CL + Cgd2) sees a resistance (RL || Ro) where Ro, the output resistance of the cascode
amplifier, is given by
With the resistances determined, the effective time constant τH can be computed as

(10.91)
(10.92)
(10.93)
(10.94)
and the 3-dB frequency fH as
Design Insight and Trade-Offs To better understand what limits the high-frequency gain of the MOS
cascode amplifier, we rewrite Eq. (10.91) in the form
The first term arises at the input node, the second term at the middle node, namely (D1, S2), and the third
term at the output node. The first term is simply due to the interaction of the signal-source resistance Rsig and
the input capacitance of Q1, which, as expected, includes the Miller capacitance Cgd1(1 + gm1Rd1).
In the case of a large Rsig, the first term can dominate, especially if the Miller multiplier (1 + gm1Rd1) is
large. This in turn happens when the load resistance RL is large (on the order of A0ro), causing Rin2 and
hence Rd1 to be large and requiring the first stage, Q1, to provide a large proportion of the gain (see Section
8.5.2). It follows that when Rsig is large, to extend the bandwidth we have to lower RL to the order of ro. This
in turn lowers Rin2 and hence Rd1 and renders the Miller effect in Q1 insignificant. Note, however, that the dc
gain of the cascode will then be A0. Thus, while the dc gain will be the same as (or a little higher than) that
achieved in a CS amplifier, the bandwidth will be greater.
In the case when Rsig is small, the Miller effect in Q1 will not be of concern. A large value of RL (on the
order of A0ro) can then be used to realize the large dc gain possible with a cascode amplifier—that is, a dc
gain on the order of 
. Equation (10.92) indicates that in this case the third term will usually be dominant.
To pursue this point a little further, consider the case Rsig = 0, and assume that the middle term is much
smaller than the third term. It follows that
and the 3-dB frequency becomes
which is of the same form as the formula for the CS amplifier with Rsig = 0 (Eq. 10.45). Here, however, (RL
|| Ro) is larger than 
 by a factor of about A0. Thus fH of the cascode will be lower than that of the CS
amplifier by the same factor A0. Figure 10.21 shows a sketch of the frequency response of the cascode and of

the corresponding common-source amplifier. We observe that in this case, cascoding increases the dc gain by
a factor A0 while keeping the unity-gain frequency unchanged at
Figure 10.21 Effect of cascoding on gain and bandwidth in the case Rsig = 0. Cascoding can increase the dc gain by a
factor equal to the intrinsic gain A0 while keeping the unity-gain frequency constant. Note that to achieve the high gain,
the load resistance must be increased by the factor A0.



(c)
10.17
Use (a) and (b) to find the ratio of ft of the cascode to that of the CS.
Conclusion The MOS cascode amplifier is a versatile circuit that, depending on the application at hand, can
be designed to provide either higher dc gain or larger bandwidth than the CS amplifier or a combination of
both.
10.4.3 High-Frequency Response of the Bipolar Cascode Amplifier
The analysis method studied in the previous section can be directly applied to the BJT cascode amplifier.
Figure 10.22 presents the circuits and the formulas for determining the high-frequency response of the
bipolar cascode. Note that some of these formulas rely on the study of the bipolar cascode in Section 8.5.3.
Figure 10.22 Determining the frequency response of the BJT cascode amplifier. Note that in addition to the BJT
capacitances Cπ and Cμ, the capacitances between the collector and the substrate Ccs for each transistor are included.
EXERCISE
The objective of this exercise is to evaluate the effect of cascoding on the performance of the CE
amplifier of Exercise 10.14. The specifications are as follows: I = 1 mA, β = 200, ro = 130 kΩ, Cπ = 16
pF, Cμ = 0.3 pF, Ccs1 = Ccs2 = 0, CL = 5 pF, Rsig = 36 kΩ, RL = 50 kΩ. Find Rin, A0, Ro1, Rin2, Ro, AM,
fH, and the gain–bandwidth product. Compare AM, fH, and GB with the corresponding values obtained
in Exercise 10.14 for the CE amplifier. What should CL be reduced to in order to have fH = 1 MHz?
∨Show Answer
∨Show Answer


10.5 High-Frequency Response of Source and Emitter Followers
In this section, we study the high-frequency response of two important circuit building blocks: the source
follower and the emitter follower. Both have a midband voltage gain that is less than but close to unity. Their
advantage lies in their high input resistance and low output resistance which make them useful as the output
stage of a multistage amplifier and as voltage buffers. As we will see, these voltage followers have another
important advantage: a wide bandwidth.
Analyzing the high-frequency response of the source and emitter followers is complicated because the
follower has two high-frequency poles that can be close to each other on the negative real axis of the s plane.
Furthermore, in many cases, the poles can become complex. As a result, the method of open-circuit time
constants does not provide a good estimate of fH of the followers except in special circumstances. Our
approach, therefore, will be to analyze the follower circuit to determine its gain Vo/Vsig as a function of
frequency and then use it to determine fH. Although the analysis is somewhat lengthy, the results can be
applied easily. In the following we shall do the analysis of the source follower in detail. Then, because of
their similarity, we will give the results for the emitter follower without proof.
10.5.1 The Source-Follower Case
Figure 10.23(a) shows a source follower without the biasing arrangement. The follower is driven by a signal
source (Vsig, Rsig) and is loaded with a resistance RL and, for generality, a capacitance CL. Replacing the
MOSFET with its hybrid-π equivalent-circuit model results in the equivalent circuit shown in Fig. 10.23(b).
Here, we have included the body-effect generator gmb Vbs because it plays an important role in determining
the source-follower gain.
Figure 10.23 (a) A directly coupled source follower without the bias detail.

Figure 10.23 (b) High-frequency equivalent circuit of the source follower.
Figure 10.23 (c) A simplified version of the equivalent circuit.
Also, we are assuming that whatever capacitances exist between the MOSFET source and ground, such as
Csb of Fig. 10.4(a), have been lumped into CL.
Noting that the drain terminal is grounded, we see that Cgd in fact appears across the input terminals of
the source follower. Also, ro is in parallel with RL and can be combined with it. Finally, since the body
terminal B is connected to ground, the voltage Vbs appears across the controlled source gmb Vbs. Thus we can
use the source-absorption theorem (see Appendix D) to replace the controlled source with a resistance 1/gmb.
Since the latter appears between source and ground, it is in parallel with RL and can be combined with it.
Utilizing the above observations, we obtain the simplified equivalent circuit shown in Fig. 10.23(c)
where

(10.96)
1.
(10.97)
2.
(10.98)
3.
(10.99)
(10.100)
Obtaining the Transfer Function Vo(s)/Vsig(s) Analysis of the equivalent circuit in Fig. 10.23(c) to
determine the transfer function Vo(s)/Vsig(s) proceeds as follows.
A loop equation at the input yields
where Vg can be expressed as
Thus,
A node equation at G provides
which can be substituted into Eq. (10.97) to obtain
A node equation at S gives
which can be used to express Vgs in terms of Vo as
Substituting this expression of Vgs into Eq. (10.98) results in an equation containing only Vo and Vsig;
this equation can be manipulated to obtain the source-follower transfer function in the form

(10.101)
(10.102)
(10.103)
(10.104)
1.
2.
3.
(10.105)
4.
(10.106)
where
Analysis of the Source-Follower Transfer Function We now make a number of observations on the
transfer function in Eq. (10.100), which describes the gain of the source follower at high frequencies:
Since the source follower in Fig. 10.23(a) is directly coupled, the gain at dc is equal to AM. This
correlates with Eq. (10.100) as
Although the equivalent circuit of Fig. 10.23(c) has three capacitors, the transfer function is of second
order because the three capacitors form a continuous loop.
The two transmission zeros can be found from Eq. (10.100) as the values of s for which Vo/Vsig = 0.
From Eq. (10.100), we see that Vo/Vsig approaches 0 as s approaches ∞. Thus one transmission zero is
at s = ∞. Physically, this zero is a result of Cgd, which appears across the input terminals, becoming a
short circuit at infinite frequency and thus making Vo = 0. From the numerator of Eq. (10.100) we see
that the other transmission zero is at s = −ωZ where ωZ is given by Eq. (10.102). We note that ωZ is
slightly higher than the unity-gain frequency ωT of the MOSFET [Eq. (10.9)],
Thus the finite transmission zero is at such a high frequency that its effect on the frequency response
of the follower is negligibly small.
The two poles of the source follower can be found as the roots of the denominator polynomial (1 + b1s
+ b2s2). If the poles are real, their frequencies, say ωP1 and ωP2, can be found from
Now if ωP2 ≫ ωP1 (at least four times larger), a dominant pole exists with frequency ωP1 and the 3-
dB frequency fH is given by

(10.107)
5.
(10.108)
6.
(10.109)
Here we remind the reader that b1 is also τH, the effective high-frequency time constant evaluated in
the method of open-circuit time constants.4
If the poles are real but none is dominant, the 3-dB frequency can be determined analytically from the
transfer function as the frequency at which 
.
An approximate value can be obtained using the formula5
If the poles are complex, they are best described in terms of their frequency ω0 and Q-factor, where
and for complex poles, Q > 0.5. Figure 10.24(a) provides a geometrical interpretation of ω0 and Q.
Figure 10.24(b) shows a number of possible responses obtained for various values of Q. As indicated,
the response of the source follower shows no peaking for Q ≤ 0.707. The boundary case corresponding
to Q = 0.707 (poles at 45° angles) results in what is known as a maximally flat response for which
f3dB = f0. In terms of the component values of the source follower, ω0 and Q are given by
Figure 10.24 (a) A pair of complex-conjugate poles with the definition of ω0 and Q indicated.

(10.110)
(10.111)
10.18
10.19
Figure 10.24 (b) Magnitude response of a source (or emitter) follower for different values of the parameter Q.
Note that the response is normalized relative to AM.
Example 10.8
A source follower operated at gm = 2 mA/V and ro = 20 kΩ is fed with a signal source for which Rsig = 10 kΩ
and is loaded in a resistance RL = 20 kΩ. The MOSFET has Cgs = 20 fF, Cgd = 5 fF, and gmb = χgm where χ =
0.2, and the total capacitance at the output CL = 15 fF. Determine AM, fT, fZ, Q, fP1, fP2, and f3dB.
EXERCISES
Recalling that τH = b1, use the expression for b1 in Eq. (10.103) to find expressions for the three
resistances Rgs, Rgd, and RCL for the source follower.
In Example 10.8, even though we found that a dominant pole does not exist, use the method of open-
circuit time constants to obtain an estimate for fH. (Hint: Recall that τH = b1.)
∨Show Solution
∨Show Answer
∨Show Answer

10.20
10.5.2 The Emitter-Follower Case
Figure 10.25 provides the results for the case of the emitter follower. The analysis here is a little more
complicated because of the finite β of the BJT.
Figure 10.25 (a) Emitter follower. (b) High-frequency equivalent circuit. (c) Simplified equivalent circuit. (d) Transfer
function.
EXERCISE
For an emitter follower biased at IC = 1 mA and having Rsig = RL = 1 kΩ, ro = 100 kΩ, β = 100, Cμ = 2
pF, CL = 0, and fT = 400 MHz, find the low-frequency gain AM, fZ, fP1, fP2, and an estimate for fH.
∨Show Answer

10.6 High-Frequency Response of Differential Amplifiers
In this section we will consider the variation with frequency of both the differential gain and the common-
mode gain and hence of the CMRR. We will rely heavily on the study of frequency response of single-ended
amplifiers presented in the sections above, but we will consider MOS circuits only; the bipolar case is a
straightforward extension, as we saw above on a number of occasions.
10.6.1 Analysis of the Resistively Loaded MOS Amplifier
We begin with the basic, resistively loaded MOS differential pair shown in Fig. 10.26(a). Note that we have
explicitly shown transistor QS that supplies the bias current I. Although we are showing a dc bias voltage
VBIAS at its gate, usually QS is part of a current mirror. This detail, however, is of no consequence to our
present needs. Most importantly, we are interested in the total impedance between node S and ground, ZSS,
because this impedance plays a significant role in determining the common-mode gain and the CMRR of the
differential amplifier. Resistance RSS is simply the output resistance of current source QS. Capacitance CSS is
the total capacitance between node S and ground and includes Cdb and Cgd of QS, as well as Csb1 and Csb2.
This capacitance can be significant, especially if wide transistors are used for QS, Q1, and Q2.
Figure 10.26 (a) A resistively loaded MOS differential pair; the transistor supplying the bias current is explicitly shown.
It is assumed that the total impedance between node S and ground, ZSS, consists of a resistance RSS in parallel with a
capacitance CSS. (b) Differential half-circuit. (c) Common-mode half-circuit.
The differential half-circuit shown in Fig. 10.26(b) can be used to determine the frequency dependence
of the differential gain Vo/Vid. Indeed the gain function Ad(s) of the differential amplifier will be identical to

10.21
(a)
(b)
(c)
(d)
(10.112)
the transfer function of this common-source amplifier.6 We studied the frequency response of the common-
source amplifier at great length in Sections 10.2 and 10.3 and will not repeat this material here.
EXERCISE
A MOSFET differential amplifier such as that in Fig. 10.26(a) is biased with a current I = 0.8 mA. The
transistors Q1 and Q2 have W/L = 100, 
 = 0.2 mA/V2, VA = 20 V, Cgs = 50 fF, Cgd = 10 fF, and Cdb =
10 fF. The drain resistors are 5 kΩ each. Also, there is a 100-fF capacitive load between each drain and
ground.
Find VOV and gm for each transistor.
Find the differential gain Ad.
If the input signal source has a small resistance Rsig and thus the frequency response is determined
primarily by the output pole, estimate the 3-dB frequency fH. [Hint: Refer to Section 10.2.3 and
specifically to Eq. (10.45).]
If, in a different situation, the amplifier is fed symmetrically with a signal source of 20 kΩ
resistance (i.e., 10 kΩ in series with each gate terminal), use the open-circuit time-constants
method to estimate fH. [Hint: Refer to Section 10.3.3 and specifically to Eq. (10.68).]
The common-mode half-circuit is shown in Fig. 10.26(c). Although this circuit has other capacitances,
namely, Cgs, Cgd, and Cdb of the transistor in addition to other stray capacitances, we have chosen to show
only CSS/2. This is because (CSS/2) together with (2RSS) form a real-axis zero in the common-mode gain
function at a frequency much lower than those of the other poles and zeros of the circuit. This zero then
dominates the frequency dependence of Acm and CMRR.
If the output of the differential amplifier is taken single-endedly, then the common-mode gain of interest
is Vocm/Vicm. More typically, the output is taken differentially. Nevertheless, as we have seen in Section 9.3,
Vocm/Vicm still plays a major role in determining the common-mode gain. To be specific, consider what
happens when the output is taken differentially and there is a mismatch ∆RD between the two drain
resistances. The resulting common-mode gain was found in Section 9.3 to be (Eq. 9.80)
which is simply the product of Vocm/Vicm and the per-unit mismatch (ΔRD/RD). Similar expressions can be
found for the effects of other circuit mismatches. The important point to note is that the factor RD/2RSS is
always present in these expressions. Thus, the frequency dependence of Acm can be obtained by simply
replacing RSS by ZSS in this factor. Doing so for the expression in Eq. (10.112) gives
∨Show Answer

(10.113)
(10.114)
(10.115)
from which we see that Acm acquires a zero on the negative real axis of the s plane with frequency ωZ,
or in hertz,
As mentioned above, usually fZ is much lower than the frequencies of the other poles and zeros. As a result,
the common-mode gain increases at the rate of +20 dB/decade starting at a relatively low frequency, as
shown in Fig. 10.27(a). Of course, Acm drops off at high frequencies because of the other poles of the
common-mode half-circuit. It is, however, fZ that is significant, for it is the frequency at which the CMRR of
the differential amplifier begins to decrease, as indicated in Fig. 10.27(c). Note that if both Ad and Acm are
expressed and plotted in dB, then CMRR in dB is simply the difference between Ad and Acm.
Figure 10.27 (a) Common-mode gain with frequency.

Figure 10.27 (b) Differential gain with frequency.
Figure 10.27 (c) Common-mode rejection ratio with frequency.
Although in the foregoing we considered only the common-mode gain resulting from an RD mismatch,
the results apply to the common-mode gain resulting from any other mismatch. For instance, it applies
equally well to the case of a gm mismatch, modifying Eq. (9.84) by replacing RSS by ZSS, and so on.
Before leaving this section, it is interesting to point out an important trade-off found in the design of the
current-source transistor QS: In order to operate this current source with a small VDS (to conserve the already
low VDD), we desire to operate the transistor at a low overdrive voltage VOV. For a given value of the current
I, however, this means using a large W/L ratio (i.e., a wide transistor). This in turn increases CSS and hence
lowers fZ with the result that the CMRR deteriorates (i.e., decreases) at a relatively low frequency. Thus there
is a trade-off between the need to reduce the dc voltage across QS and the need to keep the CMRR
reasonably high at higher frequencies.
To appreciate the need for high CMRR at higher frequencies, consider the situation illustrated in Fig.
10.28: We show two stages of a differential amplifier whose power-supply voltage VDD is corrupted with
high-frequency noise. Since the quiescent voltage at each of the drains of Q1 and Q2 is [VDD − (I/2)RD] we
see that vD1 and vD2 will have the same high-frequency noise as VDD. This high-frequency noise then
constitutes a common-mode input signal to the second differential stage, formed by Q3 and Q4. If the second

10.22
differential stage is perfectly matched, its differential output voltage Vo should be free of high-frequency
noise. However, in practice there is no such thing as perfect matching, and the second stage will have a finite
common-mode gain. Furthermore, because of the zero formed by RSS and CSS of the second stage, the
common-mode gain will increase with frequency, causing some of the noise to make its way to Vo. With
careful design, this undesirable component of Vo can be kept small.
Figure 10.28 The second stage in a differential amplifier, which is relied on to suppress high-frequency noise injected by
the power supply of the first stage, and therefore must maintain a high CMRR at higher frequencies.
EXERCISE
The differential amplifier specified in Exercise 10.21 has RSS = 75 kΩ and CSS = 0.4 pF. Find the 3-dB
frequency of the CMRR.
10.6.2 Frequency Response of the Current-Mirror-Loaded MOS Differential
Amplifier
We will now consider the frequency response of the current-mirror-loaded MOS differential-pair circuit
studied in Section 9.5. The circuit is shown in Fig. 10.29(a) with two capacitances indicated: Cm, which is
the total capacitance at the input node of the current mirror, and CL, which is the total capacitance at the
∨Show Answer
RFID: IDENTIFICATION AT A DISTANCE
∨

(10.116)
(10.117)
output node of the amplifier. Capacitance Cm is mainly formed by Cgs3 and Cgs4 but also includes Cgd1,
Cdb1, and Cdb3,
Figure 10.29 (a) Frequency–response analysis of the active-loaded MOS differential amplifier.
Figure 10.29 (b) Output equivalent circuit.
Figure 10.29 (c) The overall transconductance Gm as a function of frequency.
Capacitance CL includes Cgd2, Cdb2, Cdb4, and Cgd4 as well as an actual load capacitance and/or the input
capacitance of a subsequent stage (Cx),
These two capacitances primarily determine the dependence of the differential gain of this amplifier on
frequency.

(10.118)
(10.119)
(10.120)
(10.121)
(10.122)
In the following we show that CL introduces the dominant pole of the differential gain. We will also
show that capacitance Cm affects the overall short-circuit transconductance Gm and hence the differential
gain, introducing a pole and a zero at much higher frequencies.
The Dominant Pole Figure 10.29(b) shows the output equivalent circuit of the differential amplifier, from
which we can write
Neglecting for the time being the frequency dependence of Gm, then
and
Equation (10.118) indicates that the differential gain has a pole at
This pole is usually at a much lower frequency than the pole and zero introduced by Cm and thus is
dominant.
Dependence of Gm on Frequency To see the dependence of Gm on frequency, refer to Fig. 10.29(a), which
shows the circuit with a short circuit at the output terminal. The short-circuit transconductance Gm can be
found as
Now, Io is the sum of Id2 and Id4,
Here, while Id2 is simply gm(Vid/2), current Id4 is obtained through the action of the current mirror and is
thus affected by capacitance Cm. Specifically,
where Vg3 can be found from

(10.123)
(10.124)
(10.125)
(10.126)
(10.127)
(10.128)
(10.129)
where Rm is the total resistance at the input node of the current mirror,
Substituting this approximate value of Rm into Eq. (10.123) and substituting Id1 = gm(Vid/2) gives
Substituting this expression for Vg3 into Eq. (10.122) gives
Since gm3 = gm4, this equation reduces to
Substituting for Id4 from Eq. (10.125) and Id2 = gm(Vid/2) into Eq. (10.121) gives
We can now obtain Gm as
Thus, as expected, the low-frequency value of Gm is equal to gm of Q1 and Q2. At high frequencies, Gm
acquires a pole and a zero, the frequencies of which are
and

(10.130)
(10.131)
(10.132)
10.23
That is, the zero frequency is twice that of the pole. Since Cm is approximately equal to Cgs2 + Cgs4 = 2Cgs,
we also have
and
where fT is the transition frequency of the MOSFET Q3. Thus, the mirror pole and zero occur at very high
frequencies.
Figure 10.29(c) shows a sketch of the magnitude of Gm versus frequency. Notice that at very high
frequencies, Cm acts as a short circuit, reducing Vg3 to zero. As a result, Id4 becomes zero, and I0 becomes
equal to Id1 only, which is half of the low-frequency value of I0. The result is that Gm is reduced to half of its
value, as shown in the sketch in Fig. 10.29(c). The complete gain function can be expressed as
Example 10.9
Consider a current-mirror-loaded MOS differential amplifier of the type shown in Fig. 10.29(a). Assume that for
all transistors, W/L = 7.2 µm/0.36 µm, Cgs = 20 fF, Cgd = 5 fF, and Cdb = 5 fF. Also, let μnCox = 387 µA/V2,
μpCox = 86 µA/V2, 
 = 5 V/µm, and 
 = 6 V/µm. The bias current I = 0.2 mA, and the bias current
source has an output resistance RSS = 25 kΩ and an output capacitance CSS = 0.2 pF. In addition to the
capacitances introduced by the transistors at the output node, there is a capacitance Cx of 25 fF. Determine the
low-frequency values of Ad, Acm, and CMRR. Also, find the poles and zero of Ad and the dominant pole of
CMRR.
EXERCISE
A bipolar current-mirror-loaded differential amplifier is biased with a current source I = 1 mA. The
transistors are specified to have |VA| = 100 V. The total capacitance at the output node is 2 pF. Find the
dc value, and the frequency of the dominant high-frequency pole, of the differential voltage gain.
∨Show Solution
∨Show Answer

10.7 Other Wideband Amplifier Configurations
Thus far, we have studied one wideband amplifier configuration: the cascode amplifier. In Section 10.4, we
found that adding the cascode transistor can enable us to reduce the gain required of the common-source
transistor and hence reduce the Miller effect and, correspondingly, increase fH. In this section, we study three
other circuit configurations that obtain increased fH by decreasing or eliminating the Miller effect.
10.7.1 Obtaining Wideband Amplification by Source or Emitter Degeneration
As we discussed in Chapter 7, adding a resistance in the source (emitter) lead of a CS (CE) amplifier can
result in a number of performance improvements at the expense of a reduction in voltage gain. Increasing the
amplifier bandwidth fH, which is the topic of interest to us in this section, is among those improvements.
To see how this comes about, consider the source-degenerated common-source amplifier in Fig. 10.30(a)
and its output equivalent circuit in Fig. 10.30(b). For the usual case of gmro ≫ 1, the short-circuit
transconductance Gm can be shown to be given by
Figure 10.30 (a) The CS amplifier circuit, with a source resistance Rs.
Figure 10.30 (b) Equivalent-circuit representation of the amplifier output.

(10.133)
(10.134)
(10.135)
(10.136)
(10.137)
(10.138)
Figure 10.30 (c) Determining the component of Cin due to Cgd.
and the output resistance is given by Eq. (8.60), that is,
Thus, source degeneration reduces the transconductance and increases the output resistance by the same
factor, (1 + gmRs). The low-frequency voltage gain can be obtained as
where
The magnitude of AM will be smaller than that obtained without Rs.
A first cut at finding the effect of Rs on the high-frequency response can be obtained by finding the input
capacitance Cin due to Cgd. Referring to Fig. 10.30(c) and recalling the corresponding analysis of the CS
amplifier in Section 10.2.2, we can write
Since this is usually the dominant component of the input capacitance, and assuming that the 3-dB frequency
is determined by the interaction of Rsig and Cin, we can obtain an approximate estimate of fH as
This expression clearly shows that as |AM| is reduced by including Rs, f3dB is correspondingly increased.
Another interesting observation about Eq. (10.137) is that the gain–bandwidth product remains constant as
Rs is changed,

(10.139)
(10.140)
(10.141)
The above analysis, however, is approximate as we have not taken into account the other capacitances
present in the circuit. These are shown in Fig. 10.31(a) where CL includes all capacitances between the
output node and ground. An estimate for fH can be obtained using the method of open-circuit time constants,
as follows:
Figure 10.31 (a) The source-degenerated CS amplifier with all capacitances shown.
Figure 10.31 (b) Determining Rgd.
To obtain Rgd we use the circuit in Fig. 10.31(b) and write by analogy to the case without Rs,
The formula for RCL can be seen to be simply
The formula for Rgs is the most difficult to derive, and the derivation should be performed with the
hybrid-π model explicitly utilized. Straightforward, though somewhat tedious, circuit analysis yields (for

(10.142)
(10.143)
10.24
gmro ≫ 1),
Next we compute τH,
and use it to determine fH,
EXERCISE
Consider a CS amplifier having gm = 2 mA/V, ro = 20 kΩ, RL = 20 kΩ, Rsig = 20 kΩ, Cgs = 20 fF, Cgd
= 5 fF, and CL = 5 fF. (a) Find the voltage gain AM and the 3-dB frequency fH (using the method of
open-circuit time constants) and hence the gain–bandwidth product. (b) Repeat (a) for the case in
which a resistance Rs is connected in series with the source terminal with a value selected so that gm Rs
= 2.
10.7.2 Increasing fH by Buffering the Input Signal Source
Another approach to reducing the effect of the Miller capacitance is to place a buffer (a source follower or an
emitter follower) between the input signal source and the input terminal of the common-source or common-
emitter amplifier. In this case, while the Miller capacitance in the CS or CE transistor remains unchanged, it
will be interacting not with Rsig but with the output resistance of the buffer, which is much smaller than Rsig.
This will result in increasing the frequency of the pole that arises at the amplifier input, and thus extending
the bandwidth of the amplifier. Figure 10.32 shows three different implementations of this technique. Note
that in addition to increasing fH, the input buffer raises the input resistance of the common-emitter amplifiers
in Figs. 10.32(b) and (c).
∨Show Answer

Figure 10.32 (a) CD–CS amplifier. (b) CC–CE amplifier. (c) CD–CE amplifier.
Example 10.10
Consider a CC–CE amplifier such as that in Fig. 10.32(b) with the following specifications: I1 = I2 = 1 mA and
identical transistors with β = 100, fT = 400 MHz, and Cμ = 2 pF. Let the amplifier be fed with a source Vsig
having a resistance Rsig = 4 kΩ, and assume a load resistance of 4 kΩ. Find the voltage gain AM, and estimate
the 3-dB frequency, fH. Compare the results with those obtained with a CE amplifier operating under the same
conditions. For simplicity, neglect ro.
10.7.3 Increasing fH by Eliminating the Miller Effect Using a CG or a CB
Configuration with an Input Buffer
Our final approach to increasing fH eliminates the Miller effect altogether by using a common-gate or a
common-base amplifier. The drawback of the low input resistance of such amplifiers can be overcome by
preceding them with a buffer (a source follower or an emitter follower). Three possible such configurations
are depicted in Fig. 10.34. Since in each of these circuits, neither of the two transistors suffers from the
Miller effect, the resulting amplifiers have even wider bandwidths than those achieved in the circuits of the
previous section. To illustrate, consider the circuit in Fig. 10.34(a).7 The low-frequency analysis of this
circuit gives for the input resistance,
∨Show Solution

(10.144)
(10.145)
(10.146)
(10.147)
Figure 10.34 (a) A CC–CB amplifier. (b) Another version of the CC–CB circuit with Q2 implemented using a pnp
transistor. (c) The MOSFET version of the circuit in (a). Notice that the circuits in (a) and (c) can be considered as
differential amplifiers with the load resistance of Q1 eliminated.
which for re1 = re2 = re and β1 = β2 = β becomes
If a load resistance RL is connected at the output, the voltage gain Vo/Vi will be
where we have neglected ro. Now, if the amplifier is fed with a voltage signal Vsig from a source with a
resistance Rsig, the overall voltage gain will be
The high-frequency analysis is illustrated in Fig. 10.35(a). Here we have drawn the hybrid-π equivalent
circuit for each of Q1 and Q2. Recalling that the two transistors are operating at equal bias currents, their
corresponding model components will be equal (i.e., rπ1 = rπ2, Cπ1 = Cπ2, etc.). With this in mind, you
should be able to see (by writing a node equation at E) that Vπ1 = −Vπ2 and the horizontal line through the

(10.148)
node labeled E in Fig. 10.35(a) can be deleted. Thus the circuit reduces to that in Fig. 10.35(b). This is a very
attractive outcome because the circuit shows clearly the two poles that determine the high-frequency
response: The pole at the input, with a frequency fP1, is
Figure 10.35 (a) Equivalent circuit for the amplifier in Fig. 10.34(a). (b) Simplified equivalent circuit. Note that the
equivalent circuits in (a) and (b) also apply to the circuit shown in Fig. 10.34(b). In addition, they can be easily adapted
for the MOSFET circuit in Fig. 10.34(c), with 2rπ eliminated, Cπ replaced with Cgs, Cμ replaced with Cgd, and Vπ
replaced with Vgs.
and the pole at the output, with a frequency fP2, is

(10.149)
(10.150)
10.25
This result is also intuitively obvious: The input impedance at B1 of the circuit in Fig. 10.35(a) consists of
the series connection of rπ1 and rπ2 in parallel with the series connection of Cπ1 and Cπ2. Then there is Cμ1
in parallel. At the output, we simply have RL in parallel with Cμ.
Whether one of the two poles is dominant will depend on the relative values of Rsig and RL. If the two
poles are close to each other, then the 3-dB frequency fH can be determined either by exact analysis—that is,
finding the frequency at which the gain is down by 3 dB—or by using the approximate formula,
EXERCISE
For the CC–CB amplifier of Fig. 10.34(a), let I = 0.5 mA, β = 100, Cπ = 6 pF, Cμ = 2 pF, Rsig = 10 kΩ,
and RL = 10 kΩ. Find the low-frequency overall voltage gain AM, the frequencies of the poles, and the
3-dB frequency fH. Find fH both exactly and using the approximate formula in Eq. (10.150).
∨Show Answer

(10.151)
10.8 Low-Frequency Response of Discrete-Circuit CS and CE Amplifiers
So far in this chapter we have been concerned with the high-frequency response of amplifiers. The material
presented applies equally well to both integrated-circuit and discrete-circuit amplifiers as both amplifier
types behave similarly at high frequencies. This is not the case, however, at low frequencies (i.e., at
frequencies lower than midband frequencies): While IC amplifiers exhibit a constant low-frequency gain
equal to that at midband frequencies (Fig. 10.2), the gain of discrete-circuit amplifiers decreases at low
frequencies and becomes zero at dc (Fig. 10.1). This is because discrete-circuit amplifiers use coupling and
bypass capacitors. In this section we quantify the effect of such capacitors on the gain of discrete-circuit
common-source and common-emitter amplifiers. Our goal is to be able to estimate the frequency fL at which
the gain drops by 3 dB below its value at midband and, of course, to design the amplifier so that it meets a
specified value of fL.
10.8.1 Frequency Response of the High-Pass Single-Time-Constant Circuit
Analyzing the low-frequency response of discrete-circuit amplifiers is much easier if we know the frequency
response of the high-pass single-time-constant circuit shown in Fig. 10.36(a). The circuit has a time constant
Figure 10.36 (a) High-pass STC circuit. (b) Bode plot for |Vo/Vi|.
and a transfer function

(10.152)
(10.153)
(10.154)
(10.155)
where the pole-frequency ωP is given by
In addition to the pole at s = −ωP, the transfer function in Eq. (10.152) has a zero at s = 0. That is, Vo/Vi
becomes zero at s = 0. Physically, this is due to the capacitor C behaving as an open-circuit at ω = 0 (1/ωC =
∞ at ω = 0) and thus causing Vo = 0.
For physical frequencies, s = jω, and the magnitude of the transfer function is
Thus, at ω ≫ ωP, |Vo/Vi| approaches unity. At 
; that is, the gain drops by 3 dB
below its value at midband. Thus, the 3-dB frequency of the high-pass circuit in Fig. 10.36(a) is equal to the
pole frequency ωP.
For 
,
Thus, whenever ω decreases by a factor of 10 (a decade decrease), the gain decreases by a factor of 10 (i.e.,
by 20 dB). This is confirmed by the Bode plot for |Vo/Vi| shown in Fig. 10.36(b). Finally, note that as
expected, at ω = 0 (dc), |Vo/Vi | = 0.
10.8.2 The CS Amplifier
Figure 10.37(a) shows a discrete-circuit common-source amplifier utilizing the classical biasing arrangement
(Section 7.5.1). Two coupling capacitors, CC1 and CC2, and a bypass capacitor CS are used. At midband
frequencies, these large capacitances have negligibly small impedances and can be assumed to be perfect
short circuits for the purpose of calculating the midband gain, as was done in Section 7.5.1. However, at low
frequencies, the reactance 1/jωC of each of the three capacitances increases and the amplifier gain decreases,
as we will now show.
To determine the amplifier gain Vo/Vsig at low frequencies, we utilize the amplifier equivalent circuit
shown in Fig. 10.37(b). This circuit is obtained by short-circuiting VDD and replacing the MOSFET with its
T model, which is the most convenient model to use when an impedance, such as ZS, is present in the source

lead. The transistor ro has been omitted because, as mentioned in Chapter 7, ro has a negligible effect on the
performance of discrete-circuit amplifiers. Also, including ro would complicate the analysis significantly.
Figure 10.37 (a) Capacitatively coupled common-source amplifier.
Figure 10.37 (b) The amplifier equivalent circuit at low frequencies. Note that the T model is used for the MOSFET and
ro is neglected.
The gain Vo/Vsig of the amplifier can be obtained from the equivalent circuit in Fig. 10.37(b) by starting
at the source and working our way to the load, as

(10.156)
(10.157)
(10.158)
where Vg is the voltage between gate and ground, and Id is the drain current. To find the fraction of Vsig that
appears at the transistor gate, Vg, we note that the input resistance at the gate is infinite and thus the amplifier
input resistance is RG = RG1 || RG2. Using the voltage-divider rule gives
which can be rearranged in the form
Thus, we see that the effect of CC1 is to cause the expression for the signal transmission from the signal
source to the amplifier input to acquire a frequency-dependent factor. We recognize this factor as the transfer
function of a single-time-constant circuit of the high-pass type (Eq. 10.152), with a pole frequency ωP1,
In addition to the pole, CC1 introduces a zero at s = 0 (dc). This is hardly surprising, since CC1 is included in
the amplifier circuit to block dc. The Bode plot for the frequency-dependent factor in the transfer function of
Eq. (10.156) will be similar to that in Fig. 10.36(b).
Continuing with the analysis, we next determine the drain current Id, which is equal to the source current
Is. The latter can be found by dividing Vg by the total impedance in the source lead, (1/gm + ZS),
where
Thus,

(10.159)
(10.160)
(10.161)
(10.162)
(10.163)
Thus, the bypass capacitor introduces a pole with frequency ωP2,
and a transmission zero on the negative real axis of the s plane at
and thus has a frequency
Observe that since gm is usually large, ωP2 ≫ ωZ. That is, ωP2 will be closer to the midband, and thus it
plays a more significant role in determining ωL than does ωZ. Figure 10.38 shows a sketch of the magnitude
of the frequency-dependent factor of the transfer function in Eq. (10.158).
To complete the analysis, we find Vo by first using the current-divider rule to determine the fraction of Id
that flows through RL,
and then multiplying Io by RL. The result is
from which we see that CC2 introduces a pole with frequency,
and a zero at s = 0 (dc). A sketch of the magnitude of the frequency-dependent factor of the transfer function
in Eq. (10.162) will be similar to that in Fig. 10.38.

(10.164)
(10.165)
Figure 10.38 Sketch of the magnitude of the high-pass function 
 versus frequency ω.
The overall low-frequency gain function of the amplifier can be found by combining Eqs. (10.156),
(10.158), and (10.162),
where AM, the midband gain, is given by
which is the value we would have obtained had we assumed that CC1, CS, and CC2 were acting as perfect
short circuits. In this regard, note from Eq. (10.164) that at midband frequencies—that is, at frequencies s =
jω with ω much higher than ωP1, ωP2, ωZ, and ωP3—Vo/Vsig approaches AM, as should be expected.
Determining the 3-dB Frequency fL The magnitude of the amplifier gain at a frequency ω can be obtained
by substituting s = jω in Eq. (10.164) and evaluating the magnitude of the resulting complex function. In this
way, the low-frequency response of the amplifier can be plotted versus frequency, and the lower 3-dB
frequency fL can be determined as the frequency at which | Vo/Vsig | drops to 
A simpler approach for determining fL is possible if the poles and zeros are sufficiently separated from
one another. In this case, we can employ the Bode plot rules (see Appendix F) to obtain a Bode plot for the

(10.166)
(10.167)
gain magnitude. Such a plot is shown in Fig. 10.39. This graph is simply a combination of the Bode plots of
the transfer functions in Eqs. (10.156), (10.158), and (10.162). Observe that since the poles and zeros are
sufficiently separated, their effects appear distinct. As we move downward in frequency from the midband,
we find that at each pole frequency, the slope of the asymptote to the gain function increases by 20
dB/decade, and at the zero frequency (fZ) it decreases by 20 dB/decade. Note that for the purpose of this
sketch, we assumed fP2 to be the highest of the three poles and zero frequencies, and that the zero has the
lowest frequency.
Figure 10.39 Sketch of the low-frequency magnitude response of a CS amplifier for which the three pole frequencies are
sufficiently separated for their effects to appear distinct.
A quick way for estimating the 3-dB frequency fL is possible if the highest-frequency pole (here,
assumed to be fP2) is separated from the nearest pole or zero (here, fP1) by at least a factor of 4 (two
octaves). In such a case, fL is approximately equal to the highest of the pole frequencies,
We refer to this situation as one in which a dominant pole exists, with the frequency of the dominant
pole being fP2. Of course, if a dominant pole exists, fL can be estimated without the need for the Bode plot.
If a dominant pole does not exist, the following approximate expression for fL can be used

Determining the Pole and Zero Frequencies by Inspection From the derivation above of the transfer
function Vo/Vsig, we note that each of the three capacitors determines the frequency of only one of the three
poles and one of the three zeros. As a result of this isolation of the effects of the capacitors, a simple
procedure exists for determining the frequencies of the pole and zero introduced by each capacitor.
Consider first the zeros. By its definition, a transmission zero is the value of s at which the input does not
reach the output, resulting in Vo = 0. Examining the circuit in Fig. 10.37(b) shows us that CC1 becomes an
infinite impedance at s = 0 and thus introduces a transmission zero at s = 0 (i.e., blocks dc).
An identical statement applies to CC2. However, the bypass capacitor CS has a different effect: Its
transmission zero is at the value of s that causes ZS to become infinite, and hence Is, Id, and Vo become zero,
which is sZ given by Eq. (10.160).
To determine the poles, we set Vsig = 0.8 This results in the three separate circuits shown in Fig. 10.40.
Each of the three circuits can be used to determine the resistance “seen” by the particular capacitor,9 and
hence the time constant associated with this capacitor. The corresponding pole frequency ωP is the inverse of
the time constant.
Figure 10.40 Circuits for determining the time constant of each of the three capacitors, and hence the pole associated
with each one. Note that this determination is possible because in the circuit of Fig. 10.37, the capacitors do not interact;
that is, each is responsible for only one of the three poles (and zeros).
Selecting Values for the Coupling and Bypass Capacitors We now address the design issue of selecting
appropriate values for CC1, CS, and CC2. The design objective is to place the lower 3-dB frequency fL at a
specified value while minimizing the capacitor values. Since the resistance seen by 
, is usually
the smallest of the three resistances, the total capacitance is minimized by selecting CS to provide the highest
frequency pole; that is, making its pole frequency fP2 = fL. We then decide on the location of the other two
pole frequencies, say, 5 to 10 times lower than the frequency of the dominant pole, fP2. However, the values
selected for fP1 and fP3 should not be too low, for that would require larger values for CC1 and CC2 than may
be necessary. The design procedure will be illustrated by an example.

10.26
1.
2.
3.
4.
(10.168)
Example 10.11
We wish to select appropriate values for the coupling capacitors CC1 and CC2 and the bypass capacitor CS for a
CS amplifier for which RG = 4.7 MΩ, RD = RL = 15 kΩ, Rsig = 100 kΩ, RS = 10 kΩ, and gm = 1 mA/V. We are
required to have fL at 100 Hz and the nearest break frequency at least a decade lower.
EXERCISE
A CS amplifier has CC1 = CS = CC2 = 1µF, RG = 10 MΩ, Rsig = 100 kΩ, gm = 2 mA/V, RD = RL = RS =
10 kΩ. Find AM, fP1, fP2, fP3, fZ, and fL.
10.8.3 The Method of Short-Circuit Time Constants
In some circuits, such as that of the common-emitter amplifier discussed shortly, it is not possible to isolate
the effects of the capacitors. Rather, the capacitors interact, making it difficult to determine the pole
frequencies. Fortunately, there is a simple method for estimating fL without having to determine the
frequencies of the poles. Although the method is predicated on the assumption that one of the poles is
dominant, the resulting estimate for fL is usually very good even if this assumption is not strictly valid. The
method is as follows:
Set the input signal Vsig = 0.
Consider the capacitors one at a time. That is, while considering capacitor Ci, set all the other
capacitors to infinite values (i.e., replace them with short circuits—hence the name of the method).
For each capacitor Ci, find the total resistance Ri seen by Ci. This can be determined either by
inspection or by replacing Ci with a voltage source Vx and finding the current Ix drawn from Vx; Ri ≡
Vx/Ix.
Calculate the 3-dB frequency fL using
where n is the total number of capacitors.
Besides its simplicity, this method has a very important side benefit: Equation (10.168) indicates the relative
contribution of each capacitor to the value of fL. Specifically, the lower the value of the time constant
associated with a particular capacitor, the greater the contribution of this capacitor to fL. As we will see
∨Show Solution
∨Show Answer

shortly, this observation has important design implications. We will show how to apply the method of short-
circuit time constants in the next section, where the method is used to determine fL of the CE amplifier.
Finally, note that this method is the dual of the method of open-circuit time constants studied in Section 10.3
for determining the upper 3-dB frequency fH.
10.8.4 The CE Amplifier
Figure 10.41(a) shows a discrete-circuit common-emitter amplifier utilizing the classical biasing
arrangement (Section 7.5.2), together with coupling capacitors CC1 and CC2, and bypass capacitor CE. We
wish to obtain an estimate of the frequency fL at which the gain of this amplifier drops by 3 dB below its
value at midband. As well, we need to determine how to select appropriate values for CC1, CE, and CC2 to
ensure that fL is placed at a desired location while minimizing the total capacitance value required.
To analyze the low-frequency gain of the CE amplifier, we utilize the equivalent circuit shown in Fig.
10.41(b). This equivalent circuit is obtained by short-circuiting VCC and replacing the BJT with its T model,
while neglecting ro. The decision to neglect ro is based on the insignificant effect of the transistor’s output
resistance on the gain of discrete-circuit amplifiers, and the considerable complication its inclusion causes to
the analysis. From the circuit in Fig. 10.41(b), we observe that the finite input current in the base of the BJT
causes CC1 and CC2 to interact. That is, unlike the case of the CS amplifier, here each of the two poles
caused by CC1 and CC2 will depend on both capacitor values in a complicated fashion that hinders design
insight. Therefore, we will not attempt to determine the pole frequencies; instead, we will use the method of
short-circuit time constants to estimate fL directly.
Figure 10.41 (a) A discrete-circuit common-emitter amplifier.

(10.169)
(10.170)
Figure 10.41 (b) Equivalent circuit of the amplifier in (a).
Applying the Method of Short-Circuit Time Constants Setting Vsig = 0 in the circuit of Fig. 10.41(b) and
considering each capacitor, one at a time, while short-circuiting the other two results in the three circuits
shown in Fig. 10.42. These circuits can be used to determine the resistance seen by each capacitor and hence
its effective time constant. For CC1 we use the circuit in Fig. 10.42(a) and note that rπ is the input resistance
at the base when CE is short-circuited. Capacitor CC1 sees a resistance RC1, which can be found by
inspection as
Figure 10.42 Circuits for determining the short-circuit time constants for the amplifier in Fig. 10.41.
and the time constant associated with CC1 becomes

(10.171)
(10.172)
(10.173)
(10.174)
(10.175)
For CE, we use the circuit in Fig. 10.42(b). Here, we see that with CC1 shorted [refer to Fig. 10.41(b)], the
resistance in the base becomes (RB || Rsig), which can be reflected to the emitter side as (RB || Rsig)/(β + 1).
The total resistance RCE seen by CE can be found by inspection from the circuit in Fig. 10.42(b) as
and the time constant becomes
Finally, the resistance seen by CC2 can be determined by inspection of the circuit in Fig. 10.42(c) as
and the corresponding time constant τC2 as
With the three time constants in hand, the 3-dB frequency fL can be found from
When numerical values are substituted in this expression, it quickly becomes obvious which of the three
capacitors is contributing the most to fL. Obviously, it is the capacitor that has the smallest time constant. In
the CE amplifier, this is usually CE because the associated resistance RCE is typically small. Knowing which
of the capacitors has the potential of dominating the determination of fL has significant design implications,
as shown next.
Selecting Values for CC1, CE, and CC2 We now address the design issue of selecting appropriate values for
CC1, CE, and CC2. The design objective is to place the lower 3-dB frequency fL at a specified location while
minimizing the total capacitance. Since, as mentioned above, CE usually sees the lowest of the three
resistances, the total capacitance is minimized by selecting CE so that its contribution to fL is dominant. That
is, by reference to Eq. (10.175) we may select CE so that 1/(CERCE) is, say, 80% of ωL = 2πfL, leaving each
of the other capacitors to contribute 10% to the value of ωL. Example 10.12 should help illustrate this
process.
Example 10.12
We wish to select appropriate values for CC1, CC2, and CE for the common-emitter amplifier, which has RB =
100 kΩ, RC = 8 kΩ, RL = 5 kΩ, Rsig = 5 kΩ, RE = 5 kΩ, β = 100, gm = 40 mA/V, and rπ = 2.5 kΩ. It is required

10.27
to have fL = 100 Hz.
EXERCISE
A common-emitter amplifier has CC1 = CE = CC2 = 1µF, RB = 100 kΩ, Rsig = 5 kΩ, gm = 40 mA/V, rπ
= 2.5 kΩ, RE = 5 kΩ, RC = 8 kΩ, and RL = 5 kΩ. Find the value of the time constant associated with
each capacitor, and hence estimate the value of fL. Also compute the frequency of the transmission zero
introduced by CE and comment on its effect on fL.
∨Show Solution
∨Show Answer

■
■
■
■
■
■
■
■
■
Summary
Both the MOSFET and the BJT have internal capacitive effects that can be modeled by augmenting the
device hybrid-π model with capacitances. Usually at least two capacitances are needed: Cgs and Cgd (Cπ
and Cμ for the BJT). A figure of merit for the high-frequency operation of the transistor is the frequency
fT at which the short-circuit current gain of the CS (CE) transistor reduces to unity. For the MOSFET, fT
= gm/2π(Cgs + Cgd), and for the BJT, fT = gm/2π(Cπ + Cμ). A summary of the high-frequency model
parameters for the MOSFET is presented in Table 10.1 and the corresponding information for the BJT in
Table 10.2.
The internal capacitances of the MOSFET and the BJT cause the amplifier gain to fall off at high
frequencies. An estimate of the amplifier bandwidth is provided by the frequency fH at which the gain
drops 3 dB below its value at midband, AM. A figure of merit for the amplifier is the gain–bandwidth
product GB = AMfH. Usually, it is possible to trade off gain for increased bandwidth, with GB remaining
nearly constant. For amplifiers with a dominant pole with frequency fH, the gain falls off at a uniform 20-
dB/decade rate, reaching 0 dB at ft = GB.
The high-frequency response of the CS and CE amplifiers is severely limited by the Miller effect: The
small capacitance Cgd (Cμ) is multiplied by a factor approximately equal to the gain from gate to drain
(base to collector) 
 and thus gives rise to a large capacitance at the amplifier input. The increased
Cin interacts with the signal-source resistance Rsig and causes the amplifier gain to have a 3-dB
frequency fH = 1/(2πRsigCin).
The method of open-circuit time constants provides a simple and powerful way to obtain a reasonably
good estimate of the upper 3-dB frequency fH. The capacitors that limit the high-frequency response are
considered one at time with Vsig = 0 and all the other capacitances set to zero (open circuited). The
resistance seen by each capacitance is determined, and the overall time constant τH is obtained by
summing the individual time constants. Then fH is found as 1/2πτH.
The CG and CB amplifiers do not suffer from the Miller effect. Thus the cascode amplifier, which
consists of a cascade of CS and CG stages (CE and CB stages), can be designed to obtain wider
bandwidth than that achieved in the CS (CE) amplifier alone. The key, however, is to design the cascode
so that the gain obtained in the CS (CE) stage is low.
The source and emitter followers can have complex-conjugate poles. Thus, their frequency response is
evaluated using the complete transfer function. Followers of both types exhibit wide bandwidths.
The high-frequency response of the differential amplifier can be obtained by considering the differential
and common-mode half-circuits. The CMRR falls off at a relatively low frequency determined by the
output impedance of the bias current source.
The high-frequency response of the current-mirror-loaded differential amplifier is complicated by the
fact that there are two signal paths between input and output: a direct path and one through the current
mirror. Nevertheless, the dominant pole is determined by the total capacitance at the output node, CL.
Combining two transistors in a way that eliminates or minimizes the Miller effect can result in a much
wider bandwidth. Some such configurations are presented in Section 10.7.

■
The coupling and bypass capacitors utilized in discrete-circuit amplifiers cause the amplifier gain to fall
off at low frequencies. In the CS amplifier, the capacitors do not interact, and the frequencies of the low-
frequency poles can be estimated by considering each of these capacitors separately and determining the
resistance seen by the capacitor. The highest-frequency pole is the one that determines the lower 3-dB
frequency fL. In the CE amplifier, the capacitors interact, and thus the poles cannot be easily determined.
Rather, the method of short-circuit time constants can be used to obtain an estimate of the 3-dB
frequency, fL.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulations Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as gain–bandwidth trade-off. Instructions to
assist in setting up simulations for all the indicated problems can be found in the corresponding files on the website.
Note that if a particular parameter value is not specified in the problem statement, you are to make a reasonable
assumption.
View additional practice problems for this chapter with complete solutions
Section 10.1: High-Frequency Transistor Models
10.1 Refer to the MOSFET high-frequency model in Fig. 10.4(a). Evaluate the model parameters for an NMOS
transistor operating at ID = 200 µA, VSB = 0.35 V, and VDS = 0.7 V. The MOSFET has W = 12 µm, L = 0.3 µm, tox
= 4 nm, μn = 450 cm2/V·s, γ = 0.5 V1/2, 2ϕf = 0.85 V, λ = 0.1 V−1, V0 = 0.9 V, Csb0 = Cdb0 = 5 fF, and Lov = 0.03
µm. [Recall that gmb = χgm, where χ = 
, and that ϵox = 3.45 × 10−11 F/m.]
10.2 Find fT for a MOSFET operating at ID = 200 µA and VOV = 0.2 V. The MOSFET has Cgs = 20 fF and Cgd = 5
fF.
10.3 Starting from the expression of fT for a MOSFET,
and making the approximation that Cgs ≫ Cgd and that the overlap component of Cgs is negligibly small, show that
Thus note that to obtain a high fT from a given device, it must be operated at a high current. Also note that faster
operation is obtained from smaller devices.
10.4 Starting from the expression for the MOSFET unity-gain frequency,
∨Show Answer
∨Show Answer

and making the approximation that Cgs ≫ Cgd and that the overlap component of Cgs is negligibly small, show that
for an n-channel device
Observe that for a given channel length, fT can be increased by operating the MOSFET at a higher overdrive
voltage. Evaluate fT for devices with L = 0.2 µm operated at overdrive voltages of 0.1 V and 0.2 V. Use μn = 450
cm2/V·s.
10.5 Find the intrinsic gain A0 and the unity-gain frequency fT of an n-channel transistor fabricated in a 0.13-µm
CMOS process for which Lov = 0.1 L, μn = 400 cm2/V·s, and 
 V/µm. The device is operated at VOV = 0.2
V. Find A0 and fT for devices with L = Lmin, 2Lmin, 3Lmin, 4Lmin, and 5Lmin. Present your results in a table. (Hint)
10.6 A particular BJT operating at IC = 0.5 mA has Cμ = 0.5 pF, Cπ = 5 pF, and β0 = 100. What are fT and fβ for this
situation?
10.7 For the transistor described in Problem 10.6, Cπ includes a relatively constant depletion-layer capacitance of 1
pF. If the device is operated at IC = 0.25 mA, what does its fT become?
10.8 An npn transistor is operated at IC = 1 mA and VCB = 2 V. It has β0 = 100, VA = 50 V, τF = 30 ps, Cje0 = 20 fF,
Cμ0 = 30 f F, V0c = 0.75 V, and mCBJ = 0.5. Sketch the complete hybrid-π model, and specify the values of all its
components. Also, find fT.
10.9 Measurement of β of an npn transistor at 50 MHz shows that |β| = 10 at IC = 0.2 mA and 12 at IC = 1.0 mA.
Furthermore, Cμ was measured and found to be 0.1 pF. Find fT at each of the two collector currents used. What
must τF and Cje be?
10.10 A particular small-geometry BJT has fT of 12 GHz and Cμ = 0.05 pF when operated at IC = 0.5 mA. What is
Cπ in this situation? Also, find gm. For β0 = 120, find rπ and fβ.
10.11 For a BJT whose unity-gain bandwidth is 5 GHz and β0 = 200, at what frequency does the magnitude of β
become 50? What is fβ?
*10.12 Complete the table entries at the top of this page for transistors (a) through (g), under the conditions
indicated.
Transistor
IE(mA)
re(Ω)
gm(mA/V)
rπ (kΩ)
β0
fT (MHz)
Cμ(pF)
Cπ(pF)
fβ(MHz)
(a)
2
100
500
2
(b)
25
2
10.7
4
(c)
2.5
100
500
10.7
(d)
10
100
500
2
(e)
0.1
100
150
2
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(f)
1
10
500
2
(g)
800
1
9
80
Section 10.2: High-Frequency Response of CS and CE Amplifiers
10.13 In a multistage amplifier, the output resistance of stage 1 is found to be 10 kΩ. The succeeding stage, stage 2,
has an input impedance that is mostly capacitive with a value of 10 pF. Find the frequency of the pole that arises as
a result of the interconnection between these two amplifier stages.
10.14 A signal source modeled by its Norton’s equivalent circuit has Rsig = 1 MΩ. It feeds an amplifier whose input
impedance consists of a 1- MΩ resistance in parallel with a 0.1-pF capacitance. Find the frequency of the pole that
arises as a result of this connection.
10.15 A common-source amplifier is fed with a signal source having a resistance Rsig = 200 kΩ and
feeds a load resistance RL = 20 kΩ. The MOSFET is operating at gm = 4 mA/V and has ro = 20 kΩ. The
device capacitances are Cgs = 25 fF and Cgd = 5 fF. Find the midband gain AM, the 3-dB frequency fH,
and the frequency of the transmission zero.
10.16 In a particular common-source amplifier for which the midband voltage gain between gate and drain (i.e.,
−gmR'L) is −29 V/V, the NMOS transistor has Cgs = 1.0 pF and Cgd = 0.1 pF. What input capacitance would you
expect? For what range of signal-source resistances can you expect the 3-dB frequency to exceed 2 MHz?
D 10.17 In the circuit of Fig. P10.17, the voltage amplifier is ideal (i.e., it has an infinite input resistance and a zero
output resistance).
Figure P10.17
Use the Miller approach to find an expression for the input capacitance Cin in terms of A and C.
Use the expression for Cin to obtain the transfer function Vo(s)/Vsig(s).
If Rsig = 1 kΩ, and the gain Vo/Vsig is to have a dc value of 40 dB and a 3-dB frequency of 100
kHz, find the values required for A and C.
Sketch a Bode plot for the gain and use it to determine the frequency at which its magnitude
reduces to unity.
∨Show Answer
∨Show Answer

10.18 An ideal voltage amplifier having a voltage gain of –1000 V/V has a 0.1-pF capacitance connected between
its output and input terminals. What is the input capacitance of the amplifier? If the amplifier is fed from a voltage
source Vsig having a resistance Rsig = 10 kΩ, find the transfer function Vo/Vsig as a function of the complex-
frequency variable s and hence the 3-dB frequency fH and the unity-gain frequency ft.
D 10.19 Design a CS amplifier for which the MOSFET is operated at gm = 5 mA/V and has Cgs = 5 pF and Cgd = 1
pF. The amplifier is fed with a signal source having Rsig = 1 kΩ. What is the largest value of 
 for which the
upper 3-dB frequency is at least 6 MHz? What is the corresponding value of midband gain and gain–bandwidth
product? If the specification on the upper 3-dB frequency can be relaxed by a factor of 3, that is, to 2 MHz, what
can AM and GB become?
10.20 Reconsider Example 10.1 for the situation in which the transistor is replaced by one whose width W is half
that of the original transistor while the bias current remains unchanged. Find modified values for all the device
parameters along with AM, fH, and the gain–bandwidth product, GB. Contrast this with the original design by
calculating the ratios of new value to old for W, VOV, gm, Cgs, Cgd, Cin, AM, fH, and GB.
D *10.21 In a CS amplifier, the resistance of the signal source Rsig = 100 kΩ, amplifier input resistance (which is
due to the biasing network) Rin = 100 kΩ, Cgs = 1 pF, Cgd = 0.2 pF, gm = 5 mA/V, ro = 25 kΩ, and RL = 20 kΩ.
Determine the expected 3-dB cutoff frequency fH and the midband gain. In evaluating ways to double fH, a
designer considers the alternatives of changing either RL or Rin. To raise fH as described, what separate change in
each would be required? What midband voltage gain results in each case?
10.22 Consider the integrated-circuit CS amplifier in Fig. P10.22 for the case IBIAS = 100 µA, Q2 and Q3 are
matched, and Rsig = 20 kΩ. For Q1: μnCox = 400 µA/V2, VA = 5V, W/L = 5 µm/0.4 µm, Cgs = 30 fF, and Cgd = 5 fF.
For Q2: |VA| = 5 V. Neglecting the effect of the capacitance inevitably present at the output node, find the low-
frequency gain, the 3-dB frequency fH, and the frequency of the zero fZ.
∨Show Answer
∨Show Answer

Figure P10.22
10.23 An IC CS amplifier is fed from a signal source with a negligibly small resistance and has a total effective
load resistance 
 = 20 kΩ. The MOSFET is operating at gm = 2 mA/V and has a Cgd = 10 fF. The total
capacitance CL at the output node is 100 fF. Find the midband gain AM, the 3-dB frequency fH, the unity-gain
frequency ft, the frequency of the transmission zero fz, and the gain at very-high frequencies. Sketch and clearly
label the Bode plot for the gain magnitude.
10.24 An IC CS amplifier fed with a signal source of a negligibly small resistance Rsig is found to have a low-
frequency gain of −50 V/V. The gain falls off with frequency at −20 dB/decade and reaches zero dB at 1 GHz. The
gain levels off at higher frequencies at −20 dB. If the MOSFET is operating with gm = 2 mA/V, estimate the values
of Cgd and CL. Also give the value of the 3-dB frequency fH.
D 10.25 A common-source amplifier fed with a low-resistance signal source and operating with gm = 2 mA/V has a
unity-gain frequency of 2 GHz. What additional capacitance must be connected to the drain node to reduce ft to 1
GHz?
10.26 Analyze the high-frequency response of the CMOS amplifier shown in Fig. P10.22 for the case Rsig = 0. The
dc bias current is 100 µA. For Q1, μnCox = 400 µA/V2, VA = 5V, W/L = 5 µm/0.4 µm, Cgs = 30 fF, Cgd = 5 fF, and
Cdb = 5 fF. For Q2, Cgd = 5 fF, Cdb = 10 fF, and |VA| = 5V. For simplicity, assume that the signal voltage at the gate
of Q2 is zero. Find the low-frequency gain, the frequency of the pole, and the frequency of the zero. (Hint)
10.27 A common-emitter amplifier is measured at midband and found to have a gain of −50 V/V between base and
collector. If Cπ = 10 pF, Cμ = 1 pF, and the effective source resistance 
 = 5 kΩ [refer to Fig. 10.13(c)], find Cin
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
and the 3-dB frequency fH.
10.28 For a CE amplifier represented by the equivalent circuit in Fig. 10.13(b), let Rsig = 10 kΩ, Cπ = 10 pF, Cμ =
0.5 pF, gm = 40 mA/V, ro = 100 kΩ, RL = 10 kΩ, and β = 100. Find the midband gain and the 3-dB frequency fH.
*10.29 We want to investigate the high-frequency response of the CE amplifier when it is fed with a relatively large
source resistance Rsig. Refer to the amplifier in Fig. 10.13(a) and to its high-frequency, equivalent-circuit model
and the analysis shown. Let 
. Under these conditions, show
that:
the midband gain AM 
 − βRL/Rsig
the upper 3-dB frequency fH 
 1/2πCμβRL
the gain–bandwidth product |AM| fH 
 1/2πCμRsig
Evaluate this approximate value of the gain–bandwidth product if Rsig = 25 kΩ and Cμ = 1 pF. Now, if the
transistor has β = 100, find the midband gain and fH for the two cases 
 = 25 kΩ and 
 = 2.5 kΩ. On the
same coordinates, sketch Bode plots for the gain magnitude versus frequency for the two cases. What fH is obtained
when the gain is unity? What value of 
 corresponds?
10.30 The discrete-circuit common-emitter amplifier in Fig. P10.30 has Rsig = 10 kΩ, RB1 = 68 kΩ, RB2 = 27 kΩ,
RE = 2.2 kΩ, RC = 4.7 kΩ, and RL = 10 kΩ. The transistor is operating at a dc collector current of 0.8 mA and has β
= 160, fT = 1 GHz, and Cμ = 0.5 pF. Give the high-frequency small-signal equivalent-circuit model of the amplifier
assuming the coupling and bypass capacitors behave as short circuits, and neglecting ro. Find AM and fH.
Figure P10.30
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
*10.31 Figure P10.31 shows a diode-connected transistor with the bias circuit omitted. Utilizing the BJT high-
frequency, hybrid-π model with ro = ∞, derive an expression for Zi(s) as a function of re and Cπ. Find the frequency
at which the impedance has a phase angle of 45° for the case in which the BJT has fT = 400 MHz and the bias
current is relatively high, so that Cπ ≫ Cμ. What is the frequency when the bias current is reduced so that Cπ 
 Cμ?
Assume α = 1.
Figure P10.31
10.32 Consider a current-source-loaded common-emitter amplifier. Let the amplifier be fed with an ideal voltage
source Vi. Assume that the load current source has a very high resistance and that there is a capacitance CL present
between the output node and ground. This capacitance represents the sum of the input capacitance of the
subsequent stage and the inevitable parasitic capacitance between collector and ground. Show that the voltage gain
is given by
If the transistor is biased at IC = 200 µA and VA = 50 V, Cμ = 0.2 pF, and CL = 1 pF, find the dc gain, the 3-dB
frequency, the frequency of the zero, and the frequency at which the gain reduces to unity. Sketch a Bode plot for
the gain magnitude.
10.33 Consider an ideal voltage amplifier with a gain of 0.9 V/V, and a resistance R = 100 kΩ connected in the
feedback path—that is, between the output and input terminals. Use Miller’s theorem to find the input resistance of
this circuit.
10.34 The amplifiers listed below are characterized by the descriptor (A, C), where A is the voltage gain from input
to output and C is a capacitor connected between input and output. For each, find the equivalent capacitances at the
input and at the output as provided by the use of Miller’s theorem:
–1000 V/V, 1 pF
–10 V/V, 10 pF
–1 V/V, 10 pF
+1 V/V, 10 pF
+10 V/V, 10 pF
Note that the input capacitance found in case (e) can be used to cancel the effect of other capacitance connected
from input to ground. In (e), what capacitance can be canceled?
∨Show Answer

(a)
(b)
(c)
*10.35 Figure P10.35 shows an ideal voltage amplifier with a gain of +2 V/V (usually implemented with an op amp
connected in the noninverting configuration) and a resistance R connected between output and input.
Figure P10.35
Using Miller’s theorem, show that the input resistance Rin = −R.
Use Norton’s theorem to replace Vsig, Rsig, and Rin with a signal current source and an equivalent
parallel resistance. Show that by selecting Rsig = R, the equivalent parallel resistance becomes
infinite and the current IL into the load impedance ZL becomes Vsig/R. The circuit then functions as
an ideal voltage-controlled current source with an output current IL.
If ZL is a capacitor C, find the transfer function Vo/Vsig and show it is that of an ideal noninverting
integrator.
10.36 Use Miller’s theorem to investigate the performance of the inverting op-amp circuit shown in Fig. P10.36.
Assume the op amp to be ideal except for having a finite differential gain, A. Without using any knowledge of op-
amp circuit analysis, find Rin, Vi, Vo, and Vo/Vsig, for each of the following values of A: 10 V/V, 100 V/V, 1000
V/V, and 10,000 V/V. Assume Vsig = 1 V. Present your results in the table below.
Figure P10.36
A
Rin
Vi
Vo
Vo/Vsig
10 V/V
100 V/V
1000 V/V
10,000 V/V

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
(d)
*10.37 The amplifier shown in Fig. P10.37 has Rsig = RL = 1 kΩ, RC = 1 kΩ, RB = 47 kΩ, β = 100, Cμ = 0.8 pF,
and fT = 600 MHz. Assume the coupling capacitors to be very large.
Figure P10.37
Find the dc collector current of the transistor.
Find gm and rπ.
Neglecting ro, find the midband voltage gain from base to collector (neglect the effect of RB).
Use the gain obtained in (c) to find the component of Rin that arises as a result of RB. Hence find
Rin.
Find the overall gain at midband.
(f) Find Cin.
(g) Find fH.
Section 10.3: The Method of Open-Circuit Time Constants
10.38 A direct-coupled amplifier has a low-frequency gain of 40 dB, poles at 1 MHz and 10 MHz, a zero on the
negative real axis at 100 MHz, and another zero at infinite frequency. Express the amplifier gain function in the
form of Eqs. (10.56) and (10.57), and sketch a Bode plot for the gain magnitude. Does this amplifier have a
dominant pole? If so, at what frequency? What do you estimate the 3-dB frequency fH to be?
10.39 An amplifier with a dc gain of 60 dB has a single-pole, high-frequency response with a 3-dB frequency of
100 kHz.
Give an expression for the gain function A(s).
Sketch a Bode diagram for the gain magnitude.
What is the gain–bandwidth product?
What is the unity-gain frequency?
∨Show Answer

(e)
If a change in the amplifier circuit causes its transfer function to acquire another pole at 1 MHz,
sketch the resulting gain magnitude and specify the unity-gain frequency. Note that this is an
example of an amplifier with a unity-gain bandwidth that is different from its gain–bandwidth
product.
10.40 An IC CS amplifier has gm = 3 mA/V, Cgs = 25 fF, Cgd = 5 fF, CL = 30 fF, Rsig = 10 kΩ, and 
 = 20 kΩ.
Use the method of open-circuit time constants to obtain an estimate for fH. Also, find the frequency of the
transmission zero, fZ.
10.41 A discrete-circuit CS amplifier is modeled by the circuit of Fig. 10.16 augmented with a bias-resistance RG
between gate and ground. If gm = 5 mA/V, Rsig = 100 kΩ, RG = 500 kΩ, 
 = 10 kΩ, Cgs = 1 pF, Cgd = 0.2 pF, and
CL = 20 pF, find the midband gain and estimate fH using the method of open-circuit time constants.
10.42 Consider the high-frequency response of an amplifier consisting of two identical transconductance amplifier
stages in cascade, each with an input resistance of 10 kΩ and an output resistance of 2 kΩ. The two-stage amplifier
is driven from a 10- kΩ source and drives a 1- kΩ load. Associated with each stage is a parasitic input capacitance
(to ground) of 10 pF and a parasitic output capacitance (to ground) of 2 pF. Parasitic capacitances of 10 pF and 7 pF
also are associated with the signal-source and load connections, respectively. For this circuit, find the three poles
and estimate the 3-dB frequency fH.
10.43 A CS amplifier that can be represented by the equivalent circuit of Fig. 10.16 has Cgs = 2 pF, Cgd = 0.1 pF,
CL = 2 pF, gm = 4 mA/V, and Rsig = 
 = 20 kΩ. Find the midband gain AM, the input capacitance Cin using the
Miller effect, and hence an estimate of the 3-dB frequency fH. Also, obtain another estimate of fH using open-
circuit time constants. Which of the two estimates is more appropriate and why?
D 10.44 For a CS amplifier with gm = 5 mA/V, Cgs = 5 pF, Cgd = 1 pF, CL = 5 pF, Rsig = 10 kΩ, and 
 = 10 kΩ,
find τH and fH. What is the percentage of τH that is caused by the interaction of Rsig with the input capacitance? To
what value must Rsig be lowered in order to double fH?
D 10.45 For the CS amplifier in Example 10.5, find the value of the additional capacitance to be connected at the
output node in order to lower fH to 40 MHz.
10.46 Use the method of open-circuit time constants to find fH for a CS amplifier for which gm = 1.5 mA/V, Cgs =
Cgd = 0.2 pF, ro = 20 kΩ, RL = 12 kΩ, and Rsig = 100 kΩ for the following cases: (a) CL = 0, (b) CL = 10 pF, and
(c) CL = 50 pF. Compare with the value of fH obtained using the Miller effect.
10.47 Consider a CS amplifier loaded in a current source with an output resistance equal to ro of the amplifying
transistor. The amplifier is fed from a signal source with Rsig = ro/2. The transistor is biased to operate at gm = 2
mA/V and ro = 20 kΩ; Cgs = Cgd = 0.1 pF. Use the Miller effect to determine an estimate of fH. Repeat for the
following two cases: (i) the bias current I in the entire system is reduced by a factor of 4, and (ii) the bias current I
in the entire system is increased by a factor of 4. Remember that both Rsig and RL will change as ro changes.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
10.48 A common-emitter amplifier has Cπ = 10 pF, Cμ = 0.3 pF, CL = 3 pF, gm = 40 mA/V, β = 100, 
 = 5 kΩ,
and Rsig = 1 kΩ. Find the midband gain AM and an estimate of the 3-dB frequency fH using the Miller effect. Also,
obtain another estimate of fH using the method of open-circuit time constants. Which of the two
estimates would you consider to be more realistic, and why?
10.49 Consider the CE amplifier whose equivalent circuit is shown in Fig. 10.13(b) but with a capacitance CL
connected across the output terminals. Let Rsig = 5 kΩ, gm = 20 mA/V, β = 100, Cπ = 10 pF, Cμ = 1 pF, 
 = 5 kΩ,
and CL = 10 pF. Find AM and fH.
Section 10.4: High-Frequency Response of Common-Gate and Cascode Amplifiers
10.50 A discrete-circuit CG amplifier is specified to have Cgs = 5 pF, Cgd = 0.2 pF, CL = 3 pF, gm = 4 mA/V, Rsig =
1 kΩ, and RL = 10 kΩ. Neglecting the effects of ro, find the low-frequency gain Vo/Vsig, the frequencies of the
poles fP1 and fP2, and hence an estimate of the 3-dB frequency fH.
10.51 Sketch the high-frequency equivalent circuit of a CB amplifier fed from a signal generator characterized by
Vsig and Rsig and feeding a load resistance RL in parallel with a capacitance CL. Neglect ro.
Show that the circuit can be separated into two parts: an input part that produces a pole at
and an output part that forms a pole at
Note that these are the bipolar counterparts of the MOS expressions in Eqs. (10.76) and (10.77).
Evaluate fP1 and fP2 and hence obtain an estimate for fH for the case Cπ = 10 pF, Cμ = 1 pF, CL = 1
pF, IC = 1 mA, Rsig = 1 kΩ, and RL = 10 kΩ. Also, find fT of the transistor.
10.52 Consider a CG amplifier loaded in a resistance RL = ro and fed with a signal source having a resistance Rsig =
ro/2. Also let CL = Cgs. Use the method of open-circuit time constants to show that for gmro ≫ 1, the upper 3-dB
frequency is related to the MOSFET fT by the approximate expression
10.53 For the CG amplifier in Example 10.6, how much additional capacitance should be connected between the
output node and ground to reduce fH to 180 MHz?
∨
Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

10.54 An IC CG amplifier is fed from a signal source with Rsig = ro/2, where ro is the MOSFET output resistance.
It has a current-source load with an output resistance equal to ro. The MOSFET is operated at ID = 100 µA and has
gm = 2 mA/V, VA = 5 V, Cgs = 0.1 pF, Cgd = 10 fF, and Cdb = 10 fF. As well, the current-source load provides an
additional 30 fF capacitance at the output node. Find fH.
10.55 Consider a CG amplifier driven by a current-source signal Isig having a predominantly capacitive source
impedance; that is, the signal source can be represented by a current source Isig in parallel with a capacitance Csig.
Neglecting ro of the MOSFET, find an expression for the transfer function Vo/Isig obtained when the load consists
of a resistance RL in parallel with a capacitance CL. Hence find expressions for the frequencies of the two poles.
10.56 Find the dc gain and the 3-dB frequency of a MOS cascode amplifier operated at gm = 2 mA/V
and ro = 20 kΩ. The MOSFETs have Cgs = 20 fF, Cgd = 5 fF, and Cdb = 5 fF. The amplifier is fed from a
signal source with Rsig = 100 kΩ and is connected to a load resistance of 1 MΩ. There is also a load
capacitance CL of 20 fF.
SIM 10.57 (a) Consider a CS amplifier having Cgd = 0.3 pF, Rsig = RL = 20 kΩ, gm = 4 mA/V, Cgs = 2 pF, CL
(including Cdb) = 1 pF, Cdb = 0.2 pF, and ro = 20 kΩ. Find the low-frequency gain AM, and estimate fH using open-
circuit time constants. Hence determine the gain–bandwidth product.
(b) If a CG stage utilizing an identical MOSFET is cascaded with the CS transistor in (a) to create a cascode
amplifier, determine the new values of AM, fH, and gain–bandwidth product. Assume RL remains unchanged.
D 10.58 Design a cascode amplifier to provide a dc gain of 74 dB when driven with a low-resistance
generator and utilizing NMOS transistors for which VA = 10 V, μnCox = 200 µA/V2, W/L = 50, Cgd = 0.1
pF, and CL = 1 pF. Assuming that RL = Ro, determine the overdrive voltage and the drain current at
which the MOSFETs should be operated. Find the unity-gain frequency and the 3-dB frequency. If the
cascode transistor is removed and RL remains unchanged, what will the dc gain, the 3-dB frequency, and the unity-
gain frequency become?
10.59 (a) Show that introducing a cascode transistor to an IC CS amplifier whose bandwidth is limited by the
interaction of Rsig and the input capacitance, and whose load resistance is equal to ro, increases the dc gain by
approximately a factor of 2 and fH by the factor N,
Assume that the bandwidth of the cascode amplifier is primarily determined by the input circuit.
(b) If Cgd = 0.1Cgs and the dc gain of the CS amplifier is 50, what is the value of N?
(c) If VA = 10 V, μnCox = 400 µA/V2, and W/L = 10, find VOV and ID at which the transistors must be operating.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
10.60 (a) For an integrated-circuit MOS cascode amplifier fed with a source having a very small resistance and
loaded in a resistance equal to its Ro, use the expression for the unity-gain bandwidth in Fig. 10.21 to show that
(b) For μnCox = 400 µA/V2, W/L = 20, CL = 20 fF, Cgd = 5 fF, and VA = 10 V, provide in table form ft (GHz), VOV
(V), gm (mA/V), ro (k), Ro (M), AM (V/V), and fH (MHz) for ID = 100 µA, 200 µA, and 500 µA.
10.61 Consider a bipolar cascode amplifier biased at a current of 0.5 mA. The transistors used have β = 100, ro =
100 kΩ, Cπ = 10 pF, Cμ = 2 pF, and Ccs = 0. The amplifier is fed with a signal source having Rsig = 5 kΩ. The load
resistance RL = 5 kΩ. Find the low-frequency gain AM, and estimate the value of the 3-dB frequency fH.
*10.62 Consider the frequency response of the bipolar cascode amplifier in a situation where ro can be neglected.
Refer to the circuit in Fig. 10.22, and note that the total resistance between the collector of Q1 and
ground will be equal to re2, which is usually very small. It follows that the pole introduced at this
node will typically be at a very high frequency and thus will have negligible effect on fH. It also
follows that at the frequencies of interest, the gain from the base to the collector of Q1 will be
−gm1re2 
 − 1. Use this to find the capacitance at the input of Q1 and hence show that the pole
introduced at the input node will have a frequency
Then show that the pole introduced at the output node will have a frequency
Evaluate fP1 and fP2, and estimate fH for the amplifier with I = 1 mA, Cπ = 10 pF, Cμ = 2 pF, Ccs =
CL = 0, β = 100, and RL = Rsig = 2 kΩ.
If Rsig is reduced, at what value will the two poles become coincident?
10.63 A BJT cascode amplifier uses transistors for which β = 100, VA = 100 V, fT = 1 GHz, and Cμ = 0.1 pF. It
operates at a bias current of 0.1 mA between a source with Rsig = rπ and a load RL = βro. Let CL = Ccs = 0. Find the
overall voltage gain at dc. By evaluating the various components of τH show that the pole introduced at the output
node is dominant. Find its frequency and hence an estimate of fH and the gain–bandwidth product.
Section 10.5: High-Frequency Response of Source and Emitter Followers
10.64 A source follower has gm = 5 mA/V, gmb = 0, ro = 20 kΩ, Rsig = 20 kΩ, RL = 2 kΩ, Cgs = 2 pF, Cgd = 0.1 pF,
and CL = 1 pF. Find AM, Ro, fZ, the frequencies of the two poles, and an estimate of fH.
∨Show Answer

(a)
(b)
(c)
(d)
10.65 Using the expression for the source follower fH in Eq. (10.107) show that for situations in which CL = 0, Rsig
is large, and RL is small,
Find fH for the case Rsig = 100 kΩ, RL = 2 kΩ, ro = 20 kΩ, gm = 5 mA/V, Cgs = 12 pF, and Cgd = 0.1 pF.
10.66 Refer to Fig. 10.23(c). In situations in which Rsig is large, the high-frequency response of the source follower
is determined by the low-pass circuit formed by Rsig and the input capacitance. An estimate of Cin can be obtained
by using the Miller approximation to replace Cgs with an input capacitance Ceq = Cgs(1 − K) where K is the gain
from gate to source. Using the low-frequency value of K = gm
/(1 + gm
) find Ceq and hence Cin and an
estimate of fH.
10.67 A source follower has a maximally flat gain response with a dc gain of 0.8 and a 3-dB frequency of 1 MHz.
Give its transfer function.
10.68 A discrete-circuit source follower driven with Rsig = 100 kΩ has Cgs = 10 pF, Cgd = 1 pF, CL = 10 pF, gmb =
0, and ro very large. The transfer function of the source follower is measured as RL is varied. At what value of RL
will the transfer function be maximally flat? At this value of RL the dc gain is found to be 0.9 V/V. What is the 3-
dB frequency? What is the value of gm at which the source follower is operating?
10.69 For an emitter follower biased at IC = 1 mA, having Rsig = RL = 1 kΩ, and using a transistor specified to have
fT = 2 GHz, Cμ = 0.1 pF, CL = 0, β = 100, and VA = 20 V, evaluate the low-frequency gain AM, the frequency of the
transmission zero, the pole frequencies, and an estimate of the 3-dB frequency fH.
Section 10.6: High-Frequency Response of Differential Amplifiers
10.70 A MOSFET differential amplifier such as that shown in Fig. 10.26(a) is biased with a current source I = 200
µA. The transistors have W/L = 12.5, 
 = 400 µA/V2, VA = 5V, Cgs = 20 fF, Cgd = 5 fF, and Cdb = 5 fF. The drain
resistors are 50 kΩ each. Also, there is a 20-fF capacitive load between each drain and ground.
Find VOV and gm for each transistor.
Find the differential gain Ad.
If the input signal source has a small resistance Rsig and thus the frequency response is determined
primarily by the output pole, estimate the 3-dB frequency fH.
If, in a different situation, the amplifier is fed symmetrically with a signal source of 40 kΩ
resistance (i.e., 20 kΩ in series with each gate terminal), use the open-circuit time-constants
method to estimate fH.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
10.71 A MOS differential amplifier is biased with a current source having an output resistance RSS = 200 kΩ and
an output capacitance CSS = 0.25 pF. If the differential gain is found to have a dominant pole at 20 MHz, what is
the 3-dB frequency of the CMRR?
10.72 The differential gain of a MOS amplifier is 1000 V/V with a dominant pole at 20 MHz. The common-mode
gain is 0.1 V/V at low frequencies and has a transmission zero at 200 kHz. Sketch a Bode plot for the CMRR.
10.73 A differential amplifier is biased by a current source having an output resistance of 100 kΩ and an output
capacitance of 100 fF. The differential gain exhibits a dominant pole at 40 MHz. What are the poles of the CMRR?
10.74 In a particular MOS differential amplifier design, the bias current I = 100 µA is provided by a single
transistor operating at VOV = 0.4 V with VA = 40 V and output capacitance CSS of 100 fF. What is the frequency of
the common-mode gain zero (fZ) at which Acm begins to rise above its low-frequency value? To meet a requirement
for reduced power supply, you consider reducing VOV to 0.2 V while keeping I unchanged. Assuming the current-
source capacitance to be directly proportional to the device width, what is the impact on fZ of this proposed
change?
10.75 A BJT differential amplifier operating with a 0.5-mA current source uses transistors for which β = 100, fT =
600 MHz, and Cμ = 0.4 pF. Each of the collector resistances is 10 kΩ, and ro is very large. The amplifier is fed in a
symmetrical fashion with a source resistance of 10 kΩ in series with each of the two input terminals.
Sketch the differential half-circuit and its high-frequency equivalent circuit.
Determine the low-frequency value of the overall differential gain.
Use the Miller effect to determine the input capacitance and hence estimate the 3-dB frequency fH
and the gain–bandwidth product.
10.76 A current-mirror-loaded MOS differential amplifier is biased with a current source I = 0.2 mA. The two
NMOS transistors of the differential pair are operating at VOV = 0.2 V, and the PMOS devices of the mirror are
operating at |VOV| = 0.2 V. The Early voltage VAn = |VAp| = 5 V. The total capacitance at the input node of the
mirror is 0.05 pF and that at the output node of the amplifier is 0.1 pF. Find the dc value and the frequencies of the
poles and zero of the differential voltage gain.
*10.77 Consider the current-mirror-loaded CMOS differential amplifier of Fig. 10.29(a) for the case of all
transistors operated at the same |VOV| and having the same |VA|. Alsolet the total capacitance at the output node |CL|
be four times the total capacitance at the input node of the current mirror Cm. Give expressions for Ad, fP1, fP2, and
fZ. Hence show that fP2/fP1 = 4Ad and ft = gm/2πCL. For VA = 20 V, VOV = 0.2 V, I = 0.2 mA, CL = 100 fF, and Cm
= 25 fF, find the dc value of Ad, and the value of fP1, ft, fP2, and fZ and sketch a Bode plot for |Ad|.
*10.78 For the current mirror in Fig. P10.78, derive an expression for the current transfer function Io(s)/Ii(s) taking
into account the BJT internal capacitances and neglecting ro. Assume the BJTs to be identical. Observe that a signal
ground appears at the collector of Q2. If the mirror is biased at 1 mA and the BJTs at this operating point are
characterized by fT = 500 MHz, Cμ = 2 pF, and β0 = 100, find the frequencies of the pole and zero of the transfer
function.
∨Show Answer
∨Show Answer

(a)
(b)
Figure P10.78
Section 10.7: Other Wideband Amplifier Configurations
10.79 A CS amplifier is specified to have gm = 4 mA/V, ro = 40 kΩ, Cgs = 30 fF, Cgd = 5 fF, CL = 20 fF, Rsig = 40
kΩ, and RL = 40 kΩ.
Find the low-frequency gain AM, and use open-circuit time constants to estimate the 3-dB
frequency fH. Hence determine the gain–bandwidth product.
If a 500-Ω resistance is connected in the source lead, find the new values of |AM|, fH, and the gain–
bandwidth product.
10.80 In a discrete-circuit CS amplifier a source-degeneration resistance is being used to control the bandwidth.
Assume that ro is very large and CL is negligibly small. Adapt the formulas given in the text for this case and thus
give the expressions for AM and fH. Let Rsig = 100 kΩ, gm = 5 mA/V, RL = 5 kΩ, Cgs = 10 pF, and Cgd = 2 pF. Find
|AM|, fH, and the gain–bandwidth product for these three cases: Rs = 0, 100 Ω, and 200 Ω.
D 10.81 (a) Use the approximate expression in Eq. (10.139) to determine the gain–bandwidth product of a CS
amplifier with a source-degeneration resistance. Assume Cgd = 0.1 pF and Rsig = 500 kΩ.
(b) If a low-frequency gain of 20 V/V is required, what fH corresponds?
(c) For gm = 4 mA/V, A0 = 100 V/V, and RL = 40 kΩ, find the required value of Rs.
10.82 For the CS amplifier with a source-degeneration resistance Rs, show for Rsig ≫ Rs, ro ≫ Rs, and RL = ro that
and
∨Show Answer

(a)
where k ≡ gmRs
D *10.83 Generate a table of |AM|, fH, and GB versus k ≡ gmRs for a CS amplifier with a source-degeneration
resistance Rs. The table should have entries for k = 0,1,2,..., 15. The amplifier is specified to have gm = 5 mA/V, ro
= 40 kΩ, RL = 40 kΩ, Rsig = 20 kΩ, Cgs = 2 pF, Cgd = 0.1 pF, and CL = 1 pF. Use the formulas for AM and τH given
in the statement for Problem 10.82. If fH = 2 MHz is required, find the value needed for Rs and the corresponding
value of |AM|.
*10.84 In this problem we investigate the bandwidth extension obtained by placing a source follower between the
signal source and the input of the CS amplifier.
First consider the CS amplifier of Fig. P10.84(a). Show that
where CL is the total capacitance between the output node and ground. Calculate the value of AM,
fH, and the gain–bandwidth product for the case gm = 1 mA/V, ro = 20 kΩ, Rsig = 20 kΩ, Cgs = 20
fF, Cgd = 5 fF, and CL = 10 fF.
Figure P10.84 (a)

(b)
Figure P10.84 (b)
For the CD−CS amplifier in Fig. P10.84(b), show that
Calculate the values of AM, fH, and the gain–bandwidth product for the same parameter values used in (a). Compare
with the results of (a).
*10.85 The transistors in the circuit of Fig. P10.85 have β0 = 100, VA = 100 V, and Cμ = 0.2 pF. At a bias current of
100 µA, fT = 200 MHz. (Note that the bias details are not shown.)
Figure P10.85

(a)
(b)
(a)
(b)
Find Rin and the midband gain.
Find an estimate of the upper 3-dB frequency fH. Which capacitor dominates? Which one is the
second most significant?
(Hint: Use the formulas in Example 10.10.)
10.86 Consider the circuit of Fig. P10.86 for the case: I = 200 µA and VOV = 0.2 V, Rsig = 100 kΩ, RD = 40 kΩ, Cgs
= 2 pF, and Cgd = 0.2 pF. Find the dc gain, the high-frequency poles, and an estimate of fH. Neglect ro.
Figure P10.86
10.87 For the amplifier in Fig. 10.34(a), let I = 1mA, β = 120, fT = 500 MHz, and Cμ = 0.5 pF, and neglect ro.
Assume that a load resistance of 10 kΩ is connected to the output terminal. If the amplifier is fed with a signal Vsig
having a source resistance Rsig = 12 kΩ, find AM and fH.
10.88 Consider the CD–CG amplifier of Fig. 10.34(c) for the case gm = 5 mA/V, Cgs = 2 pF, Cgd = 0.1 pF, CL (at
the output node) = 1 pF, and Rsig = RL = 20 kΩ. Neglecting ro, find AM and fH. (Hint)
*10.89 Figure P10.89 shows an amplifier formed by cascading two CS stages. Note that the input bias voltage is
not shown. Each of Q1 and Q2 is operated at an overdrive voltage of 0.2 V, and |VA| = 10 V. The transistor
capacitances are as follows: Cgs = 20 fF, Cgd = 5 fF, and Cdb = 5 fF. The signal-source resistance Rsig = 10 kΩ.
Also, the output resistance of each of the current sources is equal to the MOSFET ro.
Find the dc voltage gain.
Use the method of open-circuit time constants to determine an estimate for the 3-dB frequency fH.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
Figure P10.89
**10.90 Consider the BiCMOS amplifier shown in Fig. P10.90. The BJT has |VBE| = 0.7 V, β = 200, Cμ = 0.8 pF,
and fT = 600 MHz. The NMOS transistor has Vt = 1V, knW/L = 2 mA/V2, and Cgs = Cgd = 1 pF.
Figure P10.90
Consider the dc bias circuit. Neglect the base current of Q2 in determining the current in Q1. Find
the dc bias currents in Q1 and Q2, and show that they are approximately 100 µA and 1 mA,
respectively.
Evaluate the small-signal parameters of Q1 and Q2 at their bias points.
∨Show Answer

(c)
(d)
Consider the circuit at midband frequencies. First, determine the small-signal voltage gain Vo /Vi.
(Note that RG can be neglected in this process.) Then use Miller’s theorem on RG to determine
the amplifier input resistance Rin. Finally, determine the overall voltage gain Vo /Vsig. Assume ro
of both transistors to be very large.
Consider the circuit at higher frequencies. Use Miller’s theorem to replace RG with a resistance at
the input. (The one at the output will be too large to matter.) Use open-circuit time constants to
estimate fH.
***10.91 In the six circuits in Fig. P10.91, let β = 100, Cμ = 2 pF, and fT = 400 MHz, and neglect ro. Calculate the
midband gain AM, the 3-dB frequency fH, and the gain–bandwidth product. Provide a summary of your results in a
table with the following columns: Case, Configuration Name, AM (V/V), fH (MHz), and GB (MHz).


(a)
(b)
(c)
(d)
Figure P10.91
Section 10.8: Low-Frequency Response of Discrete-Circuit CS and CE Amplifiers
10.92 A signal source Vsig with a resistance Rsig = 1 kΩ is connected to a load resistance RL = 4 kΩ via a capacitor
C = 1 µF. Find:
the transfer function Vo/Vsig;
the magnitude of transmission at high frequencies for which the coupling capacitor acts as a short
circuit;
the frequency at which | Vo/Vsig | is 3 dB below the high-frequency value; and
the transmission at dc.
D 10.93 For the amplifier in Fig. 10.37(a), if RG1 = 3 MΩ, RG2 = 2 MΩ, and Rsig = 500 kΩ, find the value of the
coupling capacitor CC1 (specified to one significant digit) that places the associated pole at 10 Hz or lower.
D 10.94 For the amplifier in Fig. 10.37(a), if RD = 20 kΩ, RL = 20 kΩ, and ro is very large, find the value of CC2
(specified to one significant digit) that places the associated pole at 10 Hz or lower.
D 10.95 The amplifier in Fig. 10.37(a) is biased to operate at gm = 4 mA/V, and RS = 2 kΩ. Find the value of CS
(specified to one significant digit) that places its associated pole at 100 Hz or lower. What are the actual frequencies
of the pole and zero realized?
10.96 The amplifier in Fig. 10.37(a) is biased to operate at gm = 5 mA/V, and has the following component values:
Rsig = 100 kΩ, RG1 = 47 MΩ, RG2 = 10 MΩ, CC1 = 0.01 µF, RS = 2 kΩ, CS = 10 µF, RD = 4.7 kΩ, RL = 10 kΩ, and
CC2 = 1 µF. Find AM, fP1, fP2, fZ, fP3, and fL.
D 10.97 The amplifier in Fig. P10.97 is biased to operate at gm = 2 mA/V. Neglect ro.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
Figure P10.97
Determine the value of RD that results in a midband gain of −20 V/V.
Determine the value of CS that results in a pole frequency of 100 Hz.
What is the frequency of the transmission zero introduced by CS?
Give an approximate value for the 3-dB frequency fL.
Sketch a Bode plot for the gain of this amplifier. What does the plot tell you about the gain at dc?
Does this make sense? Why or why not?
D 10.98 Figure P10.98 shows a CS amplifier biased by a constant-current source I. Let Rsig = 0.4 MΩ, RG = 1.5
MΩ, gm = 4 mA/V, RD = 20 kΩ, and RL = 20 kΩ. Find AM. Also, design the coupling and bypass capacitors to
locate the three low-frequency poles at 100 Hz, 10 Hz, and 1 Hz. Design so as to minimize the total capacitance,
with the capacitors specified only to a single significant digit. What value of fL results?

Figure P10.98
D 10.99 Figure P10.99 shows a current-source-biased CE amplifier operating at 100 µA from ±3-V power supplies.
It employs RC = 20 kΩ, RB = 200 kΩ, and operates between a 20- kΩ source and a 10- kΩ load. The transistor β =
100. Select CE first, for a minimum value specified to one significant digit and providing up to 80% of fL where fL
is to be 100 Hz. Then choose CC1 and CC2, each specified to one significant digit, and each contributing about 10%
of fL. What fL results? What total capacitance is needed?
Figure P10.99
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
10.100 Consider the common-emitter amplifier of Fig. 10.41(a) under the following conditions: Rsig = 5 kΩ, RB1 =
33 kΩ, RB2 = 22 kΩ, RE = 3.9 kΩ, RC = 4.7 kΩ, RL = 5.6 kΩ, VCC = 5 V. The dc emitter current can be shown to be
IE 
 0.3 mA, at which β = 120. Find the input resistance Rin and the midband gain AM. If CC1 = CC2 = 1 µF and
CE = 20 µF, find the three short-circuit time constants and an estimate for fL.
D 10.101 For the amplifier described in Problem 10.100, design the coupling and bypass capacitors for a lower 3-
dB frequency of 200 Hz. Design so that the contribution of each of CC1 and CC2 to determining fL is only 10%.
10.102 Consider the circuit of Fig. 10.41(a). For Rsig = 5 kΩ, RB ≡ RB1 || RB2 = 10 kΩ, rπ = 1 kΩ, β0 = 100, and RE
= 1.5 kΩ, what is the ratio CE/CC1 that makes their contributions to the determination of fL equal?
D *10.103 For the common-emitter amplifier of Fig. P10.103, neglect ro and assume the current source to be ideal.
Figure P10.103
Derive an expression for the midband gain.
Convince yourself that the two poles caused by CE and CC do not interact. Find expressions for
their frequencies, ωPE and ωPC.
Give an expression for the amplifier voltage gain Vo(s)/Vsig(s) in terms of AM, ωPE, and ωPC.
For Rsig = RC = RL = 10 kΩ, β = 100, and I = 1 mA, find the value of the midband gain.
Select values for CE and CC to place the two pole frequencies a decade apart and to obtain a lower
3-dB frequency of 100 Hz while minimizing the total capacitance.
Sketch a Bode plot for the gain magnitude, and estimate the frequency at which the gain becomes
unity.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
*10.104 The BJT common-emitter amplifier of Fig. P10.104 includes an emitter-degeneration resistance Re.
Figure P10.104
Assuming α 
 1, neglecting ro, and assuming the current source to be ideal, derive an expression
for the small-signal voltage gain A(s) ≡ Vo/Vsig that applies in the midband and the low-frequency
band. Hence find the midband gain AM and the lower 3-dB frequency fL.
Show that including Re reduces the magnitude of AM by a certain factor. What is this factor?
Show that including Re reduces fL by the same factor as in (b) and thus one can use Re to trade off
gain for bandwidth.
For I = 0.25 mA, RC = 10 kΩ, and CE = 10 µF, find |AM| and fL with Re = 0. Now find the value of
Re that lowers fL by a factor of 10. What will the gain become? Sketch on the same diagram a
Bode plot for the gain magnitude for both cases.

11.1
11.2
11.3
11.4
11.5
11.6
11.7
11.8
11.9
11.10
•
•
•
•
•
CHAPTER 11
Feedback
Introduction
The General Feedback Structure
Some Properties of Negative Feedback
The Feedback Voltage Amplifier
Systematic Analysis of Feedback Voltage Amplifiers
Other Feedback-Amplifier Types
Summary of the Feedback-Analysis Method
The Stability Problem
Effect of Feedback on the Amplifier Poles
Stability Study Using Bode Plots
Frequency Compensation
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The general structure of the negative-feedback amplifier and the basic principle that underlies its
operation.
The advantages of negative feedback, how these come about, and at what cost.
The appropriate feedback topology to use with amplifiers of each of the four types: voltage, current,
transconductance, and transresistance.
An intuitive, insightful approach for analyzing practical feedback-amplifier circuits.
Why and how negative-feedback amplifiers can become unstable (i.e., oscillate) and how to design the
circuit to ensure stable performance.

1.
2.
3.
4.
5.
Introduction
Most physical systems incorporate some form of feedback. It is interesting to note, though, that the theory of
negative feedback has been developed by electronics engineers. In his search for methods for designing
amplifiers with stable gain for use in transatlantic telephone repeaters, Harold Black, an electronics engineer
with the Western Electric Company, invented the feedback amplifier in 1928. Since then, the technique has
been so widely used that it is almost impossible to think of electronic circuits without some form of
feedback, either implicit or explicit. Furthermore, feedback and its associated theory are currently used in
areas other than engineering, such as in modeling biological systems.
Feedback can be either negative or positive. In amplifier design, negative feedback is applied to achieve
one or more of the following goals:
Desensitize the gain: that is, make the value of the gain less sensitive to variations in the values of
circuit components, such as might be caused by changes in temperature.
Reduce nonlinear distortion: that is, make the output proportional to the input (in other words, make
the gain constant, independent of signal level).
Reduce the effect of noise: that is, minimize the contribution to the output of unwanted electric signals
generated, either by the circuit components themselves or by extraneous interference.
Control the input and output resistances: that is, raise or lower the input and output resistances by the
selection of an appropriate feedback topology.
Extend the bandwidth of the amplifier.
All of the desirable properties above come at the expense of a reduction in gain. It will be shown that the
gain-reduction factor, called the amount of feedback, is the factor by which the circuit is desensitized, by
which the input resistance of a voltage amplifier is increased, by which the bandwidth is extended, and so on.
In short, the basic idea of negative feedback is to trade off gain for other desirable properties. This chapter is
devoted to the analysis and design of negative-feedback amplifiers.
Under certain conditions, the negative feedback can introduce undesirable behavior in the dynamic
response of the amplifier. This can eventually lead to oscillation, that is, the generation of unwanted signals.
In such a case, the negative feedback has turned positive. In fact, in Chapter 15 we will study the use of
positive feedback in the design of oscillators and bistable circuits. Here, however, we are interested in the
design of stable amplifiers. We shall therefore study the stability problem of negative-feedback amplifiers
and their potential for oscillation.
Positive feedback does not always lead to instability. In fact, positive feedback is useful in a number of
nonregenerative applications. An example is the design of active filters, which are studied in Chapter 14.
Before we begin our study of negative feedback, recall that we have already encountered negative
feedback in a number of applications: Almost all op-amp circuits (Chapter 2) employ negative feedback.
Another popular application of negative feedback is the use of the emitter resistance RE to stabilize the bias
point of bipolar transistors and to increase the input resistance, bandwidth, and linearity of a BJT amplifier.
In addition, the source follower and the emitter follower both use a large amount of negative feedback. You
may wonder now about the need for a formal study of negative feedback, but by the end of this chapter, you
should appreciate that an understanding of feedback provides an invaluable tool for the analysis and design
of electronic circuits. Also, the insight gained by thinking in terms of feedback can be extremely profitable.

(11.1)
(11.2)
(11.3)
11.1 The General Feedback Structure
11.1.1 Signal-Flow Diagram
Figure 11.1 shows the basic structure of a feedback amplifier. Rather than showing voltages and currents,
Fig. 11.1 is a signal-flow diagram, where each of the quantities x can represent either a voltage or a current
signal. The basic amplifier is unilateral and has a gain A, known as the open-loop gain; thus its output xo is
related to the input xi by
Figure 11.1 General structure of the feedback amplifier. This is a signal-flow diagram, and the quantities x represent
either voltage or current signals.
The feedback network measures or samples the output signal xo and provides a feedback signal xf that is
related to xo by the feedback factor1 β,
We are assuming that connecting the feedback network to the amplifier output does not change the gain A or
the value of xo; that is, the feedback network does not load the amplifier output. Also, the feedback network
is unilateral.
The feedback signal xf is subtracted from the source signal xs, which is the input to the complete
feedback amplifier,2 to produce the signal xi, which is the input to the basic amplifier,
It is this subtraction that makes the feedback negative. In essence, negative feedback reduces the signal that
appears at the input of the basic amplifier. Here, too, we assume that connecting the output of the feedback
network to the amplifier input, through the subtractor or differencing circuit, does not change the gain A; that
is, the feedback network does not load the amplifier input.

(11.4)
(11.5)
(11.6)
(11.7)
11.1.2 The Closed-Loop Gain
The gain of the feedback amplifier, known as the closed-loop gain or the gain-with-feedback and denoted
Af, is defined as
Combining Eqs. (11.1) through (11.3) provides the following expression for Af :
The quantity Aβ is called the loop gain, a name that follows from Fig. 11.1. For the feedback to be negative,
the loop gain Aβ must be positive; that is, the feedback signal xf should have the same sign as xs, resulting in
a smaller difference signal xi. Equation (11.4) indicates that for positive Aβ the gain with feedback Af will be
smaller than the open-loop gain A by a factor equal to 1 + Aβ, which is called the amount of feedback.
If, as is the case in many circuits, the loop gain Aβ is large, Aβ ≫ 1, then from Eq. (11.4) it follows that
which is a very interesting result: When the loop gain is large, the gain of the feedback amplifier is almost
entirely determined by the feedback network. Since the feedback network usually consists of passive
components, which usually can be chosen to be as accurate as we want, the advantage of negative feedback
in obtaining accurate, predictable, and stable gain should be apparent. In other words, the overall gain will
have very little dependence on the gain of the basic amplifier, A, a desirable property because the gain A is
usually a function of many manufacturing and application parameters, some of which might have wide
tolerances. We saw a dramatic illustration of all of these effects in op-amp circuits in Chapter 2, where the
closed-loop gain is almost entirely determined by the feedback elements. Generally, we will consider (1/β) to
be the ideal value of Af,
The deviation of Af from the ideal value can be quantified by writing the expression in Eq. (11.4) in the form
Thus,

(11.8)
(11.9)
(11.10)
1.
2.
3.
4.
As an example, a loop gain Aβ = 100 leads to a closed-loop gain that is 1% below its ideal value of (1/β).
Equations (11.1) through (11.3) can be combined to obtain the following expression for the feedback
signal xf :
Thus for 
 we see that xf 
 xs, which implies that the signal xi at the input of the basic amplifier
is reduced to almost zero. If a large amount of negative feedback is used, the feedback signal xf becomes
almost a replica of the input signal xs. The difference between xs and xf, which is xi, is sometimes referred to
as the error signal.3 Accordingly, the input differencing circuit is often also called a comparison circuit.
(It is also known as a mixer.) An expression for xi can be easily determined as
from which we can verify that for Aβ ≫ 1, xi becomes very small. Notice that negative feedback reduces the
signal that appears at the input terminals of the basic amplifier by the amount of feedback (1 + Aβ). As we
will see, it is this reduction of input signal that increases the linearity of the feedback amplifier.4
11.1.3 The Loop Gain
From the discussion above we see that the loop gain Aβ is a very important—in fact, the most important—
characteristic parameter of a feedback amplifier:
The sign of Aβ determines the polarity of the feedback; the loop gain Aβ must be positive for the
feedback to be negative.
The magnitude of Aβ determines how close the closed-loop gain Af is to the ideal value of 1/β.
The magnitude of Aβ determines the amount of feedback (1 + Aβ) and hence, as we will see in the next
section, the magnitude of the various improvements in amplifier performance resulting from the
negative feedback.
As we will also see in later sections, the inevitable variation of Aβ with frequency can cause the
dynamic closed-loop response to exhibit undesirable properties. Also, if the phase shift of Aβ reaches
180°, the feedback becomes positive, which in turn can cause the feedback amplifier to become
unstable. It follows that the design of a stable feedback amplifier may involve modifying the
frequency behaviors of its loop gain Aβ appropriately (Section 11.10).
Because the loop gain is so important, we should take a moment to consider how to find it. Figure 11.1
indicates that the value of the loop gain Aβ can be determined as follows:

1.
2.
3.
(11.11)
(11.12)
(11.13)
Set xs = 0.
Break the feedback loop at a convenient location, ensuring that the values of A and β do not change.
Since we assumed that the feedback network does not load the amplifier output, we can break the loop
at the amplifier output (see Fig. 11.2) without causing A to change.
Apply a test signal xt to the input of the loop where the break has been made and determine the
returned signal xr at the loop output, that is, at the other side of the break. From Fig. 11.2 we see that
and the loop gain Aβ is obtained as
Notice that since Aβ is positive, the returned signal xr will be out of phase with the test signal xt, verifying
that the feedback is indeed negative. In fact, we can use this approach qualitatively to ascertain the polarity
of the feedback. We will have a lot more to say about the loop gain in subsequent sections.
Figure 11.2 Determining the loop gain by breaking the feedback loop at the output of the basic amplifier, applying a test
signal xt, and measuring the returned signal xr : Aβ ≡ −xr/xt.
11.1.4 The Ideal Case of Infinite Open-Loop Gain A
An important limit case is obtained when A = ∞ leading to Aβ = ∞, and from Eq. (11.8), the closed-loop gain
Af achieves its ideal value of (1/β). In this case, Eqs. (11.9) and (11.10) give
Notice that although xi = 0, the infinite A makes xo finite and related to xs by the ideal value of the closed-
loop gain,

(11.14)
Figure 11.3 shows the signal-flow graph of the feedback amplifier for the case A = ∞.
This ideal case should remind you of the analysis of op-amp circuits assuming an ideal op amp with infinite
open-loop gain A (Chapter 2). The virtual short circuit that results between the two op-amp input terminals is
a manifestation of Eq. (11.13); namely, that the input signal xi = 0.
This limit case, although an idealization, is very useful in both the design and analysis of feedback
amplifiers: In design, where we want to obtain a given ideal closed-loop gain, we use Eq. (11.6) to determine
the required β,
In analysis of a given feedback amplifier circuit, we start by setting the input signal to the open-loop
amplifier to zero, and then finding xo that results for the applied xs (see Fig. 11.3).
Figure 11.3 Signal-flow graph of a feedback amplifier in the limit case A = ∞.
The ideal value of the closed-loop gain can then be found as
and the feedback factor β is determined using Eq. (11.14). We will illustrate this procedure with many
examples in the sections to follow.
Example 11.1
The noninverting op-amp configuration shown in Fig. 11.4(a) provides a direct implementation of the feedback
loop of Fig. 11.1.

(a)
(b)
(c)
(d)
(e)
(f)
11.1
11.2
Figure 11.4 (a) A noninverting op-amp circuit for Example 11.1. (b) The circuit in (a) with the op amp replaced
with its equivalent circuit.
Assume that the op amp has infinite input resistance and zero output resistance. Find expressions for the
feedback factor β and the ideal closed-loop gain Af .
Find β and R2/R1 to obtain an ideal closed-loop gain of 10 V/V.
If the open-loop gain A = 104 V/V, find for the design in (b) the loop gain, the amount of feedback, and the
actual value of Af . By what percentage does Af deviate from the ideal value?
To what values must β and R2/R1 be changed to obtain a closed-loop gain of exactly 10 V/V?
For the modified design in (d), let Vs = 1 V. Find the values of Vo, Vf, and Vi.
If for the design in (d) the open-loop gain decreases by 20%, what is the corresponding decrease in Af ?
EXERCISES
Repeat Example 11.1 (b) to (f) for A = 100 V/V.
Repeat Example 11.1 (b) to (f) for Af |ideal = 103 V/V. For (d) design for Af = 1000 V/V, and for (e) use
Vs = 0.01 V.
11.1.5 Summary
Table 11.1, in the online Summary Tables supplement found at www.oup.com/he/sedrasmith8e, presents a
summary of the important parameters and formulas that characterize the ideal negative-feedback amplifier
structure of Fig. 11.1.
∨
Show Solution
∨
Show Answer
∨
Show Answer

Table 11.1 Summary of the Parameters and Formulas for the Ideal Feedback-Amplifier Structure of Fig. 11.1

(11.15)
(11.16)
11.3
(11.17)
11.2 Some Properties of Negative Feedback
In the introduction we mentioned some of the properties of negative feedback. Here we will consider some
of these properties in more detail.
11.2.1 Gain Desensitivity
We demonstrated the effect of negative feedback on desensitizing the closed-loop gain in Example 11.1,
where we saw that a 20% reduction in the gain of the basic amplifier gave rise to only a 0.025% reduction in
the gain of the closed-loop amplifier. We can derive a formula for sensitivity-reduction as follows:
Assume that β is constant. Taking differentials of both sides of Eq. (11.4) results in
Dividing Eq. (11.15) by Eq. (11.4) gives
which says that the percentage change in Af (due to variations in some circuit parameter in the basic
amplifier) is smaller than the percentage change in A by a factor equal to the amount of feedback. For this
reason, the amount of feedback, 1 + Aβ, is also known as the desensitivity factor.5
EXERCISE
An amplifier with a nominal gain A = 1000 V/V exhibits a gain change of 10% as the operating
temperature changes from 25°C to 75°C. If we need to constrain the change to 0.1% by applying
negative feedback, what is the largest closed-loop gain possible? If three of these feedback amplifiers
are placed in cascade, what are the overall gain and gain variability?
11.2.2 Bandwidth Extension
Consider an amplifier whose high-frequency response is characterized by a single pole. Its gain at mid and
high frequencies can be expressed as
∨Show Answer

(11.18)
(11.19)
where AM denotes the midband gain and ωH is the upper 3-dB frequency. Application of negative feedback,
with a frequency-independent factor β, around this amplifier results in a closed-loop gain Af (s) given by
Substituting for A(s) from Eq. (11.17) results, after a little manipulation, in
Thus the feedback amplifier will have a midband gain of AM/(1 + AM β) and an upper 3-dB frequency ωHf
given by
It follows that the upper 3-dB frequency is increased by a factor equal to the amount of feedback. The
increase in amplifier bandwidth is accompanied by a decrease in the midband gain by the same factor;
namely, the amount of feedback. It follows that the gain–bandwidth product is maintained at a constant
value. This important point is illustrated in Fig. 11.5.
Figure 11.5 Application of negative feedback increases the amplifier bandwidth at the expense of decreasing the
midband gain. Both changes are by the factor (1 +|AM|β) which is the amount of feedback. Notice that the gain–
bandwidth product remains unchanged.

11.4
The action of negative feedback in extending the amplifier bandwidth should not be surprising: Negative
feedback works to minimize the change in gain magnitude, including its change with frequency.
EXERCISE
Consider the noninverting op-amp circuit of Example 11.1. Let the open-loop gain A have a low-
frequency value of 104 V/V and a uniform –20-dB/decade rolloff at high frequencies, with a 3-dB
frequency of 100 Hz. Find the low-frequency gain and the upper 3-dB frequency of a closed-loop
amplifier with R1 = 1 kΩ and R2 = 9 kΩ.
11.2.3 Reduction in Nonlinear Distortion
Curve (a) in Fig. 11.6 shows the transfer characteristic vO versus vI of an amplifier. As indicated, the
characteristic is linear in parts, with the voltage gain changing from 1000 to 100 and then to 0 when the
output voltage reaches 1 V and 4 V, respectively. This nonlinear transfer characteristic will result in this
amplifier generating a large amount of nonlinear distortion.
Figure 11.6 Illustrating the application of negative feedback to reduce the nonlinear distortion in amplifiers. Curve (a)
shows the amplifier transfer characteristic (vO versus vI) without feedback. Curve (b) shows the characteristic (vO versus
vS) with negative feedback (β = 0.01) applied.
The amplifier transfer characteristic can be considerably linearized (i.e., made more linear) through the
application of negative feedback. The fact that this is possible should not be too surprising, since we have
already seen that negative feedback reduces the dependence of the overall closed-loop amplifier gain on the
∨Show Answer

open-loop gain of the basic amplifier. Thus large changes in open-loop gain (1000 to 100 in this case) give
rise to much smaller corresponding changes in the closed-loop gain.
To illustrate, let us apply negative feedback with β = 0.01 to the amplifier whose open-loop voltage
transfer characteristic is depicted as curve (a) in Fig. 11.6. The resulting transfer characteristic of the closed-
loop amplifier, vO versus vS, is shown in Fig. 11.6 as curve (b). Here the slope of the steepest segment is
and the slope of the next segment is
Thus the factor of 10 change in slope has been considerably reduced. The price paid, of course, is a reduction
in voltage gain. Thus if the overall gain has to be restored, a preamplifier should be added. This preamplifier
should not present a severe nonlinear-distortion problem, since it will be dealing with smaller signals.
Finally, we note that negative feedback can do nothing at all about amplifier saturation, since in
saturation the gain is very small (almost zero) and hence the amount of feedback is almost unity.
Example 11.2
Given the availability of amplifiers with the voltage transfer characteristic shown in Fig. 11.7(a), design an
amplifier with a gain of 200 V/V and a linear transfer characteristic for input signals as large as 5 mV.
Figure 11.7 (a) Transfer characteristic of available amplifier. (b) Block diagram of an amplifier with a gain of
200 V/V that is linear for input signals as large as 5 mV.
∨Show Solution


11.3 The Feedback Voltage Amplifier
Based on the quantity to be amplified (voltage or current) and on the desired form of output (voltage or
current), amplifiers can be classified into four categories. We discussed these categories in Chapter 1. In this
section we study the most common amplifier type: the voltage amplifier. We begin by identifying the
appropriate configuration for applying negative feedback to a voltage amplifier. Then, we present a method
for analyzing the feedback voltage amplifier. The method makes use of the loop gain Aβ, which we learned
how to find in Section 11.1.3.
11.3.1 The Series–Shunt Feedback Topology
Voltage amplifiers are intended to amplify an input voltage signal and provide an output voltage signal. The
voltage amplifier is essentially a voltage-controlled voltage source. The input resistance must be high, and
the output resistance must be low. Since the signal source is essentially a voltage source, it is appropriately
represented in terms of a Thévenin equivalent circuit. As the output quantity of interest is the output voltage,
the feedback network should sample the output voltage, just as a voltmeter measures a voltage. Also,
because of the Thévenin representation of the source, the feedback signal xf should be a voltage that can be
mixed with the source voltage in series.
From the discussion above, it follows that the most suitable feedback topology for the voltage amplifier
is the voltage-mixing, voltage-sampling one shown in Fig. 11.8. Because of the series connection at the
input and the parallel or shunt connection at the output, this feedback topology is also known as series–
shunt feedback. As we will show, this topology not only stabilizes the voltage gain Vo/Vs but also results in
a higher input resistance Rin (intuitively, a result of the series connection at the input) and a lower output
resistance Rout (intuitively, a result of the parallel connection at the output), which are desirable properties
for a voltage amplifier.
The increased input resistance results because Vf subtracts from Vs, resulting in a smaller signal Vi at the
input of the basic amplifier. The lower Vi, in turn, causes the input current to be smaller, with the result that
the resistance seen by Vs will be larger. We will derive a formula for the input resistance of the feedback
voltage amplifier in the next section.
The decreased output resistance results because the feedback works to keep Vo as constant as possible.
Thus if the current drawn from the amplifier output changes by ∆Io, the change ∆Vo in Vo will be lower than
it would have been without the feedback. Thus the output resistance ∆Vo/∆Io will be lower than that of the
open-loop amplifier. In the following section we will derive an expression for the output resistance of the
feedback voltage amplifier.

Figure 11.8 Block diagram of a feedback voltage amplifier. Here the appropriate feedback topology is series–shunt.
11.3.2 Examples of Series–Shunt Feedback Amplifiers
Three examples of series–shunt feedback amplifiers are shown in Fig. 11.9. The amplifier in Fig. 11.9(a) is
the familiar noninverting op-amp configuration. The feedback network, composed of the voltage divider (R1,
R2), develops a voltage Vf that is applied to the negative input terminal of the op amp. The subtraction of Vf
from Vs is achieved by the differencing action of the op-amp differential input. For the feedback to be
negative, Vf must be of the same polarity as Vs, resulting in a smaller signal at the input of the basic
amplifier. To confirm that this is true, we follow the signal around the loop, as follows: As Vs increases, Vo
increases and the voltage divider causes Vf to increase. Thus the change in Vf is of the same polarity as the
change in Vs, and the feedback is negative.

Figure 11.9 Examples of a feedback voltage amplifier. All these circuits use series–shunt feedback. Note that the dc bias
circuits are only partially shown
The second feedback voltage amplifier, shown in Fig. 11.9(b), utilizes two MOSFET amplifier stages in
cascade. The output voltage Vo is sampled by the feedback network composed of the voltage divider (R1,
R2), and the feedback signal Vf is fed to the source terminal of Q1. The subtraction is implemented by
applying Vs to the gate of Q1 and Vf to its source, with the result that the signal at this amplifier input Vi =
Vgs = Vs − Vf . To confirm that the feedback is negative, let Vs increase. The drain voltage of Q1 will
decrease, and since this is applied to the gate of Q2, its drain voltage Vo will increase. The feedback network
will then cause Vf to increase, which is the same polarity initially assumed for the change in Vs. Thus the
feedback is indeed negative.

The third example of series–shunt feedback, shown in Fig. 11.9(c), uses a CG transistor Q with a fraction
Vf of the output voltage Vo fed back to the gate through a voltage divider (R1, R2). Notice that the subtraction
of Vf from Vs is effected by applying Vs to the source, so the input Vi to the CG amplifier is Vs − Vf . As
usual, however, we must check the polarity of the feedback: If Vs increases, Vd (which is Vo) will increase
and Vf will likewise increase. Thus Vf and Vs change in the same direction, verifying that the feedback is
negative.
11.3.3 Analysis of the Feedback Voltage Amplifier
Given a feedback voltage amplifier circuit like any of the three shown in Fig. 11.9, or more generally like the
one shown in block diagram form in Fig. 11.8, our goal is to analyze the circuit to determine the closed-loop
gain Af ≡ Vo/Vs, the input resistance Rin, and the output resistance Rout. Our natural inclination would be to
use the formulas derived in Section 11.1. However, this is not possible directly because the analysis of
Section 11.1 assumes that the feedback network does not load the basic amplifier, and unfortunately, this
assumption does not hold in most practical amplifier circuits. As shown in Fig. 11.9, the feedback network is
a simple resistive circuit that obviously loads the basic amplifier. As an example, in the circuit of Fig.
11.9(b), the values of the resistances R2 and R1, which comprise the feedback network, affect the gain of the
common-source stage Q2, which is part of the basic amplifier. Also, the value of the feedback-network
resistance R1 affects the gain of the Q1 amplifier stage, which is part of the basic amplifier. It follows that we
cannot easily disassemble a practical amplifier circuit to determine A and β and thus be able to use the
feedback formulas of Sections 11.1 and 11.2. As an alternative, we present the following three-step analysis
method:
Step 1: Determine β and Af |ideal We use the limit case of infinite open-loop gain A (Section 11.1.4). Figure
11.10(a) shows the general feedback voltage amplifier of Fig. 10.8 with the gain of the basic amplifier
assumed infinite. This results in a zero voltage across its input terminals, which in turn results in a zero input
current. The zero current in the input series loop results in Vf = Vs. It is very important to note that port 1 of
the feedback network will be operating as an open circuit, and thus β can be determined as shown in Fig.
11.10(b).
FEEDBACK: A HISTORICAL NOTE
∨

Figure 11.10 (a) The general feedback voltage amplifier under the assumption that the open-loop gain A of the basic
amplifier is infinite. The resulting 0 V between the input terminals and the correspondingly zero current in the input
series loop enable us to determine β as shown in (b).
The ideal value of the closed-loop gain can then be determined as
Step 2: Determine the Loop Gain Aβ The loop gain Aβ can be determined using the method presented in
Section 11.1.3. To begin, we break the feedback loop while taking care to not change the conditions that
existed in the loop before breaking it. This becomes clear if you refer to Fig. 11.11. The conceptual loop in
Fig. 11.11(a) is broken at XX′. As shown in Fig. 11.11(b), we apply a test voltage Vt to the terminals thus
created to the left of XX′ and, to keep the loop conditions unchanged, we connect to the terminals to the right
of XX′ an impedance Zt whose value is equal to the impedance previously seen looking to the left of XX′. The
loop gain is then determined from

(a)
(b)
(c)
(d)
Whenever possible, we should break the loop at a location where Zt is infinite.
Figure 11.11 Breaking the conceptual feedback loop in (a) to determine the loop gain requires the termination of the
loop as shown in (b), to ensure that the loop conditions do not change.
Step 3: Determine the Closed-Loop Gain Af Using the value of β determined in step 1 and the value of Aβ
determined in step 2, we can find the value of the open-loop gain A.
Finally, we can find the value of the closed-loop gain Af from
We can then compare this value to the ideal (upper bound) value we found in step 1. The difference should
be approximately (−100/Aβ)%.
We will use the next two examples to show how this analysis method is applied.
Example 11.3
For the series–shunt feedback amplifier of Fig. 11.9(b), neglect the MOSFETs’ ro and
find expressions for β and the ideal value of the closed-loop gain Af .
find the ratio R2/R1 that results in an ideal closed-loop gain of 10 V/V. If R1 = 1 kΩ, what value must R2
have?
find an expression for the loop gain Aβ.
if gm1 = gm2 = 4mA/V and RD1 = RD2 = 10 kΩ, determine the values of Aβ, A, and Af .
∨Show Solution

Example 11.4
In the series–shunt feedback amplifier of Fig. 11.13(a), the op amp has an input resistance Rid, an open-circuit
voltage gain μ, and an output resistance ro. Find expressions for β, the ideal value of Af ≡ Vo/Vs, and the loop
gain Aβ. For μ = 104 V/V, Rid = 100 kΩ, ro = 1 kΩ, RL = 2 kΩ, R1 = 1 kΩ, R2 = 100 kΩ, and Rs = 10 kΩ, find β,
Af |ideal, Aβ, A, and Af .
Figure 11.13 (a) A series–shunt feedback amplifier.
Figure 11.13 (b) The feedback amplifier with the open-loop gain A assumed infinite.

(a)
Figure 11.13 (c) The feedback loop obtained by setting Vs = 0 and replacing the op amp with its equivalent-
circuit model.
Figure 11.13 (d) Breaking the feedback loop to determine the loop gain Aβ = −Vr/Vt.
Video Example VE 11.1 Design and Analysis of a Feedback Voltage Amplifier Using Loop
Gain
Figure VE11.1 shows a series–shunt feedback amplifier known as a “feedback triple.” All three MOSFETs are
biased to operate at gm = 5 mA/V. You may neglect their ro’s.
Select a value for RF that results in a closed-loop gain that is ideally 10 V/V.
∨Show Solution


11.5
(a)
(b)
(c)
(d)
For the feedback voltage amplifier of Fig. 11.9(c):
Find an expression for β.
Neglecting the MOSFET ro, find an expression for the loop gain Aβ. (Hint: Break the loop at the
gate of Q.)
Find an expression for the open-loop gain A.
For gm = 4 mA/V, RD = 10 kΩ, R1 = 20 kΩ, and R2 = 80 kΩ, find the values of β, Aβ, A, and the
closed-loop gain Af . What would Af be if Aβ were much greater than unity?
11.3.4 A Final Remark
The analysis method using loop gain, though simple, is not complete: It does not allow us to find the input
and output resistances of the feedback amplifier. This shortcoming is remedied in the next section, where we
present a systematic approach to analyzing feedback voltage amplifiers.
∨Show Answer

11.4 Systematic Analysis of Feedback Voltage Amplifiers
In this section we provide a systematic procedure for analyzing feedback voltage amplifiers. The procedure
essentially disassembles a given feedback voltage-amplifier circuit to obtain the “A circuit,” from which we
can determine the open-loop gain A and other parameters of the open-loop amplifier, such as the input and
output resistances, and the “β circuit” from which we can find the value of the feedback factor β. We can
then use the feedback formulas to determine the characteristic parameters of the feedback amplifier, such as
the closed-loop gain Af and the input and output resistances with feedback.
Our approach will be to first consider the ideal case in which the feedback network does not load the
basic amplifier. Then, we consider the practical case in which not only does the feedback network load the
basic amplifier, but also there is a finite source resistance Rs and a finite load resistance RL.
11.4.1 The Ideal Case
As mentioned before, series–shunt is the appropriate feedback topology for a voltage amplifier. The ideal
structure of the series–shunt feedback amplifier, shown in Fig. 11.14(a), consists of a unilateral open-loop
amplifier (the A circuit) and an ideal voltage-sampling, voltage-mixing feedback network (the β circuit). The
A circuit has an input resistance Ri, an open-circuit voltage gain A, and an output resistance Ro. We assume
that the source is ideal with a zero resistance and that there is no load resistance. Furthermore, note that the β
circuit does not load the A circuit; that is, connecting the β circuit does not change the value of A (defined as
A ≡ Vo/Vi).

(11.20)
Figure 11.14 The series–shunt feedback amplifier: (a) ideal structure; (b) equivalent circuit.
The circuit of Fig. 11.14(a) exactly follows the ideal feedback model of Fig. 11.1. Therefore, the closed-
loop voltage gain Af is given by

(11.21)
(11.22)
The equivalent-circuit model of the series–shunt feedback amplifier is shown in Fig. 11.14(b). Notice
that Af is the open-circuit voltage gain of the feedback amplifier, Rif is its input resistance, and Rof is its
output resistance. We can derive expressions for Rif and Rof as follows.
For Rif, refer to the input loop of the circuit in Fig. 11.14(a). The series mixing subtracts Vf from Vs and
thus reduces Vi by a factor equal to the amount of feedback (Eq. 11.10),
Thus the input current Ii becomes
Since Ii is the current drawn from Vs, the input resistance Rif can be expressed as
and using Eq. (11.21) is found to be
Thus, as expected, the series-mixing feedback results in an increase in the amplifier input resistance by a
factor equal to the amount of feedback, (1 + Aβ), a highly desirable property for a voltage amplifier.
To determine the output resistance Rof of the feedback amplifier in Fig. 11.14(a), we set Vs = 0 and apply
a test voltage Vx between the output terminals, as shown in Fig. 11.15. If the current drawn from Vx is Ix, the
output resistance Rof is
Figure 11.15 Determining the output resistance of the feedback amplifier of Fig. 11.14(a): Rof = Vx/Ix.

(11.23)
(11.24)
(11.25)
An equation for the output loop yields
From the input loop we see that
Now Vf = βVo = βVx; thus,
which when substituted in Eq. (11.24) gives
Substituting this value of Ix into Eq. (11.23) provides the following expression for Rof,
As expected, the shunt sampling (or voltage sampling) at the output results in a decrease in the amplifier
output resistance by a factor equal to the amount of negative feedback, (1 + Aβ), another highly desirable
property for a voltage amplifier.
Although perhaps not entirely obvious, the reduction of the output resistance is a result only of the
method of sampling the output and does not depend on the method of mixing.
11.4.2 The Practical Case
In a practical series–shunt feedback amplifier, the feedback network will not be an ideal voltage-controlled
voltage source. Instead, as we can see in Fig. 11.9, the feedback network is usually resistive and hence will
load the basic amplifier and thus affect the values of A, Ri, and Ro. There will also be finite source and load
resistances that will in turn affect these three parameters. Thus the problem we have is this: Given a series–
shunt feedback amplifier represented by the block diagram of Fig. 11.16(a), find the A circuit and the β
circuit.

Figure 11.16 (a) Block diagram of a practical series–shunt feedback amplifier.
Figure 11.16 (b) The circuit in (a) represented by the ideal structure of Fig. 11.12(a).
Figure 11.16 (c) Definition of R11 and R22.
Figure 11.16 (d) Determination of the feedback factor β.

1.
2.
3.
(11.26)
4.
5.
6.
Figure 11.16 (e) The A circuit, showing the open-loop resistances Ri and Ro.
The problem in essence is to represent the general feedback voltage amplifier of Fig. 11.16(a) with the
ideal structure of Fig. 11.14(a). The solution is presented, without derivation, in Fig. 11.16(b). We make the
following observations.
The A circuit is obtained by augmenting the basic amplifier at the input with the source resistance Rs
and a resistance R11, and at the output with the load resistance RL and a resistance R22. Resistances
R11 and R22 represent the loading effect of the feedback network on the basic amplifier at the input
and the output, respectively.
Resistance R11 is the resistance looking into port 1 of the feedback network while port 2 is short-
circuited. Resistance R22 is the resistance looking into port 2 of the feedback network while port 1 is
open-circuited. These definitions are illustrated in Fig. 11.16(c). Since the feedback network is
connected in shunt with the output, shorting its port 2 destroys the feedback. Similarly, because the
feedback network is connected in series with the input, opening its port 1 destroys the feedback. It
follows that we can find the loading effect of the feedback network by looking into its appropriate port
while the other port is open-circuited or short-circuited so as to destroy the feedback. A simple rule to
remember: If the connection is shunt, short it; if series, sever it.
The feedback factor β is the transmission from port 2 to port 1 of the feedback network, with port 1
open-circuited (which destroys the feedback). Fig. 11.16(c) shows that
Note that this expression for β is the same as the one we found using the method outlined in Section
11.3.3.
The open-loop gain A can be found from the A circuit in Fig. 11.16(e) as 
The values of A and β can be used to find the closed-loop gain Af,
The open-loop input resistance Ri and output resistance Ro can be found from the A circuit [see Fig.
11.16(e)]. These values can be used to determine the input and output resistances with feedback,

(11.27)
(11.28)
From Fig. 11.16(a) we see that Rif is the resistance seen by the ideal signal source Vs. The actual input
resistance of the feedback amplifier Rin excludes Rs [See Fig. 11.16(a)] and is found from Rif,
Similarly, Rof is the output resistance of the feedback amplifier including RL. The actual output
resistance Rout excludes RL [see Fig. 11.16(a)] and is found from Rof,
A final and important note: The representation in Fig. 11.16(b) is only approximately equivalent to the
original circuit in Fig. 11.16(a). The approximation is a result of neglecting the small forward transmission in
the feedback network relative to the much larger forward transmission in the basic amplifier. Also, recall that
we continue to assume that the basic amplifier is unilateral—that is, it does not have internal feedback; all
the feedback occurs in the feedback network and is represented by the feedback factor β.
Example 11.5 Feedback Voltage Amplifier Using an Op Amp
Figure 11.17(a) shows an op amp connected in the noninverting configuration. The op amp has an open-circuit
voltage gain μ, a differential input resistance Rid, and an output resistance ro. Recall that in our analysis of op-
amp circuits in Chapter 2, we neglected the effects of Rid (assumed it to be infinite) and of ro (assumed it to be
zero). Here we wish to use the feedback method to analyze the circuit taking both Rid and ro into account. Find
A, β, the ideal and actual value of the closed-loop gain Vo/Vs, the input resistance Rin, and the output resistance
Rout. Let μ = 104, Rid = 100 kΩ, ro = 1 kΩ, RL = 2 kΩ, R1 = 1 kΩ, R2 = 100 kΩ, and Rs = 10 kΩ. Note that this
circuit was analyzed in Example 11.4 using the loop-gain method; where appropriate, compare results.

Figure 11.17 Circuits for Example 11.5.
Example 11.6 Feedback Voltage Amplifier Using a Pair of MOSFETs
As another example of a series–shunt feedback amplifier, consider the circuit shown in Fig. 11.9(b), which we
analyzed in Example 11.3 by determining the loop gain Aβ. In this example we want to first analyze the circuit
using our systematic procedure and then compare the results to those we got in Example 11.3. For convenience,
the circuit is repeated in Fig. 11.18(a). We need to obtain the voltage gain Vo/Vs, input resistance Rin, and output
resistance Rout. Find numerical values for the case gm1 = gm2 = 4 mA/V, RD1 = RD2 = 10 kΩ, R1 = 1 kΩ, and R2
= 9 kΩ. For simplicity, neglect ro of each of Q1 and Q2.
∨Show Solution

Figure 11.18 (a) Series–shunt feedback amplifier for Example 11.6; (b) the A circuit; (c) the β circuit.
∨Show Solution

(a)
(b)
(c)
(d)
(e)
(f)
(g)
Video Example VE 11.2 Design and Analysis of a Feedback Voltage Amplifier
This problem deals with the series–shunt feedback amplifier of Fig. VE11.2. The current-mirror-loaded
differential amplifier has a feedback network consisting of the voltage divider (R1, R2), with R1 + R2 = 1 MΩ.
The devices are sized to operate at |VOV| = 0.2 V. For all devices |VA| = 5 V. The input signal source has a zero dc
component.
Figure VE11.2 Circuit for Video Example 11.2.
Show that the feedback is negative.
What do you expect the dc voltage at the gate of Q2 to be? At the output? (Neglect the Early
effect.)
Find the A circuit. Derive an expression for A and find its value.
Select values for R1 and R2 to obtain a closed-loop voltage gain Vo/Vs = 5 V/V.
Find the value of Rout.
Utilizing the open-circuit, closed-loop gain (5 V/V) and the value of Rout found in (e), find the
value of gain obtained when a resistance RL = 10 kΩ is connected to the output.
As an alternative approach to (f) above, redo the analysis of the A circuit including RL. Then
utilize the values of R1 and R2 found in (d) to determine β and Af. Compare the value of Af to
that found in (f).


11.8
Figure E11.7
For the series–shunt amplifier in Fig. 11.9(c), which was considered in Exercise 11.5, find A, β, Af, Rin,
and Rout. Neglect ro of Q. Compare results to those obtained in Exercise 11.5.
Comparison: A and β are identical to the corresponding expressions found in Exercise 11.5. However, Rin and Rout
cannot be determined using the method of Exercise 11.5.
∨Show Answer

1.
11.5 Other Feedback-Amplifier Types
Having studied in detail the most common feedback-amplifier type, the feedback voltage amplifier, we now
consider the three other types of feedback amplifier: the feedback transconductance amplifier, the feedback
current amplifier, and the feedback transresistance amplifier. We will build on the study of the feedback
voltage amplifier and give the results without derivation. We will illustrate the analysis method with a large
number of worked-out examples dealing with practical and widely used circuits.
11.5.1 Basic Principles
Sensing: The feedback network must sample the output signal of interest. Thus if Vo is the output
signal of interest, as in the case of voltage and transresistance amplifiers, the feedback network is
connected in parallel (or shunt) with the amplifier output nodes, just as a voltmeter is connected to
measure a voltage [see Fig. 11.19(a)]. On the other hand, if Io is the output signal of interest, as in the
case of transconductance and current amplifiers, the feedback network is connected in series with the
output loop, just as a current meter is connected to measure a current [see Fig. 11.19(b)].

2.
3.
Figure 11.19 The two methods of sensing.
Mixing: If the input signal to be amplified is a voltage, as in the case of voltage and transconductance
amplifiers, the signal source is represented by its Thévenin equivalent and the feedback voltage signal
Vf is connected in series with the input signal source Vs [see Fig. 11.20(a)]. On the other hand, if the
signal to be amplified is a current, as in the case of current and transresistance amplifiers, the Norton
form is used to represent the signal source, and the feedback current signal If is connected in parallel
(shunt) with the input signal source Is [see Fig. 11.20(b)].
Figure 11.20 The two methods of mixing.
Feedback topology: From the above, it follows that for each of the four amplifier types there is a
uniquely appropriate feedback topology:

4.
5.
6.
7.
D 11.9
Amplifier Type
Appropriate Feedback Topology
Af
Voltage
Series–Shunt
Vo/Vs
Transconductance
Series–Series
Io/Vs
Current
Shunt–Series
Io/Is
Transresistance
Shunt–Shunt
Vo/Is
The appropriate feedback topology not only stabilizes the gain of interest (e.g., the transconductance
Af ≡ Io/Vs in a transconductance amplifier), but also makes the input and output resistances more ideal
(e.g., the shunt–series topology decreases the input resistance and increases the output resistance of a
current amplifier).
Input and output resistance: The increase or decrease of the input or output resistance depends solely
on the type of connection: Series connection always increases the resistance; parallel (shunt)
connection always decreases the resistance. Furthermore, the increase or decrease is always by the
amount of feedback, (1 + Aβ). Thus, as an example, for the feedback current amplifier, the shunt
connection at the input decreases the input resistance; Rif = Ri/(1 + Aβ), and the series connection at
the output increases the output resistance; Rof = (1 + Aβ)Ro, where Ri and Ro are the input and output
resistances of the open-loop amplifier (A circuit).
Dimensions of A, β, Aβ, and Af: Depending on the amplifier type, A, β, and Af have the dimensions of
V/V, A/A, V/A, or A/V. However, Aβ is always dimensionless. For a feedback transconductance
amplifier, for example, A ≡ Io/Vi (A/V), β ≡ Vf /Io (V/A), Af ≡ Io/Vs (A/V), and Aβ is in V/V or
essentially dimensionless.
Determining β and Af |ideal: To determine β, we set A = ∞. For the voltage (series) mixing case, this
results in Vi = 0 and hence Ii = 0. From Fig. 11.20(a) we see that port 1 of the feedback network will
be open-circuited and β is found as the ratio of the open-circuit voltage Vf to the output quantity being
sensed. For the case of current (shunt) mixing, A = ∞ leads to Ii = 0 and correspondingly Vi = 0. From
Fig. 11.20(b) we see that port 1 of the feedback network will be short-circuited and β is found as the
ratio of the short-circuit current If to the output quantity being sensed. The ideal value of the closed-
loop gain is found as Af |ideal = 1/β.
Analysis using the loop gain: For any feedback-amplifier type, we can find the loop gain Aβ using the
method described in Section 11.3.3. We can then use the loop gain together with the feedback factor β
to determine the open-loop gain A and hence the closed-loop gain Af. This approach, however, does
not enable us to determine the input and output resistances of the feedback amplifier. For these, we
need to obtain the A circuit using the systematic analysis approach described below.
EXERCISE
A feedback current amplifier is to have an ideal closed-loop gain of 10 A/A. What is the required value
of the feedback factor β? If the open-loop amplifier has a gain of 1000 A/A, an input resistance of 1
kΩ, and an output resistance of 100 kΩ, find the realized values of closed-loop gain, input resistance,
and output resistance.
∨Show Answer

11.5.2 The Feedback Transconductance Amplifier (Series–Series)
Figure 11.21(a) shows the ideal structure of the feedback transconductance amplifier. The open-loop
amplifier (A circuit) is unilateral and has an input resistance Ri, a short-circuit transconductance gain A in
A/V, and an output resistance Ro. The short-circuit output current Io = AVi is sensed by the feedback network.
Note that since the resistance looking into port 2 of the feedback network is zero, the feedback network does
not load the amplifier output. The feedback network provides at port 1 a voltage signal Vf = βIo, where the
feedback factor β has the dimensions of V/A. The feedback signal is connected in series with the input signal
source Vs, and the feedback network does not load the amplifier input. Finally, note the definitions of the
input resistance with feedback, Rif, and the output resistance with feedback, Rof. The latter is the resistance
found by looking into the output loop between any two nodes, such as O and O′ while setting Vs = 0.

Figure 11.21 The feedback transconductance amplifier (series–series): (a) ideal structure; (b) equivalent circuit; (c)
applicable formulas.

The equivalent circuit of the feedback transconductance amplifier is shown in Fig. 11.21(b). Note that the
closed-loop gain Af is the ratio of the short-circuit output current Io and the input voltage Vs, thus it is the
short-circuit transconductance of the feedback amplifier. Also, Rof is the resistance seen between any two
nodes in the output loop, such as O and O′, while Vs is set to zero. The formulas for Af, Rif, and Rof are found
in Fig. 11.21(c).
With the ideal case in hand, we can now consider the general or practical case of the feedback
transconductance amplifier, shown in Fig. 11.22(a). To be able to apply feedback analysis to this circuit, we
have to find the A circuit and β. These are shown in Fig. 11.22(b). The A circuit is found by augmenting the
basic amplifier with Rs and RL and the two resistances R11 and R22, which represent the loading effect of the
feedback network on the basic amplifier at the input and output, respectively. Figure 11.22(b) shows how to
find R11 and R22. Here, the series connection at both the input and the output means that the other port of the
feedback network must be left open-circuited. This is also the case when β is determined.
Finally, Fig. 11.22(c) gives the formulas for determining the actual values of the input and output
resistances, Rin and Rout, of the feedback amplifier from Rif and Rof. To see how these formulas come about,
note from Fig. 11.22(a) that unlike Rif, Rin does not include Rs, and unlike Rof, Rout does not include RL.

(a)
(b)
(c)
Figure 11.22 Systematic analysis of the feedback transconductance amplifier (series–series).
Example 11.7 Feedback Transconductance Amplifier Using an Op Amp and a MOSFET
Figure 11.23(a) shows a feedback transconductance amplifier using an op amp with an NMOS transistor. The
feedback network consists of a resistor RF that senses the output current Io (recall that the drain and source
currents of the MOSFET are equal) and provides a feedback voltage that is subtracted from Vs by means of the
differencing action of the op-amp input. Notice that the feedback topology is series–series, which is uniquely
appropriate for transconductance amplifiers.
The op amp has a gain μ = 1000 V/V, a differential input resistance Rid = 100 kΩ, and an output resistance
ro1 = 1 kΩ. The MOSFET has gm = 2 mA/V and ro2 = 20 kΩ. The feedback resistance RF = 1 kΩ.
Find Af |ideal and β.
Find the A circuit and determine A, Ri and Ro.
Find Af, Rin and Rout.

11.10
D 11.11
Figure 11.23 (a) Feedback transconductance amplifier for Example 11.7; (b) determining Af |ideal by setting the
open-loop gain to infinity; (c) the feedback network; (d) the A circuit with the op amp and the MOSFET
replaced with their equivalent circuit models.
EXERCISES
If in the circuit of Example 11.7, the gain μ is reduced from 1000 V/V to 100 V/V, find the new values
of A, Af, Rin, and Rout.
If we want to double the ideal Af of the feedback transconductance amplifier of Example 11.7, what
value should RF be changed to? What would A and Af become?
Example 11.8 Feedback Transconductance Amplifier Using BJTs
∨Show Solution
∨Show Answer
∨Show Answer

Because negative feedback extends the amplifier bandwidth, it is commonly used in the design of wideband
amplifiers. One such amplifier is the MC1553. Part of the circuit of the MC1553 is shown in Fig. 11.24(a). The
circuit shown (called a feedback triple) is composed of three gain stages with series–series feedback provided
by the network composed of RE1, RF, and RE2.
Observe that the feedback network samples the emitter current Io of Q3, and thus Io is the output quantity of
the feedback amplifier. However, Io is, practically, hard to use. Thus Ic, the collector current of Q3, is commonly
taken as the output. This current is of course almost equal to Io; Ic = αIo. Thus, as a transconductance amplifier
with Ic as the output current, the output resistance of interest is that labeled Rout in Fig. 11.24(a). In some
applications, Ic is passed through a load resistance, such as RC3, and the voltage Vo is taken as the output.
Assume that the bias circuit, which is not shown, establishes IC1 = 0.6 mA, IC2 = 1 mA, and IC3 = 4 mA. Also
assume that for all three transistors, hfe = 100 and ro = ∞.
Figure 11.24 (a) Circuit for Example 11.8.
Figure 11.24 (b) Circuit for Example 11.8.

(a)
(b)
Figure 11.24 (c) Circuit for Example 11.8.
Figure 11.24 (d) Circuit for Example 11.8.
Figure 11.24 (e) Circuit for Example 11.8.
Find an expression and value for the ideal closed-loop gain Af ≡ Io/Vs and hence for β, Ic/Vs. and
Vo/Vs.
Use feedback analysis to find A, Af, Vo/Vs, Rin, and Rout. For the calculation of Rout, assume that
ro of Q3 is 25 kΩ.
∨Show Solution


11.5.3 The Feedback Transresistance Amplifier (Shunt–Shunt)
Figure 11.25(a) shows the ideal feedback transresistance amplifier, which, as expected, uses the shunt–shunt
topology. The amplifier equivalent circuit is shown in Fig. 11.25(b), with the formulas for determining Af,
Rif, and Rof given in Fig. 11.25(c).

Figure 11.25 The feedback transresistance amplifier (shunt–shunt).
All the steps and formulas needed to apply the feedback-analysis method to a general transresistance
amplifier are shown in Fig. 11.26. The method will be illustrated by a detailed example.

Figure 11.26 Analysis of the feedback transresistance amplifier (shunt–shunt).
Example 11.9 Feedback Transresistance Amplifier (Shunt–Shunt)
Figure 11.27(a) shows a feedback transresistance amplifier. It employs shunt–shunt feedback formed by
connecting a resistance RF in the negative-feedback path of a voltage amplifier with gain μ, an input resistance
Rid, and an output resistance ro. The amplifier μ can be implemented with an op amp, a simple differential
amplifier, a single-ended inverting amplifier, or, in the limit, a single-transistor CE or CS amplifier. The latter
case will be considered in Exercise 11.15. Of course, the higher the gain μ, the more ideal the characteristics of
the feedback transresistance amplifier will be, simply because of the concomitant increase in loop gain. Use the
following numerical values: μ = 104 V/V, Rid = 100 kΩ, ro = 1 kΩ, Rs = RL = 2 kΩ, and RF = 10 kΩ.
Figure 11.27 (a) A feedback transresistance amplifier.

(a)
(b)
(c)
(d)
Figure 11.27 (b) Determining Af |ideal by setting A = ∞.
Figure 11.27 (c) the feedback circuit.
Figure 11.27 (d) The A circuit.
Find the ideal closed-loop gain Vo/Is and the feedback factor β.
Find the A circuit and hence A, Ri, and Ro.
Find Af, Rif, Rin, Rof, and Rout.
If instead of a current source Is having a source resistance Rs = 2 kΩ, the amplifier is fed from a
voltage source Vs having a source resistance Rs = 2 kΩ, find the voltage gain Vo/Vs.
Show Solution

11.14
11.15
(a)
(b)
EXERCISES
Determine the loop gain of the amplifier of Fig. 11.27(a) directly. Set Is = 0, replace the amplifier μ
with its equivalent circuit, and break the loop at the amplifier input, ensuring that a resistance equal to
Rid is connected across Rs. Show that
Evaluate Aβ using the numerical values given in Example 11.9.
For the transresistance amplifier in Fig. E11.15, replace the MOSFET with its small-signal equivalent-
circuit model and use feedback analysis to show the following:
Figure E11.15
Af |ideal = RF.
∨
∨Show Answer

(c)
(d)
(e)
For gm = 5 mA/V, ro = 20 kΩ, RF = 10 kΩ, and Rs = 1 kΩ, find A, β, Aβ, Af Ri, Ro, Rif, Rin, Rof,
and Rout.
11.5.4 The Feedback Current Amplifier (Shunt–Series)
Figure 11.28(a) shows the ideal feedback current amplifier, which, as expected, utilizes the shunt–series
topology. The amplifier equivalent circuit is shown in Fig. 11.28(b), with the formulas for determining Af, Af
|ideal, Rif, and Rof given in Fig. 11.28(c).
∨Show Answer

Figure 11.28 The feedback current amplifier (shunt–series).
Figure 11.29 shows how the feedback-analysis method can be applied to a general feedback current
amplifier. All the analysis steps and formulas are given. We will now illustrate the method with a detailed
example.

Figure 11.29 Analysis of the feedback current amplifier (shunt–series).
Example 11.10 Feedback Current Amplifier
Figure 11.30(a) shows a feedback current amplifier formed by cascading an inverting voltage amplifier μ with a
MOSFET Q. The output current Io is the drain current of Q. The feedback network, consisting of resistors R1
and R2, senses an exactly equal current, namely, the source current of Q, and provides a feedback current signal
that is mixed with Is at the input node. Note that the bias arrangement is not shown.
The amplifier μ can be implemented in a variety of ways, including by means of an op amp, a differential
amplifier, or a single-ended inverting amplifier. The simplest approach is to implement μ with a CS MOSFET

(a)
(b)
(c)
amplifier. However, in such a case the loop gain will be very limited. Assume that the amplifier μ has an input
resistance Rid, an open-circuit voltage gain μ, and an output resistance ro1.
Use the following numerical values: μ = 1000 V/V, Rid = ∞, ro1 = 1 kΩ, gm = 5 mA/V, ro|Q = 20 kΩ, Rs = ∞,
R1 = 10 kΩ, and R2 = 90 kΩ.
Find the ideal closed-loop gain Io/Is and the feedback factor β.
Find the A circuit and hence A, Ri, and Ro.
Find Af, Rif, Rin, Rof, and Rout.
Figure 11.30 (a) Circuit for Example 11.10.
Figure 11.30 (b) Circuit for Example 11.10.

(a)
(b)
(c)
(d)
(e)
(f)
Figure 11.30 (c) Circuit for Example 11.10.
Figure 11.30 (d) Circuit for Example 11.10.
Video Example VE 11.4 Systematic Analysis of a Feedback Current Amplifier
The feedback current amplifier in Fig. VE11.4 utilizes two identical NMOS transistors sized so that at ID = 0.1
mA they operate at VOV = 0.2 V. Both devices have Vt = 0.5 V and VA = 10 V.
If Is has zero dc component, show that both Q1 and Q2 are operating at ID = 0.1 mA. What is the
dc voltage at the input?
Find the ideal value of Af = Io/Is, and the value of β.
Find gm and ro for each of Q1 and Q2.
Find the A circuit and the value of Ri, A, and Ro.
Find Aβ and Af.
Find Rin and Rout.
∨Show Solution


11.16
11.17
For the amplifier in Example 11.10, find the values of Af, Rin, and Rout when the value of μ is 10 times
lower, that is, when μ = 100.
If in the circuit in Fig. 11.30(a), R2 is short-circuited, find the ideal value of Af. For the case Rs = Rid =
∞, give expressions for Ri, Ro, A, β, Af, Rin, and Rout.
∨Show Answer
∨Show Answer

1.
2.
3.
4.
5.
6.
7.
11.6 Summary of the Feedback-Analysis Method
Table 11.2 (found in the Summary Tables supplement online at www.oup.com/he/sedrasmith8e) summarizes
the rules and relationships used in the analysis and design of the four types of feedback amplifier. In addition
to the wealth of information found there, we offer the following important tips:
Always begin the analysis by determining the ideal value of the closed-loop gain Af. This is done by
assuming the open-loop gain A = ∞, which results in Vi = 0 and Ii = 0. Straightforward analysis is then
performed to find Af |ideal ≡ xo/xs. The feedback factor is then found as β = 1/Af |ideal. Note also that
with Vi and Ii equal to zero, the feedback circuit will be isolated and clearly evident.
Sketch the two-port feedback circuit and determine its loading effects R11 and R22.
Sketch the A circuit and analyze it to determine A, Ri, and Ro.
Calculate Aβ, which must always be a positive dimensionless number, and the amount of feedback (1
+ Aβ).
Use the feedback formulas to determine Af, Rif, and Rof. Check Af versus the ideal value found in step
1; the difference should be approximately (100/Aβ)%.
Extract Rs from Rif and RL from Rof to determine Rin and Rout, respectively.
In using negative feedback to improve the properties of an amplifier under design, the first step is to
select the feedback topology appropriate for the application. Then you can ascertain the required
amount of negative feedback (1 + Aβ) using the fact that it is this quantity that determines the
magnitude of improvement in the various amplifier parameters. Also, you can determine the feedback
factor β from the required closed-loop gain Af; β = 1/Af |ideal.
Table 11.2 Summary of Relationships for the Four Feedback-Amplifier Topologies


(11.29)
(11.30)
(11.31)
11.7 The Stability Problem
Negative-feedback amplifiers suffer from a serious problem: the amplifier may become unstable and
oscillate–that is, generate signals on its own, a clearly undesirable behavior! In the remainder of this chapter,
we study why and how this unstable behavior can happen, and most importantly what to do to ensure stable
operation of the feedback amplifier.
In a feedback amplifier such as that represented by the general structure of Fig. 11.1, the open-loop gain
A is generally a function of frequency, and it should therefore be more accurately called the open-loop
transfer function, A(s). Also, we have been assuming for the most part that the feedback network is
resistive and hence that the feedback factor β is constant, but this need not be always the case. We shall
therefore assume that in the general case the feedback transfer function is β(s). It follows that the closed-
loop transfer function Af (s) is given by
To focus attention on the points central to our discussion in this section, we shall assume that the amplifier is
direct coupled with constant dc gain A0 and with poles and zeros occurring in the high-frequency band. Also,
for the time being let us assume that at low frequencies, β(s) reduces to a constant value. Thus at low
frequencies the loop gain A(s)β(s) becomes a constant, which should be a positive number; otherwise the
feedback would not be negative. The question then is: What happens at higher frequencies?
For physical frequencies s = jω, Eq. (11.29) becomes
Thus the loop gain A(jω)β(jω) is a complex number that can be represented by its magnitude and phase,
It is the manner in which the loop gain varies with frequency that determines the stability or instability of the
feedback amplifier. To appreciate this fact, consider the frequency at which the phase angle ϕ(ω) becomes
180°. At this frequency, ω180, the loop gain A(jω)β(jω) will be a real number with a negative sign. Thus at
this frequency the feedback will become positive. If at ω = ω180 the magnitude of the loop gain is less than
unity, then from Eq. (11.30) we see that the closed-loop gain Af(jω) will be greater than the open-loop gain
A(jω), since the denominator of Eq. (11.30) will be smaller than unity. Nevertheless, the feedback amplifier
will be stable.
On the other hand, if at the frequency ω180 the magnitude of the loop gain is equal to unity, it follows
from Eq. (11.30) that Af(jω) will be infinite. This means that the amplifier will have an output for zero input;
this is by definition an oscillator. To visualize how this feedback loop may oscillate, consider the general
loop of Fig. 11.1 with the external input xs set to zero. Any disturbance in the circuit, such as the closure of
the power-supply switch, will generate a signal xi(t) at the input to the amplifier. Such a noise signal usually

contains a wide range of frequencies, and we shall now concentrate on the component with frequency ω =
ω180, that is, the signal Xi sin (ω180t). This input signal will result in a feedback signal given by
Since Xf is further multiplied by –1 in the summer block at the input, we see that the feedback causes the
signal Xi at the amplifier input to be sustained. That is, from this point on, there will be sinusoidal signals at
the amplifier input and output of frequency ω180. Thus the amplifier is said to oscillate at the frequency
ω180.
The question now is: What happens if at ω180 the magnitude of the loop gain is greater than unity? We
shall answer this question, not in general, but for the restricted yet very important class of circuits in which
we are interested here. The answer, which is not obvious from Eq. (11.30), is that the circuit will oscillate,
and the oscillations will grow in amplitude until some nonlinearity (which is always present in some form)
reduces the magnitude of the loop gain to exactly unity, at which point sustained oscillations will be
obtained. This mechanism for starting oscillations by using positive feedback with a loop gain greater than
unity, and then using a nonlinearity to reduce the loop gain to unity at the desired amplitude, will be
exploited in the design of sinusoidal oscillators in Chapter 15. Our objective here is just the opposite: Now
that we know how oscillations could occur in a negative-feedback amplifier, we wish to find methods to
prevent their occurrence.
Example 11.11
Consider a feedback amplifier for which the open-loop transfer function A(s) is
Let the feedback factor β be a constant independent of frequency. Find the frequency ω180 at which the phase
shift of Aβ is 180°. Then find the maximum value that β can have, βcr, before the amplifier oscillates. Hence,
find the lowest value of closed-loop gain for which the amplifier is stable.
∨Show Solution

(11.32)
11.8 Effect of Feedback on the Amplifier Poles
The frequency response and stability of an amplifier are determined directly by its poles. Therefore we shall
investigate the effect of feedback on the poles of the amplifier.7
11.8.1 Stability and Pole Location
We begin by considering the relationship between stability and pole location. For an amplifier or any other
system to be stable, its poles must lie in the left half of the s plane. A pair of complex-conjugate poles on the
jω axis gives rise to sustained sinusoidal oscillations. Poles in the right half of the s plane give rise to
growing oscillations.
To verify the statement above, consider an amplifier with a pole pair at s = σ0 ± jωn. If this amplifier is
subjected to a disturbance, such as that caused by closure of the power-supply switch, its transient response
will contain terms of the form
This is a sinusoidal signal with an envelope 
 Now if the poles are in the left half of the s plane, then σ0
will be negative and the oscillations will decay exponentially toward zero, as shown in Fig. 11.31(a),
indicating that the system is stable. If, on the other hand, the poles are in the right half-plane, then σ0 will be
positive, and the oscillations will grow exponentially (until some nonlinearity limits their growth), as shown
in Fig. 11.31(b). Finally, if the poles are on the jω axis, then σ0 will be zero and the oscillations will be
sustained, as shown in Fig. 11.31(c).
Although the discussion above is in terms of complex-conjugate poles, it can be shown that the existence
of any right-half-plane poles results in instability.

(11.33)
Figure 11.31 Relationship between pole location and transient response.
11.8.2 Poles of the Feedback Amplifier
From the closed-loop transfer function in Eq. (11.29), we see that the poles of the feedback amplifier are the
zeros of 1 + A(s)β(s). That is, the feedback amplifier poles are obtained by solving the equation
which is called the characteristic equation of the feedback loop. It should therefore be apparent that
applying feedback to an amplifier changes its poles.
In the following, we shall consider how feedback affects the amplifier poles. For this purpose we shall
assume that the open-loop amplifier has real poles and no finite zeros (i.e., all the zeros are at s = ∞). This

(11.34)
(11.35)
(11.36)
(11.37)
will simplify the analysis and enable us to focus our attention on the fundamental concepts involved. We
shall also assume that the feedback factor β is independent of frequency.
11.8.3 Amplifiers with a Single-Pole Response
Consider first the case of an amplifier whose open-loop transfer function is characterized by a single pole:
We can easily show that the closed-loop transfer function is given by
Thus the feedback moves the pole along the negative real axis to a frequency ωPf,
This process is illustrated in Fig. 11.32(a). Figure 11.32(b) shows Bode plots for |A| and |Af|. Note that while
at low frequencies the difference between the two plots is 20 log(1 + A0β), the two curves coincide at high
frequencies. One can show that this indeed is the case by approximating Eq. (11.35) for frequencies ω ≫
ωP(1 + A0β):
Physically speaking, at such high frequencies the loop gain is much smaller than unity and the feedback is
ineffective.
Figure 11.32(b) clearly shows that applying negative feedback to an amplifier extends its bandwidth at
the expense of a reduction in gain. Since the pole of the closed-loop amplifier never enters the right half of
the s plane, the single-pole amplifier is stable for any value of β. Thus this amplifier is said to be
unconditionally stable. This result, however, is hardly surprising, since the phase lag associated with a
single-pole response can never be greater than 90°. Thus the loop gain never achieves the 180° phase shift
required for the feedback to become positive.

11.18
(11.38)
(11.39)
(11.40)
Figure 11.32 Effect of feedback on (a) the pole location and (b) the frequency response of an amplifier having a single-
pole, open-loop response.
EXERCISE
An op amp having a single-pole rolloff at 100 Hz and a low-frequency gain of 105 is operated in a
feedback loop with β = 0.01. What is the factor by which feedback shifts the pole? To what frequency?
If β is changed to a value that results in a nominal closed-loop gain of +1, to what frequency does the
pole shift?
11.8.4 Amplifiers with a Two-Pole Response
Consider next an amplifier whose open-loop transfer function is characterized by two real-axis poles:
In this case, the closed-loop poles are obtained from 1 + A(s)β = 0, which leads to
Thus the closed-loop poles are given by
From Eq. (11.40) we see that as the loop gain A0β is increased from zero, the poles are brought closer
together. Then a value of loop gain is reached at which the second term in Eq. (11.40) becomes zero and the
∨Show Answer

(11.41)
poles become coincident. If the loop gain is further increased, the poles become complex conjugate and
move along a vertical line. Figure 11.33 shows the locus of the poles for increasing loop gain. This plot is
called a root-locus diagram, where “root” refers to the fact that the poles are the roots of the characteristic
equation.
From the root-locus diagram of Fig. 11.33 we see that this feedback amplifier also is unconditionally
stable. Again, this result should come as no surprise; the maximum phase shift of A(s) in this case is 180°
(90° per pole), but this value is reached at ω = ∞. Thus there is no finite frequency at which the phase shift
reaches 180°.
Figure 11.33 Root-locus diagram for a feedback amplifier whose open-loop transfer function has two real poles.
Another observation to make on the root-locus diagram of Fig. 11.33 is that the open-loop amplifier
might have a dominant pole, but this is not necessarily the case for the closed-loop amplifier. The response
of the closed-loop amplifier can, of course, always be plotted once the poles have been found from Eq.
(11.40). As is the case with second-order responses generally, the closed-loop response can show a peak (see
Chapter 14). To be more specific, the characteristic equation of a second-order network can be written in the
standard form
where ω0 is called the pole frequency and Q is called pole Q factor. The poles are complex if Q is greater
than 0.5. A geometric interpretation for ω0 and Q of a pair of complex-conjugate poles is given in Fig. 11.34,
from which we note that ω0 is the radial distance of the poles from the origin and that Q indicates the
distance of the poles from the jω axis. Poles on the jω axis have Q = ∞.

(11.42)
Figure 11.34 Definition of ω0 and Q of a pair of complex-conjugate poles.
By comparing Eqs. (11.39) and (11.41), we obtain the Q factor for the poles of the feedback amplifier as
From the study of second-order network responses in Chapter 14, it will be seen that the response of the
feedback amplifier under consideration shows no peaking for Q ≤ 0.707. The boundary case corresponding
to Q = 0.707 (poles at 45° angles) results in the maximally flat response. Figure 11.35 shows a number of
possible responses obtained for various values of Q (or, correspondingly, various values of A0β).
Figure 11.35 Normalized gain of a two-pole feedback amplifier for various values of Q. Note that Q is determined by the
loop gain according to Eq. (11.42).

11.19
EXERCISE
An amplifier with a low-frequency gain of 100 and poles at 104 rad/s and 106 rad/s is incorporated in a
negative-feedback loop with feedback factor β. For what value of β do the poles of the closed-loop
amplifier coincide? What is the corresponding Q of the resulting second-order system? For what value
of β is a maximally flat response achieved? What is the low-frequency closed-loop gain in the
maximally flat case?
11.8.5 Amplifiers with Three or More Poles
Figure 11.36 shows the root-locus diagram for a feedback amplifier whose open-loop response is
characterized by three poles. As indicated, increasing the loop gain from zero moves the highest-frequency
pole outward while the two other poles are brought closer together. As A0β is increased further, the two poles
become coincident and then become complex and conjugate. A value of A0β exists at which this pair of
complex-conjugate poles enters the right half of the s plane, thus causing the amplifier to become unstable.
Figure 11.36 Root-locus diagram for an amplifier with three poles. The arrows indicate the pole movement as A0β is
increased.
This result is not entirely unexpected, since an amplifier with three poles has a phase shift that reaches –
270° as ω approaches ∞. Thus there exists a finite frequency, ω180, at which the loop gain has 180° phase
shift.
∨Show Answer

11.20
From the root-locus diagram of Fig. 11.36, we observe that one can always maintain amplifier stability
by keeping the loop gain A0β smaller than the value corresponding to the poles entering the right half-plane.
That is, for a given open-loop gain A0, there exists a maximum value for β above which the feedback
amplifier becomes unstable. Alternatively, we can state that there exists a minimum value for the closed-loop
gain Af0 below which the amplifier becomes unstable. To obtain lower values of closed-loop gain, one needs
therefore to alter the loop transfer function A(s)β. This is the process known as frequency compensation. We
shall study the theory and techniques of frequency compensation in Section 11.10.
Before leaving this section, we point out that construction of the root-locus diagram for amplifiers having
three or more poles as well as finite zeros is an involved process for which a systematic procedure exists.
However, such a procedure will not be presented here, and the interested reader may consult Haykin (1970).
Although the root-locus diagram provides the amplifier designer with considerable insight, other, simpler
techniques based on Bode plots can be effectively employed, as we will explain in Section 11.9.
EXERCISE
Consider a feedback amplifier for which the open-loop transfer function A(s) is given by
Let the feedback factor β be frequency independent. Find the closed-loop poles as functions of β, and show that
the root locus is that of Fig. E11.20. Also find the value of β at which the amplifier becomes unstable. (Note:
This is the same amplifier that was considered in Example 11.11.)

Figure E11.20
∨Show Answer

11.9 Stability Study Using Bode Plots
11.9.1 Gain and Phase Margins
From Section 11.7 we know that whether a feedback amplifier is or is not stable can be determined by
examining its loop gain Aβ as a function of frequency. One of the simplest and most effective means for
doing this is through the use of a Bode plot for Aβ, such as the one shown in Fig. 11.37. (Note that because
the phase approaches –360°, the circuit examined is a fourth-order one.) The feedback amplifier whose loop
gain is plotted in Fig. 11.37 will be stable, since at the frequency of 180° phase shift, ω180, the magnitude of
the loop gain is less than unity (negative dB). The difference between the value of |Aβ| at ω180 and unity,
called the gain margin, is usually expressed in decibels. The gain margin represents the amount by which
the loop gain can be increased while stability is maintained. Feedback amplifiers are usually designed to
have sufficient gain margin to allow for the inevitable changes in loop gain with temperature, time, and so
on.
Figure 11.37 Bode plot for the loop gain Aβ illustrating the definitions of the gain and phase margins.
Another way to investigate the stability and to express its degree is to examine the Bode plot at the
frequency for which |Aβ| = 1, which is the point at which the magnitude plot crosses the 0-dB line. If at this
frequency, ω1, the phase angle is less (in magnitude) than 180°, then the amplifier is stable. This is the
situation illustrated in Fig. 11.37. The difference between the phase angle at this frequency and 180° is

11.21
(11.43)
(11.44)
(11.45)
(11.46)
(11.47)
termed the phase margin. On the other hand, if at the frequency of unity loop-gain magnitude, the phase lag
is in excess of 180°, the amplifier will be unstable.
EXERCISE
Consider an op amp having a single-pole, open-loop response with A0 = 105 and fP = 10 Hz. Let the op
amp be ideal otherwise (infinite input impedance, zero output impedance, etc.). If this amplifier is
connected in the noninverting configuration with a nominal low-frequency, closed-loop gain of 100,
find the frequency at which |Aβ| = 1. Also, find the phase margin.
11.9.2 Effect of Phase Margin on Closed-Loop Response
Feedback amplifiers are normally designed with a phase margin of at least 45°. The amount of phase margin
has a profound effect on the shape of the closed-loop gain response. To derive this relationship, refer to Fig.
11.37. We see that at ω1,
where
At ω1 the closed-loop gain is
Substituting from Eq. (11.43) gives
Thus the magnitude of the gain at ω1 is
Assuming that the feedback amplifier has a large low-frequency loop gain, that is, A0β ≫ 1, then
∨Show Answer

(11.48)
11.22
(11.49)
which enables us to write Equation (11.47) as
This relationship can be used to determine the relative peaking of the response for a given phase margin. For
example, for a phase margin of 45°, θ = 135° and Eq. (11.48) provides
That is, the gain peaks by a factor of 1.3 above its low-frequency value. This peaking increases as the phase
margin is reduced, eventually reaching ∞ when the phase margin is zero. Zero phase margin, of course,
implies that the amplifier can sustain oscillations (poles on the jω axis).
EXERCISE
Find the closed-loop gain at ω1 relative to the low-frequency gain when the phase margin is 30°, 60°,
and 90°.
11.9.3 An Alternative Approach for Investigating Stability
Investigating stability by constructing Bode plots for the loop gain Aβ can be a tedious and time-consuming
process, especially if we have to investigate the stability of a given amplifier for a variety of feedback
networks. An alternative approach, which is much simpler, is to construct a Bode plot for the open-loop gain
A(jω) only. Assuming for the time being that β is independent of frequency, we can plot 20 log(1/β) as a
horizontal straight line on the same plane used for 20 log|A|. The difference between the two curves will be
which is the loop gain (in dB). We may therefore study stability by examining the difference between the two
plots. If we wish to evaluate stability for a different feedback factor, we simply draw another horizontal
straight line at the level 20 log(1/β). Note, specifically, that the point at which the horizontal straight line 20
log(1/β) intersects the |A| graph is the frequency ω1 at which |AB| = 1. At this frequency, the magnitude of the
amplifier phase must be less than 180° for the closed-loop amplifier to be stable.
To illustrate, consider an amplifier whose open-loop transfer function is characterized by three poles. For
simplicity let the three poles be widely separated—say, at 0.1 MHz, 1 MHz, and 10 MHz, as shown in Fig.
11.38. Note that because the poles are widely separated, the phase is approximately –45° at the first pole
frequency, –135° at the second, and –225° at the third. The frequency at which the phase of A(jω) is –180°
lies on the –40-dB/decade segment, as indicated in Fig. 11.38.
∨Show Answer

(11.50)
Figure 11.38 Stability analysis using Bode plot of A.
The open-loop gain of this amplifier can be expressed as
from which |A| can be easily determined for any frequency f (in Hz), and the phase can be obtained as

(11.51)
11.23
The magnitude and phase graphs shown in Fig. 11.38 are obtained using the method for constructing Bode
plots (Appendix F). These graphs provide approximate values, with more exact values obtainable from Eqs.
(11.50) and (11.51). For example, the frequency f180 at which the phase angle is 180° can be found from Fig.
11.38 to be approximately 3.2×106 Hz. Using this value as a starting point, a more exact value can be found
by trial and error using Eq. (11.51). The result is f180 = 3.34 × 106 Hz. At this frequency, Eq. (11.50) gives a
gain magnitude of 58.2 dB, which is reasonably close to the approximate value of 60 dB given by Fig. 11.38.
To determine the maximum value of β, βcr, at which the amplifier can be stable, albeit with zero margins,
we locate f180 on the |A| graph (point X0) and draw a horizontal straight line. This will be the line at a height
of approximately 60 dB. Thus, 20 log (1/βcr) = 60 dB, which results in βcr = 10−3 and a corresponding
closed-loop gain Af of approximately 60 dB. Thus, the amplifier whose open-loop frequency response is
shown in Fig. 11.38 cannot be used for closed-loop gains lower than 60 dB or 1000 V/V. In fact, even with a
closed-loop gain of 60 dB, the feedback amplifier may oscillate since no margin is left to allow for possible
change of gain.
Consider next the straight line labeled (a) in Fig. 11.38. This line represents a feedback factor for which
20 log(1/β) = 85 dB, which corresponds to β = 5.623 × 10−5 and a closed-loop gain of 83.6 dB. Since the
loop gain is the difference between the |A| curve and the 1/β line, the point of intersection X1 corresponds to
the frequency at which |Aβ| = 1. Using the graphs of Fig. 11.38, this frequency can be found to be
approximately 5.6×105 Hz. (A more exact value of 4.936×105 can be obtained using the transfer function
equations.) At this frequency the phase angle is approximately –108°. Thus the closed-loop amplifier, for
which 20 log(1/β) = 85 dB, will be stable with a phase margin of 72°. The gain margin can be easily obtained
from Fig. 11.38; it is 25 dB.
Next, suppose that we wish to use this amplifier to obtain a closed-loop gain of 50-dB nominal value.
Since A0 = 100 dB, we see that A0β ≫ 1 and 20 log(A0β) 
 50 dB, resulting in 20 log(1/β) 
 50 dB. To
verify that this closed-loop amplifier will not be stable, we draw line (b) in Fig. 11.38 with a height of 50 dB.
This line intersects the open-loop gain curve at point X2, where the corresponding phase is greater than 180°.
Thus the closed-loop amplifier with 50-dB gain will be unstable.
Since the 180°-phase point always occurs on the –40-dB/decade segment of the Bode plot for |A|, a rule
of thumb to guarantee stability is as follows: The closed-loop amplifier will be stable if the 20 log(1/β) line
intersects the 20 log|A| curve at a point on the –20-dB/decade segment. Following this rule ensures that a
phase margin of at least 45° is obtained.
The rule of thumb above can be generalized for the case in which β is a function of frequency. The
general rule states that at the intersection of 20 log[1/|β(jω)|] and 20 log|A(jω)| the difference of slopes
(called the rate of closure) should not exceed 20 dB/ decade.
EXERCISE
For the amplifier whose open-loop-gain frequency response is shown in Fig. 11.38, find the value of β
that results in a phase margin of 45°. What is the corresponding closed-loop gain?
∨Show Answer


11.10 Frequency Compensation
In the previous section we found that there is a minimum closed-loop gain for which the feedback amplifier
is stable (60 dB for the amplifier in Fig. 11.38). The question naturally arises as to what to do if the desired
closed-loop gain is lower than this minimum. The answer is to appropriately modify the open-loop frequency
response A(s). This process, known as frequency compensation, will be studied in this section.
11.10.1 Theory
The simplest method of frequency compensation consists of introducing a new pole in the function A(s) at a
frequency, fD, sufficiently low that the modified open-loop gain, A′(s), intersects the 20 log(1/|β|) curve with
a slope difference of 20 dB/decade. For example, imagine that we are required to compensate the amplifier
whose A(s) is shown in Fig. 11.39 so that closed-loop amplifiers with β as high as 10−2 (i.e., closed-loop
gains as low as approximately 40 dB) will be stable. First, we draw a horizontal straight line at the 40-dB
level to represent 20 log(1/β), as shown in Fig. 11.39. We then locate point Y on this line at the frequency of
the first pole, fP1. From Y we draw a line with –20-dB/decade slope and determine the point at which this
line intersects the dc gain line, point Y′. This latter point gives the frequency fD of the new pole that has to be
introduced in the open-loop transfer function.
The compensated open-loop response A′(s) is indicated in Fig. 11.39. It has four poles: at fD, fP1, fP2, and
fP3. Thus |A′| begins to roll off with a slope of –20 dB/decade at fD. At fP1 the slope changes to – 40
dB/decade, at fP2 it changes to – 60 dB/decade, and so on. Since the 20 log(1/β) line intersects the 20log|A′|
curve at point Y on the –20-dB/decade segment, the closed-loop amplifier with this β value (or lower values)
will be stable.
A serious disadvantage of this compensation method is that at most frequencies the open-loop gain has
been drastically reduced. This means that at most frequencies the amount of feedback available will be
small. Since all the advantages of negative feedback are directly proportional to the amount of feedback, the
performance of the compensated amplifier will be impaired.
A close look at Fig. 11.39 reveals that the gain A′(s) is low because of the pole at fP1. If we can somehow
eliminate this pole, then—rather than locating point Y, drawing YY′, and so on—we can start from point Z (at
the frequency of the second pole) and draw the line ZZ′. This would result in the open-loop curve A′′(s),
which shows much higher gain than A′(s).
Although it is not possible to eliminate the pole at fP1, it is usually possible to shift that pole from f = fP1
to 
. This makes the pole dominant and eliminates the need for introducing an additional lower-
frequency pole, as will be explained next.

Figure 11.39 Frequency compensation for β = 10−2. The response labeled A′ is obtained by introducing an additional
pole at fD. The A′′ response is obtained by moving the original low-frequency pole to 
.
11.10.2 Implementation
We will now explain how to implement the frequency-compensation scheme discussed above. The amplifier
circuit normally consists of a number of cascaded gain stages, with each stage responsible for one or more of
the transfer function poles. Through manual and/or computer analysis of the circuit, we can identify the stage
that introduces each of the important poles fP1, fP2, and so on. For now, let’s assume that the first pole fP1 is
introduced at the interface between the two cascaded differential stages shown in Fig. 11.40(a). In Fig.
11.40(b) we show a simple small-signal model of the circuit at this interface. Current source Ix represents the
output-signal current of the Q1−Q2 stage. Resistance Rx and capacitance Cx represent the total resistance and
capacitance between the two nodes B and B′. It follows that the pole fP1 is given by

(11.52)
(11.53)
Figure 11.40 (a) Two cascaded gain stages of a multistage amplifier. (b) Equivalent circuit for the interface between the
two stages in (a). (c) Same circuit as in (b), but with a compensating capacitor CC added. Note that the analysis here
applies equally well to MOS amplifiers.
Let us now connect the compensating capacitor CC between nodes B and B′. This will result in the modified
equivalent circuit shown in Fig. 11.40(c), from which we see that the pole introduced will no longer be at
fP1; rather, the pole can be at any desired lower frequency 
:
We can conclude that by selecting an appropriate value for CC we can shift the pole frequency from fP1 to
the value 
 determined by point Z′ in Fig. 11.39.

(11.54)
A disadvantage of this implementation method is that the required value of CC is usually quite large.
Thus if the amplifier to be compensated is an IC op amp, it will be difficult, and probably impossible, to
include this compensating capacitor on the IC chip. (As pointed out in Chapter 8 and in Appendix A, the
maximum practical size of a monolithic capacitor is about 100 pF.) An elegant solution to this problem is to
connect the compensating capacitor in the feedback path of an inverting amplifier stage. Because of the
Miller effect (Section 10.2), the compensating capacitance will be multiplied by the stage gain, resulting in a
much larger effective capacitance. Furthermore, as explained later, another unexpected benefit accrues.
11.10.3 Miller Compensation and Pole Splitting
Figure 11.41(a) shows one gain stage in a multistage amplifier. For simplicity, the stage is shown as a
common-emitter amplifier, but in practice it can be a more elaborate circuit. In the feedback path of this
common-emitter stage we have placed a compensating capacitor Cf .
Figure 11.41(b) shows a simplified equivalent circuit of the gain stage of Fig. 11.41(a). Here R1 and C1
represent the total resistance and total capacitance between node B and ground. Similarly, R2 and C2
represent the total resistance and total capacitance between node C and ground. Furthermore, it is assumed
that C1 includes the Miller component due to capacitance Cμ, and C2 includes the input capacitance of the
succeeding amplifier stage. Finally, Ii represents the output signal current of the preceding stage.
Figure 11.41 (a) A gain stage in a multistage amplifier with a compensating capacitor connected in the feedback path,
and (b) equivalent circuit. Note that although a BJT is shown, the analysis applies equally well to the MOSFET case.
In the absence of the compensating capacitor Cf, we can see from Fig. 11.41(b) that there are two poles—
one at the input and one at the output. Let us assume that these two poles are fP1 and fP2 of Fig. 11.39; thus,
With Cf present, analysis of the circuit yields the transfer function

(11.55)
(11.56)
(11.57)
(11.58)
(11.59)
The zero is usually at a much higher frequency than the dominant pole, and we shall neglect its effect. The
denominator polynomial D(s) can be written in the form
where 
 are the new frequencies of the two poles. Normally one of the poles will be dominant; 
. Thus,
Equating the coefficients of s in the denominator of Eq. (11.55) and in Eq. (11.57) results in
which can be approximated by
To obtain 
 we equate the coefficients of s2 in the denominator of Eq. (11.55) and in Eq. (11.57) and use
Eq. (11.58):
From Eqs. (11.58) and (11.59), we see that as Cf is increased, 
 is reduced and 
 is increased. This
action is referred to as pole splitting. Note that the increase in 
 is highly beneficial; it allows us to move
point Z (see Fig. 11.39) further to the right, thus resulting in higher compensated open-loop gain. Finally,
note from Eq. (11.58) that Cf is multiplied by the Miller effect factor gmR2, thus resulting in a much larger
effective capacitance, gmR2Cf. In other words, the required value of Cf will be much smaller than that of CC
in Fig. 11.40.
Example 11.12

11.24
11.25
Consider an op amp whose open-loop transfer function is identical to that shown in Fig. 11.38. We wish to
compensate this op amp so that the closed-loop amplifier with resistive feedback is stable for any gain (i.e., for β
up to unity). Assume that the op-amp circuit includes a stage such as that of Fig. 11.41 with C1 = 100 pF, C2 = 5
pF, and gm = 40 mA/V, that the pole at fP1 is caused by the input circuit of that stage, and that the pole at fP2 is
introduced by the output circuit. Find the value of the compensating capacitor for two cases: if it is connected
between the input node B and ground or if it is connected in the feedback path of the transistor.
EXERCISES
A multipole amplifier having a first pole at 1 MHz and a dc open-loop gain of 100 dB is to be
compensated for closed-loop gains as low as 20 dB by the introduction of a new dominant pole. At
what frequency must the new pole be placed?
For the amplifier described in Exercise 11.24, rather than introducing a new dominant pole, we can use
additional capacitance at the circuit node at which the first pole is formed to reduce the frequency of
the first pole. If the frequency of the second pole is 10 MHz and if it remains unchanged while
additional capacitance is introduced as mentioned, find the frequency to which the first pole must be
lowered so that the resulting amplifier is stable for closed-loop gains as low as 20 dB. By what factor
must the capacitance at the controlling node be increased?
∨Show Solution
∨Show Answer
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
Negative feedback is employed to make the amplifier gain less sensitive to component variations; to
control input and output resistances; to extend bandwidth; to reduce nonlinear distortion; and to
enhance signal-to-interference ratio.
The advantages above are obtained at the expense of a reduction in gain and at the risk of the amplifier
becoming unstable (that is, oscillating). The latter problem is solved by careful design.
The structure of an ideal negative-feedback amplifier is shown in Fig. 11.1. Table 11.1 (in the online
Summary Tables supplement) summarizes the parameters and relationships governing the operation of
the ideal structure.
For each of the four basic types of amplifier, there is an appropriate feedback topology. The four
topologies, together with their analysis procedure and their effects on input and output impedances, are
summarized in Table 11.2 in the online Summary Tables supplement.
The key feedback parameters are the loop gain (Aβ), which for negative feedback must be a positive
dimensionless number, and the amount of feedback (1 + Aβ). The latter directly determines gain
reduction, gain desensitivity, bandwidth extension, and changes in Ri and Ro.
The loop gain Aβ can be determined by breaking the feedback loop, as illustrated in Figs. 11.2 and
11.11. The value of Aβ can be used together with the feedback factor β to determine A and hence Af .
This method, though simple, is incomplete as it does not enable the determination of the input and
output resistances. For these, we utilize the systematic method for feedback analysis (refer to Table
11.2).
A series connection at the input or output of a feedback amplifier results in increasing the input or
output resistance, respectively, by (1 + Aβ). A parallel or shunt connection reduces these resistances.
Always begin the analysis by determining the ideal value of the closed-loop gain Af . This is done by
assuming the open-loop gain A = ∞ which results in Vi = 0 and Ii = 0. Straightforward analysis is then
performed to find Af |ideal = xo/xs. The feedback factor is then found as β = 1/ Af |ideal. Note also that
with Vi and Ii equal to zero, the feedback circuit will be clearly evident.
The ideal or upper-bound value of the closed-loop gain Af is 1/β and is approached when Aβ ≫ 1 and
obtained for A = ∞.
Since A and β are in general frequency dependent, the poles of the feedback amplifier are obtained by
solving the characteristic equation 1 + A(s)β(s) = 0.
For the feedback amplifier to be stable, its poles must all be in the left half of the s plane.
Stability is guaranteed if at the frequency for which the phase angle of Aβ is 180° (i.e., ω180), |Aβ| is
less than unity; the amount by which it is less than unity, expressed in decibels, is the gain margin.
Alternatively, the amplifier is stable if, at the frequency at which |Aβ| = 1, the phase angle is less than
180°; the difference is the phase margin.
The stability of a feedback amplifier can be analyzed by constructing a Bode plot for |A| and
superimposing on it a plot for 20log1/|β|. Stability is guaranteed if the two plots intersect with a
difference in slope no greater than 20 dB/decade.

■
■
To make a given amplifier stable for a given feedback factor β, the open-loop frequency response is
suitably modified by a process known as frequency compensation.
A popular method for frequency compensation involves connecting a feedback capacitor across an
inverting stage in the amplifier. This causes the pole formed at the input of the amplifier stage to shift
to a lower frequency and thus become dominant, while the pole formed at the output of the amplifier
stage is moved to a very high frequency and thus becomes unimportant. This process is known as pole
splitting.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
View additional practice problems for this chapter with complete solutions
Section 11.1: The General Feedback Structure
11.1 A negative-feedback amplifier has a closed-loop gain Af = 100 and an open-loop gain A = 104. Find the values
of the amount of feedback, the loop gain, and the feedback factor β. If a manufacturing error results in a reduction
in A of 10%, what closed-loop gain results? What is the percentage change in Af corresponding to this 10%
reduction in A? Repeat for the case A changes to 103.
D11.2 Design a feedback amplifier with an ideal closed-loop gain of 100. What is the required value of β? If the
maximum deviation of the closed-loop gain from the ideal value is to be limited to 1%, what are the minimum
required values of the loop gain and the open-loop gain?
11.3 Consider the op-amp circuit shown in Fig. P11.3, where the op amp has infinite input resistance and zero
output resistance but finite open-loop gain A.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
Figure P11.3
By setting A = ∞, find expresssions for Af |ideal and β.
If R1 = 10 kΩ, find R2 that results in Af = 10 V/V for the following three cases: (i) A = 1000 V/V; (ii) A = 100
V/V; (iii) A = 20 V/V.
For each of the three cases in (b), find the percentage change in Af that results when A decreases by 10%.
Comment on the results.
11.4 The noninverting buffer op-amp configuration shown in Fig. P11.4 provides a direct implementation of the
feedback loop of Fig. 11.1. Assuming that the op amp has infinite input resistance and zero output resistance, what
is β? If A = 1000, what is the closed-loop voltage gain? What is the amount of feedback (in dB)? For Vs = 1 V, find
Vo and Vi. If A decreases by 10%, what is the corresponding percentage decrease in Af ?
Figure P11.4
D 11.5 Design a feedback amplifier to have an ideal closed-loop gain of 10 and to have an amount of feedback of at
least 40 dB. What is the required value of β? What is the minimum required value of the open-loop gain? What is
the corresponding realized value of closed-loop gain?
11.6 In a particular circuit represented by the block diagram of Fig. 11.1, a signal of 1 V from the source results in a
difference signal of 10 mV being provided to the amplifying element A, and 4 V appearing at the output. For this
arrangement, identify the values of A and β that apply.
11.7 In a particular amplifier design, the β network consists of a linear potentiometer for which β is 0.00 at one end,
1.00 at the other end, and 0.50 in the middle. As the potentiometer is adjusted, find the three values of closed-loop
gain that result when the amplifier open-loop gain is (a) 1 V/V, (b) 10 V/V, (c) 100 V/V, (d) 1000 V/V, and (e)
10,000 V/V. Provide your results in a table in which there is a row for each value of A and a column for each value
of β.
11.8 A newly constructed feedback amplifier undergoes a performance test with the following results: With the
feedback connection removed, a source signal of 2 mV is required to provide a 3-V output; with the feedback
connected, a 3-V output requires a 100-mV source signal. For this amplifier, identify values for A, Af, the amount
of feedback, Aβ, and β.
D 11.9 An amplifier has an open-loop gain with a nominal value of 1000 but can vary from unit to unit by as much
as ±50% of nominal. It is required to apply negative feedback to this amplifier so that the variability of the closed-
loop gain of the resulting feedback amplifier is limited to ±1%. What is the largest possible nominal value of
closed-loop gain that can be achieved? Now if three of these feedback amplifiers are placed in cascade, what is the
nominal value of the gain of the resulting cascade amplifier? What is the expected variability of this gain?
Section 11.2: Some Properties of Negative Feedback
∨Show Answer
∨Show Answer

11.10 For the negative-feedback loop of Fig. 11.1, find the loop gain Aβ for which the sensitivity of closed-loop
gain to open-loop gain [i.e., (dAf /Af )/(dA/A)] is –40 dB. For what value of Aβ does the sensitivity become 0.1?
D11.11 A designer is considering two possible designs of a feedback amplifier. The goal is Af = 10 V/V. One design
employs an amplifier for which A = 1000 V/V and the other uses A = 500 V/V. Find the desensitivity factor and β in
both cases. If the A = 1000 amplifier units have a gain uncertainty of ±10%, what is the gain uncertainty for the
closed-loop amplifiers utilizing this amplifier type? If the same result is to be achieved with the A = 500 amplifier,
what is the maximum allowable uncertainty in its gain?
D11.12 A designer is required to achieve a closed-loop gain of 20 ± 0.1% V/V using a basic amplifier whose gain
variation is ±10%. What nominal value of A and β (assumed constant) are required?
D11.13 A circuit designer requires a gain of 20 ± 1% V/V using an amplifier whose gain varies by a factor of 10
over temperature and time. What is the lowest open-loop gain required? The value of β? (Hint)
D*11.14 A power amplifier employs an output stage whose gain varies from 2 to 12 for various reasons. What is
the gain of an ideal (nonvarying) amplifier connected to drive it so that an overall gain with feedback of 100 ± 5%
V/V can be achieved? What is the value of β to be used? What are the requirements if Af must be held within
±0.5%? For each of these situations, what preamplifier gain and feedback factor β are required if Af is to be 10 V/V
(with the two possible tolerances)? (Hint)
D*11.15 Design an amplifier with a gain of 100 that is accurate to within ±1%. You have available amplifier stages
with a gain of 1000 that is accurate to within ±20%. Provide a design that uses a number of these gain stages in
cascade, with each stage employing negative feedback of an appropriate amount. Obviously, your design should
use the lowest possible number of stages while meeting specification. What is the actual gain range realized in your
design?
D *11.16 Design an amplifier to have a nominal closed-loop gain of 10 V/V using a battery-operated amplifier
whose gain reduces to half its normal full-battery value over the life of the battery. If only 1% drop in closed-loop
gain is desired, what nominal open-loop amplifier gain must be used in the design? (Note that since the change in A
is large, it is inaccurate to use differentials.) What value of β should be chosen? If component-value variation in the
β network may produce as much as a ±1% variation in β, to what value must A be raised to ensure the required
minimum gain?
D 11.17 Design a feedback amplifier that has a closed-loop gain of 100 V/V and is relatively insensitive to change
in basic-amplifier gain. In particular, it should provide a reduction in Af to 99 V/V for a reduction in A to one-tenth
its nominal value. What is the required loop gain? What nominal value of A is required? What value of β should be
used? What would the closed-loop gain become if A were increased tenfold? If A were made infinite?
11.18 An operational amplifier has a dc open-loop gain of 100 dB and a uniform −20 dB/decade gain rolloff with a
3-dB frequency of 100 Hz. Find the amount of feedback and the feedback factor required to obtain the following dc
closed-loop gains. In each case specify the 3-dB frequency of the feedback amplifier and the gain–bandwidth
product.
(a) 60 dB; (b) 40 dB; (c) 20 dB; and (d) 0 dB.
D 11.19 Design a feedback amplifier with a dc gain of 10 V/V and a 3-dB bandwidth of at least 10 MHz. The
available open-loop amplifier has a dc gain of 1000 V/V and −20 dB/decade gain rolloff with frequency. Specify
the minimum required f3dB of the open-loop amplifier. What is the feedback factor needed?
11.20 Consider an amplifier having a midband gain AM and a low-frequency response characterized by a pole at s =
−ωL and a zero at s = 0. Let the amplifier be connected in a negative-feedback loop with a feedback factor β. Find
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
an expression for the midband gain and the lower 3-dB frequency of the closed-loop amplifier. By what factor have
both changed?
D *11.21 Design an amplifier with a low-frequency gain of 1000 and a 3-dB frequency of 1 MHz. You have
available gain stages with a gain of 1000 but with a dominant high-frequency pole at 20 kHz. Provide a design that
employs a number of such stages in cascade, each with negative feedback of an appropriate amount. Use identical
stages.
Hint
D 11.22 A particular amplifier has a nonlinear transfer characteristic that can be approximated as follows:
For small input signals, |vI | ≤ 5 mV, vO/vI = 103.
For intermediate input signals, 5 mV ≤ |vI| ≤ 55 mV, ∆vO/∆vI = 102.
For large input signals, |vI| ≥ 55 mV, the output saturates.
If the amplifier is connected in a negative-feedback loop, find the feedback factor β that reduces the factor-of-10
change in gain (occurring at |vI| = 5 mV) to only a 10% change. What is the transfer characteristic vO versus vS of
the amplifier with feedback?
*11.23 The complementary BJT follower shown in Fig. P11.23(a) has the approximate transfer characteristic
shown in Fig. P11.23(b). Observe that for −0.7 V ≤ vI ≤ +0.7 V, the output is zero. This “dead band” leads to
crossover distortion (see Section 12.3). Consider this follower to be driven by the output of a differential amplifier
of gain 100 whose positive-input terminal is connected to the input signal source vS and whose negative-input
terminal is connected to the emitters of the follower. Sketch the transfer characteristic vO versus vS of the resulting
feedback amplifier. What are the limits of the dead band, and what are the gains outside the dead band?
Figure P11.23 (a)
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
Figure P11.23 (b)
Section 11.3: The Feedback Voltage Amplifier
D 11.24 For the feedback voltage amplifier of Fig. 11.9(a), let the op amp have an infinite input resistance, a zero
output resistance, and a finite open-loop gain of 1000 V/V. If R1 = 10 kΩ, what value should R2 have to obtain an
ideal closed-loop gain of 10? Now, calculate the loop gain Aβ and use it to find the actual value of the closed-loop
gain Af . If Af is to be exactly 10, what must the value of R2 be?
D 11.25 Consider the series–shunt feedback amplifier in Fig. 11.13(a), which is analyzed in Example 11.4.
If R1 = 10 kΩ, find the value of R2 that results in an ideal closed-loop gain of 10.
Use the expression for Aβ derived in Example 11.4 to find the value of the loop gain for the case μ = 1000, Rid
= 100 kΩ, ro = 2 kΩ, Rs = 20 kΩ, and RL = 10 kΩ. Hence determine the value of the closed-loop gain Af.
By what factor must μ be increased to ensure that Af is within 1% of the ideal value of 10?
D 11.26 Consider the series–shunt feedback amplifier of Fig. 11.9(b) that is analyzed in Example 11.3.
If R1 = 1 kΩ, what value must R2 have to obtain a closed-loop gain whose ideal value is 5 V/V?
If gm1 = gm2 = 5 mA/V, RD1 = RD2 = 12 kΩ, and the MOSFET’s ro is very large, use the expression for Aβ
derived in Example 11.3 to find the value of Aβ and hence determine the closed-loop gain Af .
D 11.27 Consider the series–shunt feedback amplifier of Fig. 11.9(c), which was the subject of Exercise 11.5.
Assume that the voltage divider (R1, R2) is implemented with a 1- MΩ potentiometer. Assume that the MOSFET is
biased so that gm = 5 mA/V and ro is large. Also, RD = 12 kΩ. Find the value of R1 that results in a closed-loop
gain of 5 V/V.
D 11.28 Figure P11.28 shows a series–shunt feedback amplifier known as a “feedback triple.” All three
MOSFETs are biased to operate at gm = 4 mA/V. You may neglect their ro’s.
∨Show Answer
∨Show Answer

(a)
(b)
(a)
Figure P11.28
 
Select a value for RF that results in a closed-loop gain that is ideally 10 V/V.
Determine the loop gain Aβ and hence the value of Af . By what percentage does Af differ from the ideal value
you designed for? How can you adjust the circuit to make Af equal to 10?
*11.29 In the series–shunt feedback amplifier shown in Fig. P11.29, the devices operate with VBE = 0.7 V and have
β1 = β2 = 100. The input signal Vs has a zero dc component. Resistances Rs = 100 Ω, R1 = 1 kΩ, R2 = 10 kΩ, and
RL = 1 kΩ.
Figure P11.29
If the loop gain is large, what do you expect the closed-loop gain to be? Give both an expression and its value.
∨Show Answer

(b)
(c)
(d)
(a)
(b)
Find the dc emitter current in each of Q1 and Q2. Also, find the dc voltage at the emitter of Q2.
Calculate the value of the loop gain Aβ. (Hint: Set Vs = 0 and break the loop at the base of Q1. Simplify the
circuit by eliminating dc sources.)
Calculate the value of Af .
11.30 Figure P11.30 shows a series–shunt feedback amplifier without details of the bias circuit.
Figure P11.30
If RE is selected to be 50 Ω, find the value for RF that results in a closed-loop gain with an ideal value of 20
V/V.
If Q1 is biased at 0.5 mA, Q2 at 1 mA, and Q3 at 5 mA, and assuming that the transistors have β = 100 and
large ro, and that RC1 = 2 kΩ and RC2 = 1 kΩ, find the value of the loop gain Aβ and hence of the closed-loop
gain Af .
D 11.31 The current-mirror-loaded differential amplifier in Fig. P11.31 has a feedback network consisting of the
voltage divider (R1, R2), with R1 + R2 = 1 MΩ. The devices are sized to operate at |VOV| = 0.2 V. For all devices,
|VA | = 10 V. The input signal source has a zero dc component.
∨Show Answer
∨Show Answer

(a)
(b)
Figure P11.31
Find the loop gain Aβ and hence the value of A.
Find the values of R1 and R2 that result in a closed-loop gain of exactly 5 V/V.
Section 11.4: Systematic Analysis of Feedback Voltage Amplifiers (Series–Shunt)
11.32 A series–shunt feedback amplifier employs a basic amplifier with input and output resistances each of 2 kΩ
and gain A = 2000 V/V. The feedback factor β = 0.1 V/V. Find the gain Af, the input resistance Rif, and the output
resistance Rof of the closed-loop amplifier.
11.33 For a particular amplifier connected in a feedback loop in which the output voltage is sampled, measurement
of the output resistance before and after the loop is connected shows a change by a factor of 100. Is the resistance
with feedback higher or lower? What is the value of the loop gain Aβ? If Rof is 100 Ω, what is Ro without
feedback?
11.34 The formulas for Rif and Rof in Eqs. (11.22) and (11.25), respectively, also apply for the case in which A is a
function of frequency. In this case, the resulting impedances Zif and Zof will be functions of frequency. Consider the
case of a series–shunt amplifier that has an input resistance Ri, an output resistance Ro, and open-loop gain A =
A0/[1 + (s/ωH)], and a feedback factor β that is independent of frequency. Find Zif and Zof and give an equivalent
circuit for each, together with the values of all the elements in the equivalent circuits.
11.35 A feedback amplifier utilizing voltage sampling and employing a basic voltage amplifier with a gain of 1000
V/V and an input resistance of 1000 Ω has a closed-loop input resistance of 100 kΩ. What is the closed-loop gain?
If the basic amplifier is used to implement a unity-gain voltage buffer, what input resistance do you expect?
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
(d)
(e)
(f)
11.36 Consider the noninverting op-amp circuit of Example 11.5 for the case R1 = ∞ and R2 = 0.
What is the value of β, and what is the ideal value of the closed-loop gain?
Adapt the expressions found in Example 11.5 to obtain expressions for A and Aβ for this case.
For μ = 104, Rid = 100 kΩ, Rs = 10 kΩ, ro = 1 kΩ, and RL = 2 kΩ, find A, Aβ, Af, Rin, and Rout.
SIM D *11.37 Figure P11.37 shows a series–shunt amplifier with a feedback factor β = 1. The amplifier is designed
so that vO = 0 for vS = 0, with small deviations in vO from 0 V dc being minimized by the negative-feedback action.
The technology utilized has 
 = 400 µA/V2, |Vt| = 0.35 V, and 
 = 10 V/µm.
Figure P11.37
Show that the feedback is negative.
With the feedback loop opened at the gate of Q2, and the gate terminals of Q1 and Q2 grounded, find the dc
current and the overdrive voltage at which each of Q1 to Q5 is operating. Ignore the Early effect. Also find the
dc voltage at the output.
Find gm and ro of each of the five transistors.
Find expressions and values of A and Ro. Assume that the bias current sources are ideal.
Find the gain with feedback, Af, and the output resistance Rout.
How would you modify the circuit to realize a closed-loop voltage gain of 5 V/V? What is the value of output
resistance obtained?

(a)
(b)
(c)
(d)
(e)
(a)
(b)
*11.38 This problem deals with the series–shunt feedback amplifier of Fig. P11.29 and overlaps somewhat with
Problem 11.29. Thus, if you have already solved 11.29, you can use some of the results in the solution of this
problem. The devices operate with VBE = 0.7 V and have β1 = β2 = 100. The input signal Vs has a zero dc
component. Resistances Rs = 100 Ω, R1 = 1 kΩ, R2 = 10 kΩ, and RL = 1 kΩ.
If the loop gain is large, what do you expect the closed-loop gain Vo/Vs to be? Give both an expression and its
approximate value.
Find the dc emitter current in each of Q1 and Q2. Also find the dc voltage at the emitter of Q2.
Sketch the A circuit without the dc sources. Derive expressions for A, Ri, and Ro, and find their values.
Give an expression for β and find its value.
Find the closed-loop gain Vo/Vs, the input resistance Rin, and the output resistance Rout. By what percentage
does the value of Af differ from the approximate value found in (a)?
*11.39 Figure P11.39 shows a series–shunt amplifier in which the three MOSFETs are sized to operate at |VOV| =
0.2 V. Let |Vt| = 0.5 V and |VA| = 10 V. The current sources utilize single transistors and thus have output resistances
equal to ro.
Figure P11.39
Show that the feedback is negative.
Assuming the loop gain to be large, what do you expect the closed-loop voltage gain Vo/Vs to be
approximately?
∨Show Answer

(c)
(d)
(e)
(f)
(g)
(a)
(b)
(c)
(d)
(e)
(f)
(g)
(a)
(b)
(c)
(d)
(e)
(f)
If Vs has a zero dc component, find the dc voltages at nodes S1, G2, S3, and G3. Verify that each of the current
sources has the minimum required dc voltage across it for proper operation.
Find the A circuit. Calculate the gain of each of the three stages and the overall voltage gain, A.
[Hint]
Find β.
Find Af = Vo/Vs. By what percentage does this value differ from the approximate value obtained in (b)?
Find the output resistance Rout.
D *11.40 This problem deals with the series–shunt feedback amplifier of Fig. P11.31. Certain aspects of
this amplifier were considered in Problem 11.31. If you have already solved problem 11.31, you will
have the opportunity to compare results. The current-mirror-loaded differential amplifier has a feedback
network consisting of the voltage divider (R1, R2), with R1 + R2 = 1 MΩ. The devices are sized to
operate at |VOV| = 0.2 V. For all devices, |VA| = 10 V. The input signal source has a zero dc component.
Show that the feedback is negative.
What do you expect the dc voltage at the gate of Q2 to be? At the output? (Neglect the Early effect.)
Find the A circuit. Derive an expression for A and find its value.
Select values for R1 and R2 to obtain a closed-loop voltage gain Vo/Vs = 5 V/V.
Find the value of Rout.
Utilizing the open-circuit closed-loop gain (5 V/V) and the value of Rout found in (e), find the value of gain
obtained when a resistance RL = 10 kΩ is connected to the output.
As an alternative approach to (f) above, redo the analysis of the A circuit including RL. Then utilize the values
of R1 and R2 found in (d) to determine β and Af . Compare the value of Af to that found in (f).
D *11.41 Figure P11.30 shows a series–shunt feedback amplifier without details of the bias circuit.
Eliminating the dc sources, sketch the A circuit and the circuit for determining β.
Show that the ideal value of the closed-loop voltage gain is given by
If RE is selected equal to 50 Ω, find RF that will result in a closed-loop gain of approximately 20 V/V.
If Q1 is biased at 0.5 mA, Q2 at 1 mA, and Q3 at 5 mA, and assuming that the transistors have β = 100, find
approximate values for RC1 and RC2 to obtain gains from the stages of the A circuit as follows: a voltage gain
of Q1 of about –10 V/V and a voltage gain of Q2 of about –50 V/V.
For your design, what is the closed-loop voltage gain realized?
Calculate the input and output resistances of the closed-loop amplifier designed.
D *11.42 Figure P11.42 shows a three-stage feedback amplifier:
A1 has an 82- kΩ differential input resistance, a 20-V/V open-circuit differential voltage gain, and a 3.2- kΩ output
resistance.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
(h)
(i)
(j)
(a)
(b)
(c)
A2 has a 5- kΩ input resistance, a 20-mA/V short-circuit transconductance, and a 20- kΩ output resistance.
A3 has a 20- kΩ input resistance, unity open-circuit voltage gain, and a 1- kΩ output resistance.
The feedback amplifier feeds a 1- kΩ load resistance and is fed by a signal source with a 9- kΩ resistance.
Figure P11.42
Show that the feedback is negative.
If R1 = 20 kΩ, find the value of R2 that results in a closed-loop gain Vo/Vs that is ideally 5 V/V.
Supply the small-signal equivalent circuit.
Sketch the A circuit and determine A.
Find β and the amount of feedback.
Find the closed-loop gain Af ≡ Vo/Vs.
Find the feedback amplifier’s input resistance Rin.
Find the feedback amplifier’s output resistance Rout.
If the high-frequency response of the open-loop gain A is dominated by a pole at 100 Hz, what is the upper 3-
dB frequency of the closed-loop gain?
If for some reason A1 drops to half its nominal value, what is the percentage change in Af ?
Section 11.5: Other Feedback-Amplifier Types
D 11.43 Negative feedback is to be used to modify the characteristics of a particular amplifier for various purposes.
Identify the feedback topology to be used if:
input resistance is to be lowered and output resistance raised.
both input and output resistances are to be raised.
both input and output resistances are to be lowered.
11.44 A feedback transconductance amplifier is to have an ideal closed-loop gain of 10 mA/V. Find the required
value of β. If the open-loop transconductance amplifier has a gain of 1 A/V, an input resistance of 10 kΩ, and an
output resistance of 100 kΩ, find the actual closed-loop gain, the input resistance, and the output resistance of the
feedback amplifier.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
11.45 Figure P11.45(a) shows a feedback transconductance amplifier using an op amp together with an NMOS
transistor. The feedback network consists of a resistor RF that senses the output current Io (recall that the drain and
source currents of a MOSFET are equal) and provides a feedback voltage that is subtracted from Vs by means of
the differencing action of the op-amp input.
Figure P11.45 (a)
Figure P11.45 (b)
Setting A = ∞, find the ideal closed-loop gain Io/Vs.
Find the value of RF that results in an ideal closed-loop gain of 10 mA/V.
Find an expression for the loop gain Aβ by setting Vs = 0, breaking the loop, and applying an input test voltage
Vt, as shown in Fig. P11.45(b). Assume the input resistance of the op amp to be very high.
For μ = 1000, and assuming the MOSFET has gm = 2mA/V and ro = 20 kΩ, find the values of Aβ, A, and Af .
D 11.46 Figure P11.46 shows a feedback current amplifier. The feedback network consists of the highlighted two-
port network comprising RM and RF. It is fed with the output current Io and delivers a feedback current If at its port
∨Show Answer

1 to the input node.
Figure P11.46
(a) By setting the open-loop gain to ∞, which results in Ii = 0 and hence Vi = 0, show that the ideal closed-loop gain
is
Selecting RF = 1 kΩ, find RM that results in an ideal closed-loop gain of −5 A/A.
(b) Find an expression for β.
(c) Setting Is = 0, break the loop at the gate of Q2 and thus determine the loop gain Aβ. Neglecting ro of each of Q1
and Q2 show that
(d) Find an expression for the closed-loop gain Af .
(e) For gm1 = gm2 = 4 mA/V, RD = 10 kΩ, and RF = 1 kΩ, find the value of RM that results in a closed-loop gain of
−5 A/A. Compare to the value found in (a).
D 11.47 A basic transresistance amplifier has an open-loop gain A ≡ Vo/Is of 100 V/mA, an input resistance of 1
kΩ, and an output resistance of 1 kΩ. What feedback topology is required to reduce both input and output
resistance to 10 Ω? What is the value of β required to achieve this? What is the resulting closed-loop gain?
Feedback Transconductance Amplifiers (Series–Series)

(a)
(b)
11.48 A series–series feedback amplifier employs a transconductance amplifier having a short-circuit
transconductance Gm of 0.6 A/V, input resistance of 10 kΩ, and output resistance of 100 kΩ. The feedback network
has β = 200 Ω, an input resistance (with port 1 open-circuited) of 200 Ω, and an input resistance (with port 2 open-
circuited) of 10 kΩ. The amplifier operates with a signal source having a resistance of 10 kΩ and with a load
resistance of 10 kΩ. Find Af, Rin, and Rout.
11.49 The feedback transconductance amplifier in Fig. P11.45(a) uses a differential voltage amplifier
with a gain μ and a very high input resistance, and a MOSFET Q having gm = 5 mA/V and ro = 20 kΩ.
Design the circuit to obtain an ideal closed-loop transconductance of 10 mA/V and an output resistance
Rout of 5 MΩ. What are the values required for RF and μ? Also, what is the actual value obtained of the
closed-loop transconductance?
11.50 Reconsider the circuit in Fig. 11.24(a), analyzed in Example 11.8, this time with the output voltage taken at
the emitter of Q3. In this case the feedback can be considered to be of the series–shunt type. Note that RE2 should
now be considered part of the basic amplifier and not of the feedback network.
Find expressions for Af |ideal ≡ Ve3/Vs and β. Also, find the values of both.
If the loop gain remains at the value calculated in Example 11.8 (that is, 246.3), find the actual value realized
of the closed-loop voltage gain Ve3/Vs. Also, find the value of the output resistance Rout measured between the
emitter of Q3 and ground. Neglect the effect of ro3.
Note: If you analyze this circuit from scratch, you will find that the loop gain is slightly different than the
value found in Example 11.8. This is due to the different approximations inherent in the feedback analysis
method.
11.51 Figure P11.51 shows a feedback transconductance amplifier composed of a differential voltage amplifier A1
with an input resistance Rid, an open-circuit voltage gain A1, and an output resistance ro1, connected in cascade
with a common-source MOSFET Q2 having a transconductance gm2 and an output resistance ro2.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
(a)
(b)
(c)
(d)
(e)
Figure P11.51
Setting A = ∞, find an expression for Af |ideal = Io/Vs.
Find an expression for β and give the β circuit.
Find the loading effects of the β circuit; that is, resistances R11 and R22.
Give the A circuit with A1 and Q2 replaced with their equivalent circuits.
Find an expression for A. Simplify the expression for the case Rid ≫ (Rs + RF) and ro2 ≫ (RL + RF).
Use the simplified expression for A to determine Af, Rin, and Rout.
For RF = 200 Ω, A1 = 200 V/V, Rid = 100 kΩ, gm2 = 2 mA/V, ro2 = 20 kΩ, and Rs = RL = 1 kΩ, find the values
of Af, Rin, and Rout.
D 11.52 Figure P11.28 shows a feedback triple utilizing MOSFETs. All three MOSFETs are biased and sized to
operate at gm = 5 mA/V. You may neglect their ro’s (except for the calculation of Rout1, as indicated below).
Setting A = ∞, derive an expression for the ideal closed-loop gain Af |ideal = Io/Vs. Use this expression to
determine the value of RF that results in Af |ideal = 100 mA/V.
Give the β circuit, and find the value of β and the two loading resistances R11 and R22.
Sketch the A circuit and find the value of A.
Find (1 + Aβ) and Af . Compare to the value of Af you designed for. What is the percentage difference? What
resistance can you change to make Af exactly 100 mA/V, and in which direction (increase or decrease)?
Assuming ro3 = 20 kΩ, find Ro of the A circuit. [Recall that the resistance looking into the drain of a MOSFET
having a resistance Rs in its source is (ro + Rs + gmroRs).] Hence, find the output resistance of the feedback
transconductance amplifier Rout1. Since the current sampled by the feedback network is exactly equal to the
output current, you can use the feedback formula.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
D 11.53 The feedback transconductance amplifier in Fig. P11.53 uses a differential amplifier with a voltage gain μ,
an input resistance Rid = 100 kΩ, and an output resistance ro1 = 1 kΩ; and a MOSFET with gm = 2mA/V and ro2 =
20 kΩ.
Find the value of R2 that results in the closed-loop gain Io/Vs having an ideal value of 100 mA/V.
Find the value of β and sketch the two-port feedback circuit.
Figure P11.53
Find the loading effects of the feedback circuit, R11 and R22.
Give the A circuit and find an expression for A in terms of μ.
Find the value of μ that results in a 40-dB amount of feedback.
Find the realized value of Af .
Find Rin and Rout.
11.54 Consider the circuit in Fig. P11.54 as a transconductance amplifier with input Vs and output Io. The transistor
is specified in terms of its gm and ro.
Figure P11.54
∨Show Answer

(a)
(b)
(c)
Sketch the small-signal equivalent circuit using the hybrid-π model of the MOSFET and convince yourself
that the feedback circuit is comprised of resistor RF.
Find the β circuit and the A circuit.
Derive expressions for A, β, (1 + Aβ), Af, Ro, and Rof .
*11.55 Show that the output resistance of the BJT circuit in Fig. P11.55 is given by
Figure P11.55
To derive this expression, set Vs = 0, replace the BJT with its small-signal, hybrid-π model, apply a test voltage Vx
to the collector, and find the current Ix drawn from Vx and hence Ro as Vx/Ix. Note that the bias arrangement is not
shown. For the case of Rb = 0, find the maximum possible value for Ro. Note that this theoretical maximum is
obtained when Re is so large that the signal current in the emitter is nearly zero. In this case, with Vx applied and Vs
= 0, what is the current in the base, in the gmVπ generator, and in ro, all in terms of Ix? Show these currents on a
sketch of the equivalent circuit with Re set to ∞.
11.56 As we found out in Example 11.8, whenever the feedback network senses the emitter current of the BJT, the
feedback output resistance formula cannot predict the output resistance looking into the collector. To understand
this issue more clearly, consider the feedback transconductance amplifier shown in Fig. P11.56(a). To determine the
output resistance, we set Vs = 0 and apply a test voltage Vx to the collector, as shown in Fig. P11.56(b). Now, let μ
be increased to the point where the feedback signal across RF almost equals the input to the positive terminal of the
differential amplifier, now zero. Thus the signal current through RF will be almost zero. By replacing the BJT with
its hybrid-π model, show that

Figure P11.56 (a)
Figure P11.56 (b)
where hfe is the transistor β. Thus for large amounts of feedback, Rout is limited to a maximum of hfero independent
of the amount of feedback. This phenomenon does not occur in the MOSFET version of this circuit, where the
output resistance can be theoretically made infinite.
11.57 For the feedback transconductance amplifier of Fig. P11.57 derive expressions for A, β, Aβ, Af, Ro, and Rof.
Evaluate Af and Rof for the case of gm1 = gm2 = 4 mA/V, RD = 25 kΩ, ro2 = 20 kΩ, RF = 100 Ω, and RL = 1 kΩ. For

(a)
(b)
simplicity, neglect ro1 and take ro2 into account only when calculating output resistances. Also, evaluate the output
resistance Rout seen between the two terminals of RL.
Figure P11.57
SIM 11.58 All the MOS transistors in the feedback transconductance amplifier (series–series) of Fig. P11.58 are
sized to operate at |VOV| = 0.2 V. For all transistors, |Vt| = 0.4 V and |VA| = 20 V.
Figure P11.58
If Vs has a zero dc component, find the dc voltage at the gate of Q2, at the drain of Q1, and at the drain of Q2.
Find an expression and value for Af ≡ Io/Vs for the case Aβ ≫ 1.

(c)
(d)
(e)
(a)
Use feedback analysis to obtain a more precise value for Af.
Find the value of Rout.
If the voltage at the source of Q5 is taken as the output, find the voltage gain using the value of Io/Vs obtained
in (c). Also find the output resistance of this series–shunt voltage amplifier.
11.59 By setting Vs = 0 and breaking the feedback loop, show that the loop gain of the amplifier circuit in Fig.
P11.58 is
where gm1,2 is the gm of each of Q1 and Q2.
Feedback Transresistance Amplifiers (Shunt–Shunt)
11.60 A shunt–shunt feedback amplifier uses a transresistance amplifier with an open-circuit transresistance of 100
V/mA, input resistance of 1 kΩ, and output resistance of 1 kΩ. The feedback network has β = 1 mA/V, input
resistance at port 1 with port 2 short-circuited of 1 kΩ, and input resistance at port 2 with port 1 short-circuited of 1
kΩ. The amplifier is fed with a signal current source having a resistance of 10 kΩ, and is connected to a load of 1-
kΩ resistance. Find the closed-loop transresistance Af, the input resistance Rin, and the output resistance, Rout.
11.61 By setting Is = 0, breaking the feedback loop, and replacing the MOSFET with its hybrid-π model, determine
the loop gain of the feedback amplifier in Fig. E11.15. Hence, find the open-loop gain. Evaluate Aβ, β, A, and Af for
the numerical values given in Exercise 11.15. Why do the results differ somewhat from those given in the answer to
Exercise 11.15?
D 11.62 The circuit in Fig. P11.62 utilizes a voltage amplifier with gain μ in a shunt–shunt feedback topology with
the feedback network composed of resistor RF. In order to be able to use the feedback equations, you should first
convert the signal source to its Norton representation. You will then see that the analysis will be similar to that used
in Example 11.9.
Figure P11.62
If the loop gain is very large, what approximate closed-loop voltage gain Vo/Vs is realized? If Rs = 10 kΩ, give
the value of RF that will result in Vo/Vs 
 − 10 V/V.
∨Show Answer
∨Show Answer

(b)
(c)
(a)
(b)
(c)
(d)
(e)
(f)
If the amplifier μ has a dc gain of 103 V/V, an input resistance Rid = 1 MΩ, and an output resistance ro = 1 kΩ,
find the actual Vo/Vs realized. Also find Rin and Rout (indicated on the circuit diagram). You may use formulas
derived in Example 11.9.
If the amplifier μ has an upper 3-dB frequency of 2 kHz and a uniform −20-dB/decade gain rolloff, what is the
3-dB frequency of the gain |Vo/Vs|?
11.63 The CE BJT amplifier in Fig. P11.63 employs shunt–shunt feedback: Feedback resistor RF senses the output
voltage Vo and provides a feedback current to the base node.
Figure P11.63
If Vs has a zero dc component, find the dc collector current of the BJT. Assume the transistor β = 100 and VBE
= 0.7 V.
Find the small-signal equivalent circuit of the amplifier with the signal source represented by its Norton
equivalent (as we usually do when the feedback connection at the input is shunt). Neglect ro.
Find the A circuit and determine the value of A, Ri, and Ro.
Find β and hence Aβ and 1 + Aβ.
Find Af, Rif, and Rof and hence Rin and Rout.
What voltage gain Vo/Vs is realized? How does this value compare to the ideal value obtained if the loop gain
is very large and thus the signal voltage at the base becomes almost zero (like what happens in an inverting
op-amp circuit). Note that this single-transistor poor-man’s op amp is not that bad!
11.64 Analyze the circuit in Fig. E11.15 from first principles (i.e., do not use the feedback approach) and hence
show that
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(g)
Comparing this expression to the one given in Exercise 11.15, part (b), you will note that the only difference is that
gm has been replaced by (gm − 1/RF). Note that −1/RF represents the forward transmission in the feedback network,
which the feedback-analysis method neglects. What is the condition then for the feedback-analysis method to be
reasonably accurate for this circuit?
11.65 The feedback transresistance amplifier in Fig. P11.65 utilizes two identical MOSFETs biased by ideal current
sources I = 0.3 mA. The MOSFETs are sized to operate at VOV = 0.15 V and have Vt = 0.35 V and VA = 6 V. The
feedback resistance RF = 20 kΩ.
Figure P11.65
If Is has a zero dc component, find the dc voltage at the input, at the drain of Q1, and at the output.
Find gm and ro of Q1 and Q2.
Replacing the MOSFETs with their equivalent circuit models, provide the A circuit and derive an expression
for A in terms of gm1, ro1, gm2, ro2, and RF.
What is β? Give an expression for the loop gain Aβ and the amount of feedback (1 + Aβ).
Derive an expression for Af .
Derive expressions for Ri, Rin, Ro, and Rout.
Evaluate A, β, Aβ, Af, Ri, Ro, Rin, and Rout for the component values given.
∨Show Answer

(a)
(b)
(c)
(d)
11.66 By setting Is = 0 and breaking the feedback loop, find the loop gain of the feedback amplifier in Fig. P11.65.
If you have already solved Problem 11.65, compare results. Which result do you think is more accurate, and why?
For the numerical values given in Problem 11.65, by how much (in percent) do the two values of loop gain differ?
11.67 For the feedback transresistance amplifier in Fig. P11.67, let VCC = −VEE = 5 V, RC = 7 kΩ, RE = 11.5 kΩ,
and RF = 10 kΩ. The transistors have VBE = 0.7 V and β = 100.
Figure P11.67
If Is has a zero dc component, show that Q1 and Q2 are operating at equal dc collector currents of
approximately 0.5 mA. What is the dc voltage at the output?
Replacing each of Q1 and Q2 with their equivalent circuit models, find the A circuit and the value of A, Ri, and
Ro. Neglect ro1 and ro2.
Find the value of β, the loop gain, and the amount of feedback.
Find Af ≡ Vo/Is, the input resistance Rin, and the output resistance Rout.
D 11.68 For the feedback amplifier in Fig. P11.68, select a value for RF that results in an ideal closed-loop
gain Af ≡ Vo/Is = −20 V/mA. Then, analyze the circuit to determine the actual value of Af realized. As well,
determine Rin and Rout. Transistors Q1 and Q2 are operated so that gm1 = gm2 = 2 mA/V and ro1 and ro2
can be neglected. Also, RD1 = RD2 = 20 kΩ.
∨Show Answer

Figure P11.68
11.69 The feedback amplifier of Fig. P11.69 consists of a common-gate amplifier formed by Q1 and RD, and a
feedback circuit formed by the capacitive divider (C1, C2) and the common-source transistor Qf . Note that the bias
circuit for Qf is not shown. It is required to derive expressions for Af ≡ Vo/Is, Rin, and Rout. Assume that C1 and C2
are sufficiently small that their loading effect on the basic amplifier can be neglected. Also neglect ro. Find the
values of Af, Rin, and Rout for the case in which gm1 = 5 mA/V, RD = 10 kΩ, C1 = 0.9 pF, C2 = 0.1 pF, and gmf = 2
mA/V.
∨Show Answer

Figure P11.69
D *11.70 Figure P11.70 shows a shunt–shunt feedback amplifier. The MOSFETs have Vtn = 0.4 V, VA = 10 V, and
μnCox = 400 µA/V2. The power supply VDD = 1.8 V, and RL = 10 kΩ. The coupling capacitor CC can be assumed
to be very large.

(a)
(b)
(c)
(d)
(e)
(f)
Figure P11.70
Perform a dc design to meet the following specifications: ID1 = ID2 = 100 µA, IR2, R1 = 10 µA, VOV1 = VOV2 =
0.2 V. Neglect the Early effect. Specify the values required for I1, R1, R2, (W/L)1, and (W/L)2.
Find expressions for the ideal value of Vo/Vs and for β.
Find the value of Rs that results in Vo/Vs being ideally −5V/V.
Find the A circuit and use it to determine the values of A, Ri, and Ro.
Find the value obtained for Vo/Vs.
Find Rin and Rout.
D **11.71 (a) Show that for the circuit in Fig. P11.71(a), if the loop gain is large, the voltage gain Vo/Vs is given
approximately by
Figure P11.71 (a)
Figure P11.71 (b)
(b) Using three cascaded stages of the type shown in Fig. P11.71(b) to implement the amplifier μ, design a
feedback amplifier with a voltage gain of approximately –100 V/V. The amplifier is to operate between a source
∨Show Answer

(i)
(ii)
(iii)
(a)
(b)
resistance Rs = 10 kΩ and a load resistance RL = 1 kΩ. Calculate the actual value of Vo/Vs realized, the input
resistance (excluding Rs), and the output resistance (excluding RL). Assume that the BJTs have hfe of 100. (Note: In
practice, the three amplifier stages are not made identical, for stability reasons.)
Feedback Current Amplifiers (Shunt–Series)
D 11.72 Design the feedback current amplifier of Fig. 11.30(a) to meet the following specifications:
Af ≡ Io/Is = −100 A/A
amount of feedback = 60 dB
Rin = 1 kΩ
Specify the values of R1, R2, and μ. Assume that the amplifier μ has infinite input resistance and that Rs = ∞. For
the MOSFET, gm = 5 mA/V and ro = 20 kΩ. What Rout is obtained?
11.73 Consider the feedback current amplifier in Fig. 11.30(a) (which was analyzed in Example 11.10). Let Rs =
Rid = ∞. By setting Is = 0 and breaking the feedback loop at the gate of Q, find an expression for the loop gain Aβ.
Evaluate Aβ for the component values given in Example 11.10 and hence determine A and Af . Why do the results
differ somewhat from those found in Example 11.10?
11.74 The feedback current amplifier in Fig. P11.74 utilizes two identical NMOS transistors sized so that
at ID = 0.1 mA they operate at VOV = 0.2 V. Both devices have Vt = 0.5 V and VA = 10 V.
 
Figure P11.74
If Is has zero dc component, show that both Q1 and Q2 are operating at ID = 0.2 mA. What is the dc voltage at
the input?
Find the ideal value of Af = Io/Is, and the value of β.
∨Show Answer

(c)
(d)
(e)
(f)
(a)
(b)
(c)
(d)
(e)
Find gm and ro for each of Q1 and Q2.
Find the A circuit and the value of Ri, A, and Ro.
Find Aβ and Af .
Find Rin and Rout.
11.75 For the feedback current amplifier in Fig. P11.46:
Figure P11.76 (a)
Figure P11.76 (b)
Find expressions for the ideal closed-loop gain Io/Is, and β. Also, give the β circuit.
Provide the A circuit and derive expressions for Ri and A. Neglect ro of both transistors.
Find an expression for Aβ.
For gm1 = gm2 = 4 mA/V, RD = 30 kΩ, RM = 200 Ω, and RF = 1 kΩ, find the values of A, β, Aβ, Af, Af |ideal, Ri,
and Rin.
If ro2 = 20 kΩ and RL = 1 kΩ, find the output resistance as seen by RL.
*11.76 The feedback current amplifier in Fig. P11.76(a) can be thought of as a “super” CG transistor. Note that
rather than connecting the gate of Q2 to signal ground, an amplifier is placed between source and gate. As you will
soon find out, this negative feedback has the effect of increasing gm2 by a factor equal to μ.
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(a)
(b)
(c)
(d)
If μ is infinite, what is the signal voltage at the input terminal? What is the input resistance? What is the
current gain Io/Is?
What is the value of β? Also, give the β circuit.
For finite μ but assuming that the input resistance of the amplifier μ is very large, find the A circuit and derive
expressions for A, Ri, and Ro.
Find Aβ and Af. If μ is large, what is the value of Af ?
Find Rin and Rout. Compare to those of a CG transistor.
The “super” CG transistor can be utilized in the cascode configuration as shown in Fig. P11.76(b), where VG
is a dc bias voltage. Replacing Q1 by its small-signal model, use the analogy of the resulting circuit to that in
Fig. P11.76(a) to find Io and Rout. Compare to the regular cascode.
*11.77 Figure P11.77 shows an interesting and very useful application of feedback to improve the performance of
the current mirror formed by Q1 and Q2. Rather than connecting the drain of Q1 to the gate, as is the case in simple
current mirrors, an amplifier of gain +μ is connected between the drain and the gate. Note that the feedback loop
does not include transistor Q2. The feedback loop ensures that the value of the gate-to-source voltage of Q1 is such
that Io1 equals Is. This regulated Vgs is also applied to Q2. Thus, if W/L of Q2 is n times W/L of Q1, Io2 = nIo1 = nIs.
This current tracking, however, is not regulated by the feedback loop.
Figure P11.77
Show that the feedback is negative.
If μ is very large and the input resistance of the amplifier μ is infinite, what dc voltage appears at the drain of
Q1? If Q1 is to operate at an overdrive voltage of 0.2 V, what is the minimum value that VBIAS must have?
Replacing Q1 by its small-signal model, find an expression for the small-signal input resistance Rin assuming
finite gain but infinite input resistance for the amplifier μ. Note that here it is much easier to do the analysis
directly than to use the feedback-analysis approach. For large μ, what does Rin become?
What is the output resistance Rout?
*11.78 The circuit in Fig. P11.78 is an implementation of a particular circuit building block known as second-
generation current convoyer (CCII). It has three terminals besides ground: x, y, and z. The heart of the circuit is
the feedback amplifier consisting of the differential amplifier μ and the complementary source follower (QN, QP).
(Note that this feedback circuit is one we have encountered a number of times in this chapter, albeit with only one

(a)
(b)
(c)
source-follower transistor.) In the following, assume that the differential amplifier has a very large gain μ (ideally
infinite) and infinite differential input resistance. Also, let the two current mirrors have unity current-transfer ratios.
Figure P11.78
If a resistance R is connected between y and ground, a voltage signal Vx is connected between x and ground,
and z is short-circuited to ground. Find the current Iz through the short circuit. Show how this current is
developed and its path for Vx positive and for Vx negative.
If x is connected to ground, a current source Iy is connected to input terminal y, and z is connected to ground,
what voltage appears at y and what is the input resistance seen by Iy? What is the current Iz that flows through
the output short circuit? Also, explain the current flow through the circuit for Iy positive and for Iy negative.
What is the output resistance at z?
SIM *11.79 For the amplifier circuit in Fig. P11.79, assuming that Vs has a zero dc component, find the dc voltages
at all nodes and the dc emitter currents of Q1 and Q2. Let the BJTs have β = 100. Use feedback analysis to find
Vo/Vs and Rin. Let VBE = 0.7 V.

(a)
(b)
(c)
(d)
Figure P11.79
**11.80 Figure P11.80 shows a feedback amplifier utilizing the shunt–series topology. Here, the feedback network,
formed by RE2 and Rf1 senses the emitter current of Q2, Ie2, which should be considered the output quantity of the
feedback amplifier for the purpose of performing the feedback analysis. Of course, the output current Iout is
proportional to Ie2. All transistors have β = 100 and VBE = 0.7 V. Neglect ro except in (g).
Figure P11.80
Perform a dc analysis to find the dc emitter currents in Q1 and Q2 and hence determine their small-signal
parameters.
Replacing the BJTs with their hybrid-π models, give the equivalent circuit of the feedback amplifier.
Find the ideal value of the closed-loop gain Af = Ie2/Is where Is = Vs/Rs. Hence, find the ideal value of the
current gain Iout/Iin.
Find β and give the β circuit.

(e)
(f)
(g)
(a)
(b)
(c)
(d)
Give the A circuit and determine A, Ri, and Ro. Note that Ro is the resistance determined by breaking the
emitter loop of Q2 and measuring the resistance between the terminals thus created.
Find Aβ, 1 + Aβ, Af, Rif, and Rof . Note that Rof represents the resistance that in effect appears in the emitter of
Q2 as a result of the feedback.
Determine Rin, Iout/Iin, and Rout. To determine Rout, use VA2 = 75 V and recall that the maximum possible
output resistance looking into the collector of a BJT is approximately βro, where β is the BJT’s β (see Problem
11.56).
Section 11.7: The Stability Problem
11.81 A feedback amplifier has an open-loop gain A = 104 V/V with a pole at 100 rad/s and two coincident poles at
104 rad/s. The feedback network is resistive with a feedback factor β. Find the frequency of 180° phase shift, the
maximum value that β can have before oscillations start, and the corresponding minimum allowable closed-loop
gain.
11.82 An op amp having a low-frequency gain of 105 V/V and a single-pole rolloff at 103 rad/s is connected in a
negative-feedback loop via a feedback network having a transmission k and a two-pole rolloff at 103 rad/s. Find the
value of k above which the closed-loop amplifier becomes unstable.
11.83 Consider a feedback amplifier for which the open-loop gain A(s)is given by
If the feedback factor β is independent of frequency, find the frequency at which the phase shift is 180°, and find
the critical value of β at which oscillation will commence.
Section 11.8: Effect of Feedback on the Amplifier Poles
11.84 A dc amplifier having a single-pole response with pole frequency 1 kHz and unity-gain frequency of 10 MHz
is operated in a loop whose frequency-independent feedback factor is 0.1. Find the low-frequency gain, the 3-dB
frequency, and the unity-gain frequency of the closed-loop amplifier. By what factor does the pole shift?
11.85 An amplifier has dc open-loop gain of 80 dB and a single pole with 100-Hz frequency. It is utilized to design
a feedback amplifier with a 3-dB frequency of 10 kHz. What β is needed? What is the dc closed-loop gain realized?
Give an expression for Af (s).
11.86 An amplifier having a low-frequency gain of 104 and poles at 103 Hz and 104 Hz is operated in a closed
negative-feedback loop with a frequency-independent β.
For what value of β do the closed-loop poles become coincident? At what frequency?
What is the low-frequency, closed-loop gain corresponding to the situation in (a)? What is the value of the
closed-loop gain at the frequency of the coincident poles?
What is the value of Q corresponding to the situation in (a)?
If β is increased by a factor of 10, what are the new pole locations? What is the corresponding pole Q?
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(b)
D 11.87 A dc amplifier has an open-loop gain of 1000 and two poles, a dominant one at 10 kHz and a high-
frequency one whose location can be controlled. It is required to connect this amplifier in a negative-feedback loop
that provides a dc closed-loop gain of 20 and a maximally flat response. Find the required value of β and the
frequency at which the second pole should be placed. What is the 3-dB frequency of the closed-loop amplifier?
D 11.88 A feedback amplifier having a dc closed-loop gain of 10 and a maximally flat second-order response with
a 3-dB frequency of 1 kHz is required. The open-loop amplifier utilizes a cascade of two identical amplifier stages,
each having a single-pole frequency response. Find the value required for β, and the 3-dB frequency and the dc
gain of each of the two amplifier stages. Give an expression for Af (s). (Hint)
*11.89 Three identical inverting amplifier stages, each characterized by a low-frequency gain K and a single-pole
response with f3dB = 100 kHz, are connected in a feedback loop with β = 1. What is the minimum value of K at
which the circuit oscillates? What would the frequency of oscillation be?
Section 11.9: Stability Study Using Bode Plots
11.90 Reconsider Exercise 11.21 for the case of the op amp wired as a unity-gain buffer. At what frequency is |Aβ|
= 1? What is the corresponding phase margin?
11.91 Reconsider Exercise 11.21 for the case of a manufacturing error introducing a second pole at 103 Hz. What is
now the frequency for which |Aβ| = 1? What is the corresponding phase margin? For what values of β is the phase
margin 45° or more? What is the corresponding value of closed-loop gain?
11.92 (a) Use Eq. (11.48) to show that the peaking factor P ≡ |Af (jω1)|/|Af (0)| is related to the phase margin ϕ by
Use the formula derived in (a) to find the phase margin that results in a peaking of (i) 5%, (ii) 10%, (iii) 0.1
dB, (iv) 1 dB, (v) 3 dB.
11.93 For the amplifier described by Fig. 11.38 and with frequency-independent feedback, what is the minimum
closed-loop voltage gain that can be obtained for phase margins of 90° and 60°?
11.94 An amplifier has a dc gain of 104 and poles at 105 Hz, 3.16 × 105 Hz, and 106 Hz. Find the value of β, and
the corresponding closed-loop gain, for which a phase margin of 45° is obtained.
*11.95 A two-pole amplifier for which A0 = 103 and having poles at 1 MHz and 10 MHz is to be connected as a
differentiator. On the basis of the rate-of-closure rule, what is the smallest differentiator time constant for which
operation is stable?
Section 11.10: Frequency Compensation
D 11.96 A multipole amplifier having a first pole at 2 MHz and a dc open-loop gain of 80 dB is to be compensated
for closed-loop gains as low as unity by the introduction of a new dominant pole. At what frequency must the new
pole be placed?
D 11.97 For the amplifier described in Problem 11.96, rather than introducing a new dominant pole we can use
additional capacitance at the circuit node at which the pole is formed to reduce the frequency of the first pole. If the
frequency of the second pole is 20 MHz and if it remains unchanged while additional capacitance is introduced as
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
mentioned, find the frequency to which the first pole must be lowered so that the resulting amplifier is stable for
closed-loop gains as low as unity. By what factor is the capacitance at the controlling node increased?
11.98 For the amplifier whose A(s) is depicted in Fig. 11.39, to what value must the first pole frequency be lowered
to obtain stable performance for (a) β = 0.001 and (b) β = 0.1?
D11.99 An op amp with an open-loop voltage gain of 80 dB and poles at 105 Hz, 106 Hz, and 2 × 106 Hz is to be
compensated to be stable for unity β. Assume that the op amp incorporates an amplifier equivalent to that in Fig.
11.41, with C1 = 150 pF, C2 = 5 pF, and gm = 40 mA/V, and that fP1 is caused by the input circuit and fP2 by the
output circuit of this amplifier. Find the required value of the compensating Miller capacitance and the new
frequency of the output pole.
11.100 Contemplate the effects of pole splitting by considering Eqs. (11.54), (11.58), and (11.59) under the
conditions that R1 R2 = R, C2 
 C1/10 = C, Cf ≫ C, and gm = 100/R, by calculating ωP1, ωP2, and ωP1, ωP2.
Comment on the results.
11.101 An op amp has a dc gain of 120 dB and three poles: ωP1 = 105 rad/s, ωP2 = 107 rad/s, and ωP3 = 108 rad/s.
The frequency response must be compensated so that the gain has a uniform −20 dB/decade rolloff down to 0 dB
and the 3-dB frequency as high as possible.
Miller compensation is used around one of the stages of the amplifier as shown in Fig. 11.41. Assume that
without Cf connected, the input circuit is responsible for the first pole and the output circuit is responsible for the
second pole. Let C1 = 1 pF, C2 = 0.05 pF, and gm = 10 mA/V. When Cf is connected, assume that the second pole
moves to a frequency higher than that of the third pole.
Provide a neat and clearly labeled sketch of the Bode plot of the magnitude of the open-loop gain of the
uncompensated amplifier. The frequency axis should extend from 10 rad/s to 109 rad/s.
On the same figure, sketch the Bode plot for the magnitude of the gain of the compensated amplifier. Specify
the frequency of the dominant pole and the unity-gain bandwidth of the compensated amplifier.
Give the required value of Cf .
What is the frequency to which the second pole moves?
∨Show Answer

12.1
12.2
12.3
12.4
12.5
12.6
12.7
•
•
•
CHAPTER 12
Output Stages and Power
Amplifiers
Introduction
Classification of Output Stages
Class A Output Stage
Class B Output Stage
Class AB Output Stage
Biasing the Class AB Circuit
CMOS Output Stages
Power Transistors
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The classification of amplifier output stages based on the fraction of the cycle of an input sine wave
during which the transistor conducts.
Analysis and design of a variety of output-stage types ranging from the simple but power-inefficient
emitter follower (class A) to the popular push–pull class AB circuit in both bipolar and CMOS
technologies.
Useful and interesting circuit techniques used in the design of power amplifiers.

Introduction
This chapter describes amplifier stages with large power gain. They must accommodate large voltage and/or
current swings at their output. When used on their own, these stages are power amplifiers. When used as the
final stage of a multistage amplifier, they are output stages. Generating these large swings, while at the
same time maintaining linearity, is a fundamental challenge in the design of such stages. Audio amplifiers
are a classic example: the voltage and current they deliver to a speaker must be sufficient to produce clearly
audible sounds. However, human ears are capable of detecting even very subtle distortions in an audio
waveform, so the power amplifier must also be highly linear. A high-quality audio amplifier can produce a
sinusoidal output whose harmonic content is only a small fraction of a percent relative to the fundamental.
The most challenging requirement in the design of an output stage is that it deliver the required power in
an efficient manner. Recall that an amplifier’s efficiency is the fraction of power delivered to the amplifier
(primarily from its power supplies), which is ultimately delivered to the load. To achieve high efficiency, the
power dissipated in the output-stage transistors must be as low as possible. This prevents overheating the
amplifier transistors, for which there is a maximum operating temperature (in the range of 150°C to 200°C
for silicon devices). High efficiency can also prolong battery life; this is of paramount importance in, for
example, the power amplifiers driving antennae and headphone speakers in mobile phones.
We begin this chapter with a study of the various output-stage configurations used in amplifiers that
handle both low and high power. In this context, “high power” generally means greater than 1 W. Examples
include the transmitter of a cell phone, which is typically required to deliver 1 W of power to its antenna, and
a stereo system that delivers hundreds of watts of audio power to its speakers. Examples of “low-power”
applications that may use similar output stages include a wireless Bluetooth transmitter and an audio
amplifier to drive headphones, both of which must deliver around 10 mW or less.

12.1 Classification of Output Stages
Output stages are classified according to the collector-current waveform generated when we apply an input
signal.1 Figure 12.1 shows the classification for a sinusoidal input signal. The class A stage, whose
associated waveform is shown in Fig. 12.1(a), is biased at a current IC that is greater than the amplitude of
the signal current, Îc. Thus, the transistor in a class A stage conducts for the entire cycle of the input signal,
and the conduction angle is 360°. In contrast, the class B stage, whose associated waveform is shown in Fig.
12.1(b), is biased at zero dc current. So a transistor in a class B stage conducts for only half the cycle of the
input sine wave, giving a conduction angle of 180°. As we will see later, the negative halves of the sinusoid
are supplied by another transistor that also operates in the class B mode and conducts during the alternate
half-cycles.

Figure 12.1 Collector-current waveforms for transistors operating in (a) class A, (b) class B, (c) class AB, and (d) class
C amplifier stages.
An intermediate class between A and B, appropriately named class AB, involves biasing the transistor at
a nonzero dc current much smaller than the peak current of the sine-wave signal. As a result, the transistor
conducts for slightly more than half a cycle, as illustrated in Fig. 12.1(c). The resulting conduction angle is
greater than 180° but much less than 360°. We then use another transistor that conducts for an interval
slightly greater than that of the negative half-cycle, and the currents from the two transistors are combined in
the load. During the intervals near the zero crossings of the input sinusoid, both transistors conduct.
A variation on the class AB, called the class G/H amplifier, utilizes two pairs of power supplies (e.g., the
regular ±30-V supply and a higher-voltage supply of ±70 V). The higher-voltage supply is called upon only

occasionally—for instance, to provide a short burst of high output power for a drum roll. Since the high-
voltage supply operates infrequently, it can be of a low-cost design. Also, this is a more power-efficient
arrangement than would be obtained if a class AB circuit were used and operated continuously from the
higher-voltage supply.
Figure 12.1(d) shows the collector-current waveform for a transistor operated as a class C amplifier. The
transistor conducts less than a half-cycle; that is, the conduction angle is less than 180°. The result is the
periodically pulsating current waveform shown. To obtain a sinusoidal output voltage, this current is passed
through a parallel LC circuit, tuned to the frequency of the input sinusoid. The tuned circuit acts as a
bandpass filter (Chapter 14) and provides an output voltage proportional to the amplitude of the fundamental
component in the Fourier-series representation of the current waveform. Class C amplifiers are intended for
use where the signal is primarily sinusoidal, such as in radio-frequency transmitters. The tuned-resonator
oscillator circuits in Chapter 15 also inherently operate in class C mode.
Class D stages take a very different approach to power amplification. Transistors are operated only as on-
off switches at a frequency much higher than the signal to be amplified. The result is a square waveform
whose average value varies in proportion to the signal being amplified. A popular method for doing this is
pulsewidth modulation (PWM), illustrated in Fig. 12.2. Ideally, the transistors always exhibit either zero
current (when they are off) or zero voltage drop (when they are on). Thus, they dissipate no power, and the
class D audio amplifier can approach 100% efficiency. Naturally, real transistors have finite on-resistance.
Moreover, during switching there can be a momentary short created between the supply voltage and ground.
In addition, it takes some power to turn the output stage transistors on and off. Thus, class D stage efficiency
is limited to values of 85–95%, still well above the efficiency of class A, B, and AB stages.
Figure 12.2 The PWM signal is made of rectangular pulses at constant frequency, whose width varies in proportion to an
audio signal, VA.
We study class A, B, and AB amplifiers in this chapter. They are used as output stages of op amps and
audio power amplifiers. In the latter application, class AB is the preferred choice, for reasons we will explain
in the sections that follow.

(12.1)
12.2 Class A Output Stage
The emitter follower is a popular class A stage. We have already seen, in Chapter 7, that it offers low small-
signal output resistance. Here, we consider its large signal operation and see how its low output resistance
affords good linearity.
12.2.1 Transfer Characteristic
Figure 12.3 shows an emitter follower Q1 biased with a constant current I supplied by transistor Q2. Since
the emitter current iE1 =I + iL, the bias current I must be greater than the largest negative load current;
otherwise, Q1 cuts off and class A operation is no longer maintained.
Figure 12.3 An emitter follower (Q1) biased with a constant current I supplied by transistor Q2.
The transfer characteristic of the emitter follower of Fig. 12.3 is described by
where vBE1 depends on the emitter current iE1 and thus on the load current iL. If we neglect the relatively
small changes in vBE1 (60 mV for every factor-of-10 change in emitter current), we get the linear transfer
curve in Fig. 12.4. As indicated, the positive limit of the linear region is determined by the saturation of Q1;
thus

(12.2)
(12.3)
(12.4)
(12.5)
Figure 12.4 Transfer characteristic of the emitter follower in Fig. 12.3. We obtain a linear characteristic by neglecting
the change in vBE1 with iL. The maximum positive output is determined by the saturation of Q1. In the negative
direction, the limit of the linear region is determined either by Q1 turning off or by Q2 saturating, depending on the
values of I and RL.
This requires vI to exceed VCC. Therefore, vOmax may be reduced if vI is limited by the preceding stage.
In the negative direction, depending on the values of I and RL, the limit of the linear region is determined
either by Q1 turning off,
or by Q2 saturating,
Of these, the limit in (12.4) is lower and therefore provides a wider linear range. It is achieved as long as the
bias current I is greater than the load current corresponding to Eq. (12.4),
Example 12.1

D12.1
12.2
Any change in the slope of the emitter follower’s transfer characteristic, Fig. 12.4, results in distortion. Here, we
perform small-signal analysis to find the incremental gain, hence slope, at several operating points. In Fig. 12.3,
let VCC = 15 V, I = 120 mA, and RL = 100 Ω. Find the incremental (small-signal) gain of the circuit at vO = +10
V, 0 V, and −10 V.
Example 12.1 shows that at low output voltages, iE1 decreases and re1 increases, affecting the slope, Av. In
the example, re1 remains much less than RL over the range |vO| < 10 V, so the linearity is relatively good. If
we want to further improve linearity, we must increase the bias current I. Unfortunately, we will see that this
also increases power dissipation in Q1 and Q2 and lowers efficiency.
EXERCISES
For the emitter follower in Fig. 12.3, VCC = 15 V, VCEsat =0.2 V, VBE =0.7 V and constant, and β is
very high. Find the value of R that will establish a bias current large enough to allow the largest
possible output signal swing for RL =1 kΩ. Determine the resulting output signal swing and the
minimum and maximum emitter currents for Q1.
For the emitter follower of Exercise 12.1, in which I = 14.8 mA and RL = 1 kΩ, consider the case in
which vO is limited to the range –10 V to +10 V. Let Q1 have vBE =0.6 V at iC =1 mA, and assume α 
1. Find vI corresponding to vO = −10 V, 0 V, and +10 V. At each of these points, use small-signal
analysis to find the voltage gain vo/vi. Note that the incremental voltage gain gives the slope of the vO-
versus-vI characteristic.
12.2.2 Signal Waveforms
Consider the operation of the emitter-follower circuit of Fig. 12.3 for sine-wave input. Neglecting VCEsat, we
see that if the bias current I is properly selected, the output voltage can swing from −VCC to +VCC with the
quiescent value being zero, as shown in Fig. 12.5(a). Figure 12.5(b) shows the corresponding waveform of
vCE1 = VCC − vO. Now, assuming that the bias current I is selected to allow a maximum negative load
current of VCC/RL, that is,
∨Show Solution
∨Show Answer
∨Show Answer

(12.6)
Figure 12.5 Maximum signal waveforms in the class A output stage of Fig. 12.3 under the condition I = VCC/RL or,
equivalently, RL = VCC/I. Note that we have neglected the transistor saturation voltages.
the collector current of Q1 will have the waveform in Fig. 12.5(c). Finally, Fig. 12.5(d) shows the waveform
of the instantaneous power dissipation in Q1,
12.2.3 Power Dissipation
Figure 12.5(d) shows that the maximum instantaneous power dissipation in Q1 is VCCI. This is equal to the
power dissipation in Q1 with no input signal applied, that is, the quiescent power dissipation. Thus the
emitter-follower transistor dissipates the largest amount of power when vO =0. Since we could easily have no

(a)
(b)
(12.7)
input signal for prolonged periods of time, transistor Q1 must be able to withstand a continuous power
dissipation of VCCI.
The power dissipation in Q1 depends on the value of RL. Consider the extreme case of an output open
circuit, that is, RL = ∞. In this case, iC1 =I is constant and the instantaneous power dissipation in Q1 will
depend on the instantaneous value of vO. The maximum power dissipation will occur when vO = −VCC, for
in this case vCE1 is a maximum of 2VCC and pD1 =2VCC I. This condition, however, would not normally
persist for a prolonged interval, so the design need not be that conservative. Observe that with an open-
circuit load, the average power dissipation in Q1 is VCCI. A far more dangerous situation occurs at the other
extreme of RL—specifically, RL =0. In the event of an output short circuit, a positive input voltage would
theoretically result in an infinite load current. In practice, a very large current may flow through Q1, and if
the short-circuit condition persists, the resulting large power dissipation in Q1 can raise its junction
temperature beyond the maximum allowed, causing permanent damage. To guard against this, we usually
equip output stages with short-circuit protection.
In designing an emitter-follower stage, we must also consider the power dissipation in Q2. Since Q2
conducts a constant current I, and the maximum value of vCE2 is 2VCC, the maximum instantaneous power
dissipation in Q2 is 2VCCI. This maximum, however, occurs when vO =VCC, a condition that would not
normally prevail for a prolonged period of time. A more significant quantity for design purposes is the
average power dissipation in Q2, which is VCCI.
Example 12.2
Consider the emitter follower in Fig. 12.3 with VCC = 10 V, I = 100 mA, and RL = 100Ω.
Find the power dissipated in Q1 and Q2 under quiescent conditions (vO = 0).
For a sinusoidal output voltage of maximum possible amplitude (neglecting VCEsat), find the
average power dissipation in Q1 and Q2. Also find the load power.
12.2.4 Power-Conversion Efficiency
The power-conversion efficiency of an output stage is defined as
For the emitter follower of Fig. 12.3, assuming that the output voltage is a sinusoid with the peak value 
o,
the average load power will be
∨Show Solution

(12.8)
(12.9)
(12.10)
(12.11)
12.3
Since the current in Q2 is constant (I), the power drawn from the negative supply2 is VCCI. The average
current in Q1 is equal to I, and thus the average power drawn from the positive supply is VCCI. Thus the total
average supply power is
Equations (12.8) and (12.9) can be combined to yield
Since 
o ≤ VCC and 
o ≤ IRL, we reach maximum efficiency when
The maximum efficiency attainable is 25%. Because this is rather low, we rarely use the class A output stage
in high-power applications (>1 W). Note also that in practice the output voltage swing is limited to lower
values to avoid transistor saturation and nonlinear distortion, as illustrated in Example 12.1. Thus the
efficiency in practice is usually in the 10% to 20% range.
EXERCISE
For the emitter follower of Fig. 12.3, let VCC =10 V, I = 100 mA, and RL =100 Ω. If the output voltage
is an 8-V-peak sinusoid, find: (a) the power delivered to the load; (b) the average power drawn from the
supplies; (c) the power-conversion efficiency. Ignore the loss in Q3 and R.
∨Show Answer

12.3 Class B Output Stage
Figure 12.6 shows a class B output stage. It consists of a complementary pair of transistors (an npn and a
pnp) connected so that both cannot conduct simultaneously.
Figure 12.6 A class B output stage.
12.3.1 Circuit Operation
When the input voltage vI is zero, both transistors are cut off and the output voltage vO is zero. As vI goes
positive and exceeds about 0.5 V, QN conducts and operates as an emitter follower. In this case vO follows vI
(i.e., vO =vI − vBEN) and QN supplies the load current. Meanwhile, the emitter–base junction of QP will be
reverse biased by the VBE of QN, which is approximately 0.7 V. Thus QP will be cut off.
If the input goes negative by more than about 0.5 V, QP turns on and acts as an emitter follower. Again
vO follows vI (i.e., vO = vI + vEBP), but in this case QP supplies the load current (in the direction opposite to
that of iL, since vO will be negative), and QN will be cut off.
We conclude that the transistors in the class B stage of Fig. 12.6 are biased at zero current and conduct
only when there is an input signal. The circuit operates in a push–pull fashion: QN pushes (sources) current
into the load when vI is positive, and QP pulls (sinks) current from the load when vI is negative.
12.3.2 Transfer Characteristic

A sketch of the transfer characteristic of the class B stage is shown in Fig. 12.7. Note that there is a range of
vI centered around zero where both transistors are cut off and vO is zero. This dead band results in the
crossover distortion illustrated in Fig. 12.8 for the case of an input sine wave. The effect of crossover
distortion is most pronounced when the amplitude of the input signal is small. Crossover distortion in audio
power amplifiers gives rise to unpleasant sounds.
Figure 12.7 Transfer characteristic for the class B output stage in Fig. 12.6.

(12.12)
(12.13)
(12.14)
(12.15)
(12.16)
(12.17)
Figure 12.8 Illustrating how the dead band in the class B transfer characteristic results in crossover distortion.
12.3.3 Power-Conversion Efficiency
To calculate the power-conversion efficiency, η, of the class B stage, we neglect the crossover distortion and
consider the case of an output sinusoid of peak amplitude 
o. The average load power will be
The current drawn from each supply will consist of half-sine waves of peak amplitude (
o/RL). Thus the
average current drawn from each of the two power supplies will be 
o/πRL. This means that the average
power drawn from each of the two power supplies will be the same,
and the total supply power will be
Thus the efficiency will be given by
It follows that we reach the maximum efficiency when 
o is at its maximum. This maximum is limited by
the saturation of QN and QP to VCC − VCEsat 
 VCC. At this value of peak output voltage, the power-
conversion efficiency is
This value is much larger than in the class A stage (25%). Finally, note that we can find the maximum
average power available from a class B output stage by substituting 
o = VCC in Eq. (12.12),

(12.18)
(12.19)
(12.20)
(12.21)
(12.22)
12.3.4 Power Dissipation
Unlike the class A stage, which dissipates maximum power under quiescent conditions (vO = 0), in the class
B stage the quiescent power dissipation is zero. When an input signal is applied, the average power
dissipated in the class B stage is given by
Substituting for PS from Eq. (12.14) and for PL from Eq. (12.12) gives
From symmetry we see that half of PD is dissipated in QN and the other half in QP. Thus QN and QP must be
capable of safely dissipating  PD watts. Since PD depends on 
o, we must find the worst-case power
dissipation, PDmax. Differentiating Eq. (12.19) with respect to 
o and setting the derivative to zero gives the
value of 
o that results in maximum average power dissipation as
Substituting this value in Eq. (12.19) gives
Thus,
At the point of maximum power dissipation, the efficiency can be evaluated by substituting for 
o from Eq.
(12.20) into Eq. (12.15); hence, η = 50%.
Figure 12.9 shows a sketch of PD (Eq. 12.19) versus the peak output voltage 
o. The data sheets of IC
power amplifiers usually give curves like this, except that PD is plotted versus 
 rather than 
o.
Notice something interesting in Fig. 12.9: Increasing 
o beyond 2VCC/π decreases the power dissipated in
the class B stage while increasing the load power. The price we pay is an increase in nonlinear distortion as a
result of approaching the saturation region of operation of QN and QP. Transistor saturation flattens the
peaks of the output sine waveform. Unfortunately, this type of distortion cannot be significantly reduced by
applying negative feedback (see Section 11.2), and thus transistor saturation should be avoided in
applications requiring low distortion.

12.4
Figure 12.9 Power dissipation of the class B output stage versus amplitude of the output sinusoid.
Example 12.3
We need to design a class B output stage to deliver an average power of 20 W to an 8-Ω load. We decide to
select a power supply VCC about 5 V greater than the peak output voltage. This avoids transistor saturation and
the associated nonlinear distortion. Determine the supply voltage required, the peak current drawn from each
supply, the total supply power, and the power-conversion efficiency. Also determine the maximum power that
each transistor must be able to dissipate safely.
EXERCISE
For the class B output stage of Fig. 12.6, let VCC =6V and RL =4 Ω. If the output is a sinusoid with 4.5-
V peak amplitude, find (a) the output power; (b) the average power drawn from each supply; (c) the
power efficiency obtained at this output voltage; (d) the peak currents supplied by vI, assuming that βN
=βP =50; and (e) the maximum power that each transistor must be capable of dissipating safely.
∨Show Solution
∨Show Answer

(12.23)
(12.24)
12.4 Class AB Output Stage
So far, we have seen that a class A stage avoids distortion by ensuring some minimal collector current flows
in the signal-path transistor at all times, whereas crossover distortion arises in a class B stage when the
collector currents become zero. We can virtually eliminate crossover distortion by biasing the
complementary output transistors of the class B output stage at a small nonzero current. The result is the
class AB output stage in Fig. 12.10. We apply a bias voltage VBB between the bases of QN and QP. For vI =
0, vO = 0, and a voltage VBB/2 appears across the base–emitter junction of each of QN and QP. Assuming
matched devices,
We select the value of VBB to yield the required quiescent current IQ.
Figure 12.10 Class AB output stage. A bias voltage VBB is applied between the bases of QN and QP, giving rise to a bias
current IQ given by Eq. (12.23). Thus, for small vI, both transistors conduct and crossover distortion is almost completely
eliminated.
12.4.1 Circuit Operation
When vI goes positive by a certain amount, the voltage at the base of QN increases by the same amount, and
the output becomes positive at an almost equal value,

(12.25)
(12.26)
(12.27)
The positive vO causes a current iL to flow through RL, and thus iN must increase; that is,
The increase in iN will be accompanied by a corresponding increase in vBEN (above the quiescent value of
VBB/2). However, since the voltage between the two bases remains constant at VBB, the increase in vBEN will
result in an equal decrease in vEBP and hence in iP. We can derive the relationship between iN and iP as
follows:
Thus, as iN increases, iP decreases by the same ratio while the product remains constant. We can combine
Eqs. (12.25) and (12.26) to yield iN for a given iL as the solution to the quadratic equation
From the equations above, we can see that for positive output voltages, the load current is supplied by QN,
which acts as the output emitter follower. Meanwhile, QP will be conducting a current that decreases as vO
increases; for large vO the current in QP can be ignored altogether.
For negative input voltages the opposite occurs: The load current will be supplied by QP, which acts as
the output emitter follower, while QN conducts a current that gets smaller as vI becomes more negative.
Equation (12.26), relating iN and iP, holds for negative inputs as well.
We conclude that the class AB stage operates in much the same manner as the class B circuit, with one
important exception: For small vI, both transistors conduct, and as vI is increased or decreased, one of the
two transistors takes over the operation. Since the transition is a smooth one, crossover distortion is almost
totally eliminated. Figure 12.11 shows the transfer characteristic of the class AB stage.

(12.28)
(12.29)
(12.30)
Figure 12.11 Transfer characteristic of the class AB stage in Fig. 12.10.
The power relationships in the class AB stage are almost identical to those we derived for the class B
circuit in Section 12.4. The only difference is that under quiescent conditions the class AB circuit dissipates
a power of VCCIQ per transistor. Since IQ is usually much smaller than the peak load current, the quiescent
power dissipation is usually small. Nevertheless, it can be taken into account easily. Specifically, we can
simply add the quiescent dissipation per transistor to its maximum power dissipation with an input signal
applied, to obtain the total power dissipation that the transistor must be able to handle safely.
12.4.2 Output Resistance
To limit distortion, we must ensure that the class AB stage small-signal output resistance remains small
compared to the load resistance. If we assume that the source supplying vI is ideal, then the output resistance
of the class AB stage can be determined from the circuit in Fig. 12.12 as
where reN and reP are the small-signal emitter resistances of QN and QP, respectively. At a given input
voltage, we can find the currents iN and iP, and reN and reP are given by

(12.31)
12.5
(a)
(b)
Thus,
Since as iN increases, iP decreases, and vice versa, the output resistance remains approximately constant in
the region around vI = 0. This, in turn, keeps the incremental gain near unity and is the reason for the virtual
absence of crossover distortion. At larger load currents, either iN or iP will be significant, and Rout decreases
as the load current increases.
Figure 12.12 Determining the small-signal output resistance of the class AB circuit of Fig. 12.10.
Example 12.4
In this example we explore the transfer characteristic, vO versus vI, of the class AB circuit in Fig. 12.10. For this
purpose let VCC = 15 V, IQ = 2 mA, and RL = 100 Ω. Assume that QN and QP are matched and have IS = 10−13
A. First, determine the required value of the bias voltage VBB. Then, find the transfer characteristic for vO in the
range −10 V to +10 V.
EXERCISE
To increase the linearity of the class AB output stage, the quiescent current IQ is increased. The price
paid is an increase in quiescent power dissipation. For the output stage considered in Example 12.4:
Find the quiescent power dissipation.
If IQ is increased to 10 mA, find vo/vi at vO = 0 and at |vO| = 10 V, and hence the percentage
change. Compare to the case in Example 12.4.
∨Show Solution

(c)
Find the quiescent power dissipation for the case in (b).
∨Show Answer

12.5 Biasing the Class AB Circuit
In this section we discuss approaches for generating the voltage VBB and supplying the base currents
required by the class AB output stage.
12.5.1 Biasing Using Diodes
Figure 12.13 shows a class AB circuit in which the bias voltage VBB is generated by passing a constant
current IBIAS through a pair of diodes, D1 and D2. Typically, the output transistors are large devices capable
of supplying large amounts of power. The biasing diodes, however, need not be large. Assuming the
saturation current of the biasing diodes is 1/n times that of the output devices, the quiescent current in QN,P
will be IQ = nIBIAS. In an integrated circuit, we can set the ratio n precisely by realizing D1 and D2 as diode-
connected transistors having the same construction as QN,P, but 1/n the emitter-junction area. This allows
IBIAS to be relatively small, saving power and improving the stage efficiency.
When the output stage of Fig. 12.13 is sourcing current to the load, the base current of QN increases from
IQ/βN (which is usually small) to approximately iL/βN. This base current drive must be supplied by the
current source IBIAS. It follows that IBIAS must be greater than the maximum anticipated base drive for QN.
This sets a lower limit on the value of IBIAS. Now, since n = IQ/IBIAS, and since IQ is usually much smaller
than the peak load current (<10%), we see that we cannot make n a large number. In other words, we cannot
make the diodes much smaller than the output devices. This is a disadvantage of the diode biasing scheme.
Figure 12.13 A class AB output stage using diodes for biasing. If the junction area of the output devices, QN and QP, is
n times that of the biasing devices D1 and D2, a quiescent current IQ = nIBIAS flows in the output devices.

12.6
12.7
From the discussion above we see that the current through the biasing diodes will decrease when the
output stage is sourcing current to the load. Thus the bias voltage VBB will also decrease, and we must
modify the analysis of Section 12.4 to take this into account.
The diode biasing arrangement has an important advantage: It can provide thermal stabilization of the
quiescent current in the output stage. To appreciate this point, recall that the class AB output stage dissipates
power under quiescent conditions. Power dissipation raises the internal temperature of the BJTs. From
Chapter 6 we know that a rise in transistor temperature causes a decrease in its VBE (approximately –2 mV/
°C) if the collector current is held constant. Alternatively, if VBE is held constant and the temperature
increases, the collector current increases. The increase in collector current increases the power dissipation,
which in turn increases the junction temperature and hence, once more, the collector current. So we have a
positive-feedback mechanism that can cause thermal runaway. Unless checked, thermal runaway can lead
to the ultimate destruction of the BJT. Diode biasing can be arranged to provide a compensating effect that
can protect the output transistors against thermal runaway under quiescent conditions. Specifically, if the
diodes are in close thermal contact with the output transistors, their temperature will increase by the same
amount as QN and QP. Thus VBB will decrease at the same rate as VBEN + VEBP, with the result that IQ
remains constant. We can easily achieve close thermal contact in IC fabrication. In discrete circuits, we can
achieve it by mounting the bias diodes on the metal case of QN or QP. Finally, it is important to note that
thermal runaway does not occur in MOS circuits.
Example 12.5
Consider the class AB output stage under the conditions that VCC = 15 V, RL = 100 Ω, and the output is
sinusoidal with a maximum amplitude of 10 V. Let QN and QP be matched with IS = 10−13 Aand β = 50. Assume
that the biasing diodes have one-third the junction area of the output devices. Find the value of IBIAS that
guarantees a minimum of 1 mA through the diodes at all times. Determine the quiescent current and the
quiescent power dissipation in the output transistors (i.e., at vO = 0). Also find VBB for vO = 0, +10 V, and −10 V.
EXERCISES
For the circuit of Example 12.5, find iN and iP for vO = +10 V and vO = −10 V. (Hint: Use the VBB
values found in Example 12.5.)
If the collector current of a transistor is held constant, its vBE decreases by 2 mV for every 1°C rise in
temperature. Alternatively, if vBE is held constant, then iC increases by approximately gm × 2 mV for
every 1°C rise in temperature. For a device operating at IC = 10 mA, find the change in collector
current resulting from an increase in temperature of 5°C.
∨Show Solution
∨Show Answer
∨Show Answer

(12.32)
(12.33)
12.5.2 Biasing Using the VBE Multiplier
An alternative biasing arrangement that provides the designer with considerably more flexibility in both
discrete and integrated designs is shown in Fig. 12.14. It consists of transistor Q1 with a resistor R1
connected between base and emitter and a feedback resistor R2 connected between collector and base. We
feed the resulting two-terminal network with a constant-current source IBIAS. If we neglect the base current
of Q1, then R1 and R2 will carry the same current IR, given by
Figure 12.14 A class AB output stage using a VBE multiplier for biasing.
and the voltage VBB across the bias network will be

(12.34)
(12.35)
Thus the circuit simply multiplies VBE1 by the factor (1 + R2/R1) and is known as the “VBE multiplier.” The
multiplication factor is obviously under the designer’s control and can be used to establish the value of VBB
needed to yield a desired quiescent current IQ. In IC design it is relatively easy to accurately control the ratio
of two resistances. In discrete-circuit design, we can use a potentiometer, as shown in Fig. 12.15, and
manually set it to produce the desired value of IQ.
Figure 12.15 A discrete-circuit class AB output stage with a potentiometer used in the VBE multiplier. We adjust the
potentiometer to give the desired value of quiescent current in QN and QP.
The value of VBE1 in Eq. (12.33) is determined by the portion of IBIAS that flows through the collector of
Q1; that is,
where we have neglected the base current of QN, which is normally small both under quiescent conditions
and when the output voltage is swinging negative. However, for positive vO, especially at and near its peak

12.8
value, the base current of QN can become sizable and will reduce the current available for the VBE multiplier.
Nevertheless, since large changes in IC1 correspond to only small changes in VBE1, the decrease in current
will be mostly absorbed by Q1, leaving IR, and hence VBB, almost constant.
EXERCISE
Consider a VBE multiplier with R1 = R2 = 1.2 kΩ, utilizing a transistor that has VBE = 0.6 V at IC = 1
mA, and a very high β. (a) Find the value of the current I that should be supplied to the multiplier to
obtain a terminal voltage of 1.2 V. (b) Find the value of I that will result in the terminal voltage
changing (from the 1.2-V value) by +50 mV, +100 mV, +200 mV, –50 mV, –100 mV, –200 mV.
Like the diode biasing network, the VBE–multiplier circuit can provide thermal stabilization of IQ. This is
especially true if R1 =R2, and Q1 is in close thermal contact with the output transistors.
Example 12.6
We need to redesign the output stage of Example 12.5 using a VBE multiplier for biasing. Use a small-geometry
transistor for Q1 with IS =10−14 A and design for a quiescent current IQ = 2 mA.
12.5.3 Use of Input Emitter Followers
Figure 12.16 shows a class AB circuit biased using transistors Q1 and Q2, which also function as emitter
followers, providing the circuit with a high input resistance. In effect, the Q1–Q2 circuit functions as a unity-
gain buffer amplifier. Since all four transistors are usually matched, and neglecting the effect of R3 and R4,
we see that the quiescent current (vI = 0, RL = ∞) in Q3 and Q4 is equal to that in Q1 and Q2. Resistors R3
and R4 are usually very small and are included to compensate for possible mismatches between Q3 and Q4.
They also guard against the possibility of thermal runaway due to temperature differences between the input-
and output-stage transistors. On this last point, note that an increase in the current of, say, Q3 causes an
increase in the voltage drop across R3 and a corresponding decrease in VBE3. Thus R3 provides negative
feedback that helps stabilize the current through Q3.
∨Show Answer
∨Show Solution

12.9
Figure 12.16 A class AB output stage with an input buffer. In addition to providing a high input resistance, the buffer
transistors Q1 and Q2 bias the output transistors Q3 and Q4.
EXERCISE
(Note: Although rather long, this exercise is very instructive.) Consider the circuit of Fig. 12.16 with
R1 = R2 = 5 kΩ, R3 = R4 = 0 Ω, and VCC = 15 V. Let the transistors be matched with IS = 3.3 × 10−14 A
and β = 200. (a) For vI = 0 and RL = ∞, find the quiescent current in each of the four transistors and vO.
(b) For RL = ∞, find iC1, iC2, iC3, iC4, and vO for vI = + 10 V and − 10 V. (c) Repeat (b) for RL = 100 Ω.
12.5.4 Use of Compound Devices
To increase the current gain of the output-stage transistors, and thus reduce the required base current drive,
we often use the Darlington configuration shown in Fig. 12.17 to replace the npn transistor of the class AB
∨Show Answer

stage. The Darlington configuration is equivalent to a single npn transistor having β 
 β1β2, but almost
twice the value of VBE.
Figure 12.17 The Darlington configuration.
The Darlington configuration can be also used for pnp transistors, and this is indeed done in discrete-
circuit design. In IC design, however, the lack of good-quality pnp transistors prompted the use of the
alternative compound configuration shown in Fig. 12.18. This compound device is equivalent to a single pnp
transistor having β 
 β1β2. When fabricated with standard IC technology, Q1 is usually a lateral pnp having
a low β (β = 5 − 10) and poor high-frequency response (fT 
 5 MHz); see Appendix A and Appendix K. The
compound device, although it has a relatively high equivalent β, still suffers from a poor high-frequency
response. It also suffers from another problem: The feedback loop formed by Q1 and Q2 is prone to high-
frequency oscillations (with frequency near fT of the pnp device, i.e., about 5 MHz). Methods exist for
preventing such oscillations. We studied feedback-amplifier stability in Chapter 11.

12.10
Figure 12.18 The compound-pnp configuration.
To illustrate the application of the Darlington configuration and of the compound pnp, we show in Fig.
12.19 an output stage using both. Class AB biasing is achieved using a VBE multiplier. Note that the
Darlington npn adds one more VBE drop, and thus the VBE multiplier is required to provide a bias voltage of
about 2 V. We investigate the design of this class AB stage in Problem 12.40.
Figure 12.19 A class AB output stage using a Darlington npn and a compound pnp. We bias the circuit using a VBE
multiplier.
EXERCISE
(a) Refer to Fig. 12.18. Show that, for the composite pnp transistor,
and
Hence show that

and thus the transistor has an effective scale current
where ISP is the scale current of the pnp transistor Q1.
(b) For βP = 20, βN = 50, ISP = 10−14 A, find the effective current gain of the compound device and its
vEB when iC = 100 mA.
∨Show Answer

(12.36)
(12.37)
(12.38)
12.6 CMOS Output Stages
We begin this section studying the source follower, essentially a CMOS variant of the BJT class A stage
studied in Section 12.2. We will see that MOSFET device characteristics impose significant limitations on
the performance of these stages compared to their BJT counterparts. We will then look at attractive
alternatives better suited to CMOS technologies.
12.6.1 The Source Follower
Figure 12.20 shows a CMOS variant of the class A stage where Q1 is biased with a current I supplied by the
current mirror Q2,3. Transistor Q1 will remain in saturation so long as
As with the emitter follower, vOmax will be lower than Eq. (12.36) if vI is restricted below VDD by the
preceding stage. To keep Q2 in saturation,
Finally, as in the emitter follower, in order to maximize output swing the bias current I must be sufficient to
source all of the load current,
Most likely, vOV > VCEsat, so that Eqs. (12.36) and (12.37) impose narrower limits on output swing than Eqs.
(12.2) and (12.4) impose on the BJT emitter follower.

(12.39)
12.11
12.12
Figure 12.20 The source-follower (Q1) output stage biased by an NMOS current mirror (Q2,3).
Furthermore, we may write,
Thus, the input waveform is faithfully reproduced at the output only insofar as the values of Vtn1 and vOV1
are constant. Unfortunately, both may vary significantly over the full range of vO. The threshold voltage Vtn1
varies nonlinearly with vS1 = vO due to the body effect. This can be mitigated if the body of Q1 is shorted to
its source. Additionally, vOV1 varies with changes in iD1 = I + iL = I + vO/RL, giving rise to distortion. In
Example 12.7 we consider the distortion of the source follower by performing a small-signal analysis to find
its incremental gain at several operating points, similar to what was done in Examples 12.1 and 12.4 for the
BJT class A and class AB stages.
Example 12.7
In Fig. 12.20 let VDD = VSS = 15 V, I = 120 mA, and RL = 100 Ω. Find the incremental (small-signal) gain of the
circuit at vO = +10 V, 0 V, and −10 V assuming kn = 300 mA/V2 and Vtn = 0.8 V. Neglect the output resistances
ro1,2 and assume the body of Q1 is connected to its source.
The increased distortion of a source follower compared to an emitter follower may be explained by the
generally lower small-signal transconductance of a MOSFET compared to a BJT conducting similar current.
This, in turn, leads to a higher output resistance for the stage, which in Example 12.7 varies significantly
compared to the load resistance. The reduced gm1 also makes the source follower gain more sensitive to
variation in the device parameters that arise, for example, due to temperature changes.
Replacing the BJTs with MOSFETs in the class AB stage of Section 12.4 will cause similar limitations.
Assuming the MOSFET vOV is greater than BJT VCEsat, the output swing will be reduced, and for the same
power consumption, distortion will be higher due to the lower gm of MOSFETs.
EXERCISES
The source follower in Fig. 12.20 operates from VDD = VSS = 2.5 V with kn = 50 mA/V2 and Vtn = 0.5
V. If I = 10 mA and RL = 200 Ω, what input voltage vI will give rise to vO = 0 V? What is the minimum
load resistance for which Eq. (12.38) remains satisfied?
In Fig. 12.20, VDD = VSS = 3 V with kn = 80 mA/V2, Vtn = 0.5 V, I = 50 mA, and RL = 100 Ω. Find the
incremental gain at vO = 0 V and at vOmin. What is the percentage change?
∨Show Solution
∨Show Answer
∨Show Answer

(12.40)
12.6.2 An Alternative Using a Common-Source Transistor
Achieving vOmax in Eq. (12.36) for Fig. 12.20 requires vI to exceed VDD. To alleviate this challenge, a
common source configuration can be used instead, as shown in Fig. 12.21(a). Unfortunately, it has a gain of
approximately gm1RL, which varies considerably with iL, causing distortion.
Figure 12.21 (a) A common-source circuit offers more swing at vO. (b) Introducing an amplifier with negative feedback
reduces the output resistance and keeps vO ≌ vI.
The circuit is improved using a feedback amplifier with gain μ as shown in Fig. 12.21(b). A negative
small-signal gain due to common-source Q1 appears from the amplifier output to vO, so connecting vO back
to the amplifier’s positive input terminal completes a negative feedback loop. The series-shunt feedback is
appropriate for a voltage amplifier. It keeps the incremental closed-loop gain close to unity regardless of vO,
thus reducing distortion significantly. This is still considered a class A stage since current flows through Q1
continuously, just as in the source and emitter followers.
Output Resistance Fig. 12.22(a) shows the equivalent circuit for finding the output resistance. We are
interested in incremental quantities, so we have replaced VDD with a short circuit to ground. Transistor Q2 in
Fig. 12.21 does not appear in Fig. 12.22(a) because we assume ro2 ≫ RL and may therefore be ignored.
Since the output is connected directly back to the input, the feedback factor is β = 1. Including the loading
effects of the feedback network results in the A circuit shown in Fig. 12.22(b), with a gain given by
The values of the small-signal parameters gmp and rop are evaluated at the current at which QP is operating.
The open-loop output resistance Ro is found by inspection as

(12.41)
(12.42)
(12.43)
(12.44)
The output resistance with feedback Rof can now be found as
and the output resistance Routp is found by excluding RL from Rof, that is,
which results in
Figure 12.22 Determining the output resistance. (a) Defining the closed-loop resistances Rof and Routp. (b) The circuit
for finding the open-loop output resistance Ro.
Equation (12.44) can be lower than the output resistance of the source follower. In fact, we can make Routp
so low that even when it varies, the closed-loop gain remains very close to unity, thus ensuring low
distortion.
We can also use the circuit in Fig. 12.21(b) as a voltage regulator, which is essentially a dc power
amplifier intended to efficiently maintain a stable and precise constant voltage across a load. In such
applications distortion is of no concern since vI is constant. However, we still need low output resistance so
that vO remains constant in the presence of varying load current iL.

(12.45)
(12.46)
A class AB variant of the circuit in Fig. 12.21(b) is shown in Fig. 12.23(a). The amplifiers are designed
so that with vI = 0 V, as shown in Fig. 12.23(b), their outputs are the gate voltages required to established a
desired quiescent current IQ. The gate voltages undergo incremental changes as vI and vO swing away from 0
V so that iDP and iDN source and sink the load current, respectively. To obtain class AB operation, we
usually select IQ to be 10% or so of the maximum output current. The output resistance of the bottom half of
the circuit is similar to that of the top and appears in parallel. Thus, using Eq. (12.44)
Usually the two transistors are matched,
Thus they have the same overdrive voltage, VOV, at the quiescent point.
Consider the situation with vI applied, illustrated in Fig. 12.23(a). The voltage at the output of each of the
error amplifiers increases by μ(vO − vI). Thus vSGP decreases by μ(vO − vI) and vGSN increases by μ(vO − vI),
and we can write
Figure 12.23 (a) A CMOS class AB common-source output stage using feedback. (b) Quiescent conditions.
Assuming the two transistors are matched to have the same quiescent overdrive voltage, VOV,

(12.47)
(12.48)
(12.49)
(12.50)
(12.51)
12.13
12.14
At the output node we have
Substituting for iL = vO/RL and for iDP and iDN from Eqs. (12.46) and (12.47), and solving the resulting
equation to obtain vO, results in
Since gmn = gmp = gm = 2IQ/VOV, using Eq. (12.45)
Combining Eqs. (12.49) and (12.50),
Thus, selecting large values for μ and IQ can reduce Rout, which keeps the gain close to unity and reduces
crossover distortion. However, a large μ can make the stage sensitive to offset voltages that are inevitably
present in the error amplifiers, and large IQ implies high quiescent power dissipation.
EXERCISES
In the circuit in Fig. 12.21(b), gmp = 50 mA/V. Find the gain μ required to ensure Rout 
 1 Ω. If VOV1
= 300 mV, what bias current I is required?
The circuit of Fig. 12.23 delivers an output swing up to |vO| = 2 V to a load RL = 100 Ω. Find the
quiescent current IQ equal to 10% of the maximum output current. With μ = 10 V/V and VOV1,2 = 300
mV, what is the corresponding output resistance at the quiescent point?
12.6.3 Class D Power Amplifiers
∨Show Answer
∨Show Answer

We previously mentioned that class D amplifiers operate by generating rectangular waveforms whose
average value varies in proportion to the input signal. The main benefit of the class D stage is that its
efficiency can approach 100% since the output transistors operate as switches. When turned on, an ideal
switch has zero voltage drop, thus dissipating no power. When turned off, an ideal switch conducts zero
current and still dissipates no power. By alternating between these two states, the output transistors in a class
D stage can dissipate very little power and provide high efficiency.
Generation of a pulsewidth modulated (PWM) waveform, suitable for a class D stage, is illustrated in
Fig. 12.24(a), where the input, vA, is compared with a triangular waveform, vT . The comparison is
performed by a comparator circuit, which produces a high output whenever vT exceeds vA, and a low output
otherwise. This waveform is inverted by transistors QP,N to produce the PWM waveform. The PWM
frequency is the same as that of the triangular wave, fs. The fraction of each cycle where the waveform is
high is called its duty ratio, which is proportional to the corresponding instantaneous value of vA. We then
reconstruct the original waveform with a low-pass filter formed by the inductor and capacitor, which
essentially provides a time-average of the PWM waveform.3 To simplify the filter design, we choose fs at
least 10 times that of the highest frequency of vA. The design of low-pass filters is studied in Chapter 14.

Figure 12.24 Two schemes for driving the load of a class D amplifier. The differential scheme in (b) results in doubling
the voltage excursion across the load.
In Fig. 12.24(a), the two complementary MOS switches QP and QN connect the output node alternately
to VDD and ground, supplying the large current required by the low-resistance load. To double the voltage
excursion across the load, we can use the scheme in Fig. 12.24(b). Here we’re using both PWM and its
logical inverse 
 in a differential driving arrangement. When PWM is high and thus 
 is low, Q3
and Q2 are turned on while Q1 and Q4 are off. Thus current flows from VDD to ground through the load
(from right to left). The opposite happens when PWM is low. Thus the voltage across the load will be twice
that obtained with the arrangement in Fig. 12.24(a). The circuit of the differential driving arrangement is
known as an H bridge4 and can result in a maximum sinusoidal output voltage of amplitude VDD.
As mentioned previously, the power conversion efficiency of a class D stage is limited to about 85–90%
by several practical limitations. These include the finite on-resistance of the switches, Q1−4, power
dissipation in the driving circuits required to turn the power switches on, and the momentary shoot-through
current that arises during switching when current can pass directly from VDD to ground. Nevertheless, class
D amplifiers achieve efficiencies far superior to those of the class AB stage.
As a final note, distortion in the class D amplifier can be contributed by the PWM modulation scheme,
by inaccuracy of the duty ratio at the output node due to finite switching speeds of the power MOSFETs, and
by the quality factor of the L and C elements in the output filter. Distortion in power amplifiers is quantified
by the total harmonic distortion (THD). This is the rms value of the harmonic components of the output
signal, excluding the fundamental, expressed as a percentage of the rms value of the fundamental. Class D
amplifiers typically exhibit THD of 0.1% to 1% at best. Another imperfection of class D amplifiers is the
generation of unwanted switching noise, usually in the inaudible range as electromagnetic interference. As a
result, class D amplifiers are most useful in applications where power-conversion efficiency is of paramount
importance. Class A and AB amplifiers can achieve THD figures of less than 0.01% and are mostly used in
high-fidelity applications.
EXERCISES
HANS CAMENZIND: THE INVENTOR OF THE CLASS D AMPLIFIER
∨

12.15
12.16
12.17
Consider the comparator in Fig. 12.24(a) with the triangular wave vT having ±10 V peak voltages and
comparator output levels of ±10 V. Find the duty ratio D and the average of the output voltage for the
case in which vA is a constant voltage of magnitude (a) 0 V; (b) +5 V; (c) +10 V; (d) −5V; (e) −10 V
If the audio signal vA has a frequency spectrum of 20 Hz to 20 kHz, what is an appropriate value for fs?
Now if the low-pass filter is of second order, with its passband edge at 20 kHz and its gain falling off at
40 dB/decade, what is the attenuation encountered by the PWM component with frequency fs?
If the differential switching scheme shown in Fig. 12.24(b) is utilized and vA is a sine wave, what is the
maximum peak amplitude achieved across RL and what is the maximum power delivered to RL?
Evaluate these quantities for VDD = 35 V and RL = 8 Ω. Now, if the power-conversion efficiency is
90%, what is the power delivered by the power supplies?
∨Show Answer
∨Show Answer
∨Show Answer

1.
12.7 Power Transistors
BJTs and MOSFETs used to deliver load currents in the ampere range, support voltages around or above 100
V, and dissipate tens-of-watts of power are called power transistors. In this section we introduce the
characteristics and specifications of power transistors.5 Significantly more detail is available as ancillary
material on the companion website.
12.7.1 Packages and Heat Sinks
Power transistors are basically larger versions of their small-signal counterparts; hence they retain similar
characteristics. However, as will be explained shortly, their structures are modified for optimal voltage and
current capabilities. Also, discrete power transistors are housed in special packages such as those in Fig.
12.25. The packages are usually mounted on heat sinks, special metal surfaces whose function is to facilitate
the conduction of heat away from the transistor, thus keeping its internal temperature within safe operating
limits. A typical heat sink is shown in Fig. 12.26.
Figure 12.25 Most popular packages for power transistors: (a) TO-03 metal package; (b) TO-220 plastic package.
Figure 12.26 Typical heat sink.
12.7.2 Power BJTs
The parameters of power BJTs can differ somewhat from those of small-signal devices. Important
differences include:
The current gain β is low, typically in the range of 10 to 80, but can be as low as 5. Here it is important
to recall that β is a function of current and has a positive temperature coefficient (refer to Fig. 6.34).

2.
3.
4.
5.
6.
7.
1.
2.
3.
4.
The maximum collector current ICmax is typically in the ampere range but can be as high as 100 A.
The breakdown voltage (BVCEO; refer to Fig. 6.33) is typically 50 V to 100 V but can be as high as
500 V.
ICBO is large (a few tens of microamps) and, as usual, doubles for every 10°C rise in temperature.
At high currents, rπ becomes small (a few ohms) and the extrinsic bulk resistance of the base region,
denoted rx, becomes important.
The transition frequency fT is low (a few megahertz), Cμ is large (hundreds of picofarads), and Cπ is
even larger.
At high currents, the exponential iC–vBE relationship exhibits a factor-of-2 reduction in the exponent:
that is, 
.
At large collector currents, the low β means we need a large base current. This can complicate the design of
the circuit that drives the output transistors. We can use the Darlington configuration discussed in Section
12.5 to provide a higher effective β.
Power BJTs can suffer permanent damage if we operate them beyond any one of several physical limits:
Exceeding the maximum allowable current, ICmax, can melt the wires that bond the device to the
package terminals.
We must restrict the combination of collector current, iC, and collector-emitter voltage, vCE, within
safe limits to keep the BJT from overheating. We can improve these limits by cooling the BJT case.
For example, this can be done by blowing cool air over heat sinks.
Localized temperature increases can occur within the BJT structure itself because current flow across
the emitter-base junction is not uniform, resulting in a second-breakdown limit.
Exceeding the collector-to-emitter breakdown voltage BVCEO causes avalanche breakdown of the
collector-base junction (Section 6.4).
These overlapping considerations allow us to define the BJT’s safe operating area (SOA) as illustrated in
Fig. 12.27. Such a plot often appears on power BJT data sheets.

1.
2.
3.
Figure 12.27 Safe operating area (SOA) of a BJT.
12.7.3 Power MOSFETs
Power MOSFETs have gained popularity in the design of power amplifiers and output stages as a result of
the following properties.
Unlike BJTs, MOSFETs do not require dc gate drive current. This greatly simplifies the design of the
driving circuitry.
MOSFETs can operate at much higher switching speeds than BJTs, a definite advantage for power
circuits employing switching, such as class D amplifiers.
The thermal characteristics of MOSFETs are superior to those of BJTs. They benefit from an extension
of their SOA.
A particularly popular power MOSFET structure is the double-diffused or DMOS transistor. It has a
radically different structure that simultaneously offers high current capability (50 A is possible) and very
high breakdown voltage (as high as 600 V). Although it exhibits characteristics that are quite similar to those
of the small-signal MOSFET studied in Chapter 5, some important differences exist.
Power MOSFETs have threshold voltages in the range of 1 V to 4 V. In saturation, the drain current is
related to vGS by the conventional square-law characteristic. However, the iD–vGS characteristic becomes
linear for larger values of vGS. The linear portion of the characteristic occurs as a result of the high electric
field along the short channel, causing the velocity of charge carriers to reach an upper limit, a phenomenon
known as velocity saturation.6 The linear iD–vGS relationship implies a constant gm in the velocity-
saturation region.

Of considerable interest in the design of MOS power circuits is the variation of the MOSFET
characteristics with temperature, illustrated in Fig. 12.28. Notice that there is a value of vGS (in the range of
4 V to 6 V for most power MOSFETs) at which the temperature coefficient of iD is zero. At higher values of
vGS, iD exhibits a negative temperature coefficient. This is a significant property: It implies that a MOSFET
operating beyond the zero-temperature-coefficient point does not risk the possibility of thermal runaway.
This is not the case, however, at low currents (i.e., lower than the zero-temperature-coefficient point). In the
(relatively) low-current region, the temperature coefficient of iD is positive, and the power MOSFET can
easily suffer thermal runaway (with unhappy consequences). Since class AB output stages are biased at low
currents, we must do something to guard against thermal runaway.
The reason for the positive temperature coefficient of iD at low currents is that vOV = (vGS−Vt) is
relatively low, and the temperature dependence is dominated by the negative temperature coefficient of Vt (in
the range of –3 mV/°C to –6 mV/°C), which causes vOV to rise with temperature.
Figure 12.28 The iD–vGS characteristic curve of a power MOS transistor (IRF 630, Siliconix) at case temperatures of –
55°C, +25°C, and +125°C. (Courtesy of Siliconix Inc.)

■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
Output stages are classified according to the transistor conduction angle: class A (360°), class AB
(slightly more than 180°), class B (180°), and class C (less than 180°).
The most common class A output stage is the emitter follower. It is biased at a current greater than the
peak load current.
The class A output stage dissipates its maximum power under quiescent conditions (vO = 0). It
achieves a maximum power-conversion efficiency of 25%.
The class B stage is biased at zero current, and thus dissipates no power in quiescence.
The class B stage can achieve a power-conversion efficiency as high as 78.5%. It dissipates its
maximum power for 
o = (2/π)VCC.
The class B stage suffers from crossover distortion.
The class AB output stage is biased at a small current; thus both transistors conduct for small input
signals, and there’s virtually no crossover distortion.
Except for an additional small quiescent power dissipation, the power relationships of the class AB
stage are similar to those in class B.
To guard against the possibility of thermal runaway, we make the bias voltage of the class AB circuit
vary with temperature in the same manner as does VBE of the output transistors.
Use of the Darlington configuration in the class AB output stage reduces the base-current drive
requirement. In integrated circuits, we commonly use the compound pnp configuration.
A CMOS class A stage suffers from a higher output resistance than its BJT counterpart. Also, the
output resistance can vary significantly over the full range of output voltages, resulting in distortion.
The classical CMOS class AB output stage suffers from reduced output signal swing. We can
overcome this problem by replacing the source-follower output transistors with a pair of
complementary devices operating in the common-source configuration.
The CMOS class AB output stage with common-source transistors allows the output voltage to swing
to within an overdrive voltage from each of the two power supplies. Using amplifiers in the feedback
path of each of the output transistors reduces both the output resistance and the distortion of the stage.
Class D amplifiers convert the input signal into a pulsewidth-modulated (PWM) signal. The latter is
then used to drive complementary MOS switches that supply the load with power. A low-pass filter is
used to eliminate the high-frequency components introduced by the switching waveform. Power-
conversion efficiences in the range of 85% to 90% are achieved.
MOSFETs have gained popularity over BJTs in the design of high-power output stages. This is due to
their higher speed of operation and to the fact that they do not need a steady supply of gate currents,
which allows them to be used with relatively simple driving circuitry.
The DMOS transistor is a MOSFET power device capable of both high-current and high-voltage
operation.
The drain current of a power MOSFET exhibits a positive temperature coefficient at low currents, and
thus the device can suffer thermal runaway. At high currents the temperature coefficient of iD is
negative.


PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
Section 12.2: Class A Output Stage
12.1 A class A emitter follower, biased using the circuit shown in Fig. 12.3, uses VCC = 10 V, R = RL = 1 kΩ, with
all transistors (including Q3) identical. Assume VBE = 0.7 V, VCEsat = 0.3 V, and β to be very large. For linear
operation, what are the upper and lower limits of output voltage, and the corresponding inputs? How do these
values change if the emitter–base junction area of Q3 is made twice as big as that of Q2? Half as big?
12.2 A source-follower circuit using NMOS transistors is constructed following the pattern shown in Fig. 12.3. All
three transistors used are identical, with Vt = 0.5 V and μnCoxW/L = 20 mA/V2; VCC = 2.5 V, R = RL = 1 kΩ. For
linear operation, what are the upper and lower limits of the output voltage, and the corresponding inputs?
D 12.3 Using the follower configuration shown in Fig. 12.3 with ± 5-V supplies, provide a design capable of ±3-V
outputs with a 200-Ω load, using the smallest possible total supply current. You are provided with four identical,
high-β BJTs and a resistor of your choice. Select a standard resistor value of 5% tolerance, and specify the
maximum power drawn from the negative supply.
D 12.4 An emitter follower using the circuit of Fig. 12.3, for which the output voltage range is ±5 V, is required
using VCC = 10 V. The circuit is to be designed such that the current variation in the emitter-follower transistor is
no greater than a factor of 10, for load resistances as low as 100Ω. What is the value of R required? Find the
incremental voltage gain of the resulting follower at vO = +5, 0, and –5 V, with a 100-Ω load. What is the
percentage change in gain over this range of vO?
D 12.5 The class A emitter follower in Fig. 12.3 is to operate from ±10 V supplies and drive a 16-Ω load with a
sinusoid with 5-V peak amplitude. If the incremental gain is to remain within 2% of unity, what must be the bias
current I? What is the resulting efficiency?
*12.6 Consider the operation of the follower circuit of Fig. 12.3 for which RL = VCC/I, when driven by a square
wave such that the output ranges from +VCC to −VCC (ignoring VCEsat). For this situation, sketch the equivalent of
Fig. 12.5 for vO, iC1, and pD1. Repeat for a square-wave output that has peak levels of ±VCC/2. What is the average
∨Show Answer
∨Show Answer

power dissipation in Q1 in each case? Compare these results to those for sine waves of peak amplitude VCC and
VCC/2, respectively.
12.7 Consider the situation described in Problem 12.6. For square-wave outputs having ±VCC levels and 
levels, and for sine waves of the same peak-to-peak values, find the average power loss in the current-source
transistor Q2.
12.8 Reconsider the situation described in Exercise 12.3 for variation in VCC—specifically for VCC = 16 V, 12 V,
10 V, and 8 V. Assume VCEsat is nearly zero. What is the power-conversion efficiency in each case?
D 12.9 The emitter-follower output stage of Fig. 12.3 is designed to provide a maximum output swing of ±
 volts,
across the load RL. Neglecting the saturation voltage, what are the minimum required values of VCC and I? Now, if
the output voltage is a sine wave of peak amplitude (
/2), what is the power-conversion efficiency realized?
Section 12.3: Class B Output Stage
12.10 Consider the circuit of a complementary-BJT class B output stage. For what amplitude of input signal does
the crossover distortion represent a 20% loss in peak amplitude?
12.11 Consider the feedback configuration with a class B output stage shown in Fig. P12.11. Let the amplifier gain
A0 = 20 V/V. Derive an expression for vO versus vI, assuming that |VBE| = 0.7 V. Sketch the transfer characteristic
vO versus vI, and compare it with that without feedback.
Figure P12.11
SIM 12.12 Consider the class B output stage, using MOSFETs, shown in Fig. P12.12. Let the devices have |Vt| =
0.5 V and μCoxW/L = 2 mA/V2. With a 10-kHz sine-wave input of 5-V peak and a high value of load resistance,
what peak output would you expect? What fraction of the sine-wave period does the crossover interval represent?
For what value of load resistor is the peak output voltage reduced to half the input?
∨Show Answer
∨Show Answer
∨Show Answer

Figure P12.12
12.13 Consider the complementary-BJT class B output stage and neglect the effects of finite VBE and VCEsat. For
±5-V power supplies and an 8-Ω load resistance, what is the maximum sine-wave output power available? What
supply power corresponds? What is the power-conversion efficiency? For output signals of half this amplitude, find
the output power, the supply power, and the power-conversion efficiency.
D 12.14 A class B output stage operates from ±10-V supplies. Assuming relatively ideal transistors, what is the
output voltage for maximum power-conversion efficiency? What is the output voltage for maximum device
dissipation? If each of the output devices is individually rated for 5-W dissipation, and a factor-of-2 safety margin
is to be used, what is the smallest value of load resistance that can be tolerated, if operation is always at full output
voltage? If operation is allowed at half the full output voltage, what is the smallest load permitted? What is the
greatest possible output power available in each case?
D 12.15 A class B output stage is required to deliver an average power of 10 W into an 8-Ω load. The power supply
should be 2 V greater than the corresponding peak sine-wave output voltage. Determine the power-supply voltage
required (to the nearest volt in the appropriate direction), the peak current from each supply, the total supply power,
and the power-conversion efficiency. Also, determine the maximum possible power dissipation in each transistor
for a sine-wave input.
12.16 Consider the class B BJT output stage with a square-wave output voltage of amplitude 
 across a load RL
and employing power supplies ±VSS. Neglecting the effects of finite VBE and VCEsat, determine the load power, the
supply power, the power-conversion efficiency, the maximum attainable power-conversion efficiency and the
corresponding value of 
 and the maximum available load power. Also find the value of 
 at which the power
dissipation in the transistors reaches its peak, and the corresponding value of power-conversion efficiency.
12.17 Sketch a graph for the small-signal voltage gain of the class B circuit of Fig. 12.6 as a function of vI, for vI
both positive and negative.
Section 12.4: Class AB Output Stage
12.18 A class AB output stage, such as that in Fig. 12.10, utilizing transistors with IS = 10−15 A, is biased at a
quiescent current IQ = 1 mA. Find VBB, the output resistance Rout at vI = 0, and the corresponding small-signal
voltage gain. The load resistance RL = 100 Ω. What does the incremental gain become when vO = 10 V?
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
D 12.19 Design the quiescent current of a class AB BJT output stage so that the incremental voltage gain for vI in
the vicinity of the origin is in excess of 0.97 V/V for loads larger than 50 Ω. Assume that the BJTs have VBE of 0.7
V at a current of 100 mA and determine the value of VBB required.
D 12.20 A class AB output stage, such as that in Fig. 12.10, drives a load resistance RL of 100 Ω. What bias current
IQ will serve to limit the variation in the small-signal voltage gain to 2% as iL changes from 0 to 50 mA?
12.21 For the class AB output stage considered in Example 12.4, add two columns to the table of results as follows:
the total input current drawn from vI (iI, mA); and the large-signal input resistance Rin ≡ vI/iI. Assume βN = βP = β
= 49. Compare the values of Rin to the approximate value obtained using the resistance-reflection rule, 
12.22 In this problem we investigate an important trade-off in the design of the class AB output stage of Fig. 12.10:
Increasing the quiescent current IQ reduces the nonlinearity of the transfer characteristic at the expense of increased
quiescent power dissipation. As a measure of nonlinearity, we use the maximum deviation from unity of the stage
incremental gain, which occurs at vO = 0, namely,
Show that  is given by
which for 2IQRL ≫ VT can be approximated by
If the stage is operated from power supplies of ±VCC, find the quiescent power dissipation, PD.
Show that for given VCC and RL, the product of the quiescent power dissipation and the gain error is a constant
given by
For VCC = 10 V and RL = 100 Ω, find the required values of PD and IQ if  is to be 5%, 2%, and 1%.
*12.23 A class AB output stage, resembling that in Fig. 12.10 but utilizing a single supply of +10 V and biased at
VI = 6 V, is capacitively coupled to a 100-Ω load. For transistors for which |VBE| = 0.7 V at 10 mA and for a bias
voltage VBB = 1.3 V, what quiescent current results? For a step change in output from 0 to –1 V, what input step is
required? Assuming transistor-saturation voltages of zero, find the largest possible positive-going and negative-
going steps at the output.
Section 12.5: Biasing the Class AB Circuit
∨Show Answer
∨Show Answer
∨Show Answer

D 12.24 Consider the diode-biased class AB circuit of Fig. 12.13. For IBIAS = 200 µA, find the relative size (n) that
should be used for the output devices (in comparison to the biasing devices) to ensure that an output resistance of 5
Ω or less is obtained in the quiescent state. Neglect the small-signal resistance of the biasing diodes.
D *12.25 A class AB output stage using a two-diode bias network as shown in Fig. 12.13 utilizes diodes having the
same junction area as the output transistors. For VCC = 10 V, IBIAS = 2 mA, RL = 50 Ω, βN = 50, and |VCEsat| = 0 V,
what is the quiescent current? What are the largest possible positive and negative output signal levels? To achieve a
positive peak output level equal to the negative peak level, what value of βN is needed if IBIAS is not changed?
What value of IBIAS is needed if βN is held at 50? For this value, what does IQ become?
D 12.26 Evaluate the small-signal input resistance and small-signal voltage gain of the class AB output stage in
Fig. 12.13. To simplify matters, assume the small-signal resistances of D1 and D2 to be negligibly small. Replace
each of QN and QP with its hybrid-π model and neglect ro. Hence show that the class AB stage is equivalent, from
a small-signal point of view, to an emitter-follower transistor whose rπ = rπN || rπP and gm = gmN + gmP, and hence
re = reN || reP and β = (gmN + gmP)(rπN || rπP). Now show that
and
12.27 Figure P12.27 shows a class AB output stage with a common-emitter transistor added to increase the voltage
gain and reduce the current that vI has to supply. Neglecting the small-signal resistances of D1 and D2, find the
small-signal voltage gain vo/vi. (Hint: Use the expressions for voltage gain and input resistance of the class AB
stage without Q3, given in the statement for Problem 12.26.)
∨Show Answer

Figure P12.27
12.28 Find an expression for the output resistance Rout of the class AB output stage in Fig. P12.27. Toward that
end, neglect the small-signal resistance of each of D1 and D2 and assume the current source supplying IBIAS has an
output resistance RBIAS. Transistors QN and QP are equivalent to a single transistor with rπ = rπN || rπP, re = reN
reP, and gm = gmN + gmP.
**12.29 A class AB output stage using a two-diode bias network as shown in Fig. 12.13 utilizes diodes having the
same junction area as the output transistors. At a room temperature of about 20°C the quiescent current is 1 mA and
. Through a manufacturing error, the thermal coupling between the output transistors and the
biasing diode-connected transistors is omitted. After some output activity, the output devices heat up to 70°C while
the biasing devices remain at 20°C. Thus, while the VBE of each device remains unchanged, the quiescent current in
the output devices increases. To calculate the new current value, recall that there are two effects: IS increases by
about 14%/°C and VT = kT/q changes, where T = 273° + temperature in °C, and VT = 25 mV only at 20°C.
However, you may assume that βN remains almost constant. This assumption is based on the fact that β increases
with temperature but decreases with current. What is the new value of IQ? If the power supply is ±20 V, what
additional power is dissipated? If thermal runaway occurs, and the temperature of the output transistors increases
by 10°C for every watt of additional power dissipation, what additional temperature rise and current increase
result?
D 12.30 Repeat Example 12.6 for the situation in which the peak positive output current is 200 mA. Use the same
general approach to safety margins. What are the values of R1 and R2 you have chosen?
**12.31 A VBE multiplier is designed with equal resistances for nominal operation at a terminal current of 1 mA,
with half the current flowing in the bias network. The initial design is based on β = ∞ and VBE = 0.7 V at 1 mA.
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
Find the required resistor values and the terminal voltage.
Find the terminal voltage that results when the terminal current increases to 2 mA. Assume β = ∞.
Repeat (b) for the case the terminal current becomes 20 mA.
Repeat (c) using the more realistic value of β = 100.
*12.32 By replacing the transistor in the VBE multiplier by its hybrid-π, small-signal model (with ro neglected),
show that the incremental resistance between the two terminals of the multiplier is given by
Evaluate r for the case R1 = R2 = 1.2 kΩ, with the transistor operating at IC = 1 mA and having β = 100.
12.33 Use the results given in the answer to Exercise 12.9 to determine the input current of the circuit in Fig. 12.16
for vI = 0 and ±10 V with infinite and 100-Ω loads.
12.34 For the circuit in Fig 12.16, operated near vI = 0 and fed with a signal source having zero resistance, show
that the output resistance is given by
Assume that the top and bottom halves of the circuit are perfectly matched.
D ***12.35 Consider the circuit of Fig. 12.16 in which Q1 and Q2 are matched, and Q3 and Q4 are matched but
have three times the junction area of the others. Resistors R3 and R4 also are matched. For VCC = 10 V, find values
for resistors R1 through R4 that allow for a base current of at least 10 mA in Q3 (and Q4) at vI = +5 V (vI = −5 V),
when a load demands it, with at most a 2-to-1 variation in currents in Q1 (and Q2). The quiescent current in Q3 is to
be 40 mA. Let β1,2 ≥ 150 and β3,4 ≥ 50. For input voltages around 0 V, estimate the output resistance of the overall
follower driven by a source having zero resistance. For an input voltage of +1 V and a load resistance of 2 Ω, what
output voltage results? Q1 and Q2 have |VBE| of 0.7 V at a current of 10 mA.
12.36 Figure P12.36 shows a variant of the class AB circuit of Fig. 12.16. Assume that all four transistors are
matched with β = 100 except that the emitter area of Q3,4 is 10 times that of Q1,2.
For vI = 0, find the quiescent current in Q3 and Q4, the input current iI, and the output voltage vO.
Since the circuit has perfect symmetry, the small-signal performance around vI = 0 can be determined by
considering either the top or bottom half of the circuit only. In this case, the load on the half-circuit must be
2RL, the input resistance found is 2Rin, and the output resistance found is 2Rout. Using this approach, find Rin,
vo/vi, and Rout (assuming that the circuit is fed with a zero-resistance source).
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(a)
(b)
(c)
Figure P12.36
12.37 For the Darlington configuration shown in Fig. 12.17, show that for 
 and 
:
The equivalent composite transistor has 
.
If the composite transistor is operated at a current IC, then Q2 will be operating at a collector current
approximately equal to IC, and Q1 will be operating at a collector current approximately equal to IC/β2.
The composite transistor has a base–emitter voltage 
, where IS is the
saturation current of each of Q1 and Q2.
The composite transistor has an equivalent rπ 
 2β1β2(VT/IC).
The composite transistor has an equivalent gm 
.
*12.38 For the circuit in Fig. P12.38 in which the transistors have VBE = 0.7 V and β = 100:
Find the dc collector current for each of Q1 and Q2.
Find the small-signal current ic that results from an input signal vi, and hence find the voltage gain vo/vi.
Find the input resistance Rin.
∨Show Answer

(a)
(b)
(c)
Figure P12.38
SIM **12.39 The BJTs in the circuit of Fig. P12.39 have βP = 10, βN = 100, |VBE| = 0.7 V, and |VA| = 100 V.
Find the dc collector current of each transistor and the value of VC.
Replacing each BJT with its hybrid-π model, show that
Find the values of vo/vi and Rin.
Figure P12.39
∨Show Answer

(a)
(b)
D **12.40 Consider the compound-transistor class AB output stage shown in Fig. 12.19 in which Q2 and Q4 are
matched transistors with VBE = 0.7 V at 10 mA and β = 100, Q1 and Q5 have VBE = 0.7 V at 1-mA currents and β =
100, and Q3 has VEB = 0.7 V at a 1-mA current and β = 10. Design the circuit for a quiescent current of 1 mA in Q2
and Q4, IBIAS that is 100 times the standby base current in Q1, and a current in Q5 that is nine times that in the
associated resistors. Find the values of the input voltage required to produce outputs of ±10 V for a 1- kΩ load. Use
VCC of 15 V.
*12.41 Figure P12.41 shows a variant on the class AB amplifier known as class G. Here, in addition to the normal
power supply ±VCC1, the circuit is equipped with a higher voltage supply ±VCC2. The latter supply is utilized only
infrequently. The circuit operates as follows. Normally, D1 and D2 are turned on and thus connect the ±VCC1
supply to the class AB stage transistors Q1 and Q2. Simultaneously, Q3 and Q4 are off. For vI positive and
exceeding a certain threshold, Q3 turns on, D1 turns off, and Q1 is then effectively operating from the higher
voltage supply VCC2. This continues as long as vI is larger than the specified threshold. As vI decreases below the
threshold value, Q3 is turned off and D1 turns on, thus connecting Q1 to its normal supply VCC1. A similar process
happens in the negative direction, with D2 and Q4 taking the place of D1 and Q3. Let VCC1 = 35 V, VCC2 = 70 V,
VZ1 = 3.3 V, and the voltage of the VBE multiplier VBB = 1.2 V.
Find the positive threshold value of vI at which Q3 is turned on.
If for 95% of the time vI is in the vicinity of 30 V and only 5% of the time it is in the vicinity of 65 V, use Eq.
(12.19) to estimate the average power dissipated in the transistors, PD. Compare to the value of PD dissipated
in a class AB stage operated from a ±70 V supply.

Figure P12.41
12.42 Figure P12.42 shows a class AB output stage equipped with protection against the effect of short-circuiting
the output while the stage is sourcing current. Find the value of RE1 that causes Q5 to turn on and absorb all of the
2-mA bias current when the output current being sourced reaches 100 mA, robbing Q1 of its base current. For Q5,
IS = 10−14 A. If the normal peak output current is 60 mA, find the voltage drop across RE1 and the collector current
of Q5.
Figure P12.42
D 12.43 The circuit shown in Fig. P12.43 limits the output current from Q3 in the event of a short circuit or other
mishap. It has the advantage that the current-sensing resistor R does not appear directly at the output. Find the value
of R that causes Q5 to turn on and absorb all of IBIAS = 2 mA, when the current being sourced reaches 150 mA. For
Q5, IS = 10−14 A. If the normal peak output current is 75 mA, find the voltage drop across R and the collector
current in Q5.
∨Show Answer

Figure P12.43
Section 12.6: CMOS Output Stages
12.44 For the source follower in Fig. 12.20, assume VDD = VSS = 2.5 V with all transistors having kn = 50 mA/V2
and Vtn = 0.5 V. If I = 15 mA and RL = 150 Ω, find the drain current iD1, input voltage vI, and incremental gain
corresponding to vO = +1 V, 0 V, and −1V.
12.45 What bias current I is required in Fig. 12.20 to ensure that the output resistance is only 5 Ω with no load
current, assuming VOV1 = 350 mV? Compare this to the current I required to achieve the same output resistance for
the emitter follower in Fig. 12.3.
12.46 The class AB output stage in Fig. 12.23 utilizes two matched transistors with kn = kp = 250 mA/V2 and is
operated from ±2.5-V power supplies. If the stage is required to supply a maximum current of ±20 mA while
keeping QN and QP in saturation, what is the output voltage swing realized?
12.47 For the CMOS output stage of Fig. 12.23 with IQ = 1 mA, |VOV| = 0.2 V for each of QP and QN at the
quiescent point, and μ = 5, find the output resistance at the quiescent point.
12.48 (a) Show that for the CMOS output stage of Fig. 12.23, assuming 
 the deviation of the gain
from unity is
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
(f)
(a)
(b)
(b) For a stage that drives a load resistance of 200 Ω with a gain error of less than 3%, find the overdrive voltage at
which QP and QN should be operated. Let IQ = 2 mA and μ = 5.
12.49 Show that in the CMOS class AB common-source output stage (Fig. 12.23), QN turns off when vO = 4IQRL
and QP turns off when vO = −4IQRL. This is equivalent to saying that one of the transistors turns off when |iL|
reaches 4IQ.
D *12.50 Design the circuit of Fig. 12.23 to drive a load resistance of 50 Ω while exhibiting an output resistance,
around the quiescent point, of 2.5 Ω. Operate QN and QP at IQ = 1.5 mA and |VOV| = 0.15 V. The technology
utilized is specified to have 
 = 250 µA/V2, 
 = 100 µA/V2, Vtn = −Vtp = 0.5 V, and VDD = VSS = 2.5 V.
Specify (W/L) for each of QN and QP.
Specify the required value of μ.
What is the expected error in the stage gain?
In the quiescent state, what dc voltage must appear at the output of each of the error amplifiers?
At what value of positive vO will QP be supplying all the load current? Repeat for negative vO and QN
supplying all the load current.
What is the linear range of vO?
12.51 Sketch waveforms resembling those in Fig. 12.24(a). Let vT have ±10 V peaks and assume vA is a sine wave
with 5-V peak amplitude. Let the frequency of vT be 5 times that of vA. The comparator output levels are ±10 V.
12.52 A pulse waveform swinging between ±10 V has a duty ratio of 0.7. What is its average value? If the duty
ratio is changed to 0.3, what does the average value become?
12.53 Consider the circuit in Fig. 12.24(b). If vA is a sine wave, what is the maximum power supplied to a load of
resistance R, in terms of VDD?
Section 12.7 Power Transistors
12.54 The emitter follower in Fig. 12.3 drives a load resistance RL = 50 Ω with an output ranging between vO = ±5
V. It operates with VCC = 10 V and I = 200 mA. What is the peak power dissipation in Q1 and what is the
corresponding output voltage vO? What is the peak power dissipation in Q2 and what is the corresponding vO? If
identical transistors are to be used for Q1 and Q2, what minimum specifications are required for ICmax and BVCEO
allowing a factor-of-2 safety margin?
12.55 A power MOSFET is specified to have IDmax = 5A, VDSmax = 50 V, and PDmax = 50 W.
Sketch the SOA boundaries.
If the MOSFET is used in the common-source configuration as shown in Fig. P12.55, show that the maximum
current occurs when VDS = 0, the maximum VDS occurs when ID = 0, and the maximum power dissipation
occurs when VDS = VDD/2.
∨Show Answer
∨Show Answer
∨Show Answer

(c)
(d)
(e)
For VDD = 40 V, find the smallest resistance R for which the operating point is always within the SOA. What
are the corresponding values of IDmax and PDmax?
Repeat (c) for VDD = 30 V.
Repeat (c) for VDD = 15 V.
Figure P12.55

13.1
13.2
13.3
•
•
•
•
•
CHAPTER 13
Operational-Amplifier Circuits
Introduction
The Two-Stage CMOS Op Amp
The Folded-Cascode CMOS Op Amp
BJT Op-Amp Techniques
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
The design and analysis of the two basic CMOS op-amp architectures: the two-stage circuit and the
single-stage, folded-cascode circuit.
Interesting and useful circuits for the design of BJT op amps.
How to break a large analog circuit into its recognizable blocks to be able to make the analysis
amenable to a pencil-and-paper approach, which is the best way to learn design.
Some of the modern techniques used in the design of low-voltage op amps.
Most important, how the different topics we studied in the preceding chapters come together in the
design of the most important analog IC, the op amp.

Introduction
In this chapter, we will study the internal circuitry of the most important analog IC, the operational amplifier.
We covered the terminal characteristics and some circuit applications of op amps in Chapter 2. Here, our
objective is to survey some of the ingenious techniques that have evolved for combining elementary analog
circuit building blocks to realize a complete op amp. We shall study both CMOS and bipolar op amps.
The CMOS op-amp circuits we will consider are mainly used in the design of analog and mixed-signal
VLSI circuits. Because these op amps are usually designed with a specific application in mind, they can be
optimized to relax certain specifications. For instance, many CMOS op amps are utilized within an IC and do
not connect to the outside terminals of the chip. As a result, the loads on their outputs are usually limited to
small capacitances of at most a few picofarads. Internal CMOS op amps therefore do not need to have low
output resistances, and their design rarely incorporates an output stage. Also, if the op-amp input terminals
are not connected to the chip terminals, there will be no danger of static charge damaging the gate oxide of
the input MOSFETs. Hence, internal CMOS op amps do not need input clamping diodes for gate protection
and thus do not suffer from the leakage effects of such diodes. In other words, they may take full advantage
of near-infinite input resistance of the MOSFET.
While CMOS op amps are used extensively in the design of VLSI systems, the BJT remains widely used
in the design of general-purpose op amps. These op amps are used in a wide variety of applications and are
designed to fit a wide range of specifications. As a result, the circuit of a general-purpose op amp represents
a compromise among many performance parameters. We will study modern design techniques for general-
pupose BJT op amps in the last section.
In addition to presenting some of the ideas that make analog IC design such an exciting topic, this
chapter should tie together many of the concepts and methods we have studied so far.
THE GENIE OF ANALOG
∨

13.1 The Two-Stage CMOS Op Amp
The first op-amp circuit we study is the two-stage CMOS topology shown in Fig. 13.1. This simple but
elegant circuit has become a classic and is used in a variety of forms in the design of VLSI systems. We
studied this circuit in Section 9.6.1 as an example of a multistage CMOS amplifier and urge the reader to
review that material before proceeding. Here, our detailed study will emphasize the performance
characteristics of the circuit and the trade-offs involved in its design.
Figure 13.1 The basic two-stage CMOS op-amp configuration.
13.1.1 The Circuit
The circuit consists of two gain stages: The first is formed by the differential pair Q1–Q2 together with its
current-mirror load Q3–Q4. This differential-amplifier circuit, studied in detail in Section 9.5, provides a
voltage gain that may range from 10 V/V to 60 V/V, as well as converting from differential to single-ended
form while providing common-mode rejection.
The differential pair is biased by current source Q5, which is one of the two output transistors of the
current mirror formed by Q8, Q5, and Q7. The current mirror is fed by a reference current IREF, which can be
generated by simply connecting a resistor to the negative supply voltage –VSS. Circuits that generate a more
precise IREF exist for applications with more stringent requirements.

(13.1)
(13.2)
(13.3)
(13.4)
The second gain stage consists of the common-source transistor Q6 and its current-source load Q7. The
second stage typically provides a gain of 8 V/V to 80 V/V. In addition, it takes part in the process of
frequency compensating the op amp. From Section 11.10, you will recall that to guarantee that the op amp
will operate in a stable fashion (as opposed to oscillating) when negative feedback of various amounts is
applied, the open-loop gain is made to roll off with frequency at the uniform rate of –20 dB/decade. This in
turn is achieved by introducing a pole at a relatively low frequency and arranging for it to be dominant in
determining the frequency response. In the circuit we are studying, we implement this using a compensation
capacitance CC connected in the negative-feedback path of the second-stage amplifying transistor Q6. As we
will see, CC (together with the much smaller capacitance Cgd6 across it) is Miller-multiplied by the gain of
the second stage, and the resulting capacitance at the input of the second stage interacts with the output
resistance of the first stage to provide the required dominant pole (more on this later).
Unless properly designed, the CMOS op-amp circuit in Fig. 13.1 can exhibit a systematic output dc
offset voltage. In Section 9.6.1, we found that the systematic dc offset can be eliminated by sizing the
transistors to satisfy the following constraint:
Finally, notice that the CMOS op-amp circuit of Fig. 13.1 does not have an output stage. This is because it is
usually required to drive only small on-chip capacitive loads.1
13.1.2 Input Common-Mode Range and Output Swing
Refer to Fig. 13.1 and consider the situation when the two input terminals are tied together and connected to
a voltage VICM. The lowest value of VICM has to be large enough to keep Q1 and Q2 in saturation. Thus, the
lowest value of VICM should not be lower than the voltage at the drain of Q1 (−VSS + VGS3 = –VSS + Vtn +
VOV3) by more than |Vtp|, thus
The highest value of VICM should ensure that Q5 remains in saturation; that is, the voltage across Q5, VSD5,
should not decrease below |VOV5|. Equivalently, the voltage at the drain of Q5 should not go higher than VDD
– |VOV5|. Thus the upper limit of VICM is
or equivalently
We can combine Eqs. (13.2) and (13.3) to express the input common-mode range as

(13.5)
13.1
(13.6)
As expected, the overdrive voltages, which are important design parameters, subtract from the dc supply
voltages, thereby reducing the input common-mode range. From a VICM range point of view, we want to
select the values of VOV as low as possible. We can see from Eq. (13.4) that the lower limit of VICM is
approximately within an overdrive voltage of –VSS. The upper limit, however, is not as good; it is lower than
VDD by two overdrive voltages and a threshold voltage.
The extent of the signal swing allowed at the output of the op amp is limited at the lower end by the need
to keep Q6 saturated and at the upper end by the need to keep Q7 saturated, thus
Thus the output voltage can swing to within an overdrive voltage of each of the supply rails. This is a
reasonably wide output swing and can be maximized by selecting values for |VOV| of Q6 and Q7 as low as
possible.
If we wish to use an op amp as a unity-gain feedback amplifier, it must be possible to connect its output
terminal to its negative input terminal. For such a connection to be possible, there must be a substantial
overlap between the allowable range of vO and the allowable range of VICM. This is usually the case in the
basic two-stage CMOS op-amp circuit.
EXERCISE
For a particular design of the two-stage CMOS op amp of Fig. 13.1, ±1.65-V supplies are used and all
transistors except for Q6 and Q7 are operated with overdrive voltages of 0.3-V magnitude; Q6 and Q7
use overdrive voltages of 0.5-V magnitude, and Vtn = |Vtp| = 0.5 V. Find the input common-mode range
and the range allowed for vO. If the op amp is used in a unity-gain configuration, what is the allowable
range of output voltage?
13.1.3 DC Voltage Gain
To determine the dc voltage gain and the frequency response, consider a simplified equivalent-circuit model
for the small-signal operation of the CMOS two-stage op amp (Fig. 13.2), where each of the two stages is
modeled as a transconductance amplifier. As expected, the input resistance is practically infinite,
The first-stage transconductance Gm1 is equal to the transconductance of each of Q1 and Q2 (see Section
9.5),
∨Show Answer

(13.7)
(13.8)
(13.9)
(13.10)
(13.11)
(13.12)
Since Q1 and Q2 operate at equal bias currents (I/2) and equal overdrive voltages, 
 
Resistance R1 represents the output resistance of the first stage, thus
where
and
The dc gain of the first stage is thus
Observe that the magnitude of A1 is increased by operating the differential-pair transistors, Q1 and Q2, at a
low overdrive voltage, and by choosing longer channel lengths for Q1, Q2, Q3, and Q4 so as to obtain larger
Early voltages, |VA|.
Returning to the equivalent circuit in Fig. 13.2 and leaving the discussion of the various model
capacitances until Section 13.1.5, we note that the second-stage transconductance Gm2 is given by
Figure 13.2 Small-signal equivalent circuit for the op amp in Fig. 13.1.

(13.13)
(13.14)
(13.15)
(13.16)
(13.17)
(13.18)
13.2
Resistance R2 represents the output resistance of the second stage, thus
where
and
The voltage gain of the second stage can now be found as
Here again we observe that to increase the magnitude of A2, we operate Q6 at a low overdrive voltage and
use longer channel lengths for Q6 and Q7.
The overall dc voltage gain is the product A1A2,
Note that Av is of the order of (gmro)2. Thus the value of Av will be in the range of 100 V/V to 5000 V/V. It is
largely determined by the intrinsic gain of transistors Q1,2 (gm1,2ro1,2) and Q6 (gm6ro6), albeit with some
contribution from ro4 and ro7.
Finally, we note that the output resistance of the op amp is equal to the output resistance of the second
stage,
Hence Ro can be large (i.e., in the tens-of-kilohms range). Nevertheless, as we learned from Chapter 11,
negative feedback that samples the op-amp output voltage reduces the output resistance by a factor equal to
the amount of feedback (1 + Aβ). Also, as mentioned before, CMOS op amps within integrated circuits
rarely need to drive heavy resistive loads. Smaller values of Ro (i.e., of the order of a kilohm) are realized
with very short gate lengths (e.g., L6,7 < 0.5µm) and large bias current ID6.
EXERCISES
The CMOS op amp of Fig. 13.1 is fabricated in the 0.13-µm process of Appendix K. Find A1, A2, and
Av if all devices are 0.5 µm long, |VOV1| = 0.2 V, and VOV6 = 0.3 V. Also, find the op-amp output

13.3
(13.19)
(13.20)
(13.21)
(13.22)
resistance obtained when the second stage is biased at 0.1 mA.
If the CMOS op amp in Fig. 13.1 is connected as a unity-gain buffer, show that the closed-loop output
resistance is given by Rout 
 1/gm6[gm1(ro2 || ro4)].
13.1.4 Common-Mode Rejection Ratio (CMRR)
The CMRR of the two-stage op amp of Fig. 13.1 is determined by the first stage. We analyzed this in Section
9.5.5 and the result is given in Eq. (9.138), namely,
where RSS is the output resistance of the bias current source Q5(ro5). Observe that CMRR is of the order of
(gmro)2 and thus can be reasonably high. Also, since gmro is proportional to 
, the CMRR is
increased if we use long channels, especially for Q5, and low overdrive voltages for Q1−4.
13.1.5 Frequency Response
Refer to the equivalent circuit in Fig. 13.2. Capacitance C1 models all the capacitance between the output
node of the first stage and ground, thus may be approximated as2
Capacitance C2 represents the total capacitance between the output node of the op amp and ground and
includes whatever load capacitance CL that the amplifier is required to drive, thus approximately3
Usually, CL is larger than the transistor capacitances, so C2 becomes much larger than C1. As we mentioned
before, we deliberately included capacitor CC to equip the op amp with a uniform –6-dB/octave frequency
response. In the following, we see how this is possible and how to select a value for CC. Finally, note that in
the equivalent circuit of Fig. 13.2 we should have included Cgd6 in parallel with CC. Usually, however, 
, which is why we have neglected Cgd6.
To determine Vo, we analyze the circuit in Fig. 13.2 as follows. Writing a node equation at node D2
yields
∨Show Answer

(13.23)
(13.24)
(13.25)
(13.26)
(13.27)
Writing a node equation at node D6 yields
To eliminate Vi2 and thus determine Vo in terms of Vid, we use Eq. (13.23) to express Vi2 in terms of Vo and
substitute the result into Eq. (13.22). After some straightforward manipulations we obtain the amplifier
transfer function
First we note that for s = 0 (i.e., dc), Eq. (13.24) gives Vo/Vid = (Gm1R1)(Gm2R2), which is what we should
have expected. Second, the transfer function in Eq. (13.24) indicates that the amplifier has a transmission
zero determined by solving Gm2 − sZCC = 0 for sZ. Thus,
In other words, the zero is on the positive real axis with a frequency ωZ of
Also, the amplifier has two poles that are the roots of the denominator polynomial of Eq. (13.24). If the
frequencies of the two poles are denoted ωP1 and ωP2, then the denominator polynomial can be expressed as
Now if one of the poles is dominant, say with frequency ωP1, then 
, and we can approximate
D(s)by
We can now find the frequency of the dominant pole, ωP1, by equating the coefficients of the s terms in the
denominator in Eq. (13.24) and in Eq. (13.27),

(13.28)
(13.29)
(13.30)
(13.31)
We recognize the first term in the denominator as arising at the interface between the first and second stages.
Here, R1, the output resistance of the first stage, is interacting with the total capacitance at the interface. The
latter is the sum of C1 and the Miller capacitance CC(1 + Gm2R2), which results from connecting CC in the
negative-feedback path of the second stage whose gain is Gm2R2. Now, since R1 and R2 are usually of
comparable value, we see that the first term in the denominator will be much larger than the second and we
can approximate ωP1 as
A further approximation is possible because C1 is usually much smaller than the Miller capacitance and 
, thus
We can find the frequency of the second, nondominant pole by equating the coefficients of the s2 terms in the
denominator of Eq. (13.24) and in Eq. (13.27) and substituting for ωP1 from Eq. (13.29). The result is
Since 
 and 
, we can approximate ωP2 as
Capacitor CC has the pole-splitting effect described in Section 11.10.3.
To ensure its stability in a unity-gain configuration, the op amp must have a uniform gain rolloff of –20
dB/decade down to 0 dB. We therefore select the value of the compensation capacitor CC so that the
resulting value of ωP1 (Eq. 13.29), when multiplied by the dc gain (Gm1R1Gm2R2), results in a unity-gain
frequency ωt lower than ωZ and ωP2. Specifically

(13.32)
(13.33)
D13.4
which must be lower than 
 and 
. Thus, the design must satisfy the following two
conditions:
Internally compensated two-stage op amps have a fixed capacitance CC integrated on-chip. If the op-amp
load capacitance increases, so does C2, eventually exceeding the limit in Eq. (13.32). Thus, op-amp
datasheets often specify the maximum load capacitance that may be stably driven in a unity-gain
configuration. Some op amps provide pins allowing an external compensation capacitance to be connected in
parallel with CC, increasing its effective value and maintaining Eq. (13.32). However, doing so reduces the
unity-gain frequency, Eq. (13.31).
EXERCISE
Consider the frequency response of the op amp we analyzed in Chapter 9 (see Example 9.6). Let C1 =
0.1 pF and C2 = 2 pF. Find the value of CC that results in ft = 20 MHz and verify that ft is lower than fZ
and fP2. Recall from the results of Example 9.6 that Gm1 = 0.35 mA/V and Gm2 = 1 mA/V.
Simplified Equivalent Circuit The uniform –20-dB/decade gain rolloff obtained at frequencies 
 but
lower than fP2 and fZ suggests that at these frequencies, we can represent the op amp by the simplified
equivalent circuit shown in Fig. 13.3. Notice that this attractive simplification is based on the assumption
that the gain of the second stage, |A2|, is large, and hence a virtual ground appears at the input terminal of the
second stage. The second stage then effectively acts as an integrator that is fed with the output current signal
of the first stage; Gm1Vid. Although we derived it for the CMOS amplifier, this simplified equivalent circuit
is general and applies to a variety of two-stage op amps, including many bipolar op amps.
∨Show Answer

Figure 13.3 An approximate high-frequency equivalent circuit of the two-stage op amp. This circuit applies for
frequencies 
 but lower than fP2 and fZ.
Phase Margin Figure 13.4 shows a representative Bode plot for the two-stage op amp. It is also a Bode plot
of the loop gain (Aβ) when the op amp is in a unity-gain feedback configuration, so we use it for a stability
study. Note that at the unity-gain frequency ft, the phase lag exceeds the 90° caused by the dominant pole at
fP1. This so-called excess phase shift is due to the second pole,

(13.34)
(13.35)
(13.36)
Figure 13.4 Typical frequency response of the two-stage op amp.
and the right-half-plane zero,
Thus the phase lag at f = ft will be
and the phase margin in a unity-gain configuration will be

(13.37)
(13.38)
(13.39)
13.5
From our study of the stability of feedback amplifiers in Section 11.9.2, we know that the phase margin
significantly affects the closed-loop gain.4 Therefore, obtaining a desired minimum value of phase margin is
usually a design requirement.
The problem of the additional phase lag provided by the right-half-plane zero has a rather simple and
elegant solution: By including a resistance R in series with CC, as shown in Fig. 13.5, we can move the
transmission zero to other less harmful locations. To find the new location of the transmission zero, set Vo =
0. Then, the current through CC and R will be Vi2/(R + 1/sCC), and a node equation at the output yields
Thus the zero is now at
By selecting R = 1/Gm2, we can place the zero at infinite frequency. An even better choice is often to select R
greater than 1/Gm2, thus placing the zero at a negative real-axis location where the phase it introduces
becomes a phase lead and thus adds to the phase margin.
Figure 13.5 Small-signal equivalent circuit of the op amp in Fig. 13.1 with a resistance R includedinseries with CC.
EXERCISE
A particular implementation of the CMOS amplifier of Figs. 13.1 and 13.2 provides Gm1 = 1 mA/V,
Gm2 = 2 mA/V, ro2 = ro4 = 100 kΩ, ro6 = ro7 = 40 kΩ, and C2 = 1 pF.

(a)
(b)
(c)
Find the value of CC that results in ft = 100 MHz. What is the 3-dB frequency of the open-loop
gain?
Find the value of the resistance R that when placed in series with CC causes the transmission zero
to be located at infinite frequency.
Find the frequency of the second pole and hence find the excess phase lag at f = ft, introduced by
the second pole, and the resulting phase margin assuming that the situation in (b) pertains.
13.1.6 Slew Rate
We discussed the slew-rate limitation of op amps in Chapter 2. Here, we illustrate the origin of the slewing
phenomenon in the context of the two-stage CMOS amplifier under study.
Consider the unity-gain follower of Fig. 13.6 with a step of, say, 1 V applied at the input. Because of the
amplifier dynamics, its output will not change in zero time. Thus, immediately after the input is applied, the
entire value of the step will appear as a differential signal between the two input terminals. In all likelihood,
such a large signal will exceed the voltage required to turn off one side of the input differential pair (
: see earlier illustration in Chapter 9, Fig. 9.6) and switch the entire bias current I to the other side. Fig. 13.1
shows that for our example, Q2 will turn off, and Q1 will conduct the entire current I. Thus Q4 will sink a
current I that will be pulled from CC, as shown in Fig. 13.7. Here, as we did in Fig. 13.3, we are modeling
the second stage as an ideal integrator. We see that the output voltage will be a ramp with a slope of I/CC:
Figure 13.6 A unity-gain follower with a large step input. Since the output voltage cannot change immediately, a large
differential voltage appears between the op-amp input terminals.
∨Show Answer

(13.40)
(13.41)
(13.42)
13.6
Figure 13.7 Model of the two-stage CMOS op-amp of Fig. 13.1 when a large differential voltage is applied.
Thus the slew rate, SR, is given by
We should point out, however, that this is a rather simplified model of the slewing process.
For instance, we have assumed that ID7 is large enough to supply both the current I to CC and the current
SR · C2 to the output capacitance. Moreover, many op amps have mechanisms that dynamically increase
their bias currents during slew rate limiting.
Relationship Between SR and ft A simple relationship exists between the unity-gain bandwidth ft and the
slew rate SR. We find this relationship by combining Eqs. (13.31) and (13.40) and noting that 
, to obtain
or equivalently,
Thus, for a given ωt, the slew rate is determined by the overdrive voltage at which the first-stage transistors
are operated. We get a higher slew rate by operating Q1 and Q2 at a larger VOV.
EXERCISE
Find SR for the CMOS op amp of Fig. 13.1 for the case ft = 100 MHz and VOV1 = 0.2 V. If CC = 1.6 pF,
what must the bias current I be?

(13.43)
(13.44)
(13.45)
(13.46)
(13.47)
13.1.7 Power-Supply Rejection Ratio (PSRR)
CMOS op amps are usually used in what are known as mixed-signal circuits: IC chips that combine analog
and digital circuits. In such circuits, the switching activity in the digital portion usually results in increased
ripple on the power supplies. A portion of the supply ripple can make its way to the op-amp output and
corrupt the output signal. The traditional approach for reducing supply ripple by connecting large
capacitances between the supply rails and ground is not viable in IC design, as such capacitances would
consume most of the chip area. Instead, the analog IC designer has to pay attention to another op-amp
specification that we have so far ignored, namely, the power-supply rejection ratio (PSRR).
The PSRR is defined as the ratio of the amplifier differential gain to the gain experienced by a change in
the power-supply voltage (vdd and vss). For circuits using two power supplies,
and
where
Obviously, to minimize the effect of the power-supply ripple, we need the op amp to have a large PSRR.
A detailed analysis of the PSRR of the two-stage CMOS op amp is beyond the scope of this book (see
Gray et al., 2009), but we offer the following brief remarks. The circuit is remarkably insensitive to
variations in VDD, and thus PSRR+ is very high. This is not the case, however, for the negative-supply ripple
vss, which is coupled to the output primarily through the second-stage transistors Q6 and Q7. In particular,
the portion of vss that appears at the op-amp output is determined by the voltage divider formed by the output
resistances of Q6 and Q7,
Thus,
∨Show Answer

(13.48)
(13.49)
1.
2.
Now using Ad from Eq. (13.17) gives
Thus, PSRR− is of the form (gmro)2, transistor intrinsic gain squared, and therefore is maximized by
selecting long channels, L, and operating at low |VOV|.
13.1.8 Design Trade-Offs
The performance parameters of the two-stage CMOS amplifier are primarily determined by two design
parameters:
The length L used for the channel of each MOSFET.
The overdrive voltage |VOV| at which each transistor is operated.
So far, we have found that a larger L and correspondingly larger |VA| increases the amplifier gain, CMRR,
and PSRR. We also found that operating at a lower |VOV| increases these three parameters as well as
increasing the input common-mode range and the allowable range of output swing. Also, although we have
not analyzed the offset voltage of the op amp here, we know from Section 9.4.1 that a number of the
components of the input offset voltage that arises from random device mismatches are proportional to |VOV|
at which the MOSFETs of the input differential pair are operated. Thus the offset is minimized by operating
at a lower |VOV|. However, Eq. (13.42) illustrates that a low value of |VOV1,2| reduces slew rate. Additionally,
too-large gate lengths will cause transistor parasitic capacitances to dominate C1 and C2, thus reducing unity-
gain frequency.
In summary, the selection of |VOV| and L presents the designer with trade-offs between improving the
low-frequency performance on the one hand and the high-frequency performance on the other. For modern
submicron technologies, which require operation from power supplies of 1 V to 1.5 V, overdrive voltages
between 0.1 V and 0.3 V are typical, and channel lengths at least 1.5 to 2 times the specified value of Lmin
are used.
Once overdrive voltages and gate lengths are chosen, all that remains is to select the transistor widths, or,
equivalently, the bias currents I and ID6,7. These bias currents provide a trade-off between unity-gain
frequency and power consumption, (VDD + VSS)(I + ID6,7). Increasing bias current ID6 with fixed VOV,6
increases Gm2 = gm6 [Eq. (13.12)], ωZ [Eq. (13.26)], and ωP2 [Eq. (13.30)]. This, in turn, allows ωP1 and ωt
to be increased without compromising phase margin. We may realize these further changes either by
decreasing CC or increasing bias current I. However, we may not increase op amp bandwidth indefinitely.
Increasing transistor bias current while maintaining fixed overdrive voltage and gate length entails increasing

13.7
13.8
gate width, W, so that transistor parasitic capacitances will ultimately predominate over C1 and C2,
preventing further bandwidth increases.
Example 13.1
We conclude our study of the two-stage CMOS op amp with a design example. We are required to design the
circuit to obtain a dc gain of 1000 V/V. Assume that the available fabrication technology is of the 0.3-µm type
for which 
, and VDD = VSS = 1.65 V.
To achieve a reasonable dc gain per stage, use L = 1 µm for all devices. Also, for simplicity, operate all devices
at the same |VOV|. Use I = 200 µA, and ID6 = 0.5 mA. Specify the W/L ratios for all transistors. Also give the
values realized for the input common-mode range, the maximum possible output swing, Rin, and Ro. Also
determine the CMRR and PSRR realized. If C1 = 0.1 pF and C2 = 0.8 pF, find the required values of CC and the
series resistance R to place the transmission zero at s = ∞ and to obtain the highest possible ft consistent with a
phase margin of 85° in a unity-gain configuration. Evaluate the values obtained for ft and SR.
EXERCISES
A two-stage CMOS op amp is used in a unity-gain feedback configuration with a load capacitance C2 =
15 pF, I = 0.3 mA, and ID6,7 = 0.5 mA. All overdrive voltages are |VOV| = 0.25 V, and gate lengths are
L = 0.4 µm. Estimate fP2 and then find CC to provide 70 degrees phase margin. (You may assume a
resistor is added in series with CC to eliminate the effect of ωz.)
Assume all transistors in Fig. 13.1 have the parameters of the 0.18-µm CMOS technology in Appendix
K and all gate lengths are L = 0.6 μm. The PMOS current-mirror overdrive voltages are |VOV5,7,8| = 0.5
V. Find transistor widths W5, W7, and W8 so that I = ID6,7/2 = 10IREF = 0.2 mA. Replace the current
source IREF with a resistor of the appropriate value assuming VDD = VSS = 1V.
∨Show Solution
∨Show Answer
∨Show Answer

13.2 The Folded-Cascode CMOS Op Amp
In this section, we look at another type of CMOS op-amp circuit: the folded cascode. The circuit is a
modification of the cascode amplifier studied in Section 8.5.1. A differential version of the NMOS cascode
circuit in Fig. 8.31 would require stacking a large number of transistors, which presents a problem with low-
voltage power supplies. Instead, we can use a PMOS transistor for the CG stage Q2 while keeping an NMOS
transistor for the CS device Q1, as shown in Fig. 13.8(a). We need an additional current source, I2, to bias Q2
and serve as its active load. Note that Q1 operates at a bias current of (I1 − I2). Finally, we need a dc voltage
VG2 at the gate of cascode transistor Q2. We select its value so that Q2 and Q1 operate in the saturation
region.
Figure 13.8 (a) The folded cascode amplifier with ideal current-source load. (b) An equivalent small-signal
representation.
The small-signal operation of the circuit in Fig. 13.8(a) is similar to that of the NMOS cascode, and is
modeled in Fig. 13.8(b). The difference here is that the signal current gmvi is “folded down” and made to
flow into the source terminal of Q2, which is why the circuit is called a folded cascode.5 As before, Ro ≈
gm2ro2ro1. As suggested by the model in Fig.13.8(b), the folded cascode is a single-stage amplifier. The
dominant pole will be determined by the relatively large output resistance, Ro, and the load capacitance. By
contrast, in the two-stage op amp, the load capacitance determined the second pole frequency, and the
dominant pole must be made significantly lower to ensure adequate phase margin. Hence, the folded cascode

op amp can be designed to provide performance that in some respects exceeds that of the two-stage topology,
particularly when driving predominantly capacitive loads such as the input of other CMOS circuits within
the same integrated circuit. The folded cascode is also a popular choice for discrete op amps when followed
by an output stage.6
13.2.1 The Circuit
Figure 13.9 shows the structure of the CMOS folded-cascode op amp. Here, Q1 and Q2 form the input
differential pair, and Q3 and Q4 are the cascode transistors. Recall that for differential input signals, each of
Q1 and Q2 acts as a common-source amplifier. Also note that the gate terminals of Q3 and Q4 are connected
to a constant dc voltage (VBIAS1) and hence are at signal ground. Thus, for differential input signals, each of
the transistor pairs Q1–Q3 and Q2–Q4 acts as a folded-cascode amplifier, such as the one in Fig. 13.8. Note
that the input differential pair is biased by a constant-current source I. Thus both Q1 and Q2 operate at a bias
current I/2. A node equation at each of their drains shows that the bias current of each of Q3 and Q4 is (IB
−I/2).
Figure 13.9 Structure of the folded-cascode CMOS op amp.
EXERCISE

13.9
To limit the power dissipation in the op-amp circuit of Fig. 13.9 to an acceptable level, the total dc
current is limited to 0.3 mA. If it is desired to bias each of Q1 and Q2 at a dc current four times the bias
current of each of Q3 and Q4, find the values of IB, I, ID1,2, and ID3,4.
As we learned in Chapter 8, to realize the full advantage of the high output resistance achieved through
cascoding, we must make the output resistance of the current-source load equally high. This is why we use
the cascode current mirror Q5 to Q8 in the circuit of Fig. 13.9. (We studied this current-mirror circuit in
Section 8.7.1.) Finally, note that capacitance CL denotes the total capacitance at the output node. It includes
the internal transistor capacitances, an actual load capacitance (if any), and possibly an additional
capacitance deliberately introduced for frequency compensation. In many cases, however, the load
capacitance will be large enough that we do not need to provide additional capacitance to achieve the desired
frequency compensation. We will discuss this topic shortly. For now, note that unlike the two-stage circuit,
which requires a separate compensation capacitor CC, here the load capacitance contributes to frequency
compensation.
A more complete circuit for the CMOS folded-cascode op amp is shown in Fig. 13.10. Here we show the
two transistors Q9 and Q10, which provide the constant bias currents IB, and transistor Q11, which provides
the constant current I used for biasing the differential pair. Notice that we’re not showing the details for
generating the bias voltages VBIAS1, VBIAS2, and VBIAS3. Nevertheless, we are interested in how these
voltages should be selected. To that end, we next evaluate the input common-mode range and the allowable
output swing.
∨Show Answer

(13.50)
Figure 13.10 A more complete circuit for the folded-cascode CMOS amplifier of Fig. 13.9.
13.2.2 Input Common-Mode Range and Output Swing
To find the input common-mode range, let the two input terminals be tied together and connected to a
voltage VICM. The maximum value of VICM is limited by the requirement that Q1 and Q2 operate in
saturation at all times. Thus VICMmax should be at most Vtn volts above the voltage at the drains of Q1 and
Q2. The latter voltage is determined by VBIAS1, which we must choose to allow for a voltage drop across Q9
and Q10 at least equal to their overdrive voltage 
. Assuming that we are able to select
VBIAS1 so that Q9 and Q10 are indeed operated at the edge of saturation, VICMmax will be
which can be larger than VDD, a significant improvement over the case of the two-stage circuit. We select the
value of VBIAS2 to yield the required value of IB while operating Q9 and Q10 at a small value of |VOV| (e.g.,
0.2 V or so). The minimum value of VICM is limited by the need to keep Q11 operating in saturation at all
times, which is assured by keeping the voltage across it no smaller than VOV11 at all times. Thus

(13.51)
(13.52)
(13.53)
(13.54)
(13.55)
13.10
The presence of the threshold voltage Vtn in this expression indicates that VICMmin is not low enough for
many applications. Later in this section, we describe an ingenious technique for solving this problem. For the
time being, note that we should select a value for VBIAS3 that will provide the required value of I while
operating Q11 at a low overdrive voltage. Combining Eqs. (13.50) and (13.51) provides
The upper end of the allowable range of vO is determined by the need to maintain Q10 and Q4 in
saturation. Note that Q10 will operate in saturation as long as an overdrive voltage, 
 appears across
it. It follows that to maximize the allowable positive swing of vO (and also VICMmax), we should select the
value of VBIAS1 so that Q10 operates at the edge of saturation, that is,
The upper limit of vO will then be
which is two overdrive voltages below VDD. The situation is not as good, however, at the other end: Since
the voltage at the gate of Q6 is –VSS + VGS7 + VGS5 or equivalently –VSS + VOV7 + VOV5 + 2Vtn, the lowest
possible vO is obtained when Q6 reaches the edge of saturation, namely, when vO decreases below the
voltage at the gate of Q6 by Vtn, that is,
Note that this value is two overdrive voltages plus a threshold voltage above −VSS. This is a drawback of
using the cascode mirror. As we will see in Section 13.2.7, we can solve the problem by using a modified
mirror circuit.
EXERCISE
For a particular design of the folded-cascode op amp of Fig. 13.10, ±1.65-V supplies are used and all
transistors are operated at overdrive voltages of 0.3-V magnitude. The fabrication process provides Vtn
= |Vtp| = 0.5 V. Find the input common-mode range and the range allowed for vO.
13.2.3 Voltage Gain
∨Show Answer

(13.56)
(13.57)
(13.58)
(13.59)
(13.60)
(13.61)
(13.62)
(13.63)
The folded-cascode op amp is simply a transconductance amplifier with an infinite input resistance, a
transconductance Gm, and an output resistance Ro. In addition, Gm is equal to gm of each of the two
transistors of the differential pair,
Thus,
The output resistance Ro is the parallel equivalent of the output resistance of the cascode amplifier and the
output resistance of the cascode mirror, thus
Figure 13.10 shows that the resistance Ro4 is the output resistance of the CG transistor Q4. The latter has a
resistance 
 in its source lead, thus
The resistance Ro6 is the output resistance of the cascode mirror and is given by Eq. (8.97), thus
Combining Eqs. (13.58) to (13.60) gives
We can now find the dc open-loop gain using Gm and Ro, as
Thus,
Figure 13.11 shows the equivalent-circuit model including the load capacitance CL, which we’ll take into
account shortly.

(13.64)
(13.65)
(13.66)
13.11
Figure 13.11 Small-signal equivalent circuit of the folded-cascode CMOS amplifier. Note that this circuit is in effect an
operational transconductance amplifier (OTA).
Because the folded-cascode op amp is a transconductance amplifier, we call it an operational
transconductance amplifier (OTA). Its very high output resistance, which is of the order of 
 (see Eq.
13.61) allows it to realize a relatively high voltage gain in a single amplifier stage. You may be concerned by
such a high output resistance; after all, in Chapter 2, we said that an ideal op amp has a zero output
resistance! To alleviate this concern somewhat, let’s find the closed-loop output resistance of a unity-gain
follower formed by connecting the output terminal of the circuit of Fig. 13.10 back to the negative input
terminal. Since this feedback is of the voltage sampling type, it reduces the output resistance by the factor (1
+ Aβ), where A = Av and β = 1, that is,
Substituting for Av from Eq. (13.62) gives
which is a general result that applies to any OTA to which we apply 100% voltage feedback. For our
particular circuit, Gm = gm1, thus
Since gm1 is of the order of 1 mA/V, Rof will be of the order of 1 kΩ. Although this is not very small, it is
reasonable in view of the simplicity of the op-amp circuit as well as the fact that this type of op amp is not
usually intended to drive low-valued resistive loads.
EXERCISE
The CMOS op amp of Figs. 13.9 and 13.10 is fabricated in a process for which 
 = 20 V/
µm. If all devices have 1-µm channel length and are operated at equal overdrive voltages of 0.2-V
magnitude, I = 240 µA, and IB = 150 µA, find the voltage gain and the value of Ro obtained.
∨Show Answer

(13.67)
(13.68)
(13.69)
13.2.4 Frequency Response
From Section 10.5, we know that one of the advantages of the cascode configuration is its excellent high-
frequency response. It has three poles: one at the input, one at the connection between the CS and CG
transistors (i.e., at the source terminals of Q3 and Q4), and one at the output terminal. Normally, the first two
poles are at very high frequencies, especially when the resistance of the signal generator that feeds the
differential pair is small. Since the primary purpose of CMOS op amps is to feed capacitive loads, CL is
usually large, and the pole at the output becomes dominant. Even if CL is not large, we can increase it
deliberately to give the op amp a dominant pole and thus an open-loop gain that decreases at the uniform rate
of −20 dB/decade down to the unity-gain frequency ft, ensuring stable operation when feedback is applied.
From Fig. 13.11 we can write
Thus, the dominant pole has a frequency fP,
and the unity-gain frequency ft will be
From a design point of view, the value of CL should be such that at f = ft the excess phase resulting from the
nondominant poles is small enough that we can achieve the required phase margin. If CL is not large enough,
it can be augmented. Alternatively, we can reduce Gm by reducing the bias current in Q1,2 while keeping
VOV1,2 constant, which has the benefit of reducing power consumption.
It is important to note how increasing the load capacitance affects the operation of each of the two op-
amp circuits we have studied differently. In the two-stage circuit, if CL is increased, the frequency of the
second pole decreases, the excess phase shift at f = ft increases, and the phase margin is reduced. Here, on the
other hand, when CL is increased, ft decreases, but the phase margin increases. In other words, a heavier
capacitive load decreases the bandwidth of the folded-cascode amplifier but does not impair its response
(which happens when the phase margin decreases). We can restore the lost bandwidth by increasing Gm in
Eq. (13.69). We do so by increasing the bias currents in Q1,2 while keeping VOV1,2 constant, resulting in
increased power consumption.
13.2.5 Slew Rate

(13.70)
As we discussed in Section 13.1.6, slewing occurs when a large differential signal appears at the op-amp
input. Refer to Fig. 13.9 and consider the case when Vid is large and turns Q2 off. Transistor Q1 will then
attempt to conduct the entire bias current I. This, however, would not be possible, since I is usually larger
than IB. Considering the drain node of Q1 we see that for the node equation to be satisfied, not only must the
current in Q3 reduce to zero, but also the current of Q1 must reduce to equal IB. For this to happen, both Q1
and the transistor supplying I must enter the triode mode of operation, and the voltages at their drains must
fall accordingly. Now, the zero current in Q3 causes the input current of the mirror to be zero, and
correspondingly its output current, in the drain of Q6, will be zero. Meanwhile, the zero current in the drain
of Q2 forces the entire current IB to flow through Q4 and into CL. This causes the output voltage vO to ramp
with a slope of IB/CL, which is the slew rate,
After the slewing process is completed, before the amplifier can return to its normal linear operation,
both Q1 and the transistor that supplies the bias current I must leave the triode mode and return to the
saturation mode of operation. This, however, can take some time and may introduce additional distortion in
the output signal. This is where creative circuit design again comes to the rescue! Problem 13.35 investigates
an ingenious way to deal with this issue.
Example 13.2
Consider the design of the CMOS folded-cascode op amp in Fig. 13.10 with I = 200 µA, IB = 150 µA, and |VOV|
= 0.2 V for all transistors. The transistor parameters are given in Appendix K for the 0.18-µm technology. For
NMOS: 
 = 387 µA/V2 and 
 = 5 V/µm. For PMOS: 
 = 86 µA/V2 and 
 = 6V/µm. Also, VDD = 1.8 V,
VSS = 0 V and |Vt| = 0.5 V. Let all transistors have L = 0.4 µm and assume CL = 2 pF. Find ID, gm, ro, and W/L
for all transistors. Find the allowable range of VICM and the output voltage swing. Determine the values of Av, ft,
fP, and SR. What is the power dissipation of the op amp?
13.2.6 Increasing the Input Common-Mode Range: Rail-to-Rail Input
Operation
In Section 13.2.2, we found that while the upper limit on the input common-mode range exceeds the supply
voltage VDD, the lower limit is significantly higher than −VSS. The opposite situation occurs if the input
differential amplifier is made up of PMOS transistors. It follows that an NMOS and a PMOS differential pair
placed in parallel would provide an input stage with a common-mode range that exceeds the power-supply
voltage in both directions. This is known as rail-to-rail input operation. Figure 13.12 shows such an
arrangement. To keep the diagram simple, we have not shown the parallel connection of the two differential
pairs: The two positive-input terminals are to be connected together and the two negative-input terminals are
to be tied together. Transistors Q5 and Q6 are the cascode transistors for the Q1–Q2 pair, and transistors Q7
∨Show Solution

(13.71)
and Q8 are the cascode devices for the Q3–Q4 pair. The output voltage Vo is shown taken differentially
between the drains of the cascode devices. To obtain a single-ended output, a differential-to-single-ended
conversion circuit should be connected in cascade.
Figure 13.12 A folded-cascode op amp that employs two parallel complementary input stages to achieve rail-to-rail
input common-mode operation. Note that the two “+” terminals are connected together and the two “–” terminals are
connected together.
Figure 13.12 indicates by arrows the direction of the current increments that result from the application
of a positive differential input signal Vid. The currents generated by the NMOS pair are Gmn(Vid/2), where
Gmn = gm1 = gm2, whereas those generated in the PMOS pair are Gmp(Vid/2), where Gmp = gm3 = gm4. Thus,
the total current feeding each output node is (Gmn + Gmp)(Vid/2). If the small-signal output resistance
between each of the two output nodes and ground is denoted Ro, the output voltage will be
Thus, the voltage gain will be

13.12
(a)
(b)
(c)
(d)
This, however, assumes that both differential pairs will be operating simultaneously. This occurs only over a
limited range of VICM. Over the remainder of the input common-mode range, only one of the two differential
pairs will be operational, and the gain drops to either GmnRo or GmpRo depending on which differential pair
is operational. In situations where the input common-mode can change during operation, such as in a unity-
gain configuration with wide input swing, differences between the offset voltages of the two differential
pairs can cause crossover distortion. Nevertheless, this rail-to-rail, folded-cascode structure is used in
several commercially available op amps including the Texas Instruments OPA357, and Analog Devices
AD8531 and ADA4661.
EXERCISE
For the circuit in Fig. 13.12, assume that all transistors, including those that implement the current
sources, are operating at equal overdrive voltages of 0.3-V magnitude and have |Vt| = 0.7 V and that
VDD = VSS = 2.5 V.
Find the range over which the NMOS input stage operates.
Find the range over which the PMOS input stage operates.
Find the range over which both operate (the overlap range).
Find the input common-mode range.
(Note that to operate properly, each of the current sources requires a minimum voltage of |VOV| across
its terminals.)
13.2.7 Increasing the Output Voltage Range: The Wide-Swing Current Mirror
In Section 13.2.2, we found that while the output voltage of the circuit of Fig. 13.10 can swing to within
2|VOV| of VDD, the cascode current mirror limits the negative swing to 
 above –VSS. In other
words, the cascode mirror reduces the voltage swing by Vt volts. This is further illustrated in Fig. 13.13(a),
which shows a cascode mirror (with VSS = 0, for simplicity) and indicates the voltages that result at the
various nodes. Notice that because the voltage at the gate of Q3 is 2Vt + 2VOV, the minimum voltage
permitted at the output (while Q3 remains saturated) is Vt +2VOV, hence the extra Vt. Also, notice that Q1 is
operating with a drain-to-source voltage Vt + VOV, which is Vt volts greater than it needs to operate in
saturation.
∨Show Answer

Figure 13.13 (a) Cascode current mirror with the voltages at all nodes indicated. Note that the minimum voltage allowed
at the output is Vt +2VOV.
Figure 13.13 (b) A modification of the cascode mirror that reduces the minimum output voltage to 2VOV. This is the
wide-swing current mirror. The circuit requires a bias voltage VBIAS.

13.13
The observations above lead us to conclude that to permit the output voltage at the drain of Q3 to swing
as low as 2VOV, we must lower the voltage at the gate of Q3 from 2Vt + 2VOV to Vt + 2VOV. This is exactly
what is done in the modified mirror circuit in Fig. 13.13(b): The gate of Q3 is now connected to a bias
voltage VBIAS = Vt + 2VOV. Thus the output voltage can go down to 2VOV with Q3 still in saturation. Also,
the voltage at the drain of Q1 is now VOV and thus Q1 is operating at the edge of saturation. The same is true
of Q2 and thus the current tracking between Q1 and Q2 will be assured. Note, however, that we can no longer
connect the gate of Q2 to its drain. Rather, it is connected to the drain of Q4. This establishes a voltage of Vt
+ VOV at the drain of Q4, which is sufficient to operate Q4 in saturation (as long as Vt is greater than VOV,
which is usually the case). This circuit is known as the wide-swing current mirror. Finally, note that Fig.
13.13(b) does not show the circuit for generating VBIAS. There are a number of possible circuits to
accomplish this task, one of which is explored in Exercise 13.13.
EXERCISE
Show that if transistor Q5 in the circuit of Fig. E13.13 has a W/L ratio equal to one-quarter that of the
transistors in the wide-swing current mirror of Fig. 13.13(b), and if the same value of IREF is used in
both circuits, then the voltage generated, V5, is Vt +2VOV, which is the value of VBIAS needed for the
gates of Q3 and Q4.
Figure E13.13

13.3 BJT Op-Amp Techniques
Although CMOS fabrication technologies have displaced bipolar technologies in many applications, op amps
made with bipolar transistors have several advantages over CMOS op amps that keep them in widespread
use. Bipolar transistors exhibit greater current-carrying capacity and higher breakdown voltage than
MOSFETs of similar size. Hence, op amps delivering relatively large load currents or operating with large
voltages are often less expensive when implemented with bipolar transistors. Bipolar transistors exhibit
better matching than CMOS transistors and higher transconductance, resulting in lower amplifier offset, and
they introduce less noise. Although we can overcome these shortcomings of CMOS op amps with
specialized design techniques, doing so tends to increase cost. Thus, BJT op amps are particularly popular
for general-purpose applications. On the other hand, the finite base current of BJTs translates into finite input
bias and input offset currents and finite input resistance, nonidealities not present in CMOS op amps.
Moreover, CMOS op amps can be integrated on the same chip as CMOS digital logic, which makes them
preferable when an entire system combining analog and digital circuits is to be achieved on a single chip.
We begin this section by describing bias circuits for the BJT op amp. We then present common circuits
for BJT op-amp input and output stages.
Device Parameters The technology we will use in the examples, exercises, and problems for this section
(except for the 741 circuit in Section 13.3.4) has the following characteristics:
For both, 
 and 
. It is important to note that we will assume that for this
technology, the transistor will remain in the active mode for 
 as low as 0.1 V (in other words, that 0.6
V is needed to forward-bias the CBJ).
13.3.1 Bias Design
As in CMOS op amps, the bias design of modern BJT amplifiers makes extensive use of current mirrors and
current-steering circuits (Sections 8.2 and 8.7). Typically, however, the bias currents are small (in the
microamp range). Thus, the Widlar current source (Section 8.7.4) is especially popular here. As well,
emitter-degeneration resistors (in the tens-of-kilohm range) are frequently used.
Figure 13.14 shows a self-biased current-reference source that uses a Widlar circuit formed by Q1, Q2,
and R2, and a current mirror Q3−Q4 with matched emitter-degeneration resistors R3 and R4. The circuit
establishes a current I in each of the four transistors, with the value of I determined as follows. Neglecting
base currents and ro’s for simplicity, we write

(13.72)
Thus,
But,
So,
Hence the value of I is determined by R2 and the ratio of the emitter areas of Q1 and Q2. Also, notice that I is
independent of VCC, a highly desirable outcome. Neglecting the temperature dependence of R2, we see that I
is directly proportional to the absolute temperature. It follows that transistors biased by I or mirrored
versions of it will exhibit gm’s that are constant independent of temperature! We can use a similar circuit to
maintain constant gm’s in CMOS op amps by replacing the bipolar current mirrors with CMOS ones.

D13.14
D13.15
Figure 13.14 A self-biased current-reference source using a Widlar circuit to generate I = (VT/R2) ln(IS2/IS1). The bias
voltages VBIAS1 and VBIAS2 are used to generate bias currents I5−8 used elsewhere in the op amp.
EXERCISE
Design the circuit in Fig. 13.14 to generate a current I = 10 µA. Use transistors Q1 and Q2 with their
areas in a 1:2 ratio. Assume that Q3 and Q4 are matched and design for a 0.2-V drop across each of R3
and R4. Specify the values of R2, R3, and R4.
The circuit in Fig. 13.14 provides a bias line VBIAS1 with a voltage equal to VBE1. We use this to bias Q5
and Q6 and generate currents proportional to I by appropriately scaling their emitter areas. Similarly, the
circuit provides a bias line VBIAS2 at a voltage (IR3 + VEB3) below VCC. We use this to bias Q7 and Q8 and
generate constant currents proportional to I by appropriately scaling emitter areas and emitter-degeneration
resistances.
EXERCISE
Design the circuit in Fig. 13.14 to generate currents I5 = 10µA, I6 = 5µA, I7 = 20µA, and I8 = 10µA.
Specify the required emitter areas for Q5 − Q8 as ratios of the emitter area of Q2 and Q3. Also specify
the values required for R5 − R8. Use the values of R2, R3, and R4 found in Exercise 13.14. Ignore base
currents.
13.3.2 Design of the Input Stage
A two-stage op amp using bipolar transistors is shown in Fig. 13.15. The cascade of a differential pair with
current-mirror load and a common-emitter stage affords high gain. The capacitor CC is selected to provide
adequate phase margin, as in the two-stage CMOS op amp. The class AB output stage, described in Chapter
12, provides a low output resistance.
∨Show Answer
∨Show Answer

Figure 13.15 A bipolar two-stage op amp with class AB output stage. The input common-mode range is limited by the
input differential pair with current-mirror load, and the output swing is limited by the class AB output stage.
Unfortunately, this circuit is unsuitable for low supply voltages. The output may swing only to within
approximately 1 V of the supply voltages due to the VBE drops of the output stage transistors. The alternative
output stage in Section 13.3.5 affords near rail-to-rail output swing. In this section, we focus on the input
stage and techniques to extend its input common-mode range. We desire rail-to-rail input common-mode
range when, for example, we use the op amp in a non-inverting configuration with the input biased near one
of the supply voltages. This is often necessary in circuits operating from low supply voltages.
Consider first the low end of the input common-mode range. The value of VICMmin is limited by the need
to keep Q1 in the active mode. Specifically, since the collector of Q1 is at a voltage 
, we see
that the voltage applied to the base of Q1 cannot go lower than 0.1 V without causing the collector–base
junction of Q1 to become forward biased. Thus VICMmin = 0.1 V, and the input common-mode range does
not include ground voltage as desired.
The only way to extend VICMmin to 0 V is to lower the voltage at the collector of Q1. We can do this only
by abandoning the use of the current-mirror load and using instead resistive loads, as shown in Fig. 13.16.
Observe that in effect we are going back to the resistively loaded differential pair with which we began our
study of differential amplifiers in Chapter 9!

Figure 13.16 For the input common-mode range to include ground voltage, the classical current-mirror-loaded input
stage in Fig. 13.15 has to be replaced with the resistively loaded configuration with the dc-voltage drop across RC limited
to 0.2 V to 0.3 V.
The minimum allowed value of VICM in the circuit of Fig. 13.16 is still, of course, limited by the need to
keep Q1 and Q2 in the active mode. This in turn is achieved by avoiding VICM values that cause the base
voltages of Q1 and Q2 to go below their collector voltages by more than 0.6 V,
where VRC is the voltage drop across each of RC1 and RC2. Now if VRC is selected to be 0.2 V to 0.3 V, then
VICMmin will be −0.4 V to −0.3 V, which is exactly what we need.
The major drawback of replacing the current-mirror load with resistive loads is that the differential gain
is considerably reduced,
where we have neglected ro for simplicity. Thus for VRC = 0.3 V, the gain is only 12 V/V. As we will see
shortly, this low-gain problem can be solved by cascoding.
Next consider the upper end of the input common-mode range. In Fig. 13.16, the maximum voltage that
can be applied to the bases of Q1 and Q2 is limited by the need to keep the current-source transistor in the
active mode. We achieve this by ensuring that the voltage across Q5, VEC5, does not fall below 0.1 V or so.
Thus the maximum value of VICM will be a voltage VEB1,2 or approximately 0.7 V lower,

That is, the upper end of the input common-mode range is at least 0.8 V below VCC, a severe limitation.
To recap, while the circuit in Fig. 13.16 has VICMmin of a few tenths of a volt below the negative power-
supply rail (at ground voltage), the upper end of VICM is rather far from VCC,
where we have assumed VRC = 0.3 V. To extend the upper end of VICM, we adopt a solution similar to the
one we used in the CMOS case (Section 13.2.6, Fig. 13.12), namely, we use a parallel complementary input
stage. To that end, note that the npn version of the circuit of Fig. 13.16, shown in Fig. 13.17, has a common-
input range of
where we have assumed that VRC = 0.3 V. Thus, as expected, the high end meets our specifications and in
fact is above the positive supply rail by 0.3 V. The lower end, however, does not, but this should cause us no
concern because the lower end will be looked after by the pnp pair. Finally, note that there is a range of VICM
in which both the pnp and the npn circuits will be active and properly operating,
Figure 13.17 The complement of the circuit in Fig. 13.16. While the input common-mode range of the circuit in Figure
13.16 extends below ground, here it extends above VCC. Connecting the two circuits in parallel, as we will show, results
in a rail-to-rail VICM range.

Figure 13.18 shows an input stage that achieves more than rail-to-rail input common-mode range by
using a pnp differential pair (Q1, Q2) and an npn differential pair (Q3, Q4), connected in parallel. To keep the
diagram simple, we are not showing the parallel connection of the input terminals; the + input terminals are
assumed to be connected together, as are the – input terminals. In order to increase the gain obtained from
the resistively loaded differential pairs, we add a folded-cascode stage. Here R7 and R8 are the resistive loads
of the pnp pair Q1−Q2, and Q7−Q8 are its cascode transistors. Similarly, R9 and R10 are the resistive loads of
the npn pair Q3−Q4, and Q9−Q10 are its cascode transistors. Notice that the cascode transistors do “double
duty.” For instance, Q7−Q8 operate as the cascode devices for Q1−Q2 and at the same time as current-source
loads for Q9−Q10. We can make a similar statement about Q9−Q10. The output voltage of the first stage, vOd,
appears between the collectors of the cascode devices.
Figure 13.18 Input stage with rail-to-rail input common-mode range and a folded-cascode stage to increase the gain.
Note that all the bias voltages including VBIAS3 and VB are generated elsewhere on the chip.
For 
, the npn stage will be inactive and the gain is determined by the transconductance
Gm of the Q1−Q2 pair together with the output resistance seen between the collectors of the cascode
transistors. At the other end of VICM (that is, VICM ≫ VCC − 0.8) the Q1−Q2 stage will be inactive, and the
gain will be determined by the transconductance Gm of the Q3−Q4 pair and the output resistance between the
collectors of the cascode devices. In the overlap region 0.8 ≤ VICM ≤ VCC − 0.8, both the pnp and npn stages
will be active and their effective transconductances Gm add up, resulting in a higher gain. The dependence of

(13.73)
the differential gain on the input common-mode VICM is usually undesirable and can be reduced
considerably by arranging that one of the two differential pairs is turned off when the other one is active.7
Example 13.3
We need to find the input resistance and the voltage gain of the input stage shown in Fig. 13.18. Let VICM ≪ 0.8
V so that the Q3−Q4 pair is off. Assume that Q5 supplies 10 µA, that each of Q7 to Q10 is biased at 10 µA, and
that all four cascode transistors are operating in the active mode. The input resistance of the second stage of the
op amp (not shown) is RL = 2 MΩ. The emitter-degeneration resistances are R7 = R8 = 20 kΩ, and R9 = R10 = 30
kΩ. Recall that the device parameters are βN = 40, βP = 10, VAn = 30 V, |VAp| = 20 V.
13.3.3 Common-Mode Feedback to Control the DC Voltage at the Output of
the Input Stage
For the cascode circuit in Fig. 13.18 to operate properly and provide high output resistance and thus high
voltage gain, the cascode transistors Q7 through Q10 must operate in the active mode at all times. However,
relying solely on matching will not be enough to ensure that the currents supplied by Q9 and Q10 are exactly
equal to the currents supplied by Q7 and Q8. Any small mismatch ∆I between the two sets of currents will be
multiplied by the large output resistance between each of the collector nodes and ground, and thus there will
be large changes in the voltages vO1 and vO2. These changes can cause one set of the current sources (i.e.,
Q7−Q8 or Q9−Q10) to saturate. We therefore need a circuit that detects the change in the dc or common-
mode component VCM of vO1 and vO2,
and adjusts the bias voltage on the bases of Q7 and Q8, VB, to restore current equality. This negative-
feedback loop should be insensitive to the differential signal components of vO1 and vO2; otherwise it would
reduce the differential gain. Thus the feedback loop should provide common-mode feedback (CMF).
Figure 13.20 shows the cascode circuit with the CMF circuit as a black box. The CMF circuit accepts
vO1 and vO2 as inputs and provides the bias voltage VB as output. In a particular implementation we will
present shortly, the CMF circuit has the transfer characteristic
∨Show Solution

(13.74)
Figure 13.20 The cascode output circuit of the input stage and the CMF circuit that responds to the common-mode
component 
 by adjusting VB so that Q7−Q8 conduct equal currents to Q9−Q10, and Q7−Q10
operate in the active mode.
By keeping VB higher than VCM by only 0.4 V, the CMF circuit ensures that Q7 and Q8 remain active (0.6 V
is needed for saturation).
The nominal value of VB is determined by the quiescent current of Q7 through Q10, the quiescent value
of I1 and I2, and the value of R7 and R8. The resulting nominal value of VB and the corresponding value of
VCM from Eq. (13.74) are designed to ensure that Q9 and Q10 operate in the active mode. Here, it is
important to recall that VBIAS3 is determined by the rest of the op-amp bias circuit.
To see how the CMF circuit regulates the dc voltage VCM, assume that for some reason VB is higher than
it should be and as a result the currents of Q7 and Q8 exceed the currents supplied by Q9 and Q10 by an
increment ∆I. When multiplied by the total resistance between each of the output nodes and ground, the
increment ∆I will result in a large negative voltage increment in vO1 and vO2. The CMF circuit responds by
lowering VB to the value that restores the equality of currents. The change in VB needed to restore
equilibrium is usually small (see Example 13.4), and according to Eq. (13.74), the corresponding change in
VCM will be equally small. Thus we see negative feedback in action: It minimizes the initial change and thus

keeps VCM nearly constant at its nominal value, which is designed to operate Q7 through Q10 in the active
region.
We conclude by briefly considering a possible implementation of the CMF circuit. Figure 13.21 shows
the second stage of an op-amp circuit. The circuit is fed by the outputs vO1 and vO2,
Figure 13.21 An op-amp second stage incorporating the common-mode feedback circuit for the input stage. Note that
the circuit generates the voltage VB needed to bias the cascode circuit in the first stage. Diode D is a Schottky-barrier
diode, which exhibits a forward voltage drop of about 0.4 V.
In addition to amplifying the differential component of vd, the circuit generates a dc voltage VB,
To see how the circuit works, note that Q11 and Q12 are emitter followers that minimize the loading of
the second stage on the input stage. The emitter followers deliver to the bases of the differential pair
Q13−Q14 voltages that are almost equal to vO1 and vO2 but dc shifted by VEB11,12. Thus the voltage at the
emitters of Q13−Q14 will be

(a)
(b)
(c)
which reduces to
The voltage VB is simply equal to VE plus the voltage drop of diode D. The latter is a Schottky-barrier
diode (SBD), which features a low forward drop of about 0.4 V. Thus,
as required. This CMF circuit is effective for small differential voltages (vO2 − vO1). The differential pair
Q13−14 provides gain, so a wider swing appears at vO3.
Example 13.4
Consider the operation of the circuit in Fig. 13.20. Assume that VICM ≪ 0.8 V so the npn input pair (Fig. 13.18)
is off. Hence I3 = I4 = 0. Also assume that only dc voltages are present and so I1 = I2 = 5 µA. Each of Q7 to Q10
is biased at 10 µA, VCC = 3V, VBIAS3 = VCC − 1, R7 = R8 = 20 kΩ, and R9 = R10 = 30 kΩ. Neglect base currents
and neglect the loading effect of the CMF circuit on the output nodes of the cascode circuit. The CMF circuit
provides VB = VCM + 0.4.
Determine the nominal values of VB and VCM. Does the value of VCM ensure operation in the active mode
for Q7 through Q10?
If the CMF circuit were not present, what would be the change in vO1 and vO2 (i.e., in VCM) as a result of a
current mismatch ∆I = 0.3 µA between Q7−Q8 and Q9−Q10? Use the output resistance values found in
Example 13.3.
Now, if the CMF circuit is connected, what change will it cause in VB to eliminate the current mismatch ∆I?
What is the corresponding change in VCM from its nominal value?
13.3.4 The 741 Op Amp Input Stage
The 741 op amp is an analog IC classic. It is essentially a Miller-compensated two-stage op amp with an
additional output stage to provide low output resistance. Its performance is in many respects far surpassed by
modern designs. However, its input stage, shown in Fig. 13.22, is different from the conventional two-stage
op amp and illustrates clever techniques that are still useful for bipolar design today.
∨Show Solution

Figure 13.22 The 741 input stage.
The input stage consists of transistors Q1 through Q4, with biasing performed by Q5 and Q6. Transistors
Q1 and Q2 act as emitter followers, causing the input resistance to be high and delivering the differential
input signal to the differential common-base amplifier formed by Q3 and Q4. Thus the input stage is the
differential version of the common-collector, common-base configuration we discussed in Section 10.7.3.
The collectors of Q3 and Q4 drive a current-mirror-load circuit. As usual with current-mirror loads, it not
only provides a high-resistance load for Q4 but also converts the signal from differential to single-ended
form with no loss in gain or common-mode rejection. The output of the input stage is taken single-endedly at
the collector of Q4.
As we mentioned in Section 9.6.2, every op-amp circuit includes a level shifter whose function is to shift
the dc level of the signal so that the signal at the op-amp output can swing positive and negative. In the 741,
level shifting is done in the first stage using the lateral pnp transistors Q3 and Q4. Although lateral pnp
transistors have poor high-frequency performance, their use in the common-base configuration (which is
known to have good high-frequency response) does not seriously impair the op-amp frequency response.
The use of the lateral pnp transistors Q3 and Q4 in the first stage results in an added advantage:
protection of the input-stage transistors Q1 and Q2 against emitter–base junction breakdown. Since the

emitter–base junction of an npn transistor breaks down at about 7 V of reverse bias (see Section 6.4.1),
regular npn differential stages suffer such a breakdown if, say, the supply voltage (which can be as high as
±15 V) is accidentally connected between the input terminals. Lateral pnp transistors, however, have high
emitter–base breakdown voltages (about 50 V), and because they are connected in series with Q1 and Q2,
they provide protection of the 741 input transistors, Q1 and Q2.
Finally, note that except for using input buffer transistors, the 741 input stage is essentially a current-
mirror-loaded differential amplifier. It is quite similar to the input stage of the CMOS amplifier in Fig. 13.1.
DC Analysis We first perform a dc analysis of the 741 input stage, Fig. 13.23, to find the dc current in each
transistor. As we will see shortly, this is a negative-feedback circuit that stabilizes the bias current of each of
Q1 to Q4 at a value approximately equal to IREF/2. Refer to the analysis indicated in the diagram (where βN
is assumed to be high). The sum of the collector currents of Q1 and Q2 (2I) is fed to (or sensed by) the input
of the current mirror Q5−Q6. The output current of the mirror, which for large βP is approximately equal to
2I, is compared to IREF at node X. The difference between the two currents (2I/βP) establishes the base
currents of Q3 and Q4. This is the error signal of the feedback loop. For large βP, this current approaches
zero and a node equation at X gives 
, and thus 
.
THE CREATOR OF THE µ A741: DAVID FULLAGAR
∨

13.16
13.17
Figure 13.23 The dc analysis of the 741 input stage.
To verify the action of the negative-feedback loop in stabilizing the value of I, assume that for some
reason I increases. We see that the input current of the Q5−Q6 mirror increases and, correspondingly, its
output current increases. Assuming that IREF remains constant, the base currents in Q3 and Q4 must decrease
to satisfy a node equation at X. This in turn decreases the value of I, which is opposite to the change we at
first assumed.
EXERCISES
If IREF = 19µA, find the value of the bias current for each of Q1, Q2, Q3, and Q4.
Determine the loop gain of the feedback loop in Fig. 13.23. Break the loop at the input of the Q5−Q6
mirror. Since the input resistance of the mirror is low, ground the connection of the collectors of Q1 and
Q2. Apply an input test current it to the current mirror and find the feedback current that appears in the
combined connection of the collectors of Q1 and Q2. Assume IREF remains constant.
∨Show Answer
∨Show Answer

13.18
13.19
Recalling from Chapters 2 and 9 that the input bias current of an op amp is the average of its two input
currents,
and the input offset current is
find IB and IOS for IREF = 19 µA if β1 and β2 are nominally 200 but can deviate from nominal by as
much as ±5%.
Input Common-Mode Range The input common-mode range is the range of input common-mode
voltages over which the input stage remains in the linear active mode. Refer to Fig. 13.22. We see that in the
741 circuit the input common-mode range is determined at the upper end by saturation of Q1 and Q2, and at
the lower end by saturation of Q3 and Q4, which in turn depends upon the input circuit’s load.
EXERCISE
Assume that VCC = 15 V. Show that the maximum allowable input common-mode voltage of the 741 is
approximately +14.7 V. (Assume that VBE 
 0.6 V and that to avoid saturation VCB ≥ −0.3 V for an
npn transistor.)
Small-Signal Analysis Figure 13.24 shows part of the 741 input stage for the purpose of performing small-
signal analysis. Note that since the collectors of Q1 and Q2 are connected to a constant dc voltage, they are
shown grounded. Also, the constant-current biasing of the bases of Q3 and Q4 is equivalent to having the
common-base terminal open-circuited.
∨Show Answer

(13.75)
(13.76)
(13.77)
Figure 13.24 Small-signal analysis of the 741 input stage.
The differential signal vi applied between the input terminals effectively appears across four equal
emitter resistances connected in series—those of Q1, Q2, Q3, and Q4. As a result, emitter signal currents
flow as indicated in Fig. 13.24 with
where re denotes the emitter resistance of each of Q1 through Q4. So
Thus the four transistors Q1 through Q4 supply the load circuit with a pair of complementary current signals
αie, as indicated in Fig. 13.24.
We can find the input differential resistance of the op amp from Fig. 13.24 as
Assuming the input circuit is loaded by a current-mirror active load as in Fig. 13.22, the output current is
Combining Eqs. (13.75) and (13.77) provides the transconductance of the input stage as

(13.78)
13.20
(13.79)
where gm1 is the transconductance of each of the four transistors Q1, Q2, Q3, and Q4.
EXERCISE
Assuming that each of the input-stage transistors is biased at a current I = 9.5 µA and that βN = 200,
find re, gm1, Gm1, and Rid.
To complete our modeling of the 741 input stage, we must find its output resistance Ro1. This is the
resistance seen “looking back” into the output terminal of the circuit in Fig. 13.22. Thus Ro1 is the parallel
equivalent of the output resistance looking into the collector of Q4 and the output resistance of the current-
mirror active load. It’s considerably easier to find the resistance looking into the collector of Q4 if we assume
that the common bases of Q3 and Q4 are at a virtual ground. This of course happens only when the input
signal vi is applied in a complementary fashion. Nevertheless, making this assumption does not result in a
large error.
Assuming that the base of Q4 is at virtual ground, the resistance we are after is Ro4, indicated in Fig.
13.25. This is the output resistance of a common-base transistor that has a resistance (re of Q2) in its emitter.
To find Ro4 we use the following expression (Eq. 8.71):
where Re = re and ro = VAp/I.
Figure 13.25 Simplified circuit for finding the output resistance Ro4 of the first stage.
∨Show Answer

13.21
13.22
13.23
Figure 13.26 Small-signal equivalent circuit for the input stage of the 741 op amp.
The second component of the output resistance is that seen looking into the output of the current-mirror
active load. In the 741, it is a bipolar current mirror with output resistance that we may also determine with
Eq. (13.79).
Figure 13.26 shows the equivalent circuit that we have derived for the input stage.
EXERCISES
Find Ro4. Assuming the active load has a similar output resistance, find the total output resistance of
the input stage, Ro1. Assume that I = 9.5 µA, VAn = 125 V, VAp = 50 V, βN = 200, and βP = 50.
Use the equivalent circuit of Fig. 13.26 together with the value of Gm1 found in Exercise 13.20 and the
value of Ro1 found in Exercise 13.21 to determine the open-circuit voltage gain of the 741 input stage.
Example 13.5
It is required to find the CMRR of the 741 input stage. Assume that the circuit is balanced except for mismatches
in the current-mirror load that result in an error 
m in the mirror’s current-transfer ratio; that is, the ratio
becomes (1 − m).
EXERCISES
Refer to Fig. 13.27 and assume that the bases of Q6 and Q7 are at approximately constant voltages
(signal ground). Find Ro6, Ro7, and hence Ro. Use VA = 125 V for npn and 50 V for pnp transistors.
Assume the bias current IC6,7 = 19 µA and R4 = 5 kΩ.
∨Show Answer
∨Show Answer
∨Show Solution
∨Show Answer

13.24
Use the result of Example 13.5 and Exercises 13.20 and 13.23, and assume 
M = 0.0055 to determine
Gmcm and CMRR of the 741 input stage. What would the CMRR be if the common-mode feedback
were not present? Assume βP = 50.
13.3.5 Output-Stage Design for Near Rail-to-Rail Output Swing
As we mentioned earlier, modern low-voltage bipolar op amps cannot afford to use the classical emitter-
follower-based class AB output stage in Fig. 13.15, which would consume too much of the power-supply
voltage. Instead, we use a complementary pair of common-emitter transistors, as shown in Fig. 13.28. The
output transistors QP and QN are operated in a class AB fashion. Typically, iL can be 10 mA or higher and is
determined by vO and RL. For iL = 0, iP = iN = IQ, where the quiescent current IQ is normally a fraction of a
milliamp.
The output stage in Fig. 13.28 is driven by two separate but equal signals, vBP and vBN. When vBP and
vBN are high, QN supplies the load current in the direction opposite to that shown8 and the output voltage vO
can swing to within 0.1 V or so of ground. In the meantime, QP is inactive. Nevertheless, in order to
minimize crossover distortion, QP is prevented from turning off and is forced (as we will show shortly) to
conduct a minimum current of about IQ/2.
The opposite happens when vBP and vBN are low: QP supplies the load current iL in the direction
indicated, and vO can go up as high as VCC − 0.1 V. In the meantime, QN is inactive but is prevented from
turning off and forced to conduct a minimum current of about IQ/2.
From the description above, we see that vO can swing to within 0.1 V of each of the supply rails. This
near rail-to-rail operation is the major advantage of this CE output stage. Its disadvantage is the relatively
high output resistance. However, given that the op amp will almost always be used with a negative-feedback
loop, the closed-loop output resistance can still be very low.
∨Show Answer

Figure 13.28 In order to provide vO that can swing to within 0.1 V of VCC and ground, a near rail-to-rail operation, the
output stage uses common-emitter transistors. Note that the driving signals vBP and vBN are separate but identical.
A Buffer/Driver Stage The output transistors can be called on to supply large currents (e.g., in the 10 mA to
15 mA range). When this happens, the base currents of QP and QN can be substantial, especially since these
output BJTs typically have modest current gains (e.g., 
 and 
). Such large currents
cannot usually be supplied directly by the amplifier stage preceding the output stage. Rather, we often need a
buffer/driver stage, as shown in Fig. 13.29. Here we use an emitter follower Q3 to drive QN. However,
because of the low βP, we use a double buffer consisting of complementary emitter followers Q1 and Q2 to
drive QP. The driver stage is fed by two separate but identical signals vIP and vIN that come from the
preceding amplifier stage (which is usually the second stage) in the op-amp circuit.9

13.25
Figure 13.29 The output stage that is operated as class AB needs emitter-follower buffers/drivers to reduce the loading
on the preceding stage and to provide the current gain necessary to drive QP and QN.
EXERCISE
(a) For the circuit in Fig. 13.29, find the current gain from each of the vIP and vIN terminals to the
output in terms of βP and βN.
(b) For iL = ±10 mA, how much signal current is needed at the vIP and vIN inputs?
Establishing IQ and Maintaining a Minimum Current in the Inactive Transistor Next we’ll consider the
circuit for establishing the quiescent current IQ in QN and QP and for maintaining a minimum current of IQ/2
in the inactive output transistor. Figure 13.30 shows a fuller version of the output stage. In addition to the
output transistors QP−QN and the buffer/driver stage, which we have already discussed, the circuit includes
two circuit blocks whose operation we will now explain.
∨Show Answer

(13.87)
(13.88)
(13.89)
(13.90)
The first is the circuit composed of the differential pair Q6−Q7 and associated transistors Q4 and Q5, and
resistors R4 and R5. This circuit measures the currents in the output transistors, iP and iN, and arranges for
the current I to divide between Q6 and Q7 according to the ratio iN/iP, and provides a related output voltage
vE. Specifically, it can be shown (Problems 13.68 and 13.69) that
where ISN and IS7 are the saturation currents of QN and Q7, respectively. Observe that for 
and 
. Thus Q6 turns off and Q7 conducts all of I. The emitter voltage vE becomes
Thus,
This equation simply states that vE = vBEN + VEB7, which could have been found directly from the circuit
diagram in Fig. 13.30. The important point to note, however, is that since VEB7 is a constant, vE is
determined by the current iN in the inactive transistor, QN. In the other extreme case of 
; thus Q7 turns off and Q6 conducts all of I. In this case we can use Eq. (13.89) to
show that

(13.91)
Figure 13.30 A more complete version of the output stage showing the circuits that establish the quiescent current in QP
and QN. As well, this circuit forces a minimum current of (IQ/2) to follow in the inactive output transistor, preventing the
transistor from turning off and thus minimizing crossover distortion.
So, here too, since VEB6 is a constant, vE is determined by the current in the inactive transistor, QP.
The second circuit block is a differential amplifier composed of Q8−Q9 with their emitter-degeneration
resistors R8, R9. The voltage vE generated by the measuring circuit is fed to one input of the differential
amplifier, and the other input is fed with a reference voltage VREF generated by passing a reference current
IREF through the series connection of diode-connected transistors Q10 and Q11. This differential amplifier
takes part in a negative-feedback loop that uses the value of vE to control the currents iP and iN through the

(13.92)
(13.93)
(13.94)
D13.26
nodes vIP and vIN. The objective of the feedback control is to set the current in the inactive output transistor
to a minimum value. To see how the feedback operates, consider the case when 
 and thus QN is
the inactive transistor. In this case, Q6 turns off, Q7 conducts all of I, and vE is given by Eq. (13.90). Now, if
for some reason iN falls below its minimum intended value, vE decreases, causing iC9 to decrease. This in
turn will cause the node vIN to rise and the voltage at the base of QN will eventually rise, thus increasing iN
to its intended value.
Analytically, we can obtain a relationship between iN and iP as follows. Assume that the loop gain of the
feedback loop that is anchored by the differential amplifier Q8−Q9 is high enough to force the two input
terminals to the same voltage, that is,
Substituting for vE from Eq. (13.89) results in
Observe that the quantity on the right-hand side is a constant. In the quiescent case, iN = iP = IQ, Eq. (13.92)
yields
Thus, the constant on the right-hand side of Eq. (13.92) is IQ/2, and we can rewrite Eq. (13.92) as
Equation (13.94) clearly shows that for 
 and that for 
. Thus the
circuit not only establishes the quiescent current IQ (Eq. 13.93), but also sets the minimum current in the
inactive output transistor at 
.
EXERCISE
For the circuit in Fig. 13.30, determine the value that IREF should have so that QN and QP have a
quiescent current IQ = 0.4 mA. Assume that the transistor areas are scaled so that ISN/IS10 = 10 and
IS7/IS11 = 2. Let I = 10 µA. Also, if iL in the direction out of the amplifier is 10 mA, find iP and iN.
∨Show Answer


■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
■
Summary
Most CMOS op amps are designed to operate as part of a VLSI circuit and thus are required to drive only
small capacitive loads. Therefore, most do not have a low-output-resistance stage.
We studied two approaches for the design of CMOS op amps: a two-stage configuration and a single-
stage topology using the folded-cascode circuit.
In the two-stage CMOS op amp, approximately equal gains are realized in the two stages.
Device mismatch together with the lower transconductance of the input stage result in a larger input
offset voltage for CMOS op amps than for bipolar units.
Miller compensation is used in the two-stage CMOS op amp locating the dominant pole at a very low
frequency using a relatively small capacitor. A series resistor is required to place the transmission zero on
the negative real axis so as to increase the phase margin.
The output capacitance, including the load, of the two-stage op amp determines the frequency of the
second, nondominant pole. Therefore, increasing the load capacitance decreases the phase margin.
The slew rate of a two-stage op amp is determined by the first-stage bias current and the frequency-
compensation capacitor.
Use of the cascode configuration increases the gain of a CMOS amplifier stage by about two orders of
magnitude, thus making possible a single-stage op amp.
The dominant pole of the folded-cascode op amp is determined by the total capacitance at the output
node, CL. Increasing CL improves the phase margin at the expense of reducing the bandwidth.
By using two complementary input differential pairs in parallel, the input common-mode range can be
extended to equal the entire power-supply voltage, providing so-called rail-to-rail operation at the input.
The output voltage swing of the folded-cascode op amp can be extended by utilizing a wide-swing
current mirror in place of the cascode mirror.
The rail-to-rail input common-mode range is achieved in BJT op amps by using resistive loads (instead
of current-mirror loads) for the input differential pair as well as utilizing two complementary differential
amplifiers in parallel.
To increase the gain of the input stage above that achieved with resistive loads, we use the folded-
cascode configuration.
To regulate the dc bias voltages at the outputs of the differential folded-cascode stage so as to maintain
active-mode operation at all times, we use common-mode feedback.
To obtain low input offset voltage and current, and high CMRR, the 741 input stage is designed to be
perfectly balanced. The CMRR is increased by common-mode feedback, which also stabilizes the dc
operating point.
To obtain high input resistance and low input bias current, the input stage of the 741 is operated at a very
low current level.
The output stage of a low-voltage BJT op amp uses a complementary pair of common-emitter transistors.
This allows vO to swing to within 0.1 V or so from each of the supply rails. The disadvantage is a high
open-loop output resistance. This, however, is substantially reduced when negative feedback is applied
around the op amp.

■
Modern output stages of BJT op amps operate in the class AB mode and utilize interesting feedback
techniques to set the quiescent current as well as to ensure that the inactive output transistor does not turn
off, a precaution that avoids increases in crossover distortion.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
Section 13.1: The Two-Stage CMOS Op Amp
13.1 A particular design of the two-stage CMOS operational amplifier of Fig. 13.1 utilizes ±1.5-V power supplies.
All transistors are operated at overdrive voltages of 0.2-V magnitude. The process technology provides devices
with Vtn = |Vtp| = 0.4 V. Find the input common-mode range and the range allowed for vO.
13.2 The CMOS op amp of Fig. 13.1 is fabricated in the 0.18-µm process of Appendix K for which 
 = 5 V/µm
and 
 = 6 V/µm. Find A1, A2, and Av if all devices are 0.3 µm long, Q1 and Q2 are operated at overdrive
voltages of 0.15-V magnitude, and Q6 is operated at VOV = 0.2 V. Also, determine the op-amp output resistance
obtained when the second stage is biased at 0.3 mA. What do you expect the output resistance of a unity-gain
voltage amplifier to be, using this op amp?
D 13.3 The CMOS op amp of Fig. 13.1 is fabricated in a process for which 
 for all devices is 6 V/µm. If all
transistors have L = 0.5 µm and are operated at equal overdrive voltages, find the magnitude of the overdrive
voltage required to obtain a dc open-loop gain of 500 V/V.
13.4 Consider the circuit in Fig. 13.1 with the device geometries shown at the bottom of this page. Let IREF = 40
µA, |Vt| for all devices = 0.45 V, μnCox = 390 µA/V2, μpCox = 70 µA/V2, |VA| for all devices = 5V, VDD = VSS = 1
V. Determine the size of Q6, W/L, that will ensure that the op amp will not have a systematic offset voltage. Then,
for all devices, evaluate ID, |VOV|, |VGS|, gm, and ro. Provide your results in a table. Also find A1, A2, the power
consumption, the dc open-loop voltage gain, the input common-mode range, and the output voltage range. Neglect
the effect of VA on the bias currents.
Transistor
Q1
Q2
Q3
Q4
Q5
Q6
Q7
Q8
W/L (µm/µm)
36
36
6
6
30
W
45
6
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
(d)
(e)
D 13.5 Design the two-stage CMOS op amp in Fig. 13.1 to provide a CMRR of about 72 dB. If all the transistors
are operated at equal overdrive voltages of 0.15 V and have equal channel lengths, find the minimum required
channel length. For this technology, 
 = 15 V/µm. What is the dc gain realized?
13.6 A two-stage CMOS op amp has Gm1 = 0.8 mA/V, Gm2 = 2.4 mA/V, C1 = 0.1 pF, and C2 = 0.8 pF. Find the
value of CC that will provide a unity-gain frequency of 160 MHz. Also, determine the values of fP2 and fZ.
13.7 For the CMOS amplifier in Fig. 13.1, whose equivalent circuit is shown in Fig. 13.2, let Gm1 = 1 mA/V, R1 =
40 kΩ, C1 = 0.1 pF, Gm2 = 1.5 mA/V, R2 = 20 kΩ, and C2 = 1 pF.
Find the dc gain.
Without CC connected, find the frequencies of the two poles in radians per second and sketch a
Bode plot for the gain magnitude.
With CC connected, find ωP2. Then find the value of CC that will result in a unity-gain frequency
ωt at least two octaves below ωP2. For this value of CC, find ωP1 and ωZ and sketch a Bode plot
for the gain magnitude.
13.8 A CMOS op amp with the topology in Fig. 13.1 has gm1 = gm2 = 1 mA/V, gm6 = 3 mA/V, the total capacitance
between node D2 and ground is 0.2 pF, and the total capacitance between the output node and ground is 3 pF. Find
the value of CC that results in ft = 50 MHz, and verify that ft is lower than fZ and fP2. Estimate the bias drain
currents in Q1,2 and Q6 assuming |VOV| = 0.2 V for all transistors.
13.9 A particular design of the two-stage CMOS op amp of Fig. 13.1 has Gm1 = 1.5 mA/V and Gm2 = 2 mA/V. The
total capacitance at the output node is 1 pF and the dc gain is 70 dB. While utilizing a Miller compensation
capacitor CC without a series resistance R, the amplifier is made to have a uniform −20-dB/decade gain rolloff with
a unity-gain frequency ft of 100 MHz.
What must the value of CC be?
What do you estimate the frequencies of the poles, fP1 and fP2, and of the right-half-plane zero, fZ,
to be?
What is the phase margin obtained?
To increase the phase margin, a resistance R is connected in series with CC. What is the value of R
that results in fZ = ∞, and what is the resulting phase margin?
If R is increased further, until it moves the zero into the left half-plane and thus introduces phase
lead, what value of R is needed to obtain a phase margin of 85°?
13.10 A two-stage CMOS op amp modeled by Fig. 13.2 is internally compensated for 70° phase margin at a unity-
gain frequency ft = 150 MHz with CC = 0.8 pF and C2 = 0.5 pF. If an additional load capacitance of 2 pF is added
to the output in parallel with C2, what value of additional external compensation capacitance must be added in
parallel with CC to maintain the same phase margin? What is the resulting unity-gain frequency?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
D 13.11 A particular implementation of the CMOS amplifier of Figs. 13.1 and 13.2 provides Gm1 = 0.3 mA/V, Gm2
= 0.6 mA/V, ro2 = ro4 = 222 kΩ, ro6 = ro7 = 111 kΩ, and C2 = 1 pF.
Find the dc gain.
Find the frequency of the second pole, fP2.
Find the value of the resistance R that, when placed in series with CC, causes the transmission zero
to be located at s = ∞.
With R in place, as in (c), find the value of CC that results in the highest possible value of ft while
providing a phase margin of 80° in a unity-gain configuration. What value of ft is realized? What is
the corresponding frequency of the dominant pole?
To what value should CC be changed to double the value of ft? At the new value of ft, what is the
phase shift introduced by the second pole? To reduce this excess phase shift to 10° and thus obtain
an 80° phase margin, as before, what value should R be changed to?
13.12 A two-stage CMOS op amp has each of its first-stage transistors Q1 and Q2 operating at an overdrive voltage
of 0.2 V. The op amp has a uniform −20-dB/decade frequency response with a unity-gain frequency of 50 MHz.
What do you expect the slew rate of this amplifier to be? If each of Q1 and Q2 is biased at 50 µA, what must the
value of CC be?
13.13 An op amp with ft = 1 MHz has a phase margin of 80°. If the excess phase shift is due to a second single
pole, what is the frequency of this pole?
13.14 An op amp with ft = 1 MHz has a phase margin of 80°. If the op amp has nearly coincident second and third
poles, what is their frequency?
D *13.15 For an op amp with 100 dB dc gain whose second pole is at 5 MHz, what dominant-pole frequency is
required for 85° phase margin with a closed-loop gain of 100? What is the resulting phase margin at a closed-loop
gain of 50?
13.16 An internally compensated op amp having an ft of 5 MHz and dc gain of 106 utilizes Miller compensation
around an inverting amplifier stage with a gain of –1000. If space exists for at most a 50-pF capacitor, what
resistance level must be reached at the input of the Miller amplifier for compensation to be possible?
13.17 Consider the integrator op-amp model shown in Fig. 13.3. For Gm1 = 2 mA/V, CC = 100 pF, sketch and label
a Bode plot for the magnitude of the open-loop gain. Compare this to the Bode plot of a lowpass STC circuit
having the same unity-gain frequency and a dc gain of 92 dB.
13.18 For an amplifier with a slew rate of 10 V/µs, what is the full-power bandwidth (see Example 2.9) for outputs
of ±5 V? What unity-gain bandwidth, ωt, would you expect if the topology is a two-stage CMOS op amp with
|VOV,1| = 0.2 V?
D 13.19 A two-stage CMOS op amp similar to that in Fig. 13.1 is found to have a capacitance between the output
node and ground of 0.7 pF. If it is desired to have a unity-gain bandwidth ft of 100 MHz with a phase margin of 72°
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(a)
(b)
(c)
in a unity-gain configuration, what must gm6 be set to? If |VOV,6| = 0.2 V, what is the bias current ID6? Assume that
a resistance R is connected in series with the frequency-compensation capacitor CC and adjusted to place the
transmission zero at infinity. What value should R have? If the first stage is operated at |VOV,1| = 0.15 V, what is the
value of slew rate obtained? If the first-stage bias current I = 100 µA, what is the required value of CC?
D 13.20 A CMOS op amp with the topology shown in Fig. 13.1 is designed to provide Gm1 = 0.5 mA/V and Gm2 =
2 mA.
Find the value of CC that results in ft = 80 MHz.
What is the maximum value that C2 can have while achieving a 70° phase margin?
D 13.21 A CMOS op amp with the topology shown in Fig. 13.1 but with a resistance R included in series with CC
is designed to provide Gm1 = 0.8 mA/V and Gm2 = 2 mA/V.
Find the value of CC that results in ft = 100 MHz.
For R = 500 Ω, what is the maximum allowed value of C2 for which a phase margin of at least
60° is obtained in a unity-gain configuration?
13.22 Recall that when an amplifier having a dominant pole at ωP1 and gain A0 is used in a feedback amplifier with
feedback factor β, the bandwidth of the closed-loop amplifier is ωP1(1 + A0β). When an op amp having a uniform –
20-dB/decade frequency response with unity-gain frequency ft is used in a noninverting configuration with a dc
gain ideally 1/β, show that the bandwidth of the closed-loop amplifier is approximately βft.
13.23 A two-stage CMOS op amp resembling that in Fig. 13.1 is found to have a slew rate of 60 V/µs and a unity-
gain bandwidth ft of 60 MHz.
Estimate the value of the overdrive voltage at which the input-stage transistors are operating.
If the first-stage bias current I = 120 µA, what value of CC must be used?
For a process for which μpCox = 60 µA/V2, what W/L ratio applies for Q1 and Q2?
D 13.24 Sketch the circuit of a two-stage CMOS amplifier having the structure of Fig. 13.1 but utilizing NMOS
transistors in the input stage (i.e., Q1 and, Q2).
D 13.25 (a) Show that the PSRR− of a CMOS two-stage op amp for which all transistors have the same channel
length and are operated at equal |VOV| is given by
(b) For |VOV| = 0.15 V, what is the minimum channel length required to obtain a PSRR− of 72 dB? For the
technology available, 
.
∨Show Answer
∨Show Answer

Section 13.2: The Folded-Cascode CMOS Op Amp
D 13.26 The op-amp circuit of Fig. 13.9 is operated from ±1-V power supplies. If the power dissipated in the
circuit is to be limited to 1 mW, find the maximum value of IB allowed. If this value is used, and each of Q1 and Q2
is to be biased at a current four times that used for each of Q3 and Q4, find the value of I, ID1,2, and ID3,4.
D 13.27 For the folded-cascode op amp in Fig. 13.10 utilizing power supplies of ±1 V, find the values of
VBIAS1,VBIAS2, and VBIAS3 to maximize the allowable range of VICM and vO. Assume that all transistors are
operated at equal overdrive voltages of 0.15 V. Assume |Vt| for all devices is 0.4 V. Specify the maximum range of
VICM and of vO.
D 13.28 For the folded-cascode op-amp circuit of Figs. 13.9 and 13.10 with bias currents I = 400 µA and IB = 250
µA, and with all transistors operated at overdrive voltages of 0.2 V, find the W/L ratios for all devices. Assume the
0.13-µm CMOS technology of Appendix K having 
 and 
.
13.29 Consider a design of the cascode op amp of Fig. 13.10 for which I = 200 µA and IB = 150 µA. Assume that
all transistors are operated at |VOV| = 0.2 V and that for all devices, |VA| = 5 V. Find Gm, Ro, and Av. Also, if the op
amp is connected in the feedback configuration shown in Fig. P13.29, find the voltage gain and output resistance of
the closed-loop amplifier.
Figure P13.29
D 13.30 Consider the folded-cascode op amp of Fig. 13.9 when loaded with a 10-pF capacitance. What should the
bias current IB be to obtain a slew rate of at least 10 V/µs? If the input-stage transistors are biased at a current three
times that at which each of Q3 and Q4 is biased, find the value of I. If the input-stage transistors are operated at
overdrive voltages of 0.15 V, what is the unity-gain bandwidth realized? If the two nondominant poles have the
same frequency of 50 MHz, what is the phase margin obtained in a unity-gain configuration? If it is required to
have a phase margin of 75°, what must ft be reduced to? By what amount should CL be increased? What is the new
value of SR?
13.31 For a particular design of the folded-cascode op amp in Fig. 13.9, I < IB. What slew rate is obtained?
13.32 A folded-cascode amplifier is connected to its capacitive load CL through a series resistor RS as shown in
Fig. P13.32. Find the frequency responses Vo/Vid and Vf/Vid. Show that Vf/Vid has a zero at fz = 1/2πRSCL. How
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
may this technique be used in frequency compensation?
Figure P13.32
D *13.33 Design the folded-cascode circuit of Fig. 13.10 to provide voltage gain of 80 dB and a unity-gain
frequency of 20 MHz when CL = 10 pF. Design for IB = I, and operate all devices at the same |VOV|. Utilize
transistors for which 
 is specified to be 12 V. Find the required overdrive voltages and bias currents. What
slew rate is achieved? Also, for the 0.25-µm CMOS technology of Appendix K in which 
and 
 = 93 µA/V2, specify the required W/L of each of the 11 transistors used.
D 13.34 Sketch the circuit that is complementary to that in Fig. 13.10, that is, one that uses an input p-channel
differential pair.
**13.35 This problem presents a very interesting addition to the folded-cascode op-amp circuit of Fig.
13.10, designed to deal with the situation during amplifier slewing. In particular, the additional circuitry
does two things: It prevents Q1 and Q11 from going into the triode region, and it increases the current
available to charge CL and thus increases the slew rate. The circuit is shown in Fig. P13.35 (with the
current-mirror circuit omitted, for simplicity). Observe that three transistors are added: Q14, which is
biased by a constant-current source (20 µA), establishes the dc currents in Q9 and Q10. Assume with
respect to Q9 and Q10 that each has a W/L ratio 10 times that of Q14. The other two additional
transistors are Q12 and Q13, which are diode connected and are normally cut off.
For Vid = 0, find the bias current in each of Q1, Q2, Q3, Q4, Q14, Q9, and Q10. Also, for the dc
voltages shown, and assuming Vtn = |Vtp| = 0.45 V and that all conducting devices are operating at
|VOV| = 0.15 V, show that Q12 and Q13 will be cut off.
For an input differential signal that causes Q2 to turn off and Q1 to conduct the entire bias current
(320 µA), Q12 turns on (while Q13 remains off). Noting that the drain current of Q12 adds to the 20
µA flowing through Q14, find the current that now flows through Q10 and onto CL. By what factor
does the slew rate increase relative to the value without Q12 present? Also give an approximate
estimate of the voltage at the drain of Q1 during the slewing transient.

Figure P13.35
13.36 For the circuit in Fig. 13.12, assume that all transistors are operating at equal overdrive voltages of 0.15-V
magnitude and have |Vt| = 0.45 V and that VDD = VSS = 1V. Find (a) the range over which the NMOS input stage
operates, (b) the range over which the PMOS input stage operates, (c) the range over which both operate (the
overlap range), and (d) the input common-mode range. Assume that all current sources require a minimum voltage
of |VOV| to operate properly.
13.37 A particular design of the wide-swing current mirror of Fig. 13.13(b) utilizes devices in the 65-nm CMOS
technology of Appendix K having W/L = 12, 
 = 540 µA/V2, and Vt = 0.35 V. For IREF = 90 µA, what value of
VBIAS is needed? Also give the voltages that you expect to appear at all nodes and specify the minimum voltage
allowable at the output terminal. If VA is specified to be 1 V, what is the output resistance of the mirror?
D 13.38 For the folded-cascode circuit of Fig. 13.9, let the total capacitance to ground at each of the source nodes
of Q3 and Q4 be denoted CP. Assuming that the incremental resistance between the drain of Q3 and ground is
small, show that the pole that arises at the interface between the first and second stages has a frequency fP ≃
gm3/2πCP. Now, if this is the only nondominant pole, what is the largest value that CP can be (expressed as a
fraction of CL) while a phase margin of 80° is achieved? Assume that all transistors are operated at the same bias
current and overdrive voltage.
Section 13.3: BJT Op-Amp Techniques
∨Show Answer
∨Show Answer

(a)
(b)
Unless otherwise specified, for the problems in this section assume βN = 40, βP = 10, VAn = 30 V, |VAp| = 20 V,
|VBE| = 0.7 V, and |VCEsat| = 0.1 V.
D 13.39 Design a Widlar current source shown in Fig. 13.14 so that all collector currents are 10 µA. Assume that
VCC = 3 V, IS2 = 10−16, all other transistors have IS = 2·10−17, and all have high β. Find VBIAS1, VBIAS2, and the
values of all resistors. The voltage drops across R3 and R4 should be 0.1 V.
D 13.40 Design the circuit in Fig. 13.14 to generate a current I = 5 µA. Utilize transistors Q1 and Q2 having areas
in a ratio of 1:4. Assume that Q3 and Q4 are matched and design for a 0.2-V drop across each of R3 and R4. Specify
the values of R2, R3, and R4. Ignore base currents.
D 13.41 Consider the circuit of Fig. 13.14 for the case designed in Exercise 13.14, namely, I = 10 µA, IS2/IS1 = 2,
R2 = 1.73 kΩ, R3 = R4 = 20 kΩ. We must generate constant currents of 10 µA and 40 µA in Q5 and Q6,
respectively. What should the emitter areas of Q5 and Q6 be relative to that of Q1 with R5 = R6 = 0? What value of
a resistance R6 will, when connected in the emitter of Q6, reduce the current generated by Q6 to 10 µA? Assuming
that the VBIAS1 line has a low incremental resistance to ground, find the output resistance of current source Q5 and
of current source Q6 with R6 connected. Ignore base currents.
D 13.42 It is required to use the current I5 in Fig. 13.14 to bias an npn differential pair. The transistor Q5 is
identical to Q2, and R5 is equal to R2. The differential pair has two equal collector resistances RC connected to VCC,
and the output voltage vO is taken between the two collectors.
Find an expression for the differential gain Ad in terms of (RC/R5) and (IS5/IS1). Comment on the
expected temperature dependence of Ad. Neglect the effect of finite βN.
Specify the values of R5 and RC required for I = 20 µA and Ad = 6 V/V. Let the emitter areas of Q1
and Q5 be in the ratio 1:4.
13.43 Consider the current-mirror active load Q3,4 in the two-stage op amp of Fig. 13.15 with R1 = 400 Ω. What
value must R1 be increased to in order to increase its output resistance by a factor of 2? Assume that I1 = 50 μA and
all transistors have β = 200 and VA = 125 V.
*13.44 The resistors R1 in Fig. 13.15 are mismatched so that one has a value R1 + ∆R1. You may assume that the
base currents are negligible.
(a) Show that this results in mismatched emitter currents in Q1 and Q2,
(b) Show that this, in turn, results in an input offset voltage of
∨Show Answer
∨Show Answer

(c) If an input offset voltage of VOS is observed, show that this can be compensated for (i.e., reduced to zero) by
creating a relative mismatch in the resistors R1,
D 13.45 Design a Widlar current reference to generate the bias currents I1 and I2 of the op amp in Fig. 13.15. Use
the circuit of Fig. 13.14 (excluding transistors Q5 and Q6) with I = 15 µA, I7 = 45 µA, and I8 = 150 µA. Assume
IS1,3,4 = 10−15 µA and IS2 = 4 × 10−15. Specify the areas of Q7 and Q8 in terms of the area of Q3 and all resistor
values. Design for a voltage drop of 0.1 V across R3 and R4.
13.46 For the op-amp circuit in Fig. 13.15, assume that VCC = 5V, |VBE| = 0.6 V for all transistors, and R2 = 300 Ω.
Also assume that the current source I2 = 200 µA requires a voltage drop of at least 0.3 V to operate properly. Find
the resulting limits on the output swing.
D 13.47 (a) Find the input common-mode range of the circuit in Fig. 13.15 assuming R1 = 0 and the current source
I1 is simply a pnp transistor biased in active mode with VCC = 3V.
(b) Give the complementary version of the input stage in Fig. 13.15; that is, the one in which the differential pair is
npn. For the same conditions as in (a), what is the input common-mode range?
13.48 For the circuit in Fig. 13.16, let VCC = 3 V, VBIAS = 2.3 V, I = 20 µA, and RC = 35 kΩ. Find the input
common-mode range and the differential voltage gain vo/vid. Neglect base currents.
D 13.49 For the circuit in Fig. 13.17, let VCC = 3V, VBIAS = 0.7 V, and IC6 = 40 µA. Find RC that results in a
differential gain of 14 V/V. What is the input common-mode range and the input differential resistance? Ignore base
currents except when calculating Rid. If Rid is to be increased by a factor of 4 while the gain and VICM remain
unchanged, what must I and RC be changed to?
13.50 It is required to find the input resistance and the voltage gain of the input stage shown in Fig. 13.18. Let
VICM ≪ 0.8 V so that the Q3−Q4 pair is off. Assume that Q5 supplies 8 µA, that each of Q7 to Q10 is biased at 8
µA, and that all four cascode transistors are operating in the active mode. The input resistance of the second stage
of the op amp is 1.5 MΩ. The emitter-degeneration resistances are R7 = R8 = 22 kΩ, and R9 = R10 = 33 kΩ. [Hint]
D *13.51 Consider the equivalent half-circuit shown in Fig. 13.19. Assume that in the original circuit, Q1 is biased
at a current I, Q7 and Q9 are biased at 2I, the dc voltage drop across R7 is 0.2 V, and the dc voltage drop across R9
is 0.3 V. Find the output resistance in terms of I, and hence find the open-circuit voltage gain (i.e., the voltage gain
for RL = ∞). Now with RL connected, find the voltage gain in terms of (IRL). For RL = 1 MΩ, find I that will result
in the voltage gains of 150 V/V and 300 V/V.
*13.52 (a) For the circuit in Fig. 13.20, show that the loop gain of the common-mode feedback loop is
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
Recall that the CMF circuit responds only to the average voltage VCM of its two input voltages and realizes the
transfer characteristic VB = VCM + 0.4. Ignore the loading effect of the CMF circuit on the collectors of the cascode
transistors.
(b) For the values in Example 13.4, calculate the loop gain Aβ.
(c) In Example 13.4, we found that with the CMF absent, a current mismatch (∆I = 0.3 µA gives rise to ∆VCM = 2.5
V. Now, with the CMF present, use the value of loop gain found in (b) to calculate the expected ∆VCM and compare
to the value found by a different approach in Example 13.4. [Hint: Recall that negative feedback reduces change by
a factor equal to (1 + Aβ).]
13.53 In the circuit of Fig. 13.22, Q1 and Q2 exhibit emitter–base breakdown at 7 V, while for Q3 and Q4 such a
breakdown occurs at about 50 V. What differential input voltage would result in the breakdown of the input-stage
transistors?
13.54 Consider the dc analysis of the 741 input stage shown in Fig. 13.23.
Derive an expression for I taking βP into account. What is the percentage change in I if βP drops
from 50 to 20? Assuming VA| = 50 V, βp = 50, and IC6 = 20 µA, what value of R provides Ro6 = 20
MΩ? How does this affect the CMRR calculated in Exercise 13.24?
Now, consider an alternative design of this circuit in which the feedback loop is eliminated. That
is, Q5 and Q6 are eliminated, and IREF is fed to the common-base connection of Q3 and Q4. What
is I now in terms of IREF? If βP changes from 50 to 20, what is the resulting percentage change in
I?
D 13.55 Consider the dc analysis of the 741 input stage shown in Fig. 13.23 for the situation in which IS6 = 2IS5.
For IREF = 19 µA and assuming βP to be high, what does I become? Design a Widlar source to reestablish IC1 = IC2
= 9.5 µA using the circuit in Fig. 13.14 wherein all resistors and transistors are sized identically except Q1 in Fig.
13.14, whose emitter area is sized one-tenth that of the others.
D 13.56 Consider the circuit shown in Fig. 13.23. If IREF = 40 µA and I is required to be 10 µA, what must be the
ratio of the emitter–junction area of Q6 to that of Q5? Assume that βP is large.
13.57 Consider the input circuit of the 741 op amp of Fig. 13.23 when the emitter current of Q5 is about 40 µA. If β
of Q1 is 150 and that of Q2 is 220, find the input bias current IB and the input offset current IOS of the op amp.
13.58 The circuit of Fig. 13.23 has an emitter current for Q5 of 40 µA with input bias and offset currents limited to
100 nA and 10 nA, respectively. What minimum βN and what βN variation are implied?
13.59 Consider the 741 input stage as modeled in Fig. 13.24, with two additional npn diode-connected transistors,
Q1a and Q2a, connected between the present npn and pnp devices, one per side. Assume βN = 200, βP = 50, and
VAP = 50 V. Convince yourself that each of the additional devices will be biased at the same current as Q1 to Q4—
let us assume 9.5 µA. What does Rid become? What does Gm1 become? What is the value of Ro4 now? What is the
output resistance of the first stage, Ro1? (Assume the active load output resistance remains unchanged from
Exercise 13.21 at 10.5 MΩ.) What is the new open-circuit voltage gain, Gm1Ro1? Compare these values with the
∨Show Answer
∨Show Answer
∨Show Answer

original ones from Exercises 13.20–22, namely, Rid = 2.1 MΩ, Gm1 = 0.19 mA/V, Ro4 = 10.5 MΩ, Ro1 = 5.3 MΩ,
and |Avo| = 1007 V/V.
13.60 If the current transfer ratio of the mirror load of the 741 input stage is 0.995, find the CMRR of the input
stage. The input transistors are biased at 9.5 µA. (Hint: Use Eq 13.86 together with the output resistance values
determined in Exercise 13.2.)
13.61 Consider the circuit of Fig. 13.27 modified to include resistors R in series with the emitters of each of Q5 and
Q6. Assuming |VA| = 50 V, βp = 50, and IC6 = 20 A, what value of R provides Ro6 = 20 M Ω? How does this affect
the CMRR calculated in Exercise 13.24?
13.62 An alternative approach to that presented in Example 13.5 for determining the CMRR of the 741 input stage
is investigated in this problem. Rather than performing the analysis on the closed loop shown in Fig. 13.27, we
observe that the negative feedback increases the resistance at node Y by the amount of negative feedback. Thus, we
can break the loop at Y and connect a resistance Rf = (1 + Aβ)Ro between the common-base connection of Q3−Q4
and ground. We can then determine the current i and Gmcm. Using the fact that the loop gain is approximately equal
to βP (Exercise 13.17) show that this approach yields an identical result to that found in Example 13.5.
D 13.63 For the circuit in Fig. P13.63, neglect base currents and use the exponential iC−vBE relationship to show
that
Figure P13.63
∨Show Answer

Find I1 for the case in which IS3 = IS4 = 3 × 10−14 A, IS1 = IS2 = 10−14 A, and a bias current I3 = 150 µA is
required.
D 13.64 Figure P13.64 shows the CMOS version of the circuit in Fig. P13.63. Find the relationship between I3 and
I1 in terms of k1, k2, k3, and k4 of the four transistors, assuming the threshold voltages of all devices to be equal in
magnitude. Note that k denotes μCoxW/L. In the event that k1 = k2 and k3 = k4 = 20k1, find the required value of I1
to yield a bias current in Q3 and Q4 of 0.2 mA.
Figure P13.64
D *13.65 The VBE– multiplier circuit shown in Fig. P13.65 can replace the two series diode-connected transistors
in Fig. 13.15 to establish the voltage drop needed to bias the output stage transistors. Design the circuit to provide a
terminal voltage of 1.2 V. Base your design on half the current flowing through R1, and assume that IS =10−14 A
and β = 200. What is the incremental resistance between the two terminals of the VBE– multiplier circuit?
∨Show Answer

Figure P13.65
SIM D 13.66 Figure P13.66 shows a circuit suitable for op-amp applications. For all transistors β = 100, VBE = 0.7
V, and ro = ∞.
Figure P13.66
∨Show Answer

(a)
(b)
(c)
(d)
(a)
(b)
(c)
(d)
(e)
For inputs grounded and output held at 0 V (by negative feedback) find the collector currents of all
transistors. Neglect base currents.
Calculate the input resistance.
Calculate the gain of the amplifier with a load of 5 kΩ.
With load as in (c) calculate the value of the capacitor C required for a 3-dB frequency of 100 Hz.
13.67 The output stage in Fig. 13.28 operates at a quiescent current IQ of 0.6 mA. The maximum current iL that the
stage can provide in either direction is 12 mA. The output stage is equipped with a feedback circuit that maintains a
minimum current of IQ/2 in the inactive output transistor. Also, VCC = 3V.
What is the allowable range of vO?
For iL = 0, what is the output resistance of the op amp?
If the open-loop gain of the op amp is 100,000 V/V, find the closed-loop output resistance obtained
when the op amp is connected in the unity-gain voltage follower configuration, with iL = 0.
If the op amp is sourcing a load current iL = 12 mA, find iP, iN, and the open-loop output
resistance.
Repeat (d) for the case of the open-loop op amp sinking a load current of 12 mA.
13.68 It is required to derive the expressions in Eqs. (13.87) and (13.88). Toward that end, first find vB7 in terms of
vBEN and hence iN. Then find vB6 in terms of iP. For the latter purpose note that Q4 measures vEBP and develops a
current i4 = (vEBP − vEB4)/R4). This current is supplied to the series connection of Q5 and R5 where R5 = R4. In the
expression you obtain for vB6, use the relationship
to express vB6 in terms of iP and ISN. Now with vB6 and vB7 determined, find iC6 and iC7.
13.69 It is required to derive the expression for vE in Eq. (13.89). Toward that end, note from the circuit in Fig.
13.30 that vE = vEB7 + vBEN and note that QN conducts a current iN and Q7 conducts a current iC7 given by Eq.
(13.88).
D 13.70 For the output stage in Fig. 13.30, find the current IREF that results in a quiescent current IQ = 0.6 mA.
Assume that I = 12 µA, QN has eight times the area of Q10, and Q7 has four times the area of Q11. What is the
minimum current in QN and QP?
∨Show Answer
∨Show Answer

14.1
14.2
14.3
14.4
14.5
14.6
14.7
14.8
•
•
•
•
•
•
•
•
CHAPTER 14
Filters
Introduction
Basic Filter Concepts
The Filter Transfer Function
Butterworth and Chebyshev Filters
Second-Order Passive Filters Based on the LCR Resonator
Second-Order Active Filters Based on Inductance Simulation
Second-Order Active Filters Based on the Two-Integrator Loop
Second-Order Active Filters Using a Single Op Amp
Switched-Capacitor Filters
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
How filters are characterized by their signal-transmission properties and classified into different types
based on the relative location of their passband(s) and stopband(s).
How filters are specified and how to obtain a filter transfer function that meets the given
specifications, including the use of popular special functions such as the Butterworth and the
Chebyshev.
The various first-order and second-order filter functions and their realization using op amps and RC
circuits.
The basic second-order LCR resonator and how it can be used to realize the various second-order filter
functions.
The best op amp–RC circuit for realizing an inductance and how it can be used to realize the various
second-order filter functions.
That connecting two op-amp integrators, one inverting and one noninverting, in a feedback loop
realizes a second-order resonance circuit and can be used to obtain circuit realizations of the various
second-order filter functions.
How second-order filter functions can be realized using a single op amp and an RC circuit.
The basis for the most popular approach to the realization of filter functions in IC form: the switched-
capacitor technique.


Introduction
In this chapter, we study the design of an important building block of communications and instrumentation
systems, the electronic filter. Filter design is one of the very few areas of engineering for which a complete
design theory exists, starting from specification and ending with a circuit implementation. A detailed study
of filter design requires an entire book, and indeed such textbooks exist. In the limited space available here,
we will concentrate on a selection of topics that provide an introduction to this rich subject. The material
presented here together with the design material and tables included in Appendix H (available on the
website) provide a significant resource for filter circuits and design methods.
The filters studied in this chapter are analog, and they find extensive application despite the widespread
use of digital signal processing. This is because most systems have to interface with the physical world,
which is analog in nature. Such an interface, at a minimum, consists of an amplifier and an analog filter.
The material in this chapter makes extensive use of poles and zeros (Appendix F), and requires a
thorough familiarity with op-amp circuit applications (Chapter 2).

(14.1)
(14.2)
(14.3)
(14.4)
(14.5)
14.1 Basic Filter Concepts
14.1.1 Filter Transmission
The filters we are about to study are linear circuits that can be represented by the general two-port network
shown in Fig. 14.1. The filter transfer function T(s) is the ratio of the output voltage Vo(s) to the input
voltage Vi(s),
Figure 14.1 The filters studied in this chapter are linear circuits represented by the general two-port network shown. The
filter transfer function T(s)≡Vo(s)/Vi(s).
The filter transmission is found by evaluating T(s) for physical frequencies, s = jω, and can be expressed in
terms of its magnitude and phase as
The magnitude of transmission is often expressed in decibels in terms of the gain function
or, alternatively, in terms of the attenuation function
A filter shapes the frequency spectrum of the input signal, 
, according to the magnitude of the
transfer function |T(jω)|, thus providing an output Vo( jω) with a spectrum
Also, the phase characteristics of the signal are modified as it passes through the filter according to the filter
phase function ϕ(ω).
14.1.2 Filter Types

We are specifically interested here in filters that perform a frequency-selection function: passing signals
whose frequency spectrum lies within a specified range, and stopping signals whose frequency spectrum
falls outside this range. Such a filter has ideally a frequency band (or bands) over which the magnitude of
transmission is unity (the filter passband) and a frequency band (or bands) over which the transmission is
zero (the filter stopband). Figure 14.2 depicts the ideal transmission characteristics of the four major filter
types: low-pass (LP) in Fig. 14.2(a), high-pass (HP) in Fig. 14.2(b), bandpass (BP) in Fig. 14.2(c), and
bandstop (BS) or band-reject in Fig. 14.2(d). These idealized characteristics, by virtue of their vertical
edges, are known as brick-wall responses.
Figure 14.2 Ideal transmission characteristics of the four major filter types: (a) low-pass (LP), (b) high-pass (HP), (c)
bandpass (BP), and (d) bandstop (BS).
14.1.3 Filter Specification
The filter-design process begins with the filter user specifying the transmission characteristics required of the
filter. Such a specification cannot take the form shown in Fig. 14.2 because physical circuits cannot realize
these idealized characteristics. Figure 14.3 shows realistic specifications for the transmission characteristics
of a low-pass filter. Observe that since a physical circuit cannot provide constant transmission at all passband
frequencies, the specifications allow for deviation of the passband transmission from the ideal unity or 0 dB,
but place an upper bound, Amax (dB), on this deviation. Depending on the application, Amax typically ranges
from 0.05 dB to 3 dB. Also, since a physical circuit cannot provide zero transmission (infinite attenuation) at
all stopband frequencies, the specifications in Fig. 14.3 allow for some transmission over the stopband.

1.
2.
3.
4.
However, the specifications require the stopband signals to be attenuated by at least Amin (dB) relative to the
passband signals. Depending on the filter application, Amin can range from 20 dB to 100 dB.
Figure 14.3 Specification of the transmission characteristics of a low-pass filter. The magnitude response of a filter that
just meets specifications is also shown.
Since the transmission of a physical circuit cannot change abruptly at the edge of the passband, the
specifications of Fig. 14.3 provide for a band of frequencies over which the attenuation increases from near 0
dB to Amin. This transition band extends from the passband edge ωp to the stopband edge ωs. The ratio ωs/
ωp is usually used as a measure of the sharpness of the low-pass filter response and is called the selectivity
factor. Finally, observe that for convenience the passband transmission is specified to be 0 dB. The final
filter, however, can be given a passband gain, if desired, without changing its selectivity characteristics.
To summarize, the transmission of a low-pass filter is specified by four parameters:
The passband edge ωp
The maximum allowed variation in passband transmission Amax
The stopband edge ωs
The minimum required stopband attenuation Amin
The more tightly one specifies a filter—that is, lower Amax, higher Amin, and/or a selectivity ratio ωs/ωp
closer to unity—the closer the response of the resulting filter will be to the ideal. However, the resulting
filter transfer function will be of higher order, and thus the filter circuit will be more complex and expensive.
In addition to the magnitude of transmission, the phase response of the filter is of interest in some
applications. The filter-design problem, however, is considerably complicated when both magnitude and
phase are to be specified.

14.1.4 Obtaining the Filter Transfer Function: Filter Approximation
Once the filter specifications have been decided upon, the next step in the design is to find a transfer function
whose magnitude meets the specification. To meet specification, the magnitude-response curve must lie in
the unshaded area in Fig. 14.3. The curve shown in the figure is for a filter that just meets specifications.
Observe that for this particular filter, the magnitude response ripples throughout the passband, and the ripple
peaks are all equal. Since the peak ripple is equal to Amax, it is usual to refer to Amax as the passband ripple.
The particular filter response shows ripples also in the stopband, again with the ripple peaks all equal and of
such a value that the minimum stopband attenuation achieved is equal to the specified value, Amin. Thus this
particular response is said to be equiripple in both the passband and the stopband.
The process of obtaining a transfer function that meets given specifications is known as filter
approximation. Filter approximation is usually performed using computer programs (Snelgrove, 1982;
Ouslis and Sedra, 1995) or filter-design tables (Zverev, 1967). In simpler cases, filter approximation can be
performed using closed-form expressions, as will be seen in Section 14.3.
As another example, Fig. 14.4 shows transmission specifications for a bandpass filter and the response of
a filter that meets these specifications. For this example we have chosen an approximation function that does
not ripple in the passband; rather, the transmission decreases monotonically on both sides of a center
frequency, attaining the maximum allowable deviation at the two edges of the passband.
Filter transfer functions have special characteristics. We will study these characteristics in Section 14.2.
ANALOG FILTERS: A BRIEF HISTORY
∨

14.1
14.2
Figure 14.4 Transmission specifications for a bandpass filter. The magnitude response of a filter that just meets
specifications is also shown. Note that this particular filter has a monotonically decreasing transmission in the passband
on both sides of the peak frequency.
EXERCISES
Find approximate values of attenuation (in dB) corresponding to filter transmissions of 1, 0.99, 0.9, 0.8,
0.7, 0.5, 0.1, 0.
If the variation in the magnitude of passband transmission is to be limited to 10%, and if the stopband
transmission is to be no greater than 1% of the passband transmission, find Amax and Amin.
14.1.5 Obtaining the Filter Circuit: Filter Realization
Having obtained a suitable transfer function T(s), the next step in the filter design process is to find a circuit
whose transfer function is equal to T(s). This is known as filter realization.
There are a number of technologies and methods for the realization of analog filters. The oldest
technology uses inductors, capacitors, and resistors, and the resulting LCR circuits are passive, since they do
not essentially require active elements (transistors or op amps) to realize the filter transfer function T(s).
∨Show Answer
∨Show Answer

Such filters work well at high frequencies; however, in the low-frequency band (dc to 100 kHz) the required
inductances are large and the inductors are physically bulky. Furthermore, inductors of this kind are
incompatible with the modern techniques for assembling electronic systems and are certainly impossible to
manufacture in monolithic form. Therefore, there has been considerable interest in finding filter realizations
that do not require actual physical inductors.
A popular approach for the design of inductorless filters consists of replacing each inductance in the
LCR filter with a circuit composed of op amps, resistors, and a capacitor, and having an input impedance
equal to sL. Such a circuit is said to simulate the inductance L. We will study passive LCR filters in Section
14.4 and the design of op amp–RC filters based on inductance simulation in Section 14.5.
The op amp–RC filter circuits in Section 14.5 represent a special class of active filters. In Section 14.6
we will study another important type of active filter, based on the use of op-amp integrators. And in Section
14.7 we will consider a third kind of active filter that uses a single op amp together with resistors and
capacitors to realize a second-order filter function.
The active filter circuits presented in Sections 14.5–14.7 can be built using discrete op amps, resistors,
and capacitors assembled on printed-circuit boards. Large-volume production employs special technologies
using thin-film and thick-film components. However, none of these technologies yields the economics
achieved by monolithic integrated-circuit fabrication.
Today there are two popular approaches for realizing fully integrated analog filters: the switched-
capacitor approach, which we study in Section 14.8, and the transconductance −C (Gm − C) approach
presented on the website. The latter is particularly well suited for high-frequency applications.
Switched-capacitor filters use CMOS op amps together with MOS switches and capacitors. As we will
see in Section 14.8, the signals are processed at discrete-time intervals, and so the resulting circuits are
discrete-time circuits. However, because the signal magnitude is continuous (not quantized), these are still
analog filters.

(14.6)
(14.7)
14.2 The Filter Transfer Function
The filter transfer function T(s) can be written as the ratio of two polynomials:
where the numerator and denominator coefficients are real numbers. The numerator and denominator
polynomials can be factored out, and T(s) expressed in terms of its poles and zeroes:
Next, we will consider some important characteristics of the transfer functions of the filters studied in
this chapter.
14.2.1 The Filter Order
The filter order is equal to the degree N of the denominator polynomial and thus is equal to the number of
poles. We will see, shortly, that the filter order N is also equal to the number of transmission zeros, provided
we include in our count the transmission zeros at s = ∞ as well as, of course, the finite transmission zeros z1
to zM.
14.2.2 The Filter Poles
For a filter, or indeed any circuit or system, to be stable, all the poles must lie in the left half of the s plane.
Also, since the coefficients of the denominator polynomial (i.e., b0, b1, ..., bN−1) are real numbers, the poles
must either lie on the negative real axis or occur in complex-conjugate pairs.
To obtain highly selective (i.e., sharp) filter responses, the poles are usually complex conjugate except
for one real pole if the filter order N is odd. In fact, the sharper the response a filter is required to have, the
closer its complex poles must be to the vertical jω-axis of the s plane. For example, Fig. 14.5 shows the pole
locations for the fifth-order (N = 5) low-pass filter whose transmission function is depicted in Fig. 14.3. Note
that this filter has two pairs of complex-conjugate poles and one negative real-axis pole, for a total of five
poles. All the poles lie in the vicinity of the filter passband, which is what gives the filter its high
transmission at passband frequencies.
As another example, consider the sixth-order (N = 6) bandpass filter whose transmission function | T(jω)
| is shown in Fig. 14.4. Its pole locations are shown in Fig. 14.6. Notice that there are three pairs of complex-
conjugate poles. Here, also, the poles lie close to the jω-axis, in the vicinity of the filter passband.

Figure 14.5 Pole–zero pattern for the low-pass filter whose transmission is sketched in Fig. 14.3. This is a fifth-order
filter (N = 5).

(14.8)
(14.9)
Figure 14.6 Pole–zero pattern for the bandpass filter whose transmission function is shown in Fig. 14.4. This is a sixth-
order filter (N = 6).
14.2.3 The Filter Transmission Zeros
The filter transmission zeros determine the filter type (i.e., low-pass, high-pass, etc.). This is so because the
transmission zeros are located at stopband frequencies including 0 and ∞. Transmission zeros at ω = 0 give
rise to factors of the form sk in the numerator of the transfer function, where k is the number of transmission
zeros at s = 0 (ω = 0). High-pass and bandpass filters usually have at least one transmission zero at s = 0. Of
course, low-pass filters cannot have zeros at s = 0 as they are required to pass signals with zero frequency
(dc).
Transmission zeros at s = ∞ manifest themselves as the difference between the order M of the numerator
polynomial and the order N of the denominator polynomial. This is the case because, as we can see from Eq.
(14.6), as s approaches ∞, T(s) approaches zero in the manner of aM/sN−M; the filter is thus said to have (N −
M) transmission zeros at s = ∞. Note that M cannot exceed N if the filter is to be stable; otherwise as s
approaches ∞, T(s) approaches ∞, which is not possible. A high-pass filter will have M = N, resulting in a
finite transmission equal to aM at high frequencies. Low-pass and bandpass filters, on the other hand, usually
have at least one transmission zero at s = ∞, and so M will be less than N by at least one.
Apart from the transmission zeros at s = 0 and s = ∞, the filter may have transmission zeros at finite
frequencies. For maximum effect, these finite zeros are placed at stopband frequencies. Thus, a filter might
have a transmission zero at a frequency ωl, where ωl is in the filter stopband. In this case, the numerator of
the transfer function will have a factor (s−jωl). However, since complex zeros must occur in complex-
conjugate pairs, the numerator must also have a factor (s + jωl). In other words, the numerator will have a
factor 
, which for physical frequencies s = jω becomes 
, indicating zero
transmission (infinite attenuation) at ω = ωl, as desired.
As an example, consider once more the fifth-order low-pass filter whose transmission is shown in Fig.
14.3. The figure shows that the filter has infinite attenuation1 and thus transmission zeros at ω = ωl1, ω =
ωl2, and at ω = ∞. That is, the transmission zeros are at s = ±jωl1, s = ±jωl2, and s = ∞, with all five zeros in
the filter stopband. This means that the transfer function for this filter will be
Figure 14.5 shows the pole and zero locations for this low-pass filter.
As another example, consider the sixth-order bandpass filter whose magnitude of transmission is shown
in Fig. 14.4. This filter has transmission zeros at s = ±jωl1 and s = ±jωl2; one zero at s = 0; and one zero at s
= ∞ (because | T | tends to zero at both ω = 0 and ω = ∞). This makes for a total of six zeros (equal to N).
Thus, the transfer function of this filter will be

14.3
Figure 14.6 shows the s-plane locations of the poles and zeros for this filter.
Example 14.1
Give the order N, the type, and the transfer function T(s) of a filter having the following poles and zeros:
The transmission of the filter at dc is unity.
EXERCISE
Find the location of the transmission zeros and the type of the third-order filter whose numerator
polynomial is:
(a) K, (b) Ks, (c) Ks2, and (d) Ks3, where K is a constant.
14.2.4 All-Pole Filters
Some low-pass filters have all their transmission zeros located at s = ∞. Thus, the magnitude of their
transmission, | T(jω) |, decreases monotonically toward 0 as ω approaches ∞. Figure 14.7(a) shows the
response of such a filter (N = 5 in this case). The transfer function for these filters takes the form
∨Show Solution
∨Show Answer

(14.10)
14.4
14.5
Figure 14.7 (a) Transmission magnitude of a fifth-order low-pass filter having all transmission zeros at infinity. (b)
Pole–zero pattern for the filter in (a).
Such a filter is known as an all-pole filter. Typical pole-zero locations for the fifth-order all-pole low-
pass filter of Fig. 14.7(a) are shown in Fig. 14.7(b).
EXERCISES
A second-order filter has its poles at 
. The transmission is zero at ω = 2
rad/s and is unity at dc (ω = 0). Find the transfer function.
A fourth-order filter has zero transmission at ω = 0, ω = 2 rad/s, and ω = ∞. The poles are –0.1 ± j0.8
and –0.1 ± j1.2. Find T(s).
14.2.5 Factoring T(s) into the Product of First-Order and Second-Order
Functions
A simple, effective method for realizing high-order (i.e., orders greater than 2) active filters is to realize T(s)
by cascading second-order filter sections and, for odd N, a first-order filter section. Assuming that the output
∨Show Answer
∨Show Answer

(14.11)
of each filter section is a low-impedance node, such as the output terminal of an op amp, the transfer
function of a section does not change by connecting it to the succeeding section in the cascade, and the
overall transfer function of the cascade will be the product of the transfer functions of the individual
sections.
To use the cascade design method, the transfer function T(s) is first factored into the product of second-
order functions and, for odd N, a first-order function. For example, consider the fifth-order low-pass filter
whose transmission magnitude is shown in Fig. 14.3. Its transfer function in Eq. (14.8) can be factored as
follows:
where k1k2k3 = a4.
As a second example, consider the sixth-order bandpass filter whose transmission magnitude is shown in
Fig. 14.4. Its transfer function in Eq. (14.9) can be factored as follows:
In the remainder of this section we study first-order and second-order filter functions.
14.2.6 First-Order Filters
The general first-order transfer function is given by
This bilinear transfer function characterizes a first-order filter with a pole at s = −ω0, a transmission zero
at s = −a0/a1, and a high-frequency gain that approaches a1. The numerator coefficients, a0 and a1,
determine the type of filter (e.g., low-pass, high-pass, etc.).
Example 14.2
Assuming that the op amp is ideal, show that the circuit in Fig. 14.8 realizes a first-order low-pass filter. Design
the circuit to obtain a pole frequency ω0 = 105 rad/s and a dc-gain magnitude of 10 V/V. Use a 1 nF capacitor.

14.6
D14.7
Figure 14.8 Circuit for Example 14.2.
Figure H.1 (given in Appendix H on the website) provides a number of important special cases of the
first-order filter function together with the corresponding passive (RC) and active (op amp–RC) realizations.
Here we note that the active realizations, such as that in Example 14.2, are much more versatile than their
passive counterparts; in many cases, the gain can be set to the desired value, and some transfer-function
parameters can be adjusted without affecting others. Also, the output impedance of the active circuit is very
low (ideally, zero), making cascading possible.
EXERCISES
For the low-pass filter designed in Example 14.2, assume that the maximum allowable variation in
passband gain Amax = 3 dB. What is the passband-edge frequency, ωp? If the stopband edge is ωs = 3
ωp, find the minimum stopband attenuation, Amin. (Hint: Recall that Amin is measured relative to the
maximum passband transmission.)
Design the circuit of Fig. E14.7 to realize a high-pass filter with a 3-dB frequency of 104 rad/s and a
high-frequency gain of 10 V/V. Use R1 = 10 kΩ.
Figure E14.7
∨Show Solution
∨Show Answer
∨Show Answer

(14.12)
(14.13)
14.2.7 Second-Order Filter Functions
The general second-order or biquadratic transfer function is usually expressed in the standard form
where ω0 and Q determine the poles according to
We are usually interested in the case of complex-conjugate poles, obtained for Q > 0.5. Figure 14.9 shows
the location of the pair of complex-conjugate poles in the s plane. Notice that the radial distance of the poles
from the origin is equal to ω0, which is known as the pole frequency. The parameter Q determines the
distance of the poles from the jω axis: the higher the value of Q, the closer the poles are to the jω-axis, and
the more selective the filter response becomes. An infinite value for Q locates the poles on the jω axis and
can yield sustained oscillations in the circuit realization. A negative value of Q implies that the poles are in
the right half of the s plane, which certainly produces oscillations. The parameter Q is called the pole quality
factor, or simply pole Q.
The transmission zeros of the second-order filter are determined by the numerator coefficients a0, a1, and
a2. It follows that the numerator coefficients determine the type of second-order filter function (i.e., LP, HP,
etc.). Figure H.3 (provided in Appendix H, on the website) offers a complete tabulation of seven special
second-order functions. For each case, we give the transfer function, the s-plane locations of the poles and
zeros, and a detailed sketch of the magnitude response. Here, as examples, we consider three important
special cases.

(14.14)
Figure 14.9 Definition of the parameters ω0 and Q of a pair of complex-conjugate poles.
Low-Pass The second-order low-pass filter has the transfer function
which indicates that the two transmission zeros are at s = ∞. The magnitude response, obtained by setting s =
jω, is shown in Fig. 14.10. As indicated, the response can exhibit a peak with the details shown. It can be
shown that the peak occurs only for 
. The response obtained for 
 is called
maximally flat (see the Butterworth filter in Section 14.3.1).
Figure 14.10 Magnitude response of a second-order low-pass filter.
Bandpass The second-order bandpass filter has the transfer function

(14.15)
(14.16)
(14.17)
(14.18)
which indicates that there is a transmission zero at s = 0 (dc) and the other transmission zero is at s = ∞. The
magnitude function | T(jω) |, shown in Fig. 14.11, indicates that the response peaks at ω = ω0. Thus, the
center frequency of the bandpass is equal to the pole frequency ω0. The selectivity of the second-order
bandpass filter is usually measured by its 3-dB bandwidth. This is the difference between the two frequencies
ω1 and ω2, at which the magnitude response is 3 dB below its maximum value (at ω0). It can be shown that
Thus,
Observe that as Q increases, the bandwidth decreases and the bandpass filter becomes more selective.
Figure 14.11 Magnitude response of a second-order bandpass filter.
Notch The second-order notch filter has the transfer function
which indicates that the transmission zeros are at s = ±jωn. There are three special cases of the notch filter
depending on the location of the notch frequency ωn relative to the pole frequency ω0. The magnitude
response for the case 
, known as a low-pass notch (LPN), is shown in Fig. 14.12.

14.8
14.9
14.10
Most of the remainder of this chapter is devoted to the study of circuit realizations of second-order filter
functions.
Figure 14.12 Magnitude response of a second-order low-pass notch (LPN) filter.
EXERCISES
For a second-order low-pass filter with 
 (the maximally flat case), show that at ω = ω0
the magnitude response is 3 dB below the value at ω = 0.
Give the transfer function of a second-order bandpass filter with a center frequency of 105 rad/s, a
center-frequency gain of 10, and a 3-dB bandwidth of 103 rad/s.
Give the transfer function of a low-pass notch filter with ω0 = 1 rad/s, ωn = 1.2 rad/s, Q = 5, and a dc
gain of unity. What is the transmission at high frequencies?
∨Show Answer
∨Show Answer

14.3 Butterworth and Chebyshev Filters
In this section, we present two functions that are frequently used in approximating the transmission
characteristics of low-pass filters; that is, in obtaining a transfer function T(s) whose magnitude |T(jω)| meets
given low-pass filter specifications. Closed-form expressions are available for the parameters of these
functions, and thus one can use them in filter design without the need for computers or filter-design tables.
Their utility, however, is limited to relatively simple applications.
Although in this section we discuss the design of low-pass filters only, the approximation functions
presented can be applied to the design of other filter types through the use of frequency transformations (see
Sedra and Brackett, 1978).
14.3.1 The Butterworth Filter
Figure 14.13 shows a sketch of the magnitude response of a Butterworth2 filter. This filter exhibits a
monotonically decreasing transmission with all the transmission zeros at ω = ∞, making it an all-pole filter.
The magnitude function for an Nth-order Butterworth filter with a passband edge ωp is given by
Figure 14.13 The magnitude response of a Butterworth filter.

(14.19)
(14.20)
(14.21)
(14.22)
At 
Thus, the parameter  determines the maximum variation in passband transmission, Amax, according to
Conversely, given Amax, the value of  can be determined from
Observe that for the Butterworth response the maximum deviation in passband transmission (from the ideal
value of unity) occurs at the passband edge only. It can be shown that the first 2N – 1 derivatives of |T|
relative to ω are zero at ω = 0 (see Van Valkenburg, 1980). This property makes the Butterworth response
very flat near ω = 0 and results in the name maximally flat response. The degree of passband flatness
increases as the order N is increased, as can be seen from Fig. 14.14. This figure indicates also that, as should
be expected, as the order N is increased, the filter response approaches the ideal brick-wall type of response.
Finally, note from Eq. (14.21) that for  = 1, Amax = 3 dB and ωP is the 3-dB bandwidth.

(14.23)
Figure 14.14 Magnitude response for Butterworth filters of various order with  = 1. Note that as the order increases, the
response approaches the ideal brick-wall type of transmission.
At the edge of the stopband, ω = ωs, the attenuation of the Butterworth filter can be obtained by
substituting ω = ωs in Eq. (14.19). The result is given by
This equation can be used to determine the filter order required, which is the lowest integer value of N that
yields 
.
The poles of an Nth-order Butterworth filter3 can be determined from the graphical construction shown
in Fig. 14.15(a). Observe that the poles lie on a circle of radius ωp(1/)1/N and are spaced by equal angles of
π/N, with the first pole at an angle π/2N from the +jω axis. Figures 14.15(b), (c), and (d) show the poles for
the cases N = 2, 3, and 4, respectively. As expected, the poles occur in complex-conjugate pairs with a real
axis pole at 
 occurring for the case N is odd.

Figure 14.15 Graphical construction for determining the poles of a Butterworth filter of order N. All the poles lie in the
left half of the s plane on a circle of radius ω0 = ωp(1/)1/N, where 
 is the passband deviation parameter 
: (a) the general case; (b) N = 2; (c) N = 3; (d) N = 4.
Since the poles all have equal radial distances from the origin, they all have the same pole frequency:

(14.24)
(14.25)
(14.26a)
(14.26b)
We can use the graphical construction of Fig. 14.15(a) to derive a simple expression for the Q factor for each
complex-conjugate pair of poles. Noting from Fig. 14.9 that the horizontal distance of a pair of complex-
conjugate poles from the jω-axis is (ω0/2Q), we can write for 
which yields
Generally, for the pole pair 
,
where
and
Once we have determined the poles, we can write the transfer function T(s) of the Nth order Butterworth
filter as
or

1.
2.
3.
4.
14.11
D14.12
14.13
where K is a constant equal to the required dc gain of the filter.
To summarize, to find a Butterworth transfer function that meets transmission specifications of the form
in Fig. 14.3, we perform the following procedure:
Determine  from Eq. (14.22).
Use Eq. (14.23) to determine the required filter order as the lowest integer value of N that results in
A(ωs) ≥ Amin.
Use Fig. 14.15(a) together with Eqs. (14.24) and (14.25) to determine the poles.
Use Eq. (14.26a) or Eq. (14.26b) to determine T(s).
Example 14.3
Find the Butterworth transfer function that meets the following low-pass filter specifications: fp = 10 kHz, Amax
= 1 dB, fs = 15 kHz, Amin = 25 dB, and dc gain = 1.
EXERCISES
For a fifth-order Butterworth low-pass filter with dc transmission of unity and 3-dB bandwidth of 10
kHz, find the attenuation obtained at 30 kHz.
Determine the order N of a Butterworth filter for which Amax = 1 dB, ωs/ωp = 1.5, and Amin = 30 dB.
Find the poles and the transfer function of a third-order Butterworth filter with ωp = 1 rad/s, Amax = 3
dB 
, and the dc gain is unity.
14.3.2 The Chebyshev Filter
Figure 14.17 shows representative transmission functions for Chebyshev4 filters of even and odd orders. The
Chebyshev filter exhibits an equiripple response in the passband and a monotonically decreasing
transmission in the stopband. While the odd-order filter has |T(0)| = 1, the even-order filter exhibits its
maximum magnitude deviation at ω = 0. In both cases the total number of passband maxima and minima
equals the order of the filter, N. All the transmission zeros of the Chebyshev filter are at ω = ∞, making it an
all-pole filter.
∨Show Solution
∨Show Answer
∨Show Answer
∨Show Answer

(14.28)
(14.29)
(14.30)
(14.31)
Figure 14.17 Sketches of the transmission characteristics of representative (a) even-order and (b) odd-order Chebyshev
filters.
The magnitude of the transfer function of an Nth-order Chebyshev filter with a passband edge, ωp is
given by
and
At the passband edge, ω = ωp, the magnitude function is given by
Thus, the parameter  determines the passband ripple according to
Conversely, given Amax, the value of  is determined from

(14.32)
(14.33)
(14.34)
1.
2.
3.
4.
The attenuation achieved by the Chebyshev filter at the stopband edge (ω = ωs) is found using Eq.
(14.29) as
With the aid of a calculator, this equation can be used to determine the order N required to obtain a specified
Amin by finding the lowest integer value of N that yields A(ωs) ≥ Amin. As in the case of the Butterworth
filter, increasing the order N of the Chebyshev filter causes its magnitude function to approach the ideal
brick-wall low-pass response.
The poles of the Chebyshev filter are given by
The frequency ω0 and the Q factor for each complex-conjugate pair of poles can be determined from this
equation together with Fig. 14.9.
Finally, the transfer function of the Chebyshev filter can be written as
where K is the dc gain that the filter is required to have.
To summarize, given low-pass transmission specifications of the type shown in Fig. 14.3, the transfer
function of a Chebyshev filter that meets these specifications can be found as follows:
Determine  from Eq. (14.31).
Use Eq. (14.32) to determine the order required.
Determine the poles using Eq. (14.33).
Determine the transfer function using Eq. (14.34).
The Chebyshev filter provides a more efficient approximation than the Butterworth filter. Thus, for the
same order and the same Amax, the Chebyshev filter provides greater stopband attenuation than the
Butterworth filter. Alternatively, to meet identical specifications, one requires a lower order for the
Chebyshev than for the Butterworth filter. The price paid, however, is higher values for the Q factors of the
poles. In later sections, we will see that poles with high Q factors are more difficult to realize.
Example 14.4
Find the Chebyshev transfer function that meets the same low-pass filter specifications given in Example 14.3:
namely, fp = 10 kHz, Amax = 1 dB, fs = 15 kHz, Amin = 25 dB, dc gain = 1.

D14.14
D14.15
EXERCISES
Find the attenuation provided at ω = 2ωp by a seventh-order Chebyshev filter with a 0.5-dB passband
ripple. If the passband ripple is allowed to increase to 1 dB, by how much does the stopband
attenuation increase?
It is required to design a low-pass filter having fp = 1 kHz, Amax = 1 dB, fs = 1.5 kHz, Amin = 50 dB. (a)
Find the required order of a Chebyshev filter. What is the excess stopband attenuation obtained? (b)
Repeat for a Butterworth filter.
∨Show Solution
∨Show Answer
∨Show Answer
EARLY FILTER PIONEERS: CAUER AND DARLINGTON
∨

(14.36)
(14.37)
14.4 Second-Order Passive Filters Based on the LCR Resonator
In this section we study the realization of second-order filter functions using inductors, capacitors, and
resistors. These LCR circuits are useful in their own right for filters operating at very high frequencies. As
well, they serve as the basis for the op amp–RC realizations presented in the next section, where the inductor
is replaced with a simulated inductance.
The LCR realizations studied in this section are derived from the parallel LCR resonance circuit shown
in Fig. 14.18(a).
Figure 14.18 (a) The second-order parallel LCR resonator. (b, c) Two ways of exciting the resonator of (a) without
changing its natural structure; resonator poles are those poles of Vo/I and Vo/Vi.
14.4.1 The Resonator Poles
The poles of the parallel resonance circuit of Fig. 14.18(a) can be determined by applying an excitation that
does not change the natural structure of the circuit. Two possible ways of exciting the circuit are shown in
Figs. 14.18(b) and (c). In Fig. 14.18(b) the resonator is excited with a current source I connected in parallel.
Since, as far as the natural response of a circuit is concerned, an independent ideal current source is
equivalent to an open circuit, the excitation of Fig. 14.18(b) does not alter the natural structure of the
resonator. Thus the circuit in Fig. 14.18(b) can be used to determine the poles of the resonator by simply
finding the poles of any response function. We can for instance take the voltage Vo across the resonator as
the response and thus obtain the response function Vo/I = Z, where Z is the impedance of the parallel
resonance circuit. However, because of the parallel structure of the circuit it is more convenient to work in
terms of the admittance Y; thus,
Equating the denominator to the standard form [s2 + s(ω0/Q) + 
] leads to

(14.38)
(14.39)
(14.40)
and
Thus,
These expressions should be familiar to you from studies of parallel resonance circuits in introductory
courses on circuit analysis.
An alternative way of exciting the parallel LCR resonator for the purpose of determining its poles is
shown in Fig. 14.18(c). Here, node x of inductor L has been disconnected from ground and connected to an
ideal voltage source Vi. Now, since as far as the natural response of a circuit is concerned, an ideal
independent voltage source is equivalent to a short circuit, the excitation of Fig. 14.18(c) does not alter the
natural structure of the resonator. Thus we can use the circuit in Fig. 14.18(c) to determine the poles of the
resonator. These are the poles of any response function. For instance, we can select Vo as the response
variable and find the transfer function Vo/Vi. You can easily verify that this will lead to the poles determined
earlier.
In a design problem, we will be given ω0 and Q, and will be asked to determine L, C, and R. Equations
(14.39) and (14.40) are two equations in the three unknowns. The one available degree of freedom can be
utilized to set the impedance level of the circuit to a value that results in practical component values.
14.4.2 Realization of Transmission Zeros
Having selected the component values of the LCR resonator to realize a given pair of complex-conjugate
poles, we now consider the use of the resonator to realize a desired filter type (e.g., LP, HP, etc.).
Specifically, we wish to find out where to inject the input voltage signal Vi so that the transfer function Vo/Vi
is the desired one. Toward that end, note that in the resonator circuit in Fig. 14.18(a), any of the nodes
labeled x, y, or z can be disconnected from ground and connected to Vi without altering the circuit’s natural
structure and thus its poles. When this is done, the circuit takes the form of a voltage divider, as shown in
Fig. 14.19(a). Thus the transfer function realized is

(14.41)
Figure 14.19 Realization of various second-order filter functions using the LCR resonator of Fig. 14.18(a): (a) general
structure, (b) LP, (c) BP, (d) notch at ω0, (e) general notch, (f) notch circuit in (e) as s → 0, (g) notch circuit in (e) as s →
∞.

(14.42)
(14.43)
We observe that the transmission zeros are the values of s at which Z2(s) is zero, provided Z1(s) is not
simultaneously zero, and the values of s at which Z1(s) is infinite, provided Z2(s) is not simultaneously
infinite. This statement makes physical sense: The output will be zero either when Z2(s) behaves as a short
circuit or when Z1(s) behaves as an open circuit. If there is a value of s at which both Z1 and Z2 are zero, then
Vo/Vi will be finite and no transmission zero is obtained. Similarly, if there is a value of s at which both Z1
and Z2 are infinite, then Vo/Vi will be finite and no transmission zero is realized. In the following, we present
three examples of LCR filter realizations.
14.4.3 Realization of the Low-Pass Function
Using the scheme just outlined, we see that to realize a low-pass function, node x is disconnected from
ground and connected to Vi, as shown in Fig. 14.19(b). The transmission zeros of this circuit will be at the
value of s for which the series impedance becomes infinite (sL becomes infinite at s = ∞) and the value of s
at which the shunt impedance becomes zero (1/[sC + (1/R)] becomes zero at s = ∞). Thus this circuit has two
transmission zeros at s = ∞, as a second-order LP is supposed to. The transfer function can be written either
by inspection or by using the voltage divider rule. The latter approach gives us
14.4.4 Realization of the Bandpass Function
The bandpass function is realized by disconnecting node z from ground and connecting it to Vi, as shown in
Fig. 14.19(c). Here the series impedance is resistive and thus does not introduce any transmission zeros.
These are obtained as follows: One zero at s = 0 is realized by the shunt inductor, and one zero at s = ∞ is
realized by the shunt capacitor. At the center frequency ω0, the parallel LC-tuned circuit exhibits an infinite
impedance, and thus no current flows through R. It follows that at ω = ω0, Vo = Vi. In other words, the
center-frequency gain of the bandpass filter is unity. Its transfer function can be obtained as follows:
14.4.5 Realization of the Notch Functions
To obtain a pair of transmission zeros on the jω axis, we use a parallel resonance circuit in the series arm, as
shown in Fig. 14.19(d). Observe that this circuit is obtained by disconnecting both nodes x and y from
ground and connecting them together to Vi. The impedance of the LC circuit becomes infinite at 

(14.44)
(14.45)
(14.46)
(14.47)
D14.16
D14.17
, thus causing zero transmission at this frequency. The shunt impedance is resistive
and thus does not introduce transmission zeros. It follows that the circuit in Fig. 14.19(d) will realize the
notch transfer function
The value of the high-frequency gain a2 can be found from the circuit to be unity.
To obtain a notch-filter realization in which the notch frequency ωn is arbitrarily placed relative to ω0,
we adopt a variation on the scheme above. We still use a parallel LC circuit in the series branch, as shown in
Fig. 14.19(e), where L1 and C1 are selected so that
Thus the L1C1 tank circuit will introduce a pair of transmission zeros at ±jωn, provided the L2C2 tank is not
resonant at ωn. Apart from this restriction, the values of L2 and C2 must be selected to ensure that the poles
have not been altered; thus,
In other words, when Vi is replaced by a short circuit, the circuit should reduce to the original LCR resonator.
Another way of thinking about the circuit of Fig. 14.19(e) is that it is obtained from the original LCR
resonator by lifting part of L and part of C off ground and connecting them to Vi.
It should be noted that in the circuit of Fig. 14.19(e), L2 does not introduce a zero at s = 0 because at s =
0, the L1C1 circuit also has a zero. In fact, at s = 0 the circuit reduces to the inductive voltage divider shown
in Fig. 14.19(f) with the dc transmission being L2/(L1 + L2). Similar comments can be made about C2 and
the fact that it does not introduce a zero at s = ∞ and that the transmission at s = ∞ is C1/(C1 + C2) [see Fig.
14.19(g)].
The LPN and HPN filter realizations are special cases of the general notch circuit of Fig. 14.19(f) and are
explored in Problems 14.48 and 14.49, respectively.
EXERCISES
Use the circuit of Fig. 14.19(b) to realize a second-order low-pass function of the maximally flat type
with a 3-dB frequency of 100 kHz.
Use the circuit in Fig. 14.19(c) to design a bandpass filter with a center-frequency of 105 rad/s and a 3-
dB bandwidth of 103 rad/s.
∨Show Answer
∨Show Answer


14.5 Second-Order Active Filters Based on Inductance Simulation
In this section, we study a family of op amp–RC circuits that realize the various second-order filter
functions. The circuits are based on an op amp–RC resonator obtained by replacing the inductor L in the
LCR resonator with an op amp–RC circuit that has an inductive input impedance.
14.5.1 The Antoniou Inductance-Simulation Circuit
Over the years, many op amp–RC circuits have been proposed for simulating the operation of an inductor. Of
these, one circuit, invented by A. Antoniou5 (see Antoniou, 1969), has proved to be the “best.” By “best” we
mean that the operation of the circuit is very tolerant of the nonideal properties of the op amps, in particular
their finite gain and bandwidth. Figure 14.20(a) shows the Antoniou inductance-simulation circuit. If the
circuit is fed at its input (node 1) with a voltage source V1 and the input current is denoted I1, then for ideal
op amps the input impedance can be shown to be
Figure 14.20 (a) The Antoniou inductance-simulation circuit.

(14.48)
(14.49)
Figure 14.20 (b) Analysis of the circuit assuming ideal op amps. The order of the analysis steps is indicated by the
circled numbers.
which is that of an inductance L given by
Figure 14.20(b) shows the analysis of the circuit assuming that the op amps are ideal and thus that a
virtual short circuit appears between the two input terminals of each op amp, and assuming also that the
input currents of the op amps are zero. The analysis begins at node 1, which is assumed to be fed by a
voltage source V1, and proceeds step by step, with the order of the steps indicated by the circled numbers.
The result of the analysis is the expression shown for the input current I1 from which Zin is found.
The design of this circuit is usually based on selecting R1 = R2 = R3 = R5 = R and C4 = C, which leads to
L = CR2. Convenient values are then selected for C and R to yield the desired inductance value L. More
details on this circuit and the effect of the nonidealities of the op amps on its performance can be found in
Sedra and Brackett (1978).
14.5.2 The Op Amp–RC Resonator
Figure 14.21(a) shows the LCR resonator we studied in detail in Section 14.4. Replacing the inductor L with
a simulated inductance realized by the Antoniou circuit of Fig. 14.20(a) results in the op amp–RC resonator
of Fig. 14.21(b). (Ignore for the moment the additional amplifier drawn with broken lines.) The circuit of
Fig. 14.21(b) is a second-order resonator having a pole frequency

(14.50)
(14.51)
Figure 14.21 (a) An LCR resonator.
Figure 14.21 (b) An op amp–RC resonator obtained by replacing the inductor L in the LCR resonator of (a) with a
simulated inductance realized by the Antoniou circuit of Fig. 14.20(a).
Figure 14.21 (c) Implementation of the buffer amplifier K.
where we have used the expression for L given in Eq. (14.49). The pole Q factor can be obtained using the
expression in Eq. (14.40) with C = C6 and R = R6; thus,
Replacing ω0 by the expression in Eq. (14.50) gives

(14.52)
(14.53)
(14.54)
Usually one selects C4 = C6 = C and R1 = R2 = R3 = R5 = R, which results in
Thus, if we select a practically convenient value for C, we can use Eq. (14.53) to determine the value of R to
realize a given ω0, and then use Eq. (14.54) to determine the value of R6 to realize a given Q.
14.5.3 Realization of the Various Filter Types
The op amp–RC resonator of Fig. 14.21(b) can be used to generate circuit realizations for the various
second-order filter functions by following the approach described in Section 14.4 in connection with the
LCR resonator. Thus to obtain a bandpass function, we disconnect node z from ground and connect it to the
signal source Vi. A high-pass function is obtained by injecting Vi to node y. To realize a low-pass function
using the LCR resonator, the inductor terminal x is disconnected from ground and connected to Vi. The
corresponding node in the active resonator is the node at which R5 is connected to ground,6 labeled as node x
in Fig. 14.21(b). A regular notch function (ωn = ω0) is obtained by feeding Vi to nodes x and y. In all cases
the output can be taken as the voltage across the resonance circuit, Vr. However, this is not a convenient
node to use as the filter output terminal because connecting a load there would change the filter
characteristics. The problem can be solved easily by utilizing a buffer amplifier. This is the amplifier of gain
K, drawn with broken lines in Fig. 14.21(b). Figure 14.21(c) shows how this amplifier can be simply
implemented using an op amp connected in the noninverting configuration. Note that not only does the
amplifier K buffer the output of the filter, but it also allows the designer to set the filter gain to any desired
value by appropriately selecting the value of K.
Figure 14.22 shows the realizations of the bandpass, low-pass, and general notch filters. Notice that the
general notch filter in Fig. 14.22(c) is obtained by feeding the input signal through a portion C61 of the
capacitance C6 and a portion R51 of the resistance R5. In order for the poles to remain unchanged, we must
ensure that

(14.55)
Figure 14.22 Realizations for some second-order filter functions using the op amp–RC resonator of Fig. 14.21(b): LP.
Figure 14.22 Realizations for some second-order filter functions using the op amp–RC resonator of Fig. 14.21(b): BP.
Figure 14.22 (c) Realizations for some second-order filter functions using the op amp–RC resonator of Fig. 14.21(b):
general notch.

(14.56)
(14.57)
D14.18
D14.19
and
The values of C61 and R51 determine the notch frequency ωn according to
More details on the design of active filters using the op amp–RC resonator of Fig. 14.21 can be found in
Appendix H (on the website).
Example 14.5
Show that the circuit in Fig. 14.22(c) can be used to realize a low-pass notch filter (ωn > ω0) by selecting R52 =
∞. Design the circuit to obtain ω0 = 105 rad/s, ωn = 1.2 × 105 rad/s, Q = 5, and a dc gain of 5 V/V.
EXERCISES
Use the Antoniou inductance simulation circuit of Fig. 14.20(a) to realize an inductance of 100 mH.
Use the circuit of Fig. 14.22(b) to design a second-order bandpass filter with a center frequency of 10
kHz, a 3-dB bandwidth of 500 Hz, and a center-frequency gain of 10. Use C = 1.2 nF.
∨Show Solution
∨Show Answer
∨Show Answer

(14.59)
(14.60)
14.6 Second-Order Active Filters Based on the Two-Integrator Loop
In this section, we study another family of op amp–RC circuits that realize second-order filter functions. The
circuits are based on the use of two integrators connected in cascade in an overall feedback loop and are thus
known as two-integrator-loop circuits.
14.6.1 Derivation of the Two-Integrator-Loop Biquad
To derive the two-integrator-loop biquadratic circuit, or biquad as it is commonly known,7 consider the
second-order high-pass transfer function
where K is the high-frequency gain. Cross-multiplying Eq. (14.59) and dividing both sides of the resulting
equation by s2 (to get all the terms involving s in the form 1/s, which is the transfer function of an integrator)
gives
In this equation we observe that the signal (ω0/s)Vhp can be obtained by passing Vhp through an integrator
with a time constant equal to 1/ω0. Furthermore, passing the resulting signal through another identical
integrator results in the third signal involving Vhp in Eq. (14.60)—namely, 
/s2)Vhp. Figure 14.23(a)
shows a block diagram for such a two-integrator arrangement. Note that in anticipation of the use of the
inverting op-amp Miller integrator circuit (Section 2.5.2) to implement each integrator, the integrator blocks
in Fig. 14.23(a) have been assigned negative signs.

(14.61)
Figure 14.23 Derivation of a block diagram realization of the two-integrator-loop biquad.
The problem still remains, however, of how to form Vhp, the input signal feeding the two cascaded
integrators. Toward that end, we rearrange Eq. (14.60), expressing Vhp in terms of its single- and double-
integrated versions and of Vi as
which suggests that Vhp can be obtained by using the weighted summer of Fig. 14.23(b). Now it should be
easy to see that a complete block diagram realization can be obtained by combining the integrator blocks of
Fig. 14.23(a) with the summer block of Fig. 14.23(b), as shown in Fig. 14.23(c).
In the realization of Fig. 14.23(c), Vhp, obtained at the output of the summer, realizes the high-pass
transfer function Thp ≡ Vhp/Vi of Eq. (14.59). The signal at the output of the first integrator is –(ω0/s)Vhp,
which is a bandpass function,

(14.62)
(14.63)
Therefore the signal at the output of the first integrator is labeled Vbp. Note from Eq. (14.62) that the center-
frequency gain of the bandpass filter realized is equal to –KQ.
In a similar fashion, we can show that the transfer function realized at the output of the second integrator
is the low-pass function,
Thus the output of the second integrator is labeled Vlp. Note that the dc gain of the low-pass filter realized is
equal to K.
We conclude that the two-integrator-loop biquad shown in block diagram form in Fig. 14.23(c) realizes
the three basic second-order filtering functions, LP, BP, and HP, simultaneously. This versatility has made the
circuit very popular and has given it the name universal active filter.
14.6.2 Circuit Implementation
To obtain an op-amp circuit implementation of the two-integrator-loop biquad of Fig. 14.23(c), we replace
each integrator with a Miller integrator circuit having CR = 1/ω0, and we replace the summer block with an
op-amp summing circuit that is capable of assigning both positive and negative weights to its inputs. The
resulting circuit, known as the Kerwin–Huelsman–Newcomb or KHN biquad, after its inventors, is shown
in Fig. 14.24(a). Given required values for ω0, Q, and K, the design of the circuit is straightforward: We
select suitably practical values for the components C and R of the integrators so that CR = 1/ω0. To
determine the required values of the resistors associated with the summer, we first use superposition to
express the output of the summer Vhp in terms of its inputs, Vi, Vbp, and Vlp as

(14.64)
(14.65)
Figure 14.24 (a) The KHN biquad circuit, obtained as a direct implementation of the block diagram of Fig. 14.23(c).
The three basic filtering functions, HP, BP, and LP, are simultaneously realized. (b) To obtain notch and other functions,
the three outputs are summed with appropriate weights using this op-amp summer.
Substituting 
 gives
Equating the last right-hand-side terms of Eqs. (14.64) and (14.61) gives

(14.66)
(14.67)
D 14.20
which implies that we can select arbitrary but practically convenient equal values for R1 and Rf . Then,
equating the second-to-last terms on the right-hand side of Eqs. (14.64) and (14.61) and setting R1 = Rf
yields the ratio R3/R2 required to realize a given Q as
Thus an arbitrary but convenient value can be selected for either R2 or R3, and the value of the other
resistance can be determined using Eq. (14.66). Finally, equating the coefficients of Vi in Eqs. (14.64) and
(14.61) and substituting Rf = R1 and for R3/R2 from Eq. (14.65) results in
Thus the gain parameter K is fixed to this value.
The KHN biquad can be used to realize arbitrary transmission zeros including those for notch filters by
summing weighted versions of the three outputs, LP, BP, and HP. Such an op-amp summer is shown in Fig.
14.24(b). (See Problem 14.61.)
EXERCISE
Design the KHN circuit to realize a high-pass function with f0 = 10 kHz and Q = 2. Choose C = 1 nF.
What is the value of high-frequency gain obtained? What is the center-frequency gain of the bandpass
function that is simultaneously available at the output of the first integrator?
14.6.3 An Alternative Two-Integrator-Loop Biquad Circuit
There is another way to develop a two-integrator-loop biquad circuit with all three op amps used in a single-
ended mode (i.e., with noninverting input terminal grounded). Rather than using the input summer to add
signals with positive and negative coefficients [Fig. 14.23(c)], we can introduce an additional inverter, as
shown in Fig. 14.25(a). Now all the coefficients of the summer have the same sign, and we can dispense with
the summing amplifier altogether and perform the summation at the virtual-ground input of the first
integrator as shown in Fig. 14.25(b). Observe that the summing weights of 1, 1/Q, and K are realized by
using resistances of R, QR, and R/K, respectively. The resulting circuit is shown in Fig. 14.25(b), from which
we observe that the high-pass function is no longer available! This is the price paid for obtaining a circuit
that utilizes all op amps in a single-ended mode. The circuit of Fig. 14.25(b) is known as the Tow–Thomas
biquad, after its originators.
∨Show Answer

(14.68)
(14.69)
Figure 14.25 (a) Derivation of an alternative two-integrator-loop biquad in which all op amps are used in a single-ended
fashion. (b) The resulting circuit, known as the Tow–Thomas biquad.
Here the bandpass tranfer function is given by Eq. (14.62),
and the low-pass function is given by Eq. (14.63)
where
Rather than using a fourth op amp to realize the finite transmission zeros required for the notch and other
functions, as was done with the KHN biquad, an economical feedforward scheme can be employed with the
Tow–Thomas circuit. Specifically, the virtual ground available at the input of each of the three op amps in

(14.70)
the Tow–Thomas circuit permits the input signal to be fed to all three op amps, as shown in Fig. 14.26. If Vo
is taken at the output of the damped integrator, straightforward analysis yields the filter transfer function
Figure 14.26 The Tow–Thomas biquad with feedforward. The transfer function of Eq. (14.70) is realized by feeding the
input signal through appropriate components to the inputs of the three op amps. This circuit can realize all special
second-order functions. The design equations are given in Table H.2 in Appendix H on the website.
which as an example can be used to obtain a notch function by selecting R1 = R3 = ∞ (i.e., omitting R1 and
R3 altogether). Table H.2 in Appendix H on the website provides design equations for a variety of filter
functions realized using the circuit in Fig. 14.26. See also Problems 14.63–14.66.
14.6.4 Final Remarks
Two-integrator-loop biquads are extremely versatile and easy to design. However, their performance is
adversely affected by the finite bandwidth of the op amps. Special techniques exist for compensating the
circuit for such effects (see the SPICE simulation example on the website, and Sedra and Brackett, 1978).
Example 14.6
Show that the Tow–Thomas biquad circuit in Fig. 14.26 can be used to realize a notch filter by selecting R1 = R3
= ∞. What is the frequency of the notch? Design the circuit to obtain ω0 = 105 rad/s, ωn = 1.2 × 105 rad/s, Q = 5,
and a dc gain of −5 V/V.
∨Show Solution

D14.21
EXERCISE
Use the Tow–Thomas biquad [Fig. 14.25(b)] to design a second-order bandpass filter with f0 = 10 kHz,
Q = 20, and unity center-frequency gain. If R = 10 kΩ, give the values of C, Rd, and Rg.
∨Show Answer

14.7 Second-Order Active Filters Using a Single Op Amp
The op amp–RC second-order filter circuits studied in the two preceding sections provide good performance,
are versatile, and are easy to design and to adjust (tune) after final assembly. Unfortunately, they are not
economical in their use of op amps, requiring three or four amplifiers per second-order section. This can be a
problem, especially in applications that call for conservation of power-supply current: for instance, in a
battery-operated instrument. In this section we study second-order filter circuits that require only one op amp
per circuit. These minimal realizations, however, suffer a greater dependence on the limited gain and
bandwidth of the op amp than the multiple-op-amp circuits of the preceding sections. Single-amplifier
circuits are therefore limited to the less stringent filter specifications—for example, pole Q factors less than
about 5.
Although two-port circuits that contain only resistors and capacitors can have complex-conjugate zeros,
their poles are restricted to lie on the negative real axis of the s plane, and so their Q factors are less than 0.5.
Thus, RC circuits alone cannot be used to implement selective filters, which generally require complex-
conjugate poles. However, by placing a two-port RC circuit in the feedback path of an op amp, transfer
functions with complex-conjugate poles can be realized. For space limitations, we will not study the theory
for generating single-amplifier biquadratic filter circuits (or SABs). Instead, we present single-amplifier
circuit realizations for the basic second-order filter functions: bandpass, low-pass, and high-pass.
14.7.1 Bandpass Circuit
Figure 14.27(a) shows a single-amplifier circuit that realizes a second-order bandpass transfer function. We
can perform the following inspection to verify that it is, in fact, a bandpass circuit: At dc, C1 and C2 behave
as open circuits, causing Vo to equal the voltage at the inverting input terminal of the amplifier and thus zero.
At s = ∞, C1 and C2 behave as short circuits, connecting the output terminal to the inverting op-amp input
and thus forcing Vo to equal zero. Thus, there is a transmission zero at s = 0 and another at s = ∞, which is
the case for a second-order bandpass.
The transfer function of the circuit in Fig. 14.27(a) can be derived as shown in Fig. 14.27(b). Writing a
node equation at X gives

(14.75)
(14.76)
(14.77)
(14.78)
(14.79)
Figure 14.27 (a) Circuit for the realization of a second-order bandpass filter.
Figure 14.27 (b) Analysis of the circuit in (a) to determine the transfer function T(s) ≡ Vo/Vi, The order of the analysis
steps is indicated by the circled numbers.
Collecting terms, we can find the transfer function Vo/Vi and write it as follows:
images
If we compare this with the standard form of the second-order bandpass function
we get
Given required values for ω0 and Q, we can determine the component values of the circuit in Fig.
14.27(a) as follows: Usually we select

(14.80)
(14.81)
(14.82)
(14.83)
(14.84)
(14.85)
D14.22
where m can be determined by substituting these values into Eq. (14.78):
Now, using Eq. (14.77), we can find the required value of the time constant CR:
To summarize, we determine the required time-constant CR using Eq. (14.84). Then, selecting a
practically convenient value for C, we determine C1 = C2 = C and the required value for R. Finally, R3 = R
and R4 = R/4Q2. The center-frequency gain can be determined from Eq. (14.79):
EXERCISE
Design the circuit in Fig. 14.27(a) to realize a bandpass filter with ω0 = 105 rad/s and Q = 5. What
center-frequency gain do we obtain?
14.7.2 High-Pass Circuit
Figure 14.28(a) shows a single-amplifier circuit that realizes the second-order high-pass filter function
∨Show Answer

(14.86)
(14.87)
(14.88)
(14.89)
(14.90)
Figure 14.28 (a) Circuit for realizing the second-order high-pass filter function. (b) Analysis of the circuit in (a) to
determine its transfer function T(s) = Vo/Vi. The circled numbers indicate the order of the analysis steps.
Notice that here the op amp is connected as a unity-gain voltage follower and can be replaced with any
other unity-gain follower circuit such as a source follower, if desired. Take a moment to recognize that at s =
0 (dc), C1 and C2 present two independent reasons for making Vo = 0. Thus, the circuit has two transmission
zeros at s = 0, as a second-order high-pass circuit must.
The transfer function T(s) = Vo/Vi can be derived as illustrated in Fig. 14.28(b). Writing a node equation
at X given
We observe that the denominator polynomial is identical to that in Eq. (14.75). Thus, the expressions for
ω0 and Q are the same as those in Eqs. (14.77) and (14.78), respectively. As well, given desired values for
ω0 and Q, the design of the circuit in Fig. 14.28(a) will be identical to the one we developed in Section
14.7.1 for the circuit in Fig. 14.27(a):

(14.91)
(14.92)
(14.93)
where C is chosen to be a practically convenient value. Comparing Eqs. (14.87) and (14.86), we see that the
high-frequency gain realized is
This result should not be surprising: From the circuit in Fig. 14.28(a), we can see that as s → ∞, C1 and
C2 behave as short circuits, making the voltage at the noninverting input of the op amp equal to Vi, and so Vo
= Vi and K = 1.
Finally, note that the fact that the circuits in Fig. 14.27(a) and Fig. 14.28(a) have the same poles is not an
accident. These two circuits are related to each other through the complementary transformation. More on
this can be found on the companion website.
14.7.3 Low-Pass Circuit
Figure 14.29 shows a single-amplifier circuit that realizes the second-order low-pass filter function
We can verify that this is a low-pass circuit by observing that at s = ∞, there are two independent reasons
for Vo to equal zero: C3 acting as a short circuit and, independently, C4 acting as a short circuit. Thus, the
circuit has two transmission zeros at s = ∞, as a second-order low-pass filter must.
Figure 14.29 A single-amplifier circuit that realizes the second-order low-pass filter function.
We can analyze the circuit in Fig. 14.29 to determine its transfer function T(s) using a method similar to
the one we used for the high-pass circuit in Fig. 14.28(b). The result is

(14.94)
(14.95)
(14.96)
(14.97)
(14.98)
(14.99)
(14.100)
(14.101)
D14.23
Comparing Eqs. (14.94) and (14.93) gives us
Typically, this circuit is designed as follows:
where either R or C is chosen to yield practically convenient component values.
EXERCISE
Design the circuit in Fig. 14.29 to realize a second-order low-pass filter with ω0 = 105 rad/s and 
 . (Note that this is a Butterworth filter of order 2.) What is the dc gain realized?
∨Show Answer

14.8 Switched-Capacitor Filters
In this section we study an important approach to the design of analog filters for IC implementation.
Switched-capacitor filters, which require only small capacitors, analog switches, and op amps that need to
drive only small capacitive loads, are ideally suited for implementation in CMOS. Currently, the switched-
capacitor approach is the preferred method for the design of integrated-circuit filters in the frequency range
up to hundreds of kHz.
14.8.1 The Basic Principle
The switched-capacitor filter technique is based on the realization that a capacitor switched between two
circuit nodes at a sufficiently high rate is equivalent to a resistor connecting these two nodes. To be specific,
consider the active-RC integrator of Fig. 14.30(a). This is the familiar Miller integrator, which we used in the
two-integrator-loop biquad in Section 14.6. In Fig. 14.30(b) we have replaced the input resistor R1 by a
grounded capacitor C1 together with two MOS transistors acting as switches. In some circuits, more
elaborate switch configurations are used, but such details are beyond our present need.
Figure 14.30 Basic principle of the switched-capacitor filter technique. (a) Active-RC integrator. (b) Switched-capacitor
integrator. (c) Two-phase clock (nonoverlapping). (d) During ϕ1, C1 charges up to the current value of vi and then, during
ϕ2, discharges into C2.

(14.102)
(14.103)
The two MOS switches in Fig. 14.30(b) are driven by a nonoverlapping two-phase clock. Figure 14.30(c)
shows the clock waveforms. For now, let’s assume that the clock frequency fc(fc = 1/Tc) is much higher than
the frequency of the input signal vi. Thus the variations in the input signal are negligibly small during clock
phase ϕ1, when C1 is connected across the input signal source vi. It follows that during ϕ1, capacitor C1
charges up to the voltage vi,
Then, during clock phase ϕ2, capacitor C1 is connected to the virtual-ground input of the op amp, as
indicated in Fig. 14.30(d). Capacitor C1 is thus forced to discharge, and its previous charge qC1 is transferred
to C2, in the direction indicated in Fig. 14.30(d).
From the description above we see that during each clock period Tc an amount of charge qC1 = C1vi is
extracted from the input source and supplied to the integrator capacitor C2. Thus the average current flowing
between the input node (IN) and the virtual-ground node (VG) is
If Tc is short enough, we can think of this process as almost continuous and thus can define an equivalent
resistance Req that is in effect present between nodes IN and VG:
Thus,
Using Req we obtain an equivalent time constant for the integrator:
Thus the time constant of the integrator, which determines the frequency response of the filter, is established
by the clock period Tc and the capacitor ratio C2/C1. Both these parameters can be well controlled in an IC
fabrication process. Specifically, note the dependence on capacitor ratios rather than on absolute values of
capacitors. The accuracy of capacitor ratios in CMOS technology can be controlled to within 0.1%.
Another point worth observing is that with a reasonable clocking frequency (such as 100 kHz) and not-
too-large capacitor ratios (say, 10), we can obtain reasonably large time constants (such as 10−4 s) suitable
for audio applications. Since capacitors typically occupy relatively large areas on the IC chip, we try to
minimize their values. In this context, it is important to note that the ratio accuracies quoted earlier can be
obtained with the smaller capacitor value as low as 0.1 pF.

14.8.2 Switched-Capacitor Integrator
The switched-capacitor (SC) circuit in Fig. 14.30(b) realizes an inverting integrator [note the direction of
charge flow through C2 in Fig. 14.30(d)]. As we saw in Section 14.6, a two-integrator-loop active filter is
composed of one inverting and one noninverting integrator.8 To realize a switched-capacitor biquad filter, we
therefore need a pair of complementary switched-capacitor integrators. Figure 14.31(a) shows a
noninverting, or positive, integrator circuit. We encourage you to follow the operation of this circuit during
the two clock phases to see that it operates in much the same way as the basic circuit of Fig. 14.30(b), except
for a sign reversal.
In addition to realizing a noninverting integrator function, the circuit in Fig. 14.31(a) is insensitive to
stray capacitances. We will not explore this point any further here, but you may consult Schaumann, Ghausi,
and Laker (1990) for more information. By reversing the clock phases on two of the switches, we get the
circuit in Fig. 14.31(b). This circuit realizes the inverting integrator function, like the circuit of Fig. 14.30(b),
but is insensitive to stray capacitances [which the original circuit of Fig. 14.30(b) is not]. The
complementary integrators of Fig. 14.31 have become the standard building blocks in the design of
switched-capacitor filters.

Figure 14.31 A pair of complementary stray-insensitive, switched-capacitor integrators. (a) Noninverting switched-
capacitor integrator. (b) Inverting switched-capacitor integrator.
14.8.3 Switched-Capacitor Biquad Filter
Let us now consider the realization of a complete biquad circuit. Figure 14.32(a) shows the active-RC, two-
integrator-loop circuit studied earlier. By considering the cascade of integrator 2 and the inverter as a
positive integrator, and then simply replacing each resistor by its switched-capacitor equivalent, we obtain
the circuit in Fig. 14.32(b). Ignore the damping around the first integrator (i.e., the switched capacitor C5) for
the time being and note that the feedback loop indeed consists of one inverting and one noninverting
integrator. Then note the phasing of the switched capacitor used for damping. Reversing the phases here
would convert the feedback to positive and move the poles to the right half of the s plane. On the other hand,
the phasing of the feed-in switched capacitor (C6) is not that important; a reversal of phases would result
only in an inversion in the sign of the function realized.

(14.104)
(14.105)
(14.106)
Figure 14.32 (a) A two-integrator-loop, active-RC biquad.
Figure 14.32 (b) The switched-capacitor counterpart of (a).
Having identified the correspondences between the active-RC biquad and the switched-capacitor biquad,
we can now derive design equations. Analysis of the circuit in Fig. 14.32(a) yields
Replacing R3 and R4 with their switched-capacitor equivalent values, that is,
gives ω0 of the switched-capacitor biquad as
Typically we select the time constants of the two integrators to be equal; that is,
If, further, we select the two integrating capacitors C1 and C2 to be equal,

(14.107)
(14.108)
(14.109)
(14.110)
(14.111)
D14.24
then, using Eqs. (14.106) and (14.105), we obtain
For the case of equal time constants, the Q factor of the circuit in Fig. 14.32(a) is given by R5/R4. Thus the Q
factor of the corresponding switched-capacitor circuit in Fig. 14.32(b) is given by
Thus C5 should be selected from
Finally, the center-frequency gain of the bandpass function is given by
EXERCISE
Use C1 = C2 = 20 pF and design the circuit in Fig. 14.32(b) to realize a bandpass function with f0 = 10
kHz, Q = 20, and unity center-frequency gain. Use a clock frequency fc = 200 kHz. Find the values of
C3, C4, C5, and C6.
14.8.4 Final Remarks
We have attempted to provide only an introduction to switched-capacitor filters. We have made many
simplifying assumptions, the most important being the switched-capacitor–resistor equivalence (Eq. 14.102).
This equivalence is correct only at fc = ∞ and is approximately correct for fc ≫ f0. Switched-capacitor filters
are, in fact, discrete-time circuits whose analysis and design can be carried out exactly using z-transform
techniques. The interested reader is referred to the bibliography in Appendix I.
The switched-capacitor circuits presented above are of the single-ended variety. In many applications,
fully differential versions of these circuits are employed.
∨Show Answer

■
■
■
■
■
■
■
■
■
■
■
Summary
A filter is a linear two-port network with a transfer function T(s) = Vo(s)/Vi(s). For physical frequencies,
the filter transmission is expressed as T(jω) = |T(jω)|ejϕ(ω). The magnitude of transmission can be
expressed in decibels using either the gain function G(ω) ≡ 20log|T| or the attenuation function A(ω) ≡ −
20log|T|.
The transmission characteristics of a filter are specified in terms of the edges of the passband(s) and the
stopband(s); the maximum allowed variation in passband transmission, Amax (dB); and the minimum
attenuation required in the stopband, Amin (dB).
The filter transfer function can be expressed as the ratio of two polynomials in s; the degree of the
denominator polynomial, N, is the filter order. The N roots of the denominator polynomial are the poles.
To obtain a highly selective response, the poles are complex and occur in conjugate pairs (except for one
real pole when N is odd). The zeros are placed on the jω axis in the stopband(s) including ω = 0 and ω =
∞.
The Butterworth filter approximation provides a low-pass response that is maximally flat at ω = 0. The
transmission decreases monotonically as ω increases, reaching 0 (infinite attenuation) at ω = ∞, where all
N transmission zeros lie. Eq. (14.19) gives |T|, where 
 is given by Eq. (14.22) and the order N is
determined using Eq. (14.23). The poles are found using the graphical construction of Fig. 14.15 and
Eqs. (14.24) and (14.25), and the transfer function is given by Eq. (14.26).
The Chebyshev filter approximation provides a low-pass response that is equiripple in the passband with
the transmission decreasing monotonically in the stopband. All the transmission zeros are at s = ∞. Eq.
(14.28) gives |T| in the passband and Eq. (14.29) gives |T| in the stopband, where  is given by Eq.
(14.31). The order N can be determined using Eq. (14.32). The poles are given by Eq. (14.33) and the
transfer function by Eq. (14.34).
Figures H.1 and H.2 (Appendix H,) provide a summary of first-order filter functions and their
realizations.
Figure H.3 (Appendix H,) provides the characteristics of seven special second-order filtering functions.
The second-order LCR resonator of Fig. 14.18(a) realizes a pair of complex-conjugate poles with ω0 = 
 and Q = ω0CR. This resonator can be used to realize the various special second-order filtering
functions, as shown in Fig. 14.19.
By replacing the inductor of an LCR resonator with a simulated inductance obtained using the Antoniou
circuit of Fig. 14.20(a), the op amp–RC resonator of Fig. 14.21(b) is obtained. This resonator can be used
to realize the various second-order filter functions as shown in Fig. 14.22(a), (b), and (c) with the
complete set of circuits shown in Fig. H.6 (Appendix H,). The design equations for these circuits are
given in Table H.1 (Appendix H,).
Biquads based on the two-integrator-loop topology are the most versatile and popular second-order filter
realizations. There are two varieties: the KHN circuit of Fig. 14.24(a), which realizes the LP, BP, and HP
functions simultaneously and can be combined with the output summing amplifier of Fig. 14.24(b) to
realize the notch function; and the Tow–Thomas circuit of Fig. 14.25(b), which realizes the BP and LP
functions simultaneously. Feedforward can be applied to the Tow–Thomas circuit to obtain the circuit of

■
■
Fig. 14.26, which can be designed to realize any of the second-order functions (see Table H.2 in
Appendix H on the website).
Single-amplifier filters have the advantage of requiring low power but are limited to applications for
which the pole Q is 5 or less. Examples of such circuits are shown in Fig. 14.27(a) (bandpass), Fig.
14.28(a) (high pass), and Fig. 14.29 (low pass). The full theory of single-amplifier biquads is provided on
the website.
Switched-capacitor (SC) filters are based on the principle that a capacitor C, periodically switched
between two circuit nodes at a high rate, fc, is equivalent to a resistance R = 1/Cfc connecting the two
circuit nodes. SC filters can be fabricated in monolithic form using CMOS IC technology. The standard
switched-capacitor integrators are shown in Fig. 14.31, and a biquad circuit using these integrators is
shown in Fig. 14.32(b).

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Section 14.1: Basic Concepts
14.1 The transfer function of a first-order low-pass filter (such as that realized by an RC circuit) can be expressed
as T(s) = ω0/(s + ω0), where ω0 is the 3-dB frequency of the filter. Give in table form the values of |T|, ϕ, G, and A
at ω = 0, 0.5ω0,ω0,2ω0,5ω0,10ω0, and 100ω0.
14.2 A sinusoid with 1-V peak amplitude is applied at the input of a filter having the transfer function
Find the peak amplitude and the phase (relative to that of the input sinusoid) of the output sinusoid if the frequency
of the input sinusoid is (a) 1 kHz, (b) 10 kHz, (c) 100 kHz, and (d) 1 MHz.
*14.3 A filter has the transfer function T(s) = 1/[(s+1)(s2 + s + 1)]. Show that 
 and find an
expression for its phase response ϕ(ω). Calculate the values of |T| for ω = 0.1, 0.2, 0.5, 1, 2, 5, and 10 rad/s.
14.4 For the filter whose magnitude response is sketched (as the blue curve) in Fig. 14.3, find |T| at ω = 0, ω = ωp,
and ω = ωs. Amax = 0.5 dB, and Amin = 80 dB.
D 14.5 A low-pass filter is required to pass all signals within its passband, extending from 0 to 5 kHz, with a
transmission variation of at most 7% (i.e., the ratio of the maximum to minimum transmission in the passband
should not exceed 1.07). The transmission in the stopband, which extends from 6 kHz to ∞, should not exceed
0.1% of the maximum passband transmission. What are the values of Amax, Amin, and the selectivity factor for this
filter?
14.6 A low-pass filter is specified to have fp = 4 kHz and a selectivity factor of 10. The specifications are just met
by a first-order transfer function
What must Amax and Amin be?
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
14.7 A low-pass filter is specified to have Amax = 1 dB and Amin = 10 dB. We find that these specifications can be
just met with a single-time-constant RC circuit having a time constant of 1 s and a dc transmission of unity. What
must ωp and ωs of this filter be? What is the selectivity factor?
14.8 Sketch transmission specifications for a high-pass filter having a passband defined by f ≥ 5 kHz and a
stopband defined by f ≤ 4 kHz. Amax = 0.5 dB, and Amin = 70 dB.
14.9 Sketch transmission specifications for a bandstop filter that is required to pass signals over the bands 0 ≤ f ≤
12 kHz and 20 kHz ≤ f ≤ ∞ with Amax of 0.4 dB. The stopband extends from f = 15 kHz to f = 18 kHz, with a
minimum required attenuation of 60 dB.
Section 14.3: The Filter Transfer Function
14.10 A filter has transmission zeros at ω = 2 rad/s and ω = ∞. Its poles are at s = −1 and s = −0.5 ± j1.0. The dc
gain is unity. Find the filter order, type, and transfer function T(s).
14.11 Consider a fifth-order filter whose poles are all at a radial distance from the origin of 105 rad/s. One pair of
complex-conjugate poles is at 18° angles from the jω axis, and the other pair is at 54° angles. Give ω0 and Q of the
poles and the transfer function in each of the following cases.
The transmission zeros are all at s = ∞ and the dc gain is unity.
The transmission zeros are all at s = 0 and the high-frequency gain is unity.
What type of filter results in each case?
14.12 Give the order and the transfer function of a bandpass filter that has the following poles and zeros:
Poles: a complex-conjugate pair with ω0 = 1 × 103 rad/s and Q = 1, and another complex-conjugate pair with
ω0 = 1.2 × 103 rad/s and Q = 12. Zeros: two at ω = 0 and two at ω = ∞.
The magnitude of the filter transmission at ω = 103 rad/s is to be unity.
14.13 A second-order low-pass filter has poles at −0.25 ± j and a transmission zero at ω = 2.5 rad/s. If the dc gain is
unity, give the transfer function T (s). What is the gain at ω approaching infinity?
14.14 Find the order N and the form of T(s) of a bandpass filter having transmission zeros as follows: one at ω = 0,
one at ω = 103 rad/s, one at 3×103 rad/s, and one at ω = ∞. If this filter has a monotonically decreasing passband
transmission with a peak at the center frequency of 2 × 103 rad/s, and equiripple response in the stopbands, sketch
the shape of its |T|.
*14.15 Analyze the RLC network of Fig. P14.15 to determine its transfer function Vo(s)/Vi(s) and hence its poles
and zeros. (Hint)
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

Figure P14.15
D 14.16 Design the circuit in Fig. 14.8 to realize a first-order op amp–RC low-pass filter having a 3-dB frequency
of 10 kHz, a dc gain magnitude of 10, and an input resistance of 10 kΩ.
D 14.17 Use the circuit in Fig. E14.7 to design a first-order high-pass filter with a 3-dB frequency of 100 Hz, a
high-frequency input resistance of 100 kΩ, and a high-frequency gain magnitude of unity.
14.18 Give the transfer function of a second-order maximally flat low-pass filter having ω0 = 104 rad/s and a dc
gain of 10.
14.19 Give the transfer function of a second-order high-pass filter (two transmission zeros at ω = 0) with f0 = 10
kHz, Q = 2.5, and a high-frequency gain of unity.
14.20 Give the transfer function of a bandpass filter with a center frequency of 105 Hz, a 3-dB bandwidth of 2000
Hz, and a center-frequency gain of 5.
14.21 Give the transfer function of a low-pass notch filter with ω0 = 104 rad/s, ωn = 1.25 × 104 rad/s, Q = 2, and a
dc gain of unity. What is the asymptotic transmission at high frequencies?
D *14.22 By cascading a first-order op amp–RC low-pass circuit such as that in Fig. 14.8 with a first-order op
amp–RC high-pass circuit such as that in Fig. E14.7, one can design a wideband bandpass filter. Provide such a
design for the case in which the midband gain is 12 dB and the 3-dB bandwidth extends from 100 Hz to 100 kHz.
Select appropriate component values under the constraints that no resistors higher than 100 kΩ are to be used and
that the input resistance is to be as high as possible.
*14.23 (a) Derive an expression for the transfer function of the op amp–RC circuit shown in Fig. P14.23. Give
expressions for the frequency of the transmission zero ωZ, the frequency of the pole ωP, the dc gain, and the high-
frequency gain.
∨Show Answer
∨Show Answer
∨Show Answer

Figure P14.23
(b) Design the circuit to realize a first-order op amp–RC spectrum-shaping function with a transmission zero
frequency of 100 Hz, a pole frequency of 10 kHz, and a dc gain magnitude of unity. The low-frequency input
resistance is to be 10 kΩ. What high-frequency gain results? Sketch the magnitude of the transfer function versus
frequency.
D *14.24 Derive T(s) for the op amp–RC circuit in Fig. P14.24. Show that |T(jω)| = 1 and find ϕ(ω). We wish to
use this circuit as a variable phase shifter by adjusting R. If the input signal frequency is 5 × 103 rad/s and if C = 10
nF, find the values of R required to obtain phase shifts of –30°, –60°, –90°, –120°, and –150°. Note that this circuit
is known as all-pass filter.
Figure P14.24
14.25 Find the transfer function of a second-order low-pass filter with ω0 = 104 rad/s, Q = 2, and dc gain = 1. At
what frequency does |T| peak? What is the peak transmission? (Hint)
D *14.26 Use the information in Fig. 14.10 to obtain the transfer function of a second-order low-pass filter that just
meets the specifications defined in Fig. 14.3 with ωp = 1 rad/s and Amax = 3 dB. Find ω0 and Q. Also, if ωs = 2
rad/s, find the value of Amin obtained. Investigate two cases: (a) maximally flat passband 
 and, (b),
equiripple passband.
14.27 Find the transfer function of a second-order high-pass filter with a maximally flat passband response, a 3-dB
frequency at ω = 1 rad/s, and a high-frequency gain of unity. Give the location of the poles and zeros.
14.28 Find the transfer function of a second-order high-pass filter with poles at 
 and a high-frequency
gain of unity. What are ω0 and Q of the poles?
D **14.29 (a) Show that |T| of a second-order bandpass function is geometrically symmetrical around the center
frequency ω0. That is, the members of each pair of frequencies ω1 and ω2 for which 
 are
related by 
(b) Find the transfer function of the second-order bandpass filter that meets specifications of the form in Fig. 14.4
where ωp1 = 8100 rad/s, ωp2 = 10,000 rad/s, and Amax = 3 dB. If ωs1 = 3000 rad/s, find Amin and ωs2.
D **14.30 (a) For a second-order notch function with ωn = ω0, show that for the attenuation to be greater than A
dB over a frequency band BWa, the value of Q must satisfy
∨Show Answer
∨Show Answer

(Hint: First, show that any two frequencies, ω1 and ω2, at which | T | is the same, are related by 
 ).
(b) Use the result in (a) to find the transfer function of a notch filter that is required to eliminate a bothersome
interference of 60-Hz frequency. Since the frequency of the interference is not stable, the filter should be designed
to provide attenuation ≥ 20 dB over a 6-Hz band centered around 60 Hz. The dc transmission of the filter is to be
unity.
14.31 Find the transfer function of a second-order high-pass notch filter for which ωn = 1 rad/s, ω0 = 1.3 rad/s, Q =
3, and the high-frequency asymptotic gain is unity. Sketch | T(jω) | and give the value of the dc gain.
Section 14.3: Butterworth and Chebyshev Filters
14.32 Calculate the value of attenuation obtained at a frequency 2 times the 3-dB frequency of a seventh-order
Butterworth filter.
14.33 Find the poles of a Butterworth filter having a 0.5-dB bandwidth of 103 rad/s and N = 6
D 14.34 Determine the order N of the Butterworth filter for which Amax = 0.5 dB, Amin = 20 dB, and the selectivity
ratio ωs/ωp = 1.7. What is the actual value of minimum stopband attenuation realized? If Amin is to be exactly 20
dB, to what value can Amax be reduced?
14.35 Show that the order N of a Butterworth filter can be obtained from the approximate expression
Use Eq. (14.23) and neglect the unity term.
D 14.36 Design a Butterworth filter that meets the following low-pass specifications: fp = 10 kHz, Amax = 3 dB, fs
= 20 kHz, Amin = 40 dB, and dc gain = 1. Find N, the poles, and T(s). What is the attenuation provided at 30 kHz?
14.37 Sketch the transfer function magnitude for a low-pass Chebyshev filter of (a) sixth order and (b) seventh
order.
14.38 On the same diagram, sketch the magnitude of the transfer function of a Butterworth and a Chebyshev low-
pass filter of fifth order and having the same ωp and Amax. At the stopband edge, ωs, which filter gives greater
attenuation?
14.39 For a fifth-order Chebyshev filter with a unity transmission at dc and with a 1-dB passband ripple, find the
attenuation realized at fs = 2fp.
14.40 Observe that Eq. (14.28) can be used to find the frequencies in the passband at which | T | is at its peaks and
at its valleys. (The peaks are reached when the cos2[ ] term is zero, and the valleys correspond to the cos2[ ] term
equal to unity.) Find these frequencies for a fifth-order filter.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
(c)
14.41 Contrast the attenuation provided by a sixth-order Chebyshev filter at ωs = 2ωp to that provided by a
Butterworth filter of equal order. For both, Amax = 1 dB. Sketch |T| for both filters on the same axes.
D *14.42 Design a low-pass filter to meet the following specifications: fp = 3.4 kHz, Amax = 1 dB, fs = 4kHz, Amin
= 35 dB. The dc transmission is unity.
Find the required order of Chebyshev filter. What is the excess (above 35 dB) stopband attenuation obtained?
Find the poles and the transfer function.
Section 14.4: Second-Order Passive Filters Based on the LCR Resonator
14.43 Analyze the circuit in Fig. 14.18(c) to determine its transfer function T(s) ≡ Vo(s)/Vi(s), and hence show that
its poles are characterized by ω0 and Q of Eqs. (14.39) and (14.40), respectively.
D 14.44 Design the LCR resonator of Fig. 14.18(a) to obtain poles with ω0 = 2 × 105 rad/s and Q = 4. Use R = 10
kΩ.
14.45 For the LCR resonator of Fig. 14.18(a), find the change in ω0 that results from
increasing L by 1%
increasing C by 1%
decreasing R by 1%
14.46 For each of the circuits in Fig. P14.46, find the transmission as ω approaches zero and as ω approaches ∞,
and hence find the transmission zeros.
∨Show Answer
∨Show Answer
∨Show Answer

Figure P14.46
14.47 For the resonator in Fig. 14.18(a), let node y be lifted from ground. If a signal source Vi is connected to node
y and the output Vo is taken across the resonator, derive an expression for the transfer function Vo/Vi and show that
it is a high pass with ω0 and Q given by Eqs. (14.39) and (14.40), respectively. Design the high-pass circuit to
obtain ω0 = 106 rad/s and Q = 1. Use R = 1 kΩ.
D *14.48 Show that the general notch circuit in Fig. 14.19(e) can be used to realize a low-pass notch (LPN) filter
by making L2 = ∞. (Recall that for the LPN case, ωn > ω0.) Design the circuit to obtain 
 rad/s, and Q = 2. Use R = 1 kΩ. Find all the component values, the dc gain,
and the high-frequency gain.
D 14.49 Show that the general notch circuit in Fig. 14.19(e) can be used to realize a high-pass notch (HPN) filter by
making C2 = 0. (Recall that for the HPN case, 
) Design the circuit for the case ω0 = 105 rad/s, ωn =
105/
 rad/s, and Q = 2. Use R = 1 kΩ. Find all the component values, the dc gain, and the high-frequency gain.
D 14.50 Modify the bandpass circuit of Fig. 14.19(c) to change its center-frequency gain from 1 to 0.5 without
changing ω0 or Q.
14.51 Consider the LCR resonator of Fig. 14.18(a) with node x disconnected from ground and connected to an
input signal source Vx, node y disconnected from ground and connected to another input signal source Vy, and node
z disconnected from ground and connected to a third input signal source Vz. Use superposition to find the voltage
that develops across the resonator, Vo, in terms of Vx, Vy, and Vz.
Section 14.5: Second-Order Active Filters Based on Inductance Simulation
∨Show Answer
∨Show Answer

(a)
(b)
(c)
D 14.52 Design the circuit of Fig. 14.20(a) (utilizing suitable component values) to realize an inductance of (a) 10
H, (b) 1.0 H, and (c) 0.1 H.
14.53 Figure P14.53 shows a generalized form of the Antoniou circuit of Fig. 14.20(a). Here, R5 is eliminated and
the other four components are replaced by general impedances Z1, Z2, Z3, and Z4.
Figure P14.53
With an impedance Z5 connected between node 2 and ground, show that the input impedance
looking into port 1 (i.e., between node 1 and ground) is
From the symmetry of the circuit, show that if an impedance Z6 is connected between terminal 1
and ground, the input impedance looking into port 2, which is between terminal 2 and ground, is
given by
From the expressions above, observe that the two-port network in Fig. P14.53 acts as an
“impedance transformer.” Since by the appropriate choice of Z1, Z2, Z3, and Z4, the transformation
ratio can be a general function of the complex frequency variable s, the circuit is known as a
generalized impedance converter, or GIC.
*14.54 Consider the Antoniou circuit of Fig. 14.20(a) with R5 eliminated, a capacitor C6 connected between node 1
and ground, and a voltage source V2 connected to node 2. Show that the input impedance seen by V2 is
R2/s2C4C6R1R3. How does this impedance behave for physical frequencies (s = jω)? (This impedance is known as
a frequency-dependent negative resistance, or FDNR.)
∨Show Answer

(a)
(b)
*14.55 Starting from first principles and assuming ideal op amps, derive the transfer function of the circuit in Fig.
14.22(a).
D *14.56 Design a fifth-order Butterworth filter having a 3-dB bandwidth of 104 rad/s and a dc gain of 10 V/V. Use
a cascade of two circuits of the type shown in Fig. 14.22(a) and a first-order op amp–RC circuit. Select appropriate
component values.
D 14.57 Give the circuit for a high-pass filter based on the resonator of Fig. 14.21(b). Design the circuit to obtain
ω0 = 103 rad/s, Q = 5, and a high-frequency gain of unity.
D 14.58 Show that the circuit in Fig. 14.22(c) can be used to realize a high-pass notch filter (ωn < ω0) by selecting
C62 = 0. Design the circuit to obtain ω0 = 105 rad/s, ωn = 0.8 × 105 rad/s, Q = 5, and a high-frequency gain of 5.
D 14.59 Use the circuit in Fig. 14.22(b) to design a bandpass filter with f0 = 100 kHz and a 3-dB bandwidth of 1
kHz. The gain at f0 is required be 10 V/V.
D **14.60 Design a third-order low-pass filter whose |T| is equiripple in both the passband and the stopband (in the
manner shown in Fig. 14.3, except that the response shown is for N = 5). The filter passband extends from ω = 0 to
ω = 1 rad/s, and the passband transmission varies between 1 and 0.9. The stopband edge is at ω = 1.2 rad/s. The
following transfer function was obtained using filter-design tables:
The actual filter realized is to have ωp = 105 rad/s.
Obtain the transfer function of the actual filter by replacing s by s/105.
Realize this filter as the cascade connection of a first-order LP op amp–RC circuit of the type
shown in Fig. 14.8 and a second-order LPN circuit of the type shown in Fig. 14.22(c) with R52 =
∞. Each section is to have a dc gain of unity. Select appropriate component values. (Note: A filter
with an equiripple response in both the passband and the stopband is known as an elliptic filter.)
Section 14.6: Second-Order Active Filters Based on the Two-Integrator Loop
D 14.61 Design the KHN circuit of Fig. 14.24(a) to realize a bandpass filter with a center frequency of 3 kHz and a
3-dB bandwidth of 50 Hz. Use 10-nF capacitors. Give the complete circuit and specify all component values. What
value of center-frequency gain is obtained?
14.62 (a) Consider the KHN biquad in Fig. 14.24(a), with the three outputs Vhp, Vbp, and Vlp summed by the
summer in Fig. 14.24(b). Using the transfer functions in Eqs. (14.59), (14.62), and (14.63), show that the transfer
function realized at the output Vo is
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(b) If a notch filter with a notch frequency ωn and a dc gain G is required, find the required values of RH, RB, RL,
and RF.
14.63 Use the Tow–Thomas circuit in Fig. 14.25(b) to design a low-pass filter with f0 = 10 kHz, Q = 20, and dc
gain = 10 V/V, and input resistance = 1 kΩ. Specify all component values.
D 14.64 Use the Tow–Thomas biquad of Fig. 14.26 to realize a high-pass notch filter with a notch frequency ωn
and high-frequency gain of G. If a convenient value is selected for C, give expressions for the required values of R,
R1,C1, R2, and R3 in terms of ω0, ωn, C, and G.
14.65 Starting from first principles, derive the transfer function Vo/Vi of the circuit in Fig. 14.26 and verify that it is
the expression given by Eq. (14.70).
D 14.66 Design the circuit of Fig. 14.26 to realize a low-pass notch filter with ω0 = 105 rad/s, Q = 10, dc gain = 1,
and ωn = 1.3 × 105 rad/s. Use C = 10 nF and r = 20 kΩ.
D **14.67 Repeat Problem 14.60 using the Tow–Thomas biquad of Fig. 14.26 to realize the second-order section
in the cascade.
Section 14.7: Second-Order Active Filters Using a Single Op Amp
D 14.68 Use the circuit in Fig. 14.27(a) to realize a bandpass filter with a center frequency of 10 kHz and a 3-dB
bandwidth of 2.5 kHz. Give the values of all components and specify the center-frequency gain obtained.
D *14.69 Consider the bandpass circuit shown in Fig. 14.27(a). Let C1 = C2 = C, R3 = R, R4 = R/4Q2, and CR =
2Q/ω0. Disconnect the positive input terminal of the op amp from ground and apply Vi through a voltage divider
R1, R2 to the positive input terminal as well as through R4 as before. Analyze the circuit to find its transfer function
Vo/Vi. Find the ratio R2/R1 so that the circuit realizes a notch function.
14.70 Analyze the circuit in Fig. P14.70 to determine its transfer function T(s) ≡ Vo/Vi. Show that T(s) is that of a
second-order bandpass filter and find ω0 and Q. For R1 = R2 = R, C4 = C, and C3 = C/m, find CR and m in terms of
ω0 and Q. What center-frequency gain is obtained?
∨Show Answer
∨Show Answer

Figure P14.70
14.71 Use a cascade of the low-pass circuit in Fig. 14.29 and the high-pass circuit in Fig. 14.28(a) to realize a wide-
band bandpass filter with 3-dB frequencies of 1 kHz and 100 kHz. The response of both circuits should be
maximally flat; that is, each should have a Q of 0.707. Use capacitances in the nanofarad range. Sketch and label a
Bode plot for the gain magnitude.
D *14.72 Design a fifth-order Butterworth low-pass filter that has a 3-dB bandwidth of 10 kHz and a dc gain of
unity. Use the cascade connection of two circuits of the type shown in Fig. 14.29 and a first-order low-pass circuit
(Fig. 14.8). Use a 10- kΩ value for all resistors.
Section 14.8: Switched-Capacitor Filters
14.73 For the switched-capacitor input circuit of Fig. 14.30(b), in which a clock frequency of 100 kHz is used, what
input resistances correspond to capacitance C1 values of 0.1 pF, 0.5 pF, 1 pF, 5 pF, and 10 pF?
14.74 For a dc voltage of 1 V applied to the input of the circuit of Fig. 14.30(b), in which C1 is 1 pF, what charge is
transferred for each cycle of the two-phase clock? For a 200-kHz clock, what is the average current drawn from the
input source? For a feedback capacitance of 10 pF, what change would you expect in the output for each cycle of
the clock? For an amplifier that saturates at ±1 V and the feedback capacitor initially discharged, how many clock
cycles would it take to saturate the amplifier? What is the average slope of the staircase output voltage produced?
D 14.75 Repeat Exercise 14.24 for a clock frequency of 500 kHz.
D 14.76 Repeat Exercise 14.24 for Q = 40.
D 14.77 Design the circuit of Fig. 14.32(b) to realize, at the output of the second (noninverting) integrator, a
maximally flat low-pass function with ω3dB = 104 rad/s and unity dc gain. Use a clock frequency fc = 200 kHz and
select C1 = C2 = 2 pF. Give the values of C3, C4, C5, and C6. (Hint)
∨Show Answer
∨Show Answer
∨Show Answer

15.1
15.2
15.3
15.4
•
•
•
•
•
CHAPTER 15
Oscillators
Introduction
Basic Principles of Sinusoidal Oscillators
Op Amp–RC Oscillators
LC and Crystal Oscillators
Nonlinear Oscillators or Function Generators
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
That an oscillator circuit that generates sine waves can be implemented by connecting a frequency-
selective network (a filter) in the positive-feedback path of an amplifier.
The conditions under which sustained oscillations are obtained and the frequency of those oscillations.
How to control the amplitude of the sine wave obtained in an oscillator using a nonlinear circuit.
A variety of sine-wave oscillator circuits.
How to use an op amp to design a bistable circuit that can be connected in a feedback loop with an op-
amp integrator to implement a generator of square and triangular waveforms.

Introduction
In the design of electronic systems, we often need signals with prescribed standard waveforms, such as
sinusoidal, square, triangular, or pulse. Systems that require standard signals include computer and control
systems, where clock pulses are needed for, among other things, timing; communication systems, where
signals of a variety of waveforms are used as information carriers; and test and measurement systems, where
signals, again of a variety of waveforms, are used to test and characterize electronic devices and circuits. In
this chapter we study signal-generator circuits.
The signal-generator or oscillator circuits we will study are collectively capable of providing signals with
frequencies in the range of hertz to hundreds of gigahertz. While some can be fabricated on chips, others use
discrete components. Examples of commonly encountered oscillators include the microprocessor clock
generator (fabricated on chip utilizing the ring oscillator studied in Section 18.4 with frequencies in the
several-gigahertz range); the carrier-waveform generator in wireless transceivers (on chip, up to the
hundreds-of-gigahertz range); the oscillator in an electronic watch (using a quartz crystal with a frequency of
215 Hz); and the variable-frequency function generator in the electronics lab (utilizing a discrete circuit with
frequency in the hertz to megahertz range).
There are two distinctly different approaches to designing oscillator circuits. The first, used to generate
sine waves and studied in Sections 15.1 to 15.3, uses a positive-feedback loop consisting of an amplifier
and an RC or LC frequency-selective network. While the frequency of the generated sine wave is
determined by the frequency-selective network, the amplitude is set using a nonlinear mechanism,
implemented either with a separate circuit or using the nonlinearities of the amplifying device itself. In spite
of this, these circuits, which generate sine waves utilizing resonance phenomena, are known as linear
oscillators. The reason behind this name will be explained later. The second approach uses a circuit building
block known as a bistable multivibrator together with an RC circuit in a feedback loop to generate square
waves. If the RC circuit is replaced with an op-amp integrator, triangular waves can be obtained as well. For
our purposes here, the bistable multivibrator is realized using an op amp connected in a positive-feedback
loop. This type of oscillator circuit is known as a nonlinear oscillator or, more commonly, as a function
generator. We will study bistable circuits and function generators in Section 15.4.

(15.1)
(15.2)
(15.3)
15.1 Basic Principles of Sinusoidal Oscillators
In this section, we study the basic principles of the design of linear sine-wave oscillators. In spite of the
name linear oscillator, we have to use some form of nonlinearity to control the amplitude of the output sine
wave. In fact, all oscillators are essentially nonlinear circuits. This complicates the analysis and design of
oscillators: no longer can we apply transform (s-plane) methods directly. Nevertheless, engineers have
developed techniques to design sinusoidal oscillators in two steps: The first step is a linear one, using
frequency-domain methods of feedback circuit analysis; the second step provides a nonlinear mechanism for
amplitude control.
15.1.1 The Oscillator Feedback Loop
The basic structure of a sinusoidal oscillator consists of an amplifier and a frequency-selective network
connected in a positive-feedback loop, like the one shown in block diagram form in Fig. 15.1. Although no
input signal will be present in an actual oscillator circuit, we have included an input signal here to help
explain the principle of operation. It is important to note that unlike the negative-feedback loop of Fig. 11.1,
here the feedback signal xf is summed with a positive sign. Thus the gain-with-feedback is given by
where we note the negative sign in the denominator. The loop gain L(s) is given by
and the characteristic equation is
Figure 15.1 The basic structure of a sinusoidal oscillator. A positive-feedback loop is formed by an amplifier and a
frequency-selective network. In an actual oscillator circuit, no input signal will be present; here we are showing an input
signal xs to help explain the principle of operation.
15.1.2 The Oscillation Criterion

(15.4)
15.1
If at a specific frequency ω0 the loop gain Aβ is equal to unity, it follows from Eq. (15.1) that Af will be
infinite. In other words, at this frequency the circuit will have a finite output for zero input signal. Such a
circuit is by definition an oscillator. Thus the condition for the feedback loop of Fig. 15.1 to provide
sinusoidal oscillations of frequency ω0 is
That is, at ω0 the phase of the loop gain should be zero, and the magnitude of the loop gain should be unity.
This is known as the Barkhausen criterion. Note that for the circuit to oscillate at one frequency, the
oscillation criterion should be satisfied only at one frequency (i.e., ω0); otherwise the resulting waveform
will not be a simple sinusoid.
We can get a feel for the Barkhausen criterion by considering once more the feedback loop of Fig. 15.1.
For this loop to produce and sustain an output xo with no input applied (xs = 0), the feedback signal xf,
should be sufficiently large that when multiplied by A it produces xo, that is,
or
which results in
Note that the frequency of oscillation ω0 is determined solely by the phase characteristics of the feedback
loop; the loop oscillates at the frequency for which the phase is zero (or, equivalently, 360°).
An alternative approach for studying oscillator circuits is to examine the circuit poles, which are the roots
of the characteristic equation (Eq. 15.3). For the circuit to produce sustained oscillations at a frequency
ω0 the characteristic equation has to have roots at s = ± jω0. Thus 1−A(s)β(s) must have a factor of the form 
.
EXERCISE
Consider a sinusoidal oscillator formed by connecting an amplifier with a gain of 2 and a second-order
bandpass filter in a feedback loop. Find the pole frequency and the center-frequency gain of the filter
needed to produce sustained oscillations at 1 kHz.
∨Show Answer

1.
2.
3.
15.1.3 Analysis of Oscillator Circuits
For a given oscillator circuit, it takes three steps to determine the frequency of oscillation and the condition
for the oscillations to start:
Break the feedback loop to determine the loop gain A(s)β(s). This step is similar to the one we used in
Section 11.2 when we analyzed negative-feedback amplifiers.
Find the oscillation frequency ω0 as the frequency for which the phase angle of A(jω)β(jω) is zero or,
equivalently, 360°.
Find the condition for the oscillations to start from
Note that making the magnitude of the loop gain slightly greater than one ensures that oscillations will start.
Example 15.1
Figure 15.2(a) shows a sinusoidal oscillator formed by placing a second-order LCR bandpass filter [see Fig.
14.19(c)] in the feedback path of a positive-gain amplifier. Find the frequency of oscillation ω0, and the
condition for oscillations to start. Assume an ideal op amp.
Figure 15.2 (a) An oscillator formed by connecting a positive-gain amplifier in a feedback loop with a bandpass
RLC circuit.

Figure 15.2 (b) Breaking the feedback loop at the input of the op amp to determine A(s) ≡ Vo(s)/Vi(s) and β(s) ≡
Vr (s)/Vo(s), and hence the loop gain A(s)β(s).
An Alternative Analysis Approach There is a simple alternative for analyzing oscillator circuits without
having to break the feedback loop: We assume that the circuit is oscillating and thus has voltage and current
signals at the oscillation frequency ω0. Then we analyze the circuit in the usual manner and reduce the
equations to a single equation in terms of a single voltage or current variable. Since the voltage or current
quantity is not zero (because we have assumed the circuit to be oscillating), we can divide by the variable
and thus eliminate it. The equation can then be manipulated to the form
where D(s) is a polynomial in s. Substituting s = jω, we then equate the real and imaginary parts of D(jω) to
zero. One of the resulting equations yields ω0 and the other provides the condition for sustained oscillation.
We will use this method various times in the next sections. The method will be illustrated by the following
example.
Example 15.2
Use the alternative analysis method described above to find the frequency of oscillation ω0 and the condition for
sustained oscillation of the circuit in Fig. 15.2(a).
EXERCISES
∨Show Solution
∨Show Solution

15.2
15.3
For the oscillator circuit in Fig. 15.2(a), let r1 = 10 kΩ, r2 = 100 Ω, R = 10 kΩ, C = 10 nF, and L = 0.1
mH. Find the frequency of oscillation ω0. Is the condition of oscillation satisfied?
For the oscillator circuit of Fig. 15.2(a), find the percentage change in ω0 that results from (a) L
increasing by 1%, (b) C increasing by 1%, and (c) R increasing by 1%.
15.1.4 Nonlinear Amplitude Control
The oscillation condition, the Barkhausen criterion discussed in Section 15.1.2, guarantees sustained
oscillations in a mathematical sense. It is well known, however, that the parameters of any physical system
cannot be held constant for very long. Suppose we work hard to make |Aβ| = 1 at ω = ω0, and then the
temperature changes and |Aβ| becomes slightly less than unity: obviously, oscillations will cease. On the
other hand, if |Aβ| exceeds unity, oscillations will grow in amplitude. Therefore we need a way to keep |Aβ|
equal to unity at the desired value of output amplitude. We do this by providing a nonlinear circuit for gain
control.
Basically, the function of the gain-control mechanism is as follows: First, to ensure that oscillations will
start, we design the circuit so that |Aβ| is greater than unity. This corresponds to designing the circuit so that
the poles are in the right half of the s plane. Thus as the power supply is turned on, oscillations will grow in
amplitude. The increase in amplitude will be detected by the nonlinear circuit, which in turn will cause the
gain to decrease. Eventually, when the amplitude reaches the desired level, the gain-control circuit makes |
Aβ | exactly unity. In other words, the poles will be “pulled back” to the jω axis. This action will cause the
circuit to sustain oscillations at this desired amplitude. If, for some reason, the loop gain is reduced below
unity, the amplitude of the sine wave will diminish. This will be detected by the nonlinear network, which
will cause the loop gain to increase to exactly unity.
A straightforward implementation of the gain-control mechanism is obtained by using a nonlinear
element, such as a diode, in place of one of the resistors that determine the amplifier gain. Since the
resistance of the diode decreases as the amplitude of the signal across it increases, by appropriately placing
the diode we can arrange that the gain of the amplifier decreases as the amplitude of the output sinusoid
increases. An example is shown in Fig. 15.4, where two diodes are placed with opposite polarities across the
resistance R2 in the feedback path of the op amp. When the amplitude of the output signal is small, D1 and
D2 will be cut off, and the feedback resistance will be (R2 + R3). As the amplitude increases, D1 and D2 will
conduct, and their incremental resistances will shunt R2, causing the effective feedback resistance to
decrease and the amplifier gain to correspondingly decrease.
∨Show Answer
∨Show Answer

Figure 15.4 By placing two diodes in opposite directions across part of the feedback resistance, the amplifier gain vO/vI
is made to decrease as the amplitude of vO increases.
An alternative approach to implementing amplitude control in oscillators uses a limiter (see Section
4.1.3). An example is shown in Fig. 15.5. Here, we have inserted a simple diode limiter, formed by diodes
D1 and D2 together with resistor r3, in the feedback loop of the oscillator of Fig. 15.2(a). As the amplitude of
the oscillations grows, the limiter operates and provides an output vL that approximates a square wave of
frequency ω0 and an amplitude whose precise value depends on the i-v characteristic of the diode and the
value of r3. In Fig. 15.5 we assume the output levels of the limiter to be ±0.7 V. This square-wave signal is
applied to the RLC bandpass filter. Assuming the filter is sufficiently selective (i.e., having a high Q-factor),
its output across the LC tank will consist mostly of the fundamental-frequency component of the square
wave; that is, a sinusoid with frequency ω0. From the Fourier series of a square wave of amplitude V, we
know that the fundamental frequency has an amplitude of (4/π)V. Thus, for our case, the amplitude of the
sinusoid across the LC circuit will be (4 × 0.7/π) or approximately 0.9 V, and that at the amplifier output will
be [0.9(1 + r2/r1)] volts.
Figure 15.5 The oscillator circuit of Fig. 15.2 with a limiter inserted in the feedback loop for amplitude control.

15.4
The circuit in Fig. 15.5 is easy to design and adjust since the frequency ω0 is determined by the center-
frequency of the filter, the purity of the sine wave is determined by the Q factor of the filter (Q = ω0CR), and
the amplitude of the output sine wave is determined by amplifier gain (1 + r2/r1).
EXERCISE
For the oscillator circuit in Fig 15.5, find the value of (r2/r1) to obtain an output amplitude of 5 V.
∨Show Answer

(15.7)
15.2 Op Amp–RC Oscillator Circuits
In this section we study some practical oscillator circuits using op amps and RC networks. These circuits are
usually assembled on printed-circuit boards; they operate at frequencies ranging from very low to the low
megahertz.
15.2.1 The Wien-Bridge Oscillator
One of the simplest oscillator circuits is based on the Wien bridge (see the historical note on page 1077).
Figure 15.6 shows a Wien-bridge oscillator without the nonlinear gain-control network. The circuit consists
of an op amp connected in the noninverting configuration, with a closed-loop gain of 1 + R2/R1. In the
feedback path of this positive-gain amplifier, an RC network having a bandpass tranfer function is
connected. In this regard, the circuit is very similar to that in Fig. 15.2(a) except that here the bandpass filter
is implemented with an RC circuit. The loop gain can be easily obtained by multiplying the transfer function
Va(s)/Vo(s) of the feedback network by the amplifier gain,
Figure 15.6 A Wien-bridge oscillator without amplitude stabilization.
Thus,

(15.8)
(15.9)
(15.10)
Substituting s = jω results in
The loop gain will be a real number (i.e., the phase will be zero) at one frequency given by
That is,
Oscillations will start at this frequency if the loop gain is at least one, which we can achieve by selecting
To ensure that oscillations will start, we choose R2/R1 slightly greater than 2. We can easily verify that if
R2/R1 = 2+δ, where δ is a small number, the roots of the characteristic equation 1 − L(s) = 0 will be in the
right half of the s plane.
The amplitude of oscillation can be set and stabilized by using a nonlinear control network. Two different
implementations of the amplitude-controlling function are shown in Figs. 15.7 and 15.8. The circuit in Fig.
15.7 uses a symmetrical feedback limiter formed by diodes D1 and D2 together with resistors R3, R4, R5, and
R6. The limiter operates in the following manner: The positive peak of the output voltage vO will be limited
to the value that causes the voltage at node b to exceed the voltage v1 (which is about 1/3vO), by an amount
sufficient to cause diode D2 conducts. This will clamp the positive peak to a value determined by R5, R6, and
the negative power supply VSS. To be specific, the value of the positive output peak 
 can be calculated
by setting 
 and writing a node equation at node b while neglecting the
current through D2. The result is:

(15.11)
(15.12)
Figure 15.7 A Wien-bridge oscillator with a limiter used for amplitude control.
Similarly, the negative peak of the output sine wave will be clamped to the value that causes diode D1 to
conduct. The value of the negative peak 
 can be determined by setting 
and writing an equation at node a while neglecting the current through D1. The result is:
Note that in deriving Eqs. (15.11) and (15.12) we assumed VD1 = VD2 = VD and v1 = 1/3 vO. To obtain a
symmetrical output waveform, Eqs. (15.11) and (15.12) indicate that we choose R3 = R6, R4 = R5, and VSS =
VDD. A final point: Note that the sine wave v1 will have less distortion than vO. This is because v1 is equal to
THE WIEN-BRIDGE OSCILLATOR
∨

15.5
the signal at the positive input terminal of the op amp, which is a filtered version of vO. On the negative side,
the node at which v1 appears is a high-impedance node and thus is not a convenient output node.
EXERCISE
For the circuit in Fig. 15.7: (a) Disregarding the limiter circuit, find the location of the closed-loop
poles. (b) Find the frequency of oscillation. (c) With the limiter in place, find the amplitude of the
output sine wave (assume that the diode drop is 0.7 V).
The circuit of Fig. 15.8 employs the resistance-variation mechanism of amplitude control, which we
studied in the previous section (see Fig. 15.4). Potentiometer P is adjusted until oscillations just start to grow.
As the oscillations grow, the diodes start to conduct, causing the effective resistance between a and b to
decrease. Equilibrium will be reached at the output amplitude that causes the loop gain to be exactly one.
The output amplitude can be varied by adjusting potentiometer P.
Figure 15.8 A Wien-bridge oscillator with an alternative method for amplitude stabilization.
As indicated in Fig. 15.8, the output is taken at point b rather than at the op-amp output terminal because
the signal at b has lower distortion than that at a. To appreciate this point, note that the voltage at b is
proportional to the voltage at the op-amp input terminals and that the latter is a filtered (by the RC network)
∨Show Answer

15.6
version of the voltage at node a. Node b, however, is a high-impedance node, and a buffer will be needed if a
load is to be connected.
EXERCISE
For the circuit in Fig. 15.8, find: (a) the setting of potentiometer P at which oscillations just start; (b)
the frequency of oscillation.
15.2.2 The Phase-Shift Oscillator
The basic structure of the phase-shift oscillator is shown in Fig. 15.9. It consists of a negative-gain amplifier
(–K) with a three-section (third-order) RC ladder network in the feedback. The circuit will oscillate at the
frequency for which the phase shift of the RC network is 180°. Only at this frequency will the total phase
shift around the loop be 0° or 360°. Here we should note that the reason for using a three-section RC
network is that three is the minimum number of sections (i.e., lowest order) that is capable of producing a
180° phase shift at a finite frequency.
Figure 15.9 A phase-shift oscillator.
For oscillations to be sustained, the value of K should be equal to the inverse of the magnitude of the RC
network transfer function at the frequency of oscillation. However, to ensure that oscillations start, the value
of K has to be chosen slightly higher than the value that satisfies the unity-loop-gain condition. Oscillations
will then grow in magnitude until limited by some nonlinear control mechanism.
Figure 15.10 shows a practical phase-shift oscillator with a feedback limiter, consisting of diodes D1 and
D2 and resistors R1, R2, R3, and R4 for amplitude stabilization. To start oscillations, Rf has to be made
slightly greater than the minimum required value. Although the circuit stabilizes more rapidly and provides
sine waves with more stable amplitude if Rf is made much larger than this minimum, the price paid is an
increased output distortion.
∨Show Answer

15.7
15.8
Figure 15.10 A practical phase-shift oscillator with a limiter for amplitude stabilization.
EXERCISES
Consider the circuit of Fig. 15.10 without the limiter. Break the feedback loop at X and find the loop
gain Aβ ≡ Vo( j ω)/Vx( j ω) in symbolic form (i.e., do not substitute the numerical values given). To do
this, it is easier to start at the output and work backward, finding the various currents and voltages, and
eventually Vx in terms of Vo.
Use the expression derived in Exercise 15.7 to find the frequency of oscillation f0 and the minimum
required value of Rf for oscillations to start in the circuit of Fig. 15.10.
∨Show Answer
∨Show Answer

15.2.3 The Quadrature Oscillator
The quadrature oscillator is based on the two-integrator loop studied in Section 14.6. As an active filter,
the loop is damped to locate the poles in the left half of the s plane. Here, we will not use damping, since we
want to locate the poles on the jω axis to provide sustained oscillations. In fact, to ensure that oscillations
start, the poles are initially located in the right half-plane and then “pulled back” by the nonlinear gain
control.
Figure 15.11(a) shows a practical quadrature oscillator. Amplifier 1 is connected as an inverting Miller
integrator with a limiter in the feedback for amplitude control. Amplifier 2 is connected as a noninverting
integrator [thus replacing the cascade connection of the Miller integrator and the inverter in the two-
integrator loop of Fig. 14.25(b)]. To understand the operation of this noninverting integrator, consider the
equivalent circuit shown in Fig. 15.11(b). Here, we have replaced the integrator input voltage vO1 and the
series resistance 2R by the Norton equivalent composed of a current source vO1/2R and a parallel resistance
2R. Now, since vO2 = 2v, where v is the voltage at the input of op amp 2, the current through Rf will be
(2v−v)/Rf = v/Rf in the direction from output to input. Thus Rf gives rise to a negative input resistance, –Rf, as
indicated in the equivalent circuit of Fig. 15.11(b). Nominally, Rf is made equal to 2R, and thus –Rf cancels
2R, and at the input we are left with a current source vO1/2R feeding a capacitor C. The result is that 
 and 
 . That is, for Rf = 2R, the circuit functions as a perfect
noninverting integrator. If, however, Rf is made smaller than 2R, a net negative resistance appears in parallel
with C.

(15.13)
(15.14)
Figure 15.11 (a) A quadrature-oscillator circuit. (b) Equivalent circuit at the input of op amp 2.
Returning to the oscillator circuit in Fig. 15.11(a), we note that the resistance Rf in the positive-feedback
path of op amp 2 is made variable, with a nominal value of 2R. Decreasing the value of Rf moves the poles to
the right half-plane (Problem 15.24) and ensures that the oscillations start. Too much positive feedback,
although it results in better amplitude stability, also results in higher output distortion (because the limiter
has to operate “harder”). In this regard, note that the output vO2 will be “purer” than vO1 because of the
filtering action provided by the second integrator on the peak-limited output of the first integrator.
If we disregard the limiter and break the loop at X, we can find the loop gain as
Thus the loop will oscillate at frequency ω0, given by

Finally, note that the name quadrature oscillator is used because the circuit provides two sinusoids with
90° phase difference. This is because vO2 is the integral of vO1. There are many applications requiring
quadrature sinusoids.
15.2.4 The Active-Filter-Tuned Oscillator
The last oscillator circuit that we will discuss is quite simple both in principle and in design. Nevertheless,
the approach is general and versatile and can result in high-quality (i.e., low-distortion) output sine waves.
The basic principle is illustrated in Fig. 15.12. The circuit consists of a high-Q bandpass filter connected in a
positive-feedback loop with a hard limiter. To understand how this circuit works, assume that oscillations
have already started. The output of the bandpass filter will be a sine wave whose frequency is equal to the
center frequency of the filter, f0. The sine-wave signal v1 is fed to the limiter, which produces at its output a
square wave whose levels are determined by the limiting levels and whose frequency is f0. The square wave
in turn is fed to the bandpass filter, which filters out the harmonics and provides a sinusoidal output v1 at the
fundamental frequency f0. Obviously, the purity of the output sine wave will be a direct function of the
selectivity (or Q factor) of the bandpass filter.
Figure 15.12 Block diagram of the active-filter-tuned oscillator.
The simplicity of this approach to oscillator design should be apparent. We have independent control of
frequency and amplitude as well as of distortion of the output sinusoid. Any filter circuit with positive gain
can be used to implement the bandpass filter. The frequency stability of the oscillator will be directly
determined by the frequency stability of the bandpass-filter circuit. Also, a variety of limiter circuits (see
Section 4.1.3) with different degrees of sophistication can be used to implement the limiter block.
Figure 15.13 shows one possible implementation of the active-filter-tuned oscillator. This circuit uses a
variation on the bandpass circuit based on the Antoniou inductance-simulation circuit [see Fig. 14.22(b)].
Here resistor R2 and capacitor C4 are interchanged. This makes the output of the lower op amp directly
proportional to (in fact, twice as large as) the voltage across the resonator, and we can therefore dispense

15.9
with the buffer amplifier K. The limiter used is a very simple one consisting of a resistance R1 and two
diodes.
Figure 15.13 A practical implementation of the active-filter-tuned oscillator.
EXERCISE
Using C = 16 nF, find the value of R required for the circuit in Fig. 15.13 to produce 1-kHz sine waves.
If the diode drop is 0.7 V, find the peak-to-peak amplitude of the output sine wave. (Hint: A square
wave with peak-to-peak amplitude of V volts has a fundamental component with 4V/π volts peak-to-
peak amplitude.)
15.2.5 A Final Remark
The op amp–RC oscillator circuits we have studied are useful when operating in the range 10 Hz to 1 MHz
or so. While the lower frequency limit is dictated by the size of passive components required, the upper limit
is governed by the frequency-response and slew-rate limitations of op amps. For higher frequencies, it is
common to use circuits employing transistors together with LC-tuned circuits or crystals.1 These are
discussed in Section 15.3.
∨Show Answer

(15.15)
15.3 LC and Crystal Oscillators
Oscillators employing transistors (FETs or BJTs), with LC circuits or crystals as the frequency-selective
feedback elements, are used in the frequency range of 100 kHz to hundreds of gigahertz. They exhibit higher
Q than the RC types. However, LC oscillators are difficult to tune over wide ranges, and crystal oscillators
operate at a single frequency.
15.3.1 The Colpitts and Hartely Oscillators
Figure 15.14 shows two commonly used configurations of LC oscillators. They are known as the Colpitts
oscillator and the Hartley oscillator. Both utilize a parallel LC circuit connected between the drain and the
gate of a MOSFET, with a fraction of the tuned-circuit voltage applied between the gate and the source. This
feedback is achieved by way of a capacitive divider in the Colpitts oscillator and by way of an inductive
divider in the Hartley circuit. Observe that in both circuits the voltage Vsg gives rise to a current I in the
direction shown, which in turn results in a positive voltage across the LC circuit and thus in a positive Vsg.
Thus, we do have a positive-feedback loop.
Figure 15.14 Two commonly used configurations of LC-tuned oscillators: (a) Colpitts and (b) Hartley.
If the frequency of operation is sufficiently low that we can neglect the transistor capacitances, the
frequency of oscillation will be determined by the resonance frequency of the parallel-tuned circuit (also
known as a tank circuit because it behaves as a reservoir for energy storage). Thus for the Colpitts oscillator
we have
and for the Hartley oscillator we have

(15.16)
(15.17)
(15.18)
(15.19)
(15.20)
(15.21)
(15.22)
The ratio L1/L2 or C1/C2 determines the feedback factor and thus must be adjusted in conjunction with the
transistor gain to ensure that oscillations will start. Specifically, the output voltage of the MOSFET, Vds, is
related to the input voltage Vsg by
where A, the voltage gain of the MOSFET, is given by
where R is the total effective resistance between drain and source. Resistance R includes ro of the MOSFET
as well as a resistance that represents the inductor loss (i.e., represents the fact the LC circuit has a finite Q
factor).
Now, at ω = ω0, the LC circuit has infinite impedance, which makes the current I = 0. Thus, the voltage
Vds across C1 (in the Colpitts oscillator) gives rise to a current sC1Vds that flows through the series
combination of C1 and C2. This current in turn gives rise to a voltage Vsg across C2 given by
Thus, the feedback factor is given by
and using Eqs. (15.17) and (15.18), the loop gain is found as
For oscillations to start, we make
or equivalently

(15.23)
(15.24)
(15.25)
As oscillations grow in amplitude, the transistor’s nonlinear characteristics reduce the effective value of gm
and, correspondingly, reduce the loop gain to unity, thus
which is the condition for sustained oscillations.
Figure 15.15 (a) A Colpitts oscillator in which the source is grounded and the output is taken at the drain.
Figure 15.15 (b) Equivalent circuit of the Colpitts oscillator of (a). To simplify the analysis, 
gd is neglected. We can
consider Cgs to be part of C2, and we can include ro in R.
The condition of oscillation for the Hartley oscillator in Fig. 15.14(b) can be similarly derived with the
result that
for oscillations to start and
for sustained oscillations.

(15.26)
(15.27)
(15.28)
(15.29)
Depending on where the output voltage of the oscillator is to be taken, the appropriate terminal of the
transistor can be connected to ground. In this regard, note that any of the three terminals can be grounded
without changing the nature of the feedback loop. As an example, we show in Fig. 15.15(a) the Colpitts
oscillator with the emitter connected to ground and the output taken at the collector. Although the bias
arrangement is not shown, we have included a resistance R that models the combination of the output
resistance of the transistor (ro), the inductor loss, and the input resistance of the circuit to which the oscillator
output is connected. Other circuit configurations with complete bias detail are explored in the end-of-chapter
problems.
As an alternative to the analysis above, we can determine the conditions of oscillation of the Colpitts
oscillator in Fig. 15.15(a) as follows: We replace the transistor with its equivalent circuit, as shown in Fig.
15.15(b). To simplify the analysis, we have neglected the transistor capacitance Cgd. Capacitance Cgs,
although not shown, can be considered to be a part of C2.
Assuming oscillations already exist, we analyze the circuit as shown in Fig. 15.15(b). A node equation at
the transistor drain (node D) yields
Since Vgs ≠ 0 (oscillations have started), it can be eliminated, and the equation can be rearranged in the form
Substituting s = jω gives
For oscillations to start, both the real and imaginary parts must be zero. Equating the imaginary part to zero
gives the frequency of oscillation as
which is the resonance frequency of the tank circuit, as anticipated. Equating the real part to zero and using
Eq. (15.28) gives
which is the condition for sustained oscillations.
We conclude with a few words on the mechanism that determines the amplitude of oscillations in the LC
oscillators discussed above. Unlike the op-amp oscillators that incorporate special amplitude-control

15.10
D15.11
circuitry, LC oscillators utilize the nonlinear iD−vGS characteristics of the MOSFET for amplitude control.
Thus these LC oscillators are known as self-limiting oscillators. Specifically, as the oscillations grow in
amplitude, the effective gain of the transistor is reduced below its small-signal value. Eventually, they reach
an amplitude at which the effective gain is reduced to the point that the Barkhausen criterion is satisfied
exactly. The amplitude then remains constant at this value.
Reliance on the nonlinear characteristics of the MOSFET implies that the drain current waveform will be
nonlinearly distorted. Nevertheless, the output voltage signal will still be a sinusoid of high purity because of
the filtering action of the LC circuit.
EXERCISES
For the Colpitts oscillator in Fig 15.14(a), show that the admittance Y of the tuned circuit seen by the
transistor between the drain and the source is zero at ω = ω0. (This is the reason the current I = 0.)
Using a MOSFET biased to operate at gm = 5 mA/V, design a Colpitts oscillator to operate at ω0 = 106
rad/s. Use C1 = 0.01 µF and assume that the coil available has a Q of 100 (this can be represented by a
resistance in parallel with C1 given by Q/ω0C1). Also assume that there is a load resistance at the
collector of 100 kΩ and that for the MOSFET, ro = 100 kΩ. Find C2 and L.
15.3.2 The Cross-Coupled LC Oscillator
Figure 15.16(a) shows a popular LC oscillator circuit suitable for fabrication in IC form and capable of
operating at frequencies approaching hundreds of gigahertz (for use in wireless transceivers). It consists of a
pair of MOSFETs connected in the differential amplifier configuration, each with a parallel LC-tuned circuit
load, and with the drain of each connected to the gate of the other. The latter connection gives rise to the
“cross-coupled” part of the name.
∨Show Answer
OSCILLATOR PIONEERS
∨

(15.30)
Figure 15.16 (a) The cross-coupled LC oscillator.
Figure 15.16 (b) Signal equivalent circuit of the cross-coupled oscillator in (a).
To see how the cross-coupled LC oscillator works, first note that, as in a differential amplifier, from a
signal point of view each of Q1 and Q2 operates in the grounded-source configuration. Next, observe that if
we think of Q1 and Q2 together with their loads as common-source amplifiers, we see that the cross coupling
simply means that the output of each amplifier drives the input of the other, resulting in the feedback loop
shown in Fig. 15.16(b). Here we have eliminated all dc bias sources to concentrate on the signal operation of
the circuit.
Examination of the feedback loop in Fig. 15.16(b) reveals that at the resonance frequency of each of the
two tank circuits (i.e., at 
), the load of each of Q1 and Q2 reduces to a resistance Rp =
ω0LQ, where Q is the quality factor of the inductance. Taking into consideration the output resistance ro of
each of Q1 and Q2, we can write for the gain of each of the two stages at ω = ω0,
Thus each stage exhibits a 180° phase shift, for a total phase shift around the loop of 360°. It follows that the
circuit will provide sustained oscillations at

(15.31)
D15.12
provided
which reduces to
The condition in Eq. (15.31) can be used to determine the minimum required value of gm at which each
of Q1 and Q2 is operated for oscillations to be sustained. As usual, to ensure that oscillations start, a
somewhat higher value of gm is used. Amplitude stabilization is provided by the nonlinear MOSFET
characteristics.
For applications at very high frequency, the inductor is fabricated on chip by depositing a thin metal film
in a spiral shape. Such IC inductors have small values (in the nanohenry range) and, unfortunately, small Q
factors as well.
EXERCISE
Design the cross-coupled oscillator to operate at ω0 = 10 Grad/s. The IC inductors available have L =
10 nH and Q = 10. If the transistor ro = 10 kΩ, find the required value of C and the minimum required
value of gm at which Q1 and Q2 are to be operated.
15.3.3 Crystal Oscillators
A piezoelectric crystal, such as quartz, exhibits electromechanical-resonance characteristics that are very
stable (with time and temperature) and highly selective (having very high Q factors). The circuit symbol of a
crystal is shown in Fig. 15.17(a), and its equivalent-circuit model is given in Fig. 15.17(b). The resonance
properties are characterized by a large inductance L (as high as hundreds of henrys), a very small series
capacitance Cs (as small as 0.0005 pF), a series resistance r representing a Q factor ω0L/r that can be as high
as a few hundred thousand, and a parallel capacitance Cp (a few picofarads). Capacitor Cp represents the
electrostatic capacitance between the two parallel plates of the crystal. Note that Cp ≫ Cs.
∨Show Answer

(15.32)
(15.33)
(15.34)
Figure 15.17 A piezoelectric crystal. (a) Circuit symbol. (b) Equivalent circuit. (c) Crystal reactance versus frequency
[note that, neglecting the small resistance r, Zcrystal = jX(ω)].
Since the Q factor is very high, we can neglect the resistance r and express the crystal impedance as
which can be manipulated to the form
From Eq. (15.32) and from Fig. 15.17(b), we see that the crystal has two resonance frequencies: a series
resonance at ωs
and a parallel resonance at ωp

(15.35)
(15.36)
Thus for s = jω we can write
From Eqs. (15.33) and (15.34) we note that ωp > ωs. However, since Cp ≫ Cs, the two resonance
frequencies are very close. Expressing Z(jω) = jX(ω), the crystal reactance X(ω) will have the shape shown
in Fig. 15.17(c). We observe that the crystal reactance is inductive over the very narrow frequency band
between ωs and ωp. For a given crystal, this frequency band is well defined. This means that we can use the
crystal to replace the inductor of the Colpitts oscillator [Fig. 15.14(a)]. The resulting circuit will oscillate at
the resonance frequency of the crystal inductance L with the series equivalent of Cs and (Cp + C1C2/(C1 +
C2)). Since Cs is much smaller than the three other capacitances, it will be dominant and
In addition to the basic Colpitts oscillator, there are various configurations for crystal oscillators. Figure
15.18 shows a popular configuration (called the Pierce oscillator) using a CMOS inverter (see Section 16.3)
as an amplifier. Resistor Rf determines a dc operating point in the high-gain region of the VTC of the CMOS
inverter. Resistor R1 together with capacitor C1 provides a low-pass filter that discourages the circuit from
oscillating at a higher harmonic of the crystal frequency. Note that this circuit also is based on the Colpitts
configuration.
Figure 15.18 A Pierce crystal oscillator using a CMOS inverter as an amplifier.

15.13
The extremely stable resonance characteristics and the very high Q factors of quartz crystals result in
oscillators with very accurate and stable frequencies. Crystals are available with resonance frequencies in the
range of a few kilohertz to hundreds of megahertz. Temperature coefficients of ω0 of 1 or 2 parts per million
(ppm) per degree Celsius are achievable. Unfortunately, however, crystal oscillators, being mechanical
resonators, are fixed-frequency circuits.
EXERCISE
A 2-MHz quartz crystal is specified to have L = 0.52 H, Cs = 0.012 pF, Cp = 4 pF, and r = 120 Ω. Find
fs, fp, and Q.
∨Show Answer

15.4 Nonlinear Oscillators or Function Generators
The oscillators we have studied so far generate sine waves by connecting a frequency-selective network (a
filter) in the feedback path of a positive gain amplifier. Although a nonlinear circuit is used for amplitude
control, the conditions of oscillation are determined using linear circuit analysis, and these oscillators are
correspondingly known as linear oscillators. By contrast, the oscillator circuits we will study in this section
use nonlinear circuits to generate square and triangular waveforms. The basic building block of these
nonlinear oscillators is the bistable multivibrator, which we will study first.
As its name indicates, the bistable multivibrator has two stable states. The circuit can remain in either
stable state indefinitely and moves to the other stable state only when appropriately triggered.
15.4.1 The Bistable Feedback Loop
Bistability can be obtained by connecting a dc amplifier in a positive-feedback loop with a loop gain greater
than one. Such a feedback loop is shown in Fig. 15.19; it consists of an op amp and a resistive voltage
divider in the positive-feedback path. To see how bistability is obtained, consider operation with the positive
input terminal of the op amp near ground potential. This is a reasonable starting point since the circuit has no
external excitation. Assume that the electrical noise that is inevitably present in every electronic circuit
causes a small positive increment in the voltage v+. This incremental signal will be amplified by the large
open-loop gain A of the op amp, with the result that a much greater positive increment will appear in the op
amp’s output, vO. The voltage divider (R1, R2) will feed a fraction β ≡R1/(R1 + R2) of the output signal back
to the positive input terminal of the op amp. If Aβ is greater than unity, as is usually the case, the fed-back
signal will be greater than the original increment in v+. This regenerative process continues until eventually
the op amp saturates with its output voltage at the positive saturation level, L+. When this happens, the
voltage at the positive input terminal, v+, becomes L+R1/(R1 + R2), which is positive and thus keeps the op
amp in positive saturation. This is one of the two stable states of the circuit.
Figure 15.19 A positive-feedback loop capable of bistable operation.
In the description above we assumed that when v+ was near zero volts, a positive increment occurred in
v+. Had we assumed the equally probable situation of a negative increment, the op amp would have ended up
saturated in the negative direction with vO = L− and v+ = L−R1/(R1 + R2). This is the other stable state.

We thus conclude that the circuit of Fig. 15.19 has two stable states, one with the op amp in positive
saturation and the other with the op amp in negative saturation. The circuit can exist in either of these two
states indefinitely. We also note that the circuit cannot exist in the state for which v+ = 0 and vO = 0 for any
length of time. This is a state of unstable equilibrium (also known as a metastable state); any disturbance,
such as that caused by electrical noise, causes the bistable circuit to switch to one of its two stable states.
This is in sharp contrast to the case when the feedback is negative, causing a virtual short circuit to appear
between the op amp’s input terminals and maintaining this virtual short circuit in the face of disturbances. A
physical analogy for the operation of the bistable circuit is depicted in Fig. 15.20.
Figure 15.20 A physical analogy for the operation of the bistable circuit. The ball cannot remain at the top of the hill for
any length of time (a state of unstable equilibrium or metastability); the inevitably present disturbance will cause the ball
to fall to one side or the other, where it can remain indefinitely (the two stable states).
15.4.2 Transfer Characteristic of the Bistable Circuit
You may be wondering how we can make the bistable circuit of Fig. 15.19 change state. Deriving the
transfer characteristic of the bistable circuit will help to answer this question. Figure 15.19 shows that there
are two nodes connected to ground. Either of these nodes can serve as an input terminal. Let us investigate
both possibiliies.
Figure 15.21(a) shows the bistable circuit with a voltage vI applied to the inverting input terminal of the
op amp. To derive the transfer characteristic vO–vI, assume that vO is at one of its two possible levels, say L+,
and thus v+ = βL+. Now as vI is increased from 0 V, we can see from the circuit that nothing happens until vI
reaches a value equal to v+ (i.e., βL+). As vI begins to exceed this value, a net negative voltage develops
between the input terminals of the op amp. This voltage is amplified by the open-loop gain of the op amp,
and thus vO goes negative. The voltage divider in turn causes v+ to go negative, thus increasing the net
negative input to the op amp and keeping the regenerative process going. This process culminates in the op
amp saturating in the negative direction: that is, with vO = L− and, correspondingly, v+ = βL−. It is easy to see
that increasing vI further has no effect on the acquired state of the bistable circuit. Figure 15.21(b) shows the
transfer characteristic for increasing vI. Notice that the characteristic is that of a comparator with a threshold
voltage denoted VTH, where VTH = βL+.

Figure 15.21 (a) The bistable circuit of Fig. 15.19 with the negative input terminal of the op amp disconnected from
ground and connected to an input signal vI.
Figure 15.21 (b) The transfer characteristic of the circuit in (a) for increasing vI.

Figure 15.21 (c) The transfer characteristic for decreasing vI.
Figure 15.21 (d) The complete transfer characteristics.
Now consider what happens as vI is decreased. Since now v+ = βL−, we see that the circuit remains in the
negative-saturation state until vI goes negative to the point that it equals βL−. As vI goes below this value, a
net positive voltage appears between the op amp’s input terminals. This voltage is amplified by the op-amp
gain and thus gives rise to a positive voltage at the op amp’s output. The regenerative action of the positive-
feedback loop then sets in and causes the circuit eventually to go to its positive saturation state, in which vO
= L+ and v+ = βL+. The transfer characteristic for decreasing vI is shown in Fig. 15.21(c). Here again we
observe that the characteristic is that of a comparator, but with a threshold voltage VTL = βL−.
The complete transfer characteristics, vO−vI, of the circuit in Fig. 15.21(a) can be obtained by combining
the characteristics in Fig. 15.21(b) and (c), as shown in Fig. 15.21(d). As indicated, the circuit changes state
at different values of vI, depending on whether vI is increasing or decreasing. Thus the circuit is said to

(15.37)
exhibit hysteresis; the width of the hysteresis is the difference between the high threshold VTH and the low
threshold VTL. Also note that the bistable circuit is in effect a comparator with hysteresis. Finally, notice that
because the bistable circuit of Fig. 15.21 switches from the positive state (vO = L+) to the negative state (vO
= L−) as vI is increased past the positive threshold VTH, the circuit is said to be inverting. A bistable circuit
with a noninverting transfer characteristic will be presented shortly.
15.4.3 Triggering the Bistable Circuit
Returning now to the question of how to make the bistable circuit change state, we observe from the transfer
characteristics of Fig. 15.21(d) that if the circuit is in the L+ state it can be switched to the L− state by
applying an input vI of value greater than VTH ≡ βL+. Such an input causes a net negative voltage to appear
between the input terminals of the op amp, which initiates the regenerative cycle that culminates in the
circuit switching to the L− stable state. Here it is important to note that the input vI merely initiates or
triggers regeneration. Thus we can remove vI after regeneration has started with no effect on the completion
of the regeneration process. In other words, vI can be simply a pulse of short duration. The input signal vI is
thus referred to as a trigger signal, or simply a trigger.
The characteristics of Fig. 15.21(d) also indicate that the bistable circuit can be switched to the positive
state (vO = L+) by applying a negative trigger signal vI of magnitude greater than that of the negative
threshold VTL.
15.4.4 The Bistable Circuit as a Memory Element
We can see from Fig. 15.21(d) that for input voltages in the range VTL < vI < VTH, the output can be either
L+ or L−, depending on the state that the circuit is already in. So, for this input range, the output is
determined by the previous value of the trigger signal (the trigger signal that caused the circuit to be in its
current state). Thus the circuit exhibits memory. Indeed, the bistable multivibrator is the basic memory
element of digital systems,2 as we will see in Chapter 18. Finally, note that in analog-circuit applications,
such as the ones of concern to us in this chapter, the bistable circuit is also known as a Schmitt trigger.
15.4.5 A Bistable Circuit with Noninverting Transfer Characteristic
The basic bistable feedback loop of Fig. 15.19 can be used to derive a circuit with noninverting transfer
characteristic by applying the input signal vI (the trigger signal) to the terminal of R1 that is connected to
ground. The resulting circuit is shown in Fig. 15.22(a). To obtain the transfer characteristic, we first apply
superposition to the linear circuit formed by R1 and R2, thus expressing v+ in terms of vI and vO as
From this equation we see that if the circuit is in the positive stable state with vO = L+, positive values for vI
will have no effect. To trigger the circuit into the L− state, vI must be made negative and of such a value as to

(15.38)
(15.39)
make v+ decrease below zero. Thus the low-threshold VTL can be found by substituting in Eq. (15.37) vO =
L+, v+ = 0, and vI = VTL. The result is
Similarly, Eq. (15.37) indicates that when the circuit is in the negative-output state (vO = L−), negative values
of vI will make v+ more negative with no effect on operation. To initiate the regeneration process that causes
the circuit to switch to the positive state, v+ must be made to go slightly positive. The value of vI that causes
this to happen is the high-threshold voltage VTH, which can be found by substituting in Eq. (15.37) vO = L−
and v+ = 0. The result is
The complete transfer characteristic of the circuit of Fig. 15.22(a) is displayed in Fig. 15.22(b). Observe that
a positive triggering signal vI (of value greater than VTH) causes the circuit to switch to the positive state (vO
goes from L− to L+). Thus the transfer characteristic of this circuit is noninverting.
Figure 15.22 (a) A bistable circuit derived from the positive-feedback loop of Fig. 15.19 by applying vI through R1.

D15.14
D15.15
15.16
Figure 15.22 (b) The transfer characteristic of the circuit in (a) is noninverting. [Compare it to the inverting
characteristic in Fig. 15.21(d).]
EXERCISES
The op amp in the bistable circuit of Fig. 15.21(a) has output saturation voltages of ±13 V. Design the
circuit to obtain threshold voltages of ±5 V. For R1 = 10 kΩ, find the value required for R2.
If the op amp in the circuit of Fig. 15.22(a) has ±10-V output saturation levels, design the circuit to
obtain ±5-V thresholds. Give suitable component values.
Consider a bistable circuit with a noninverting transfer characteristic and let L+ = −L− = 10 V and VTH
= −VTL = 5 V. If vI is a triangular wave with a 0-V average, a 10-V peak amplitude, and a 1-ms period,
sketch the waveform of vO. Find the time interval between the zero crossings of vI and vO.
15.4.6 Generating Square Waveforms Using a Bistable Circuit
We can generate a square waveform by arranging for a bistable circuit to switch states periodically. This can
be done by connecting the bistable with an RC circuit in a feedback loop, as shown in Fig. 15.23(a). Notice
that the bistable has an inverting transfer characteristic and can thus be realized using the circuit of Fig.
15.21(a). This results in the circuit of Fig. 15.23(b). We will show shortly that this circuit has no stable states
and thus is appropriately named an astable multivibrator.
∨Show Answer
∨Show Answer
∨Show Answer

Figure 15.23 (a) Connecting a bistable multivibrator with inverting transfer characteristics in a feedback loop with an
RC circuit results in a square-wave generator.
Figure 15.23 (b) The circuit obtained when the bistable is implemented with the circuit of Fig. 15.21(a).

Figure 15.23 (c) Waveforms at various nodes of the circuit in (b). This circuit is called an astable multivibrator.
At this point we wish to remind you of an important relationship, which we will use several times in the
following discussion: A capacitor C that is charging or discharging through a resistance R toward a final
voltage V∞ has a voltage v(t),

(15.40)
(15.41)
(15.42)
where V0+ is the voltage at t = 0+ and τ = CR is the time constant.
To see how the circuit in Fig. 15.23(b) operates, let the output of the bistable multivibrator be at one of
its two possible levels, say L+. Capacitor C will charge toward this level through resistor R. Thus the voltage
across C, which is applied to the negative input terminal of the op amp and thus is denoted v−, will rise
exponentially toward L+ with a time constant τ = CR. Meanwhile, the voltage at the positive input terminal
of the op amp is v+ = βL+ (where β = R1/R1 + R2)). This situation will continue until the capacitor voltage
reaches the positive threshold VTH = βL+, at which point the bistable multivibrator will switch to the other
stable state, in which vO = L− and v+ = βL−. The capacitor will then start discharging, and its voltage, v−, will
decrease exponentially toward L−. This new state will prevail until v− reaches the negative threshold VTL =
βL−, at which time the bistable multivibrator switches to the positive-output state, the capacitor begins to
charge, and the cycle repeats itself.
From the preceding description we see that the astable circuit oscillates and produces a square waveform
at the output of the op amp. This waveform, and the waveforms at the two input terminals of the op amp, are
displayed in Fig. 15.23(c). The period T of the square wave can be found as follows: During the charging
interval T1 the voltage v− across the capacitor at any time t, with t = 0 at the beginning of T1, is given by
where τ = CR. Substituting v− = βL+ at t = T1 gives
Similarly, during the discharge interval T2 the voltage v− at any time t, with t = 0 at the beginning of T2, is
given by
Substituting v− = βL− at t = T2 gives
Equations (15.40) and (15.41) can be combined to obtain the period T = T1 + T2. Normally, L+ = −L−,
resulting in a symmetrical square wave of period T given by
This square-wave generator can be made to have variable frequency by switching different capacitors C
(usually in decades) and continuously adjusting R (to obtain continuous frequency control within each

15.17
15.18
decade of frequency). Also, the waveform across C can be made almost triangular by using a small value for
the parameter β. However, triangular waveforms of superior linearity can be easily generated using the
scheme discussed next.
Before leaving this section, note that although the astable circuit has no stable states, it has two quasi-
stable states and remains in each for a time interval determined by the time constant of the RC network and
the thresholds of the bistable multivibrator.
EXERCISES
For the circuit in Fig. 15.23(b), let the op-amp saturation voltages be ±10 V, R1 = 100 kΩ, R2 = R = 1
MΩ, and C = 0.01 µF. Find the frequency of oscillation.
Consider a modification of the circuit of Fig. 15.23(b) in which R1 is replaced by a pair of diodes
connected in parallel in opposite directions. For L+ = −L− = 12 V, R2 = R = 10 kΩ, C = 0.1 µF, and the
diode voltage as a constant denoted VD, find an expression for frequency as a function of VD. If VD =
0.70 V at 25°C with a TC of –2 mV/°C, find the frequency at 0°C, 25°C, 50°C, and 100°C. Note that
the output of this circuit can be sent to a remotely connected frequency meter to provide a digital
readout of temperature.
15.4.7 Generating Triangular Waveforms
The exponential waveforms generated in the astable circuit of Fig. 15.23 can be changed to triangular by
replacing the low-pass RC circuit with an integrator. (The integrator is, after all, a low-pass circuit with a
corner frequency at dc.) The integrator causes linear charging and discharging of the capacitor, thus
providing a triangular waveform. The resulting circuit is shown in Fig. 15.24(a). Observe that because the
integrator is inverting, it is necessary to invert the characteristics of the bistable circuit. Thus the bistable
circuit required here is of the noninverting type and can be implemented using the circuit of Fig. 15.22(a).
'
∨Show Answer
∨Show Answer

Figure 15.24 A general scheme for generating triangular and square waveforms. The circuit in Fig. 15.22(a) can be used
to implement the non-inverting bistable.
We now proceed to show how the feedback loop of Fig. 15.24(a) oscillates and generates a triangular
waveform v1 at the output of the integrator and a square waveform v2 at the output of the bistable circuit: Let
the output of the bistable circuit be at L+. A current equal to L+/R will flow into the resistor R and through
capacitor C, causing the output of the integrator to linearly decrease with a slope of −L+/CR, as shown in
Fig. 15.24(c). This will continue until the integrator output reaches the lower threshold VTL of the bistable
circuit, at which point the bistable circuit will switch states, its output becoming negative and equal to L−. At
this moment the current through R and C will reverse direction, and its value will become equal to 
.
It follows that the integrator output will start to increase linearly with a positive slope equal to |L−|/CR. This
will continue until the integrator output voltage reaches the positive threshold of the bistable circuit, VTH. At
this point the bistable circuit switches, its output becomes positive (L+), the current into the integrator
reverses direction, and the output of the integrator starts to decrease linearly, beginning a new cycle.
From the discussion above, it is relatively easy to derive an expression for the period T of the square and
triangular waveforms. During the interval T1 we have, from Fig. 15.24(c),

(15.43)
(15.44)
D15.19
from which we obtain
Similarly, during T2 we have
from which we obtain
Thus to obtain symmetrical square waves [Fig. 15.24(b)] and symmetrical triangular waves [Fig. 15.24(c)],
we design the bistable circuit to have L+ = −L−.
EXERCISE
Consider the circuit of Fig. 15.24(a) with the bistable circuit realized with the circuit in Fig. 15.22(a). If
the op amps have saturation voltages of ±10 V, and if a capacitor C = 0.01 µF and a resistor R1 = 10 kΩ
are used, find the values of R and R2 (note that R1 and R2 are associated with the bistable circuit of Fig.
15.22a) such that the frequency of oscillation is 1 kHz and the triangular waveform has a 10-V peak-to-
peak amplitude.
15.4.8 Generation of Sine Waves
In a function generator, sine waveforms can be obtained by feeding triangular waves to a “sine-wave
shaper.” The latter is a circuit composed of diodes or transistors and resistors. We will not discuss sine-wave
shapers here; for more information, please refer to the companion website: www.oup.com/he/sedra-smith8e.
∨Show Answer

■
■
■
■
■
■
■
■
Summary
There are two distinctly different types of signal generator: the linear oscillator, which utilizes some form
of resonance, and the nonlinear oscillator or function generator, which employs a switching mechanism
implemented with a multivibrator circuit.
A linear oscillator can be realized by placing a frequency-selective network (that is, a filter) in the
feedback path of an amplifier (an op amp or a transistor). The circuit will oscillate at the frequency at
which the total phase shift around the loop is zero or 360°, provided the magnitude of loop gain at this
frequency is equal to, or greater than, unity.
If in an oscillator the magnitude of loop gain is greater than unity, the amplitude will increase until a
nonlinear amplitude-control mechanism is activated.
The Wien-bridge oscillator, the phase-shift oscillator, the quadrature oscillator, and the active-filter-tuned
oscillator are popular configurations for generating sine waves with frequencies up to about 1 MHz.
These circuits employ RC networks together with op amps or transistors. For higher frequencies, LC-
tuned or crystal-tuned oscillators are utilized. Popular configurations include the Colpitts circuit for
discrete-circuit implementation and the cross-coupled circuit for IC implementation at frequencies as
high as hundreds of gigahertz.
Crystal oscillators provide the highest possible frequency accuracy and stability.
The bistable multivibrator has two stable states and can remain in either state indefinitely. It changes
state when triggered. A comparator with hysteresis is bistable.
An astable multivibrator has no stable state. It oscillates between two quasi-stable states, remaining in
each for a predetermined interval. It thus generates a periodic waveform at the output.
A feedback loop consisting of an integrator and a bistable multivibrator can be used to generate
triangular and square waveforms.

(a)
(b)
(c)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Section 15.1: Basic Principles of Sinusoidal Oscillators
15.1 A sinusoidal oscillator consists of an amplifier having a positive, frequency-independent gain A connected in a
feedback loop with a second-order bandpass filter having the transfer function
where K is positive. Find the frequency of oscillation and the minimum value that K must have for sustained
oscillations.
15.2 For the oscillator described in Problem 15.1, find the characteristic equation and use it to show that,
independent of the values of A and K, the poles of the circuit lie at a radial distance of ω0. Find the values of AK
that results in the poles appearing (a) on the jω axis, and (b) in the right half of the s plane, at a horizontal distance
from the jω axis of ω0/(2Q).
D 15.3 The characteristic equation of the oscillator circuit of Fig. 15.2(a) is derived in Example 15.2 and given by
Eq. (15.6):
Note that while r2 = 0 results in sustained oscillation, making r2 > 0 places the poles in the right half of the s-plane
and ensures that oscillation will start and grow until a nonlinear amplitude-control mechanism kicks in. Using an
inductance of 0.1 mH, find
the value of C to obtain sinusoidal oscillations with 107 rad/s frequency;
the value of R so that the LCR circuit has a Q factor of 50 (note: a high Q-factor, Q = ω0CR, increases the
purity of the generated sine waves); and
the value of (r2/r1) to place the poles at a horizontal distance of 100 rad/s from the jω-axis.
15.4 In a particular oscillator characterized by the structure of Fig. 15.1, the frequency-selective network exhibits a
loss of 12 dB and a phase shift of 180° at ω0. Give the phase shift and the minimum gain that the amplifier must
have for oscillation to begin.
∨Show Answer
∨Show Answer

15.5 An oscillator is formed by loading a transconductance amplifier having a positive gain with a parallel RLC
circuit and connecting the output directly to the input (thus applying positive feedback with a factor β = 1). Let the
transconductance amplifier have an input resistance of 5 kΩ and an output resistance of 5 kΩ. The LC resonator has
L = 1 µH, C = 100 pF, and Q = 50. For what value of transconductance Gm will the circuit oscillate? At what
frequency?
15.6 Figure P15.6 shows a sinusoidal oscillator using a simple RC bandpass circuit in the feedback loop of a
positive-gain amplifier. Find the loop gain as a function of s and, by substituting s = jω, as a function of frequency
ω. What is the frequency of oscillation ω0? What is the minimum value (r2/r1) must have for sustained oscillation?
Figure P15.6
15.7 For the oscillator circuit in Fig. P15.6, use the alternative analysis method to determine the oscillation
frequency ω0 and the minimum required value of r2/r1. Specifically, assume that the circuit is oscillating and write
equations that describe its operation. Reduce the equations to one in terms of Vo and use it to determine the
conditions of oscillation.
15.8 Find the characteristic equation of the circuit in Fig. P15.6 and use it to determine the value (r2/r1) must have
for the poles to lie on the jω-axis. This is the value required for sustained oscillations. What is the frequency of
oscillation?
15.9 An oscillator is designed by connecting in a loop three identical common-source amplifier stages of the type
shown in Fig. P15.9. Note that the bias circuits are not shown, and assume that R and C include the transistor
output resistance and capacitance, respectively. For the circuit to oscillate at a frequency ω0, what must the phase
angle provided by each amplifier stage be? Give an expression for ω0. For sustained oscillations, what is the
minimum gm required of each transistor?
∨Show Answer
∨Show Answer

Figure P15.9
15.10 Assume that the oscillator of Fig. 15.2(a) is designed for a loop-gain magnitude greater than one so that the
amplitude of oscillations grows to the point that the op-amp output saturates. Assume that the saturation levels of
the op amp are ±2 V and that the signal at the output of the op amp is nearly a square wave. If the bandpass LCR
circuit is of sufficiently high selectivity, what is the amplitude of the sine wave across the LC circuit? (Hint: The
fundamental-frequency component in the Fourier series expansion of a square wave of amplitude V has an
amplitude 4V/π.)
15.11 For the oscillator circuit in Fig. 15.5, assume that vL is an ideal square wave of frequency ω0 and amplitude V
volts. Recalling that the Fourier series for a square wave is
find the third harmonic component of the output vO as a percentage of the fundamental component. Repeat for the
fifth harmonic. Assume the filter has Q = 100. (Hint)
D 15.12 Using an inductance L = 0.1 mH, design the oscillator circuit in Fig. 15.5 to obtain a sinusoid at the
amplifier output of 3-V amplitude and 100-kHz frequency. Assume that vL is a perfect square wave with ±0.7-V
levels. Use r1 = 10 kΩ and design the filter to have a Q factor of 50. Specify the values of C, R, and r2. What is the
value of r3 that limits the maximum diode current to 1 mA? (Hint)
Section 15.2: Op Amp–RC Oscillator Circuits
15.13 For the Wien-bridge oscillator circuit in Fig. 15.6, show that the transfer function of the feedback network
[Va(s)/Vo(s)] is that of a bandpass filter. Find ω0 and Q of the poles, and find the center-frequency gain. Hence, find
the oscillation frequency and the value of (R2/R1) for sustained oscillations.
15.14 For the Wien-bridge oscillator of Fig. 15.6, let the closed-loop amplifier (formed by the op amp and the
resistors R1 and R2) exhibit a phase shift of −5° in the neighborhood of ω = 1/CR. Find the frequency at which
oscillations can occur in this case in terms of CR. (Hint)
15.15 For the Wien-bridge oscillator of Fig. 15.6, use the expression for loop gain in Eq. (15.7) to find the
characteristic equation of the closed-loop system. Show that to locate the poles on the jω-axis, R2/R1 must be
selected equal to 2. What is the frequency of oscillation?
∨Show Answer
∨Show Answer
∨Show Answer

D 15.16 Reconsider Exercise 15.5 with R3 and R6 increased to reduce the output voltage. What values are required
for a peak-to-peak output of 10 V? What results if R3 and R6 are open-circuited?
D 15.17 Design the Wien-bridge oscillator using a limiter similar to the one used in Fig. 15.7 for amplitude control.
Find suitable component values to obtain a sinusoid vO with 10-kHz frequency and 3-V peak amplitude. Assume
VDD = VSS = 5 V and VD = 0.7 V. Use as many 10- kΩ resistors as possible.
15.18 For the circuit in Fig. P15.18, find L(s), L(jω), the frequency for zero loop phase, and R2/R1 for oscillation.
Assume the op amp to be ideal.
Figure P15.18
*15.19 Consider the circuit of Fig. 15.8 with the 50- kΩ potentiometer replaced with two fixed resistors: 10 kΩ
between the op amp’s negative input and ground, and 15 kΩ. Modeling each diode as a 0.65-V battery in series
with a 100-Ω resistance, find the peak-to-peak amplitude of the output sinusoid.
D **15.20 Design the Wien-bridge oscillator for operation at 10 kHz using R = 10 kΩ. If at 10 kHz the op amp
provides an excess phase shift (lag) of 5.7°, what will be the frequency of oscillation? (Assume that the phase shift
introduced by the op amp remains constant for frequencies around 10 kHz.) To restore operation to 10 kHz, what
change must be made in the shunt resistor of the Wien bridge? Also, to what value must R2/R1 be changed?
*15.21 For the circuit of Fig. 15.10, connect an additional resistor (R = 10 kΩ) in series with the rightmost
capacitor C. For this modification (and ignoring the amplitude stabilization circuitry), find the loop gain Aβ by
breaking the circuit at node X. Find Rf for oscillation to begin, and find f0. Do the analysis symbolically and
substitute the given values only at the end.
D 15.22 For the circuit in Fig. P15.22, break the loop at node X and find the loop gain (working backward for
simplicity to find Vx in terms of Vo). Find expressions for ω0 and Rf for sustained oscillations. For R = 10 kΩ, find
C and Rf to obtain sinusoidal oscillations at 20 kHz.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
Figure P15.22
15.23 For the circuit in Fig. 15.10, let V+ = −V− = V, R4 = R1, and R3 = R2. Assume that a conducting diode has a
voltage drop VD and that at the onset of conduction the diode current can be neglected relative to the current
through R1, R2, R3, and R4. Show that the peak amplitude of vO is given by
For V = 5V, VD = 0.7 V, find R3/R4 to obtain 
*15.24 Consider the quadrature-oscillator circuit of Fig. 15.11 without the limiter. Let the resistance Rf be equal to
2R/(1 + ), where 
 . Show that the poles of the characteristic equation are in the right-half s plane and given
by s 
 (1/CR)[(∆/4) ± j].
15.25 Derive the transfer function Vo2/Vo1 of the noninverting integrator formed by op amp 2 and the associated
components in the circuit of Fig. 15.11(a). Show that to obtain a perfect integrator, Rf must be chosen equal to 2R.
D 15.26 Design the quadrature oscillator circuit in Fig. 15.11(a) to obtain sinusoids with 5-V amplitude and 10-kHz
frequency. Use R = 10 kΩ, V+ = −V− = 15 V, R1 = R4 = 10 kΩ, R2 = R3, and the diode voltage drop VD = 0.7 V.
Specify all component values.
15.27 Derive the transfer function V1/V2 of the bandpass circuit that is part of the oscillator in Fig. 15.13. Show that
its poles have ω0 = 1/CR and a Q factor Q, and that the center-frequency gain is 2.
D 15.28 Using C = 1.6 nF, find the value of R such that the circuit of Fig. 15.13 produces 20-kHz sine waves. If the
diode drop is 0.7 V, find the peak-to-peak amplitude of the output sine wave. How do you modify the circuit to
double the output amplitude? (Hint)
*15.29 Assuming that the diode-clipped waveform in Exercise 15.9 is an ideal square wave and that the resonator
Q is 30, provide an estimate of the distortion in the output sine wave by calculating the magnitude (relative to the
fundamental) of
the second harmonic
the third harmonic
the fifth harmonic
the rms of harmonics to the tenth
∨Show Answer
∨Show Answer

Note that a square wave of amplitude V and frequency ω is represented by the Fourier series
Section 15.3: LC and Crystal Oscillators
15.30 For the Colpitts oscillator circuit in Fig. P15.30, derive an equation governing circuit operation and hence
find the frequency of oscillation and the condition the gain gmRL must satisfy for oscillations to start. Assume that
RL includes the MOSFET’s ro. Note that this circuit is based on the configuration in Fig. 15.14(a).
Figure P15.30
15.31 For the Colpitts oscillator circuit in Fig. P15.31, derive an equation governing circuit operation and hence
find the frequency of oscillation and the condition the gain gmRL must satisfy to ensure that oscillations will start.
Neglect ro of the MOSFET. Note that this circuit is based on the configuration in Fig. 15.14(a).
∨Show Answer
∨Show Answer

Figure P15.31
15.32 For the Colpitts oscillator circuit in Fig. P15.32, derive an equation governing circuit operation and hence
find ro the frequency of oscillation and the condition the gain gmRL must satisfy to ensure that oscillations will
start. Assume that r0 of the MOSFET is included in RL and neglect Rf (i.e., assume 
). Observe that this
circuit is based on the configuraion in Fig. 15.14(a).
Figure P15.32

(a)
(b)
(c)
D 15.33 Design the Hartley oscillator in Fig. 15.14(b) to obtain sine waves of 10-MHz frequency. Assume the
MOSFET is biased to operate at gm = 2 mA/V and that ro = 20 kΩ. Let the finite Q of the inductors be represented
by a 20 kΩ resistance across L1. Use C = 100 pF and neglect the capacitances of the MOSFET. Find L1 and L2.
*15.34 The LC oscillator in Fig. P15.34 is based on connecting a positive-gain amplifier (formed by Q1, Q2, and
RC) with a bandpass RLC circuit in a feedback loop.
Figure P15.34
Replace the BJTs with their small-signal models while neglecting rπ and ro (to simplify matters).
By inspection of the circuit found in (a), find the frequency of oscillation and the condition required for
oscillations to start. Express the latter as the minimum required value of (IRC).
If IRC is selected equal to 1 V, show that oscillations will start. If oscillations grow to the point that Vo is large
enough to turn the BJTs on and off, show that the signal at the collector of Q2 will be a square wave of 1 V
peak-to-peak. Estimate the peak-to-peak amplitude of the output sine wave Vo.
(Hint)
D15.35 Design the cross-coupled LC oscillator of Fig. 15.16(a) to operate at ω0 = 50 Grad/s. The IC inductors
available have L = 2 nH and Q = 10. If the transistor ro = 5 kΩ, find the required value of C and the minimum
required value of gm at which Q1 and Q2 are to be operated.
15.36 Consider the Pierce crystal oscillator of Fig. 15.18 with the crystal as specified in Exercise 15.13. Let C1 be
variable in the range 1 pF to 10 pF, and let C2 be fixed at 10 pF. Find the range over which the oscillation frequency
∨Show Answer
∨Show Answer

(a)
(b)
(a)
(b)
can be tuned. (Hint)
Section 15.4: Nonlinear Oscillators or Function Generators
D 15.37 Design the bistable circuit in Fig. 15.21(a) to obtain a hysteresis of 2.5-V width. The op amp saturates at
±5 V. Select R1 = 10 kΩ and determine R2.
15.38 Consider the bistable circuit of Fig. 15.21(a) with the op amp’s positive input terminal connected to a
positive-voltage source V through a resistor R3.
Derive expressions for the threshold voltages VTL and VTH in terms of the op amp’s saturation levels L+ and
L−, R1, R2, R3, and V.
Let L+ = −L− = 5 V, V = 5 V, and R1 = 10 kΩ. Find the values of R2 and R3 that result in VTL = +1.9 V and
VTH = +2.1 V.
D 15.39 For the circuit in Fig. 15.22(a), let L+ = −L− = 5 V and R1 = 10 kΩ. Find R2 that results in threshold
voltages of +1 V and −1 V.
15.40 Consider the bistable circuit of Fig. 15.22(a) with the op amp’s negative-input terminal disconnected from
ground and connected to a reference voltage VR.
Derive expressions for the threshold voltages VTL and VTH in terms of the op amp’s saturation levels L+ and
L−, R1, R2, and VR.
Let L+ = −L− = V and R1 = 10 kΩ. Find R2 and VR that result in threshold voltages of 0 and V/10.
15.41 For the circuit in Fig. P15.41, sketch and label the transfer characteristic vO−vI. The diodes are assumed to
have a constant 0.7-V drop when conducting, and the op amp saturates at ±5 V. What is the maximum diode
current?
Figure P15.41
15.42 Consider the circuit of Fig. P15.41 with R1 eliminated and R2 short-circuited. Sketch and label the transfer
characteristic vO−vI. Assume that the diodes have a constant 0.7-V drop when conducting and that the op amp
saturates at ±5V.
∨Show Answer
∨Show Answer

(a)
(b)
*15.43 Consider a bistable circuit having a noninverting transfer characteristic with L+ = −L− = 5 V, VTL = −1 V,
and VTH = +1 V.
For a 0.5-V-amplitude sine-wave input having zero average, what is the output?
Describe the output if a sinusoid of frequency f and amplitude of 1.1 V is applied at the input. By how much
can the average of this sinusoidal input shift before the output becomes a constant value?
15.44 Find the frequency of oscillation of the circuit in Fig. 15.23(b) for the case R1 = 10 kΩ, R2 = 15 kΩ, C = 1
nF, and R = 62 kΩ.
D 15.45 Design the circuit in Fig. 15.23(b) to obtain a square waveform of 10-kHz frequency. Use C = 1 nF and R1
= R2. Specify the values of the three resistors.
D 15.46 Design the circuit in Fig. 15.24(a) to obtain symmetrical triangular and square waveforms of 10-kHz
frequency. Use the circuit in Fig. 15.22(a) to implement the bistable. Assume that the op amps saturate at ±5 V. The
triangular waveform is required to have 2-V peak-to-peak amplitude. Use C = 1 nF and specify the values of the
resistors.
∨Show Answer
∨Show Answer

T
PART III
Digital Integrated Circuits
CHAPTER 16
CMOS Digital Logic Circuits
CHAPTER 17
Digital Design: Power, Speed, and Area
CHAPTER 18
Memory and Clocking Circuits
here are two indisputable facts about digital systems. They have dramatically changed our lives, and the digital
revolution is driven by microelectronics. Evidence of the pervasiveness and influence of digital systems can be
found by thinking of what we do in our daily lives. Digital circuits exist in almost every electrical appliance we use in
our homes; in the vehicles and transportation systems we use to travel; in the smartphones and tablets we use to
communicate; in the medical equipment needed to care for our health; in the computers we use to do our work; in our
entertainment systems; and in the servers running cutting-edge machine-learning algorithms. Indeed, it is very difficult to
conceive of modern life without digital systems, none of which would have been possible without microelectronics.
Although the idea of a digital computing machine was conceived as early as the 1830s, early implementations were
very cumbersome and used expensive mechanical devices. The first serious digital computers appeared in the 1930s and
1940s. These early computers used thousands of vacuum tubes and were housed literally in many rooms. Their
fundamental limitation was low reliability: vacuum tubes had a finite life and needed large amounts of power. Had it not
been for the invention of the transistor in 1947, ushering in the era of solid-state electronics, digital computers would
have remained specialized machines used primarily in military and scientific applications.
By the mid-1950s, the first digital logic gates made of discrete bipolar transistors were commercially available. The
invention of the integrated circuit in the late 1950s was also key, leading to the first digital IC in the early 1960s. Early
digital ICs were made of bipolar transistors, with the most successful logic-circuit family of this type being transistor–
transistor logic (or TTL), which dominated digital-circuit design until the early 1980s.
Bipolar was replaced by NMOS, and NMOS by CMOS, again predominantly because of power dissipation and the
need to pack more and more transistors on each IC chip. Bearing out Moore’s law, which predicted in 1968 that IC chips
would double the number of their transistors every two to three years (see Section 17.4), digital ICs have grown from a
few transistors to tens of billions of devices and to memory chips with 64-Gbit capacity.
Part III aims to provide a concise but nonetheless comprehensive and sufficiently detailed exposure to digital IC
design. Our treatment is almost self-contained, requiring for the most part only a thorough understanding of the
MOSFET material presented in Chapter 5. Thus Part III can be studied right after Chapter 5. The only exception to this is
that Chapters 17 and 18 require knowledge of the MOSFET internal capacitances (Section 10.1).
Chapter 16 is the cornerstone of Part III. It provides a study of the bread-and-butter topic of digital IC design: the
CMOS inverter and logic gates. Today, CMOS represents 98% of newly designed digital systems. The material in

Chapter 16 is the minimum needed to learn something meaningful about digital circuits and their static behaviour; it is a
must study!
In Chapter 17, we examine the dynamic behavior of CMOS logic circuits. This serves as an introduction to several
interrelated techniques to optimize speed, power dissipation, and silicon area. Chapter 17 concludes with a discussion of
transistor scaling and future technologies, with emphasis on performance issues and economic aspects.
Digital circuits can be broadly divided into logic and memory circuits. The latter form the subject of Chapter 18,
which begins with a discussion of transmission gates, and then covers latches, flip-flops, as well as static and dynamic
memory cells and their operation.

16.1
16.2
16.3
•
•
•
•
CHAPTER 16
CMOS Digital Logic Circuits
Introduction
CMOS Logic-Gate Circuits
Digital Logic Inverters
The CMOS Inverter
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
How CMOS logic circuits can be implemented using arrangements of MOS transistors operating as
voltage-controlled switches.
How to synthesize CMOS logic circuits that realize standard (e.g., inverter, NAND, and NOR gates)
and complex Boolean functions.
How the inverter can be implemented by using one of three possible arrangements of voltage-
controlled switches (transistors).
The structure, circuit operation, and design of the CMOS inverter, as well as analysis of its static
behavior.

Introduction
This chapter provides a foundation for the study of CMOS logic circuits, the bread and butter of digital IC
design. We begin (Section 16.1) by learning how to synthesize CMOS circuits that implement various logic
functions. This discussion will be at a high level without getting into the details of circuit operation and
performance. To delve into these issues, we consider in Section 16.2 the most fundamental element of digital
circuits: the logic inverter. We study its characteristics, performance metrics, and methods of
implementation. Out of this general study, CMOS emerges as the most ideal inverter implementation.
Consequently, a thorough study of the CMOS inverter is undertaken in Section 16.3. Besides presenting the
most important digital IC technology (CMOS), this chapter lays the foundation for the more advanced topics
studied in the two subsequent chapters.

16.1 CMOS Logic-Gate Circuits
In this section we consider the synthesis of CMOS circuits that realize combinational-logic functions. In
combinational circuits, the output at any time is a function only of the values of input signals at that time.
Thus, these circuits do not have memory and do not employ feedback. Combinational circuits are abundant
in every digital system.
16.1.1 Switch-Level Transistor Model
CMOS digital circuits utilize NMOS and PMOS transistors operating as switches. From Chapter 5, we know
that a MOS transistor can operate as an on/off switch by using the gate voltage to operate the transistor in the
triode region (“on” position) or in the cutoff region (“off” position).
Specifically, an NMOS transistor behaves as a closed switch, exhibiting a very small resistance (Ron or
rDS) between its drain and source terminals when its gate voltage is “high,” usually at the power-supply level
VDD, which represents a logic 1. Conversely, when the gate voltage is “low” (i.e., at or close to ground
voltage), which represents a logic 0, the transistor is cut off, thus conducting zero current and acting as an
open switch. This is illustrated in Fig. 16.1(a).
The PMOS transistor operates in a complementary fashion: To turn the transistor on, its gate voltage is
made low (0 V or logic 0). Raising the gate voltage to VDD (logic 1) turns the PMOS transistor off. This is
illustrated in Fig. 16.1(b).
We observe that the gate terminal of the MOSFET is used as the controlling node, and thus it is usually
one of the input terminals of the logic gate.

Figure 16.1 Operation of the (a) NMOS and (b) PMOS transistor as an on/off switch. The gate voltage controls the
operation of the transistor switch, with the voltage VDD representing a logic 1 and 0 V representing a logic 0. Note that
the connections of the drain and source terminals are not shown.
16.1.2 The CMOS Inverter
Armed with this knowledge of the switching behavior of MOSFETs, let’s consider making an inverter. As its
name implies, the logic inverter inverts the logic value of its input signal. So, for a logic-0 input, the output
will be a logic 1, and vice versa. Thus the logic function of the inverter can be represented by the Boolean
expression

An inverter operated from a power supply VDD is shown in block form in Fig. 16.2(a). Its CMOS circuit
implementation is shown in Fig. 16.2(b). It consists of an NMOS transistor QN and a PMOS transistor QP,
with the gate terminals connected together to constitute the inverter input terminal, to which a logic input X
is applied. Also, both drain terminals are connected together to constitute the inverter output terminal on
which the output logic variable Y appears.
When X = 1—that is, VX = VDD [Fig. 16.2(c)]—the PMOS transistor will be off but the NMOS transistor
will be on and will be connecting the inverter output terminal to ground through the small on-resistance Ron.
Thus, the output voltage will be zero and Y = 0. When X = 0, that is, VX = 0 [see Fig. 16.2(d)], the NMOS
transistor will be off but the PMOS transistor will be on and will be connecting the output terminal to VDD
through the small resistance Ron. Thus the output voltage will be equal to VDD and Y will be 1.
Figure 16.2 (a) Block representation of the logic inverter; (b) its CMOS realization; (c) operation when the input is a
logic 1; (d) operation when the input is a logic 0.
16.1.3 General Structure of CMOS Logic
A CMOS logic circuit is in effect an extension, or a generalization, of the CMOS inverter: The inverter
consists of an NMOS pull-down transistor and a PMOS pull-up transistor, operated by the input voltage
in a complementary fashion. The CMOS logic gate consists of two networks: the pull-down network (PDN)
constructed of NMOS transistors, and the pull-up network (PUN) constructed of PMOS transistors (see Fig.
16.3). The two networks are operated by the input variables, in a complementary fashion. Thus, for the three-
input gate represented in Fig. 16.3, the PDN will conduct for all input combinations that require a low output
(Y = 0) and will then pull the output node down to ground, causing a zero voltage to appear at the output, vY
= 0. Simultaneously, the PUN will be off, and no direct dc path will exist between VDD and ground. On the
other hand, all input combinations that call for a high output (Y = 1) will cause the PUN to conduct, and the
PUN will then pull the output node up to VDD, establishing an output voltage vY = VDD. Simultaneously, the
PDN will be cut off, and again, no dc current path between VDD and ground will exist in the circuit.

Figure 16.3 Representation of a three-input CMOS logic gate. The PUN comprises PMOS transistors, and the PDN
comprises NMOS transistors.
Now, since the PDN comprises NMOS transistors, and since an NMOS transistor conducts when the
signal at its gate is high, the PDN is activated (i.e., conducts) when the inputs are high. In a dual manner, the
PUN comprises PMOS transistors, and a PMOS transistor conducts when the input signal at its gate is low;
thus the PUN is activated when the inputs are low.
The PDN utilizes devices in parallel to form an OR function and devices in series to form an AND
function; the same is true of the PUN. Here, the OR and AND notations refer to current flow or conduction.
Figure 16.4 shows examples of PDNs. For the circuit in Fig. 16.4(a), QA will conduct when A is high (vA =
VDD) and will then pull the output node down to ground (vY = 0 V, Y = 0). Similarly, QB conducts and pulls Y
down when B is high.
Thus Y will be low when A is high or B is high, which can be expressed as
or equivalently
The PDN in Fig. 16.4(b) will conduct only when A and B are both high simultaneously. Thus Y will be low
when A is high and B is high,

or equivalently
As a final example, the PDN in Fig. 16.4(c) will conduct and cause Y to be 0 when A is high or when B and
C are both high, thus
or equivalently
Figure 16.4 Examples of pull-down networks.
Next consider the PUN examples shown in Fig. 16.5. The PUN in Fig. 16.5(a) will conduct and pull Y up
to VDD (Y = 1) when A is low or B is low, thus
The PUN in Fig. 16.5(b) will conduct and produce a high output (vY = VDD, Y = 1) only when A and B are
both low, thus
Finally, the PUN in Fig. 16.5(c) will conduct and cause Y to be high (logic 1) if A is low or if B and C are
both low; thus,

Figure 16.5 Examples of pull-up networks.
Having developed an understanding and appreciation of the structure and operation of PDNs and PUNs,
we are almost ready to consider complete CMOS gates. First, however, we need to get to know the
alternative circuit symbols that digital-circuit designers almost universally use for MOS transistors. Figure
16.6 shows our usual symbols (left) and the corresponding “digital” symbols (right). Notice that the symbol
for the PMOS transistor with a circle at the gate terminal is intended to indicate that the signal at the gate has
to be low for the device to be activated (i.e., to conduct). Thus, in terms of logic-circuit terminology, the gate
terminal of the PMOS transistor is an active low input. Besides indicating this property of PMOS devices,
the digital symbols omit any indication of which of the device terminals is the source and which is the drain.
This should cause no difficulty at this stage of our study; simply remember that for an NMOS transistor, the
drain is the terminal at the higher voltage (current flows from drain to source), and for a PMOS transistor the
source is the terminal at the higher voltage (current flows from source to drain). To be consistent with the
literature, we will now use these modified symbols for MOS transistors in logic applications, except where
our usual symbols help in understanding circuit operation.
Figure 16.6 Usual and alternative circuit symbols for MOSFETs.
16.1.4 The Two-Input NOR Gate

(16.1)
(16.2)
We first consider the CMOS gate that realizes the two-input NOR function
We can see that Y is to be low (PDN conducting) when A is high or B is high. Thus the PDN consists of two
parallel NMOS devices with A and B as inputs [i.e., the circuit in Fig. 16.4(a)]. For the PUN, we note from
the second expression in Eq. (16.1) that Y is to be high when A and B are both low. Thus the PUN consists of
two series PMOS devices with A and B as the inputs [i.e., the circuit in Fig. 16.5(b)]. Putting the PDN and
the PUN together gives the CMOS NOR gate shown in Fig. 16.7. Note that extension to a higher number of
inputs is straightforward: For each additional input, an NMOS transistor is added in parallel with QNA and
QNB, and a PMOS transistor is added in series with QPA and QPB.
Figure 16.7 A two-input CMOS NOR gate.
16.1.5 The Two-Input NAND Gate
The two-input NAND function is described by the Boolean expression
To synthesize the PDN, we consider the input combinations that require Y to be low: There is only one such
combination, namely, A and B both high. Thus, the PDN simply comprises two NMOS transistors in series
[such as the circuit in Fig. 16.4(b)]. To synthesize the PUN, we consider the input combinations that result in
Y being high. These are found from the second expression in Eq. (16.2) as A low or B low. Thus, the PUN
consists of two parallel PMOS transistors with A and B applied to their gates [such as the circuit in Fig.
16.5(a)]. Putting the PDN and PUN together results in the CMOS NAND gate implementation shown in Fig.

(16.3)
(16.4)
16.8. Note that extension to a higher number of inputs is straightforward: For each additional input, we add
an NMOS transistor in series with QNA and QNB, and a PMOS transistor in parallel with QPA and QPB.
Figure 16.8 A two-input CMOS NAND gate.
16.1.6 A Complex Gate
Consider next the more complex logic function
Since 
, we see that Y should be low for A high and simultaneously either B high or C and
D both high, from which the PDN is directly obtained. To obtain the PUN, we need to express Y in terms of
the complemented variables. We do this through repeated application of DeMorgan’s law, as follows:
Thus, Y is high for A low or B low and either C or D low. The corresponding complete CMOS circuit will be
as shown in Fig. 16.9.

Figure 16.9 CMOS realization of a complex gate.
16.1.7 Obtaining the PUN from the PDN and Vice Versa
From the CMOS gate circuits considered thus far (e.g., that in Fig. 16.9), we observe that the PDN and the
PUN are dual networks: Where a series branch exists in one, a parallel branch exists in the other. Thus, we
can obtain one from the other, a process that can be simpler than having to synthesize each separately from
the Boolean expression of the function. For instance, in the circuit of Fig. 16.9, we found it relatively easy to
obtain the PDN, simply because we already had 
 in terms of the uncomplemented inputs. On the other
hand, to obtain the PUN, we had to manipulate the given Boolean expression to express Y as a function of
the complemented variables, the form convenient for synthesizing PUNs. Alternatively, we could have used
this duality property to obtain the PUN from the PDN. The reader is urged to refer to Fig. 16.9 to convince
herself that this is indeed possible.
We should, however, mention that at times it is not easy to obtain one of the two networks from the other
using the duality property. For such cases, we would have to resort to a more rigorous process, which is
beyond the scope of this book (see Kang, Leblebici, and Kim, 2016).

(16.5)
16.1.8 The Exclusive-OR Function
An important function that often arises in logic design is the exclusive-OR (XOR) function,
We observe that since Y (rather than 
) is given, it is easier to synthesize the PUN. Unfortunately, however,
Y is not a function of the complemented variables only (as we would like it to be). Thus, we will need
additional inverters. The PUN obtained directly from Eq. (16.5) is shown in Fig. 16.10(a). Note that the Q1,
Q2 branch realizes the first term 
, whereas the Q3, Q4 branch realizes the second term 
. Note also
the need for two additional inverters to generate 
 and 
.
Figure 16.10 (a) Realization of the exclusive-OR (XOR) function. (a) The PUN synthesized directly from the expression
in Eq. (16.5).
Figure 16.10 (b) Realization of the exclusive-OR (XOR) function. The complete XOR realization utilizing the PUN in
(a) and a PDN that is synthesized directly from the expression in Eq. (16.6). Note that two inverters (not shown) are

(16.6)
1.
2.
3.
16.1
needed to generate the complemented variables. Also note that in this XOR realization, the PDN and the PUN are not
dual networks; however, a realization based on dual networks is possible (see Problem 16.9).
As for synthesizing the PDN, we can obtain it as the dual network of the PUN in Fig. 16.10(a).
Alternatively, we can develop an expression for 
 and use it to synthesize the PDN. Leaving the first
approach for the reader to do as an exercise, we shall utilize the direct synthesis approach. DeMorgan’s law
can be applied to the expression in Eq. (16.5) to obtain 
 as
The corresponding PDN will be as in Fig. 16.10(b), which shows the CMOS realization of the exclusive-OR
function except for the two additional inverters. Note that the exclusive-OR requires 12 transistors for its
realization, a rather complex network.
Another interesting observation follows from the circuit in Fig. 16.10(b). The PDN and the PUN here are
not dual networks. Indeed, duality of the PDN and the PUN is not a necessary condition. Thus, although a
dual of PDN (or PUN) can always be used for PUN (or PDN), the two networks are not necessarily duals.
16.1.9 Summary of the Synthesis Method
The PDN can be most directly synthesized by expressing 
 as a function of the uncomplemented
variables. If complemented variables appear in this expression, additional inverters will be required
to generate them.
The PUN can be most directly synthesized by expressing Y as a function of the complemented
variables and then applying the uncomplemented variables to the gates of the PMOS transistors. If
uncomplemented variables appear in the expression, additional inverters will be needed.
The PDN can be obtained from the PUN (and vice versa) using the duality property.
Example 16.1
Synthesize a CMOS logic circuit that implements the Boolean function
EXERCISE
What logic function does the following PUN realize?
∨Show Solution

Figure E16.1
∨Show Answer

16.2 Digital Logic Inverters
Having learned how to synthesize CMOS circuits that implement various logic functions, we next consider
the design and performance evaluation of these CMOS logic circuits. Toward that end, we step back to study
in detail the characterization of the basic logic element, the inverter. We will do this in this section in general
terms; that is, our study will not be confined to CMOS inverters only. In subsequent sections we specialize
what we will have learned in this section to the case of the CMOS inverter and extend it to CMOS logic
gates.
16.2.1 The Voltage-Transfer Characteristic (VTC)
Refer to the inverter shown in block form in Fig. 16.1(a). To quantify the operation of the inverter, we utilize
its voltage-transfer characteristic (VTC). We have already introduced the concept of the VTC and utilized it
to characterize the operation of basic MOSFET amplifiers in Section 7.1.3. Figure 16.12 shows such a
circuit, together with its VTC. Observe that the circuit in fact implements the inverter function: For a logic-0
input, vI is close to 0 V and specifically lower than the MOSFET threshold voltage Vtn, the transistor will be
off, iD = 0, and vO = VDD, which is a logic 1. For a logic-1 input, vI = VDD, the transistor will be conducting
and operating in the triode region (at point D on the VTC), and the output voltage will be low (logic 0).
Figure 16.12 The simple resistively loaded MOS amplifier can be used as a logic inverter when operated in cutoff (vI <
Vtn) and in triode (vI > VIC). The output high level is VDD and the low level is VOD.
Thus to use this amplifier as a logic inverter, we utilize its extreme regions of operation. This is exactly
the opposite to its use as a signal amplifier, where it would be biased at the middle of the transfer
characteristic segment BC and the signal kept small enough to restrict operation to a short, almost linear,

segment of the transfer curve. Digital applications, on the other hand, make use of the gross nonlinearity
exhibited by the VTC.
With these observations in mind, we show in Fig. 16.13 a possible VTC of a logic inverter. For
simplicity, we are using three straight lines to approximate the VTC, which is usually a nonlinear curve such
as that in Fig. 16.12. Observe that the output high level, denoted VOH, does not depend on the exact value of
vI as long as vI does not exceed the value labeled VIL; when vI exceeds VIL, the output decreases and the
inverter enters its amplifier region of operation, also called the transition region. It follows that VIL is an
important parameter of the inverter VTC: It is the maximum value that vI can have while being interpreted by
the inverter as representing a logic 0.
Similarly, we observe that the output low level, denoted VOL, does not depend on the exact value of vI as
long as vI does not fall below VIH. Thus VIH is an important parameter of the inverter VTC: It is the
minimum value that vI can have while being interpreted by the inverter as representing a logic 1.
Figure 16.13 Voltage-transfer characteristic of an inverter. The VTC is approximated by three straight-line segments.
Note the four parameters of the VTC (VOH, VOL, VIL, and VIH) and their use in determining the noise margins (NMH and
NML).
16.2.2 Noise Margins
The insensitivity of the inverter output to the exact value of vI within allowed regions is a great advantage
that digital circuits have over analog circuits. To quantify this insensitivity property, consider the situation
that occurs often in a digital system where an inverter (or a logic gate based on the inverter circuit) is driving
another similar inverter, as shown in Fig. 16.14.

(16.7)
(16.8)
(16.9)
Figure 16.14 Noise voltage vN is coupled to the interconnection between the output of inverter G1 and the input of
inverter G2.
Here we assume that a noise or interference signal vN is somehow coupled to the interconnection
between the output of inverter G1 and the input of inverter G2 with the result that the input of G2 becomes
where the noise voltage vN can be either positive or negative. Now consider the case vO1 = VOL; that is,
inverter G2 is driven by a logic-0 signal. Reference to Fig. 16.13 indicates that in this case G2 will continue
to function properly as long as its input vI2 does not exceed VIL. Equation (16.7) then indicates that vN can be
as high as VIL − VOL while G2 continues to function properly. Thus, we can say that inverter G2 has a noise
margin for low input, NML, of
Similarly, if vO1 = VOH, the driven inverter G2 will continue to see a high input as long as vI2 does not fall
below VIH. Thus, in the high-input state, inverter G2 can tolerate a negative vN of magnitude as high as VOH
− VIH. We can thus state that G2 has a high-input noise margin, NMH, of
In summary, four parameters, VOH, VOL, VIH, and VIL, define the VTC of an inverter and determine its
noise margins, which in turn measure the ability of the inverter to tolerate variations in the input signal
levels. In this regard, observe that changes in the input signal level within the noise margins are rejected by
the inverter. Thus noise is not allowed to propagate further through the system, a definite advantage of digital
over analog circuits. Alternatively, we can think of the inverter as restoring the signal levels to standard
values (VOL and VOH) even when it is presented with corrupted input signal levels (within the noise
margins). As a summary, useful for future reference, we present a listing and definitions of the important
parameters of the inverter VTC in Table 16.1.
Table 16.1 Important Parameters of the VTC of the Logic Inverter (Refer to Fig. 16.13)
VOL:
Output low level
VOH :
Output high level
VIL:
Maximum value of input interpreted by the inverter as a logic 0
VIH :
Minimum value of input interpreted by the inverter as a logic 1

NML:
Noise margin for low input = VIL – VOL
NMH:
Noise margin for high input = VOH – VIH
The formal definitions of the threshold voltages VIL and VIH are given in Fig. 16.15. Observe that VIL
and VIH are defined as the VTC points at which the slope is −1 V/V. As vI exceeds VIL, the magnitude of the
inverter gain increases and the VTC enters its transition region. Similarly, as vI falls below VIH, the inverter
enters the transition region and the magnitude of the gain increases. Finally, note that Fig. 16.15 shows the
definition of another important point on the VTC; this is point M at which vO = vI. Point M is loosely
considered to be the midpoint of the VTC and thus the point at which the inverter switches from one state to
the other. Point M plays an important role in the definition of the time delay of the inverter, as we shall see
in Chapter 17.
Figure 16.15 Typical voltage-transfer characteristic (VTC) of a logic inverter, illustrating the definition of the critical
points.
16.2.3 The Ideal VTC
What constitutes an ideal VTC for an inverter? The answer to this naturally arising question follows directly
from the preceding discussion: An ideal VTC is one that maximizes the output signal swing and the noise
margins. For an inverter operated from a power supply VDD, maximum signal swing is obtained when
and

To obtain maximum noise margins, we first arrange for the transition region to be made as narrow as
possible and ideally of zero width. Then, the two noise margins are equalized by arranging for the transition
from high to low to occur at the midpoint of the power supply, that is, at VDD/2. The result is the VTC shown
in Fig. 16.16, for which
Observe that the sharp transition at VDD/2 indicates that if the inverter were to be used as an amplifier, its
gain would be infinite. Again, we point out that while the analog designer’s interest would be focused on the
transition region of the VTC, the digital designer would prefer the transition region to be as narrow as
possible, as is the case in the ideal VTC of Fig. 16.16. Finally, we will see in Section 16.3 that inverters
implemented using CMOS technology come very close to realizing the ideal VTC.
Figure 16.16 The VTC of an ideal inverter.
16.2.4 Inverter Implementation
Inverters are implemented using transistors (Chapters 5 and 6) operating as voltage-controlled switches.
The simplest inverter implementation is shown in Fig. 16.17(a). The switch is controlled by the inverter
input voltage vI: When vI is low, the switch will be open and vO = VDD, since no current flows through R.
When vI is high, the switch will be closed and, assuming an ideal switch, vO will be 0.

D16.2
Figure 16.17 (a) The simplest implementation of a logic inverter using a voltage-controlled switch; (b) equivalent circuit
when vI is low; (c) equivalent circuit when vI is high. Note that the switch is assumed to close when vI is high.
Transistor switches, however, as we know from Chapters 5 and 6, are not perfect. Although their off-
resistances are very high, and thus an open switch closely approximates an open circuit, the “on” switch has
a finite closure, or on-resistance, Ron. The result is that when vI is high, the inverter has the equivalent
circuit shown in Fig. 16.17(c), from which VOL can be found.
We observe that the circuit in Fig. 16.12(a) is a direct implementation of the inverter in Fig. 16.17. In this
case, Ron is equal to rDS of the MOSFET evaluated at its operating point in the triode region with VGS =
VDD.
EXERCISE
Design the inverter in Fig. 16.12(a) to provide VOL = 40 mV and to draw a supply current of 20 µA in
the low-output state. Let the transistor be specified to have Vt = 0.35 V, μnCox = 540 µA/V2, and λ = 0.
The power supply VDD = 1.0V. Specify the required values of W/L and RD. How much power is drawn
from VDD when the switch is open? Closed?
Hint: Recall that for small vDS,

More elaborate implementations of the logic inverter exist, and we show two of these in Fig. 16.18(a)
and 16.19. The circuit in Fig. 16.18(a) utilizes a pair of complementary switches; the “pull-up” (PU)
switch connects the output node to VDD, and the “pull-down” (PD) switch connects the output node to
ground. When vI is low, the PU switch will be closed and the PD switch open, resulting in the equivalent
circuit of Fig. 16.18(b). Observe that in this case Ron of PU connects the output to VDD, thus establishing
VOH = VDD. Also observe that no current flows, and thus no power is dissipated, in the circuit. Next, if vI is
raised to the logic-1 level, the PU switch will open while the PD switch will close, resulting in the equivalent
circuit shown in Fig. 16.18(c). Here Ron of the PD switch connects the output to ground, thus establishing
VOL = 0. Here again no current flows, and no power is dissipated. The superiority of this inverter
implementation over that using the single pull-down switch and a resistor (known as a pull-up resistor)
should be obvious: With VOL = 0 and VOH = VDD, the signal swing is at its maximum possible, and the
power dissipation is zero in both states. This circuit constitutes the basis of the CMOS inverter that we
synthesized in the previous section [Fig. 16.2(b)] and will study in detail in Section 16.3.
Figure 16.18 A more elaborate implementation of the logic inverter utilizing two complementary switches. This is the
basis of the CMOS inverter that we synthesized in the previous section [Fig. 16.2(b)] and shall study in Section 16.3.
∨Show Answer

(a)
Next, consider the inverter implementation of Fig. 16.19. Here a double-throw switch is used to steer the
constant current IEE into one of two resistors connected to the positive supply VCC. The reader is urged to
show that if a high vI results in the switch being connected to RC1, then a logic inversion function is realized
at vO1. Note that the output voltage is independent of the switch resistance. Also, there is a structural
similarity between the current-steering or current-mode logic arrangement and the differential pair circuits
described in Chapter 8.
Figure 16.19 Another inverter implementation utilizing a double-throw switch to steer the constant current IEE to RC1
(when vI is high) or RC2 (when vI is low). This is the basis of a family of logic circuits called emitter-coupled logic
(ECL).
Resistively Loaded MOS Inverter The inverter first shown in Fig 16.12(a), which is composed of a
MOSFET that acts as a switch and a resistor RD that acts as a load, is known as a resistively loaded MOS
inverter. Example 16.2 investigates the output voltage levels and noise margins of this type of inverter, and
demonstrates that VOL, large RD, and power dissipation can become limiting factors in the inverter’s
performance.
Example 16.2 Resistively Loaded MOS Inverter
For the simple MOS inverter in Fig. 16.12(a):
Derive expressions for VOH, VOL, VIL, VIH, and VM. For simplicity, neglect channel-length
modulation (i.e., assume λ = 0). Show that these inverter parameters can be expressed in terms
of VDD, Vt, and (knRD). The latter parameter has the dimension of V−1, and to simplify the
expressions, denote knRD ≡ 1/Vx.

(b)
(c)
(d)
(e)
D16.3
D16.4
Show that Vx can be used as a design parameter for the inverter circuit. In particular, find the
value of Vx that results in VM = VDD/2.
Find numerical values for all parameters and for the inverter noise margins for VDD = 1.0 V, Vt =
0.35 V, and Vx set to the value found in (b).
For 
 = 540 µA/V2 and W/L = 1.5, find the required value of RD and use it to determine the
average power dissipated in the inverter, assuming that the inverter spends half of the time in
each of its two states.
Comment on the characteristics of this inverter circuit vis-à-vis the ideal characteristics as well
as on its suitability for implementation in integrated-circuit form.
EXERCISES
In an attempt to reduce the required value of RD to 10 kΩ, the designer of the inverter in Example 16.2
decides to keep the parameter Vx unchanged but increases W/L. What is the new value required for
W/L? Do the noise margins change? What does the power dissipation become?
In an attempt to reduce the required value of RD to 10 kΩ, the designer of the inverter in Example 16.2
decides to change Vx while keeping W/L unchanged. What new value of Vx is needed? What do the
noise margins become? What does the power dissipation become?
Pseudo-NMOS Inverter To eliminate the problem associated with the need for a large resistance RD in the
resistively loaded inverter, RD can be replaced by a MOSFET. One such possibility is the circuit in Fig.
16.21, where the load is a PMOS transistor QP whose gate is tied to ground in order to turn it on. Because of
its resemblance to an earlier form of logic (NMOS logic, now obsolete) in which the load is an NMOS
transistor, this circuit is known as a pseudo-NMOS inverter.
∨Show Solution
∨Show Answer
∨Show Answer

Figure 16.21 Pseudo-NMOS inverter.

16.3 The CMOS Inverter
In this section we study the inverter circuit of the most widely used digital IC technology: CMOS. The basic
CMOS inverter, synthesized in Section 16.1.2, is shown in Fig. 16.22. It utilizes two MOSFETs: one, QN,
with an n channel and the other, QP, with a p channel. The body of each device is connected to its source,
and thus no body effect arises. As will be seen shortly, the CMOS circuit realizes the conceptual inverter
implementation studied in the previous section (Fig. 16.18), where a pair of switches are operated in a
complementary fashion by the input voltage vI.
Figure 16.22 The CMOS inverter.
16.3.1 Circuit Operation
We first consider the two extreme cases: when vI is at logic-0 level, which is 0 V, and when vI is at logic-1
level, which is VDD volts. In both cases, for ease of exposition we shall consider the n-channel device QN to
be the driving transistor and the p-channel device QP to be the load. However, since the circuit is symmetric,
this assumption is obviously arbitrary, and the reverse would lead to identical results.
Figure 16.23 illustrates the case when vI = VDD, showing the iD−vDS characteristic curve for QN with
vGSN = VDD. (Note that iD = i and vDSN = vO.) Superimposed on the QN characteristic curve is the load
curve, which is the iD−vSD curve of QP for the case vSGP = 0 V. Since vSGP < |Vt|, the load curve will be a
horizontal straight line at zero current level. The operating point will be at the intersection of the two curves,
where we note that the output voltage is zero and the current through the two devices is also zero. This
means that the power dissipation in the circuit is zero. Note, however, that although QN is operating at zero
current and zero drain-source voltage (i.e., at the origin of the iD−vDS plane), the operating point is on a

(16.26)
steep segment of the iD−vDS characteristic curve. Thus QN provides a low-resistance path between the output
terminal and ground, with the resistance obtained using Eq. (5.13b) as
Figure 16.23(c) shows the equivalent circuit of the inverter when the input is high.1 This circuit confirms
that vO ≡ VOL = 0 V and that the power dissipation in the inverter is zero.
Figure 16.23 Operation of the CMOS inverter when vI is high: (a) circuit with vI = VDD (logic-1 level, or VOH ); (b)
graphical construction to determine the operating point; (c) equivalent circuit.
The other extreme case, when vI = 0 V, is illustrated in Fig. 16.24. In this case QN is operating at vGSN =
0; hence its iD−vDS characteristic is a horizontal straight line at zero current level. The load curve is the
iD−vSD characteristic of the p-channel device with vSGP = VDD. As shown, at the operating point the output
voltage is equal to VDD, and the current in the two devices is still zero. Thus the power dissipation in the
circuit is zero in both extreme states.
Figure 16.24 Operation of the CMOS inverter when vI is low: (a) circuit with vI = 0 V (logic-0 level, or VOL); (b)
graphical construction to determine the operating point; (c) equivalent circuit.

(16.27)
1.
2.
3.
4.
5.
Figure 16.24(c) shows the equivalent circuit of the inverter when the input is low. Here we see that QP
provides a low-resistance path between the output terminal and the dc supply VDD, with the resistance given
by
The equivalent circuit confirms that in this case vO ≡ VOH = VDD and that the power dissipation in the
inverter is zero.
It should be noted, however, that in spite of the fact that the quiescent current is zero, the load-driving
capability of the CMOS inverter is high. For instance, with the input high, as in the circuit of Fig. 16.23,
transistor QN can sink a relatively large load current. This current can quickly discharge the load capacitance,
as will be seen in Chapter 17. Because of its action in sinking load current and thus pulling the output
voltage down toward ground, transistor QN is known as the pull-down device. Similarly, with the input low,
as in the circuit of Fig. 16.24, transistor QP can source a relatively large load current. This current can
quickly charge up a load capacitance, thus pulling the output voltage up toward VDD. Hence, QP is known as
the pull-up device. The reader will recall that we used this terminology in connection with the conceptual
inverter circuit of Fig. 16.18 and in Section 16.1 as well.
From the above, we conclude that the basic CMOS logic inverter behaves as an ideal inverter. In
summary:
The output voltage levels are 0 and VDD, and thus the signal swing is the maximum possible. This,
coupled with the fact that the inverter can be designed to provide a symmetrical voltage-transfer
characteristic, results in wide noise margins.
The static power dissipation in the inverter is zero (neglecting the dissipation due to leakage currents)
in both of its states. This is because no dc path exists between the power supply and ground in either
state.
A low-resistance path exists between the output terminal and ground (in the low-output state) or VDD
(in the high-output state). These low-resistance paths ensure that the output voltage is 0 or VDD
independent of the exact values of the W/L ratios or other device parameters. Furthermore, the low
output resistance makes the inverter less sensitive to the effects of noise and other disturbances.
The active pull-up and pull-down devices provide the inverter with high outputdriving capability in
both directions. As will be seen in Section 17.1, this speeds up the operation considerably.
The input resistance of the inverter is infinite (because IG = 0). Thus the inverter can drive an
arbitrarily large number of similar inverters with no loss in signal level. Of course, each additional
inverter increases the load capacitance on the driving inverter and slows down the operation. In
Section 17.1, we will consider the inverter switching times.
FRANK MARION WANLESS: THE INVENTOR OF CMOS
∨

(16.28)
(16.29)
(16.30)
(16.31)
(16.32)
16.3.2 The Voltage-Transfer Characteristic (VTC)
The complete voltage-transfer characteristic (VTC) of the CMOS inverter can be obtained by repeating the
graphical procedure, used above in the two extreme cases, for all intermediate values of vI. In the following,
we shall calculate the critical points of the resulting voltage-transfer curve. For this we need the i−v
relationships of QN and QP. For QN,
and
For QP,
and
The CMOS inverter is usually designed to have Vtn = |Vtp| = Vt. Also, although this is not always the case,
we shall assume that QN and QP are matched; that is, 
. It should be noted that
since μp is often 0.25 to 0.5 times the value of μn, to make 
 of the two devices equal, the width of
the p-channel device is made two to four times that of the n-channel device. More specifically, the two
devices are designed to have equal lengths, with widths related by
This will result in 
, and the inverter will have a symmetric transfer
characteristic and equal current-driving capability in both directions (pull-up and pull-down).
With QN and QP matched, the CMOS inverter has the voltage-transfer characteristic shown in Fig. 16.25.
As indicated, the transfer characteristic has five distinct segments corresponding to different combinations of
modes of operation of QN and QP. The vertical segment BC is obtained when both QN and QP are operating
in the saturation region. Because we are neglecting the finite output resistance in saturation, that is, assuming

λN = λP = 0, the inverter gain in this region is infinite. From symmetry, this vertical segment occurs at vI =
VDD/2 and is bounded by vO(B) = VDD/2 + Vt, at which value QP enters the triode region and vO(C) = VDD/2
− Vt, at which value QN enters the triode region.
Figure 16.25 The voltage-transfer characteristic of the CMOS inverter when QN and QP are matched.
The reader will recall from Section 16.2.1 that in addition to VOL and VOH, two other points on the
transfer curve determine the noise margins of the inverter. These are the maximum permitted logic-0 or
“low” level at the input, VIL, and the minimum permitted logic-1 or “high” level at the input, VIH. These are
formally defined as the two points on the transfer curve at which the incremental gain is unity (i.e., the slope
is – 1 V/V).
To determine VIH, we note that QN is in the triode region, and thus its current is given by Eq. (16.28),
while QP is in saturation and its current is given by Eq. (16.31). Equating iDN and iDP, and assuming

(16.33)
(16.34)
(16.35)
(16.36)
(16.37)
matched devices, gives
Differentiating both sides relative to vI results in
in which we substitute vI = VIH and dvO/dvI = −1 to obtain
Substituting vI = VIH and for vO from Eq. (16.34) in Eq. (16.33) gives
VIL can be determined in a manner similar to that used to find VIH. Alternatively, we can use the
symmetry relationship
together with VIH from Eq. (16.35) to obtain
The noise margins can now be determined as follows:

(16.38)
(16.39)
(16.40)
As expected, the symmetry of the voltage-transfer characteristic results in equal noise margins. Of course, if
QN and QP are not matched, the voltage-transfer characteristic will no longer be symmetric, and the noise
margins will not be equal.
16.3.3 The Situation When QN and QP Are Not Matched
In the above, we assumed that QN and QP are matched; that is, in addition to Vtn = |Vtp|, the
transconductance parameters kn and kp are made equal by selecting Wp/Wn according to Eq. (16.32). The
result is a symmetrical VTC that switches at the midpoint of the supply; that is, VM = VDD/2. The symmetry,
as we have seen, equalizes and maximizes the noise margins.
The price paid for obtaining a perfectly symmetric VTC is that the width of the p-channel device can be
three to four times as large as that of the n-channel device. This can result in a relatively large silicon area,
which, besides being wasteful of silicon real estate, can also result in increased device capacitances and a
corresponding increase in the propagation delay of the inverter (Section 17.1). It is useful, therefore, to
inquire into the effect of not matching QN and QP. Toward that end we derive an expression for the
switching voltage VM as follows.
Since at M, both QN and QP operate in saturation, their currents are given by Eqs. (16.29) and (16.31),
respectively. Substituting vI = vO = VM, and equating the two currents results in
where
where we have assumed that QN and QP have the same channel length L, which is usually the case with L
equal to the minimum available for the given process technology. Note that the matched case corresponds to
r = 1. For |Vtp| = Vtn, and r = 1, Eq. (16.39) yields VM = VDD/2, as expected. For a given process, that is,
given values for VDD, Vtn, and Vtp, one can plot VM versus the matching parameter r. Such a plot, for a 65-
nm process, is shown in Fig. 16.26.

1.
2.
(a)
(b)
(c)
(d)
(e)
(f)
Figure 16.26 Variation of the inverter switching voltage, VM, with the parameter 
We make the following two observations:
VM increases with r. Thus, making kp > kn shifts VM toward VDD. Conversely, making kp < kn shifts
VM toward 0.
VM is not a strong function of r. For the particular case shown, lowering r by a factor of 2 (from 1 to
0.5), reduces VM by only 0.05 V.
Observation 2 implies that if one is willing to tolerate a small reduction in NML, substantial savings in
silicon area can be obtained. This point is illustrated in Example 16.3.
Example 16.3 CMOS Inverter Static Characteristics and Design
Consider a CMOS inverter fabricated in a 65-nm process for which VDD = 1.0 V, Vtn = |Vtp| = 0.35 V, μn = 5.4μp,
and μnCox = 540 µA/V2. In addition, QN and QP have L = 65 nm and (W/L)n = 1.5.
Find Wp that results in VM = VDD/2 = 0.5 V. What is the silicon area utilized by the inverter in this case?
For the matched case in (a), find the values of VOH, VOL, VIH, VIL, and the noise margins NML and NMH.
For vI = VIH, what value of vO results? This can be considered the worst-case value of VOL. Similarly, for vI
= VIL, find vO that is the worst-case value of VOH. Now, use these worst-case values to determine more
conservative values for the noise margins.
For the matched case in (a), find the output resistance of the inverter in each of its two states.
If λn = |λp| = 5 V−1, what is the inverter gain at vI = VM? If a straight line is drawn through the point vI = vO
= VM with a slope equal to the gain, at what values of vI does it intercept the horizontal lines vO = 0 and vO
= VDD? Use these intercepts to estimate the width of the transition region of the VTC.
If Wp = Wn, what value of VM results? What do you estimate the reduction of NML (relative to the matched
case) to be? What is the percentage savings in silicon area (relative to the matched case)?
Repeat (e) for the case Wp = 2Wn. This case, which is frequently used in industry, can be considered to be a
compromise between the minimum-area case in (e) and the matched case.

16.5
(a)
(b)
(c)
(d)
D16.6
EXERCISES
Consider a CMOS inverter fabricated in a 0.13-µm process for which VDD = 1.2 V, Vtn = −Vtp = 0.4V,
μn/μp = 4, and μnCox = 430 µA/V2. In addition, QN and QP have L = 0.13 µm and (W/L)n = 1.0.
Find Wp that results in VM = 0.6 V.
For the matched case in (a), find the values of VOH, VOL, VIH, VIL, NMH, and NML.
For the inverter in (a), find the output resistance in each of its two states.
For a minimum-size inverter for which (W/L)p = (W/L)n = 1.0, find VM.
A CMOS inverter utilizes VDD = 5 V, Vtn = |Vtp| = 1 V, and μnCox = 2μpCox = 50 µA/V2. Find (W/L)n
and (W/L)p so that VM = 2.5 V and so that for vI = VDD, the inverter can sink a current of 0.2 mA with
the output voltage not exceeding 0.2 V.
∨Show Solution
∨Show Answer
∨Show Answer

■
■
■
■
■
Summary
A CMOS logic gate consists of an NMOS pull-down network (PDN) and a PMOS pull-up network
(PUN). The PDN conducts for every input combination that requires a low output. Since an NMOS
transistor conducts when its input is high, the PDN is most directly synthesized from the expression for
the low output (
) as a function of the uncomplemented inputs. In a complementary fashion, the PUN
conducts for every input combination that corresponds to a high output. Since a PMOS conducts when its
input is low, the PUN is most directly synthesized from the expression for a high output (Y) as a function
of the complemented inputs.
The digital logic inverter is the basic building block of digital circuits, just as the amplifier is the basic
building block of analog circuits.
The static operation of a logic inverter is described by its voltage-transfer characteristic (VTC). The VTC
determines the inverter noise margins; refer to Fig. 16.13, Fig. 16.15, and Table 16.1 for the definitions
of important VTC points and the noise margins. In particular, note that NMH = VOH − VIH and NML =
VIL − VOL, and refer to the ideal VTC in Fig. 16.16.
The inverter is implemented using transistors operating as voltage-controlled switches. There are three
possible arrangements, shown in Figs. 16.17, 16.18, and 16.19. The arrangement in Fig. 16.18 results in a
high-performance inverter and is the basis for the CMOS inverter studied in Section 16.3.
Table 16.2 provides a summary of the important characteristics of the CMOS inverter.
Table 16.2 Summary of Important Static Characteristics of the CMOS Logic Inverter


(a)
(b)
(c)
(a)
(b)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by the LTSpice icon are intended to demonstrate the value of using SPICE simulation to
verify hand analysis and design, and to investigate important issues such as gate noise margins and propagation
delays. Instructions to assist in setting up simulations for all the indicated problems can be found in the
corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
Section 16.1: CMOS Logic-Gate Circuits
16.1 Consider MOS transistors fabricated in a 65-nm process for which μnCox = 540 µA/V2, μpCox = 100 µA/V2,
Vtn = −Vtp = 0.35 V, and VDD = 1V.
Find Ron of an NMOS transistor with W/L = 1.5.
Find Ron of a PMOS transistor with W/L = 1.5.
If Ron of the PMOS device is to be equal to that of the NMOS device in (a), what must (W/L)p be?
16.2 The CMOS inverter of Fig. 16.2(b) is implemented in a 0.13-µm process for which μnCox = 500 µA/V2, μpCox
= 125 µA/V2, Vtn = −Vtp = 0.4 V, and VDD = 1.2 V. The NMOS transistor has (W/L)n = 1.5.
What must (W/L)p be if QN and QP are to have equal Ron resistances?
Find the value of Ron.
16.3 Give the CMOS circuit that realizes a three-input NOR gate.
16.4 Give the CMOS circuit for a three-input NAND gate.
16.5 Find the PUN that corresponds to the PDN shown in Fig. P16.5, and hence the complete CMOS logic circuit.
What is the Boolean function realized?
∨Show Answer
∨Show Answer

Figure P16.5
16.6 Find the PUN that corresponds to the PDN shown in Fig. P16.6, and hence the complete CMOS logic circuit.
What is the Boolean function realized?
Figure P16.6
16.7 Find the PDN that corresponds to the PUN shown in Fig. P16.7, and hence the complete CMOS logic circuit.
What is the Boolean function realized?

(a)
(b)
(c)
(d)
Figure P16.7
16.8 Give the CMOS realization for the Boolean function
16.9 Find the PDN that is the dual of the PUN in Fig. 16.10(a) and hence give a CMOS realization of the exclusive-
OR (XOR) function.
D 16.10 Provide a CMOS logic gate circuit that realizes the function
How many transistors are required? Explore the possibility of reducing the number of the transistors required.
D 16.11 Sketch a CMOS logic circuit that realizes the function 
 This is called the equivalence or
coincidence function.
D 16.12 Sketch a CMOS logic circuit that realizes the function 
D*16.13 It is required to design a CMOS logic circuit that realizes a three-input, even-parity checker. Specifically,
the output Y is to be low when an even number (0 or 2) of the inputs A, B, and C are high.
Give the Boolean function 
.
Sketch a PDN directly from the expression for 
. Note that it requires 12 transistors in addition to those in the
inverters.
From inspection of the PDN circuit, reduce the number of transistors to 10 (not counting those in the
inverters).
Find the PUN as a dual of the PDN in (c), and hence the complete realization.
D *16.14 Give a CMOS logic circuit that realizes the function of a three-input, odd-parity checker. Specifically, the
output is to be low when an odd number (1 or 3) of the inputs are high. Attempt a design with 10 transistors (not
counting those in the inverters) in each of the PUN and the PDN.

(a)
(b)
(c)
(a)
(b)
(c)
D *16.15 Design a CMOS full-adder circuit with inputs A, B, and C, and two outputs S and C0 such that S is 1 if
one or three inputs are 1, and C0 is 1 if two or more inputs are 1.
Section 16.2: Digital Logic Inverters
16.16 A particular logic inverter is specified to have VIL = 0.5 V, VIH = 0.7 V, VOL = 0.1 V, and VOH = 1.2 V. Find
the high and low noise margins, NMH and NML.
16.17 The voltage-transfer characteristic of a particular logic inverter is modeled by three straight-line segments in
the manner shown in Fig. 16.13. If VIL = 1.1 V, VIH = 1.2 V, VOL = 0.3 V, and VOH = 1.5 V, find:
the noise margins
the value of VM
the voltage gain in the transition region
16.18 For a particular inverter design using a power supply VDD, VOL = 0.1VDD, VOH = 0.8VDD, VIL = 0.25VDD,
and VIH = 0.6VDD. What are the noise margins? What is the width of the transition region? For a minimum noise
margin of 0.25 V, what value of VDD is required?
*16.19 Consider an inverter implemented as in Fig. 16.17. Let VDD = 1.8 V, R = 2 kΩ, Ron = 100 Ω, VIL = 0.6 V,
and VIH = 0.8 V.
Find VOL, VOH, NMH, and NML.
The inverter is driving N identical inverters. Each of these load inverters, or fan-out inverters as they are
usually called, is specified to require an input current of 0.1 mA when the input voltage (of the fan-out
inverter) is high and zero current when the input voltage is low. Noting that the input currents of the fan-out
inverters will have to be supplied through R of the driving inverter, find the resulting value of VOH and of
NMH as a function of the number of fan-out inverters N. Hence find the maximum value N can have while the
inverter is still providing an NMH value that is greater than or equal to its NML.
Find the power dissipation in the inverter in the two cases: (i) the output is low, and (ii) the output is high and
driving the maximum fan-out found in (b).
16.20 For an inverter employing a 1.8-V supply, suggest an ideal set of values for VM, VIL, VIH, VOL, VOH, NML,
NMH. Also, sketch the VTC. What value of voltage gain in the transition region does your ideal specification
imply?
*16.21 For a particular inverter, the basic technology used provides an inherent limit to the small-signal, low-
frequency voltage gain of 50 V/V. If, with a 1-V supply, the values of VOL and VOH are ideal, but VM = 0.4VDD,
what are the best possible values of VIL and VIH that can be expected? What are the best possible noise margins you
could expect? Find the large-signal voltage gain, where the gain is defined by (VOH − VOL)/(VIL − VIH). (Hint)
*16.22 A logic-circuit type intended for use in a digital-signal-processing application in a newly developed hearing
aid can operate down to single-cell supply voltages of 0.9 V. If for its inverter, the output signals swing between 0
and VDD, the “gain-of-one” points are separated by less than 
 VDD, and the noise margins are within 30% of one
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
another, what ranges of values of VIL, VIH, VOL, VOH, NML, and NMH can you expect for the lowest possible
battery supply?
D 16.23 Design the inverter circuit in Fig. 16.12(a) to provide VOH = 1.0 V, VOL = 50 mV, and so that the current
drawn from the supply in the low-output state is 30 µA. The transistor has Vt = 0.35 V, μnCox = 540 µA/V2, and λ =
0. Specify the required values of VDD, RD, and W/L. How much power is drawn from the supply when the output is
high? When the output is low?
D 16.24 Refer to the analysis of the resistive-load MOS inverter in Example 16.2 and utilize the expressions
derived there for the various inverter parameters. Design the circuit to satisfy the following requirements: VOH =
1.2 V, VOL = 50 mV, and the power dissipation in the low-output state = 50 µW. The transistor available has Vt =
0.4 V, μnCox = 500 µA/V2, and λ = 0. Specify the required values of VDD, RD, and W/L. What are the values
obtained for VIL, VM, VIH, NML, and NMH?
D *16.25 Refer to the analysis of the resistive-load MOS inverter in Example 16.2 and utilize the expressions
derived there for the various inverter parameters. For a technology for which Vt = 0.3VDD, it is required to design
the inverter to obtain VM = VDD/2. In terms of VDD, what is the required value of the design parameter Vx? What
values are obtained for VOH, VOL, VIL, VIH, NMH, and NML, in terms of VDD? Give numerical values for the case
VDD = 1.0V. Now, express the power dissipated in the inverter in its low-output state in terms of the transistor’s
W/L ratio. Let 
 = 540 µA/V2. If the power dissipation is to be limited to approximately 100 µW, what W/L ratio
is needed and what value of RD is used?
*16.26 Consider a pseudo-NMOS inverter as shown in Fig. 16.21 and fabricated in a 65-nm CMOS technology for
which VDD = 1.0 V, |Vt| = 0.35 V, kn/kp = 5.4, and kn = 540 µA/V2.
Find VOH.
Derive an equation for VOL that is a function of VDD, Vt, and kn/kp.
Evaluate the equation using the process parameters in the problem statement.
**16.27 Derive an expression for VM of the pseudo-NMOS inverter shown in Fig. 16.21. You may assume that Vt =
Vtn = |Vtp| and r ≡ kn/kp.
Section 16.3: The CMOS Inverter
16.28 Consider a CMOS inverter fabricated in a 65-nm CMOS process for which VDD = 1 V, Vtn = −Vtp = 0.35 V,
and μnCox = 5.4μpCox = 540 µA/V2. In addition, QN and QP have L = 65 nmand (W/L)n = 1.5.
Find Wp that results in VM = VDD/2. What is the silicon area utilized by the inverter in this case?
For the matched case in (a), find the values of VOH, VOL, VIH, VIL, NML, and NMH.
For the matched case in (a), find the output resistance of the inverter in each of its two states.
∨Show Answer
∨Show Answer
∨Show Answer

16.29 Consider a CMOS inverter fabricated in a 0.25-µm CMOS process for which VDD = 2.5 V, Vtn = −Vtp = 0.5
V, and μnCox = 3.5 μpCox = 115µA/V2. In addition, QN and QP have L = 0.25µm and (W/L)n = 1.5. Investigate the
variation of VM with the ratio Wp/Wn. Specifically, calculate VM for (a) Wp = 3.5Wn (the matched case), (b) Wp =
Wn (the minimum-size case); and (c) Wp = 2Wn (a compromise case). For cases (b) and (c), estimate the
approximate reduction in NML and silicon area relative to the matched case (a).
*16.30 For a technology in which Vtn = 0.3VDD, show that the maximum current that the inverter can sink while its
low-output level does not exceed 0.1 VDD is 0.065 
. For VDD = 1.2V, 
 = 500 µA/V2, find
(W/L)n that permits this maximum current to be 0.1 mA.
16.31 A CMOS inverter for which kn = 5kp = 250 µA/V2 and Vt = 0.4 V is connected as shown in Fig. P16.31 to a
sinusoidal signal source having a Thévenin equivalent voltage of 0.1-V peak amplitude and resistance of 100 kΩ.
What signal voltage appears at node A with vI = +1.5 V? With vI = –1.5 V?
Figure P16.31
D 16.32 There are situations in which QN and QP of the CMOS inverter are deliberately mismatched to realize a
certain desired value for VM. Show that the value required of the parameter r of Eq. (16.40) is given by
For a 65-nm process characterized by Vtn = −Vtp = 0.35V, VDD = 1.0V, and μn = 5.4μp, find the ratio Wp/Wn
required to obtain VM = 0.6VDD.
16.33 Consider the CMOS inverter of Fig. 16.22 with QN and QP matched and with the input vI rising slowly from
0 to VDD. At what value of vI does the current flowing through QN and QP reach its peak? Give an expression for
the peak current, neglecting λn and λp. For 
 = 540 µA/V2, (W/L)n = 1.5, VDD = 1.0 V, and Vtn = 0.35V, find the
value of the peak current.
∨Show Answer
∨Show Answer

16.34 Repeat Example 16.3 for a CMOS inverter fabricated in a 0.13-µm process for which VDD = 1.3 V, Vtn = |
Vtp | = 0.4 V, μn = 4μp, and μnCox = 500 µA/V2. In addition, QN and QP have L = 0.13 µm and (W/L)n = 1.5. For
part (a) use VM = VDD/2 = 0.65 V.
16.35 Redo Exercise 16.5 using the following parameters from a 28-nm CMOS technology: VDD = 0.9 V, Vtn =
−Vtp = 0.3 V, μn/μp = 1.5, and μnCox = 750 µA/V2. QN and QP have L = 28 nm and (W/L)n = 2.0.
∨Show Answer

17.1
17.2
17.3
17.4
•
•
•
•
CHAPTER 17
Digital Design: Power, Speed, and
Area
Introduction
Dynamic Operation of the CMOS Inverter
Transistor Sizing
Power Dissipation
Implications of Technology Scaling: Issues in Deep-Submicron Design
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
How to analyze the dynamic performance of a CMOS inverter.
How to select sizes for the transistors in a CMOS logic circuit so as to meet various performance
requirements.
The sources of power consumption in logic circuits, with emphasis on CMOS, and the trade-off
between power dissipation and speed of operation.
The implications of technology scaling (Moore’s law) over more than 50 years, and some of the current
challenges and opportunities in the design of nanoscale digital circuits.

Introduction
In Chapter 16, we studied the basic principles underlying the construction and static operation of CMOS
logic circuits. Having done this, we can now turn our attention to the three most important design
considerations for digital circuits: speed, power, and area. High-speed circuits are often needed to meet
consumer demands, low-power operation is often required to meet thermal or battery constraints, and circuit
area has a very significant impact on cost. Therefore, optimizing each of these metrics is extremely
important. However, as we will see, optimizing any one of these metrics often comes at a cost to the other
two—an unfortunate yet common circumstance in any field of engineering! Consider speed, for instance. We
will see in this chapter that increasing current by making a transistor larger can improve speed; however, the
larger transistor requires greater area and, owing to the larger current and parasitic capacitances, more power.
This chapter provides an overview of design and optimization approaches for combinational CMOS logic
circuits, with a focus on these three metrics. We will explore several interrelated aspects, with a focus on
analyzing and optimizing speed of operation (Section 17.1), selecting appropriate transistor sizes (Section
17.2), and identifying and characterizing sources of power consumption (Section 17.3). This lays the
groundwork for the study of sequential and memory circuits in Chapter 18.
Section 17.4 looks at the implications of Moore’s law on digital integrated circuit design. Specifically,
over the last 50 years or so, MOSFET dimensions have been reduced by a factor of 2 every 5 years. This
scaling has been accompanied by reductions in VDD and Vt. We will consider both the opportunities and the
challenges that come with scaling, especially in terms of speed, area, and power. Finally, we will offer some
insights to assist designers in adapting their knowledge to emerging technologies and logic circuit families
not covered in this textbook.

1.
17.1 Dynamic Operation of the CMOS Inverter
The speed of operation of a digital system (e.g., a computer) is determined by the propagation delay of the
logic gates used to construct the system. Since the inverter is the basic logic gate of any digital IC
technology, the propagation delay of the inverter is a fundamental parameter in characterizing the speed of a
given technology. We begin our study of the dynamic operation of CMOS in Section 17.1.1 by considering
the propagation delay of a general inverter circuit. There, we introduce key definitions and analysis methods
that are applied in the CMOS case in Sections 17.1.2 and 17.1.3.
17.1.1 Propagation Delay
The propagation delay is the time the inverter takes to respond to a change at its input. To be specific, let us
consider an inverter fed with the ideal pulse shown in Fig. 17.1(a). The resulting output signal of the inverter
is shown in Fig. 17.1(b). Notice that:
Figure 17.1 An inverter fed with the ideal pulse in (a) provides at its output the pulse in (b). Two delay times are defined
as indicated.
The output signal is no longer an ideal pulse. Rather, it has rounded edges; that is, the pulse takes some
time to fall to its low value and to rise to its high value. In technical terms, we say that the pulse has
finite fall and rise times. We will provide a precise definition of these shortly.

2.
(17.1)
1.
(17.2)
2.
(17.3)
There is a time delay between each edge of the input pulse and the corresponding change in the output
of the inverter. If we define the “switching point” of the output as the time at which the output pulse
passes through the half-point of its excursion, then we can define the propagation delays of the inverter
as indicated in Fig. 17.1(b). Note that there are two propagation delays, which are not necessarily
equal: the propagation delay for the output going from high to low, tPHL, and the propagation delay for
the output going from low to high, tPLH. The inverter propagation delay tP is defined as the average of
the two,
At this point, you are likely wondering about the cause of the finite propagation time of the inverter. It is
simply a result of the time needed to charge and discharge the various capacitances in the circuit. These
include the MOSFET capacitances, the wiring capacitance, and the input capacitances of all the logic gates
driven by the inverter. We will have a lot more to say about these capacitances and about the determination
of tP shortly. For the time being, however, be aware that
A fundamental relationship in analyzing the dynamic operation of a circuit is
That is, a current I flowing through a capacitance C for an interval ∆t deposits a charge ∆Q on the
capacitor, which causes the capacitor voltage to increase by ∆V.
A thorough familiarity with the time response of single-time-constant (STC) circuits is of great help in
the analysis of the dynamic operation of digital circuits. A review of this subject is presented in
Appendix E. For our purposes here, we remind you of the key equation in determining the response to
a step function. Consider a step-function input applied to an STC circuit, either low-pass or high-pass,
and let the circuit have a time constant τ . The output at any time t is given by
where Y∞ is the final value, that is, the value toward which the response is heading, and Y0+ is the
value of the response immediately after t = 0. This equation states that the output at any time t is equal
to the difference between the final value Y∞ and a gap whose initial value is Y∞ –Y0+ and that is
shrinking exponentially.
Example 17.1 Calculating the Propagation Delay of a Simple Inverter
For the inverter in Fig. 17.2(a), consider the case where a capacitor C is connected between the output node and
ground. If at t = 0, vI goes low, and assuming that the transistor turns off instantaneously, find the time for vO to
reach 
 (VOH + VOL). This is the low-to-high propagation time, tPLH. Calculate the value of tPLH for the case R
= 25 kΩ and C = 8 fF.

17.1
17.2
Figure 17.2 Example 17.1: (a) Inverter schematic circuit. (b) The inverter circuit after vI goes low and the
switch opens (i.e., for t > 0). (c) Waveforms of vI and vO. Observe that the switch is assumed to operate
instantaneously. vO rises exponentially, starting at VOL and heading toward VOH.
EXERCISES
A capacitor C whose initial voltage is 0 is charged to a voltage VDD by a constant-current source I.
Find the time tPLH at which the capacitor voltage reaches (VDD/2). What value of I is required to obtain
a 10-ps propagation delay with C = 10 fF and VDD = 1.2V?
For the inverter of Fig. 16.18(a), let the on-resistance of PU be 20 kΩ and that of PD = 10 kΩ. If the
capacitance C between the output and ground is 10 fF, find tPLH, tPHL, and tP.
We conclude this section by showing in Fig. 17.3 the formal definition of the propagation delay of an
inverter. As shown, an input pulse with finite (nonzero) rise and fall times is applied. The inverted pulse at
the output exhibits finite rise and fall times (labeled tTLH and tTHL, where the subscript T denotes transition,
LH denotes low to high, and HL denotes high to low). There is also a delay time between the input and
output waveforms. As given in Eq. (17.1), the usual way to specify the propagation delay is to take the
average of the high-to-low propagation delay, tPHL, and the low-to-high propagation delay, tPLH. As
∨Show Solution
∨Show Answer
∨Show Answer

17.3
1.
indicated, these delays are measured between the 50% points of the input and output waveforms. Also note
that the transition times are specified using the 10% and 90% points of the output excursion (VOH − VOL).
Figure 17.3 Definitions of propagation delays and transition times of the logic inverter.
EXERCISE
A capacitor C = 100 fF is discharged from a voltage VDD to zero through a resistance R = 2 kΩ. Find
the fall time tf of the capacitor voltage.
17.1.2 Determining the Propagation Delay of the CMOS Inverter
Our strategy for determining the propagation delay of the CMOS inverter consists of two steps:
Replace all the capacitances in the circuit; that is, the various capacitances associated with QN and QP,
the capacitance of the wire that connects the output of the inverter to other circuits, and the input
∨Show Answer

2.
capacitance of the logic gates the inverter drives, by a single equivalent capacitance C connected
between the output node of the inverter and ground.
Analyze the resulting capacitively loaded inverter to determine its tPLH and tPHL, and hence tP.
We shall study these two separable steps in reverse order. Thus, in this section we show how the propagation
delay can be determined. Then, in Section 17.1.3, we show how to calculate the value of C.
Figure 17.4(a) shows a CMOS inverter with a capacitance C connected between its output node and
ground. To determine the propagation delays tPHL and tPLH, we apply to the input an ideal pulse, that is, one
with zero rise and fall times, as shown in Fig. 17.4(b). Since the circuit has a symmetric structure, the
analyses to determine the two propagation delays will be similar. Therefore, we will derive tPHL in detail and
extrapolate the result to determine tPLH.
Figure 17.4 (a) Dynamic operation of a capacitively loaded CMOS inverter: circuit.

Figure 17.4 (b) Dynamic operation of a capacitively loaded CMOS inverter: input and output waveforms.
Figure 17.4 (c) Dynamic operation of a capacitively loaded CMOS inverter: equivalent circuit during the capcitor
discharge.

(17.4)
Figure 17.4 (d) Dynamic operation of a capacitively loaded CMOS inverter: trajectory of the operating point as the input
goes high and C discharges through QN.
Just prior to the leading edge of the input pulse (i.e., at t = 0−), the output voltage is equal to VDD and
capacitor C is charged to this voltage. At t = 0, vI rises to VDD, causing QP to turn off and QN to turn on.
From then on, the circuit is equivalent to that shown in Fig. 17.4(c), with the initial value of vO = VDD. Thus,
at t = 0+, QN will operate in the saturation region and will supply a relatively large current to begin the
process of discharging C. Figure 17.4(d) shows the trajectory of the operating point of QN as C is discharged.
Here we are interested in the interval tPHL during which vO reduces from VDD to VDD/2. Correspondingly,
the operating point of QN moves from E to M. For a portion of this time, corresponding to the segment EF of
the trajectory, QN operates in saturation. Then at F, vO = VDD − Vt, and QN enters the triode region.
A simple approach for determining tPHL consists of first calculating the average value of the current
supplied by QN over the segment EM. Then, we use this average value of the discharge current to
approximate tPHL by means of the charge balance equation
resulting in
The value of Iav can be found as follows:

(17.5)
(17.6)
(17.7)
(17.8)
(17.9)
(17.10)
(17.11)
1.
where
and
Note that we have assumed λn = 0. Combining Eqs. (17.4) to (17.7) provides
where αn is a factor determined by the relative values of Vt and VDD;
The value of αn typically falls in the range of 1 to 3.
An expression for the low-to-high inverter delay, tPLH, can be written by analogy to the tPHL expression
in Eq. (17.8),
where
Finally, the propagation delay tP can be found as the average of tPHL and tPLH, as in Eq. (17.1). Examination
of the formulas in Eqs. (17.8) to (17.11) enables us to make a number of useful observations:
As expected, the two components of tP can be equalized by selecting the (W/L) ratios to equalize kn
and kp, that is, by matching QN and QP. This assumes that αn = αp, which is obtained when Vtn = −Vtp.

2.
3.
4.
5.
(17.12)
(17.13)
Since tP is proportional to C, the designer should strive to reduce C. This is achieved by using the
minimum possible channel length and by minimizing wiring and other parasitic capacitances. Careful
layout of the chip can result in significant reduction in such capacitances.
Using a process technology with larger transconductance parameter kʹ can result in shorter propagation
delays. Keep in mind, however, that for such processes Cox is increased, and thus the value of C
increases at the same time (more on this in Section 17.4).
Using larger W/L ratios can result in a reduction in tP. Care should be taken here, however, since
increasing the size of the devices increases the value of C, so that the expected reduction in tP might
not be possible. Reducing tP by increasing W/L, however, is an effective strategy when C is dominated
by components not directly related to the size of the driving device (such as wiring or fan-out devices).
A larger supply voltage VDD results in a lower tP. However, VDD is determined by the process
technology and thus is often not under the control of the designer. Furthermore, modern process
technologies in which device sizes are reduced require lower VDD (see Appendix K). A motivating
factor for lowering VDD is the need to keep the dynamic power dissipation at acceptable levels,
especially in very-high-density chips. We will have more to say on this point in Section 17.3.
These observations clearly illustrate the conflicting requirements and the trade-offs available in the design of
a CMOS digital integrated circuit.
An Alternative Approach The formulas derived above for tPHL and tPLH underestimate the delay values for
inverters implemented in deep-submicron technologies. This arises because of the velocity-saturation effect,
which we shall discuss briefly in Section 17.4. Velocity saturation results in lower MOSFET currents than
are predicted in the saturation region, and hence in increased delay times. To deal with this problem, we
present a very simple alternative approach to estimating the inverter propagation delay.
Figure 17.5 illustrates the alternative approach. During the discharge delay tPHL, QN is replaced by an
equivalent resistance RN. Similarly, during the charging delay tPLH, QP is replaced by an equivalent
resistance RP. It is easy to show that
and
Figure 17.5 (a) Equivalent circuit for determining the propagation delays tPHL of the inverter.

(17.14)
(17.15)
(17.16)
(17.17)
Figure 17.5 (b) Equivalent circuit for determining the propagation delay tPLH of the inverter.
Values for RN and RP can be estimated by simulation or found empirically. Often, when using a new
technology, a designer (who is often part of a larger design team) simulates the circuits of Fig. 17.5 using
“unit-sized” NMOS and PMOS transistors (i.e., transistors with known dimensions Weff and Leff ) and a large
external load capacitance C (chosen so that it dominates over the transistor’s internal capacitances). Based on
these simulations, values of tPHL and tPLH can be obtained, and hence, effective values of RN and RP for that
particular transistor size, which we denote as as Reff,N and Reff,P, can be determined based on Eqs. (17.12)
and (17.13). Following this, values of RN and RP for transistors with dimensions Wn/Ln and Wp/Lp,
respectively, can be estimated as:
Depending on the technology and transistor dimensions, values of RN and RP typically range from tens
of Ω to several kΩ. For CMOS technologies including 0.25 µm, 0.18 µm, and 0.13 µm, it has been found
that values of Reff,N = 12.5 kΩ and Reff,P = 30 kΩ are quite accurate for Weff /Leff = 1 (see Hodges et al.,
2004).
Finally, note that the delay expressions in Eqs. (17.12) and (17.13) are obtained by assuming that the
inverter is driven by a step-input voltage. In the more practical case of a ramp-input voltage, it has been
shown that the 0.69 factor approaches unity, thus
and
Example 17.2 Determining the Propagation Delay of the CMOS Inverter

17.4
D17.5
For a 65-nm process characterized by VDD = 1.0 V, Vtn = −Vtp =0.35V, 
, find
tPLH, tPHL, and tP for an inverter for which (W/L)n = 1.5 and (W/L)p =3, and for C = 5 fF. In this technology,
transistors with (W/L) = 1.5 are found to have Reff,N = 8 kΩ and Reff,P = 24 kΩ. Use both the approach based on
average currents and the one based on equivalent resistances, and compare your results. If to save on power
dissipation the inverter is operated at VDD = 0.8 V, by what factor does tP change?
Before leaving the subject of propagation delay, we should emphasize that hand analysis using the simple
formulas above should not be expected to yield precise results. Rather, its value is in obtaining design
insight. Precise results can always be obtained using SPICE simulations (see examples in Appendix B and
the extensive material on the website). However, it is never a good idea to use simulation without knowing
beforehand approximate values of the expected results.
EXERCISES
For a CMOS inverter fabricated in a 0.18-µm process with VDD = 1.8 V, Vtn = −Vtp = 0.5 V, 
, and having (W/L)n = 1.5 and (W/L)p = 3, find tPHL, tPLH, and tP when
the equivalent load capacitance C = 10 fF. Use the method of average currents.
For a CMOS inverter fabricated in a 0.13-µm process, use the equivalent-resistances approach to
determine (W/L)n and (W/L)p so that tPLH = tPHL = 50 ps when the effective load capacitance C = 20
fF. Use Reff,N = 12.5 kΩ and Reff,P = 30 kΩ for Weff /Leff = 1.
17.1.3 Determining the Equivalent Load Capacitance C
Having determined the propagation delay of the CMOS inverter in terms of the equivalent load capacitance
C, it now remains to determine the value of C. For this purpose, a thorough understanding of the various
capacitances in a MOS transistor is essential, and we strongly encourage you to review the material in
Section 10.1.1.
Figure 17.6 shows the circuit for determining the propagation delay of the CMOS inverter formed by Q1
and Q2. Note that we are showing the inverter driving a similar inverter formed by transistors Q3 and Q4.
This reflects a practical situation and will help us explain how to determine the contribution of a driven
inverter to the equivalent capacitance C at the output of the inverter under study (that formed by Q1 and Q2).
Shown in Fig. 17.6 are the various transistor capacitances that connect to the output node of the Q1−Q2
inverter. Also shown is the wiring capacitance Cw, which represents the capacitance of the wire or
interconnect that connects the output of the Q1−Q2 inverter to the input of the Q3−Q4 inverter. Interconnect
capacitances have become increasingly dominant as the technology has scaled down. In fact, some digital IC
∨Show Solution
∨Show Answer
∨Show Answer

1.
2.
designers hold the view that interconnect poses a greater limitation on the speed of operation than the
transistors themselves. We will discuss this topic briefly in Section 17.4.
Figure 17.6 Circuit for analyzing the propagation delay of the inverter formed by Q1 and Q2, which is driving a similar
inverter formed by Q3 and Q4.
A glance at the circuit in Fig. 17.6 should be sufficient to indicate that a pencil-and-paper analysis is
virtually impossible. That, of course, is the reason we opted for the simplification of replacing all these
capacitances with an equivalent capacitance C. Before we consider the determination of C, it is useful to
observe that during tPLH or tPHL, the output of the first inverter changes from 0 to VDD/2 or from VDD to
VDD/2, respectively. Assuming that the switching threshold of the second inverter is VDD/2, it follows that
the second inverter remains in the same state during each of our analysis intervals. This observation will
have an important bearing on our estimation of the equivalent input capacitance of the second inverter. Let’s
now consider the contribution of each of the capacitances in Fig. 17.6 to the value of the equivalent load
capacitance C:
The gate-drain overlap capacitance of Q1, Cgd1, can be replaced by an equivalent capacitance between
the output node and ground of 2Cgd1. The factor 2 arises because of the Miller effect (Section 10.2).
Specifically, refer to Fig. 17.7 and note that as vI goes high and vO goes low by the same amount, the
change in voltage across Cgd1 is twice that amount. Thus the output node sees in effect twice the value
of Cgd1. The same applies for the gate-drain overlap capacitance of Q2, Cgd2, which is replaced by a
capacitance 2Cgd2 between the output node and ground.
Each of the drain-body capacitances Cdb1 and Cdb2 has a terminal at a constant voltage. Thus for the
purpose of our analysis here, Cdb1 and Cdb2 can be replaced with equal capacitances between the
output node and ground. Note, however, that the formula given in Section 10.1.1 for calculating Cdb1
and Cdb2 is a small-signal relationship, whereas the analysis here is obviously a large-signal one. A

3.
(17.18)
4.
(17.19)
(17.20)
technique has been developed for finding equivalent large-signal values for Cdb1 and Cdb2 (see
Hodges et al., 2004 and Rabaey et al., 2003).
Since the second inverter does not switch states, we assume that the input capacitances of Q3 and Q4
remain approximately constant and equal to the total gate capacitance (WLCox + Cgsov + Cgdov). That
is, the input capacitance of the load inverter will be
The last component of C is the wiring capacitance Cw, which simply adds to the value of C.
Thus, the total value of C is given by
Figure 17.7 The Miller multiplication of the feedback capacitance Cgd1.
Example 17.3 Determining the Effective Load Capacitance C and the Propagation Delay
Consider a CMOS inverter fabricated in a 28-nm process for which Cox = 34 fF/µm2, Reff,N = 15 kΩ for (W/L)n
= 1.0, and Reff,P = 20 kΩ for (W/L)p = 1.0. The W/L ratio of QN is 60 nm/28 nm, and that of QP is 60 nm/28 nm.
The gate-source and gate-drain overlap capacitances are specified to be 0.4 fF/µm of gate width. Further, the
effective (large-signal) values of drain-body capacitances are Cdbn = 0.03 fF and Cdbp = 0.03 fF. The wiring
capacitance Cw = 0.5 fF. Find tPHL, tPLH, and tP when the inverter is driving an identical inverter.
A common way to report a typical delay for a particular technology is through a fanout of 4 (FO4)
inverter delay, which represents the delay of a single inverter of known dimensions driving a load consisting
of four identical inverters, hence where Cg3 = 4 × Cg1 and Cg4 = 4 × Cg2. We can thus modify Eq. (17.19)
for an FO4 inverter as follows:
EXERCISES
∨Show Solution

17.6
17.7
Consider the inverter specified in Example 17.3 when loaded with an additional 10-fF capacitance.
What will the propagation delay become?
Consider the inverter specified in Example 17.3, including the wire with Cw = 0.5 fF. However, in this
case the inverter is driving four identical inverters (i.e., FO4). What is the total capacitance C? What is
the value of tP?
∨Show Answer
∨Show Answer

1.
2.
3.
4.
(17.21)
(17.22)
17.2 Transistor Sizing
We will now address the extremely important design question of selecting appropriate sizes (i.e., L and W/L
values) for all transistors in a CMOS logic circuit. We begin with the CMOS inverter and then consider
general logic gates.
17.2.1 Inverter Sizing
In this section, we are concerned with selecting appropriate values for the channel length L and the (W/L)
ratios for the two transistors QN and QP in an inverter. Our reasoning can be summarized as follows.
To minimize area, the length of all channels is usually made equal to the minimum length permitted by
the given technology.
In a given inverter, if our interest is strictly to minimize area, (W/L)n can be selected in the range from
1 to 1.5, which minimizes driving current. However, in more recent technologies it has become
common to use slightly higher values, closer to 2 and above.
The selection of (W/L)n relative to (W/L)p affects the noise margins and tPLH. Both are optimized by
matching QP and QN. Historically, the value of 
 has significantly exceeded that of 
 often by a
factor of 3 to 5. In those technologies, matching QP and QN is often wasteful of area and has the
potential to increase the effective capacitance C, and although tPHL and tPLH are matched, delay may
in fact end up higher than in the case without matching. To avert these problems, selecting (W/L)p =
(W/L)n is a possibility, and (W/L)p = 2(W/L)n is a frequent compromise. In emerging technologies
(e.g., the 28-nm process), 
 and 
 are closer in value, and it has become more common to use
(W/L)p = (W/L)n.
Having settled on an appropriate ratio of (W/L)p to (W/L)n, we still have to select (W/L)n to reduce tP
and thus allow higher speeds of operation. Any increase in (W/L)n and proportionally in (W/L)p will of
course increase area, and hence the inverter contribution to the value of the equivalent capacitance C.
To be more precise we express C as the sum of an intrinsic component Cint contributed by QN and QP
of the inverter, and an extrinsic component Cext resulting from the wiring and the input capacitance of
the driven gates,
Increasing (W/L)n and (W/L)p of the inverter by a factor S relative to that of a minimum-size inverter
for which Cint = Cint0 results in
Now, if we use the equivalent-resistances approach to compute tP and define an equivalent inverter
resistance Req as

(17.23)
(17.24)
(17.25)
(17.26)
17.8
(a)
(b)
(c)
(d)
then,
Further, if for the minimum-size inverter Req is Req0, increasing (W/L)n and (W/L)p by the factor S
reduces Req by the same factor:
Combining Eqs. (17.24), (17.25), and (17.22), we obtain
We can see, then, that scaling the W/L ratios does not change the component of tP caused by the
capacitances of QN and QP. It does, however, reduce the component of tP that results from
capacitances external to the inverter itself. It follows that we can use Eq. (17.26) to decide on a
suitable scaling factor S that keeps tP below a specified maximum value, keeping in mind of course the
effect of increasing S on silicon area.
EXERCISE
For the inverter analyzed in Example 17.3:
Find the intrinsic and extrinsic components of C.
By what factor must (W/L)n and (W/L)p be increased to reduce the extrinsic part of tP by a factor
of 2?
Estimate the resulting tP.
By what factor is the inverter area increased?
17.2.2 Transistor Sizing in CMOS Logic Gates
∨Show Answer
FEDERICO FAGGIN: PIONEER IN MICROPROCESSOR ELECTRONICS
∨

(17.27)
(17.28)
Once a CMOS gate circuit has been generated, the only significant step remaining in the design is to decide
on W/L ratios for all devices. These ratios usually are selected to provide the gate with current-driving
capability in both directions equal to that of the basic inverter. For the basic inverter design, denote (W/L)n =
n and (W/L)p = p, where n is usually 1 to 3, depending on technology (using larger numbers for newer
technologies), and, for a matched design, p = (μn/μp) n; it should be noted, however, that often p = 2n and for
minimum area p = n. Thus, we wish to select individual W/L ratios for all transistors in a logic gate so that
the PDN should be able to provide a capacitor discharge current at least equal to that of an NMOS transistor
with W/L = n, and the PUN should be able to provide a charging current at least equal to that of a PMOS
transistor with W/L = p. This will guarantee a worst-case gate delay equal to that of the basic inverter.1
In the preceding description, the idea of “worst case” should be emphasized. It means that in deciding on
device sizing, we should find the input combinations that result in the lowest output current and then choose
sizes that will make this current equal to that of the basic inverter. Before we consider examples, we need to
address the issue of determining the current-driving capability of a circuit consisting of a number of MOS
devices. In other words, we need to find the equivalent W/L ratio of a network of MOS transistors. To that
end, we consider the parallel and series connection of MOSFETs and find the equivalent W/L ratios.
The derivation of the equivalent W/L ratio is based on the fact that the on-resistance of a MOSFET is
inversely proportional to W/L (see Eqs. 17.14 and 17.15). Thus, if a number of MOSFETs having ratios of
(W/L)1, (W/L)2, . . ., are connected in series, the equivalent series resistance obtained by adding the on-
resistances will be
resulting in the following expression for (W/L)eq for transistors connected in series:
Similarly, we can show that the parallel connection of transistors with W/L ratios of (W/L)1, (W/L)2,..., results
in an equivalent W/L of

As an example, two identical MOS transistors with individual W/L ratios of 4 result in an equivalent W/L
of 2 when connected in series and of 8 when connected in parallel. We can think about this another way.
Connecting MOS transistors in series is equivalent to adding the lengths of their channels while the width
does not change; connecting MOS transistors in parallel does not change the channel length but increases the
width to the sum of the W’s.
As an example of proper sizing, consider the four-input NOR in Fig. 17.8. Here, the worst case (the
lowest current) for the PDN is obtained when only one of the NMOS transistors is conducting. We therefore
select the W/L of each NMOS transistor to be equal to that of the NMOS transistor of the basic inverter,
namely, n. For the PUN, however, the worst-case situation (and indeed the only case) occurs when all inputs
are low and the four series PMOS transistors are conducting. Since the equivalent W/L will be one-quarter of
that of each PMOS device, we should select the W/L ratio of each PMOS transistor to be four times that of
QP of the basic inverter, that is, 4p.
As another example, we show in Fig. 17.9 the proper sizing for a four-input NAND gate. Comparison of
the NAND and NOR gates in Figs. 17.8 and 17.9 indicates that because p is usually two to three times n, the
NOR gate will require much greater area than the NAND gate. For this reason, NAND gates are generally
preferred for implementing combinational-logic functions in CMOS.
Figure 17.8 Proper transistor sizing for a four-input NOR gate. Note that n and p denote the W/L ratios of QN and QP,
respectively, of the basic inverter.

Figure 17.9 Proper transistor sizing for a four-input NAND gate. Note that n and p denote the W/L ratios of QN and QP,
respectively, of the basic inverter.
Example 17.4 Transistor Sizing of a CMOS Gate
Provide transistor W/L ratios for the logic circuit shown in Fig. 17.10. Assume that for the basic inverter n = 2
and p = 4 and that the channel length is 65 nm. Round all values of W to the nearest 10 nm.

Figure 17.10 Circuit for Example 17.4.
17.2.3 Effects of Fan-In and Fan-Out on Propagation Delay
Each additional input to a CMOS gate requires two additional transistors, one NMOS and one PMOS. These
additional transistors not only increase the chip area but also increase the total capacitance per gate, which in
turn increases the propagation delay. The size-scaling method described earlier compensates for some (but
not all) of the increase in tP. Specifically, by increasing device size, we are able to preserve the current-
driving capability. However, the capacitance C increases because of both the increased number of inputs and
the increase in device size. Thus tP will still increase with fan-in, a fact that imposes a practical limit on the
fan-in of, say, the NAND gate to about 4. If a higher number of inputs is required, then “clever” logic design
should be adopted to realize the given Boolean function with gates of no more than four inputs. This would
usually mean an increase in the number of cascaded stages and thus an increase in delay. However, such an
increase in delay can be less than the increase due to the large fan-in.
∨Show Solution

17.9
17.10
(17.29)
An increase in a gate’s fan-out adds directly to its load capacitance and, thus, increases its propagation
delay.
Thus although CMOS has many advantages, it does suffer from increased circuit complexity when the
fan-in and fan-out are increased, and from the corresponding effects of this complexity on both chip area and
propagation delay.
EXERCISES
For a process technology with L = 0.18 µm, n = 1.5, p = 3, give the sizes of all transistors in (a) a four-
input NOR and (b) a four-input NAND. Also, give the relative areas of the two gates.
For the scaled NAND gate in Exercise 17.9, find the ratio of the maximum to minimum current
available to (a) charge a load capacitance and (b) discharge a load capacitance.
17.2.4 Driving a Large Capacitance
In many cases in digital CMOS design, a logic gate must drive a large load capacitance. This might, for
example, be due to a long wire on a chip, or to a requirement to drive an off-chip printed-circuit board trace,
where the load capacitance can be several hundred times larger than the parasitic capacitances of the driving
gate.
Let’s investigate how to drive such a large load capacitance without causing the propagation delay to be
unacceptably large. Figure 17.11(a) shows the large capacitive load CL driven by a standard inverter. Note
that we have simplified the model of the inverter by assuming that all its capacitances can be lumped into a
capacitance C between its input and ground and that it has an effective output resistance R. Connecting CL
directly to the inverter output results in a propagation delay, assuming a ramp input, equal to the time
constant τ,
This propagation delay can be very large.
∨Show Answer
∨Show Answer

Figure 17.11 (a) Driving a large load capacitance CL directly.
Figure 17.11(b) Driving a large load capacitance CL by using a large inverter.

(17.30)
(17.31)
(17.32)
(17.33)
Figure 17.11 (c) Driving a large load capacitance CL by using a chain of progressively larger inverters.
In an attempt to reduce the propagation delay, we can make the driver inverter large. Such a case is
shown in Fig. 17.11(b), where an inverter m times larger than the standard inverter is used. Its output
resistance will be R/m, that is, m times lower than that of the standard inverter. As a result, the propagation
delay in this case will be which as desired has been reduced by a factor m. However, all is not well. Observe
that the input capacitance of the large inverter is mC, which can be very large, requiring a large driving
inverter to ensure that it does not contribute significantly to lengthening the overall propagation delay. Thus,
it appears that we have not solved the problem, but rather shifted the burden to another inverter to drive the
input of our large inverter.
The above reasoning leads to the idea of a chain of inverters connected in cascade, as shown in Fig.
17.11(c). Here we have n inverters of progressively larger sizes. In fact, it has been found that the optimum
(i.e., lowest overall propagation delay) is obtained when each inverter in the chain is larger than the
preceding inverter by the same factor x. Thus if inverter 1 has a unit size, inverter 2 has a size x, inverter 3
has a size x2, and so on. Figure 17.11(c) shows the effect of inverter size scaling on its input capacitance and
its equivalent output resistance. Observe that the delay time associated with the interface between each two
succeeding inverters is τ = xCR; that is, each interface contributes equally to the overall delay. This, of
course, is a result of the geometric size scaling of the inverters in this chain. It has been shown that minimum
delay is obtained if this equality of time constants extends to the output node, that is, by making
equal to xCR, which can be achieved if
in which case the overall delay becomes
The question of selecting values for x and n remains. First, observe that there is already one condition on
their values, namely, that in Eq. (17.31). It can be shown mathematically that the second condition that leads
to minimum propagation delay is
In practice, it has been found that values for x between 2.5 and 4 lead to near-optimum performance (see
Hodges et al., 2004).
Example 17.5 Design of an Inverter Chain to Drive a Large Load Capacitance

(a)
(b)
An inverter whose input capacitance C = 10 fF and whose equivalent output resistance R = 1 kΩ must ultimately
drive a load capacitance CL = 1 pF.
What is the time delay that results if the inverter is connected directly to CL?
If a driver chain such as that in Fig. 17.11(c) is used, how many inverters n and what size ratio x should you
use to minimize the total delay? What is the total path delay achieved?
∨Show Solution

17.3 Power Dissipation
Many of today’s integrated circuits are battery powered. Some even rely on “scavenged” energy, thus
severely limiting the supply of power. Other high-performance circuits, such as those found at computer
server farms, have heat-dissipation limitations. Also, the desire to pack an ever-increasing number of gates
on an IC chip (many millions at present) while keeping the power dissipated in the chip to an acceptable
limit, has made attending to the power dissipated in a logic-gate circuit of paramount importance. Indeed,
minimizing power dissipation in digital ICs is perhaps the most important design challenge today.
In this section, we look at sources of power consumption in digital CMOS circuits and present some
metrics that are used in power optimization.
17.3.1 Sources of Power Dissipation
Let us return to the inverter of Fig. 16.17, which dissipates no power when vI is low and the switch is open.
In the other state, however, the power dissipation is approximately 
 and can be substantial, as we
saw in Example 16.2. This power dissipation occurs even if the inverter is not switching and is thus known
as static power dissipation.
Another inverter we studied earlier (see Fig. 17.12(a)), which is the basis for the CMOS inverter, exhibits
no static power dissipation, a definite advantage. Unfortunately, however, another component of power
dissipation arises when a capacitance exists between the output node of the inverter and ground. As we have
already seen, this is always the case, for the devices that implement the switches have internal capacitances,
the wires that connect the inverter output to other circuits have capacitance, and, of course, there is the input
capacitance of whatever circuit the inverter is driving. Now, as the inverter is switched from one state to
another, current must flow through the switch(es) to charge (and discharge) the load capacitance. These
currents give rise to power dissipation in the switches, called dynamic power dissipation.

Figure 17.12 (a) Switch-level model of a CMOS inverter. (b) Equivalent circuit for calculating the dynamic power
dissipation when vI is low. (c) Equivalent circuit for calculating the dynamic power dissipation when vI is high.
An expression for the dynamic power dissipation of the inverter of Fig. 17.12(a) can be derived as
follows. Consider first the situation when vI goes low. The pull-down switch PD turns off and the pull-up
switch PU turns on. In this state, the inverter can be represented by the equivalent circuit shown in Fig.
17.12(b). Capacitor C will charge through the on-resistance of the pull-up switch, and the voltage across C
will increase from 0 to VDD. Denoting by iD(t) the charging current supplied by VDD, we can write for the
instantaneous power drawn from VDD the expression
The energy delivered by the power supply to charge the capacitor can be determined by integrating pDD(t)
over the charging interval Tc,

(17.34)
(17.35)
(17.36)
(17.37)
(17.38)
(17.39)
where Q is the charge delivered to the capacitor during the charging interval. Since the initial charge on C
was zero,
Thus,
Since at the end of the charging process the energy stored on the capacitor is
we can find the energy dissipated in the pull-up switch as
This energy is dissipated in the on-resistance of switch PU and is converted to heat.
Next consider the situation when vI goes high. The pull-up switch PU turns off and the pull-down switch
PD turns on. The equivalent circuit in this case is that shown in Fig. 17.12(c). Capacitor C is discharged
through the on-resistance of the pull-down switch, and its voltage changes from VDD to 0. At the end of the
discharge interval, there will be no energy left on the capacitor. Thus all of the energy initially stored on the
capacitor, 
, will be dissipated in the pull-down switch,
This amount of energy is dissipated in the on-resistance of switch PD and is converted to heat.
Thus in each cycle of inverter switching, an amount of energy of 
 is dissipated in the pull-up
switch and 
 is dissipated in the pull-down switch, for a total energy loss per cycle of
If the inverter is switched at a frequency of f Hz, the dynamic power dissipation of the inverter will be
This is a general expression that does not depend on the inverter circuit details or the values of the on-
resistance of the switches.
The expression in Eq. (17.39) indicates that to minimize the dynamic power dissipation, we must strive
to reduce the value of C. However, in many cases C is largely determined by the transistors of the inverter
itself and cannot be substantially reduced. Another important factor in determining the dynamic power

(17.40)
17.11
dissipation is the power-supply voltage VDD. Reducing VDD reduces Pdyn significantly. This has been a
major motivating factor behind the reduction of VDD with every technology generation (see Appendix K).
Thus, while the 0.5-µm CMOS process utilized a 5-V power supply, the power-supply voltage used with the
0.13-µm process is only 1.2 V, and that for the 28-nm process is even lower at 0.9 V.
Finally, since Pdyn is proportional to the operating frequency f, we may be tempted to reduce Pdyn by
reducing f. However, this is not a viable proposition in light of the desire to operate digital systems at
increasingly higher speeds. These newer chips, however, pack much more circuitry on the chip (several
billion transistors) and operate at higher frequencies (microprocessor clock frequencies above 5 GHz are
now available). The dynamic power dissipation of such high-density chips can be over 100 W.
In addition to the dynamic power dissipation that results from the periodic charging and discharging of
the inverter load capacitance, there is another component of power dissipation in the CMOS inverter that
results from the current that flows through QP and QN during every switching event. Figure 17.13 shows this
inverter current as a function of the input voltage vI for a matched inverter. We note that the current peaks at
VM = VDD/2. Since at this voltage both QN and QP operate in saturation, the peak current is given by
The width of the current pulse will depend on the rate of change of vI with time; the slower the rising edge of
the input waveform, the wider the current pulse and the greater the energy drawn from the supply. In general,
however, this power component is usually smaller than Pdyn.
Figure 17.13 The current in the CMOS inverter versus the input voltage.
EXERCISES
Find the dynamic power dissipation of the inverter analyzed in Example 17.3 when operated at a 1-
GHz frequency. Recall that C = 0.866 fF and VDD = 0.9 V.

17.12
17.13
(17.41)
(17.42)
(17.43)
Find the dynamic power dissipation of a CMOS inverter operated from a 1.2-V supply and having a
load capacitance of 80 fF. Let the inverter be switched at 250 MHz.
A particular inverter circuit initially designed in a 0.5-µm process is fabricated in a 0.13-µm process.
Assuming that the capacitance C scales down in proportion to the minimum feature size (more on this
in Section 17.4) and that the power supply is reduced from 5 V to 1.2 V, by what factor do you expect
the dynamic power dissipation to decrease? Assume that the switching frequency f remains unchanged.
17.3.2 Power–Delay and Energy–Delay Products
The designer is usually interested in high-speed operation (low tP) combined with low power dissipation.
Unfortunately, these two requirements are often in conflict: Generally, if the designer of an inverter attempts
to reduce power dissipation by, say, decreasing the supply voltage VDD, or the supply current, or both, the
current-driving capability of the inverter decreases. This in turn results in longer times to charge and
discharge the load and parasitic capacitances, and thus the propagation delay increases. It follows that a
figure of merit for comparing logic-circuit technologies is the power–delay product (PDP) of the basic
inverter of the given technology, defined as
where PD is the power dissipation of the inverter. Note that the PDP is an energy quantity and has the units
of joules. The lower the PDP, the more effective the inverter and the logic circuits based on the inverter are.
For CMOS logic circuits, the static power dissipation of the inverter is zero,2 and thus PD is equal to
Pdyn and given by Eq. (17.39),
Thus for the CMOS inverter,
If the inverter is operated at its theoretical maximum switching speed determined as f =  tP, then
From our earlier discussion of dynamic power dissipation we know that 
 is the amount of energy
dissipated during each charging or discharging event of the capacitor, that is, for each output transition of the
inverter. Thus, the PDP has an interesting physical interpretation: It is the energy consumed by the inverter
for each output transition.
∨Show Answer
∨Show Answer
∨Show Answer

(17.44)
17.14
Although the PDP is a valuable metric for comparing different technologies for implementing inverters,
it is not useful as a design parameter for optimizing a given inverter circuit. To appreciate this point, observe
that the expression in Eq. (17.43) indicates that the PDP can be minimized by reducing VDD as much as
possible while, of course, maintaining proper circuit operation. This, however, would not necessarily result
in optimal performance, for tP will increase as VDD is reduced. The problem is that the PDP expression in
Eq. (17.43) does not in fact have information about tP. It follows that a better metric can be obtained by
multiplying the energy per transition by the propagation delay. We can thus define the energy–delay
product EDP as
EXERCISE
For the CMOS inverter analyzed in Example 17.3, it was found that C = 0.866 fF, VDD = 0.9 V, and tP
= 4.88 ps. Find the power–delay product when the inverter is operated at its theoretical maximum
possible operating frequency. Also find EDP.
Looking back at Eq. (17.38), we can see that dynamic power consumption is proportional to the
switching frequency f . While it may be counterproductive to lower a circuit’s overall clock frequency, it may
make sense to disable the clock (a technique called clock gating) for parts of a circuit that are not actively
contributing to computation. This will reduce the number of switching events and dynamic power
dissipation.
∨Show Answer

17.4 Implications of Technology Scaling: Issues in Deep-Submicron
Design
The concept of semiconductor technology scaling and the phenomenon known as Moore’s law were first
discussed in Section 5.4. In this section, we build on that foundation and look at deep-submicron and
nanoscale digital circuits, investigating the impact of technology scaling on design practices.
17.4.1 Silicon Area
In addition to minimizing power dissipation and propagation delay, an important objective in the design of
digital VLSI circuits is to minimize the silicon area per logic gate. The smaller area makes it possible to
fabricate more gates per chip, which has economic and space advantages from a system-design standpoint.
Area reduction occurs in three different ways: through advances in processing technology that enable the
reduction of the minimum device size, through advances in circuit-design techniques, and through careful
chip layout. In this book, our interest lies in circuit design, and we make frequent comments on the
relationship between the design of a circuit and its silicon area. As a general rule, the simpler the circuit, the
smaller the area required. As we have seen in Section 17.2, the circuit designer has to decide on device sizes.
Choosing smaller devices has the obvious advantage of requiring smaller silicon area and at the same time
reducing parasitic capacitances and thus increasing speed. Smaller devices, however, have lower current-
driving capability, which tends to increase delay. Thus, as in all engineering design problems, there is a
trade-off to be made so as to optimize whatever aspect of the design is thought to be critical for the
application at hand.
17.4.2 Scaling Implications
In Section 5.4, we introduced the concept of a scaling factor S, by which transistor dimensions (W, L, tox) and
other parameters (VDD, Vt) are scaled from one generation to the next. We saw how these changes have an
impact on other metrics, including silicon area, Cox, 
 and 
 These results were summarized in Table
5.3. We are now in a position to expand the discussion and look at the impact of scaling by a factor S on the
speed and power consumption of digital circuits, with results summarized in Table 17.1 (an augmented
version of Table 5.3).
Table 17.1 Implications of Device and Voltage Scaling
Parameter
Relationship
Scaling Factor
1
W, L, tox
1/S
2
VDD, Vt
1/S
3
Area/Device
WL
1/S2
4
Cox
ox/tox
S
5
μnCox, μpCox
S
6
Cgate
WLCox
1/S
7
tP (intrinsic)
αC/kʹVDD
1/S

17.15
17.16
8
Energy/Switching cycle (intrinsic)
1/S3
9
Pdyn
1/S2
10
Power density
Pdyn/Device area
1
We begin by noting that the component of the inverter propagation delay due to the transistor
capacitances (i.e., excluding the wiring capacitance) scales by 1/S; this very useful result of scaling implies
that the circuit can be operated at S times the frequency; that is, the speed of operation increases by a factor
S. Equally important, the dynamic power dissipation scales by 1/S2. This, of course, is a major motivating
factor behind the scaling of VDD. Another motivating factor is the need to keep the electric fields in the
MOSFETs within acceptable bounds.
Although the dynamic power dissipation is scaled by 1/S2, the power per unit area remains unchanged.
Nevertheless, for a number of reasons, as the complexity of digital IC chips continues to increase, so does
their power dissipation. Indeed power dissipation has now become the number-one issue in IC design. The
problem is exacerbated by the static power dissipation, arising from both subthreshold conduction and diode
leakage currents, that plagues deep-submicron CMOS devices. We will discuss this issue, as well as other
second-order issues that arise as transistor dimensions keep getting smaller, shortly.
EXERCISES
By what factor does the power–delay product PDP change if an inverter is fabricated in a 0.13-µm
technology rather than a 0.25-µm technology? Assume 
If VDD and Vt are kept constant, which entries in Table 17.1 change and to what value?
17.4.3 Temperature, Voltage, and Process Variations
As we have seen in earlier chapters, temperature variations affect the i–v characteristics of a transistor.
Besides affecting the thermal voltage VT in subthreshold conduction, temperature variations impact the
transistor threshold voltage Vt and the mobility μ. These effects, difficult to model in hand calculations, can
significantly impact circuit performance, especially when a wide range of temperature environments is
expected (we assume you would like your cell phone to work at the beach on a warm day, but also when
your car breaks down on the way to a ski resort). Circuit simulators are usually equipped to model
temperature effects, and designers should run their simulations at all extreme and expected temperatures.
Supply voltages also vary (e.g., to account for lower battery voltages during extended use), and it is
common to require that circuits operate correctly for a range extending to at least VDD ± 10%. Again, this
condition can easily be simulated.
∨Show Answer
∨Show Answer

Finally, an increasingly important issue in CMOS design is that of process variations. Variations in
threshold voltage should be expected, whether at a small scale (transistor-to-transistor), medium scale (die-
to-die), or large scale (wafer-to-wafer).
17.4.4 Wiring: The Interconnect
The logic gates on a digital IC chip are connected together by metal wires3 (see Appendix A). As well, the
power-supply VDD and ground are distributed throughout the chip by metal wires. Technology scaling into
the deep-submicron range has caused these wires to behave not simply as wires! Specifically, the narrow
wires typical of deep-submicron technologies exhibit nonzero resistance. The result is an IR drop on the VDD
line resulting in somewhat different voltages being delivered to different parts of the chip, as shown in Fig.
17.14. This can compromise the operation of the overall circuit.
Figure 17.14 The power-supply line in a deep-submicron IC has nonzero resistance. The IR drops along the VDD line
cause the voltages delivered to various circuits to differ.
Since chips fabricated in deep-submicron technologies can have hundreds of millions of gates, the wire
connection between gates can be long. The resulting narrow and long interconnect lines have not only
nonzero resistance but also capacitance to ground, as shown in Fig. 17.15. The resistance and capacitance of
an interconnect line can cause a propagation delay approaching that of the logic gate itself. As well, the
capacitance between adjacent wires can cause the signals on one wire to be coupled to the other, which can
cause erroneous operation of logic circuits.
In short, the designer of modern deep-submicron digital ICs has to be concerned not only with the logic-
circuit design but also with the wiring or interconnect issues. Indeed, so important is the issue of interconnect
to digital IC design that advanced textbooks on digital IC design devote entire chapters to this topic (see
Rabaey et al., 2003, and Hodges et al., 2004).
Figure 17.15 The interconnect (wire) between two circuit blocks, A and B, on an IC chip has finite resistance and a
capacitance to ground.
17.4.5 Digital Design in Modern Technologies

As transistor dimensions continue to shrink (now into the 10-nm range and below), we start to see deviations
from some of the scaling laws presented in Table 17.1 that result from secondary effects. In Section 5.4, we
presented two such effects that have a significant impact on digital design: velocity saturation and
subthreshold conduction/leakage.
Recall that velocity saturation occurs when the drift velocity of charge carriers in short-channel
MOSFETs reaches a limit as the longitudinal electric field established by vDS increases. As a result, drain
current iD does not increase with vGS as rapidly as predicted by the square-law i − v model. Propagation
delays get worse as iD decreases, and therefore, velocity saturation causes delays that are greater than those
predicted by the square-law model. Although accurate modeling of velocity saturation is beyond the scope of
this textbook, some techniques exist that circuit designers can use without having to resort to complicated
pen-and-paper analysis. For instance, accurate device models that account for velocity saturation are
embedded in most circuit simulators. Also, when developing a new technology, designers often build test
circuits into that technology that are carefully measured to, for example, provide realistic values of RN and
RP for the equivalent resistance method of Section 17.1.
Another secondary effect with significant impact on digital design is subthreshold conduction. Recall that
for vGS < Vt, there are small subthreshold drain currents that are proportional to the exponential of vGS/VT.
Although modeling of subthreshold conduction is beyond the scope of this textbook, we note that there is a
very strong dependence on temperature due to the thermal voltage VT. By contributing to static power
dissipation, subthreshold currents represent an important and growing fraction of the total power dissipation
in nanoscale circuits. These leakage currents also have consequences for some types of memory circuits,
where charge can only be stored on local capacitances for finite amounts of time.
Recently, we have started to see some differentiation in terms of technologies that specifically target
either performance (i.e., high speed) or power efficiency (i.e., low power). One way this is done is by
deliberately altering the value of Vt to meet design objectives. By lowering Vt and keeping other parameters
constant, a transistor can conduct more current, leading to improved speed; on the other hand, when it is
turned off, the gate voltage is closer to the threshold point, and subthreshold currents (and hence static
power) increase. Conversely, by increasing Vt, speed is poorer, but power consumption can be lowered.
There are two basic ways these variations are achieved. (1) Multi-Vt technologies allow designers to select
from among predefined high-Vt or low-Vt transistors (some technologies allow even more options). (2)
Silicon-on-insulator (SOI) technologies take a different approach: Since the body of each transistor is
insulated from others, the body voltage can be individually set to target a desired Vt (recall the body effect), a
technique known as body biasing. Multi-Vt technologies enable another power-reduction technique known as
power gating, where high-Vt transistors (i.e., those with low leakage) can be used to turn off the supply to
unused portions of a circuit, thus saving on total static power.
As semiconductor technologies continue to evolve and improve, new design challenges will arise, but
opportunities for creative circuit design solutions will also present themselves. Below, we highlight some
recent innovations that are having a significant impact on digital circuit design.
The FinFET is a recent type of nonplanar MOSFET device that is becoming dominant in digital design
for technology nodes below 28 nm. FinFETs are constructed by wrapping a gate around (or partially around)
a channel, and they tend to act as better switches. However, because of their nonplanar nature and the
manner in which they are fabricated, FinFETs tend to be available only in discretized dimensions, and

achieving desired dimensions requires that a designer select an integer number of transistors to connect in
parallel, leading to new design practices (albeit some that remind us of the breadboard designs of times past,
which used discrete transistors rather than a continuum of W and L values!).
Another development is three-dimensional integration, where several wafers or dies may be stacked on
top of each together, with electrical connections formed between layers using through-silicon vias or other
connection mechanisms. Vertical integration allows each die to be targeted to a particular application, such
as high-performance digital logic closely integrated with Dynamic Random Access Memory (DRAM)
technology (which we study in Chapter 18), or perhaps an array of photodiodes for imaging. Such 3D
integration is opening up a new and exciting more-than-Moore era.

■
■
■
■
■
■
■
■
■
■
■
■
Summary
The speed of operation of the inverter is characterized by its propagation delay, tP. Refer to Fig. 17.3
for the definitions of tPLH and tPHL, and note that 
 (tPLH + tPHL).
Digital ICs usually use the minimum channel length of the technology available. Thus, for the CMOS
inverter, QN and QP have L = Lmin. If matching is desired, Wp/Wn is selected equal to μn/μp at the
expense of increased area and capacitance. For minimum area, Wp = Wn. Also, a frequently used
compromise is Wp = 2Wn.
For minimum area, (W/L)n is selected equal to 1. However, to reduce tP, especially when a major part
of C is extrinsic to the inverter, (W/L)n and, correspondingly, (W/L)p can be increased.
CMOS logic circuits are usually designed to provide equal current-driving capability in both
directions. As well, the worst-case values of the pull-up and pull-down currents are made equal to
those of the basic inverter. Transistor sizing is based on this principle and makes use of the equivalent
W/L ratios of series and parallel devices [Eqs. (17.27) and (17.28)].
An important performance parameter of the inverter is the amount of power it dissipates. There are
two components of power dissipation: static and dynamic. The first is the result of current flow in
either the 0 or 1 state, or both. The second occurs when the inverter is switched and has a capacitor
load C. Dynamic power dissipation Pdyn = fCV2DD.
A metric that combines speed of operation and power dissipation is the power-delay product, PDP =
PDtP. The lower the PDP, the more effective the logic-circuit family is. If dynamic power is dominant,
such as in CMOS, the delay-power product for an inverter operated at its theoretical maximum
switching frequency is PDP =  CV2DD, which is the energy drawn from the supply for both a 0-to-1
and a 1-to-0 transition.
After speed of operation and power dissipation, the silicon area required for an inverter is the third
significant metric in digital IC design.
Predominantly because of its low power dissipation and because of its scalability, CMOS is by far the
most dominant technology for digital IC design. This situation is expected to continue for many years
to come.
Refer to Table 17.1 for the implications of scaling MOSFET dimensions, VDD, and Vt by a factor 1/S.
For easy reference, this table is also included in the Summary Tables supplement found online at
www.oup.com/he/sedra-smith8e.
In devices with short channels (L < 0.25 µm), velocity saturation occurs. Its effect is that iD saturates
early, and its value is lower than would be predicted by the square-law iD − vGS characteristic.
Subthreshold conduction is increasingly becoming an important issue in CMOS circuits, leading to
significant static power consumption.
Table 17.2 summarizes the important speed and power characteristics of the CMOS inverter. For easy
reference, this table is also included in the Summary Tables supplement found online at
www.oup.com/he/sedra-smith8e.

Table 17.2 Summary of Important Speed and Power Characteristics of the CMOS Logic Inverter
Propagation Delay
Using average currents (Fig. 17.4):
Using equivalent resistances (Fig. 17.5):
For a ramp-input signal, 
.
Power Dissipation

(a)
(b)
PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Computer Simulation Problems
SIM Problems identified by this icon are intended to demonstrate the value of using SPICE simulation to verify
hand analysis and design, and to investigate important issues such as allowable signal swing and amplifier
nonlinear distortion. Instructions to assist in setting up simulations for all the indicated problems can be found in
the corresponding files on the website. Note that if a particular parameter value is not specified in the problem
statement, you are to make a reasonable assumption.
Section 17.1: Dynamic Operation of the CMOS Inverter
17.1 For the circuit shown in Fig. P17.1, let switch S open at t = 0.
Figure P17.1
Give the expression for vO(t).
For I = 1 mA and C = 10 pF, find the time at which vO reaches 1 V.
17.2 For the circuit in Fig. P17.2, let C be charged to 10 V and switch S closes at t = 0.

(a)
(b)
(a)
(b)
(c)
(a)
(b)
Figure P17.2
Give the expression for vO(t).
For C = 100 pF and R = 1 kΩ, find tPHL and tf .
17.3 For the inverter circuit in Fig. P17.3, let vI go from VDD to 0 V at t = 0. At t = 0+, vO = VOL. Find expressions
for VOH, vO(t), and tPLH. If R = 10 kΩ, what is the largest value of C that ensures that tPLH is at most 100 ps?
Figure P17.3
17.4 For the inverter of Fig. 16.18(a) with a capacitance C connected between the output and ground, let the on-
resistance of PU be 2 kΩ and that of PD be 1 kΩ. If the capacitance C = 20 fF, find tPLH, tPHL, and tP.
17.5 A logic inverter is implemented using the arrangement of Fig. 16.18 with switches having Ron = 2 kΩ, VDD =
1.2 V, and VIL = VIH = VDD/2.
Find VOL, VOH, NML, and NMH.
If vI rises instantaneously from 0 V to +1.2 V and assuming the switches operate instantaneously—that is, at t
= 0, PU opens and PD closes—find an expression for vO(t), assuming that a capacitance C is connected
between the output node and ground. Hence find the high-to-low propagation delay (tPHL) for C = 0.1 pF.
Also find tTHL (see Fig. 17.3).
Repeat (b) for vI falling instantaneously from +1.2 V to 0 V. Again assume that PD opens and PU closes
instantaneously. Find an expression for vO(t), and hence find tPLH and tTLH.
17.6 In a particular logic family, the standard inverter, when loaded by a similar circuit, has a propagation delay
specified to be 45 ps:
If the current available to charge a load capacitance is half as large as that available to discharge the
capacitance, what do you expect tPLH and tPHL to be?
If when an external capacitive load of 0.1 pF is added at the inverter output, its propagation delays increase by
50%, what do you estimate the normal combined capacitance of inverter output and input to be?
∨Show Answer
∨Show Answer

(c)
If without the additional 0.1 pF load connected, the load inverter is removed and the propagation delays were
observed to decrease by 40%, estimate the two components of the capacitance found in (b): that is, the
component due to the inverter output and other associated parasitics, and the component due to the input of the
load inverter.
*17.7 Consider an inverter for which tPLH, tPHL, tTLH, and tTHL are 200 ps, 150 ps, 250 ps, and 100 ps,
respectively. The rising and falling edges of the inverter output can be approximated by linear ramps. Also, for
simplicity, we define tTLH to be 0% to 100% (rather than 10% to 90%) rise time, and similarly for tTHL. Two such
inverters are connected in tandem and driven by an ideal input having zero rise and fall times. Calculate the time
taken for the output voltage to complete its excursion for (a) a rising input and (b) a falling input. What is the
propagation delay for the inverter?
SIM 
17.8 
For 
a 
CMOS 
inverter 
fabricated 
in 
a 
65-nm 
process 
with 
 500 A/V2, and having (W/L)n = 2 and (W/L)p = 4,
find tPHL, tPLH, and tP when the equivalent load capacitance C = 4 fF. Use the method of average currents.
17.9 Consider a matched CMOS inverter fabricated in the 65-nm process specified in Problem 17.8. If C = 10 fF,
use the method of average currents to determine the required (W/L) ratios so that tP ≤ 25 ps.
17.10 For the CMOS inverter in Exercise 17.4, use the method of equivalent resistance to determine tPHL, tPLH,
and tP. Use RN,eff = 12.5 kΩ and RP,eff = 30 kΩ for Weff /Leff = 1.
17.11 Use the method of equivalent resistance to determine the propagation delay of a minimum-size inverter, that
is, one for which (W/L)n = (W/L)p = 1, designed in a 0.13-µm technology. The equivalent load capacitance C = 20
fF.
17.12 Use the method of equivalent resistance to design an inverter fabricated in a 65-nm technology where
transistors with (W/L) = 1.5 are found to have Reff,N = 8 kΩ and Reff,P = 24 kΩ. It is required that for C = 5 fF, tPLH
= tPHL, and tP ≤ 15 ps.
17.13 The method of average currents yields smaller values for tPHL and tPLH than those obtained by the method of
equivalent resistances. Most of this discrepancy is due to the fact that the formula we derived for Iav does not take
into account velocity saturation, which reduces the current significantly. Using the results in Example 17.2, by what
factor do you estimate the current reduction to be in the NMOS transistor? Since tPLH does not change, what do
you conclude about the effect of velocity saturation on the PMOS transistor in this technology?
17.14 Use the method of average currents to estimate tPHL, tPLH, and tP of a CMOS inverter fabricated in a 65-nm
process for which Vtn = |Vtp| = 0.35 V, VDD = 1 V, μnCox = 470 µA/V2, and μpCox = 190 µA/V2. The inverter has
(W/L)n = 1.5 and (W/L)p = 3, and the total capacitance at the inverter output node is 10 fF. Also, find the theoretical
maximum frequency at which this inverter can be operated.
17.15 
Find 
the 
propagation 
delay 
for 
an 
inverter 
for 
which 
 nm/65 nm, VDD = 1.0 V, Vtn = –Vtp = 0.35
V, and the capacitance is roughly 2.5 fF/µm of device width. There is an additional load capacitance of 2 fF. What
does tP become if the design is changed to a matched one? Use the method of average current.
∨Show Answer
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
17.16 A matched CMOS inverter fabricated in a process for which Cox = 25 fF/µm2, μnCox = 500 µA/V2, μpCox =
125 µA/V2, Vtn = |Vtp| = 0.35 V, and VDD = 1.0 V, uses Wn = 260 nm and Ln = Lp = 65 nm. The overlap capacitance
and the effective drain-body capacitance per micrometer of gate width are 0.3 fF and 0.5 fF, respectively. The
wiring capacitance is Cw = 2 fF. If the inverter is driving another identical inverter, find tPHL, tPLH, and tP. For how
much additional capacitance load does the propagation delay increase by 50%?
Section 17.2: Transistor Sizing
17.17 An inverter whose equivalent load capacitance C is composed of 10 fF, contributed by the inverter
transistors, and 30 fF, contributed by the wiring and other external circuitry, has been found to have a propagation
delay of 30 ps. By what factor must (W/L)n and (W/L)p be increased so as to reduce tP to 15 ps? By what factor is
the inverter area increased?
D *17.18 In this problem, we investigate the effect of the selection of the ratio Wp/Wn on the propagation delay of
an inverter driving an identical inverter, as in Fig. 17.6. Assume all transistors have the same L.
Noting that except for Cw each of the capacitances in Eqs. (17.18) and (17.19) is proportional to the width of
the relevant transistor, show that C can be expressed as
where Cn is determined by the NMOS transistors.
Using the equivalent resistance method, with Reff,N (Weff /Leff ) = 12.5 kΩ and Reff,P(Weff /Leff ) = 30.0 kΩ,
show that for (W/L)n = 1,
Use the results of (a) and (b) to determine tP in the case Wp = Wn, in terms of Cn and Cw.
Use the results of (a) and (b) to determine tP in the matched case: that is, when Wp/Wn is selected to yield tPHL
= tPLH.
Compare the tP values in (c) and (d) for the two extreme cases:
What do you conclude about the selection of Wp/Wn?
D 17.19 Consider the CMOS gate shown in Fig. 16.9. Specify W/L ratios for all transistors in terms of the ratios n
and p of the basic inverter, such that the worst-case tPHL and tPLH of the gate are equal to those of the basic
∨Show Answer
∨Show Answer

(a)
inverter.
D 17.20 Find appropriate sizes for the transistors used in the exclusive-OR circuit of Fig. 16.10(b). Assume that the
basic inverter has (W/L)n = 56 nm/28 nm and (W/L)p = 84 nm/28 nm. What is the total area, including that of the
required inverters?
17.21 Consider a four-input CMOS NAND gate for which the transient response is dominated by a fixed-size
capacitance between the output node and ground. Compare the values of tPLH and tPHL, obtained when the devices
are sized as in Fig. 17.9, to the values obtained when all n-channel devices have W/L = n and all p-channel devices
have W/L = p.
17.22 Figure P17.22 shows two approaches to realizing the OR function of six input variables. The circuit in Fig.
P17.22(b), though it uses additional transistors, has in fact less total area and lower propagation delay because it
uses NOR gates with lower fan-in. Assuming that the transistors in both circuits are properly sized to provide each
gate with a current-driving capability equal to that of the basic matched inverter, find the number of transistors and
the total area of each circuit. Assume the basic inverter to have a (W/L)n ratio of 180 nm/90 nm and a (W/L)p ratio
of 360 nm/90 nm.
Figure P17.22
*17.23 Consider the two-input CMOS NOR gate of Fig. 16.7 whose transistors are properly sized so that the
current-driving capability in each direction is equal to that of a matched inverter. For |Vt| = 0.35 V and VDD = 1.0 V,
find the gate threshold in the cases for which (a) input terminal A is connected to ground and (b) the two input
terminals are tied together. Neglect the body effect in QPB.
17.24 A chain of four inverters whose sizes are scaled by a factor x is used to drive a load capacitance CL = 1600 C,
where C is the input capacitance of the standard inverter (which is the first in the chain).
Without increasing the number of inverters in the chain, find the optimum value of x that results in minimizing
the overall delay tP and find the resulting value of tP in terms of the time constant CR, where R is the output
resistance of the standard inverter.
∨Show Answer

(b)
(a)
(b)
(c)
(d)
If you are allowed to increase the number of inverters in the chain, what is the number of inverters and the
value of x that result in minimizing the total path delay tP? What is the value of tP achieved?
17.25 The purpose of this problem is to find the values of n and x that result in minimum path delay tP for the
inverter chain in Fig. 17.11(c).
Show that
Differentiate the expression for tP in (a) relative to x and set the derivative to zero. Thus show that the first
condition for optimality is
Differentiate the expression for tP in (a) relative to n and set the derivative to zero. Thus show that the second
condition for optimality is
Combine the expressions in (b) and (c) to show that the value of x for minimum overall delay is
Section 17.3: Power Dissipation
17.26 An IC inverter fabricated in a 65-nm CMOS process is found to have a load capacitance of 3 fF. If the
inverter is operated from a 1.2-V power supply, find the energy needed to charge and discharge the load
capacitance. If the IC chip has 5 million of these inverters operating at an average switching frequency of 2.5 GHz,
what is the power dissipated in the chip? What is the average current drawn from the power supply?
17.27 Consider a standard CMOS logic inverter. Let VDD = 1 V, and let a 5-fF capacitance be connected between
the output node and ground. Assume there are no other capacitances. If the inverter is switched at the rate of 2.5
GHz, determine the dynamic power dissipation. What is the average current drawn from the dc power supply?
17.28 In a particular logic-circuit technology, operating with a 1.2-V supply, the basic inverter draws (from the
supply) a current of 15 µA in one state and 0 µA in the other. When the inverter is switched at the rate of 250 MHz,
the average supply current becomes 60 µA. Estimate the equivalent capacitance at the output node of the inverter.
17.29 A collection of logic gates for which the static power dissipation is zero, and the dynamic power dissipation
is 10 mW is operating at 1 GHz with a 1.2-V supply. By what fraction could the power dissipation be reduced if
operation at 1.0 V were possible? If the frequency of operation is reduced by the same factor as the supply voltage
(i.e., 1.0/1.2), what additional power can be saved?
17.30 A particular logic gate has tPLH and tPHL of 1.3 ns and 1.2 ns, respectively, and dissipates 0.1 mW with
output low and 0.2 mW with output high. Calculate the corresponding delay–power product (under the assumption
of a 50% duty-cycle signal and neglecting dynamic power dissipation).
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
(e)
D *17.31 We wish to investigate the design of the inverter shown in Fig. 16.17(a). In particular, we wish to
determine the value for R. Selection of a suitable value for R is determined by two considerations: propagation
delay and power dissipation.
Show that if vI changes instantaneously from high to low and assuming that the switch opens instantaneously,
the output voltage obtained across a load capacitance C will be
where τ1 = CR. Hence show that the time required for vO(t) to reach the 50% point, 
, is
Following a steady state, if vI goes high and assuming that the switch closes immediately and has the
equivalent circuit in Fig. 16.17(c), show that the output falls exponentially according to
where 
 Hence show that the time for vO(t) to reach the 50%
point is
Use the results of (a) and (b) to obtain the inverter propagation delay, defined as the average of tPLH and tPHL
as
Show that for an inverter that spends half the time in the logic-0 state and half the time in the logic-1 state, the
average static power dissipation is
Now that the trade-offs in selecting R should be clear, show that, for VDD = 1.8 V and C = 2 pF, to obtain a
propagation delay no greater than 1.4 ns and a power dissipation no greater than 2 mW, R should be in a
specific range. Find that range and select an appropriate value for R. Then determine the resulting values of tP
and P.
D 17.32 A logic-circuit family with zero static power dissipation normally operates at VDD = 1.8 V. To reduce its
dynamic power dissipation, operation at 1.2 V is considered. It is found, however, that the currents available to
charge and discharge load capacitances also decrease. If current is (a) proportional to VDD or (b) proportional to 
 what reductions in maximum operating frequency do you expect in each case? What fractional change in
delay–power product do you expect in each case?
17.33 In this problem, we estimate the CMOS inverter power dissipation resulting from the current pulse that flows
in QN and QP when the input pulse has finite rise and fall times. Refer to Fig. 17.13 and let Vtn = −Vtp = 0.4 V, VDD
∨Show Answer

(a)
(b)
(a)
(b)
= 1.2 V, and kn = kp = 500 µA/V2. Let the input rising and falling edges be linear ramps with the 0-to-VDD and VDD
-to-0 transitions taking 1 ns each. Find Ipeak. To determine the energy drawn from the supply per transition, assume
that the current pulse can be approximated by a triangle with a base corresponding to the time for the rising or
falling edge to go from Vt to VDD − Vt, and the height equal to Ipeak. Also, determine the power dissipation that
results when the inverter is switched at 100 MHz.
Section 17.4: Implications of Technology Scaling: Issues in Deep-Submicron Design
17.34 Consider the scaling from a 0.13-µm process to a 65-nm process.
Assuming VDD and Vt are scaled by the same factor as the device dimensions (S = 2), find the factor by which
tP, the maximum operating speed, Pdyn, power density, and PDP decrease (or increase)?
Repeat (a) for the situation in which VDD and Vt remain unchanged.
17.35 An NMOS transistor with kn = 0.4 mA/V2 and a nominal Vtn of 0.4 V is to operate in saturation at ID = 0.2
mA.
If Vtn can vary by as much as ±10%, what is the expected range of ID obtained?
If the transistor is used to discharge a 100-fF load capacitance, what is the expected variation in delay time,
assuming that the output voltage is to change by 0.1 V?
∨Show Answer

18.1
18.2
18.3
18.4
•
•
•
•
•
•
•
CHAPTER 18
Memory and Clocking Circuits
Introduction
The Transmission Gate
Latches and Flip-Flops
Random-Access Memory (RAM) Cells
Ring Oscillators and Special-Purpose Circuits
Summary
Problems
IN THIS CHAPTER YOU WILL LEARN
How a transmission gate, which is realized using one NMOS and one PMOS transistor, can act as a
very effective switch.
How the basic bistable circuit, the latch, is realized by connecting two inverters in a positive-feedback
loop.
How to augment the latch to obtain different types of flip-flops that are useful building blocks for
digital systems.
How CMOS is particularly well suited for the efficient implementation of a particular type of flip-flop,
the D flip-flop.
How to analyze and design a six-transistor circuit that is used almost universally to implement the
storage cell in static random-access memory (SRAM), and a one-transistor circuit that is equally
universal in the implementation of the storage cell in dynamic random-access memory (DRAM).
How some special-purpose circuits can provide required timing information for sequential operation.
Interesting circuit techniques for accessing a particular storage cell in a memory chip and for
amplifying the signal readout from the cell.

Introduction
The logic circuits studied in Chapters 16 and 17 are called combinational circuits. Their output depends
only on the present value of the input. Thus these circuits do not have memory. Memory is a very important
part of digital systems. Its availability in digital computers allows for storing programs and data.
Furthermore, it is important for temporary storage of the output produced by a combinational circuit for use
at a later time in the operation of a digital system.
Logic circuits that incorporate memory are called sequential circuits; that is, their output depends not
only on the present value of the input but also on the input’s previous values. Such circuits require a timing
generator (a clock) for their operation.
There are basically two approaches for providing memory to a digital circuit. The first relies on the
application of positive feedback, which can be arranged to provide a circuit with two stable states. Such a
bistable circuit can then be used to store one bit of information: One stable state would correspond to a
stored 0, and the other to a stored 1. A bistable circuit can remain in either state indefinitely, and thus it
belongs to the category of static sequential circuits. The other approach to realizing memory uses the storage
of charge on a capacitor: When the capacitor is charged, it would be regarded as storing a 1; when it is
discharged, it would be storing a 0. Since the inevitable leakage effects will cause the capacitor to discharge,
such a form of memory requires the periodic recharging of the capacitor, a process known as refresh. Thus,
memory based on charge storage is known as dynamic memory and the corresponding sequential circuits as
dynamic sequential circuits.
This chapter concerns the study of memory circuits. We begin in Section 18.1 with a very simple circuit
with only two transistors—one NMOS and one PMOS—called a transmission gate, which will become a
useful building block in the design of more complicated memory elements such as latches, flip-flops, and
memory cells. Then, Section 18.2 deals with the basic bistable circuit—the latch—and its application in flip-
flops, an important class of building blocks for sequential digital systems. After a brief review of memory-
chip organization and nomenclature, Section 18.3 studies memory cell circuits for static memory (SRAM)
and dynamic memory (DRAM). The chapter concludes in Section 18.4 with a discussion of several
peripheral and special-purpose circuits that are necessary for the proper operation of memories and other
sequential circuits, including ring oscillators, sense amplifiers, and decoders.

18.1 The Transmission Gate
A conceptually simple approach for implementing logic functions utilizes series and parallel combinations of
switches that are controlled by input logic variables to connect the input and output nodes (see Fig. 18.1).
Each of the switches can be implemented either by a single NMOS transistor [Fig. 18.2(a)] or by a pair of
complementary MOS transistors connected in what is known as the CMOS transmission-gate configuration
[Fig. 18.2(b)]. The result is a simple form of logic circuit that is particularly suited for some special logic
functions and is frequently used with standard CMOS logic to implement such functions efficiently: that is,
with fewer transistors than is possible with CMOS alone.
Figure 18.1 Conceptual pass-transistor logic gates. (a) Two switches, controlled by the input variables B and C, when
connected in series in the path between the input node to which an input variable A is applied and the output node (with
an implied load to ground) realize the function Y = ABC. (b) When the two switches are connected in parallel, the
function realized is Y = A(B + C).
Figure 18.2 Two possible implementations of a voltage-controlled switch connecting nodes A and Y: (a) single NMOS
transistor and (b) CMOS transmission gate.
Because this form of logic utilizes MOS transistors in the series path from input to output, to pass or
block signal transmission, it is known as pass-transistor logic (PTL). As mentioned earlier, CMOS
transmission gates are frequently used to implement the switches, giving this logic-circuit form the
alternative name transmission-gate logic. The terms are used interchangeably independent of the actual
implementation of the switches.

(18.1)
(18.2)
18.1.1 Operation with NMOS Transistors as Switches
Implementing the switches in a PTL circuit with single NMOS transistors results in a simple circuit with
small area and small node capacitances. These advantages, however, are obtained at the expense of serious
shortcomings in both the static characteristics and the dynamic performance of the resulting circuits. To
illustrate, consider the circuit shown in Fig. 18.3, where an NMOS transistor Q is used to implement a switch
connecting an input node with voltage vI and an output node. The total capacitance between the output node
and ground is represented by capacitor C. The switch is shown in the closed state with the control signal
applied to its gate being high at VDD. We wish to analyze the operation of the circuit as the input voltage vI
goes high (to VDD) at time t = 0. We assume that initially the output voltage vO is zero and capacitor C is
fully discharged.1
Figure 18.3 Operation of the NMOS transistor as a switch in the implementation of PTL circuits. This analysis is for the
case with the switch closed (vC is high) and the input going high (vI = VDD).
When vI goes high, the transistor operates in the saturation mode and delivers a current iD to charge the
capacitor,
where 
, and Vt is determined by the body effect since the source is at a voltage vO relative to
the body (which, though not shown, is connected to ground); thus (see Eq. 5.30),
Thus, initially (at t = 0), Vt = Vt0 and the current iD is relatively large. However, as C charges up and vO
rises, Vt increases (Eq. 18.2) and iD decreases. The latter effect is due to the increase both in vO and in Vt. It
follows that the process of charging the capacitor will be relatively slow. More seriously, observe from Eq.
(18.1) that iD reduces to zero when vO reaches (VDD–Vt). Thus the high output voltage (VOH) will not be
equal to VDD; rather, it will be lower by Vt, and to make matters worse, the value of Vt can be as high as 1.5
to 2 times Vt0!
The propagation delay tPLH of the PTL gate of Fig. 18.3 can be determined as the time for vO to reach
VDD/2. This can be calculated using techniques similar to those employed in the analysis of the CMOS

(18.3)
(a)
(b)
(c)
(d)
(e)
inverter in Section 17.1, as will be illustrated shortly in an example.
Figure 18.4 shows the NMOS switch circuit when vI is brought down to 0 V. We assume that initially vO
= VDD. Thus at t = 0+, the transistor conducts and operates in the saturation region,
where we note that since the source is now at 0 V (note that the drain and source have interchanged roles),
there will be no body effect, and Vt remains constant at Vt0. As C discharges, vO decreases and the transistor
enters the triode region at vO = VDD – Vt. Nevertheless, the capacitor discharge continues until C is fully
discharged and vO = 0. Thus, the NMOS transistor provides VOL = 0, or a “good 0.” Again, the propagation
delay tPHL can be determined using usual techniques, as illustrated by the following example.
Figure 18.4 Operation of the NMOS switch as the input goes low (vI = 0 V). Note that the drain of an NMOS transistor
is always higher in voltage than the source; correspondingly, the drain and source terminals interchange roles in
comparison to the circuit in Fig. 18.3.
Example 18.1
Consider the NMOS transistor switch in the circuits of Figs. 18.3 and 18.4 to be fabricated in a technology for
which μnCox = 450 µA/V2, μpCox = 150 µA/V2, Vt0 = 0.35 V, γ = 0.25 V1/2, 2ϕf = 1.0 V, and VDD = 1 V. Let the
transistor have (W/L) = 130 nm/65 nm, and assume that the total capacitance between the output node and
ground is C =5fF.
For the case with vI high (Fig. 18.3), find VOH.
If the output feeds a CMOS inverter whose (W/L)p = 3(W/L)n = 390 nm/65 nm, find the static current of the
inverter and its power dissipation when its input is at the value found in (a). Also, find the inverter output
voltage.
Find tPLH.
For the case where vI going low (Fig. 18.4), find tPHL.
Find tP.
∨Show Solution

18.1
EXERCISE
Let the NMOS transistor switch in Fig. 18.3 be fabricated in a 0.18-µm CMOS process for which Vt0 =
0.5 V, γ = 0.3 V1/2, 2ϕf = 0.85 V, and VDD = 1.8 V. Find VOH.
18.1.2 Restoring the Value of VOH to VDD
Example 18.1 highlights the problem of signal-level loss and its unfavorable effect on the operation of the
succeeding CMOS inverter. Some rather ingenious techniques have been developed to restore the output
level to VDD.
Consider the approach illustrated in Fig. 18.5. Here, Q1 is a pass-transistor controlled by input B. The
output node of the pass transistor is connected to the input of a standard CMOS inverter formed by QN and
QP. A PMOS transistor QR, whose gate is controlled by the output voltage of the inverter, vO2, has been
added to the circuit. Observe that in the event that the output of the PTL gate, vO1, is low (at ground), vO2
will be high (at VDD), and QR will be off. On the other hand, if vO1 is high but not quite equal to VDD, the
output of the inverter will be low (as it should be) and QR will turn on, supplying a current to charge C up to
VDD. This process will stop when vO1 = VDD, that is, when the output voltage has been restored to its proper
level. The “level-restoring” function performed by QR is frequently used in MOS digital circuit design.
Although the description of operation is relatively straightforward, the addition of QR closes a “positive-
feedback” loop around the CMOS inverter, and thus operation is more involved than it appears, especially
during transients. Selecting a W/L ratio for QR is also complicated, although normally kr is selected to be
much lower than kn (say a third or a fifth as large). Intuitively, this is appealing, for it implies that QR will
not play a major role in circuit operation, apart from restoring the level of VOH to VDD, as explained above.
Transistor QR is said to be a “weak PMOS transistor.” See Problem 18.9.
∨Show Answer

Figure 18.5 The use of transistor QR, connected in a feedback loop around the CMOS inverter, to restore the VOH level,
produced by Q1, to VDD.
18.1.3 The Use of CMOS Transmission Gates as Switches
We get great improvements in static and dynamic performance when we implement the switches with CMOS
transmission gates. The transmission gate uses a pair of complementary transistors connected in parallel. It
acts as an excellent switch, providing bidirectional current flow, and it exhibits an on-resistance that remains
almost constant for wide ranges of input voltage. These characteristics make the transmission gate not only
an excellent switch in digital applications but also an excellent analog switch in such applications as data
converters and switched-capacitor filters (Chapter 14).
Before we analyze the transmission-gate circuit, it is useful to reflect on its origin. Recall that an NMOS
transistor transmits the 0-V level to the output perfectly and thus produces a “good 0.” It has difficulty,
however, in passing the VDD level, with the result that VOH = VDD − Vt (a “poor 1”). It can be shown (see
Problems 18.1 and 18.7) that a PMOS transistor does exactly the opposite; that is, it passes the VDD level
perfectly and thus produces a “good 1” but has trouble passing the 0-V level, thus producing a “poor 0.” It is
natural therefore to think that placing an NMOS and a PMOS transistor in parallel would produce good
results in both the 0 and 1 cases.
Another way to describe the performance of the two transistor types is that the NMOS is good at pulling
the output down to 0 V, while the PMOS is good at pulling the output up to VDD. Interestingly, these are also
the roles they play in the standard CMOS inverter.
Figure 18.6 shows the transmission gate together with its frequently used circuit symbol. The
transmission gate is a bilateral switch that results in vY = vX when vC is high (VDD). In terms of logic
variables, its function is described by

Figure 18.6 The CMOS transmission gate and its circuit symbol.
Figure 18.7(a) shows the transmission-gate switch in the “on” position with the input, vI, rising to VDD at
t = 0. Assuming, as before, that initially the output voltage is zero, we see that QN will be operating in
saturation and providing a charging current of
Figure 18.7 (a) Operation of the transmission gate as a switch with vI high.
Figure 18.7 (b) Operation of the transmission gate as a switch with vI low.

(18.4)
(18.5)
(18.6)
(18.7)
18.2
(a)
(b)
(c)
(d)
where, as in the case of the single NMOS switch, Vtn is determined by the body effect,
Transistor QN will conduct a diminishing current that reduces to zero at vO = VDD – Vtn. Observe, however,
that QP operates with VSG = VDD and is initially in saturation,
where, since the body of QP is connected to VDD, |Vtp| remains constant at the value Vt0, assumed to be the
same value as for the n-channel device. The total capacitor-charging current is the sum of iDN and iDP. Now,
QP will enter the triode region at vO = |Vtp|, but will continue to conduct until C is fully charged and vO =
VOH = VDD. Thus, the p-channel device will provide the gate with a “good 1.” The value of tPLH can be
calculated using usual techniques, where we expect that as a result of the additional current available from
the PMOS device, for the same value of C, tPLH will be lower than in the case of the single NMOS switch.
Note, however, that adding the PMOS transistor increases the value of C.
When vI goes low, as shown in Fig. 18.7(b), QN and QP interchange roles. Analysis of the circuit in Fig.
18.7(b) will indicate that QP will cease conduction when vO falls to |Vtp|, where |Vtp| is given by
Transistor QN, however, continues to conduct until C is fully discharged and vO = VOL = 0 V, a “good 0.”
We conclude that transmission gates provide far superior performance, both static and dynamic, than is
possible with single NMOS switches. The price paid is increased circuit complexity, area, and capacitance.
EXERCISE
The transmission gate of Fig. 18.7 is fabricated in a CMOS process technology for which 
 = 450
µA/V2, 
 = 150 µA/V2, Vtn = |Vtp|, Vt0 = 0.35 V, γ = 0.25 V1/2, 2ϕf = 1.0 V, and VDD = 1 V. Let QN
and QP have dimensions (W/L)n = (W/L)p = 130 nm/65 nm. The total capacitance at the output node is
5 fF. Use as many of the results of Example 18.1 as you need.
What are the values of VOH and VOL?
For the situation in Fig. 18.7(a), find iDN(0), iDP(0), iDN(tPLH), iDP(tPLH), and tPLH.
For the situation depicted in Fig. 18.7(b), find iDN(0), iDP(0), iDN(tPHL), iDP(tPHL), and tPHL. At
what value of vO will QP turn off?
Find tP.

(18.8)
(18.9)
(18.10)
(18.11)
(18.12)
(18.13)
(18.14)
Equivalent Resistance of the Transmission Gate Although the transmission gate is capable of passing the
full 1 and 0 levels to the load capacitance, it is not a perfect switch because it has a finite on-resistance. It is
useful for us to obtain an estimate for this resistance. It can, for instance, be used together with the load
capacitance as an alternative means to determining propagation delay. This approach is particularly useful in
situations involving a network of inverters and transmission gates, as we shall shortly see.
To estimate the resistance of the transmission gate, we shall consider the situation in Fig. 18.7(a), where
the transmission gate is on and is passing a high input (VDD) to the capacitor load. Transistor QN operates in
saturation until the output voltage vO reaches (VDD − Vtn), at which time QN turns off; thus,
A gross estimate for the equivalent resistance of QN can be obtained by dividing the voltage across it,
(VDD − vO), by iDN, and neglecting the body effect, that is, assuming Vtn remains constant; thus,
and
Transistor QP will operate in saturation until vO = |Vtp|, after which it enters the triode region; thus,
A gross estimate for the resistance of QP can be obtained by dividing the voltage across it, (VDD − vO), by
iDP; thus,
∨Show Answer

(18.15)
(18.16)
18.3
Finally, the equivalent resistance RTG of the transmission gate can be obtained as the parallel equivalent of
RNeq and RPeq,
Obviously, RTG is a function of the output voltage vO. As an example, we show in Fig. 18.8 a plot for RTG
for the transmission gate analyzed in Exercise 18.2, for the case of a high input. Observe that RTG remains
relatively constant over the full range of vO. The average value of RTG over the range vO = 0 to VDD/2 can be
used to determine tPLH, as illustrated in Exercise 18.3.
Figure 18.8 Plot of the equivalent resistances of the two transistors of the transmission gate in Fig. 18.7(a) passing a high
input, and the overall resistance RTG versus vO. The data apply to the situation specified in Exercise 18.3.
EXERCISE
For the transmission gate analyzed in Exercise 18.2, whose equivalent resistance for capacitor charging
is plotted in Fig. 18.8, use the average resistance value over the range vO = 0 V to 0.5 V to determine
tPLH. Compare the result to the one we obtained using average currents in Exercise 18.2. Note that
from the graph, RTG = 3.9 kΩ at vO = 0 V, and RTG = 7.1 kΩ at vO = 0.5 V. Recall that tPLH = 0.69RC.
∨Show Answer

The expression for RTG derived above applies only to the case of capacitor charging. A similar analysis
can be performed for the case of capacitor discharge illustrated in Fig. 18.7(b). The resulting value of RTG is
close to the one we obtained earlier.
Having an estimate of the resistance of the transmission gate enables us to calculate the propagation
delay of a signal path containing one or more transmission gates. Figure 18.9(a) shows one such circuit. It
consists of a transmission gate connecting the output of an inverter to the input of another. We are interested
in finding the propagation delay from the input of the first inverter to the input of the second as we apply a
negative-going step to the input of the first inverter.
Figure 18.9 (a) A transmission gate connects the output of a CMOS inverter to the input of another.
Figure 18.9 (b) Equivalent circuit for the purpose of analyzing the propagation delay of the circuit in (a).
Fig. 18.9(b) shows the equivalent circuit where RP1 is the equivalent resistance of QP1, RTG is the
equivalent resistance of the transmission gate, Cout1 is the output capacitance of the driver inverter, CTG1 and
CTG2 are the capacitances introduced by the transmission gate at its input and output, respectively, and Cin2
is the input capacitance of the load inverter. Observe that the circuit takes the form of an RC ladder network.
A simple formula has been developed for calculating the delay of an arbitrarily long RC ladder network such

(18.17)
(18.18)
18.4
as that shown in Fig. 18.10 having three sections. Known as the Elmore delay formula, it gives for the
ladder in Fig. 18.10
Applying the Elmore formula to the two-stage ladder in Fig. 18.9(b) gives
Finally, the factor 0.69 is usually dropped on the assumption that the input is a ramp rather than a step
voltage.
Figure 18.10 A three-section RC ladder network used to illustrate Elmore delay.
EXERCISE
The circuit in Fig. 18.9(a) is fabricated in a 65-nm CMOS technology; QP1 of the first inverter has W/L
= 2, and both transistors of the transmission gate have W/L = 2, as in Exercise 18.3. The capacitances
are estimated to be Cout1 = 4 fF, CTG1 = CTG2 = 2 fF, and Cin2 = 4 fF. Estimate the average value of
RP1 by calculating the current in QP1 when its drain is at 0 V, and again when it is at 0.5 V. Also, use
the average value of RTG calculated in Exercise 18.3. Then, determine an estimate for tPLH assuming a
ramp input.
∨Show Answer

18.2 Latches and Flip-Flops
In this section, we study the basic memory element, the latch, and consider some of its applications,
including both static and dynamic circuits. As we will soon see, the pass transistors of Section 18.1 are often
used to access internal storage nodes.
18.2.1 The Latch
The basic memory element, the latch, is shown in Fig. 18.11(a). It consists of two cross-coupled logic
inverters, G1 and G2. The inverters form a positive-feedback loop. To investigate the operation of the latch
we break the feedback loop at the input of one of the inverters, say G1, and apply an input signal, vW, as
shown in Fig. 18.11(b). Assuming that the input impedance of G1 is large, breaking the feedback loop will
not change the loop voltage-transfer characteristic, which can be determined from the circuit of Fig. 18.11(b)
by plotting vZ versus vW. This is the voltage-transfer characteristic of two cascaded inverters and thus takes
the shape shown in Fig. 18.11(c). Observe that the transfer characteristic consists of three segments, with the
middle segment corresponding to the transition region of the inverters.
Figure 18.11 (a) Basic latch.
Figure 18.11 (b) The latch with the feedback loop opened.

Figure 18.11 (c) Determining the operating point(s) of the latch.
Also shown in Fig. 18.11(c) is a straight line with unity slope. This straight line represents the
relationship vW = vZ that is realized by reconnecting Z to W to close the feedback loop and thus to return it to
its original form. As indicated, the straight line intersects the loop transfer curve at three points, A, B, and C.
Thus any of these three points can serve as the operating point for the latch. We shall now show that while
points A and C are stable operating points in the sense that the circuit can remain at either one indefinitely,
point B is an unstable operating point; the latch cannot operate at B for any significant period of time.
We can see why point B is unstable if we consider the latch circuit in Fig. 18.11(a) to be operating at
point B, and then take account of the electrical interference (or noise) that is inevitably present in any circuit.
Let the voltage vW increase by a small increment vw. The voltage at X will increase (in magnitude) by a
larger increment, equal to the product of vw and the incremental gain of G1 at point B. The resulting signal vx
is applied to G2 and gives rise to an even larger signal at node Z. The voltage vz is related to the original
increment vw by the loop gain at point B, which is the slope of the curve of vZ versus vW at point B. This
gain is usually much greater than unity. Since vz is coupled to the input of G1, it becomes the new value of
vW and is further amplified by the loop gain. This regenerative process continues, shifting the operating point
from B upward to point C, as illustrated in Fig. 18.12. Since at C the loop gain is zero (or almost zero), no
regeneration can take place.

Figure 18.12 Point B is an unstable operating point for the latch: A small positive increment vw gets amplified around
the loop and causes the operating point to shift to the stable operating point C. Had vw been negative, the operating point
would have shifted to the other stable point, A.
In the description above, we assumed arbitrarily an initial positive voltage increment at W. Had we
instead assumed a negative voltage increment, we would have seen that the operating point moves
downward from B to A. Again, since at point A the slope of the transfer curve is zero (or almost zero), no
regeneration can take place. In fact, for regeneration to occur, the loop gain must be greater than unity, which
is the case at point B. We can also model the positive feedback in the latch at operating point B as a negative
feedback loop with −180° phase shift and large gain at low frequencies, illustrated by the high slope of the
loop voltage-transfer characteristic in Fig. 18.11(b). Thus, at operating point B the loop has no phase margin
and is unstable.
The discussion above leads us to conclude that the latch has two stable operating points, A and C. At
point C, vW is high, vX is low, vY is low, and vZ is high. The reverse is true at point A. If we consider X and Z
as the latch outputs, we see that in one of the stable states (say that corresponding to operating point A), vX is
high (at VOH) and vZ is low (at VOL). In the other state (corresponding to operating point C), vX is low (at
VOL) and vZ is high (at VOH). Thus the latch is a bistable circuit having two complementary outputs. The
stable state in which the latch operates depends on the external excitation that forces it to the particular state.
The latch then memorizes this external action by staying indefinitely in the acquired state. As a memory
element the latch is capable of storing one bit of information. For instance, we can arbitrarily designate the
state in which vX is high and vZ is low as corresponding to a stored logic 1. The other complementary state
then is designated by a stored logic 0. Finally, we note that the latch circuit described is of the static variety.
We still need to devise a mechanism by which the latch can be triggered to change state. The latch
together with the triggering circuitry forms a flip-flop, which we discuss next. We also present analog
bistable circuits using op amps in Chapter 15.

18.2.2 The SR Flip-Flop
The simplest type of flip-flop is the set/reset (SR) flip-flop shown in Fig. 18.13(a). It is formed by cross-
coupling two NOR gates, and thus it incorporates a latch. The second inputs of G1 and G2 together serve as
the trigger inputs of the flip-flop. These two inputs are labeled S (for set) and R (for reset). The outputs are
labeled Q and 
, emphasizing their complementarity. The flip-flop is considered to be set (i.e., storing a
logic 1) when Q is high and 
 is low. When the flip-flop is in the other state (Q low, 
 high), it is
considered to be reset (storing a logic 0).
Figure 18.13 (a) The set/reset (SR) flip-flop and (b) its truth table.
In the rest or memory state (i.e., when we do not wish to change the state of the flip-flop), both the S and
R inputs should be low. Consider the case when the flip-flop is storing a logic 0. Since Q will be low, both
inputs to the NOR gate G2 will be low. Its output will therefore be high. This high is applied to the input of
G1, causing its output Q to be low, satisfying the original assumption. To set the flip-flop we raise S to the
logic-1 level while leaving R at 0.
The 1 at the S terminal will force the output of G2, 
, to 0. Thus the two inputs to G1 will be 0 and its output
Q will go to 1. Now even if S returns to 0, the Q = 1 signal fed to the input of G2 will keep 
 = 0, and the
flip-flop will remain in the newly acquired set state. Note that if we raise S to 1 again (with R remaining at
0), no change will occur. To reset the flip-flop we need to raise R to 1 while leaving S = 0. We can readily
show that this forces the flip-flop into the reset state (Q = 0, 
 = 1) and that the flip-flop remains in this state
even after R has returned to 0. Notice that the trigger signal merely starts the regenerative action of the
positive-feedback loop of the latch.
Finally, let’s see what happens if both S and R are simultaneously raised to 1. The two NOR gates will
cause both Q and 
 to become 0 (note that in this case the complementary labeling of these two variables is
incorrect). However, if R and S return to the rest state (R = S = 0) simultaneously, the state of the flip-flop
will be undefined. In other words, it will be impossible to predict the final state of the flip-flop. For this
reason, this input combination is usually disallowed (i.e., not used). Note, however, that this situation arises
only in the idealized case, when both R and S return to 0 precisely simultaneously. In actual practice one of
the two will return to 0 first, and the final state will be determined by the input that remains high longest.
The operation of the flip-flop is summarized by the truth table in Fig. 18.13(b), where Qn denotes the
value of Q at time tn just before the application of the R and S signals, and Qn+1 denotes the value of Q at
time tn+1 after the application of the input signals.

Rather than using two NOR gates, we can also implement an SR flip-flop by cross-coupling two NAND
gates, in which case the set and reset functions are active when low (see Problem 18.16).
18.2.3 CMOS Implementation of SR Flip-Flops
The SR flip-flop of Fig. 18.13 can be directly implemented in CMOS by simply replacing each of the NOR
gates with its CMOS circuit realization. We encourage you to sketch the resulting circuit (see Problem
18.15). Although the CMOS circuit thus obtained works well, it is somewhat complex. As an alternative, we
consider a simplified circuit that furthermore implements additional logic. Specifically, Fig. 18.14 shows a
clocked version of an SR flip-flop. Since the clock inputs form AND functions with the set and reset inputs,
the flip-flop can be set or reset only when the clock ϕ is high. Observe that although the two cross-coupled
inverters at the heart of the flip-flop are of the standard CMOS type, only NMOS transistors are used for the
set–reset circuitry. Nevertheless, since there is no conducting path between VDD and ground (except during
switching), the circuit does not dissipate any static power.
Figure 18.14 CMOS implementation of a clocked SR flip-flop. The clock signal is denoted by ϕ.
Except for the addition of clocking, the SR flip-flop of Fig. 18.14 operates in exactly the same way as its
logic antecedent in Fig. 18.13: To illustrate, consider what happens when the flip-flop is in the reset state (Q
= 0, 
 = 1, vQ = 0, 
), and assume that we wish to set it. To do so, we arrange for a high (VDD)
signal to appear on the S input while R is held low at 0 V. Then, when the clock ϕ goes high, both Q5 and Q6
will conduct, pulling the voltage 
 down. If 
 goes below the threshold VM of the (Q3, Q4) inverter, the
inverter will switch states (or at least begin to switch states), and its output vQ will rise. This increase in vQ is
fed back to the input of the (Q1, Q2) inverter, causing its output 
 to go down even further; the
regeneration process, characteristic of the positive-feedback latch, is now in progress.
The preceding description of flip-flop switching is predicated on two assumptions:
FLIP-FLOP FACT
∨

1.
2.
(a)
(b)
18.5
Transistors Q5 and Q6 supply sufficient current to pull the node 
 down to a voltage at least slightly
below the threshold of the (Q3, Q4) inverter. This is essential for the regenerative process to begin.
Without this initial trigger, the flip-flop will fail to switch. In Example 18.2, we shall investigate the
minimum W/L ratios that Q5 and Q6 must have to meet this requirement.
The set signal remains high long enough to cause regeneration to take over the switching process. We
can estimate the minimum width required for the set pulse by adding the interval during which 
 is
reduced from VDD to VDD/2 and the interval for the voltage vQ to respond and rise to VDD/2. This
point also will be illustrated in Example 18.2.
Finally, note that the symmetry of the circuit indicates that all the preceding remarks apply equally well to
the reset process.
Example 18.2
The CMOS SR flip-flop in Fig. 18.14 is fabricated in a 65-nm process for which μnCox = 3μpCox = 450 µA/V2,
Vtn = −Vtp = 0.35 V, and VDD = 1.0 V. The inverters have (W/L)n = 130 nm/65 nm and (W/L)p = 3(W/L)n. The
four NMOS transistors in the set–reset circuit, Q5−8, have equal W/L ratios.
Determine the minimum value required for this ratio to ensure that the flip-flop will switch.
Determine the minimum width the set pulse must have for the case in which the W/L ratio of each of the
four transistors in the set–reset circuit is selected at twice the minimum value found in (a). Assume that the
total capacitance between each of the Q and 
 nodes and ground is 10 fF.
EXERCISE
For the SR flip-flop specified in Example 18.2, find the minimum W/L for both Q5 and Q6 so that
switching is achieved when inputs S and ϕ are at (VDD/2).
18.2.4 A Simpler CMOS Implementation of the Clocked SR Flip-Flop
A simpler implementation of a clocked SR flip-flop is shown in Fig. 18.17. Here, pass-transistor logic is
employed to implement the clocked set–reset functions. This circuit is very popular in the design of static
random-access memory (SRAM) chips, where it is used as the basic memory cell (Section 18.3).
∨Show Solution
∨Show Answer

Figure 18.17 A simpler CMOS implementation of the clocked SR flip-flop. This circuit is popular as the basic cell in the
design of static random-access memory (SRAM) chips.
18.2.5 D Flip-Flop Circuits
A variety of flip-flop types exist and can be synthesized using logic gates. We can obtain CMOS circuit
implementations by simply replacing the gates with their CMOS circuit realizations. This approach,
however, usually results in rather complex circuits. In many cases, we can find simpler circuits by taking a
circuit-design viewpoint, rather than a logic-design one. To illustrate this point, let’s consider the CMOS
implementation of a very important type of flip-flop, the data, or D, flip-flop.
The D flip-flop is shown in block diagram form in Fig. 18.18. It has two inputs, the data input D and the
clock input ϕ. The complementary outputs are labeled Q and 
 . When the clock is low, the flip-flop is in
the memory, or rest, state; signal changes on the D input line have no effect on the state of the flip-flop. As
the clock goes high, the flip-flop acquires the logic level that existed on the D line just before the rising edge
of the clock. Such a flip-flop is said to be edge triggered. Some implementations of the D flip-flop include
direct set and reset inputs that override the clocked operation just described.
Figure 18.18 A block diagram representation of the D flip-flop.
A simple implementation of the D flip-flop is shown in Fig. 18.19. The circuit consists of two inverters
connected in a positive-feedback loop, just as in the static latch of Fig. 18.11(a). Here, however, the loop is
closed for only part of the time—specifically, when the clock is low 
 . The input D is

connected to the flip-flop through a switch that closes when the clock is high. Operation is straightforward:
When ϕ is high, the loop is opened, and the input D is connected to the input of inverter G1. The capacitance
at the input node of G1 is charged to the value of D, and the capacitance at the input node of G2 is charged to
the value of 
 Then, when the clock goes low, the input line is isolated from the flip-flop, the feedback loop
is closed, and the latch acquires the state corresponding to the value of D just before ϕ went down, providing
an output Q = D.
From this we can see that the circuit in Fig. 18.19 combines the positive-feedback technique of static
bistable circuits and a charge-storage technique found in dynamic circuits. It is important to note that the
proper operation of this circuit, and of many circuits that use clocks, is predicated on the assumption that ϕ
and 
 will not be simultaneously high at any time. This condition is defined by referring to the two clock
phases as being nonoverlapping.
Figure 18.19 A simple implementation of the D flip-flop. The circuit in (a) utilizes the two-phase nonoverlapping clock
whose waveforms are shown in (b).
An inherent drawback of the D flip-flop implementation of Fig. 18.19 is that during ϕ, the output of the
flip-flop simply follows the signal on the D input line. This can cause problems in certain logic-design
situations. The problem is solved very effectively by using the master–slave configuration shown in Fig.
18.20(a). Before discussing how the circuit operates, we note that although the switches are shown
implemented with single NMOS transistors, CMOS transmission gates are employed in many applications.
We are simply using the single MOS transistor as a “shorthand notation” for a series switch.

1.
Figure 18.20 (a) A master–slave D flip-flop. The switches can be, and usually are, implemented with CMOS
transmission gates.
Figure 18.20 (b) Waveforms of the two-phase nonoverlapping clock required.
The master–slave circuit consists of a pair of circuits of the type shown in Fig. 18.19, operated with
alternate clock phases. Here, to emphasize that the two clock phases must be nonoverlapping, we denote
them ϕ1 and ϕ2, and clearly show the nonoverlap interval in the waveforms of Fig. 18.20(b). This is how the
circuit operates:
When ϕ1 is high and ϕ2 is low, the input is connected to the master latch, whose feedback loop is
opened, while the slave latch is isolated. Thus, the output Q remains at the value stored previously in
the slave latch, whose loop is now closed. The node capacitances of the master latch are charged to the
appropriate voltages corresponding to the present value of D.

2. When ϕ1 goes low, the master latch is isolated from the input data line. Then, when ϕ2 goes high, the
feedback loop of the master latch is closed, locking in the value of D. Further, its output is connected
to the slave latch, whose feedback loop is now open. The node capacitances in the slave are
appropriately charged so that when ϕ1 goes high again, the slave latch locks in the new value of D and
provides it at the output, Q = D.
From this description, we note that at the positive transition of clock ϕ2 the output Q adopts the value of
D that existed on the D line at the end of the preceding clock phase, ϕ1. This output value remains constant
for one clock period. Finally, note that during the nonoverlap interval both latches have their feedback loops
open, and we are relying on the node capacitances to maintain most of their charge. It follows that the
nonoverlap interval should be kept reasonably short (perhaps equivalent to the delay of one or two logic
gates, such that the held state will not decay due to leakage).

18.3 Random-Access Memory (RAM) Cells
A computer system, whether a large machine in a data center, a laptop, a smartphone, or an embedded
device, requires memory for storing data and program instructions. Broadly speaking, memory can be
divided into two types: main memory and mass-storage memory. The main memory is usually the most
rapidly accessible memory and the one from which most instructions in programs are executed. A random-
access memory (RAM) is one in which the time required for storing (writing) information and for retrieving
(reading) information is independent of the physical location (within the memory) in which the information
is stored. Main memory is usually made up of RAM. RAMs should be contrasted with serial or sequential
memories, such as disks and tapes, from which data are available only in the sequence in which they were
originally stored.
Another important classification of memory relates to whether it is a read/write or a read-only memory.
Read/write (R/W) memory permits data to be stored and retrieved at comparable speeds. Computer systems
require random-access read/write memory for data and program storage. Read-only memories (ROM)
permit reading at the same high speeds as R/W memories (or perhaps higher) but restrict the writing
operation. ROMs can be used to store a microprocessor operating-system program. They are also employed
in operations that require table lookup, such as finding the values of mathematical functions.
A third classification depends on whether data that are stored will be destroyed should the power supply
to the memory be cut off. Volatile memory, such as static RAM (SRAM) and dynamic RAM (DRAM),
must be powered up to hold their data. On the other hand, nonvolatile memory such as Flash memory
(typically organized into a RAM-type array) relies on circuit techniques that keep data safely stored when
devices are turned off.
The regular structure of RAM-type memory arrays makes them ideal for dense storage of information.
Indeed, at any moment, memory chips represent the state of the art in integrated circuit packing density.
Beginning with the introduction of a 1-Kbit chip in 1970, memory-chip density has quadrupled about every 3
years. At the present time (2020), 16-Gbit DRAM chips are readily available. In the past decade, Flash
memory—also based on dense packing of storage cells onto an integrated circuit—has largely displaced
disks and tapes for mass storage. In this section, we study some of the basic circuits used in SRAMs,
DRAMs, and Flash memory.
The bulk of a memory chip consists of cells in which bits are stored. Each memory cell is an electronic
circuit capable of storing one bit (or possibly a few). For many reasons, it is desirable to have the storage
cells on a chip arranged in a square or a nearly square matrix. Figure 18.21 illustrates this arrangement. The
cell matrix has 2M rows and 2N columns, for a total storage capacity of 2M+N. For example, a 1-Mbit square
matrix would have 1024 rows and 1024 columns (M = N = 10). Each cell in the array is connected to one of
the 2M row lines, known rather loosely, but universally, as word lines, and to one of the 2N column lines,
known as bit lines. A particular cell is selected for reading or writing by activating its word line and its bit
line. How this is done depends on whether the memory is static or dynamic, as we will see shortly.

Figure 18.21 A 2M+N-bit memory chip organized as an array of 2M rows × 2N columns.
A 2M word line is activated by the row decoder, a combinational logic circuit that selects (raises the
voltage of) the particular word line whose M-bit address is applied to the decoder input. When the Kth word
line is activated for, say, a read operation, all 2N cells in row K provide their contents to their respective bit
lines. Thus, if the cell in column L (Fig. 18.21) is storing a 1, the voltage of bit-line number L will be raised,
usually by a small voltage, say 0.1 to 0.2 V. The readout voltage is small because the cell is small, a
deliberate design decision, since the number of cells is very large. The small readout signal is applied to a
sense amplifier connected to the bit line, which provides a full-swing digital signal (from 0 to VDD) at its
output. This signal, together with the output signals from all the other cells in the selected row, is then

delivered to a column decoder, which selects the signal of the particular column whose N-bit address is
applied to the decoder input and causes this signal to appear on the chip input/output (I/O) data line.
Since the major part of the memory chip is taken up by the storage cells, it follows that to be able to pack
a large number of bits on a chip, it is imperative that the cell be made as small as possible. The power
dissipation per cell should also be minimized. Thus, many of the flip-flop circuits studied in Section 18.2 are
too complex to be suitable for implementing the storage cells in a RAM chip. However, as we will see soon,
SRAMs use static latches as the storage cells. On the other hand, DRAMs store their data on capacitors,
resulting in further reduction in cell area, but at the expense of more complex read and write circuitry.
In particular, while SRAMs can hold their stored data indefinitely, provided the power supply remains
on, DRAMs require periodic refreshing to regenerate the data stored on capacitors. This is because the
storage capacitors discharge, though slowly, as a result of leakage currents. By virtue of their smaller cell
size, dynamic memory chips are typically four times as dense as their contemporary static chips. In the
following subsections, we will study basic SRAM and DRAM storage cells.
18.3.1 Static Memory (SRAM) Cell
Figure 18.22 shows a typical static memory cell in CMOS technology. The circuit, which we encountered in
Section 18.2, is a flip-flop comprising two cross-coupled inverters and two access transistors, Q5 and Q6.
The access transistors are turned on when the word line is selected and its voltage raised to VDD, and they
connect the flip-flop to the column (bit or B) line and 
 line. Note that although in
principle only the B or the 
 line suffices, most often both are utilized, as shown in Fig. 18.22. This
practice provides a differential data path between the cell and the memory-chip output while increasing the
circuit reliability. The access transistors act as transmission gates allowing bidirectional current flow
between the flip-flop and the B and 
 lines. This circuit is known as the six-transistor or 6T SRAM cell.
Figure 18.22 A CMOS SRAM memory cell.

(18.19)
(18.20)
The Read Operation Consider first a read operation, and assume that the cell is storing a 1. In this case, Q
will be high at VDD, and 
 will be low at 0 V. Before the read operation begins, the B and 
 lines are
raised to a voltage in the range VDD/2 to VDD. This process, known as precharging, is performed using
circuits we will discuss in Section 18.4, where we consider sense amplifiers. To simplify matters, let’s
assume here that the precharge voltage of B and 
 is VDD.
When the word line is selected and the access transistors Q5 and Q6 are turned on, we can see that the
only portion of the circuit that will be conducting is what is shown in Fig. 18.23. Noting that the initial value
of 
 is 0 V, we can see that current will flow from the 
 line (actually, from the 
-line capacitance 
)
through Q5 and into capacitor 
 which is the small equivalent capacitance between the 
 node and
ground. This current charges 
 and thus 
 rises and Q1 conducts, sinking some of the current supplied
by Q5. Equilibrium is reached when 
 is charged to a voltage 
 at which I1 equals I5, and no current
flows through 
 . Here it is extremely important to note that to avoid changing the state of the flip-flop,
that is, for our read operation to be nondestructive, 
 must not exceed the threshold voltage of the
inverter Q3−Q4. In fact, SRAM designers usually impose a more stringent requirement on the value of 
,
namely, that it should be lower than the threshold voltage of Q3, Vtn. Thus, the design problem we shall now
solve is as follows: Determine the ratio of (W/L)5/(W/L)1 so that 
.
Figure 18.23 Relevant parts of the SRAM cell circuit during a read operation when the cell is storing a logic 1. Note that
initially vQ = VDD and 
. Also note that the B and 
 lines are precharged to a voltage VDD.
Noting that Q5 will be operating in saturation and neglecting, for simplicity, the body effect, we can write
Transistor Q1 will be operating in the triode region, and its current I1 can be written as
Equating I5 and I1 gives a quadratic equation in 
, which can be solved to obtain

(18.21)
(18.22)
(18.23)
This is an attractive relationship, since it provides 
 in normalized form and thus always applies,
independent of the process technology utilized. Figure 18.24 shows a universal plot of 
versus (W/L)5/(W/L)1. For a given process technology, VDD and Vtn are determined, and the plot in Fig.
18.24 can be used to determine the maximum value permitted for (W/L)5/(W/L)1 while keeping 
 below a
desired value. Alternatively, we can derive a formula for this purpose. For instance, if 
 is to be kept below
Vtn, the ratio of (W/L)5 to (W/L)1 must be kept below the value obtained from Eq. (18.21), that is,
This is an important design constraint that can be expressed in a slightly more general form by replacing
(W/L)5 with (W/L)a, where the subscript a denotes access transistors Q5 and Q6, and (W/L)1 with (W/L)n,
which is the W/L ratio of QN in each of the two inverters; thus,

18.6
(18.24)
(18.25)
Figure 18.24 The normalized value of 
 versus the ratio (W/L)5/(W/L)1 for the circuit in Fig. 18.23. This graph can be
used to determine the maximum value permitted for (W/L)5/(W/L)1 so that 
 is kept below a desired level.
EXERCISE
Find the maximum allowable W/L for the access transistors of the SRAM cell in Fig. 18.22 so that in a
read operation, the voltages at Q and 
 do not change by more than |Vt|. Assume that the SRAM is
fabricated in a 65-nm technology for which VDD = 1.0 V, Vtn = |Vtp| = 0.35 V and that (W/L)n = 2.
Having determined the constraint imposed by the read operation on the W/L ratios of the access transistors,
we now return to the circuit in Fig. 18.23, and show in Fig. 18.25 the voltage waveforms at various nodes
during a read-1 operation. Observe that as we have already discussed, 
 rises from zero to a voltage 
 . Correspondingly, the change in vQ will be very small, justifying the assumption implicit in the
analysis above that vQ remains constant at VDD. Most important, note that the voltage of the 
 line, 
,
decreases by a small amount ∆V. This is a result of the discharge of the capacitance of the 
 line, 
 by the
current I5. Assuming that I5 reaches its equilibrium value in Eq. (18.19) relatively quickly, capacitor 
 is
in effect discharged by a constant current I5 and the change in its voltage, ∆V, obtained in a time interval ∆t,
can be found by writing a charge-balance equation,
Thus,
Here we note that 
 is usually relatively large (possibly over 100 fF) because a large number of cells are
connected to the 
 line. The incremental change ∆V is therefore rather small (0.1–0.2 V), necessitating the
use of a sense amplifier. If the sense amplifier requires a minimum decrement ∆V in 
 to detect the
presence of a “1,” then the read delay time can be found from Eq. (18.24) as
This equation indicates the need for a relatively large I5 to reduce the delay time ∆t. A large I5, however,
implies selecting (W/L)a near the upper bound given by Eq. (18.23), which in turn means an increase in the
silicon area occupied by the access transistors and hence the cell area, an interesting design trade-off.
∨Show Answer

18.7
1.
Figure 18.25 Voltage waveforms at various nodes in the SRAM cell during a read-1 operation.
EXERCISE
For the SRAM cell considered in Exercise 18.6, whose (W/L)n = 2 and (W/L)a ≤ 7.4, use Eq. (18.25) to
determine the read delay ∆t in two cases: (a) (W/L)a = 7.4 and (b) (W/L)a = 2. Let μnCox = 450 µA/V2.
In both cases, assume that 
 = 2 pF and that the sense amplifier requires a ∆V of minimum
magnitude of 0.15 V. (Hint: Use Eq. 18.19 to determine I5, and Eq. 18.21 to determine 
.)
We conclude our discussion of the read operation with two remarks:
Although we considered only the read-1 operation, the read-0 operation is identical; it involves Q3 and
Q6 with the analysis resulting in an upper bound on (W/L)6/(W/L)3 equal to what we have found for
(W/L)5/(W/L)1. This, of course, is entirely expected, since the circuit is symmetrical. The read-0
operation results in a decrement ∆V in the voltage of the B line, which is interpreted by the sense
amplifier as a stored 0.
∨Show Answer

2. The component ∆t of the read delay is relatively large because CB and 
 are relatively large (in the
100 fF range). Also, ∆t is not the only component of the read delay; another significant component is
due to the finite rise time of the voltage on the word line. Indeed, even the calculation of ∆t is
optimistic, since the word line will have only reached a voltage lower than VDD when the process of
discharging 
 takes place. As we will see shortly, the write operation is faster.
The Write Operation We next consider the write operation. Let the SRAM cell of Fig. 18.22 be storing a
logic 1, thus VQ = VDD and 
 = 0 V, and assume that we wish to write a 0; that is, we wish to have the flip-
flop switch states. To write a zero, the B line is lowered to 0 V, and the 
 line is raised to VDD and, of
course, the cell is selected by raising the word line to VDD. The objective now is to pull node Q down and
node 
 up and have the voltage of at least one of these two nodes pass by the inverter threshold voltage.
Thus, if vQ decreases below the threshold voltage of inverter Q1−Q2, the regenerative action of the latch will
start and the flip-flop will switch to the stored-0 state. Alternatively, or in addition, if we manage to raise 
above the threshold voltage of the Q3−Q4 inverter, the regenerative action will be engaged and the latch will
eventually switch state. Either one of the two actions is sufficient to engage the regenerative mechanism of
the latch.
Figure 18.26 shows the relevant parts of the SRAM circuit during the interval when 
 is being pulled
up [Fig. 18.26(a)] and vQ is being pulled down [Fig. 18.26(b)]. Since toggling (i.e., state change) has not yet
taken place, we assume that the voltage feeding the gate of Q1 is still equal to VDD and the voltage at the
gate of Q4 is still equal to 0 V. These voltages will of course be changing as 
 goes up and vQ goes down,
but this assumption is nevertheless reasonable for approximate hand analysis.
Consider first the circuit in Fig. 18.26(a). This is the same circuit we analyzed in detail in the study of the
read operation above. Recall that to make the read process nondestructive, we imposed an upper bound on
(W/L)5. That upper bound ensured that 
 will not rise above Vtn. Thus, this circuit is not capable of raising
 to the point that it can start the regenerative action. We must therefore rely solely on the circuit of Fig.
18.26(b). That is, our write-0 operation will be accomplished by pulling node Q down in order to initiate the
regenerative action of the latch. To ensure that the latch will in fact switch state, SRAM designers impose a
more stringent requirement on the voltage vQ, namely, that it must fall below not just VM of the Q1−Q2
inverter but even further such that it is lower than Vtn of Q1.

(18.26)
(18.27)
(18.28)
Figure 18.26 Relevant parts of the 6T SRAM circuit of Fig. 18.22 during the process of writing a 0. It is assumed that
the cell is originally storing a 1 and thus initially vQ = VDD and 
 .
Let’s now look more closely at the circuit of Fig. 18.26(b). Initially, vQ is at VDD. However, as Q6 turns
on, I6 quickly discharges the small capacitance CQ, and vQ begins to fall. This will enable Q4 to conduct, and
equilibrium is reached when I4 = I6. To ensure toggling, we design the circuit so that this equilibrium occurs
at a value of vQ less than Vtn. At such a value VQ, Q4 will be operating in saturation (or at least at the edge of
saturation) and Q6 will be operating in the triode region, thus
and
Substituting |Vtp| = Vtn, which is usually the case, and equating I4 and I6 results in a quadratic equation in VQ
whose solution is
This relationship is not as convenient as the one in Eq. (18.21) because the right-hand side includes a
process-dependent quantity, namely, μp/μn. Thus we do not have a universally applicable relationship.
Nevertheless, for a number of CMOS process technologies, 
 .2 Thus, upon substituting μp/μn =
0.25 in Eq. (18.28), we obtain the semiuniversal graph shown in Fig. 18.27. We can use this graph to

(18.29)
D18.8
determine the maximum allowable value of the ratio (W/L)4/(W/L)6 that will ensure a value of 
 for
given process parameters VDD and Vtn. Alternatively, substituting VQ = Vtn, (W/L)4 = (W/L)p, and (W/L)6 =
(W/L)a, we can obtain the upper bound analytically as
Observe that this relationship provides an upper bound on (W/L)p in terms of (W/L)a and that the relationship
in Eq. (18.23) provides an upper bound on (W/L)a in terms of (W/L)n. Thus, the two relationships can be
used together to design the SRAM cell.
Figure 18.27 The normalized value of VQ versus the ratio (W/L)4/(W/L)6 for the circuit in Fig. 18.26(b). The graph
applies for process technologies for which 
 . It can be used to determine the maximum (W/L)4/(W/L)6 for
which VQ is guaranteed to fall below a desired value.
EXERCISE
For the SRAM cell considered in Exercise 18.6, where (W/L)n = 2 and (W/L)a = 7.4, use Eq. (18.29) to
find the maximum allowable value of (W/L)p. For this 65-nm process, you may consider that 
 . For all transistors having L = 65 nm, find Wn, Wp, and Wa that result in a minimum-area
cell. Assume that the minimum allowable width is 130 nm.
∨Show Answer

We conclude our study of the write process by noting that it is fast because it does not require discharging
the large capacitance of the bit lines. The voltages of the B and 
 lines are driven to their required values of
0 or VDD by powerful driver circuits and thus achieve their desired voltages very quickly. The write delay is
determined roughly by the time for the regenerating signal to propagate around the feedback loop of the
latch; thus it is about twice the propagation delay of the inverter. Of course, the write cycle time is still
lengthened by the word-line delay.
18.3.2 Dynamic Memory (DRAM) Cell
Although a variety of DRAM storage cells have been proposed over the years, a particular cell, shown in
Fig. 18.28, has become the industry standard. The cell consists of a single n-channel MOSFET, known as the
access transistor, and a storage capacitor CS. The cell is appropriately known as the one-transistor cell.3
The gate of the transistor is connected to the word line, and its source (drain) is connected to the bit line.
Observe that only one bit line is used in DRAMs, whereas in SRAMs both the bit and 
 lines are utilized.
The DRAM cell stores its bit of information as charge on the cell capacitor CS. When the cell is storing a 1,
the capacitor is charged to VDD; when a 0 is stored, the capacitor is discharged to zero volts.
 b
Figure 18.28 The one-transistor dynamic RAM (DRAM) cell.
Some explanation is needed to appreciate how the capacitor can be charged to the full supply voltage
VDD. Consider a write-1 operation. The word line is at VDD and the bit line is at VDD and the transistor is
conducting, charging CS. The transistor will cease conduction when the voltage on CS reaches (VDD − Vt).
This is the same problem we encountered with the NMOS pass transistor in Section 18.1. The problem is
overcome in DRAM design by boosting the word line to a voltage equal to VDD + Vt. In this case the
capacitor voltage for a stored 1 will be equal to the full VDD. However, because of leakage effects, the
capacitor charge will leak off, and hence the cell must be refreshed periodically. During refresh, the cell

(18.30)
(18.31)
(18.32)
(18.33)
content is read and the data bit is rewritten, thus restoring the capacitor voltage to its proper value. Typically,
the refresh operation must be performed every 10 ms to 100 ms.
Let us now consider the DRAM operation in more detail. As in the static RAM, the row decoder selects a
particular row by raising the voltage of its word line. This causes all the access transistors in the selected row
to become conductive, thereby connecting the storage capacitors of all the cells in the selected row to their
respective bit lines. Thus the cell capacitor CS is connected in parallel with the bit-line capacitance CB, as
indicated in Fig. 18.29. Here, it should be noted that CS is typically 20 fF to 30 fF, whereas CB is 10 times
larger. Now, if the operation is a read, the bit line is precharged to VDD/2. To find the change in the voltage
on the bit line resulting from connecting a cell capacitor CS to it, let the initial voltage on the cell capacitor
be VCS (VCS = VDD when a 1 is stored, and VCS = 0 V when a 0 is stored). Using charge conservation, we
can write
from which we can obtain for ∆V
and since 
Now, if the cell is storing a 1, VCS = VDD, and
whereas if the cell is storing a 0, VCS = 0, and
Since usually CB is much greater than CS, these readout voltages are very small. For example, for CB =
10CS, VDD = 1.8 V, ∆V(0) will be about –90 mV, and ∆V(1) will be +90 mV. This is a best-case scenario, for
the 1 level in the cell might very well be below VDD. Furthermore, in modern memory chips, VDD is 1.2 V or
even lower. In any case, we see that a stored 1 in the cell results in a small positive increment in the bit-line
voltage, whereas a stored zero results in a small negative increment. Observe also that the readout process is
destructive, since the resulting voltage across CS will no longer be VDD or 0.

18.9
Figure 18.29 When the voltage of the selected word line is raised, the transistor conducts, thus connecting the storage
capacitor CS to the bit-line capacitor CB.
The change of voltage on the bit line is detected and amplified by the column sense amplifier, causing
the bit line to be driven to the full-scale value (0 or VDD) of the detected signal. This amplified signal is then
impressed on the storage capacitor, thus restoring its signal to the proper level (VDD or 0). In this way, all the
cells in the selected row are refreshed. Simultaneously, the signal at the output of the sense amplifier of the
selected column is fed to the data-output line of the chip through the action of the column decoder.
The write operation proceeds similarly to the read operation, except that the data bit to be written, which
is impressed on the data-input line, is applied by the column decoder to the selected bit line. Thus, if the data
bit to be written is a 1, the bit-line voltage is raised to VDD (i.e., CB is charged to VDD). When the access
transistor of the particular cell is turned on, its capacitor CS will be charged to VDD; thus a 1 is written in the
cell. Simultaneously, all the other cells in the selected row are simply refreshed.
Although the read and write operations result in automatic refreshing of all the cells in the selected row,
provision must be made for the periodic refreshing of the entire memory, typically every 10 ms to 100 ms, as
specified for the particular chip. The refresh operation is carried out in a burst mode, one row at a time.
During refresh, the chip will not be available for read or write operations. This is not a serious matter,
however, since the interval required to refresh the entire chip is typically less than 2% of the time between
refresh cycles. In other words, the memory chip is available for normal operation more than 98% of the time.
EXERCISE
In a particular dynamic memory chip, CS = 30 fF, CB = 0.3 pF, and VDD = 1.2 V. Find the output
readout voltage for a stored 1 and a stored 0. Recall that in a read operation, the bit lines are precharged
to VDD/2.
18.3.3 Flash Memory
Flash memory is an important type of nonvolatile memory used in solid-state storage devices as well as in
USB keys and memory cards.
Flash memories use variants of the memory cell whose cross section is shown in Fig. 18.30(a). The cell
is basically an n-channel MOSFET with two gates instead of one, stacked on top of each other. One of the
gates is not electrically connected to any other part of the circuit; rather, it is left floating and is appropriately
called a floating gate. The other gate, called a select gate, functions in the same manner as the gate of a
∨Show Answer

regular MOSFET. The MOS transistor of Fig. 18.30(a) is known as a floating-gate transistor and is given
the circuit symbol shown in Fig. 18.30(b). In this symbol, the broken line denotes the floating gate.
Figure 18.30 (a) Cross section and (b) circuit symbol of the floating-gate transistor used as a Flash cell.
A floating gate transistor can be configured into one of many states by trapping electrons in the floating
gate, which is insulated. The amount of charge trapped in the floating gate impacts the threshold voltage of
the transistor, and this can be detected during a read operation. Electrons are trapped by applying a large
voltage between the drain and source, and a large voltage at the select gate. The drain-to-source voltage
accelerates electrons through the channel. As these electrons reach the drain end of the channel, they acquire
high kinetic energy and are referred to as hot electrons. The large positive voltage on the select gate (greater
than the drain voltage) establishes an electric field in the insulating oxide. This electric field attracts the hot
electrons and accelerates them (through the oxide) toward the floating gate. In this way the floating gate is
charged, and the charge that accumulates on it becomes trapped. Fortunately, the process of charging the
floating gate is self-limiting. The negative charge that accumulates on the floating gate reduces the strength
of the electric field in the oxide to the point that it eventually becomes incapable of accelerating any more of
the hot electrons.
The negative charge trapped on the floating gate will cause electrons to be repelled from the surface of
the substrate. This implies that to form a channel, the positive voltage that has to be applied to the select gate
will have to be greater than that required when the floating gate is not charged. In other words, the threshold
voltage Vt of the programmed transistor (say, storing a logic 0) will be higher than that of the not-
programmed (logic 1) device. This is illustrated in Fig. 18.31, which shows the iD − vGS characteristics of (a)
a not-programmed device and (b) a programmed device.

Figure 18.31 Illustrating the shift in the iD − vGS characteristic of a floating-gate transistor as a result of programming.
Reading the content of the floating-gate cell is easy: A voltage VGS somewhere between the threshold
values for logic 0 and logic 1 is applied to the selected gate. While a programmed device (one that is storing
a 0) will not conduct, a not-programmed device (one that is storing a 1) will conduct heavily.
The charge trapped on the floating gate, and consequently the stored state, persists even when the
memory is powered off. Thus, unlike the SRAM and DRAM cells studied earlier in this section, a flash
memory is nonvolatile.
The name “flash” arises because many rows can be erased “in a flash” due to organizations of floating-
gate transistors into multibit cells that resemble NAND or NOR structures.
BLINDING FLASH
∨

18.4 Ring Oscillators and Special-Purpose Circuits
Having studied the circuits commonly used to implement the storage cells in SRAMs and DRAMs, we now
consider some of the other important circuit blocks in a memory chip. The design of these circuits and other
sequential logic circuits presents exciting challenges and opportunities to integrated-circuit designers:
Improving the performance of peripheral circuits can result in denser and faster memory chips that dissipate
less power, and can provide the necessary functions for high-speed operation in digital systems.
18.4.1 Ring Oscillators and Other Pulse-Generation Circuits
Memory chips and other sequential circuits require a large number of pulse signals, sometimes with intricate
timing relationships among them. It is not our purpose here to study this important subject; rather, we present
two simple circuits that find widespread application in memory-chip timing as well as in other digital system
components, such as microprocessors.
The Ring Oscillator A ring oscillator is formed by connecting an odd number of inverters in a loop.
Although usually at least five inverters are used, we illustrate the principle of operation using a ring of three
inverters, as shown in Fig. 18.32(a). Figure 18.32(b) shows the waveforms obtained at the outputs of the
three inverters. These waveforms are idealized in the sense that their edges have zero rise and fall times.
Nevertheless, they will serve to explain the circuit operation.

(18.34)
18.10
Figure 18.32 (a) A ring oscillator formed by connecting three inverters in cascade. (Normally at least five inverters are
used.) (b) The resulting waveform. Observe that the circuit oscillates with frequency 1/6tP.
Observe that a rising edge at node 1 propagates through gates 1, 2, and 3 to return inverted after a delay
of 3tP; note that this represents a form of negative feedback. This falling edge then propagates, and returns
with the original (rising) polarity after another 3tP interval. It follows that the circuit oscillates with a period
of 6tP or, correspondingly, with frequency 1/6tP. In general, a ring with N inverters will oscillate with a
period of 2NtP and frequency
An odd number of inverters, with N ≥ 3, must be used for the circuit to oscillate. Using an even number
of inverters results in positive feedback, where logic values are reinforced (notice that an SRAM cell uses N
= 2). Furthermore, a ring with only one inverter does not oscillate since its feedback loop has only one node
and thus only one pole. It will settle to the inverter threshold where its input and output voltages are equal.
Recall from Chapter 17 [Eqs. (17.8) and (17.10)] that tP is inversely proportional to VDD. Hence, we can
control the frequency of a ring oscillator by adjusting the supply voltage. The resulting voltage-controlled
oscillator (VCO) is widely used to generate clocking signals for integrated circuits. Finally, a ring oscillator
provides a means for measuring the inverter propagation delay: simply measure the oscillation frequency,
and then divide the period by 2N.
EXERCISE
Find the frequency of oscillation of a ring of five inverters if the inverter propagation delay is 100 ps. If
VDD is reduced by 10%, what do you expect the oscillation frequency to become?
A One-Shot or Monostable Multivibrator Circuit A one-shot or monostable multivibrator circuit
provides, when triggered, a single output pulse with a predetermined width.4 In Fig. 18.33(a), we show a
commonly used circuit that utilizes an exclusive-OR (XOR) gate together with a delay element. Recalling
that the XOR gate provides a high output only when its two inputs are dissimilar, we see that prior to the
arrival of the input positive step, the output will be low.
When the input goes high, only the B input of the XOR will be high and thus its output will go high. The
high input will reach input A of the XOR T seconds later, at which time both inputs of the XOR will be high
and thus its output will go low. We thus see that the circuit produces an output pulse with a duration T equal
to the delay of the delay block for each transition of the input signal. The delay block can be implemented by
connecting an even number of inverters in cascade as shown in Fig. 18.33(b).
Monostable circuits are used in asynchronous systems where short pulses signal to other circuits that a
value has been updated. Also, the output of a monostable circuit can be used to get a latch to act like a flip-
flop; here, the short pulse is used as a clock input, giving the latch an edge-triggered behavior.
∨Show Answer

Figure 18.33 (a) A one-shot or monostable circuit. Utilizing a delay circuit with a delay T and an XOR gate, this circuit
provides an output pulse of width T. (b) The delay circuit can be implemented as the cascade of N inverters where N is
even, in which case T = NtP.
18.4.2 The Sense Amplifier
Another important peripheral circuit that is used in memory chips is the sense amplifier. Next to the storage
cells, the sense amplifier is the most critical component in a memory chip. Sense amplifiers are essential to
the proper operation of DRAMs, and their use in SRAMs results in speed and area improvements.
A variety of sense-amplifier designs are in use, some of which closely resemble the active-load MOS
differential amplifier studied in Chapter 9. Here, we describe a differential sense amplifier that employs
positive feedback. Because the circuit is differential, it can be employed directly in SRAMs, where the
SRAM cell utilizes both the B and 
 lines. On the other hand, the one-transistor DRAM circuit we studied
in Section 18.3.2 is a single-ended circuit, utilizing one bit line only. The DRAM circuit, however, is made to
resemble a differential signal source by comparing its output voltage to that generated by a “dummy cell”
where a voltage halfway between a logic ‘1’ and ‘0’ is stored. Therefore, we shall assume that the memory
cell whose output is to be amplified develops a difference output voltage between the B and 
 lines. This
signal, which can range from 20 mV to 500 mV depending on the memory type and cell design, will be
applied to the input terminals of the sense amplifier. The sense amplifier in turn responds by providing a full-
swing (0 to VDD) signal at its output terminals. The particular amplifier circuit we shall discuss here has a
rather unusual property: Its output and input terminals are the same!
A Sense Amplifier with Positive Feedback Figure 18.34 shows the sense amplifier together with some of
the other column circuitry of a RAM chip. Note that the sense amplifier is nothing but the familiar latch
formed by cross-coupling two CMOS inverters: One inverter is implemented by transistors Q1 and Q2, and
the other by transistors Q3 and Q4. Transistors Q5 and Q6 act as switches that connect the sense amplifier to
ground and VDD only when data-sensing action is required. Otherwise, ϕs is low and the sense amplifier is
turned off. This conserves power, an important consideration because usually there is one sense amplifier per
column, resulting in thousands of sense amplifiers per chip. Note, again, that terminals x and y are both the
input and the output terminals of the amplifier. As indicated, these I/O terminals are connected to the B and 
 lines. The amplifier is required to detect a small signal appearing between B and 
, and to amplify it to
provide a full-swing signal at B and 
 For instance, if during a read operation, the cell has a stored 1, then a

small positive voltage will develop between B and 
 with vB higher than 
 . The amplifier will then cause
vB to rise to VDD and 
 to fall to 0 V. This 1 output is then directed to the chip I/O pin by the column
decoder (not shown) and at the same time is used to rewrite a 1 in the DRAM cell, thus performing the
restore operation that is required because the DRAM readout process is destructive.

1.
2.
3.
Figure 18.34 A differential sense amplifier connected to the bit lines of a particular column. This arrangement can be
used directly for SRAMs (which utilize both the B and 
 lines). DRAMs can be turned into differential circuits by using
a “dummy-cell” arrangement.
Figure 18.34 also shows the precharge and equalization circuit. Operation of this circuit is
straightforward: When ϕp goes high (to VDD) prior to a read operation, all three transistors conduct. While
Q8 and Q9 precharge the 
 and B lines to VDD/2, transistor Q7 helps speed up this process by equalizing the
initial voltages on the two lines. This equalization is critical to the proper operation of the sense amplifier.
Any voltage difference present between B and 
 prior to commencement of the read operation can result in
erroneous interpretation by the sense amplifier of its input signal. In Fig. 18.34, we show only one of the
cells in this particular column, namely, the cell whose word line is activated. The cell can be either an SRAM
or a DRAM cell. All other cells in this column will not be connected to the B and 
 lines (because their
word lines will remain low).
Let us now consider the sequence of events during a read operation:
The precharge and equalization circuit is activated by raising the control signal ϕp. This will cause the
B and 
 lines to be at equal voltages, equal to VDD/2. The clock ϕp then goes low, and the B and 
lines are left to float for a brief interval.
The word line goes up, connecting the cell to the B and 
 lines. A voltage then develops between B
and 
 with vB higher than 
 if the accessed cell is storing a 1, or vB lower than 
 if the cell is
storing a 0. To keep the cell area small, and to facilitate operation at higher speeds, the readout signal,
which the cell is required to provide between B and 
 is kept small (typically, 20–500 mV).
Once an adequate difference voltage signal between B and 
 has been developed by the storage cell,
the sense amplifier is turned on by connecting it to ground and VDD through Q5 and Q6, activated by
raising the sense-control signal ϕs. Because initially the input terminals of the inverters are at VDD/2,
the inverters will be operating in their transition region, where the gain is high (Section 16.3). It
follows that initially the latch will be operating at its unstable equilibrium point. Thus, depending on
the signal between the input terminals, the latch will quickly move to one of its two stable equilibrium
points (refer to the description of the latch operation in Section 18.2). This is achieved by the
regenerative action, inherent in positive feedback. Figure 18.35 clearly illustrates this point by
showing the waveforms of the signal on the bit line for both a read-1 and a read-0 operation. Observe
that once activated, the sense amplifier causes the small initial difference, ΔV(1) or ΔV(0), provided by
the cell, to grow exponentially to either VDD (for a read-1 operation) or 0 (for a read-0 operation). The
waveforms of the signal on the 
 line will be complementary to those shown in Fig. 18.35 for the B
line. In the following, we quantify the process of exponential growth of vB and 

(18.35)
(18.36)
Figure 18.35 Waveforms of vB before and after the activation of the sense amplifier. In a read-1 operation, the sense
amplifier causes the initial small increment ΔV(1) to grow exponentially to VDD. In a read-0 operation, the negative
ΔV(0) grows to 0. Complementary signal waveforms develop on the 
 line.
A Closer Look at the Operation of the Sense Amplifier Developing a precise expression for the output
signal of the sense amplifier shown in Fig. 18.34 is a rather complex task requiring the use of large-signal
(and thus nonlinear) models of the inverter voltage-transfer characteristic, as well as taking the positive
feedback into account. We will not do this here; rather, we shall consider the operation in a semiquantitative
way.
Recall that at the time the sense amplifier is activated, each of its two inverters is operating in the
transition region near VDD/2. Thus, for small-signal operation, each inverter can be modeled using gmn and
gmp, the transconductances of QN and QP, respectively, evaluated at an input bias of VDD/2. Specifically, a
small-signal vi superimposed on VDD/2 at the input of one of the inverters gives rise to an inverter output
current signal of (gmn + gmp)vi ≡ Gmvi. This output current is delivered to one of the capacitors, CB or 
The voltage thus developed across the capacitor is then fed back to the other inverter and is multiplied by its
Gm, which gives rise to an output current feeding the other capacitor, and so on, in a regenerative process.
The positive feedback in this loop will mean that the signal around the loop, and thus vB and 
 will rise or
decay exponentially (see Fig. 18.35) with a time constant of (CB/Gm) [or 
, since we have been
assuming CB = 
]. Thus, for example, in a read-1 operation we obtain
whereas in a read-0 operation,

18.11
Because these expressions have been derived assuming small-signal operation, they describe the exponential
growth (decay) of vB reasonably accurately only for values close to VDD/2. Nevertheless, they can be used to
obtain a reasonable estimate of the time required to develop a particular signal level on the bit line.
Example 18.3
Consider the sense-amplifier circuit of Fig. 18.34 during the reading of a 1. Assume that the storage cell
provides a voltage increment on the B line of ΔV(1) = 0.1 V. If the NMOS devices in the amplifiers have (W/L)n
= 0.54 µm / 0.18 µm and the PMOS devices have (W/L)p = 2.16 µm/0.18 µm, and assuming that VDD = 1.8 V,
Vtn = |Vtp| = 0.5 V, and μnCox = 4 μpCox = 300 µA/V2, find the time required for vB to reach 0.9 VDD. Assume
CB = 1 pF.
EXERCISE
Repeat Example 18.3 for a sense-amplifier circuit designed in a 65-nm process where VDD = 1.0 V, Vtn
= |Vtp| = 0.35 V, μnCox = 3μpCox = 450 µA/V2, and where the bit line capacitance is reduced to CB =
0.25 pF. Use the following transistor dimensions: (W/L)n = 130 nm/65 nm and (W/L)p = 390 nm/65 nm.
18.4.3 The Row-Address Decoder
As described in Section 18.3, the row-address decoder is required to select one of the 2M word lines in
response to an M-bit address input. As an example, consider the case M = 3 and denote the three address bits
A0, A1, and A2, and the eight word lines W0, W1,..., W7. Conventionally, word line W0 will be high when A0
= 0, A1 = 0, and A2 = 0; thus we can express W0 as a Boolean function of A0, A1, and A2,
Thus the selection of W0 can be accomplished by a three-input NOR gate whose three inputs are connected
to A0, A1, and A2 and whose output is connected to word line 0. Word line W3 will be high when A0 = 1, A1 =
1, and A2 = 0; thus,
Thus the selection of W3 can be realized by a three-input NOR gate whose three inputs are connected to 
 and A2, and whose output is connected to word line 3. We can thus see that this address decoder
∨Show Solution
∨Show Answer

can be realized by eight three-input NOR gates. Each NOR gate is fed with the appropriate combination of
address bits and their complements, corresponding to the word line to which its output is connected.
A simple approach to realizing these NOR functions is provided by the matrix structure shown in Fig.
18.36. Attached to each row line is a p-channel device that is activated, prior to the decoding process, using
the precharge control signal ϕP. During precharge (ϕP low), all the word lines are pulled high to VDD. It is
assumed that at this time the address input bits have not yet been applied and all the inputs are low. Then, the
decoding operation begins when the address bits and their complements are applied. Observe that the NMOS
transistors are placed so that the word lines not selected will be discharged. For any input combination, only
one word line will not be discharged, and thus its voltage remains high at VDD. For instance, row 0 will be
high only when A0 = 0, A1 = 0, and A2 = 0; this is the only combination that will result in all three transistors
connected to row 0 being cut off. Similarly, row 3 has transistors connected to 
 and A2, and thus it
will be high when A0 = 1, A1 = 1, A2 = 0, and so on. After the decoder outputs have stabilized, the output
lines are connected to the word lines of the array, usually via clock-controlled transmission gates. This
decoder is known as a NOR decoder. Observe that because of the precharge operation, the decoder circuit
does not dissipate static power.

Figure 18.36 A NOR address decoder in array form. One out of eight lines (row lines) is selected using a 3-bit address.
EXERCISE

18.12
How many transistors are needed for a NOR row decoder with an M-bit address?
18.4.4 The Column-Address Decoder
From the description in Section 18.3, the function of the column-address decoder is to connect one of the 2N
bit lines to the data I/O line of the chip. As such, it is a multiplexer and can be implemented using pass-
transistor logic (Section 18.1) as shown in Fig. 18.37. Here, each bit line is connected to the data I/O line
through an NMOS transistor. The gates of the pass transistors are controlled by 2N lines, one of which is
selected by a NOR decoder similar to that used for decoding the row address. Finally, note that better
performance can be obtained by utilizing transmission gates in place of NMOS transistors (Section 18.1). In
such a case, however, the decoder needs to provide complementary output signals.
Figure 18.37 A column decoder realized by a combination of a NOR decoder and a pass-transistor multiplexer.
An alternative implementation of the column decoder that uses a smaller number of transistors (but at the
expense of slower speed of operation) is shown in Fig. 18.38. This circuit, known as a tree decoder, has a
simple structure of pass transistors. Unfortunately, since a relatively large number of transistors can exist in
the signal path, the resistance of the bit lines increases, and the speed decreases correspondingly.
∨Show Answer

18.13
Figure 18.38 A tree column decoder. Note that the colored path shows the transistors that are conducting when A0 = 1,
A1 = 0, and A2 = 1, the address that results in connecting B5 to the data line.
EXERCISE
How many transistors are needed for a tree decoder when there are 2N bit lines?
∨Show Answer

■
■
■
■
■
■
■
■
■
Summary
Pass-transistor logic uses either single NMOS transistors or CMOS transmission gates to implement a
network of switches controlled by the input logic variables. Switches implemented by single NMOS
transistors, though simple, result in the reduction of VOH from VDD to VDD − Vt.
The CMOS transmission gate, composed of the parallel connection of an NMOS and a PMOS transistor,
is a very effective switch in both analog and digital applications. It passes the entire input signal swing, 0
to VDD. As well, it has an almost constant on-resistance over the full output range.
Flip-flops employ one or more latches, often in a master-slave configuration. The basic static latch is a
bistable circuit implemented using two inverters connected in a positive-feedback loop. The latch can
remain in either stable state indefinitely.
The major part of a memory chip consists of cells in which bits are stored and that are typically
organized in a square matrix. A cell is selected for reading or writing by activating its row, via a row-
address decoder, and its column, via a column-address decoder. A sense amplifier detects the content of
the selected cell and provides a full-swing version of it to the data-output terminal of the chip.
There are two kinds of MOS RAM: static and dynamic. Static RAMs (SRAMs) employ flip-flops as the
storage cells. In a dynamic RAM (DRAM), data are stored on a capacitor and thus must be periodically
refreshed. DRAM chips provide the highest possible storage capacity for a given chip area.
Two circuits have emerged as the near-universal choice in implementing the storage cell: the six-
transistor SRAM cell and the one-transistor DRAM cell.
Proper read and write functioning of the 6T SRAM cell imposes constraints on the relative sizes of its
transistors.
Ring oscillators can be used to generate some timing signals in sequential systems. The frequency of
these oscillators is determined by the number of inverters in the ring and the inverter propagation delay,
which can be controlled by the supply voltage to create a voltage-controlled oscillator.
Although sense amplifiers are used in SRAMs to speed up operation, they are essential in DRAMs. A
particular type of sense amplifier is a differential circuit that employs positive feedback to obtain an
output signal that grows exponentially toward either VDD or 0.

PROBLEMS
problems with blue numbers are considered essential
* = difficult problem
** = more difficult
*** = very challenging
D = design problem
 = see related video example
Section 18.1: The Transmission Gate
18.1 Recall that MOS transistors are symmetrical and that what distinguishes the source from the drain is their
relative voltage levels: For NMOS, the terminal with the higher voltage is the drain; for PMOS, the terminal with
the higher voltage is the source. For each of the circuits in Fig. P18.1, label the source and drain terminals and give
the output voltage VO in terms of VDD, Vtn, and |Vtp|. Note that Vtn and |Vtp| are determined by the body effect, and
give expressions for their values. Note that VO is the value reached after the capacitor charging/discharging interval
has come to an end.
Figure P18.1

(a)
(b)
(c)
18.2 Let the NMOS transistor switch in Fig. 18.3 be fabricated in a 0.13-µm CMOS process for which Vt0 = 0.4 V,
γ = 0.2 V1/2, 2ϕf = 0.88 V, and VDD = 1.2 V. Determine VOH.
18.3 Consider the circuit in Fig. 18.3 with the NMOS transistor having W/L = 1.5 and fabricated in a CMOS
process for which Vt0 = 0.4 V, γ = 0.2 V1/2, 2ϕf = 0.88 V, VDD = 1.2 V, and μnCox = 500 µA/V2. Find tPLH for the
case C = 10 fF.
18.4 Consider the circuit in Fig. 18.4 with the NMOS transistor having W/L = 1.5 and fabricated in a 0.13-µm
CMOS process for which Vt0 = 0.4 V, VDD = 1.2 V, and μnCox = 500 µA/V2. Determine tPHL for the case C = 10
fF.
18.5 Consider the case specified in Exercise 18.1. If the output of the switch is connected to the input of a CMOS
inverter having (W/L)p = 2(W/L)n = 0.54 µm/0.18 µm, find the static current of the inverter and its static power
dissipation when the inverter input is at the value of VOH found in Exercise 18.1. Also find the inverter output
voltage. Let μnCox = 4 μpCox = 300 µA/V2.
18.6 An NMOS pass-transistor switch with W/L = 130 nm/65 nm, used in a 1-V system for which Vt0 = 0.35 V, γ =
0.25 V1/2, 2ϕf = 1.0 V, μnCox = 3μpCox = 450 µA/V2, drives a 10-fF load capacitance at the input of a matched
standard CMOS inverter using (W/L)n = 130 nm/65 nm. For the switch gate terminal at VDD, evaluate the switch
VOH and VOL for inputs at VDD and 0 V, respectively. For this value of VOH, what inverter static current results?
Estimate tPLH and tPHL for this arrangement as measured from the input to the output of the switch itself.
18.7 Figure P18.7 shows a PMOS transistor operating as a switch in the on position.
Figure P18.7
If initially vO = 0 and at t = 0, vI is raised to VDD, what is the final value VOH reached at the
output?
If initially vO = VDD and at t = 0, vI is lowered to 0 V, what is the final value VOL reached at the
output?
For the situation in (a), find tPLH for vO to rise from 0 to VDD/2. Let kp = 125 µA/V2, VDD = 1.2 V,
and |Vtp| = 0.4 V.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(d)
18.8 For the level-restoring circuit of Fig. 18.5, let 
 = 
 = 450 µA/V2, VDD = 1.0 V, |Vt0| = 0.35 V, γ = 0.5
V1/2, 2ϕf = 1.0 V, (W/L)1 = (W/L)n = 130 nm/65 nm, (W/L)p = 390 nm/65 nm, and C = 20 fF. Also, let vB = VDD.
Now, for vA rising to VDD, and Q1 charging C and causing vO1 to rise, show that the value of vO1 that causes vO2 to
drop by a threshold voltage below VDD (i.e., to 0.65 V) so that QR turns on, is approximately VDD/2 and thus
occurs at t 
 tPLH. What is the capacitor-charging current available at this time (i.e., just prior to QR turning on)?
What is it at vO1 = 0? What is the average current available for charging C? Estimate the time tPLH. (Note that after
QR turns on, vO1 rises to VDD.)
D *18.9 The purpose of this problem is to illustrate how W/L of the level-restoring transistor QR in the circuit of
Fig. 18.5 is determined. For this purpose consider the circuit as specified in Problem 18.8 and let vB = VDD. Now,
consider the situation when vA is brought down to 0 V and Q1 conducts and begins to discharge C. The voltage vO1
will begin to drop from VDD. Meanwhile, vO2 is still low and QR is conducting (though at t = 0, the current in QR is
zero). Calculate the discharge current at t = 0. As QR conducts, its current subtracts from the current of Q1,
reducing the current available to discharge C. Find the value of vO1 at which the inverter begins to switch. This is
VIH =  (5VDD − 2Vt). Then, find the current that Q1 conducts at this value of vO1. Choose W/L for QR so that the
maximum current it conducts is limited to one-half the value of the current in Q1. What is the W/L you have
chosen? Estimate tPHL as the time for vO1 to drop from VDD to VIH.
18.10 The transmission gate in Figs. 18.7(a) and (b) is fabricated in a CMOS process technology for which 
 = 
 = 500 µA/V2, |Vt0| = 0.4 V, γ = 0.2 V1/2, 2ϕf = 0.88 V, and VDD = 1.2 V. Let QN and QP have (W/L)n = (W/L)p
= 1.5. The total capacitance at the output node is 15 fF.
What are the values of VOH and VOL?
For the situation in Fig. 18.7(a), find iDN(0), iDP(0), iDN(tPLH), iDP(tPLH), and tPLH.
For the situation depicted in Fig. 18.7(b), find iDN(0), iDP(0), iDN(tPHL), iDP(tPHL), and tPHL. At
what value of vO will QP turn off?
Find tP.
18.11 For the transmission gate specified in Problem 18.10, find RTG at vO = 0 and 0.6 V. Use the average of those
values to determine tPLH for the situation in which C = 15 fF.
*18.12 Refer to the situation in Fig. 18.7(b). Derive expressions for RNeq, RPeq, and RTG following the approach
used in Section 18.1.3 for the capacitor-charging case. Evaluate the value of RTG for vO = VDD and vO = VDD/2 for
the process technology specified in Problem 18.10. Find the average value of RTG and use it to determine tPHL for
the case C = 15 fF.
18.13 Figure P18.13 shows a chain of transmission gates. This situation often occurs in circuits such as adders and
multiplexers. Consider the case when all the transmission gates are turned on and a step voltage VDD is applied to
the input. The propagation delay tP can be determined from the Elmore delay formula as follows:
∨Show Answer
∨Show Answer

where RTG is the resistance of each transmission gate, C is the capacitance between each node and ground, and n is
the number of transmission gates in the chain. Note that the sum of the series in this formula is given by
Now evaluate tP for the case of 16 transmission gates with RTG = 10 kΩ and C = 10 fF. What does the value of tP
become if the input is a ramp rather than a step function?
Figure P18.13
Section 18.2: Latches and Flip-Flops
18.14 Consider the latch of Fig. 18.11(a) with the two inverters identical and each characterized by VOL = 0 V, VOH
= 1.2 V, VIL = 0.5 V, and VIH = 0.7 V. Let the transfer characteristic of each inverter be approximated by three
straight-line segments. Sketch the transfer characteristic of the feedback loop of the latch and give the coordinates
of points A, B, and C (refer to Fig. 18.11a). What is the gain at point B? What is the width of the transition region?
D 18.15 Sketch the standard CMOS circuit implementation of the SR flip-flop shown in Fig. 18.13.
D 18.16 Sketch the logic-gate implementation of an SR flip-flop utilizing two cross-coupled NAND gates. Clearly
label the output terminals and the input trigger terminals. Provide the truth table and describe the operation.
D 18.17 For the SR flip-flop of Fig. 18.14, show that if each of the two inverters utilizes matched transistors, that
is, (W/L)p = (μn/μp)(W/L)n, then the minimum W/L that each of Q5−Q8 must have so that switching occurs is
2(W/L)n. Give the sizes of all eight transistors if the flip-flop is fabricated in a 65-nm process for which μn = 3μp.
Use the minimum channel length for all transistors and the minimum size (W/L = 1) for Q1 and Q3.
D 18.18 Repeat part (a) of the problem in Example 18.2 for the case of inverters that do not use matched QN and
QP. Rather, assume that each of the inverters uses (W/L)p = (W/L)n = 130 nm/65 nm. Find the threshold voltage of
each inverter. Then determine the value required for the W/L of each of Q5 to Q8 so that the flip-flop switches.
(Hint: Refer to Table 16.2.)
D 18.19 The CMOS SR flip-flop in Fig. 18.14 is fabricated in a 0.13-µm process for which μnCox = 4μpCox = 500
µA/V2, Vtn = |Vtp| = 0.4 V, and VDD = 1.2 V. The inverters have (W/L)n = 0.2 µm/0.13 µm and (W/L)p = 0.8
∨Show Answer

(a)
(b)
(a)
(b)
(c)
(d)
µm/0.13 µm. The four NMOS transistors in the set–reset circuit have equal W/L ratios.
Determine the minimum value required for this ratio to ensure that the flip-flop will switch.
If a ratio twice the minimum is selected, determine the minimum required width of the set and
reset pulses to ensure switching. Assume that the total capacitance between each of the Q and 
nodes and ground is 15 fF.
D 18.20 The clocked SR flip-flop in Fig. 18.14 is not a fully complementary CMOS circuit. Sketch the fully
complementary version by augmenting the circuit with the PUN corresponding to the PDN comprising Q5, Q6, Q7,
and Q8. Note that the fully complementary circuit utilizes 12 transistors. Although the circuit is more complex, it
switches faster.
D 18.21 Consider another possibility for the circuit in Fig. 18.17: Relabel the R input as 
 and the S input as 
.
Let 
 and 
 normally rest at VDD. Let the flip-flop be storing a 0; thus VQ = 0 V and 
 = VDD. To set the flip-
flop, the 
 terminal is lowered to 0 V and the clock ϕ is raised to VDD. The relevant part of the circuit is then
transistors Q5 and Q2. For the flip-flop to switch, the voltage at 
 must be lowered to VDD/2. What is the minimum
required W/L for Q5 in terms of (W/L)2 and (μn/μp) ? Assume Vtn = |Vtp|.
*18.22 Figure P18.22 shows a commonly used circuit of a D flip-flop that is triggered by the negative-going edge
of the clock ϕ.
Figure P18.22
For ϕ high, what are the values of 
 and Q in terms of D? Which transistors are conducting?
If D is high and ϕ goes low, which transistors conduct and what signals appear at 
 and at Q?
Describe the circuit operation.
Repeat (b) for D low with the clock ϕ going low.
Does the operation of this circuit rely on charge storage?
Section 18.3: Random-Access Memory (RAM) Cells

(a)
(b)
(c)
(a)
(b)
(c)
18.23 Repeat Exercise 18.6 for an SRAM fabricated in a 0.13-µm CMOS process for which VDD = 1.2 V and Vt =
0.4 V. Use (W/L)n = 1.5.
18.24 Locate on the graph of Fig. 18.24 the points (a), (b), and (c) that correspond to the following three process
technologies:
0.18-µm: VDD = 1.8 V and Vt = 0.5 V
0.13-µm: VDD = 1.2 V and Vt = 0.4 V
65-nm: VDD = 1.0 V and Vt = 0.35 V
In each case, impose the condition that in a read-1 operation 
D 18.25 Find the maximum allowable W/L for the access transistors of the SRAM cell in Fig. 18.22 so that in the
read operation, the voltages at Q and 
 do not change by more than |Vt|. Assume that the SRAM is fabricated in a
0.13-µm technology for which VDD = 1.2 V and Vtn = |Vtp| = 0.4 V, and (W/L)n = 1.5. Find 
 and I5 that result in
each of the following cases:
 the maximum allowed
 the maximum allowed
 = the maximum allowed
Assume μnCox = 500 µA/V2. Which one of the three designs results in the shortest read delay?
D 18.26 Consider a 6T SRAM cell fabricated in a 65-nm CMOS process for which Vtn = |Vtp| = 0.35 V and VDD =
1.0 V. If during a read-1 operation it is required that VQ not exceed 0.1 V, use the graph in Fig. 18.24 to determine
the maximum allowable value of the ratio (W/L)5/(W/L)1. For L1 = L5 = 65 nm, select values for W1 and W5 that
minimize the combined areas of Q1 and Q5. Assume that the minimum width allowed is 65 nm.
18.27 Consider the read operation of the 6T SRAM cell of Fig. 18.22 when it is storing a 0, that is, VQ = 0 V, and 
 = VDD. Assume that the bit lines are precharged to VDD before the word-line voltage is raised to VDD. Sketch
the relevant part of the circuit and describe the operation. Show that the analysis parallels that presented in the text
for the read-1 operation.
D *18.28 For the 6T SRAM of Fig. 18.22, fabricated in a 0.13-µm CMOS process for which VDD = 1.2 V, Vt0 = 0.4
V, 2ϕf = 0.88 V, and γ = 0.2 V1/2, find the maximum ratio (W/L)5/(W/L)1 for which 
 during a read-1
operation (Fig. 18.23). Then, take into account the body effect in Q5 and compare this result to the value obtained
without accounting for the body effect.
D 18.29 A 6T SRAM cell is fabricated in a 0.13-µmCMOS process for which VDD = 1.2 V, Vt = 0.4 V, and μnCox =
500 µA/V2. The inverters utilize (W/L)n = 1. Each of the bit lines has a 2-pF capacitance to ground. The sense
amplifier requires a minimum of 0.2-V input for reliable and fast operation.
∨Show Answer
∨Show Answer
∨Show Answer

(a)
(b)
(c)
(a)
(b)
(c)
Find the upper bound on W/L for each of the access transistors so that VQ and 
 do not change
by more than Vt volts during the read operation.
Find the delay time ∆t encountered in the read operation if the cell design utilizes minimum-size
access transistors.
Find the delay time ∆t if the design utilizes the maximum allowable size for the access transistors.
18.30 Consider the operation of writing a 1 into a 6T SRAM cell that is originally storing a 0. Sketch the relevant
part of the circuit and explain the operation. Without doing detailed analysis, show that the analysis would lead to
results identical to those obtained in the text for the write-0 operation.
D 18.31 For a 6T SRAM cell fabricated in a 0.13-µm CMOS process, find the maximum permitted value of (W/L)p
in terms of (W/L)a of the access transistors. Assume VDD = 1.2 V, Vtn = |Vtp| = 0.4 V, and μn = 4μp.
18.32 Locate on the graph in Fig. 18.27 the points (a), (b), and (c) corresponding to the following three CMOS
fabrication processes:
0.18-µm: VDD = 1.8 V, Vtn = |Vtp| = 0.5 V
0.13-µm: VDD = 1.2 V, Vtn = |Vtp| = 0.4 V
65-nm: VDD = 1.0 V, Vtn = |Vtp| = 0.35 V
For all three, 
 . In each case, VQ is to be limited to a maximum value of Vtn.
D 18.33 Design a minimum-size 6T SRAM cell in a 0.13-µm process for which VDD = 1.2 V and Vtn = |Vtp| = 0.4
V. All transistors are to have equal L = 0.13 µm. Assume that the minimum width allowed is 0.13 µm. Verify that
your minimum-size cell meets the constraints in Eqs. (18.23) and (18.29).
18.34 For a particular DRAM design, the cell capacitance CS = 35 fF and VDD = 1.2 V. Each cell represents a
capacitive load on the bit line of 0.8 fF. Assume a 20-fF capacitance for the sense amplifier and other circuitry
attached to the bit line. What is the maximum number of cells that can be attached to a bit line while ensuring a
minimum bit-line signal of 25 mV? How many bits of row addressing can be used? If the sense-amplifier gain is
increased by a factor of 4, how many word-line address bits can be accommodated?
18.35 In a particular dynamic memory chip, CS = 30 fF, the bit-line capacitance per cell is 0.5 f F, and bit-line
control circuitry involves 12 fF. For a 1-Mbit-square array, what bit-line signals result when a stored 1 is read?
When a stored 0 is read? Assume that VDD = 1.0 V.
18.36 For a DRAM cell utilizing a capacitance of 25 fF, refresh is required within 12 ms. If a signal loss on the
capacitor of 0.2 V can be tolerated, what is the largest acceptable leakage current present at the cell?
Section 18.4: Ring Oscillators and Special-Purpose Circuits
18.37 Consider a ring oscillator consisting of five inverters, each having tPLH = 300 ps and tPHL = 200 ps. Sketch
one of the output waveforms, and specify its frequency and the percentage of the cycle during which the output is
high.
∨Show Answer
∨Show Answer
∨Show Answer

18.38 A ring-of-nine oscillator is found to operate at 250 MHz. Find the propagation delay of the inverter. If the
supply voltage is reduced by 20%, at what frequency do you expect the circuit to oscillate?
D 18.39 Design the one-shot circuit of Fig. 18.33 to provide an output pulse of 0.8-ns width. If the inverters
available have tP = 200-ps delay, how many inverters do you need for the delay circuit?
D 18.40 Consider the operation of the differential sense amplifier of Fig. 18.34 following the rise of the sense
control signal ϕs. Assume that a balanced differential signal of 0.1 V is established between the bit lines, each of
which has a 1 pF capacitance. For VDD = 1.2 V, what value of Gm of each of the inverters in the amplifier is
required to cause the outputs to reach 0.1VDD and 0.9VDD [from initial values of 0.5VDD − (0.1/2) and 0.5VDD +
(0.1/2) volts, respectively] in 2 ns? If for the matched inverters, |Vt| = 0.4 V and 
 = 500 µA/V2, what are
the device widths required? If the input signal is 0.2 V, what does the amplifier response time become?
18.41 A particular version of the regenerative sense amplifier of Fig. 18.34 in a 0.13-µm technology uses
transistors for which |Vt| = 0.4 V, 
 = 500 µA/V2, VDD = 1.2 V, with (W/L)n = 0.26 µm/0.13
µmand(W/L)p = 1.04 µm/0.13 µm. For each inverter, find the value of Gm. For a bit-line capacitance of 0.4 pF, and
a delay until an output of 0.9VDD is reached of 1 ns, find the initial difference voltage required between the two bit
lines. If the time can be relaxed by 1 ns, what input signal can be handled? With the increased delay time and with
the input signal at the original level, by what percentage can the bit-line capacitance, and correspondingly the bit-
line length, be increased? If the delay time required for the bit-line capacitances to charge by the constant current
available from the storage cell, and thus develop the difference-voltage signal needed by the sense amplifier, was 2
ns, what does it increase to when longer lines are used?
D 18.42 (a) For the sense amplifier of Fig. 18.34, show that the time required for the bit lines to reach 0.9VDD and
0.1VDD is given by td = (CB/Gm)ln(0.8VDD/ΔV), where ΔV is the initial difference voltage between the two bit
lines.
(b) If the response time of the sense amplifier is to be reduced to one-half the value of an original design, by what
factor must the width of all transistors be increased?
(c) If for a particular design, VDD = 1.2 V and ∆V = 0.2 V, find the factor by which the widths of all transistors must
be increased so that ∆V is reduced by a factor of 2, while keeping td unchanged?
18.43 Consider a 1024-row NOR decoder. To how many address bits does this correspond? How many output lines
does the decoder have? How many input lines does the NOR array require? How many NMOS and PMOS
transistors does such a design need?
18.44 For the column decoder shown in Fig. 18.37, how many column-address bits are needed in a 1-Mbit-square
array? How many NMOS pass transistors are needed in the multiplexer? How many NMOS transistors are needed
in the NOR decoder? How many PMOS transistors? What is the total number of NMOS and PMOS transistors
needed?
18.45 Consider the use of the tree column decoder shown in Fig. 18.37 for application with a square 1-Mbit array.
How many address bits are involved? How many levels of pass gates are used? How many pass transistors are there
in total?
∨Show Answer
∨Show Answer
∨Show Answer

APPENDICES
For your convenience, twelve additional chapters on important reference topics are included on the
companion website. In PDF format, the appendices are fully searchable and can be bookmarked.
Appendix A: VLSI Fabrication Technology This article is a concise explanation of the technology that
goes into fabricating integrated circuits. The different processes used are described and compared, and the
characteristics of the resulting devices presented. Design considerations that restrict IC designers are
explored.
Appendix B: SPICE Device Models and Design with Simulation Examples This appendix could stand as
a book on its own. First, it describes the models SPICE programs use to represent op amps, diodes,
MOSFETs, and BJTs in integrated circuits. A thorough understanding of these models is critical for
designers trying to extract meaningful information from an analysis. Then, it describes and discusses all the
simulations with reference to the corresponding netlists, also available on the companion website. This is a
rich resource to help analyze, experiment with, and design circuits that relate to the topics studied in
Microelectronic Circuits.
Appendix C: Two-Port Network Parameters Throughout the text, we use different possible ways to
characterize linear two-port networks. This appendix summarizes the y, z, h, and g parameters and provides
their equivalent-circuit representations.
Appendix D: Some Useful Network Theorems This article reviews Thévenin’s theorem, Norton’s theorem,
and the source-absorption theorem, all of which are useful in simplifying the analysis of electronic circuits.
Appendix E: Single-Time-Constant Circuits STC circuits are composed of, or can be reduced to, one
reactive component (inductance or capacitance) and one resistance. This is important to the design and
analysis of linear and digital circuits. Analyzing an amplifier circuit can usually be reduced to the analysis of
one or more STC circuits.
Appendix F: s-Domain Analysis: Poles, Zeros, and Bode Plots Most of the work in analyzing the
frequency response of an amplifier involves finding the amplifier voltage gain as a function of the complex
frequency s. The tools to do this are summarized in this appendix.
Appendix G: Comparison of the MOSFET and the BJT Provides a comprehensive compilation and
comparison of the properties of the MOSFET and the BJT. The comparison is aided by the inclusion of
typical parameter values of devices fabricated with modern process technologies.
Appendix H: Filter Design Material This section features tables and graphs useful for the design of the
filter circuits studied in Chapter 14.
Appendix I: Bibliography An excellent resource for students beginning research projects, this bibliography
outlines key reference works on electronic circuits, circuit and system analysis, devices and IC fabrication,
op amps, analog and digital circuits, filters and tuned amplifiers, and SPICE.
Appendix J: Standard Resistance Values and Unit Prefixes provides a table of standard values for
resistors with 1% and 5% tolerance, along with definitions of the various prefixes used in electronics.
Appendix K: Typical Parameter Values for IC Devices Fabricated in CMOS and Biolpolar Processes
gives typical device parameter values for a number of CMOS and bipolar fabrication technologies.
Appendix L: Answers to Selected Problems.


A-2
Appendix A
VLSI Fabrication Technology
A.1 IC Fabrication Steps
The basic IC fabrication steps will be described in the following sections. Some of these
steps may be carried out many times, in different combinations and/or processing conditions
during a single complete fabrication run.
A.1.1 Silicon Wafers
The starting material for modern integrated circuits is very-high-purity, single-crystal silicon.
The material is initially grown as a single crystal ingot. It takes the shape of a steel-gray solid
cylinder 10 cm to 30 cm in diameter and can be one to two meters in length. This crystal
is then sawed (like a loaf of bread) to produce circular wafers that are 400 µm to 600 µm
thick (a micrometer, or micron, µm, is a millionth of a meter). The surface of the wafer is
then polished to a mirror finish using chemical and mechanical polishing (CMP) techniques.
Semiconductor manufacturers usually purchase ready-made silicon wafers from a supplier
and rarely start their fabrication process in ingot form.
Many basic electrical and mechanical properties of the wafer depend on the orientation
of the crystalline structure, the impurity concentrations, and the type of impurities present.
These variables are strictly controlled during crystal growth. A specific concentration of
impurities can be added to the pure silicon in a process known as doping. This alters the
electrical properties of the silicon, in particular its resistivity. Depending on the types of
impurity, either holes (in p-type silicon) or electrons (in n-type silicon) can be responsible
for electrical conduction. If a large number of impurity atoms is added, the silicon is
said to be heavily doped (e.g., concentration ≳10
18 atoms/cm
−3). The relatively high
concentration of free carries results in a correspondingly low resistivity. When designating
the relative doping concentrations in semiconductor material, it is common to use the +
and – symbols. A heavily doped (low-resistivity) n-type silicon wafer is referred to as n+
material, while a lightly doped material (e.g., concentration < ∼10
16 atoms/cm
−3) is referred
to as n−. Similarly, p+ and p−designations refer to the heavily doped and lightly doped
p-type regions, respectively. The ability to control the type of impurities and the doping
concentration in the silicon permits the formation of diodes, transistors, and resistors in
integrated circuits.
A.1.2 Oxidation
In oxidation, silicon reacts with oxygen to form silicon dioxide (SiO2). To speed up this
chemical reaction, it is necessary to carry out the oxidation at high temperatures (e.g.,
1000–1200°C) and inside ultraclean furnaces. To avoid the introduction of even small
quantities of contaminants (which could significantly alter the electrical properties of the
silicon), it is necessary to operate in a clean room . Particle filters are used to ensure that the
airflow in the processing area is free from dust. All personnel must protect the clean-room
environment by wearing special lint-free clothing that covers a person from head to toe.
The oxygen used in the reaction can be introduced either as a high-purity gas (referred to
as a “dry oxidation”) or as steam (forming a “wet oxidation”). In general, wet oxidation has
a faster growth rate, but dry oxidation gives better electrical characteristics. The thermally
grown oxide layer has excellent electrical insulation properties. The dielectric strength for
SiO2 is approximately 10
7 V/cm. It has a dielectric constant of about 3.9, and it can be used
to form excellent MOS capacitors. Silicon dioxide can also serve as an effective mask against
many impurities, allowing the introduction of dopants into the silicon only in regions that are
not covered with oxide.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20




A-6
Appendix A
VLSI Fabrication Technology
If silane gas alone is used, then a silicon layer will be deposited on the wafer. If the
reaction temperature is high enough (above 1000°C), the layer deposited will be a crystalline
layer (assuming that there is an exposed crystalline silicon substrate). Such a layer is called an
epitaxial layer, and the deposition process is referred to as epitaxy instead of CVD. At lower
temperatures, or if the substrate surface is not single-crystal silicon, the atoms will not be able
to align along the same crystal orientation. Such a layer is called polycrystalline silicon (poly
Si), since it consists of many small crystals of silicon aligned in random fashion. Polysilicon
layers are normally doped very heavily to form highly conductive regions that can be used
for electrical interconnections and MOSFET gates.
A.1.8 Metallization
Metallization serves as wires to interconnect the various components (transistors, capacitors,
etc.) that form the desired integrated circuit. Metallization involves the deposition of a metal
over the entire surface of the silicon. The required interconnection pattern is then selectively
etched. The metal layer is normally deposited via a sputtering process. A pure metal disk
(e.g., 99.99% aluminum target) is placed under an Ar (argon) ion gun inside a vacuum
chamber. The wafers are also mounted inside the chamber above the target. The Ar ions
will not react with the metal, since argon is a noble gas. However, the ions are made to
physically bombard the target and literally knock metal atoms out of the target. These metal
atoms will then coat all the surface inside the chamber, including the wafers. The thickness of
the metal film can be controlled by the length of the sputtering time, which is normally in the
range of 1 to 2 minutes. The metal interconnects can then be defined using photolithography
and etching steps. Contacts are needed to convey current between the semiconductor and the
metal interconnect above. These are patterned prior to the metal by an additional mask step
that creates openings in the SiO2 layer. A conductive material such as tungsten is sputtered
into the openings, providing a contact between the semiconductor and the metal layer that
follows. Note that a high dopant concentration (either n- or p-type) is required under the
contact to ensure low resistance.
A.1.9 Packaging
A finished silicon wafer may contain several hundreds or thousands of finished circuits or
chips. A chip may contain from 10 to more than 10
9 transistors; each chip is rectangular
and can be up to tens of millimeters on a side. The circuits are first tested electrically
(while still in wafer form) using an automatic probing station. Bad circuits are marked for
later identification. The circuits are then separated from each other (by a process called
dicing), and the good circuits (dies) are mounted in packages (headers). Examples of such
IC packages are given in Fig. A.4. Fine gold wires and/or balls of solder are normally used
to interconnect the pins of the package to the metallization pattern on the die. Finally, the
package is sealed using plastic or epoxy under vacuum or in an inert atmosphere.
A.2 VLSI Processes
Integrated-circuit fabrication technology was originally dominated by bipolar technology.
By the late 1970s, metal oxide semiconductor (MOS) technology became more promising
for VLSI implementation with higher packing density and lower power consumption. Since
the early 1980s, complementary MOS (CMOS) technology has almost completely dominated
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



A 2 VLSI Processes
A-9
The next step is the formation of the polysilicon gate (Fig. A.5c). This is one of the
most critical steps in the CMOS process. The thin oxide layer in the active region is first
removed using wet etching followed by the growth of a high-quality thin gate oxide. Current
deep-submicron CMOS processes routinely make used of oxide thicknesses as thin as 20 Å
to 50 Å (1 angstrom = 10
−8 cm) or even less. A polysilicon layer, usually arsenic doped
(n-type), is then deposited and patterned. Some of the polysilicon traces formed in this
step will subsequently serve as masks to define n- or p-type regions on either side, thus
creating n- or p-type MOSFETs. In this way, the source and drain are automatically aligned
to the polysilicon gate. The development of this self-aligned process allowed for much
smaller more reliable MOSEFTs than was otherwise possible. The photolithography is most
demanding in this step since the finest resolution is required to produce the shortest possible
MOS channel length.
The formation of lightly doped drain (LDD) regions for MOSFETs of both types
follows. Light doping prevents the generation of hot electrons that might affect the reliability
of the transistors. A noncritical mask, together with the polysilicon gates, is used to form
the self-aligned LDD regions (Fig. A.5d). The resistivity of the lightly doped regions is too
high, so higher concentrations are next introduced throughout much of the source and drain
regions.
Prior to the n+ and p+ drain region implant, a sidewall spacer step is performed. A thick
layer of silicon nitride is deposited uniformly on the wafer. Due to the conformal nature of
the deposition, the thickness of the silicon nitride layer at all layer edges (i.e., at both ends
of the polysilicon gate electrode) will be thicker than those deposited over a flat surface.
After a timed RIE dry etch to remove all the silicon nitride layer, pockets of silicon nitride
will remain at the edge of the polysilicon gate electrode (Fig. A.5e). Such pockets of silicon
nitride are called sidewall spacers. They are used to block subsequent n+ or p+ source/drain
implants, protecting the LDD regions.
A heavy arsenic implant can be used to form the n+ source and drain regions of the
n-MOSFETs. The polysilicon gate also acts as a barrier for this implant to protect the
channel region. A layer of photoresist can be used to block the regions where p-MOSFETs
are to be formed (Fig. A.5e). The thick field oxide stops the implant and prevents n+
regions from forming outside the active regions. A reversed photolithography step can be
used to protect the n-MOSFETs during the p+ boron source and drain implant for the
p-MOSFETs (Fig. A.5f). Note that in both cases the separation between the source and
drain diffusions—channel length—is defined by the polysilicon gate mask alone, hence the
self-aligned property.
Before contact holes are opened, a thick layer of CVD oxide is deposited over the entire
wafer. A photomask is used to define the contact window opening (Fig. A.5g), followed by a
wet or dry oxide etch. A thin conductive layer is then evaporated or sputtered onto the wafer.
A final masking and etching step is used to pattern the interconnection (Fig. A.5h).
Not shown in the process flow is the final passivation step prior to packaging and wire
bonding. A thick CVD oxide or pyrox glass is usually deposited on the wafer to serve as a
protective layer.
A.2.2 Integrated Devices
Besides the obvious n- and p-channel MOSFETs, other devices can be obtained by
appropriate masking patterns. These include pn junction diodes, MOS capacitors, and
resistors.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20










Summary
A-19
reducing the resistance of the interconnect, hence copper is now sometimes used in place of
aluminium.
Patterning such fine features also presents fundamental challenges for the photolithogra-
phy. Diffraction makes it difficult to accurately pattern features with dimensions far below
the wavelength of light used. As a result, there is a trend towards the use of shorter ultraviolet
wavelengths. It is also possible to go beyond the diffraction limit by combining multiple
photolithographic patterning steps, however this increases the number of masks, processing
steps, and cost.
In order to maintain the quest for an even higher level of integration, new device
structures have been studied. One of the most promising technologies is the ultra-thin-body
(UTB) device. In particular, the FINFET, as illustrated in Fig. A.18, has a three-dimensional
gate wrapped around a very thin slab of silicon (the fin) that stands vertically from the
surface of an SOI wafer. The thin silicon fin is fully depleted during off condition to suppress
drain-source leakage current. In 2018, 7 nm FINFET technology is already being used for the
production of high performance VLSI chips.
Summary
■
This appendix presents an overview of the various aspects
of VLSI fabrication procedures. This includes component
characteristics, process flows, and layouts. This is by
no means a complete account of state-of-the-art VLSI
technologies. Interested readers should consult other
references on this subject for more detailed descriptions.
Bibliography
S. A. Campbell, Fabrication Engineering at the Micro- and Nanoscale, 4th ed., Oxford
University Press, 2014.
R. S. Muller, T.I. Kamins, and M. Chan, Device Electronics for Integrated Circuits, 3rd ed.,
Hoboken, NJ, John Wiley & Sons, 2003.
J. D. Plummer, M.D. Deal, and P.B. Griffin, Silicon VLSI Technology, Upper Saddle River,
NJ, Prentice Hall, 2000.
S. Wolf, Microchip Manufacturing, Lattice Press (www.latticepress.com), 2004.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


B-2
Appendix B
SPICE Device Models and Simulation Examples
S.14.1
Verification of the Design of a Fifth-Order Chebyshev Filter
B-80
S.14.2
Effect of Finite Op-Amp Bandwidth on the Operation of the
Two-Integrator-Loop Filter
B-82
S.15.1
Wien-Bridge Oscillator
B-86
S.15.2
Active-Filter-Tuned Oscillator
B-88
S.16.1
Operation of the CMOS Inverter
B-90
B.1 SPICE Device Models
To the designer, the value of simulation results depends entirely on the quality of the models
used for the devices. The more faithfully the models represent the devices’ characteristics,
the more accurately the simulation results will describe the operation of an actual circuit.
Device nonidealities must be included in the device model, otherwise their impact will not
appear in the simulation results.
B.1.1 The Op-Amp Model
In simulating circuits that use one or more op amps, a macromodel can be used to represent
each op amp. A macromodel is based on the observed terminal characteristics of the op amp
rather than on the modeling of every transistor in the op-amp internal circuit. Macromodels
can be developed from data-sheet specifications without knowing the details of the internal
circuitry of the op amp.
Linear Macromodel
A linear macromodel for an internally compensated op amp with
finite gain and bandwidth is shown in Fig. B.1. In this equivalent-circuit model, the gain
constant A0d of the voltage-controlled voltage source Ed corresponds to the differential gain
of the op amp at dc. Resistor Rb and capacitor Cb form a single-time-constant (STC) filter
with a corner frequency
fb =
1
2πRbCb
(B.1)
The low-pass response of this filter is used to model the frequency response of the internally
compensated op amp. The values of Rb and Cb used in the macromodel are chosen such that
fb corresponds to the 3-dB frequency of the op amp being modeled. This is done by arbitrarily
selecting a value for either Rb or Cb (the selected value does not need to be a practical one)
and then using Eq. (B.1) to compute the other value. In Fig. B.1, the voltage-controlled
voltage source Eb with a gain constant of unity is used as a buffer to isolate the low-pass filter
from any load at the op-amp output. Thus any op-amp loading will not affect the frequency
response of the filter and hence that of the op amp.
The linear macromodel in Fig. B.1 can be further expanded to account for other op-amp
nonidealities. For example, the equivalent-circuit model in Fig. B.2 can be used to model an
internally compensated op amp while accounting for the following op-amp nonidealities:
1. Input Offset Voltage (VOS).
The dc voltage source VOS models the op-amp input
offset voltage.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

B.1 SPICE Device Models
B-3
2. Input Bias Current (IB) and Input Offset Current (IOS).
The dc current sources
IB1 and IB2 model the input bias current at each input terminal of the op amp, with
IB1 = IB + IOS
2
and
IB2 = IB −IOS
2
where IB and IOS are, respectively, the input bias current and the input offset current
specified by the op-amp manufacturer.
3. Common-Mode Input Resistance (Ricm).
If the two input terminals of an op amp
are tied together and the input resistance (to ground) is measured, the result is the
common-mode input resistance Ricm. In the macromodel of Fig. B.2, we have split
Ricm into two equal parts (2Ricm), each connected between one of the input terminals
and ground.
4. Differential-Input Resistance (Rid).
The resistance seen between the two input
terminals of an op amp is the differential input resistance Rid.
{Cb}
{Rb}
2
1
1
1
Gain  {A0d}
Ed
b
d
0
0
2
2




b
3
3
Gain  1
Eb
0
0




Figure B.1 A linear macromodel used to model the finite gain and bandwidth of an internally compensated
op amp.
{IB1}
{IB2}
{VOS}
{2*Ricm}
{2*Ricm}
1
1
0
2
2
{Rid}


Ecm1
Ed
Ecm2
{Cb}
{Rb}
2
b
1
Gain  {A0cm2}
Gain  {A0cm2}
0
0
0
0
2
1
Gain  {A0d}
















{Ro}
0
b
3
3
Gain  1
0
Eb




Figure B.2 A comprehensive linear macromodel of an internally compensated op amp.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

B-4
Appendix B
SPICE Device Models and Simulation Examples
5. Differential Gain at DC (A0d) and Common-Mode Rejection Ratio (CMRR).
The output voltage of an op amp at dc can be expressed as
V3 = A0d (V2 −V1) + A0cm
2 (V1 + V2)
(B.2)
where A0d and A0cm are, respectively, the differential and common-mode gains of the
op amp at dc. For an op amp with a finite CMRR,
A0cm = A0d/CMRR
(B.3)
where CMRR is expressed in V/V (not in dB). In the macromodel of Fig. B.2,
the voltage-controlled voltage sources Ecm1 and Ecm2 with gain constants of
A0cm/2 account for the finite CMRR while source Ed models A0d.
6. Unity-Gain Frequency (f t).
From Eq. (2.44), the 3-dB frequency fb and the
unity-gain frequency (or gain-bandwidth product) ft of an internally compensated
op amp with an STC frequency response are related by
fb = ft
A0d
(B.4)
As in Fig. B.1, the finite op-amp bandwidth is accounted for in the macromodel
of Fig. B.2 by setting the corner frequency of the filter formed by resistor Rb and
capacitor Cb (Eq. B.1) to equal the 3-dB frequency of the op amp, fb.
7. Ouput Resistance (Ro).
The resistance seen at the output terminal of an op amp is
the output resistance Ro.
The linear macromodels in Figs. B.1 and B.2 assume that the op-amp circuit is operating
in its linear range and do not account for its nonideal performance when large signals are
present at the output. Therefore, nonlinear effects, such as output saturation and slew rate,
are not modeled.
Nonlinear Macromodel
The linear macromodel in Fig. B.2 can be expanded to account
for the op-amp nonlinearities. For example, the finite output voltage swing of the op amp can
be modeled by placing limits on the output voltage of the voltage-controlled voltage source
Eb. Details on how to incorporate this and other nonlinearities into macromodels for the op
amp are dependent on the particular simulation tool used and can be found in their manuals.
In general, ready-made robust macromodels that account for the nonlinear effects in an IC
are provided by the op-amp manufacturers. Macromodels for many popular off-the-shelf ICs
are included in many SPICE simulators or are available directly from the IC manufacturers.
B.1.2 The Diode Model
The large-signal SPICE model for the diode is shown in Fig. B.3. The static behavior is
modeled by the exponential i−v relationship. Here, for generality, a constant n is included in
the exponent. It is known as the emission cofficient, and its value ranges from 1 to 2. In our
study of the diode in Chapter 4, we assumed n=1. The dynamic behavior is represented by
the nonlinear capacitor CD, which is the sum of the diffusion capacitance Cd and the junction
capacitance Cj. The series resistance RS represents the total resistance of the p and n regions
on both sides of the junction. The value of this parasitic resistance is ideally zero, but it is
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



B.1 SPICE Device Models
B-7
computer simulation becomes even more important when these complex device models are
required to accurately analyze and design integrated circuits.
SPICE simulators provide the user with a choice of MOSFET models. The MOSFET
model being used is indicated by a parameter called LEVEL. When LEVEL = 1, the simple
square-law model (called the Shichman-Hodges model) is used, based on the MOSFET
equations presented in Chapter 5. For simplicity, we will use this model to illustrate the
description of the MOSFET model parameters in SPICE and to simulate the example circuits
in SPICE. However, the reader is again reminded of the need to use a more sophisticated
model to accurately predict circuit performance, especially for deep submicron transistors.
MOSFET Model Parameters
Table B.2 provides a listing of some of the MOSFET
model parameters used in the level-1 model. The reader should already be familiar with
these parameters, except for a few, which are described next.
MOSFET Diode Parameters
For the two reverse-biased diodes formed between each of
the source and drain diffusion regions and the body (see Fig. 10.3), the saturation-current
density is modeled in SPICE by the parameter JS. Furthermore, based on the parameters
specified in Table B.2, SPICE will calculate the depletion-layer ( junction) capacitances
discussed in Section 10.1.1 as
Cdb =
CJ

1 + VDB
PB
MJ AD +
CJSW

1 + VDB
PB
MJSW PD
(B.5)
Csb =
CJ

1 + VSB
PB
MJ AS +
CJSW

1 + VSB
PB
MJSW PS
(B.6)
where AD and AS are the areas, and PD and PS are the perimeters of, respectively, the
drain and source regions of the MOSFET. The first capacitance term in Eqs. (B.5) and (B.6)
represents the depletion-layer (junction) capacitance over the bottom of the drain and source
regions. The second capacitance term accounts for the depletion-layer capacitance along the
sidewall (periphery) of these regions. Both terms are expressed using the formula developed
in Section 3.6.1 (Eq. 3.47). The values of AD, AS, PD, and PS must be specified by the user
based on the dimensions of the device being used.
MOSFET Dimension and Gate-Capacitance Parameters
In a fabricated MOSFET,
the effective channel length Leff is shorter than the nominal (or drawn) channel length L (as
specified by the designer) because the source and drain diffusion regions extend slightly
under the gate oxide during fabrication. Furthermore, the effective channel width Weff of
the MOSFET is shorter than the nominal or drawn channel width W because of the sideways
diffusion into the channel from the body along the width. In terms of the parameters specified
in Table B.2,
Leff = L −2LD
(B.7)
Weff = W −2WD
(B.8)
In a manner analogous to using Lov to denote LD, we will use the symbol Wov to denote
WD. Consequently, as indicated in Section 10.1.1, the gate-source capacitance Cgs and the
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

B-8
Appendix B
SPICE Device Models and Simulation Examples
Table B.2
Parameters of the SPICE Level-1 MOSFET Model (Partial Listing)
SPICE Parameter
Book Symbol
Description
Units
Basic Model Parameters
LEVEL
MOSFET model selector
TOX
tox
Gate-oxide thickness
m
COX
Cox
Gate-oxide capacitance, per unit area
F/m2
UO
μ
Carrier mobility
cm2/V·s
KP
k′
Process transconductance parameter
A/V2
LAMBDA
λ
Channel-length modulation coefficient
V−1
Threshold Voltage Parameters
VTO
Vt0
Zero-bias threshold voltage
V
GAMMA
γ
Body-effect parameter
V1/2
NSUB
NA, ND
Substrate doping
cm−3
PHI
2φf
Surface inversion potential
V
MOSFET Diode Parameters
JS
Body-junction saturation-current density
A/m2
CJ
Zero-bias body-junction capacitance, per unit area
F/m2
over the drain/source region
MJ
Grading coefficient, for area component
CJSW
Zero-bias body-junction capacitance, per unit length
along F/m the sidewall (periphery) of the drain/source
region
MJSW
Grading coefficient, for sidewall component
PB
V0
Body-junction built-in potential
V
MOSFET Dimension Parameters
LD
Lov
Lateral diffusion into the channel
m
from the source/drain diffusion regions
WD
Sideways diffusion into the channel
m
from the body along the width
MOS Gate-Capacitance Parameters
CGBO
Gate-body overlap capacitance, per unit channel length
F/m
CGDO
Cov/W
Gate-drain overlap capacitance, per unit channel width
F/m
CGSO
Cov/W
Gate-source overlap capacitance, per unit channel width
F/m
gate-drain capacitance Cgd must be increased by an overlap component of, respectively,
Cgs,ov = W CGSO
(B.9)
and
Cgd,ov = W CGDO
(B.10)
Similarly, the gate-body capacitance Cgb must be increased by an overlap component of
Cgb,ov = LCGBO
(B.11)
There is a built-in redundancy in specifying the MOSFET model parameters in SPICE.
For example, the user may specify the value of KP for a MOSFET or, alternatively, specify
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

B.1 SPICE Device Models
B-9
Table B.3
Values of the Level-1 MOSFET Model Parameters for Exemplar CMOS Technologies1
5-µm CMOS Process
0.5-µm CMOS Process
0.18-µm CMOS Process
NMOS
PMOS
NMOS
PMOS
NMOS
PMOS
LEVEL
1
1
1
1
1
1
TOX
8.50e-08
8.50e-08
9.50e-09
9.50e-09
4.08e-09
4.08e-09
UO
750
250
460
115
291
102
LAMBDA
0.01
0.03
0.1
0.2
0.08
0.11
GAMMA
1.4
0.65
0.5
0.45
0.3
0.3
VTO
1
−1
0.7
−0.8
0.5
−0.45
PHI
0.7
0.65
0.8
0.75
0.84
0.8
LD
7.00e-07
6.00e-07
8.00e-08
9.00e-08
10e-9
10e.9
JS
1.00e-06
1.00e-06
1.00e-08
5.00e-09
8.38e-6
4.00e-07
CJ
4.00e-04
1.80e-04
5.70e-04
9.30e-04
1.60e-03
1.00e-03
MJ
0.5
0.5
0.5
0.5
0.5
0.45
CJSW
8.00e-10
6.00e-10
1.20e-10
1.70e-10
2.04e-10
2.04e-10
MJSW
0.5
0.5
0.4
0.35
0.2
0.29
PB
0.7
0.7
0.9
0.9
0.9
0.9
CGBO
2.00e-10
2.00e-10
3.80e-10
3.80e-10
3.80e-10
3.50e-10
CGDO
4.00e-10
4.00e-10
4.00e-10
3.50e-10
3.67e-10
3.43e-10
CGSO
4.00e-10
4.00e-10
4.00e-10
3.50e-10
3.67e-10
3.43e-10
1We have created MOSFET models corresponding to the parameters above. They are available online at the textbook website.
TOX and UO and let SPICE compute KP as UO TOX. Similarly, GAMMA can be directly
specified, or the physical parameters that enable SPICE to determine it can be specified
(e.g., NSUB). In any case, the user-specified values will always take precedence over (i.e.,
override) those values calculated by SPICE. As another example, note that the user has the
option of either directly specifying the overlap capacitances CGBO, CGDO, and CGSO or
letting SPICE compute them as CGDO = CGSO = LD COX and CGBO = WD COX.
Table B.3 provides typical values for the level-1 MOSFET model parameters of a modern
0.18-µm CMOS technology and for older 0.5-µm and 5-µm CMOS technologies. The
corresponding values for the minimum channel length Lmin, minimum channel width Wmin,
and the maximum supply voltage

VDD +
VSS

max are as follows:
Technology
Lmin
Wmin
(VDD +
VSS
)max
5-µm CMOS
5 µm
12.5 µm
10 V
0.5-µm CMOS
0.5 µm
1.25 µm
3.3 V
0.18-µm CMOS
0.18 µm
0.22 µm
1.8 V
When simulating a MOSFET circuit, the user needs to specify both the values of the
model parameters and the dimensions of each MOSFET in the circuit being simulated. At
least the channel length L and width W must be specified. The areas AD and AS and the
perimeters PD and PS need to be specified for SPICE to model the body-junction capaci-
tances (otherwise, zero capacitances would be assumed). The exact values of these geometry
parameters depend on the actual layout of the device (Appendix A). However, to estimate
these dimensions, we will assume that a metal contact is to be made to each of the source and
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


B.1 SPICE Device Models
B-11
iCE
CJS
CBC  CDC  CJC
CBE  CDE  CJE
B
E
S
(Substrate)
iBC
iBE
rC
C
rx
rE
Figure B.6 The SPICE large-signal model for an npn BJT.
The controlled current-source iCE in the transport model is defined as
iCE = IS

evBE/nFVT −evBC/nRVT
(B.16)
Observe that iCE represents the current component of iC and iE that arises as a result of the
minority carrier diffusion across the base, or carrier transport across the base (hence the
name transport model).
The transport model can account for the Early effect in a forward-biased BJT by including
the factor (1−vBC/VA) in the expression for the transport current iCE as follows:
iCE = IS

evBE/nFVT −evBC/nRVT
1 −vBC
VA

(B.17)
Figure B.6 shows the model used in SPICE. Here, resistors rx, rE, and rC are added to
represent the ohmic resistance of, respectively, the base, emitter, and collector regions. The
dynamic operation of the BJT is modeled by two nonlinear capacitors, CBC and CBE. Each of
these capacitors generally includes a diffusion component (i.e., CDC and CDE) and a depletion
or junction component (i.e., CJC and CJE) to account for the charge-storage effects within
the BJT (as described in Section 10.1.2). Furthermore, the BJT model includes a depletion
junction capacitance CJS to account for the collector–substrate junction in integrated-circuit
BJTs, where a reverse-biased pn junction is formed between the collector and the substrate
(which is common to all components of the IC).
For small-signal (ac) analysis, the SPICE BJT model is equivalent to the hybrid-π
model of Fig. 7.26, but augmented with rE, rC, and (for IC BJTs) CJS. Furthermore, the
model includes a large resistance rμ between the base and collector (in parallel with Cμ)
to account for the dependence of i1 on vCB. The resistance rμ is very large, typically greater
than 10βro.
Although Fig. B.6 shows the SPICE model for the npn BJT, the corresponding model for
the pnp BJT can be obtained by reversing the direction of the currents and the polarity of the
diodes and terminal voltages.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

B-12
Appendix B
SPICE Device Models and Simulation Examples
The SPICE Gummel–Poon Model of the BJT
The BJT model described above lacks
a representation of some second-order effects present in actual devices. One of the most
important such effects is the variation of the current gains, βF and βR, with the current iC.
The Ebers–Moll model assumes βF and βR to be constant, thereby neglecting their current
dependence (as depicted in Fig. 6.20). To account for this, and other second-order effects,
SPICE uses a more accurate, yet more complex, BJT model called the Gummel–Poon model
(named after H. K. Gummel and H. C. Poon, two pioneers in this field). This model is
based on the relationship between the electrical terminal characteristics of a BJT and its
base charge. It is beyond the scope of this book to delve into the model details. However, it
is important for the reader to be aware of the existence of such a model.
In SPICE, the Gummel–Poon model automatically simplifies to the Ebers–Moll model
when certain model parameters are not specified. Consequently, the BJT model to be used
by SPICE need not be explicitly specified by the user (unlike the MOSFET case in which
the model is specified by the LEVEL parameter). For discrete BJTs, the values of the
SPICE model parameters can be determined from the data specified on the BJT data sheets,
supplemented (if needed) by key measurements. For instance, in Example S.6.1, we will
use the Q2N3904 npn BJT (from Fairchild Semiconductor) whose SPICE model is readily
available. In fact, most SPICE simulators already include the SPICE model parameters for
many of the commercially available discrete BJTs. For IC BJTs, the values of the SPICE
model parameters are determined by the IC manufacturer (using both measurements on the
fabricated devices and knowledge of the details of the fabrication process) and are provided
to IC designers.
The SPICE BJT Model Parameters
Table B.4 provides a listing of some of the
BJT model parameters used in SPICE. The reader should be already familiar with these
parameters. In the absence of a user-specified value for a particular parameter, SPICE uses
a default value that typically results in the corresponding effect being ignored. For example,
if no value is specified for the forward Early voltage (VAF), SPICE assumes that VAF=∞
and does not account for the Early effect. Although ignoring VAF can be a serious issue
in some circuits, the same is not true, for example, for the value of the reverse Early
voltage (VAR).
The BJT Model Parameters BF and BR in SPICE
Before leaving the SPICE model, a
comment on β is in order. SPICE interprets the user-specified model parameters BF and BR
as the ideal maximum values of the forward and reverse dc current gains, respectively, versus
the operating current. These parameters are not equal to the constant-current-independent
parameters βF(βdc) and βR used in the Ebers–Moll model for the forward and reverse dc
current gains of the BJT. SPICE uses a current-dependent model for βF and βR, and the
user can specify other parameters (not shown in Table B.4) for this model. Only when such
parameters are not specified, and the Early effect is neglected, will SPICE assume that βF
and βR are constant and equal to BF and BR, respectively. Furthermore, SPICE computes
values for both βdc and βac, the two parameters that we generally assume to be approximately
equal. SPICE then uses βac to perform small-signal (ac) analysis.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



B 2 SPICE Examples
B-15
erroneously force the dc output voltage to zero. For similar reasons, an ac test voltage source should
be attached in series with the biasing dc voltage source for measuring the input resistance of a voltage
amplifier.
A careful look at Rin and Rout of the closed-loop amplifier reveals that their values have, respectively,
increased and decreased by a factor of about 1000, relative to the corresponding resistances of the op
amp. Such a large input resistance and small output resistance are indeed desirable characteristics for a
voltage amplifier. This improvement in the small-signal resistances of the closed-loop amplifier is a direct
consequence of applying negative feedback (through resistors R1 and R2) around the open-loop op amp.
We study negative feedback in Chapter 11, where we also learn how the improvement factor (1000 in this
case) corresponds to the ratio of the open-loop op-amp gain (10
5) to the closed-loop amplifier gain (100).
From Eqs. (2.53) and (2.51), the closed-loop amplifier has an STC low-pass response given by
Vo(s)
Vi(s) =
G0
1 +
s
2πf3dB
As described in Appendix E, the response of such an amplifier to an input step of height Vstep is given by
vO(t) = Vfinal

1 −e
−t/τ
(B.18)
where Vfinal = G0Vstep is the final output-voltage value (i.e., the voltage value toward which the output is
heading) and τ = 1/

2πf3dB

is the time constant of the amplifier. If we define t10% and t90% to be the time
it takes for the output waveform to rise to, respectively, 10% and 90% of Vfinal, then from Eq. (B.18), t10%
≃0.1τ and t90% ≃2.3τ. Therefore, the rise time tr of the amplifier can be expressed as
tr = t90% −t10% = 2.2τ =
2.2
2πf3dB
Therefore, if f3dB = 9.9 kHz, then tr = 35.4 µs. To simulate the step response of the closed-loop amplifier,
we apply a step voltage at its input, using a piecewise-linear (PWL) source (with a very short rise time); then
performatransient-analysissimulation,andmeasurethevoltageattheoutputversustime.Inoursimulation,
we applied a 1-V step input, plotted the output waveform in Fig. B.8, and measured tr to be 35.3 µs.
The linear macromodels in Figs. B.1 and B.2 assume that the op-amp circuit is operating in its linear
range; they do not account for its nonideal performance when large signals are present at the output.
Therefore, nonlinear effects, such as output saturation and slew rate, are not modeled. This is why, in the
step response of Fig. B.8, we could see an output voltage of 100 V when we applied a 1-V step input.
However, IC op amps are not capable of producing such large output voltages. Hence, a designer must be
very careful when using these models.
It is important to point out that we also saw output voltages of 100 V or so in the ac analysis of
Fig. B.7, where for convenience we applied a 1-V ac input to measure the gain of the closed-loop
amplifier. So, would we see such large output voltages if the op-amp macromodel accounted for nonlinear
effects (particularly output saturation)? The answer is yes, because in an ac analysis SPICE uses a linear
model for nonlinear devices with the linear-model parameters evaluated at a bias point. Thus, we must
keep in mind that the voltage magnitudes encountered in an ac analysis may not be realistic. In this case,
the voltage and current ratios (e.g., the output-to-input voltage ratio as a measure of voltage gain) are of
importance to the designer.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20








B 2 SPICE Examples
B-23
(b)
Time (s)
0
1m
2m
3m
4m
5m
6m
7m
8m
9m
10m
20V
15V
10V
5V
0V
V (IN)
10V
5V
0V
5V
10V
20V
10V
0V
10V
20V
V (2)
V (OUT)
Figure EB.16 continued
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20







B-30
Appendix B
SPICE Device Models and Simulation Examples
Example S.7.2 continued
emitter-degeneration resistor Re decreases the voltage gain
AM
 by a factor of
1 + Re
re
+ Rsig
rπ
1 + Rsig
rπ
Therefore, to limit the reduction in voltage gain to a factor of 2, we will select
Re = re +
Rsig
βac + 1
(B.23)
Thus, Rce ≃Re = 130. Substituting this value in Eqs. (B.21) and (B.22) shows that Rin increases from
6.1k to 20.9k while
AM
 drops from 38.2 V/V to 18.8 V/V.
We will now use SPICE to verify our design and investigate the performance of the CE amplifier. We
begin by performing a bias-point simulation to verify that the BJT is properly biased in the active region
and that the dc voltages and currents are within the desired specifications. Based on this simulation, we
have increased the value of RB to 340k in order to limit IC to about 0.5 mA while using a standard 1%
resistor value. Next, to measure the midband gain AM and the 3-dB frequencies
9 fL and fH, we apply a 1-V
ac voltage at the input, perform an ac-analysis simulation, and plot the output-voltage magnitude (in dB)
versus frequency as shown in Fig. B.22. This corresponds to the magnitude response of the CE amplifier
because we chose a 1-V input signal.
10 Accordingly, with no emitter degeneration, the midband gain is
AM
 = 38.5 V/V = 31.7 dB and the 3-dB bandwidth is BW = fH −fL = 145.7 kHz. Using an Rce of130
results in a drop in the midband gain
AM
 by a factor of 2 (i.e., 6 dB). Interestingly, however, BW has now
increased by approximately the same factor as the drop in
AM
. As we learned in Chapter 11 in our study
of negative feedback, the emitter-degeneration resistor Rce provides negative feedback, which allows us
to trade off gain for other desirable properties, such as a larger input resistance and a wider bandwidth.
To conclude this example, we will demonstrate the improved bias-point (or dc operating-point)
stability achieved when an emitter resistor RE is used. Specifically, we will increase/decrease the value of
the parameter BF (i.e., the ideal maximum forward current gain) in the SPICE model for part Q2N3904
by a factor of 2 and perform a bias-point simulation. The corresponding change in BJT parameters (βdc
and βac) and bias-point (including IC and CE) are presented in Table B.7 for the case of RE = 6k. Note
that βac is not equal to βdc as we assumed, but is slightly larger. For the case without emitter degeneration,
we will use RE = 0 in the schematic of Fig. B.21. Furthermore, to maintain the same IC and VC in both
cases at the values obtained for nominal BF, we use RB = 1.12 M to limit IC to approximately 0.5 mA.
The corresponding variations in the BJT bias point are also shown in Table B.7. Accordingly, we see
that emitter degeneration makes the bias point of the CE amplifier much less sensitive to changes in β.
However, unless a large bypass capacitor CE is used, this reduced bias sensitivity comes at the expense
of a reduction in the midband gain (as we observed in this example when we simulated the frequency
response of the CE amplifier with an Re = 130).
9No detailed knowledge of frequency-response calculations is required for this example; all that is needed is
Section 7.4.2. Nevertheless, after the study of the frequency response of the CE amplifier in Sections 10.2 and
10.8, the reader will benefit by returning to this example to experiment further with the circuit using SPICE.
10The reader should not be alarmed about the use of such a large signal amplitude. Recall that in a small-signal
(ac) simulation, SPICE first finds the small-signal equivalent circuit at the dc bias point and then analyzes this
linear circuit. Such ac analysis can, of course, be done with any ac signal amplitude. However, a 1-V ac input
is convenient to use because the resulting ac output corresponds to the voltage gain of the circuit.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



B 2 SPICE Examples
B-33
The effect of using Weff instead of W is much less important, because typically W ≫Wov. Thus,
choosing L = 0.200 µm results in Leff = L −2Lov = 0.180 µm, and W = 86 × Leff = 15.48 µm.
Note that we chose L slightly larger than Lmin. This is a common practice in the design of analog
ICs to minimize the effects of fabrication nonidealities on the actual value of L. As we have seen, this is
particularly important when the circuit performance depends on the matching between the dimensions of
two or more MOSFETs (e.g., in the current-mirror circuits studied in Chapter 8).
Next, RD is calculated based on the desired voltage gain:
Av
 = gm

RD∥RL∥ro

= 10V/V ⇒RD ≃3.41 k
where
gm = 2ID
VOV
= 2 × 0.25 × 10−3
0.15
= 3.33mA/V
and
ro = VA
ID
=
12.5
0.25 × 10−3 = 50k
Hence, the dc bias voltage is VD = VDD −IDRD = 0.9457V.
To stabilize the bias point of the CS amplifier, we include a resistor in the source lead. In other words,
to bias the MOSFET at VDS = VDD/3, we need an
Rs = VS
ID
=

VD −VDD/3

ID
=
0.3475
0.25 × 10−3 = 1.39 k
However, as a result of including such a resistor, the gain drops by a factor of (1 + gmRS). Therefore, we
include a capacitor, CS, to eliminate the effect of RS on ac operation of the amplifier and gain.
Finally, choosing the current in the biasing branch to be 1 µA gives RG1 + RG2 = VDD/1µA = 1.8.
Also, we know that
VGS = VOV + Vt = 0.15 + 0.45 = 0.6V ⇒VG = VS + 0.6 = 0.3475 + 0.6 = 0.9475V
Hence,
RG2
RG1 + RG2
= VG
VDD
= 0.9475
1.8
⇒RG1 = 0.8525M,RG2 = 0.9475 M
Using large values for these gate resistors ensures that both their power consumption and the loading
effect on the input signal source are negligible.
Simulation
Ampliﬁer Biasing
We will now use SPICE to verify our design and investigate the performance of
the CS amplifier. We begin by performing a bias-point simulation to verify that the MOSFET is properly
biased in the saturation region and that the dc voltages and currents match the expected values. The results
are shown in Fig. B.24.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20










B 2 SPICE Examples
B-43
which is close to the value found through the bias-point simulation. It should be emphasized that this
offset voltage is inherent in the design and is not the result of component or device mismatches. Thus, it
is usually referred to as a systematic offset.
Next, to compute the frequency response of the op-amp circuit
12 and to measure its differential gain
Ad and its 3-dB frequency fH in SPICE, we set the differential input voltage Vd to be a 1-V ac signal (with
0-V dc level), perform an ac-analysis simulation, and plot the output voltage magnitude
VOUT
 versus
frequency. Figure B.31(a) shows the resulting frequency response. Accordingly, Ad = 13.96×10
3 V/V or
82.8 dB, and fH = 256.9 kHz. Thus, this value of Ad is close to the value estimated using the large-signal
differential transfer characteristic.
An approximate value of fH can also be obtained using the expressions derived for the equivalent
differential half-circuit in Chapter 10. Specifically,
fH ≃
1
2πReqCeq
(B.26)
where
Ceq = Cμ2 + Cπ5 + Cμ5
	
1 + gm5

R3∥ro5∥

rπ7 + (β + 1)R4

and
Req = R2 |ro2∥rπ5
The values of the small-signal parameters as computed by SPICE can be found in the output file of a
bias-point (or an ac-analysis) simulation. Using these values results in Ceq = 338 pF, Req= 2.91 k, and
fH = 161.7 kHz. However, this approximate value of fH is much smaller than the value computed by
SPICE. The reason for this disagreement is that the foregoing expression for fH was derived using the
equivalent differential half-circuit concept. However, the concept is accurate only when it is applied to
a symmetrical circuit. The op-amp circuit in Fig. B.29 is not symmetrical because the second gain stage
formed by the differential pair Q4–Q5 has a load resistor R3 in the collector of Q5 only. To verify that
the expression for fH in Eq. (B.26) gives a close approximation for fH in the case of a symmetric circuit,
we insert a resistor R
′
3 (whose size is equal to R3) in the collector of Q4. Note that this will have only a
minor effect on the dc operating point. The op-amp circuit with Q4 having a collector resistor R
′
3 is then
simulated in SPICE. Figure B.31(b) shows the resulting frequency response of this symmetric op amp,
where fH = 155.7 kHz. Accordingly, in the case of a perfectly symmetric op-amp circuit, the value of fH
in Eq. (B.29) closely approximates the value computed by SPICE. Comparing the frequency responses
of the nonsymmetric (Fig. B.31a) and the symmetric (Fig. B.31b) op-amp circuits, we note that the 3-dB
frequency of the op amp drops from 256.9 kHz to 155.7 kHz when resistor R
′
3 is inserted in the collector
of Q4 to make the op-amp circuit symmetrical. This is because, with a resistor R
′
3, the collector of Q4 is no
longer at signal ground and, hence, Cμ4 experiences the Miller effect. Consequently, the high-frequency
response of the op-amp circuit is degraded.
Observe that in the preceding ac-analysis simulation, owing to the systematic offset inherent
in the design, the op-amp circuit is operating at an output dc voltage of 3.62 V. However, in an
actual circuit implementation (with VCM =0), negative feedback is employed (see Chapters 2 and 11)
12This part of the example requires study of Chapter 10.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20












B 2 SPICE Examples
B-55
the CS amplifier). Note that, in Fig. B.39, the PMOS current mirror M3–M4 and the NMOS current mirror
M5–M6 are used to realize, respectively, current sources I1 and I2 in the circuit of Fig. 13.8. Furthermore,
the current transfer ratio of mirror M3–M4 is set to 2 (i.e., m3/m4 = 2). This results in ID3 ≃2Iref. Hence,
transistor M2 is biased at ID2 = ID3 −ID1 = Iref. The gate bias voltage of transistor M2 is generated using
the diode-connected transistors M7 and M8. The size and drain current of these transistors are set equal to
those of transistor M2. Therefore, ignoring the body effect,
VG2 = VDD −VSG7 −VSG8 ≃VDD −2(
Vtp
 +
VOVp
)
where VOVp is the overdrive voltage of the PMOS transistors in the amplifier circuit. These transistors
have the same overdrive voltage because their ID/m is the same. Thus, such a biasing configuration results
in VSG2 =
Vtp
+
VOVp
 as desired, while setting VSD3 =
Vtp
+
VOVp
 to improve the bias matching between
M3 and M4.
The folded-cascode amplifier in Fig. B.39 is designed assuming a reference current Iref =100 µA and
VDD = 3.3 V (similar to the case of the CS amplifier). All transistors are sized for an overdrive voltage of
0.3 V, except for the input transistor M1, which is sized for VOV1 = 0.15 V. Thus, since ID = 1
2μmCoxm

W/Leff

V
2
OV, all the MOSFETs in the amplifier circuit are designed using m = 4, except for m1 = 18.
The midband voltage gain of the folded-cascode amplifier in Fig. B.39 can be expressed as
Gv = −gm1Rout
(B.33)
where
Rout = Rout2∥Rout5
(B.34)
is the output resistance of the amplifier. Here, Rout2 is the resistance seen looking into the drain of the
cascode transistor M2, while Rout5 is the resistance seen looking into the drain of the current-mirror
transistor M5.
Rout2 ≃

gm2ro2

Rs2
(B.35)
where
Rs2 = ro1∥ro3
(B.36)
is the effective resistance at the source of M2. Furthermore,
Rout5 = ro5
(B.37)
Thus, for the folded-cascoded amplifier in Fig. B.39,
Rout ≃ro5
(B.38)
and
Gv ≃−gm1ro5 = −2 VAn
VOV1
(B.39)
Using the 0.5-µm CMOS parameters, this gives Rout = 100 k and Gv = −133V/V. Therefore, Rout
and hence
Gv
 of the folded-cascode amplifier in Fig. B.39 are larger than those of the CS amplifier in
Fig. B.37 by a factor of 3.
Figure B.38(b) shows the frequency response of the folded-cascode amplifier as computed by SPICE
for the cases of Rsig = 100  and Rsig = 1 M. The corresponding values of the 3-dB frequency fH of the
amplifier are given in Table B.16. Observe that when Rsig is small, fH of the folded-cascode amplifier is
lower than that of the CS amplifier by a factor of approximately 2.6, approximately equal to the factor by
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


B 2 SPICE Examples
B-57
which the gain is increased. This is because when Rsig is small, the frequency response of both amplifiers
is dominated by the pole formed at the output node, that is,
fH ≃fp,out = 1
2π
1
RoutCout
(B.40)
Since the output resistance of the folded-cascode amplifier is larger than that of the CS amplifier (by a
factor of approximately 3, as found through the hand analysis above) while their output capacitances are
approximately equal, the folded-cascode amplifier has a lower fH in this case.
On the other hand, when Rsig is large, fH of the folded-cascode amplifier is much higher than that
of the CS amplifier. This is because, in this case, the effect of the pole at fp,in on the overall frequency
response of the amplifier becomes significant. Since, due to the Miller effect, Cin of the CS amplifier is
much larger than that of the folded-cascode amplifier, its fH is much lower in this case. To confirm this
point, observe that Cin of the folded-cascode amplifier can be estimated by replacing R
′
L in Eq. (B.29) with
the total resistance Rd1 between the drain of M1 and ground. Here,
Rd1 = ro1∥ro3∥Rin2
(B.41)
where Rin2 is the input resistance of the common-gate transistor M2 and can be obtained using an
approximation of the relationship in Eq. (8.51) as
Rin2 ≃ro2 + ro5
gm2ro2
(B.42)
Thus,
Rd1 ≃ro1∥ro3∥
ro2 + ro5
gm2ro2
≃2
gm2

(B.43)
Therefore, Rd1 is much smaller than R
′
L in Eq. (B.30). Hence, Cin of the folded-cascode amplifier in
Fig. B.39 is indeed much smaller than that of the CS amplifier in Fig. B.37. This confirms that the
folded-cascode amplifier is much less impacted by the Miller effect and, therefore, can achieve a much
higher fH when Rsig is large.
The midband gain of the folded-cascode amplifier can be significantly increased by replacing the
current mirror M5–M6 with a current mirror having a larger output resistance, such as the cascode current
mirror in Fig. 8.36 whose output resistance is approximately gmr
2
o. In this case, however, Rin2 and hence
Rd1 increase, causing an increased Miller effect and a corresponding reduction in fH.
Finally, it is interesting to observe that the frequency response of the folded-cascode amplifier,
shown in Fig. B.38(b), drops beyond fH at approximately –20 dB/decade when Rsig =100  and at
approximately −40 dB/decade when Rsig =1 M. This is because when Rsig is small, the frequency
response is dominated by the pole at fp,out. However, when Rsig is increased, fp,in is moved closer to fp,out
and both poles contribute to the gain falloff.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


B 2 SPICE Examples
B-59
And the location of the real transmission zero is determined as
fZ =
1
2π × CSRS
=
1
2π ×

10 × 10−6
1.39 × 103
fZ = 11.45Hz
Upon observing the relative magnitude of each of the poles, we can conclude that fP3 will determine
fL, the lower 3-dB frequency of the amplifier gain,
fL ≃fP3 ≃11.45 Hz
High-Frequency Rolloff
The high-frequency rolloff of the amplifier gain is caused by the MOSFET
internal capacitance. The typical values for 0.180 µm CMOS technology are given in Table B.3. We know
from Section 10.2 that
fH =
1
2π × CinR′
sig
R
′
sig = 10 × 10
3∥448.75 × 10
3 = 9.78 × 10
3
Cin = W

Cgs0 + Cgd0
	
1 + gm

RL∥RL


Note that Cgs0 and Cgd0 are per-unit-width values provided in the models.
Cin = (15.48 × 10
−6) × (0.3665 × 10
−9) ×

1 + 1 + 3.33 × 10
−3(50 × 10
3∥3.41 × 10
−3)

Cin = 0.716fF
fH =
1
2π × 0.716 × 10−15 × 9.78 × 103
fH ≃191MHz
Now we can determine the bandwidth, BW, of the CS amplifier:
BW = fH −fL
BW ≃fH = 191 MHz
Simulation
Figure B.41 shows the magnitude plot of the frequency response of this CS amplifier.
Based on the simulation results, the midband gain is AM = 9.80 V/V. Also, fL = 60.8 Hz and fH =
192.2 MHz, resulting in 3-dB bandwidth of BW = fL −fH = 192.2 MHz. Figure B.41 further shows that
(moving toward the left) the gain begins to fall off at about 300 Hz, but flattens out again at about 12.2
Hz. This flattening in the gain at low frequencies is due to a real transmission zero introduced in the
transfer function of the amplifier by RS together with CS, with a frequency fZ−= 1/2πRSCS = 11.45 Hz.
Students are encouraged to investigate this relationship by using the simulation tool to modify the values
of RS and CS and observing the corresponding change in the zero frequency. Note this value of zero is
typically between the break frequencies fP2 and fP3.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



B-62
Appendix B
SPICE Device Models and Simulation Examples
Example S.11.1 continued
Method 1
Using the open-circuit and short-circuit transfer functions
Note that to avoid the problem of terminating the loop when we open it, the loop gain can be expressed
as
Aβ = −1
 1
Toc
+ 1
Tsc

where Toc is the open-circuit voltage transfer function and Tsc is the short-circuit voltage transfer function.
The circuit for determining Toc is shown in Fig. B.44(b). Here, an ac test signal voltage Vt is applied
to the loop input at the base of Q2 via a large coupling capacitor (having a value of, say, 1 kF) to avoid
disturbing the dc bias conditions. Then,
Toc = Voc
Vt
where Voc is the ac open-circuit output voltage at the collector of Q1.
In the circuit for determining Tsc (Fig. B.44b), an ac test signal current It is applied to the loop input
at the base of Q2. Note that a coupling capacitor is not needed in this case because the ac current source
appears as an open circuit at dc, and, hence, does not disturb the dc bias conditions.
The loop output at the collector of Q1 is ac short-circuited to ground via a large capacitor Cto. Then,
Tsc = Isc
It
where Isc is the ac short-circuit output current at the collector of Q1.
Method 2
Using a replica circuit
As shown in Fig. B.45, a replica of the feedback amplifier circuit can be simply used as a termination
impedance. Here, the feedback loops of both the amplifier circuit and the replica circuit are broken using
a large inductor Lbreak to avoid disturbing the dc bias conditions. The loop output at the collector of Q1
in the amplifier circuit is then connected to the loop input at the base of Q2 in the replica circuit via a
large coupling capacitor Cto (again, to avoid disturbing the dc bias conditions). Thus, for ac signals, the
loop output at the collector of Q1 in the amplifier circuit sees an impedance equal to that seen before the
feedback loop is broken. Accordingly, we have ensured that the conditions that existed in the amplifier
circuit prior to breaking the loop have not changed.
Next, to determine the loop gain Aβ, we apply an ac test signal voltage Vt via a large coupling
capacitor Cti to the loop input at the base of Q2 in the amplifier circuit. Then, as described in Chapter 11,
Aβ = −Vr
Vt
where Vr is the ac returned signal at the loop output at the collector of Q1 in the amplifier circuit.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20






















B-84
Appendix B
SPICE Device Models and Simulation Examples
Example S.14.2 continued
20
10
0
10
20
dB
8.0
Frequency (kHz)
10
741 op amp
Ideal op amp
Figure B.70 Comparing the magnitude response of the Tow–Thomas biquad circuit (shown in Fig. B.69) constructed
with 741-type op amps, with the ideal magnitude response. These results illustrate the effect of the finite dc gain and
bandwidth of the 741 op amp on the frequency response of the Tow–Thomas biquad circuit.
we apply a 1-V ac signal at the filter input, perform an ac-analysis simulation over the range 8 kHz to
12 kHz, and plot the output-voltage magnitude versus frequency.
The simulation results are shown in Fig. B.70, from which we observe the significant deviation
between the response of the filter using the 741 op amp and that using the near-ideal op-amp model.
Specifically, the response with practical op amps shows a deviation in the center frequency of about –100
Hz, and a reduction in the 3-dB bandwidth from 500 Hz to about 110 Hz. Thus, in effect, the filter Q
factor has increased from the ideal value of 20 to about 90. This phenomenon, known as Q-enhancement,
is predictable from an analysis of the two-integrator-loop biquad with the finite op-amp bandwidth taken
into account [see Sedra and Brackett (1978)]. Such an analysis shows that Q-enhancement occurs as a
result of the excess phase lag introduced by the finite op-amp bandwidth. The theory also shows that
the Q-enhancement effect can be compensated for by introducing phase lead around the feedback loop.
This can be accomplished by connecting a small capacitor, CC, across resistor R2. To investigate the
potential of such a compensation technique, we repeat the SPICE simulation with various capacitance
values. The results are displayed in Fig. B.71(a). We observe that as the compensation capacitance is
increased from 0 pF, both the filter Q and the resonance peak of the filter response move closer to the
desired values. It is evident, however, that a compensation capacitance of 80 pF causes the response to
deviate further from the ideal. Thus, optimum compensation is obtained with a capacitance value between
60 pF and 80 pF. Further experimentation using SPICE enabled us to determine that such an optimum
is obtained with a compensation capacitance of 64 pF. The corresponding response is shown, together
with the ideal response, in Fig. B.71(b). We note that although the filter Q has been restored to its ideal
value, there remains a deviation in the center frequency. We shall not pursue this matter any further here;
our objective is not to present a detailed study of the design of two-integrator-loop biquads; rather, it is
to illustrate the application of SPICE in investigating the nonideal performance of active-filter circuits,
generally.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20










©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

















E-4
Appendix E
Single-Time-Constant Circuits
Example E.3 continued
Application of Thévenin’s theorem to the circuit to the left of the line XX
′and then to the circuit to
the right of that line results in the circuit of Fig. E.3(c). Since this is a linear circuit, the response may
be obtained using the principle of superposition. Specifically, the output voltage vO will be the sum of
the two components vO1 and vO2. The first component, vO1, is the output due to the left-hand-side voltage
source with the other voltage source reduced to zero. The circuit for calculating vO1 is shown in Fig.
E.3(d). It is an STC circuit with a time constant given by
τ =

C1 + C2

R1∥R2

Similarly, the second component vO2 is the output obtained with the left-hand-side voltage source reduced
to zero. It can be calculated from the circuit of Fig. E.3(e), which is an STC circuit with the same time
constant τ.
Finally, it should be observed that the fact that the circuit is an STC one can also be ascertained by set-
ting the independent source vI in Fig. E.3(a) to zero. Also, the time constant is then immediately obvious.
E.2 Classiﬁcation of STC Circuits
STC circuits can be classified into two categories, low-pass (LP) and high-pass (HP) types,
with each category displaying distinctly different signal responses. The task of finding
whether an STC circuit is of LP or HP type may be accomplished in a number of ways, the
simplest of which uses the frequency domain response. Specifically, low-pass circuits pass
dc (i.e., signals with zero frequency) and attenuate high frequencies, with the transmission
being zero at ω = ∞. Thus, we can test for the circuit type either at ω = 0 or at ω = ∞. At
ω = 0 capacitors should be replaced by open circuits (1/jωC = ∞) and inductors should be
replaced by short circuits (jωL = 0). Then if the output is zero, the circuit is of the high-pass
type, while if the output is finite, the circuit is of the low-pass type. Alternatively, we may
test at ω = ∞by replacing capacitors with short circuits (1/jωC = 0) and inductors with
open circuits (jωL = ∞). Then if the output is finite, the circuit is of the HP type, whereas if
the output is zero, the circuit is of the LP type. In Table E.1, which provides a summary of
these results, s.c. stands for short circuit and o.c. for open circuit.
Figure E.4 shows examples of low-pass STC circuits, and Fig. E.5 shows examples of
high-pass STC circuits. For each circuit we have indicated the input and output variables of
interest. Note that a given circuit can be of either category, depending on the input and output
variables. The reader is urged to verify, using the rules of Table E.1, that the circuits of Figs.
E.4 and E.5 are correctly classified.
Table E.1
Rules for ﬁnding the type of STC Circuit
Test at
Replace
Circuit is LP if
Circuit is HP if
C by o.c.
ω = 0
output is finite
output is zero
L by s.c.
C by s.c.
ω = ∞
output is zero
output is finite
L by o.c.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


E-6
Appendix E
Single-Time-Constant Circuits
E.2 Classify the following circuits as STC high-pass or low-pass: Fig. E.4(a) with output iO in C to ground;
Fig. E.4(b) with output iO in R to ground; Fig. E.4(d) with output iO in C to ground; Fig. E.4(e) with
output iO in R to ground; Fig. E.5(b) with output iO in L to ground; and Fig. E.5(d) with output vO
across C.
Ans. HP; LP; HP; HP; LP; LP
E.3 Frequency Response of STC Circuits
E.3.1 Low-Pass Circuits
The transfer function T(s) of an STC low-pass circuit can always be written in the form
T(s) =
K
1 + (s/ω0)
(E.1)
which, for physical frequencies, where s = jω, becomes
T(jω) =
K
1 + j(ω/ω0)
(E.2)
where K is the magnitude of the transfer function at ω = 0 (dc) and ω0 is defined by
ω0 = 1/τ
with τ being the time constant. Thus the magnitude response is given by
|T(jω)| =
K

1 + (ω/ω0)2
(E.3)
and the phase response is given by
φ(ω) = −tan
−1(ω/ω0)
(E.4)
Figure E.6 sketches the magnitude and phase responses for an STC low-pass circuit. The
magnitude response shown in Fig. E.6(a) is simply a graph of the function in Eq. (E.3). The
magnitude is normalized with respect to the dc gain K and is expressed in decibels; that
is, the plot is for 20 log|T(jω)/K|, with a logarithmic scale used for the frequency axis.
Furthermore, the frequency variable has been normalized with respect to ω0. As shown,
the magnitude curve is closely defined by two straight-line asymptotes. The low-frequency
asymptote is a horizontal straight line at 0 dB. To find the slope of the high-frequency
asymptote, consider Eq. (E.3) and let ω/ω0 ≫1, resulting in
|T(jω)|≃K ω0
ω
It follows that if ω doubles in value, the magnitude is halved. On a logarithmic frequency
axis, doublings of ω represent equally spaced points, with each interval called an octave.
Halving the magnitude function corresponds to a 6-dB reduction in transmission (20 log
0.5=–6 dB). Thus the slope of the high-frequency asymptote is –6 dB/octave. This can be
equivalently expressed as –20 dB/decade, where “decade” indicates an increase in frequency
by a factor of 10.
The two straight-line asymptotes of the magnitude–response curve meet at the “corner
frequency” or “break frequency” ω0. The difference between the actual magnitude–response
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20













F-2
Appendix F
s-Domain Analysis: Poles, Zeros, and Bode Plots
where the coefficients a and b are real numbers, and the order m of the numerator is smaller
than or equal to the order n of the denominator; the latter is called the order of the network.
Furthermore, for a stable circuit—that is, one that does not generate signals on its own—the
denominator coefficients should be such that the roots of the denominator polynomial all
have negative real parts. The problem of amplifier stability is studied in Chapter 10.
F.1 Poles and Zeros
An alternate form for expressing T(s) is
T(s) = am
(s −Z1)(s −Z2)...(s −Zm)
(s −P1)(s −P2)...(s −Pn)
(F.2)
where am is a multiplicative constant (the coefficient of s
m in the numerator), Z1, Z2, ..., Zm
are the roots of the numerator polynomial, and P1, P2, ..., Pn are the roots of the denominator
polynomial. Z1, Z2, ..., Zm are called the transfer-function zeros or transmission zeros,
and P1, P2, ..., Pn are the transfer-function poles or the natural modes of the network.
A transfer function is completely specified in terms of its poles and zeros together with the
value of the multiplicative constant.
The poles and zeros can be either real or complex numbers. However, since the a and b
coefficients are real numbers, the complex poles (or zeros) must occur in conjugate pairs.
That is, if 5 + j3 is a zero, then 5 – j3 also must be a zero. A zero that is purely imaginary
(±jωZ) causes the transfer function T(jω) to be exactly zero at ω = ωZ. This is because the
numerator will have the factors (s+jωZ)(s−jωZ) = (s
2 +ω
2
Z), which for physical frequencies
becomes (−ω
2 + ω
2
Z), and thus the transfer fraction will be exactly zero at ω = ωZ. Thus the
“trap” one places at the input of a television set is a circuit that has a transmission zero at the
particular interfering frequency. Real zeros, on the other hand, do not produce transmission
nulls. Finally, note that for values of s much greater than all the poles and zeros, the transfer
function in Eq. (F.1) becomes T(s) ≃am/s
n−m. Thus the transfer function has (n −m) zeros
at s = ∞.
F.2 First-Order Functions
Many of the transfer functions encountered in this book have real poles and zeros and can
therefore be written as the product of first-order transfer functions of the general form
T(s) = a1s + a0
s + ω0
(F.3)
where −ω0 is the location of the real pole. The quantity ω0, called the pole frequency, is
equal to the inverse of the time constant of this single-time-constant (STC) network (see
Appendix E). The constants a0 and a1 determine the type of STC network. Specifically, we
studied in Chapter 1 two types of STC networks, low pass and high pass. For the low-pass
first-order network we have
T(s) =
a0
s + ω0
(F.4)
In this case the dc gain is a0/ω0, and ω0 is the corner or 3-dB frequency. Note that this transfer
function has one zero at s = ∞. On the other hand, the first-order high-pass transfer function
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

F.3 Bode Plots
F-3
has a zero at dc and can be written as
T(s) =
a1s
s + ω0
(F.5)
At this point the reader is strongly urged to review the material on STC networks and
their frequency and pulse responses in Appendix E. Of specific interest are the plots of the
magnitude and phase responses of the two special kinds of STC networks. Such plots can
be employed to generate the magnitude and phase plots of a high-order transfer function, as
explained below.
F.3 Bode Plots
A simple technique exists for obtaining an approximate plot of the magnitude and phase of a
transfer function given its poles and zeros. The technique is particularly useful in the case of
real poles and zeros. The method was developed by H. Bode, and the resulting diagrams are
called Bode plots.
A transfer function of the form depicted in Eq. (F.2) consists of a product of factors of
the form s + a, where such a factor appears on top if it corresponds to a zero and on the
bottom if it corresponds to a pole. It follows that the magnitude response in decibels of the
network can be obtained by summing together terms of the form 20log10
√
a2 + ω2, and the
phase response can be obtained by summing terms of the form tan
−1(ω/a). In both cases
the terms corresponding to poles are summed with negative signs. For convenience we can
extract the constant a and write the typical magnitude term in the form 20 log

1 + (ω/a)2.
On a plot of decibels versus log frequency this term gives rise to the curve and straight-line
asymptotes shown in Fig. F.1. Here the low-frequency asymptote is a horizontal straight line
at 0-dB level and the high-frequency asymptote is a straight line with a slope of 6 dB/octave
or, equivalently, 20 dB/decade. The two asymptotes meet at the frequency ω = |a|, which
is called the corner frequency. As indicated, the actual magnitude plot differs slightly from
1  (/a)2 (dB)
0 dB
Actual curve
6 dB/octave
( 20 dB/decade)
3 dB
 (log scale)
3dB  a  1

20 log 
 
Figure F.1 Bode plot for the typical magnitude term. The curve shown applies for the case of a zero. For a
pole, the high-frequency asymptote should be drawn with a –6-dB/octave slope.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20






G-2
Appendix G
Comparison of the MOSFET and the BJT
As indicated in Table G.1, the trend has been to reduce the minimum allowable channel
length. This trend has been motivated by the desire to pack more transistors on a chip as well
as to operate at higher speeds or, in analog terms, over wider bandwidths.
Observe that the oxide thickness, tox, scales down with the channel length, reaching
1.4 nm for the 65-nm process. Since the oxide capacitance Cox is inversely proportional to tox,
we see that Cox increases as the technology scales down. The surface mobility μ decreases
as the technology minimum-feature size is decreased, and μp decreases faster than μn. As
a result, the ratio of μp to μn has been decreasing with each generation of technology,
falling from about 0.5 for older technologies to 0.2 or so for the newer ones. Despite the
reduction of μn and μp, the transconductance parameters k
′
n = μnCox and k
′
p = μpCox have
been steadily increasing. As a result, modern short-channel devices achieve required levels
of bias currents at lower overdrive voltages. As well, they achieve higher transconductance,
a major advantage.
Although the magnitudes of the threshold voltages Vtn and Vtp have been decreasing with
Lmin from about 0.7–0.8 V to 0.3–0.4 V, the reduction has not been as large as that of the
power supply VDD. The latter has been reduced dramatically, from 5 V for older technologies
to 1.0 V for the 65-nm process. This reduction has been necessitated by the need to keep
the electric fields in the smaller devices from reaching very high values. Another reason for
reducing VDD is to keep power dissipation as low as possible given that the IC chip now has
a much larger number of transistors.
1
The fact that in modern short-channel CMOS processes
Vt
 has become a much larger
proportion of the power-supply voltage poses a serious challenge to the circuit design
engineer. Recalling that
VGS
 =
Vt
+
VOV
, where VOV is the overdrive voltage, to keep
VGS

reasonably small,
VOV
 for modern technologies is usually in the range of 0.1 V to 0.2 V.
To appreciate this point further, recall that to operate a MOSFET in the saturation region,
VDS
 must exceed
VOV
; thus, to be able to have a number of devices stacked between the
power-supply rails in a regime in which VDD is only 1.8 V or lower, we need to keep
VOV

as low as possible. We will shortly see, however, that operating at a low
VOV
 has some
drawbacks.
Another significant though undesirable feature of modern deep submicron (Lmin <
0.25 µm) CMOS technologies is that the channel-length modulation effect is very pro-
nounced. As a result, V
′
A has decreased to about 3 V/µm, which combined with the decreasing
values of L has caused the Early voltage VA = V
′
AL to become very small. Correspondingly,
short-channel MOSFETs exhibit low output resistances.
Studying the MOSFET high-frequency
2 equivalent-circuit model in Section 10.2 and the
high-frequency response of the common-source amplifier in Section 10.3 shows that two
major MOSFET capacitances are Cgs and Cgd. While Cgs has an overlap component,
3 Cgd is
entirely an overlap capacitance. Both Cgd and the overlap component of Cgs are almost equal
and are denoted Cov. The last line of Table G.1 provides the value of Cov per micron of gate
width. Although the normalized Cov has been staying more or less constant with the reduction
in Lmin, we will shortly see that the shorter devices exhibit much higher operating speeds and
wider amplifier bandwidths than the longer devices. Specifically, we will, for example, see
that fT for a 0.25-µm NMOS transistor can be as high as 10 GHz.
1Chip power dissipation is a very serious issue, with some ICs dissipating as much as 100 W. As a
result, an important current area of research concerns what is termed “power-aware design.”
2For completeness, this appendix includes material on the high-frequency models and operation of
both the MOSFET and the BJT. These topics are covered in Chapter 10. The reader can easily skip the
appendix paragraphs dealing with these topics until Chapter 10 has been studied.
3Overlap capacitances result because the gate electrode overlaps the source and drain diffusions
(Fig. 5.1).
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20







G.3 Comparison of Important Characteristics
G-9
For both devices, the hybrid-π model indicates that the open-circuit voltage gain
obtained from gate to drain (base to collector) with the source (emitter) grounded is −gmro. It
follows that gmro is the maximum gain available from a single transistor of either type. This
important transistor parameter is given the name intrinsic gain and is denoted A0. We have
more to say about the intrinsic gain in Section 8.3.2.
Although not included in the MOSFET low-frequency model shown in Table G.3, the
body effect can have some implications for the operation of the MOSFET as an amplifier.
In simple terms, if the body (substrate) is not connected to the source, it can act as a second
gate for the MOSFET. The voltage signal that develops between the body and the source,
vbs, gives rise to a drain current component gmbvbs, where the body transconductance gmb is
proportional to gm; that is, gmb = χgm, where the factor χ is in the range of 0.1 to 0.2. The
body effect has no counterpart in the BJT.
G.3.4 The Transconductance
For the BJT, the transconductance gm depends only on the dc collector current IC. (Recall
that VT is a physical constant ≃0.025 V at room temperature.) It is interesting to observe that
gm does not depend on the geometry of the BJT, and its dependence on the EBJ area is only
through the effect of the area on the total collector current IC. Similarly, the dependence of
gm on VBE is only through the fact that VBE determines the total current in the collector. By
contrast, gm of the MOSFET depends on ID, VOV, and W/L. Therefore, we use three different
(but equivalent) formulas to express gm of the MOSFET.
The first formula given in Table G.3 for the MOSFET’s gm is the most directly
comparable with the formula for the BJT. It indicates that for the same operating current,
gm of the MOSFET is smaller than that of the BJT. This is because VOV/2 is the range of
0.05 V to 0.15 V, which is two to six times the corresponding term in the BJT’s formula,
namely VT.
The second formula for the MOSFET’s gm indicates that for a given device (i.e., given
W/L), gm is proportional to VOV. Thus a higher gm is obtained by operating the MOSFET
at a higher overdrive voltage. However, we should recall the limitations imposed on the
magnitude of VOV by the limited value of VDD. Put differently, the need to obtain a reasonably
high gm constrains the designer’s interest in reducing VOV.
The third gm formula shows that for a given transistor (i.e., given W/L), gm is proportional
to

ID. This should be contrasted with the bipolar case, where gm is directly proportional
to IC.
G.3.5 Output Resistance
The output resistance for both devices is determined by similar formulas, with ro being the
ratio of VA to the bias current (ID or IC). Thus, for both transistors, ro is inversely proportional
to the bias current. The difference in nature and magnitude of VA between the two devices
has already been discussed.
G.3.6 Intrinsic Gain
The intrinsic gain A0 of the BJT is the ratio of VA, which is solely a process parameter (5 V
to 100 V), and VT, which is a physical parameter (0.025 V at room temperature). Thus A0
of a BJT is independent of the device junction area and of the operating current, and its
value ranges from 200 V/V to 5000 V/V. The situation in the MOSFET is very different:
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



G-12
Appendix G
Comparison of the MOSFET and the BJT
G.3.7 High-Frequency Operation
The simplified high-frequency equivalent circuits for the MOSFET and the BJT are very
similar, and so are the formulas for determining their unity-gain frequency (also called
transition frequency) fT. As we demonstrate in Chapter 10, fT is a measure of the intrinsic
bandwidth of the transistor itself and does not take into account the effects of capacitive
loads. We address the issue of capacitive loads shortly. For the time being, note the striking
similarity between the approximate formulas given in Table G.3 for the value of fT of the
two devices. In both cases fT is inversely proportional to the square of the critical dimension
of the device: the channel length for the MOSFET and the base width for the BJT. These
formulas also clearly indicate that shorter-channel MOSFETs
4 and narrower-base BJTs are
inherently capable of a wider bandwidth of operation. It is also important to note that while
for the BJT the approximate expression for fT indicates that it is entirely process determined,
the corresponding expression for the MOSFET shows that fT is proportional to the overdrive
voltage VOV. Thus we have conflicting requirements on VOV: While a higher low-frequency
gain is achieved by operating at a low VOV, wider bandwidth requires an increase in VOV.
Therefore the selection of a value for VOV involves, among other considerations, a trade-off
between gain and bandwidth.
For npn transistors fabricated in the modern low-voltage process, fT is in the range
of 10 GHz to 20 GHz as compared to the 400 MHz to 600 MHz obtained with the
standard high-voltage process. In the MOS case, NMOS transistors fabricated in a modern
submicron technology, such as the 0.18-µm process, achieve fT values in the range of 5 GHz
to 15 GHz.
Before leaving the subject of high-frequency operation, let’s look into the effect of a
capacitive load on the bandwidth of the common-source (common-emitter) amplifier. For
this purpose we shall assume that the frequencies of interest are much lower than fT of the
transistor. Hence we shall not take the transistor capacitances into account. Figure G.2(a)
shows a common-source amplifier with a capacitive load CL. The voltage gain from gate to
drain can be found as follows:
Vo = −gmVgs(ro∥CL)
= −gmVgs
ro
1
sCL
ro + 1
sCL
Av = Vo
Vgs
= −
gmro
1 + sCLro
(G.1)
Thus the gain has, as expected, a low-frequency value of gmro = A0 and a frequency response
of the single-time-constant (STC) low-pass type with a break (pole) frequency at
ωP =
1
CLro
(G.2)
Obviously this pole is formed by ro and CL. A sketch of the magnitude of gain versus
frequency is shown in Fig. G.2(b). We observe that the gain crosses the 0-dB line at
4Although the reason is beyond our capabilities at this stage, fT of MOSFETs that have very short
channels varies inversely with L rather than with L
2.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

G.3 Comparison of Important Characteristics
G-13
Figure G.2 Frequency response of a CS amplifier loaded with a capacitance CL and fed with an ideal voltage
source. It is assumed that the transistor is operating at frequencies much lower than fT, and thus the internal
capacitances are not taken into account.
frequency ωt,
ωt = A0ωP = (gmro) 1
CLro
Thus,
ωt = gm
CL
(G.3)
That is, the unity-gain frequency or, equivalently, the gain–bandwidth product
5 ωt is
the ratio of gm and CL. We thus clearly see that for a given capacitive load CL, a larger
gain–bandwidth product is achieved by operating the MOSFET at a higher gm. Identical
analysis and conclusions apply to the case of the BJT. In each case, bandwidth increases as
bias current is increased.
5The unity-gain frequency and the gain–bandwidth product of an amplifier are the same when the
frequency response is of the single-pole type; otherwise the two parameters may differ.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20




G.5 Validity of the Square-Law MOSFET Model
G-17
G.4 Combining MOS and Bipolar
Transistors—BiCMOS Circuits
From the discussion above it should be evident that the BJT has the advantage over the
MOSFET of a much higher transconductance (gm) at the same value of dc bias current. Thus,
in addition to realizing higher voltage gains per amplifier stage, bipolar transistor amplifiers
have superior high-frequency performance compared to their MOS counterparts.
On the other hand, the practically infinite input resistance at the gate of a MOSFET makes
it possible to design amplifiers with extremely high input resistances and an almost zero input
bias current. Also, as mentioned earlier, the MOSFET provides an excellent implementation
of a switch, a fact that has made CMOS technology capable of realizing a host of analog
circuit functions that are not possible with bipolar transistors.
It can thus be seen that each of the two transistor types has its own distinct and unique
advantages: Bipolar technology has been extremely useful in the design of very-high-quality
general-purpose circuit building blocks, such as op amps. On the other hand, CMOS, with
its very high packing density and its suitability for both digital and analog circuits, has
become the technology of choice for the implementation of very-large-scale integrated
circuits. Nevertheless, the performance of CMOS circuits can be improved if the designer
has available (on the same chip) bipolar transistors that can be employed in functions that
require their high gm and excellent current-driving capability. A technology that allows the
fabrication of high-quality bipolar transistors on the same chip as CMOS circuits is aptly
called BiCMOS. At appropriate locations throughout this book we present interesting and
useful BiCMOS circuit blocks.
G.5 Validity of the Square-Law MOSFET Model
We conclude this appendix with a comment on the validity of the simple square-law model
we have been using to describe the operation of the MOS transistor. While this simple
model works well for devices with relatively long channels (>1 µm), it does not provide an
accurate representation of the operation of short-channel devices. This is because a number
of physical phenomena come into play in these submicron devices, resulting in what are
called short-channel effects. Although a detailed study of short-channel effects is beyond
the scope of this book, it should be mentioned that MOSFET models have been developed
that take these effects into account. However, they are understandably quite complex and
do not lend themselves to hand analysis of the type needed to develop insight into circuit
operation. Rather, these models are suitable for computer simulation and are indeed used
in SPICE (Appendix B). For quick, manual analysis, however, we will continue to use the
square-law model, which is the basis for the comparison of Table G.3.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20








(g) All pass (AP)
Flat gain =a2
T(s) = a2
s2 s
–
0
Q
------
0
2
+
s2
s
0
Q
-----
0
2
+
+
---------------------------------
j
0
2Q
0
0
0
2Q
0
O
O
0
T
a2
0
0
2












Figure H.3 continued
H-6
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Filter Design Material
H-7


Z2
Vo
Z1
Vi


General structure
(a)


LP
Vo
R
C
Vi


L
x
(b)


HP
Vo
L
R
C
Vi
y


(c)


BP
Vo
L
R
C
Vi
z


(d)
x


Vo
Vi
L
R
C
y


Notch at 0
(e)


Vo
R
Vi
C2
y
L1
C1
L2


x
General notch
(f)

 
LPN (n  0)
Vo
R
Vi
L
C1
C2
y


x
(g)


Vo
Vi
C2
C1



LPN as s
(h)
L2


HPN (n  0)
Vo
R
Vi
y
C
L1


x
(i)
Figure H.4 Realization of various second-order filter functions using the LCR resonator of Fig. 14.18(a):
(a) general structure, (b) LP, (c) HP, (d) BP, (e) notch at ω0, (f) general notch, (g) LPN

ωn ≥ω0

, (h) LPN
as s →∞, (i) HPN

ωn < ω0

.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

H-8
Appendix H
Filter Design Material


Vi


R
L
C
Vo
R1
R1
Figure H.5 Realization of the second-order all-pass
transfer function using a voltage divider and an LCR
resonator.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Filter Design Material
H-9
A1

R5





Vo
C6
R1
R2
A2
R3
Vi
C4
K
x
R6
LP
(a)






Vo
R6
R1
R2
A2
R5
A1
C6
K
Vi
HP
R3
C4
y
(b)
R5






Vo
C6
R1
R2
A2
R3
A1
Vi
C4
K
R6
BP
z
(c)
Figure H.6 Realizations for the various second-order filter functions using the op amp–RC resonator of
Fig. 14.21(b): (a) LP, (b) HP, (c) BP. The circuits are based on the LCR circuit in Fig. 14.18. Design
considerations are given in Table H.1.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

H-10
Appendix H
Filter Design Material







Vo
C6
R1
R2
A2
R3
A1
Vi
C4
K
R6
Notch at 
0
R5
y
x
(d)








Vo
C62
R1
R2
A2
R3
A1
Vi
C4
K
R6
R5
x
y2
C61
y1
LPN, 
n 	
0
(e)






Vo
C6
R1
R2
A2
R3
A1
Vi
C4
K
R52
R51
x2
y
HPN, n 
 0
R6
x1
(f)
Figure H.6 continued (d) No tch at ω0; (e) LPN, ωn ≥ω0; (f) HPN, ωn ≤ω0.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20





I-2
Appendix I
Bibliography
C.L. Searle, A.R. Boothroyd, E.J. Angelo, Jr., P.E.
Gray, and D.O. Pederson, Elementary Circuit
Properties of Transistors, Vol. 3 of the SEEC
Series, New York: Wiley, 1964.
B.G. Streetman and S. Banerjee, Solid-State Elec-
tronic Devices, 5th ed., Upper Saddle River, NJ:
Prentice-Hall, 2000.
Y. Tsividis, Operation and Modeling of the MOS
Transistor, 3rd ed., New York: Oxford University
Press, 2011.
OPERATIONAL AMPLIFIERS
G.B. Clayton, Experimenting with Operational Ampli-
fiers, London: Macmillan, 1975.
G.B. Clayton, Operational Amplifiers, 2nd ed., Lon-
don: Newnes-Butterworths, 1979.
S. Franco, Design with Operational Amplifiers and
Analog Integrated Circuits, 3rd ed., New York:
McGraw-Hill, 2001.
J.G. Graeme, G.E. Tobey, and L.P. Huelsman, Oper-
ational Amplifiers: Design and Applications, New
York: McGraw-Hill, 1971.
W. Jung, IC Op Amp Cookbook, Indianapolis: Howard
Sams, 1974.
E.J. Kennedy, Operational Amplifier Circuits: Theory
and Applications, New York: Holt, Rinehart and
Winston, 1988.
J.K. Roberge, Operational Amplifiers: Theory and
Practice, New York: Wiley, 1975.
J.L. Smith, Modern Operational Circuit Design, New
York: Wiley-Interscience, 1971.
J.V. Wait, L.P. Huelsman, and G.A. Korn, Introduction
to Operational Amplifiers :Theory and Applica-
tions, New York: McGraw-Hill, 1975.
ANALOG CIRCUITS
P.E. Allen and D.R. Holberg, CMOS Analog Circuit
Design, 3rd ed., New York: Oxford University
Press, 2012.
R. Jacob Baker, CMOS: Circuit Design, Layout
and Simulation, 3rd ed. Hoboken, N.J.: Wiley,
2010.
K. Bult, Transistor-Level Analog IC Design. Notes
for a short course organized by Mead, Ecole
Polytechnique F´ederal de Lausanne, 2002.
T. Chan Carusone, D.A. Johns, and K. Martin, Analog
Integrated Circuit Design, 2nd ed. New York:
Wiley, 2012.
M.J. Fonderic and J.H. Huising, Design of Low-Voltage
Bipolar Operational Amplifiers, Boston: Kluwer
Academic Publishers, 1993.
R.L. Geiger, P.E. Allen, and N.R. Strader, VLSI Design
Techniques for Analog and Digital Circuits, New
York: McGraw-Hill, 1990.
P.R. Gray, P.J. Hurst, S.H. Lewis, and R.G. Meyer,
Analysis and Design of Analog Integrated Cir-
cuits, 5th ed., Hoboken, NJ: Wiley, 2008.
A.B. Grebene, Bipolar and MOS Analog Integrated
Circuit Design, New York: Wiley, 1984.
R. Gregorian and G.C. Temes, Analog MOS Integrated
Circuits for Signal Processing, New York: Wiley,
1986.
J.H. Huising, Operational Amplifiers, Boston: Kluwer
Academic Publishers, 2001.
IEEE Journal of Solid-State Circuits, a monthly publi-
cation of the IEEE.
K. Laker and W. Sansen, Design for Analog Integrated
Circuits and Systems, New York: McGraw-Hill,
1999.
H.S. Lee, “Analog Design,” Chapter 8 in BiCMOS
Technology and Applications, A.R. Alvarez, edi-
tor, Boston: Kluwer Academic Publishers, 1989.
National Semiconductor Corporation, Audio/Radio
Handbook, Santa Clara, CA: National Semicon-
ductor Corporation, 1980.
B. Razavi, Design of Analog CMOS Integrated
Circuits, New York: McGraw-Hill, 2001.
J.K. Roberge, Operational Amplifiers: Theory and
Practice, New York: Wiley, 1975.
S. Rosenstark, Feedback Amplifier Principles, New
York: Macmillan, 1986.
W.M.C. Sansen, Analog Design Essentials, Dordrecht,
The Netherlands: Springer, 2006.
A.S. Sedra and G.W. Roberts, “Current Conveyor
Theory and Practice,” Chapter 3 in Analogue IC
Design: The Current-Mode Approach, C. Touma-
zou, F.J. Lidgey, and D.G. Haigh, editors, London:
Peter Peregrinus, 1990.
R.
Severns,
editor,
MOSPOWER
Applications
Handbook, Santa Clara, CA: Siliconix, 1984.
Texas Instruments, Inc., Power Transistor and TTL
Integrated-Circuit
Applications,
New
York:
McGraw-Hill, 1977.
S. Soclof, Applications of Analog Integrated Circuits,
Englewood Cliffs, NJ: Prentice-Hall, 1985.
J.M. Steininger, “Understanding wideband MOS tran-
sistors,” IEEE Circuits and Devices, Vol. 6, No. 3,
pp. 26–31, May 1990.
DIGITAL CIRCUITS
A.R. Alvarez, editor, BiCMOS Technology and Appli-
cations, 2nd ed., Boston: Kluwer Academic Pub-
lishers, 1993.
M.I. Elmasry, editor, Digital MOS Integrated Circuits,
New York: IEEE Press, 1981. Also, Digital MOS
Integrated Circuits II, 1992.
S.H.K Embabi, A. Bellaour, and M.I. Elmasry, Dig-
ital BiCMOS Integrated Circuit Design, Boston:
Kluwer, 1993.
D.A. Hodges, H.G. Jackson, and R.A. Saleh, Analysis
and Design of Digital Integrated Circuits, 3rd ed.,
New York: McGraw-Hill, 2004.
IEEE Journal of Solid-State Circuits, a monthly publi-
cation of the IEEE.
S.M. Kang and Y. Leblebici, CMOS Digital Integrated
Circuits, 3rd ed., New York: McGraw-Hill, 2003.
R. Littauer, Pulse Electronics, New York: McGraw-
Hill, 1965.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Bibliography
I-3
K. Martin, Digital Integrated Circuit Design, New
York: Oxford University Press, 2000.
J. Millman and H. Taub, Pulse, Digital, and Switching
Waveforms, New York: McGraw-Hill, 1965.
Motorola, MECL Device Data, Phoenix, AZ: Motorola
Semiconductor Products, Inc., 1989.
Motorola, MECL System Design Handbook, Phoenix,
AZ:
Motorola
Semiconductor
Products,
Inc.,
1988.
J.M. Rabaey, Digital Integrated Circuits, Englewood
Cliffs, NJ: Prentice-Hall, 1996. Note: A 2nd
ed., with A. Chandrakasan and B. Nikolic, also
appeared in 2003.
L. Strauss, Wave Generation and Shaping, 2nd ed.,
New York: McGraw-Hill, 1970.
H. Taub and D. Schilling, Digital Integrated Electron-
ics, New York: McGraw-Hill, 1977.
N. Weste and K. Eshraghian, Principles of CMOS VLSI
Design, Reading, MA: Addison-Wesley, 1985 and
1993.
FILTERS AND TUNED AMPLIFIERS
P.E. Allen and E. Sanchez-Sinencio, Switched-Capacitor
Circuits, New York: Van Nostrand Reinhold,
1984.
K.K. Clarke and D.T. Hess, Communication Circuits:
Analysis and Design, Ch. 6, Reading, MA: Addi-
son Wesley, 1971.
G. Daryanani, Principles of Active Network Synthesis
and Design, New York: Wiley, 1976.
R. Gregorian and G.C. Temes, Analog MOS Inte-
grated Circuits for Signal Processing, New York:
Wiley-Interscience, 1986.
S.K. Mitra and C.F. Kurth, editors, Miniaturized and
Integrated Filters, New York: Wiley-Interscience,
1989.
C. Ouslis and A. Sedra, “Designing custom fil-
ters,” IEEE Circuits and Devices, May 1995,
pp. 29–37.
R.
Schaumann,
M.S.
Ghausi,
and
K.R.
Laker,
Design of Analog Filters, Englewood Cliffs, NJ:
Prentice-Hall, 1990.
R. Schaumann, M. Soderstand, and K. Laker, editors,
Modern Active Filter Design, New York: IEEE
Press, 1981.
R. Schaumann, H. Xiao, and M.E. Van Valkenburg,
Design of Analog Filters, 2nd ed. New York:
Oxford University Press, 2010.
A.S. Sedra, “Switched-capacitor filter synthesis,” in
MOS VLSI Circuits for Telecommunications, Y.
Tsividis and P. Antognetti, editors, Englewood
Cliffs, NJ: Prentice-Hall, 1985.
A.S. Sedra and P.O. Brackett, Filter Theory and
Design: Active and Passive, Portland, OR: Matrix,
1978.
M.E. Van Valkenburg, Analog Filter Design, New
York: Holt, Rinehart and Winston, 1981.
A.I. Zverev, Handbook of Filter Synthesis, New York:
Wiley, 1967.
SPICE
M.E. Herniter, Schematic Capture with Cadence
PSpice,
2nd
ed.,
Upper
Saddle
River,
NJ:
Prentice-Hall, 2003.
G. Massobrio and P. Antognetti, Semiconductor Device
Modeling with SPICE, 2nd ed., New York:
McGraw-Hill, 1993.
G.W. Roberts and A.S. Sedra, SPICE, New York:
Oxford University Press, 1992 and 1997.
J.A. Svoboda, PSpice for Linear Circuits, New York:
Wiley, 2002.
P.W. Tuinenga, SPICE: A Guide to Circuit Simulation
Analysis Using PSpice, 2nd ed., Englewood Cliffs,
NJ: Prentice-Hall, 1992.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


J-2
Appendix J
Standard Resistance Values and Unit Preﬁxes
Table J.2 provides the SI unit prefixes used in this book and in all modern works in
English.
Table J.2
SI Unit Preﬁxes
Name
Symbol
Factor
femto
f
×10−15
pico
p
×10−12
nano
n
×10−9
micro
µ
×10−6
milli
m
×10−3
kilo
k
×103
mega
M
×106
giga
G
×109
tera
T
×1012
peta
P
×1015
Table J.3 provides the meter conversion factors.
Table J.3
Meter Conversion Factors
1µm = 10−4 cm = 10−6 m
1 m = 102 cm = 106 µm = 109 nm
0.1 µm = 100 nm
1 Å = 10−8 cm = 10−10 m



L.2
Appendix L
Answers to Selected Problems
1.59 4.95 A/A; 13.9 dB; 4.9 V/V; 13.8 dB; 24.3 W/W; 27.7 dB
1.60 13.3 V/V
1.66 683.3 V/V; 56.7 dB; 3.333 A/A; 70.5 dB; 2.34 × 10
6 W/W; 127.4 dB
1.70 4 MHz; 0.8 V/V
1.72 57 nF
1.75 0.51/CR
1.77 0.8 kΩ; 3.98 kΩ; 8 nF at node B
1.81 90 kΩ; 6.61 kΩ; 27.9 mA/V
1.82 R2/(R1 + R2)
1.83 15.9 ms; 15.9 μs; −0.04 dB; 10 Hz and 10 kHz
Chapter 2
2.1 8; 14
2.2 2502.5 V/V
2.3 −1 V; 1750 V/V
2.5 10
4 V/V
2.9 (a) −6 V/V; 15 k; (b) −6 V/V; 15 k; (c) −6 V/V; 15 k; (d) −6 V/V; 15 k
2.12 (a) −2 V/V; (b) −10 V/V; (c) −0.5 V/V; (d) −50 V/V; (e) −5 V/V
2.14 R1 = 1 k; R2 = 5 k
2.18 3 mA; R1 = 2 k; R2 = 20 k
2.19 ±2x%; −98 V/V to −102 V/V
2.21 1.49 k; 5.88 k
2.23 ±2 mV
2.27 (b) R1 = 1 k; R2 = 30 k; 589 V/V
2.30 (a) 41.67 k; (b) 111.1 k; (c) 666.7 k
2.32 −R2
R1

1 + R4
R3
+ R4
R2

2.34 (a) 0.1 mA; 0.1 mA; 10 mA; 10.1 mA; −1 V; (b) 693 k; (c) IL = 10.1 mA;
−6.05 V ≤VO ≤−2.01 V
2.37 R1 = 100 k, R2 = 100 k, R3 = 1.02 k; −2.48 V/V
2.40 R1 = 6 k; R2 = 1.5 k; R3 = 1 k; Rf = 6 k
2.44 Rf = 5.33 k
2.45 (a) R1 = 10 k,R2 = 40 k; (b) R1 = 10 k,R2 = 90 k; (c) R1 = 10 k,
R2 = 200 k; (d) R1 = 10 k,R2 = 990 k
2.47 100 k; no
2.50 1 + R2/R1
1 + R3/R4
2.55
1
1 + 1/A; 0.999, −0.1%; 0.990, −1%; 0.909, −9.1%
2.58 1980 V/V
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.3
2.59 9.09 V/V; 81 k in parallel with R1; 9.52 V/V; 10.52 V/V
2.62 0 V ≤vO ≤+2 V; 0.1 V
2.63 10 V/V; 10 k; 0.0091 V/V; 66.8 dB
2.68 (a) 1 V/V; 0 V/V; (b) −5 V ≤vIcm; (c) 10 V/V; 0 V/V; −3 V ≤vIcm ≤+3 V
2.69 1 M; 756 ; 6.8 k
2.73 2vId + 0.01
(3 −6x)
(1 + x −x2); −60 mV; increase 100 
2.75 (a) −0.05 V ≤vIcm ≤+0.05 V; (b) −5 V ≤vIcm ≤+5 V
2.76 (a) 0 dB; (b) 20log(1 + R2/R1)
2.79 (b) 4 V/V; (c) 4 VP-P; 1.414 Vrms
2.81 (a) 1.59 kHz; (c) increase by 10×
2.83 1 MHz; 0.159 μs
2.84 10 k; 10 nF; 10 kHz
2.88 R1 = 10 k; R2 = 100 k; C2 = 15.9 pF; 2 MHz
2.92 R1 = 2 k; R2 = 200 k; C = 79 pF; 20 kHz
2.94 7.3 mV
2.96 27 mV; 30 mV
2.98 (a) 100 nA into the amplifier; (b) −5 mV; (c) 10 nA
2.100 1.01 k; 100 k; 100 k; 15.8 nF; 1.6 nF
2.102 609 mV; 303 mV; 9 mV
2.104 (a) 0.2 V; (b) 0.3 V; (c) 10 k; 20 mV; (d) 0.12 V
2.106 (a) 9.9 k; (b) 0.222 V
2.108 200,000 V/V; 100 Hz; 20 MHz
2.110 (a) 50 Hz; 10 MHz; (b) 100 Hz; 20 MHz; (c) 10 kHz; 18 MHz; (d) 1 MHz; 1 GHz;
(e) 2.5 kHz; 500 MHz
2.112 800 kHz; 84 kHz; 7.6 MHz
2.114 10 V/V
2.116 183 MHz
2.121 100 mV
2.124 4 V/μs
2.126 6.37 MHz
2.127 (a) 318.3 kHz; (b) 0.795 V; (c) 2 MHz; (d) 1 V
Chapter 3
3.2 2.2 × 10
6 cm
−3
3.4 2 × 10
18 cm
−3; 112.5 cm
−3
3.7 (a) 11.4 × 10
9 ; (b) 5 k; (c) 50 ; (d) 15.63 k; (e) 0.14 
3.9 8 μm
3.11 0.864 A/cm
2
3.13 778 mV; 0.2 μm; 0.1 μm; 0.1 μm; 1.6 × 10
−15 C
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.4
Appendix L
Answers to Selected Problems
3.15 0.8 pC
3.17 59.6 mV
3.20 0.626 μm; 9.1 × 10
−15 C
3.23 1.57 × 10
−17 A; 1.88 mA
3.24 4.46
3.26 10.42 mA; 41.7 mA
3.28 0.23 pF
3.30 0.25 pF; 64.8 ps
Chapter 4
4.1 (a) 0 A; −1.5 V; (b) 0.75 A; 0 V
4.3 (a) 2 V; 5.5 mA; (b) 1 V; 4 mA
4.7 (a) 0 V; 2 mA; (b) −1.5 V; 0 mA
4.9 4.2 k; 169.7 V
4.11 25 mA; 12.5 mA
4.14 V = +3 V ⇒red ON, green OFF; V = 0 V ⇒red OFF, green OFF; V = −3 V ⇒
red OFF, green ON
4.15 −7 V ≤vI ≤8 V
4.17 1.95 A; 10 V
4.19 0.461 V; 1.45 × 10
12IS
4.21 1.49 mA; 54.6 mA; 0.67 mA; 18.3 μA; 17.3 mV
4.23 (a) 6.91×10
−15 A; 73.8 mA; (b) 6.91×10
−16 A; 7.38 mA; (c) 1.27×10
−13 A; 1.36 A;
(d) 6.91 × 10
−17 A; 0.738 mA; (e) 3.78 × 10
−16 A; 4.04 mA
4.25 Decrease by 17.3 mV
4.27 87.7 mV; 5.16 mA
4.31 50
◦C; 6 W; 8.33
◦C/W
4.33 230 mV independent of current and temperature
4.35 0.664 V
4.38 (a) 0.767 mA; (b) 5.3 × 10
−16 A; (c) 0.805 mA
4.41 (a) −4.3 V; 0.93 mA; (b) 5 V; 0 A; (c) 4.3 V; 0.93 mA; (d) −5 V; 0 A
4.43 (a) 1.3 mA; 0 V; (b) 0 mA; −1.675 V
4.45 4.23 k; 169.7 V
4.47 14.71 V; 3.61 V
4.49 +22.1 % or −18.1 %; +2.38 mV or −2.63 mV
4.53 0 V/V; 0.001 V/V; 0.01 V/V; 0.1 V/V; 0.5 V/V; 0.6 V/V; 0.9 V/V; 0.99 V/V
4.54 (a) 0 V/V; 0.167 V/V; 0.667 V/V; 0.952 V/V; 0.995 V/V; 0.9995 V/V; (b) |vD| <
2.5 mV; I ≥5 μA; (c) 1 V; 1.005 V; iD1 = iD4 = 0.45 mA; iD2 = iD3 = 0.55 mA
4.59 470 ; 7.39 mA; 11.09 mW; 1.5 mW; +6.8 mV; −3.4 mV; −6.8 mV; −13.6 mV
4.62 47.6 mV
4.64 (a) 9.825 V; (b) 207 ; (c) 33 mV/V; ±1.65%; (d) −6.77 V/A; −1.35%; (e) 70.9
mA; 732 mW
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.5
4.67 0.441 V
4.69 13.44 V; 48.4%; 8.3 V; 16.6 mA
4.71 (a) 10.1:1; (b) 4.2:1; (c) 8.2
4.73 30.4 V (45 V with 1.5× safety factor)
4.75 (i) 333.3 μF; (ii) 3333 μF; (a) (i) 12.77 V; (ii) 13.37 V; (b) (i) 7.1%; (ii) 2.24%;
(c) 384 mA; (ii) 1214 mA; (d) (i) 742 mA; (ii) 2.4 A
4.78 (a) 9.7 V; (b) 542 μF; (c) 25.7 V (38.5 V with 1.5× safety factor); (d) 739 mA;
(e) 1.42 A
4.81 10.74 V; 23.5 μs; 4.913 A
4.83 (a) 1 V; 2 V; 2.7 V; (b) 3 V; 6 V; 6.7 V; (c) 0 V; 0 V; −13 V; (d) 0 V; 0 V; −13 V
4.86 −7.07 V
4.89 0.70 V < VR < 2.87 V
4.91 (a) 80 Ω; (b) 120 Ω
Chapter 5
5.2 0.16 fC
5.4 (a) 0.5; (b) 0.5; (c) 1.0; (d) 0.5
5.5 1.3 V to 0.62 V; 1.3 µm
5.7 1.85 µm
5.10 (a) 8.625 × 10
−3 pF/µm
2, 388 µA/V
2; (b) 0.2 V, 0.7 V, 0.2 V; (c) 0.39 V, 0.89 V
5.13 96.2 , 19.2 mV; 80
5.16 1.5 V; 500  to 100 
5.18 2 mA/V
2, 0.4 V
5.19 1.07 µm
5.20 0.4 V; 5; 0.25 mA; 0.6 V, 0.45 mA
5.22 2.5 k to 125 ; (a) 5 k to 250 ; (b) 1.5 k to 62.5 ; 2.5 k to 125 
5.28 (a) 2%; (b) 4%
5.29 100 k, 20 V, 0.05 V
−1
5.32 109 µA; 9%; double L to 2 µm
5.35 15 V; 1.5 µm
5.37 8 µA; 12 µA; 13.13 µA; 13.75 µA; 15 µA
5.40 1.6 V, saturation region; 0.4 V, triode region
5.44 0.045 mA, 20 k, 10 k; 31.1 k
5.47 8 k
5.49 2.25 µm, 0.56 µm, 4 k
5.51 0.454 mA, +7.28 V; circuit is quiet tolerant to variations in device parameters.
5.53 44.4, 1.25 k
5.55 (a) −0.6 V; (b) −0.816 V; (c) −1.5 V; (d) +0.6 V; (e) +1.5 V; (f) +0.6 V;
(g) +1.5 V; (h) −0.6 V
5.58 (a) 360 µA, 1 V; (b) 160 µA, 0.8 V; (c) 1 V, 360 µA
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.6
Appendix L
Answers to Selected Problems
5.60 (a) 0.5 V, 0.5 V, −0.723 V; (b) 0.4 V, 0.6 V, −0.745 V
5.62 488 million transistors
5.63 1 V to 1.69 V; 3.74 V
5.68 0.3 mA, 0.416 mA, 0.424 mA, 0.48 mA; each current value is doubled; for vDS = 2 V,
iD = 0.408 mA, for vDS = 3 V, iD = 0.412 V, for vDS = 10 V, iD = 0.44 mA
Chapter 6
6.2 3.7 × 10
−17 A; 1.87 × 10
−16 A; 5:1
6.4 0.276 V
6.7 0.18 mA; 0.605 V
6.12 0.5 mA →2mA; 0.51 mA →2.01 mA; 20 mW
6.14 990 µA, 99, 0.99; 980 µA, 49, 0.98; 950 µA, 19, 0.95
6.18 437 k; 8 k
6.22 −1 V; 0.41 mA; −0.668 V
6.25 238 mA; 6 × 10
−14 A; 87 times
6.28 (a) 1 mA, −0.7 V; (b) −2 V; (c) 1 V, 1 mA; (d) 0.77 mA, −2 V
6.30 2.3 k; 20; 100; 200
6.34 RE = 1.62 k, RC = 3 k
6.39 (a) 632 mV; (b) 0.69 mA, 5.77 mA
6.42 0.1 mA, 0.11 mA; −8.16 V; +22 mV/
◦C; −7.06 V
6.43 200 k; 100 V; 20 k
6.47 100; 80; 1.18 mA
6.48 (a) 1.3 V; (b) 1.64 V; (c) 5.5 V
6.51 (a) 1.3 V, 3.7 V; (b) 1 V, 4 V; (c) 0 V, 5 V
6.53 −1.7 V, +1.7 V; −0.7 V, +0.7 V; +0.3 V, −0.3 V; −1.17 V; −1,5 V; −2 V, +2 V;
0.55 V; −0.15 V, +0.15 V; 1.08 V
6.55 R1 = 35 k, R2 = 15 k; 0.078 mA; 4.22 V
6.56 0.3 V; 0.003 mA; 0.15 mA; 0.147 mA; −1.03 V; 49; 0.98
6.58 +0.41 V, +1.11 V; −1.15 V; +1.2 V, +1.9 V, −1.9 V; 204
6.60 1.86 V, 1.16 V, 1.85 V; 2.14 V, 1.44 V, 1.64 V; 2.4 V, 1.7 V, 1.9 V
6.62 (a) −0.915 V, +1.218 V; (b) +1.258 V, 0.49 mA; (c) −0.9 V, −0.2 V, +1.4 V;
(d) +1.7 V, −0.9 V; (e) +1 V, +1.7 V, −0.9 V
6.63 50 k, 4 k, 4 k; 0.85 mA to 0.98 mA with 0.95 mA nominal; −1.6 V to −1.1 V
with −1.2 V nominal.
6.64 1.74 k; transistor saturates and VC = 2.8 V
6.66 (a) 0 V, +0.7 V, −0.725 V, −1.425 V, +1.1 V; (b) +0.23 V, +0.93 V, −1 V, −1.7
V, +1.47 V
6.68 (a) 0 V, 0 V; (b) −1.8 V, −1.1 V; (c) +2.2 V, +1.5 V; (d) +3 V, 2.3 V
6.69 (a) +0.8 V, 2.3; (b) +2.07 V, 3.2; (c) VC3 = 2.044 V, VC4 = 1.54 V, βforced3 = 0.8,
βforced4 = 6.4.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.7
Chapter 7
7.1 A: (0.5 V, 3 V); B: (0.69 V, 0.19 V)
7.2 12 k; 6 k
7.4 0.214 V; 0.716 V
7.6 0.5 V; 8
7.10 −80 V/V; 0.7 V; 8.8 mV
7.12 0.75 V; 0.45 V; −90 V/V
7.15 −40 V/V
7.19 (a) 108 V/V; (b) 1.5 V; (c) 3 k; (d) 0.673 V; (e) 0.3 V; (f) 0.1 sin ωt, mA;
(g) 0.005 mA, 0.001 sin ωt, mA; (h) 5 k
7.24 (a) 0.1 mA, 0.5 V; (b) 1 mA/V; (c) −15 V/V; (d) −0.225 sin ωt, V, 0.275 V, 0.725 V;
(e) 1.9%
7.25 (a) 0.2 mA, 0.44 V; (b) 2 mA/V; (c) −13.6 V/V; (d) 25 k, −10.7 V/V
7.27 (a) 2 mA/V, 20 k; (b) 2.9 mA/V, 10 k
7.29 12 k; 10 µm; 0.75 V
7.31 −26.1 V/V; 1.25 V, −38.3 V/V
7.32 NMOS: 0.91 mA/V, 25 k, 0.22 V; PMOS: 0.447 mA/V, 30 k, 0.447 V
7.36 16 mA/V, 6.25 k, 61.9 ; 1.6 mA/V, 62.5 k, 618.8 
7.37 20 mA/V; 50 ; 5 k; 0.5 V
7.38 0.5 mA; 80
7.48 0.5 V; 100 ; 100 V/V
7.49 0.005 V, 0.001 mA
7.54 1 V; 5 k; 3.33 k; −30.8 V/V, 9.7 mV; 7.5 mV
7.55 VA = 20 V: −800 V/V; VA = 120 V: −4800 V/V
7.57 17.2 k; 18 k; 90 V/V
7.59 82.6 V/V; 9086 A/A
7.60 190 k; 111 V/V; 55.6 
7.61 1000 V/V; 250 V/V
7.64 −20 V/V
7.66 1.5 mA/V; 0.15 mA; −7.5 V/V
7.68 10 k; 10 k; −160 V/V; −80 V/V; −40 V/V; 10 mV; 0.4 V
7.71 200 
7.73 5 mA/V; 4 k; 50 
7.75 600 ; 0.375 mA; −7.4 V/V; 0.74 V
7.77 0.2 k; 5.6 V/V; 0.64
7.79 0.5 mA; 25 V/V
7.81 8 V/V; 50 mV; 0.4 V
7.83 2.5 mA; 2.75 mA; 2.25 mA; 0.55 V
7.85 (a) 20.7 k, 0.67 V/V, 0.65 V/V; (b) 0.615 V, 0.4 V; (c) 1 V/V, 104 , 0.59 V/V
7.87 1 V/V; 105 ; 0.9 V/V
7.91 27.5 V/V, 41.2 V/V, 55.6 V/V, 57.1 V/V, 55.6 V/V; 0.325 mA
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.8
Appendix L
Answers to Selected Problems
7.92 22 M; 18 M; 15 k; 15 k; 2.7 V above
7.94 5.07 V; 1.27 mA to 2.48 mA; 620 ; 0.91 mA to 1.5 mA
7.96 2 V; 2.4 V; 1.2 mA
7.97 RS = 5 k; RD = 7.5 k
7.101 (a) 1.25 V; (b) 1.85 V
7.102 9.5 k
7.103 1.3 k; 1.7 M; 13 M
7.106 6.2 k; 6.2 k; 100 k; 75 k; 3.6 V; 2.9 V; 6.1 V; 0.46 mA
7.107 6.2 k; 6.2 k; 100 k; 82 k; 0.5 mA; 0.49 mA; 3.8 V; 6 V
7.109 RE = 1.5 k; RC = 2.4 k; RB = 7.5 M; β = ∞: 0.52 mA, 0 V, 0.25 V; β = 50:
0.48 mA, −0.07 V, 0.35 V
7.111 RC = 3.3 k; RB = 120 k; 0.56 mA, 0.85 V
7.113 0.505 mA; 160 k
7.116 4.6 k; +0.4 V
7.117 −26.7 V/V
7.119 (a) 3 k; (b) 3 k; (c) 0.135 V, 1.62 V; (d) 4.6 k, −18.4 V/V
7.121 (a) 9.5 k; (b) 12.5 k; 10 M; (b) 2 mA/V, 100 k; (c) −9.6 V/V; (d) 0.946 V/V,
473 ; (e) 0.6 V
7.125 0.47 mA; 4.7 k; −30.4 V/V
7.128 RB = 91 k; RC = 22 k; 0.2 mA; −176 V/V, −29.7 V/V
7.129 (a) 11.5 k; (b) 12.5 k; (c) −31.7 V/V
7.131 27.5 k; −9.8 V/V; 20.5 mV; 0.2 V
7.135 163.4 k; 0.6 V/V; 52.9 A/A; 789 
7.136 (a) 1.7 mA, 68.4 mA/V, 0.0145 k, 1.46 k; (b) 148.3 k, 0.93 V/V; (c) 18.21 k,
0.64 V/V
7.137 (a) 0.1 mA, 5 mA, 1.5 V, 0.8 V; (b) 0.995 V/V, 101.5 k; (c) 456 k, 0.9975 V/V;
(d) 0.82 V/V; (e) 0.814 V/V
Chapter 8
8.2 66 k; 6 µm; 0.2 V; 40 k; +5 µA
8.5 0.2 V; 100 µA; 0.2 V; 27 k; 81.5 µA; 100 µA; 118.5 µA; 137 µA
8.7 5 µm; 20 µm; 12.5 µm; 3.125 µm; 6.25 µm; 15 k; 37.5 k; 30 k
8.10 0.01 mA; 5%
8.14 1.013 mA; 2.28 k; 2.7 V; +0.15 mA
8.16 (a) I = 0.4 mA; (b) I = 0.04 mA; (a) and (b): V1 = −0.7 V, V2 = +2 V, V3 = +0.7 V,
V4 = −0.7 V, V5 = −1.7 V,
8.19 1.187 V; 0.113 V; 99.98 µA; 0.9998 mA, −0.02%; 0.3 V
8.23 20 µm; 80 µm; 0.8 µm; −0.6%
8.24 vo/vi = gm1RL (W3/W2)
8.26 (a) 800 ; (b)125 
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.9
8.28 10 k; −1200 V/V; 60 k; 0.1 mA; −1200 V/V; 300 k; −400 V/V
8.29 40 V/V; 0.1 mA; 5 µm
8.31 0.5 µm; 12.5; 0.1 mA
8.33 0.25 mA; 2 mA/V
8.35 2 mA/V; 13.5 k; 27 V/V; 14 µm
8.37 0.146 mA
8.40 40 V/V; 5.6 µm; 0.67 mA/V; 60 k
8.41 0.75 V; 17.4; 69.4; −14.5 V/V
8.44 (a) 0.95 V, 0.475 µA, 2.4 V; (b) −86 V/V, 1.93 V, 22 mV; (c) 33.9 k
8.46 50 µA; 4; 16, 16
8.48 (a) 0.125 mA, 0.125 mA; (b) −999 V/V; (c) −74.1 V/V, 13.3 k; (d) −29.6 V/V;
(e) −0.5 V to +0.5 V
8.49 (a) 0.2 mA; (b) 100 k, 100 k, 50 k; (c) 6.25 k, 8 mA/V; (d) 6.25 k,
−400 V/V, 50 k
8.50 21 k; 0.976 A/A; 840 k; 20.5 V/V
8.52 40 V/V; 0.6 µm
8.54 252 k
8.56 1.4 k; 0.98 A/A; 10.2 M; 35.7 V/V
8.59 0.1 mA; 12.2 M; 0.16 µA
8.62 2 V; 0.5 µm
8.63 −1600 V/V
8.66 0.32 µm; 39.1; 0.7 V; 0.225 mA; 0.3 V
8.68 1.6 mA/V; 640 k; 640 k; 320 k; −512 V/V
8.71 0.2 V; 0.5 V to 0.8 V
8.75 1.24 M
8.78 −3.2 × 10
4 V/V
8.80 360 µA; 2.4 mA/V; 0.48 mA/V; 15 k; 0.8 V/V; 0.33 k; 0.72 V/V
8.81 0.68 V; 1.1 M
8.84 5 M; +0.2 µA; +0.1%
8.88 0.56 V; 1.12 V; 0.72 V
8.93 (a) 58.5 k; (b) 100 M
Chapter 9
9.1 (a) 0.2 V, 0.6 V; (b) −0.6 V, 0.08 mA, 0.08 mA, +0.6 V, +0.6 V, 0 V; (c) −0.2 V,
0.08 mA, 0.08 mA, +0.6 V, +0.6 V, 0 V; (d) −0.7 V, 0.08 mA, 0.08 mA, +0.6 V,
+0.6 V, 0 V; (e) 1.0 V; (f) −0.8 V, −0.2 V; (g) −0.2 V to 1.0 V
9.4 −0.283 V to +0.283 V; At vid = −0.283 V: vS = 0.4 V, vD1 = −0.1 V, vD2 = −0.9 V,
vO = −0.8 V; At vid = +0.283 V: vS = +0.683 V, vD1 = −0.9 V; vD2 = −0.1 V,
vO = +0.8 V
9.7 0.365; 15; 1.1 mA/V
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.10
Appendix L
Answers to Selected Problems
9.9 0.177 V; 400 µA
9.11 (a) 0.1VOV; (b) 0 V, 0.338VOV, 0.05VOV, 0.005VOV; 1.072VOV
9.13 0.25 V; 0.5 mA; 5 k; 40
9.15 0.14 V; 0.25 mA; 4.4 k; 25.5
9.16 (a) 0.426 mA/V; (b) 85 µA; (c) 2 V; (d) 0.1 V; (e) 2.11 V
9.18 2×
9.23 4 k; 50, 50, 100, 12.5, 12.5, 100, 25; 0.1 mA, 0.1 mA, 0.2 mA, 0.1 mA, 0.1 mA,
0.2 mA, 0.2 mA; 0.6 V, 0.6 V, 0.6 V, 0.6 V, 0.6 V, 0.6 V, 0.6 V
9.26 −1.14 V; +1 V; +1 V
9.28 −0.56 V to +1.41 V
9.30 (a) −0.574 V, +0.4 V, +0.4 V; (b) −0.326 V to +0.674 V; (c) 5 mV
9.32 (a) VCC −I
2RC; (b) 1.5 V; (c) 0.2 mA, 7.5 k;
9.36 0.2 mA, 0.4 mA; 17.3 mV
9.38 4 mA/V; 80 k
9.39 0.2 mA; 20 k
9.42 Differential amplifier with a resistance Re in each emitter; I = 0.5 mA; Re = 1.9 k;
RC = 20 k
9.43 (a) 0.2 mA, 15 k, +1 V; (b) 50 k; (c) ±0.3 V; (d) 1.1 V
9.49 20 V/V
9.51 20 V/V
9.52 20 V/V; 101 k
9.53 20 V/V; 101 k
9.55 12 V/V; 6 × 10
−4 V/V; 86 dB
9.57 (a) 0.94 V; (b) 107 k; (c) 0.93 V; (d) −2.26 V/V; (e) 0.12 V
9.58 4%
9.59 1 µm; 102 dB
9.61 (a) 20 V/V; (b) 0.23 V/V; (c) 86.5; (d) −0.023 sin 2π × 60t + 0.2 sin 2π × 1000t, V
9.65 (a) 40 V/V; (b) 5 × 10
−3 V/V, 78 dB; (c) 1 × 10
−4 V/V; 112 dB
9.68 1%
9.69 2
3I in Q1 and 1
3I in Q3; 0.0125 V/V
9.72 8 mV; △Vt; 8%
9.73 1.6 mV, 1.6 mV, 4 mV; 7.2 mV; 4.6 mV
9.75 2 mV
9.79 1.25 mV
9.81 (a) 0.25; (b) 0.28
9.84 1.6 k; 0.8 k; 2 k
9.86 15 V/V
9.87 1.25 mA/V; 30 k; 30 k; 18.8 V/V
9.89 2.6 V
9.92 1 mA/V; 44.4 k; 44.4 V/V; 44.4 k;
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.11
9.94 25 k; 25 k; 8 mA/V; 200 V/V; 100 V/V
9.96 (a) +4 V; (b) +2.5 V; (c) +1.4 V; (d) +1.1 V
9.99 (a) 17.8, 17.8, 71.1, 71.1; (b) 0.6 µm; (c) −0.4 V to +0.65 V; (d) 77 dB
9.101 1 mA/V; 30 k; 30 V/V; 30 k; 0.984 k; 0.9836 A/A; 5.56×
−4mA/V; 0.0167 V/V;
65.1 dB
9.103 81 k
9.106 (a) | VOV | is reduced by a factor of 2 and gm increases by a factor of 20; (b) Both
increase by a factor of 20; (c) increases by a factor 2 (except for VOS due to △Vt).
9.107 120 µA; 455 mV; 0.73 mV
9.110 0.2 mA, 0.2 mA, 0.2 mA, 0.2 mA, 0.25 mA, 0.5 mA; 1.61 × 10
5 V/V
9.111 12.5 V/V; 40 k; 3300 A/A
9.113 R5; 7.37 k; reduced by a factor of 2; reduce R4 to 1.085 k.
9.115 (a) 0.52 mA, 1.04 mA, 2.1 mA, 0 V; (b) 4 k, 65.5 ; (c) 8770 V/V
Chapter 10
10.1 gm = 2.6 mA/V; gmb = 0.6 mA/V; ro = 50 k; Cgs = 23.7 fF; Cgd = 3.1 fF; Csb = 4.2
fF; Cdb = 3.4 fF; fT = 15.4 GHz
10.2 12.7 GHz
10.6 578.9 MHz; 5.79 MHz
10.10 0.22 pF; 20 mA/V; 6 k; 100 MHz
10.14 3.18 MHz
10.15 −40 V/V; 34.6 MHz; 127.3 GHz
10.18 100.1 pF; −
1000
1 + s Cin Rsig
;159 kHz; 159 MHz
10.21 259 kHz; −27.8 V/V; changing RL: RL = 6.17 k, | AM |= 12.4 V/V; changing Rin:
R
′
sig = 25 k, Rin = 33.3 k, | AM |= 13.9 V/V
10.22 −25 V/V; 49.7 MHz; 31.8 GHz
10.24 31.83 fF; 286.5 fF; 20 MHz
10.26 −25 V/V; 254.6 MHz; 31.8 GHz
10.27 61 pF; 522 kHz
10.30 −29.3 V/V; 988 kHz
10.33 1 M
10.37 (a) 0.54 mA; (b) 21.6 mA/V, 4.63 k; (c) −10.8 V/V; (d) 4 k, 2.14 k;
(e) −7.4 V/V; (f) 14.37 pF; (g) 16.3 MHz
10.40 39.8 MHz; 159 GHz
10.41 −41.7 V/V; 140 kHz
10.43 −80 V/V; 10.1 pF; 788 kHz; 652 kHz; the second estimate is more appropriate as it
takes CL into account.
10.45 118 fF
10.48 −143 V/V; 3.2 MHz; 2.47 MHz; the second estimate as it takes CL into account.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.12
Appendix L
Answers to Selected Problems
10.49 −50 V/V; 479 kHz
10.50 8 V/V; 159 MHz; 5 MHz; 5 MHz
10.53 14.4 fF
10.54 31.8 MHz
10.56 −913 V/V; 5.76 MHz
10.58 0.2 V; 0.2 mA; 289.4 MHz; 57.9 MHz; −99 V/V; 2.9 MHz; 287.1 MHz
10.61 −50 V/V; 4 MHz
10.64 0.9 V/V; 200 ; 398 MHz; 33.4 MHz, 90.7 MHz; 31.6 MHz
10.68 27 k; 884 kHz; 0.33 mA/V
10.69 0.96 V/V; 2 GHz; 740 MHz, 4.6 GHz; 740 MHz
10.70 (a) 0.2 V, 1 mA/V; (b) 25 V/V; (c) 212 MHz; (d) 42.3 MHz
10.73 15.9 MHz; 40 MHz
10.76 25 V/V; 63.7 MHz; 3.18 GHz; 6.37 GHz
10.79 (a) −80 V/V, 8.9 MHz, 712 MHz; (b) −40 V/V, 16.6 MHz, 664 MHz
10.85 (a) 2.5 M, −4000 V/V; 107.6 MHz
10.86 20 V/V; 1.33 MHz, 19.9 MHz; 1.33 MHz
10.88 50 V/V; 4.6 MHz
10.89 (a) 2500 V/V; (b) 9.1 MHz
10.93 20 nF
10.95 8 µF; 89.5 Hz; 10 Hz
10.96 −15.8 V/V; 1.9 Hz; 87.5 Hz; 8 Hz; 10.8 Hz; 87.5 Hz
10.98 −31.6 V/V; CS = 7 µF; CC1 = 90 nF; CC2 = 0.4 µF; 90.9 Hz
10.99 CE = 5 µF; CC1 = 0.5 µF; CC2 = 0.5 µF; 92.2 Hz; 6 µF
10.101 CC1 = 0.8 µF; CC2 = 0.8 µF; CE = 9 µF
10.102 141.4
Chapter 11
11.1 100; 99; 9.9 × 10
−3; 99.89; 0.11%; 91.7; 8.3%
11.2 0.01; 100; 10
4
11.5 0.1; 990; 9.9
11.8 1500 V/V; 30 V/V; 50; 49; 0.0327
11.10 99; 9
11.12 2000 V/V; 0.0495 V/V
11.16 1000 V/V; 0.099 V/V, 1961 V/V
11.19 100 kHz; 0.099 V/V
11.21 Three stages each with a closed-loop gain of 10 V/V and β = 0.099 V/V
11.22 0.089 V/V; for | vS |≤0.45 V, vO/vS = 11.1 V/V, for 0.45 V ≤| vS |≤0.95 V,
△vO/ △vS = 10.1 V/V, and for | vS |≥0.95 V, vO = ±10 V
11.24 90 k; 100; 9.9 V/V; 91 k
11.26 (a) 4 k; (b) 37.1, 4.87 V/V
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.13
11.28 (a) 0.9 k; (b) 31.33, 9.7 V/V, −3%, make RF = 933 
11.29 (a) 1 + R2
R1
= 11 V/V; (b) 0.1 mA, 0.3 mA, +7.7 V; (c) 23.2; (d) 10.55 V/V
11.30 (a) 0.95 k; (b) 22.22, 19.1 V/V
11.32 9.95 V/V; 402 k; 10 
11.35 10 V/V; 1.001 M
11.38 (a) 1 + R2
R1
= 11 V/V; (b) 0.1 mA, 0.3 mA, +7.7 V; (c) A = β
RL∥(R1 + R2)
Rs + re1 + R1∥R2
β + 1
=
255.3 V/V, Ri = Rs + re1 + R1∥R2
β + 1 = 0.359 k, Ro = RL∥(R1 + R2) = 0.917 k; (d)
β =
R1
R1 + R2
= 1/11; (e) 10.55 V/V, 8.59 k, 39.4 , 4% less
11.40 (b) 0 V, 0 V; (c) A = gm1,2 (ro2∥ro4∥R22) = 47.62 V/V; (d) 821 k, 179 k; (e) 5 k;
(f) 3.33 V/V; (g) 3.33 V/V
11.42 (b) 80 k; (d) 928.5 V/V; (e) 0.2 V/V, 186.7; (f) 4.97 V/V; (g) 19.98 M; (h) 2.66 ;
(i) 18.67 kHz; (j) −0.47%
11.44 0.1 V/mA; 9.9 mA/V; 1.01 M; 0.99 
11.45 (a) 1/RF; (b) 100 ; (c)
μRF
1
gm
+ RF
; (d) 166.7, 1667 mA/V; 9.94 mA/V
11.48 4.87 mA/V; 1.11 M; 4.1 M
11.49 100 ; 497 V/V; 9.94 mA/V
11.52 (a) Af

ideal = 1
RS1
+ 1
RS2
+
RF
RS1RS2
, 800 ; (b) 0.01 V/mA, 90 , 90 ; (c) 5951 mA/V;
(d) 60.51, 98.3 mA/V, 1.7% lower, increase RF; (e) 29.1 k, 1.76 M
11.53 (a) 800 ; (b) 0.01 V/mA; (c) 90 , 90 ; (d) 1.687µ mA/V; (e) 5868 V/V;
(f) 99 mA/V; (g) 10 M, 2.37 M
11.58 (a) 0 V, +0.6 V, +0.6 V; (b) 1/RF, 0.1 mA/V; (c) 0.099 mA/V; (d) 202 M;
(e) 0.99 V/V, 1.26 
11.60 0.94 V/mA; 28.3 ; 21.1 
11.62 (a) −RF/Rs, 100 k; (b) −9.89 V/V, 100.9 , 11 ; (c) 180.2 kHz
11.65 (a) +0.5 V, +1.0 V, +0.5 V; (b) 4 mA/V, 20k; (c) A=−gm1ro1RF
RF∥ro2
(RF∥ro2) + 1/gm2
;
(d) −1/RF; gm1ro1
RF∥ro2
(RF∥ro2) + 1/gm2
; (e) −
gm1ro1RF(RF∥ro2)
(RF∥ro2) + 1/gm2 + (gm1ro1)(RF∥ro2) ;
(f) RF, RF/

1 + gm1ro1
RF∥ro2
(RF∥ro2) + 1/gm2

,

RF∥ro2∥1
gm2

,

RF∥ro2∥1
gm2


1 + gm1ro1
RF∥ro2
(RF∥ro2) + 1/gm2

; (g) −1561 k, −0.05 mA/V, 78 −19.8 k, 20 k,
244 , 253 , 3.1 
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.14
Appendix L
Answers to Selected Problems
11.67 (a) +0.75 V; (b) −456 k, 3.33 k, 119 ; (c) −0.1 mA/V, 45.6, 46.6;
(d) −9.79 k, 71.5 , 2.6 
11.68 20 k; −19 k; 24;; 488 
11.70 (a) 100 µA, 60 k, 30 k, 12.5 12.5, (b) −R2/Rs, −1/R2; (c) 6 k; (d) −404 k,
4.62 k, 875 ; (e) −4.65 V/V; (f) 337 , 61 
11.72 10 k; 990 k; −1020 V/V; 1.02 G
11.74 (a) +0.7 V; (b) −5 A/A, −0.2 A/A; (c) 2 mA/V, 50 k; (d) 17.5 k, −525.8 A/A,
332.8 k; (e) 105.16, −4.95 A/A; (f) 164.8 , 35.3 M
11.80 (a) 0.865 mA, 0.77 mA; (c) 3.94 A/A, 3.47 A/A; (d) −0.254 A/A; (e) −216.3 A/A,
1.68 k, 2.67 k; (e) 54.9, 55.9, −3.87 A/A, 30.1 , 149.2 k; (g) 30.2 , −3.41
A/A, 9.17 M
11.81 10
4 rad/s; 0.02; 50
11.83 1.095 × 10
5 rad/s; 2.42 × 10
−3
11.84 10
4 V/V; 1 MHz; 10 MHz; (1 + A0β)
11.87 0.049; 980 kHz; 700 kHz
11.89 2; 173.2 kHz
11.91 3.085 × 10
3 Hz; 18.15
◦; 10
−3; 60 dB
11.93 87.6 dB; 81.8 dB
11.96 200 Hz
11.98 (a) 10 kHz; 100 Hz
Chapter 12
12.2 −1.1 V < vO < 1.91 V; −1.6 V < vI < 3 V;
12.4 R = 152; Av = 0.998,0.996,0.978 V/V; 2%
12.7 VCCI
12.9
ˆV; ˆV/RL; 25%
12.10 2.5 V
12.12 4.5 V; 6.4%; 625 Ω
12.14 10 V; 6.37 V; 2.74 Ω, 18.25 W; 3.86 Ω, 3.24 W
12.18 1.382 V; 12.5 Ω; 0.889 V/V; 0.998 V/V
12.20 4.9 mA
12.23 1.35 mA; −1.05 V; +4 V; −6 V
12.25 1.96 mA; −10 V < vO < 5.1 V; 99; 3.92 mA; 3.84 mA
12.27 −gm3βRL
12.30 1.34 kΩ; 1.04 kΩ
12.32 60.2 Ω
12.36 (a) 9.1 mA; 0 mA; 0 V; (b) 220 Ω; 0.93 V/V; 1.51 Ω
12.38 (a) 0.0144 mA; 1.44 mA; (b) −43.6 V/V; (c) 137.1 kΩ
12.41 (a) 30.5 V; (b) 246.8/RL; 881.8/RL
12.43 4.3 Ω; 325 mV; 4.4 nA
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.15
12.45 35 mA; 5 mA
12.47 10 Ω
12.50 (a) 533.3; 1333.3; (b) 10 V/V; (c) 5%; (d) ±1.85 V; (e) +0.3 V; −0.3 V; (f)
−1.77 V ≤vO ≤+1.77 V
12.52 +4 V; −4 V
12.54 2 W; +5 V; 3 W; +5 V; 600 mA; 30 V
Chapter 13
13.1 −0.8 V ≤VICM ≤+0.2 V; −0.8 V ≤vO ≤+0.8 V
13.3 0.15 V
13.6 0.8 pF; 477.5 MHz; 477 MHz
13.8 3.18 pF; 0.1 mA; 0.3 mA
13.10 3.2 pF; 30 MHz
13.12 62.8 V/μs; 1.6 pF
13.14 11.4 MHz
13.16 636 kΩ
13.18 318.3 kHz; 8.0 MHz
13.20 (a) 1 pF; (b) 0.41 pF
13.23 (a) 0.16 V; (b) 2 pF; (c) 78.1
13.25 (b) 0.45 μm
13.27 +0.3 V; +0.45 V; −0.45 V; −0.3 V ≤VICM ≤+1.25 V; −0.3 V ≤vO ≤+0.7 V
13.29 1 mA/V; 833 kΩ; 833 V/V; 9.88 V/V; 10 kΩ
13.31 I/CL
13.36 (a) −0.25 V ≤VICM + 1.3 V; (b) −1.3 V ≤VICM + 0.25 V; (c) −0.25 V ≤VICM +
0.25 V; (d) −1.3 V ≤VICM + 1.3 V
13.38 0.176CL
13.40 6.93 kΩ; 40 kΩ; 40 kΩ
13.43 1.8 kΩ
13.45 A7 = 3A3; A8 = 10A3; R3 = R4 = 6.67 k; R7 = 2.22 k; R8 = 667
13.47 (a) 0.1 V ≤VICM ≤2.2 V; (b) 0.8 V ≤VICM ≤2.9 V
13.50 125 kΩ; 95.4 V/V
13.52 (b) 367.3; (c) 6.75 mV
13.56 2
13.58 190 ≤βN ≤211
13.60 105.3 dB
13.63 50 μA
13.65 R1 = 5.76k; R2 = 6.22k; 521 Ω
13.67 (a) 0.1 V ≤vO ≤2.9 V; (b) 20 kΩ; (c) 0.2 Ω; (d) 12.3 mA; 0.3 mA; 1.6 kΩ;
(e) 12.3 mA; 0.3 mA; 2.4 kΩ
13.70 10.6 μA; minimum current is 0.3 mA
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.16
Appendix L
Answers to Selected Problems
Chapter 14
14.2 (a) 0.995 V, −5.7
◦; (b) 0.707, −45
◦, (c) 0.1 V, −84.3
◦; (d) 0.01 V, −89.4
◦
14.4 1 V/V; 0.944 V/V; 0.0001 V/V
14.5 0.59 dB; 60 dB; 1.2
14.7 0.509 rad/s; 3 rad/s; 5.89
14.10 3; low-pass;
0.3125(s
2 + 4)
(s + 1)(s2 + s + 1.25)
14.12 4;
4.512 × 10
5s
2
(s2 + s 103 + 106)(s2 + s 102 + 1.44 × 106)
14.13
0.17(s
2 + 6.25)
s2 + 0.5 s + 1.0625 ;0.17
14.15 1/(s
3 + 2 s
2 + 3 s + 2); All zeros at s = ∞; Poles: s = −1, s = −0.5 ± j1.323
14.18 10
9/(s
2 + s 1.414 × 10
4 + 10
8)
14.21 0.64(s
2 + 1.5625 × 10
8)
s2 + 5 × 103 s + 108
;0.64
14.26 (a) 1 rad/s, 1/
√
2, 12.3 dB; (b) 0.8427 rad/s, 1.3, 17 dB
14.28
s
2
s2 + s + 1; 1 rad/s; 1
14.32 42.1 dB
14.34 7; 23.15 dB, 0.25 dB
14.36 7; Poles: ω0 = 2π × 10
4 rad/s, Q1 = 2.247, Q2 = 0.802, Q3 = 0.555, real pole at
s = −2π ×10
4;
ω
7
0
(s2 + s
ω0
2.247 + ω2
0)(s2 + s
ω0
0.802 + ω2
0)(s2 + s
ω0
0.555 + ω2
0)(s + ω0)
;
66.8 dB
14.39 45.3 dB
14.40 Peaks: 0.95 ωp, 0.59 ωp, 0; Valleys: ωp, 0.81 ωp, 0.31 ωp
14.42 (a) 10, 4 dB;
(b) p1,10 = ωp(−0.0224 ± j0.9978),
p2,9 = ωp(−0.0651 ± j0.9001),
p3,8 = ωp(−0.1013 ± j0.7143),
p4,7 = ωp(−0.1277 ± j0.4586),
p5,6 = ωp(−0.1415 ± j0.1580);
7.60 × 10
40
(s2 + s 0.0448 ωp + 0.9961 ω2
p)(s2 + s 0.1302 ωp + 0.8144 ω2
p) ×
1
(s2 + s 0.2026 ωp + 0.5205 ω2
p)(s2 + s 0.2554 ωp + 0.2266 ω2
p)
1
(s2 + s 0.2830 ωp + 0.0450 ω2
p)
14.44 2 nF, 12.5 mH
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.17
14.46 (a) C1/(C1 + C2), C1/(C1 + C2), no zeros; (b) 0, C1/(C1 + C2), zero at s = 0;
(c) L2/(L1 + L2), L2/(L1 + L2), no zeros; (d) 0, L2/(L1 + L2), zero at s = 0
14.51 Vo =
s
2Vy + s
ω0
Q

Vz + ω
2
0Vx
s2 + s
ω0
Q

+ ω2
0
14.52 R1 = R2 = R3 = R5 = 10 k; (a) C4 = 0.1 µF; (b) C4 = 10 nF; (c) C4 = 1 nF
14.56 First-order section: T1(s) = 2 × 10
4
s + 104 , R1 = 50 k, R2 = 100 k, C = 1 nF;
Second-order section: T2(s) =
2 × 10
8
s2 + s 10
4
1.618 + 108
, C = 1 nF, R = 100 k, R6 =
1.61.8 k, K = 2; Second-order section: T3(s) =
2.5 × 10
8
s2 + s 10
4
0.618 + 108
, C = 1 nF,
R = 100 k, R6 = 61.8 k, K = 2.5
14.59 R = 2 k, C = 796 pF, R6 = 200 k
14.60 (a) T(s) =
0.4508 × 10
5(s
2 + 1.6996 × 10
10)
(s + 0.7294 × 105)(s2 + s 0.2786 × 105 + 1.0504 × 1010)
(b) First-order section: R1 = R2 = 13.71 k, C = 1 nF, Second-order section: R1 =
R2 = R3 = R5 = 9.76 k, C61 = 618 pF, C62 = 382 pF, R6 = 35.9 k, K = 1
14.61 C = 10 nF, R = 5.31 k, R1 = 10 k, Rf = 10 k, R2 = 1 k, R3 = 119 k,
K = 1.983, gain = 119 V/V
14.64 R = 1/ω0C; R1 = ∞, C1 = GC, R2 =
 R
G
 ω0
ωn
2
, R3 = ∞
14.68 C1 = C2 = 10 nF, R3 = 12.73 k, R4 = 200 , gain = −32 V/V
14.72 Second-order section: R1 = R2 = 10 k, C3 = 492 pF, C4 = 5.15 nF; Second order
section: R1 = R2 = 10 k, C3 = 1.29 nF, C4 = 1.97 nF; First-order section: R1 = R2 =
10 k, C = 1.59 nF
14.73 100 M; 20 M; 10 M; 2 M; 1 M
14.77 0.1 pF; 0.1 pF; 0.1414 pF; 0.1 pF
Chapter 15
15.1 ω0; 1/A
15.3 (a) 100 pF; (b) 50 k; (c) 0.001
15.5 0.6 mA/V; 15.92 MHz
15.8 s
2 + s 1
CR

2 −r2
r1

+
1
C2R2 ;2;1/CR
15.10 2.55 V
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

L.18
Appendix L
Answers to Selected Problems
15.11 0.125%; 0.042%
15.14 0.878/CR
15.16 6.6 k, 6.6 k; ˆV0 = 1.05 V
15.19 7.88 V
15.20 C = 1.59 nF; 8.6 kHz; change the shunt resistor to 7.5 k and R2/R1 to 2.35.
15.26 C = 1.59 nF; Rf slightly smaller than 20 k; R3 = 2.74 k; R4 = 10 k
15.28 4.97 k; 3.6 V; add a diode in series with each of the diodes in the limiter.
15.29 (a) 0; (b) 4.17 × 10
−3; (c) 1.39 × 10
−3; (d) 4.5 × 10
−3 or 0.45%
15.30 jω

−ω
2LC1C2 + (C1 + C2)
	
+

gm + 1
RL
−ω
2 LC2
RL

= 0;
ω0 = 1/

L
 C1C2
C1 + C2

;gmRL = C2
C1
15.33 L1 = 2.41 µH; L2 = 0.12 µH
15.35 C = 1.25 pF; gm = 2.7 mA/V
15.36 2.0165 MHz to 2.0173 MHz, an 800 Hz range.
15.37 30 k
15.43 (a) either +5 V or −5 V; (b) symmetric square wave of frequency f, lagging the sine
wave by 65.4
◦, having ±5 V swing; 0.1 V
15.44 9.518 kHz
Chapter 16
16.1 (a) 1.90 k (b) 10.26 k (c) 8.1
16.2 (a) 6.0 (b) 1.67 k
16.16 NMH = 0.5 V; NML = 0.4 V
16.18 NMH = 0.2VDD; NML = 0.3VDD; transition region width = 0.2 VDD; VDD = 1.25 V
16.20 VM = VIL = VIH = 0.9 V; VOL = 0 V; VOH = 1.8 V; NML = NMH = 0.9 V; gain = ∞
16.23 VDD = 1.0 V; RD = 31.6 k; W/L = 1.7; PD (high output) = 30 μW; PD (low output)
= 0
16.24 VDD = 1.2 V; RD = 27.6 k; W/L = 2.1; VIL = 0.435 V; VM = 0.6 V; VIH = 0.7 V;
NML = 0.385 V; NMH = 0.5 V
16.28 (a) Wp = 527 nm; area = 40,560 nm
2 (b) VOH = 1 V; VOL = 0 V; VIH = 0.5375 V;
VIL = 0.4625 V; NMH = NML = 0.4625 V (c) rDSP = rDSN = 1.9 k
16.31 3.5 mV; 15.4 mV
16.32 135
16.35 (a) 84 nm (b) VOH = 0.9 V; VOL = 0 V; VIH = 0.49 V; VIL = NMH = NML = 0.41 V
(c) rDSP = rDSN = 1.11 k (d) r = 0.816; VM = 0.43 V
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Answers to Selected Problems
L.19
Chapter 17
17.4 tPLH = 27.6 ps; tPHL = 13.8 ps; tP = 20.7 ps
17.5 (a) VOL = 0 V; VOH = 1.2 V; NML = NMH = 0.6 V (b) tPHL = 138 ps; tTHL = 440 ps
(c) tPLH = 138 ps; tTLH = 440 ps
17.7 (a) 475 ps (b) 400 ps; tP = 175 ps
17.9 (W/L)n ≥1.95; (W/L)p ≥7.8
17.11 293.3 ps
17.14 tPHL = 34.4 ps; tPLH = 42.6 ps; tP = 38.5 ps; fmax = 13 GHz
17.16 tPHL = tPLH = tP = 7.7 ps; 3.16 fF
17.17 S = 3; area increases by a factor of 3
17.23 (a) 0.54 V (b) 0.47 V
17.24 (a) x = 6.32; tP = 25.3 CR (b) n = 7; x = 2.87; tP = 20.1 CR
17.26 4.32 fJ; 54 W; 45 A
17.28 0.175 pF
17.30 0.188 pJ
17.35 (a) 0.184 to 0.216 mA (b) 46.3 to 54.3 ps
Chapter 18
18.2 0.834 V
18.4 25.8 ps
18.6 VOH = 0.59 V; VOL = 0 V; iDP(VOH) = 1.08 μA; tPLH = 51.6 ps; tPHL = 27.0 ps
18.7 (a) VDD (b) |Vtn| (c) 178 ps
18.11 64.3 ps
18.18 VM = 0.46 V; (W/L)5−8 = 1.42
18.23 4.5
18.24 (a) (1.64,0.385) (b) (3,0.5) (c) (3.69,0.538)
18.26 (W/L)5/(W/L)1 ≤0.397; W5 = 65 nm; W1 = 164 nm
18.29 (a) 3 (b) 4.93 ns (c) 3.33 ns
18.31 (W/L)p ≤3(W/L)a
18.34 1024 cells; 10 address rows; 12 bits
18.38 222 ps; 200 MHz
18.43 10 address bits; 1024 output lines; 20 input lines; 11,264 transistors
18.45 10 address bits; 10 levels of pass gates; 2046 transistors
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


ST-2
Summary Tables Supplement
Table 1.2
Frequency Response of STC Networks
Low-Pass (LP)
High-Pass (HP)
Transfer Function T(s)
K
1 + (s/ω0)
Ks
s + ω0
Transfer Function (for physical
frequencies) T(jω)
K
1 + j(ω/ω0)
K
1 −j(ω0/ω)
Magnitude Response |T(jω)|
|K|

1 + (ω/ω0)2
|K|

1 + (ω0/ω)2
Phase Response ∠T(jω)
−tan−1(ω/ω0)
tan−1(ω0/ω)
Transmission at ω = 0 (dc)
K
0
Transmission at ω = ∞
0
K
3-dB Frequency
ω0 = 1/τ; τ ≡time constant
τ = CR or L/R
Bode Plots
in Fig. 1.23
in Fig. 1.24
Table 2.1
Characteristics of the Ideal Op Amp
1. Infinite input impedance
2. Zero output impedance
3. Zero common-mode gain or, equivalently, infinite common-mode rejection
4. Infinite open-loop gain A
5. Infinite bandwidth
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Summary Tables Supplement
ST-3
Table 3.1
Summary of Important Semiconductor Equations
Quantity
Relationship
Values of Constants and Parameters (for
Intrinsic Si at T = 300 K)
Carrier concentration in
intrinsic silicon (cm−3)
ni = BT3/2e−Eg /2kT
B= 7.3 × 1015 cm−3K−3/2
Eg = 1.12 eV
k= 8.62 × 10−5 eV/K
ni = 1.5 × 1010/cm3
Diffusion current
density (A/cm2)
Jp = −qDp
dp
dx
Jn = qDn
dn
dx
q= 1.60 × 10−19 coulomb
Dp = 12 cm2/s
Dn = 34 cm2/s
Drift current density
(A/cm2)
Jdrift = q

pμp + nμn

E
μp = 480 cm2/V · s
μn = 1350 cm2/V · s
Resistivity ( · cm)
ρ = 1/

q

pμp + nμn

μp and μn decrease with the increase in
doping concentration
Relationship between
mobility and diffusivity
Dn
μn
=
Dp
μp
= VT
VT = kT/q ≃25.9 mV
Carrier concentration in
n-type silicon (cm−3)
nn0 ≃ND
pn0 = n2
i /ND
Carrier concentration in
p-type silicon (cm−3)
pp0 ≃NA
np0 = n2
i /NA
Junction built-in
voltage (V)
V0 = VT ln
NAND
n2
i
	
Width of depletion
region (cm)
xn
xp
= NA
ND
W = xn + xp
=

2es
q
 1
NA
+ 1
ND
	
V0 + VR

es = 11.7e0
e0 = 8.854 × 10−14 F/cm
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

ST-4
Summary Tables Supplement
Table 3.1
continued
Quantity
Relationship
Values of Constants and Parameters (for
Intrinsic Si at T = 300 K)
Charge stored in depletion
layer (coulomb)
QJ = q NAND
NA + ND
AW
Forward current (A)
I = Ip + In
Ip = Aqn2
i
Dp
LpND

eV/VT −1

In = Aqn2
i
Dn
LnNA

eV/VT −1

Saturation current (A)
IS = Aqn2
i

Dp
LpND
+ Dn
LnNA

I–V relationship
I = IS

eV/VT −1

Minority-carrier
lifetime (s)
τp = L2
p/Dp
τn = L2
n/Dn
Lp,Ln = 1 µm to 100 µm
τp,τn = 1 ns to 104 ns
Minority-carrier
charge storage
(coulomb)
Qp = τpIp
Qn = τnIn
Q= Qp + Qn = τTI
Depletion capacitance (F)
Cj0 = A

esq
2
 NAND
NA + ND
	 1
V0
Cj = Cj0

1 + VR
V0
	m
m = 1
3 to 1
2
Diffusion
capacitance (F)
Cd =
 τT
VT
	
I
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

Summary Tables Supplement
ST-5
Table 4.1
Diode models
Exact
i = IS(ev/Vr −I),
VT = kT
q
k = Boltzmann’s constant = 8.62 × 10−5 eV/K = 1.38 × 10−23 J/K
T = the absolute temperature in Kelvin = 273 + temperature in °C
q = the magnitude of electronic charge = 1.60 × 10−19 coulomb
V2 −V1 = 2.3 VT log I2
I1
Constant
voltage drop
model
i
i > 0, vD = 0.7 V
vD


Reverse bias
model
IZ
IZ
VZ
VZ
VZ0
rz
rz
VZ0




Small-signal
model
rd = VT
ID
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20






Summary Tables Supplement
ST-11
Table 7.4
Characteristics of MOSFET Ampliﬁersa,b
Characteristics
Amplifier type
Rin
Avo
Ro
Av
Gv
Common source (Fig. 7.36)
∞
−gmRD
RD
−gm

RD∥RL

−gm

RD ∥RL

Common source with Rs (Fig. 7.38)
∞
−
gmRD
1 + gmRs
RD
−gm

RD ∥RL

1 + gmRs
−gm

RD∥RL

1 + gmRs
−RD∥RL
1/gm + Rs
−RD ∥RL
1/gm + Rs
Common gate (Fig. 7.40)
1
gm
gmRD
RD
gm

RD∥RL

RD ∥RL
Rsig + 1/gm
Source follower (Fig. 7.43)
∞
1
1
gm
RL
RL + 1/gm
RL
RL + 1/gm
a For the interpretation of Rin, Avo, and Ro, refer to Fig. 7.35(b).
b The MOSFET output resistance ro is not taken into account in these formulas.
Table 7.5
Characteristics of BJT Ampliﬁersa,b,c
Rin
Avo
Ro
Av
Gv
Common
emitter
(Fig. 7.37)
(β + 1)re
−gmRC
RC
−gm

RC ∥RL

−α RC ∥RL
re
−β
RC ∥RL
Rsig + (β + 1)re
Common
emitter with
Re (Fig. 7.39)
(β + 1)

re + Re

−
gmRC
1 + gmRe
RC
−gm

RC ∥RL

1 + gmRe
−α RC ∥RL
re + Re
−β
RC ∥RL
Rsig + (β + 1)

re + Re

Common base
(Fig. 7.41)
re
gmRC
RC
gm

RC ∥RL

α RC ∥RL
re
α RC ∥RL
Rsig + re
Emitter
follower
(Fig. 7.44)
(β + 1)

re + RL

1
re
RL
RL + re
RL
RL + re + Rsig/(β + 1)
Gvo = 1
Rout = re +
Rsig
β + 1
a For the interpretation of Rm, Avo, and Ro refer to Fig. 7.35.
b The BJT output resistance ro is not taken into account in these formulas.
c Setting β = ∞(α = 1) and replacing re with 1/gm, RC with RD, and Re with Rs results in the corresponding formulas for MOSFET amplifiers
(Table 7.4).
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



ST-14
Summary Tables Supplement
Table 11.2
Summary of Relationships for the Four Feedback-Ampliﬁer Topologies
Loading of Feedback
To Find β,
Network Is Obtained
Apply to
Port 2 of
Feedback
Feedback
Source
Feedback
Refer
Amplifier
Topology
xi
xo
xf
xs
A
β
Af
Form
At Input
At Output
Network
Rif
Rof
to Figs.
Voltage
Series–Shunt
Vi
Vo
Vf
Vs
Vo
Vi
Vf
Vo
Vo
Vs
Thévenin
By short-
By open-
a voltage,
Ri(1 + Aβ)
Ro
1 + Aβ
11.14
circuiting
circuiting
and find the
11.16
port 2 of
port 1 of
open-circuit
feedback
feedback
voltage at
network
network
port 1
Current
Shunt–Series
Ii
Io
If
Is
Io
Ii
If
Io
Io
Is
Norton
By open-
By short-
a current,
Ri
1 + Aβ
Ro(1 + Aβ)
11.28
circuiting
circuiting
and find the
11.29
port 2 of
port 1 of
short-circuit
feedback
feedback
current at
network
network
port 1
Transconductance
Series–Series
Vi
Io
Vf
Vs
Io
Vi
Vf
Io
Io
Vs
Thévenin
By open-
By open-
a current,
Ri(1 + Aβ)
Ro(1 + Aβ)
11.21
circuiting
circuiting
and find the
11.22
port 2 of
port 1 of
open-circuit
feedback
feedback
voltage at
network
network
port 1
Transresistance
Shunt–Shunt
Ii
Vo
If
Is
Vo
Ii
If
Vo
Vo
Is
Norton
By short-
By short-
a voltage,
Ri
1 + Aβ
Ro
1 + Aβ
11.25
circuiting
circuiting
and find the
11.26
port 2 of
port 1 of
short-circuit
feedback
feedback
current at
network
network
port 1
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20


ST-16
Summary Tables Supplement
Table 17.1
Implications of Device and Voltage Scaling
Parameter
Relationship
Scaling Factor
1
W, L, tox
1/S
2
VDD, Vt
1/S
3
Area/Device
WL
1/S2
4
Cox
ϵox/tox
S
5
k′
n, k′
p
μnCox, μpCox
S
6
Cgate
WLCox
1/S
7
tP (intrinsic)
αC/k′VDD
1/S
8
Energy/Switching cycle
CV2
DD
1/S3
(intrinsic)
9
Pdyn
fmaxCV2
DD = CV2
DD
2tP
1/S2
10
Power density
Pdyn/Device area
1
Table 17.2
Summary of Important Speed and Power Characteristics of the CMOS Logic Inverter
Propagation Delay
Using average currents (Fig. 17.4):
tPHL ≃
αnC
k′
n(W/L)nVDD
where αn =
2
7
4 −3Vtn
VDD
+
 Vtn
VDD
	2
tPLH ≃
αpC
k′
p(W/L)pVDD
where αp =
2
7
4 −3|Vtp|
VDD
+
|Vtp|
VDD
	2
Using equivalent resistances (Fig. 17.5):
tPHL = 0.69RNC where RN = Reff,N(Weff/Leff)
(Wn/Ln)
tPLH = 0.69RPC where RP = Reff,P(Weff/Leff)
(Wp/Lp)
For a ramp-input signal, tPHL ≃RNC and tPLH ≃RPC.
Power Dissipation
Pdyn = fCV2
DD
PDP = PD × tP
EDP = PDP × tP
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20



Summary Tables Supplement
ST-19
Table J.1
Standard Resistance Values
1% Resistor Values (k)
5% Resistor Values (k)
100–174
178–309
316–549
562–976
10
100
178
316
562
11
102
182
324
576
12
105
187
332
590
13
107
191
340
604
15
110
196
348
619
16
113
200
357
634
18
115
205
365
649
20
118
210
374
665
22
121
215
383
681
24
124
221
392
698
27
127
226
402
715
30
130
232
412
732
33
133
237
422
750
36
137
243
432
768
39
140
249
442
787
43
143
255
453
806
47
147
261
464
825
51
150
267
475
845
56
154
274
487
866
62
158
280
499
887
68
162
287
511
909
75
165
294
523
931
82
169
301
536
953
91
174
309
549
976
Table J.2
SI Unit Preﬁxes
Name
Symbol
Factor
femto
f
×10−15
pico
p
×10−12
nano
n
×10−9
micro
µ
×10−6
milli
m
×10−3
kilo
k
×103
mega
M
×106
giga
G
×109
tera
T
×1012
peta
P
×1015
Table J.3
Meter Conversion Factors
1µm = 10−4 cm = 10−6 m
1 m = 102 cm = 106 µm = 109 nm
0.1 µm = 100 nm
1 Å = 10−8 cm = 10−10 m
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

ST-20
Summary Tables Supplement
Table K.1
Typical Values of CMOS Device Parameters
0.8 µm
0.5 µm
0.25 µm
0.18 µm
0.13 µm
65 nm
28 nm
Parameter
NMOS PMOS
NMOS PMOS
NMOS PMOS
NMOS PMOS
NMOS PMOS
NMOS PMOS NMOS PMOS
tox (nm)
15
15
9
9
6
6
4
4
2.7
2.7
1.4
1.4
1.4
1.4
Cox (fF/µm2)
2.3
2.3
3.8
3.8
5.8
5.8
8.6
8.6
12.8
12.8
25
25
34
34
μ (cm2/V·s)
550
250
500
180
460
160
450
100
400
100
216
40
220
200
μCox(µA/V2)
127
58
190
68
267
93
387
86
511
128
540
100
750
680
Vt0 (V)
0.7
−0.7
0.7
−0.8
0.5
−0.6
0.5
−0.5
0.4
−0.4
0.35
−0.35
0.3
−0.3
VDD (V)
5
5
3.3
3.3
2.5
2.5
1.8
1.8
1.3
1.3
1.0
1.0
0.9
0.9
|V′
A| (V/µm)
25
20
20
10
5
6
5
6
5
6
3
3
1.5
1.5
Cov (f F/µm)
0.2
0.2
0.4
0.4
0.3
0.3
0.37
0.33
0.36
0.33
0.33
0.31
0.4
0.4
Table K.2
Typical Parameter Values for BJTs*
Standard High-Voltage Process
Advanced Low-Voltage Process
Parameter
npn
Lateral pnp
npn
Lateral pnp
AE (µm2)
500
900
2
2
IS (A)
5 × 10−15
2 × 10−15
6 × 10−18
6 × 10−18
β0 (A/A)
200
50
100
50
VA (V)
130
50
35
30
VCEO (V)
50
60
8
18
τF
0.35 ns
30 ns
10 ps
650 ps
Cje0
1 pF
0.3 pF
5 fF
14 fF
Cμ0
0.3 pF
1 pF
5 fF
15 fF
rx()
200
300
400
200
*Adapted from Gray et al. (2001); see Appendix I.
©20
Oxford University Press
Reprinting or distribution, electronically or otherwise, without the express written consent of Oxford University Press is prohibited.
20

