Logically Determined Design: Clockless System Design with NULL Convention LogicTM, by Karl M. Fant
ISBN 0-471-68478-3
Copyright # 2005 John Wiley & Sons, Inc.

10.1.2
The Wavefront Path: Forward Latency
The wavefront path is the data path, shown as gray in Figure 10.2, over which the
wavefronts flow. The forward latency is the time that it takes for a wavefront to
flow through the pipeline with no waits and is the sum of all delays along the wave-
front path, which includes combinational expressions and registration operators.
10.1.3
The Bubble Path: Reverse Latency
The bubble path is the acknowledge path, shown as gray in Figure 10.3, over which
the bubbles flow. The reverse latency is the time that it takes for a bubble to flow
through the pipeline with no waits and is the sum of all delays along the bubble
path, which includes registration operators, completion logic, and combinational
logic in the acknowledge path.
10.2
THE PIPELINE SIMULATION MODEL
The space-time diagrams of the flow of successive wavefronts through successive
pipeline cycles are generated by a Microsoft Excel [34] simulation (see Appendix C).
Figure 10.4 is the baseline graph generated from the simulation showing the
2
2
1
1
1
1
2
2
2
2
2
2
cycle path
Figure 10.1
Cycle path.
2
2
1
1
1
1
2
2
2
2
2
2
wavefront path
Figure 10.2
Pipeline wavefront path or forward latency.
176
THE SHADOW MODEL OF PIPELINE BEHAVIOR

space-time relationships among the successive wave front components propagating
through the pipeline stages.
NULL and DATA wavefronts are not differentiated in the graph. In the context of
performance it is irrelevant whether a wavefront is a DATA wavefront or a NULL
wavefront. A wavefront is represented by a line flowing from upper left diagonally
down toward lower right. It flows through the wavefront path defined by registration
operator delays and data path propagation delays on the path. Bubbles are rep-
resented by the short disconnected lines between the wavefronts that flow from
upper right to lower left. Bubbles flow through the acknowledge path defined by
the completion delay and by the acknowledge propagation delay. Figure 10.5
shows the four delay components that determine the behavior of the pipeline.
Columns in the graph represent components of the wavefront path. A registration
operator delay is represented by rx. A data path propagation delay is represented by
2
2
1
1
1
1
2
2
2
2
2
2
bubble path
Figure 10.3
Pipeline bubble path or reverse latency.
WAVE 1
WAVE 2
WAVE 3
WAVE 4
WAVE 5
WAVE 6
WAVE 7
WAVE 8
Delay through register
flows to right
Propagation delay from register to register
flows to right
Completion detection delay
flows to left
Propagation of acknowledge
flows to left
r2
p2
r1
p1
r3
p3
r4
p4
r5
p5
r6
p6
r7
p7
r8
p8
r9
p9
r10 p10 r11 p11
Signal flow around
cycle through register
3 and register 4
Figure 10.4
Baseline space-time graph of wavefront propagation.
10.2 THE PIPELINE SIMULATION MODEL
177

px. Wavefronts flow progressively forward through r1, p1, r2, p2, r3, p3, . . . .
Bubbles flow backward beginning at the right edge of an rx column, which rep-
resents the completion delay, and then flow backward through px 2 1 and rx 2 1,
which represents the acknowledge propagation delay. The left side of the graph, ver-
tically labeled with successive wavefronts in time, is the input of the pipeline and the
right side of the graph is the output of the pipeline. The pipeline modeled in the
simulation is shown in Figure 10.6.
In the baseline graph of Figure 10.4 the delay of each component for each wave-
front is identical, so the propagation of the wavefronts is very orderly. All signals are
flowing in perfect synchrony and no signal has to wait on any other signal. The
shaded region of the graph shows the cyclic signal flow, wavefront propagation
forward and bubble propagation backward, around the cycle through propagation
path 3.
10.3
DELAYS AFFECTING THROUGHPUT
The throughput of a logically determined pipeline is the number of wavefronts pro-
pagating through a cycle of the pipeline per time interval. If a given number of wave-
fronts take a longer time interval to propagate or if fewer wavefronts propagate in a
given time interval, then the throughput is lower. If a given number of wavefronts
propagate in a shorter interval or if more wavefronts propagate in a given time inter-
val, then the throughput is higher.
A single slow signal event A (the delay of p5 for wave 3 is increased) is intro-
duced in Figure 10.7, breaking the perfect synchrony of signal flow. The single
2
2
1
1
1
1
2
2
2
2
2
2
completion delay
data path propagation delay
Figure 10.5
Delay components of pipeline behavior.
r11
r10
r9
r8
r7
r6
r5
r4
r3
r2
r1
p10
p9
p8
p7
p6
p5
p4
p3
p2
p1
Figure 10.6
Pipeline modeled in simulation.
178
THE SHADOW MODEL OF PIPELINE BEHAVIOR

delay event causes a delay that propagates forward through the pipeline as a wave-
front delay causing bubbles to wait on the wavefront (a waiting bubble does not have
a vertical line as the waiting wavefronts do). The single delay event also causes a
delay that propagates backward through the pipeline along acknowledge signals
as a bubble delay causing wavefronts to wait on the bubbles. These delays propagat-
ing to both the input and output of the pipeline cause a delay in time of succeeding
wavefronts, reducing the throughput of the pipeline.
Typically the delays of interest will occur in combinational expressions in the
data propagation path (prop x), but it does not matter where in the cycle an added
delay occurs. The important factor is the cycle period. If a cycle is slow in any of
its delay components, it will cause waits in other cycles. Figure 10.8 shows an
increased delay A in the registration operator r5 for wave 3. Figure 10.9 shows an
increased completion delay A after register 5 (r5) for wave 3. Figure 10.10 shows
an increased acknowledge path delay A from the register 5 (r5) completion. In
each case the behavior of the pipeline is identical. A delayed wavefront propagating
forward causes bubbles to wait, and a delayed bubble propagating backward causes
wavefronts to wait.
10.4
THE SHADOW MODEL
In Figure 10.11 a shadow is drawn radiating from the slow event A both forward and
backward through the pipeline. The shadow represents the delayâ€™s domain of influ-
ence over other wavefronts flowing through the pipeline.
The bubble shadow projects backward from the delay. The lower boundary of
the shadow is the bubble delay propagating backward causing wavefronts to wait.
delayed
input
wavefront delay
bubble delay
delayed
output
A
Single slow event in
one pipeline stage
WAVE 1
WAVE 2
WAVE 3
WAVE 4
WAVE 5
WAVE 6
WAVE 7
WAVE 8
Acknowledge signal waiting
on delayed wavefront
Wave front signal waiting on
delayed acknowledge signal
r2
p2
r1
p1
r3
p3
r4
p4
r5
p5
r6
p6
r7
p7
