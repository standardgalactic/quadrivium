Welcome to Gresham College, and to this book launch of my number theory, a very short introduction.
It's one of the latest in the popular series of very short introductions, which Oxford University Press has produced over the past 25 years.
I was also fortunate to have been invited to write the very short introduction to combinatorics, which appeared in 2016.
I've always been interested in the history of mathematics, and in the book and in this lecture you'll meet four of the prime figures who feature throughout my story.
The Greek mathematician Euclid of Alexandria top right, who wrote his classic text The Elements in the third century BC, and who probably didn't look like this.
Pierre Fermat, on the left, a lawyer in southern France in the early 17th century.
Leonard Euler, an 18th century Swiss mathematician who was probably the most prolific mathematician of all time,
and Carl Friedrich Gauss, a German mathematician who published a classic text on number theory in the year 1801.
It was Gauss who claimed that mathematics is the queen of the sciences, and number theory is the queen of mathematics.
So what is number theory?
Basically, it's the branch of mathematics that's primarily concerned with our ordinary counting numbers 1, 2, 3, etc.
Sometimes called the positive integers.
And it's concerned with whether they're odd or even, or are perfect squares or cubes,
or can be divided exactly by seven or some other number, or have some other such property.
Particularly important throughout the subject of the prime numbers, which we can think of as the building blocks of the subject,
like atoms in chemistry, and which are the only numbers whose only factors are itself and one.
For example, 11, 13, 17 and 19 are all prime, we can't split them up into factors.
But 15 and 18 are not, because 15 is three times five, and 18 is two times nine,
which we can then write as two times three times three.
But we must be careful, because some numbers that look as though they might be prime numbers, such as 91 and 323 are not,
because 91 is seven times 13, and 323 is 17 times 19.
So it's not always easy to spot whether a given number is prime.
For example, how about the three numbers at the bottom of the screen?
I'll tell you about these ones later on.
So here are some of the questions that I'll be talking about today.
The first ones are clearly about numbers, such as whether that last number is prime,
whether any number made entirely of ones is a perfect square,
and various problems arising from the calendar.
But number theory also expands into other areas, such as the geometry of right-angled triangles,
and the construction of regular shapes.
You'll also see applications to the shuffling of cards,
and even to more practical matters, such as the security of your credit cards,
which is based on a result on prime numbers that dates back to the 18th century.
Number theory, once an abstract branch of pure mathematics that was studied for its own sake,
is now also central to the study of cryptography and to other subjects of practical importance.
So here are the subjects I'll be talking about today.
First, prime numbers. How many are there? How are they distributed?
And how do they arise in geometry?
Next, perfect squares. How can we recognise them?
What do they tell us about right-angled triangles?
And I'll also show you two results related to Fermar.
Third is clock arithmetic and the mathematics of the calendar.
And finally, yet another result of Fermar is generalisation by Euler,
and applications to the counting of necklaces, the shuffling of cards,
and, as promised, protecting your credit cards.
And if you find any of these topics too technical,
just hold on as I'll soon switch back to more straightforward topics.
So let's start with prime numbers.
Here's a table of the primes up to 100.
It's been produced by an ancient Greek method called the sieve of eratosnes,
where we first list all the numbers up to 100,
then cross out the multiples of 2, that is 4, 6, 8, etc.
Then the multiples of 3, 6, 9, 12, 15, etc.
Actually, 6 and 12 have already been crossed out.
Then those are 5, and then 7,
until we get the numbers that appear in yellow here.
These are the primes.
You may ask why one isn't a prime.
The answer relies on a fundamental property of our number system,
that we can get every number by multiplying primes together.
For example, 60 is 2 times 2 times 3 times 5,
and that this can be done in only one way,
apart from the order that the primes appear.
So we could have written 60 as 2 times 5 times 3 times 2,
or some other order,
but there must always be 2 2s, 1 3 and 1 5.
But if we took 1 to be a prime,
we could then write 6 as 2 times 3,
or 2 times 3 times 1,
or 2 times 3 times 1 times 1, and so on.
We'd lose this fundamental property of factorisation into primes in only one way.
That would be a great loss,
so we choose to make 1 not a prime.
But we can never list all the primes because the list goes on forever.
But how would we prove this?
Unfortunately, given any prime,
there's no rule for listing the next one.
For example, what's the next prime after 997?
It's not at all obvious that it's 109.
But Euclid, in his book The Elements,
came up with a very different approach.
Here it is in the earliest surviving copy of The Elements
from AD 888 in the Bodleian Library in Oxford.
And here's an English version of Euclid's proof.
The thing to note is that it's a geometric argument.
Instead of numbers, he used the lengths of various lines.
So how did his proof go?
Here it is in modern language.
Let's make the assumption that the list does not go on forever,
and that these are the only primes.
We've called them P1, P2, P3 and so on up to Pn.
We're assuming there are no others.
We'll now create a new number by multiplying them all together
and adding one.
And we'll call this capital N.
Then each of our primes divides the quantity in brackets,
the product, and so none of them can divide the number N,
which is got by adding one to it.
So what can we say about N?
Because it's not divisible by any of our primes,
it must itself be a new prime,
or possibly be made up of new primes.
So in either case, there's a new prime,
and this contradicts our assumption that we've listed all of the primes.
So our assumption must have been wrong.
We cannot list all the primes,
and so the list must go on forever.
Incidentally, both of these possibilities for N can occur.
If the only primes that we knew were 2, 3, 5 and 7,
then N would be their product, that's 210 plus 1,
which is 211,
and this is a prime that we didn't have before.
But if the only primes that we knew were the ones up to 13,
then multiplying them together and adding one
to N is 30,031,
which actually isn't prime, it's 59 times 509,
so here we get two new primes we didn't have before.
But we can say more.
We can adapt Euclid's proof to prove that the list of primes
of the four N plus three goes on forever.
These are the primes which have three more than a multiple of four,
such as three itself,
or seven, which is four plus three,
or eleven, which is two fours plus three, and so on.
So these are all primes of the four and four N plus three.
We can also prove that there are infinitely many primes
that are one more than a multiple of four.
The primes of the four and four N plus one, such as five,
that's four plus one,
thirteen, three fours plus one,
and seventeen, four fours plus one, and so on.
So there are infinitely many primes of the four and four N plus one,
and four N plus three.
But we obviously can't say the same for numbers of the four and four N plus two,
because these numbers are all even,
and so none of them can be prime apart from two itself.
And the general result along these lines
was proved by the German mathematician Lejeune Dirichlet
in 1837.
In this tour de force,
he showed that there are infinitely many primes of the four N plus B
for any numbers A and B,
as long as A and B have no factors in common.
This result was, and still is,
extremely difficult to prove.
But it includes the cases four N plus one and four N plus three,
because four has no factors in common with one or three.
And if we now take A to be ten and B to be nine,
which also have no factors in common,
we see there are infinitely many primes of the four and ten N plus nine.
That is infinitely many prime numbers ending with nine.
And in the same way,
there are infinitely many prime numbers ending with one,
or with three,
or with seven.
Let's now turn to something different.
Numbers that are one less than a power of two.
They're named after Mariam Meir Sen,
a French mathematician and friar
who investigated them in the 17th century.
If we look at these Meir Sen numbers,
we'll see that some of them are prime.
Two squared minus one is three.
Two cubed minus one is seven.
Two to the fifth minus one is 31.
And two to the seventh minus one is 127.
And these are all primes.
But other Meir Sen numbers are not prime.
Two to the fourth minus one is 15, which isn't prime.
And two to the sixth minus one is 63.
Two to the eighth minus one is 255.
And two to the ninth minus one is 511.
And none of these is prime.
So looking at the powers of two that appear here,
it's very tempting to believe that two to the N minus one is always prime
when the exponent, the power N, is prime.
Here they're two, three, five and seven.
And that it's never prime when the exponent N isn't prime.
And here they're four, six, eight and nine.
But is this always the case?
The answer is partly.
It's not difficult to show that if N is not prime,
then two to the N minus one isn't prime either.
But if N is prime, we have to be more careful.
For example, if we take the next prime, 11,
we have two to the 11 minus one, which is 2047.
Now this may look prime, but it isn't.
It's 23 times 89.
So if N is prime, then two to the N minus one may or may not be prime.
Mersen himself came up with a list of primes of this form,
which is why they're named after him.
He made a few false claims and he left out a couple of them,
but it was an impressive list for the time,
especially because he correctly included two to the 127 minus one,
which is a prime number with 39 digits.
So why are these numbers of interest,
or are they simply a curiosity?
It turns out that if we're looking for new primes,
then Mersen primes turn out to be our best bet.
For example, the last 17 primes that have been found
have all been of this kind,
including the most recently discovered one in December 2018,
which is two to the 82,589,933 minus one,
a prime number with almost 25 million digits.
But another reason for looking at Mersen primes
is that they turn up in connection with a problem
that dates from ancient Greek times.
The Greeks were interested in numbers,
which they called perfect numbers,
whose factors, apart from the number itself, add up to the original number.
For example, six is perfect because it's factors of one, two and three,
and these add up to six.
And 28 is perfect because it's factors of one, two, four, seven and fourteen,
and these add up to 28.
The next two, also known to the Greeks,
were 496 and 8128,
and then there aren't any more of them until 33,550,366.
So how did the Greeks find these perfect numbers?
To see why they found them, let's factorise them.
We find that six is two times three,
which we can write as two to the one times two squared minus one.
28 is four times seven, which we can write as two squared,
times two cubed minus one.
496 is 16 times 31,
which is two to the fourth times two to the fifth minus one.
8128 is 64 times 127,
which is two to the sixth times two to the seventh minus one.
And the other one, 33,550,336,
is 4,096 times 8,191,
which is two to the twelfth times two to the thirteenth minus one.
So in each case, it's a power of two,
multiplied by a mercen prime, in fact, the next one.
Well, all of this is known to Euclid,
whose book, The Elements, includes a proof
that the product of two to the n minus one
and two to the n minus one is a perfect number,
as long as the second of these numbers is prime.
The next question is, does this give us all the perfect numbers?
2,000 years after Euclid,
then did Euler prove that every even perfect number is of Euclid's type?
But are there any odd perfect numbers?
Euler didn't know, and nor indeed does anyone.
If there are any odd perfect numbers,
there'll be absolutely huge, more than 10 to the power of 1,500,
so they probably don't exist, but who knows?
Before we leave prime numbers, let's explore one more type.
This time introduced by Fermat.
Instead of looking at prime numbers of the form 2 to the n minus one,
let's consider primes of the form 2 to the n plus one.
It turns out that these can be prime only when n is itself a power of two,
two to the two to the n plus one.
So let's look at some of these.
Fermat found the first few.
Two to the one plus one, which is three.
Two to the two plus one, which is five.
Two to the four plus one, which is 17.
Notice that the exponents are powers of two.
Two to the eighth plus one is 257,
and two to the sixteenth plus one, which is 65,537.
Fermat noticed that these are all prime,
and he made the conjecture that every number of this form must be prime.
So the next one to test is two to the 32 plus one.
Is that prime?
Well, unfortunately, it's a ten digit number over four billion,
and Fermat's pocket calculator didn't go that far.
So Fermat never found out whether his conjecture was true or not.
But once again, Leonard Euler came to the rescue.
After doing many calculations, he discovered that two to the 32 plus one
can be evenly divided by 641.
And later he found a method that gave this answer more quickly.
But even Euler was stuck with the next one, two to the 64th plus one,
which was a 20 digit number, which also turns out not to be prime.
But its smallest prime factor is over 200,000,
so it's not surprising that Euler missed it.
But worse was to come.
Many other Fermat numbers are now known,
and none of them has turned out to be prime.
So Fermat's conjecture has turned out to be rather an unfortunate one.
But all is not lost as Fermat primes turned up again,
but in the most unexpected place, the drawing of regular polygons.
These are polygons where all the size and all the angles are equal.
The ancient Greeks were very interested in trying to construct these,
whereby constructing, they allow themselves to use only an unmarked ruler,
no measuring allowed, and a pair of compasses.
Here's how Euclid constructed an equilateral triangle.
Starting with a line AB,
use the compasses to draw the circle on the left,
where the centre is A and the radius is AB.
So that gives you the left-hand circle.
Then draw the circle on the right by taking the centre to be B,
and the radius is BA.
And then you have two circles.
These two circles intersect at the point C.
Now the length AB is the same as AC
because each is a radius of the left-hand circle,
and the length BA is equal to the length BC
because each is a radius of the right-hand circle,
so all three sides are equal, and we have an equilateral triangle.
And constructing a regular hexagon is even easier.
Draw a circle with centre O and some radius OA.
Then with a compass point A and the same radius,
mark off the point B on the circle.
Then with a compass point B and the same radius,
mark off the point C,
and then in the same way the points D, E and F.
And if you join these six points together,
that gives us a regular hexagon.
What other polygons can we draw?
Euclid also showed how to construct a square
and a regular pentagon using just an unmarked rule and compasses,
and he also showed how to double the number of sides
of a regular polygon.
So starting with an equilateral triangle,
with three sides,
we can draw a regular hexagon,
and we can draw a regular hexagon.
The triangle, with three sides,
we can construct regular polygons with six, 12 and 24 sides.
And starting with a square, then doubling,
we can construct regular polygons with eight, 16 and 32 sides.
And starting with a regular pentagon,
we can construct ones with 10, 20 and 40 sides.
And also by combining the constructions for three and five sides,
Euclid constructed a regular polygon with 15 sides.
But neither Euclid nor anyone else
was able to construct regular polygons
with seven, nine, 11, 13, 14, 18 or 19 sides.
Are any of these possible?
Enter Gauss.
When ageed only 18,
he first showed how to construct a regular polygon with 17 sides.
He then answered the construction question completely
by proving a remarkable result.
That a regular polygon with n sides
can be constructed by ruler and compasses
if and only if n is obtained by taking some power of two
multiplied by unequal Fermat primes,
which is I remind you of the five listed here.
So for example, we can construct polygons with 30 sides
because 30 is two times three times five.
We can do 32 sides because that's the power of two
or 34 sides because that's two times 17
or 40 sides because that's two cubed times five.
But we cannot construct regular polygons with 35 sides
because 35 is five times seven and seven is not allowed.
Or 36 sides because 36 is two squared times three squared
and we're not allowed to use three twice.
Or 37, which is not a Fermat prime anyway,
or 100 because the factor five occurs twice.
So to answer the question I mentioned at the beginning,
we cannot draw a regular polygon with 100 sides,
but it's remarkable that these Fermat primes occur in such a problem.
Let's now leave prime numbers for a while
and look at perfect squares.
The first 10 of these are listed here.
One squared is one, two squared is four,
three squared is nine, and so on.
And you notice that none of these squares ends with two, three, seven or eight.
And this is true in general because if we square in a larger number like 27,
it must end with the same digit as if we'd squared seven.
So no perfect square can end in two, three, seven or eight.
One interesting result about perfect squares
is if we add up the first few positive odd numbers,
then we always get a square.
One is one squared.
One plus three is four, which is two squared.
One plus three plus five is nine, which is three squared, and so on.
We can prove this quite easily by arithmetic,
but more informative is this geometric picture,
which was supposedly known to the Pythagoreans of Ancient Greece,
that shows why it's true.
Here each L shape has an odd number of dots,
one dot, three dot, five dots, seven dots, and so on.
And they all fit together to make a perfect square.
We also notice that every square is either a multiple of four, such as 16,
or is one more than the multiple of four, such as 25.
No perfect square has a form four n plus two or four n plus three.
And this is because if n is even, say it's twice k,
then n squared is four times something.
And if n is odd, equal to two k plus one, say,
then n squared is four times something plus one.
So numbers made up entirely of ones, such as 11,
111, 111, and so on, cannot be perfect squares,
because they are all three more than a multiple of four,
and that's not allowed.
Another nice result is if n is odd,
then its square must be one more than a multiple of eight.
And we can see this from our earlier result.
If n is two k plus one,
then n squared is four times k times k plus one plus one.
But k times k plus one is the product of two consecutive numbers.
And if you had two consecutive numbers, one must be odd,
and the other must be even.
So that product is even, giving us eight times something plus one.
But a much more attractive way of illustrating this result
is to draw a picture like the one here.
Where there are eight triangles of dots,
plus an extra one in the middle.
So in this case, we have nine squared dots,
are made of eight lots of ten dots, plus one,
and so has the form eight n plus one.
And this works whatever number n is.
Perfect squares also feature prominently
in the geometry of right-angled triangles.
From our school days,
we remember the Pythagorean theorem,
which was probably not due to Pythagoras himself,
and was originally a result about areas.
But it tells us that if A, B, and C are equal,
then they are equal,
and they are equal,
but it tells us that if A, B, and C are the lengths
of the sides of a right-angled triangle,
with C the longest side, or hypotenuse,
then A squared plus B squared equals C squared.
And today I'm interested in when these side lengths
are all whole numbers,
such as the 3, 4, 5 triangle,
where 3 squared plus 4 squared is 5 squared.
That's 9 plus 16 is 25.
The 5, 12, 13 right-angled triangle
with 5 squared plus 12 squared is 13 squared.
25 plus 144 is 169.
And the 15, 8, 17 triangle
with 15 squared plus 8 squared is 17 squared.
Well, 225 plus 64 is 289.
What are the examples are there,
and can we find them all?
Well, we can easily get more examples
by scaling out the size of these triangles.
For example, from the 3, 4, 5 triangle,
we can scale up by 10 to get a 30, 40, 50 triangle
with 30 squared plus 40 squared is 50 squared.
Or from 3, 4, 5 we can scale up by 2
to get a 6, 8, 10 triangle
with 6 squared plus 8 squared equals 10 squared.
But these scaling aren't very interesting,
so we'll assume that no scaling have taken place
and that A, B and C have no common factors.
And in fact, we can assume that any two of them
have no common factor because any such factor
will then have to divide the third.
So we can assume that A and B cannot both be even.
We can also assume that they cannot both be odd
because then A squared and B squared
would be one more than a multiple of four.
So that C squared would be two more than a multiple of four
and squares cannot be two more than a multiple of four
as we've seen.
So one of A, B and C is odd
and the other is even, as in our first examples.
Three and four, one odd, one even,
five and 12, 15 and eight, one odd, one even.
And to be definite, we'll always take A to be odd
and B to be even.
Well, by using similar arguments
which I won't go into,
we can eventually prove that A, B and C
have the forms shown here
for some whole numbers X and Y.
A is X squared minus Y squared,
B is two XY
and C is X squared plus Y squared.
You can check that with these expressions
A squared plus B squared is indeed C squared.
And moreover, we can show that X is greater than Y,
that X and Y have no common factors
and that one is even and the other is odd.
So let's see some examples of this.
Here's what we had before.
A has this form, X squared minus Y squared,
B is two XY, C is X squared plus Y squared
where X and Y have these properties.
So let's take some examples for X and Y.
If X is two and Y is one,
then A is two squared minus one squared which is three.
B is two times two times one which is four
and C is two squared plus one squared which is five.
So we get the right angle triangle with size three, four, five.
If X is three and Y is two,
then A is three squared minus two squared which is five,
B is two times three times two which is 12
and C is three squared plus two squared which is 13
and we get the triangle with size five, 12, 13.
And if X is five and Y is two,
then A is five squared minus two squared which is 21,
B is two times five times two which is 20
and C is five squared plus two squared which is 29
and we get the right angle triangle with size 21, 20 and 29.
And using these formulas we can compile a list
that would eventually include all right angle triangles.
Now earlier I asked for all right angle triangles
with a side of length 29 and we just found one.
As we've just seen by taking X to be five and Y to be two,
we found the triangle with size 21, 20 and 29.
But are there any others?
Well because 29 is a prime number,
the size can have no common factor
and so we can again use expressions for A, B and C
when there's no scaling involved.
But 29 cannot be two X, Y cannot be B because that's even.
And so 29 must either be C which is X squared plus Y squared
or 29 must be A which is X squared minus Y squared.
But if 29 is X squared plus Y squared,
then the only possibility is X is five and Y is two
and we had the solution we had before.
And if 29 is X squared minus Y squared,
we can factorize that into two factors as shown here.
And because 29 is prime,
one of those factors must be 29 and the other must be one.
So X plus Y is 29, X minus Y is one
and we can solve those equations to give X is 15 and Y is 14.
It then follows that A is 15 squared minus 14 squared
which is 29 as we expected.
B is two times 15 times 14 which is 420
and C is 15 squared plus 14 squared which is 421.
So this is the only other right-angled triangle
with a side of length 29.
Sides of 29, 420 and 421.
Those are the only two right-angled triangles
with 29 as one of the sides.
Before we leave perfect squares,
I'd like to show you a couple of results named after Fermat.
In our study of right-angled triangles,
we've been looking at sums of two squares
and we might ask what numbers can be written
as the sum of two squares.
For example, 41 is 5 squared plus 4 squared
but 42 cannot be written as the sum of two squares.
How do we look at this?
Well, because all squares have the form 4n or 4 plus 1,
4n plus 1, the sum of two squares must be of the form 4n
or 4n plus 1 which is got by adding a 4n and a 4n plus 1
or 4n plus 2 adding two of those odd numbers.
So we can rule out any numbers of the form 4n plus 3 such as 43.
We notice also that sums of squares in more than one way.
For example, 65 is 64 plus 1 but it's also 49 plus 16.
It turns out that we can deal with the general question
of which numbers can be written as the sum of two squares
if we can first decide which prime numbers are the sum of two squares.
We've just ruled out all the primes of the form 4n plus 3
but as claimed by Fermat and later proved by Euler,
every prime number of the form 4n plus 1 can be written as the sum of two squares.
Moreover, this can happen in only one way.
So here are some examples.
5 is a prime of the form 4n plus 1.
5 is 4 plus 1.
13 is 9 plus 4.
17 is 16 plus 1.
29 is 25 plus 4.
41 is 25 plus 16 and you can make up some more for yourself.
But it's a remarkable result proved all those years ago by Euler
and conjectured by Fermat.
But the other result of Fermat I want to mention is his famous last theorem
because it was the last of his theorems to be proved.
This is a very famous result in mathematics.
When we're looking at right-angled triangles,
we found positive numbers a, b and c with a squared plus b squared is c squared.
But what about higher powers such as cubes or fourth powers?
Can we find positive numbers a, b and c with a squared plus b squared equals c
with a cubed plus b cubed equals c cubed
or a to the fourth plus b to the fourth is c to the fourth.
Fermat himself found an ingenious argument to show that there are no solutions for the fourth powers.
In his method of infinite descent, he showed that if there were a solution,
it would give rise to another solution with smaller numbers.
And then that in turn would give rise to yet another solution with yet smaller numbers and so on forever.
But you can't keep on reducing the numbers forever and ever.
So the original equation couldn't have had a solution.
Now Fermat believed that there are no positive number solutions to a to the n plus b to the n is c to the n
for any power n larger than 2.
And he claimed to have a truly marvellous proof but the margin is too small to present it.
I too have a truly marvellous proof but this lecture is too short for me to give it to you.
In any case, Fermat's conjecture was eventually proved in 1995,
350 years after he first mentioned it by Andrew Wiles then at Princeton University and now at Oxford.
Let's now leave squares and look at some clock arithmetic.
If it's nine o'clock and six hours pass, then it's three o'clock.
So we can write nine plus six is three.
And writing mod twelve reminds us that we're using a twelve hour clock.
Similarly, if it's ten o'clock and seven hours pass, then it's five o'clock.
So ten plus seven is five mod twelve.
It actually turns out to be more convenient to write zero rather than twelve.
So eight plus four is twelve o'clock.
In other words, eight plus four is zero mod twelve.
This way of calculating is called modular arithmetic or clock arithmetic
and is introduced by Gauss in his number theory book of 1801.
More generally, we say that A is the same as B mod n
if A and B leave the same remainder when divided by n.
So fifteen, nine plus six is fifteen, fifteen is three mod twelve
because they leave the same remainder when you divide by twelve.
And seventeen is five mod twelve.
And another way of saying this is that A minus B can be divided by n.
Gauss worked out all the rules for this type of arithmetic.
But we don't have to stick to arithmetic mod twelve.
We can also use it for the seven days of the week.
For example, if it's Thursday, then in four days it would be Monday.
And if it's Saturday, then in three days it would be Tuesday.
If we number the days of the week from day zero Sunday, day one is Monday,
up to day six, which is Saturday, we can then write these statements
as Thursday plus four days is Monday, four plus one is one mod seven.
Saturday plus three days is Tuesday, six plus three is two mod seven.
Well, using this idea, we can carry out calculations on the calendar.
Several people have produced methods for finding the day of the week
for a given date, including Gauss himself
and also the mathematician John Conway, who died earlier this year.
Here's a method devised by Charles Dodgson, better known as Lewis Carroll,
the author of Alice's Adventures in Wonderland,
and it was published under his pen name.
So let's see how it works in detail, first quickly in general
and then more slowly for a specific date.
So let's have a look at this.
Carroll's method is based on four numbers,
which are then added mod seven.
The first number is the century number.
What century we in?
To find this, we divide the first two digits of the year,
in our case 20, by four,
subtract the remainder from three and double the result.
Next is the year number.
Here Carroll's rule is to divide the last two digits of the year by 12,
and then add the quotient, the remainder,
and the number of times that four divides into the remainder.
You'll see how this works in a minute.
Third is the month number, where Carroll gave a complicated rule,
but it's easier just to memorise this table of numbers.
And last is the day number, which is just the day of the month.
And there's also an extra condition which we won't need today.
So let's see how this works in practice.
And if it seems rather complicated,
Carroll himself claimed to be able to apply it in his head in around 20 seconds.
So let's see how it works for today's date,
the 28th of September 2020, as you can see on the right.
So here the general method is on the left,
and we'll work through it, and the example is on the right.
For the century number, we take the first two digits of the year.
The year is 2020, so the first two digits are 20,
and divide it by four, giving a remainder of zero.
Subtracting this remainder zero from three gives three,
and doubling the result gives six.
So six is our century number.
For the year number, we take the last two digits of the year,
which is also 20 for 2020,
divide it by 12, giving one remainder eight.
Also four divides into eight two times,
so we have one plus eight plus two, and that's 11.
For the month number, the number for September is five.
And for the day number, the 28, it's 28.
And if you add all these numbers together,
you get six plus 11 plus five plus 28, which is 50.
And 50 is one more than a multiple of seven.
So the answer is one, which is Monday, which is correct.
How about the question I posed earlier?
In which years of the century does February have five Sundays?
For this to happen, February must have 29 days,
so it must be a leap year.
Now the first of January 2001 was a Monday,
or you can start with any other date whose day you know.
So you can easily check that the first of February was a Thursday.
Now the number of days in any non-leap year is 365,
which is one more than a multiple of seven.
So the first of February 2001 was a Thursday,
first of February 2002 is a Friday,
first of February 2003 is a Saturday,
and first of February 2004 is a Sunday.
So that's one answer, 2004.
Also the cycle of days repeats every 28 years,
because the total number of days in 28 years
is 28 times 365 plus seven leap days,
and this is exactly divisible by seven.
So adding 28 years to 2004 gives 2032, 2060, 2088.
So the only years in the century where February has five Sundays
is 2004, 2032, 2060 and 2088.
For my final topic, I want to look at another result of Fermat
and the generalisation of it by Euler.
If parts of this get too technical,
don't worry about the details,
but try to follow the general story.
One form of Fermat's little theorem, as it's often called,
tells us that if you choose any whole number A
and any prime number P
and calculate A to the power P minus A,
then the result is always exactly divisible by P.
For example, if we choose A to be eight
and the prime P to be 37,
then we find without calculating it
that eight to the 37 minus eight is exactly divisible by 37.
And we can also get another version of Fermat's result,
which we'll need in a moment, by dividing by A,
and we can do this if P doesn't divide A.
And it tells us that eight to the P minus one,
minus one, is also exactly divisible by P.
For example, when A is two and P is 53,
we see that two to the power 52 minus one
is exactly divisible by 53,
which we can also write using our clock arithmetic
as two to the 52 is one mod 53.
And I'm going to use that result in a minute.
But before that, how do we prove Fermat's little theorem?
We can do so using algebra,
but here's a different method that I rather like
by counting necklaces, coloured necklaces.
Our necklaces will have P beads
and there are A colours available,
and in our colourings we're going to use at least two colours.
First of all, notice, as you can see on the left,
that necklaces can be rotated.
So the necklace on the left,
which is red, blue, red, red, yellow,
is the same as if we start with blue,
blue, red, red, yellow, red,
and also the same as the other ones shown on the left.
Now how many strings of coloured beads can there be?
Well, the total number is you've got A colours for the first bead,
A for the second bead, A for the third and so on.
So that gives us a total of A to the power P for P beads.
But we must exclude all the strings in just one colour,
such as red, red, red, red, red,
and there are A of these, one for each colour.
So this seems to give us A to the P minus A strings of beads.
But we're taking these and making them into necklaces,
and for necklaces each one is counted P times over.
So we have to divide that number by P.
So the number of different coloured necklaces
is A to the P minus A divided by P.
But the number must be, it must be a whole number.
So A to the P minus A must be exactly divisible by P,
as we wanted to prove.
And we can use this result to tell us about the shuffling of cards.
Starting with a normal pack of cards we can do a riffle shuffle,
that is we divide into two piles as shown in the middle,
and then shuffle it so the cards in the two piles alternate
as shown on the right.
Now if you carry on shuffling the pack in the same way,
how many shuffles do you need
before every card returns to its original position?
We can answer this with Fermat's little theorem.
Where does each card move after the first shuffle?
You can check that the card originally in position X
moves to position 2X,
or to position 2X mod 53 when 2X is larger than 52.
For example, the card that starts in position 1
ends up in position 2.
And the card that starts in position 27
moves to position 54,
which mod 53 is position 1.
So the new ordering of the cards, as shown on the right,
is 271, 282, 293 and so on,
to 51, 25, 52, 26.
So after one shuffle,
the card in position X
has moved to position 2X mod 53.
And after two shuffles, it then moves to position 4X mod 53 and so on.
So after n shuffles, it moves to position 2 to the nX mod 53.
And if the pack has now returned to its original order,
this must be the same as position X.
And that's true for each card.
So 2 to the n times X is the same as X mod 53 for each card, in each case.
If we now divide by X, this tells us that 2 to the n is 1 mod 53.
And we want to find the numbers n for which this is true.
But as we saw before, with Fermat's little theorem,
2 to the 52 is 1 mod 53.
So the pack is returned to its original order after 52 shuffles.
But is that the smallest possible number of shuffles?
Well, if it happened after fewer shuffles,
then the number of shuffles would have to divide 52, it turns out.
And you can check, as I've done below, that none of them works.
So the answer to this question is 52.
But the question I posed at the beginning of the lecture
was involved shuffling a pack with two jokers.
So we now have 54 cards.
And doing what we did earlier tells us that 2 to the n is now 1 mod 55 instead of mod 53.
But this time we can't use Fermat's little theorem
to deduce that the smallest number of shuffles is 54
because 55 isn't a prime number.
So how do we get round this difficulty?
Well, if 55 divides exactly into 2 to the n minus 1,
then so do 5 and 11, and these are both primes.
So we can apply Fermat's little theorem to each one,
telling us that 2 to the 4 is 1 mod 5.
And 2 to the 10 is 1 mod 11.
How do we combine these?
Raising the first one to the fifth power tells us that 2 to the 20 is 1 mod 5,
and squaring the second one tells us 2 to the 20 is also 1 mod 11.
And combining these, which we're allowed to do,
tells us that 2 to the 20 is 1 mod 55.
So the pack is restored to its original order after 20 shuffles.
And we can check as before that no smaller number of shuffles works.
So the answer to our original problem is 20 shuffles.
Raymond, can you possibly add a piece of paper?
We've just used Fermat's result that the prime p does not divide the number a,
then h to the p minus 1 can be divided exactly by p.
That is, h to the p minus 1 is 1 mod p.
But what can we say if we replace p by a number that isn't prime?
Unlikely, as it may seem, and we'll see in a minute,
our answer, which is due to Euler, arises in cryptography,
which will be our final example and is fundamental in such security issues
as how our credit cards be kept safe.
So number theory can be used to solve problems
that are even more important than the shuffling of cards.
Now, just as Fermat's result tells us that the number a raised to the power p minus 1
is 1 mod multiple p.
So Euler's more general formula tells us that for two numbers a and n,
a raised to some power is 1 more than the multiple of n.
But what is this power?
It's called Euler's totion function, or phi function,
denoted at Gauss's suggestion by the Greek letter phi.
Given any whole number n,
phi of n counts the numbers up to n that have no factors in common with n.
For example, if n is 10, the number with factors in common with 10
are the even numbers 2, 4, 6 and 8, and the numbers 5 and 10 itself.
So the only numbers with no factors in common with 10
are 1, 3, 7 and 9, and there are four of them.
So phi of 10 is 4.
Likewise, if n is 12, then the numbers who count are 1,
not 2, 3 or 4, 5, not 6, 7, not 8, 9 or 10, 11, not 12,
so phi of 12 is also 4.
And we can easily check that for any prime number p,
phi of p is p minus 1 because we don't count p itself.
And this tells us that if p is prime,
then Euler's theorem reduces to Fermat's theorem, which we had above.
And we can also prove that if p and q are both primes,
then phi of their product, pq, is p minus 1 times q minus 1.
For example, and we'll need this in a minute,
1,073 is the product of the primes 29 and 37.
So phi of 1,073 is 29 minus 1 times 37 minus 1,
28 times 36 or 1,08.
So now at last, in the last five minutes, to our credit cards.
RSA cryptography is named after the initials of Revesh,
Shamir, a Edelman, who found it in 1978,
not knowing that it had earlier been invented at Bletchley Park
by Cliff Cox, but kept secret.
Now this may look daunting,
but don't worry too much about the details just yet.
The main points are that the whole process of securing your credit cards
appears on this one page,
and that at one stage it uses Euler's theorem.
It also relies on the fact that we can easily multiply
two prime numbers together,
but we can't usually go the other way around.
Even we can multiply 7 and 13 to give 91,
but turning it around, factorising 91 and 7 plus times 13,
wasn't immediately obvious.
And for large primes,
multiplying is effectively a one-way process,
like squeezing toothpaste from a tube
or breaking eggs to make an omelet.
So let me now just explain why your credit cards are safe.
Suppose that Alice wishes to send a secret message to Bob
in such a way that it cannot be intercepted by an eavesdropper,
sometimes called Eve.
Bob first selects two prime, large primes,
with maybe 200 digits each,
and multiplies them to give the number N is PQ.
In our simplified example,
P and Q were 29 and 37,
and N is their product 1,073.
Bob then calculates 5N, as we did earlier,
and we got 1,088.
And he then chooses a number E with no factors in common with it.
Here he's chosen E to be 11.
He then publicly announces the two numbers,
capital N and E,
but not P and Q, its factors, which only he knows.
So N and E are the public key,
which is known to anyone who wants to find it out.
Now, to encode her message, Alice first converts it to numerical form,
for example, by taking A as 1, B as 2, and so on,
and calls it capital M.
So M is the message.
When E and capital N,
she then calculates M to the power E,
and takes the result mod N and causes capital E.
This is her coded message, which she sends to Bob.
So she knows E and N,
and she knows her own message M,
she calculates N to the E mod N,
and that's the message that she sends to Bob.
Bob now has to decode it,
because E and phi of N have no factors in common,
it can be shown that there are numbers...
Whoops.
Because E and phi of N have no factors in common,
it can be shown that there are numbers little M and little N,
satisfying this equation here,
so that M times E is 1 mod phi N,
and from this, he can calculate M.
So, basically, there's a method of calculating this number, little M.
In our example, 11M was 1 mod 1008,
and Bob can then calculate M to be 275.
And this is where Euler's theorem comes in.
M to the power phi N is 1 mod phi N.
And it follows from this by a line of algebra,
which I won't go into,
that calculating E to the M mod N gives Alice's message M.
Alice's message is E to the, in this case, 2 to the 75 mod 1073.
Don't worry about the details.
The important thing is that the whole process simply relies on two calculations.
Alice calculates N to the E mod N,
Bob calculates E to the M mod N,
and that is the whole of the reason that your credit card is secure.
And I hope you'll remember that next time you use your credit card.
And if not, then the obvious place to look it up,
and all the other topics and problems I've been talking about,
and much else besides, is in the book I've been launching today.
May I encourage you to give it to all your friends for Christmas
in order to solve your Christmas present problems for this year?
Moreover, you'll probably lose all your friends as a result,
so this will solve your Christmas present problems next year too.
Thank you for listening.
